{
  "article_text": [
    "we begin by heading straight for a statement of our main result . and  [ sec : notion_convergence ] .",
    "after stating our main result , the remainder of introduction provides motivation and an overview of its proof , particularly the novel aspects of said proof . ]",
    "a graph is _ simple _ if it has no loops or multiple edges . for integer @xmath5 ,",
    "let @xmath6 be the set of pairs @xmath7 , where @xmath8 is an @xmath2-vertex simple triangulation of the sphere @xmath1 , and @xmath9 is a corner of @xmath8 . also , for integer @xmath10 , let @xmath11 be the set of pairs",
    "@xmath7 with @xmath8 an @xmath2-vertex simple quadrangulation of @xmath1 and @xmath9 a corner of @xmath8 .",
    "then let @xmath12 be one of the sequences @xmath13 or @xmath14 .",
    "[ thm : main ] for @xmath10 , let @xmath15 be a uniformly random element of @xmath16 . write @xmath17 for the set of vertices of @xmath0 , let @xmath18 be graph distance in @xmath0 and let @xmath19 be the uniform probability measure on @xmath17 . finally , let @xmath20 if @xmath21 and let @xmath22 if @xmath23 .",
    "then , as @xmath24 , @xmath25 for the gromov  hausdorff ",
    "prokhorov distance , where @xmath26 is the brownian map .",
    "we recall the definition of the brownian map in section  [ sec : limitobject ] , below .",
    "our proof relies upon the remarkable work of miermont @xcite and , independently , le gall @xcite , which both established convergence for general ( non - simple ) random quadrangulations .",
    "in particular , our results do not constitute an independent proof of uniqueness of the limit object .",
    "a discussion of the constants in the above theorem , and their relation with those from @xcite , appears in appendix  [ sec : notes ] .    the part of theorem  [ thm : main ] pertaining to simple triangulations ( sometimes called _ type - iii _ triangulations ; see @xcite ) answers a question of le gall @xcite and le gall and beltran @xcite .",
    "one general motivation for establishing convergence to the brownian map is its conjectured role as a universal limit object for a wide range of random map ensembles .",
    "however , the case of simple triangulations holds additional interest due to the conjectured link between the brownian map and the liouville quantum gravity constructed by duplantier and sheffield @xcite ; see @xcite for further discussion of this connection .",
    "le gall @xcite proved that the brownian map is almost surely homeomorphic to the @xmath27-sphere ( see also @xcite ) .",
    "however , homeomorphism equivalence is too weak , for example , to deduce conformal information or to prove dimensional scaling relations . for these ,",
    "a canonical embedding of the brownian map in @xmath1 is needed ( or at least would be very useful ) .",
    "for any simple triangulation @xmath8 of @xmath1 , the koebe - andreev - thurston theorem ( see , e.g. , @xcite , chapter 7 ) provides a _",
    "canonical circle packing _ in @xmath1 , unique up to conformal automorphism , whose tangency graph is @xmath8 ; see figure  [ fig : first ] for an illustration of a random circle packing .",
    "( this uniqueness holds only for simple triangulations ; for a uniformly random ( non - simple ) triangulation @xmath28 with @xmath2 vertices , for example , the number of degrees of freedom in a circle packing with tangency graph @xmath28 is typically linear in @xmath2 . )",
    "the uniqueness provides hope that the conformal properties of the brownian map can be accessed by studying the circle packings associated to large random simple triangulations    we deduce theorem  [ thm : main ] from a result which provides more general sufficient conditions for a sequence @xmath29 of random planar maps to converge in distribution to the brownian map .",
    "more precisely , theorem  [ prop : cstriple ] states conditions under which , after suitably rescaling distances , and endowed with the uniform probability measure on its vertex set , @xmath0 converges in distribution to the brownian map for the gromov  hausdorff ",
    "prokhorov distance .",
    "the approach of theorem  [ prop : cstriple ] has its genesis in work of chassaing and schaeffer @xcite , and is based on bijective codings of maps by labelled plane trees .",
    "we refer to ensembles satisfying the conditions of theorem  [ prop : cstriple ] as _ chassaing ",
    "schaeffer families_.    we hope theorem  [ prop : cstriple ] will be useful in proving convergence for other random map models , in particular for models falling within the framework of the `` master bijection '' of bernardi and fusy @xcite and of the general bijection for blossoming trees , very recently established by albenque and poulalhon @xcite . with this in mind , we have tried to state rather general conditions , which we summarize in section  [ sec : csrequirements ] .",
    "the proof of theorem  [ prop : cstriple ] is a fairly straightforward generalization of existing arguments ( mostly due to jean - franois le gall ) , and we defer it to an appendix .",
    "while the conditions under which we establish convergence to the brownian map are rather general , _ verifying _ that a discrete random map ensemble satisfies these conditions can be rather involved .",
    "in many map ensembles of interest , the primary missing link is a labelling rule for the vertices of a canonical spanning tree of the map , such that vertex labels encode distances to a specified root vertex . for the case of random simple triangulations and quadrangulations ,",
    "we provide a labelling that does not _ precisely _ encode distances , but we show that the error is insignificant in the limit .",
    "intriguingly , for distances to a specified root vertex , the error in the label is bounded by the _ winding number _ of an associated closed loop in the map . in section  [ sec :",
    "overview ] , we briefly describe the bijection between simple triangulations and certain labelled trees , on which our proof of theorem  [ thm : main ] is based , and further discuss the role of winding numbers .",
    "the appearance of a winding number hints that a discrete complex - analytic perspective may shed further light on the shape of geodesics in random simple triangulations and eventually in the brownian map .",
    "one requirement of theorem  [ prop : cstriple ] is the convergence of a suitable spatial branching process , after renormalization , to the brownian snake .",
    "such convergence is known in many settings , but in others lack of symmetry ( symmetry between the labels of children of a single node , in the coding of maps by labelled trees ) has posed an obstacle .",
    "we introduce a technique we call _ partial symmetrization _ , in which we hold a `` representative subtree '' fixed while randomly permuting the children of individuals not within the subtree .",
    "this introduces enough symmetry that we may appeal to known results to establish convergence to the brownian snake . on the other hand , fixing a large subtree allows the partially symmetrized process to be related to the original labelled tree and so to the associated map .",
    "a detailed explanation of the partial symmetrization technique is easier to provide for a specific bijection , and we defer it to section  [ sec : snake ] .",
    "we believe partial symmetrization may be used to show that the multi - type spatial branching processes coding random @xmath30-angulations ( for odd @xmath31 ) converge to the brownian snake .",
    "given the work of miermont @xcite and of le gall @xcite , this is the only missing element in a proof that @xmath30-angulations ( and perhaps more general random maps with degrees given by suitable boltzmann weights ) converge to the brownian map .",
    "we expect to return to this in a subsequent work .",
    "given an interval @xmath32 or @xmath33 and a function @xmath34 , for @xmath35 with @xmath36 we write @xmath37 } f(x)$ ] , @xmath38 .",
    "we additionally let @xmath39 for all @xmath40 .",
    "let @xmath41 be a standard brownian excursion and , conditional on @xmath42 , let @xmath43 be a centred gaussian process such that @xmath44 and for @xmath45 , @xmath46 we may and shall assume @xmath47 is a.s .",
    "continuous ; see  ( * ? ? ?",
    "* section iv ) for a more detailed description of the construction of the pair @xmath48 .",
    "next , define an equivalence relation @xmath49 as follows . for @xmath50 let @xmath51 if @xmath52 .",
    "it can be verified that almost surely , for all @xmath53 $ ] , if @xmath51 then @xmath54 ,",
    "so we may view @xmath47 as having domain @xmath55/\\sim_{{\\mathbf{e}}}$ ] .",
    "next , for @xmath53 $ ] let @xmath56 then let @xmath57 be the largest pseudo - metric on @xmath55 $ ] satisfying that ( a ) for all @xmath58 $ ] , if @xmath59 then @xmath60 , and ( b ) @xmath61 .",
    "let @xmath62/\\{d^*=0\\}$ ] , and let @xmath63 be the push - forward of @xmath57 to @xmath64 .",
    "finally , let @xmath65 be the push - forward of lebesgue measure on @xmath55 $ ] to @xmath64 .",
    "the ( measured ) _ brownian map _ is ( a random variable with the law of ) the triple @xmath26 .",
    "this name was first used by marckert and mokkadem @xcite , who considered a notion of convergence for random maps different from that of the present work .    for later use ,",
    "let @xmath66 be the equivalence class of the point @xmath67 , and , writing @xmath68 $ ] for the point where @xmath47 attains its minimum value ( this point is almost surely unique ) , let @xmath69 be the equivalence class of @xmath70 .",
    "then corollary  7.3 of @xcite states that for @xmath71 and @xmath72 uniformly distributed on @xmath55 $ ] , independent of @xmath47 and of each other , @xmath73      our argument leans heavily on the _ rerooting invariance _ of the brownian map ( ( [ eq : invariance_rerooting ] ) , above ) .",
    "given the convergence of some discrete ensemble to the brownian map , if the discrete ensemble possesses rerooting invariance then this can be transferred to the brownian map .",
    "however , to date this is the only known technique for establishing rerooting invariance of the brownian map ( and the key reason why our results depend on those of @xcite ) .    informally , to prove convergence",
    "we need that the random rooted map @xmath0 can in some sense be described by a suitable pair of random functions @xmath74 \\to [ 0,\\infty)$ ] and @xmath75 \\to { \\mathbb{r}}$ ]",
    ". often @xmath76 will be the ( spatially and temporally rescaled , clockwise ) contour process of some canonical rooted spanning tree @xmath77 of @xmath0 , and for the sake of this informal description we assume this to be so . to establish convergence",
    "we require ( versions of ) the following . in what follows",
    "let @xmath78 $ ] be such that @xmath79 , and write @xmath80 for ( suitably rescaled ) graph distance on @xmath17 .    1 .",
    "* distances to the minimum given by @xmath81 .",
    "* there is a vertex @xmath82 such that for all vertices @xmath83 , if a clockwise contour exploration of @xmath84 visits @xmath83 at time @xmath85 then @xmath86 is @xmath87 , where @xmath88 represents an error that tends to zero in probability as @xmath24 .",
    "distance bound via clockwise geodesics to the minimum . * for any pair of vertices @xmath89 of @xmath0 , if a clockwise contour exploration of @xmath84 visits @xmath83 and @xmath90 at times @xmath85 and @xmath91 , respectively , then @xmath92 is bounded from above by @xmath93 3 .   *",
    "coding by the brownian snake .",
    "* the pair @xmath94 converges in distribution to @xmath48 , for the topology of uniform convergence on @xmath95,{\\mathbb{r}})^2 $ ] .",
    "* invariance under rerooting . * if @xmath96 are independent , uniformly random vertices of @xmath0 , then @xmath97 is asymptotically equal in distribution to @xmath98 .",
    "briefly , given these properties the proof then proceeds as follows .",
    "our argument closely follows one used by le gall to prove convergence of rescaled random ( non - simple ) triangulations to the brownian map , once convergence for quadrangulations is known ( ( * ? ? ?",
    "* section 8) ) .",
    "it is useful to reparameterize so that all the metrics and pseudo - metrics under consideration are functions from @xmath55 ^ 2 $ ] to @xmath99 ; this can be accomplished by identifying the vertices of each metric space @xmath0 with a subset of @xmath55 $ ] and using bilinear interpolation .",
    "first , 1 .  and 2 .  together",
    "can be used to prove tightness of the sequence of laws of the functions @xmath100 , which implies convergence along subsequences .",
    "thus , let @xmath101 ^ 2 \\to [ 0,\\infty)$ ] be a subsequential limit of @xmath80 .",
    "our aim is to show that almost surely @xmath63 and @xmath57 ( defined in section  [ sec : limitobject ] ) are equal in law .",
    "next ,  1 .  says that distances to the point of minimum label are given by @xmath102 , a limiting analogue of which is also true in the brownian map .",
    "invariance under rerooting 4 .  and ( [ eq : invariance_rerooting ] ) then yields that for @xmath103 independent and uniform on @xmath55 $ ] , @xmath104 is the limit in distribution of @xmath105 , so by 3 .",
    "we obtain @xmath106 .    finally , 2 .",
    "gives a bound on @xmath80 that is a finite-@xmath2 analogue of @xmath107 ( recall ( [ eq : dzdef ] ) ) . since @xmath57 is maximal subject to @xmath61 , 3 .",
    "then yields that @xmath63 is stochastically dominated by @xmath57 .",
    "in other words , by working in a suitable probability space ( i.e. choosing an appropriate coupling ) , we may assume @xmath108 for almost every @xmath109 ^ 2 $ ] .",
    "the fact that @xmath110 then implies @xmath63 and @xmath57 are almost everywhere equal , so have the same law .      in this section ( and throughout much of the rest of the paper ) , we restrict our attention to simple triangulations , as the details for simple quadrangulations are nearly identical .",
    "fix a pair @xmath111 with @xmath112 a simple triangulation of @xmath1 and @xmath9 a corner of @xmath112 .",
    "view @xmath112 as embedded in @xmath113 so the face containing @xmath9 is the unique unbounded ( outer ) face . with this embedding , list the vertices of the face containing @xmath9 in clockwise order as @xmath114 , with @xmath83 incident to @xmath9 .",
    "a _ @xmath115-orientation _ of @xmath111 is an orientation @xmath116 of @xmath117 such that in @xmath116 , @xmath118 , and @xmath83 have outdegrees @xmath119 , and @xmath27 , respectively , and all other vertices have outdegree three .",
    "@xcite showed @xmath111 admits a 3-orientation if and only if @xmath112 is simple , and in this case admits a _ unique _ 3-orientation containing no counterclockwise cycles ( we say an oriented cycle is _ clockwise _ if @xmath9 is on its left , and otherwise say it is counterclockwise ) ; this @xmath115-orientation is called _",
    "minimal_. let @xmath116 be the minimal 3-orientation of @xmath111 .",
    "the definitions of the following paragraph are illustrated in figure  [ fig : intro ] .",
    "a subtree of @xmath112 containing the vertex @xmath83 incident to @xmath9 is _ oriented _ if all edges of the subtree are oriented towards @xmath83 in @xmath116 .",
    "it turns out there is a unique oriented subtree @xmath120 of @xmath112 on vertices @xmath121 which is _ minimal _ in the sense that for all edges @xmath122 with @xmath123 , if @xmath124 attaches to @xmath125 and @xmath126 in corners @xmath127 and @xmath128 , respectively , then @xmath127 precedes @xmath128 in a clockwise contour exploration of @xmath120 starting from @xmath9 .",
    "we endow this tree @xmath120 with a labelling @xmath129 as follows . for @xmath130 with @xmath131 ,",
    "the _ leftmost oriented path _ from @xmath132 to @xmath133 is the unique oriented path @xmath134 with the following two properties : ( i ) @xmath135 , @xmath136 ; ( ii ) for @xmath137 , if @xmath138 and this edge attaches to the path @xmath139 on the left , then @xmath140 . for each vertex",
    "@xmath141 distinct from @xmath83 , there are three such paths starting at @xmath125 ( since @xmath125 has outdegree three in @xmath116 ) ; we let @xmath142 be one of the shortest such paths .",
    "then let @xmath143 , the number of vertices in @xmath144 .",
    "surprisingly , @xmath111 may be recovered from the pair @xmath145 .",
    "more strongly , the above transformation is a bijection mapping planted simple planar triangulations to a certain set of `` validly labelled '' planted plane trees .",
    "this bijection is essentially due to poulalhon and schaeffer  @xcite , but the connection of vertex labels with the lengths of certain oriented paths is new .    since @xmath146 is the number of vertices on a certain path from @xmath125 to @xmath133",
    ", @xmath147 is an upper bound on @xmath148 , the graph distance between @xmath125 and @xmath133 in @xmath112 .",
    "it turns out that @xmath149 is bounded by twice the number of times a _",
    "shortest _ path in @xmath112 from @xmath125 to @xmath133 winds clockwise around the _ leftmost _ path @xmath150 .",
    "more strongly , if @xmath151 and @xmath152 is a path from @xmath153 to @xmath154 disjoint from @xmath144 except at its endpoints , then @xmath155 , and @xmath156 ( i.e.  @xmath152 is a shortcut from @xmath153 to @xmath154 ) only if @xmath152 leaves @xmath153 on the right and rejoins @xmath154 on the left .",
    "this fact allows @xmath149 to be controlled as follows .",
    "let @xmath157 .",
    "if @xmath152 is a shortcut from @xmath153 to @xmath154 then the union of @xmath152 and @xmath158 forms a cycle @xmath159 with @xmath160 or @xmath161 vertices .",
    "if there are @xmath162 shortcuts between @xmath125 and @xmath133 and @xmath152 is the @xmath163th one , then all vertices of @xmath159 have distance at least @xmath163 both from @xmath133 and from @xmath125 .",
    "it will follow that typically ( i.e. , for random @xmath112 ) , when @xmath163 and @xmath164 are both large ( of order @xmath165 ) then @xmath166 should also be large ( of order @xmath165 ) , or else @xmath112 would contain a cycle of length @xmath167 separating two macroscopic regions .",
    "on the other hand , a `` shortcut '' of length of order @xmath165 is rather long ; we will straightforwardly show that typically the diameter of @xmath112 will be @xmath168 , in which case there can be at most a bounded number of such long shortcuts on any path .",
    "a rigorous version of this argument allows us to show that typically , for all @xmath169 , @xmath149 is much smaller than @xmath165 . in other words , after rescaling , the labels @xmath170 with high probability provide good approximations for distances to the root @xmath133 .",
    "this essentially proves 1 .  from section  [ sec : csrequirements ] .",
    "a modification of the above argument establishes without too much difficulty that for @xmath171 with @xmath125 preceding @xmath126 in lexicographic order , @xmath172 is bounded by @xmath173 , where @xmath174 is the smallest value @xmath175 for any vertex @xmath176 following @xmath125 and preceding @xmath126 in lexicographic order .",
    "this will establish ( 2 ) from section  [ sec : csrequirements ] .    to establish ( 3 ) we use `` partial symmetrization '' as previously discussed .",
    "finally , rerooting invariance , ( 4 ) , will be a straightforward consequence of choosing a random root corner .",
    "having verified all the conditions of our general convergence result ( whose proof was already sketched ) , theorem  [ thm : main ] for simple triangulations then follows immediately .",
    "an essentially identical development establishes theorem  [ thm : main ] for simple quadrangulations .",
    "we conclude the introduction by fixing some basic notation , in section  [ sec : notation ] . in section  [ sec : pgpt ]",
    "we provide definitions related to planar maps and plane trees , many of which are standard . in section",
    "[ sec : notion_convergence ] we introduce the gromov",
    " hausdorff distance and mention some of its basic properties . in section  [ sec : cstriples ]",
    "we formally state our `` universality '' result , providing general sufficient conditions for a random map ensemble to converge to the brownian map ; proofs are deferred to appendix  [ sec : cstripleproof ] . in section",
    "[ sec : bij - bloss - trees ] we describe the bijections for simple triangulations and quadrangulations on which our proof of theorem  [ thm : main ] is based . in section  [ sec : snake ] we prove convergence of the spatial branching process associated to a random simple triangulation to the brownian snake ; this is where partial symmetrization appears . in section  [ sec : label_dist_determinist ]",
    "we study the relation of distances with labels ; this is where winding numbers appear . in section  [ sec : label_approx ]",
    ", we use the bounds of section  [ sec : label_dist_determinist ] to show that our labelling provides a sufficiently close approximation of distances in random simple triangulations that the associated conditions of theorem  [ prop : cstriple ] are satisfied . in section",
    "[ sec : mainthm ] we establish rerooting invariance and so complete the proof of theorem  [ thm : main ] . finally , section  [ seq : quad ] proves theorem  [ thm : main ] for quadrangulations , and appendix  [ sec : notes ] contains a derivation of the numerical constants from theorem  [ thm : main ] .      for the remainder of the paper , all graphs",
    "are connected , finite , simple ( i.e. without loops nor multiple edges ) and planar .",
    "let @xmath177 be such a graph . given a vertex @xmath178 we write @xmath179 for the degree of @xmath83 in @xmath112 , and",
    "sometimes write @xmath180 when @xmath112 is clear from context .",
    "if @xmath181 we say @xmath132 is _ incident _ to @xmath83 .",
    "we write @xmath182 for graph distance on @xmath112 .",
    "given @xmath183 , we write @xmath184 $ ] for the graph with vertices @xmath185 and edges @xmath186 .",
    "an _ oriented edge _ of @xmath112 is an ordered pair @xmath124 , where @xmath131 ; we call @xmath124 an _ orientation _ of @xmath187 .",
    "an orientation of @xmath112 is a set @xmath188 , where for each @xmath189 , @xmath190 is an orientation of @xmath132 .",
    "the _ outdegree _ of @xmath178 ( with respect to @xmath116 ) is @xmath191 .    if @xmath192 is any sequence of objects , we say that @xmath64 has length @xmath193 and write @xmath194 .",
    "a _ path _ in @xmath112 is a sequence @xmath195 of vertices of @xmath112 with @xmath196 for @xmath197 ; we say @xmath198 is a path from @xmath199 to @xmath200 , and note that @xmath201 .",
    "a path is _ simple _ if all its vertices are distinct .",
    "a _ cycle _ in @xmath112 is a path @xmath202 such that @xmath203 ; it is _ simple _ if @xmath139 is a simple path . if @xmath112 is a _ tree _ ( connected and acyclic ) then for @xmath204 we write @xmath205 for the unique ( shortest ) path in @xmath112 from @xmath125 to @xmath83 . finally , for a non - negative integer @xmath163 , write @xmath206=\\{0,1,\\ldots , k\\}$ ] ,",
    "a _ planar embedding _ of @xmath112 is a function @xmath207 satisfying the following properties .    1",
    ".   the restriction @xmath208 is injective .",
    "2 .   for each @xmath209 , @xmath210 is a simple curve with endpoints @xmath211 and @xmath212 .",
    "3 .   for any two edges @xmath213 , the curves @xmath210 and @xmath214 are disjoint except possibly at their endpoints .",
    "the pair @xmath215 is called a _",
    "planar map_. the faces of @xmath215 are the connected components of @xmath216 . given a face @xmath217 the vertices and edges incident to @xmath217",
    "are given by the set @xmath218 , where @xmath219 is the boundary of @xmath217 .",
    "two planar maps are _ isomorphic _ if there exists an orientation - preserving homeomorphism of @xmath1 that sends one to the other .",
    "it is easily verified that planar map isomorphism is an equivalence relation .    for any planar map @xmath215 , for each vertex @xmath178",
    "there is a unique cyclic ( clockwise ) ordering @xmath220 of the edges incident to @xmath83 .",
    "furthermore , up to isomorphism , the set of orderings @xmath221 uniquely determines @xmath215 .",
    "we may therefore specify the isomorphism equivalence class of @xmath215 by providing @xmath112 and the set of cyclic orderings associated to @xmath215",
    ". we will henceforth denote ( a representative from the isomorphism equivalence class of ) a planar map simply by @xmath112 , leaving implicit both @xmath222 and its associated cyclic orderings .    for the remainder of section  [ sec : pg ] ,",
    "consider a fixed planar map @xmath112 . a _ corner of @xmath112 incident to @xmath83 _ is an ordered pair @xmath223 where @xmath132 and @xmath224 are incident to @xmath83 and @xmath224 follows @xmath132 in the clockwise order around @xmath83 and we also say that @xmath132 and @xmath224 are incident to @xmath9 . , which can happen if @xmath225 .",
    "] we write @xmath226 for the vertex incident to @xmath9 in @xmath112 .",
    "we write @xmath227 for the set of corners of @xmath112 . finally ,",
    "if @xmath228 and @xmath229 , and @xmath217 is the face on the left when following @xmath132 and @xmath224 from @xmath125 through @xmath83 to @xmath126 , then we say @xmath223 is incident to @xmath217 and vice - versa .",
    "the _ degree _ of @xmath217 is the number of corners incident to @xmath217 .",
    "the planar map @xmath112 is a _ triangulation _ or a _ quadrangulation _",
    "if all its faces have respectively degree 3 or degree 4 .",
    "given @xmath230 , write @xmath231 ( respectively , @xmath232 ) for the corner incident to @xmath125 and to @xmath233 that is on the left ( respectively , on the right ) when following @xmath132 from @xmath125 to @xmath83 .",
    "a _ planted planar map _ is a pair @xmath111 , where @xmath112 is a planar map and @xmath234 .",
    "we call @xmath9 the _ root corner _ of @xmath111 , call @xmath235 its _ root vertex _ , and call the face of @xmath112 incident to @xmath9 its _ root face_. if @xmath236 is a connected subgraph of @xmath112 containing @xmath9 , then @xmath237 is again a planar map , and we call it a _ planted submap _ of @xmath111 .      a plane tree ( resp . planted plane tree ) is a planar map @xmath112 ( resp .",
    "planted planar map @xmath111 ) such that @xmath112 is a tree where @xmath120 is a plane tree and @xmath83 is a degree - one vertex of @xmath120 .",
    "our definition , which is equivalent , can be recovered by deleting the plant vertex and its incident edge , and rooting at the corner thereby created . ] .",
    "if @xmath238 is a planted plane tree then recalling that @xmath235 is the root vertex of @xmath239 , we may speak of parents , children , ancestors , descendants in the usual way .",
    "in particular , for each @xmath240 we write @xmath241 for the parent of @xmath126 .",
    "the _ ulam  harris encoding _ is the injective function @xmath242 defined as follows ( let @xmath243 by convention ) .",
    "first , set @xmath244 .",
    "for every other vertex @xmath245 , consider the unique path @xmath246 from @xmath235 to @xmath126 .",
    "for @xmath247 let @xmath248 be such that @xmath249 is the @xmath248th child of @xmath250 , in cyclic order around @xmath250 starting from @xmath251 if @xmath252 or from @xmath9 if @xmath253 .",
    "then set @xmath254 .",
    "in other words , the root receives label @xmath255 and for each @xmath256 the label of any @xmath257th child is obtained recursively by concatenating the integer @xmath257 to the label of its parent .",
    "it is easily verified that ( the isomorphism class of ) @xmath239 can be recovered from the set of labels @xmath258 .",
    "the _ lexicographic ordering _",
    "@xmath259 of @xmath260 is the total order of @xmath260 induced by the lexicographic order on @xmath258 .",
    "this ordering induces a lexicographic ordering of @xmath261 ( also denoted @xmath259 by a slight abuse of notation ) by defining @xmath262 if and only if @xmath263 or @xmath264 .",
    "these are the orders in which a clockwise contour exploration of the plane tree @xmath120 starting from @xmath9 first visits the vertices and edges of @xmath120 , respectively . for @xmath141 , list the children of @xmath125 in lexicographic order as @xmath265 , where @xmath266}}$ ] is the number of children of @xmath125 in @xmath120 .",
    "the _ contour _ exploration @xmath267 \\to v(t)$ ] is inductively defined as follows .",
    "let @xmath268 .",
    "then , for @xmath269 , let @xmath270 be the lexicographically first child of @xmath271 that is not an element of @xmath272 , or let @xmath270 be the parent of @xmath271 if no such node exists .",
    "note that each vertex @xmath273 appears @xmath274 times in the contour exploration , and @xmath235 appears @xmath275 times .",
    "the contour exploration induces an ordering of @xmath276 , as follows . for @xmath277 ,",
    "let @xmath278 .",
    "then let @xmath279 , and for @xmath280 let @xmath281 . the _",
    "contour ordering _",
    ", denoted @xmath282 , is the total order of @xmath276 induced by @xmath283 . for convenience , also let @xmath284 .",
    "finally , write @xmath285 for the cyclic order on @xmath276 induced by @xmath286 .",
    "it can be verified that @xmath287 does not depend on the choice of root corner @xmath9 .",
    "given @xmath288 , we say that @xmath83 is the _ successor _ of @xmath125 if @xmath289 and for all @xmath245 , if @xmath290 then @xmath291 or @xmath292 .",
    "we define successorship for corners in a similar fashion .    given a plane tree @xmath238 and a set @xmath293 with @xmath294 , the _ reduced tree _",
    "@xmath295 is the unique planted plane tree @xmath296 such that the following hold : ( i ) @xmath297 ; ( ii ) for @xmath298 , @xmath299 if and only if one of @xmath300 is an ancestor of the other in @xmath239 and @xmath301 ; and ( iii ) the order @xmath302 of @xmath303 is the restriction of @xmath304 to @xmath303 .",
    "also , the subtree of @xmath239 _ spanned _ by @xmath303 , denoted @xmath305 , is the subtree of @xmath239 induced by the union of the shortest paths between all pairs of vertices in @xmath303 .",
    "note that @xmath305 naturally inherits a planted plane tree structure from @xmath239 .",
    "a _ labelled planted plane tree _ is a triple @xmath306 , where @xmath307 is a planted plane tree and @xmath308 is an arbitrary function . given a labelled plane tree , define a function @xmath309 as follows .",
    "first , let @xmath310 .",
    "next , given @xmath141 with @xmath311 already defined , for @xmath312 let @xmath313 .    now define @xmath95,{\\mathbb{r}})$ ] functions @xmath314 and @xmath315 by setting @xmath316 for @xmath317 , and extending each function to @xmath55 $ ] by linear interpolation .",
    "we refer to @xmath314 as the _ contour process _ of @xmath239 .",
    "note that the definition of @xmath314 does not depend on the function @xmath318 , so we may in fact view @xmath159 as a function of the planted plane tree @xmath307 and write @xmath319 instead of @xmath314 .",
    "given a planar map @xmath112 , a _ spanning tree _ of @xmath320 is a subgraph @xmath120 of @xmath112 such that @xmath120 is a tree with @xmath321 .",
    "if @xmath111 is a planted planar map and @xmath120 is a spanning tree of @xmath112 then we call @xmath307 a planted spanning tree of @xmath111 .    finally , given a planted planar map @xmath322 and an orientation @xmath116 of @xmath117 , we say that a planted spanning tree @xmath307 of @xmath320 is _ oriented _ with respect to @xmath116 if in the orientation of @xmath261 obtained from @xmath116 by restriction , all edges are oriented towards @xmath235 .",
    "for proofs of the assertions in this section , and for further details , we refer the reader to @xcite .",
    "let @xmath323 and @xmath324 be compact metric spaces .",
    "given @xmath325 , the _ distortion _ of @xmath159 , denoted @xmath326 , is the quantity @xmath327 a _ correspondence _ between @xmath328 and @xmath329 is a set @xmath330 such that for every @xmath331 there is @xmath332 such that @xmath333 and vice versa .",
    "we write @xmath334 for the set of correspondences between @xmath335 and @xmath336 .",
    "the gromov  hausdorff distance @xmath337 between metric spaces @xmath338 and @xmath339 is @xmath340 we list without proof some basic properties of @xmath341 .",
    "let @xmath342 be the set of isometry classes of compact metric spaces .    1",
    ".   given metric spaces @xmath338 and @xmath339 , there exists @xmath343 such that @xmath344 .",
    "2 .   if @xmath345 and @xmath346 are isometric , and @xmath347 and @xmath348 are isometric , then @xmath349 .",
    "in other words , @xmath341 is a _ class function _ for @xmath342 .",
    "3 .   the push - forward of @xmath341 to @xmath342 ( which we continue to denote @xmath341 ) is a distance on @xmath342 , and @xmath350 is a complete separable metric space .",
    "a _ @xmath163-pointed metric space _ is a triple @xmath351 where @xmath352 is a metric space and @xmath353 for @xmath247 .",
    "we say @xmath163-pointed metric spaces @xmath354 and @xmath355 are _ isometry - equivalent _ if there exists a bijective isometry @xmath356 such that @xmath357 for @xmath247 .",
    "@xmath163-pointed gromov ",
    "hausdorff distance _",
    "@xmath358 between @xmath359 is given by @xmath360 much as before , if @xmath361 is the set of isometry - equivalence classes of @xmath163-pointed compact metric spaces , then @xmath358 is a class function for @xmath361 so may be viewed as having domain @xmath361 , and @xmath362 then forms a complete separable metric space .      following @xcite , a _ weighted metric space _ is a triple @xmath363 such that @xmath352 is a metric space and @xmath65 is a borel probability measure on @xmath352",
    ". weighted metric spaces @xmath363 and @xmath364 are _ isometry - equivalent _ if there exists a measurable bijective isometry @xmath365 such that @xmath366 , where @xmath367 denotes the push - forward of @xmath65 under @xmath222 .",
    "write @xmath368 for the set of isometry - equivalence classes of weighted compact metric spaces .    given weighted metric spaces @xmath369 and @xmath370 , a _ coupling _ between @xmath65 and @xmath371 is a borel measure @xmath372 on @xmath373 ( for the product metric ) with @xmath374 and @xmath375 , where @xmath376 and @xmath377 are the projection maps .",
    "let @xmath378 be the set of couplings between @xmath65 and @xmath371 .",
    "the _ gromov  hausdorff ",
    "prokhorov distance _ is defined by @xmath379 the push - forward of @xmath380 to @xmath381 , which we again denote @xmath380 , is a distance on @xmath381 , and @xmath382 is a complete separable metric space ( see ( * ? ? ?",
    "* section 6 ) and ( * ? ? ? * section 2 ) ) .",
    "in this section we describe conditions under which a random map ensemble converges to the brownian map .",
    "a _ spatial map - tree pair _ is a @xmath383-tuple of the form @xmath384 , such that    * @xmath238 is a planted plane tree , * @xmath385 is a planted planar map , * @xmath386 , @xmath387 and @xmath388 , and * @xmath389 is a labelling function with @xmath390 .    note that @xmath120 need not be a subgraph of @xmath8 .",
    "a _ marked _ spatial map - tree pair is a @xmath391-tuple @xmath392 such that @xmath393 is a spatial map - tree pair and @xmath394 .    given a @xmath383- or @xmath391-tuple @xmath395 as above ,",
    "let @xmath396 \\to z_{\\geq 0}$ ] and @xmath397 \\to { \\mathbb{r}}$ ] be defined by setting @xmath398 for @xmath399 and extending both functions to @xmath55 $ ] by linear interpolation ( recall that @xmath295 is the _ reduced _ tree defined in section  [ sub : planetrees ] ) .",
    "for the remainder of the section , let @xmath400 be a sequence of finite sets of marked spatial map - tree pairs , such that @xmath401 as @xmath24 .",
    "let @xmath402 be a uniformly random element of @xmath403 , and write @xmath404 and @xmath405 .",
    "we say that @xmath406 is a _ chassaing  schaeffer _ or _",
    "cs _ family if there exist sequences @xmath407 and @xmath408 such that the following three properties hold .",
    "* 1 . * as @xmath24 , @xmath409 in the topology of uniform convergence on @xmath95,{\\mathbb{r}})^2 $ ] , where @xmath48 is as described in section  [ sec : limitobject ] .",
    "( i ) for all @xmath410 , @xmath411 ( ii ) write @xmath412 for the prokhorov distance between borel measures on @xmath413 . for each @xmath2 ,",
    "conditional on @xmath414 , let @xmath96 be independent uniformly random elements of @xmath415 . then @xmath416",
    "( i ) let @xmath417 .",
    "then for all @xmath410 , @xmath418:d_{m_n}(r_{{\\ensuremath{\\mathrm{t}}}_n(r_n)}(i),r_{{\\ensuremath{\\mathrm{t}}}_n(r_n)}(j ) ) \\ge    \\right .   \\\\",
    "& \\qquad \\left .",
    "z_{{\\mathrm{p}}_n}(i / m ) + z_{{\\mathrm{p}}_n}(j / m ) -   2\\max\\left(\\check{z}_{{\\mathrm{p}}_n}(i / m , j / m),\\check{z}_{{\\mathrm{p}}_n}(j / m , i / m)\\right ) + { \\epsilon}b_n^{-1}\\right\\ } \\\\ & = 0\\ ,",
    ". \\end{aligned}\\ ] ] ( ii ) for all @xmath410 , @xmath419:d_{m_n}(r_{{\\ensuremath{\\mathrm{t}}}_n(r_n)}(j),u_n ) \\le",
    "z_{{\\mathrm{p}}_n}(j / m ) - \\check{z}_{{\\mathrm{p}}_n}(0,1 ) - { \\epsilon}b_n^{-1}\\right\\ } } = 0\\ , .\\ ] ]    for later use , we note one consequence of * 3 .  * let @xmath420 $ ] be minimal such that @xmath421 .",
    "letting @xmath257 be such that @xmath422 , * 3.*(ii ) implies that @xmath423 in other words , @xmath424 is , up to a @xmath425 correction , the smallest displacement in @xmath415 .",
    "together with * 3.*(i ) and * 3.*(ii ) this yields that , for all @xmath426 , @xmath427:|d_{m_n}(r_{{\\ensuremath{\\mathrm{t}}}_n(r_n)}(j),u_n ) - ( x_n(r_{{\\ensuremath{\\mathrm{t}}}_n(r_n)}(j))-x_n(r_{{\\ensuremath{\\mathrm{t}}}_n(r_n)}(i_n)))| > \\frac{{\\epsilon}}{b_n}\\right\\ } } \\nonumber\\\\ & \\to 0\\ , , \\end{aligned}\\ ] ] as @xmath24 .",
    "in other words , for @xmath428 , the distance @xmath429 is essentially given by the difference in labels between the associated tree vertices .",
    "[ prop : cstriple ] if @xmath406 is a cs family then , writing @xmath19 for the uniform probability measure on @xmath415 , @xmath430 for @xmath380 , where @xmath26 is as defined in section  [ sec : limitobject ] .",
    "the proof of theorem  [ prop : cstriple ] appears in appendix  [ sec : cstripleproof ] .",
    "we conclude the section by mentioning one corollary of the theorem ; we are slightly informal to avoid notational excess and as the argument is straightforward . for @xmath431 ,",
    "conditional on @xmath414 , let @xmath432 be independent with law @xmath19 . proposition 10 of @xcite implies that if the convergence in theorem  [ prop : cstriple ] holds then also @xmath433 for @xmath358 , where conditional on @xmath26 , @xmath434 are independent with law @xmath65 . by proposition 8.2 of @xcite ,",
    "conditional on @xmath26 , the points @xmath435 are independent with law @xmath65 ; by * 2.*(ii ) it follows that @xmath436 for @xmath437 .",
    "we start with a summary of the results of the section ; to do so some definitions are needed . for integer @xmath438 , a plane tree",
    "@xmath120 is a _ @xmath163-blossoming tree _",
    "if each vertex of degree greater than one is incident to exactly @xmath163 vertices of degree one . if @xmath120 is a @xmath163-blossoming tree ( for some @xmath163 ) , we write @xmath439 for the set of degree - one vertices of @xmath120 .",
    "note that both @xmath163 and @xmath440 are uniquely determined by @xmath120 .",
    "we call @xmath440 the _ blossoms _ of @xmath120 , and @xmath441 the inner vertices of @xmath120 .",
    "also , an edge between two inner vertices is called an inner edge , and an edge between an inner vertex and a blossom is a _",
    "stem_. a corner @xmath127 is an inner corner if @xmath442 .",
    "a _ planted _ @xmath163-blossoming tree is a planted plane tree @xmath307 such that @xmath120 is a @xmath163-blossoming tree .",
    "the bijections of section  [ sec : bij - bloss - trees ] concern @xmath27-blossoming trees , which we simply call blossoming trees for the remainder of the section .",
    "write @xmath443 for the set of planted blossoming trees @xmath307 with @xmath2 inner vertices and with @xmath235 an inner vertex .",
    "fix @xmath444 , and note that @xmath445",
    "so @xmath446 . we say @xmath307 is _ balanced _ if @xmath223 for distinct stems @xmath447 , and for all @xmath448 , @xmath449 ( recall the definition of @xmath287 ) from section  [ sub : planetrees ] ) .",
    "for @xmath450 let @xmath451 be the set of balanced blossoming trees with @xmath2 inner vertices . also , write @xmath452 for the set of triples @xmath453 with @xmath454 and @xmath455 .",
    "a _ valid labelling _ of a planted plane tree @xmath456 is a labelling @xmath457 of the edges of @xmath120 by elements of @xmath458 such that for all @xmath459 , writing @xmath460 , the sequence @xmath461 is non - decreasing .",
    "let @xmath462 be the set of validly labelled plane trees with @xmath2 vertices .",
    "we emphasize that a validly labelled plane tree is a `` normal '' tree , not a blossoming tree .",
    "finally , recall that for @xmath5 , @xmath6 is the set of planted triangulations with @xmath2 inner vertices . in section  [ sec : clos - tree ] , below , we associate to each @xmath463 a canonical set @xmath464 with @xmath465 , and let @xmath466 .",
    "the following diagram summarizes the bijective relations between @xmath467 , and @xmath468 established in @xcite and in the current section , primarily in propositions  [ prop : bijgilles ] ,  [ prop : two_to_one ] , and  [ prop : label_bij ] .",
    "( we may already verify that the projection from @xmath452 to @xmath469 is @xmath470-to-@xmath471 , since a blossoming tree with @xmath2 inner vertices has @xmath472 inner corners . )",
    "@xmath473 after concluding with bijective arguments , in section  [ sec : gw - trig ] we explain how to sample uniformly random triangulations using conditioned galton - watson trees .",
    "we end the section by describing the inverse of the bijection @xmath474 , which will be needed later .",
    "we first describe a bijection of poulalhon and schaeffer  @xcite between balanced blossoming trees and simple , planted triangulations of the sphere ( see figure  [ fig : clo - tri ] ; the orientations of the arrows in the figure are explained in section  [ sec : def - ori ] ) .",
    "fix a blossoming tree @xmath120 . given a stem @xmath475 with @xmath476 ,",
    "if @xmath477 is followed by two inner edges in a clockwise contour exploration of @xmath120  @xmath478 and @xmath479 , say  then the _ local closure _ of @xmath475 consists in removing the blossom @xmath480 and its stem , and adding a new edge @xmath187 ( such that @xmath481 and @xmath482 ) . after performing the local closure",
    ", @xmath124 always has a triangle on its right .",
    "the edge @xmath187 is considered to be an inner edge in subsequent local closures .",
    "the _ partial closure _ of a blossoming tree is the planar map obtained by performing all possible local closures .",
    "equivalently , for each corner @xmath127 with @xmath483 , let @xmath484 be the corner @xmath128 minimizing @xmath485 subject to the condition that @xmath486 if such a corner exists ( recall the definition of @xmath287 ) from section  [ sub : planetrees ] ) . the partial closure operation identifies @xmath487 with @xmath488 whenever @xmath483 and @xmath484 is defined ; it follows from the latter description that the partial closure does not depend on the order in which local closures take place .",
    "say @xmath487 is _ closed _ if @xmath484 is defined , and otherwise say @xmath487 is _",
    "unclosed_.    it can be checked that the partial closure is a simple map and contains precisely one face @xmath217 of degree greater than three , and all unclosed blossoms are incident to @xmath217 .",
    "furthermore , simple counting arguments show that each inner corner incident to @xmath217 is adjacent to at least one unclosed blossom , and that there are precisely two corners , say @xmath489 and @xmath490 , that are incident to two unclosed blossoms .",
    "note that @xmath489 and @xmath490 are both corners of @xmath120 ( i.e. , they are not created while performing the partial closure ) .",
    "let @xmath491 and @xmath492 .",
    "given @xmath493 , we say the planted blossoming tree @xmath307 is _ balanced _ if @xmath494 or @xmath495 , and in this case call @xmath307 a _ balanced blossoming tree_. it follows straightforwardly from ( [ eq : label_bijection ] ) that this definition of balanced agrees with the one given at the start of the section .",
    "we now suppose @xmath496 .",
    "let @xmath497 ( resp .",
    "@xmath498 ) be the set of non - blossom vertices @xmath83 of the distinguished face @xmath217 of the partial closure such that in the planted tree @xmath499 ( resp .",
    "@xmath500 ) we have @xmath501 ( resp .",
    "@xmath502 ) . in other words , vertices of @xmath497",
    "lie after @xmath159 and before @xmath318 in a clockwise tour of @xmath217 , and likewise for @xmath498 .",
    "to finish the construction , remove the remaining blossoms and their stems .",
    "add two additional vertices @xmath133 and @xmath503 within @xmath217 , then add an edge between @xmath133 ( resp .",
    "@xmath503 ) and each of the vertices of @xmath497 ( resp .  of @xmath498 ) . in the resulting map ,",
    "define a corner @xmath127 by @xmath504 if @xmath505 or @xmath506 if @xmath507 . finally ,",
    "add an edge between @xmath133 and @xmath503 in such a way that , after its addition , @xmath118 , and @xmath235 lie on the same face @xmath217 .",
    "the result is a planar map , rooted at @xmath9 , called the _ closure _ of @xmath120 . for later use ,",
    "define a function @xmath508 as follows .",
    "[ sstardef ] first , set @xmath509 for @xmath510 . for @xmath511 , let @xmath125 be the unique neighbour of @xmath83 and let @xmath163 be the unique corner incident to @xmath83",
    ". if @xmath512 is defined then let @xmath513 ; otherwise , if @xmath514 let @xmath515 and if @xmath516 let @xmath517 .",
    "write @xmath518 for the function sending a balanced blossoming tree to its closure , and for @xmath450 let @xmath519 be the restriction of @xmath520 to @xmath469 .",
    "[ prop : bijgilles ] for all @xmath450 , @xmath521 is a bijection between @xmath469 and @xmath522 .",
    "it bears emphasis that we only consider balanced blossoming trees @xmath523 up to isomorphism of planted planar maps .",
    "in particular , if @xmath524 and @xmath525 are isomorphic then @xmath120 only corresponds to one planted triangulation .    note that if @xmath307 is a blossoming tree and @xmath526 then it is natural to identify the inner vertices and inner edges of @xmath120 with subsets of @xmath527 and @xmath117 , respectively .",
    "more formally , we may choose representatives from the isomorphism equivalence classes of the tree and its closure so that @xmath528 and @xmath529 .",
    "we will adopt this perspective in the remainder of the paper .",
    "now let let @xmath530 be the map from @xmath531 to @xmath443 which sends @xmath453 to @xmath532 .",
    "[ prop : two_to_one ] @xmath533 is a two - to - one map .",
    "fix @xmath455 , and let @xmath534 be the two corners of @xmath120 for which @xmath535 and @xmath536 are balanced blossoming trees .",
    "we consider two cases depending on the symmetries of @xmath120 .",
    "first , if @xmath535 and @xmath536 are not isomorphic ( as planted plane trees ) then @xmath537 and @xmath538 are distinct elements of @xmath531 and so @xmath539 .",
    "next suppose that @xmath535 and @xmath536 are isomorphic , and fix an automorphism @xmath540 with @xmath541",
    ". then @xmath532 and @xmath542 are necessarily isomorphic . in this case @xmath537 and @xmath543 are distinct elements of @xmath452 and so again @xmath539 .",
    "fix @xmath454 .",
    "note that necessarily @xmath235 is an inner vertex and that @xmath9 is adjacent to two stems .",
    "let @xmath544 and list the vertices of the root face of @xmath545 in clockwise order as @xmath546 ( i.e. such that @xmath547 ) .",
    "define a function @xmath548 from the inner corners of @xmath120 to @xmath227 as follows .",
    "recall the definition of @xmath508 from page  .",
    "every corner in @xmath549 may be written as @xmath550 for a unique edge @xmath233 of @xmath120 with @xmath551 ; let @xmath552 , and write @xmath553 . since @xmath120 is @xmath27-blossoming it has @xmath472 inner corners , so also @xmath554 . also , having defined @xmath555 , the definition of @xmath556 from the start of the section is complete .",
    "furthermore , it is clear that the projection from @xmath557 to @xmath468 sending @xmath558 to @xmath545 is @xmath470-to-@xmath471 .",
    "now let @xmath559 be defined as follows . for @xmath560 ,",
    "let @xmath561 , let @xmath562 , and set @xmath563 .",
    "for all @xmath564 there is then a unique triple @xmath565 such that @xmath526 and @xmath566 .",
    "in other words , @xmath567 is a bijection .",
    "we now present an alternative description of the bijection from proposition  [ prop : bijgilles ] , based on ( [ eq : label_bijection ] ) . given a blossoming tree @xmath307 ,",
    "write @xmath238 and define @xmath568 as follows .",
    "recall the definition of the contour ordering @xmath569 from section  [ sub : planetrees ] , and in particular that @xmath279 .",
    "let @xmath570 and , for @xmath571 , set @xmath572 this labelling is depicted in figure  [ subfig : labeltree ] .",
    "informally , we perform a clockwise contour exploration of the tree and label the corners as we go . when leaving an inner vertex and arriving at an inner vertex , decrease the label by one ; when leaving an inner vertex and arriving at a blossom , leave the label unchanged ; when the leaving a blossom and arriving at an inner vertex , increase the label by one .",
    "it is not hard to see that @xmath238 is balanced if and only if @xmath9 is incident to two stems and @xmath573 for all @xmath574 ( see figure  [ subfig : labeltree ] ) .",
    "assume @xmath307 is balanced and write @xmath575 for the unique corner in @xmath576 for which @xmath577 is also balanced .",
    "given a corner @xmath574 with @xmath578 , recall the definition of @xmath484 from ( [ eq : label_bijection ] ) .",
    "a counting argument shows that when @xmath484 is defined , it is equal to the first corner @xmath128 following @xmath127 in clockwise order for which @xmath579 ( and in fact @xmath580 ) .",
    "[ eq : scdefine]furthermore , @xmath484 is defined if and only if either @xmath581 and @xmath582 , or @xmath583 and @xmath584 .    next ,",
    "add two vertices , say @xmath133 and @xmath503 , within the unique face of the partial closure with degree greater than three .",
    "for each @xmath574 with @xmath578 and @xmath484 undefined , identify @xmath487 with @xmath133 if @xmath585 , and with @xmath503 if @xmath586 . at this point ,",
    "the unique face of degree greater than three is incident to @xmath587 and @xmath503 in cyclic order .",
    "finally , add a single edge between @xmath133 and @xmath503 .",
    "the following fact , whose straightforward proof is omitted , states that the resulting planar map is @xmath588 .",
    "the triangulation obtained from a balanced blossoming tree by iterating local closures and the one obtained by the label procedure coincide .",
    "the closure contains corners not present in the blossoming tree , and the new corners are labelled as follows . for any bud corner @xmath127 with @xmath484 defined ,",
    "closing @xmath487 may be viewed as splitting a single corner in two , and the two new corners inherit the label of the corner that was split .",
    "an example is shown in figure  [ subfig : labelclos ] ; the dashed arcs denote corners that are `` split '' by the partial closure operation .",
    "let @xmath217 be the face of @xmath588 incident to @xmath9 .",
    "give the corner of @xmath133 ( resp .",
    "@xmath503 ) incident to @xmath217 label @xmath67 ( resp .",
    "@xmath471 ) , and give all other corners incident to @xmath133 ( resp .",
    "@xmath503 ) label @xmath471 ( resp .",
    "@xmath27 ) . we write @xmath589 for this corner labelling of @xmath588 , and note that @xmath590 since we have assumed @xmath307 is balanced .",
    "an example of the resulting corner - labelled triangulation is depicted in figure  [ subfig : labeltrig ] .",
    "we next explain the connection between blossoming trees and validly labelled plane trees .",
    "fix @xmath450 , let @xmath455 and let @xmath591 be as defined in section  [ sec : bij_with_labels ] .",
    "we define a function @xmath592 by setting @xmath593 for all @xmath459 .",
    "next , for each inner edge @xmath594 , writing @xmath595 , with @xmath596 , set @xmath597 .",
    "the following easy fact , whose proof is omitted , allows us to recover the locations of stems from the edge labels .",
    "[ fact : de_bd ] for all @xmath598 , @xmath599 .",
    "now fix @xmath459 , let @xmath600 , and for @xmath247 let @xmath601 .",
    "it follows from the above fact that for @xmath247 the number of stems @xmath132 incident to @xmath83 with @xmath602 is @xmath603 .",
    "in particular @xmath604 is a non - decreasing sequence of elements of @xmath458 ; this is what allows us to connect blossoming trees with validly labelled trees .    for @xmath450",
    "define a map @xmath605 as follows .",
    "given @xmath455 , write @xmath606 .",
    "let @xmath132 be the last inner edge incident to @xmath607 preceding @xmath608 in clockwise order ( with @xmath609 if @xmath608 is an inner edge ) , and let @xmath224 be the first inner edge incident to @xmath607 following @xmath610 in clockwise order ( with @xmath611 if @xmath610 is an inner edge ) .",
    "write @xmath612 , let @xmath613 be the subtree of @xmath120 induced by the inner vertices , let @xmath614 , and let @xmath615 .",
    "the following proposition is an immediate consequence of fact  [ fact : de_bd ] .",
    "[ prop : label_bij ] the map @xmath605 is a bijection .",
    "furthermore , given @xmath616 , the inverse @xmath617 is obtained as follows . for each corner @xmath618 with @xmath619 :    * if @xmath620 then attach @xmath621 stems to @xmath487 in corner @xmath127 ; * if @xmath622 then attach @xmath623 stems to @xmath487 in corner @xmath127 ; * if @xmath624 then attach @xmath625 stems to @xmath487 in corner @xmath127 .    finally , attach two stems to each vertex @xmath83 with @xmath626 .",
    "the above bijection and definitions are illustrated in figure  [ fig : vector - equiv ] . in the next section ,",
    "we explain how the above functions can be used to sample random simple triangulations with the aid of conditioned galton  watson trees .",
    "let @xmath77 be uniformly distributed on @xmath443 .",
    "we are now able to describe the law of @xmath77 as a modification of the law of a critical galton ",
    "watson tree conditioned to have a given size .",
    "( galton  watson trees are naturally viewed as planted plane trees ; see e.g.  @xcite . )",
    "let @xmath627 , and let @xmath503 have law given by @xmath628    the distribution @xmath503 is critical , i.e. @xmath629 .",
    "this fact follows from simple computations involving the 3 first moments of a geometric law ; its proof is omitted .",
    "[ prop : uniformtreelaw ] let @xmath296 be a galton  watson tree with branching factor @xmath503 conditioned to have @xmath2 vertices . for each vertex @xmath83 of @xmath613 , writing @xmath630 for the number of children of @xmath83 in @xmath613 , add two stems incident to @xmath83 , uniformly at random from among the @xmath631 possibilities . the resulting planted plane tree @xmath532 is uniformly distributed over @xmath443 .",
    "fix @xmath632 and let @xmath633 be the tree @xmath634 with its blossoms removed .",
    "list the vertices of @xmath635 in lexicographic order as @xmath636 and recall that @xmath637 is the number of children of @xmath249 in @xmath638 .",
    "then @xmath532 is equal to @xmath634 if and only if @xmath639 and for each @xmath640 , the blossoms are inserted at the right place .",
    "hence : @xmath641 the last equality holds since @xmath112 is geometric and @xmath642 . since the last term does not depend on the shape of @xmath634 , all blossoming trees with @xmath2 vertices appear with the same probability .",
    "[ cor : uniftreelaw ] with @xmath532 as in proposition  [ prop : uniformtreelaw ] , let @xmath643 be such that @xmath644 is balanced for @xmath645 .",
    "conditional on @xmath532 choose @xmath646 uniformly at random .",
    "then @xmath647 is uniformly distributed in @xmath557 , and so @xmath545 is uniformly distributed in  @xmath468 .",
    "conditional on @xmath532 the triple @xmath453 is a uniformly random element of the pre - image of @xmath532 under @xmath648 . by proposition",
    "[ prop : uniformtreelaw ] @xmath532 is uniformly distributed in @xmath443 , and the result is then immediate from ( [ eq : diagram ] ) .",
    "proposition  [ prop : label_bij ] now allows us to describe the distribution of a uniformly random element @xmath649 of @xmath650 . for each @xmath438 , let @xmath651 be the uniform law over non - decreasing vectors @xmath652 .",
    "[ cor : vldist ] let @xmath296 be a galton  watson tree with branching factor @xmath503 conditioned to have @xmath2 vertices .",
    "conditional on @xmath296 , independently for each @xmath640 let @xmath653 be a random vector with law @xmath654 .",
    "finally , let @xmath655 .",
    "then @xmath649 is uniformly distributed in @xmath650 .    by proposition  [ prop : label_bij ] , @xmath296 is uniformly distributed in @xmath443 .",
    "the result then follows from proposition  [ prop : uniformtreelaw ] .    for later use , we note the following fact .",
    "recall the definition of @xmath656 for @xmath239 a labelled planted plane tree , from section  [ sec : contourproc ] .",
    "[ fact : rerooting ] fix @xmath657 with @xmath658 inner corners , and let @xmath659 and @xmath660 .",
    "then for all @xmath640 , @xmath661 , and @xmath662 .    in other words the labellings @xmath656 and @xmath663 are related by an additive constant of @xmath27 , and rerooting shifts all labels according to the label of the new root under the old labelling , up to an additive error of @xmath115 .",
    "this is a direct consequence of fact  [ fact : de_bd ] and the definitions of @xmath656 and @xmath663 ; its proof is omitted .",
    "we conclude section  [ sec : bij - bloss - trees ] by explaining the inverse of the bijection @xmath521 .",
    "the description of the inverse relies the properties of so called 3-orientations for simple triangulations .",
    "we make use of such orientations in section  [ sec : label_dist_determinist ] when studying the relation between vertex labels and geodesics .      in a planted map endowed with an orientation",
    ", a directed cycle is said to be clockwise if the root corner is situated on its left and counterclockwise otherwise .",
    "an orientation is called _ minimal _ if it has no counterclockwise cycles .",
    "let @xmath111 be a planted planar triangulation , and recall from section  [ sec : overview ] that that @xmath111 admits a unique minimal @xmath115-orientation .",
    "we next describe how to obtain this @xmath115-orientation via the bijection described in proposition  [ prop : bijgilles ] .    given a balanced 2-blossoming tree @xmath238 , orient all stems towards their incident blossom , and orient all other edges towards @xmath235 .",
    "in the triangulation @xmath664 , all edges except @xmath665 inherit an orientation from @xmath120 ; orient @xmath665 from @xmath503 to @xmath133 . then all inner vertices of @xmath239 not incident to @xmath9 have outdegree @xmath115 in @xmath120 and the closure operation does not change this outdegree .",
    "it follows easily that the resulting orientation of @xmath664 is a @xmath115-orientation .",
    "furthermore , the `` clockwise direction '' of the local closures implies that closure never creates counterclockwise cycles , so the @xmath115-orientation is minimal .    given a planted planar triangulation @xmath322 ,",
    "the balanced blossoming tree @xmath666 can be recovered as follows .",
    "let @xmath116 be the unique minimal @xmath115-orientation of @xmath117 .",
    "let @xmath667 and list the vertices of the face incident to @xmath9 in clockwise order as @xmath668 . remove the edge @xmath665 , and perform a clockwise contour exploration of @xmath320 starting from @xmath9 .",
    "each time we see an edge @xmath478 for the first time , if it is oriented in the opposite direction from the contour process then keep it ; otherwise replace it by a stem @xmath669 .",
    "this procedure is depicted in figure  [ fig : ope - tri ] .",
    "fix a probability distribution @xmath65 on @xmath670 , and a sequence @xmath671 with @xmath672 a probability distribution on @xmath673 for @xmath438 . for @xmath674 ,",
    "we then write @xmath675 for the law on labelled planted plane trees @xmath306 such that :    * the planted plane tree @xmath307 has the law of the genealogical tree of a galton - watson process with offspring distribution @xmath65 , conditioned to have total progeny @xmath2 . is such that the support of @xmath65 has greatest common divisor @xmath471 , so that such conditioning is well - defined for all @xmath2 sufficiently large . ] * conditionally on @xmath307 , @xmath308 has the following law . independently for each @xmath676 , @xmath677 is distributed according to @xmath651 .",
    "here is the connection with random simple triangulations .",
    "if @xmath678 is uniformly distributed in @xmath650 , then corollary  [ cor : vldist ] states that the law of @xmath678 is @xmath675 , where @xmath65 is the law defined in ( [ eq : offspring ] ) and for @xmath438 , @xmath651 is the uniform law on non - decreasing vectors in @xmath679 .    recall the definition of the pair @xmath48 from section  [ sec : limitobject ] , and the definitions of the functions @xmath314 , @xmath656 and @xmath315 from section  [ sec : contourproc ] .",
    "note that @xmath678 does not correspond to a balanced tree ( when planted at @xmath680 ) so @xmath656 ( which equals @xmath681 ) may take negative values .",
    "however , by fact  [ fact : rerooting ] , re - planting so that @xmath656 is balanced corresponds to changing all labels by an additive shift of @xmath682 , up to an additive error of at most @xmath115 .",
    "we establish the following convergence .",
    "[ prop : snake ] for @xmath450 let @xmath683 be uniformly random in @xmath650 .",
    "then as @xmath24 , @xmath684 for the topology of uniform convergence on @xmath95,{\\mathbb{r}})^2 $ ] .    before proving this theorem , we place it in the context of the existing literature on invariance principles for spatial branching processes .",
    "fix @xmath65 and @xmath372 and let @xmath685 be such that @xmath683 has law @xmath675 for @xmath674 . in",
    "what follows , given a measure @xmath686 on @xmath687 and @xmath688 write @xmath689 .",
    "aldous ( @xcite , theorem 2 ) showed that if @xmath690 and @xmath691 , then @xmath692 as @xmath24 , for the topology of uniform convergence on @xmath95,{\\mathbb{r}})$ ] .",
    "now additionally suppose that the random variables @xmath693 are all identically distributed , that @xmath694 , that @xmath651 is _ centred _ ( i.e. , @xmath695 ) for every @xmath696 , and that @xmath697 under these conditions , writing @xmath698 , janson and marckert ( @xcite , theorem 2 ) prove that @xmath699 in the same topology as in proposition  [ prop : snake ] ( in fact theorem  2 of  @xcite is stated with the additional assumption that for each @xmath163 , the entries of the vector @xmath700 are independent .",
    "however , it is not difficult to see , and was explicitly noted in @xcite , that straightforward modifications of the proof allow this additional assumption to be removed . ) under the same assumptions , the convergence in ( [ eq : cvsnake_jm ] ) can also be obtained as a special case of ( * ? ? ?",
    "* theorem 8) . in the latter article ,",
    "the marginals of @xmath651 are not required to be identically distributed but they are assumed to be _ locally centred _ meaning that for all @xmath701 , @xmath702 . in our setting , the law of the labelled planted plane tree is given by corollary  [ cor : vldist ] . in this case",
    "the entries are clearly not identically distributed , and neither are they locally centred : observe for instance that @xmath703 .    in  @xcite ,",
    "the `` locally centred '' assumption is replaced by a _",
    "global _ centering assumption , namely that @xmath704 which is satisfied by our model .",
    "however , @xcite requires that @xmath65 has bounded support , which is not the case in corollary  [ cor : vldist ] .",
    "we expect that the technique we use to prove proposition  [ prop : snake ] can be used to extend the results of  @xcite to a broad range of laws @xmath675 for which @xmath65 does not have compact support .",
    "however , for the sake of concision we have chosen to focus on the random labelled planted plane trees that arise from random simple triangulations ( the treatment for random simple quadrangulations differs only microscopically and is omitted ) .    for the remainder of section  [ sec : snake ] ,",
    "let @xmath65 be as defined in ( [ eq : offspring ] ) , and for @xmath438 let @xmath651 be the uniform law on non - decreasing vectors in @xmath679 . for @xmath450 let @xmath683 be uniformly random in @xmath650 as in proposition  [",
    "prop : snake ] ; by the comments preceding that proposition , @xmath705 has law @xmath675 . to prove proposition  [ prop : snake ] , we establish the following facts .    [",
    "lem : fdds ] let @xmath706 be independent uniform@xmath55 $ ] random variables , independent of the trees @xmath707 , and for @xmath708 let @xmath709 be the increasing ordering of @xmath710 .",
    "then for all @xmath708 , @xmath711 for the topology of uniform convergence on @xmath95,{\\mathbb{r}})^2 $ ] .",
    "[ lem : tightness ] the family of laws of the processes @xmath712 is tight for the space of probability measures on @xmath95,{\\mathbb{r}})$ ] .    in appendix",
    "[ sec : notes ] we calculate @xmath690 and @xmath713 . by ( [ eq : aldous ] ) and lemma  [ lem : tightness ]",
    ", it follows that the laws of the processes @xmath714 form a tight family in the space of probability measures on @xmath95,{\\mathbb{r}})^2 $ ] .",
    "in other words , for all @xmath715 there exists @xmath716 such that @xmath717,|x - y| \\le \\alpha } \\left ( \\frac{|c_{{\\ensuremath{\\mathrm{t}}}_n}(x)-c_{{\\ensuremath{\\mathrm{t}}}_n}(y)|}{(3n)^{1/2}}+\\frac{|z_{{\\ensuremath{\\mathrm{t}}}_n}(x)-z_{{\\ensuremath{\\mathrm{t}}}_n}(y)|}{(4n/3)^{1/4}}\\right ) > \\delta\\right\\ } } < \\delta\\ , .\\ ] ] since @xmath42 and @xmath47 are almost surely uniformly continuous , by decreasing @xmath718 if necessary we may additionally ensure that @xmath719,|x - y| \\le \\alpha } \\left(|{\\bf e}(x)-{\\bf e}(y)| + |z(x)-z(y)|\\right ) > \\delta\\right\\ } } < \\delta.\\ ] ]    since ( [ eq : fin_tight ] ) holds , to prove proposition  [ prop : snake ] it remains to establish convergence of ( non - random ) finite - dimensional distributions .",
    "in other words , we must show that for all @xmath720 , @xmath721 and @xmath722 such that @xmath723 and @xmath724 are continuity points of the distributions of @xmath725 and @xmath726 , respectively , @xmath727 for the remainder of the proof , we fix @xmath728 and @xmath729 as above .",
    "given @xmath715 , let @xmath716 be as above , and let @xmath730 be large enough that @xmath731 since @xmath732 , we may choose @xmath733 so that for @xmath734 , @xmath735 .",
    "it follows that @xmath736 write @xmath118 and @xmath159 for the events whose probabilities are bounded in ( [ eq : fin_tight ] ) , ( [ eq : lim_tight ] ) and ( [ eq : unif_llm ] ) , respectively , and let @xmath737 .",
    "note that @xmath738 .",
    "furthermore , when @xmath739 occurs , @xmath740 , so @xmath741 we thus have @xmath742 a similar argument shows that @xmath743 by lemma  [ lem : fdds ] , as @xmath24 , @xmath744 which together with the preceding bounds implies that for all sufficiently large @xmath2 , @xmath745 a symmetric argument establishes that for all sufficiently large @xmath2 , @xmath746 and the result follows .",
    "the remainder of the section is thus devoted to proving lemmas  [ lem : fdds ] and  [ lem : tightness ] . the proofs of both rely on a coupling , defined in section  [ sub : coupling ] , between @xmath675 and @xmath747 , where @xmath748 is a symmetrized version of @xmath372 which is locally centred .",
    "fix a labelled planted plane tree @xmath306 . in this section",
    "it is convenient to view @xmath239 as having vertices @xmath749 given by the ulam - harris encoding ; in particular , we then have @xmath750 .    for a non - leaf node @xmath459 ,",
    "say a permutation ( or `` reordering '' ) @xmath751 of @xmath752 is _ valid _ for @xmath83 if it does not change the relative order of children of @xmath83 that have the same displacement from @xmath83 .",
    "in other words , @xmath751 is valid for @xmath83 if for all @xmath753 with @xmath754 , if @xmath755 then @xmath756 .",
    "write @xmath757 for the set of valid permutations for @xmath83 . in the case where @xmath758 , so that the displacements from a node to its children all lie in @xmath759 , then , for a node @xmath83 possessing @xmath760 , and @xmath127 children with displacements @xmath761 , and @xmath471 , respectively , we have [ page : stv]s @xmath762    fix a family of valid permutations @xmath763 indexed by the non - leaf vertices of @xmath239 , with @xmath764 a permutation of @xmath752 .",
    "the _ permuted _ planted plane tree @xmath765 is obtained from @xmath239 by permuting the order of the subtrees rooted at the children of @xmath83 according to @xmath764 , for each @xmath459 , and permuting the corresponding displacements accordingly . here is a formal description .",
    "the vertices of @xmath765 are @xmath766 where if @xmath767 then @xmath768 specifying @xmath769 already specifies the plane tree structure of @xmath770 ; to describe the displacements , for @xmath771 with @xmath620 , let @xmath772 be such that @xmath83 is the @xmath772th child of @xmath125 , @xmath773 , and set @xmath774 .",
    "next , given a labelled planted plane tree @xmath306 and @xmath293 with @xmath775 , the _ @xmath303-symmetrization _ @xmath776 of @xmath239 is defined as follows .",
    "let @xmath777 be the subtree of @xmath120 spanned by @xmath303 , and observe that @xmath778 .",
    "informally , @xmath779 is formed from @xmath239 by : ( a ) for nodes @xmath780 , picking a uniformly random valid reordering of the children of @xmath83 and permuting the corresponding displacements accordingly ; and ( b ) , for @xmath781 , applying a uniformly random valid reordering to the displacements on edges from @xmath83 to its children , _ without _ reordering the children themselves .",
    "here is a formal description . independently for each non - leaf vertex @xmath459 , let @xmath764 be a uniformly random element of @xmath757 .",
    "let @xmath763 , and define @xmath782 by @xmath783 then @xmath784 .",
    "finally , for @xmath771 with @xmath620 , if @xmath773 then set @xmath785 an @xmath303-symmetrization is depicted in figure  [ fig : coupling ] .",
    "are represented by bigger blue circles and @xmath777 by blue fat lines .",
    "note that the permutation @xmath786 does not reorder the two zero - displacments relative to each other , and the permutation @xmath787 does not reorder the three displacement - zero edges from @xmath788 to its children . ]",
    "note that @xmath307 and @xmath789 are isomorphic as rooted trees but need not be isomorphic as plane trees . here",
    "are some key aspects of the @xmath303-symmetrization operation .    * in forming @xmath779 , displacements from vertices of @xmath777 to their children",
    "are permuted , but the order of the children is not .",
    "* continuing to identify the nodes of plane trees with their ulam - harris encodings , we have @xmath790 and @xmath791 .",
    "in other words , @xmath305 and @xmath792 are identical as planted plane trees . *",
    "it follows from the preceding point that the orderings of @xmath303 induced by the lexicographic order of @xmath260 and of @xmath793 are identical .    in what follows ,",
    "given @xmath459 write @xmath794 for the image of @xmath83 in @xmath793 and for @xmath795 , let @xmath796 . by the above remarks , for @xmath797 we have @xmath798 .",
    "now recall the definition of the contour exploration @xmath799 from section  [ sub : planetrees ] .",
    "the following fact states that vertices of @xmath777 are explored at the same times in the contour explorations of @xmath120 and of @xmath800 , respectively    [ fac : explore_agree ] for any set @xmath293 with @xmath294 , for all @xmath781 and all @xmath801 , we have @xmath802 if and only if @xmath803 .    for @xmath781 , since @xmath804 , the list of sizes of the subtrees rooted at the children of @xmath83 ( listed in lexicographically increasing order of child ) are identical to the list of sizes of the subtrees rooted at the children of @xmath805 ( again in lexicographic order ) . since @xmath294 the result follows .",
    "we now apply the partial symmetrization procedure to the study of conditioned spatial galton ",
    "watson trees . for the remainder of section  [ sec : snake ] ,",
    "let @xmath65 be the law of @xmath503 where @xmath503 is defined in ( [ eq : offspring ] ) .",
    "also , for @xmath438 let @xmath651 be as in corollary  [ cor : vldist ] , and define a new sequence @xmath806 as follows .",
    "fix @xmath438 and let @xmath807 be a random vector in @xmath673 with law @xmath651 .",
    "then let @xmath751 be a uniformly random permutation of @xmath808 , independent of @xmath318 , and let @xmath809 be the law of @xmath810 .",
    "note that since @xmath811 , we have @xmath812 for each @xmath247 ; in other words , @xmath813 is locally centred .",
    "we next establish a few facts about the partial symmetrization of a tree with law @xmath675 .",
    "[ cla : sym_law ] let @xmath306 have law @xmath675 . then for any set @xmath814 with @xmath815 , writing @xmath816 , @xmath776 has law @xmath817 .",
    "it follows from the branching property of galton - watson processes that @xmath789 and @xmath307 have the same law .",
    "to prove the claim , it remains to show that the label process of @xmath818 is driven by @xmath819 . by the definition of @xmath779 ,",
    "this is equivalent to the assertion that applying a uniformly random permutation yields the same distribution on labels from a node @xmath83 to its children as applying a uniformly random valid permutation . to see this , note that for a fixed non - decreasing vector @xmath820 with , say , @xmath760 and @xmath127 entries valued @xmath761 , and @xmath471 , respectively , for each valid permutation @xmath751 there are precisely @xmath821 permutations @xmath822 with @xmath823 .",
    "since this number depends only on @xmath63 and not on @xmath751 , the result follows .",
    "[ cor : conv_toosymmetric ] for @xmath450 let @xmath683 be uniformly random in @xmath650 . fix any sequence @xmath824 with @xmath825 and @xmath826 , and write @xmath827 .",
    "then as @xmath24 , @xmath828 for the topology of uniform convergence on @xmath95,{\\mathbb{r}})^2 $ ] .",
    "since @xmath826 we have @xmath829 . by corollary  [ cor : vldist ] , @xmath705 has law @xmath675 , so @xmath830 has law @xmath817 .",
    "since @xmath813 is locally centred , the result follows by ( [ eq : cvsnake_jm ] ) .",
    "the next proposition , together with corollary  [ cor : conv_toosymmetric ] , will allow us to establish convergence of random fdds without first symmetrizing , and is the reason why we study random rather than deterministic fdds .",
    "for @xmath831 , write @xmath832 for the indices of the children of @xmath125 that are vertices of @xmath777 .",
    "[ prop : random_subset ] given integers @xmath833 , let @xmath683 be uniformly random in @xmath650 .",
    "let @xmath834 be independent and uniformly random elements of @xmath835 , and let @xmath836 .",
    "conditional on @xmath705 , on @xmath837 and on @xmath838 , the sets @xmath839 are independent and , for each @xmath840 , @xmath841 is a uniformly random subset of @xmath842 of size @xmath843 .",
    "independence follows easily from the branching property , so we focus on a single vertex @xmath840 .",
    "now condition further : on everything except the ordering of the subtrees rooted at the children of @xmath125 .",
    "more precisely , for @xmath844 temporarily write @xmath845 for the subtree of @xmath84 rooted at @xmath126 .",
    "condition further on the sets @xmath846 for @xmath847 , on the ordered sequences of plane trees @xmath848 for @xmath849 , and on the _ unordered _ set @xmath850 .",
    "each possible ordering of @xmath850 then specifies @xmath77 and the vertices @xmath834 , and distinct orderings lead to different results for the triple @xmath851 .    since planted plane trees with the same child sequence are equally likely to arise as the genealogical tree of any fixed galton",
    "watson process , and @xmath834 are uniformly random vertices , it follows that under this conditioning , each possible ordering of the children of @xmath125 is equally likely .",
    "the result follows .    from the preceding proposition",
    ", it will follow that , distributionally , the effect of partial symmetrization on the displacements along edges of @xmath852 is insignificant .    for @xmath450 let @xmath683 have law @xmath675 .",
    "fix @xmath708 , let @xmath710 be independent uniform@xmath55 $ ] random variables independent of the trees @xmath705 , and let @xmath853 be the increasing ordering of @xmath710 .",
    "in what follows we suppress @xmath2-dependence whenever possible to lighten notation .",
    "we continue to identify plane trees with their ulam - harris encodings ( so in particular @xmath854 ) .    for @xmath855 ,",
    "let @xmath856 be the edge of @xmath84 traversed at time @xmath857 by @xmath858 .",
    "more formally , let @xmath859 be such that @xmath860 and @xmath861 then @xmath862 and @xmath863 .",
    "furthermore , @xmath859 is a uniformly random edge of @xmath84 , so @xmath864 is a uniformly random element of @xmath865 .",
    "let @xmath866 and write @xmath867 .",
    "for @xmath2 large , @xmath868 are essentially independent , uniformly random elements of @xmath835 ; we may couple the sequence @xmath868 with a sequence @xmath869 of independent uniformly random elements of @xmath835 so that @xmath870 as @xmath24 .",
    "write @xmath871 for the lexicographic ordering of @xmath872 and let @xmath873 for @xmath855 .",
    "it is straightforward that if none of @xmath872 is an ancestor of another , then @xmath874 is the edge traversed at time @xmath875 by @xmath858 .",
    "furthermore , the probability that one of @xmath872 is an ancestor of another is easily seen to tend to zero as @xmath24 . to prove the lemma it thus suffices to show that @xmath876    we claim that conditional on @xmath877",
    ", @xmath878 has the law of @xmath879 independent uniformly random elements of @xmath880 . to see this ,",
    "let @xmath881 be such that @xmath882 is a rooted tree of size @xmath2 and @xmath883 is a labeling of the edges with labels from @xmath458 .",
    "then , fix @xmath884 with @xmath885 . note that at each non - leaf node @xmath886 there is a unique permutation of the children of @xmath83 that yields non - decreasing displacements and respects the relative ordering of children with equal displacements .",
    "it follows that there is a unique tree @xmath887 ( necessarily with @xmath888 ) and a unique family of valid permutations @xmath889 such that @xmath890 if and only if @xmath891 and additionally @xmath892 .",
    "next , recall from page   that @xmath757 denotes the set of valid reorderings of the children of @xmath83 in @xmath239 .",
    "note that @xmath877 alone determines the multiset @xmath893 in the sense that if @xmath634 and @xmath635 are such that @xmath894 and @xmath895 are both positive , then @xmath896 . we may thus write @xmath897 , where @xmath887 is any tree with @xmath898 .",
    "let @xmath899 and @xmath71 , @xmath85 and @xmath900 be as above . by the definition of @xmath705",
    "we then have @xmath901 next let @xmath902 be the probability a galton - watson@xmath903 branching process has total progeny @xmath2 .",
    "writing @xmath904 , then @xmath905 given that @xmath906 , for each @xmath907 with @xmath908 the vector @xmath909 has law @xmath910 , so is uniform on a set of size @xmath911 .",
    "letting @xmath503 have law @xmath65 and letting @xmath112 be geometric@xmath912 , it follows that @xmath913 finally , write @xmath914 .",
    "given that @xmath891 , each permutation @xmath764 is uniform over a set of size @xmath915 , so @xmath916 the last equality since @xmath634 and @xmath917 have the same degrees and by the earlier observation about the multiset @xmath918 .",
    "the only term in the last expression that depends on @xmath303 is @xmath919 . since",
    "@xmath888 and , given that @xmath920 , @xmath878 is distributed as a set of @xmath879 uniformly random elements of @xmath921 , the claim follows .    since @xmath852 is a subtree of both @xmath84 and @xmath922 , with probability tending to one none of @xmath872",
    "is an ancestor of another in @xmath922 , and the lexicographic ordering @xmath871 agrees in @xmath705 and in @xmath877 ( and in this case respects the increasing ordering of @xmath710 in both trees ) .",
    "it follows by corollary  [ cor : conv_toosymmetric ] that @xmath923 by construction we have @xmath924 , so we turn our attention to the second coordinate .    for @xmath855 let @xmath925 be the set of edges between ancestors of @xmath926 , for which the parent has only one child in @xmath927 , i.e. the set of edges @xmath928 with @xmath929 , with @xmath126 an ancestor of @xmath930 , and with @xmath931 .",
    "( in figure  [ fig : coupling ] , nodes @xmath932 are marked . in this example , using the ulam - harris encoding we have have @xmath933 , @xmath934 , and @xmath935 . )",
    "note that @xmath936 .",
    "then let @xmath937 for all @xmath855 we have @xmath938 since @xmath852 has at most @xmath939 vertices with more than one child , and all displacements are at most @xmath471 in absolute value .",
    "since @xmath940 is constant it follows that we may replace @xmath941 by @xmath942 without changing the distributional limit in ( [ eq : conv_by_toosymetric ] ) .",
    "next , by claim  [ cla : sym_law ] , @xmath943 has law @xmath944 . by the definition of the symmetrized law @xmath813 , each summand @xmath945 of @xmath942",
    "is uniformly distributed on @xmath458 . also , for @xmath946 with @xmath929 , by proposition  [ prop : random_subset ]",
    ", @xmath126 is a uniformly random child of @xmath125 , so by the definition of @xmath372 , @xmath947 is uniformly distributed on @xmath458 .",
    "it follows that @xmath948 and @xmath949 are identically distributed ( even conditional on @xmath852 ) , so @xmath950 finally , for all @xmath855 we have @xmath951",
    "so we may replace @xmath952 by @xmath953 and convergence in distribution still occurs .",
    "this establishes ( [ eq : conv_toshow ] ) .",
    "the argument for lemma  [ lem : tightness ] hinges on a simple deterministic bound relating fluctuations of the displacements in a tree @xmath239 and in its symmetrization @xmath779 .",
    "fix @xmath306 , and a set @xmath293 with @xmath294 . as earlier ,",
    "we write @xmath954 . for @xmath801 , let @xmath955 be the first time after @xmath879 at which the contour process explores a vertex of @xmath777 , i.e. @xmath956 .",
    "by fact  [ fac : explore_agree ] we have @xmath957 , and if @xmath958 then @xmath959 .",
    "now let @xmath960 , and let @xmath961 .",
    "finally , let @xmath962 and let @xmath963 .",
    "[ cla : delta_diff ] for @xmath293 with @xmath294 , @xmath964 .    first , if @xmath965 then @xmath966 , so @xmath967 and so @xmath968 .",
    "next , if @xmath969 then @xmath970 is the most recent ancestor of @xmath971 in @xmath972 .",
    "let @xmath125 be the unique child of @xmath970 that is an ancestor of @xmath971 . by construction ,",
    "the displacements on the path from @xmath971 to @xmath125 in @xmath239 are identical to the displacements on the path from @xmath973 to @xmath974 in @xmath779 .",
    "it follows that @xmath975 from which the claim follows immediately .    for @xmath450 let @xmath683 be uniformly random in @xmath650 .",
    "fix any sequences @xmath976 with @xmath977 and @xmath978 , and write @xmath979 . by claim  [ cla : sym_law ]",
    ", @xmath830 has law @xmath944 , so by corollary  [ cor : conv_toosymmetric ] we have @xmath980 it follows that the family of laws of the processes @xmath981 are tight ; in other words , for all @xmath410 there exists @xmath982 such that @xmath983,|x - y| \\le \\alpha } |z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(x)-z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(y)| > { \\epsilon}n^{1/4}\\right\\ } } < { \\epsilon}\\ , .\\ ] ] we emphasize that this bound is uniform over the choices of the sets @xmath984 .",
    "next , let @xmath985 be independent , uniformly random elements of @xmath55 $ ] . fix @xmath715 and let @xmath986 be minimal so that @xmath987 forms a @xmath988-net in @xmath55 $ ] , @xmath989 , and for all @xmath990 there is @xmath991 such that @xmath992 . ] . as in the proof of lemma  [ lem : fdds ] ,",
    "we couple @xmath993 with a sequence @xmath994 of independent uniformly random elements of @xmath835 so that with probability tending to one , for each @xmath990 either @xmath995 or @xmath996 .",
    "let @xmath984 be the corresponding set of indices (",
    "so for each @xmath990 , @xmath984 contains either @xmath997 or @xmath998 ) , and let @xmath999 be as above ; then @xmath1000 .",
    "given @xmath1001 $ ] let @xmath1002 , and let @xmath1003 . by the definitions of @xmath1004 and of @xmath999 we have @xmath1005 which is less than @xmath1006 for @xmath2 large .",
    "applying claim  [ cla : delta_diff ] , since @xmath1007 for @xmath2 large , we obtain @xmath1008 } |x_{{\\ensuremath{\\mathrm{t}}}_n}(u(x))-x_{{\\ensuremath{\\mathrm{t}}}_n}(u_1(x))| \\ge 2{\\epsilon}n^{1/4}\\right\\ } } \\nonumber\\\\ \\le &   \\limsup_{n \\to \\infty } { { \\mathbf p}\\left\\{\\sup_{x , y \\in [ 0,1],|x - y| < 2\\delta } |z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(x)-z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(y)| > { \\epsilon}n^{1/4}\\right\\}}\\ , .",
    "\\label{eq : outside_bit}\\end{aligned}\\ ] ] next , fix @xmath53 $ ] . recall that @xmath1009 is the shortest path from @xmath1010 to @xmath1011 in @xmath84 , and note that all vertices of @xmath1009 lie in @xmath1012 .",
    "let @xmath1013 be the set of edges of @xmath1009 for which the parent vertex has only one child in @xmath1012 , let @xmath1014 , and let @xmath1015 .",
    "arguing from proposition  [ prop : random_subset ] as in the proof of lemma  [ lem : fdds ] shows that @xmath133 and @xmath1016 have the same distribution are uniformly random .",
    "] , that @xmath1017 and that @xmath1018 .",
    "( the bound is @xmath1019 rather than @xmath1020 since the most recent common ancestor of @xmath1010 and @xmath1011 may be the parent vertex of two edges of @xmath1009 . ) furthermore , by the definitions of @xmath1004 and of @xmath999 we have @xmath1021 and if @xmath1022 then for any @xmath410 , the above difference is less than @xmath1023 for @xmath2 sufficiently large . also , fact  [ fac : explore_agree ] states that vertices of @xmath1012 are visited at the same time in the contour explorations of @xmath705 and of @xmath830 . since @xmath1024 almost surely , this yields @xmath1025 : |x - y| < \\delta } |x_{{\\ensuremath{\\mathrm{t}}}_n}(u_1(x))-x_{{\\ensuremath{\\mathrm{t}}}_n}(u_1(y))| \\ge 2{\\epsilon}n^{1/4}\\right\\ } } \\nonumber\\\\ \\le &   \\limsup_{n \\to \\infty } { { \\mathbf p}\\left\\{\\sup_{x , y \\in [ 0,1 ] : |x - y| < 5\\delta } |x_{{\\ensuremath{\\mathrm{t}}}_n}(u(x))-x_{{\\ensuremath{\\mathrm{t}}}_n}(u(y))| \\ge 2{\\epsilon}n^{1/4}-2j\\right\\ } } \\nonumber\\\\ \\le & \\limsup_{n \\to \\infty } { { \\mathbf p}\\left\\{\\sup_{x , y \\in [ 0,1],|x - y| < 5\\delta } |z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(x)-z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(y)| > { \\epsilon}n^{1/4}\\right\\}}\\ , .",
    "\\label{eq : middle_bit}\\end{aligned}\\ ] ] finally , for @xmath53 $ ] , if @xmath1026 then one of @xmath1027 , @xmath1028 , or @xmath1029 is at least @xmath1030 .",
    "it follows from ( [ eq : outside_bit ] ) and ( [ eq : middle_bit ] ) that @xmath1025 : |x - y| < \\delta } |z_{{\\ensuremath{\\mathrm{t}}}_n}(x)-z_{{\\ensuremath{\\mathrm{t}}}_n}(y)| > 6{\\epsilon}n^{1/4}+2\\right\\ } } \\nonumber\\\\ \\le &   3\\limsup_{n \\to \\infty } { { \\mathbf p}\\left\\{\\sup_{x , y \\in [ 0,1],|x - y| < 5\\delta } |z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(x)-z_{{\\ensuremath{\\mathrm{t}}}_n^{r_n}}(y)| > { \\epsilon}n^{1/4}\\right\\}}\\ , .\\end{aligned}\\ ] ] this bound holds for any @xmath410 .",
    "taking @xmath1031 , by ( [ eq : zrntight ] ) the final bound is at most @xmath1032 , which establishes the requisite tightness .",
    "the goal of this section is to _ deterministically _ relate labels in a validly - labelled plane tree with the distances in the corresponding triangulation . for the remainder of section  [ sec : label_dist_determinist ] , we fix @xmath674 and @xmath560 , let @xmath1033 and let @xmath1034 , and write @xmath1035 and @xmath238 . writing @xmath440 for the buds of @xmath120 , we suppose throughout that @xmath1036",
    ". finally , define @xmath663 as in section  [ sec : labels - displacements ] , and note that since @xmath239 is balanced , @xmath1037 for all @xmath459",
    ". it will be useful to extend the domain of @xmath663 by setting @xmath1038 and @xmath1039 , and we adopt this convention .",
    "to warm up , we prove a basic lemma bounding the difference between labels of adjacent vertices .",
    "[ lem:3diff ] for all @xmath131 , @xmath1040 .",
    "first , recall from page   that if @xmath141 and @xmath1041 or @xmath1042 then there is a corner @xmath127 incident to @xmath125 with @xmath1043 , so @xmath1044 . from this , if @xmath1045 then the result is immediate .",
    "next , if @xmath1046 then it is an inner edge of @xmath120 , in which case @xmath1047 . finally , if @xmath1048 but @xmath171 then there are corners @xmath1049 of @xmath120 such that @xmath1050 , @xmath1051 , and either @xmath1052 or @xmath1053 . assuming by symmetry that @xmath1054 , we have @xmath1055 . since the labels on corners incident to a single vertex differ by at most two , the result follows in this case .",
    "the above lemma , though simple , already allows us to prove the labels provide a lower bound for the graph distance to @xmath133 in @xmath112 , up to a constant factor .",
    "[ cor:3diff ] for all @xmath1056 , @xmath1057 .",
    "let @xmath1058 be a shortest path from @xmath1059 to @xmath1060 in @xmath112 .",
    "then by lemma  [ lem:3diff ] , since @xmath1038 we have @xmath1061 , so @xmath1062 .",
    "we next aim to prove a corresponding upper bound . for this",
    "we use the leftmost paths briefly introduced in section  [ sec : overview ] .",
    "let @xmath1063 as above , and let @xmath116 be its unique minimal 3-orientation ( defined in section  [ sec : def - ori ] ) .",
    "given an oriented edge @xmath1064 with @xmath1065 and @xmath1066 , a _ path _ from @xmath132 to @xmath1067 is a path @xmath1068 in @xmath112 with @xmath1069 and @xmath1070 .",
    "( in the preceding , we do not require that @xmath122 . )",
    "given @xmath1071 with @xmath1072 , the _ leftmost path _ from @xmath132 to @xmath133 is the unique directed path @xmath1073 with @xmath1074 such that for each @xmath1075 , @xmath1076 is the first outgoing edge incident to @xmath153 when considering the edges incident to @xmath153 in clockwise order starting from @xmath1077 .",
    "the following fact establishes two basic properties of leftmost paths .",
    "[ fact : lmp ] for all @xmath189 , @xmath1078 is a simple path .",
    "furthermore , if @xmath1079 and @xmath1080 are distinct leftmost paths to @xmath133 with @xmath1081 , and @xmath1082 for some @xmath1083 , then @xmath1084 for all @xmath1085 .",
    "let @xmath1079 be the leftmost path from @xmath1086 to @xmath133 .",
    "suppose there are @xmath1087 such that @xmath1088 , and choose such @xmath1089 for which @xmath1090 is minimum .",
    "then @xmath1091 is an oriented cycle with @xmath166 vertices ; let @xmath1092 be the vertices lying on or to the right of this cycle . since @xmath116 is minimal , @xmath159 is necessarily a clockwise cycle , so @xmath1093 .",
    "also , neither @xmath133 nor @xmath503 are in any directed cycles , and it follows that @xmath1094 .",
    "since @xmath116 is a 3-orientation it follows that for all @xmath1095 , @xmath1096 .",
    "furthermore , for all @xmath1097 , since @xmath1078 is a leftmost path , all out - neighbours of @xmath1067 are elements of @xmath1098 . writing @xmath236 for the sub - map of @xmath112 induced by @xmath72 , it follows that @xmath1099 . but @xmath236 is a simple planar map , and @xmath159 is a face of @xmath236 of degree @xmath1100 .",
    "it follows by euler s formula that @xmath1101 , a contradiction .",
    "the proof that two leftmost paths merge if they meet after their starting point follows the same lines and is left to the reader .",
    "the next proposition provides a key connection between the corner labelling @xmath1102 and the lengths of leftmost paths .",
    "[ prop : labelslmp ] for any edge @xmath1103 with @xmath122 and @xmath1104 , @xmath1105 .",
    "first , a simple counting argument shows that if @xmath1106 is an inner edge of @xmath120 , and @xmath1107 is the first stem following @xmath1106 in clockwise order around @xmath1067 , then writing @xmath127 for the corner of @xmath120 incident to @xmath1108 we have @xmath1109 . recall the definition of the _ successor _ function @xmath1110 from ( [ eq : label_bijection ] ) and the equivalent definition from section  [ sec : bij_with_labels ] .",
    "since @xmath1107 is a stem , in @xmath112 , @xmath1108 is identified with @xmath484 , and by definition @xmath1111 .",
    "next , recall the definition of the labelling @xmath1112 from the end of section  [ sec : bij_with_labels ] .",
    "it follows from that definition that for any oriented edge @xmath1113 , @xmath1114 .",
    "in other words , the label on the left decreases by exactly one when following any oriented edge .    now write @xmath1079 .",
    "since there are no edges oriented away from @xmath1078 leaving @xmath1078 to the left , it follows from the two preceding paragraphs that for @xmath1115 we have @xmath1116 , so @xmath1117 finally , @xmath1118 by definition since @xmath1074 and @xmath1119 .",
    "we thus obtain @xmath1120 .",
    "[ cor : labelslmp ] for all @xmath1056 , @xmath1121 .",
    "recall the convention that @xmath1039 and @xmath1038 ; since also @xmath1122 , it suffices to prove the result for @xmath1123 .",
    "for such @xmath125 , if @xmath187 is the first stem incident to @xmath125 in clockwise order around @xmath125 starting from @xmath1124 , then @xmath1125 .",
    "the claim then follows from proposition  [ prop : labelslmp ] .      in this section",
    "we use arguments similar to those of the preceding section , this time to prove deterministic upper bounds on pairwise distances in @xmath112 .",
    "fix @xmath1126 with @xmath1127 .",
    "let @xmath1128 be the first corner @xmath127 of @xmath120 ( with respect to @xmath286 ) for which @xmath1129 , and define @xmath1130 likewise .",
    "then set @xmath1131    [ prop:2points ] for all @xmath1132 , @xmath1133    before proving the proposition , we establish some preliminary results . given an oriented edge @xmath1134 with @xmath1135 , the _ modified leftmost path _ from @xmath132 to @xmath133 is the unique ( not necessarily oriented ) path @xmath1136 in @xmath112 with @xmath1137 and such that for each @xmath1138 , @xmath1076 is the first edge ( considering the edges incident to @xmath153 in clockwise order starting from @xmath1077 ) which is either an outgoing edge ( with respect to the orientation @xmath116 ) incident to @xmath153 or an _ inner edge of @xmath120_. equivalently , it is the leftmost oriented path , with the modified orientation obtained by viewing edges of @xmath261 as unoriented ( or as oriented in both directions ) .",
    "we view @xmath1139 as an oriented path from @xmath132 to @xmath133 ( though the edge orientations given by the path need not agree with @xmath116 ) ; we may thus speak of the left and right side of @xmath1139 .",
    "[ fact : lengthmlmp ] for @xmath1140 , @xmath1141 .",
    "in other words , the labels along the left of a modified leftmost path decrease by one along each edge .",
    "first , by the definitions of @xmath1142 and @xmath1143 , for any edge @xmath1144 of a modified leftmost path , @xmath1145 . moreover , from the definition of a modified leftmost path , there is no stem incident to @xmath1146 in @xmath120 that lies strictly between @xmath1144 and @xmath1147 ( in clockwise order around @xmath153 starting from @xmath1077 ) .",
    "hence @xmath1148 in @xmath120 ( see the proof of proposition  [ prop : labelslmp ] for more details ) .",
    "the result follows .",
    "given @xmath1149 , if @xmath1150 and @xmath1151 then by symmetry we may assume there is an edge @xmath1152 such that @xmath1153 .",
    "in this case , by a slight abuse of notation we write @xmath1154 .    in the statement and proof of the next fact ,",
    "write @xmath1155 and let @xmath1156 , where we view @xmath1157 as an edge of @xmath261 . by the discussion on page  , @xmath1158 and",
    "@xmath1159 precisely if @xmath1160 , where @xmath128 is the unique element of @xmath1161 for which @xmath1162 is balanced .",
    "let @xmath1163 , and for @xmath1164 let @xmath1165 be the first corner following @xmath1166 in @xmath120 for which @xmath1167 . for @xmath1164",
    ", @xmath1165 is necessarily an inner corner of @xmath120 .",
    "then , for @xmath1168 let @xmath1169 .",
    "[ fact : mincorner ] for all @xmath1170 , @xmath1171 , so @xmath1172 .    before giving the proof ,",
    "observe that this property need not hold for a regular leftmost path ; this is the reason we require modified leftmost paths .    for @xmath1173",
    "this holds by definition ; we now fix @xmath708 and argue by induction . the definition of @xmath1142 yields that @xmath1174 , for any @xmath1175 .",
    "we consider two cases .",
    "first , suppose @xmath1176 is an inner edge of @xmath120 .",
    "let @xmath245 be such that @xmath1177 . if @xmath126 is an inner vertex then @xmath1178 .",
    "likewise , if @xmath126 is a blossom then @xmath1179 . in either case ,",
    "@xmath1180 in @xmath120 . hence @xmath1181 is the corner immediately following @xmath1182 in the contour exploration of @xmath120 .",
    "by fact  [ fact : lengthmlmp ] , @xmath1183 , and @xmath1184 by the inductive hypothesis .",
    "it follows that @xmath1185 .",
    "second , suppose @xmath1176 is not an inner edge . by definition , there is no edge in @xmath120 incident to @xmath1186 and lying strictly between @xmath1176 and @xmath1187 in clockwise order around @xmath1186 .",
    "hence , in @xmath120 , @xmath1188 . in this case the result follows by the definition of @xmath1189 and by induction .",
    "path between @xmath125 and @xmath83 formed by concatenating sections of two modified leftmost paths .",
    "arrows indicate orientation in @xmath1190 .",
    "straight arrows along the path are edges of @xmath261 ; curved arrows are edges of @xmath1191 . ]",
    "fix @xmath1192 write @xmath1193 and @xmath1194 for the lexicographically first stem edges incident to @xmath125 and @xmath83 , respectively , and @xmath1195 and @xmath1196 for the corresponding edges in @xmath112 .",
    "write @xmath1197 with @xmath135 and @xmath1198 , and likewise write @xmath1199 .",
    "observe that @xmath1200 and @xmath1201 .",
    "we assume for simplicity that @xmath1202 ( when @xmath1203 there is a minor case analysis involving the presence of vertices @xmath133 and @xmath503 in @xmath1204 and @xmath1205 ; the details are straightforward and we omit them ) .",
    "by fact  [ fact : mincorner ] and the definition of @xmath1206 , necessarily @xmath1207 .",
    "let @xmath198 be the concatenation of the subpath of @xmath1204 from @xmath1059 to @xmath1208 with the subpath of @xmath1205 from @xmath1209 to @xmath1210 ( see figure  [ fig : mlmp ] for an illustration ) .",
    "then @xmath198 connects @xmath125 and @xmath83 in @xmath112 , so @xmath1211 .",
    "a symmetric argument proves the existence of a path @xmath1212 in @xmath112 between @xmath83 and @xmath125 of length @xmath1213 ; this gives the desired bound .",
    "it turns out that the lower bound on @xmath148 given by corollary  [ cor:3diff ] can be improved by considering winding numbers around @xmath125 ; we now remind the reader of their definition .",
    "consider a closed curve @xmath1214 \\to { \\mathbb{r}}^2\\setminus \\{0\\}$ ] , and parametrize @xmath1215 in polar coordinates as @xmath1216 so that @xmath1217 is a continuous function .",
    "we define the _ winding number of @xmath1215 _ around zero to be @xmath1218 .",
    "next , fix a reference point @xmath1219 . for @xmath1220 and a closed curve @xmath1214 \\to { \\mathbb{s}}^2\\setminus\\{r , x\\}$ ] , let @xmath1221 to @xmath113 be a homeomorphism with @xmath1222 , and define the winding number @xmath1223 of @xmath1215 around @xmath1067 to be the winding number of @xmath1224\\to { \\mathbb{r}}^2 $ ] around zero .",
    "it is straightforward that this definition does not depend on the choice of @xmath1225 .    in what follows , it is useful to imagine having chosen a particular representative from the equivalence class of @xmath112 , or in other words a particular planar embedding ( it is straightforward to verify that the coming arguments do not depend on which embedding is chosen )",
    ". let @xmath193 be any point in the interior of the face of @xmath112 incident to @xmath127 .",
    "[ dfn : windingnumber ] fix an oriented edge @xmath130 and a simple path @xmath1068 from @xmath125 to @xmath133 .",
    "define the _ winding number @xmath1226 of @xmath152 around @xmath132 _ as follows .",
    "write @xmath1079 . note that @xmath1081 , @xmath136 and @xmath1227 .",
    "form a cycle @xmath1228 .",
    "then fix a point @xmath1067 in the interior of the face incident to @xmath1229 , and let @xmath1230 .    in the preceding definition ,",
    "we conflate @xmath159 with its image in @xmath1 under the embedding of @xmath112 ( and likewise with @xmath1067 ) ; it is straightforward to verify that @xmath1231 does not depend on the choice of such embeddings .",
    "[ prop : windingbound ] for all @xmath130 , if @xmath152 is a simple path from @xmath125 to @xmath133 then @xmath1232 .",
    "write @xmath1079 .",
    "let @xmath1233 be a simple path meeting @xmath1078 only at @xmath1234 and @xmath1235 , with @xmath1236 , @xmath1237 for some @xmath1087 .",
    "if @xmath1238 then let @xmath1239 and if @xmath1240 ( so @xmath1241 ) then let @xmath1242 be the corner of the root face of @xmath545 incident to @xmath133 .",
    "we say @xmath303 _ leaves @xmath1078 from the right _ if @xmath1243 and the corner @xmath1244 precedes @xmath1245 in clockwise order around @xmath153 starting from @xmath1246 .",
    "otherwise say that @xmath303 leaves @xmath1078 from the left ; in particular , if @xmath1247 then @xmath303 leaves from the left by convention . likewise ,",
    "@xmath303 _ returns to @xmath1078 from the right _ if @xmath1242 precedes @xmath1248 in clockwise order around @xmath154 starting from @xmath1249 ; otherwise say that @xmath303 returns to @xmath1078 from the left .",
    "the key to the proof is the following set of inequalities .",
    "note that @xmath1250 .    1 .   if @xmath303 leaves @xmath1078 from the right and returns from the left then @xmath1251 .",
    "2 .   if @xmath303 leaves @xmath1078 from the left and returns from the left then @xmath1252 .",
    "3 .   if @xmath303 leaves @xmath1078 from the left and returns from the right then @xmath1253}})$ ] .",
    "4 .   if @xmath303 leaves @xmath1078 from the right and returns from the right then @xmath1254}}$ ] .    for later use , we say @xmath303 has _ type 1 _ if @xmath303 leaves @xmath1078 from the right and returns from the left , and define types @xmath1255 , and @xmath383 accordingly .",
    "let @xmath1256 be the cycle contained in the union of @xmath303 and @xmath1078 .",
    "we provide the details of the bounds from ( 1 ) and ( 3 ) , as ( 2 ) and ( 4 ) are respectively similar .    note",
    "that although @xmath159 does not respect the orientation of edges given by @xmath116 , it is nonetheless an oriented cycle , so it makes sense to speak of the right- and left - hand sides of @xmath159 . for  ( 1 )",
    ", let @xmath1098 be the set of vertices on or to the right of @xmath159 , and let @xmath236 be the submap of @xmath112 induced by @xmath1098 .",
    "all faces of @xmath236 have degree three except @xmath159 , which has degree @xmath1257 . by euler s formula",
    "it follows that @xmath1258 .    for @xmath1259 , since @xmath1078 is a leftmost path , @xmath1260 .",
    "also , since @xmath303 returns from the left , we must have @xmath1261 ( or else @xmath1262 , which contradicts that @xmath1078 meets @xmath303 only at its endpoints ) , so @xmath1263 . since @xmath116 is a @xmath115-orientation",
    ", it follows that @xmath1264 , which combined with the equality of the preceding paragraph yields that @xmath1251 .    for ( 3 )",
    "let @xmath1098 be the set of vertices on or to the left of @xmath159 .",
    "euler s formula again yields @xmath1258 . for @xmath1095",
    "not lying on @xmath159 , we have @xmath1265 , so since @xmath116 is a @xmath115-orientation , @xmath1266 . for @xmath1267",
    "we have @xmath1268 , so @xmath1269 is not on the root face ; since @xmath303 returns from the right , it follows that @xmath1270 .",
    "lastly , @xmath1271 since @xmath1272 lies on @xmath159 , and likewise @xmath1273 .",
    "the edges of @xmath303 are disjoint from the sets of edges counted above , so @xmath1274 combined with the equality given by euler s formula this yields @xmath1275 .",
    "next , since @xmath1078 is leftmost , @xmath1276 for @xmath1268 , which is straightforwardly seen .",
    "thus , if @xmath1238 then since @xmath116 is a 3-orientation , we in fact have @xmath1277 , and",
    "the same counting argument yields that @xmath1278 .",
    "similarly , if @xmath1243 then @xmath1279 and again @xmath1278 . finally ,",
    "if @xmath1280 then the same argument yields @xmath1281 .    to conclude , subdivide the path @xmath152 into edge - disjoint sub - paths @xmath1282 , each of which is either a sub - path of @xmath1078 or else meets @xmath1078 only at its endpoints .",
    "we assume @xmath1282 are ordered so that @xmath152 is the concatenation of @xmath1282 , so in particular , @xmath1059 is the first vertex of @xmath1283 , @xmath1284 is the last vertex of @xmath1285 , and for @xmath1286 the last vertex of @xmath1287 is the first vertex of @xmath1288 .    for @xmath1289 ,",
    "let @xmath248 be the number of sub - paths of type @xmath257 among @xmath1290 .",
    "since @xmath1285 is the only sub - path that intersects the root face , and @xmath1283 is the only sub - path which may contain @xmath1059 , the above inequalities and a telescoping sum give @xmath1291}}+{{\\mathbf 1}_{[r_t~\\mathrm{has~type}~3~\\mathrm{or}~4]}})\\ , .\\ ] ] in particular , we obtain the bound @xmath1292 . finally , sub - paths that leave from the right and return from the left correspond to clockwise windings of @xmath159 around @xmath125 , and subpaths that leave from the left and return from the right correspond to counterclockwise windings of @xmath159 around @xmath125 .",
    "it follows that @xmath1293 is precisely the winding number @xmath1231 ; this completes the proof .    in what follows , if @xmath159 is an oriented cycle in @xmath112 then we write @xmath1294 ( resp .",
    "@xmath1295 ) for the sets of vertices lying on or to the left ( resp .  on or to the right ) of @xmath159 , and note that @xmath1296 .",
    "[ prop : cyclecut1 ] for all @xmath130 , if @xmath152 is a shortest path from @xmath125 to @xmath133 and @xmath1297 then there is a cycle @xmath159 in @xmath112 such that @xmath1298 $ ] and @xmath1299 $ ] each have diameter at least @xmath1300 , and such that @xmath1301 for @xmath1302 .",
    "we write @xmath1303 , and partition @xmath152 into edge - disjoint sub - paths @xmath1282 as at the end of the proof of proposition  [ prop : windingbound ] . for @xmath1304 and @xmath1289 ,",
    "let @xmath1305 be the number of sub - paths of type @xmath257 among @xmath1306 .",
    "if @xmath1307 then by definition @xmath1283 leaves @xmath1078 from the left , so @xmath1308 .",
    "let @xmath1309 , and let @xmath1110 be minimal so that @xmath1310 ; necessarily , @xmath1287 has type 1 .",
    "also , @xmath1311 , and since @xmath1312 we also have @xmath1313 .",
    "write @xmath1314 , with @xmath1236 , @xmath1315 for distinct @xmath1316 . by reversing @xmath1287 if necessary",
    ", we may assume @xmath755 , for which the ordered sequence of intersections with @xmath1078 respect the orientation of @xmath1078 , so that there is no need to reverse @xmath1287 to ensure @xmath755 .",
    "however , we do not require such a property for the current proof .",
    "] and write @xmath1317 . since @xmath1318 , the concatenation of @xmath1319 has length at least @xmath728 and so does the concatenation of @xmath1320 . since @xmath152 is a shortest path from @xmath125 to @xmath133 , it follows that for @xmath1321 , @xmath1322 and @xmath1323 .",
    "fix @xmath1324 and let @xmath64 be a shortest path from @xmath125 to @xmath1325 .",
    "the concatenation of @xmath64 , @xmath1326 , and @xmath1320 has @xmath1327 edges .",
    "on the other hand , by the inequality in ( 1 ) from the proof of proposition  [ prop : windingbound ] , we have @xmath1251 , so @xmath152 has at least @xmath1328 edges .",
    "since @xmath152 is a shortest path , it follows that @xmath1329 a similar argument shows that for all @xmath1324 , @xmath1330 .",
    "finally , one of @xmath1298 $ ] or @xmath1299 $ ] contains @xmath1331 , and the other contains @xmath1332 .",
    "therefore , each of @xmath1298 $ ] and @xmath1299 $ ] contains at least @xmath728 vertices of @xmath1078 ; since vertex labels strictly decrease along @xmath1078 , the final claim of the proposition follows .",
    "[ prop : cyclecut2 ] for all @xmath130 , if @xmath152 is a shortest path from @xmath125 to @xmath133 and @xmath1333 then there is an oriented cycle @xmath159 in @xmath112 of length at most @xmath1334 such that @xmath1298 $ ] and @xmath1299 $ ] each have diameter at least @xmath1335 and such that @xmath1336 for @xmath1302 .",
    "the proof is very similar to that of proposition  [ prop : cyclecut1 ] , so we omit most details .",
    "partition @xmath152 into @xmath1282 and define @xmath1305 , @xmath1304 , @xmath1289 as before .",
    "let @xmath1337 .",
    "there are at least @xmath728 values of @xmath1110 such that @xmath1287 has type 1 and @xmath1338 ; among these , let @xmath1339 minimize @xmath1340",
    ". then @xmath1341 the sub - path of @xmath1078 joining the endpoints of @xmath1342 has at most two more edges than @xmath1342 , so the cycle formed by this sub - path of @xmath1078 and @xmath1342 has at most @xmath1343 vertices .",
    "the remainder of the proof closely follows that of proposition  [ prop : cyclecut1 ] .",
    "fix @xmath674 , and let @xmath453 be uniformly distributed in @xmath452 .",
    "( we will later take @xmath24 , but suppress the dependence of @xmath453 on @xmath2 for readability . ) as in section  [ sec : label_dist_determinist ] , let @xmath1033 and let @xmath1034 , and write @xmath1035 and @xmath238 . by ( [ eq : diagram ] ) , @xmath558 is uniformly distributed in @xmath1344 and @xmath1345 is uniformly distributed in @xmath650 .",
    "again define @xmath663 as in section  [ sec : labels - displacements ] and again extend @xmath663 to @xmath527 by taking @xmath1038 and @xmath1039 .    using corollary  [ cor : labelslmp ] and proposition  [ prop : windingbound ]",
    ", we now show that with high probability , the labelling @xmath1346 gives distances to @xmath133 up to a uniform @xmath167 correction .",
    "[ thm : distance ] for all @xmath410 , @xmath1347\\right\\}}=0\\ , .\\ ] ]    the upper bound @xmath1348 holds deterministically by corollary  [ cor : labelslmp ] . to prove the lower bound ( in probability ) , we begin by stating a lemma whose proof , postponed to the end of the section , is based on soft convergence arguments and the continuity of the brownian snake .",
    "recall the definition of the contour exploration @xmath1349 . given @xmath1350 and @xmath1351 ,",
    "let @xmath1352 then let @xmath1353 be the set of vertices of @xmath120 visited by the contour exploration between times @xmath1354 and @xmath1355 .",
    "[ lem : tree_displacement_size_bound ] for all @xmath410 and @xmath1356 , there exist @xmath1357 and @xmath1358 such that for @xmath1359 , @xmath1360    as mentioned , we need only prove the lower bound .",
    "it suffices to show that for all @xmath410 , @xmath1361 ( we have done a little anticipatory selection of constants in the preceding formula ) .",
    "write @xmath1362 for greatest distance between any two vertices of @xmath112 . by corollary  [ cor : labelslmp ] ,",
    "@xmath1363 , so by fact  [ fact : rerooting ] , @xmath1364 .",
    "finally , @xmath1365 } z_{(t',\\xi',d)}(x)-\\min_{x \\in [ 0,1 ] } z_{(t',\\xi',d)}(x)\\ , , \\ ] ] and proposition  [ prop : snake ] implies that @xmath1366 } z_{(t',\\xi',d)}(x)-\\min_{x \\in [ 0,1 ] } z_{(t',\\xi',d)}(x))n^{-1/4}$ ] converges in distribution as @xmath1367 , to an almost surely finite random variable .",
    "it follows that there is @xmath1368 such that @xmath1369 .",
    "choose such @xmath127 , and let @xmath503 be the event that @xmath112 contains a cycle @xmath159 of length at most @xmath1370 such that with @xmath1294 and @xmath1295 as defined earlier , for @xmath1302 we have @xmath1371 next , suppose there exists @xmath1372 for which @xmath1373 .",
    "fix such an edge @xmath132 , and any shortest path @xmath152 from @xmath125 to @xmath133 ; by proposition  [ prop : windingbound ] we have @xmath1374 .",
    "it follows from proposition  [ prop : cyclecut2 ] that either @xmath1375 or else @xmath503 occurs .",
    "it thus suffices to show that @xmath1376 suppose @xmath503 occurs , let @xmath159 be as in the definition of @xmath503 , and let @xmath1377 be the subgraph of @xmath120 induced by @xmath1378 .",
    "then @xmath1377 is a forest , and each component of @xmath1377 is contained within @xmath1298 $ ] or @xmath1299 $ ] since @xmath120 is a subgraph of @xmath112 .",
    "also , for @xmath131 we have @xmath1379 .",
    "it follows that , for @xmath1380 , if @xmath1381 $ ] contains @xmath163 components of @xmath1377 then one such component @xmath1382 must have @xmath1383 but @xmath1377 has at most @xmath1384 connected components .",
    "when @xmath1385 we have @xmath1386 , so for each @xmath1302 , some component @xmath1382 of @xmath1377 contained in @xmath1381 $ ] must have @xmath1387 using again that labels of adjacent vertices differ by at most one , if @xmath1385 then for @xmath1302 there is @xmath1388 such that @xmath1389 now for @xmath1302 let @xmath1390 . also , fix any @xmath1391 . by lemma  [ lem : tree_displacement_size_bound ] there is @xmath1357 such that for @xmath2 sufficiently large , @xmath1392 for @xmath2 large enough that @xmath1393 , for @xmath1302 we also have @xmath1394 , and it follows that for @xmath2 sufficiently large @xmath1395 the event in the last probability is that @xmath112 contains a separating cycle of length at most @xmath1370 that separates @xmath112 into two subtriangulations , each of size at least @xmath1396 .",
    "the number @xmath1397 of simple triangulations of an @xmath1398-gon with @xmath2 inner vertices has been computed in @xcite , and has the asymptotic form @xmath1399 , where @xmath1400 and @xmath1401 are explicit constants .",
    "( observe that , in this notation , the number of rooted simple triangulations with @xmath2 vertices is equal to @xmath1402 . ) for @xmath1403 and @xmath1357 , denote by @xmath1404 the event that a random simple triangulation with @xmath2 vertices admits a separating cycle @xmath1405 of length at most @xmath1406 that separates @xmath1407 into two components each of size at least @xmath1396 .",
    "then @xmath1408 where @xmath1409 depends only on @xmath1401 and @xmath1406 .",
    "the event within the last probability in ( [ eq : final_bound ] ) is contained within the event @xmath1410 , so for @xmath2 sufficiently large its probability is at most  @xmath1411 . in view of ( [ eq : inviewof ] )",
    ", this completes the proof .",
    "fix @xmath410 and @xmath1356 as in the statement of the lemma .",
    "list the elements of @xmath1412 according to lexicographic order in @xmath705 as @xmath1413 , and for @xmath1414 let @xmath1415 .    by considering the height process , a straightforward argument",
    "( almost identical that given for equations ( 12 ) and ( 13 ) of @xcite ) shows that @xmath1416 from which it follows that for any @xmath715 , @xmath1417 in particular , given @xmath1357 , for @xmath2 large , if @xmath1418 for all @xmath1419 then with high probability @xmath1420 .",
    "it therefore suffices to prove there exists @xmath1357 such that for all @xmath2 sufficiently large , @xmath1421 by proposition  [ prop : snake ] and skorohod s embedding theorem , we now work in a space in which @xmath1422 let @xmath1423 , |z(x)-z(y)| > \\beta/(2\\cdot(4/3)^{1/4})\\}$ ] , or let @xmath1424 if the set in the preceding infimum is empty .",
    "when @xmath1425 either @xmath1426 or @xmath1427 , so either @xmath1428 or @xmath1429 . by ( [ eq : lemmaproof_skorohod ] )",
    ", it follows that a.s .",
    "@xmath1430 for all @xmath2 sufficiently large . finally , since @xmath47 is a.s .  uniformly continuous on",
    "@xmath55 $ ] , almost surely @xmath1431 , and ( [ eq : lemmaproof_toprove ] ) follows immediately .",
    "fix @xmath674 and @xmath560 .",
    "let @xmath1432 , and let @xmath1433 . then let @xmath1434 , let @xmath1435 , let @xmath1436 , let @xmath1437 be as in section  [ sec : contourproc ] . finally , note that @xmath1438 and that @xmath1439 .",
    "then set @xmath1440 , and let @xmath1441 the triple @xmath453 may be recovered from @xmath649 and the vertex @xmath1442 , and @xmath649 may be recovered from @xmath296 and @xmath335 ; it follows that @xmath395 is a bijection between @xmath452 and @xmath403 .",
    "now let @xmath1443 be a uniformly random element of @xmath452 and let @xmath1444 , so that @xmath403 is a uniformly random element of @xmath403 . for later use ,",
    "let @xmath1445 , and let @xmath1446 .",
    "then set @xmath1447 , set @xmath1448 , set @xmath1449 , set @xmath1450 , and set @xmath1451 , so that @xmath1452 .    to prove theorem  [ thm : main ] for triangulations",
    ", we verify that @xmath403 is a cs family , with sequences @xmath1453 and @xmath1454 . assuming this , to conclude note that , by corollary  [ cor : uniftreelaw ] , @xmath1455 is a uniformly random element of @xmath468 . since @xmath1456 as @xmath24 , the result then follows from theorem  [ prop : cstriple ] .    by proposition  [ prop : label_bij ] and",
    "corollaries  [ cor : uniftreelaw ] and  [ cor : vldist ] , @xmath1457 has law @xmath675 , where the law of @xmath65 is given by ( [ eq : offspring ] ) and @xmath671 is as in corollary  [ cor : vldist ] .",
    "condition  * 1 .",
    "*  then holds by proposition  [ prop : snake ] . condition  * 2.*(i )  is immediate from the construction as @xmath1458 contains only two vertices ( @xmath133 and @xmath503 ) that are not elements of @xmath415 .",
    "next , for @xmath1459 , by proposition  [ prop:2points ] and fact  [ fact : rerooting ] , @xmath1460 where the additive constant @xmath1461 arises from the @xmath27 in proposition  [ prop:2points ] and four times the additive error of @xmath115 from fact  [ fact : rerooting ] . by the definition of @xmath1462 , if @xmath257 and @xmath879 are such that @xmath1463 and @xmath1464 then @xmath1465 and @xmath1466 ( these additive factors of @xmath27 arise from the possibility that @xmath257 and @xmath879 not the first times @xmath125 and @xmath83 are visited by the contour exploration ) .",
    "it follows that for all @xmath1467 $ ] , @xmath1468 which verifies * 3.*(i ) .",
    "condition  * 3.*(ii ) follows from theorem  [ thm : distance ] since @xmath1469 and @xmath133 are always adjacent in @xmath1470 .",
    "it remains to establish * 2.*(ii ) .    since @xmath1471 , @xmath1472 . by ( [ eq:3cons ] )",
    "it follows that @xmath1473 so by * 1 .",
    "* , @xmath1474 where @xmath1475 $ ] is independent of @xmath47 ; the last equality in distribution is from  ( [ eq : invariance_rerooting ] ) .",
    "now let @xmath1476 be a uniformly random element of @xmath415 .",
    "arguing from ( [ eq:3cons ] ) and * 1 . *  as above",
    ", we obtain @xmath1477    next , recall that @xmath1455 is uniformly random in @xmath468 .",
    "it follows that , conditional on @xmath0 , @xmath1478 is a uniformly random element of @xmath1479 ; let @xmath1480 be another uniformly random element of @xmath1479 , independent of @xmath1478 and of @xmath1476 . since @xmath1481 , it follows that @xmath1482 let @xmath116 be the minimal @xmath115-orientation associated to @xmath1458 .",
    "writing @xmath1483 , let @xmath1484 if @xmath1485 , and @xmath1486 otherwise .",
    "note that @xmath1487 is either equal to or incident to @xmath1488 , so @xmath1489 .",
    "further , since @xmath1480 is a uniformly random corner of @xmath0 , @xmath1490 is a uniformly random edge of @xmath0 , so for all @xmath1491 , @xmath1492 is proportional to the outdegree of @xmath83 in @xmath116 .",
    "since all inner vertices of @xmath0 have outdegree 3 in @xmath1493 , and @xmath1480 is independent of @xmath1476 , we may couple @xmath1494 with a uniformly random element @xmath1495 of @xmath415 , independent of @xmath1476 , such that @xmath1496 as @xmath24 .",
    "furthermore , @xmath1497 on @xmath1498 , so @xmath1499 in probability , as @xmath24 .",
    "it then follows from ( [ eq : triang_conv2 ] ) and ( [ eq : triang_conv3 ] ) that @xmath1500 with ( [ eq : triang_conv1 ] ) , this establishes * 2.*(ii ) and completes the proof .",
    "the results on which the proof for simple triangulations rely all have nearly exact analogues for simple quadrangulations , which makes the proof for quadrangulations quite straightforward . in this section , we state the required results , with an emphasis on the details that differ between the two cases .",
    "the counterpart of the bijection between simple triangulations and @xmath27-blossoming trees is a bijection between simple quadrangulations and 1-blossoming trees , due to @xcite . in this section , by `` blossoming trees '' we mean 1-blossoming trees , and write @xmath1501 for the set of blossoming trees with @xmath2 inner vertices .",
    "fix a blossoming tree @xmath120 . given a stem @xmath475 with @xmath476 , if @xmath477 is followed by _ three _",
    "inner edges in a clockwise contour exploration of @xmath120  @xmath478 , @xmath479 and @xmath1502 , say  then the _ local closure _ of @xmath475 consists in removing the blossom @xmath480 ( from both @xmath260 and @xmath440 ) and its stem , and adding a new edge @xmath1503 .",
    "after all local closures have been performed , all unclosed blossoms are incident to a single face @xmath217 .",
    "a simple counting argument shows that there exist exactly two edges @xmath233 and @xmath1504 of @xmath217 such that @xmath1505 and @xmath176 are each incident to one unclosed stem ; between any two other consecutive unclosed stems , there are two edges of @xmath217",
    ". assume by symmetry that @xmath217 lies to the left of both @xmath478 and @xmath1506 , and write @xmath1507 , @xmath1508 , @xmath1509 and @xmath1510 ( see figure  [ fig : part - clo - quad ] ) .",
    "given @xmath493 , the planted blossoming tree @xmath307 is _ balanced _",
    "if @xmath1511 or @xmath1512 .",
    "suppose @xmath1513 and write @xmath667",
    ". let @xmath497 ( resp .",
    "@xmath498 ) be the set of non - blossom vertices @xmath125 incident to an unclosed blossom in the partial closure , such that in the planted tree @xmath499 ( resp .",
    "@xmath500 ) we have @xmath1514 ( resp .",
    "@xmath1515 ) .",
    "to finish the construction , remove the remaining blossoms and their stems .",
    "add two additional vertices @xmath133 and @xmath503 within the outer face , and an edge between @xmath133 ( resp .",
    "@xmath503 ) and each of the vertices of @xmath497 ( resp .  of @xmath498 ) . in the resulting map ,",
    "define a corner @xmath127 by @xmath504 if @xmath1516 or @xmath506 if @xmath1517 .",
    "finally , add an edge between @xmath133 and @xmath503 in such a way that , after its addition , @xmath127 lies on the same face as @xmath118 , and @xmath83 ( see figure  [ fig : clo - quad - ori ] ) .",
    "write @xmath1518 for the resulting map .",
    "fix a planted planar quadrangulation @xmath1519 , and view @xmath1519 as embedded in @xmath113 so that the face containing @xmath9 is the unique unbounded face .",
    "a _ @xmath27-orientation _ of a @xmath1519 is an orientation for which @xmath1520 for each vertex @xmath83 not incident to the root face and , listing the vertices of the unbounded face in clockwise order as @xmath1521 with @xmath667 , we have @xmath1522 , @xmath1523 and @xmath1524 .",
    "write @xmath1525 for the resulting quadrangulation .",
    "@xcite showed that a quadrangulation admits a 2-orientation if and only if it is simple , and in this case admits a unique _ minimal _ 2-orientation .",
    "[ prop : bijeric ] the closure operation @xmath1526 is a bijection between the set @xmath1527 of balanced 1-blossoming trees with @xmath2 inner vertices and the set @xmath1528 of planted quadrangulations with @xmath1529 vertices .",
    "furthermore , for @xmath1530 , @xmath1531 is naturally endowed with its minimal 2-orientation by viewing stems of @xmath239 as oriented toward blossoms , and all other edges as oriented toward the root .      given a blossoming tree @xmath1532 ,",
    "define @xmath1533 as follows .",
    "let @xmath1534 be the contour ordering from section  [ sub : planetrees ] , with @xmath1535 .",
    "let @xmath1536 and , for @xmath571 , set @xmath1537 as opposed to section  [ sec : bij_with_labels ] , here the label increases by 2 after each stem .",
    "it is not hard to see that @xmath1532 is balanced if and only if @xmath9 is incident to one stem and @xmath1538 for all @xmath574 . with the same definition of successors for corners , and the same construction as in section  [ sec : bij_with_labels ] ,",
    "this labelling yields another description of the bijection from  section  [ sub : bijquad ] .",
    "let @xmath1539 be the set of triples @xmath1540 where @xmath577 is a planted plane tree and @xmath457 is a @xmath1541 labeling of @xmath261 such that for all @xmath459 , listing the edges from @xmath83 to its children in lexicographic order as @xmath1542 , the sequence @xmath1543 is non - decreasing .",
    "let @xmath1544 , and let @xmath1545 have law given by @xmath1546 the following is the analogue of corollary  [ cor : vldist ] for quadrangulations .",
    "let @xmath296 be a galton  watson tree with branching factor @xmath1545 conditioned to have @xmath2 vertices .",
    "conditional on @xmath296 , independently for each @xmath640 , list the children of @xmath83 in clockwise order as @xmath1547 and let @xmath1548 be a random vector with law @xmath1549 , where @xmath1549 is the uniform law over non - decreasing vectors @xmath1550 .",
    "finally , let @xmath655 .",
    "then @xmath649 is uniformly distributed in @xmath1551 and the closure @xmath1552 is uniformly distributed in @xmath1553 .",
    "the proof of theorem  [ prop : snake ] extends immediately to this setting and we obtain the following convergence ( see appendix  [ sec : notes ] for the computation of the constants ) .    [ prop : snakequad ] for @xmath674 let @xmath683 be a uniformly random element of @xmath1551 .",
    "then as @xmath24 , @xmath1554 for the topology of uniform convergence on @xmath95,{\\mathbb{r}})^2 $ ] .",
    "we next state analogues of the results of sections  [ sec : label_dist_determinist ] and  [ sec : label_approx ] for quadrangulations .",
    "fix @xmath674 and @xmath1555 , let @xmath1556 be endowed with its minimal 2-orientation @xmath1525 and let @xmath1557 be the validly - labelled tree associated to @xmath307 . finally , write @xmath1558 and @xmath1532 .",
    "the definition of leftmost paths for simple quadrangulations is an obvious modification of that for triangulations .",
    "together with the fact that ( with @xmath1559 defined as before ) for @xmath1560 , @xmath1561 , we obtain the following facts . the lemma is a counterpart of lemma  [ lem:3diff ] and corollary  [ cor : labelslmp ] ; the proposition is a counterpart of proposition  [ prop:2points ] , and uses an identical definition for @xmath1562 .",
    "[ lem : labelslmpquad ] for all @xmath1563 , @xmath1564 .",
    "[ prop:2pointsquad ] for all @xmath1565 , @xmath1566    the winding number introduced in definition  [ dfn : windingnumber ] is used in the following analogue of proposition  [ prop : windingbound ] .",
    "[ prop : windingboundquad ] for all @xmath1567 , if @xmath152 is a simple path from @xmath132 to @xmath133 then @xmath1568 .",
    "the proof of proposition  [ prop : windingbound ] extends readily to the case of quadrangulations . keeping the same notation ,",
    "the following inequalities ( whose proofs are left to the reader ) allow one to conclude along the same lines .    1 .",
    "if @xmath303 leaves @xmath1078 from the right and returns from the left then @xmath1251 .",
    "2 .   if @xmath303 leaves @xmath1078 from the left and returns from the left then @xmath1252 .",
    "if @xmath303 leaves @xmath1078 from the left and returns from the right then @xmath1569}}+{{\\mathbf 1}_{[j<\\ell]}})$ ] .",
    "4 .   if @xmath303 leaves @xmath1078 from the right and returns from the right then @xmath1570}}$ ] .    combining lemma  [ lem : labelslmpquad ] and proposition  [ prop : windingboundquad ] , we obtain that with probability tending to one , distances to @xmath133 in @xmath152 are given by labels in @xmath1571 up to a @xmath167 perturbation .",
    "[ thm : distancequad ] for all @xmath410 , @xmath1572\\right\\}}=0\\ , .\\ ] ]    the only element of the proof of theorem  [ thm : distance ] that can not be directly applied here is the approximation of @xmath1573 given in  ( [ eq : dectriq ] ) that relies on the number @xmath1397 of simple triangulations of an @xmath1398-gon .",
    "this has an easy fix : for @xmath1574 , write @xmath1575 for the event that a uniformly random simple quadrangulation @xmath1576 with @xmath2 faces admits a separating cycle of length at most @xmath1406 , separating @xmath1576 into two components each of size at least @xmath1396 .",
    "an explicit expression for the number @xmath1577 of simple quadrangulations of a @xmath1578-gon with @xmath2 inner vertices is derived in @xcite , and has the asymptotic form @xmath1579 , where @xmath1400 and @xmath1401 are explicit constants .",
    "( observe that , in this notation , the number of rooted simple quadrangulations with @xmath2 vertices is equal to @xmath1580 . ) .",
    "then @xmath1581 where @xmath1582 depends only on @xmath1401 and @xmath1406 .",
    "lab thanks grgory miermont , gilles schaeffer , and jean - franois le gall for enlightening discussions before and during the preparation of the manuscript . lab received support from nserc and fqrnt while conducting this research , and thanks both .",
    "lab also thanks gilles schaeffer and cnrs umi 3457 for facilitating his visit to the laboratoire dinformatique de lcole polytechnique in may 2012 , during which the research progressed substantially .",
    "ma thanks ric fusy , dominique poulalhon and gilles schaeffer for fruitful and stimulating discussions .",
    "ma acknowledges the support of the erc under the agreement `` erc stg 208471 - exploremap '' and of the anr under the agreement `` anr 12-js02 - 001 - 01 - cartaplus '' .",
    "ma also thanks bruce reed , cnrs umi 3457 and lirco for facilitating her visits to the mathematics department of mcgill university , which played a major role in this work .",
    "34 [ 1]#1 [ 1]`#1 ` urlstyle [ 1]doi : # 1    marie albenque and dominique poulalhon .",
    "generic method for bijections between blossoming trees and planar maps .",
    "arxiv:1305.1312 [ math.co ] , 2013 .",
    "david aldous .",
    "the continuum random tree .",
    "ii . an overview . in _",
    "stochastic analysis ( durham , 1990 ) _ , volume 167 of _ london math .",
    "lecture note ser .",
    "_ , pages 2370 .",
    "cambridge univ . press ,",
    "cambridge , 1991 .",
    "jan ambjrn , bergfinnur durhuus , and thordur jonsson .",
    "_ quantum geometry_. cambridge monographs on mathematical physics .",
    "cambridge univ . press , 1997 .",
    "cyril banderier , philippe flajolet , gilles schaeffer , and michle soria .",
    "random maps , coalescing saddles , singularity analysis , and airy phenomena . _",
    "random structures algorithms _ , 190 ( 3 - 4):0 194246 , 2001",
    ".    johel beltran and jean - franois le  gall .",
    "quadrangulations with no pendant vertices .",
    "bernoulli , to appear , 2013 + .    olivier bernardi and ric fusy . a bijection for triangulations , quadrangulations , pentagulations , etc .",
    "_ j. combin .",
    "theory ser .",
    "1190 ( 1):0 218244 , 2012 .",
    "jrmie bouttier and emmanuel guitter .",
    "distance statistics in quadrangulations with no multiple edges and the geometry of minbus .",
    "_ j. phys .",
    "a _ , 430 ( 20):0 205207 , 31 , 2010 .    william  g brown",
    ". enumeration of triangulations of the disk .",
    "london math .",
    "soc _ , 140 ( 3):0 746768 , 1964 .",
    "william  g brown .",
    "enumeration of quadrangular dissections of the disk .",
    "j. math _ , 170 ( 3):0 302317 , 1965 .",
    "dmitri burago , yuri burago , and sergei ivanov .",
    "_ a course in metric geometry _ , volume  33 of _ graduate studies in mathematics_. american mathematical society , 2001 .",
    "philippe chassaing and gilles schaeffer .",
    "random planar lattices and integrated superbrownian excursion . _",
    "probab . theory related fields _",
    ", 1280 ( 2):0 161212 , 2004 .",
    "bertrand duplantier and scott sheffield .",
    "liouville quantum gravity and kpz .",
    "_ , 185:0 333393 , 2011 .",
    "steven  n evans and anita winter .",
    "subtree prune and regraft : a reversible real tree - valued markov process .",
    "_ , 340 ( 3):0 918961 , 2006 .",
    "_ combinatoire des cartes planaires et applications algorithmiques_. phd thesis , cole polytechnique , 2010 .",
    "zhicheng gao and nicholas  c wormald .",
    "sharp concentration of the number of submaps in random planar triangulations .",
    "_ combinatorica _ , 230 ( 3):0 467486 , 2003 .",
    "christophe garban .",
    "quantum gravity and the kpz formula . in _",
    "sminaire bourbaki _ ,",
    "volume  64 , 2011 - 2012 .",
    "svante janson and jean - franois marckert .",
    "convergence of discrete snakes .",
    "_ j. theoret .",
    "_ , 180 ( 3):0 615645 , 2005 .",
    "jean - franois le  gall .",
    "_ spatial branching processes , random snakes and partial differential equations_. birkhauser basel , 1999 .    jean - franois le  gall .",
    "random trees and applications .",
    "_ , 2:0 245311 , 2005",
    ".    jean - franois le  gall .",
    "the topological structure of scaling limits of large planar maps . _ invent .",
    "_ , 1690 ( 3):0 621670 , 2007 .    jean - franois le  gall .",
    "geodesics in large planar maps and in the brownian map . _ acta math .",
    "_ , 2050 ( 2):0 287360 , 2010 .    jean - franois le  gall .",
    "uniqueness and universality of the brownian map .",
    "probab . , to appear , 2013 + .",
    "jean - franois le  gall and frdric paulin .",
    "scaling limits of bipartite planar maps are homeomorphic to the 2-sphere .",
    "_ , 180 ( 3):0 893918 , 2008 .",
    "jean - franois marckert .",
    "the lineage process in galton ",
    "watson trees and globally centered discrete snakes .",
    "_ , 180 ( 1):0 209244 , 2008 .",
    "jean - franois marckert and grgory miermont .",
    "invariance principles for random bipartite planar maps .",
    "_ , 350 ( 5):0 16421705 , 2007 .",
    "jean - franois marckert and abdelkader mokkadem .",
    "limit of normalized quadrangulations : the brownian map .",
    "_ , 340 ( 6):0 21442202 , 2006 .",
    "grgory miermont . on the sphericity of scaling limits of random planar quadrangulations .",
    "_ electron .",
    "probab _ , 13:0 248257 , 2008 .",
    "grgory miermont .",
    "tessellations of random maps of arbitrary genus ( mosaiques sur des cartes alatoires en genre arbitraire ) .",
    "_ , 420 ( 5):0 725781 , 2009 .",
    "grgory miermont .",
    "the brownian map is the scaling limit of uniform random plane quadrangulations .",
    "acta math . , to appear , 2013 + .",
    "patrice ossona  de mendez .",
    "_ orientations bipolaires_. phd thesis , cole des hautes etudes en sciences sociales , paris , 1994 .",
    "dominique poulalhon and gilles schaeffer . optimal coding and sampling of triangulations .",
    "_ algorithmica _ , 460 ( 3):0 505527 , 2006 .",
    "gilles schaeffer .",
    "_ conjugaison darbres et cartes combinatoires alatoires_. phd thesis , universit bordeaux  i , 1998 .",
    "walter schnyder .",
    "planar graphs and poset dimension .",
    "_ order _ , 5:0 323343 , 1989 .",
    "kenneth stephenson . _ introduction to circle packing_. cambridge univ .",
    "press , cambridge , 2005 .",
    "in this section we briefly derive the forms of the constant coefficients arising in theorem  [ thm : main ] and proposition  [ prop : snake ] .",
    "for simple triangulations , we work with a critical galton ",
    "watson tree with a branching factor @xmath503 uniquely specified by the following facts .    1 .",
    "criticality : @xmath629 .",
    "2 .   there exists @xmath1583 such that if @xmath112 is geometric@xmath1584 then the law of @xmath503 is given by setting , for each @xmath1585 , @xmath1586    from these conditions , a straightforward calculation shows that @xmath1587 , and another easy computation yields that @xmath1588 } = 7/3 $ ] so @xmath1589 . in the notation of section  [ sub : coupling ] , this yields @xmath1590 .",
    "next , the displacement @xmath318 between a node in our tree and a uniformly selected child is equal to one of @xmath458 , each with equal probability ; it follows that @xmath1591}=2/3 $ ] .",
    "symmetrize as in section  [ sub : coupling ] , then let @xmath651 be the law of the displacement vector for a vertex with @xmath163 children . again using the notation of section  [ sub : coupling ]",
    ", it follows that @xmath1592 for all @xmath247 , so @xmath1593 and @xmath1594 .",
    "together with theorem  [ prop : cstriple ] , this explains the values of constants relating to triangulations .",
    "we remark that the scaling required for convergence of triangulations in theorem  [ thm : main ] agrees with the intuition described in @xcite , section  4.1 .",
    "it differs by a factor @xmath1595 from the scaling for general triangulations that arises in theorem  1.1 of @xcite , which can be understood as follows .",
    "first , in @xcite , the index @xmath2 denotes the number of faces rather than the number of vertices , which accounts for a factor @xmath1596 .",
    "the size of the simple core of a loopless triangulation with @xmath728 vertices is typically @xmath1597 ( see table  4 of @xcite ) ; this explains another factor @xmath1596 .",
    "finally , the loopless core of a simple triangulation with @xmath728 vertices is again typically of order @xmath1597 ( this is not proved in @xcite but may be handled using the same technology ) ; this explains the final factor @xmath1596 .",
    "the latter factor does not arise in considering quadrangulations , which can not contain loops ; this may be viewed as explaining the different form of the constant for triangulations versus those of bipartite maps in theorem  1.1 of @xcite .    for simple quadrangulations , we work with a critical galton ",
    "watson tree with branching factor @xmath503 uniquely specified by the following facts .    1 .",
    "criticality : @xmath629 .",
    "there exists @xmath1583 such that if @xmath112 is geometric@xmath1584 then the law of @xmath503 is given by setting , for each @xmath1585 , @xmath1598}}\\ , .\\ ] ]    from these calculations , a straightforward calculation shows that @xmath1599 , and another easy computation then yields that @xmath1588}=\\frac{5}{2}$ ] , so @xmath1600 .",
    "next , the displacement @xmath318 between a node @xmath83 and a uniformly selected child is equal to @xmath1601 or to @xmath471 , each with equal probability , so has @xmath1602}=0 $ ] and @xmath1603 .",
    "using theorem  [ prop : cstriple ] as above then yields the scaling for quadrangulations in theorem  [ thm : main ] , and agrees with the two - point calculation for simple quadrangulations by bouttier and guitter @xcite .",
    "throughout the section we let @xmath400 be a cs family ( with associated sequences @xmath407 and @xmath408 of constants ) , let @xmath1452 be a uniformly random element of @xmath403 , and write @xmath405 and @xmath404 .",
    "we also write @xmath1604 , @xmath1605 , and @xmath1606 for succinctness .    next , for @xmath450 , list the vertices of @xmath415 according to their lexicographic order in @xmath1607 as @xmath1608 , and given @xmath1609 , let @xmath1610 be the index at which @xmath1611 first appears in the contour exploration .",
    "as in lemma  [ lem : cscontour ] , a straightforward argument using the height process ( following ( 12 ) and ( 13 ) of @xcite ) shows that when @xmath1613 , deterministically @xmath1614 where we abuse notation by writing @xmath1615 for the set of vertices of the simple path between @xmath1616 and @xmath83 in @xmath84 . since @xmath1617 it thus suffices to show that @xmath1618 . to see this ,",
    "let @xmath71 and @xmath72 be independent uniform@xmath55 $ ] random variables .",
    "if the latter convergence fails to hold then for infinitely many @xmath2 , with uniformly positive probability , a single path from the root in @xmath705 contains a macroscopic proportion of the elements of @xmath415 .",
    "it follows easily that @xmath1619 on the other hand , @xmath1620 , so the preceding equation implies that @xmath42 is not the distributional limit of any rescaling of @xmath1621 .",
    "* does not hold , a contradiction .",
    "we claim that it suffices to establish @xmath1622 for @xmath380 .",
    "( in the above , by @xmath80 we really mean the distance on @xmath415 induced by @xmath80 .",
    "this slight notational abuse should cause no confusion . ) indeed , suppose the latter convergence holds . by skorohod",
    "s representation theorem , we may work in a space in which the convergence ( [ eq : rhomu ] ) is almost sure .",
    "fix @xmath410 , and let @xmath1623 be the event that @xmath1624 and @xmath1625 .",
    "now let @xmath1626 ; then @xmath1627 has distortion at most  @xmath1411 .",
    "furthermore , @xmath1628 and @xmath1629 .",
    "let @xmath1630 be the probability measure on @xmath1631 whose restriction to @xmath1632 is the uniform probability measure .",
    "then @xmath1630 is a coupling of @xmath19 ( as a measure on @xmath415 ) and @xmath19 ( as a measure on @xmath17 ) , and @xmath1633 .",
    "on @xmath1623 we have that @xmath1627 is a correspondence , so on @xmath1623 , @xmath1634 and by the triangle inequality it follows that on @xmath1623 , @xmath1635 finally , in this space , since @xmath406 is a cs family , @xmath1636 as @xmath24 , and it follows that @xmath1637 for @xmath380 .",
    "we thus turn our attention to proving ( [ eq : rhomu ] ) .",
    "the first part of our argument is based on that of @xcite , proposition 3.2 ; the second part is based on an argument from section 8.3 of @xcite .",
    "define a function @xmath1638 ^ 2 \\to [ 0,\\infty)$ ] as follows .",
    "let @xmath1639 , and for @xmath1640 $ ] , let @xmath1641 .",
    "then extend @xmath1642 to @xmath55 $ ] by `` bilinear interpolation '' : if @xmath1643 for @xmath1644 , @xmath1645 then let @xmath1646 using * 1 .",
    "* , we now work in a space in which @xmath1647 we will show that in such a space , additionally @xmath1648 for the topology of uniform convergence on @xmath95 ^ 2)$ ] . assume ( [ eq : joint_conv_toprove ] ) holds , and for @xmath674 , consider the correspondence @xmath1649 between @xmath1650 and @xmath1651 given by letting @xmath1652 \\in [ 0,1]/\\{d^*=0\\}=s$ ] correspond to @xmath1653 if and only if @xmath1654 , for @xmath1655 . by ( [ eq : joint_conv_toprove ] ) , the distortion of @xmath1649 tends to zero .",
    "let @xmath1656 be the uniform probability measure on @xmath1657 .",
    "define a coupling between @xmath1656 and @xmath65 as follows .",
    "fix @xmath1658 $ ] .",
    "let @xmath1659 \\in s$ ] .",
    "if @xmath1660 then let @xmath1661 .",
    "if @xmath1662 and @xmath1663 then let @xmath1664 .",
    "finally , let @xmath1665 \\to s \\times r_n$ ] , let @xmath1142 denote one - dimensional lebesgue measure on @xmath55 $ ] , and let @xmath1666 .",
    "write @xmath900 and @xmath1667 for the projection maps from @xmath1668 to @xmath64 and to @xmath415 , respectively .",
    "we clearly have @xmath1669 .",
    "also , for each edge @xmath594 , there are precisely two indices @xmath1670 for which @xmath1671 ; it follows that @xmath1672 .    for any pair @xmath1673,r_n(i ) ) \\in { { \\mathcal r}}_n$ ] , either @xmath1661 or @xmath1674 , the two possibilities due to the two directions in which the edge @xmath1675 is traversed during the contour exploration .",
    "we thus let @xmath1676,w ) : ( [ s],w ) \\in { { \\mathcal r}}_n\\mbox { or } ( [ s],p(w ) ) \\in { { \\mathcal r}}_n\\}\\ , .\\ ] ] since @xmath1649 was a correspondence , @xmath1677 is again a correspondence , and @xmath1678 .",
    "finally , @xmath1679 so @xmath1680 as @xmath24",
    ". it follows by definition that @xmath1681 for @xmath380 . finally , the prokhorov distance between @xmath1656 and @xmath19 is @xmath1682 , which tends to zero as @xmath24 .",
    "we may therefore replace @xmath1656 by @xmath19 and the preceding convergence still holds , which establishes ( [ eq : rhomu ] ) and so proves the theorem .",
    "it thus remains to prove ( [ eq : joint_conv_toprove ] ) .",
    "define a function @xmath1683 ^ 2 \\to [ 0,\\infty)$ ] as follows : for @xmath1684 , let @xmath1685 then extend @xmath1686 to @xmath55 ^ 2 $ ] by bilinear interpolation as with @xmath1642 . recalling that for integer @xmath1687 , @xmath1688 , it follows straightforwardly from * 1 . *  that for all @xmath1689 , @xmath1690 ( the derivation of this inequality is spelled out in a little more detail in @xcite , section 3 ) .",
    "since @xmath47 is almost surely continuous , it follows that for any @xmath1691 and @xmath1692 , there exist @xmath1693 and @xmath1694 such that for all @xmath1695 , @xmath1696 next , by * 3*(i ) , after increasing @xmath1697 if necessary , for @xmath1695 , @xmath1698 } b_n(d_n(x , y ) - d_n^{\\circ}(x , y ) ) \\ge 2^{-(k+1)}\\right\\ } }",
    "\\le \\frac{\\eta}{2^{k+1}}\\ , .\\ ] ] by decreasing @xmath1699 if necessary , we may also ensure that for @xmath1700 , @xmath1701 combining the three preceding estimates yields that for all @xmath450 , @xmath1702 so @xmath1703 in other words , with @xmath1704 as above , with probability at least @xmath1705 , for all @xmath2 , @xmath1706 belongs to the compact @xmath1707 ^ 2,{\\mathbb{r } } ) : f(0,0)=0 , \\forall k,\\sup_{|x - y| \\le \\delta_k } f(x , y)\\le 2^{-k}\\}\\ , , \\ ] ] which implies that @xmath1708 is tight in @xmath95 ^ 2,{\\mathbb{r}})$ ] .",
    "for the remainder of the proof , we let @xmath1709 ^ 2,{\\mathbb{r}})$ ] be any almost sure subsequential limit of @xmath1706 ; we suppress the subsequence from the notation for readability .",
    "recall that we work in a space where ( [ eq : joint_conv_1 ] ) holds .",
    "in such a space , it follows from the continuity of @xmath47 that @xmath1710 , where @xmath1711 ^ 2 \\to { \\mathbb{r}}$ ] is as defined in section  [ sec : limitobject ] . by ( [ eq : eps - bound ] ) , it follows that for any @xmath1691 and @xmath1712 , @xmath1713 } ( b_nd_n(x , y ) - d_z(x , y ) ) \\ge 2^{-p}\\right\\ } } \\le\\eta2^{-p}\\ , , \\ ] ] so a.s .",
    "@xmath1714 .",
    "we next claim that a.s .",
    "@xmath1715 for all @xmath1716 $ ] for which @xmath51 . to see this ,",
    "suppose that @xmath51 for some @xmath53 $ ] , and assume by symmetry that @xmath1717 .",
    "continuing to write @xmath1639 , ( [ eq : joint_conv_toprove ] ) implies there exist random integer sequences @xmath1718 and @xmath1719 such that @xmath1720 , @xmath1721 , and @xmath1722 it follows that @xmath1723,or equivalently that @xmath1724 , so @xmath1725 since @xmath1726 ( along a subsequence ) and @xmath1720 , @xmath1721 , this implies that",
    "@xmath1727 so @xmath1728 as claimed .",
    "since , almost surely , @xmath1729 on @xmath1730 , and @xmath1714 , we must have @xmath1731 since @xmath57 is the largest pseudo - metric on @xmath55 $ ] satisfying these constraints .",
    "we now show that in fact , almost surely @xmath1732 .",
    "let @xmath103 be independent and uniform on @xmath55 $ ] .",
    "by * 1 . *  we have @xmath1733 the last identity by ( [ eq : invariance_rerooting ] ) ( which is corollary  7.3 of @xcite ) . since @xmath1734 and @xmath1735 , by ( [ eq:3cons ] ) we also have @xmath1736 so since @xmath1737 , we obtain @xmath1738 since the prokhorov metric topologizes weak convergence , by * 2.*(ii ) it follows that for @xmath1495 and @xmath1476 two independent random elements of @xmath415 , then @xmath1739 now let @xmath1740 be such that @xmath1741 and @xmath1742 .",
    "the preceding convergence implies @xmath1743 .",
    "lemma  [ lem : cscontour ] implies that @xmath1744 , so the tightness of the collection @xmath1745 then yields @xmath1746 finally , along the subsequence where @xmath1726 , we also have @xmath1747 , so it must be that @xmath1748 .",
    "since a.s .",
    "@xmath1749 , it must therefore hold that @xmath1750 .",
    "we have now shown that in the space where ( [ eq : joint_conv_1 ] ) holds , any subsequential limit @xmath1751 of @xmath1706 must satisfy @xmath1752 ; this implies that in fact , in this space we have @xmath1726 , which establishes ( [ eq : joint_conv_toprove ] ) and so completes the proof ."
  ],
  "abstract_text": [
    "<S> let @xmath0 be a simple triangulation of the sphere @xmath1 , drawn uniformly at random from all such triangulations with @xmath2 vertices . </S>",
    "<S> endow @xmath0 with the uniform probability measure on its vertices . </S>",
    "<S> after rescaling graph distance by @xmath3 , the resulting random measured metric space converges in distribution , in the gromov  hausdorff  </S>",
    "<S> prokhorov sense , to the brownian map . in proving the preceding fact </S>",
    "<S> , we introduce a labelling function for the vertices of @xmath0 . under this labelling , </S>",
    "<S> distances to a distinguished point are essentially given by vertex labels , with an error given by the winding number of an associated closed loop in the map . </S>",
    "<S> we establish similar results for simple quadrangulations .     with @xmath4 vertices . </S>",
    "<S> blue shaded circles form a shortest path between two uniformly random vertices ( circles ) . </S>",
    "<S> created using ken stephenson s circlepack program . ] </S>"
  ]
}