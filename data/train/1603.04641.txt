{
  "article_text": [
    "we must all grapple with this important question : +    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ how can we ensure that our theories of the world scale from the small examples in our classrooms or on our blackboards , to the huge and complex systems that appear in the real world ? _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    one answer  the brute force answer  is to simply be very , very good at applying our theories .",
    "for example in computer science , many researchers are grappling with the phenomena of big data by building faster and faster computers .",
    "the equivalent within economic game theory might be to represent complex games as huge pay - off matrices of actions and associated utilities and use some of those very fast computers to compute the associated nash equilibria of these games .",
    "an alternative to brute force techniques , widely regarded within computer science as being best practice , is _ compositionality _ where one sees complex systems as being built from smaller subsystems . because these subsystems are smaller , they are easier to reason about .",
    "one then combines properties of these subsystems into properties of the overall system .",
    "compositionality also promotes reuse : if a particular system is a subsystem of many other systems , then any results concerning that system do not need to be regenerated whenever compositional reasoning takes place on any super - system of that system : this further promotes efficient reasoning .",
    "examples of compositional reasoning are numerous , e.g.    * within logic , the truth of a formulae @xmath0 is computed from the truth of @xmath1 and the truth of @xmath2 which , in turn , are computed recursively . * within programming languages , the effect of executing a programme @xmath3",
    "is computed by combining the effect of executing @xmath4 with the effect of executing @xmath5 .",
    "these , in turn , are computed recursively . * within concurrency , milner s highly influential _",
    "communicating sequential processes _ proposes operators for building processes .",
    "as above , properties of processes are proved by combining properties of sub - processes .",
    "can the gains of compositionality within computer science be replicated within economic game theory ?",
    "after all , not all reasoning can be put in compositional form , especially if there is significant emergent behaviour present in a large system which is not present in subsystems . and , such emergent behaviour is certainly present within economic games .",
    "for example , if @xmath6 is an optimal strategy for a game @xmath7 , then is @xmath6 part of an optimal strategy for @xmath8 where @xmath9 is another game and @xmath10 is some super - game built from @xmath7 and @xmath9 ?",
    "clearly the answer is not necessarily ! more concretely , the iterated prisoner s dilemma has many equilibria ( such as cooperative equilibria ) that do not arise from repeatedly playing the nash equilibrium of the stage game .",
    "indeed , the difficulty in constructing a compositional model of economic game theory led one economist present at a recent talk on this work to exclaim  _ this ca nt be done ! _ \" while another described this as  _ a conjuring trick _ \" in that it seemed to achieve the impossible !",
    "so , how do we achieve the impossible ?",
    "our approach to cutting this particular gordian knot is to observe that , at its essence , any compositional model of game theory must model not just each game , but the interaction of each game with all other games it might interact with .",
    "of course , all current models of economic games do not attempt this endeavour with good reason  as just demonstrated , this interaction is non - trivial and a priori , there is a huge number of such games - indeed a proper class ! our solution  and the crucial technical insight underpinning our model  is that it suffices to replace the class of games which a given game might interact with the utility functions of those games .",
    "put simply , standard models of game theory hardwire a specific utility function into the definition of a game while the novelty of our model is that each game is parameterised by the space of _ all possible utility _ functions .",
    "this is accomplished by embedding within each game `` ports '' where interaction with other games takes place in the form of sending the environment information about moves played and receiving utility from the environment .",
    "this leads to a second innovation within this paper : we introduce a new representation of games which complements the usual representation of games via trees or pay - off matrices .",
    "this new representation of games uses string diagrams because they enable us to clearly visualise the structure of complex games via the places where the ports of one game are glued together with the ports of other games .",
    "for example , a bimatrix game such as the prisoner s dilemma can be represented as the following string diagram    ( p1 ) at ( 0 , 6 ) @xmath11 ; ( p2 ) at ( 4 , 6 ) @xmath12 ; ( u ) at ( 2 , 3 ) @xmath13 ; ( p1 ) to [ out=-60 , in=120 ] node [ right ] @xmath14 ( u ) ; ( p2 ) to [ out=-120 , in=60 ] node [ left ] @xmath14 ( u ) ; ( u ) to [ out=-120 , in=-120 ] node [ left ] @xmath15 ( p1 ) ; ( u ) to [ out=-60 , in=-60 ] node [ right ] @xmath15 ( p2 ) ;    where i ) @xmath16 is the type of the current state of the world ; ii ) @xmath17 is the type of possible actions or moves ; iii ) @xmath18 is the type of utilities or payoffs ; and iv ) @xmath19 is the type of the coutility extruded back to the environment .",
    "this concept of _ coutility _ is another of our contributions  coutility arises as , in a closed system , the utility of one player must have been generated by another player . for example , if i place a bet with a bookmaker and expect utility in the form of winnings , those winnings will have to come from the bookmaker .",
    "this we call the bookmakers coutility . pregames also possess functions describing how moves are chosen , exactly how much coutility to extrude , and a relation describing its equilibria .",
    "crucially , the equilibria relation can be _ any relation _ and need not be restricted to nash equilibria .",
    "the scientific value of these pregames is that they form a compositional model of economic games in that we can provide operators for building complex pregames from simpler pregames and , in particular , for defining the equilibria of these complex pregames from the equilibria of their component pregames .",
    "our final contribution is a categorical interpretation of pregames and their string diagram representations which ensures they have precise mathematical meanings and thus that our reasoning about them is mathematically rigorous . +",
    "* related work : * the context of this paper begins with @xcite , which for the first time approached game theory using ideas from program semantics . nevertheless , the game theory developed in that paper is no more compositional than ordinary game theory .",
    "a key point of originality within our approach is the use of continuations to allow players to consider the possible outcomes of decisions and factor those possible outcomes into their decision making process .",
    "continuations are implicit in the literature on selection functions ( see @xcite for an introduction ) .",
    "pregames are also closely related to the ` partially defined games ' of @xcite . other significantly influential work on using logical methods in economics are  @xcite .",
    "the relationship between string diagrams and monoidal categories has been developed extensively in quantum information theory @xcite and bialgebra @xcite , and also applied to distributional semantics in linguistics @xcite .",
    "there are many variants of monoidal categories , each with its own associated string language , surveyed in @xcite .",
    "the language used in this paper is a fragment of the one for compact closed categories ( section 4.8 of _ loc .",
    "we use because , within game theory , there is only a limited form of backward - causality ( arising from rational agents reasoning about potential future values ) .",
    "the paper is structured as follows : section [ sec : prelims ] introduces some of the notation used in this paper while section  [ sec : simple ] demonstrates the feasibility of a compositional model of game theory by considering a simple class on non - dynamic games .",
    "section  [ sec : pregames ] introduces pregames and their representation as string diagrams , section  [ sec : operators ] defines the key operators of parallel and sequential composition of pregames , section  [ sec : catsem ] gives a rigorous mathematical foundation for pregames and their representation as string diagrams .",
    "finally , section [ future - directions ] discusses the choices inherent within our compositional model and directions for further research .",
    "we denoted by @xmath15 the set of real numbers .",
    "we also denote by @xmath20 the set containing only the element @xmath21 - when a function requires an input of type @xmath20 , we often elide that input to increase legibility .",
    "we use the @xmath22-calculus notation @xmath23 to denote the function which takes @xmath24 as input and returns the value of @xmath25  this will of course usually depend upon @xmath24 .",
    "if @xmath26 is a function in two variables , we often write @xmath27 and @xmath28 respectively for the function in one variable obtained by instantiating the first and second inputs respectively of @xmath26 to be @xmath24 .",
    "we also follow computer science notation and write @xmath29  as opposed to @xmath30  for the application of a function @xmath26 to an input @xmath24 .",
    "composition of functions is written @xmath31 and projections are denoted @xmath32 and @xmath33 .",
    "we denote by @xmath34 the powerset functor on sets . at the centre of game theory",
    "is the desire to maximise utility and so we define , for any function @xmath35 ( where @xmath2 is a preordered set ) , the set @xmath36 of inputs where @xmath26 attains a maximal value .",
    "@xmath37 we assume familiarity with basic category theory as can be found in  @xcite .",
    "readers not familiar with these topics can simply skip the technical details of section 6  the paper has been written to be accessible to economists as well as computer scientists and hence the technical details have been so isolated .",
    "to ensure accessibility of our methods to non - computer scientists , we begin by treating simple games where players choose actions and utility is then generated . without loss of generality , we consider just two players    a simple two - player game @xmath7 consists of a 5-tuple @xmath38 , where @xmath39 are the sets of moves available to each player , @xmath40 are the types of utility expected by each players , and @xmath41 computes the utility associated to each pair of moves .",
    "let @xmath42 and @xmath43 .",
    "then , the set of _ nash equilibria",
    "_ @xmath44 is defined by @xmath45    this definition of nash equilibrium is compositional : it is not derived from more primitive concepts but rather is postulated as being itself a primitive concept whose myriad of different applications , and conceptual simplicity , underpin its value .",
    "while of course accepting its usefulness , and conceptual simplicity , we do believe it can be derived in a compositional manner from the interaction of the first player with the second player . substantiating this belief",
    "will show that a compositional model of economic game theory is possible and what it might look like .",
    "first , consider the players :    [ def : simplegame ] a simple game consists of a set @xmath17 of moves , a set @xmath18 of utilities and an equilibria function @xmath46 .",
    "the set of simple games with actions @xmath17 and utilities @xmath18 is written @xmath47    in the above definition @xmath34 is the powerset functor .",
    "this definition leaves equilibria abstract - they may maximise utility from a choice of move or , as in say the el farrol bar game , they may reflect other criteria .",
    "( the functions @xmath48 are precisely the multi - valued selection functions @xcite . ) in usual game theory , we have a fixed utility function and a set of equilibria . in our more general",
    "setting , we have have equilibria for _ arbitrary _ utility functions ( of the correct type ) .",
    "that is , an equilibrium @xmath49 means that if the utility in the game is given by @xmath41 , then there is no move preferable to @xmath50 . and , crucially , the equilibria of the game are not given for a utility function , but are given for utility function !",
    "now , recall the essence of compositionality is to build new games from old in such a way that properties of the former can be derived from those of the later .",
    "we now introduce such an operator    let @xmath51 and @xmath52 be simple games .",
    "their monoidal product is the simple game @xmath53 with equilibrium function @xmath54    although the nash equilibria of a simple 2-player game appeared initially to be a primitive and non - compositional concept , we can now show it arises compositionally .",
    "the proof is by unwinding definitions .",
    "[ thm : compsp ] let @xmath55 be a simple 2-player game",
    ". then @xmath56 iff @xmath57 where @xmath58 and @xmath59 are the simple games @xmath60 and @xmath61 .",
    "note that in the simple games @xmath58 and @xmath59 , the ` rational behaviour ' of the players is to maximise ( where ` rational ' is taken to mean ` playing according to their equilibrium ' ) .",
    "however the rational behaviour of players in @xmath62 may not be globally maximising  this is precisely what the prisoner s dilemma illustrates .",
    "thus maximising behaviour is not compositional , so the generalisation from @xmath63 to the equilibrium function @xmath48 is essential .",
    "also notice how in theorem  [ thm : compsp ] it is essential to not hardwiring a utility function into a simple game but rather define the equilibria for _ all _ possible utility functions .",
    "finally , notice how the equilibria of @xmath62 can be computed compositionally from the equilibria of @xmath58 and @xmath59 , even if @xmath58 and @xmath59 are highly complex games .",
    "that is , one need not delve into the definitions of @xmath58 and @xmath59 to see how they are built . in the rest of this paper , we generalise this basic compositional model economic game theory to a more sophisticated compositional model encompassing a much broader class of games .",
    "section  [ sec : simple ] defined a compositional model of economic game theory .",
    "that is , we defined i ) the notion of a simple game ii ) an operator for building new simple games from old ; and iii ) the equilibria for compound simple games in terms of the equilibria of their component simple games . however , simple games possess limited structure and hence support limited operators  this is a problem , as more operators enable more compositional reasoning !",
    "therefore , we introduce a more sophisticated compositional model which finds a sweet spot of being expressive enough to model complex and highly irregular games while retaining enough simplicity to continue to deliver conceptual clarity . as motivation ,",
    "consider me placing a bet with a bookmaker :    * my state informs my actions , e.g. my wealth affects the size of my bet .",
    "secondly , i have different strategies , e.g. high - risk , long - odds bets , or low - risk , short - odds bets .",
    "strategy and state are conceptually different as i can choose my strategy but not my state .",
    "together , a state and a strategy determine the action taken , i.e. which bet i place . the environment , i.e. the bookmaker , returns my winnings .",
    "* the bookmaker also has a state : in this case , the bet placed .",
    "they too have a number of strategies , e.g. to refuse the bet , to accept the bet , or to lay the bet .",
    "again , their state and strategy determine their action . and , again , it is the environment that converts their actions into results and hence utility . finally , the bookmaker will return winnings to the better  we call this _ coutility _ since it is the source of the better s utility .",
    "the above example motivates our more general definition :    let @xmath16 , @xmath17 , @xmath18 and @xmath19 be sets .",
    "a _ pregame _ @xmath7 over @xmath64 consists of the following data :    * a set @xmath65 of _ strategy profiles _ * a _ play _ function @xmath66 * a _ coutility _ function @xmath67 * an _ equilibrium function _ @xmath68 .    for reasons that will become apparent later",
    ", we denote such a pregame @xmath69 .",
    "we chose the name pregames for the above concept so that we could reserve the term games for the special case of pregames @xmath70 , ie pregames for which no further interaction with the environment takes place .",
    "all simple games are pregames where @xmath71 , @xmath72 and @xmath73 is the identity function .",
    "if @xmath74 , then we imagine there is no better strategy than @xmath6 if we are in state @xmath24 and @xmath75 computes the utilities arising from each action .",
    "we also represent pregames as string diagrams containing ports where interaction with other games takes place .",
    "\\(x ) at ( 2 , 4 ) @xmath16 ; ( y ) at ( 2 , 0 ) @xmath17 ; ( r ) at ( 0 , 0 ) @xmath18 ; ( s ) at ( 0 , 4 ) @xmath19 ; ( g ) at ( 1 , 2 ) @xmath76 ; ( x ) to [ out=-90 , in=45 ] ( g ) ; ( g ) to [ out=-45 , in=90 ] ( y ) ; ( r ) to [ out=90 , in=-135 ] ( g ) ; ( g ) to [ out=135 , in=-90 ] ( s ) ;    let @xmath77 be the set of moves in the prisoners dilemma game , i.e. @xmath78 . define the pregame @xmath79 with strategies @xmath80 and with play function ( eliding the unit type ) choosing the strategy , i.e. @xmath81 coutility is @xmath82 , while @xmath83    it is worth remarking that our notion of prisoner s dilemma differs from the standard one found in the literature we we leave open the pay - off matrix rather than hardwire one in .",
    "we can also define a two round prisoners dilemma :    again , let @xmath84 be the set of moves in the prisoners dilemma game .",
    "we define a pregame @xmath85 which represents two rounds of the prisoners dilemma game .",
    "the strategy set for the game ought to be a move for the first round together with a function which gives a round 2 move for each round 1 moves .",
    "that is @xmath86 .",
    "the play function is @xmath87 coutility is similar to that above , while @xmath88    note @xmath89 must compute an optimal strategy for all round-1 plays  this accords with the no - incredible - threats principle of subgame perfect equilibria .",
    "the above definition of @xmath90 is non - compositional in that it is not built from smaller games but rather defined from scratch .",
    "we now show how we can define operators that build complex pregames from simpler pregames .",
    "we shall use these operators to show how @xmath90 can be built compositionally",
    "we introduce operators for building pregames .",
    "the first three build atomic pregames while the last two build compound pregames from other pregames :    a player who observes a state of type @xmath16 , makes a choice of type @xmath17 and optimises an outcome of type @xmath18 is represented by a pregame @xmath91 , where the set of strategies is @xmath92 , i.e. mappings from states to choices .",
    "the play function @xmath93 applies the strategy to the state , while the coutility function is trivial . in general , the equilibrium function can be varied in different examples to give different goals to the player .    if the player does not make any observation then @xmath94 . in the two cases @xmath95 and @xmath94 , a player is represented by a string diagram as    \\(x ) at ( 1 , 6 ) @xmath16 ; ( y1 ) at ( 2 , 0 ) @xmath17 ; ( r1 ) at ( 0 , 0 ) @xmath18 ; ( p1 ) at ( 1 , 3 ) @xmath96 ; ( x ) to ( p1 ) ; ( p1 ) to [ out=-60 , in=90 ] ( y1 ) ; ( r1 ) to [ out=90 , in=-120 ] ( p1 ) ; ( y2 ) at ( 12 , 0 ) @xmath17 ; ( r2 ) at ( 10 , 0 ) @xmath18 ; ( p2 ) at ( 11 , 3 ) @xmath96 ; ( p2 ) to [ out=-60 , in=90 ] ( y2 ) ; ( r2 ) to [ out=90 , in=-120 ] ( p2 ) ;    ( triangles traditionally denote components of string diagrams that have connections on only one side ) .",
    "for an example of a classical , utility - maximising player , take @xmath97 with the equilibrium relation being given by @xmath98 if @xmath94 , this simplifies to @xmath99    a function @xmath100 defines a two pregames , a ` covariant computation ' @xmath101 and a ` contravariant computation ' @xmath102 .",
    "these are used to represent aspects of a game that are not players ( more precisely , that can not make strategic choices ) , e.g. utility functions . in both cases we have @xmath103 , and define @xmath104 and @xmath105 to always return @xmath106 . in the covariant case , we set @xmath107 , while in the contravariant case we set @xmath108 .",
    "covariant and contravariant computations are respectively drawn as    ( x1 ) at ( 0 , 4 ) @xmath16 ; ( y1 ) at ( 0 , 0 ) @xmath17 ; ( x2 ) at ( 6 , 0 ) @xmath16 ; ( y2 ) at ( 6 , 4 ) @xmath17 ; ( f1 ) at ( 0 , 2 ) @xmath26 ; ( f2 ) at ( 6 , 2 ) @xmath26 ; ( x1 ) to ( f1 ) ; ( f1 ) to ( y1 ) ; ( x2 ) to ( f2 ) ; ( f2 ) to ( y2 ) ;    an important example of a covariant computation is copying @xmath109 arising from the function @xmath110 which copies its argument . within games , this allows information to be used more than once , for example both being observed by a player , and used as input to a utility function .",
    "( x1 ) at ( 1 , 4 ) @xmath16 ; ( x2 ) at ( 0 , 0 ) @xmath16 ; ( x3 ) at ( 2 , 0 ) @xmath16 ; ( m ) at ( 1 , 2 ) ; ( x1 ) to ( m ) ; ( m ) to [ out=180 , in=90 ] ( x2 ) ; ( m ) to [ out=0 , in=90 ] ( x3 ) ;    our final basic constructor for pregames is the _ teleological counit _ which mediates between the forward direction of information ( chose strategy , play move ) and the backward flow of information ( a process generates coutility and passes it to a previous process as utility ) . more concretely ,",
    "the teleological unit  in combination with a computation  allows us to specify a particular utility function to be used in the pregame .",
    "of course , this curtails the possibility of interacting with other pregames by closing off the ports where that interaction can happen :    the pregame @xmath111 is given by @xmath112 , @xmath113 and with @xmath114 always returning @xmath106 .",
    "we graphically represent the teleological counit by a _ cup _    ( x1 ) at ( 2 , 2 ) @xmath16 ; ( x2 ) at ( 0 , 2 ) @xmath16 ; ( x1 ) to [ out=-90 , in=0 ] ( 1 , 0 ) to [ out=180 , in=-90 ] ( x2 ) ;    after introducing three basic operators for pregames , we now present two compound operators  the monoidal product which generalises the similar operator of section  [ sec : simple ] , and sequential composition .",
    "if @xmath115 and @xmath116 are pregames , their monoidal product @xmath117 is defined by    * @xmath118 * @xmath119 * @xmath120 * @xmath121 iff @xmath122 and @xmath123 where @xmath124 @xmath125    let @xmath126 and @xmath127 be pregames .",
    "the composition @xmath128 is defined by    * @xmath129 * @xmath130 * @xmath131 * @xmath132 iff 1 .",
    "@xmath133 , where @xmath134 , and 2 .",
    "@xmath135 for all @xmath136    the definition of sequential composition highlights two fundamental points    * we promised to explain why we write @xmath137 if @xmath138 has state @xmath16 , moves @xmath17 , utility @xmath18 and coutility @xmath19 .",
    "when composing functions @xmath139 and @xmath140 , the codomain of @xmath26 must be the same as the domain of @xmath141 because we feed the output of @xmath26 into the input of @xmath141 .",
    "similarly , in @xmath142 , we feed the output move @xmath138 into the state of @xmath143 , and the coutility of @xmath143 into the utility of @xmath138 .",
    "thus i ) the type of moves of @xmath138 and the states of @xmath143 must be the same ; and ii ) the type of utility of @xmath138 and the coutility of @xmath143 must also be the same .",
    "thus , the domain of a game contains its state and coutility , while its codomain contains its moves and utility . * to treat the composition @xmath142 correctly - as in the example of placing a bet with a bookmaker - @xmath138",
    "can only get its utility once @xmath9 has its own utility .",
    "technically , within the definition of equilibrium for a composed system , @xmath138 must be in equilibrium for a utility function @xmath144 which depends upon what @xmath143 feeds back to @xmath138 .",
    "this ability of the future system @xmath143 to feed utility into a previous system @xmath138 is exactly why we introduced the concept of coutility .",
    "formally , the definition of equilibrium in the composition @xmath145 depends upon the coutility @xmath146 .",
    "a two - player context - dependent game is defined in @xcite to consist of the following data :    * sets @xmath16 , @xmath17 of choices for each player , and @xmath18 of outcomes * multivalued selection functions @xmath147 , @xmath148 * an outcome function @xmath149 * a strategy profile is simply a pair @xmath150 . a strategy profile is called a _ selection equilibrium _ if @xmath151 @xmath152    context dependent games generalise the simple games of def  [ def : simplegame ] in that the selection functions need not be @xmath63 .",
    "for example , in @xcite it is shown that selection functions returning a set of fixpoints or non - fixpoints gives an elegant model of coordination or differentiation goals of players , respectively .",
    "the selection equilibria of context dependent games can be characterised compositionally .",
    "the selection equilibria of this game are precisely the equilibria of the string diagram    ( p1 ) at ( 0 , 6 ) @xmath153 ; ( p2 ) at ( 4 , 6 ) @xmath154 ; ( u ) at ( 2 , 3 ) @xmath5 ; ( m ) at ( 2 , 1.5 ) ; ( p1 ) to [ out=-60 , in=120 ] node [ right ] @xmath16 ( u ) ; ( p2 ) to [ out=-120 , in=60 ] node [ left ] @xmath17 ( u ) ; ( u ) to ( m ) ; ( m ) to [ out=180 , in=90 ] ( 0.5 , 0.5 ) to [ out=-90 , in=0 ] ( 0 , 0 ) to [ out=180 , in=-120 ] node [ left ] @xmath18 ( p1 ) ; ( m ) to [ out=0 , in=90 ] ( 3.5 , 0.5 ) to [ out=-90 , in=180 ] ( 4 , 0 ) to [ out=0 , in=-60 ] node [ right ] @xmath18 ( p2 ) ;    where @xmath5 is the lifting of the outcome function as a covariant computation , and @xmath153 and @xmath154 are players ,",
    "whose equilibrium functions are respectively @xmath155 @xmath156    the above string diagram is clearly definable within our grammar of pregames , for example , by the expression @xmath157 unwinding the definitions , we have @xmath158 the second term of this is found to be vacuously true , and so it is equivalent to @xmath159    it is straightforward but tedious to verify that , according to the above definitions , the continuations @xmath41 , @xmath160 and @xmath161 are given as follows : @xmath162 @xmath163 @xmath164    thus , we have proved that @xmath165 is exactly the set of @xmath166 that satisfy the conditions of a selection equilibrium .",
    "context dependent games and selection equilibria include ordinary normal form games and nash equilibria as a special case , by taking @xmath167 , and the selection function @xmath168 and @xmath169 to be the @xmath63 operators for the first and second coordinates : @xmath170 @xmath171    a second class of games that are subsumed by our grammar are generalised sequential games , which subsume classical games of perfect information .",
    "a two - player sequential game is defined in @xcite to consist of the following data :    * sets @xmath16 , @xmath17 of choices for each player , and @xmath18 of outcomes * multivalued quantifiers @xmath172 , @xmath173 * an outcome function @xmath149 * a strategy profile for this game consists of a move @xmath174 for the first player and a contingent strategy @xmath175 for the second player .",
    "a strategy profile is called _ optimal _ if @xmath176    note that the difference between selection functions and quantifiers is relatively unimportant : we could equally well define simultaneous games using quantifiers , and sequential games using selection functions .",
    "every optimal strategy profile for this game is an equilibrium of the string diagram    ( p1 ) at ( 2 , 10.5 ) @xmath177 ; ( m1 ) at ( 3 , 8) ; ( p2 ) at ( 4 , 6 ) @xmath178 ; ( q ) at ( 2 , 3 ) @xmath5 ; ( m2 ) at ( 2 , 1.5 ) ; ( p1 ) to [ out=-60 , in=90 ] node [ right ] @xmath16 ( m1 ) ; ( m1 ) to [ out=0 , in=90 ] ( p2 ) ; ( m1 ) to [ out=180 , in=120 ] node [ left ] @xmath16 ( q ) ; ( p2 ) to [ out=-120 , in=60 ] node [ right ] @xmath17 ( q ) ; ( q ) to ( m2 ) ; ( m2 ) to [ out=180 , in=90 ] ( 0.5 , 0.5 ) to [ out=-90 , in=0 ] ( 0 , 0 ) to [ out=180 , in=-120 ] node [ left ] @xmath18 ( p1 ) ; ( m2 ) to [ out=0 , in=90 ] ( 3.5 , 0.5 ) to [ out=-90 , in=180 ] ( 4 , 0 ) to [ out=0 , in=-60 ] node [ right ] @xmath18 ( p2 ) ;    where @xmath179 and @xmath180 are players with equilibrium functions @xmath181    again , this string diagram falls within our grammar being given algebraically by @xmath182 unwinding the definition , we have @xmath183 where @xmath184 and @xmath185 the first condition is therefore equivalent to @xmath186 which is the first part of the definition of an optimal strategy .    continuing , the second condition for a particular @xmath187 is @xmath188 where",
    "@xmath189 thus , the second condition is that for all @xmath187 , @xmath190 which is @xmath191 which is the second part of the definition of an optimal strategy .",
    "finally we can see @xmath90 as being built compositionally from @xmath192 .",
    "note that this is not as one might think done by simply gluing tow copies of @xmath192 together as we must condition the second round of @xmath192 on the move arising in he first round of @xmath192 .",
    "first , given a pregame @xmath193 with strategies @xmath194 and a set @xmath1 , define the pregame @xmath195 to have strategies given by @xmath196 and the obvious play , coutility and equilibria .",
    "then @xmath90 arises by composing @xmath192 with @xmath197 and copying the move from the first round to the move of the second round .",
    "formally , @xmath90 arises as @xmath198 where , recall , @xmath199 .",
    "the mathematical treatment of pregames above delivers a bottom - up collection of operators for defining complex pregames from simple pregames and computing the equilibria of those complex games from their more simple components .",
    "furthermore , pregames naturally posses a graphical form as a string diagram showing the flow of information around the game .",
    "this makes pregames easier to visualise and therefore comprehend .",
    "however , this mathematical treatment is so far insufficient for a number of reasons :    * reasoning about string diagrams needs us to formally define diagrams  this can be a very intricate and messy process .",
    "category theory offers a treatment of string diagrams known as _ monoidal category theory _ which has been successfully applied to a number of areas , eg network theory , quantum physics , concurrency theory .",
    "* we want our operators to capture fundamental structure .",
    "category theory is used to find fundamental structures across mathematics and computer science , eg one such is the monoidal product which arises in both simple games and pregames .",
    "* to reason effectively , we need to know when two different pregames are the same , eg the associativity of composition or the distributivity of contra variant computations over composition : @xmath200 .",
    "category theory gives canonical laws one can expect to hold between the canonical operators that arise in category theory .",
    "* category theory provides universal properties for structuring and reasoning .",
    "a key example are final coalgebras which we use to model infinite iteration of pregames .    for these reasons ( and for others more related to future work ) , we introduce a categorical model of pregames .",
    "the first guess is to take as objects pairs of sets and define the morphisms from @xmath201 to @xmath202 to be the pregames @xmath203 .",
    "however this does nt quite work , e.g. composition would fail to be associative .",
    "the problem is that games which have isomorphic sets of strategies ought really to be the same and hence we quotient pregames by such isomorphisms .",
    "this is in tune with general categorical principles where one allows objects to be isomorphic but asks morphisms to either be equal or not .",
    "a similar approach underlies the construction of free cartesian closed categories where one quotients well typed @xmath22-calculus terms by @xmath204-equality .",
    "[ theorem - category ] there is a category @xmath205 whose objects are pairs of sets @xmath206 .",
    "morphisms from @xmath201 to @xmath202 are pregames @xmath203 quotiented by the relation which identifies two pregames if their sets of strategy profiles are isomorphic and their play , coutility and equilibrium functions are the same under this isomorphism",
    ".    to ensure readability , our proof treats pregames and we omit the entirely trivial checks that our arguments preserve the equivalence relation on pregames . on the other hand ,",
    "since morphisms / pregames contain a lot of data , we give the rest of the proof in some detail .",
    "the identity on the object @xmath201 is the pregame @xmath207 .",
    "more concretely , this is the pregame    * @xmath208 * @xmath209 * @xmath210 * @xmath211 for every @xmath24 and @xmath41    [ [ left - identity ] ] left identity + + + + + + + + + + + + +    let @xmath69 .",
    "we prove that @xmath212 . then    * @xmath213 * @xmath214 * @xmath215 * @xmath216 where @xmath217    [ [ right - identity ] ] right identity + + + + + + + + + + + + + +    we prove that @xmath218 .",
    "we have    * @xmath219 * @xmath220 * @xmath221 * @xmath222    [ [ associativity ] ] associativity + + + + + + + + + + + + +    let @xmath223 , @xmath224 and @xmath225",
    ". we have @xmath226 for the play function we have @xmath227 and for the coutility function have @xmath228 for the equilibrium condition we have @xmath229 \\\\ \\iff\\ & \\sigma_1 \\in e_{\\mathcal g}(x , k_1 ) \\wedge [ \\forall \\sigma_1 ' \\in \\sigma_{\\mathcal g}. \\sigma_2 \\in e_{\\mathcal h}(p_{\\mathcal g}(\\sigma_1 ' ) ( x ) , k_2 ) ] \\\\ & \\wedge \\forall ( \\sigma_1 ' , \\sigma_2 ' ) \\in \\sigma_{{\\mathcal h}\\circ { \\mathcal g } } . \\sigma_3 \\in",
    "e_{\\mathcal i}(p_{{\\mathcal h}\\circ { \\mathcal g } } ( \\sigma_1 ' , \\sigma_2 ' ) ( x ) , k_3 ) \\\\",
    "\\iff\\ & ( \\sigma_1 , \\sigma_2 ) \\in e_{{\\mathcal h}\\circ { \\mathcal g } } ( x , k_2 ) \\\\ & \\wedge \\forall ( \\sigma_1 ' , \\sigma_2 ' ) \\in \\sigma_{{\\mathcal h}\\circ { \\mathcal g } } .",
    "e_{\\mathcal i}(p_{{\\mathcal h}\\circ { \\mathcal g } } ( \\sigma_1 ' , \\sigma_2 ' ) ( x ) , k_3 ) \\\\",
    "\\iff\\ & ( \\sigma_1 , \\sigma_2 , \\sigma_3 ) \\in",
    "e_{{\\mathcal i}\\circ ( { \\mathcal h}\\circ { \\mathcal g } ) } ( x , k_3)\\end{aligned}\\ ] ] where @xmath230 this completes the proof .",
    "theorem  [ theorem - category ] demonstrates how our composition operator is a fundamental algebraic operation .",
    "the same is true of our operation for putting games in parallel .",
    "the category @xmath231 is symmetric monoidal .    the monoidal product acts on objects @xmath232 and @xmath233 by taking their product componentwise giving @xmath234 . the action of the monoidal product on morphisms is given by parallel composition .",
    "the unit of this monoidal structure is @xmath235 , while the symmetry is inherited from that of the product on the category of sets . as the proof that this data does indeed form a symmetric monoidal category is straightforward , containing none of the detail of theorem  [ theorem - category ] , we leave the proof as an exercise .    one final piece of categorical structure bears a striking resemblance to graphical reasoning in a compact closed category :    [ teleological - closure - naturality ] if @xmath100 is a computation then @xmath236 . in diagrams ,    ( y1 ) at ( 0 , 3 ) @xmath17 ; ( x1 ) at ( 2 , 3 ) @xmath16 ; ( f1 ) at ( 2 , 1.5 ) @xmath26 ; ( x1 ) to ( f1 ) ; ( f1 ) to [ out=-90 , in=0 ] ( 1 , 0 ) to [ out=180 , in=-90 ] ( y1 ) ; at ( 4 , 1.5 ) @xmath237 ; ( y2 ) at ( 6 , 3 ) @xmath17 ; ( x2 ) at ( 8 , 3 ) @xmath16 ; ( f2 ) at ( 6 , 1.5 ) @xmath26 ; ( x2 ) to [ out=-90 , in=0 ] ( 7 , 0 ) to [ out=180 , in=-90 ] ( f2 ) ; ( f2 ) to ( y2 ) ;    firstly note that we have @xmath238 we have @xmath239 .",
    "both play functions are the unique function @xmath240 . for the coutility function",
    ", @xmath241 finally for both cases we have @xmath242 for all @xmath24 .",
    "we finish the paper with a discussion about what we have achieved and what we intend to do in the future .",
    "this paper s most significant contribution is a new way to think about economic games using the idea of _ compositionality _ from computer science .",
    "this involved the development of a new model of economic games which had several original features : i ) games do not come with a specific utility function ; ii ) games can reason about how current actions effect future utility via the new concept of _ coutility _ ; iii ) games posses a clear visual interface as string diagrams ; and iv ) have a fully rigorous treatment within monoidal category theory .",
    "the compositionality of this model is demonstrated by the operators that can be defined on arbitrary games and used to build , reason about and even implement larger games from smaller games . before discussing future work ,",
    "we analyse decisions implicitly taken is the design of our model and their validity .    * to facilitate accessibility of our paper we chose to work internally to the category of sets as opposed to internally to an ambient symmetric monoidal category .",
    "the choice between clarity and mathematical sophistication is important - and we believe we have it right - but is not inherently a scientific one but rather a subjective matter of presentation . * we made pregames the morphisms of a category to highlight the inputs and outputs of games which was a prerequisite to formalising the idea of _ coutility_. this also enabled a string diagram interpretation of pregames thereby giving rigour to our pregame constructors and relating them to constructions on string diagrams .",
    "however , ought we to have made pregames the objects of a category ? certainly making pregames objects would have enabled universal properties to have been developed for pregame operators . actually , both perspectives are valid . just as the category of sets , relations and relation preserving morphisms is naturally a 2-category , so",
    "the category of pregames is naturally a 2-category . for this paper ,",
    "the 2-dimensional structure was not relevant so we focussed on the 1-dimensional structure of pregames .",
    "as commented below , in future work we will need to turn to the 2-dimensional structure of pregames .",
    "* future work : * the potential applications of a compositional , graphical game theory are numerous , especially in economics , and this paper also raises some interesting theoretical questions .",
    "we conclude by broadly giving some future research directions and questions :    * possibly the most important theoretical concepts missing from this paper are incomplete information games , which are ubiquitous in economic applications .",
    "this requires the 2-dimensional structure of pre - games alluded to above .",
    "examples of such games show that delicate choices need to be made about whether data should be treated covariantly , contravariantly or relationally .",
    "nevertheless , we have initial thoughts and hope to progress them soon",
    ". the 2-dimensional structure will also allow us to tackle infinitely repeated games using final coalgebras . *",
    "another important aspect of game theory that can not be modelled by the operators above is the ability of a pregame to depend on a previous move .",
    "influence diagrams also suffer from this problem .",
    "for example in a market entry game a firm decides whether to enter a new market , and then subsequently a particular game is played only if the market was entered .",
    "this is also commonly used with the ` moves of nature ' in the standard approach to incomplete information .",
    "our approach will be to use dependent types and fibred monoidal categories to underpin dependently typed string diagrams . *",
    "computer support is vital .",
    "the first author has developed a haskell implementation , but it is extremely awkward because the haskell type system does not unify types like @xmath243 and @xmath244 , and so the user must manually track these isomorphisms . as an intermediate step , a code generator for a domain specific language similar to haskell s arrows @xcite would be useful .",
    "unfortunately , for technical reasons it does not seem to be possible to use ghc s built - in arrow preprocessor .",
    "ultimately a graphical interface would be invaluable for these ideas to become accessible to working economists .",
    "* as a by - product of obtaining a compositional theory , we have the ability to model preferences of agents which are extremely different to utility maximisation or preference relations .",
    "this extends a line of work begun in @xcite , which uses fixpoint selection functions to model coordination and differentiation .",
    "obvious next steps include modelling bounded rationality @xcite and social concerns . *",
    "as described above , a potentially very powerful dimension is to vary the underlying category from @xmath245 to another category .",
    "the use of ordinary ( possibilistic ) nondeterminism in game theory is explored in @xcite and @xcite , and work in progress by the author suggests that the order structure on possibilistic strategies is important .",
    "we also have experimental evidence that correlated equilibria @xcite appear as a special case by using a commutative monad transformer stack in which a reader monad gives players read - only access to a shared randomising device .",
    "this is strong evidence that side effects in the sense of programming languages can also be a unifying idea in game theory . *",
    "using noncommutative side - effects is potentially even more rewarding . in this case",
    ", the category of pregames may be premonoidal .",
    "a major aim is to use strategies with mutable states to model learning , and individual rationality relations to specify that a strategy can be subjectively rational with respect to the current epistemic state , for example using methods of epistemic game theory @xcite ."
  ],
  "abstract_text": [
    "<S> this paper aims to significantly impact the way we conceive of , reason about , and construct software for economic game theory . </S>",
    "<S> we achieve this by building an new and original model of economic games based upon the computer science idea of compositionality : concretely we i ) give a number of operators for building up complex and irregular games from smaller and simpler games ; and ii ) show how the equilibria of these complex games can be defined recursively from the equilibria of their simpler components . </S>",
    "<S> we apply compositional reasoning to sophisticated games where agents must reason about how their actions effect future games and how those future games effect the utility they receive . </S>",
    "<S> this requires further originality in that we augment the usual lexicon of games with a new concept of coutility . </S>",
    "<S> this notion  dual to utility  arises because , in order for games to accept utility , this utility must be generated by other games . </S>",
    "<S> a third source of originality is the representation of our games as string diagrams so as to give a clear visual interface to manipulate them . </S>",
    "<S> our fourth , and final , source of originality is a categorical formalisation of these intuitive string diagrams which guarantees our model is mathematically rigourous . </S>"
  ]
}