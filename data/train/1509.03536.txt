{
  "article_text": [
    "let @xmath2 be an @xmath12-dimensional smooth projective variety over @xmath13 with polarization @xmath14 .",
    "let @xmath15 denote the moduli space of rank @xmath16 @xmath17-stable torsion free sheaves on @xmath2 with chern classes @xmath18 .",
    "see @xcite for the notions of torsion free sheaf , stability , the construction of the moduli space , and its history . in this paper , we do _ not _ consider strictly semistable sheaves so this moduli space may be non - compact . in this case , the moduli space is compact . ] .",
    "fixing @xmath19 , one can consider the generating function @xmath20 where @xmath21 denotes topological euler characteristic .",
    "this is a laurent series in @xmath22 when @xmath12 is even and @xmath23 when @xmath12 is odd ( * ? ? ?",
    "these generating functions are fascinating objects with links to combinatorics , number theory , and representation theory .",
    "we mention a few among many references . for @xmath24 ,",
    "generating functions of poincar polynomials were calculated by g.  harder and m.  s.  narasimhan @xcite , u.v .",
    "desale and s.  ramanan @xcite , and m.  f.  atiyah and r.  bott @xcite . for @xmath25 and @xmath26 ,",
    "generating functions for poincar polynomials were computed by l.  gttsche @xcite . for @xmath25 and @xmath27 ,",
    "these generating functions are related to ( quasi-)modular forms and have been computed in numerous examples @xcite .",
    "this case is related to the s - duality conjecture of physics @xcite . for any @xmath12 and @xmath26",
    ", these generating functions lead to counting @xmath12-dimensional boxes as shown by j.  cheah @xcite . for @xmath28 and @xmath2 satisfying @xmath29",
    ", r.  p.  thomas constructed a perfect obstruction theory on @xmath30 @xcite .",
    "when the moduli space is compact , this leads to a virtual cycle , which can be used to define deformation invariants .",
    "when @xmath2 is in addition calabi - yau , the perfect obstruction theory is symmetric so the virtual cycle is 0-dimensional .",
    "its degree is known as a donaldson - thomas invariant .",
    "k.  behrend @xcite showed the dt invariant is also equal to the euler characteristic of @xmath30 weighted by a constructible function @xmath31 @xmath32^{{\\mathrm{vir } } } ) = e({\\mathcal m}_{x}^{h}(r , c_1 , c_2 , c_3 ) , \\nu ) = \\sum_{k \\in { \\mathbb z } } k \\ e(\\nu^{-1}(\\{k\\})).\\ ] ] therefore , the generating function is related to dt theory .",
    "when @xmath2 is a toric calabi - yau 3-fold and @xmath26 , d.  maulik , n.  nekrasov , a.  okounkov , and r.  pandharipande @xcite showed that the generating function of dt invariants ( defined by @xmath4-localization ) is given by counting the @xmath4-fixed points of @xmath33 with signs .",
    "the signs can be seen as a consequence of weighing by the behrend function @xcite .",
    "little is known about the generating function for @xmath34 and @xmath27 .",
    "we study the case @xmath28 , @xmath35 , and @xmath2 is _ toric_. in this case , @xmath2 contains a dense open torus @xmath4 acting on @xmath2 and this action lifts to the moduli space .",
    "elements of the fixed locus of the moduli space are essentially @xmath4-equivariant sheaves on @xmath2 .",
    "equivariant sheaves on toric varieties were studied in depth by a.  klyachko @xcite .",
    "he used his methods to calculate for @xmath36 and @xmath35 obtaining the holomorphic part of a quasi - modular form of weight 3/2 @xcite .",
    "other localization calculations on ( stacky / ordinary ) toric surfaces appear in @xcite .",
    "let @xmath37 denote the dual .",
    "any torsion free sheaf @xmath38 can be naturally embedded in its double dual @xmath39 , known as its reflexive hull .",
    "this leads to a short exact sequence @xmath40 where @xmath41 is a sheaf of dimension @xmath42 .",
    "reflexive hulls are _ reflexive sheaves_. a reflexive sheaf is an easy type of torsion free sheaf determined by its restriction to the complement of any closed subset of codimension @xmath43 .",
    "reflexive sheaves on a 3-fold are locally free outside a 0-dimensional subscheme . for general theory on reflexive sheaves",
    ", we refer to @xcite .",
    "klyachko showed that @xmath4-equivariant rank 2 reflexive sheaves are very easy : they are described by attaching a flag of @xmath44 to each ray of the fan of @xmath2 ( his description works for any rank on any @xmath12-fold ) .",
    "denote by @xmath45 the moduli space of rank 2 @xmath17-stable reflexive sheaves on @xmath2 with chern classes @xmath7 , @xmath8 , @xmath9 . taking double",
    "dual gives a map to the scheme theoretic disjoint union @xmath46 reflexive hulls of members of a flat family do not need to form a flat family ( already on surfaces ) , so this map is _ not _ a morphism . nevertheless , by a result of j.  kollr @xcite ,",
    "this map is _ _ constructible _ _ such that on each @xmath47 the map @xmath48 is a morphism . ] .",
    "this is very useful for calculating euler characteristics by cut - paste methods . on a surface ,",
    "the cokernel @xmath41 is 0-dimensional and the double dual map leads to a product formula expressing as a `` point contribution '' times the generating function of reflexive ( i.e.  locally free ) sheaves @xcite .",
    "two interesting things happen when @xmath28 and @xmath35 : the cokernel @xmath41 need not be 0-dimensional and @xmath49 need not be locally free . since we are interested in euler characteristics , we only need to understand at the level of @xmath4-fixed points , where we can use klyachko s description of @xmath4-equivariant torsion free and reflexive sheaves .",
    "as already mentioned , @xmath4-equivariant reflexive sheaves are very well - behaved . generating functions of @xmath50 were studied in @xcite .",
    "equivariant torsion free sheaves are much harder to enumerate .",
    "at the level of closed points , the fibre of over a reflexive sheaf @xmath49 is the quot scheme @xmath51 of cokernels @xmath52 where @xmath41 has dimension @xmath42 and chern classes @xmath53 , @xmath54 .",
    "suppose @xmath49 is @xmath4-equivariant , then @xmath4 acts on @xmath55 .",
    "the connected components of @xmath4-fixed locus of @xmath55 are indexed by a new type of combinatorial objects , which we call double box configurations ( definition [ doubleboxconf ] ) . moreover , each connected component is isomorphic to a product of @xmath6 s ( proposition [ prodp1s ] ) .",
    "when @xmath41 is 0-dimensional , i.e.  @xmath56 , we solve the combinatorics completely in a ( combinatorial ) companion paper @xcite .    one basic building block for our computations is @xmath57 : the quot scheme of 0-dimensional quotients @xmath52 of length @xmath12 , where @xmath49 is a @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 .",
    "if @xmath49 is locally free , it decomposes . ] as a sum of two line bundles @xmath59 , which gives an additional @xmath60-action by scaling the factors . localization with respect to this action gives a well - known result @xmath61 where @xmath62 denotes the macmahon function counting 3d partitions .",
    "when @xmath49 is singular ( i.e.  not locally free , hence indecomposable@xmath63 ) , this generating function is much harder to obtain . then there are integers @xmath64 , which roughly speaking encode the weights of the three homogeneous generators of @xmath65 . in terms of these weights",
    ", we have ( corollary [ quotc3 ] ) :    a[a ] @xmath66    the triple product factor is the generating function of 3d partitions in a box of lengths @xmath67 by @xmath68 by @xmath69 and is therefore a polynomial in @xmath22 ( * ? ? ?",
    "* ( 7.109 ) ) .",
    "the length of the singularity of @xmath49 is @xmath70 ( proposition [ rank2singular ] ) .",
    "therefore , in the singular case we get the `` locally free answer '' @xmath71 times a polynomial counting partitions `` in the singularity of @xmath49 '' .",
    "the way we obtain this formula seemingly has nothing to do with counting inside the singularity of @xmath49 .",
    "instead it is obtained using non - trivial combinatorics involving the double dimer model @xcite .",
    "what does this result tell us about generating function for @xmath28 and @xmath35 ?",
    "recall that we fix @xmath72 and sum over all @xmath9 .",
    "if @xmath8 is chosen such that @xmath73 is minimal with the property that there exists a rank 2 @xmath17-stable torsion free sheaf on @xmath2 with chern classes @xmath74 , then @xmath41 is automatically 0-dimensional ( proposition [ minc2a ] ) . in this case",
    ", we get a structure theorem for ( proposition [ minc2b ] ) . if in addition the polyhedron @xmath75 of the toric 3-fold @xmath2 is small in the sense of definition [ small ] ( e.g.  when @xmath76 ) , then all @xmath4-equivariant reflexive hulls in the moduli space are isolated @xmath4-fixed points and the formula simplifies ( theorem [ eulermin ] ) .",
    "a special case of this setting is @xmath77 and @xmath78 . in principle",
    ", our approach also works for more general @xmath8 , but then the combinatorics becomes increasingly complex .",
    "we illustrate this for @xmath77 and @xmath79 .",
    "b[b ] for @xmath77 and @xmath80 , we have @xmath81      let @xmath11 be a smooth toric calabi - yau 3-fold . since @xmath11 is non - compact , we choose a toric compactification @xmath82 with @xmath29 and a polarization @xmath14 on @xmath2 .",
    "define the @xmath4-invariant open subset @xmath83 of torsion free sheaves @xmath38 on @xmath2 such that @xmath84 is supported on @xmath11 .",
    "openness is proved in proposition [ openess ] .",
    "unlike the rank 1 case , this moduli space depends on the choice of @xmath2 and @xmath14 .",
    "this reflects dependence of stability on choice of polarization for higher rank .",
    "when @xmath85 is a compact connected component of @xmath86 , it has an induced virtual cycle by @xcite and one can consider the expression @xmath87^{{\\mathrm{vir } } } } \\frac{1}{e(n^{{\\mathrm{vir}}})},\\ ] ] where @xmath21 denotes @xmath4-equivariant euler class and @xmath88 denotes the virtual normal bundle of @xmath85 .",
    "these integrals depend on equivariant parameters @xmath89 .",
    "we are interested in connected components @xmath85 , which also satisfy @xmath90 .",
    "unfortunately , the dt complex restricted to such a component @xmath85 is _ not _ automatically symmetric .",
    "however , if we suppose in addition that all closed points of @xmath85 have the same ( i.e.  isomorphic ) reflexive hull @xmath49 , then we can write as @xmath91^{{\\mathrm{vir } } } } \\frac{1}{e(n^{{\\mathrm{vir } } } ) \\ e(r{\\operatorname{hom}}({\\mathcal r},{\\mathcal r})_0 \\otimes { \\mathcal o}_{\\mathcal c})},\\ ] ] where the second factor of this product is a _ number _ for @xmath92 ( proposition - definition [ propdef ] ) .",
    "we denote this number by @xmath93 .",
    "the reason for this is that after removing @xmath94 from the dt complex on @xmath85 in the @xmath95-group , it becomes symmetric ( proposition [ sd ] ) .",
    "we think of @xmath93 as the contribution of @xmath85 to dt type invariants is by using `` framing at infinity '' as in the work of d.  oprea @xcite . in this case , the generating function becomes a product of rank 1 generating functions by using an extra torus action on the framing . in our theory , such a splitting does not occur due to the presence of singularities in the reflexive hull . ] of @xmath11 .",
    "we have a precise conjecture for all @xmath93 in all curve classes on any toric calabi - yau 3-fold ( main conjecture [ mainconj ] ) .    for @xmath96 and",
    "fixed @xmath4-equivariant rank 2 reflexive hull @xmath49 on @xmath58 , consider all connected components @xmath85 with constant reflexive hulls @xmath49 and 0-dimensional cokernels .",
    "then the generating function of all @xmath93 is the degree 0 rank 2 equivariant vertex .",
    "we conjecture an explicit formula for it ( conjecture [ edgelessconj ] ) :    c[c ] @xmath97    this can be viewed as the degree 0 part of rank 2 dt theory on smooth toric 3-folds .",
    "this formula is in accordance with the expectation that higher rank dt invariants can be expressed in terms of rank 1 dt invariants and `` point contributions '' .",
    "note that unlike the rank 1 case , there are no signs in this formula ( essentially this is because rank 2 is even ) . comparing to and theorem a , conjecture c suggest @xmath98 , but this is _ not _ the case .",
    "in fact , @xmath93 can be zero due to obstructions ( example [ abnormal ] ) .",
    "the following is strong evidence for conjecture c. let @xmath99 denote the `` calabi - yau torus '' defined by @xmath100 .",
    "let @xmath90 be a compact connected component of the @xmath101-fixed locus with constant reflexive hulls @xmath49 and cokernels of dimension 0 .",
    "using @xmath101-localization and assuming two analogs of conjectures . ] used in the @xmath101-localization of stable pair theory @xcite , we prove ( remark [ finalrem ] ) @xmath102 here the sum is over all connected components of the @xmath103-fixed locus of @xmath85 .",
    "combinatorially , this means that whenever @xmath104 for some @xmath105 , other buddy components @xmath106 in the same @xmath60-fixed locus will compensate for this .    main conjecture [ mainconj ] is a generalization of conjecture [ c ] to arbitrary smooth toric calabi - yau 3-folds and curve classes .",
    "we provide the following evidence for it :    * explicit examples ( section [ nolegs ] , [ o(-1,-1 ) ] ) . * a proof in the case of `` expected obstructions '' ( theorem [ tthm ] ) . * a proof using @xmath101-localization based on analogs of two conjectures of @xcite ( theorem [ t0thm ] ) .      in section 2",
    ", we introduce the rank 2 @xmath4-equivariant and @xmath101-equivariant dt invariants we study .",
    "we show the calabi - yau specialization @xmath92 is well - defined ( proposition - definition [ propdef ] ) and @xmath101-fixed dt theory is symmetric in @xmath95-theory ( theorem [ sym ] ) . in section 3 , we recall klyachko s description of @xmath4-equivariant torsion free and reflexive sheaves on a toric variety @xmath2 .",
    "we use it to describe ( scheme - theoretically ) the @xmath4-fixed locus and deduce it is smooth ( theorem [ fixedlocithm ] ) .",
    "this result is a direct consequence of @xcite .",
    "we give a combinatorial description of the fixed locus of the quot scheme of a @xmath4-equivariant rank 2 reflexive hull in terms of new combinatorial objects called double box configurations ( section [ 3dpartitions ] , definition [ doubleboxconf ] ) . in section 4 ,",
    "we discuss applications to euler characteristics .",
    "we provide a general structure formula in the case `` @xmath8 is minimal '' ( proposition [ minc2b ] , theorem [ eulermin ] ) .",
    "we discuss applications to @xmath107 and @xmath77 ( corollary [ quotc3 ] , section [ p3 ] ) . in section 5",
    ", we set up a vertex / edge formalism  la @xcite ( theorem [ vertexedgeformalism ] ) . in section 6 , we study the @xmath4-equivariant dt invariants of section 2 after the calabi - yau specialization @xmath92 .",
    "we conjecture a precise formula for all invariants ( main conjecture [ mainconj ] ) .",
    "we introduce a rank 2 equivariant vertex measure in the case of no legs and a single leg ( sections [ nolegs ] , [ o(-1,-1 ) ] ) .",
    "evidence for the main conjecture is provided by many examples ( sections [ nolegs ] , [ o(-1,-1 ) ] , theorem [ tthm ] ) and @xmath101-localization ( theorem [ t0thm ] ) . + * notation . * for any sets @xmath108 , we denote projections to the factors by @xmath109 and @xmath110 . if @xmath108 are schemes with coherent sheaves @xmath111 , we write @xmath112",
    ". + * acknowledgements .",
    "* we would like to thank k.  behrend , j.  bryan , j.  manschot , d.  maulik , and r.  p.  thomas for useful discussions .",
    "was partially supported by nsf grant dms-1406788 .",
    "m.k .  was supported by ep / g06170x/1 , `` applied derived categories '' ( while at imperial college ) , a pims postdoctoral fellowship ( crg geometry and physics , while at ubc ) , and nwo - gqt and marie skodowska - curie project 656898 ( invloccy ) ( while at utrecht ) .",
    "let @xmath2 be a smooth toric 3-fold with dense open torus @xmath4 .",
    "we recall some basic facts and notation from toric geometry following @xcite .",
    "the fan of @xmath2 gives rise to a polyhedron @xmath75 with faces transversal to the rays .",
    "denote the collection of vertices of @xmath75 by @xmath113 and the collection of edges of @xmath75 by @xmath114 .",
    "the vertices @xmath115 correspond bijectively to the cones of dimension 3 of the fan of @xmath2 .",
    "we denote the edge between two adjacent vertices @xmath116 by @xmath117 .",
    "the edges @xmath117 correspond bijectively to the cones of dimension 2 of the fan of @xmath2 .",
    "we denote by @xmath118 the @xmath4-invariant affine open subset corresponding to @xmath119 .",
    "furthermore , we write @xmath120 for the fixed point corresponding to @xmath119 and @xmath121 for the @xmath4-invariant line joining @xmath120 and @xmath122 .",
    "the toric divisors are labelled by the faces of @xmath75 .",
    "we denote the collection of faces with the collection of rays of the fan of @xmath2 by sending a face to the ray it is transverse to .",
    "] of @xmath75 by @xmath123 and label its elements by @xmath124 .",
    "the toric divisor corresponding to @xmath124 is denoted by @xmath125 .    for any @xmath115",
    ", there are coordinates @xmath126 on @xmath118 and @xmath127 on @xmath128 such that @xmath129 in these coordinates , the fixed point @xmath120 has cotangent representation @xmath130 where @xmath131 denotes @xmath13-span .",
    "we therefore have a @xmath4-equivariant isomorphism @xmath132 the normal bundle @xmath133 is of the form @xmath134 the transition function between the charts @xmath135 , @xmath136 is given by @xmath137 where @xmath138 is defined by @xmath139 .",
    "let @xmath11 be a smooth toric calabi - yau 3-fold .",
    "then @xmath11 is non - compact so has no good notion of moduli space of stable sheaves on it .",
    "we therefore want to compactify @xmath11 .",
    "[ toriccompact ] let @xmath11 be a smooth toric calabi - yau 3-fold .",
    "let @xmath2 be a smooth projective toric 3-fold .",
    "we say @xmath2 is a _",
    "toric compactification _ of @xmath11 if @xmath82 is a union of some of the invariant affine open subsets @xmath140 of @xmath2 . in this context , we denote by @xmath141 the collection of vertices @xmath119 for which @xmath142 .",
    "moreover , we write @xmath143 for the edges spanned by vertices of @xmath141 .",
    "the subscript @xmath144 indicates we consider edges corresponding to _ compact _ lines in @xmath11 only .",
    "let @xmath145 and use coordinates @xmath126 on @xmath135 as above .",
    "define the subtorus preserves the calabi - yau volume form on @xmath11 . ]",
    "@xmath99 by @xmath146 .",
    "equation ( [ klocal ] ) implies there exists a @xmath101-equivariant isomorphism @xmath147 let @xmath148 .",
    "then the degree of @xmath149 is @xmath150 by the calabi - yau property , i.e.   @xmath151    [ extoriccy ] important examples of toric compactifications are @xmath152 where @xmath153 denotes the total space of the indicated vector bundle , @xmath154 , and @xmath155 is any smooth projective toric surface .",
    "these compactifications satisfy @xmath29 .",
    "we now introduce some notation for future @xmath95-group calculations .",
    "let @xmath2 be a smooth projective variety , @xmath156 a @xmath157-flat family of coherent sheaves on @xmath2 over a base scheme @xmath157 , and @xmath158 a line bundle on @xmath159 .",
    "we use the common notation @xmath160 moreover , we denote the corresponding @xmath95-group class by @xmath161 \\in k_0(b).\\end{aligned}\\ ] ] the corresponding trace free parts are denoted by @xmath162 , @xmath163 . in the @xmath95-group ,",
    "we often omit square brackets @xmath164 $ ] and write @xmath38 instead of @xmath165 $ ] for brievity .",
    "note that in the case @xmath166 and @xmath167 , we have @xmath168 on @xmath169 , we have an involution @xmath170 , induced by taking the dual .",
    "if @xmath2 is toric and @xmath156 is @xmath4-equivariant , then @xmath171 is an element of the @xmath4-equivariant @xmath95-group @xmath172 .",
    "here we endow @xmath157 with the trivial @xmath4-action .",
    "taking equivariant dual @xmath170 induces an involution on @xmath172 . for",
    "any coherent sheaf @xmath38 on @xmath157 , we have @xmath173      let @xmath2 be a smooth projective @xmath174-fold over @xmath13 with polarization @xmath14 .",
    "we denote by @xmath175 the moduli space of @xmath17-stable torsion free is called torsion free if it has no non - trivial subsheaves of dimension @xmath176 . ]",
    "sheaves on @xmath2 of rank @xmath16 and chern classes @xmath177 .",
    "we will _ not _ consider @xmath17-strictly semistable sheaves in this paper and work directly on the open subset of @xmath17-stable sheaves .",
    "when @xmath2 is toric , the action of the dense open torus @xmath4 on @xmath2 lifts to @xmath178 and we consider the fixed locus @xmath179 . for @xmath180 ,",
    "the fixed locus is in general non - isolated and rather complicated .",
    "an explicit modular description of @xmath179 using git is given in @xcite ( this description holds for @xmath2 of any dimension ) . in section [ fixedloci ] , we explicitly describe the scheme @xmath179 in the case @xmath35 and show it is smooth ( theorem [ fixedlocithm ] ) .",
    "suppose @xmath2 is a toric compactification of a toric calabi - yau 3-fold @xmath11 ( definition [ toriccompact ] ) .",
    "we want to define a moduli space of stable sheaves on @xmath11 using the compactification @xmath2 .",
    "given a torsion free sheaf @xmath38 on @xmath2 , the natural map to its double - dual @xmath181 is injective . here",
    "@xmath182 and @xmath183 is called the reflexive hull of @xmath38 .",
    "reflexive hulls are reflexive sheaves is called reflexive if the natural map @xmath184 is an isomorphism .",
    "reflexive sheaves are torsion free . for more information on reflexive sheaves",
    "see @xcite . ] .",
    "we obtain a short exact sequence @xmath185 the cokernel @xmath41 has proper support of dimension @xmath42 .",
    "moreover , @xmath183 is locally free outside a 0-dimensional subscheme of @xmath2 .",
    "we define @xmath186 \\in { \\mathcal m}_x \\ | \\",
    "{ \\mathcal f}^ { * * } / { \\mathcal f}\\ \\mathrm{has \\ support \\ in \\ } y \\}.\\ ] ] we denote the closed points of a finite type @xmath13-scheme @xmath157 by @xmath187 .",
    "[ openness ] @xmath188 is open and @xmath4-invariant .",
    "we first prove @xmath189 is @xmath4-invariant .",
    "let @xmath165 \\in { \\mathcal m}_{y\\subset x}$ ] and @xmath190 be closed points .",
    "then @xmath191 induces an automorphism @xmath192 . by definition",
    ", @xmath38 fits into the short exact sequence @xmath193 where @xmath194 .",
    "this sequence remains exact after applying @xmath195 .",
    "since @xmath195 commutes with taking ( double ) dual , we have @xmath196 since @xmath197 and @xmath11 is @xmath4-invariant , the result follows .",
    "next , we prove @xmath198 is open in @xmath178 by proving that its complement is closed .",
    "suppose @xmath199 is a smooth quasi - projective curve and let @xmath200 be a point on @xmath199 .",
    "suppose we have a morphism @xmath201 such @xmath202 maps to @xmath203 .",
    "it suffices to show @xmath200 also maps to @xmath203 .",
    "let @xmath38 be the family induced by this map .",
    "we know @xmath204 intersects @xmath205 for all closed points @xmath206 and want to show @xmath207 intersects @xmath205 .",
    "after possibly removing a finite number of points from @xmath202 , the reflexive hulls @xmath208 , @xmath206 form a flat family @xcite .",
    "we can take the flat limit of this family inside the ( proper ) moduli space of gieseker semistable torsion free sheaves containing @xmath208 with @xmath206 to fill in the missing fiber over @xmath200 .",
    "this gives a flat family @xmath49 over @xmath199 such that @xmath209 for all closed points @xmath206 , but @xmath210 may not be equal to @xmath211 ( because reflexive hulls of members of a flat family may jump ) . in particular , @xmath210 may not be reflexive .",
    "a priori , @xmath210 is only gieseker semistable and hence @xmath17-semistable .    over @xmath202",
    "we also have the flat family of quotients given by the short exact sequence @xmath212 we take the flat limit of these quotients inside the corresponding relative quot scheme @xmath213 where @xmath214 is the hilbert polynomial of @xmath210 with respect to a polarization on @xmath2 . the flat limit exists , because the map is proper .",
    "we obtain a short exact sequence @xmath215 extending .",
    "we claim that @xmath216 .",
    "since @xmath217 and @xmath210 only differ in codimension @xmath43 , @xmath217 is @xmath17-semistable .",
    "there exists a projective moduli scheme of @xmath17-semistable sheaves @xmath218 constructed by d.  greb and m.  toma @xcite .",
    "seperatedness of @xmath218 , implies equality of the equivalence classes of @xmath219 , @xmath217 in @xmath218 .",
    "this translates into @xmath220^ { * * } \\cong [ gr^{\\mu}({\\mathcal f}'_0)]^{**},\\ ] ] where @xmath221 denotes the graded object associated to a choice of @xmath17-jordan - hlder filtration and @xmath164^{**}$ ] denotes double dual - semistable sheaf @xmath38 and choice of @xmath17-jordan - hlder filtration of @xmath38 , the graded object @xmath222 depends on the choice of filtration .",
    "however its double dual @xmath223^{**}$ ] is independent of this choice ( up to isomorphism ) ( * ? ? ?",
    "1.6.10 ) . ]",
    "since @xmath219 is @xmath17-stable this equality implies @xmath217 can not be strictly @xmath17-semistable .",
    "since @xmath217 is @xmath17-stable , separateness of @xmath224 implies @xmath225 .",
    "although @xmath210 and @xmath211 may not be equal , we claim that @xmath226 .",
    "we proved @xmath219 injects into @xmath210 with cokernel @xmath227 , so they are isomorphic on the complement of @xmath228 . since @xmath228 has codimension @xmath43 , their reflexive hulls are completely determined on @xmath229 and @xmath226 ( * ? ? ? * prop .",
    "1.6 ) . from the chain of the inclusions @xmath230",
    ", we deduce @xmath231 so if @xmath232 intersects @xmath205 , we are done . for this",
    ", it suffices to show that the locus of quotients in @xmath233 whose support intersect @xmath234 forms a closed subset .",
    "let @xmath235 be any @xmath155-flat family of torsion free sheaves on @xmath236 for arbitrary base @xmath155 .",
    "suppose the hilbert polynomial of the members of the family is @xmath214 with respect to some polarization on @xmath2 .",
    "consider the corresponding relative quot scheme @xmath237 let @xmath41 be the universal quotient over @xmath238 .",
    "then both @xmath239 and @xmath240 are closed subsets @xmath241 and so is their intersection @xmath242 .",
    "since @xmath2 is proper , the image of @xmath242 under projection to @xmath243 gives a closed subset .",
    "[ openess ] when @xmath29 , openness of @xmath189 implies it inherits the donaldson - thomas perfect obstruction theory from @xmath178 .",
    "since @xmath244 need not be compact , it does not have a virtual cycle .",
    "therefore , instead we consider connected components @xmath85 of @xmath179 which are contained in @xmath244 .",
    "in other words , _ compact _ connected components of @xmath245 .",
    "we will see there are plenty such components .",
    "we then induce the perfect obstruction theory on @xmath85 via @xmath179 and obtain a virtual cycle @xmath246^{{\\mathrm{vir}}}$ ] ( see section [ tequivdt ] ) .",
    "a similar story will apply using @xmath101 instead of @xmath4 ( see section [ t0equivdt ] ) .    in the case",
    "@xmath26 , the moduli space @xmath247 is independent of the polarization @xmath14 .",
    "moreover , it is isomorphic to a hilbert scheme @xmath248 of ideal sheaves @xmath249 of closed subschemes @xmath199 of dimension @xmath42 with @xmath250=\\beta$ ] and @xmath251 . here",
    "@xmath252 is poincar dual to @xmath253 and @xmath254 is determined by @xmath7 , @xmath8 , @xmath9 . in this case",
    ", @xmath244 is the open subset of closed subschemes @xmath199 with support in @xmath11 . from this description",
    ", it is clear that @xmath244 is _ independent _ of the choice of toric compactification @xmath2 .",
    "there is no such independence in the case @xmath27 . in general ,",
    "not only does @xmath244 depend on the choice of toric compactification @xmath2 , it also depends on the choice of polarization the moduli space @xmath178 can be empty . for examples ,",
    "see @xcite . ]",
    "@xmath14 on @xmath2 .",
    "we think of @xmath244 as a moduli space of rank @xmath16 @xmath17-stable torsion free sheaves on @xmath11 . on @xmath244",
    ", we have a type of `` serre duality in the @xmath95-group '' as we will see in proposition [ sd ] below .",
    "we start with a technical lemma on reflexive hulls .",
    "[ hulls ] let @xmath2 be a smooth projective variety with polarization @xmath14 and let @xmath255 be the moduli space of @xmath17-stable torsion free sheaves on @xmath2 with indicated chern classes .",
    "let @xmath156 be a @xmath157-flat family of torsion free sheaves in @xmath224 over a variety @xmath157 , such that all members @xmath256 , @xmath257 have the same reflexive hull @xmath49",
    ". then there exists a line bundle @xmath258 on @xmath157 and a short exact sequence @xmath259 where @xmath260 is @xmath157-flat . for each @xmath257",
    ", this induces a short exact sequence @xmath261 where the first map is the natural inclusion @xmath262 .    for @xmath156",
    "_ any _ @xmath157-flat family , kollr @xcite constructs a stratification @xmath263 of @xmath157 such that over each stratum @xmath264 , @xmath265 has a @xmath264-flat hull @xmath266 here @xmath267 is a @xmath264-flat quasi - coherent sheaf and the morphism restricts to the natural inclusion @xmath268 for all @xmath257 . in our case , all members of @xmath156 have isomorphic reflexive hulls , so kollr s stratification is trivial .",
    "we claim @xmath269 is injective with @xmath157-flat cokernel @xmath260 .",
    "consider the exact sequence defined by taking kernel and cokernel @xmath270 fibres over closed points @xmath271 give short exact sequences @xmath272 where the first map is the natural inclusion . since @xmath256 is @xmath157-flat and @xmath273 by assumption",
    ", we conclude that the hilbert polynomials of @xmath274 are constant .",
    "hence @xmath260 is @xmath157-flat .",
    "this implies @xmath275 is @xmath157-flat .",
    "therefore @xmath276 for all closed points @xmath271 , so @xmath277 and @xmath278 .",
    "finally , we show @xmath279 . since @xmath256 is @xmath17-stable , its reflexive hull @xmath49 is @xmath17-stable , because they only differ in codimension @xmath43 .",
    "therefore , @xmath49 is an element of a moduli space of @xmath17-stable reflexive sheaves @xmath280 on @xmath2 .",
    "the @xmath157-flat family @xmath281 gives a morphism @xmath282 suppose @xmath280 has a universal family @xmath283 .",
    "then @xmath284 for some line bundle @xmath258 on @xmath157 .",
    "since @xmath285 factors through the closed point @xmath286\\}$ ] the result follows from @xmath287 . in general , @xmath280 may not have a universal family . in this case ,",
    "an tale cover of @xmath280 does have a universal family @xcite .",
    "working on the tale cover , the same result can be obtained .",
    "[ sd ] let @xmath11 be a smooth toric calabi - yau 3-fold and let @xmath2 be a toric compactification of @xmath11 .",
    "let @xmath14 be a polarization on @xmath2 and let @xmath288 , @xmath289 .",
    "let @xmath156 be a @xmath157-flat family of torsion free sheaves in @xmath178 over a variety @xmath157",
    ". assume all members @xmath256 , @xmath257 lie in @xmath244 and have the same reflexive hull @xmath49 .",
    "then @xmath290 if @xmath156 is a @xmath101-equivariant family , then the same equality holds in @xmath291 .",
    "if @xmath156 is a @xmath4-equivariant family , then @xmath292    consider the short exact sequence of lemma [ hulls ] @xmath293 from this short exact sequence , we get exact triangles @xmath294 the natural map @xmath295 induces @xmath296 we define @xmath297 where the map is the natural composition @xmath298 this leads to the following equalities in the @xmath95-group @xmath299 - \\langle { \\mathbb f},{\\mathbb q}\\rangle \\\\ & = \\langle { \\mathcal r } , { \\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_b - \\langle { \\mathbb q } , { \\mathcal r}\\boxtimes l \\rangle - \\langle { \\mathbb f},{\\mathbb q}\\rangle.\\end{aligned}\\ ] ] the first equality follows from and the definition of @xmath300 .",
    "the second equality follows from and the definition of @xmath300 .",
    "repeating the same reasoning on tensored by @xmath301 gives @xmath302 where we used that @xmath260 is supported in @xmath303 .",
    "we deduce @xmath304 ( equivariant ) serre duality gives the results .",
    "when @xmath2 is a smooth projective 3-fold with @xmath29 ( e.g.  calabi - yau or fano ) , the moduli space @xmath178 carries a natural perfect obstruction theory constructed in @xcite @xmath305 where @xmath306 is a 2-term complex of locally free sheaves on @xmath178 and @xmath307 is the truncated cotangent complex of @xmath178 . over a closed point @xmath165 \\in { \\mathcal m}_x$ ]",
    ", we have @xmath308 } \\cong r{\\operatorname{hom}}({\\mathcal f},{\\mathcal f})_0[1].\\ ] ] if @xmath2 is in addition toric , the above perfect obstruction theory is @xmath4-equivariant . in the case",
    "@xmath2 is calabi - yau , the virtual dimension @xmath309 of this perfect obstruction theory is 0 .",
    "if @xmath178 is compact , then the perfect obstruction theory @xmath306 gives rise to a virtual cycle @xmath310^{{\\mathrm{vir}}}$ ] . in the case",
    "@xmath2 is calabi - yau , the donaldson - thomas invariants are then defined as @xmath311^{{\\mathrm{vir } } } ) \\in { \\mathbb z}.\\ ] ] for other 3-folds , we can take any @xmath312 of degree @xmath309 and consider @xmath313^{{\\mathrm{vir } } } } \\alpha   \\in { \\mathbb z}.\\ ] ] when @xmath2 is in addition toric , @xmath119 can be chosen in @xmath314 and the invariant lies in @xmath315.\\ ] ] in this case , one can use the virtual torus localization formula of t.  graber and r.  pandharipande to compute the invariant @xcite .",
    "this works as follows .",
    "the @xmath4-fixed part of @xmath316 induces a perfect obstruction theory on @xmath179 .",
    "moreover , the @xmath4-moving part @xmath317 is a @xmath4-equivariant 2-term perfect complex @xmath318 known as the virtual normal bundle .",
    "consider the insertion @xmath319 where @xmath320 denotes top @xmath4-equivariant chern class .",
    "the virtual localization formula states @xmath313^{{\\mathrm{vir } } } } \\alpha = \\int_{[{\\mathcal m}_{x}^{t}]^{{\\mathrm{vir } } } } \\frac{1}{e(n^{\\mathrm{vir } } ) } \\ \\alpha|_{{\\mathcal m}_{x}^{t}}.\\ ] ] the rank 1 dt theory and its connections to gromov - witten theory have been studied in the seminal papers @xcite .",
    "let @xmath2 be a smooth projective toric 3-fold with @xmath29 .",
    "consider the moduli space @xmath178 .",
    "so far in this section , the rank @xmath16 was arbitrary .",
    "from now on , @xmath35 . in section [ fixedloci ] , we study the fixed locus @xmath179 for @xmath35 and show it is smooth ( theorem [ fixedlocithm ] ) .",
    "if @xmath178 is projective , then @xmath321^{{\\mathrm{vir } } } & = \\sum_{{\\mathcal c}\\subset { \\mathcal m}_{x}^{t } } \\iota _ * \\big ( \\frac{1}{e(n^{\\mathrm{vir } } ) } \\cap [ { \\mathcal c}]^{{\\mathrm{vir } } } \\big ) \\\\ & = \\sum_{{\\mathcal c}\\subset { \\mathcal m}_{x}^{t } } \\iota _ * \\big ( e(t_{{\\mathcal c } } - e^{{{\\scriptscriptstyle\\bullet}}\\vee } )   \\cap [ { \\mathcal c } ] \\big ) , \\end{split}\\end{aligned}\\ ] ] where the sum is over all connected components @xmath322 , @xmath323 denotes inclusion , and @xmath324 denotes the tangent bundle of @xmath85 .",
    "the first equality is the virtual localization formula and the second equality follows from smoothness of @xmath85 as in ( * ? ? ?",
    "4.2 ) . in section [ vertex / edge ] , we develop a vertex / edge formalism for this class . recall that in what follows , we do not assume @xmath178 is projective .",
    "suppose @xmath11 is a smooth toric calabi - yau 3-fold with toric compactification @xmath2 with @xmath29 .",
    "unlike the rank 1 case , for each closed point @xmath165 \\in { \\mathcal m}_{y \\subset x}$ ] , the class @xmath308 } = - \\langle { \\mathcal f},{\\mathcal f}\\rangle_0\\ ] ] does _ not _ have rank zero even though @xmath325 .",
    "however , the class @xmath308 } + \\langle { \\mathcal r},{\\mathcal r}\\rangle_0,\\ ] ] has rank zero by proposition [ sd ] ( taking @xmath326 ) .",
    "we therefore want to `` split off '' the part @xmath327 . in order to be able to do this in families",
    ", we make the following assumption :    [ as1 ] let @xmath322 be a connected component such that @xmath90 .",
    "assume all closed points of @xmath85 have the same ( i.e.  isomorphic ) reflexive hull @xmath49 .",
    "[ unioncomp ] by remark [ a=3 ] , assumption [ as1 ] implies @xmath49 is an isolated reduced point in the @xmath4-fixed locus ( i.e.  @xmath328 ) and @xmath85 is a product of @xmath6 s .",
    "conversely , suppose @xmath49 is a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf on @xmath2 with @xmath328 .",
    "any connected component @xmath329 with all closed points of @xmath85 having reflexive hull @xmath49 is isomorphic to a product of @xmath6 s , hence compact .",
    "this fact follows from the toric description of section [ fixedlocigeneral ] .",
    "so from _ isolated _ @xmath4-fixed rank 2 reflexive hulls on @xmath2 , we can produce lots of components satisfying assumption [ as1 ] as claimed in remark [ openess ] .",
    "[ ex1as1 ] let @xmath2 a smooth projective toric 3-fold with @xmath76 .",
    "let @xmath14 be a polarization on @xmath2 and @xmath74 chern classes such that @xmath330 and @xmath73 is minimal such that there exist rank 2 @xmath17-stable torsion free sheaves on @xmath2 with chern classes @xmath74 .",
    "then for any connected component @xmath85 of @xmath179 , all closed points of @xmath85 have the same reflexive hull ( theorem [ eulermin ] ) .",
    "an example of this setting is @xmath77 , @xmath331 , and @xmath78 ( example [ c2=1 ] ) .    in the previous example , the cokernels @xmath332 of closed points @xmath165 \\in { \\mathcal c}$ ] are always 0-dimensional by proposition [ minc2a ] .",
    "an example with 1-dimensional cokernels is the following .",
    "[ ex2as1 ] let @xmath77 , @xmath331 , and @xmath79 .",
    "then for all connected components @xmath85 of @xmath179 , the closed points of @xmath85 have the same reflexive hull ( example [ c2=2 ] ) .",
    "moreover , some of these connected components have cokernels @xmath332 of dimension 1 .",
    "[ ex3as1 ] let @xmath77 , @xmath331 , and @xmath333 .",
    "then for some connected components @xmath85 of @xmath179 , all closed points of @xmath85 have the same reflexive hull , whereas for some @xmath85 this is not the case .",
    "this is discussed in detail in example [ c2is3 ] .",
    "let @xmath322 be a connected component satisfying assumption [ as1 ] . recall that @xmath334 and @xmath335 since @xmath29 .",
    "since by assumption @xmath328 , the following expression is well - defined @xmath336 the reflexive hull @xmath49 is not intrinsic to the problem and depends on the choice of compactification , so we factor it out .",
    "the following expression is well - defined @xmath337^{{\\mathrm{vir } } } & = e(t_{{\\mathcal c } } - e^{{{\\scriptscriptstyle\\bullet}}\\vee } ) \\cap [ { \\mathcal c } ] \\\\ & = e(\\langle { \\mathcal r},{\\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_{\\mathcal c } )   \\cdot e(t_{{\\mathcal c } } - e^{{{\\scriptscriptstyle\\bullet}}\\vee } - \\langle { \\mathcal r},{\\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_{\\mathcal c } ) \\cap [ { \\mathcal c } ] .",
    "\\end{aligned}\\ ] ] we therefore write somewhat sloppily @xmath338^{{\\mathrm{vir } } } = e(t_{{\\mathcal c } } - e^{{{\\scriptscriptstyle\\bullet}}\\vee } - \\langle { \\mathcal r},{\\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_{\\mathcal c } ) \\cap [ { \\mathcal c}].\\ ] ] here @xmath339 has rank zero by proposition [ sd ] .    [ propdef ]",
    "let @xmath11 be a smooth toric calabi - yau 3-fold with toric compactification @xmath2 with @xmath29 and polarization @xmath14 .",
    "let @xmath340 , @xmath341 and let @xmath322 be a connected component satisfying assumption [ as1 ] with reflexive hull @xmath49 .",
    "define @xmath342^{{\\mathrm{vir } } } } \\frac{1}{e(n^{{\\mathrm{vir } } } ) \\",
    "e(\\langle { \\mathcal r},{\\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_{\\mathcal c})}. \\end{split}\\end{aligned}\\ ] ] the specialization @xmath343 is well - defined .",
    "as mentioned above , assumption [ as1 ] implies @xmath344 for some @xmath345 ( remark [ a=3 ] ) . in remark",
    "[ a=3 ] , we also observe that the toric description of section [ fixedloci ] gives a universal family @xmath156 over @xmath85 which fits in a short exact sequence @xmath346 again from the toric description , the cokernel @xmath260 is a @xmath85-flat coherent sheaf and its class in @xmath347 can be expressed in terms of the classes @xmath348 of the factors of @xmath349 .",
    "using this , we show in section [ vertex / edge ] ( theorem [ vertexedgeformalism ] ) that @xmath350 is a finite sum of elements @xmath351 , where each coefficient @xmath144 is the class of a line bundle ( possibly trivial ) on a factor @xmath6 of @xmath349 .",
    "consider @xmath339 .",
    "we are only interested in terms which are @xmath101-fixed ( all other terms have a good specialization under @xmath352 ) .",
    "each @xmath101-fixed term has a weight of the form @xmath353 .",
    "we first consider terms with @xmath354 .",
    "the tangent bundle @xmath324 has weight @xmath355 and its dual @xmath356 has weight @xmath357 ( proposition [ sd ] ) .",
    "denote all other terms with @xmath355 by @xmath358 , where @xmath359 for some factor @xmath6 of @xmath349 and @xmath360 runs through some ( possibly empty ) index set .",
    "note that these terms must come from obstructions and hence have a minus sign .",
    "each such term comes with a dual term @xmath361 by proposition [ sd ] . in conclusion ,",
    "the contribution of all terms with weight @xmath354 to the integral is @xmath362 next consider a @xmath101-fixed term of @xmath339 with @xmath363 .",
    "denote these terms by @xmath364 where @xmath365 for some factor @xmath6 of @xmath349 and @xmath366 runs through some ( possibly empty ) index set . by proposition [ sd ] ,",
    "such a term comes with a dual term @xmath367 together their contribution to is @xmath368 \\\\ & = \\prod_l \\big[-\\frac{(w_{l}+1)}{w_{l } } + \\frac{1}{(w_{l})^2 s } c_1(b_{l } ) \\big ] .",
    "\\end{split}\\end{aligned}\\ ] ] multiplying out and gives the contribution of all @xmath101-fixed terms .",
    "we see no powers of @xmath369 can occur since @xmath370 and each factor @xmath371 comes with a class of degree 1 .",
    "moreover after multiplying out and , each non - zero term containing a factor @xmath372 with @xmath373 and @xmath6 equal to the @xmath374th factor of @xmath85 also contains @xmath375 , which cancels the pole .",
    "similarly for @xmath376 . here we use that the factors of @xmath85 are 1-dimensional .",
    "we conclude that all poles cancel .      as in the previous sections ,",
    "we consider a smooth toric calabi - yau 3-fold @xmath11 with toric compactification @xmath2 with @xmath29 and polarization @xmath14 .",
    "let @xmath377 be as before .",
    "consider the subtorus @xmath99 defined by @xmath100 . in @xcite , pandharipande - thomas conjecture that the @xmath101-fixed locus of the moduli space of stable pairs is smooth .",
    "we conjecture the analog in our setting :    [ t0conj1 ] let @xmath2 be a smooth projective toric 3-fold with polarization @xmath14 and let @xmath378 .",
    "then @xmath379 is smooth .",
    "we consider connected components @xmath380 such that @xmath90 .",
    "we want to endow @xmath85 with a symmetric perfect obstruction theory coming from @xmath101-localization . in the stable pairs setting of @xcite this part is automatic .",
    "however , in our case one must factor out the part coming from reflexive hulls similar to the previous section . in order to achieve this",
    ", we make an assumption :    [ as2 ] let @xmath380 be a compact connected component such that @xmath90 .",
    "assume all closed points of @xmath85 have the same ( i.e.  isomorphic ) reflexive hull @xmath49 .",
    "moreover , assume @xmath381 .",
    "[ remas2 ] compared to the @xmath4-equivariant case ( assumption [ as1 ] ) , there are two more assumptions : @xmath382 , and @xmath383 . in the @xmath4-equivariant case ,",
    "the first vanishing was a _ consequence _ and the second vanishing was not needed .",
    "we have evidence ( from examples ) that here both vanishings are consequences .",
    "let @xmath380 satisfy assumption [ as2 ] .",
    "then @xmath85 has an induced perfect obstruction theory from @xmath101-localization . assuming conjecture [ t0conj1 ] , we obtain @xmath384^{{\\mathrm{vir } } } & = e(t_{{\\mathcal c } } - e^{{{\\scriptscriptstyle\\bullet}}\\vee } )   \\cap [ { \\mathcal c } ] , \\\\ & = e(\\langle { \\mathcal r } , { \\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_{{\\mathcal c } } ) \\cdot e(t_{{\\mathcal c } } - e^{{{\\scriptscriptstyle\\bullet}}\\vee } - \\langle { \\mathcal r},{\\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_{\\mathcal c } ) , \\end{aligned}\\ ] ] where @xmath385 denotes the virtual normal bundle and @xmath386 denotes the @xmath101-moving part .    [ t0dt ]",
    "let @xmath11 be a smooth toric calabi - yau 3-fold with toric compactification @xmath2 with @xmath29 and polarization @xmath14 .",
    "suppose conjecture [ t0conj1 ] holds .",
    "let @xmath340 , @xmath341 , and let @xmath380 be a connected component satisfying assumption [ as2 ] with reflexive hull @xmath49 . then @xmath387^{{\\mathrm{vir } } } } \\frac{1}{e(n^{{\\mathrm{vir}},0 } ) \\",
    "e(\\langle { \\mathcal r } , { \\mathcal r}\\rangle_0 \\otimes { \\mathcal o}_{{\\mathcal c } } ) } \\end{aligned}\\ ] ] is well - defined ( by assumption [ as2 ] ) . here",
    "@xmath21 denotes the @xmath101-equivariant euler class .",
    "recall that @xmath85 is a connected component of @xmath388 and not @xmath245 as in proposition - definition [ propdef ] .",
    "therefore , we allow ourselves to use the same notation . a priori , these invariants have equivariant parameters , but theorems [ sym ] , [ t0thm1 ] below imply they are numbers .    the @xmath101-equivariant dt invariants of definition [ t0dt ] and the @xmath4-equivariant dt invariants of proposition - definition [ propdef ] are related in the obvious way .",
    "[ t0dt = tdt ] let @xmath11 be a smooth toric calabi - yau 3-fold with toric compactification @xmath2 satisfying @xmath29 and polarization @xmath14 .",
    "suppose conjecture [ t0conj1 ] holds .",
    "let @xmath340 , @xmath341 , and let @xmath380 be a connected component satisfying assumption [ as2 ] with reflexive hull @xmath49 .",
    "then @xmath389 acts on @xmath85 and the connected components @xmath105 of @xmath390 are connected components of @xmath391 .",
    "moreover @xmath392    the formula follows by using the @xmath389-action on @xmath85 and applying virtual localization to @xmath93 .    [ sym ]",
    "let @xmath11 be a smooth toric calabi - yau 3-fold with toric compactification @xmath2 with @xmath29 and polarization @xmath14 .",
    "suppose conjecture [ t0conj1 ] holds .",
    "let @xmath340 , let @xmath341 , and let @xmath380 be a connected component satisfying assumption [ as2 ] with reflexive hull @xmath49 .",
    "then dt theory induces a symmetric perfect obstruction theory @xmath393 on @xmath85 .",
    "moreover @xmath394    let @xmath156 be the universal family and smoothness of @xmath85 , one can show that @xmath85 is scheme - theoretically isomorphic to a connected component of the @xmath101-fixed locus of the quot scheme @xmath395 of quotients @xmath396 .",
    "the universal sheaf @xmath156 is the kernel of the universal quotient @xmath397 restricted to @xmath398 . ] on @xmath398 .",
    "then @xmath156 has a @xmath101-equivariant structure . by assumption [ as2 ] and lemma [ hulls ]",
    ", we have a short exact sequence @xmath399 the argument starts as in proposition [ sd ] . from the above short exact sequence ,",
    "we obtain exact triangles @xmath400 the natural map @xmath295 induces an exact triangle @xmath401 we define @xmath402 where the map is the composition @xmath403 from and the definition of @xmath300 , we obtain the exact triangle @xmath404.\\ ] ] by assumption [ as2 ] , @xmath405 , hence @xmath406.\\ ] ] combining this isomirphism with , gives an exact triangle @xmath407 \\longrightarrow r{\\curly h\\!om}_{p_{\\mathcal c}}({\\mathbb f},{\\mathbb q})^{t_0}.\\ ] ] we can apply a similar reasoning to tensored by @xmath408 .",
    "this gives an exact triangle @xmath409 \\longrightarrow r{\\curly h\\!om}_{p_{\\mathcal c}}({\\mathbb f},{\\mathbb q}\\otimes p_{x}^{*}k_x ) ^{t_0},\\ ] ] where we used @xmath410",
    "\\cong 0.\\ ] ] since @xmath260 is scheme - theoretically supported on @xmath411 and @xmath11 is calabi - yau , we have @xmath412 we obtain the exact triangle @xmath413 \\longrightarrow r{\\curly h\\!om}_{p_{\\mathcal c } } ( { \\mathbb f},{\\mathbb q})^{t_0}.\\ ] ] combining exact triangles , , and a non - zero section @xmath414 gives an isomorphism @xmath415.\\ ] ] this isomorphism provides the non - degenerate symmetric bilinear form required for a symmetric perfect obstruction theory \\cong \\theta$ ] , where @xmath416 is the map to the cotangent complex @xcite . in our applications",
    ", we only use the isomorphism @xmath417 \\cong e^{{{\\scriptscriptstyle\\bullet}}}$ ] ( namely for calculations in the @xmath101-equivariant @xmath95-group ) .",
    "therefore , we do not prove the duality of @xmath418 . ] @xmath419.\\ ] ]    next , the second part of the theorem .",
    "exactly as in the proof of proposition [ sd ] , we obtain the following equalities in @xmath420 @xmath421 subtracting these equations and using @xmath101-equivariant serre duality gives the desired result .",
    "in this section , @xmath2 is a smooth projective toric 3-fold with polarization @xmath14 and @xmath422 denotes the moduli space of rank @xmath16 @xmath17-stable torsion free sheaves on @xmath2 with indicated chern classes .",
    "we give klyacho s description of @xmath4-equivariant torsion free sheaves on @xmath2 @xcite .",
    "klyachko s work was further developed by m.  perling @xcite and we will mostly follow his notation .",
    "most constructions of sections 3.13.3 work for @xmath2 of any dimension , but we stick to dimension 3 for notational convenience .",
    "let @xmath38 be a @xmath4-equivariant quasi - coherent sheaf on @xmath2 and @xmath115 .",
    "let @xmath423 be coordinates on @xmath118 as in section [ toric3folds ] .",
    "we first study the restriction @xmath424 .",
    "the global section functor @xmath425 gives an equivalence between the categories of quasi - coherent sheaves on @xmath135 and @xmath426$]-modules .",
    "it is not hard to extend this to an equivalence between the categories of @xmath4-equivariant quasi - coherent sheaves on @xmath135 and @xmath426$]-modules with regular @xmath4-action @xcite .",
    "a regular @xmath4-action corresponds to a decomposition into weight spaces according to the character group @xmath427 .",
    "given a @xmath4-equivariant quasi - coherent sheaf @xmath428 on @xmath135 , we have a decomposition into weight spaces @xmath429 the sheaf @xmath428 is coherent if and only if @xmath430 has a finite number of homogeneous generators",
    ". moreover @xmath428 is torsion free if and only if the multiplication maps @xmath431 are injective on all weight spaces @xmath432 @xcite .",
    "therefore , the category of @xmath4-equivariant rank @xmath16 torsion free sheaves @xmath428 on @xmath135 is equivalent to the category of collections of complex vector spaces @xmath433 satisfying :    * the vector spaces @xmath432 form a triple filtration @xmath434 * for all @xmath435 we have @xmath436 .",
    "* whenever @xmath437 or @xmath438 or @xmath439 we have @xmath440 .",
    "we refer to @xmath433 as a rank @xmath16 @xmath441-family denotes the cone of maximal dimension corresponding to vertex @xmath119 . in our notation",
    "@xmath119-family would perhaps be better terminology . ] .",
    "the maps in the category of @xmath4-equivariant rank @xmath16 torsion free sheaves on @xmath135 are @xmath4-equivariant morphisms and the maps in the category of rank @xmath16 @xmath441-families are endomorphisms of @xmath442 compatible with the triple filtrations .",
    "a @xmath4-equivariant torsion free sheaf @xmath38 on @xmath2 gives rise to @xmath4-equivariant torsion free sheaves @xmath443 and corresponding @xmath441-families @xmath444 conversely , given such a collection of @xmath441-families , when do the corresponding sheaves @xmath428 glue to a sheaf @xmath38 on @xmath2 ? note that for fixed @xmath445 , the vector space @xmath446 does not change for @xmath447 .",
    "we denote this `` limiting vector space '' by @xmath448 .",
    "it is not hard to show that the gluing conditions are given by the following equations @xcite @xmath449 for all @xmath116 and @xmath450 . here",
    "the coordinates are chosen such that @xmath138 is defined by equations @xmath139 in @xmath135 and @xmath451 in @xmath136 .",
    "this describes an equivalence between the category of @xmath4-equivariant rank @xmath16 torsion free sheaves on @xmath2 and collections of rank @xmath16 @xmath441-families satisfying the gluing conditions ( [ glue ] ) @xcite .",
    "the maps in both categories are the obvious ones .",
    "let @xmath38 be a @xmath4-equivariant torsion free sheaf on a smooth projective toric 3-fold @xmath2 with corresponding collection of @xmath441-families @xmath452 .",
    "we define the _ characteristic function _",
    "@xmath453 of @xmath38 as follows @xmath454 we denote the collection of characteristic functions of @xmath4-equivariant torsion free sheaves on @xmath2 by @xmath455 .",
    "characteristic functions of members of a flat family of @xmath4-equivariant coherent sheaves are locally constant over the base @xcite .",
    "one can construct projective coarse moduli spaces of @xmath4-equivariant torsion free sheaves with fixed characteristic function using git .",
    "moreover , one can choose a git stability condition for which git stability and gieseker stability coincide @xcite .",
    "let @xmath38 be a @xmath4-equivariant torsion free sheaf on @xmath2 .",
    "then there is an explicit formula for the chern character @xmath456 in terms of the characteristic function @xmath453 .",
    "this formula is due to klyachko @xcite .",
    "an alternative way for obtaining such a formula is by @xmath4-equivariant dvissage .",
    "concretely , this works as follows .",
    "the cohomology ring @xmath457 is explicitly determined by the fan ( or polyhedron ) of @xmath2 .",
    "it is the free @xmath458-module generated by the @xmath4-invariant closed subsets @xmath459 modulo certain relations @xcite .",
    "for example @xmath460 for all @xmath116 is such a relation .",
    "there are three linear relations among the toric prime divisors @xmath125 and certain relations among the @xmath138 .",
    "the @xmath4-equivariant picard group @xmath461 is generated by @xmath125 _ without _ relations . inside the @xmath4-equivariant @xmath95-group @xmath462",
    ", there is an explicit way of writing @xmath38 as a finite sum of elements of the form @xmath463 for @xmath464 .",
    "the algorithm for getting such a decomposition is explicitly described in @xcite for the case @xmath77 , @xmath35 , and @xmath38 reflexive .",
    "see example [ p3reflch ] below for the equations .",
    "it is straightforward to generalize the algorithm to any @xmath2 and @xmath38 a @xmath4-equivariant rank @xmath16 torsion free sheaf on @xmath2 . for any @xmath465",
    ", we write @xmath466 for the chern character determined by a characteristic function @xmath467 .",
    "characteristic function determines chern character and hence hilbert polynomial ( by hirzebruch - riemann - roch ) . for a fixed chern character @xmath468 ,",
    "we denote by @xmath469 the collection of characteristic functions @xmath467 satisfying @xmath470 .      a @xmath4-equivariant rank @xmath16 torsion free sheaf @xmath38 on @xmath2 is @xmath17-stable if and only if its reflexive hull @xmath183 is @xmath17-stable .",
    "klyachko @xcite found out that @xmath4-equivariant reflexive sheaves on @xmath2 have a particularly easy description .",
    "moreover , stability is easily described in terms of the characteristic function @xmath471 @xcite .",
    "we denote by @xmath366 the number of faces of the polyhedron @xmath75 .",
    "note that @xmath366 equals the rank of @xmath461 .",
    "klyachko @xcite gives an equivalence between the category of @xmath4-equivariant rank @xmath16 reflexive sheaves on @xmath2 and the category of collections of flags @xmath472 satisfying    * @xmath473 for all @xmath474 , * @xmath475 for all @xmath476 .",
    "the morphisms of both categories are the obvious ones .",
    "we now describe how a family of flags @xmath477 gives rise to a @xmath4-equivariant reflexive sheaf @xmath49 on @xmath2 .",
    "let @xmath115 and let @xmath118 be the corresponding @xmath4-invariant affine open subset .",
    "write the coordinates on @xmath135 by @xmath423 as in section [ toric3folds ] .",
    "suppose the toric divisor @xmath478 corresponds to ray @xmath479 .",
    "define vector spaces @xmath480 then @xmath481 is a collection of rank @xmath16 @xmath441-families satisfying the gluing conditions .",
    "the corresponding sheaf @xmath49 on @xmath2 is reflexive @xcite .    in the case",
    "@xmath35 , a family of filtrations @xmath477 is entirely determined by the integers where the dimensions jump together with a choice of 1-dimensional subspaces for the jumps .",
    "more precisely , for each @xmath124 , there are unique @xmath482 , @xmath483 and @xmath484 such that @xmath485 where @xmath486 does not occur when @xmath487 .",
    "[ toricdata ] let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 corresponding to a collection of filtrations @xmath488 .",
    "we refer to the data @xmath489 described above as the _ toric data _ of @xmath49 and abbreviate it by @xmath490",
    ". given toric data @xmath490 , we define @xmath491 we abbreviate the collections of these number by @xmath492 , @xmath493 . clearly the the numbers @xmath494 determine the characteristic function of @xmath495 and vice versa .",
    "we treat both notions on equal footing .",
    "[ p3reflch ] the toric 3-fold @xmath77 is described by the lattice @xmath496 .",
    "the fan @xmath497 consisting of the 3-dimensional cones @xmath498 here @xmath499 is the standard basis of @xmath500 .",
    "we denote the rays generated by @xmath501 , @xmath502 , @xmath503 , @xmath504 by @xmath505 , @xmath506 , @xmath507 , @xmath508 .",
    "the corresponding polyhedron is a tetrahedron and @xmath509 .",
    "we define @xmath510 , @xmath511 , @xmath512 , and @xmath513 .",
    "let @xmath514 denote the hyperplane class on @xmath2 and let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 described by toric data @xmath490 . in @xcite the chern classes of @xmath49",
    "are computed using @xmath4-equivariant dvissage as outlined in section [ fixedloci1 ] @xmath515 this expresses @xmath516 in terms of the characteristic function @xmath517 . by further removing chern characters of @xmath518 , @xmath519 with @xmath520",
    ", we obtain explicit expressions for @xmath456 in terms of @xmath521 for any given @xmath4-equivariant rank 2 torsion free sheaf @xmath38 on @xmath522 .",
    "the following proposition is very useful .",
    "[ rank2singular ] let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 with toric data @xmath490 .",
    "let @xmath115 and denote by @xmath523 the faces sharing vertex @xmath119 .",
    "then @xmath524 is singular , i.e.  not locally free , precisely if @xmath525 , @xmath526 , @xmath527 are all positive and @xmath528 , @xmath529 , @xmath530 are mutually distinct .",
    "if @xmath524 is singular , then the length of its singularity equals the product @xmath531 .",
    "moreover , the degree of @xmath532 equals the sum of the lengths of the singularities of @xmath533 .    for @xmath77",
    "this is immediate from ( * ? ? ?",
    "2.6 ) and the formula for @xmath532 of example [ p3reflch ] . for general @xmath2 , the proof is easily adapted as is discussed in detail in the proof of ( * ? ? ?",
    "3.6 ) .    back to general @xmath2 .",
    "let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 described by toric data @xmath490 .",
    "like in the case of chern classes , @xmath17-stability of @xmath49 can be described in terms of the toric data only .",
    "more precisely @xmath49 is @xmath17-stable if and only if for any 1-dimensional subspace @xmath534 @xmath535 where we recall that @xmath14 denotes the polarization and @xmath536 the toric divisor corresponding to @xmath124 ( section [ toric3folds ] ) .",
    "a similar description exists for any rank on any polarized smooth projective toric @xmath12-fold @xcite .",
    "let @xmath38 be a @xmath4-equivariant torsion free sheaf on @xmath2",
    ". then @xmath38 is @xmath17-stable if and only if its reflexive hull @xmath537 is @xmath17-stable .",
    "so in order to understand @xmath17-stability of such sheaves , we only need to write the family of filtrations @xmath477 corresponding to @xmath49 in terms of the collection of @xmath441-families @xmath452 corresponding to @xmath38 .",
    "this can be done as follows : for all @xmath115 denote by @xmath505 , @xmath506 , @xmath507 the faces sharing vertex @xmath119 , then @xmath538 for all @xmath154 .",
    "let @xmath465 be the characteristic function of a @xmath4-equivariant rank 2 torsion free sheaf on @xmath2 .",
    "there exists a natural moduli functor of families of @xmath17-stable - stability is easier . ]",
    "@xmath4-equivariant torsion free sheaves on @xmath2 with characteristic function @xmath467 @xcite . using the previous section , a fairly straight - forward git construction yields a projective @xmath13-scheme corepresenting this functor .",
    "in this section we describe the outcome . for details and proofs ( in a much more general setting ) see @xcite .",
    "[ comp1s ] let @xmath539 and consider @xmath540 .",
    "let @xmath541 , then @xmath155 is called a _ connected component of 1 s _ associated to @xmath540 when @xmath542    [ vefcomps ] let @xmath539 and fix @xmath115 .",
    "consider a connected component of 1 s , @xmath543 , associated to @xmath540 .    *",
    "if @xmath543 is bounded in @xmath500 , then we refer to it as a _ vertex component _ associated to @xmath540 . *",
    "the connected component @xmath543 is called a _ local face component _ associated to @xmath540 if it satisfies the following property .",
    "suppose @xmath124 is a face containing the vertex @xmath119 and @xmath544 .",
    "suppose , without loss of generality , the toric divisor @xmath125 corresponds to @xmath545 and write @xmath546 , @xmath547 .",
    "then for any integers @xmath548 and @xmath549 , the point @xmath550 lies in @xmath543 .",
    "* in all other cases @xmath543 is called a _ local edge components _ associated to @xmath540 .",
    "[ vefcomps2 ] let @xmath539 . the toric data @xmath490 of any reflexive hull of a @xmath4-equivariant torsion free sheaf on @xmath2 with characteristic function @xmath467 has the same values @xmath551 , @xmath552 .",
    "consider all connected components of 1 s of all @xmath553 at once .",
    "it is clear that connected components of 1 s associated to @xmath540 , @xmath554 glue just like @xmath441-families .",
    "vertex components will never glue , but local face or local edge components associated to one @xmath540 can glue to local face or local edge components associated to another @xmath554 . note that local face components may glue to local edge components .",
    "after identification , we refer to a global connected component of 1 s containing a local face component as a _",
    "face component _ associated to @xmath555 .",
    "all other global connected components of 1 s obtained from gluing are called _ edge components _ associated to @xmath555 .",
    "we denote the number of face , edge , vertex components associated to @xmath555 by @xmath556 .",
    "let the situation be as in the previous definition .",
    "the closed points of @xmath557 are in bijective correspondence with all possible collections of @xmath441-families of @xmath4-equivariant torsion free sheaves on @xmath2 with characteristic function @xmath467 ( up to isomorphism ) .",
    "moreover , two points correspond to isomorphic objects if and only if they lie in the same @xmath558-orbit . here",
    "@xmath558 acts by matrix multiplication on each factor @xmath6 .",
    "the @xmath558-equivariant line bundles on this space are in 1 - 1 correspondence with elements of @xcite @xmath559 via the correspondence @xmath560 we want to pick an @xmath558-equivariant line bundle for which the properly git stable points exactly correspond to the collections of @xmath441-families for which the corresponding sheaf is @xmath17-stable . using the previous section , one can show that the following choice works @xcite @xmath561 where the sum is over all faces @xmath124 for which @xmath562 and the corresponding local face component is contained in a ( global ) face component indexed by @xmath374 .",
    "the stability does not depend on the edge and vertex components but only on the face components .",
    "in particular , we get an open subset @xmath563 such that the closed points of @xmath564 precisely correspond to @xmath17-stable sheaves . unfortunately the above @xmath558-equivariant line bundle is not ample .",
    "for ampleness , all @xmath565 must be positive .",
    "therefore we fix @xmath566 and take @xmath567 where the sum over @xmath568 is as above .",
    "then the properly git stable locus is still @xmath569 and the git quotient @xmath570 is a quasi - projective variety whose closed points exactly correspond to @xmath4-equivariant isomorphism classes of @xmath4-equivariant rank 2 @xmath17-stable torsion free sheaves on @xmath2 with characteristic function @xmath467 .",
    "the space @xmath571 is projective when @xmath572 .",
    "moreover , @xmath571 is smooth , because @xmath573 is smooth and @xmath574 acts without stabilizers .",
    "one can show that @xmath571 indeed corepresents a natural moduli functor as follows @xcite :    [ equivmod ] let @xmath2 be a smooth projective toric 3-fold with polarization @xmath14 .",
    "let @xmath575 be the characteristic function of a @xmath4-equivariant rank 2 torsion free sheaf on @xmath2 .",
    "then @xmath576 is a smooth quasi - projective variety corepresenting the moduli functor of families of @xmath4-equivariant @xmath17-stable torsion free sheaves on @xmath2 with characteristic function @xmath555 .",
    "[ a=3 ] in the above theorem , the double dual map is given by @xmath577 we deduce that if @xmath578 , then @xmath579 ( or else the connected component of reflexive hulls @xmath580 ) .",
    "we also deduce : all closed points of @xmath571 have the same reflexive hull if and only if @xmath581 .",
    "suppose this is the case .",
    "then @xmath582 .",
    "moreover , @xmath583 is an isolated reduced point @xmath584\\}$ ] of the @xmath4-fixed locus of the moduli space of @xmath17-stable reflexive sheaves on @xmath2 .",
    "therefore @xmath585 we have a tautological line bundle @xmath586 on each factor @xmath6 of @xmath587 . using the tautological inclusions",
    "@xmath588 it is easy to construct a universal family @xmath156 on @xmath587 fitting in a short exact sequence @xmath589 where the cokernel @xmath260 is @xmath587-flat .",
    "let us go back to the full moduli space @xmath340 and its fixed locus @xmath179 .",
    "denote by @xmath590 the collection of characteristic functions of @xmath4-equivariant rank 2 torsion free sheaves on @xmath2 with chern classes @xmath177 . forgetting the @xmath4-equivariant structure defines a map @xmath591 it is not hard to show this is a morphism @xcite .",
    "any element of @xmath179 admits a @xmath4-equivariant structure , which is unique up to tensoring by a character of @xmath592 @xcite .",
    "the map is therefore surjective but not injective .",
    "it can be made injective as follows .",
    "pick any vertex @xmath593 and denote by @xmath594 the faces having @xmath119 as a vertex .",
    "define @xmath595 as the subset of characteristic functions @xmath467 for which the corresponding @xmath596 satisfy @xmath597 then @xmath598 is a bijective morphism .",
    "in fact , it is an isomorphism of schemes and any smooth projective toric @xmath12-fold . ]",
    "* cor .  4.10 ) :    [ fixedlocithm ] let @xmath2 be a smooth projective toric 3-fold with polarization @xmath14 and let @xmath340 . then the forgetful map described above is an isomorphism of schemes @xmath599 in particular , @xmath179 is a smooth quasi - projective variety .",
    "as discussed in the introduction , double duals of members of a flat family of torsion free sheaves do not need to form a flat family .",
    "however , a result of kollr @xcite implies the double dual map is constructible @xmath600 at the level of closed points , the fibre over @xmath601 \\in   { \\mathcal n}_{x}^{h}(2,c_1,c_{2}',c_{3}')$ ] is the quot scheme @xmath602 of quotients of @xmath49 of dimension @xmath42 , such that @xmath603 in this section , we develop a combinatorial way of indexing the connected components of @xmath604 by a new type of combinatorial objects called double box configurations .",
    "each connected component is isomorphic to a product of @xmath6 s as we will show first .",
    "suppose @xmath49 is any @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 described by toric data @xmath490 ( definition [ toricdata ] ) .",
    "denote by @xmath605 the collection of characteristic functions of @xmath4-equivariant subsheaves of @xmath49 such that the cokernel has chern classes @xmath606 , @xmath607 .",
    "the closed points of @xmath604 are @xmath4-invariant submodules of @xmath608 satisfying the gluing conditions ( [ glue ] ) .",
    "this gives a decomposition into connected components @xmath609    [ prodp1s ] each @xmath610 of is isomorphic to a product of @xmath6 s .",
    "this can be proved using the methods of @xcite .",
    "in fact , this case is much easier than theorem [ fixedlocithm ] .",
    "step 1 : introduce a moduli functor of @xmath4-equivariant families of quotients of @xmath49 with chern classes @xmath611 as in ( * ? ? ?",
    "step 2 : describe these families via a family version of klyachko s filtrations like in ( * ? ? ?",
    "step 3 : construct the moduli spaces @xmath610 as git quotients and show they corepresent the previous moduli functors ( * ? ? ?",
    "step 4 : lift the action of @xmath4 on @xmath2 to @xmath612 ( done in the proof of ( * ? ? ?",
    "step 4 : show the forgetful morphism is an isomorphism .",
    "this goes similar to ( * ? ? ?",
    "4.3 ) but much easier : this time elements of @xmath604 admit a _ unique _ @xmath4-equivariant structure .",
    "fix @xmath115 and @xmath613 .",
    "our goal is to give a combinatorial description of characteristic functions @xmath254 of rank 2 @xmath4-equivariant subsheaves of @xmath49 .",
    "we denote the collection of such characteristic functions by @xmath614 .",
    "let @xmath594 be the faces with vertex @xmath119 and suppose the labeling is chosen such that the toric divisor @xmath615 in chart @xmath135 corresponds to coordinate hyperplane @xmath616 .",
    "then @xmath254 gives rise to integers ( definition [ toricdata ] ) @xmath617 moreover , @xmath618 is described by toric data ( definition [ toricdata ] ) @xmath619 this data is represented by figure 1 .",
    "the sheaf @xmath618 is singular if and only if @xmath620 and @xmath621 are mutually distinct ( proposition [ rank2singular ] ) .",
    "we discuss the case @xmath618 is singular .",
    "the case @xmath618 is locally free is treated in remark [ deco ] . in",
    "what follows , we let @xmath622 for all @xmath117 .",
    "@xmath623    we start with some definitions . given a point @xmath624 in @xmath625 , we write @xmath626    a _ 2d partition _ based at @xmath627 is a subset @xmath628 satisfying the following condition .",
    "if @xmath629 then @xmath630 , @xmath631 , and @xmath632 , @xmath633 for all @xmath634 , @xmath635 .",
    "we call @xmath636 _ finite _ if @xmath637 .",
    "[ doublesquare ] let @xmath638 , @xmath639 , or @xmath640 .",
    "consider a triple of _ finite _ 2d partitions @xmath641 based respectively at @xmath642 , @xmath643 , @xmath644 and subject to the following condition .",
    "let @xmath645 , @xmath646 , and @xmath647 .",
    "define @xmath648 _ condition _ : each element of @xmath649 belongs to _ exactly two _ of the partitions",
    "we define an equivalence relation @xmath651 on the collection of such triples @xmath641 as follows .",
    "write @xmath652 whenever :    1 .",
    "@xmath653 for all @xmath654 , 2 .",
    "@xmath655 , 3 .",
    "@xmath656 .",
    "we refer to such equivalence classes as _ double square configurations _ in @xmath657 and denote the collection of such equivalence classes by @xmath658 . for any @xmath659",
    ", we define the _ size _ @xmath660 as @xmath661 note that @xmath660 is independent of the choice of representative of the equivalence class .",
    "let @xmath662 and @xmath663 , then the following triples of 2d partitions are equivalent @xmath664{1 + 1 + 1 + 1 } , \\includegraphics[width=.21in]{1 + 1 } , \\includegraphics[width=.12in]{s } ) , ( \\includegraphics[width=.4in]{1 + 1 + 1 + 1 } , \\includegraphics[width=.21in]{2 + 1 } , \\varnothing ) ,    ( \\includegraphics[width=.3in]{1 + 1 + 1 } , \\includegraphics[width=.21in]{2 + 1 } , \\includegraphics[width=.12in]{s}).\\ ] ]    given a point @xmath665 in @xmath666 , we write @xmath667 referring to figure 1 , we are interested in the following cones @xmath668 for all @xmath669 , let @xmath670 , @xmath671 denote projection .",
    "a _ 3d partition _ based at @xmath672 is a subset @xmath673 satisfying the following condition .",
    "if @xmath674 , then @xmath630 , @xmath631 , @xmath675 , and @xmath676 , @xmath677 , @xmath678 for all @xmath634 , @xmath635 , @xmath679 .",
    "we call @xmath680 _ finite _ if @xmath681 .",
    "[ doubleboxconf ] fix outgoing double square configurations @xmath682 for all @xmath683 .",
    "consider a triple of ( not necessarily finite ) 3d partitions @xmath684 based at @xmath685 , @xmath686 , @xmath687 subject to the two conditions described below .",
    "define @xmath688 take @xmath689 sufficiently large such that the following projections do not depend on @xmath690 @xmath691 \\times [ u_2+v_2 , \\infty ] \\times [ u_3+v_3,\\infty ] ) , \\\\",
    "\\lambda_{2}(\\pi_1 ) & : = p_2(\\pi_1 \\setminus [ u_1,\\infty ] \\times [ u_2+v_2 , u_2+v_2+n ] \\times [ u_3+v_3,\\infty ] ) , \\\\",
    "\\lambda_{3}(\\pi_1 ) & : = p_3(\\pi_1 \\setminus [ u_1,\\infty ] \\times [ u_2+v_2 , \\infty ] \\times [ u_3+v_3,u_3+v_3+n ] ) , \\\\",
    "\\lambda_{1}(\\pi_2 ) & : = p_1(\\pi_2 \\setminus [ u_1,u_1+v_1+n ] \\times [ u_2 , \\infty ] \\times [ u_3+v_3,\\infty ] ) , \\\\",
    "\\lambda_{2}(\\pi_2 ) & : = p_2(\\pi_2 \\setminus [ u_1+v_1,\\infty ] \\times [ u_2 , u_2+n ] \\times [ u_3+v_3,\\infty ] ) , \\\\",
    "\\lambda_{3}(\\pi_2 ) & : = p_3(\\pi_2 \\setminus [ u_1+v_1,\\infty ] \\times [ u_2 , \\infty ] \\times [ u_3+v_3,u_3+v_3+n ] ) , \\\\",
    "\\lambda_{1}(\\pi_3 ) & : = p_1(\\pi_3 \\setminus [ u_1,u_1+v_1+n ] \\times [ u_2+v_2 , \\infty ] \\times [ u_3,\\infty ] ) , \\\\",
    "\\lambda_{2}(\\pi_3 ) & : = p_2(\\pi_3 \\setminus [ u_1+v_1,\\infty ] \\times [ u_2+v_2 , u_2+v_2+n ] \\times [ u_3,\\infty ] ) , \\\\",
    "\\lambda_{3}(\\pi_3 ) & : = p_3(\\pi_3 \\setminus [ u_1+v_1,\\infty ] \\times [ u_2+v_2 , \\infty ] \\times [ u_3,u_3+n ] ) .",
    "\\end{aligned}\\ ] ]    _ condition 1 _ : each element of @xmath692 belongs to _ exactly two _",
    "partitions @xmath693 .",
    "+ _ condition 2 _ : @xmath694 we define an equivalence relation @xmath651 on the collection of such triples as follows .",
    "write @xmath695 whenever :    1 .",
    "@xmath696 for all @xmath683 , 2 .",
    "@xmath697 , 3 .",
    "@xmath698 .",
    "we refer to such equivalence classes as _",
    "double box configurations _ in @xmath618 and denote the collection of such equivalence classes by @xmath699 . for any @xmath700",
    ", we define the _ size _ of @xmath701 as @xmath702 where @xmath703 on the rhs denotes the renormalized volume of a 3d partition @xcite .",
    "note that @xmath704 is independent of the choice of representative of the equivalence class .",
    "[ modfactor ] to any @xmath700 we associate a space @xmath705 as follows .",
    "analogous to definition [ comp1s ] , the partition @xmath706 can be written as a union of connected components .",
    "define the regions @xmath707 \\times [ u_3+v_3,\\infty ] , \\\\",
    "s_2 & : = [ u_1+v_1,\\infty ] \\times \\{u_2+v_2 - 1\\ } \\times [ u_3+v_3,\\infty ] , \\\\",
    "s_3 & : = [ u_1+v_1,\\infty ] \\times [ u_2+v_2,\\infty ] \\times \\{u_3+v_3 - 1\\}. \\end{aligned}\\ ] ] let @xmath670 , @xmath683 denote projections as before . if @xmath543 is a vertex or local edge connected component of @xmath701 ( definitions [ vefcomps ] , [ vefcomps2 ] ) such that @xmath708 for all @xmath683 , then we associate a copy of @xmath6 to it . note that this is independent of choice of representative of the equivalence class .",
    "otherwise the connected component has no moduli assigned to it . taking the product of all connected components satisfying ( [ proj ] )",
    ", we define the _ moduli factor _ associated to @xmath701 as @xmath709    we illustrate these definitions in the following examples .",
    "let @xmath710 be given by figure 2 .",
    "two connected components fail ( [ proj ] ) so have no moduli .",
    "one connected component satisfies ( [ proj ] ) , so @xmath711 .",
    ".,width=288 ]    [ moduliinlegs ] let @xmath712{1 + 1 + 1 } , \\includegraphics[width=.21in]{1 + 1 } , \\includegraphics[width=.12in]{s } ) ,   ( \\varnothing , \\includegraphics[width=.12in]{s } , \\varnothing ) ,   ( \\includegraphics[width=.3in]{2 + 2 + 2},\\includegraphics[width=.2in]{4 + 4},\\includegraphics[width=.2in]{2 + 1}))$ ] be given by figure 3 .",
    "one connected component ( of vertex type ) fails ( [ proj ] ) so has no moduli .",
    "the other two connected components ( of edge type ) satisfy ( [ proj ] ) so @xmath713 .",
    ".,width=192 ]    we formulate our main combinatorial proposition :    [ lem1 ] let @xmath618 be a @xmath4-equivariant rank 2 reflexive sheaf on toric chart @xmath118 .",
    "let @xmath714 , @xmath715 , and @xmath716 .",
    "denote by @xmath614 the collection of characteristic functions of @xmath4-equivariant rank 2 torsion free sheaves on @xmath135 with @xmath4-equivariant reflexive hull @xmath618 .",
    "then there is a natural bijection @xmath717    let @xmath718 be the characteristic function of a @xmath4-equivariant rank 2 torsion free sheaf on @xmath135 with reflexive hull @xmath618 described by toric data @xmath490 . consider the regions @xmath719 of .",
    "the region @xmath720 has zeros and ones .",
    "these zeros form a 3d partition @xmath721 .",
    "the region @xmath722 has zeros , ones , and twos .",
    "the zeros give rise to a 3d partition @xmath723 .",
    "the partition @xmath723 has the property that @xmath724 are 3d partitions . finally , consider the connected components of 1 s of @xmath722 .",
    "such a connected component @xmath543 must have the property that @xmath725 is a 3d partition .",
    "moreover , at least two of @xmath726 are 3d partitions . if only two of these form a 3d partition , say ( without loss of generality ) @xmath727 , then define @xmath728 otherwise choose any two , say @xmath729 , and define @xmath728 proceeding in this way for all connected components @xmath543 , we end up with 3d partitions @xmath730 then @xmath731 forms a double configuration of boxes .",
    "we described a map @xmath732 it is easy to check this is a bijection .",
    "[ littlebox ] let @xmath733{1 + 1 + 1 + 1 } , \\includegraphics[width=.21in]{1 + 1 } , \\varnothing ) ,   ( \\varnothing , \\includegraphics[width=.12in]{s } , \\varnothing ) ,   ( \\includegraphics[width=.3in]{2 + 2 + 2},\\includegraphics[width=.2in]{4 + 4},\\includegraphics[width=.2in]{2 + 2}))$ ] be given by figure 4 ( left )",
    ". then @xmath711 .",
    "however , adding one box in the corner figure 4 ( right ) kills the moduli and results in @xmath734 .",
    "note that in this example @xmath735 .",
    "( left ) and @xmath734 ( right).,width=384 ]    we learn an important lesson from example [ littlebox ] : _ if we are given a double box configuration @xmath736 , then we can not decide from the @xmath737 alone whether there are edge moduli_. informally : the `` corners '' influence the `` legs '' .",
    "this means we `` can not split '' vertex and leg contributions .",
    "a similar phenomenon occurs when discussing the vertex / edge formalism of rank 2 dt theory in section [ vertex / edge ] ( see example [ withlegs ] ) .",
    "we are led to consider `` global '' double box configurations in the following sense .",
    "[ z ] consider a smooth projective toric 3-fold @xmath2 and a @xmath4-equivariant rank 2 reflexive sheaf @xmath49 on @xmath2 defined by toric data @xmath738 such that in each chart @xmath613 is singular ( the general case , with some @xmath618 locally free , is discussed in remark [ deco ] ) .",
    "for each edge @xmath117 , fix a double square configuration @xmath739 for each @xmath115 we denote its neighbouring vertices by @xmath740 .",
    "the labeling is chosen such that @xmath741 is defined by @xmath742 for all @xmath743 and @xmath744 .",
    "fix a double box configuration @xmath745 then the collection @xmath746 describes the characteristic function @xmath555 of a @xmath4-equivariant rank 2 torsion free sheaf on @xmath2 with reflexive hull @xmath49 by proposition [ lem1 ] .",
    "we denote the collection of all such double box configurations by @xmath747 . to each @xmath748",
    "we associated a moduli factor @xmath749 ( definition [ modfactor ] ) .",
    "then @xmath750 here @xmath751 when for some @xmath117 , there is a local edge component containing @xmath752 in chart @xmath135 and a local edge component containing @xmath753 in chart @xmath136 and both components match under gluing kills the moduli . ] .",
    "we define the _ weight _ of @xmath754 as @xmath755 where @xmath21 denotes topological euler characteristic .",
    "recall that for each @xmath117 , we have ( section [ toric3folds ] ) @xmath134 for each @xmath117 , there are two faces @xmath756 , @xmath757 which share @xmath758 as an edge and two disjoint faces @xmath759 , @xmath760 connected by the edge @xmath758 .",
    "suppose face @xmath759 contains vertex @xmath119 and @xmath760 contains @xmath252 .",
    "we define the _ generating function _ associated to @xmath2 , @xmath49 , and @xmath761 @xmath762 for any @xmath763 .",
    "there is one issue with this definition : @xmath764 , @xmath765 depend on choice of representative of @xmath766 . in the formula for @xmath767",
    ", it is assumed that for all @xmath115 , we choose representatives @xmath768 of @xmath769 with the following property : + for any @xmath117 , suppose without loss of generality that @xmath138 is given by @xmath770 in chart @xmath135 and @xmath771 in chart @xmath136 .",
    "suppose the toric data of @xmath618 in chart @xmath135 is given by @xmath772 , @xmath773 and in chart @xmath136 by @xmath774 , @xmath775 .",
    "then for all @xmath683 @xmath776 \\times [ u_2+v_2,\\infty ] \\times [ u_3+v_3,\\infty ] ) \\\\ & = p_1(\\pi_{\\beta,1 } \\setminus [ u_1',u_1'+n ] \\times [ u_2'+v_2',\\infty ] \\times [ u_3'+v_3',\\infty ] ) \\\\ & p_1(\\pi_{\\alpha,2 } \\setminus [ u_1+v_1,u_1+v_1+n ] \\times [ u_2,\\infty ] \\times [ u_3+v_3,\\infty ] ) \\\\ & = p_1(\\pi_{\\beta,2 } \\setminus [ u_1'+v_1',u_1'+v_1'+n ] \\times [ u_2',\\infty ] \\times [ u_3'+v_3',\\infty ] ) \\\\ & p_1(\\pi_{\\alpha,3 } \\setminus [ u_1+v_1,u_1+v_1+n ] \\times [ u_2+v_2,\\infty ] \\times [ u_3,\\infty ] ) \\\\ & = p_1(\\pi_{\\beta,3 } \\setminus [ u_1'+v_1',u_1'+v_1'+n ] \\times [ u_2'+v_2',\\infty ] \\times [ u_3',\\infty]),\\end{aligned}\\ ] ] where @xmath777 denotes projection as before and @xmath689 . +",
    "even though @xmath764 , @xmath765 depend on choice of representatives , the formula for @xmath767 does not by the following proposition :    [ formulachi ] let @xmath2 be a smooth projective toric 3-fold .",
    "let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 described by toric data @xmath490 and let @xmath52 be a @xmath4-equivariant quotient of dimension @xmath42 .",
    "let @xmath778 correspond to the characteristic function of the kernel of @xmath52 , where @xmath745 suppose for all @xmath115 , we choose representatives of @xmath769 as described in definition [ z ]",
    ". then @xmath779 moreover @xmath780    this follows from a ech calculation using the @xmath4-invariant open affine cover @xmath135 , @xmath115 like in ( * ? ? ?",
    "* lem .  5 ) .",
    "the upshot is to choose representatives of each @xmath769 as in the previous definition and then calculate the @xmath4-representation @xmath781 cancelling infinite terms and finally setting @xmath782 gives the formula for @xmath783 .",
    "the formula for @xmath784 follows from hirzebruch - riemann - roch .",
    "[ openz ] in definition [ z ] , we fixed a smooth _ projective _ toric 3-fold @xmath2 .",
    "suppose @xmath11 is any smooth toric 3-fold with vertices @xmath141 , edges @xmath785 , and @xmath4-equivariant rank 2 reflexive sheaf @xmath49 on @xmath11 .",
    "denote by @xmath786 the edges which correspond to _ compact _ lines @xmath787 .",
    "suppose for each @xmath788 , we fix a double square configuration @xmath761 , then one can still consider @xmath789 where @xmath759 and @xmath760 are defined as in definition [ z ] . in applications",
    ", @xmath11 has toric compactification @xmath2 and @xmath49 is the restriction of a @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 .",
    "then @xmath790 is part of a generating function on @xmath2 .    sometimes , for computational reasons , it is useful to consider an analog of @xmath790 , where one fixes a double square configuration @xmath761 for all ( not necessarily compact ) edges @xmath791 @xmath792    [ deco ] it is not hard to redo this section in the case @xmath618 is locally free , i.e.  @xmath793 or @xmath794 for some @xmath795 ( proposition [ rank2singular ] ) .",
    "we think of these as degenerate cases .",
    "then @xmath618 is @xmath4-equivariantly decomposable . in this",
    "setting , a double box configuration is defined as a pair of partitions @xmath796 without any conditions , where we impose an equivalence relation on such pairs as before ( and similar for double square configurations ) . after adapting the formulae for @xmath704",
    ", @xmath660 accordingly , the formula of proposition [ formulachi ] holds for any @xmath4-equivariant rank 2 reflexive sheaf on @xmath2 .",
    "the details are straight - forward and left to the reader .",
    "let @xmath2 be a smooth projective toric 3-fold with polarization @xmath14 .",
    "let @xmath797 be the moduli space of rank 2 @xmath17-stable torsion free sheaves on @xmath2 with indicated chern classes . recall that we do _ not _ consider strictly @xmath17-semistable sheaves .",
    "consider the generating function @xmath798 in the introduction , we noted that the double dual map is a constructible morphism @xmath600 here @xmath799 is empty unless @xmath800 where the first is the bogomolov inequality ( * ? ? ?",
    "7.3.1 ) and the second follows from ampleness of @xmath14 .",
    "moreover , for a given @xmath801 there exists a constant @xmath802 such that @xmath799 is empty unless ( * ? ? ?",
    "3.6 ) @xmath803    the generating function @xmath804 is a laurent series in @xmath23 . using the methods of the previous section ,",
    "it can be expressed in terms of euler characteristics of quot schemes as follows :    * find a git representation of all connected components @xmath85 of all reflexive fixed loci @xmath805 .",
    "these are configuration spaces of points on @xmath6 or open subsets thereof .",
    "this was shown in @xcite .",
    "e.g.  for @xmath806 , each connected component @xmath85 is isomorphic to either a reduced isolated point @xmath807 or @xmath808 @xcite . *",
    "compute the euler characteristics @xmath809 .",
    "euler characteristics of configuration spaces of points on @xmath6 have been computed in general by klyachko @xcite .",
    "* let @xmath85 be a connected component of @xmath805 .",
    "the toric data @xmath490 of any @xmath4-equivariant reflexive sheaf @xmath601 \\in { \\mathcal c}$ ] has fixed @xmath810 and ( in general ) varying @xmath811 .",
    "we stress the fact that @xmath551 , @xmath552 are constant over the connected component @xmath85 by writing @xmath812 , @xmath813 .",
    "the components of the vectors @xmath812 , @xmath813 are indexed by rays @xmath124 ( definition [ toricdata ] ) @xmath814 the chern class @xmath815 can be computed in terms of the toric data @xmath816 as explained in section [ equivsh ] .",
    "more precisely , @xmath817 is the total length of the singularity of any @xmath601 \\in { \\mathcal c}$ ] and is computed in proposition [ rank2singular ] .",
    "the third chern class is constant for all @xmath601 \\in { \\mathcal c}$ ] , so we denote it by @xmath818 .",
    "( in fact , for any @xmath115 and @xmath601 \\in { \\mathcal c}$ ] , the length of the singularity of @xmath524 is the same . ) + at the level of closed points , the fibre of @xmath48 over @xmath601 \\in { \\mathcal c}$ ] is @xmath604 @xmath819 from the combinatorial description of section [ 3dpartitions ] , it is clear that all fibres @xmath604 over @xmath601 \\in { \\mathcal c}$ ] are isomorphic and we may write @xmath820 which is well - defined up to isomorphism",
    ". the connected components of the fibres @xmath821 are all products of @xmath6 s and were described in section [ 3dpartitions ] . *",
    "putting everything together gives the following structure formula @xmath822    in the rest of this section we work out this generating function in the following cases :    * @xmath8 is minimal in the sense of proposition [ minc2a ] .",
    "* @xmath107 and @xmath332 is 0-dimensional . *",
    "@xmath77 and @xmath823 .",
    "we start with two propositions .",
    "[ minc2a ] let @xmath2 be a smooth projective toric 3-fold with polarization @xmath14 and fix @xmath16 and @xmath7 .",
    "let @xmath8 be such that @xmath73 is minimal with the property that there exists a rank @xmath16 @xmath17-stable torsion free sheaf on @xmath2 with chern classes @xmath74 .",
    "then for any such sheaf the cokernel @xmath824 is 0-dimensional .",
    "let @xmath38 be as stated .",
    "by the bogomolov inequality ( * ? ? ?",
    "7.3.1 ) @xmath825 suppose @xmath41 is 1-dimensional .",
    "use the same notation for chern classes @xmath826 as in the beginning of this section",
    ". then @xmath827 by ampleness , so @xmath828 therefore @xmath183 is a rank @xmath16 @xmath17-stable torsion free ( reflexive ) sheaf on @xmath2 with chern classes @xmath829 contradicting minimality .",
    "[ minc2b ] let @xmath2 be a smooth projective toric 3-fold with polarization @xmath14 and fix @xmath7 .",
    "let @xmath8 be such that @xmath73 is minimal with the property that there exists a rank 2 @xmath17-stable torsion free sheaf on @xmath2 with chern classes @xmath74 .",
    "for each @xmath115 , denote by @xmath523 the faces sharing vertex @xmath119 . then @xmath830 \\in { \\mathcal c } : { \\mathcal r}|_{u_\\alpha } \\",
    "\\mathrm{is \\ singular } \\end{array } } } } \\prod_{i=1}^{v_{\\rho_{1,\\alpha}}({\\mathcal c } ) } \\prod_{j=1}^{v_{\\rho_{2,\\alpha}}({\\mathcal c } ) } \\prod_{k=1}^{v_{\\rho_{3,\\alpha}}({\\mathcal c } ) } \\frac{1-(q^{-2})^{i+j+k-1}}{1-(q^{-2})^{i+j+k-2}}.\\end{aligned}\\ ] ]    combining , prop .",
    "[ minc2a ] , prop .",
    "[ formulachi ] gives @xmath831 where @xmath832 was introduced in remark [ openz ] .",
    "the latter generating function is discussed in theorem [ ben ] below .    if the polyhedron @xmath75 is `` small '' ( defined below ) , the connected components @xmath85 in the previous proposition turn out to be isolated @xmath4-fixed points .",
    "[ small ] let @xmath833 be a convex polyhedron such that each vertex has exactly 3 edges .",
    "we view @xmath833 up to arbitrary stretching of edges and angles between edges ( but not contracting them to a point ) .",
    "we say that @xmath833 is _ small _ if the following two properties hold :    1 .   for any way of colouring one face red and",
    "three faces blue ( and not colouring any of the other faces ) , the red face must share an edge with a blue face .",
    "2 .   for any way of colouring three faces yellow ( and not colouring any of the other faces ) ,",
    "at least two yellow faces share an edge .",
    "any convex polyhedron such that each vertex has exactly 3 edges and @xmath834 faces is small .",
    "there are 4 of these : tetrahedron , cube , prism over a triangle , prism over a triangle with one corner cut off .",
    "therefore @xmath76 ensures @xmath75 is small .",
    "polyhedra with @xmath835 faces are generally not small . however , a prism over a 5-gon has 7 faces but is small .",
    "we conclude 16 out of 18 smooth toric fano 3-folds have small @xmath75 ( the two with @xmath836 do not have small @xmath75 @xcite ) .",
    "[ eulermin ] let @xmath2 be a smooth projective toric 3-fold such that @xmath75 is small .",
    "let @xmath14 be a polarization and @xmath7 a first chern class such that @xmath837 .",
    "let @xmath8 be such that @xmath73 is minimal with the property that there exists a rank 2 @xmath17-stable torsion free sheaf on @xmath2 with chern classes @xmath74 .",
    "for each @xmath115 , denote by @xmath523 the faces sharing vertex @xmath119",
    ". then the connected components of @xmath838 are isolated reduced points for all @xmath9",
    ". moreover @xmath839 \\in { \\mathcal n}_{x}^{h}(2,c_1,c_{2},c_{3})^t } q^{c_{3}({\\mathcal r } ) } \\\\ & \\times \\prod_{{\\scriptsize{\\begin{array}{c } \\alpha \\in v(x ) \\\\",
    "{ \\mathcal r}|_{u_\\alpha } \\",
    "\\mathrm{is \\ singular } \\end{array } } } } \\prod_{i=1}^{v_{\\rho_{1,\\alpha}}({\\mathcal r } ) } \\prod_{j=1}^{v_{\\rho_{2,\\alpha}}({\\mathcal r } ) } \\prod_{k=1}^{v_{\\rho_{3,\\alpha}}({\\mathcal r } ) } \\frac{1-(q^{-2})^{i+j+k-1}}{1-(q^{-2})^{i+j+k-2}}.\\end{aligned}\\ ] ]    let @xmath49 be a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf on @xmath2 with chern classes @xmath7 , @xmath8 .",
    "let @xmath490 be the toric data corresponding to @xmath49 and @xmath555 the characteristic function of @xmath49 .",
    "suppose the characteristic function @xmath467 has @xmath840 face components ( definitions [ vefcomps ] , [ vefcomps2 ] ) .",
    "we claim @xmath581 .",
    "the case @xmath841 can not happen , because then @xmath49 is decomposable hence @xmath17-unstable .",
    "if @xmath842 , then the connected component @xmath85 of the @xmath4-fixed locus containing @xmath49 has positive dimension .",
    "we show this can not happen .",
    "then the theorem then follows from proposition [ minc2b ] .",
    "suppose at @xmath843 , then the moduli space @xmath844 of @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaves on @xmath2 with characteristic function @xmath555 has dimension @xmath845 .",
    "the space @xmath846 is realized as the git quotient of a non - empty zariski open subset @xmath847 by @xmath558 ( with respect to the polarization described in section [ fixedlocigeneral ] ) .",
    "we denote elements of @xmath848 by @xmath849 . inside @xmath847",
    "lies the zariski open subset @xmath850 of elements @xmath849 with all @xmath851 mutually distinct .",
    "the git quotient @xmath852 is a zariski open subset of @xmath844 of dimension @xmath845 .",
    "therefore , there is a @xmath9 such that @xmath852 gives a zariski open subset @xmath853 consider the classical git problem of @xmath840 ( ordered ) points @xmath849 on @xmath6 .",
    "we assign weights @xmath854 to these points as follows .",
    "the characteristic function @xmath467 has @xmath840 face components .",
    "for each face component , there is a maximal number of faces @xmath855 such that the corresponding local face components are connected or glued together in @xmath467 .",
    "in particular , @xmath856 .",
    "to this face component we assign weight @xmath857 set @xmath858 , then each @xmath859 is smaller than @xmath860 .",
    "this follows from git stability on the zariski open subset @xmath850 ( section [ equivsh ] ) .",
    "next we use the assumption @xmath75 is small . by lemma [ lemmasmall ] below ,",
    "there exists a git semistable point configuration @xmath849 such that there are @xmath795 with the following properties :    * @xmath861 is distinct from all other @xmath862 and all other @xmath862 are mutually distinct , * there exists a chart @xmath135 containing the local face components corresponding to @xmath374 and @xmath863 .",
    "informally : on the polyhedron @xmath75 , there are two adjacent faces whose corresponding points on @xmath6 can become equal .",
    "note that @xmath864 has to be a strict inequality , because @xmath865 .",
    "therefore , the above point configuration @xmath849 corresponds to a @xmath17-stable torsion free sheaf @xmath38 with characteristic function @xmath555 ( and hence chern classes @xmath74 ) .",
    "( see also ( * ? ? ?",
    "the reflexive hull @xmath183 is @xmath17-stable with chern classes @xmath829 for some @xmath866 .",
    "since @xmath867 are equal , the characteristic function of @xmath183 is obtained from the characteristic function @xmath467 of @xmath38 by adding a ( non - empty ) infinite leg of 1 s .",
    "therefore @xmath868 , or equivalently @xmath869 , contradicting minimality of @xmath8 .    [ lemmasmall ] let @xmath870 , @xmath854 , @xmath871 , and assume @xmath872 for all @xmath873 .",
    "let @xmath833 be a small polyhedron .",
    "let @xmath874 be a collection , such that    * @xmath875 is a union of faces of @xmath833 , for all @xmath873 .",
    "* @xmath875 minus the vertices is connected , for all @xmath873 . *",
    "@xmath875 and @xmath876 have no faces in common , for each @xmath877 , @xmath878 , * @xmath879 .",
    "then there exist @xmath880 , which share an edge and @xmath881    it suffices to prove the case where each @xmath875 is equal to a single face .",
    "assume without loss of generality @xmath882 .",
    "then @xmath883 for all @xmath884 .",
    "we first prove the lemma for @xmath885 .",
    "colour the face with label @xmath886 red and those with label @xmath887 blue .",
    "the result follows from property ( 1 ) of definition [ small ] . for @xmath888",
    "we need a slightly more refined analysis .",
    "+ case 1 : @xmath889 .",
    "then we colour the face with label @xmath886 red and those with label @xmath890 blue .",
    "the result again follows from property ( 1 ) of definition [ small ] .",
    "+ case 2 : @xmath891",
    ". then @xmath892 . in this case",
    ", we colour the faces with label @xmath893 yellow .",
    "the result follows from property ( 2 ) of definition [ small ] .",
    "let @xmath96 and @xmath49 a @xmath4-equivariant rank 2 reflexive sheaf on @xmath11 with toric data @xmath490 .",
    "the following generating function ( introduced in remark [ openz ] ) leads to rich combinatorics @xmath894 here @xmath895 are three double square configurations describing fixed asymptotics along the @xmath896- , @xmath897- , and @xmath898-axes .",
    "these generating functions form building blocks of the generating functions @xmath804 .",
    "recall that @xmath49 is singular if and only if all @xmath899 and all @xmath900 are mutually distinct ( proposition [ rank2singular ] ) . in the case",
    "@xmath49 is locally free , @xmath901 decomposes . each double square configurations @xmath737",
    "is given by a pair of 2d partitions @xmath902 .",
    "then @xmath903 where @xmath904 denotes the rank 1 dt vertex .",
    "this product structure follows from the fact that @xmath49 splits @xmath4-equivariantly as a sum of two @xmath4-equivariant line bundles ( proposition [ rank2singular ] ) , which gives an extra @xmath60-scaling action on the factors .",
    "using this extra @xmath60 , follows .",
    "the interesting case is when @xmath49 is singular .",
    "the generating functions @xmath901 can then be computed by relating double box configurations to double dimers . in the case of no legs ( or small legs ) this leads to closed formulae .",
    "the following two theorems are proved in a forthcoming paper @xcite .",
    "[ ben ] let @xmath49 be a singular @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 described by toric data @xmath905 .",
    "then @xmath906 where @xmath907 denotes the macmahon function .",
    "[ benwithlegs ] let @xmath49 be a singular @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 described by toric data @xmath905 .",
    "suppose @xmath908 and @xmath909{s},\\varnothing,\\varnothing),(\\varnothing,\\varnothing,\\varnothing)).\\ ] ] then @xmath910    recall that @xmath62 is the generating function of finite 3d partitions located at the origin and weighted by @xmath911 . for @xmath620 @xmath912",
    "is the generating function of 3d partitions located at the origin , contained in the box @xmath913 \\times [ 0,v_2 - 1 ] \\times [ 0,v_3 - 1],\\ ] ] and weighted by @xmath911 ( * ? ? ?",
    "* ( 7.109 ) ) .",
    "this suggests double box configurations weighted by @xmath914 mysteriously correspond to triples of three partitions , two of which are free and one of which is confined to the box associated to the singularity .",
    "we can not find such a correspondence directly .",
    "let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 described by toric data @xmath905 .",
    "consider the quot scheme @xmath57 of quotients @xmath915 where @xmath41 is @xmath200-dimensional and has length @xmath12 @xcite .",
    "the following is a direct corollary of theorem [ ben ] and the discussions of the previous sections .",
    "[ quotc3 ] let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 described by toric data @xmath905 . then @xmath916      in this section , we calculate @xmath804 for @xmath77 and @xmath823 .",
    "we also classify the reflexive hulls for @xmath333 .",
    "the generating function does not depend on @xmath14 and we drop @xmath2 and @xmath14 from the notation .",
    "we take @xmath331 ( so rank and degree are coprime and there are no strictly @xmath17-semistable sheaves ) and also suppress it from the notation .",
    "for toric data @xmath490 , we use the same notation as in example [ p3reflch ] .",
    "[ c2=1 ] let @xmath78 . by the methods of section [ fixedloci ] , it is easy to see that @xmath78 is the minimal value for which there exist rank 2 @xmath17-stable torsion sheaves on @xmath522 with chern classes @xmath7 , @xmath8 ( see also @xcite )",
    "there are exactly four such sheaves which are @xmath4-equivariant and reflexive .",
    "each of them has a length 1 singularity at one of the torus fixed points and no further singularities .",
    "the toric data @xmath490 of these reflexive hulls is described as follows :    * for any choice @xmath917 with @xmath918 mutually distinct @xmath919 recall that @xmath920 is forced by equation ( [ slice ] ) .",
    "note that for fixed @xmath921 and @xmath922 , different choices of @xmath923 give @xmath4-equivariantly isomorphic reflexive hulls .",
    "theorem [ eulermin ] gives @xmath924 we also note that any connected component @xmath85 of any @xmath925 has constant reflexive hulls .",
    "this is useful for applications to dt theory .",
    "[ c2=2 ] let @xmath79 .",
    "we describe the connected components @xmath85 of @xmath926 containing reflexive hulls of elements of @xmath927 like the previous example , these connected components @xmath85 are isolated reduced points , but legs can appear ( i.e.  @xmath8 , @xmath801 may differ ) .",
    "there are three types of reflexive hulls appearing .",
    "their toric data @xmath490 is described as follows :    * for any choice @xmath917 with @xmath918 mutually distinct @xmath928 these reflexive hulls have @xmath929 .",
    "* for any choice @xmath917 with @xmath918 mutually distinct @xmath930 these reflexive hulls have @xmath929 . *",
    "the reflexive hulls of example [ c2=1 ] . recall that these reflexive hulls have @xmath931 .",
    "any @xmath4-equivariant rank 2 @xmath17-stable torsion free sheaves @xmath38 on @xmath522 with chern classes @xmath331 , @xmath79 has one of the above as its reflexive hull . in cases 1 and 2",
    "the cokernel @xmath332 is 0-dimensional , whereas in case 3 the cokernel is 1-dimensional .",
    "using formula , proposition [ formulachi ] , and theorem [ benwithlegs ] , one can compute the following formula @xmath932 we also note that any connected component @xmath85 of any @xmath933 has constant reflexive hulls .",
    "[ c2is3 ] let @xmath333 .",
    "we describe the connected components of @xmath926 containing reflexive hulls of elements of @xmath934 this time , @xmath85 need no longer be isolated .",
    "the toric data @xmath490 of these connected components is classified as follows :    * for any choice @xmath917 with @xmath918 mutually distinct @xmath935 these reflexive hulls have @xmath936 and form a non - isolated connected components isomorphic to @xmath937 . see also @xcite .",
    "* for any choice @xmath917 with @xmath918 mutually distinct @xmath938 these reflexive hulls have @xmath936 and correspond to isolated reduced points . * for any choice @xmath917 with @xmath918 mutually distinct @xmath939 these reflexive hulls have @xmath936 and correspond to isolated reduced points . * the reflexive hulls of example [ c2=2 ] .",
    "recall that these reflexive hulls have @xmath931 or @xmath929 and correspond to isolated reduced points .",
    "any @xmath4-equivariant rank 2 @xmath17-stable torsion free sheaf @xmath38 on @xmath522 with chern classes @xmath331 , @xmath333 has one of the above as its reflexive hull .",
    "this time not all connected components @xmath85 of have constant reflexive hulls . connected components with an element having a reflexive hull appearing in ( 1 ) do not , whereas those having a reflexive hull as in ( 2 ) and ( 3 ) do . for ( 4 )",
    "some do and some do not .",
    "let @xmath2 be a smooth projective toric 3-fold with @xmath29 .",
    "let @xmath14 be a polarization on @xmath2 and let @xmath940 let @xmath587 be a connected component of the fixed locus @xmath179 , where @xmath941 ( theorem [ fixedlocithm ] ) .",
    "recall that the space @xmath587 is smooth and equal to the following git quotient ( theorem [ equivmod ] ) @xmath942 we will write @xmath943 . in this section , we assume @xmath85 satisfies : + _ all closed points of @xmath85 have the same ( i.e.  isomorphic ) reflexive hull @xmath49 . _ + recall that there are plenty of examples of such @xmath85 ( typically for `` low '' values of @xmath8 as in theorem [ eulermin ] and examples [ ex1as1 ] , [ ex2as1 ] , [ ex3as1 ] ) . in applications",
    ", @xmath2 is often a toric compactification of a toric calabi - yau 3-fold @xmath11 and @xmath329 as in section [ tequivdt ] .",
    "assuming @xmath85 has constant reflexive hulls has several nice consequences :    * @xmath85 has a universal family @xmath156 ( remark [ a=3 ] ) .",
    "* we have a short exact sequence @xmath944 where the cokernel @xmath260 is @xmath85-flat and @xmath945 ( remark [ a=3 ] ) . + * @xmath85 is a connected component of the fixed locus of the quot scheme @xmath604 ( section [ 3dpartitions ] ) . therefore , @xmath85 is isomorphic to a product of @xmath6 s .    in this section",
    "we set up a vertex / edge formalism closely following @xcite in the rank 1 case and @xcite in the stable pair case .",
    "since our fixed loci are non - isolated ( but products of @xmath6 s ) our situation is most similar to @xcite . in order to follow their method",
    ", we need the existence of a universal family on @xmath85 , which is ensured by assuming @xmath85 has constant reflexive hulls . unlike the case of @xcite",
    ", we can have `` edge moduli '' , i.e.  `` moduli in the legs '' ( example [ moduliinlegs ] ) .",
    "we want to compute the @xmath95-group class of the dt complex ( [ dtcx ] ) restricted to @xmath85 @xmath946    a torsion free sheaf @xmath165 \\in { \\mathcal c}_{\\mathrm{cl}}$ ] has a @xmath4-equivariant structure as explained in section [ fixedloci ] .",
    "the complex @xmath947 restricted @xmath165 $ ] is the virtual tangent space @xmath948}$ ] at @xmath165 $ ] @xmath949 } & = { \\operatorname{ext}}^1({\\mathcal f},{\\mathcal f } ) - { \\operatorname{ext}}^2({\\mathcal f},{\\mathcal f } ) \\\\ & = - \\langle { \\mathcal f},{\\mathcal f}\\rangle_0.\\end{aligned}\\ ] ] here we used @xmath950 and @xmath951 , because @xmath38 is stable and @xmath29 . also note that for toric varieties @xmath952 so tracelessness is automatic .",
    "we write this as @xmath953 } = \\langle { \\mathcal r},{\\mathcal r}\\rangle - \\langle { \\mathcal f},{\\mathcal f}\\rangle - \\langle { \\mathcal r},{\\mathcal r}\\rangle_0.\\ ] ] the term @xmath954 is well - behaved and can be described by a nice vertex / edge formalism .",
    "the term @xmath327 only contributes an overall constant in @xmath955 $ ] .",
    "let @xmath140 be the @xmath4-invariant open affine cover of @xmath2 and denote the double intersections by @xmath956 .",
    "denote the restriction of any sheaf @xmath38 to @xmath135 , @xmath957 by @xmath428 , @xmath958 respectively .",
    "denote the global section functor by @xmath959 .",
    "using the local - to - global spectral sequence for ext groups and computing sheaf cohomology by a ech calculation gives @xmath960 where contributions of triple and higher intersections vanish because @xmath38 and @xmath49 only differ on a @xmath4-invariant closed subscheme of dimension @xmath42 .",
    "our goal is to calculate @xmath961      this section calculates @xmath962 suppose the action of @xmath4 on @xmath118 is in standard form @xmath963 for all @xmath683 . denote the poincar polynomial of @xmath428 by @xmath964.\\ ] ] consider the trace map @xmath965 which associates to a @xmath4-equivariant vector bundle its character ( i.e.  decomposition into weight spaces ) . following the reasoning in (",
    "4.4 ) , we obtain @xmath966 where the operation @xmath170 was introduced in section [ toric3folds ] .",
    "we need a family version of the above .",
    "this is easily done replacing @xmath38 by @xmath156 , @xmath49 by @xmath967 , @xmath135 by @xmath968 , and @xmath957 by @xmath969 .",
    "this gives @xmath970 the poincar polynomial of @xmath971 can be expressed in terms of the equivariant parameters @xmath972 as follows .",
    "let @xmath490 be the toric data associated to @xmath618 ( definition [ toricdata ] ) .",
    "+ * case 1 * : @xmath618 is not locally free , or equivalently all @xmath899 and all @xmath900 are mutually distinct ( proposition [ rank2singular ] ) . then @xmath973    * case 2 * : @xmath618 is locally free . in this case",
    "@xmath618 has two homogeneous generators and @xmath974 is the sum of their characters .",
    "+ the character of @xmath975 is more complicated and involves moduli .",
    "recall that @xmath344 for some @xmath345 .",
    "each factor @xmath6 of @xmath85 has a tautological subbundle @xmath976 attached to it .",
    "the character @xmath977 of @xmath975 can be expressed in terms of the equivariant parameters @xmath972 and the classes of these @xmath586 s .",
    "let @xmath701 correspond to @xmath540 by proposition [ lem1 ] .",
    "then @xmath978 where    * @xmath979 when @xmath980 , * @xmath981 when @xmath550 lies in exactly one @xmath693 , * @xmath981 when @xmath550 lies in exactly two @xmath982 s but _ not _ in a region with moduli ( see section [ 3dpartitions ] ) , * @xmath983t_{1}^{k_1 } t_{2}^{k_2 } t_{3}^{k_3}$ ] when @xmath550 lies in exactly two @xmath982 s and in a region @xmath984 with moduli ( see section [ 3dpartitions ] ) , * @xmath985 otherwise .    from the short exact sequence ( [ ses ] )",
    "we obtain a completely explicit character @xmath986 which lies in @xmath987      this section calculates @xmath988 assume the coordinates are chosen such that the toric line @xmath989 is given by @xmath990 .",
    "we work over the ring @xmath991\\ ] ] and define the formal @xmath992-function @xmath993 let @xmath701 correspond to @xmath540 by proposition [ lem1 ] .",
    "denote the limiting double square configuration along the @xmath896-axis arising from @xmath701 by @xmath763 . denoting the character of @xmath994 by @xmath995",
    ", we obtain @xmath996 where    * @xmath997 if @xmath998 , * @xmath999 if @xmath1000 lies in exactly one @xmath1001 , * @xmath999 if @xmath1000 lies in exactly two @xmath1001 s but not in a region with moduli , * @xmath1002t_{2}^{k_2 } t_{3}^{k_3}$ ] if @xmath1000 lies in exactly two @xmath1001 s and in a region @xmath1003 with moduli , * @xmath1004 otherwise .",
    "recall from example [ littlebox ] that from the data of @xmath766 alone , we can not determine whether a square lying in exactly two @xmath1001 s has moduli or not .",
    "this depends on what happens `` in the corners '' .",
    "this already indicates we can not split the vertex and edge contributions as easily as in the rank 1 case .",
    "we come back to this in the examples of the next section .",
    "a reasoning similar to the previous section gives @xmath1005      exactly as in @xcite and @xcite , the terms of the previous two sections can be redistributed so they become laurent _ polynomials _ in @xmath1006 .",
    "denote the vertices neighbouring @xmath115 by @xmath740 .",
    "define @xmath1007 where @xmath1008 . here",
    "the labelling is such that @xmath1009 is given by @xmath742 for all @xmath1010 mutually distinct .",
    "recall the definition of @xmath1011 , @xmath1012 from section [ toric3folds ] .",
    "this redistribution does not lead to over - counting due to the choice of the second term in @xmath1013 ( see ) .",
    "the reason these are laurent polynomials is the same as ( * ? ? ?",
    "* lem .  4 ) .",
    "we summarize this section in one theorem .",
    "[ vertexedgeformalism ] let @xmath2 be a smooth projective toric 3-fold with @xmath29 and polarization @xmath14 .",
    "let @xmath340 .",
    "suppose @xmath322 is a connected component of the fixed locus such that all its closed points have reflexive hull @xmath49 .",
    "then the @xmath4-character of donaldson - thomas theory @xmath1014 is given by @xmath1015 where @xmath1016 $ ] and @xmath1017 \\\\ & { \\mathsf e}_{\\alpha\\beta } \\in k_0({\\mathcal c } ) \\otimes_{{\\mathbb z } } { \\mathbb z}[t_{1}^{\\pm 1},t_{2}^{\\pm 1},t_{3}^{\\pm 1 } ] , \\end{aligned}\\ ] ] for all @xmath1018 .",
    "let @xmath11 be a smooth toric calabi - yau 3-fold and let @xmath2 be a toric compactification with @xmath29 and polarization @xmath14 .",
    "we fix @xmath74 and consider the moduli spaces @xmath1019 in section [ moduli ] , we introduced the @xmath4-invariant open subset @xmath1020 of torsion free sheaves @xmath38 with @xmath332 supported in @xmath11 .",
    "we fix a connected component @xmath329 satisfying assumption [ as1 ] : + _ assume @xmath85 is compact and all its closed points have the same ( isomorphic ) reflexive hull @xmath49 . _ + we introduced invariants @xmath93 in proposition - definition [ propdef ] .",
    "we are interested in the `` calabi - yau specialization '' @xmath92 of these invariants . in this section ,",
    "we conjecture a formula for these invariants in terms of the generating functions @xmath1021 of remark [ openz ] .",
    "suppose @xmath165 \\in { \\mathcal c}$ ] is a closed point with characteristic function corresponding to double box configurations @xmath754 ( proposition [ lem1 ] ) , where @xmath1022 for each @xmath115 with neighbouring vertices @xmath740 . since the cokernel @xmath1023 lies entirely in @xmath11 , the asymptotic double square configurations @xmath761 are zero unless @xmath788 ( i.e.  @xmath1024 ) and @xmath1025 unless @xmath145 .",
    "elements of the connected component @xmath1026 ( definition [ z ] ) all have the same third chern class @xmath1027 determined by proposition [ formulachi ] .    [ mainconj ]",
    "let @xmath11 be a smooth toric calabi - yau 3-fold with toric compactification @xmath2 satisfying @xmath29 .",
    "fix a polarization @xmath14 on @xmath2 and chern classes @xmath7 , @xmath8 . let @xmath49 be a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf on @xmath2 with toric data @xmath490 .",
    "suppose any connected component @xmath85 of @xmath1028 satisfies assumption [ as1 ] with reflexive hull @xmath49 .",
    "for each @xmath788 , there are two faces @xmath1029 , @xmath757 which share @xmath758 as an edge and two disjoint faces @xmath759 , @xmath760 connected by the edge @xmath758 .",
    "let @xmath1030 be such that for any @xmath1031 , the elements of @xmath1032 have second chern class @xmath8 .",
    "then @xmath1033    the assumptions of this conjecture are satisfied in several interesting examples , typically for `` low '' values of @xmath8 . for instance , when @xmath8 is minimal and @xmath75 is small as discussed in section [ sectionmin ] , then the assumption is satisfied ( theorem [ eulermin ] ) . in this case",
    "there are no legs ( proposition [ minc2a ] ) .",
    "an example with legs is example [ ex2as1 ] .",
    "we provide the following evidence for main conjecture [ mainconj ] :    * the examples of sections [ nolegs ] , [ o(-1,-1 ) ] . * for connected components @xmath85 , `` with expected obstructions ''",
    "we compute the invariants @xmath1034 using methods of @xcite ( section [ good ] ) . the answers are compatible with main conjecture [ mainconj ] .",
    "* assuming two analogs of conjectures in the stable pairs case @xcite , we prove main conjecture [ mainconj ] using @xmath101-localization ( section [ t0loc ] ) .",
    "note that the formula of conjecture [ mainconj ] only depends on the compactification through whether @xmath49 is @xmath17-stable or not and through an overall multiplicative factor of @xmath1035 .",
    "in particular , the formula @xmath1036 does not depend on the compactification .",
    "we expect this formula to be of the form @xmath1037 times a rational function in @xmath22 , which is invariant under @xmath1038 ( up to an overall multiplicative factor ) .",
    "we show these two statements in the case @xmath1039 , where the rational function is in fact a laurent polynomial ( remark [ invariance ] ) .",
    "in this section , we consider @xmath96 and @xmath49 an arbitrary @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 described by toric data @xmath490 .",
    "we will see below that @xmath49 is always the restriction of a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf on a ( polarized ) toric compactification @xmath2 of @xmath58 with @xmath29 ( lemma [ ( p^1)^3 ] ) .",
    "nevertheless , we want to think of the results of this section as being intrinsic to @xmath58 . since @xmath1040 , we choose all legs empty .",
    "let @xmath1041 .",
    "then @xmath705 is the moduli space of @xmath4-equivariant rank 2 torsion free sheaves on @xmath58 with characteristic function corresponding to @xmath701 ( proposition [ lem1 ] ) .",
    "even though we did not start with a compact 3-fold , the vertex expression still makes sense for @xmath705 and is denoted by @xmath1042 .    [ normal ] suppose @xmath1043 and @xmath1044 are mutually distinct .",
    "consider @xmath701 given by @xmath1045 so @xmath1046 .",
    "the reader can easily reconstruct @xmath701 from this formula .",
    "then we have @xmath1047 and hence @xmath1048 where @xmath1049 is the weight defined in definition [ z ] .",
    "[ normal2 ] suppose @xmath1043 and @xmath1044 are mutually distinct .",
    "we consider an example with @xmath1050 and @xmath711 , namely @xmath1051 t_1t_2t_3.\\ ] ] the reader can easily reconstruct @xmath701 from this formula .",
    "then we have @xmath1052 - 1 - 2\\,{\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(-1)]}{t_{{1}}t_{{2}}t_{{3}}}}+{\\frac { 1}{t_{{1}}t_{{2 } } t_3}}+\\cdots,\\ ] ] where @xmath1053 indicates the @xmath101-moving terms .",
    "since @xmath1054 - 1 $ ] , we obtain @xmath1055}{t_{{1}}t_{{2}}t_{{3}}}}-{\\frac { 1}{t_{{1}}t_{{2 } } t_3}}+\\cdots.\\ ] ] a direct calculation shows that @xmath1053 produces a sign @xmath1056 .",
    "we conclude @xmath1057      [ abnormal ] suppose @xmath1043 and @xmath1044 are mutually distinct .",
    "we consider @xmath701 and @xmath1059 given by @xmath1060 so @xmath1061 .",
    "note that neither @xmath705 nor @xmath1062 has moduli .",
    "we obtain @xmath1063 where @xmath1053 indicates the @xmath101-moving terms .",
    "further calculation shows @xmath1064 however , we _ do _ have @xmath1065 in @xcite , we associate to any double box configuration @xmath701 a double dimer model @xmath1066 .",
    "it turns out that in this example @xmath1067      [ measurevertex ] let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 .",
    "for each @xmath1068 define the _ rank 2 equivariant vertex measure _ associated to @xmath701 by @xmath1069 define the _ rank 2 equivariant vertex _ as @xmath1070\\!].\\ ] ]          [ ( p^1)^3 ] let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath1072 .",
    "we can view @xmath11 as a @xmath4-invariant affine open subset of @xmath1073 .",
    "there exists a polarization @xmath14 on @xmath2 and a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf @xmath1074 on @xmath2 such that @xmath1075 and @xmath1074 restricted to any other @xmath4-invariant affine open subset is locally free .",
    "let @xmath490 be the toric data of @xmath49 and denote the pull - back of the class of the point on each of the three factors of @xmath1073 by @xmath1076 .",
    "we prove the case @xmath49 is singular , i.e.  @xmath1077 and @xmath1044 are mutually distinct ( proposition [ rank2singular ] ) .",
    "the degenerate cases can be treated in a similar fashion .",
    "let @xmath1078 be any polarization on @xmath2 , i.e.  @xmath1079 .",
    "define @xmath1074 by the following toric data . for each of the faces",
    "@xmath1080 corresponding to the chart @xmath96 , we take @xmath1081 , @xmath1082 , and @xmath486 equal to the corresponding value of @xmath1083 , @xmath1084 , and @xmath900 coming from @xmath49 . for each other @xmath1080",
    ", we take @xmath1085",
    ". then clearly @xmath1086 and @xmath1074 restricted to the other standard charts is locally free ( proposition [ rank2singular ] ) .",
    "it suffices to ensure @xmath1074 is @xmath17-stable .",
    "this is equivalent to ( section [ equivsh ] ) @xmath1087 for all @xmath1088 mutually distinct .",
    "these inequalities are equivalent to @xmath1089 for all @xmath1088 mutually distinct . taking @xmath1090 , @xmath1091 , @xmath1092 proves the lemma .        1 .",
    "@xmath49 is locally free , i.e.  some @xmath1096 or some @xmath900 are equal ( proposition [ rank2singular ] ) .",
    "we saw in equation that @xmath1097 .",
    "therefore conjecture [ edgelessconj ] implies @xmath1098 2 .",
    "@xmath49 is singular , i.e.  all @xmath899 and @xmath900 are mutually distinct . in this case , only depends on @xmath552 ( by ) and we define @xmath1099 the right hand side of conjecture [ edgelessconj ] is computed in theorem [ ben ] .",
    "conjecture [ edgelessconj ] is an interesting non - trivial _ combinatorial identity _ stating @xmath1100    [ invariance ] conjecture [ edgelessconj ] implies main conjecture [ mainconj ] in the case @xmath1101 ( no legs ) . in this case , the generating function of main conjecture [ mainconj ] is @xmath1102 up to an overall multiplicative factor of @xmath22 to some power . since there are no legs , the formula of the previous remark shows the generating function is @xmath1037 times a laurent polynomial in @xmath1103 . as can be checked by a small calculation , this laurent polynomial is invariant under @xmath1038 ( up to an overall multiplicative factor ) .",
    "[ buddies1 ] in example [ abnormal ] , we saw that in general @xmath1104 .",
    "however , we do expect the following refinement of conjecture [ edgelessconj ] to be true .",
    "let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath58 . in @xcite",
    ", we associate a double dimer model @xmath1066 to any @xmath1041 . for any double dimer model @xmath1105",
    ", we conjecture @xmath1106 in @xcite , we refer to elements @xmath1107 with the same double dimer model as _",
    "buddies_. in section [ t0loc ] , we give a ( conjectural ) geometric characterization of buddies : @xmath1108 are buddies if and only if @xmath1109 , @xmath1110 are @xmath1111-fixed connected components inside the same @xmath101-fixed connected component ( remark [ buddies2 ] ) .",
    "for @xmath1112 , one can fix a double square configuration @xmath766 along @xmath60 ( definition [ doublesquare ] ) .",
    "unlike the rank 1 case , the edge term along this leg is not determined by @xmath766 alone .",
    "therefore , @xmath1113 is not well - defined .",
    "the reason is that whether the leg has moduli or not depends on what happens in the `` corners attached to the leg '' ( example [ littlebox ] ) . in this section , we consider @xmath1114 let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath11 described by toric data @xmath1115 .",
    "let @xmath1116 label the two vertices of @xmath1117 .",
    "the polyhedron @xmath1117 has four non - compact faces .",
    "two of them share the unique compact edge and we denote them by @xmath1118 .",
    "the other two we denote by @xmath1119 , where @xmath507 has vertex @xmath200 and @xmath508 has vertex @xmath1120 .",
    "we will see @xmath49 is always the restriction of a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf on a ( polarized ) toric compactification @xmath2 of @xmath11 ( lemma [ f1 ] ) . in order for this extension of @xmath49 to have no @xmath4-fixed moduli , we assume @xmath1121    fix a double square configuration @xmath766 along the compact leg and @xmath1122 , where @xmath1123 then @xmath754 has at most 3 face components and can have several leg and vertex components of 1 s ( definition [ vefcomps2 ] ) .",
    "therefore , there are no moduli associated to the face components .",
    "in particular , the moduli space @xmath705 ( definition [ z ] ) decomposes according to vertex and edge components @xmath1124 note that the expression for the edge in , makes sense without reference to a compactification of @xmath2 .",
    "we write the corresponding expression as @xmath1125 .",
    "it is tempting to define an equivariant edge measure @xmath1126 however , this may not be well - defined as illustrated by the following example .",
    "[ withlegs ] suppose @xmath49 is given by toric data @xmath1115 with @xmath1127 and @xmath621 mutually distinct .",
    "we consider the following three double box configurations @xmath1128 with leg along the zero section of @xmath11 @xmath1129t_1t_2)}{1-t_3 } , \\frac{t_1t_3^{-1}+t_2t_3^{-1}+[{\\mathcal o}_{{\\mathbb p}^1}(1)]t_1t_2t_3^{-2}}{1-t_3^{-1 } } \\right ) , \\\\ ( { \\mathsf q}_{{\\boldsymbol \\pi}_{0 } '' } , { \\mathsf q}_{{\\boldsymbol \\pi}_{1}''})&= \\left(\\frac{t_3(t_1+t_2+t_1t_2)}{1-t_3 } , \\frac{t_1t_3^{-1}+t_2t_3^{-1}+t_1t_2t_3^{-1}}{1-t_3^{-1 } } \\right).\\end{aligned}\\ ] ] the leg of @xmath754 has no moduli , two columns of weight spaces of dimension 1 , and one column of weight spaces of dimension 2 .",
    "the leg of @xmath1130 is the same as @xmath754 , but with the column of 2-dimensional weight spaces replaced by a column of 1-dimensional weight spaces with moduli @xmath6 .",
    "the leg of @xmath1131 has three columns of weight spaces of dimension 1 without moduli",
    ". one can compute @xmath1132}{t_1}-\\frac{1}{t_2 ^",
    "2}+\\frac{1}{t_2}-\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(1)]}{t_2}-\\frac{2}{t_1 t_2}+\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(1)]}{t_1 t_2}+\\frac{2}{t_3 } \\right .",
    "\\\\ & \\left .",
    "-\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(-1)]}{t_3}-\\frac{1}{t_1 t_3}+\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(-1)]}{t_1 t_3}-\\frac{1}{t_2 t_3}+\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(-1)]}{t_2 t_3}+\\frac{t_1}{t_2 t_3}+\\frac{t_2}{t_1 t_3 } , 0 \\right ) , \\\\",
    "( { \\mathsf v}_{{\\boldsymbol \\pi}_{0 } '' } , { \\mathsf v}_{{\\boldsymbol \\pi}_{1}''})= & \\left(-1-\\frac{1}{t_1}-\\frac{1}{t_2}+\\frac{1}{t_1 t_3}+\\frac{1}{t_2 t_3}+\\frac{1}{t_1 t_2 t_3},0 \\right ) , \\\\ { \\mathsf e}_{\\hat{{\\boldsymbol \\pi}}}=&\\frac{2 t_1}{t_2}+\\frac{2 t_2}{t_1}-\\frac{2}{t_1 ^ 2 t_3}-\\frac{2}{t_2 ^ 2 t_3 } , \\\\ { \\mathsf e}_{\\hat{{\\boldsymbol \\pi}}'}=&2 [ { \\mathcal o}_{{\\mathbb p}^1}(1)]-1+\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(1 ) ] t_1}{t_2}+\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(1 ) ] t_2}{t_1}-\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(-1)]}{t_1 ^ 2 t_3}-\\frac{[{\\mathcal o}_{{\\mathbb p}^1}(-1)]}{t_2 ^ 2 t_3}\\\\ & -\\frac{2 [ { \\mathcal o}_{{\\mathbb p}^1}(-1)]}{t_1 t_2 t_3}+\\frac{1}{t_1 t_2 t_3 } , \\\\",
    "{ \\mathsf e}_{\\hat{{\\boldsymbol \\pi}}''}=&1+\\frac{t_1}{t_2}+\\frac{t_2}{t_1}-\\frac{1}{t_1 ^ 2 t_3}-\\frac{1}{t_2 ^ 2 t_3}-\\frac{1}{t_1 t_2 t_3}.\\end{aligned}\\ ] ] interestingly , @xmath1133 has a positive @xmath4-fixed part , so @xmath1134 is not well - defined . therefore is in general not well - defined . as a consistency check : an explicit calculation using these expressions leads to the sign predicted by main conjecture [ mainconj ] .",
    "let @xmath1138 and label the vertices and faces of @xmath1117 as before .",
    "let @xmath49 be a @xmath4-equivariant rank 2 reflexive sheaf on @xmath11 described by toric data @xmath1115 with @xmath1139 .",
    "let @xmath766 be a double square configuration along the compact edge and let @xmath1140 , where @xmath1141 then @xmath1142 is the _ rank 2 equivariant vertex measure _ associated to @xmath754 .",
    "the specialization @xmath1143 is well - defined .",
    "define the _ rank 2 equivariant vertex _ as @xmath1144\\!],\\ ] ] where @xmath1145 , @xmath1146 were defined in definition [ z ] .",
    "we have to prove the calabi - yau specialization @xmath92 is well - defined .",
    "the proof is similar to that of proposition [ welldef1 ] and follows from the following lemma and proposition - definition [ propdef ] .",
    "[ f1 ] let @xmath49 be any @xmath4-equivariant rank 2 reflexive sheaf on @xmath1138 described by toric data @xmath1115 ( not necessarily with @xmath1139 ) .",
    "then there exists a polarized toric compactification @xmath2 of @xmath11 and a rank 2 @xmath17-stable reflexive sheaf @xmath1074 on @xmath2 , such that @xmath1147 and the restriction of @xmath1074 to any @xmath4-invariant affine open subset not contained in @xmath11 is locally free .",
    "let @xmath1148 be the first hirzebruch surface and let @xmath199 be the @xmath4-fixed line with @xmath1149 .",
    "let @xmath1150 be a @xmath4-fixed fibre .",
    "define @xmath1151 the following divisors form a @xmath1152-basis for @xmath1153 @xmath1154 then @xmath199 is a @xmath1155 curve in @xmath2 contained in two toric charts @xmath1156 .",
    "their union is isomorphic to @xmath11 .",
    "we define @xmath1074 on @xmath2 by the following toric data @xmath1157 .",
    "the faces @xmath1158 of @xmath1117 ( introduced at the beginning of this section ) correspond to faces of @xmath75 and we take @xmath1159 from the given toric data @xmath1115 . for all other faces @xmath568 of @xmath75 , we set @xmath1160",
    ". then @xmath1075 and @xmath1074 restricted to any other other toric chart is locally free ( proposition [ rank2singular ] ) .",
    "we are reduced to finding a polarization @xmath14 on @xmath2 such that @xmath1074 is @xmath17-stable .    the intersection numbers among the toric divisors are @xmath1161 where @xmath807 denotes the class of a point .",
    "a divisor @xmath1162 is ample if and only if @xmath1163 .",
    "take @xmath1164 arbitrary and @xmath1165 , @xmath1166 , @xmath1092 . using the above intersection numbers , it is not hard to see that there exists a @xmath1164 such that the following four stability inequalities hold @xmath1167 after scaling @xmath14 such that all its coefficients are integer , we are done .    [ ( -1,-1)conj ]",
    "let @xmath1138 and label the vertices and faces of @xmath1117 as before .",
    "let @xmath49 be any @xmath4-equivariant rank 2 reflexive sheaf on @xmath11 described by toric data @xmath1115 with @xmath1139 .",
    "let @xmath766 be a double square configuration along the compact edge",
    ". then @xmath1168    consider the statement of main conjecture [ mainconj ] .",
    "if @xmath1169 is such that at each vertex at most one leg of type @xmath1155 comes in , then the formula of conjecture [ mainconj ] is implied by conjecture [ ( -1,-1)conj ] .",
    "also note that conjecture [ ( -1,-1)conj ] implies conjecture [ edgelessconj ] by taking @xmath1170 and embedding @xmath58 in @xmath11 as one of the two toric charts .      in this section ,",
    "we explain where the sign in main conjecture [ mainconj ] comes from .",
    "the following theorem discusses the contribution of connected components @xmath85 with `` expected obstructions '' .",
    "the argument is a variation on ( * ? ? ?",
    "* sect .  4.10 , 4.11 ) .",
    "[ tthm ] let @xmath11 be a smooth toric calabi - yau 3-fold with toric compactification @xmath2 with @xmath29 and polarization @xmath14 .",
    "let @xmath49 be a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf on @xmath2 with toric data @xmath490 . for each @xmath788 , there are two faces @xmath1029 , @xmath757 which share @xmath758 as an edge and two disjoint faces @xmath759 , @xmath760 connected by the edge @xmath758 .",
    "let @xmath1031 for some @xmath1030 and consider the connected component @xmath1026 .",
    "assume the following :        in the case @xmath85 is in addition isolated , the second bullet states that @xmath1171 has no @xmath101-fixed terms . in @xcite ,",
    "the @xmath4-fixed locus automatically consists of isolated reduced points and the absence of @xmath101-fixed terms always holds ( this is the crucial technical point mentioned in ( * ? ? ? * sect .  4.11 ) ) . in our case",
    ", @xmath85 could be non - isolated . moreover , even when @xmath85 is isolated there can be non - zero @xmath101-fixed terms as for @xmath701 and @xmath1059 in example [ abnormal ] .",
    "examples [ normal ] , [ normal2 ] , and [ withlegs ] satisfy the assumptions of the theorem .    from the definition and assumptions @xmath1174 where @xmath1053 stands for the contribution of all @xmath101-moving terms .",
    "this is equal to @xmath1175 because of degree reasons , the contribution of @xmath1053 is simply @xmath1176 .",
    "more precisely , it is @xmath1056 to the power the number of ( serre dual ) @xmath101-moving _ pairs _ in @xmath1171 .",
    "we conclude @xmath1177 in order to determine the sign , we use the following claim . for all @xmath788 and @xmath145 , there exist splittings @xmath1178 such that .",
    "our dualities also hold before specialization . ]",
    "@xmath1179 if the claim is proved , then we conclude @xmath93 equals @xmath1180 where @xmath1181 denotes the rank of the @xmath101-fixed term .",
    "moreover , @xmath1182 and @xmath1183 should be interpreted as first restricting the vertex and edge expression to ( any ) closed point of @xmath85 , thus getting rid of moduli , and then putting @xmath1184 .",
    "so we need to prove the above splittings and compute the terms in the power modulo 2 .    for ,",
    "we define ( similar to ( * ? ? ?",
    "* sect .  4.10 ) ) @xmath1185 in this definition , the coordinates are chosen such that @xmath1186 is given by @xmath139 .",
    "we then define @xmath1187 as in expression , but with @xmath1188 replaced by @xmath1189 . also define @xmath1190 .",
    "the identity can then be checked by direct calculation .",
    "this uses @xmath1191 ( valid because @xmath788 and @xmath11 is calabi - yau ) . from the definition of @xmath1187",
    ", we obtain @xmath1192 where the second equality follows from @xmath1193 ( @xmath49 has rank 2 ) . using the fact that @xmath1193 and @xmath1194 , one obtains @xmath1195 where @xmath1196 are the two faces with common edge @xmath758 .",
    "the splitting is more complicated .",
    "let @xmath1189 be defined as above .",
    "naively , one would like to define @xmath1197 and @xmath1198 . here",
    "the vertices ( in @xmath1117 ) neighbouring @xmath145 are denoted by @xmath740 , where the labelling is such that @xmath1009 is given by @xmath742 for all @xmath1010 mutually distinct . in the case",
    "@xmath1199 ( no legs ) , this works and one obtains .",
    "the general case is more complicated .",
    "one introduces @xmath1200 by the equation @xmath1201 and defines @xmath1202 exactly analogous to ( * ? ? ?",
    "* sect .  4.10 ) .",
    "setting @xmath1198 , equation can be deduced .",
    "the correct definition of @xmath1202 leads to @xmath1203 this equality follows after noting that various terms in @xmath1202 are zero or even for @xmath1204 .",
    "a similar ( but easier ) calculation as for @xmath1205 shows @xmath1206 where @xmath1207 are the three faces with vertex @xmath119 labelled such that @xmath1208 are the faces sharing edge @xmath1209 .    finally , we claim @xmath1210 define @xmath1211 take any @xmath101-fixed term @xmath285 in @xmath1212 _ not _ occurring in @xmath1172 .",
    "this term must cancel after adding @xmath1213 ( by assumption ) .",
    "therefore , @xmath1213 contains the term @xmath1214 . by duality and",
    ", @xmath1212 must contain @xmath1215 . therefore , nonzero terms in @xmath1212 not occurring in @xmath1172 come in pairs ( and likewise for @xmath1213 ) . distributing the terms of @xmath1172 over @xmath1216 by using , and calculating modulo 2",
    "shows the claim .      in this section ,",
    "we prove main conjecture [ mainconj ] from a @xmath101-localization argument similar to ( * ? ? ?",
    "pandharipande and thomas need two conjectures for their argument .",
    "we need completely similar analogs of their conjectures in our setting .",
    "the first is smoothness of the @xmath101-fixed locus ( conjecture [ t0conj1 ] ) .",
    "the second will be described below .",
    "[ t0thm1 ] assume conjecture [ t0conj1 ] is true .",
    "let @xmath11 be a smooth quasi - projective toric calabi - yau 3-fold with toric compactification @xmath2 satisfying @xmath29 . fix a polarization @xmath14 on @xmath2 and let @xmath378 and @xmath1217 .",
    "suppose @xmath380 is a connected component satisfying assumption [ as2 ] with reflexive hull @xmath49 .",
    "let @xmath1218 be the virtual normal bundle on @xmath85 w.r.t .",
    "the @xmath101-action .",
    "then the class @xmath1219 is of the form @xmath1220 with @xmath1221 .",
    "moreover @xmath1222    by symmetry of the @xmath101-equivariant obstruction theory ( theorem [ sym ] ) @xmath1223 therefore , the invariant is given by @xmath1224 note that @xmath1225 only has @xmath101-moving terms by assumption [ as2 ] .",
    "theorem [ sym ] therefore gives @xmath1226 consequently , @xmath1227 is of the form @xmath1220 with @xmath1228 and we conclude @xmath1229    [ buddies2 ] combining theorem [ t0thm1 ] and proposition [ t0dt = tdt ] gives @xmath1230 it is tempting to conclude @xmath1231 for any @xmath60-fixed component @xmath105 of @xmath85 .",
    "this is certainly not true in general , because it would imply @xmath1232 is never zero contradicting example [ abnormal ] .",
    "this is very reminiscent of the discussion of buddies in remark [ buddies1 ] .",
    "this leads us to expect two elements @xmath1233 are buddies if and only if @xmath1109 , @xmath1110 lie in the same connected component of the @xmath101-fixed locus .",
    "this would provide a geometric explanation for the ( combinatorially mysterious ) notion of buddies .",
    "this also shows the classical count @xmath1234 and virtual count @xmath1232 are different .",
    "remarkably , they become equal again after summing over all connected components @xmath105 of the same connected component of the @xmath101-fixed locus .",
    "[ t0conj2 ] let @xmath11 be a smooth quasi - projective toric calabi - yau 3-fold with toric compactification @xmath2 satisfying @xmath29 . fix a polarization @xmath14 , let @xmath378 , and let @xmath1217 .",
    "suppose @xmath380 is a connected component satisfying assumption [ as2 ] and let @xmath105 be a connected component of @xmath390 .",
    "since @xmath105 is a connected component of @xmath179 , we have defined vertices @xmath1235 , @xmath1236 and edges @xmath1013 , @xmath1237 on it . for any @xmath165 \\in { \\mathcal c}_i$ ] ,",
    "these give restrictions @xmath1238}$ ] , @xmath1239}$ ] , @xmath1240}$ ] , @xmath1241}$ ] .",
    "then @xmath1242 } ) + \\sum_{\\alpha\\beta \\in e_c(y ) } \\mathbf{constant}({\\mathsf e}_{\\alpha\\beta}^{+}|_{[{\\mathcal f } ] } ) \\mod 2,\\end{aligned}\\ ] ] where @xmath1181 denotes the rank of the @xmath101 fixed term .",
    "[ t0thm ] let @xmath11 be a smooth quasi - projective toric calabi - yau 3-fold with toric compactification @xmath2 satisfying @xmath29 . fix a polarization @xmath14 on @xmath2 and chern classes @xmath7 , @xmath8 .",
    "let @xmath49 be a @xmath4-equivariant rank 2 @xmath17-stable reflexive sheaf on @xmath2 with toric data @xmath490 .",
    "we assume :    * @xmath381 . * conjectures [ t0conj1 ] ( smoothness @xmath101-fixed loci ) , [ t0conj2 ] ( parity @xmath101-fixed tangent spaces ) hold . * all the connected components @xmath1243 are compact and have constant reflexive hulls @xmath49 ( i.e.  assumption [ as2 ] ) .    for each @xmath788 , there are two faces @xmath756 , @xmath757 which share @xmath758 as an edge and two disjoint faces @xmath759 , @xmath760 connected by the edge @xmath758 .",
    "let @xmath1030 be chosen such that for any @xmath1031 , the elements of @xmath1032 have second chern class @xmath8 .",
    "then @xmath1033    let @xmath1244 be a connected component of the @xmath101-fixed locus for some @xmath1245 .",
    "let @xmath105 be a connected component of the @xmath60-fixed locus of @xmath390 .",
    "then @xmath105 is equal to a unique @xmath1032 for some @xmath1246 and @xmath1031 .",
    "moreover , each @xmath705 in the sum arises in this way . by theorem [ t0thm1 ] @xmath1247 suppose @xmath1248 as above .",
    "the proof follows if we show @xmath1249 it suffices to evaluate @xmath1250 on a single closed point @xmath165 \\in { \\mathcal c}_{\\hat{{\\boldsymbol \\pi}}}$ ] . by definition of @xmath1251 , @xmath1252 , @xmath1253 @xmath1254 } )",
    "= & \\sum_{\\alpha \\in v(y ) } ( { \\mathsf v}_\\alpha^{+}|_{[{\\mathcal f}]}(1,1,1 ) - \\mathbf{constant}({\\mathsf v}_\\alpha^{+}|_{[{\\mathcal f } ] } ) ) \\\\ & + \\sum_{\\alpha\\beta \\in e_c(y ) } ( { \\mathsf e}_{\\alpha\\beta}^{+}|_{[{\\mathcal f}]}(1,1,1 ) - \\mathbf{constant}({\\mathsf e}_{\\alpha\\beta}^{+}|_{[{\\mathcal f } ] } ) ) .",
    "\\end{aligned}\\ ] ] in the proof of theorem [ tthm ] , we computed @xmath1255}(1,1,1 ) + \\sum_{\\alpha\\beta \\in e_c(y ) } { \\mathsf e}_{\\alpha\\beta}^{+}|_{[{\\mathcal f}]}(1,1,1 ) \\\\ &",
    "= \\sum_{\\alpha\\beta \\in e_c(y ) } |{\\boldsymbol \\lambda}_{\\alpha\\beta}| ( m_{\\alpha\\beta } ( v_{\\rho_{1,\\alpha\\beta } } + v_{\\rho_{2,\\alpha\\beta } } + 1 ) + v_{\\rho_{3,\\alpha\\beta } } + v_{\\rho_{4,\\alpha\\beta } } ) \\mod 2.\\end{aligned}\\ ] ] the theorem follows from @xmath1256 } ) + \\sum_{\\alpha\\beta \\in e_c(y ) } \\mathbf{constant}({\\mathsf e}_{\\alpha\\beta}^{+}|_{[{\\mathcal f } ] } ) \\mod 2,\\end{aligned}\\ ] ] which is precisely conjecture [ t0conj2 ] .",
    "[ finalrem ] let @xmath11 be a smooth toric calabi - yau 3-fold with toric compactification @xmath2 satisfying @xmath29 .",
    "let @xmath49 be a rank 2 @xmath17-stable reflexive sheaf on @xmath2 with respect to some polarization .",
    "assume :      then @xmath1258 by the calculation in the proof of the previous theorem , @xmath1259 ( no legs ) .",
    "we deduce that in the absence of legs @xmath1260 this formula holds even though in general @xmath1261 ( example [ abnormal ] ) .",
    "mnop2 m.  f.  atiyah and r.  bott , _ the yang - mills equations over riemann surfaces _",
    "london a308 ( 1982 ) , 523615 .",
    "v.  v.  batyrev , _ toroidal fano 3-folds _ , math .",
    "ussr - izv .  19 ( 1982 ) , 1325",
    ". k.  behrend , _ donaldson - thomas type invariants via microlocal geometry _ , annals of math",
    ".  170 ( 2009 ) , 13071338 .",
    "k.  behrend and b.  fantechi , _ symmetric obstruction theories and hilbert schemes of points on threefolds _ , alg .  and",
    "theory 2 ( 2008 ) , 313345 .",
    "j.  cheah , _ on the cohomology of hilbert schemes of points _ , j.  alg .",
    "geom .  5 ( 1996 ) , 479511",
    ". j.  choi , _ genus zero bps invariants for local @xmath1262 _ , imrn ( 2014 ) , 418450 .",
    "i.  dolgachev , _ lectures on invariant theory _ , cambridge university press ( 2003 ) .",
    "u.  v.  desale and s.  ramanan , _ poincar polynomials of the variety of stable bundles _ , math .",
    "ann .  216 ( 1975 ) , 233244 .",
    "w.  fulton , _ introduction to toric varieties _ , princeton university press ( 1993 ) .",
    "a.  gholampour , y.  jiang , and m.  kool , _",
    "sheaves on weighted projective planes and modular forms _ , arxiv:1209.3922 .",
    "a.  gholampour and m.  kool , _ stable reflexive sheaves and localization _ , arxiv:1308.3688 .",
    "a.  gholampour , m.  kool , and b.  young , work in progress .",
    "l.  gttsche , _ the betti numbers of the hilbert scheme of points on a smooth projective surface _ , math .",
    "ann .  286 ( 1990 ) , 193207",
    ". l.  gttsche , _ theta functions and hodge numbers of moduli spaces of sheaves on rational surfaces _ , comm .",
    "206 ( 1999 ) , 105136 . t.  graber and r.  pandharipande , _ localization of virtual classes _ , invent .  math .  135 ( 1999 ) , 487518 .",
    "a.  grothendieck , _ techniques de construction et thormes dexistence en gometrie algbrique , iv : les schmas de hilbert _ , sem .",
    "bourbaki 1960/1961 221 .",
    "d.  greb and m.  toma , _ compact moduli spaces for slope - semistable sheaves _",
    ", arxiv:1303.2480 .",
    "r.  hartshorne , _ algebraic geometry _",
    ", springer - verlag ( 1977 ) .",
    "r.  harthorne , _ stable reflexive sheaves _ , math .",
    "ann .  254 ( 1980 ) , 121176 .",
    "d.  huybrechts and m.  lehn , _ the geometry of moduli spaces of sheaves _ , cambridge university press ( 2010 ) . g.  harder and m.  s.  narasimhan , _ on the cohomology groups of moduli spaces of vector bundles on curves _ , math .",
    ".  212 ( 1975 ) , 215248 .",
    "a.  a.  klyachko , _ equivariant bundles on toral varieties _ , math .",
    "ussr izvestiya 35 ( 1990 ) , 337375 .",
    "a.  a.  klyachko , _ vector bundles and torsion free sheaves on the projective plane _ , preprint max planck institut fr mathematik ( 1991 ) .",
    "a.  a.  klyachko , _ spatial polygons and stable configurations of points in the projective line _ , in : algebraic geometry and its applications , j.  kollr , _ hulls and husks _ ,",
    "m.  kool , _ fixed point loci of moduli spaces of sheaves on toric varieties _ , adv .",
    "math .  227 ( 2011 ) , 17001755 .",
    "m.  kool , _ euler characteristics of moduli spaces of torsion free sheaves on toric surfaces _ , geom .  ded .  176 ( 2015 ) 241 - 269 .",
    "j.  manschot , _ the betti numbers of the moduli space of stable sheaves of rank 3 on @xmath1263 _ , lett .  math .",
    "phys .  98 ( 2011 ) , 6578 .",
    "j.  manschot , _ bps invariants of @xmath1264 gauge theory on a surface _ , comm .",
    "phys .  6 ( 2012 ) , 497516 .",
    "j.  manschot , _ bps invariants of semi - stable sheaves on rational surfaces _ , lett .",
    "phys .  103 ( 2013 ) , 895918 .",
    "d.  maulik , n.  nekrasov , a.  okounkov and r.  pandharipande , _ gromov - witten theory and donaldson - thomas theory , i _ ,",
    "142 ( 2006 ) , 12631285 .",
    "d.  maulik , n.  nekrasov , a.  okounkov and r.  pandharipande , _ gromov - witten theory and donaldson - thomas theory , ii _ , compos .",
    "142 ( 2006 ) , 12861304 .",
    "s.  mozgovoy , _ invariants of moduli spaces of stable sheaves on ruled surfaces _ , arxiv:1302.4134 .",
    "d.  oprea , _ framed sheaves and symmetric obstruction theories _ , doc .",
    "math .  18 ( 2013 ) , 323342 .",
    "m.  perling , _ graded rings and equivariant sheaves on toric varieties _ , math .",
    "nachr .  263264 ( 2004 ) , 181197 .",
    "m.  perling , _",
    "moduli for equivariant vector bundles of rank two on smooth toric surfaces _ , math .",
    "nachr .  265 ( 2004 ) , 8799 .",
    "r.  pandharipande and r.  p.  thomas , _",
    "the 3-fold vertex via stable pairs _ , geom .  and topol .  13 ( 2009 ) , 18351876 .",
    "r.  p.  stanley , _ enumerative combinatorics , volume 2 _ , cambridge studies in adv .  math . 62 ( 2001 ) r.  p.  thomas , _ a holomorphic casson invariant for calabi  yau 3-folds , and bundles on k3 fibrations _ , j.  diff .  geom .",
    "54 ( 2000 ) 367438 . c.  vafa and e.  witten ,",
    "_ a strong coupling test of s - duality _ , nucl .",
    "phys .  b 431 3 ( 1994 ) , 377 .",
    "k.  watanabe and m.  watanabe , _ the classification of fano 3-folds with torus embeddings _ , tokyo j.  math .  5 ( 1982 ) , 3748",
    ". k.  yoshioka , _ the betti numbers of the moduli space of stable sheaves of rank 2 on @xmath1265 _ , j.  reine angew .",
    "math .  453 ( 1994 ) , 193220 ."
  ],
  "abstract_text": [
    "<S> let @xmath0 be the moduli space of rank 2 stable torsion free sheaves with chern classes @xmath1 on a smooth 3-fold @xmath2 . </S>",
    "<S> when @xmath2 is toric with torus @xmath3 , we describe the @xmath4-fixed locus of the moduli space @xmath0 . </S>",
    "<S> connected components of @xmath5 with constant reflexive hulls are isomorphic to products of @xmath6 . </S>",
    "<S> we mainly consider such connected components , which typically arise for any @xmath7 , `` low values '' of @xmath8 , and arbitrary @xmath9 .    using a new type of combinatorics called double box configurations , we provide a framework for computing the generating function @xmath10 of topological euler characteristics of @xmath0 ( summing over all @xmath9 ) . </S>",
    "<S> the combinatorics is solved using the double dimer model in a companion paper . </S>",
    "<S> this leads to explicit formulae for @xmath10 involving the macmahon function .    </S>",
    "<S> when @xmath11 is a toric calabi - yau 3-fold , we consider donaldson - thomas type invariants of @xmath11 defined by virtual localization . </S>",
    "<S> the contribution to the invariant of an individual connected component of the @xmath4-fixed locus is in general _ not _ equal to its signed euler characteristic due to @xmath4-fixed obstructions . </S>",
    "<S> nevertheless , the generating function of _ all _ invariants is still given by @xmath10 up to a sign . </S>"
  ]
}