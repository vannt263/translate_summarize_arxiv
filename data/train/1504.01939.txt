{
  "article_text": [
    "the increased pervasiveness of information and communication technologies is enabling the tracking of human mobility at an unprecedented scale .",
    "massive call detail records from mobile phone activities @xcite and the use of global positioning systems ( gps ) in large vehicle fleets @xcite for instance , are generating extraordinary quantities of positional and movement data available for researchers who aim to understand human activity in space .",
    "other data sources , such as observations of banknote circulation @xcite , online location - based social networks @xcite , radio frequency identification traces @xcite , or even virtual movements of avatars in online games @xcite have also been used as proxies for human movements .",
    "these studies have provided valuable insights into several aspects of human mobility , uncovering distinct features of human travel behavior such as scaling laws @xcite or predictability of trajectories @xcite among others . besides empirical studies , the surge of available data on human mobility has also evoked interest in developing new theoretical models of mobility at several scales .",
    "such models have deep implications for various subjects ranging from epidemiology to urbanism @xcite , with special importance in city planning and policy action @xcite .    despite these first success stories ,",
    "the theoretical development of tools and techniques for handling massive data sets of human mobility and for assessing their possible biases is still a road full of obstacles .",
    "existing models based on gravity @xcite , radiation @xcite , intervening opportunities @xcite , etc .",
    "present a first step towards an accurate proxy for mobility at medium and large range scales , but they have been proven to be not always satisfactory to describe short scale movement such as intra - city displacements .",
    "the size of the data analyzed , the multiple scales involved , the highly skewed statistical nature of human activities @xcite and the lack of strict control on the reliability of the data are just some of the multiple challenges this exciting new era poses .    although they are often extensive , one of the main limitations of data sets used in empirically driven urban - scale mobility research is the limited coverage of the entire population under study .",
    "for instance , cell phone data records are typically obtained from a single operator .",
    "similarly , data from taxis , or from other vehicle fleets are typically obtained from a single company , which usually represents only a small fraction of the actual number of vehicles circulating in a city @xcite . in some scenarios , fully grasping a certain mobility - related phenomenon may require modelling the entire population of interest .",
    "for instance , it was shown that the fraction of taxi trips that can be shared in the city of new york is an increasing ( albeit not simple ) function of the number of daily taxi trips @xcite . hence ,",
    "if a certain data set covers only a fraction of the daily taxi trips performed in a city , the taxi sharing potential can not be fully unveiled .",
    "the above discussion motivates the need of extrapolating urban mobility data starting from a subset of the population of interest .",
    "although a number of urban mobility studies have applied such methods@xcite , a definition and assessment of a statistically rigorous extrapolation methodology is so far lacking .",
    "even the sub - problem of assessing the quality of urban movement models is to date open , since the skewness of the underlying statistical distributions @xcite makes a set of consistent , quantitative indicators hard to develop . in this paper",
    ", we fill these gaps by introducing a rigorous methodology to tackle the problem of obtaining an accurate picture of a mobility process when only a limited observation of such a process is available , both in time and volume .",
    "we first propose a simple rescaling rule which allows to quantify the strong temporal regularity of urban mobility patterns , even at very fine scales such as trips between particular intersections .",
    "exploiting this regularity , we use a maximum entropy approach combining empirical data to model the occurrence of the core of frequent trips with an exponential gravity model @xcite accounting for the variation observed in the least - frequent trips .",
    "we apply our method to accurately reconstruct the data set of all taxi trips performed in the city of new york in the year 2011 using small fractions sub - sampled from only a month of recorded data . by analysing the temporal patterns and the topological properties of the yearly mobility of taxis represented as a multi - edge network",
    ", we can finally assess the statistical accuracy of the proposed _ supersampling _ methodology using a number of both information - theoretical and network - based performance metrics .",
    "the remainder of the paper is structured as follows : we first present the study of both the temporal and topological patterns observed in the data , which then allows us to construct a maximum entropy method that exploits these features to solve the _ supersampling _ problem .",
    "finally , we systematically test our reconstruction model on a very large data set and conclude by discussing some insights about the structure of urban mobility that the present study draws .",
    "typically , mobility data is formalized by so - called origin - destination ( od ) matrices , which are particular examples of weighted , or multi - edge networks @xcite .",
    "od matrices represent the number of observed trips @xmath0 between the @xmath1 pairs of @xmath2 locations or nodes @xmath3 over a given observation period @xmath4 .",
    "a location can be defined based on a spatial partitioning of the urban area , on points of interest @xcite , or on road intersections @xcite  as it is the case in the ny taxi data set at hand ( see methods ) .",
    "given this network representation , one can compute the total incoming @xmath5 and outgoing strength @xmath6 of a node @xmath7 . throughout this paper , we define _ active nodes _ as the subset of nodes which are either origin or destination of at least one trip in the set of all recorded trips @xmath8 and similarly _ active edges _ as the pairs of locations with at least one trip ( @xmath9 ) recorded between them .",
    "the notation @xmath10 shall refer to the observed value of the random variable @xmath11 as derived from the data set , @xmath12 to its expected value over independent realizations of a given model , while @xmath13 denotes the matrix or network average of the variable @xmath10 across the full empirical od matrix ( for example , average graph - degree @xmath14 ) .",
    "finally , the symbol @xmath15 is used to express averages over time of variable @xmath11 using bins of temporal length @xmath4 .",
    "while the built structure of cities evolves slowly in time , many dynamic , behavioral processes that take place within a city unfold relatively fast , and in principle could be strongly variable across time .",
    "however , human activity in cities exhibits highly regular patterns when observed over well defined periods of time , such as circadian or weekly rhythms .",
    "intra - urban mobility is a good example for such activities : with longer time spans or larger samples of gathering movement data in cities , the picture of the underlying mobility network will clear up continually , but stable patterns should already emerge with relatively few data points as we can see in fig .",
    "[ fig1]a . to systematically test this hypothesis , we make use of a fleet of taxis acting as probes , sampling from the total traffic of all vehicles in a city .",
    "the total number of recorded trips , or sampling size @xmath16 , depends on the total observation time @xmath4 and the number of probes , i.e. , the size of the sub - population that is being monitored .    the evolution of the sampling size of trips as a function of the observation period , fig .",
    "[ fig1]b , can be extremely well approximated by a linear relation ( @xmath17 ) , indicating that the total number of trips generated daily in the city can be described as a random variable strongly concentrated around its mean value @xmath18 ( confidence bounds reported as standard deviation ) .",
    ", active edges @xmath19 and active nodes in the city of ny per day over the year 2011 . the influence of both seasonal fluctuations , major events and stable weekly patterns are clearly observed . *",
    "( b ) * aggregated fraction of active nodes and total trips as days of data are accumulated normalized by the total number of recorded nodes and trips at the end of the observation period , the evolution of the accumulated graph density in time @xmath20 ( observed binary edges over total possible pairs of intersections ) is also reported .",
    "nodes are almost fully sampled within the first days analyzed , while edges are sampled sub - linearly in time . * ( c ) * quantile - quantile plot comparing the number of trips per day observed in the data set without outliers within two standard derivations of the mean ( @xmath21 of the data ) to the theoretical quantiles of a normal distribution and linear fit ( dashed line ) showing their proportionality ( similar results not shown obtained for number of edges and nodes respectively ) . ]    on a yearly scale , the distribution of trips per day @xmath22 is not statistically compatible to a gaussian distribution mainly due to seasonal effects , see fig .",
    "the effects of summer and winter holidays are apparent , and of hurricane irene that hit new york city towards the end of august , but if we disregard such outliers , corresponding to around @xmath23 of the data that lies further than two standard deviations away from the mean , the quantile - quantile plot shows acceptable agreement with a normal distribution , see fig .",
    "[ fig1]c .    to observe whether this strong regularity is also present in the finer structure of mobility",
    ", we must focus on each of the @xmath2 nodes and @xmath24 intersection pairs . yet",
    ", we must find a suitable scaling to the data : the accumulated observed strength ( both incoming and outgoing ) @xmath25 of each node and the weight @xmath26 of each intersection pair will increase as more and more data is gathered , but if we normalize their ( in or out ) strength and weight by the total number of observed trips in the period @xmath4 , a strong regularity is recovered as we show in the following .",
    "the quantities @xmath27 and @xmath28 , which quantify the _ relative importance _ of a given node and intersection pair compared to the overall network , @xmath29 are extremely stable as shown in table  [ table : node_stab ] .",
    "we have split our data set into @xmath30 equal time intervals ( on daily , weekly and four - week bases ) and computed the relative dispersion of the values accumulated over the entire data set @xmath31 around the measured values @xmath32 ,",
    "@xmath33 where @xmath34 is the time at the end of the full observation period and the averages are performed over all the time slices of length @xmath4 .",
    "the graph - average of @xmath35 is very close to zero and highly concentrated around this value for all the time windows considered ( with a standard deviation of @xmath36 in the worst case , decaying as sampling time is increased ) .",
    "[ fig2 ] shows the correlation between the relative error and the relative importance of nodes and links .",
    "the fact that @xmath37 , coupled with second order seasonality effects induces an uneven distribution of errors : an overestimation of some values in the collection @xmath38 will forcefully induce an underestimation in some other values of the collection . despite this issue",
    ", we can clearly see that the vast majority of the mass of relative errors is concentrated around zero ( see points in background for fig .",
    "[ fig2 ] ) .    to some extent",
    ", we would expect the node strength to be stable over time , since the number of trips received and generated at each location depends on parameters such as population density , number of points of interest present in a given location , etc .",
    "@xcite , whose evolution is given by much slower dynamics than the mobility process studied herein .",
    "but additionally , time stability is also observed at the trip level between intersections , yet in this case the analysis displays a higher variability around the mean  see fig .",
    "[ fig2]a and table  [ table : node_stab ] .",
    "this higher variability can be explained by the different sampling processes : while the percentage of active nodes becomes extremely stable already when just a very small number of days is considered ( fig .",
    "[ fig1]b ) , this is not the case for the total number of active edges , because sampling of edge - specific attributes requires to grow as @xmath39 to achieve a comparable level of accuracy .     ( a ) and node statistics @xmath40 ( b ) , @xmath41 ( c ) for different time slices and relative dispersion around the mean ( equation ) for the yearly aggregated data .",
    "error bars represent standard deviations on the log - binned data .",
    "raw data for the daily case is shown in the background . for visual clarity ,",
    "panel a ) only shows a random subsample of @xmath42 of the original points . ]",
    "the results on temporal stability indicate that any model aiming to reproduce human mobility at urban scales should consistently exhibit regularities as reported above .",
    "having seen that the mobility patterns are stable across time , an understanding of the main topological aspects of the aggregated static picture is further needed in order to be able to select the main features our methodology should aim to reproduce .",
    "the most relevant topological aspect of the mobility network is the highly skewed concentration of taxi pick - ups and drop - offs across the city , which gives rise to heavy - tailed node - strength distributions , fig .",
    "[ fig3]a ( other general metrics are reported in the methods section ) . therefore , to test whether this relevant property alone already captures the essential features of the mobility network , we must consider a null model which randomizes the considered network keeping constant the strength of each node the multi - edge configuration model ( see methods section or @xcite for more details ) .",
    "when comparing the null model with the data , we observe significant deviations showing the importance of certain places or nodes in the network .",
    "in other words , even the strong heterogeneity of the distribution of strengths can not account for the skewness of the weight distribution : additional factors add many more trips between some connections than there should be under random conditions . the empirical link weight distribution , blue line in fig .",
    "[ fig3]b , is more skewed than under a random allocation of trips ( configuration model ) , dashed line , and the connections at the node level show a clear assortative correlation instead of a flat profile , see fig .",
    "this occurs despite the fact that the average number of trips between the most busy locations can be characterized by the relation @xmath43 with a reasonable accuracy , see fig .",
    "[ fig3]c , coinciding with the configuration model .",
    "these insights indicate that the distribution of node strengths across the city has a strong influence on the topology of the network , and needs to be taken into account when modelled , but needs extra ingredients to fully account for the observed pattern of connections .    .",
    "* ( b ) * existing edge weight complementary cumulative distribution function compared with a configuration model @xcite and the supersampled model with @xmath44 . * ( c ) * weighted average neighbor out - strength @xmath45 as function of node out - strength ( similar results for incoming strengths not shown ) . * ( d ) * graph - average existing weight as a function of product of outgoing and incoming strengths of origin and destination for a single instance of the network .",
    "points represent mean values and error bars represent standard deviations computed using log - binning and distributions also shown using log - binning and ensemble results averaged over 100 repetitions of the two models . ]      a general maximum entropy based theory for model generation ( see @xcite for extended discussion and references ) allows us to efficiently exploit both the observed temporal stability features and the heterogeneous topological properties of the network to solve the _ supersampling _ problem at hand .",
    "it starts with the assumption that each intersection pair in the network is allocated a constant fraction @xmath46 of the total sampling ( equation ) . under this condition , and assuming that the mobility process is driven by some general constraints , such as population density or budget , it can be proved that for any desired level of sampling @xmath47 the statistics of trips for each pair of nodes can be well described by a set of @xmath24 independent poisson processes with mean @xmath48 , with @xmath49    following the theory , it would seem clear that from knowing the _ real _ values of the collection @xmath50 , _ supersampling _ a mobility data set would be a trivial operation of generating @xmath24 independent poisson processes using the provided proportionality rule .",
    "therefore , the problem now reduces to inferring the collection of values @xmath51 from an available data set .",
    "we shall assume that only one snapshot of the aggregated mobility network is available to this end ( thus assuming no temporal information is available on the trip data ) as is usually the case in mobility studies .",
    "the maximum likelihood estimation of such values corresponds to @xmath52 there is , however , a practical issue in this formula related with the normalization condition for the random variables @xmath51 and the presence of empty intersection pairs in the available observed data . for such intersections , using the formulas above , we have that @xmath53 , whereas their _ real _ @xmath54 value is unknown but fulfils @xmath55 $ ] .",
    "since by definition both collections @xmath51 and @xmath56 need to be normalized , and denoting the set of active edges as @xmath57 , we have , @xmath58 from which we see that @xmath59 .    hence , in general we can not consider the empirically observed probabilities @xmath28 as a good proxy for the _ real _ values of @xmath46 unless the number of empty intersection pairs is very reduced .",
    "given that the percentage of active edges ( pairs of nodes for which @xmath60 ) is a very slowly increasing function of the sampling , see fig .",
    "[ fig1]b , inferring directly the set of probabilities @xmath61 empirically would take an enormous data set  note that even with over a year of data only roughly @xmath62 of edges are covered .",
    "for the reasons given above , a simple proportionality rule using equation is not a good _ supersampling _ strategy , specially for skewed and sparse data sets .",
    "based on the previous discussion , we now present the methodology for _ supersampling _ an urban mobility data set that consists in inferring the collection of @xmath38 values from a set of aggregated empirical trips @xmath63 .",
    "we should do so bearing in mind that despite the maximum likelihood formula in equation can not be directly used for the empty intersection pairs in the data , it does perform well for non - empty intersections ( see fig .",
    "[ fig2 ] ) .",
    "the maximum entropy based framework naturally allows such a procedure , since it can combine any constraint driven model with the rich information encoded in the trip sample .",
    "we propose a method to predict trips based on the theory mentioned earlier : taking the @xmath24 intersection pairs ( being them active edges in the data set or not ) , we split them into two parts , the subgroup of _ trusted _ trips defined as @xmath64 and its complementary part @xmath65 .",
    "the value @xmath66 is a threshold modelling a minimal statistical accuracy that depends on the amount of data available , and which may be set to 1 in practical applications .",
    "we keep the proportionality rule @xmath67 for the _ trusted _ trips , while for the remaining trips we apply a doubly constrained exponential gravity model other maximum entropy models @xcite could also perform well as long as they preserve the outgoing and incoming strength . in other words , we generate a collection of @xmath50 values , @xmath68 the values @xmath69 and @xmath70 are the @xmath71 lagrange multipliers satisfying the following equations @xmath72 where @xmath73 is the total euclidean distance of the observed trips ( @xmath74 stands for the distance between intersections @xmath7 and @xmath75 ) .",
    "note that , by construction , the values are properly normalized , i.e. , @xmath76 .",
    "the model presented earlier needs to deal with the issue of inactive nodes that do not appear in the original data due to poor sampling , i.e. , nodes for which @xmath77 either incoming or outgoing for some observation period @xmath4 . this issue has a minor impact in our case due to the previously observed rapid coverage of the number of active nodes ( the number of inactive nodes is negligible after accumulating very few days of data , see fig .",
    "[ fig1]b ) . in any case",
    ", it can be solved easily : given that the geographic positions of the nodes are available , we could always artificially assign a certain relative strength to the nodes not present in the data using complementary call detail records@xcite , census data or points of interests ( poi ) data , or assign them some values according to a chosen distribution depending on the data at hand . for simplicity , in our case",
    "we have chosen to keep only the nodes present in the original data .      to test the _ supersampling _ methodology ,",
    "we have proceeded to select a timespan of our data set corresponding to an observation period of @xmath78 month ( february 2011 ) from which we further randomly sub - sample different fractions @xmath79 used as training sets to compute @xmath50 applying equations and .",
    "we then reconstruct the od using the proportionality rule @xmath80 for both the complete and reduced data set , @xmath81 and @xmath82 .",
    "finally , we compare the model predictions with the set of empirically observed trips in these periods .    in order to do so",
    ", we need to introduce metrics to quantify the resemblance between model predictions and actual recorded values .",
    "commonly used indicators are the sorensen - dice common part of commuters ( cpc ) value @xcite or the linear fit of @xmath83 vs @xmath0 @xcite",
    ". however , the skewness of the observed trip distribution represents a challenge to these indicators : the variability of low - valued trips induces notable instabilities on both and being single numbers , they are only able to provide a limited picture on the precision of a given model to reproduce empirical results .    to overcome these issues , we propose a slight modification to both the sorensen cpc index and the coefficient of determination @xmath84 from the fit @xmath83 vs @xmath0 ( see methods ) and we additionally propose the introduction of a number of network metrics to precisely assess the quality of the models used in human mobility at the topological , finer , scale : the unweighted degrees of the nodes @xmath85 , the weighted neighbor strength correlation @xmath86 , existing trip distribution @xmath87 and number of existing trips as a function of the origin destination strength product @xmath88 .",
    ".parameters for the validation of the methodology .",
    "see details on each indicator in the main text and in the methods section .",
    "the number of _ trusted _ trips fed to the model relative to the entire number of generated trips @xmath89 is reported in column 3 .",
    "the _ supersampled _ models with different fractions @xmath79 are only generated using subsamples of the training set ( 1 month observation period ) .",
    "_ empirical _ stands for the model generated using the empirical probabilities @xmath28 ( equation ) of the full data set and _ configuration _ stands for the multi - edge configuration model applied to the full data set . [ cols=\"^,^,^,^,^,^,^,^ \" , ]    * * linear correlation @xmath83 vs @xmath0 * : this method is widely used @xcite .",
    "we report the coefficient of determination @xmath90 in all tables , based on the comparison between real data and conditional values of the model on the existing edges ( since we are using a biased statistic based only on the observed trips in the original data , not the entire set of intersection pairs ) .",
    "with poisson distributed variables with mean @xmath91 , such conditioned average reads , @xmath92 which converges to the average value for highly used trips . hence , the coefficient of determination @xmath90 assuming an identity relation @xmath93 is explicitly , @xmath94    [ [ network - measures ] ] network measures + + + + + + + + + + + + + + + +    to better grasp the quality of the models , we propose to compare also some of its multi - edge network related quantities :    * * degree : * the unweighted degree of the nodes is the sum of their incoming / outgoing active edges ( edges for which @xmath95 ) , @xmath96 being @xmath97 the total number of active edges and @xmath11 referring to the outgoing @xmath7 or incoming direction @xmath75 . * * average weighted neighbor strength : * this metric is widely used in the literature .",
    "it indicates the level of correlations at the node level and is defined as @xmath98 , where @xmath99 is the complementary of @xmath11 ( if @xmath100 then @xmath101 and vice versa ) . * * distribution of weights on existing edges : * this commonly used measure is computed as @xmath102 and indicates the collection of weight values present in the network , where @xmath103 corresponds to the kroenecker delta . * * graph average existing weight of trips as a function of product of incoming and outgoing degree * : to quantify the deviation from a completely randomized configuration model , we compute also this metric , which is the average weight of existing trips as a function of the product of out(in ) strengths of their origin ( destination ) nodes : @xmath104 , where @xmath105 is the cardinality of the sum . for the configuration case ,",
    "this magnitude is equivalent to @xmath106 .    [ [ information - values ] ] information values + + + + + + + + + + + + + + + + + +    we also assess the quality of our models using their log - likelihood values assuming a set of independent poisson random variables with known means @xmath91 for each intersection pair , @xmath107 incompatible loglikelihood values are not reported in tables ( such as cases where @xmath108 or @xmath109 ) .",
    "all the simulations and solving of saddle point equations as well as the analysis of the multi - edge networks have been performed using the freely available , open source package origin - destination multi - edge analysis ( odme)@xcite .",
    "we thank p. colomer - de - simon for useful comments and suggestions .",
    "spieser k , treleaven k , zhang r , frazzoli e , morton d , pavone m. towards a systematic approach to the design and evaluation of automated mobility - on - demand systems : a case study in singapore .",
    "road vehicle automation .",
    "2014;p . 229245 ."
  ],
  "abstract_text": [
    "<S> understanding human mobility is of vital importance for urban planning , epidemiology , and many other fields that draw policies from the activities of humans in space . despite the recent availability of large - scale data sets of gps traces or mobile phone records capturing human mobility , typically only a subsample of the population of interest </S>",
    "<S> is represented , giving a possibly incomplete picture of the entire system under study . </S>",
    "<S> methods to reliably extract mobility information from such reduced data and to assess their sampling biases are lacking . to that end , we analyzed a data set of millions of taxi movements in new york city . </S>",
    "<S> we first show that , once they are appropriately transformed , mobility patterns are highly stable over long time scales . based on this observation , we develop a _ supersampling _ methodology to reliably extrapolate mobility records from a reduced sample based on an entropy maximization procedure , and we propose a number of network - based metrics to assess the accuracy of the predicted vehicle flows . </S>",
    "<S> our approach provides a well founded way to exploit temporal patterns to save effort in recording mobility data , and opens the possibility to scale up data from limited records when information on the full system is required . </S>"
  ]
}