{
  "article_text": [
    "to the current arrangement of traffic shapers and a scheduler in the access switch shown in fig.@xmath0[fg : isp_traffic_control ] , both subscribers and internet service providers ( isps ) in shared access networks ( e.g. , cable internet or ethernet passive optical network ( epon ) ) can not exploit the benefits of full sharing of resources available in the network ; the capability of allocating available bandwidth by the scheduler ( e.g. , weighted fair queueing ( wfq ) ) is limited to traffic already shaped by token bucket filters ( tbfs ) per service contracts with subscribers @xcite .",
    "we recently proposed isp traffic control schemes based on core - stateless fair queueing ( csfq ) @xcite and token bucket meters ( tbms ) to allocate excess bandwidth among active subscribers in a fair and efficient way , while not compromising the service contracts specified by the original tbf for conformant subscribers @xcite . through the use of a common first in , first out ( fifo ) queue for both conformant and non - conformant packets",
    ", the proposed traffic control schemes can preserve packet sequence ; handling conformant and non - conformant packets differently at their arrivals , they give priority to the former , while allocating excess bandwidth to the latter proportional to their token generation rates . in this way , the proposed traffic control schemes address the critical issue in traffic shaping based on the original tbf that the excess bandwidth , resulting from the inactivity of some subscribers , can not be allocated to other active subscribers in the long term .    the csfq - based schemes do not change negotiated token bucket parameters during their operations unlike modified token bucket algorithms ( e.g. , @xcite ) based on the modification of tbf algorithm itself and/or the change of its negotiated parameters during the operation , which may compromise the quality of service ( qos ) of conformant traffic as a result .",
    "the use of a common fifo queue in the csfq - based schemes , however , degrades the short - term performance of conformant traffic due to the presence of non - conformant packets already in the queue .",
    "also , the rate estimation based on exponential averaging makes it difficult to quickly react to rapid changes in traffic conditions .",
    "these may compromise the quality of service ( qos ) for conformant traffic in the short term compared to that under the original tbf , especially for highly bursty traffic like that of transmission control protocol ( tcp ) .    to address the issues resulting from the use of common fifo queue and rate estimation based on exponential averaging in the csfq - based schemes",
    ", we propose a new isp traffic control scheme based on deficit round - robin ( drr ) @xcite , which ideally combines the advantages of both the original tbf ( i.e. , passing short , bursty conformant traffic without shaping ) and the weighted fair queueing ( wfq ) ( i.e. , allocating excess bandwidth among active flows proportional to their weights ) .",
    "the proposed isp traffic control scheme is to meet the following requirements in allocating excess bandwidth @xcite : the allocation of excess bandwidth should not compromise the qos of traffic conformant to service contracts based on the _ original token bucket _ algorithm ; excess bandwidth should be allocated among active subscribers proportional to their negotiated long - term average rates , i.e. , token generation rates .",
    "the first requirement implies that conformant packets should have priority over non - conformant ones in queueing and scheduling .",
    "the second requirement can be stated formally as follows @xcite : let @xmath1 and @xmath2 be _ excess bandwidth _ and _ _ \\{__total arrival rate of non - conformant packets } at time @xmath3 for a shared access network with @xmath4 subscribers , i.e. , @xmath5 and @xmath6 , where @xmath7 is the capacity of the access link , @xmath8 the arrival rate of conformant packets for all subscribers , and @xmath9 the arrival rate of non - conformant packets for the @xmath10th subscriber , respectively . if @xmath11 , the _ normalized _ fair rate @xmath12 is a unique solution to @xmath13 where @xmath14 is the weight for the @xmath10th subscriber , which is proportional to the token generation rate ; otherwise , @xmath12 is set to @xmath15 @xcite .",
    "fig.@xmath0[fg : isp_traffic_control_schemes ] shows two isp traffic control schemes enabling proportional allocation of excess bandwidth , i.e. , the csfq - based scheme @xcite and the proposed drr - based one . unlike the csfq - based scheme , the proposed scheme  as it is based on drr  uses per - subscriber queues , which separate traffic from different subscribers . also , unlike the drr - based reference scheme described in @xcite , the proposed scheme can preserve packet sequence , while giving priority to conformant packets , through managing logically separate queues per flow belonging to the same subscriber , i.e. , one for conformant and the other for non - conformant packets within a physical per - subscriber queue .",
    "algorithms@xmath0[alg : enqueueing ] and",
    "[ alg : dequeueing ] show pseudocode of enqueueing and dequeueing procedures of the proposed scheme , where @xmath16 , @xmath17 , @xmath18 and @xmath19 are deficit , conformant byte , non - conformant byte counters and quantum for the @xmath10th subscriber , respectively . @xmath20 and @xmath21 are lists of active queues having conformant and non - conformant packets .",
    "the two additional counters ( i.e. , @xmath17 and @xmath18 ) are used to keep track of the number of bytes for conformant and non - conformant packets in a queue , which function as _ logically separate _",
    "queues within a common per - subscriber queue for sequence preserving ; to give priority to conformant packets in queueing , when a newly arrived conformant packet is to be discarded due to buffer overflow , @xmath18 is decreased instead , while @xmath17 is increased , which emulates preemptive queueing .",
    "+ ( a ) +   + ( b )    likewise , the two lists of active queues are used to give conformant packets priority in scheduling by checking @xmath20 first during the dequeueing procedure ; as described in algorithm@xmath0[alg : dequeueing ] , conformant packets are first scheduled in a round - robin manner ( i.e. , without taking into account deficit counters ) , while non - conformant packets , after serving all conformant packets in the queues , are scheduled based on drr for proportional allocation of excess bandwidth .    * on receiving * a packet @xmath22 for the @xmath10th subscriber : @xmath23 @xmath24 @xmath25    * on receiving * a packet when all queues are empty or at the end of packet transmission :    note that the proposed scheme does not use the rate estimation based on exponential averaging that makes it difficult for the csfq - based scheme to react promptly to rapid changes in traffic conditions and interact with tcp flows . also note that the proposed drr - based scheme , whose complexity is @xmath26 , has an advantage in complexity over the csfq - based scheme which corresponds to the extreme case of csfq islands , i.e. , the node itself is an island , where both the functionalities of edge and core routers of csfq reside in the same node .",
    "we compared the proposed scheme with the original tbf and the csfq - based one with buffer - based amendment using the simulation model described in @xcite , which is shown in fig.@xmath0[fg : simulation_model ] .",
    "we model the ( optical ) distribution network ( ( o)dn ) using a virtual local area network ( vlan)-aware ethernet switch . to identify each subscriber ,",
    "we assign a unique vlan identifier ( vid ) ; the egress classification in the access switch is based on vids and the classified downstream flows go through the isp traffic control scheme as shown in fig.@xmath0[fg : isp_traffic_control_schemes ] .",
    "subscribers are connected through 100-mb / s user - network interfaces ( unis ) to shared access with the same feeder and distribution rates of 100-mb / s , each of which receives packet streams from udp or tcp sources in the application server .",
    "the backbone rate ( i.e. , @xmath27 ) and the end - to - end round - trip time are set to 10 gb / s and 10 ms . for details of the simulation models and their implementation",
    ", readers are referred to @xcite .    in the first experiment ,",
    "16 subscribers are divided into 4 groups , 4 subscribers per each for direct comparison with the results in @xcite:[fg : isp_traffic_control ] ) .",
    "it bears note in this regard that 16 subscribers are not much different from those for the deployment of current - generation time division multiplexing ( tdm)-pons ; for instance , the maximum allowable subscribers per pon in epon and gigabit pon ( gpon ) are 32,768 and 128 , respectively , but actual numbers are around 16 and 32 , respectively , due to optical budget in the odns and the average bandwidth per subscriber . ] for groups 1 - 3 , each subscriber receives a 1000-byte packet from a udp source at every 0.5 ms , resulting in the rate of 16 mb / s .",
    "token generation rates are set to 2.5 mb / s , 5 mb / s , and 7.5 mb / s for groups 1 , 2 , and 3 , respectively .",
    "their starting times are set to 0 s , 60 s , 120 s. for group 4 , each subscriber receives packets from a greedy tcp source with token generation rate of 10 mb / s and starting time of 180 s. token bucket size is set to 1 mb for all subscribers , and peak rate control is not used .",
    "the size of per - subscriber queues for both the original tbf ( denoted as `` rr+tbf '' ) and the proposed scheme ( `` proposed '' ) is set to 1 mb ( 16 mb in total ) .",
    "for csfq - based scheme ( `` csfq+tbm '' ) , the size of common fifo queue is set to 16 mb to cope with worst - case bursts resulting from 16 token buckets .",
    "the averaging constants for the estimation of flow rates ( @xmath28 ) and the normalized fair rate ( @xmath29 ) are set to 100 ms and 200 ms , respectively ; as for the buffer - based amendment , we set a threshold to 64 kb .",
    "fig.@xmath0[fg : thruput_time_mixed ] shows flow throughput averaged over a 1-s interval from one sample run , demonstrating how quickly each scheme can respond to the changes in incoming traffic and allocate excess bandwidth accordingly .",
    "as expected , the original tbf scheme can not allocate excess bandwidth to active subscribers except for short periods of time around 60 s , 120 s and 180 s enabled by tokens in the buckets .",
    "the csfq - based and the proposed schemes , on the other hand , can allocate well excess bandwidth among udp flows until 180 s when tcp flows start ; of the two , the proposed scheme provides much better performance in terms of fluctuation . due to 1-mb token buckets",
    ", there are spikes in the throughput of newly started flows at 60 s and 120 s , during which the throughput of existing flows decreases temporarily .",
    "as tcp flows start at 180 s , the difference between the csfq - based and the proposed schemes become even clearer : as for the csfq - based scheme , the buffer - based amendment reduces the transient period , but at the expense of fluctuations in steady states . with the proposed scheme",
    ", there is virtually no fluctuation in tcp flow throughputs as well , but there is small increase in tcp throughput which lasts from 180 s to 197 s due to 1-mb token buckets , which is also the case for the original tbf .",
    "[ fg : thruput_avg ] shows the average throughput of flows for two 40-s periods  i.e. , a subperiod ( 60 s ) minus a transient period ( 20 s )  with 95 percent confidence intervals from 10 repetitions , demonstrating static performance of each scheme ( i.e. , _ how exactly _ it can allocate available bandwidth among subscribers per the requirements described in sec .",
    "[ sec-2 ] in a steady state ) .",
    "as shown in fig.@xmath0[fg : thruput_avg ] ( a ) , the csfq - based scheme suffers from the fluctuations observed in fig.@xmath0[fg : thruput_time_mixed ] , while the proposed scheme allocates excess bandwidth from group 4 , which is inactive during this period , exactly per ( [ eq : fair_rate ] ) .",
    "fig.@xmath0[fg : thruput_avg ] ( b ) shows that with tcp flows , the difference between the actual throughput of a flow and its fair share  indicated by dotted lines  become larger for the csfq - based scheme ; note that during this period , because there is no excess bandwidth available , each flow should be allocated bandwidth per its token generation rate , which is why the original tbf scheme shows as good performance as the proposed one . to check the scalability of the proposed scheme , we also ran simulations for a system with 1-gb / s access link and 160 subscribers ( each of 4 groups has 40 subscribers instead of 10 ) and obtained results nearly similar to those shown in figs.@xmath0[fg : thruput_time_mixed ] and [ fg : thruput_avg ] .",
    "and ( b ) @xmath30.,title=\"fig : \" ] + ( a ) +   and ( b ) @xmath30.,title=\"fig : \" ] + ( b )    to investigate transient responses of each scheme in shorter time scale , we also carried out another experiment where we consider 4 subscribers with token generation rate of 10 mb / s and token bucket size of 10 mb ; subscriber 1 receives a 10-mb conformant burst from the application server , while subscribers 2 - 4 receive non - conformant udp traffic with source rate of 50 mb / s .",
    "the flow throughput is averaged over a 10ms - interval to better show the details .",
    "fig.@xmath0[fg : thruput_time_onoff ] illustrates the flow throughput before , during , and after the conformant burst for all three traffic control schemes , where we can clearly see that the proposed scheme provides the advantages of both the original tbf ( i.e. , passing the conformant burst without shaping and thereby any additional delay ) and the wfq ( i.e. , proportional allocation of excess bandwidth among active subscribers ) . in case of the csfq - based scheme ,",
    "however , the beginning of the burst is delayed by 1.11 s due to the presence of non - conformant packets already in the fifo queue . during the burst ,",
    "the allocation of bandwidth is quite distorted ( i.e. , subscriber 1 takes all the bandwidth ) because the csfq - based scheme can not respond quickly enough for traffic changes in such a short period of time .",
    "there is also delay after the burst in recovering the fair share of each subscriber .",
    "we have proposed a new drr - based isp traffic control scheme providing the advantages of both tbf and wfq .",
    "simulation results have demonstrated that the proposed scheme can guarantee the qos of conformant packets in all time scales while allocating excess bandwidth among active subscribers proportional to their token generation rates .",
    "also , unlike the csfq - based schemes , the proposed traffic control scheme does not have many design parameters affecting the performance of traffic control .",
    "now that we have an isp traffic control scheme which can allocate excess bandwidth among active subscribers in the long term while not compromising the qos of conformant traffic in the short term , it is time to investigate the business aspect of isp traffic control exploiting the excess bandwidth allocation as outlined in @xcite ; if we develop and implement isp traffic control schemes enabling excess bandwidth allocation and flexible service plans exploiting it , we could better meet user demand for bandwidth and qos even with the existing network infrastructure and save cost and energy for major network upgrade .",
    "i.  stoica , s.  shenker , and h.  zhang , `` core - stateless fair queueing : a scalable architecture to approximate fair bandwidth allocations in high - speed networks , '' _ ieee / acm trans .",
    "_ , vol .  11 , no .  1 , pp . 3346 , feb . 2003 .",
    "d.  abendroth , m.  e. eckel , and u.  killat , `` solving the trade - off between fairness and throughput : token bucket and leaky bucket - based weighted fair queueing schedulers , '' _ aeu - international journal of electronics and communications _ , vol .",
    "60 , no .  5 ,",
    "404407 , 2006 ."
  ],
  "abstract_text": [
    "<S> in shared access shaping subscriber traffic based on token bucket by isps wastes network resources when there are few active subscribers , because it can not allocate excess bandwidth in the long term . to address it , traffic control schemes based on core - stateless fair queueing ( csfq ) and token bucket meters ( tbms ) have been proposed , which can allocate excess bandwidth among active subscribers proportional to their token generation rates . using fifo queue for all packets , however , degrades the short - term performance of conformant traffic due to the presence of non - conformant packets already in the queue . </S>",
    "<S> also , the rate estimation based on exponential averaging makes it difficult to react to rapid changes in traffic conditions . in this paper </S>",
    "<S> we propose a new traffic control scheme based on deficit round - robin ( drr ) and tbms to guarantee the quality of service of conformant packets in all time scales while allocating excess bandwidth among active subscribers proportional to their token generation rates , whose advantages over the csfq - based schemes are demonstrated through simulation results .    </S>",
    "<S> access , internet service provider ( isp ) , traffic shaping , fair queueing , deficit round - robin ( drr ) , quality of service ( qos ) . </S>"
  ]
}