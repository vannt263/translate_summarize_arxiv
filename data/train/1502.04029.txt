{
  "article_text": [
    "the hierarchical data system ( hds ) was created by the starlink project in the united kingdom in the early 1980s @xcite .",
    "the requirements were to have a file format that was optimized for data processing applications : allowing for efficient access of data arrays through memory mapping , grouping of related data structures in a hierarchy to make it easy to move data _ en masse _ from one location to another , and easy modification of data and structures . at the time",
    "fits was mainly thought of as a transport format distributed on tape @xcite , and the ncsa hierarchical data format would not be developed until the end of the decade @xcite .",
    "it was therefore decided to develop a new file format from scratch . initially called the starlink data system before being rebranded as hds , the first version of the library was written in bliss-32 before being ported to c on vax / vms in the late 1980s @xcite .",
    "hds succeeded in its goal of forming the basis of the starlink data reduction software packages ( http://www.ascl.net/1110.012[ascl:1110.012 ] ) and was and is being used at uk observatories for data acquisition and for data reduction pipelines .",
    "its presence was pervasive within the starlink software stack , being used for parameter storage in the adam system @xcite and in a graphics database system @xcite in addition to storing astronomy data and forming the basis of the starlink _",
    "n_-dimensional data format library ( ndf ; * ? ? ?",
    "* http://www.ascl.net/1411.023[ascl:1411.023 ] ) .",
    "there was very little take up of the format outside the uk community ( but see e.g. , * ? ? ? * ) and as fits came to be used as a data processing format as well as a transport and archive format , hds has become a niche product .",
    "hdf5 is a popular file format in other scientific disciplines and is used in fields such as earth science ( e.g. , * ? ? ?",
    "* ) , biology ( e.g. , * ? ? ?",
    "* ) , nuclear physics ( e.g. , * ? ? ?",
    "* ) , and molecular simulations ( e.g. , * ? ? ?",
    "the astronomy community is currently discussing the wider issues of file formats beyond fits @xcite and hdf5 is being adopted ( e.g. , * ? ? ? * ) or investigated ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ) in a number of astronomy projects",
    ".    given this context it is therefore worth investigating whether there should be a new version of hds that is based on hdf5 .",
    "in this paper we compare the hds and hdf5 data models , discuss the motivations for such a change , and describe an implementation .",
    "there are a number of key motivators for migrating from the current hds format to a more widely - recognized format :    1 .",
    "opaque implementation details of the library and format with no resident expert or associated documentation .",
    "2 .   lack of support for 64-bit dimensions sizing .",
    "hds has no provision for transparent data compression .",
    "hds has no native support for tables .",
    "sociological impediment to adopting a niche format in the wider astronomy community .",
    "we will discuss each of these in turn .",
    "the starlink project was closed in 2005 after 25 years of operation .",
    "the starlink software collection continues to be developed as an open - source project sponsored by the joint astronomy centre to continue support for their data reduction pipelines .",
    "unfortunately none of the remaining developers understand the implementation details and there is no incentive for anyone to learn given other development priorities .",
    "the most recent description of the internals of the hds file format is in @xcite which documents version 2 of the format .",
    "version 3 ( from the port to unix in 1991 ) and version 4 ( in 2005 to support files larger than 2 gb ) remain undocumented , outside of extensive comments in the code itself , with an assumption that the design closely matches the original layout . for a data format that is used as an archive format ( see e.g. , * ? ? ?",
    "* ) this lack of documentation and understanding represents a risk for long - term access to the data .",
    "the hds library does not currently support 64-bit dimension sizes .",
    "this was partially implemented for version 4 of the format but was never completed .",
    "it is not clear how much work it would be to finish this work or whether anyone remaining can do so . as data rates increase it is clear that the next generation of heterodyne arrays ( e.g. , * ? ? ? * ) will generate data cubes that exceed the capacity of a 32-bit integer counter and these files will render the starlink software and associated data pipelines unusable without hds being upgraded",
    ". adding 64-bit support to hds is a necessary but not sufficient step towards the applications supporting larger datasets , and most libraries and applications in starlink will need to be updated to support 64-bit counters .",
    "hds is the fundamental building block that has to be converted first , providing new apis to allow both 32-bit and 64-bit application code to co - exist .",
    "hdf5 supports transparent data compression of datasets using a number of algorithms in addition to supporting a pluggable architecture .",
    "hds does not support any data compression and relies on the facilities of the ndf library to provide these .",
    "ndf can support gzipped data files , requiring a temporary file , as well as fits - style ` bscale`/`bzero ` and a delta compression scheme natively .",
    "leveraging the hdf5 compression algorithms would be a very easy way to improve the data compression performance in ndf .",
    "unlike fits or hdf5 , hds does not have a native table data structure .",
    "tables must be implemented as a collection of independent columns and this can be extremely inefficient for row access .",
    "switching data formats would make it possible to add a native table access api to hds .",
    "one of the impediments to adoption of the ndf data model is that the reference library implementation uses hds as the underlying file format . whilst the ndf data model itself does not require hds and",
    "could be implemented by anyone with sufficient effort available , to adopt ndf currently requires that users adopt hds .",
    "adopting hdf5 would considerably lower the barrier to entry for people more comfortable in the hdf5 world or who are considering switching from another format , and make data files accessible to tools such as ` hdfview ` and ` h5py ` .",
    "of course , none of these tools will understand the ndf data model that defines the hierarchical grouping but it makes it easier for other tools to adopt some of the same conventions .",
    "similarly , the starlink file format conversion tools @xcite would be able to import formats such as fits to hdf5 and this infrastructure may prove to be useful for people who are themselves switching to hdf5 .",
    "how hds is used depends on a data model and the data access model . both of these are important when considering a change in implementation .      [ cols=\"<,<,<,<\",options=\"header \" , ]",
    "a new hdf5-based implementation of the hds programming interface has been written which allows the starlink software collection to be moved to a more widely - used file format .",
    "all but a handful of the approximately 150 hds api functions have been implemented , with the remaining few being the routines that query low level implementation details .",
    "the hdsv5  library consists of approximately 10000 lines of c with another 5000 lines of c for the implementation of the wrapper ( many of those lines are generated automatically ) . for comparison ,",
    "the hdsv4  library consisted of about 18000 lines of c and hdf5 itself consists of about 120000 lines of c.    it has been shown that the library performs as well as the hdsv4implementation in most tests involving reasonably - sized datasets and opens up the possibility for starlink data products to be more easily consumed by others without requiring a format conversion .",
    "a native python interface to the hds library does exist but it is far easier to convince prospective consumers of the data files to use something such as ` h5py ` ( e.g. , * ? ? ?",
    "* ) to read the data , albeit with a different view of the data models .",
    "furthermore , these files would be readable by general hdf5 visualization tools .    the starlink open - source community must now decide whether to pursue this work and integrate it into the starlink software distribution .",
    "it is possible that the project will decide to stick with hdsv4  and attempt to update the library to support 64-bit dimension sizes .",
    "this is a reasonable course of action to take , with an uncertain effort requirement , although it does not solve the issues relating to lack of documentation and sociological barrier to adoption of the starlink software .",
    "furthermore , if the new implementation is adopted , serious consideration must be made as to whether the approximately 4 million hds files in the jcmt science archive @xcite should be converted to hdf5 .",
    "there is a risk involved for the archive in terms of the cost of keeping the old versions around and whether the conversion has been done correctly .",
    "the benefit will be that the raw data archive will immediately become more accessible to the general astronomer .",
    "this work also provides an alternative approach to porting fits files to hdf5 format ( see e.g. , * ? ? ?",
    "* for other options ) .",
    "the starlink convert package @xcite has received significant development effort over the years to map fits to a hierarchical data model .",
    "it will be interesting to see whether the community can agree on a standard model for fits to hdf5 conversion .",
    "now that a functioning prototype exists and has been proven to work acceptably , we must consider the possibility of expanding the hds api to take advantage of hdf5 features .",
    "in particular compound datatypes provide the prospect of native table access ( the import of fits binary tables would benefit significantly from this ) , an updated slicing api could provide access to hyperslabs , and the ability to specify chunking size and the maximum expected size of a dataset could result in significant efficiency benefits , albeit at the expense of memory mapping",
    ". it may be possible to consider allowing the hds and hdf5 apis to be used simultaneously on a single file .",
    "this has many attractions and provides a simple path to enhancing native applications .",
    "it also would mean it would be impossible to switch hds from hdf5 to another format in the future .",
    "if the advanced scientific data format ( asdf ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) were to suddenly become popular in astronomy it would be conceivable to investigate a port of the hds api to asdf . if hdf5 identifiers had been used natively in the code this would be a significantly more complicated task .",
    "this is somewhat similar to the problems that are faced in porting ndf to other formats .",
    "the ndf standard @xcite was specifically designed with an `` airlock '' api that allowed the user to obtain an hds locator to extensions . this flexibility was important in early adoption and provided an easy way for extensions to be implemented .",
    "it also meant that any attempt to switch ndf absolutely required that the hds api was itself ported , otherwise all the extensions in use would be unreadable .",
    "indeed one key motivation for this work is that it brings ndf along to hdf5 without any ndf code or applications that use extensions having to be modified .",
    "this research has made use of nasa s astrophysics data system .",
    "the starlink software is an open - source project that is maintained by the joint astronomy centre , hawaii @xcite .",
    "i thank peter draper and david berry for testing development releases of the new library .",
    "i thank david berry , danny price , rodney warren - smith and mark taylor for comments on the draft manuscript .",
    "i thank the two referees for their comments on the paper and also their comments on how to improve the library .",
    "48 natexlab#1#1[1]`#1 ` [ 2]#2 [ 1]#1 [ 1]http://dx.doi.org/#1 [ ] [ 1]pmid:#1 [ ] [ 2]#2 , et  al . , . ,",
    "in : , , ( eds . ) , , volume of _ _ . p. . , . , in : , ,",
    "( eds . ) , , volume   of _ _ .",
    ", , , , . .",
    "starlink project .",
    ", , , , , . , in : , ( eds . ) , , volume of _ _ .",
    "bell , g.  s. et  al . , .",
    ", in : , ( eds . ) , , volume of _ _ .",
    ", d. et  al . , .",
    ", in : , ( eds . ) , , volume of _ _ .",
    ", , , . . ,",
    "starlink project . , . . .",
    "starlink project .",
    "starlink project .",
    ", , , , , , .",
    ", in : , ( eds . ) , , volume of _ _ .",
    ", , , , , . .",
    "starlink project .",
    "starlink project .",
    ", , , , , , , , . . ,",
    ", , , , . , in : ,",
    ", ( eds . ) , , volume of _ _ . p. .",
    "starlink project .",
    "space telescope science institute .",
    "http://asdf - standard.readthedocs.org / en / latest/. , , . . .",
    "starlink project .",
    "economou , f. et  al .",
    ", http://arxiv.org/abs/1412.4399[arxiv:1412.4399 ] . , .",
    ", , , . , in : ( ed . ) , ,",
    "volume of _ _ .",
    ", , , , . . ,",
    ", et  al . , . .",
    ". , http://arxiv.org/abs/1410.7513[arxiv:1410.7513 ] . , , .",
    ", in : gajadhar , s. et  al .",
    "( eds . ) , , p.  .",
    "http://arxiv.org/abs/1111.5855[arxiv:1111.5855 ] .",
    ", http://arxiv.org/abs/1410.7509[arxiv:1410.7509 ] .",
    "jenness , t. et  al . , . , in : , ( eds . ) , , volume of _ _",
    ", http://arxiv.org/abs/1406.1515[arxiv:1406.1515 ] .",
    "national center for supercomputing applications , university of illinois at urbana - champaign . , . .",
    "starlink project . , . .",
    ", , , , , , , . , in : , ( eds . ) , , volume of _ _ http://arxiv.org/abs/1411.0996[arxiv:1411.0996 ] .",
    ", , , , . . ,",
    ". . , , , . , in : , ( eds . ) , , volume of _ _",
    "http://arxiv.org/abs/1410.8788[arxiv:1410.8788 ] .",
    ", , , , . .",
    "starlink project .",
    "starlink project . , , .",
    ", in : , p. .",
    ", , , , , . , in : , ( eds . ) , , volume of _ _ .",
    "http://arxiv.org/abs/1410.8788[arxiv:1410.8788 ] . , .",
    ", in : , , ( eds . ) , , volume   of _ _ .",
    "starlink project .",
    ", et  al . , . .",
    "http://arxiv.org/abs/1502.00996[arxiv:1502.00996 ] .",
    ", , , . . ,",
    ", , , . , in : , p. ."
  ],
  "abstract_text": [
    "<S> the starlink hierarchical data system has been a very successful niche astronomy file format and library for over 30 years . </S>",
    "<S> development of the library was frozen ten years ago when funding for starlink was stopped and almost no - one remains who understands the implementation details . to ensure the long - term sustainability of the starlink application software and to make the extensible n - dimensional data format accessible to a broader range of users , we propose to re - implement the hds library application interface as a layer on top of the hierarchical data format version 5 . </S>",
    "<S> we present an overview of the new implementation of version 5 of the hds file format and describe differences between the expectations of the hds and hdf5 library interfaces . </S>",
    "<S> we finish by comparing the old and new hds implementations by looking at a comparison of file sizes and by comparing performance benchmarks .    </S>",
    "<S> data formats , starlink , </S>"
  ]
}