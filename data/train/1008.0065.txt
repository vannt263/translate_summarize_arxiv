{
  "article_text": [
    "crowd dynamics is the object of a comprehensive body of literature , from classic broad treatises covering general topics  @xcite to more specific applications , ranging from psycho - dynamical models  @xcite and control issues  @xcite to panic scenarios  @xcite . likewise ,",
    "several in - depth reviews discuss computational models of pedestrian dynamics  @xcite , ranging from lattice - gas models  @xcite to molecular - dynamics - based simulation schemes such as the behavioral ( or social ) force model  @xcite and cellular automata methods  @xcite .",
    "+ it is the purpose of the present paper to introduce a novel model of crowd dynamics , based on a simple monte carlo ( mc ) scheme of hard disks dynamics .",
    "our aim is two - fold : one the one side , we wish to outline the essentials of an original modeling strategy , that has never been considered so far to our knowledge . the simple philosophy behind our model can be effortlessly extended and adapted to many different scenarios , providing a viable and fast alternative to many current schemes for exploring real - life contexts of many sorts in crowd dynamics issues . at the same time , we also apply our theoretical framework to a general problem , that of finding the distribution of serving times of individuals forming a crowd before a desk .",
    "our model is shown to provide results in line with the physical intuition in the case of identical agents , which confirms the soundness of our theoretical approach .",
    "however , we find less obvious results when the case of poly - disperse crowds are considered , which constitutes a first illustration of the usefulness of our model . it should be noted that , while queuing strategy issues have been analyzed in some specific contexts of crowd dynamics , such as parallel multi - lane pedestrian traffic  @xcite , surprisingly it seems that no simple computational study has yet tackled the problem examined in this paper . +",
    "the article is organized as follows .",
    "first we describe the model and discuss the main results that validate our scheme in the case of a homogeneous crowd .",
    "subsequently , we introduce a given degree of poly - dispersity so as to examine the statistics of serving times and their dependence on agents size . then ,",
    "before summarizing and discussing our findings , we report an instructive structural analysis of the two - dimensional crowd - queuing systems .",
    "in our model a crowd is represented by a collection of hard disks , possibly enclosed in a given perimeter with specific boundary conditions . broadly speaking ,",
    "the evolution of the crowd configuration is considered as a two - step process . in the first step ( i )",
    "one agent is chosen according to a given rule and is displaced following a certain prescription ( possibly to infinity , that is removed from the game ) . in the second step ( ii )",
    "the rest of the group is let equilibrate through a monte carlo dynamics under a pre - assigned displacement rule until a stationary state is reached , as measured through the convergence of a suitable global order parameter .",
    "the details of the rules applied in steps ( i ) and ( ii ) should reflect the nature of the process that one wants to simulate .",
    "here we introduce a simple set of rules , that could be valid in , or else easily modified for , many circumstances where one is interested to simulate a flow of people .",
    "for example , this could be the case of escape dynamics through doors at specific locations , such as in panic stampedes  @xcite or other issues related to the motion of groups of pedestrians within specified perimeters or across bottlenecks  @xcite .",
    "+ we consider an ensemble of @xmath0 impenetrable circles in the plane of radii @xmath1 , @xmath2 , where @xmath3 may be a constant ( homogeneous crowd ) , or else be drawn from a set of real numbers specifying the degree of heterogeneity . in this paper",
    "we either set @xmath4 or consider a uniform distribution in the interval @xmath5 $ ] . in the specific case chosen to validate and illustrate our model , dubbed here _ crowd - queuing _",
    ", it should be imagined that the disks model individuals waiting around a _ counter _",
    "located at the origin of a cartesian frame of reference and , _ e.g. _ , selling tickets .",
    "the @xmath0-agent crowd is served , one individual at a time , following the series of serving times @xmath6 , @xmath7 . at each step , the _ served _ agent is removed from the system , so that the group at the @xmath8-th step comprises @xmath9 individuals .",
    "the idea is to model a semi - circular geometry , whereby individuals disappear as soon as they are served as they are admitted beneath the counter ( say into the theatre or cinema hall ) , _",
    "e.g. _ through a door or down a staircase next to the counter itself .",
    "it is clear that , under the reasonable hypothesis that walls flanking the counter are reflecting ( except for the aforementioned exit ) , it is easier to study the equivalent case of a fully circular geometry with agents crowding all around the teller and being removed from the play as soon as they are served  .",
    "+ for the sake of simplicity , we will take @xmath10 and measure time in units of _ serving steps_. it should be noted that this implies a minor loss of generality , as we are mainly interested in average quantities , such as the average time taken to reach the counter from a given distance .",
    "more generally , in fact , if @xmath11 indicates the ( finite - mean ) probability density describing the ( uncorrelated ) intervals between serving times , the average time corresponding to @xmath12 serving steps will still be linear in @xmath12 , namely @xmath13 . + according to our theoretical framework , we approximate the dynamics of the group as a sequence of serving and rearrangement steps .",
    "the basic assumption is that the two processes occur on well separated time scales , the rearrangement stage being regarded as instantaneous on the time - span set by @xmath14 . at each serving step ,",
    "the individual that is located closer to the counter disappears , and the rest of the agents are rearranged .",
    "such process is iterated until all agents have been eliminated .",
    "typically , we record the serving times of all agents initially belonging to a certain number of concentric circular shells . by doing this",
    ", we can measure the average number of serving steps as a function of the initial distance from the counter , the average being taken over all agents from the same shells , as well as over @xmath15 equivalent initial configurations of the @xmath0-agent crowd .",
    "+ in an ordered , one - dimensional queue the rearrangement rule is a trivial one - move all agents simultaneously of one position in the direction of the counter . in our case",
    ", agents have the freedom of moving in two dimensions , whilst they still share a bias towards moving along the radial direction , as reaching the counter is everybody s ultimate goal . in accordance to such principle",
    ", we construct the rule for the monte carlo rearrangement stages as follows . at",
    "each mc step @xmath16 , a radial move is attempted of the same magnitude @xmath17 for each agent . to that",
    ", a component @xmath18 is added with probability @xmath19 along a randomly chosen unit vector forming an angle with the centripetal direction in the interval @xmath20 $ ] .",
    "the latter moving rule is meant to express the agents will to find alternative routes leading faster to the counter , taking advantage of local density fluctuations .",
    "the magnitudes of the two types of attempted displacements @xmath17 and @xmath18 are updated at each step , after the entire set of moves is performed , so as to keep the acceptance rate @xmath21 ( that is , the fraction of effectively displaced agents ) around the target value @xmath22 .",
    "the acceptance rule for each mc move is realized by enforcing hard - core repulsion .",
    "+ following the elimination of the served agent , the mc rearrangement is halted when the crowd has reached a _",
    "stable _ configuration .",
    "obviously , there is no unique manner to assess whether the system has attained such a status .",
    "in fact , also in view of the intrinsic non - equilibrium nature of the process that we wish to simulate , such condition should be understood in a _",
    "dynamical _ sense .",
    "for example , this can be measured by following the evolution of a suitable global observable @xmath23 and fixing the number of rearrangement moves @xmath24 such that @xmath25 , where @xmath26 is the @xmath24-step running average computed by sampling every @xmath27 mc moves and tol is the required accuracy . in the calibration",
    "runs , we chose to monitor the convergence of the acceptance rate @xmath28 and of a global _ structural _ indicator , namely the overall jamming index @xmath29 , adapted from ref .",
    "@xcite to the case of size - heterogeneous disks , @xmath30 }                            { 3r_{i } + \\sum_{j\\in\\mathcal{s}_{3}(i ) } r_{j } }                           \\right]\\ ] ] where @xmath31 is the ensemble comprising the first three neighbors of the @xmath32-th agent and @xmath33 are the center - to - center separations . as a results of different calibration tests",
    ", we found that the choice @xmath34 , @xmath35 yielded a satisfactory compromise between accuracy in the convergence of both indicators and simulation speed , with @xmath36 ( @xmath8 being the serving step ) .",
    "for the sake of computation celerity , we only monitored the observable @xmath28 for arresting the rearrangement stages in production runs . + the initial configurations for the serving process are obtained as follows .",
    "the disks are first arranged on a square lattice within a circle of radius @xmath37 ( @xmath38 for @xmath4 ) and their radii rescaled so as to match the required value of the initial disk area fraction @xmath39 .",
    "an initial cycle of @xmath40 monte carlo steps is then performed with @xmath41 ( purely radial moves ) and boundary conditions such that displacements are taken modulo @xmath42 .",
    "the configurations obtained after different series of @xmath43 mc steps are used as independent initials conditions for the serving process .",
    "of course , arbitrary initial geometries can be enforced in the same manner , by retaining only the agents that lie within the required perimeter . +",
    "it should be noted that , besides the measure of the size heterogeneity @xmath44 , our simulation protocol has only one parameter , namely the probability @xmath19 of non - radial displacements .",
    "the dashed line is a plot of formula  ( [ e : st2dq ] ) .",
    "lower panels : distance from the counter of some individuals lying initially in a given shell at distance @xmath45 from the origin as a function of the serving steps : @xmath46 ( center ) and @xmath47 ( bottom ) .",
    "the arrows indicate the average waiting time from the shells .",
    "other parameters are : @xmath48 , @xmath49 , @xmath50 , @xmath51 and @xmath52.,title=\"fig : \" ] .",
    "the dashed line is a plot of formula  ( [ e : st2dq ] ) .",
    "lower panels : distance from the counter of some individuals lying initially in a given shell at distance @xmath45 from the origin as a function of the serving steps : @xmath46 ( center ) and @xmath47 ( bottom ) .",
    "the arrows indicate the average waiting time from the shells .",
    "other parameters are : @xmath48 , @xmath49 , @xmath50 , @xmath51 and @xmath52.,title=\"fig : \" ] .",
    "the dashed line is a plot of formula  ( [ e : st2dq ] ) .",
    "lower panels : distance from the counter of some individuals lying initially in a given shell at distance @xmath45 from the origin as a function of the serving steps : @xmath46 ( center ) and @xmath47 ( bottom ) .",
    "the arrows indicate the average waiting time from the shells .",
    "other parameters are : @xmath48 , @xmath49 , @xmath50 , @xmath51 and @xmath52.,title=\"fig : \" ]    in the case of a one - dimensional queue of @xmath0 individuals , it is clear that an agent initially at a distance @xmath53 from the counter ( that is , the @xmath8-th agent ) , will be served after a time @xmath8 ( in units of serving steps ) . in two dimensions , if the same number of people are crowding around the counter , there will be competition among the agents lying initially within the _ shell _ at distance @xmath54 from the origin . in this case , the equivalent of the one - dimensional queuing process will be realized if , from the @xmath55shell , each agent will have to wait that all the individuals closer than her to the counter be served before she is served . in this case , one should expect a number of serving steps given by @xmath56          the upper plot reported in fig .",
    "[ fig.1 ] shows that , under the simple rules of our rearrangement dynamics , @xmath57 for a group of identical individuals .",
    "this means that , as suggested by simple intuition , on average there is no difference between an ordered one - dimensional queuing process and a chaotic mob formed by an equal number of agents crowding around the same serving desk .",
    "remarkably , this result appears rather insensitive to variations in the probability of non - radial moves .",
    "this confirms the soundness and robustness of our approach . in the case",
    "@xmath41 ( purely radial moves ) , we have found that the external shells are left virtually motionless , as a result of which the crowd is served sequentially from the inner shells to the outer ones , more or less following the ordered list of distances from the origin in the initial configuration .",
    "consequently , the sequential serving law  ( [ e : st2dq ] ) is ( trivially ) recovered in the case @xmath41 too .",
    "indeed , the requirement @xmath58 reflects a realistic characteristic of the dynamics of waiting groups , where individuals share an obvious bias towards radial moves that makes them approach the counter , but from time to time deviate sideways as local bubbles of low density appear under way .",
    "+ the data reported in the upper panel of fig .",
    "[ fig.1 ] represent averages over many individuals lying initially at the same distance from the counter . as a matter of fact , in a two - dimensional arrangement different agents from the same shell",
    "show amply different waiting times , as testified by the two cases reported in the two other panels of the same figure .",
    "it is apparent that serving times up to about 30 % below the average characterize certain individuals from the same shell , while at the same time others will have to wait longer to be served . in order to quantify the effect of such fluctuations , in fig .",
    "[ fig.2 ] we plot in one representative case the average , maximum and minimum serving times as functions of the shell distances from the counter .",
    "we see that the lowest serving times @xmath59 are well approximated by the same sequential law  ( [ e : st2dq ] ) but corresponding to half the number of agents .",
    "hence , the luckiest individuals are served as if they were crowd - queuing with half the number of people .",
    "however , the less fortunate agents wait as if they shared the place with about twice as much agents , with the obvious constraint that the maximum serving time can not exceed @xmath0 .",
    "it is interesting to remark that the _ last - of - all _ condition ( @xmath60 ) persists for agents initially sitting as close to the counter as @xmath61 .",
    "+ additional , more quantitative information can be obtained by calculating the probability that an agent be served in a number of steps below ( or above ) a given fraction of the sequential - queuing prediction from a given distance .",
    "let @xmath62 indicate the ensemble of waiting times of all agents from the @xmath54-shell over all the independent serving runs .",
    "then , we can measure the probability that an individual is served in a number of steps lower ( or greater ) than a given fraction @xmath63 ( @xmath64 ) of the theoretical expectation , eq .",
    "( [ e : st2dq ] ) , that is @xmath65                             \\right\\rangle\\right\\rangle_{n(d)\\in\\mathcal{n}_d}\\ ] ] where @xmath66 is the heaviside step function and the operation @xmath67 makes the double average over shell members and independent runs explicit .",
    "+ the results reported in fig .  [ fig.2 ] show that the chances of reaching the counter in a number of steps below ( or above ) the purely sequential prediction ( @xmath68 ) are about 50 % , and to a large extent insensitive of the initial distance .",
    "furthermore , the chances of being served faster than 0.75 ( or more slowly than 1.25 ) of such expected waiting time are between 15 and 20 % .",
    "these observations make more quantitative the intuitive feeling that competing in a crowd to be served can be rewarding as well as imply longer waiting times than in ordered , one - dimensional queues .",
    "furthermore , the above results suggest that the reduced serving times from all shells , @xmath69 , are described by the same probability density . the right panel in fig .",
    "[ fig.2 ] shows that such curve is reasonably well   approximated by a normal density of unitary mean and standard deviation @xmath70 .",
    "this provides a handy criterion for quantifying to an arbitrary confidence level the variability displayed by the serving times .",
    "for example , in about @xmath71 of the cases , an agent starting at a distance @xmath54 will have to wait between @xmath72 and @xmath73 .",
    "+ it should be remarked that the above results concerning minimum and maximum waiting times provide ready information under the hypothesis of equally spaced serving times @xmath74 .",
    "more generally , the same predictions are expected to hold true in the case of uncorrelated , normally distributed serving times ( likely a reasonable description of most common counter dynamics ) , provided the serving and rearrangement time scales are still uncoupled . in situations where different instances of the distribution @xmath75 are relevant , the relation between serving times and number of serving steps could be nonlinear .",
    "in such cases , the convolution of the queuing and the serving time statistics should be accounted for explicitly and our algorithm should be modified accordingly .",
    "we have seen that , on average , an individual involved in a queuing process within an homogeneous crowd gets to the counter following the sequential rule , that is after all agents closer than her to the origin are served .    .",
    "the dashed line is a plot of formula  ( [ e : st2dq ] ) .",
    "parameters are : @xmath48 , @xmath49 , @xmath50 , @xmath52 . ]",
    "[ fig.new ] proves that such average behavior persists also in the case of a poly - disperse group of agents , no matter the spread of the size distribution .",
    "however , each point in fig .",
    "[ fig.new ] is worked out by averaging over a population of agents that share the same initial distance from the counter but are heterogenous in size . what happens if all those serving times are sorted as functions of the agents radii ?",
    "[ fig.tauvsr ] provides a clear - cut answer in the case of individuals initially lying within the outermost shell : starting from the same distance , the smallest agents get to the counter about 10 % faster than the bulkiest ones .",
    "this phenomenon seems to depend to a certain extent on the details of the rearrangement dynamics , although the overall advantage displayed by the tiniest agents over larger ones seems not to be altered by the actual value of the probability of non - radial moves @xmath19 .",
    "we remark that , as expected , the average serving time that characterizes the shell ( indicated as @xmath76 in the figure ) also marks the dynamics of individuals of average size , that is those with @xmath77 .    .",
    "the serving times have been binned along the radius axis and normalized to the average serving time of the considered shell .",
    "solid lines are guides to the eye .",
    "parameters are @xmath78 , @xmath79 , @xmath80 and @xmath52 . ]",
    "it is interesting to analyze quantitatively the spatial configurations describing our granular crowd systems during their temporal evolution . fig .",
    "[ fig.confs ] shows four snapshots of the group at different stages for an initial disk area fraction @xmath81 .",
    "overall , a tendency of the group of agents to deviate from the circular shape is observed , likely as a result of non - radial moves performed along the way .",
    "a similar scenario is confirmed by many other analyzed instances ( not reported here ) .",
    "likewise , it appears that the serving process also leads to a _ tightening _ of the system . in order to quantify this effect ,",
    "we have calculated the variations of the agents effective surface coverage by performing dirichlet tesselation of the configurations at the end of each rearrangement stage .",
    "[ fig.fract ] reveals that the first phase of the process indeed marks a rapid increase of @xmath82 between 10 and 20 % , depending on the initial value of the disk area fraction .",
    "subsequently , the serving process leads to a loosening of the group , which appears to be more marked the denser the starting configuration .",
    "interestingly , towards the end of the process the last - served agents seem to organize themselves into tighter structures .",
    "[ cols= \" < , < \" , ]      + visual inspection of the systems patterns suggest that local order appears to be enhanced late in the serving process ( see again fig .",
    "[ fig.confs ] ) . to make this observation more quantitative ,",
    "we have calculated the radial distribution function @xmath83 ( rdf ) at different steps in the course of the serving dynamics .",
    "the results are summarized in fig .",
    "[ fig.g2r ] for one typical case .",
    "the initial configurations , as one should expect , reflect the known rdf of hard disk fluids  @xcite",
    ". however , as the serving process progresses , short - range translational order gets manifestly enhanced alongside with the rapid increase of surface coverage .",
    "+    , @xmath51 and @xmath52 . ]",
    "it is interesting to observe that the calculated rdfs appear remarkably similar to the ones characterizing the non - equilibrium configurations obtained in ref .",
    "@xcite through a modification of eden s algorithm targeting a pre - determined degree of orientational order .",
    "in fact , it is instructive to investigate whether the observed enhancement of translational order is also accompanied by bond - orientational order . to do this , we employed the computed dirichlet tesselations to evaluate the global bond - orientational order parameter     at different steps of the serving process other parameters are : @xmath48 , @xmath50 , @xmath84 , @xmath51 and @xmath52 . ]     and",
    "other parameters are @xmath49 , @xmath51 and @xmath52 . ]",
    "@xmath85    where @xmath86 is the number of geometrical neighbors of the @xmath32-th disk , @xmath87 is the angle formed by the bond between the @xmath32-th and @xmath16-th disks in the dual delaunay triangulation and some arbitrary but fixed direction ( in our case the @xmath88 axis ) and @xmath89 is the total number of such geometrical bonds . by definition ,",
    "@xmath90 in the most ordered arrangement , that is the triangular lattice , whereas @xmath91 in a disordered , gas - like phase  ) .",
    "however , these only concern pathological configurations that are extremely unlikely to occur in our case  @xcite . ] . fig .",
    "[ fig.psi6 ] shows that queuing processes that start at moderate surface coverage do not develop appreciable bond - ordering , as @xmath91 for the whole duration of the process . when the initial area fraction is higher , the first configurations indeed feature non - negligible bond - orientational order",
    ". however , the serving dynamics invariably brings the system back to gas - phase configurations on a rather short time scale - when about 20 % of the agents have been served , any traces of bond - orientational order have been already wiped out .",
    "+ overall , the above analysis reveals that the configurations obtained through our simple method are typical non - equilibrium configurations of hard disks , featuring rather high densities and maximum degree of disorder at the same time .",
    "therefore , our method might as well prove interesting for non - equilibrium hard - disk packing issues  @xcite .",
    "in this paper we have introduced a simple agent - based monte carlo model of crowd dynamics , with the aim of putting forward a viable and handy alternative to more detailed and involved modeling strategies for a variety of crowd dynamics issues .",
    "agents are modeled as hard disks and the evolution of the crowd spatial configuration is reconstructed through a series of two - step moves : in the first step a single agent is selected and displaced according to a certain rule , possibly to infinity , which amounts to removing her from the game ( r1 ) . in the second step , the rest of the group is let rearrange through a sequence of monte carlo moves obeying a certain displacement rule ( r2 ) until the convergence of a suitable global observable has been achieved .",
    "the two aforementioned rules r1 and r2 are meant to identify the nature of the specific crowd dynamics that one wishes to simulate .",
    "we have shown that out theoretical framework provides results in agreement with physical intuition in the problem of _ crowd - queuing _ , namely that of a group of agents who gather in a disordered manner around a counter ( a ticket - desk , a bar , etc . ) waiting to be served one by one and leaving the place once served .",
    "our model shows that on average the crowd reproduces one - dimensional , sequential queuing for a group of agents of identical size , in agreement with intuition .",
    "this means that an agent starting from a certain distance @xmath54 from the counter will have to wait that all agents initially enclosed within the circular @xmath54-shell will have been served .",
    "obviously , however , a two - dimensional crowd provides a queuing environment that can yield slower - than as well as faster - than - sequential serving times for a given individual .",
    "our results indicate that the two instances occur with a probability of about @xmath92 , independently of the initial agents position . remarkably , the above results are rather insensitive to changes in the probability of non - radial moves , which testifies to the robustness of our approach . + remarkably ,",
    "size of agents matters in crowd dynamics processes . on average the serving times of an heterogeneous group",
    "still follow the intuitive sequential prediction , independently of the strength of the agents size heterogeneity . however , starting from identical initial distances , the smaller the agent the shorter her waiting time .",
    "the tiniest individuals manage to sneak through their fellow queuers more effectively , thus reaching the counter the first .",
    "it is intriguing to draw an analogy between our findings , _",
    "i.e. _ larger disks lagging behind smaller ones , and the well - known _ brazil - nut _ effect , whereby the largest particles migrate towards the surface when a granular heterogeneous mixture is shaken  @xcite .",
    "in fact , particle size segregation effects have already been reported in two - dimensional hard - disk packings  @xcite . in the case of shaken mixtures ,",
    "the bias provided by gravity plays an important role in determining the segregation phenomenon . within the framework of our rearrangement dynamics ,",
    "the agents _ mixture _ is _ monte - carlo shaken _ under the bias of preferred origin - pointing displacements . in this sense",
    ", explanations of the brazil - nut effect that focus on infiltration of small particles into voids created underneath larger ones during shaking might provide relevant clues to our process .",
    "conversely , the analogy with crowd dynamics might prove useful in the rationalization of size effects in poly - disperse mixtures .",
    "for example , this could be the case of the emergence of indirect attractive forces favoring flocculation of larger particles resulting from the interference between topological perturbations ( depletion wakes ) induced by the large particles  @xcite .",
    "+ finally , we have performed a structural analysis of crowding ensembles .",
    "we have shown that the rearrangement dynamics results in an overall increase of the agent area fraction , enhancing at the same time short - range translational order in the system as the serving process progresses .",
    "on the contrary , orientational order is effectively suppressed , even in the case of high initial packing , leading to rather dense and at the same gas - like , highly disordered non - equilibrium configurations , reminiscent of those accessible through certain seed - based growth protocols  @xcite ."
  ],
  "abstract_text": [
    "<S> in this paper we introduce a simple monte carlo method for simulating the dynamics of a crowd . within our model a collection of hard - disk agents is subjected to a series of two - stage steps , implying ( i ) the displacement of one specific agent followed by ( ii ) a rearrangement of the rest of the group through a monte carlo dynamics . </S>",
    "<S> the rules for the combined steps are determined by the specific setting of the granular flow , so that our scheme should be easily adapted to describe crowd dynamics issues of many sorts , from stampedes in panic scenarios to organized flow around obstacles or through bottlenecks . </S>",
    "<S> we validate our scheme by computing the serving times statistics of a group of agents crowding to be served around a desk . in the case of a size homogeneous crowd </S>",
    "<S> , we recover intuitive results prompted by physical sense . </S>",
    "<S> however , as a further illustration of our theoretical framework , we show that heterogeneous systems display a less obvious behavior , as smaller agents feature shorter serving times . </S>",
    "<S> finally , we analyze our results in the light of known properties of non - equilibrium hard - disk fluids and discuss general implications of our model . </S>"
  ]
}