{
  "article_text": [
    "the ever - growing literature on complex networks is a testament both to the ubiquity of networks as conceptual tools , and to the lack of a definitive toolbox .",
    "the recent explosion in available data , both in the variety of sources ( e.g. , social networks , biological networks , infrastructure or technological systems ) and in the sheer size of the datasets , stresses the need for good methods to analyze and synthesize information about the structure of networks .",
    "although there is already a plethora of metrics and methods to study networks @xcite , there is still a need for multi - scale metrics .",
    "for example , degree distribution @xcite and local clustering @xcite are incredibly simple and informative but only capture microscopic , local features of networks .",
    "modularity ( e.g. , @xcite ) and other community structure properties probe the meso - scale organization of networks but are still ill - defined , as evidenced by the lack of a common definition for network communities @xcite .",
    "macroscopic measures such as betweenness centrality @xcite , eigenvector centrality @xcite , and mean shortest path length @xcite can characterize the role of a given node in the overall network structure .",
    "however they demand significant computational effort and rarely map back to a good local understanding of how the network might be constructed .",
    "there is a dire need for tools that are easy to compute and that complement existing tools by characterizing networks at multiple scales at a glance .    as it turns out , the answer was perhaps hidden all along in a popular algorithm : the @xmath0-core decomposition @xcite .",
    "we generalize this algorithm both to characterize networks as a whole and to detect some of their interesting , unique subgraphs .",
    "we will discuss how our new method can be described in terms of local rules , yielding the most structurally constraining network connection process to date .",
    "finally , we show how these constrained networks can be used to better capture a dynamical process than existing random network models .",
    "the @xmath0-core decomposition is a network pruning method whose goal is to separate a network into a succession of nested cores , effectively defining a center and periphery to the network .",
    "the method is based on the concept of @xmath0-cores : the maximal sub - network within which every node has degree _ at least _",
    "nodes that are in the @xmath0-core but not in the @xmath1-core can be said to belong to the @xmath0-shell and are thus of _ coreness _ @xmath0 .",
    "lower @xmath0-shells can be thought of as being less central ; the network is then viewed as a series of progressively denser and more central cores .",
    "a useful metaphor relates the @xmath0-core decomposition to the peeling of an onion @xcite : one first removes all nodes of degree 1 , then nodes who are now of degree one following the removal of the first onion skin , and so on until all nodes left are of degree greater than one and thus compose the @xmath2-core .",
    "the peeling then starts again , now removing nodes of degree at most 2 .",
    "while the mathematical definition of the @xmath0-core is elegant , we argue that much more information lies in the decomposition process than in the final results . in other words",
    ", we aim to study how the speed at which one can peel the network into cores is related to its structure .",
    "we thus introduce the concept of _ layers _ : how many peeling passes are needed to reach a given node . for instance , nodes of the @xmath0-shell belong to its first local layer if they are of degree exactly @xmath0 within the @xmath0-core , or to its second local layer if they are of degree at most @xmath0 only after the removal of the first layer .",
    "+    the procedure to identify these layers , which we call the _ onion decomposition _ ( od ) , is essentially the same as that for the @xmath0-core decomposition , but retains more information .",
    "we generalize the algorithm for @xmath0-cores @xcite with a very simple modification to produce the od :    [ 1]*input * # 1 [ 1]*output * # 1    the run - time of this algorithm scales as @xmath3 . for the run - time analysis of the od , as well as",
    "implementation notes that can affect the speed of the algorithm in practice , see supplemental material .",
    "the od thus provides a centrality measure more refined than coreness , and essentially at least as easy to compute as other centrality measures . for example , the best known algorithm for betweenness centrality takes time @xmath4 @xcite , and even computing eigenvector centrality takes time @xmath5 ( where @xmath6 is the gap between the first and second eigenvalues ) , which is comparable to the od . in section",
    "[ sec : dis ] we also show how the od naturally corresponds to an ensemble of random networks , unlike other centrality measures .",
    "with this new analysis method in hand , we define the _ onion spectrum _ of a network as the fraction of all nodes which are found in a given layer of the od .",
    "the onion spectrum can be thought of as a structural spectrum as it assigns every node to a given structural role through our new measure of node centrality .",
    "as we will see , even a glance at the onion spectrum of different networks provides significant insights into their structure at multiple scales ( see table  [ table : corr ] , whose entries are explained throughout the rest of the paper ) .",
    ".summary of some properties found in the onion spectrum .",
    "`` randomness '' here refers to rewiring preserving only degree distribution .",
    "all other properties can also be mapped to local connection rules using the random model presented in sec .",
    "[ one ] . [ cols=\"^,^,^\",options=\"header \" , ]      +      we first test the od on model networks designed to gather insights on the types of onion spectra produced by different network structures : a perfect cayley tree with a branching factor of 2 , an erds  rnyi graph with fixed density and a square lattice",
    ". small versions of these networks are presented in fig .",
    "[ fig : toynetworks ] .",
    "these networks are used to test the behavior of the od on different structures : tree - like branching , core - periphery structure and `` geographic - like '' embedding .",
    "we show the results of the od on these model networks in fig .",
    "[ fig : toynetworks ] . certain features of their onion spectra can also be written analytically ( see supplemental material ) .    in the case of the cayley tree ,",
    "the nodes of the original network have a very well - defined position in the structure given by their distance to the leaf nodes .",
    "after removal of the first onion layer , the network is essentially the same ( with one fewer layer ) and the distances between all nodes and the leaves are reduced by one .",
    "the process then goes on , such that all nodes are within the @xmath7-core , and we can find an exponentially decreasing number of nodes in all layers ( i.e. , as an inverse branching process ) .",
    "in fact , all perfect trees feature an exponential onion spectrum where the ratio of two subsequent layer densities roughly corresponds to an average branching factor . locally speaking",
    ", this tree - like property is observed in most sparse networks . in the erds - rnyi graph , the first few layers are peeled in a similar fashion to a perfect tree .",
    "this can be observed in fig .",
    "[ fig : toynetworks](top center ) where nodes of degree one ( in blue ) are connected to peripheral nodes of higher degree ( in green ) .",
    "these various branches define the periphery of the network and comprise the first cores of the decomposition .",
    "the last core , much denser , features a significant number of loops on all scales .",
    "the density of onion layers within that core thus follow a very different decay , clearly sub - exponential until the finite size cut - off . to better understand this behavior , we turn to the square lattice , which possesses loops of all possible even lengths , by design .    to analyze the square lattice , it is useful to go back to fig .",
    "[ fig : toynetworks](top right ) and notice how the network is explored by the od .",
    "the first nodes to be removed are the corners , then their neighbours , and so on .",
    "the sites of nodes removed in each layer follow horizontal / vertical lines converging to the center with increasing layers .",
    "the unique shape of the onion spectrum is easy to calculate and is found to be linear , both in the increasing and decreasing regime ( see supplemental material ) . to broadly summarize the conclusions that can be drawn from the three model networks : the onion spectrum of tree - like and sparse random networks are expected to decay exponentially , whereas those of lattices and dense subgraphs fall sub - exponentially ( see table [ table : corr ] ) .",
    "we now apply the od to several real - world networks .",
    "these networks are selected to cover a few structural features that are captured by the od so as to highlight its use as a macroscopic , mesoscopic and microscopic tool ( many more are explored in the supplemental material ) .",
    "namely , we investigate how the onion spectrum allows us to distinguish tree - like and lattice - like networks , how it allows us to identify topologically anomalous subgraphs as features of interest , and how the degree distribution and degree - degree correlations are reflected in a network s onion spectrum ( see table  [ table : corr ] ) .",
    "figure [ fig : intrastructure ] presents the onion spectra of two infrastructure networks : the northwestern american power grid @xcite and the pennsylvania road system @xcite . in both cases",
    ", the figure presents a subset of the network that reflects its global structure .",
    "the selected layers are shaded in the spectrum , and parts of those subgraphs are presented in the top half of the figure . once again",
    ", merely glancing at the decay of layer density informs us as to how these networks occupy space : the exponential decay of the power grid s onion spectrum is a signature of its ( effectively ) tree - like structure , where most loops are short and link nearby nodes .",
    "this is in stark contrast with the sub - exponential spectrum and structure of the road network , where despite featuring fewer triangles , there are loops occurring on all scales , as observed in fig .",
    "[ fig : intrastructure](top right ) . to visualize the difference , note that removing a link or two can disconnect many nodes from the power grid , but not on the road network .",
    "while the major cores of both the power grid and the road network have a very steady behavior , one can look for significant deviation from general trends  i.e .",
    ", topological anomalies  to identify interesting subgraphs that stand out from the overall network structure .",
    "to this end , we present the onion spectrum of a co - authorship network @xcite in fig . [",
    "fig : condmat](left ) . like most sparse social networks ,",
    "the overall structure is roughly tree - like .",
    "however , the onion spectrum allows us to identify interesting subgraphs , leading us to focus on the nodes around layer 175 ( highlighted ) , as we see a radically different decay there .",
    "this anomalous subgraph is composed of nodes with degree at least 18 that , once peripheral nodes are removed , are found to be organized in communities of long - time , prolific collaborators .",
    "similar topological anomalies , with similar explanations , are seen in other co - authorship networks ( see supplemental material ) .",
    "this locally high modularity contrasts with the global tree - like structure , and is easily picked up by the od . a subset of this subgraph is presented on fig .",
    "[ fig : condmat](right ) .",
    "the condensed matter co - authorship network also illustrates how the onion spectrum can detect degree correlations .",
    "not only does this network have more cores than the previous networks because of its fat - tailed degree distribution , it even has significantly more cores than would be expected from a network with the same degree distribution but otherwise random connections : 29 versus 9 , respectively ( see supplemental material ) .",
    "this is a signature of positive degree correlations , often called _ homophily _ @xcite or assortativity , meaning neighboring nodes tend to have similar degrees @xcite .",
    "it is intuitively clear that having high - degree nodes share connections with other high - degree nodes favors the emergence of higher coreness . by comparison to a randomized network",
    ", one can thus look for degree correlations by comparing how many cores are found within the network ( see supplemental material for more examples ) .",
    "that being said , the decay rates within cores can also contain further information about the network structure and this is especially true when faced with negative degree correlations .    the onion spectrum of a subset of the world wide web , the ` stanford.edu ` domain @xcite , is presented in fig .",
    "[ fig : wwwstanford](middle ) . in this network , even within a single layer , the decay rate varies significantly . in the supplemental material",
    ", we show that this variation is a consequence of negative degree - degree correlations , by comparing the network with two ensembles : one in which only the degrees are preserved , and one in which furthermore the degree - degree correlations are preserved . in the former , the decay rates within each layer are roughly constant , whereas in the latter the decay rates closely match the true , observed rates .",
    "essentially , this variation is caused by the fact that most links stemming from low degree nodes are connected to nodes of higher degree than would be expected by chance .",
    "this negative correlation , or disassortativity , implies that fewer nodes are removed within the second and subsequent layer of a core than expected .",
    "this also implies that the network contains fewer cores than a randomized version .",
    "we propose a better rewiring scheme in sec .",
    "[ sec : dis ] .    finally , we use the ` stanford.edu ` domain to illustrate how other types of interesting subgraphs can be identified . in the case of most sparse networks ,",
    "being `` interesting '' means at least deviating from the expected tree - like structure . in fig .",
    "[ fig : wwwstanford ] , we identify two ( out of many ) interesting subgraphs that present a significantly sub - exponential decay of density per layer . the first is interesting as it appears in the first core , where nodes are expected to be of low degree such that large non - tree - like subgraphs are unlikely . yet , through the od , we have identified a set of around 8500 nodes of degree two joined in chain - like fashioned ( approximatively 3% of the entire network ) .",
    "based on the degree distribution alone , these subgraphs had a probability less than @xmath8 of occurring ( i.e. , it should not occur ) .",
    "but somehow , such surprising structures seem to appear on all scales within the domain , as similar slow decay can be observed in all cores .",
    "for instance , the subgraph shown in fig . [ fig : wwwstanford](right ) occurs within the 5-core and appears to be a centralized community structure where many different groups are governed by only a few nodes .",
    "the entire subgraph collapses under the od once the smallest groups are removed . in the context of world",
    "wide web networks , we thus believe that this procedure can help uncover the backbone and governing nodes of different domains .    although other methods might be designed to detect these particular structures  backbones , governing nodes , and the structure in fig .",
    "[ fig : condmat]we point out that the od allowed us to detect these structures in these networks _ de novo _ , _ without _ knowing what kind of structure we were looking for ahead of time .",
    "we have shown how the onion decomposition allows to characterize a complex network , at a glance , through the general trends of its onion spectrum .",
    "the od achieves this in part because it aggregates multiple properties of complex networks , at different scales , into a single spectrum : degree heterogeneity and correlations , organization in terms of centrality , and tree - likeness or loop prevalence . to the best of our knowledge ,",
    "the onion decomposition is the first method to combine so many potential tools into one algorithm that is simultaneously fast ( it scales as @xmath3 ) , simple , well - defined , mathematically principled , and allows _ de novo _ detection of interesting subgraphs . indeed , and",
    "contrary to other methods of network analysis ( e.g. , community detection algorithms ) , the positions of the nodes in the od are elegant and straightforward : ( i ) a node is in the @xmath0-core if it is in the maximal subset of the network in which every node has degree at least @xmath0 within the subset , and ( ii ) within the @xmath0-core , a node is in the @xmath9-th local layer if one must remove all nodes of degree at most @xmath0 a total of @xmath10 times before reaching the node . as a final point , we show how the od naturally allows to define the most structurally constraining , yet still easily and exactly sampleable , network randomization procedure to date .",
    "we then show how these constrained networks outperform existing random network models at reproducing the outcome of the susceptible - infectious - susceptible dynamical process , as well as at reproducing the full distribution of all - pairs shortest path lengths .",
    "the specifications of the od can be translated into a simple set of connection rules defining an ensemble of networks that preserve the joint degree - onion spectrum ( i.e. , the degree and the position in the onion spectrum of nodes ) .",
    "we refer to this ensemble as the onion network ensemble ( one ) .",
    "given a joint degree - onion spectrum , the one can be sampled quasi - uniformly , by a model only marginally more complicated than the configuration model .",
    "this is in strong constrast with other centrality measures such as betweenness or eigenvector centrality , whose translations into local connection rules , if any , remain open problems . in the one ,",
    "a node of degree @xmath11 and coreness @xmath0 belonging to layer @xmath12 must be connected to other nodes in the following fashion .",
    "if the node is located in the first layer of its core ( i.e. , nodes in layer @xmath13 have coreness @xmath14 ) , it must have exactly @xmath0 links to nodes of layers @xmath15 .",
    "otherwise , the node must have at least @xmath16 links to nodes of layers @xmath17 and at most @xmath0 links to nodes of layers @xmath15 .",
    "rewiring links according to these rules while enforcing the correlations between layers allows to explore the one associated to a given original network , while simultaneously preserving its degree distribution and its onion spectrum .",
    "this rewiring process provides a structurally constrained null model against which real networks can be compared , and that can also be used to build networks _ of different sizes _ with the same joint degree - onion spectrum .",
    "this allows comparison of graphs across sizes , as well as analysis in the limit of very large networks .",
    "note that in this limit , the one exactly defines a network without loops or correlations ( other than the ones between layers that are explicitly enforced ) .",
    "let us consider the susceptible - infectious - susceptible model of disease spread as an illustration of the general utility of the od  and more specifically of the one  as an effective network structure . in this dynamics ,",
    "nodes are either susceptible or infectious , infectious nodes infect their susceptible neighbors at a rate @xmath18 and they recover at a rate @xmath19 .",
    "the sis dynamics is governed by the dimensionless parameter @xmath20 and , for @xmath21 above a critical value , possesses a steady state in which a non - zero fraction of the nodes are infectious @xcite .",
    "we simulate this process on two real networks on which diseases , ideas or computer viruses could be expected to spread .",
    "figure  [ fig : sis ] gives the prevalence of the sis dynamics as a function of @xmath21 and compares it with the one observed on networks rewired according to the correlated configuration model ( ccm ) and the one .",
    "the ccm produces networks that respect a given degree distribution as well as the entire degree - degree correlation matrix ( i.e. , probability that a randomly selected link connects nodes of degree @xmath22 and @xmath23 ) .",
    "the most striking result of fig .",
    "[ fig : sis ] is that the one outperforms the ccm even though it requires _ less _ information .",
    "indeed , the ccm requires a joint degree - degree correlation matrix which scales as @xmath24 , whereas the one requires information that scales as @xmath25 ( see supplemental material ) .",
    "this comparison with the ccm reveals that the performance of the one is not merely a consequence of the degree - degree correlations encoded in the layer - layer correlations , but stems from the global features encoded in the od and in the one s local connection rules .",
    "it is worth noting that the sis dynamics is highly self - averaging , as the infection constantly moves and revisits every node .",
    "consequently , the sis model does not depend much on the high - level structure of a network , but more on local features . considering how much _ local _ information is needed by the ccm",
    ", it is somewhat surprising that the one also performs better than the ccm in an application that depends mostly on local information .",
    "an interesting feature of our sis results presented in fig .",
    "[ fig : sis ] is that the one manages to provide precise approximations despite being a tree - like random network model .",
    "indeed , it is often thought that models like the ccm overestimate the outcome of a spreading process mostly because they lack the clustering ( or modularity ) of real - world networks .",
    "however we saw how loops , which are the signature of clustering and modularity , affect the onion spectrum of a network . in extreme cases , such as going from a perfect tree to a lattice , loops can change the exponential decay of the spectrum to a linear function .",
    "thus , despite being a tree - like model , the one _ stretches _ the network by considering layers that somehow encode those loops . in other words , while the connection rules of the one are strictly local , they mimic the global organization of a given network .",
    "for instance , and in contrast to standard rewiring algorithms , the one preserves well the diameter of a network , and even offers a good approximation of the entire distribution of shortest path lengths ( see fig .",
    "[ fig : paths ] and supplemental material ) .",
    "again , the one outperforms the ccm while requiring less information .",
    "in summary , we have introduced the onion decomposition that can be useful to ( i ) characterize complex networks , ( ii ) identify interesting subgraphs and ( iii ) approximate their structure  and the dynamics they support  through the onion network ensemble .",
    "this is done by running an algorithm that scales almost linearly with network size ( @xmath3 ) to reveal how quickly a network can be peeled by removing peripheral nodes .",
    "the density , or number of nodes , in every layer of the peeling process is called the onion spectrum and characterizes both the core - periphery structure of a network , and how tree - like it is . moreover , focusing on topological anomalies ",
    "layers whose onion spectra go against the general trends  allows us to de novo identify interesting subgraphs within the network .",
    "for example , without knowing what precisely we were looking for , we found backbones in networks of websites , governing nodes connecting a set of communities , and dense communities of collaborators within a citation network .",
    "this same method could be used to find large communities within an otherwise random network , a sparse periphery to an otherwise dense network , or other interesting structures that have yet to be identified .",
    "we then showed how all of these properties can be included in a random network ensemble by specifying connection rules that preserve a node s degree and position in the spectrum , and illustrated its potential applications by providing two examples .",
    "future work will focus on solving the properties of that random network ensemble .",
    "the authors thank aaron clauset , simon dedeo , and cristopher moore for their useful comments .",
    "this work has been supported by the santa fe institute , the james s. mcdonnell foundation postdoctoral fellowship ( lhd ) , the santa fe institute omidyar postdoctoral fellowship ( jag ) and the fonds de recherche du qubec  nature et technologies ( aa ) ."
  ],
  "abstract_text": [
    "<S> we introduce a new network statistic that measures diverse structural properties at the micro- , meso- , and macroscopic scales , while still being easy to compute and easy to interpret at a glance . </S>",
    "<S> our statistic , _ the onion spectrum _ </S>",
    "<S> , is based on the _ onion decomposition _ , which refines the @xmath0-core decomposition , a standard network fingerprinting method . </S>",
    "<S> the onion spectrum is exactly as easy to compute as the @xmath0-cores : it is based on the stages at which each vertex gets removed from a graph in the standard algorithm for computing the @xmath0-cores . but the onion spectrum reveals much more information about a network , and at multiple scales ; for example , it can be used to quantify node heterogeneity , degree correlations , centrality , and tree- or lattice - likeness of the whole network as well as of each @xmath0-core . furthermore , unlike the @xmath0-core decomposition , the combined degree - onion spectrum immediately gives a clear local picture of the network around each node which allows the detection of interesting subgraphs whose topological structure differs from the global network organization . </S>",
    "<S> this local description can also be leveraged to easily generate samples from the ensemble of networks with a given joint degree - onion distribution . </S>",
    "<S> we demonstrate the utility of the onion spectrum for understanding both static and dynamic properties on several standard graph models and on many real - world networks . </S>"
  ]
}