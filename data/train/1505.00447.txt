{
  "article_text": [
    "the transportation of goods has been fundamental to the world economic development and the demand for freight transportation , together with the global economy , is expected to increase in the coming years . however , the transport sector , due to the burning of fuel , is responsible for a significant amount of greenhouse gas and emissions . in the european union ,",
    "the transport sector amounts to roughly 29% of the total emissions and 11% of these emissions are directly accountable to road freight transportation @xcite .",
    "globally , the emissions linked to the surface ( road and rail ) freight transport sector are expected to increase up to 347% in the next 40 years if no measure is taken @xcite . in order to contrast this increase and the related impact on the climate change",
    ", governments all over the world are agreeing in setting stringent limitations on greenhouse gas emissions connected to road freight transportation @xcite . in order to cope with these limitations , heavy - duty vehicle ( hdv ) manufactures are facing numerous challenges .",
    "furthermore , the expected increase of the oil price @xcite and the need for maintaining competitiveness require them to design vehicles and technologies that are increasingly fuel - efficient . the fuel cost for an hdv fleet owner , in fact , accounts roughly for the 35% of the total cost of owning and operating a vehicle @xcite .",
    "therefore even a reduction of a few percent of the fuel consumption would lead to significant saving .",
    "an effective method to reduce fuel consumption and , consequently , greenhouse gas emissions , is hdv platooning . by operating groups of vehicles at small inter - vehicular distances ,",
    "the overall aerodynamic drag can be reduced . as about one fourth of the hdv fuel consumption is related to aerodynamic drag @xcite , platooning can have a large effect on the fuel consumption .",
    "indeed , experimental results in @xcite and  @xcite have shown a reduction in fuel consumption up to 7% . however , in order to safely operate hdvs at the short inter - vehicular distances required for platooning , automation of the longitudinal dynamics is necessary .    in this work we present a novel control architecture for fuel - efficient and safe hdv platooning .",
    "vehicle platooning is not a new control problem .",
    "the first works on vehicle platooning appeared in the sixties , e.g. , @xcite .",
    "the main focus of these early works was the theoretical study of the dynamics of a string of vehicles with local information , with a particular attention on the study of string stability , i.e. , the attenuation of disturbances in position , speed and acceleration along the string of vehicles .",
    "the vehicle platooning concept received the first application interest under the partners for advanced transportation technology ( path ) project @xcite , where platooning ( of passenger vehicles ) has been investigated as a means to increase highway throughput .",
    "under this project a control architecture based on vehicle - to - vehicle communication has been developed for the platoon formation and maintenance of fully autonomous vehicles @xcite .",
    "although the environmental aspect was not the focus of the project , noteworthy results on fuel reduction due to hdv platooning have been reported @xcite . since then",
    ", new projects and related publications have appeared with focus on different aspects of hdv platooning such as congestion , safety , fuel - efficiency and user - acceptance @xcite .    in the more recent companion project @xcite , where this paper finds its place ,",
    "the fuel - efficiency of hdv platooning is the main focus .",
    "the project is not limited to pursue the efficiency of a single platoon , but rather to create a complete fuel - efficient freight transportation system . this led to the development of a system architecture aimed to divide this complex problem into hierarchical solvable subproblems @xcite .",
    "an adaptation of such architecture has three layers , namely the mission planner , the platoon controller and the low - level vehicle controller , defined as follows : the mission planner is responsible for the optimal routing of the hdvs and their synchronization in order to create and dissolve platoons in optimized meeting points .",
    "this problem has been addressed in @xcite where the authors propose a distributed framework for the synchronization of single hdvs and platoons on the road network .",
    "the platoon controller of each platoon receives from the mission planner the optimal route and the average speed per link that the platoon should track .",
    "therefore it controls the vehicles dynamics and it computes the inputs for the low - level vehicle controllers of each hdv . in @xcite a distributed control framework over the platoon suitable for hdv dynamics is presented .",
    "however the role of external factors , such as slopes , is not taken into account .    because of the large mass and the limited power of hdvs , altitude variations have a significant impact on their behavior .",
    "even small slopes produce such large longitudinal forces on the hdvs that they are often not able to keep constant speed during uphill segments ( because of limited engine power ) and during downhill segments without applying brakes ( because of the significant inertia ) .",
    "hence it is common that hdvs have to brake and therefore waste energy in order not to overcome the speed limit during downhill sections .",
    "this has been addressed in @xcite in order to design a control system that optimizes the fuel consumption of single hdvs driving over hilly roads . in this work",
    "the authors showed how , by using look - ahead control based on road topography information and speed limits , it is possible to reduce the fuel consumption of a single hdv up to @xmath1% .",
    "slopes become more critical in the case of hdvs driving in a platoon formation . in @xcite ,",
    "the authors point out how the existing look - ahead strategies for single hdvs are not necessarily suitable for a platoon and that a dedicated approach is required .",
    "this is due to the fact that the additional requirement of keeping a small inter - vehicular distance between vehicles collides with the fact that hdvs experience significantly different longitudinal forces ( e.g. , gravity force depending on their mass and current road slope and air drag resistance depending on the distance from the previous vehicle ) .",
    "this appeared evident in the experimental results of a three - vehicle platoon driving on a highway presented in @xcite .",
    "even though in this work the hdvs have similar characteristics , the author highlighted how the use of feedback controllers in particularly hilly sectors of the highway could lead to an increase of the fuel consumption of the follower vehicles compared to the case in which are driving alone .",
    "these experimental data are further analyzed in section  [ sec : motivational_experiment ] in order to obtain a good understanding of the role of the road gradient on hdv platooning .",
    "this analysis provides a motivation for the development of a novel cooperative look - ahead control for hdv platooning with the specific objective of fuel - efficiency , for which some early results have been published in @xcite .",
    "hence , this leads to the following contributions of the current paper .",
    "first , a control architecture for the fuel - efficient and safe control of an hdv platoon is presented .",
    "the control architecture is divided into two layers , namely the platoon coordinator and the vehicle controller layers .",
    "the platoon coordinator computes the fuel - optimal speed profile for the entire platoon by taking into account information about the road ahead .",
    "this optimal profile is communicated to the decentralized vehicle controller layer that safely tracks it and computes the real - time inputs for each vehicle in the platoon .",
    "second , two receding horizon strategies within this control architecture are developed .",
    "the platoon coordinator relies on a dynamic programming ( dp ) formulation @xcite that exploits preview information on the road topography and speed limits to compute a speed trajectory defined over space that is safe and fuel - optimal for the whole platoon .",
    "here we emphasize that the platoon coordinator can handle heterogeneous platoons in a systematic way .",
    "the vehicle controller layer , instead , is solved though a distributed model predictive control formulation @xcite that tracks the speed trajectory and a certain gap policy while guarantying fuel - efficiency and safety .",
    "more precisely , it is proved that with this architecture no collision will occur within the platoon when up to one vehicle is controlled manually .",
    "the performance of the proposed control architecture is finally evaluated through extensive simulations motivated by real experimental scenarios and comparisons with existing approaches for speed control and spacing policy are presented .",
    "the rest of the paper is organized as follows . in section  [ sec : motivational_experiment ] we analyze the experimental results presented in @xcite . in section  [ sec : model ]",
    "we present the vehicle and platoon models used in the controllers , whereas in section  [ sec : control_architecture ] we introduce the control architecture . the platoon coordinator and",
    "the vehicle controller layers are discussed in sections  [ sec : platoon_coordinator ] and  [ sec : trajectory_tracking ] , while their performance is studied in sections  [ sec : analysis_platoon_coordinator ] ,  [ sec : analysis_vehicle_controller ] and  [ sec : analysis_integrated_system ] , by means of simulations . finally , conclusions are stated in section  [ sec : conclusion ] .",
    "in this section we analyze the experimental results presented in @xcite in order to reach a good understanding of the impact of the road gradient on hdv platooning and motivate the need for the design of a look - ahead control framework for fuel - efficient hdv platooning .    in this experiment a platoon of three similar hdvs ( same powertrain and mass of @xmath2 , @xmath3 , @xmath4 tons , respectively ) is driven over a @xmath5 km highway stretch between the swedish cities of mariefred and eskilstuna . the topography for this road is displayed in figure  [ fig : matlab_road_topology45 ] , where the red color highlights the uphill and downhill sections where the slope is too large for a nominal hdv ( whose",
    "parameters are displayed in table  [ tab : vehicle_parameters ] in section  [ sec : analysis_platoon_coordinator ] ) to maintain a constant speed of @xmath6 m / s without braking or exceeding the engine power limit .",
    "for the considered road , the steep sections represent @xmath7% of the total length .",
    "overall , the follower vehicles , by platooning , manage to save @xmath8% and @xmath9% , respectively .",
    "however in @xcite it is shown that the fuel - efficiency drops significantly in the road sector where the slope is more varying . in this study",
    "we therefore analyze the behavior of the first two vehicles while driving over the particularly hilly stretch highlighted in figure  [ fig : matlab_road_topology45 ] as sector a for which an increase of the fuel consumption of the second hdv of @xmath10% compared to the case of driving alone has been reported . the behavior is shown in figure  [ fig : matlab__experiment ] .",
    "the first vehicle tracks a reference speed of @xmath11 m / s using cruise control and it switches to braking mode only when the speed limit of @xmath12 m / s is reached , while the second vehicle tracks a headway gap ( a distance proportional to its speed ) from the first vehicle and it switches to braking mode only when the headway gap reaches a certain threshold ( refer to @xcite for a complete characterization of the controllers ) . in the analyzed sector three critical segments highlighted in figure  [ fig : matlab__experiment ] are identified where the use of feedback controls shows its limitations .    *",
    "_ segment 1 _ : due to the steep downhill the first hdv is not able to maintain the reference speed and therefore it accelerates while coasting . the second vehicle , while trying to track the headway gap policy , follows the same behavior .",
    "however , due to the reduced experienced air resistance , during the downhill the second vehicle accelerates more than the first one and , when the critical headway gap is reached , it brakes . in this case",
    "the coordination between the accelerations of the two vehicles would have the potential to avoid the undesired braking .",
    "* _ segment 2 _ : the headway gap deviates significantly from the reference one , due to a large relative speed at the beginning of the uphill segment and a change of gear during the segment . the second vehicle , in order to reduce the headway gap error ,",
    "significantly increases the relative speed .",
    "once the critical headway gap is reached , it brakes strongly . in this case",
    ", the prediction of the vehicles behaviors would have allowed the second vehicle to reduce the relative speed before reaching the reference headway gap and , therefore , to avoid the undesired braking . * _ segment 3 _ : here the second vehicle shows a more critical behavior compared to the first downhill .",
    "in fact , during downhills , the vehicles actuators work close to saturation ( small fueling and small braking ) which is not suitable for feedback controller . therefore in segment 3",
    "the control state of the second vehicle continues to switch between fueling and braking modes . in this case",
    ", the use of a receding horizon framework would have allowed to predict correctly the vehicle behavior depending on the slope and , by taking into account the actuators saturation , therefore , to obtain a smoother behavior of the vehicle .",
    "the analysis of these experimental results provides a strong motivation for the development of a cooperative look - ahead control strategy for hdv platooning based on a receding horizon framework where the road gradient and the vehicles ahead can be explicitly taken into account .        .",
    "the first plot shows the road topography , whereas the second plot shows the speed of the two vehicles ; the third plot shows the real and reference ( according to a headway gap policy ) between the vehicles ; finally the forth and fifth plots shows respectively the normalized engine torque for both vehicles and the normalized braking force for the second vehicle ( the braking action of the first vehicle is not available ) . for additional details , see @xcite . ]",
    "hdvs are complex systems with a large number of interacting dynamics . due to their heavy load ,",
    "the braking and powertrain systems of an hdv have to generate and transfer extremely high torques . in this section",
    "we first present the vehicle system architecture upon which the proposed controller is designed .",
    "second , we introduce the model of the longitudinal dynamics of a single vehicle and a platoon with a particular focus on the components that play a significant role for the fuel consumption . finally , we present the fuel model used to estimate the fuel consumption .      the functioning of an hdv is guaranteed by a large number of system units that communicate with each other through the controller area network ( can ) bus . a simplified control architecture of an hdv is shown in figure  [ fig : system_vehicle_architecture ] , where only the system units that are of interest for our work are displayed @xcite . a more detailed description of a complete vehicle system architecture is given in @xcite .",
    "the communication with the outside world relies on the wireless sensor unit ( wsu ) .",
    "this unit shares real - time information with the other vehicles within the platoon .",
    "the global positioning system ( gps ) computes the absolute position of the vehicle , while the radar measures the distance and relative speed between the current vehicle and the preceding one .",
    "the real - time state information of the platoon coming from the wsu , the gps and the radar are fused by the data processing unit and sent to the high - level controller .",
    "the high - level controller computes the desired acceleration and a boolean variable defining which low level controller should track it . in particular , the brake management system ( bms ) controls the braking actuators , while the engine and gear management systems ( ems and gms ) control the engine , the gearbox and the clutch to provide the requested acceleration .      in this subsection",
    "we derive the model of the longitudinal dynamics of a single vehicle and the platoon that is then used in the controller formulation . using newton s second law , the longitudinal dynamics of a single vehicle",
    "can be expressed by : @xmath13 where @xmath14 and @xmath15 are the states of vehicle @xmath16 , respectively , the speed and the longitudinal position , @xmath17 is its mass and @xmath18 , @xmath19 , @xmath20 , @xmath21 and @xmath22 are the forces acting on the vehicle .",
    "we collect @xmath14 and @xmath15 in the state vector @xmath23^\\text{t}$ ] ) .",
    "more specifically , @xmath18 and @xmath19 are the control inputs and represent the forces generated by the powertrain and the braking system , respectively .",
    "the engine force @xmath18 is characterized in section  [ sec : fuel_model ] , while the braking force @xmath19 is assumed to be limited by the road friction and therefore bounded by @xmath24 where @xmath25 and @xmath26 denote the ( positive ) road friction coefficient and the braking system efficiency , respectively .",
    "next , @xmath27 is the force due to the gravity , modeled as @xmath28 where @xmath29 is the gravity acceleration and @xmath30 the road slope at position @xmath15 .",
    "the rolling resistance is represented by @xmath31 and is modeled as @xmath32 where @xmath33 is the rolling coefficient .",
    "finally @xmath34 is the aerodynamic drag , modeled as @xmath35 where @xmath36 is the air density , @xmath37 is the cross - sectional area of the vehicle and @xmath38 is the air drag coefficient . in order to take into account the influence of the inter - vehicular distance on the aerodynamic force that plays an essential role in platooning , the drag coefficient @xmath38 is defined as a function of the distance to the previous vehicle @xmath39 .",
    "this dependence is modeled by @xmath40 where the parameters @xmath41 and @xmath42 have been obtained by regressing the experimental data presented in @xcite . the effect of the short inter - vehicular distance on the leading vehicle is neglected since it is smaller than one on the follower vehicles . the experimental data and the regression curve are displayed in figure  [ fig : matlab_drag_coefficient ] .        in this work",
    "we have chosen to model the air drag coefficient on the basis of the experimental data presented in @xcite relative to the second vehicle of a two buses platoon driving at @xmath43 km / h . in the literature",
    "reports on air drag coefficient or fuel consumption measures based on both real experiments @xcite and fluid dynamics simulator @xcite are presented .",
    "they show a reduction of the air drag coefficient for short inter - vehicular distances .",
    "how the reduction relates to the inter - vehicular distance varies .",
    "this variability has been attributed to the weather condition ( e.g , temperature , humidity or wind ) and the shape of the vehicles .",
    "the model of a platoon of @xmath44 vehicles is given by the combination of equations for @xmath45 and the distance definition : @xmath46 where @xmath47 denotes the length of vehicle @xmath16 .",
    "the powertrain is a complex system composed by engine , clutch , gearbox and final gear that allows to transform the fuel s energy into longitudinal force . in this subsection",
    "we derive a simple model of the powertrain that captures the intrinsic relation between consumed fuel and generated traction force . in the model derivation",
    "we ignore transmission energy losses and the rotational inertia of the powertrain components because they are assumed to be negligible when compared to the vehicle mass .",
    "engine performance is typically described by the brake specific fuel consumption ( bsfc ) , that defines the ratio between consumed fuel and generated energy for various operation points ( i.e. , engine speed and generated torque ) . in figure",
    "[ fig : matlab_engine_map ] we show the bsfc map for an hdv engine of @xmath48 hp @xcite , where the dotted lines represent the collection of operation points with equal generated power .",
    "this map can be easily converted in one that defines the fuel flow @xmath49 as function of the engine speed @xmath50 and the generated engine power @xmath51 , i.e. , @xmath52 . by assumption ,",
    "the engine power @xmath51 , passing through the clutch , the gearbox and the final gear is completely transferred to the wheels .",
    "the rotational speed , instead , changes between the transmission components and is finally transformed into longitudinal speed by the wheels .",
    "ultimately , under the assumption of no longitudinal slip , the vehicle speed @xmath14 can be defined as @xmath53 , where @xmath54 is a constant gain and @xmath55 is the gear ratio of the gearbox .",
    "therefore the fuel flow can be expressed as a function of the speed @xmath14 , the traction force @xmath56 and the gear ratio @xmath55 as @xmath57     hp engine regenerated from @xcite .",
    "the plot shows the bsfc expressed in g / kwh as function of the engine speed and torque .",
    "the dotted lines represent equal power curves , while the blue thick line represents the collection of the fuel - optimal operation points for various generated powers . ]    in order to be efficiently used in the control design , the fuel model is further simplified by removing the dependence of the fuel flow @xmath58 on the gear ratio @xmath55 through the introduction of an additional assumption : the gear ratio can be changed continuously on a unlimited span and the gear management system chooses the most efficient gear ratio .",
    "hence , we redefine the fuel model as @xmath59 the resulting curve @xmath60 is depicted in figure  [ fig : fuel_model ] and is linearly regressed in order to obtain the fuel model used in the controller design , defined by @xmath61 from this analysis we can also obtain the bounds on the generated power that are independent from the engine speed and the gear ratio : @xmath62 in figure  [ fig : fuel_model ] the two fuel models in and , and the correspondent optimal engine speed are displayed .",
    "we note that the approximation error is negligible .",
    "; ( p ) at ( 0,4 ) [ platoonlayer ] platoon coordinator ; ( pl ) at ( -1.55,6 ) [ planner ] mission planner ; ( db ) at ( 3.1,6 ) [ db ] road database ; ( [ xshift=0]p.north-|db.south ) to node[left ] @xmath63 , @xmath64 , @xmath65 ( [ xshift=0]db.south ) ; ( [ xshift=0]p.north-|pl.south ) to node[left]@xmath66 ( [ xshift=0]pl.south ) ; ( t1 ) at ( -3.1,0 ) [ truck ] ; ( v1 ) at ( -3.1,2 ) [ vehiclelayer ] vehicle @xmath67 controller ; ( [ xshift=-]v1.south ) to node[left]@xmath68 ( [ xshift=-]t1.north ) ; ( [ xshift=]v1.south ) to node[right]@xmath69 ( [ xshift=]t1.north ) ; ( [ xshift=-]p.south-|v1.north ) to node[left]@xmath70 ( [ xshift=-]v1.north ) ; ( [ xshift=]p.south-|v1.north ) to node[right]@xmath71 ( [ xshift=]v1.north ) ; ( t2 ) at ( 0,0 ) [ truck ] ; ( v2 ) at ( 0,2 ) [ vehiclelayer ] vehicle @xmath72 controller ; ( [ xshift=-]v2.south ) to node[left]@xmath73 ( [ xshift=-]t2.north ) ; ( [ xshift=]v2.south ) to node[right]@xmath74 ( [ xshift=]t2.north ) ; ( [ xshift=-]p.south-|v2.north ) to node[left]@xmath75 ( [ xshift=-]v2.north ) ; ( [ xshift=]p.south-|v2.north ) to node[right]@xmath76 ( [ xshift=]v2.north ) ; ( t3 ) at ( 3.1,0 ) [ truck ] ; ( v3 ) at ( 3.1,2 ) [ vehiclelayer ] vehicle @xmath77 controller ; ( [ xshift=-]v3.south ) to node[left]@xmath78 ( [ xshift=-]t3.north ) ; ( [ xshift=]v3.south ) to node[right]@xmath79 ( [ xshift=]t3.north ) ; ( [ xshift=-]p.south-|v3.north ) to node[left]@xmath80 ( [ xshift=-]v3.north ) ; ( [ xshift=]p.south-|v3.north ) to node[right]@xmath81 ( [ xshift=]v3.north ) ; ( v2.east-|v3.west ) to node[below]@xmath82 ( v2.east ) ; ( v1.east-|v2.west ) to node[below]@xmath83 ( v1.east ) ; ( t1.east ) to node[below ] @xmath84 ( t2.west ) ; ( t2.east ) to node[below ] @xmath85 ( t3.west ) ;    the system architecture for the look - ahead hdv platoon controller is shown in figure  [ fig_architecture ]",
    ". the mission planner suggests routes and platoon opportunities .",
    "the platoon coordinator supervises the platoon behavior exploiting road information .",
    "the vehicle controllers execute the speed profiles for the individual vehicles .",
    "the platoon coordinator layer exploits available information on the topography of the planned route to find a fuel - optimal speed profile for the entire platoon , while satisfying the average speed requirement provided by the mission planner .",
    "hereby , in order to capture the dynamics of the road topography , it considers a horizon of several kilometers and takes the constraints of all vehicles in the platoon into account . as a result , it can be guaranteed that every vehicle in the platoon is able to track the required speed profile .",
    "a single speed trajectory is computed by the platoon coordinator , representing the speed of the platoon . however , when this speed profile is specified as a function of space ( i.e. , position on the road ) and the inter - vehicle spacing is chosen according to a pure time delay , every individual vehicle in the platoon can track this single speed profile .",
    "it is remarked that this layer can typically operate in a receding horizon fashion , providing an updated speed profile roughly every 10 seconds or when the recalculation is needed due to a strong deviation from the original speed profile . finally ,",
    "as this layer is not safety - critical and not related to a specific vehicle , it can be implemented in any of the platooning vehicles or even in an off - board road unit . in section  [ sec : platoon_coordinator ] , we present a dp approach to formulate and solve the stated problem .",
    "the vehicle controller is responsible for the real - time control of each vehicle in the platoon and is aimed at tracking the desired speed profile as resulting from the platoon coordinator .",
    "it also exploits the communication between vehicles of the assumed trajectories to ensure the proper spacing strategy .",
    "this layer guarantees the safety of platooning operations to for instance avoid collisions between trucks . because of the safety critical aspect",
    ", this layer is implemented in a distributed fashion in each vehicle of the platoon .",
    "more precisely , each vehicle controller runs in the block named high - level controller in the system vehicle architecture shown in figure  [ fig : system_vehicle_architecture ] . in section  [ sec : trajectory_tracking ] a distributed model predictive control approach for this problem is discussed .",
    "figure  [ fig_formulation_architecture ] shows how the optimization problems in the platoon coordinator and the vehicle controllers interact , and their mathematical structure .",
    "note how the platoon coordinator , in order to have a good prediction of the consumed fuel over the horizon , uses an accurate non - linear model of the vehicle , while the vehicle controller layer , in order to enable fast computation necessary for the real - time control of the vehicle , uses a linear vehicle model .",
    "( p1 ) at ( 0,0 ) [ platoonlayer ] platoon coordinator +   + @xmath86 ; ( p2 ) at ( 0,-50 mm ) [ platoonlayer ] vehicle @xmath16 controller +   + @xmath87 ; ( p2.north-|p2.south ) to node[right , text width=3.5cm]reference speed profile , gap policy ( p1.south ) ;",
    "the platoon coordinator is the higher layer of the platoon control architecture .",
    "it takes as inputs the average speed requirement @xmath66 from the mission planner and the current vehicles state @xmath88 from their vehicle controllers . by exploiting the available information on the planned route ( i.e.",
    ", slope data @xmath63 and speed limits @xmath64 ) , it generates a unique feasible and fuel - optimal speed profile @xmath89 defined over space for all the vehicles within the platoon ( i.e. , @xmath90 for @xmath91 , where @xmath92 is the space variable ) .",
    "furthermore , according to safety criteria , it specifies the time gaps @xmath93 , defined as the time delay between two consecutive vehicles passing through the same point , i.e. , @xmath94 note that this spacing policy is consistent with the requirement that all vehicles have to follow the same speed profile over space .",
    "this can be easily shown by computing the time derivative of the left hand side , @xmath95 and the right hand side of , @xmath96 where @xmath97 denote the speed of vehicle @xmath16 at space @xmath98 .",
    "in fact , by combining the time gap definition with and , we obtain .    the coordinator layer is implemented using a dp framework @xcite that runs in closed - loop .",
    "the parameters that characterize the dp problem are the discretization space @xmath99 , the horizon length @xmath100 and the refresh frequency @xmath101 .",
    "we also define the horizon space length as @xmath102 .    in the coming subsections",
    "we introduce all the components of the dp formulation , i.e. , the vehicle model , the constraints on the input and states and finally the cost function .",
    "the platoon coordinator layer uses a discretized version of the vehicle model , where the discretization is carried out in the space domain using the implicit euler approximation .",
    "the discretized vehicle model is :    @xmath103   \\nonumber \\\\ & -\\tfrac{1}{2}\\rho a_v c_{d}(d_i^{\\text{s}}(z_k ) ) ( v_i^{\\text{s } } ( z_k))^2 ,   \\nonumber \\\\ v_i^{\\text{s}}(z_k)\\frac{t_i^{\\text{s } } ( z_k)-t_i^{\\text{s}}(z_{k-1})}{\\delta s_{{\\text{dp}}}}=&1   \\label{eq : model_ptg2 } ,   \\end{aligned}\\ ] ]    where @xmath104 is the discretized space variable , @xmath105 , @xmath106 , @xmath107 and @xmath108 are the speed , the engine and braking forces and the distance to the previous vehicle expressed as function of space , respectively .",
    "the advantage of using the space discretization is that , by relaxing the average speed requirement , there is no constraint depending on time .",
    "the relaxation is done by removing the average speed constraint and introducing instead travel time over the horizon in the cost function , hereby using an appropriate weighting .",
    "this allows to ignore the time dynamics and therefore reduce significantly the computational complexity .",
    "a drawback of the space discretization is that the distance definition can not be expressed in the space domain . instead , the following approximated expression , as function of the current vehicle speed ,",
    "is used : @xmath109    in the dp formulation we refer to as , where @xmath110 is the input vector defined as @xmath111 , @xmath112^\\text{t}$ ] .",
    "the platoon model is constrained by introducing bounds on the input and the speed .      according to and ,",
    "the engine and braking forces are bounded by the following constraints : @xmath113 in the dp formulation , we refer to these constraints as @xmath114 .      in order to take into account the road speed limits , the speed is bounded by @xmath115 we refer to this constraint as @xmath116 .",
    "moreover , in order to require all the vehicle to follow the same speed profile , the constraint @xmath117 is introduced .",
    "the practical effect of this constraint is to reduce the search space of the dynamic programming algorithm to one dimension rather then the number of vehicles in the platoon , enabling fast computation .      the objective of the platoon coordinator layer is to define the optimal speed profile that minimizes the fuel consumption of the whole platoon , while maintaining a certain average speed .",
    "this is done by defining the cost function as the weighted sum of two terms : a first term @xmath118 for @xmath119 and @xmath45 representing the fuel amount consumed by the platoon and a second term @xmath120 for @xmath119 representing the travel time over the horizon , i.e. , @xmath121 where @xmath122 represents a trade - off weight , the parameter @xmath122 is tuned to give the desired average time ] .",
    "the term @xmath118 is computed by using the fuel model , taking also into account a final term representing the kinematic energy of the platoon at the end of the horizon : @xmath123 the term @xmath120 is obtained by using the time model : @xmath124      we now have all the elements to formulate the dp problem solved in the platoon coordinator :    @xmath125 [ eq : dp ]    @xmath126for @xmath119 , where the equations and represent the initial conditions of the dp formulation .",
    "this section focuses on the distributed model predictive controllers running in the vehicle controller layer .",
    "each vehicle controller runs locally .",
    "vehicle @xmath16 receives the optimal speed profile @xmath89 and the time gap @xmath93 from the platoon coordinator and state information from the preceding vehicle . by tracking the optimal speed profile and gap policy requirement , and satisfying a safety constraint , it generates the optimal state and input trajectories , respectively @xmath127 and @xmath128 , and the desired acceleration @xmath129 for the vehicle low - level controllers .",
    "the parameters that characterize the mpc formulation are the discretization time @xmath130 , the horizon steps number @xmath131 , the refresh frequency @xmath132 and the length of the horizon defined as @xmath133 .    in the coming subsections",
    "we introduce all the components of the mpc formulation , i.e. , the vehicle model , the constraints on the input and state , the safety constraint and finally the cost function .      in the mpc formulation",
    "the vehicle is described by @xmath134 where @xmath135 , \\quad    b\\triangleq \\left [ \\begin{matrix } \\delta t_\\text{mpc } \\\\ 0 \\end{matrix } \\right ] .",
    "\\nonumber \\label{eq : model_veh1}\\ ] ] the variables @xmath136^\\text{t}$ ] and @xmath137 denote the predicted state ( speed and position ) and control input ( acceleration ) trajectories of vehicle @xmath16 associated to the update time @xmath138 , respectively .",
    "we also introduce three additional trajectories associated to each update time @xmath138 that will be used later in the mpc formulation :    * the optimal state trajectory @xmath139 , * the state reference trajectory @xmath140 , * the assumed state trajectory @xmath141 ,    for @xmath142 and the corresponding input control trajectories defined likewise . while the predicted and optimal trajectories are function of the optimization variable , the reference and assumed trajectories are pre - computed .",
    "more precisely the reference trajectories and @xmath143 are computed from the reference trajectory @xmath89 and the current position @xmath144 of the vehicle . in particular",
    ", @xmath145 is defined recursively as @xmath146 while @xmath147 is defined as @xmath148 the control input reference trajectory @xmath143 is defined as finite differences of @xmath147 , i.e. , @xmath149 the assumed state and control input trajectories are computed from the optimal and real trajectories of the vehicle as @xmath150 and @xmath151 likewise . as mentioned at the beginning of this section , each vehicle communicates the assumed trajectory @xmath141 to the follower vehicle . in this case , the use of the optimal trajectory computed the previous step reflects the assumption of a maximum communication delay of @xmath152 .      in order to take into account the bounds on the braking force and the engine power , as done in the platoon coordinator layer , the control input @xmath153 is bounded by the following non - linear constraint : @xmath154 where @xmath155 denotes the summation of the external forces acting on the vehicle and is defined as @xmath156 the control input is additionally bounded by a soft constraint in order to allow braking only if necessary , i.e. , when the safety constraint ( see section  [ sec : safety_constraint ] ) is activated or the braking is required by the platoon coordinator .",
    "this is formulated as follows : @xmath157 where @xmath158 is the softening variable and @xmath159 is the coasting acceleration ( i.e. , no braking and fuel injection ) and is defined as : @xmath160    in the mpc formulation we refer to the constraint , as @xmath161 and to the soft constraint , as @xmath162 .",
    "the speed is bounded according to the constraint as @xmath163 in the mpc formulation , we refer to this constraint as @xmath164 .",
    "the platoon is intended to operate on standard highways where other vehicles are present .",
    "the designed controller therefore should be able to cope with cases where the platoon behavior deviates from the predicted one because of internal disturbances ( e.g. , gear shift ) or external events ( e.g. , related to the traffic situation or a vehicle cutting into the platoon ) . in this section",
    "we focus on the safety problem , leaving to further work the study of how such events should be handled ( i.e. , autonomously or switching to manual driving ) .",
    "the platoon is considered safe if , whatever a vehicle in the platoon does , there exists an input for all the follower vehicles such that collision can be avoided .",
    "the safety of the platoon is guaranteed by ensuring that the state of each vehicle lies within a safety set and it is firstly studied by considering two adjacent vehicles and later extended to the entire platoon .",
    "in here we consider the following vehicle continuous dynamics : @xmath165 = f(\\tilde{x}_i,\\tilde{a}_i)= \\left[\\begin{array}{c } \\tilde{a}_i \\\\ \\tilde{v}_i \\end{array}\\right ] , \\label{eq : safety_model}\\ ] ] where @xmath166 , @xmath167 and @xmath168 are the speed , position and acceleration of vehicle @xmath16 , respectively .",
    "let us now focus on the dynamics of two adjacent vehicles described by @xmath169&=f(\\tilde{x}_{i-1},\\tilde{x}_i,\\tilde{a}_{i-1},\\tilde{a}_i ) = \\left[\\begin{array}{c } f(\\tilde{x}_{i-1},\\tilde{a}_{i-1 } ) \\\\",
    "f(\\tilde{x}_{i},\\tilde{a}_{i } ) \\end{array}\\right ] , \\label{eq : safety_model2 } \\end{aligned}\\ ] ] where the acceleration of the current vehicle @xmath168 is the control input , while the acceleration of the previous vehicle @xmath170 is the exogenous input that can be regarded as a disturbance",
    ". we also introduce the admissible set as the set of all admissible states , where @xmath47 denotes the length of vehicle @xmath16 . in order to obtain a closed form of the safety set ,",
    "the following conservative approximations of the the exogenous and control inputs are introduced :    @xmath171 , & \\ ; \\text{if } \\tilde{v}_{i-1}>0 , \\\\   [ 0,\\overline{a}_{\\text{max},i } ] , & \\ ; \\text{if } \\tilde{v}_{i-1}=0 , \\end{cases } \\label{eq : safety_constraint_disturbance}\\\\   \\tilde{a}_i \\in \\mathcal{a}^\\text{f}(\\tilde{x}_i)&=\\begin{cases } [ \\overline{a}_{\\text{min},i},\\underline{a}_{\\text{max},i } ] , & \\ ; \\text{if } \\tilde{v}_i>0 , \\\\   [ 0,\\underline{a}_{\\text{max},i } ] , & \\ ; \\text{if } \\tilde{v}_i=0 , \\end{cases } \\label{eq : safety_constraint_control_input}\\end{aligned}\\ ] ]    where @xmath172 , @xmath173 , @xmath174 and @xmath175 are lower and upper bounds on the minimum and maximum possible accelerations of vehicle @xmath16 , respectively .",
    "such bounds are computed under reasonable assumptions on the vehicles and road properties , i.e. , the vehicles speed is limited ( @xmath176 ) , the admissible vehicles weight is bounded ( ) and the road slope @xmath177 is bounded ( @xmath178 ) .",
    "for example , the bounds @xmath172 and @xmath173 can be computed as follows :    @xmath179    where @xmath180 and @xmath181 represents the maximum braking capacity of vehicle @xmath16 .",
    "note that , due to the definition of the bounds and because of the dominance of the @xmath181 term in the definition of @xmath182 , the following inequalities hold :    @xmath183    [ eq : safety_relation ]    in order to guarantee the safety of the subsystem , we should guarantee that the state @xmath184^\\text{t}$ ] always lies in a safety set @xmath185 included in @xmath186 , for any admissible trajectory of the previous vehicle .    .",
    "the variable @xmath187 denotes the distance between the two adjacent vehicles . ]",
    "we now define the safety set @xmath188 , displayed in , as @xmath189^\\text{t } : g_j(\\tilde{x}_{i-1},\\tilde{x}_i ) \\geq 0 , \\;j=1, ...",
    ",4\\ } , \\label{eq : safety_definition_set}\\ ] ] where @xmath190 and we state the following result :    given the dynamic system and the constraints and on the exogenous and control inputs respectively , there exists a control law @xmath191^\\text{t } ) \\in \\mathcal{a}^\\text{f}(\\tilde{x}_i)$ ] such that for all @xmath192^\\text{t } \\in \\mathcal{s}$ ] and @xmath193 , the condition @xmath194^\\text{t } \\in \\mathcal{s}$ ] holds for all @xmath195 . in other words , @xmath185 is a robust controlled invariant set @xcite .    by using nagumo s theorem for robust controlled invariant sets @xcite ,",
    "the lemma can be proved by showing that for all @xmath184^\\text{t } \\in \\partial \\mathcal{s}$ ] ( defined as the boundary of @xmath185 ) there exists an @xmath196 such that , for all @xmath197 , the relation @xmath198 holds for all @xmath199 such that @xmath200 .",
    "because of the structure of the problem , the control input @xmath168 is chosen as @xmath201 for any @xmath184^\\text{t } \\in \\partial \\mathcal{s}$ ] and @xmath193 .",
    "we organize the proof by considering the @xmath184^\\text{t } \\in \\partial \\tilde{\\mathcal{s}}$ ] defined by the activation of each @xmath202 :    * for @xmath184^\\text{t}$ ] such that @xmath203 , and @xmath202 , for @xmath204 , + @xmath205 + where the equality and inequality hold because of how @xmath168 is defined by and @xmath206 . * for @xmath184^\\text{t}$ ] such that @xmath207 , and @xmath202 , for @xmath208 , + @xmath209 + where the inequality holds by noticing that the combination of @xmath210 , @xmath211 and the relation gives @xmath212 . * for @xmath184^\\text{t}$ ] such that @xmath213 , and @xmath202 , for @xmath214 , + @xmath215 + where the inequality holds because of .",
    "the same can be verified in a similar way for @xmath184^\\text{t}$ ] such that @xmath216 and    the choice of the safety set guarantees that the follower vehicle can react to the emergency braking maneuver of its predecessor , such that both vehicles come to a standstill without colliding .",
    "we now extend the result in lemma 1 to the safety of the whole platoon .",
    "more precisely , we proof that whatever a vehicle does , there exists an input for all the follower vehicles , such that collision can be avoided .",
    "this is formalized by the following theorem :    consider a vehicle with index @xmath217 and all its follower vehicles @xmath218 satisfying the dynamics in . then , there exists a control law @xmath219 such that for all @xmath220^\\text{\\rm{t } } \\in \\mathcal{s}$ ] and @xmath221 , the condition @xmath222^\\text{\\rm{t } } \\in \\mathcal{s}$ ] holds for all @xmath195 and all @xmath223 .",
    "the application of lemma 1 for @xmath224 proves the existence of an input @xmath225 that ensures that @xmath194^\\text{t } \\in \\mathcal{s}$ ] for all @xmath195 .",
    "then , by noting that @xmath226 according to , it follows that @xmath227.the theorem is then proven by induction over the vehicle index , hereby repetitively applying lemma 1 .",
    "this result is adapted to the mpc formulation in order to guarantee the safety of the platoon .",
    "more precisely , each vehicle , knowing the assumed state trajectory of the vehicle ahead , can compute the safety set for its own predicted state . by taking into account",
    "that , according to the definition of the assumed state in , the real state of the previous vehicle is know with a one step delay , the safety set @xmath185 translates to the following safety constraint on each follower vehicle state : @xmath228 for @xmath229 .",
    "note that for safety purpose only the safety constraint for @xmath230 is necessary .",
    "in fact it guarantees that , if at the update time @xmath138 the current state of each follower vehicle is safe , then it is going to be safe also at the update time @xmath231 .",
    "however , the safety constraint for @xmath232 gives optimal trajectories that are safe over the whole horizon and therefore produces a smoother and more fuel - efficient behavior of the platoon . in the mpc formulation",
    ", we refer to the safety constraint as @xmath233 .",
    "the objective of the vehicle controller layer is to follow the optimal trajectory and the gap policy requirement provided by the platoon coordinator layer .",
    "this can be formulated by introducing the following cost function : @xmath234 where @xmath235 and @xmath236 represents the discretized version of the time gap @xmath93 ( i.e. , @xmath237 ) .",
    "the parameters @xmath238 , @xmath239 and @xmath240 $ ] can be chosen in order to have a good trade - off between reference trajectory , gap policy tracking and actuators excitation .",
    "the weight @xmath241 related to the softening - variable of the constraint is chosen relatively large such that only the activation of the safety constraint @xmath233 can require a significant braking force .",
    "we now have all the elements to formulate the mpc problem :    @xmath242    where @xmath142 and represents the initial condition of the mpc problem . for implementation purpose the state - dependent constraint set in , and will be replaced respectively by , and . taking into account",
    "that the safety constraint is quadratic and convex , the mpc problem can be recasted into a quadratic constraint quadratic programming ( qcqp ) problem for which efficient solvers exist .",
    "the output of the vehicle controller is the desired acceleration @xmath243 ( defined as @xmath244 , where @xmath245 is the optimal input trajectory resulting from the mpc ) and a boolean variable @xmath246 defined as @xmath247 that states if the desired acceleration should be tracked by the bms or the ems .",
    "in this section we analyze the performance of the platoon coordinator ( as presented in section [ sec : platoon_coordinator ] and shown in figures [ fig_architecture ] and [ fig_formulation_architecture ] ) by focusing on fuel - efficiency .",
    "we compare its performance with other standard controller setups . to make the analysis independent from the low - level tracking strategy , we assume in this section that the hdvs can follow exactly the speed trajectories and spacing policies defined by the high - level controllers .      [ sec : analysis_platoon_coordinator_setup ] the comparison is done by using as benchmark the scenario introduced in section  [ sec : motivational_experiment ] .",
    "we therefore consider a platoon of two hdvs driving over the @xmath5 km road stretch shown in figure  [ fig : matlab_road_topology45 ] and investigate the controller performance for both homogeneous and heterogeneous platoons .",
    "the performance metrics chosen to compare the different control configurations are the energy and the fuel consumed by the hdvs . in some comparisons the consumed energy is preferred over the consumed fuel because it can be directly related to the energies dissipated by the various forces ( i.e. , gravity , rolling , drag and braking forces ) .",
    "the control configurations considered in the comparisons include three control strategies and three gap policies . in detail , the following control strategies are considered :    * cruise control ( cc ) : the first vehicle keeps the constant reference speed @xmath248 on low - grade slopes .",
    "if the uphill slope is too large to maintain constant speed , the engine generate the maximum power @xmath249 until the speed reaches @xmath248 again . if the downhill slope is too large to maintain constant speed without braking , the engine coasts ( i.e. , does not inject any fuel , generating therefore the minimum power @xmath250 ) until the speed reaches @xmath248 again .",
    "however , if the hdv reaches the speed limit @xmath251 , the brakes are activated in order not to overcome it ; * look - ahead control ( lac ) : the first vehicle exploits the slope information of the road ahead in order to minimize its own fuel consumption . * cooperative look - ahead control ( clac ) : the first vehicle follows the speed profile generated by the platoon coordinator proposed in this paper .",
    "the following gap policies are considered :    * space gap ( sg ) : the second vehicle keeps a constant distance @xmath252 from the first vehicle ; * headway gap ( hg ) : the second vehicle keeps a constant headway time @xmath253 from the first vehicle , i.e. , it keeps a distance proportional to its speed ( @xmath254 ) ; * time gap ( tg ) : the second vehicle keeps a constant time gap @xmath255 from the first vehicle according to .    in order to be able to maintain exactly the desired gap policies as previously assumed , the second vehicle is allowed to overcome the theoretical maximum engine power @xmath256 and to brake if necessary .",
    "in addition , in order to obtain a fair comparison it is ensured , by tuning the trade - off parameter @xmath122 of the lac and clac formulations ( see ) , that the different control strategies have the same average speed @xmath66 and the parameters @xmath252 , @xmath253 and @xmath255 are chosen such that the vehicles in the different gap policies have the same distance when driving at constant speed @xmath66 ( i.e. , @xmath257 ) .",
    "finally in order to remove the influence of the residual kinematic energy , the initial and final speeds are constrained to be the same in all the controller configurations .      in this section",
    "we present the results of the platoon behavior for the three different control strategies , while keeping a tg policy ( @xmath258 s ) .",
    "in the first part , as in the motivational example of section  [ sec : motivational_experiment ] , we focus on the homogeneous platoon scenario , while in the second part we consider two heterogeneous platoons ( i.e. , where the second vehicle is respectively heavier and lighter than the leading one ) .",
    ".vehicle s paramters [ cols=\"<,^\",options=\"header \" , ]     we now consider a platoon of two identical vehicles , whose parameters values are displayed in table  [ tab : vehicle_parameters ] .",
    "we start the comparison by analyzing the comprehensive bar diagram displayed in figure  [ fig : matlab_comparison_control_bars ] representing the energy consumed by each vehicle of the platoon for the three control strategies ( the corresponding fuel consumption is displayed in the central column of table  [ tab : percentage_fuel_saved_1 ] ) .",
    "this energy is normalized respect to the energy consumed by a single vehicle driving alone using cc . the consumed energy is additionally split into various components representing the energy dissipated by each force , namely the gravity , roll , drag and braking force .",
    "we can first notice how the second vehicle , for all the control strategies , consumes less energy compared to the first one , due to the significant reduction of the energy associated to the drag force .",
    "second , comparing the three control strategies , we can observe how the use of the lac allows both vehicles to save energy , respectively @xmath1% and @xmath259% compared to the use of the cc . instead , by switching from the lac to the clac , the first vehicle consumes @xmath260% more energy , while the second one saves @xmath261% of energy ;",
    "therefore the platoon , given by the union of the two vehicles , saves @xmath262% of energy .",
    "this result is in line with our expectation since the lac optimizes the fuel consumption of the first vehicle , while the clac targets the reduction of the fuel consumption of the entire platoon .",
    "consequently , the saving of the clac strategy with respect to the lac strategy are expected to increase for platoons of more vehicles .",
    "going into the details of the various consumed energy components , first we notice that the gravity and roll energy components are the same for both vehicles for all the considered control strategies .",
    "this is due to the fact that the gravity energy depends only on the difference of altitude between the initial and final points , while the roll energy only depends on the driven distance that is the same by experiment design specification .",
    "the drag energy , instead , is significantly different for the two vehicles because of its dependence on the distance to the preceding vehicle , while it is approximately the same for the different control strategies .",
    "what significantly changes between the different control strategies is the energy dissipated by braking .",
    "t ) , for the three control strategies , namely cc , lac and clac , while keeping a tg policy , driving along the @xmath5 km road displayed in figure  [ fig : matlab_road_topology45 ] .",
    "each bar represents the consumed energy normalized respect to the the energy consumed by a single vehicle driving alone using cc .",
    "the consumed energy is split into various components representing the energy dissipated by each force , namely the gravity ( @xmath263 ) , roll ( @xmath264 ) , drag ( @xmath265 ) and braking ( @xmath266 ) force . ]    in order to understand the role of the control strategies in the braking usage in figure  [ fig : matlab_comparison_control_plot ] we show part of the simulation results corresponding to the road highlighted as segment b in figure  [ fig : matlab_road_topology45 ] . in this study",
    "we have chosen to focus on a downhill section because this is where the braking action is taking place .",
    "the comparison of the platoon behaviors follows :    * cc : during the downhill , starting from speed @xmath248 , the first hdv accelerates while coasting due to the large road grade . in the meantime",
    "the second vehicle has to brake slightly in order to maintain the time gap and compensate the reduced drag force compared to the first vehicle . at @xmath267 km , in order not to overcome the speed limit , both vehicles need to brake significantly ; * lac : by exploiting the topography information of the road ahead , the first vehicle reduces its speed before the downhill by anticipating the coasting phase such that the speed limit is reached only when the slope grade is small enough to stop accelerating while coasting and therefore it avoids braking .",
    "the second vehicle , as in the cc case , has to brake slightly while the first vehicle is coasting but it also avoids the significant braking phase at the end of the downhill ; * clac : since in this case the optimization is done considering the fuel consumption of both vehicles , with respect to the lac case the first vehicle starts to loose speed earlier before the downhill .",
    "this allows it to fuel sightly during the downhill , allowing the second vehicle to coast meanwhile and , as in the lac case , to reach the speed limit only when the slope grade is small enough to stop accelerating while coasting . in this case",
    "both hdvs do not need to brake .",
    "note that , in the case of longer downhill segments , the lower speed bound does not allow the vehicle to decrease the speed enough before the downhill in order not to hit the upper speed limit during the downhill .",
    "this is why in some sections of the @xmath5 km benchmark road , in the lac case , the first vehicle and , in the clac case , both vehicles still need to brake .",
    "t ) for three different control strategies , namely cc , lac and clac , while keeping a tg policy , driving along the sector b displayed in figure  [ fig : matlab_road_topology45 ] .",
    "the first plot shows the road altitude , where the red color is used to highlight the sections too steep to keep a constant speed of @xmath6 m / s while respecting the power limit and avoiding braking ; the second plot shows the speed profiles for the three control strategies followed by both vehicles ( because of the sg policy ) ; finally the third and forth plots show the summation between the generated power by the engine and the braking systems for the two vehicles and three control strategies ; the black lines in such plots define the theoretical minimum and maximum engine power , respectively @xmath268 and @xmath256 ( hence if the power crosses the lower power limit @xmath268 , the respective vehicle is braking ) . ]",
    "so far we have considered the case of an homogeneous platoon .",
    "what we want to investigate now is the the role of the different control strategies in the case of heterogeneous platoons . to answer this question , in table  [ tab : percentage_fuel_saved_1 ]",
    "we have reported the normalized fuel consumption for the cases of two heterogeneous platoons and the same homogeneous platoon previously considered .",
    "more in detail , the hdvs have the same powertrain , but their masses vary between @xmath269 , @xmath270 and @xmath5 t. analyzing the table we can notice how in the case of a heavier second vehicle the clac allows to save @xmath271% of fuel compared to the cc , while , in the case of an lighter second vehicle , it allows to save @xmath272% .",
    "however if we only analyze the last row we can note how , with the use of the clac , the order of the vehicles does not significantly change the normalized fuel consumption .",
    "concluding , the proposed controller ( clac ) has a significant impact on the reduction of the energy and fuel consumption . in detail",
    ", the majority of the fuel saving is related to the reduction of energy dissipated by braking during the downhill sections .",
    "the impact of such a controller grows in the case of heavier follower vehicle .",
    "c|c c|c c| c c & & & + & & & + mass & @xmath269 t & @xmath5 t & @xmath270 t & @xmath270 t & @xmath5 t & @xmath269 t    ' '' ''     + cc & @xmath273 & @xmath274 & @xmath273 & @xmath275 & @xmath273 & @xmath276    ' '' ''     + lac & @xmath277 & @xmath278 & @xmath279 & @xmath280 & @xmath281 & @xmath282 + clac & @xmath283 & @xmath284 & @xmath285 & @xmath286 & @xmath287 & @xmath288 +      in the previous analysis we have always considered a tg policy . the aim of this section is to compare the platoon performance for different gap policies , namely the sg , hg and tg policies , while keeping the same control strategy ( in the analysis we have considered cc ) . note that in order to be able to follow the required gap policy the second vehicle is allowed to exceed the maximum engine power . in this section",
    "we only focus on the homogeneous platoon , since the results for an heterogeneous platoon are qualitatively the same . in figure",
    "[ fig : matlab_comparison_gaps_bars ] we show the comprehensive bar diagram representing the normalized energy consumed by each vehicle of the platoon for the three gap policies , while using cc as control strategy . since the first vehicle uses the same control strategy , the energy consumption defers only for the second vehicle .",
    "it is interesting to notice that , similarly to the comparisons done in the previous section , the main difference between the energy consumption of the second vehicles is related to the energy dissipated by braking .",
    "more in detail the hg policy allows the second vehicles to save @xmath67% over the sg policy , while the tg policy allows to save an additional @xmath289% of energy . in order to understand the role of the gap policy on the braking energy , we show the platoon behavior driving over a synthetic hill composed by an uphill section with constant slope grade , a flat section and a downhill section with constant slope grade",
    "the platoon behavior for such a hill is shown in figure  [ fig : matlab_comparison_gaps_plot ] . analyzing the second vehicle behavior for each gap policy ,",
    "the following can be observed :    * tg policy : as argued in section  [ sec : platoon_coordinator ] , the time gap allows the vehicles to follow the same speed profile over space .",
    "that means that the generated forces and therefore the generated powers ( because of the equal speed result ) are equivalent except for a reduction of the air drag component in the second vehicle .",
    "therefore the power generated by the second vehicle , as can be observed in figure  [ fig : matlab_comparison_gaps_plot ] , is approximately a biased equivalent of that one generated by the first vehicle .",
    "* sg policy : the space gap , instead , requires the vehicles to follow the same speed profile over time",
    ". an interesting consequence can be observed , for example , at the beginning of the uphill section shown in figure  [ fig : matlab_comparison_gaps_plot ] ; as soon as the first vehicle enters the uphill section and decelerates because of limited engine power , the second vehicle , which is still in the flat section , has to brake in order to respect the space gap requirement . in general , excluding the offset given by the drag power , every time the slope increases ( in figure  [ fig : matlab_comparison_gaps_plot ] , entering the uphill and leaving the downhill sections ) , the second vehicle has to generate less power than the first vehicle , while every time the slope decreases ( in figure  [ fig : matlab_comparison_gaps_plot ] , leaving the uphill and entering the downhill sections ) the second vehicle has to generate more power than the first vehicle . as a consequence ,",
    "the second vehicle has respectively to brake and to exceed the power limit in order to follow the required sg policy . *",
    "hg policy : the headway gap can be considered as a trade - off between a time gap and a space gap . in fact , for example , as soon as the first vehicle enters the uphill section and starts to decelerate , the distance between the two vehicles is allowed to decrease , but this decrease is not as fast as in the case of the time gap .",
    "the results obtained by the analysis of the platoon behavior in the case of the synthetic hill are valid also in the case of the original scenario . in conclusion",
    ", the time gap allows to save more energy compared to the space and headway gaps .",
    "in addition the time gap allows all the vehicles to follow the same speed trajectory in space and therefore it scales well with the number of vehicles in the platoon .",
    "the complete results for the normalized fuel consumption are reported in table  [ tab : percentage_fuel_saved_2 ] .",
    "t ) for three different gap policies , namely space ( sg ) , headway ( hg ) and time ( tg ) gap policies , while using cc as control strategy , driving along the @xmath5 km road displayed in figure  [ fig : matlab_road_topology45 ] . for the plots explanation refer to the caption of figure  [ fig : matlab_comparison_control_bars ] . ]    ; note that the second plot shows only the speed trajectories of the second vehicle ( the speed trajectory of the first vehicle coincides with that one of the second vehicle in the case of tg policy ) . ]",
    "c|c c|c c| c c & & & + & & &    ' '' ''     + cc & @xmath273 & @xmath290 & @xmath273 & @xmath291 & @xmath273 & @xmath275    ' '' ''     + lac & @xmath279 & @xmath292 & @xmath279 & @xmath293 & @xmath279 & @xmath280 + clac & @xmath285 & @xmath294 & @xmath285 & @xmath295 & @xmath285 & @xmath286 +",
    "in this section we analyze the performance of the vehicle controller layer ( as presented in section [ sec : trajectory_tracking ] and shown in figures [ fig_architecture ] and [ fig_formulation_architecture ] ) by focusing on the safety aspect .",
    "the analysis is based on the simulation result displayed in figure  [ fig : matlab_performance_braking ] and figure  [ fig : matlab_performance_braking_2 ] , where the leading hdv of a three vehicles platoon driving on a flat road brakes repeatedly with different braking profiles . here",
    "we assume that the leading vehicle in the braking phases is manually driven and , therefore , the control system does not know a priori the braking profile .",
    "the considered vehicles are identical with the parameters as defined in table  [ tab : vehicle_parameters ] .      here",
    "we focus on the safety analysis of the distributed vehicle controller layer and , in particular , we analyze the role of the safety constraint in various situations . in figure  [ fig : matlab_performance_braking ] , the leading vehicle is braking with deceleration of @xmath67 , @xmath72 and @xmath77 m / s@xmath296 for @xmath297 s at respectively @xmath298 , @xmath299 and @xmath300 s. in the second plot of this figure , the effective distances and that ones that would activate the safety constraint ( we will refer to it as the safety distance ) are shown . first we can notice how , in line with our expectation , the second and third vehicles are braking ( see the third plot ) only when the effective distance touches the safety distance . in fact here we recall that , according to how the vehicle controller is designed ( see section  [ sec : model_predictive_control_forumation ] ) , only the activation of the safety constraint or a braking request from the platoon coordinator can lead to a significant braking action . consequently ,",
    "during the first braking of @xmath67 m / s@xmath296 , both follower vehicles do not brake , despite the deviation of their states from the reference trajectories . during the second braking of @xmath72 m / s@xmath296 , instead , the safety constraint of the second vehicle are activated and therefore it requires a braking action .",
    "finally , during the third braking of @xmath77 m / s@xmath296 , the safety constraints of both follower vehicles activate and therefore they both brake .",
    "note that the safety constraint is designed such that fuel - efficiency has priority on driver comfort .",
    "in fact , in this case , in order to be fuel - efficient , the braking action is required only when the platoon is in a safety critical situation .",
    "however , a priori knowledge of the braking profile of the first vehicle ( e.g. having a model of the driver or handling the braking action autonomously ) would have allowed to have a smoother and less intense braking action .    ,",
    "@xmath299 and @xmath300 s , with a braking deceleration of respectively @xmath67 , @xmath72 and @xmath77 m / s@xmath296 for @xmath297 s. the first plot shows the speed of the three vehicles : the second plot shows the distance between the vehicles and the respective safety distance computed using an adaptation of inequality ; the third plot shows the summation between the generated power by the engine and the braking systems of the vehicles . ]     s for @xmath67 s with a deceleration of @xmath301 m / s@xmath296 and a second time at @xmath299 s with a deceleration of @xmath301 m / s@xmath296 until arriving to full - stop . for the plot explanation",
    "refer to the caption of figure  [ fig : matlab_performance_braking ] . ]    in figure  [ fig : matlab_performance_braking_2 ] , we consider a more challenging scenario in which the first vehicle brakes with higher intensity , simulating an emergency situation .",
    "more precisely it brakes at @xmath298 s with a deceleration of @xmath301 m / s@xmath296 for @xmath67 s and at @xmath302 s with the same deceleration until it arrives to full - stop .",
    "we can notice how , also in this scenario the safety constraint in each vehicle controller layer activates the braking action and guarantees no collision between the vehicles .",
    "in this section we analyze the simulation results displayed in figure  [ fig : matlab_integrated_system_simulation ] of the platoon under the control of the integrated control architecture ( i.e. , platoon coordinator and vehicle controller ) .",
    "more precisely in this analysis we consider a platoon of three identical vehicles ( whose parameters are defined in table  [ tab : vehicle_parameters ] ) driving along the sector a highlighted in figure  [ fig : matlab_road_topology45 ] .",
    "this is the same sector for which the experimental results in @xcite are displayed in figure  [ fig : matlab__experiment ] and analyzed in section  [ sec : motivational_experiment ] .    at first glance ,",
    "as expected from the platoon coordinator formulation , we can notice how all the vehicles follow the same speed and distance profiles in the space domain .",
    "additionally , in order to follow such profiles , we can observe in the last plot how the second and third vehicle , thanks to the air drag reduction , need to generate less power than the leading vehicle .",
    "we now continue the analysis by focusing on the three segments highlighted in figure  [ fig : matlab_integrated_system_simulation ] :    * _ segment 1 : _ due to the steep downhill , all vehicles are not able to maintain the constant speed without braking and , therefore , accelerate .",
    "however the platoon coordinator requires the leading vehicle to fuel slightly such that the follower vehicles can coast . in this case , the coordination role of the platoon coordinator allows to avoid braking action to all vehicles . *",
    "_ segment 2 : _ since no gear shift is simulated the vehicles are able to maintain the time gap requirement during the uphill . * _ segment 3 : _ due to the longer downhill compare to the first one , the platoon exhibits a different behavior .",
    "first , the platoon coordinator requires all vehicles to decrease the speed to the minimum allowed ( in this simulation it is set to @xmath303 m / s ) in order to hit the speed limit as late as possible .",
    "second , since the speed limit is reached despite the decrease of speed at the beginning of the downhill , the platoon coordinator requires the first vehicle to coast and the follower vehicles to brake slightly to maximize the efficiency .",
    "in fact , in this case , to require the first vehicle to fuel slightly and brake at the end of the downhill would be contradictory .    in conclusion",
    "the platoon , under the control of the integrated control architecture , shows a fuel - efficient and smooth behavior .    .",
    "the three vehicles are identical with parameters shown in table  [ tab : vehicle_parameters ] .",
    "the first plot shows the road topography . for the explanation of the other plots",
    "refer to the caption of figure  [ fig : matlab_performance_braking ] . ]",
    "in this paper we have presented a novel control architecture based on look - ahead control for fuel - efficient and safe hdv platooning .",
    "the use of a look - ahead control framework for hdv platooning has been first motivated by the analysis of real experiments .",
    "in particular in this analysis we concluded that the use topography information in order to predict the behavior of the vehicles and coordination between the vehicles can be beneficial for both fuel - efficiency and safety reasons .",
    "this led to the design of a novel control architecture for platooning .",
    "such architecture is divided into two layers .",
    "a centralized higher layer , denoted as platoon coordinator , is responsible for the coordination of the platoon by defining a speed profile that is feasible and fuel - efficient for the entire platoon by exploiting preview topography information .",
    "such speed profile is communicated to each block of the decentralized lower layer , denoted as vehicle controller layer . within each vehicle controller a model predictive control",
    "routine tracks the reference speed profile and generates the real - time desired acceleration for the low - level vehicle controller .",
    "the performance of such control architecture has been evaluated through the analysis of numerical experiments . in details , the performance of the two layers has been studied both separately and in conjunction .      in the modeling of the vehicle powertrain",
    "we have assumed that the gear ratio can be chosen on a continuous interval on a unlimited span .",
    "however , this is not typically the case in commercial hdvs , where usually the transmission is handled by a gearbox that introduces fixed gear ratios and power losses during the gear shifts .",
    "therefore in some future works we want to investigate how the presence of a gearbox should be managed in a optimal way .",
    "the optimal engine speed as function of the generated power shown in figure  [ fig : fuel_model ] and the knowledge of the current speed can be used to compute the instantaneous optimal gear ratio .",
    "however the power loss and the delay during the gear shift make the problem of when the hdvs should change gear ( e.g. , independently or simultaneously ) and which gear they should engage not trivial .",
    "secondly , we would like to investigate how external disturbances , as traffic ahead or a vehicle cutting in the platoon , can be handled in an autonomous way within the platoon controller framework .",
    "so far , in fact , such disturbances have been assumed to be handled manually by the drivers .",
    "however the prediction of local traffic would allow the platoon to move fuel - efficiently and safely in it .",
    "the authors gratefully acknowledge the european union s seventh framework programme within the project , the swedish research council and the knut and alice wallenberg foundation for their financial support .",
    "the authors also thank dr .",
    "assad alam and dr .",
    "henrik pettersson from scania for the fruitful discussions .",
    "european  environment agency .",
    "specific emissions per tonne - km and per mode of transport in europe , 1995 - 2011 .",
    "http://www.eea.europa.eu/data-and-maps/figures/ds_resolveuid/82sb924wg2 , 2012 .",
    "accessed : 2015 - 04 - 16 .",
    "a.  alam , a.  gattami , and k.h .",
    "an experimental study on the fuel reduction potential of heavy duty vehicle platooning . in _ proceedings of the 13th international ieee conference on intelligent transportation systems , madeira , portugal _ , pages 306311 , 2010 .",
    "a.  alam , j.  mrtensson , and k.h .",
    "look - ahead cruise control for heavy duty vehicle platooning . in _ proceedings of the 16th international ieee conference on intelligent transportation systems , the hague , the netherlands _ ,",
    "pages 928935 , 2013 .            c.  bonnet and h.  fritz .",
    "fuel consumption reduction in a platoon : experimental results with two electronically coupled trucks at close spacing . in _ proceedings of the future transportation technology conference , costa mesa ,",
    "usa _ , sae technical paper 2000 - 01 - 3056 , 2010 ."
  ],
  "abstract_text": [
    "<S> the operation of groups of heavy - duty vehicles ( hdvs ) at a small inter - vehicular distance ( known as platoon ) allows to lower the overall aerodynamic drag and , therefore , to reduce fuel consumption and greenhouse gas emissions . </S>",
    "<S> however , due to the large mass and limited engine power of hdvs , slopes have a significant impact on the feasible and optimal speed profiles that each vehicle can and should follow . therefore maintaining a short inter - vehicular distance as required by platooning without coordination between vehicles can often result in inefficient or even unfeasible trajectories . in this paper </S>",
    "<S> we propose a two - layer control architecture for hdv platooning aimed to safely and fuel - efficiently coordinate the vehicles in the platoon . here , the layers are responsible for the inclusion of preview information on road topography and the real - time control of the vehicles , respectively . within this architecture , </S>",
    "<S> dynamic programming is used to compute the fuel - optimal speed profile for the entire platoon and a distributed model predictive control framework is developed for the real - time control of the vehicles . </S>",
    "<S> the effectiveness of the proposed controller is analyzed by means of simulations of several realistic scenarios that suggest a possible fuel saving of up to @xmath0% for the follower vehicles compared to the use of standard platoon controllers . </S>"
  ]
}