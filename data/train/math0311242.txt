{
  "article_text": [
    "the statement of the tennis ball problem is the following .",
    "there are @xmath0 balls numbered @xmath1 . in the first turn balls 1 and 2",
    "are put into a basket and one of them is removed . in the second turn balls 3 and 4",
    "are put into the basket and one of the three remaining balls is removed .",
    "next balls 5 and 6 go in and one of the four remaining balls is removed .",
    "the game is played @xmath2 turns and at the end there are exactly @xmath2 balls outside the basket .",
    "the question is how many different sets of balls may we have at the end outside the basket .",
    "it is easy to reformulate the problem in terms of lattice paths in the plane that use steps @xmath3 and @xmath4 .",
    "it amounts to counting the number of lattice paths from @xmath5 to @xmath6 that never go above the path @xmath7 .",
    "indeed , if @xmath8 is such a path , a moment s thought shows that we can identify the indices @xmath9 such that @xmath10 is a @xmath11 step with the labels of balls that end up outside the basket .",
    "the number of such paths is well - known to be a catalan number , and this is the answer obtained in @xcite .",
    "the problem can be generalized as follows @xcite .",
    "we are given positive integers @xmath12 and @xmath13 labelled balls .",
    "in the first turn balls @xmath14 go into the basket and @xmath15 of them are removed . in the second turn balls @xmath16 go into the basket and @xmath15 among the remaining ones are removed .",
    "after @xmath2 turns , @xmath17 balls lie outside the basket , and again the question is how many different sets of balls may we have at the end . letting @xmath18 , the problem is seen as before to be equivalent to counting the number of lattice paths from @xmath5 to @xmath19 that use @xmath11 and @xmath20 steps and never go above the path @xmath21 .",
    "this is the version of the problem we solve in this paper .    from now on we concentrate on lattice paths that use @xmath11 and @xmath20 steps . to our knowledge ,",
    "the only cases solved so far are @xmath22 and @xmath23 .",
    "the case @xmath22 is straightforward , the answer being a generalized catalan number @xmath24 . the case @xmath23 ( corresponding to the original problem when @xmath25 ) is solved in @xcite using recurrence equations ; here we include a direct solution .",
    "this case is illustrated in fig .",
    "[ fig : path ] , to which we refer next .",
    "a path @xmath26 not above @xmath27 is `` almost '' a catalan path , in the sense that it can raise above the dashed diagonal line only through the dotted points .",
    "but clearly between two consecutive dotted points hit by @xmath26 we must have an @xmath20 step , followed by a catalan path of odd semilength , followed by a @xmath11 step .",
    "thus , @xmath26 is essentially a sequence of catalan paths of odd semilength .",
    "if @xmath28 is the generating function for the catalan numbers , take the odd part @xmath29 . then expand @xmath30 to obtain the sequence @xmath31 , which agrees with the results in @xcite .",
    "let @xmath32 be a lattice path from @xmath5 to @xmath33 , and let @xmath34 be the number of paths from @xmath5 to @xmath33 that never go above @xmath32 . if @xmath35 denotes the path obtained from @xmath32 by adding a @xmath11 step at the end of @xmath32 , then clearly @xmath36 .",
    "however , it is not possible to express @xmath37 simply in terms of @xmath34 , where @xmath38 has the obvious meaning .",
    "as is often the case in counting problems , one has to enrich the objects under enumeration with additional parameters that allow suitable recursive decompositions .",
    "this is precisely what is done here : equations ( [ eq : t1 ] ) and ( [ eq : t2 ] ) in the next section contain variables @xmath39 and @xmath40 , corresponding to two parameters that we define on lattice paths not above a given path @xmath32 . these equations are the key to our solution .",
    "the basis of our approach is the connection between lattice paths and matroids established in @xcite , where the link with the tennis ball problem was already remarked . for completeness , we recall the basic facts needed from @xcite in the next section . in section [ sec",
    ": main ] we present our solution to the tennis ball problem , in the form of explicit expressions for the corresponding generating functions ; see theorem  [ th : main ] . in section [ sec : gen ]",
    "we show how the same method can be applied to a more general problem .",
    "we conclude with some remarks .",
    "the contents of this section are taken mainly from @xcite , where the reader can find additional background and references on matroids , tutte polynomials and lattice path enumeration .",
    "a _ matroid _ is a pair @xmath41 consisting of a finite set @xmath20 and a nonempty collection @xmath42 of subsets of @xmath20 , called _ bases _ of the matroid , that satisfy the following conditions : ( 1 ) no set in @xmath42 properly contains another set in @xmath42 , and ( 2 ) for each pair of distinct sets @xmath43 in @xmath42 and for each element @xmath44 , there is an element @xmath45 such that @xmath46 is in @xmath42 .    let @xmath32 be a lattice path from @xmath5 to @xmath33 .",
    "associated to @xmath32 there is a matroid @xmath47 $ ] on the set @xmath48 whose bases are in one - to - one correspondence with the paths from @xmath5 to @xmath33 that never go above @xmath32 .",
    "given such a path @xmath49 , the basis corresponding to @xmath26 consists of the indices @xmath9 such that @xmath50 is a @xmath11 step .",
    "hence , counting bases of @xmath47 $ ] is the same as counting lattice paths that never go above @xmath32 .    for any matroid @xmath51",
    "there is a two - variable polynomial with non - negative integer coefficients , the tutte polynomial @xmath52 .",
    "it was introduced by tutte @xcite and presently plays an important role in combinatorics and related areas ( see @xcite ) .",
    "the key property in this context is that @xmath53 equals the number of bases of @xmath51 .    given a path @xmath32 as above , there is a direct combinatorial interpretation of the coefficients of @xmath54;x , y)$ ] . for a path @xmath26 not above @xmath32 ,",
    "let @xmath55 be the number of @xmath11 steps that @xmath26 has in common with @xmath32 , and let @xmath56 be the number of @xmath20 steps of @xmath26 before the first @xmath11 step , which is 0 if @xmath26 starts with a @xmath11 step . see fig .",
    "[ fig : path ] for an illustration",
    ".    then we have ( see ( * ? ? ?",
    "5.4 ) ) @xmath57;x , y ) = \\sum_{\\pi } x^{i(\\pi ) } y^{e(\\pi)},\\ ] ] where the sum is over all paths @xmath26 not above @xmath32 .",
    "a direct consequence is that @xmath54;1,1)$ ] is the number of such paths .",
    "furthermore , for the matroids @xmath47 $ ] there is a rule for computing the tutte polynomial that we use repeatedly ( see ( * ? ? ?",
    "* section 6 ) ) . if @xmath35 and @xmath58 denote the paths obtained from @xmath32 by adding a @xmath11 step and an @xmath20 step at the end of @xmath32 , respectively , then @xmath59;x , y ) & = & x\\,t(m[p],x , y ) , \\\\ \\label{eq : t2 } t(m[p e];x , y ) & = & { x\\over x-1 } \\ ,",
    "t(m[p],x , y ) + \\left(y-{x \\over x-1 } \\right ) t(m[p];1,y).\\end{aligned}\\ ] ] the right - hand side of ( [ eq : t2 ] ) is actually a polynomial , since @xmath60 divides @xmath54;x , y)-t(m[p];1,y)$ ] .",
    "the key observation here is that we can not simply set @xmath61 in ( [ eq : t2 ] ) to obtain an equation linking @xmath62;1,1)$ ] and @xmath54;1,1)$ ] .    for those familiar with matroid theory",
    ", we remark that @xmath63 $ ] and @xmath64 $ ] are obtained from @xmath47 $ ] , respectively , by adding an isthmus and taking a free extension ; it is known that formulas ( [ eq : t1 ] ) and ( [ eq : t2 ] ) correspond precisely to the effect these two operations have on the tutte polynomial of an arbitrary matroid .    from ( [ eq : act ] ) and the definition of @xmath55 and @xmath56 , equation ( [ eq : t1 ] ) is clear , since any path associated to @xmath63 $ ] has to use the last @xmath11 step . for completeness , we include a direct proof of equation ( [ eq : t2 ] ) .",
    "we first rewrite the right - hand side of ( [ eq : t2 ] ) as    @xmath65;x , y)-t(m[p];1,y ) ) + yt(m[p];1,y)=\\\\ & & \\sum_{\\pi}\\frac{x}{x-1}y^{e(\\pi)}(x^{i(\\pi)}-1)+y^{e(\\pi)+1 } = \\\\ & & \\sum_{\\pi } y^{e(\\pi)}(y+x+x^2+\\cdots+x^{i(\\pi)}),\\\\\\end{aligned}\\ ] ]    where the sums are taken over all paths @xmath26 that do not go above @xmath32 .    to prove the formula , for each path @xmath26 not above @xmath32 we find @xmath66 paths not above @xmath38 such that their contribution to @xmath62;x , y)$ ] is @xmath67 .",
    "consider first the path @xmath68 ; it clearly does not go above @xmath38 and its contribution to the tutte polynomial is @xmath69 .",
    "now for each @xmath70 with @xmath71 , define the path @xmath72 as the path obtained from @xmath26 by inserting an @xmath20 step after the @xmath70th @xmath11 step that @xmath26 has in common with @xmath32 ( see fig .",
    "[ fig : activities ] ) .",
    "the path @xmath72 has exactly @xmath70 @xmath11 steps in common with @xmath38 , and begins with @xmath56 @xmath20 steps .",
    "it remains only to show that each contribution to the tutte polynomial of @xmath64 $ ] arises as described above .",
    "let @xmath73 be a path that never goes above @xmath38 and consider the last @xmath11 step that @xmath73 has in common with @xmath38 ; clearly the next step must be @xmath20 .",
    "let @xmath74 be the path obtained after removing this @xmath20 step .",
    "since @xmath73 had no @xmath11 steps in common with @xmath38 after the @xmath20 step removed , the path @xmath74 does not go above @xmath32 .",
    "thus the path @xmath73 can be obtained from @xmath74 by adding an @xmath20 step after the @xmath75-th @xmath11 step that @xmath74 has in common with @xmath32 , and hence @xmath73 arises from @xmath74 as in the previous paragraph .",
    "it is easy to show that @xmath73 can not be obtained in any other way by applying the procedure described above , and this finishes the proof .",
    "let @xmath76 be fixed positive integers , and let @xmath77 .",
    "our goal is to count the number of lattice paths from @xmath5 to @xmath19 that never go above @xmath78 . from the considerations in the previous section ,",
    "this is the same as computing @xmath79;1,1)$ ] .",
    "let @xmath80;x , y).\\ ] ] by convention , @xmath81 is the empty path and @xmath82 .    in order to simplify the notation we introduce the following operator @xmath83 on two - variable polynomials : @xmath84 then , by equations ( [ eq : t1 ] ) and ( [ eq : t2 ] ) we have @xmath85 where @xmath86 denotes the operator @xmath83 applied @xmath9 times .    for each @xmath87 and @xmath88 , we define polynomials @xmath89 and @xmath90 as @xmath91 we also set @xmath92 . notice that @xmath93 , and @xmath94 is the quantity we wish to compute .",
    "then , by the definition of @xmath83 , we have : @xmath95    in order to solve these equations , we introduce the following generating functions in the variable @xmath96 ( but recall the coefficients are polynomials in @xmath39 and @xmath40 ) : @xmath97 we start from the last equation @xmath98 and substitute repeatedly the value of @xmath99 from the previous equation .",
    "taking into account that @xmath100 , a simple computation yields @xmath101 we now set @xmath102 and obtain @xmath103 where it is understood that from now on we have set @xmath102 in the series @xmath104 and @xmath105 .    by puiseux s theorem",
    "( see ( * ? ? ?",
    "* chap . 6 ) ) , the algebraic equation in @xmath106 @xmath107 has @xmath108 solutions in the field @xmath109 of fractional laurent series .",
    "proposition 6.1.8 in @xcite tells us that exactly @xmath110 of them are fractional power series ( without negative powers of @xmath96 ) ; let them be @xmath111 .",
    "we substitute @xmath112 in ( [ eq : main ] ) for @xmath113 , so that the left - hand side vanishes , and obtain a system of @xmath110 linear equations in @xmath114 , whose coefficients are expressions in the @xmath115 , namely @xmath116 notice that , since the @xmath105 are ( ordinary ) power series , the solutions @xmath106 of ( [ eq : alg ] ) that we substitute in ( [ eq : main ] ) can not have negative powers of @xmath96 , hence they must be @xmath117 .",
    "we remark the similarity of this technique with the one devised by tutte for counting rooted planar maps ( see , for instance , @xcite ) .",
    "it remains only to solve ( [ eq : sys ] ) to obtain the desired series @xmath118 .",
    "the system ( [ eq : sys ] ) can we written as @xmath119 the left - hand sides of the previous equations can be viewed as the result of evaluating the polynomial @xmath120 of degree @xmath121 at @xmath122 , for @xmath70 with @xmath123 . using lagrange s interpolation formulas",
    ", we get that the coefficient of @xmath124 in this polynomial is    @xmath125 by straightforward manipulation this last expression is equal to @xmath126 where the last equality follows from an identity on symmetric functions ( set @xmath127 in exercise  7.4 in  @xcite ) .",
    "thus we have proved the following result .",
    "[ th : main ] let @xmath76 be positive integers .",
    "let @xmath128 be the number of lattice paths from @xmath5 to @xmath19 that never go above the path @xmath129 , and let @xmath117 be the unique solutions of the equation @xmath130 that are fractional power series .",
    "then the generating function @xmath131 is given by @xmath132    remark that , by symmetry , the number of paths not above @xmath133 must be the same as in theorem [ th : main ] , although the algebraic functions involved in the solution are roots of a different equation .    in the particular case @xmath134 the solution can be expressed directly in terms of the generating function @xmath28 for the catalan numbers , which satisfies the quadratic equation @xmath135 . indeed , ( [ eq : alg ] ) can be rewritten as @xmath136 whose ( fractional ) power series solutions are @xmath137 , @xmath138 , where @xmath139 is a primitive @xmath140-th root of unity .",
    "for instance , for @xmath141 ( corresponding to @xmath142 in the original problem ) , @xmath143 and we obtain the solution @xmath144    in the same way , if @xmath110 divides @xmath140 and we set @xmath145 , the solution can be expressed in terms of the generating function @xmath146 for generalized catalan numbers ; the details are left to the reader . as an example , for @xmath147 , @xmath148 , we obtain the series @xmath149 where @xmath150 satisfies @xmath151 .",
    "in this section we solve a further generalization of the tennis ball problem . given fixed positive integers @xmath152 with @xmath153 for all @xmath9 , let @xmath154 .",
    "there are @xmath13 labelled balls . in the first turn we do the following : balls @xmath155",
    "go into the basket and @xmath156 of them are removed ; then balls @xmath157 go into the basket and among the remaining ones @xmath158 are removed ; this goes on until we introduce balls @xmath159 , and remove @xmath160 balls .",
    "after @xmath2 turns there are @xmath17 balls outside the basket and the question is again how many different sets of @xmath17 balls may we have at the end .    the equivalent path counting problem is : given @xmath161 positive integers with @xmath162 , @xmath163 , count the number of lattice paths from @xmath5 to @xmath19 that never go above the path @xmath164 .",
    "the solution parallels the one presented in section [ sec : main ] .",
    "we keep the notations and let @xmath165;x , y)$ ] , so that @xmath166 as before , we introduce @xmath110 polynomials @xmath89 and @xmath167 , but the definition here is a bit more involved :    @xmath168    we also set @xmath92 . again , from the definition of @xmath83 , we obtain a set of equations involving @xmath169 , @xmath170 , the @xmath99 and @xmath171 .",
    "we define generating functions @xmath104 and @xmath105 ( @xmath172 ) as in section [ sec : main ] .    starting with @xmath170",
    ", we substitute repeatedly the values of the @xmath99 from previous equations and set @xmath102 . after a simple computation we arrive at @xmath173 where @xmath174 is a polynomial in the variables @xmath175 .",
    "observe that the difference between ( [ eq : gen2 ] ) and equation ( [ eq : main ] ) is that now @xmath174 is not a concrete expression but a certain polynomial that depends on the particular values of the @xmath176 and @xmath177 .",
    "let @xmath117 be again the power series solutions of ( [ eq : alg ] ) .",
    "substituting @xmath112 in ( [ eq : gen2 ] ) for @xmath113 , we obtain a system of linear equations in the @xmath105 .",
    "since the coefficients are rational functions in the @xmath115 , the solution consists also of rational functions ; they are necessarily symmetric since the @xmath115 , being conjugate roots of the same algebraic equation , are indistinguishable .",
    "thus we have proved the following result .",
    "[ th : maingen ] let @xmath161 be positive integers , and let @xmath178 , @xmath163 .",
    "let @xmath128 be the number of lattice paths from @xmath5 to @xmath19 that never go above the path @xmath179 , and let @xmath117 be the unique solutions of the equation @xmath130 that are fractional power series .",
    "then the generating function @xmath131 is given by @xmath180 where @xmath181 is a computable symmetric rational function of @xmath117 .    as an example , let @xmath182 and @xmath183 , so that @xmath141 .",
    "solving the corresponding linear system we obtain @xmath184 and @xmath185 it should be clear that for any values of the @xmath176 and @xmath177 the rational function @xmath181 can be computed effectively .",
    "in fact , a simple computer program could be written that on input @xmath161 , outputs @xmath181 .",
    "it is possible to obtain an expression for the generating function of the full tutte polynomials @xmath186 defined in section  [ sec : main ] .",
    "we have to find the values of @xmath114 satisfying the system ( [ eq : sys ] ) and substitute back into ( [ eq : main ] ) .",
    "after some algebraic manipulation , the final expression becomes @xmath187 taking @xmath61 we recover the formula stated in theorem [ th : main ] .    on the other hand , references @xcite and @xcite also study a different question on the tennis ball problem , namely to compute the sum of the labels of the balls outside the basket for all possible configurations . for a given lattice path @xmath78",
    ", this amounts to computing the sum of all elements in all bases of the matroid @xmath188 $ ] .",
    "we remark that this quantity does not appear to be computable from the corresponding tutte polynomials alone .    finally ,",
    "as already mentioned , the technique of forcing an expression to vanish by substituting algebraic functions was introduced by tutte in his landmark papers on the enumeration of planar maps .",
    "thus the present paper draws in more than one way on the work of the late william tutte ."
  ],
  "abstract_text": [
    "<S> we present a complete solution to the so - called tennis ball problem , which is equivalent to counting lattice paths in the plane that use north and east steps and lie between certain boundaries . </S>",
    "<S> the solution takes the form of explicit expressions for the corresponding generating functions .    </S>",
    "<S> our method is based on the properties of tutte polynomials of matroids associated to lattice paths . </S>",
    "<S> we also show how the same method provides a solution to a wide generalization of the problem . </S>"
  ]
}