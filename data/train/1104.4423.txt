{
  "article_text": [
    "network design is a rich class of combinatorial optimization problems that model important engineering questions arising in modern networks . in an ideal scenario , a network designer that acts on behalf of a central authority",
    "is given an edge - weighted graph representing the potential links between nodes and their operation cost , and connectivity requirements between the nodes .",
    "the objective of the network designer is to compute a subgraph ( the network to be established ) of minimum cost that satisfies all connectivity requirements .",
    "depending on the structure of the connectivity requirements , this definition leads to many optimization problems ranging from problems that are well - understood and efficiently solvable such as the minimum spanning tree to problems whose optimal solutions are even hard to approximate .    in this paper",
    ", we consider the scenario in which users are selfish and have agreed to a well - defined rule according to which they will share the cost of the network to be established .",
    "the connectivity requirements are now posed by the users ; each user wishes to connect two specific nodes .",
    "a design should satisfy each connectivity requirement through a path connecting these two nodes in the established network . according to the particular cost sharing rule we consider",
    ", the corresponding user will then share the cost of each link in her path with the other users that use this link . even though the network designer can still resort to the rich toolset of network design algorithms in order to propose a network of reasonable cost",
    ", this approach neglects the selfish behavior of the users .",
    "a user may not be satisfied with the current design since a different path that satisfies her connectivity requirement may cost her less .",
    "then , she could unilaterally propose an alternative path that possibly includes links that were not in the proposal of the network designer .",
    "other users could also act similarly and these negotiations compute the network to be established in a chaotic manner .",
    "the role of the network designer is almost canceled and , furthermore , it is not clear when the selfish users will reach an agreement ( if they ever do ) and , even if they do , whether this agreement will be really beneficial for the users as a whole , i.e. , whether the total ( or social ) cost of the established network will be reasonable .",
    "so , the goal of the network designer is to propose a design ( i.e. , a network and , subsequently , a path to each user and an associated cost ) that not only meets the connectivity requirements of the users but is also consistent with their selfish nature .",
    "furthermore , since the network designer acts on behalf of the central authority , the design should be efficient , i.e. , the network to be established should have reasonable social cost .",
    "essentially , the users are engaged as players in a non - cooperative strategic game , called a _ network design game _ , and the role of the network designer is to propose an efficient design that is an equilibrium of this game .    typically , efficiency is not an easy goal when selfishness comes into play .",
    "this leads to the following question which falls within one of the main lines of research in _ algorithmic game theory _ : how is the social cost affected by selfish behavior ?",
    "the notion of the _ price of anarchy _ ( introduced in the seminal paper of koutsoupias and papadimitriou @xcite ; see also @xcite ) can quantify this relation .",
    "expressed in the context of a network design game , it would be defined as the ratio of the social cost of the worst possible nash equilibrium over the social cost of an optimal design .",
    "hence , it is pessimistic in nature and ( as its name suggests ) provides a worst - case guarantee for conditions of total anarchy . instead , the notion of the _ price of stability _ that was introduced by anshelevich et al .",
    "@xcite is optimistic in nature and quantifies how easy the job of the network designer is .",
    "it is defined as the ratio of the social cost of the best equilibrium over the cost of the optimal design and essentially asks : what is the best one can hope from a design given that the players are selfish ?    unfortunately , the price of stability can be large which would mean that every design that is consistent with selfishness has high social cost .",
    "the central authority could then intervene in order to mitigate the impact of selfishness .",
    "one solution that seems natural would be to contribute to the social cost of the network to be established by partially subsidizing some of the network links . according to this scenario , the network designer has to compute a design and decide which links in the established network should be subsidized by the central authority .",
    "the users will then share the unsubsidized portion of the cost of the network links they use .",
    "essentially , they will be involved in a new network design game and the goal of the network designer should be to guarantee that the design and the subsidies computed induce an equilibrium for this new game .",
    "let us take this approach to its extreme in order to show that it is a feasible one .",
    "the network designer simply computes a design of low social cost ( ignoring the issue of selfishness ) which is fully subsidized by the central authority .",
    "the cost of each user is now zero and the design is obviously consistent with their selfishness .",
    "the problem becomes non - trivial when the central authority runs on a limited budget .",
    "what is the best design the network designer can guarantee given this budget ?",
    "alternatively , what is the minimum amount of subsidies sufficient in order to achieve a given social cost ? can optimality be achieved ?",
    "can the corresponding designs be computed efficiently ?",
    "* problem statement . * in an attempt to understand these questions , we introduce and study two optimization problems that arise in this context .",
    "informally , they can be defined as follows . in stable network enforcement ( sne ) , we are given a network design game on a graph together with a particular target network @xmath0 , and we wish to compute the minimum amount of subsidies that have to be put on the links of @xmath0 so that the design is acceptable to the users . in stable network design ( snd )",
    ", we are given a particular budget together with the input game , and we wish to compute a network @xmath0 that satisfies the connectivity requirements and to assign an amount of subsidies to the links of @xmath0 within the stipulated budget so that the design is acceptable to the users .",
    "the objective is to minimize the social cost of @xmath0 . besides the standard version of both problems",
    ", we also consider their _ all - or - nothing _ version in which a link can either be fully subsidized or not subsidized at all .    even though some of our results apply to general network design games , we have placed emphasis on a special class of network design games , called _",
    "broadcast games_. in such a game , there is a special node in the input graph called the _",
    "root_. there is one player associated with each distinct non - root node and her connectivity requirement is a path from her associated node to the root .",
    "a nice property of such games is that an optimal design is a solution of the minimum spanning tree problem on the input graph and can be computed efficiently . even in this seemingly simple case , as we will see ,",
    "selfish behavior of players imposes challenging restrictions . furthermore",
    ", we consider network design games in undirected graphs .",
    "note that this strengthens our results since they can be adapted easily to network design games on directed graphs and , furthermore , undirected network design games are less understood in terms of their price of stability ( see the discussion below ) .    * related work . *",
    "strategic games that arise from network design scenarios have received much attention in the _ algorithmic game theory _ literature .",
    "the first related paper is probably @xcite .",
    "the particular network design games that we consider in the current paper were introduced by anshelevich et al . in @xcite .",
    "an important observation made there is that network design games admit a potential function that was proposed by rosenthal @xcite for a broader class of games called congestion games .",
    "a potential function over all designs has the property that the difference in the potential of two designs that differ in the strategy of a single player equals the difference of the cost of that player in these designs ; hence , a design that locally minimizes the potential function is a nash equilibrium . using a simple but elegant argument , anshelevich et al .",
    "@xcite proved that the price of stability is at most @xmath1 , the @xmath2-th harmonic number , where @xmath2 is the number of players .",
    "their proof considers a nash equilibrium that can be reached from an optimal design when the players make arbitrary selfish deviations .",
    "the main argument used is that the potential of the nash equilibrium is strictly smaller than that of the optimal design and the proof follows due to the fact that the potential function of rosenthal approximates the social cost of any design within a factor of at most @xmath1 .",
    "much of the subsequent research on network design games has focused on providing tight bounds on the price of stability .",
    "the @xmath1 bound is known to be tight for directed networks only . for undirected networks ,",
    "better bounds on the price of stability of @xmath3 for broadcast games and @xmath4 for generalizations known as multicast games are presented in @xcite and @xcite , respectively . still , the best lower bounds are only constant ; @xmath5 in general , @xmath6 for multicast , and @xmath7 for broadcast games @xcite .",
    "the papers @xcite and @xcite provide bounds on the quality of equilibria reached when players enter a multicast game one by one and play their best response and then ( when all players have arrived ) they concurrently play until an equilibrium is reached .",
    "they prove that the price of anarchy of the equilibria reached is at most polylogarithmic in the number of players .",
    "another intriguing question is related to the complexity of computing equilibria in such games .",
    "in general , the problem was recently proved to be pls - hard @xcite .",
    "the corresponding hardness reduction does not apply to multicast or broadcast games .",
    "unfortunately , the classical approach of minimizing the potential function that has been proved useful in the case of network congestion games @xcite can not be applied to multicast games ; the authors of @xcite prove that minimizing rosenthal s potential function is np - hard .",
    "furthermore , as it is observed in @xcite , computing an equilibrium of minimum social cost in multicast games is np - hard .",
    "approximate equilibria is the subject of the recent paper @xcite .",
    "monetary incentives in strategic games have been considered in many different contexts .",
    "most of the work in _ mechanism design _ uses such incentives to motivate players to act truthfully ( see @xcite for an introduction to the field ) .",
    "the ( non - exhaustive ) list also includes their use in _ cooperative game theory _ in order to encourage coalitions of players reach stability @xcite and as a means to stabilize normal form games @xcite .",
    "however , the particular use of monetary incentives in the current paper is substantially different and aims at improving the performance of the system the game represents . in this direction ,",
    "other tools have also been considered recently .",
    "besides their importance in creating income , the appropriate use of _ taxes _ can also improve system efficiency .",
    "a series of recent papers @xcite study the impact of taxes ( or tolls ) in the efficiency of network routing ( extending early developments in the literature of the economics of transportation ; see @xcite and the references therein ) .",
    "_ stackelberg strategies _ applied to routing @xcite , scheduling @xcite , and , recently , network design games @xcite aim to improve performance by introducing a set of non - selfish leaders whose strategies are controlled by the system designer and aim to motivate selfish players to reach efficient equilibria .",
    "_ coordination mechanisms _",
    "( applied so far to scheduling in @xcite ) aim to improve performance by introducing priorities among the players .",
    "an approach that is closer to ours has been followed in @xcite where subsidies are used in multicast games ; unlike our approach , the subsidies are collected as taxes from the players in order to guarantee efficient worst - case equilibria .",
    "* overview of results and roadmap . * in this paper we present the following results .",
    "first , we observe that sne can be solved in polynomial time using linear programming ; this observation applies to general instances of sne .",
    "the linear program has an exponential number of constraints but can be solved using the ellipsoid method .",
    "a reformulation based on standard techniques yields an lp of polynomial size . for instances of sne with broadcast games , we present a much simpler lp",
    "in which the number of variables and constraints is linear and quadratic in the number of players , respectively . on the other hand , snd",
    "is proved to be np - hard even for broadcast instances . in particular , detecting whether a minimum spanning tree can be enforced as an equilibrium without using any subsidies is np - hard .",
    "this result implies that detecting whether the price of stability of a given broadcast game is @xmath8 or not is np - hard . in this direction",
    ", we have a stronger result : approximating the price of stability of a broadcast game is apx - hard .",
    "the last two statements significantly extend the np - hardness result of @xcite and indicate that , besides the rough estimates provided by the known bounds on the price of stability which hold for a broad class of games , the estimate the network designer can make about the most efficient designs of a particular broadcast game will also be rough .",
    "these results are presented in section [ sec : complexity ] .",
    "next , we consider broadcast instances of sne and the question of how much subsidies are sufficient and necessary in order to enforce a given minimum spanning tree as an equilibrium .",
    "we show that this can be done using a percentage of @xmath9 of the weight of the minimum spanning tree as subsidies .",
    "the proof has two main components .",
    "first , we show how to prove this upper bound by decomposing the game into subgames with a significantly simpler structure than the original one .",
    "second , in order to compute the subsidies in each subgame , we use a virtual approximation of the cost experienced by the players on the links of the network .",
    "we also demonstrate that our upper bound is tight : an amount of @xmath9 of the minimum spanning tree weight as subsidies may be necessary for some simple instances .",
    "these results are presented in section [ sec : bounds ] .",
    "surprisingly , in contrast to the standard case , we prove that the all - or - nothing version of sne is hard to approximate within any factor even when restricted to instances with broadcast games .",
    "the corresponding proof is long and technically involved and indicates that the only approximation guarantee should bound the amount of subsidies as a constant fraction of the weight of the minimum spanning tree .",
    "interestingly , we prove that significantly more subsidies may be necessary compared to the standard version of sne . in particular , there are broadcast instances which require a percentage of @xmath10 of the weight of the minimum spanning tree as subsidies in order to enforce it as an equilibrium . these results are presented in section [ sec : all - or - nothing ] .",
    "we begin with preliminary definitions and notation in section [ sec : prelim ] and conclude with interesting open problems in section [ sec : open ] .",
    "a _ network design game _ consists of an edge - weighted undirected graph @xmath11 , a set @xmath12 of @xmath2 players , and a source - destination pair of nodes @xmath13 for each player @xmath14 .",
    "each player wishes to connect her source to her destination and , in order to do this , she can select as a strategy any path @xmath15 connecting @xmath16 to @xmath17 in @xmath18 . the tuple @xmath19 that consists of the strategies of the players ( with one strategy per player )",
    "is called a _",
    "state_. we say that player @xmath14 uses edge @xmath20 in @xmath0 if her strategy @xmath15 contains @xmath20 . with some abuse in notation ,",
    "we also denote by @xmath0 the set of edges included in strategies @xmath21 as well as the subgraph of @xmath18 induced by these edges .",
    "we say that an edge @xmath22 is established if at least one player uses edge @xmath20 .",
    "consider such an edge @xmath20 and let @xmath23 be the number of players whose strategies in @xmath0 contain @xmath20 . throughout the paper",
    ", we also use the notation @xmath24 to denote whether player @xmath14 uses edge @xmath20 ( @xmath25 ) or not ( @xmath26 ) . each player",
    "@xmath14 in @xmath12 experiences a cost of @xmath27 , i.e. , the weight of each established edge is shared as cost among the players using it .",
    "the state @xmath0 is called a ( pure nash ) equilibrium if no player has an incentive to unilaterally deviate from @xmath0 in order to decrease her cost , i.e. , for each player @xmath14 and possible strategy @xmath28 that connects the source - destination pair @xmath13 in @xmath18 , it holds that @xmath29 .",
    "the notation @xmath30 denotes the state in which player @xmath14 uses strategy @xmath28 and the remaining players use their strategies in @xmath0 . throughout the paper ,",
    "we denote by @xmath31 the total weight of the set of edges @xmath32 in @xmath18 , i.e. , @xmath33 .",
    "the quality of a state is measured by the total weight of the established edges . since the weight of each established edge is shared as cost among the players that use it , the quality of a state coincides with the total cost experienced by all players , i.e. , @xmath34 .",
    "the _ price of stability _ of a network design game is simply the ratio of the weight of the edges established in the best equilibrium over the optimal cost among all states of the game .",
    "given an edge - weighted graph @xmath11 , a subsidy assignment @xmath35 is a function that assigns a subsidy @xmath36 $ ] to each edge @xmath22 .",
    "the cost of a subsidy assignment is simply the sum of the subsidies on all edges of @xmath18 , i.e. , @xmath37 .",
    "we use the term _ all - or - nothing _ to refer to subsidies that are constrained so that @xmath38 for each edge @xmath22 . given a set of edges @xmath32 in @xmath18",
    ", we use the notation @xmath39 in order to refer to the total amount of subsidies assigned to the edges of @xmath32 in the subsidy assignment @xmath35 , i.e. , @xmath40 .",
    "we refer to @xmath41 as the cost of the subsidy assignment @xmath35 . given a network design game on a graph @xmath18 and a subsidy assignment @xmath35 on the edges of @xmath18",
    ", we use the term _ extension _ of the original game with subsidies @xmath35 in order to refer to the network design game on graph @xmath18 ( with the same players and strategy sets as in the original game ) with the only difference being that the cost of a player at a state @xmath0 is now @xmath42 .",
    "when a particular state @xmath0 is an equilibrium of the extension of the original game with subsidies @xmath35 , we say that the subsidy assignment @xmath35 _ enforces _ @xmath0 as an equilibrium in the extension of the original game .",
    "an instance of the stable network design problem ( snd ) consists of a network design game on a graph @xmath18 , a budget @xmath43 , and a positive number @xmath44 .",
    "the question is whether there exists a subsidy assignment @xmath35 of cost at most @xmath43 on the edges of @xmath18 so that a subgraph of @xmath18 of total weight at most @xmath44 is an equilibrium for the extension of the original game with subsidies @xmath35 .",
    "an instance of the stable network enforcement problem ( sne ) consists of a network design game on a graph @xmath18 , a budget @xmath43 , and a state @xmath0 .",
    "the question is whether there exists a subsidy assignment of cost at most @xmath43 on the edges of @xmath18 so that @xmath35 enforces @xmath0 as an equilibrium on the extension of the original game with subsidies @xmath35 .",
    "note that the subsidy assignment does not need to put any subsidies to edges not in @xmath0 . in the integral versions of sne and snd ,",
    "the subsidy assignment in question is all - or - nothing . of course",
    ", optimization versions of the above problems are natural . for example , in an optimization version of sne",
    ", we are given the network design game on a graph @xmath18 and a state @xmath0 , and we require the subsidy assignment in question to be of minimum cost .",
    "broadcast games are special cases of network design games . in a broadcast game ,",
    "the graph @xmath18 has exactly @xmath45 nodes ; all players have the same destination node , which is called the _ root _ and is denoted by @xmath46 , and distinct non - root nodes as sources . in such games",
    ", we refer to a player with a source node @xmath47 as the player associated with node @xmath47 ( and use @xmath47 to identify the player ) . clearly , any state @xmath0 in such a game spans all nodes of @xmath18 and a minimum spanning tree is a state that minimizes the total cost experienced by the players . given any spanning tree @xmath0 and a non - root node @xmath47 ,",
    "we denote by @xmath48 the path from @xmath47 to @xmath46 in @xmath0 . in broadcast games ,",
    "we mostly consider equilibria that are spanning trees .",
    "it can be easily seen that if an equilibrium @xmath0 contains a cycle , then all edges in this cycle must have zero weight ; then , there is an alternative spanning tree with the same total weight that is also an equilibrium .",
    "we begin the presentation of our results with the following observation .",
    "[ thm : sne - p ] stable network enforcement is in p.    this theorem applies to general instances of sne . by slightly deviating from the main focus of the paper which is on broadcast games ,",
    "we first discuss how general instances of sne can be expressed using linear programming ; analogous formulations have been proposed for the computation of tolls in non - atomic selfish routing games ( e.g. , see @xcite ) .",
    "then , specifically for broadcast sne instances , we present a much simpler lp formulation .    we will describe a linear program which , given a network design game with a set @xmath12 of @xmath2 players on an edge - weighted graph @xmath11 and a state @xmath0 , solves the optimization version of the problem by computing a subsidy assignment @xmath35 of minimum cost so that @xmath0 is an equilibrium of the extension of the original game on @xmath18 with subsidies @xmath35 . the subsidies in question are the variables of the lp .",
    "we remark that , even though we only need to use variables for the subsidies on the edges of @xmath0 , we assume that @xmath49 is defined for each edge @xmath20 of @xmath50 in order to simplify the presentation ; it should be clear that , in any optimal solution of the linear programs below , @xmath51 for each edge @xmath52 .",
    "the variables are constrained so that @xmath36 $ ] while there are constraints that capture the requirement that @xmath0 is an equilibrium in the extension of the original game with subsidies @xmath35 . for each player @xmath14",
    ", this means that the cost the player experiences in @xmath0 should not be higher than the cost she would experience when deviating to any other strategy @xmath28 ( i.e. , a path that connects her source node @xmath16 to her destination @xmath17 ) .",
    "this is captured by the inequality in the second line of lp ( [ lp:1 ] ) , where @xmath53 denotes the set of all paths connecting node @xmath16 to node @xmath17 in @xmath18 .",
    "the left hand side of the inequality is simply the cost @xmath54 of player @xmath14 in @xmath0 while the right hand side is the cost @xmath55 she would experience in state @xmath30 .",
    "observe that the denominator @xmath56 equals the number of players using edge @xmath20 in @xmath30 .",
    "also note that , given @xmath0 and @xmath14 , the quantities @xmath23 and @xmath57 are fixed and , clearly , all constraints are linear .",
    "@xmath58 in general , the above lp has an exponential number of constraints ( one for each player @xmath14 and each path in @xmath53 ) but can be solved in polynomial time using the ellipsoid method ( see @xcite ) .",
    "all that is needed is a _ separation oracle _ which returns a violating constraint ( if one exists ) for a given subsidy assignment @xmath35 in polynomial time .",
    "we demonstrate how this can be done for the constraints associated with player @xmath14 .",
    "we construct an edge - weighted graph @xmath59 over the set of nodes @xmath60 ( and set of edges @xmath50 ) so that the weight of edge @xmath20 is defined as @xmath61 .",
    "we compute a shortest path @xmath62 from node @xmath16 to node @xmath17 in @xmath59 . if the length of path @xmath62 satisfies @xmath63 , then the constraint that is associated with path @xmath62 for player @xmath14 is violated .",
    "otherwise , no constraint associated with player @xmath14 is violated .",
    "we can transform the above lp to an equivalent one that has polynomial size .",
    "the main idea is to simulate the separation oracle for the above lp using additional variables and constraints . for each player @xmath14 and node @xmath64 of @xmath18",
    ", we introduce the variable @xmath65 to denote a lower bound on the length of the shortest path in graph @xmath59 from node @xmath16 to node @xmath64 .",
    "the first two lines in the constraints of the following lp guarantee that @xmath65 is indeed such a lower bound ( in the first constraint , @xmath66 denotes the set of neighbors of node @xmath47 in @xmath18 ) . then , the constraint @xmath67 guarantees that the player @xmath14 has no incentive to deviate from her strategy in @xmath0 in the extension of the original game with subsidies @xmath35 .",
    "@xmath68    lp ( [ lp:2 ] ) has @xmath69 variables and @xmath70 constraints .",
    "we have a much simpler lp when the input is an instance of sne consisting of a broadcast game on graph @xmath18 ( with a root node @xmath46 ) and a spanning tree @xmath0 of @xmath18 .",
    "we use the same variables as in the original lp ( i.e. , @xmath2 variables since @xmath0 is a spanning tree over @xmath45 nodes now ) and much fewer ( i.e. , @xmath71 ) constraints .",
    "in particular , we just require that no player associated with a node @xmath47 has an incentive to change her strategy in @xmath0 and use an edge @xmath72 that does not belong to @xmath0 and the path from @xmath64 to @xmath46 in @xmath0 .",
    "the corresponding lp is : @xmath73 the correctness of the above lp ( i.e. , its equivalence with the optimization version of sne ) is given by the following lemma .",
    "[ lem : lp - simple ] consider an instance of stable network enforcement consisting of a broadcast game on a graph @xmath18 and a state @xmath0 .",
    "a subsidy assignment @xmath35 enforces @xmath0 as an equilibrium in the extension of the broadcast game in @xmath18 if and only if the constraints of lp ( [ lp - simple ] ) are satisfied .",
    "if @xmath0 is an equilibrium of the extension of the broadcast game on @xmath18 with subsidies @xmath35 , then clearly the constraints of lp ( [ lp - simple ] ) are satisfied since otherwise a player associated with node @xmath47 would have an incentive to deviate and use the path that consists of the edge from @xmath47 to another node @xmath64 that is not part of @xmath0 and the path from @xmath64 to @xmath46 in @xmath0 ( or , simply , of the direct edge from @xmath47 to the root node if @xmath74 ) .",
    "now , assume that all constraints of lp ( [ lp - simple ] ) are satisfied for a subsidy assignment @xmath35 .",
    "we will show that no player has an incentive to deviate from @xmath0 in the extension of the broadcast game with subsidies @xmath35 .",
    "assume for the sake of contradiction that the player associated with node @xmath47 has an incentive to deviate to some path from @xmath47 to @xmath46 that includes edges not belonging to @xmath0 .",
    "among such paths , let @xmath75 be the path that incurs the minimum cost for the player associated with node @xmath47 and , furthermore , contains the minimum number of edges not belonging to @xmath0 .",
    "following the edges of path @xmath75 from node @xmath47 to node @xmath46 , let @xmath76 be its last edge that does not belong to @xmath0 .",
    "using the constraint of the lp for the player associated with node @xmath77 and edge @xmath76 , we have that @xmath78 also , let @xmath79 be the least common ancestor of @xmath77 and @xmath80 in @xmath0 and denote by @xmath81 and @xmath82 the subpaths of @xmath83 and @xmath84 that connect @xmath77 and @xmath80 to @xmath79 , respectively . since @xmath83 and @xmath84 use the same edges in order to connect @xmath79 to @xmath46 and @xmath81 and @xmath82 are edge - disjoint ( and , hence , @xmath85 for each @xmath86 ) , we also have that @xmath87 now , observe that the cost experienced by player @xmath47 when deviating to the path @xmath75 is strictly smaller than the cost she would experience by using the path @xmath88 consisting of the subpath of @xmath75 connecting @xmath47 to @xmath77 , the edges of @xmath81 , and the edges of @xmath75 from @xmath79 to @xmath46 .",
    "otherwise , the path @xmath88 would either incur strictly smaller cost to the player associated with node @xmath47 than @xmath75 or it would also incur the same cost as @xmath75 but it would have strictly fewer edges not belonging to @xmath0 ; both cases contradict our assumptions about @xmath75 .",
    "hence , @xmath89 which implies that @xmath90 since @xmath91 .",
    "we have reached a contradiction between ( [ eq : contradiction-1 ] ) and ( [ eq : contradiction-2 ] ) and the lemma follows .    ' '' ''    next , we prove that the restriction of snd to broadcast instances is np - hard .",
    "the hardness proof uses instances of snd with budget equal to zero with target equilibrium weight equal to the weight of the minimum spanning tree .",
    "note that in instances with a unique minimum spanning tree , the problem is certainly in p ; one can just compute a minimum spanning tree and apply the lp approach described above . in our reduction",
    ", there are many different minimum spanning trees but it is hard to detect whether there is one that is an equilibrium in the corresponding broadcast game .",
    "[ thm : broadcastnpc ] given an instance of stable network design consisting of a broadcast game on a graph @xmath18 , budget @xmath43 , and a positive number @xmath44 , it is np - hard to decide whether there exists a subsidy assignment @xmath35 of cost at most @xmath43 so that the extension of the game with subsidies @xmath35 has a tree of weight at most @xmath44 as an equilibrium .",
    "moreover , it is np - hard even when @xmath43 is set to zero .",
    "we will first describe a gadget that is used in the proof of theorem [ thm : broadcastnpc ] ; we call it the bypass gadget of capacity @xmath92 .",
    "the gadget is shown in figure  [ fig : single ] .",
    "let @xmath93 be the minimum positive integer such that @xmath94 .",
    "the bypass gadget consists of a root node @xmath46 connected to one end of a path of @xmath93 nodes formed with edges of unit weight .",
    "we call this the _ basic path _ of the bypass gadget",
    ". the node @xmath95 on the far end of the path from @xmath46 is called the _",
    "connector node_. there is an edge from @xmath95 to @xmath46 of weight @xmath96 , which we call the _",
    "bypass edge_.    suppose this gadget is connected to a subgraph @xmath97 of @xmath98 nodes as shown in figure  [ fig : single ] .",
    "for the moment , we are not concerned with how the nodes in @xmath97 are connected to each other .",
    "consider the instance of sne consisting of the broadcast game on the graph @xmath18 of figure  [ fig : single ] , budget @xmath99 , and let @xmath0 be a minimum spanning tree of @xmath18 .",
    "note that @xmath0 does not include the bypass edge ; it includes all edges in the basic path from @xmath95 to @xmath46 instead .",
    "[ lem : gadget ] if @xmath100 , then the player associated with node @xmath95 has an incentive to deviate from her strategy in @xmath0 and use the bypass edge .",
    "otherwise , no player associated with a node in the basic path has any incentive to deviate from @xmath0 .",
    "regardless of how the players associated with nodes in the subgraph @xmath97 are routed , since @xmath97 is connected to the bypass gadget through node @xmath95 , there are @xmath101 players that need to use a path from @xmath95 to @xmath46 .",
    "let us focus on the player associated with node @xmath95 .",
    "if she and all the @xmath98 players from @xmath97 take the basic path , then her cost will be @xmath102 .",
    "if @xmath100 , then @xmath103 , and therefore , the player associated with node @xmath95 has an incentive to deviate to the bypass edge . on the other hand , if @xmath104 , then @xmath105 and any player associated with a node in the basic path experiences a cost of at most @xmath106 in @xmath0",
    "hence , no such player has an incentive to deviate from @xmath0 .    ' '' ''    * proof of theorem [ thm : broadcastnpc ] .",
    "* we show that the problem is np - hard even when we consider the special case where @xmath99 and @xmath44 equals the weight of the minimum spanning tree of the input graph @xmath18 . in other words ,",
    "given a broadcast game on a graph @xmath18 with root node @xmath46 , we ask : does this game have a minimum spanning tree of @xmath18 as an equilibrium ?",
    "we use a reduction from bin packing .",
    "we use a stricter form of bin packing defined as follows .",
    "we are given a set of @xmath2 items indexed by @xmath107 .",
    "the size of each item @xmath14 is a positive even integer denoted by @xmath16 . since bin packing is strongly np - hard @xcite , we assume that @xmath16 is bounded by a polynomial in @xmath2 .",
    "we are also given a set of @xmath108 bins indexed by @xmath109 , each of even integer capacity @xmath110 , which we assume to be at least as large as @xmath111 .",
    "we furthermore assume that @xmath112 .",
    "we ask whether each item can be allocated to one of the @xmath108 bins so that the total size of items in each bin is exactly @xmath110 .",
    "our definition of bin packing is somewhat stricter than the conventional definition in which the capacity of bins and the size of the items is not restricted to be even and bins are not required to be filled to the brim .",
    "however , we note that it is quite straightforward to see that this restricted version of the problem can be reduced from the conventional version by first adding a suitable number of unit - sized items and then doubling the size of all items and the capacity of all bins .",
    "the number of additional items is upper - bounded by the total capacity of the bins .",
    "therefore , our restriction of bin packing is also strongly np - hard .    given a restricted instance of bin packing , we now construct an instance of sne as follows .",
    "for each item @xmath14 of size @xmath16 , we create a star graph with one center node which we denote by @xmath113 and @xmath114 leaves .",
    "the edges connecting the leaves to the center node of the star have zero weight .",
    "let @xmath115 be the set of center nodes .",
    "for each bin @xmath116 , construct a bypass gadget with capacity @xmath117 .",
    "again , let @xmath93 be the number of unit - weight edges in the basic path of each bypass gadget . recall that @xmath93 is the minimum positive integer such that @xmath118",
    "; this implies that @xmath93 is linear in @xmath110 .",
    "we denote the connector node in the gadget corresponding to bin @xmath116 by @xmath119 .",
    "let @xmath120 be the set of all connector nodes .",
    "we connect sets @xmath120 and @xmath115 by a complete bipartite edge set with edges having weight @xmath121 .",
    "observe that any minimum spanning tree of @xmath18 consists of the @xmath122 unit - weight edges in the bypass gadgets , the zero - weight edges connecting the leaves to their star center , and @xmath2 edges that connect nodes of @xmath120 to nodes of @xmath115 so that each node of @xmath115 is connected to exactly one node of @xmath120 .",
    "we set @xmath44 to be the weight of the minimum spanning tree , i.e. , @xmath123 .",
    "we claim that a minimum spanning tree @xmath124 of @xmath18 is an equilibrium for the broadcast game on @xmath18 if and only if the bin packing instance has a solution .",
    "we prove this claim in both directions .",
    "let @xmath124 be a minimum spanning tree that is an equilibrium .",
    "let @xmath125 be the number of nodes in the subtree of @xmath124 rooted at @xmath119 . from lemma  [ lem : gadget ] , we know that since @xmath124 is an equilibrium , for all @xmath116 , it holds that @xmath126 .",
    "however , we also know from the properties of the bin packing instance and the construction of graph @xmath18 that @xmath127 . clearly , it follows that for all @xmath116 , we have @xmath128 .",
    "therefore , the allocation of item @xmath14 to bin @xmath116 whenever @xmath113 is connected to @xmath119 will lead to a solution for the bin packing instance since the total size of these items is exactly @xmath129 .    to show the other direction ,",
    "let us suppose that we have a solution to the bin packing instance .",
    "we construct a minimum spanning tree @xmath124 as follows .",
    "@xmath124 contains the edges from the leaves to the corresponding star center , the basic paths from the connector nodes to the root node @xmath46 , and the edge @xmath130 for each item @xmath14 that is allocated to bin @xmath116 .",
    "note that , for @xmath131 , the number of nodes in the subtree of @xmath124 rooted at @xmath119 is exactly @xmath110 .",
    "so , any player associated with a node in a basic path experiences a cost of at most @xmath132 in @xmath124 . furthermore , observe that each edge of @xmath124 between nodes of @xmath120 and @xmath115 is used by at least two players in @xmath124 .",
    "so , any player associated with a node in a star experiences a cost of at least @xmath121 .",
    "hence , no player has an incentive to deviate to a path that includes a node of @xmath120 that she does not use in @xmath124 .",
    "any such path would include an edge of weight @xmath121 between a node in @xmath120 and a node in @xmath115 that is used only by that player .",
    "so , for each @xmath116 , the @xmath110 players associated with nodes in the subtree of @xmath119 in @xmath124 have no incentive to deviate to a path that does not use node @xmath119 . by lemma [ lem : gadget ] , player @xmath119 ( and , consequently , all players that have node @xmath119 in their path to @xmath46 in @xmath124 ) has no incentive to deviate to the bypass edge connecting @xmath119 to @xmath46 .",
    "this holds for any other node in the basic path of a bypass gadget as well .",
    "therefore , it follows that @xmath124 is an equilibrium .    ' '' ''    note that the proof of theorem [ thm : broadcastnpc ] essentially implies that deciding whether the price of stability of a given broadcast game is @xmath8 or not is np - hard .",
    "the next statement provides an even stronger negative result .",
    "it implies that given instances of snd consisting of a broadcast game on a graph @xmath18 and a budget @xmath43 , it is np - hard to approximate within a factor better than @xmath133 the minimum weight among all equilibria in any extension of the original game with subsidies of cost at most @xmath43 .",
    "[ thm : pos ] approximating the price of stability of a broadcast game within a factor better than @xmath133 is np - hard .",
    "the proof is based on a reduction from independent set in @xmath134-regular graphs and uses an inapproximability result due to berman and karpinski @xcite .",
    "given a @xmath134-regular graph @xmath135 with @xmath2 nodes and @xmath136 edges , we construct an instance of a broadcast game consisting of a graph @xmath18 as follows .",
    "the graph @xmath18 has a node for each node and each edge of @xmath135 and an additional root - node @xmath46 .",
    "we denote by @xmath137 the set of nodes of @xmath18 that correspond to a node of @xmath135 and by @xmath60 the set of nodes of @xmath18 that correspond to an edge of @xmath135 .",
    "for each non - root node of @xmath18 , there is an edge connecting it with the root ; these edges have unit weight .",
    "a node of @xmath60 that corresponds to an edge @xmath72 in @xmath135 is connected with edges to the nodes of @xmath137 that correspond to the nodes @xmath47 and @xmath64 of @xmath135 .",
    "the weight of these edges is @xmath138 for some @xmath139 $ ] .",
    "clearly , the subgraph of @xmath18 induced by the nodes in @xmath140 ( i.e. , all nodes besides @xmath46 ) is bipartite ; in this subgraph , the nodes of @xmath137 have degree @xmath134 while the nodes of @xmath60 have degree @xmath141 .",
    "we claim that the graph @xmath135 has an independent set of size @xmath142 if and only if the broadcast game has an equilibrium of weight @xmath143 .",
    "consider a spanning tree @xmath0 of @xmath18 and let @xmath144 be the forest obtained by removing the edges of @xmath0 that are adjacent to @xmath46 .",
    "we call a _ branch _ of @xmath0",
    "any subgraph consisting of a connected component of @xmath144 , the edge connecting a node of this connected component to @xmath46 in @xmath0 , and @xmath46 itself .    for any spanning tree of @xmath18",
    ", each of its branches can belong to one of the following types ( see figure [ fig : branches ] ) :    * type a : it consists of a single edge connecting the root to a node in @xmath140 ( see figure [ fig : branches]a ) . * type b : it consists of an edge connecting the root to a node in @xmath137 which in turn is connected with its three adjacent nodes of @xmath60 ( see figure [ fig : branches]b ) .",
    "* type c : it consists of an edge connecting the root to a node in @xmath140 which is connected to either one or two of its adjacent nodes in @xmath18 ( see figure [ fig : branches]c ) . *",
    "type d : it is a tree of depth exactly @xmath134 rooted at @xmath46 ( see figures [ fig : branches]d and [ fig : branches]e ) . *",
    "type e : it is a tree of depth at least @xmath145 rooted at @xmath46 ( see figures [ fig : branches]f and [ fig : branches]g )",
    ".    we will first prove that if @xmath0 is an equilibrium for the broadcast game in @xmath18 , then it has a very special structure .",
    "in particular , none of its branches rooted at @xmath46 can be of type @xmath110 , @xmath146 , or @xmath50 .",
    "assume otherwise and let @xmath147 be such a branch :    * if @xmath147 is of type c , consider a leaf @xmath47 of @xmath147 .",
    "the first edge in the path from @xmath47 to @xmath46 in @xmath147 ( i.e. , the one adjacent to @xmath47 ) is not used by any other player besides the one associated with node @xmath47 while the second edge of the path is used by at most @xmath134 players ( i.e. , the players associated with the leaves and the player associated with the node of @xmath147 which is connected with @xmath46 ) .",
    "thus , the cost player @xmath47 experiences is at least @xmath148 and , hence , this player has an incentive to change her strategy and use the direct edge from @xmath47 to @xmath46 .",
    "see figure [ fig : branches]c for an example . *",
    "if @xmath147 is of type d , then it has at most @xmath149 non - root nodes .",
    "consider a leaf @xmath47 that is at distance @xmath134 from @xmath46 .",
    "if @xmath47 belongs to @xmath137 , then its adjacent node in @xmath147 has degree @xmath141 .",
    "thus , the first edge of the path from @xmath47 to @xmath46 in @xmath147 is not used by any other player besides the one associated with @xmath47 while the second edge in the path is used by at most @xmath141 players . in total , the cost the player associated with node @xmath47 experiences in these two edges of the path is @xmath150 and , hence , this player has an incentive to change her strategy and use the direct edge from @xmath47 to @xmath46 ( see figure [ fig : branches]d ) .",
    "if @xmath47 belongs to @xmath60 , its adjacent node in @xmath147 belongs to @xmath137 and the next node in the path from @xmath47 to @xmath46 belongs to @xmath60 .",
    "thus , the first edge of the path from @xmath47 to @xmath46 in @xmath147 is not used by any other player besides the one associated with @xmath47 , the second edge in the path is used by at most @xmath134 players , and the third edge in the path ( the one adjacent to @xmath46 ) is used by at most @xmath149 players . in total , the cost the player associated with node @xmath47 experiences in these three edges of the path is @xmath151 and , hence , this player has an incentive to change her strategy and use the direct edge from @xmath47 to @xmath46 ( see figure [ fig : branches]e ) . *",
    "if @xmath147 is of type e , consider a leaf @xmath47 that is at maximum distance ( i.e. , at least @xmath145 ) from @xmath46 .",
    "if @xmath47 belongs to @xmath137 , then its adjacent node in @xmath147 has degree @xmath141 .",
    "thus , the first edge of the path from @xmath47 to @xmath46 in @xmath147 is not used by any other player besides the one associated with @xmath47 while the second edge in the path is used by at most @xmath141 players . in total , the cost the player associated with node @xmath47 experiences in these two edges of the path is @xmath150 and , hence , this player has an incentive to change her strategy and use the direct edge from @xmath47 to @xmath46 ( see figure [ fig : branches]f ) .",
    "if @xmath47 belongs to @xmath60 , its next two nodes in the path from @xmath47 to @xmath46 in @xmath147 belong to @xmath137 and @xmath60 , respectively .",
    "thus , the first edge of the path from @xmath47 to @xmath46 in @xmath147 is not used by any other player besides the one associated with @xmath47 , the second edge in the path is used by at most @xmath134 players , and the third edge in the path is used by at most @xmath145 players . in total , the cost the player associated with node @xmath47 experiences in these three edges of the path is at least @xmath152 and , hence , this player has an incentive to change her strategy and use the direct edge from @xmath47 to @xmath46 as well ( see figure [ fig : branches]g ) .",
    "instead , if @xmath0 consists only of branches of types a and b , no player has an incentive to deviate .",
    "indeed , assume that a player associated with a node @xmath47 in a branch @xmath153 has an incentive to change her strategy and use a new path .",
    "note that the cost she experiences on the edges of @xmath153 she uses is at most @xmath8 .",
    "clearly , her new path can not include an edge incident to the root which does not belong to any branch since the cost experienced in such a path would be at least @xmath8 .",
    "so , assume that the new path of the player contains the edges of another branch @xmath154 in order to connect @xmath47 to @xmath46 .",
    "clearly , this path should contain an edge of @xmath18 that is not contained in any branches ( and , hence , it is not used by any player besides the one associated with node @xmath47 ) while the first edge of branch @xmath154 that the path contains is used by exactly one player besides the one associated with node @xmath47 ; this follows by the structure of @xmath18 and by the fact that branches of @xmath0 are of type a or b ( and , hence , the new path enters branch @xmath154 through one of its leaves ) .",
    "thus , the cost the player experiences in the new path is at least @xmath150 and , hence , she has no incentive to deviate .    now , consider a spanning tree @xmath0 that is an equilibrium for the broadcast game in @xmath18 and let @xmath142 be the number of branches of type b it contains .",
    "clearly , the weight of the edges in such a branch is @xmath155 while the total weight of the edges in branches of type a equals the number of nodes in @xmath140 which do not belong to branches of type b , i.e. , @xmath156 .",
    "therefore , the total weight of the edges of @xmath0 is @xmath143 .",
    "let @xmath157 be the set of nodes of @xmath135 which correspond to the nodes of the branches of type b that are connected to @xmath46 in @xmath0 .",
    "due to the structure of @xmath18 and @xmath0 , @xmath157 is an independent set of @xmath135 with size @xmath142 . also , consider any independent set in @xmath135 with size @xmath142 .",
    "we can conversely construct a spanning tree of @xmath18 which consists of branches of type a and b and , hence , is an equilibrium : for each node of @xmath137 corresponding to a node in @xmath157 , we create a branch of type b by connecting this node to @xmath46 and to its three adjacent nodes in @xmath60 . in this way",
    ", we create @xmath142 branches of type b. also , we create @xmath156 branches of type a by connecting each node of @xmath140 that does not participate in branches of type b to the root through their direct edges .",
    "the cost of this equilibrium tree is again @xmath143 .",
    "now , we use the inapproximability result due to berman and karpinski @xcite .",
    "their result can be thought of as a polynomial - time reduction from the decision version of satisfiability .",
    "the reduction uses a constant @xmath158 .",
    "given an instance @xmath159 of satisfiability , they construct an instance of independent set which consists of a @xmath134-regular graph @xmath135 with @xmath160 nodes ( for some parameter @xmath108 ) such that    * @xmath135 has an independent set of size at least @xmath161 if @xmath159 is satisfiable , and * @xmath135 has no independent set of size more than @xmath162 if @xmath159 is not satisfiable .    using the particular graphs as input to our reduction ,",
    "we can view it as a reduction from satisfiability as well .",
    "given an instance @xmath159 of satisfiability , our reduction defines a broadcast game such that    * there exists an equilibrium of total weight at most @xmath163 if @xmath159 is satisfiable , and",
    "* there exists no equilibrium of total weight less than @xmath164 if @xmath159 is not satisfiable .    by selecting @xmath165 and @xmath166 to be arbitrarily small ,",
    "we conclude that approximating the minimum total weight among all equilibria ( and , hence , the price of stability ) within a factor better than @xmath133 is np - hard .    ' '' ''",
    "in this section , we provide tight bounds on the amount of subsidies sufficient in order to enforce a minimum spanning tree as an equilibrium in the extension of the original broadcast game .",
    "the result is expressed as a constant fraction of the weight of the minimum spanning tree .",
    "we first prove our upper bound which is more involved .",
    "the proof uses two key ideas : first , the input sne instance is appropriately decomposed into subinstances of sne which have a significantly simpler structure .",
    "our decomposition is such that the desired bound has to be proved for the subinstances ; in order to do so , we use a second idea and exploit a virtual cost function that upper - bounds the actual cost experienced by the players in the extension of the game ( in the subinstances ) with subsidies .",
    "the main property of this virtual cost function that simplifies the analysis considerably is that the total amount of subsidies necessary depends only on the weight of the tree ( and not on its structure ) .",
    "[ thm : upper - bound ] given an instance of stable network enforcement consisting of a broadcast game on a graph @xmath18 and a minimum spanning tree @xmath0 of @xmath18 , there is a subsidy assignment @xmath35 of cost at most @xmath167 that enforces @xmath0 as an equilibrium of the extension of the game with subsidies @xmath35 , where @xmath168 is the basis of the natural logarithm .",
    "we decompose the graph @xmath18 into copies @xmath169 , @xmath170 , ... , @xmath171 so that the following properties hold :    * @xmath172 has the same set of nodes and set of edges with @xmath18 . *",
    "the edge weights in @xmath172 belong to @xmath173 for some @xmath174 .",
    "* if the weight of an edge @xmath20 in @xmath172 is non - zero , then the weight of @xmath20 is non - zero in each of the copies @xmath175 of @xmath18 . *",
    "the weight of each edge in @xmath18 is equal to the sum of its weights in the copies of @xmath18 .",
    "the decomposition proceeds as follows .",
    "let @xmath176 be the minimum non - zero weight among the edges of @xmath18 .",
    "we construct a copy @xmath169 of @xmath18 ( i.e. , with the same set of nodes and set of edges ) and with edge weights equal to zero if the corresponding edge of @xmath18 has zero weight and equal to @xmath176 otherwise .",
    "then , we decrease each non - zero edge weight by @xmath176 in @xmath18 and proceed in the same way with the definition of the edge weights in the copy @xmath170 , and so on .",
    "we denote by @xmath108 the number of copies of @xmath18 that have some edge of non - zero weight .",
    "note that @xmath177 may be infinite if @xmath18 contains edges of infinite weight , but @xmath108 is upper bounded by the number of edges in @xmath18 . clearly , the weight of an edge in the original graph is the sum of its weights in the copies of @xmath18 .",
    "we denote by @xmath178 the spanning tree of @xmath172 that has the same set of edges with @xmath0 .",
    "we first observe that @xmath178 is a minimum spanning tree of @xmath172 .",
    "assume that this is not the case ; then , there must be an edge @xmath179 with zero weight in @xmath172 that does not belong to @xmath178 such that some edge @xmath180 of the edges of @xmath178 with which @xmath179 forms a cycle has non - zero weight @xmath119 . by the definition of our decomposition phase , this implies that @xmath180 has higher weight than @xmath179 in @xmath18 .",
    "this means that we could remove @xmath180 from @xmath0 and include @xmath179 in order to obtain a spanning tree with strictly smaller weight , i.e. , @xmath0 would not be a minimum spanning tree .    now , in order to compute the desired subsidy assignment that enforces @xmath0 as an equilibrium in the extension of the broadcast game in @xmath18 , we will exploit appropriate subsidy assignments for the broadcast games in each copy of @xmath18 .",
    "we have the following lemma .",
    "[ lem : sub-0-c ] let @xmath174 .",
    "consider a broadcast game on a graph @xmath172 whose edges have weights in @xmath173 and let @xmath178 be a minimum spanning tree of @xmath172 .",
    "then , there is a subsidy assignment @xmath181 of cost at most @xmath182 that enforces @xmath178 as an equilibrium in the extension of the game with subsidies @xmath181 .",
    "we call edges of weight @xmath183 and @xmath119 _ light _ and _ heavy _ edges , respectively",
    ". we also call a player associated with a node @xmath64 a _ light",
    "_ player if the weight of the edge connecting @xmath64 to its parent in @xmath178 is zero ; otherwise , we call @xmath64 a _ heavy _ player",
    ". we denote by @xmath184 the number of heavy players which use edge @xmath20 . clearly , @xmath185 .",
    "we will introduce a _ virtual cost _ associated with each edge of @xmath178 in order to upper - bound the contribution of the edge to the real cost experienced by each player that uses the edge in @xmath178 in the extension of the game with subsidies .",
    "in particular , given subsidies @xmath186 assigned to the heavy edge @xmath20 with @xmath187 $ ] , we define the virtual cost of edge @xmath20 as @xmath188 .",
    "the virtual cost of a light edge is always zero ; observe that no subsidies have to be assigned to these edges .",
    "[ claim : vc - bound ] for any heavy edge @xmath20 with subsidies @xmath186 , it holds that @xmath189 .",
    "we use the inequality @xmath190 for @xmath191 $ ] .",
    "we have @xmath192    ' '' ''    [ defn:1 ] consider a path @xmath193 in @xmath178 and a subsidy assignment @xmath194 on the edges of @xmath178 .",
    "we say that @xmath194 is such that subsidies are packed on the least crowded heavy edges of @xmath193 if @xmath195 for a heavy edge @xmath20 implies that @xmath196 for every heavy edge @xmath197 of @xmath193 with @xmath198 .",
    "we extend the notation of virtual cost so that @xmath199 denotes the sum of the virtual cost of the edges of a path @xmath193 in @xmath178 under the subsidy assignment @xmath181 .",
    "the following claim follows by the definitions and will be very useful later .",
    "[ claim : packed ] consider a path @xmath193 and denote by @xmath200 the set of heavy edges of @xmath193 and a subsidy assignment @xmath194 .",
    "if @xmath201 consists of the @xmath202 consecutive integers @xmath203 , then the virtual cost of path @xmath193 when subsidies are packed on its least crowded heavy edges is @xmath204 .",
    "recall that the only edges that contribute to the virtual cost of @xmath193 are the heavy edges in @xmath200 .",
    "if @xmath205 ( i.e. , no subsidies are put on the edges of @xmath200 ) , the virtual cost is @xmath206 the first two equalities follow by the definition of the virtual cost , the third one follows since @xmath207 and @xmath208 , and the last one is obvious .",
    "we now consider the case @xmath209 .",
    "since subsidies are packed on the least crowded heavy edges of @xmath193 , there must be a heavy edge @xmath210 such that @xmath211 so that @xmath196 for each heavy edge @xmath197 with @xmath198 and @xmath212 for each heavy edge @xmath213 with @xmath214 .",
    "let @xmath215 and @xmath216 .",
    "observe that the edges of @xmath217 and the light edges of @xmath193 do not contribute to the virtual cost of @xmath193 .",
    "hence , @xmath218 the first two equalities follow by the definition of the virtual cost , the third one follows since the definition of @xmath219 implies that @xmath220 and @xmath221 , the fourth equality is obvious , and the last one follows since @xmath222 and @xmath223 .    ' '' ''    figure [ fig : visual ] provides a visualization of the virtual cost in a path when subsidies are packed on its less crowded heavy edges .    now , we compute the subsidy assignment @xmath181 that assigns no subsidies to the light edges and subsidies to the heavy edges of @xmath178 as follows .",
    "denote by @xmath224 the set of leaf - nodes of @xmath178 such that the path @xmath225 connecting such a leaf - node @xmath47 to the root node @xmath46 in @xmath178 contains at least one heavy edge .",
    "for each leaf - node @xmath47 of @xmath224 , we pack subsidies to the least crowded heavy edges of @xmath225 so that the virtual cost on the path @xmath225 is exactly @xmath119 . in particular ,",
    "let @xmath97 be the set of edges of @xmath178 defined as follows : a heavy edge @xmath226 belongs to @xmath97 if @xmath227 and @xmath228 .",
    "observe that the set @xmath97 disconnects the leaves of @xmath224 from the root node . indeed ,",
    "if this was not the case , there would be a heavy edge that is used by exactly one heavy player and is not assigned any subsidies ; by the definition of the virtual cost , its virtual cost would be infinite .",
    "all heavy edges that are on the side of the partition together with the root node are assigned zero subsidies ; the heavy edges on the other side of the partition are assigned subsidies of @xmath119 and do not contribute to the virtual cost of the paths they belong to .",
    "an edge @xmath229 of @xmath97 is assigned subsidies @xmath230 with @xmath231 this definition implies that @xmath232 . in this way",
    ", we guarantee that the virtual cost of any path to the root node @xmath46 is at most @xmath119 if it contains at least one heavy edge and zero otherwise .",
    "we will now show that , given the subsidies we have assigned to the edges of @xmath178 , no player has an incentive to deviate from her path to the root in @xmath178 .",
    "consider the player associated with a node @xmath47 and let @xmath233 be another path from @xmath47 to @xmath46 in @xmath178 . recall that the definition of subsidies and claim [ claim : vc - bound ] guarantees that the cost experienced by the player that uses @xmath225 is at most @xmath119 . now , consider the edges of @xmath233 that do not belong to @xmath0 ( since @xmath234 there is at least one such edge ) .",
    "if any such edge has weight @xmath119 , this means that , by deviating to @xmath233 , the player associated with node @xmath47 would experience a cost of at least @xmath119 and , hence , has no incentive to do so .",
    "so , in the following we assume that the edges of @xmath233 that do not belong to @xmath178 have zero weight .",
    "now , consider the subgraph @xmath135 of @xmath172 induced by the edges in the paths @xmath225 and @xmath233 .",
    "let @xmath110 be a cycle of @xmath135 .",
    "it consists of edges of @xmath178 and edges not belonging to @xmath178 that have zero weight .",
    "this implies that all edges in @xmath110 have zero weight , otherwise we could replace an edge of @xmath110 that belongs to @xmath178 ( and has non - zero weight ) with an edge of @xmath110 that does not belong to @xmath0 ( which has zero weight ) and obtain a spanning tree of @xmath172 with strictly smaller weight than @xmath178 .",
    "this contradicts the assumption that @xmath178 is a minimum spanning tree of @xmath172 .",
    "so , all edges of @xmath225 that are contained in a cycle in @xmath135 have zero weight . the remaining edges of @xmath225 are also used by @xmath233 .",
    "we conclude that the total cost experienced by the player associated with node @xmath47 is the same no matter whether she uses path @xmath225 or @xmath233 and , hence , she has no incentive to deviate from path @xmath225 to @xmath233 .",
    "we will now show that the total amount of subsidies put on the edges of @xmath178 in this way is exactly @xmath182 . in order to show this",
    ", we will show that the total amount of subsidies put on the edges of @xmath178 equals the total amount of subsidies put by the same procedure on the edges of another tree @xmath235 that consists of a single path from the root that spans all the nodes and has the same number of heavy edges as the original one .",
    "as an intermediate step , consider two edges @xmath236 and @xmath237 of @xmath97 such that the least common ancestor @xmath47 of nodes @xmath77 and @xmath80 in @xmath178 has largest depth .",
    "we denote by @xmath153 and @xmath154 the number of heavy edges in the subtrees of @xmath77 and @xmath80 , respectively , and by @xmath81 and @xmath82 the paths connecting @xmath47 to @xmath77 and @xmath80 in @xmath0 , respectively .",
    "also , denote by @xmath219 ( resp .",
    "@xmath217 ) the subset of @xmath81 ( resp .",
    "@xmath82 ) consisting of heavy edges .",
    "assume that the virtual cost of the path in @xmath178 from @xmath46 to @xmath47 is @xmath93 for some @xmath238 ; then , the virtual cost of the paths @xmath81 and @xmath82 is exactly @xmath239 .",
    "denote by @xmath240 and @xmath241 the subsidies assigned to edges @xmath242 and @xmath243 by the above procedure , respectively .",
    "since the edges @xmath242 and @xmath243 are selected so that their least common ancestor @xmath47 has largest depth , the edges in the path @xmath81 are not used by any heavy player different than those in the subtree of @xmath178 rooted at @xmath77 .",
    "similarly , the edges in the path @xmath82 are not used by any heavy player other than those in the subtree of @xmath178 rooted at @xmath80 .",
    "hence , both paths @xmath81 and @xmath82 satisfy the condition of claim [ claim : packed ] above in the sense that @xmath244 and @xmath245 , respectively .",
    "hence , we can express the virtual cost of paths @xmath81 and @xmath82 , respectively , as @xmath246 and @xmath247 equivalently , we have @xmath248 and @xmath249 . by summing these last two equalities",
    ", we obtain that @xmath250 which implies @xmath251    now , consider the following transformation of @xmath178 to another tree @xmath252 .",
    "the only change is performed in the paths @xmath81 , @xmath82 and all subtrees of their nodes besides node @xmath47 .",
    "we replace all these edges in @xmath178 with a path @xmath193 originating from @xmath47 and spanning all the nodes in @xmath81 and @xmath82 and their subtrees so that exactly @xmath253 heavy edges are used .",
    "let @xmath200 be the set of heavy edges in @xmath193 .",
    "we pack a total amount @xmath254 of subsidies ( i.e. , the same total amount of subsidies used in the heavy edges of @xmath81 , @xmath82 and in the subtrees of nodes @xmath77 and @xmath80 in @xmath178 ) on the least crowded heavy edges of path @xmath193 while the assignment of subsidies on the other heavy edges of @xmath252 is the same as in the corresponding edges in @xmath178 .",
    "now , the path @xmath193 satisfies the condition of the claim [ claim : packed ] above in the sense that @xmath255 .",
    "hence , the virtual cost of path @xmath193 when a total amount @xmath254 of subsidies is packed on its least crowded heavy edges is the one at the left hand side of equality ( [ eq : vc1 ] ) and is exactly @xmath239 while the virtual cost of the path from the root to @xmath47 in @xmath252 is not affected by our transformation ( the number of heavy players in the subtree of node @xmath47 stays the same after the transformation ) and is equal to @xmath93 .",
    "hence , we have transformed @xmath178 to @xmath252 so that the same total amount of subsidies is used and guarantees that any path from the root to a node has virtual cost at most @xmath119 . by executing the same transformation in @xmath252 repeatedly",
    ", we end up with a tree @xmath235 which consists of a path @xmath256 spanning all the nodes and has the same number of heavy edges as the original tree @xmath178 ( and , obviously , the same total weight ) .",
    "let @xmath257 be the set of heavy edges in @xmath256 .",
    "the transformation guarantees that by packing the original total amount of subsidies on the least crowded heavy edges of @xmath256 , we have that its virtual cost is exactly @xmath119 . also , note that @xmath258 and , by claim [ claim : packed ] , the virtual cost of path @xmath256 when a total amount @xmath259 of subsidies is packed on its least crowded heavy edges is @xmath260 .",
    "this implies that the total amount of subsidies in the original tree is @xmath261 .    ' '' ''    now , for each copy @xmath172 of @xmath18 , we use the procedure in the proof of lemma [ lem : sub-0-c ] to compute a subsidy assignment @xmath181 so that the tree @xmath178 is an equilibrium for the extension of the broadcast game on the graph @xmath172 with subsidies @xmath181 .",
    "for the original game on the graph @xmath18 , we assign an amount of @xmath262 as subsidies to edge @xmath20 ( i.e. , equal to the total amount of subsidies assigned to @xmath20 for each copy of @xmath18 ) .",
    "we can easily show that @xmath0 is an equilibrium for the original broadcast game .",
    "let @xmath48 be the path used by the player associated with node @xmath47 in @xmath0 and denote by @xmath233 a different path connecting @xmath47 with @xmath46 in @xmath18 .",
    "the cost experienced by the player associated with node @xmath47 in @xmath0 is @xmath263 i.e. , not larger than the cost she would experience by deviating to path @xmath233 , which implies that @xmath0 is indeed enforced as an equilibrium in the extension of the broadcast game on @xmath18 with the particular subsidies .",
    "the equalities follow by the definition of the cost experienced by the player associated with node @xmath47 , or the definition of our decomposition , or due to the exchange of sums , and the inequality follows since , by lemma [ lem : sub-0-c ] , @xmath178 is enforced as an equilibrium in the extension of the broadcast game in @xmath172 with subsidies @xmath181 .",
    "the bound on the amount of subsidies follows by the guarantee for the cost of the subsidy assignments @xmath181 from lemma [ lem : sub-0-c ] and the last property of our decomposition , and since the subsidy @xmath49 on each edge @xmath20 is defined as @xmath264 .    ' '' ''    we now present our lower bound .",
    "[ thm : lb ] for every @xmath265 , there exist a broadcast game on a graph @xmath18 and a minimum spanning tree @xmath0 of @xmath18 such that any subsidy assignment that enforces @xmath0 as equilibrium of the extension of the broadcast game with subsidies is at least @xmath266 .",
    "consider the graph @xmath18 which consists of a cycle with @xmath45 edges of unit weight that span the root node @xmath46 and the @xmath2 nodes which are associated with the players .",
    "let @xmath267 be an edge incident to the root node @xmath46 and let @xmath0 be the path that contains all edges of @xmath18 besides @xmath20 . clearly , @xmath0 is a minimum spanning tree of @xmath18 .",
    "now , in order to satisfy that the player associated with node @xmath47 has no incentive to deviate from her strategy in @xmath0 and use edge @xmath20 instead , we have to put subsidies on some of the edges of the path @xmath0 . the maximum decrease in the cost of the player associated with node @xmath47",
    "is obtained when subsidies are packed on the least crowded edges of @xmath0 ( i.e. , on the edges of @xmath0 that are further from the root ) ; equivalently , the minimum amount of subsidies necessary in order to decrease the cost of this player to @xmath8 is obtained when subsidies are packed on the least crowded edges of @xmath0 .",
    "let @xmath108 be the number of edges that are subsidized .",
    "since the player associated with node @xmath47 has no incentive to deviate , the cost of @xmath268 she experiences at the @xmath269 edges on which we do not put subsidies is at most @xmath8 while the total amount of subsidies is at least @xmath270 . using the inequality @xmath271 for @xmath272",
    ", we obtain @xmath273 which implies that that the total amount of subsidies is at least @xmath274 .",
    "the weight of @xmath0 is @xmath2 and the bound follows by selecting @xmath2 to be sufficiently large .    ' '' ''",
    "in this section , we consider the all - or - nothing version of sne .",
    "interestingly , in contrast to the standard version , we prove ( theorem [ thm : hardness - all - or - nothing ] ) that its optimization version is hard to approximate within any factor .    [ thm : hardness - all - or - nothing ] given an instance of all - or - nothing stable network enforcement consisting of a broadcast game on a graph @xmath18 and a minimum spanning tree @xmath0 of @xmath18 , approximating ( within any factor ) the minimum cost over all - or - nothing subsidy assignments that enforce @xmath0 as an equilibrium in the extension of the broadcast game is np - hard .",
    "we use a reduction from instances of 3sat-4 which consist of cnf formulas such that each clause contains exactly three literals ( corresponding to different variables ) and each variable appears in at most four clauses .",
    "deciding whether such an instance has a truthful assignment or not is np - hard @xcite .",
    "given an instance @xmath159 of 3sat-4 with a set of clauses @xmath110 , our construction defines ( in polynomial time ) a broadcast game on a graph @xmath18 and identifies a particular minimum spanning tree @xmath0 of @xmath18 .",
    "our construction uses a parameter @xmath44 which is significantly larger than @xmath275 .",
    "we will show that deciding whether the minimum cost over all - or - nothing subsidy assignments that enforce @xmath0 as an equilibrium in the extension of the broadcast game is at most @xmath275 or at least @xmath44 is np - hard .",
    "first , we assign a _ label _ from @xmath276 to each variable in such a way that two variables that appear in the same clause are assigned different labels . due to the fact that each variable appears in at most four clauses",
    ", it should have a different label than at most eight other variables .",
    "hence , nine labels suffice and the corresponding labeling can be computed in polynomial time . for @xmath277",
    ", we define the constants @xmath278 or , equivalently , for @xmath279 , @xmath280 with @xmath281 .",
    "the graph @xmath18 has a root - node @xmath46 and consists of several gadgets : _ literal gadgets _ , _ clause gadgets _ , _ consistency gadgets _ , and _ auxiliary _ nodes and edges .",
    "the non - root nodes of @xmath18 are partitioned into _ critical _ and _ non - critical _ ones .",
    "the edges of @xmath18 belong to three different types : _ heavy edges _ of weight at least @xmath44 , _ ultra light edges _ of zero weight , and _ light edges _ of unit weight .",
    "we start with the definition of the literal gadgets ( see figure [ fig : literal ] ) . for each appearance of a literal @xmath93 in a clause @xmath95",
    ", we have a literal gadget which consists of four non - critical nodes @xmath282 , @xmath283 , @xmath284 and @xmath285 , and the critical nodes @xmath286 and @xmath287 .",
    "let @xmath116 denote the label of the variable corresponding to literal @xmath93 .",
    "then , there are the following edges : the light edges @xmath288 and @xmath289 , the heavy edges @xmath290 , @xmath291 , and @xmath292 of weight @xmath44 , the heavy edge @xmath293 of weight @xmath294 and the heavy edge @xmath295 of weight @xmath296 . among them , the first five edges belong to @xmath0 while the last two ones do not .    for each clause @xmath297 with literals corresponding to different variables with labels",
    "@xmath298 , @xmath299 , and @xmath300 with @xmath301 , we have a clause gadget ( see figure [ fig : clause ] ) which connects the three literal gadgets corresponding to the appearance of literals @xmath302 , @xmath303 , and @xmath304 in clause @xmath95 as follows .",
    "the node @xmath305 coincides with the root - node @xmath46 , the node @xmath306 coincides with node @xmath307 , and the node @xmath308 coincides with @xmath309 .",
    "there is an extra critical node @xmath310 which is connected through a heavy edge of weight @xmath44 to node @xmath311 and through a heavy edge of weight @xmath312 to the root - node @xmath46 . among these two edges",
    ", the first one belongs to @xmath0 while the second one does not .    .",
    "let @xmath176 , @xmath313 , @xmath314 , and @xmath315 be the ( at most ) four clauses in which variable @xmath316 appears .",
    "for each @xmath317 , we have a consistency gadget that connects the two literal gadgets corresponding to the appearance of variable @xmath316 or its negation in clauses @xmath318 and @xmath319 .",
    "let @xmath116 be the label of variable @xmath316 .",
    "we use two different consistency gadgets depending on whether the variable appears as the same literal in both @xmath318 and @xmath319 or not .",
    "an @xmath93-@xmath93 consistency gadget corresponds to the appearance of literal @xmath93 in clauses @xmath318 and @xmath319 and consists of two critical nodes @xmath320 and @xmath321 .",
    "node @xmath320 is connected through a heavy edge of weight @xmath44 to node @xmath322 of the literal gadget corresponding to the appearance of the literal @xmath93 in @xmath318 and a heavy edge of weight @xmath323 to node @xmath324 of the literal gadget corresponding to the appearance of literal @xmath93 in @xmath319 . among these two edges",
    ", the first one belongs to @xmath0 while the second one does not .",
    "node @xmath321 is connected through a heavy edge of weight @xmath44 to node @xmath324 of the literal gadget corresponding to the appearance of the literal @xmath93 in @xmath319 and a heavy edge of weight @xmath323 to node @xmath325 of the literal gadget corresponding to the appearance of literal @xmath93 in @xmath326 . among these two edges",
    ", the first one belongs to @xmath0 while the second one does not .",
    "an @xmath93-@xmath327 consistency gadget corresponds to the appearance of literals @xmath93 and @xmath327 in clauses @xmath318 and @xmath319 , respectively , and consists of two critical nodes @xmath320 and @xmath321 .",
    "node @xmath320 is connected through a heavy edge of weight @xmath44 to node @xmath328 of the literal gadget corresponding to the appearance of the literal @xmath93 in @xmath318 and a heavy edge of weight @xmath329 to node @xmath330 of the literal gadget corresponding to the appearance of literal @xmath327 in @xmath319 . among these two edges",
    ", the first one belongs to @xmath0 while the second one does not .",
    "node @xmath321 is connected through a heavy edge of weight @xmath44 to node @xmath330 of the literal gadget corresponding to the appearance of the literal @xmath327 in @xmath319 and a heavy edge of weight @xmath44 to node @xmath331 of the literal gadget corresponding to the appearance of literal @xmath93 in @xmath326 . among these two edges",
    ", the first one belongs to @xmath0 while the second one does not .",
    "an example is depicted in figure [ fig : consistency ] .",
    "the last step in the construction is to include auxiliary non - critical nodes connected through ultra light edges to nodes @xmath283 and @xmath284 for each clause @xmath95 and each literal @xmath93 that appear in @xmath95 .",
    "these edges belong to @xmath0 .",
    "the purpose of the auxiliary nodes and ultra light edges is to guarantee that for each appearance of a variable of label @xmath116 or its negation as a literal @xmath93 in a clause @xmath95 , the number of players in @xmath0 that use edges @xmath288 and @xmath289 is exactly @xmath332 and @xmath333 , respectively .",
    "this is done as follows .",
    "consider a clause @xmath297 such that the literals @xmath302 , @xmath303 , and @xmath304 correspond to variables with labels @xmath298 , @xmath299 , and @xmath300 with @xmath301 .",
    "for @xmath334 , let @xmath335 be the number of nodes in consistency gadgets to which node @xmath336 is connected in @xmath0 and observe that @xmath337 .",
    "we connect it to @xmath338 additional auxiliary nodes through ultra light edges .",
    "node @xmath311 is connected in @xmath0 to node @xmath310 , node @xmath339 , and to @xmath340 nodes in the consistency gadgets it participates with @xmath341 .",
    "we connect @xmath311 to @xmath342 additional auxiliary nodes through ultra light edges . for @xmath343 , node @xmath344",
    "is connected in @xmath0 to nodes @xmath345 , @xmath346 , and to @xmath347 nodes in the consistency gadgets it participates with @xmath348 ; we connect it to @xmath349 additional nodes through ultra light edges ( see figure [ fig : clause ] ) .    in the following ,",
    "we refer to players associated to non - critical nodes as _ non - critical players_. all other players are _",
    "the critical players associated with nodes @xmath286 and @xmath287 of a literal gadget corresponding to the appearance of literal @xmath93 in clause @xmath95 are called _",
    "literal players_. the critical players associated with nodes @xmath350 and @xmath351 in consistency gadgets corresponding to the appearance of literal @xmath93 ( or literals @xmath93 and @xmath327 ) in clauses @xmath176 and @xmath313 are called _",
    "consistency players_. the critical player associated with node @xmath310 in the clause gadget corresponding to clause @xmath95 is called _",
    "clause player_.    observe that our construction guarantees that @xmath0 is connected , spans the nodes of @xmath18 , and the number of its edges is equal to the number of non - root nodes in @xmath18 .",
    "hence , it is indeed a tree .",
    "also , note that it consists of all light and ultra light edges and heavy edges of weight exactly @xmath44 ; the edges of @xmath18 not included in @xmath0 are all heavy and , hence , @xmath0 is a minimum spanning tree .",
    "we have completed the description of our reduction .",
    "we use the term _ light assignment _ to refer to all - or - nothing subsidy assignments that subsidize only light edges ( clearly , ultra light edges do not need to be subsidized ) . in the rest of the proof , we show that there exists a light assignment that enforces @xmath0 as an equilibrium in the extension of the broadcast game on @xmath18 if and only if @xmath159 is satisfiable ( corollary [ cor : t - sat - eq ] ) .",
    "this is done in a sequence of steps which can be briefly described as follows :    * step 1 .",
    "first , we observe that light assignments of subsidies guarantee that the non - critical players have no incentive to deviate from their strategy in @xmath0 ( lemma [ lem : non - critical ] ) .",
    "then , we introduce the property of _ balance _ for light assignments which is proved to be equivalent to the fact that the critical literal players do not have an incentive to deviate either ; this is done in lemma [ lem : literal - gadget ] using the definition of the literal gadgets .",
    "then , we introduce the property of _ consistency _ for balanced light assignments which is proved to be equivalent to the fact that the critical consistency players do not have an incentive to deviate either ; this is done in corollary [ cor : consistency ] using the definition of the consistency gadgets . a nice effect of this property",
    "is that there is a one - to - one and onto mapping between the consistent balanced light assignments and the assignments of values to the variables of @xmath159 . *",
    "finally , we introduce an additional property for consistent balanced light assignments that is proved to be equivalent to the fact that the critical clause players do not have an incentive to deviate either and , hence , @xmath0 is enforced as an equilibrium in the broadcast game ; this is done in lemma [ lem : clause - gadget ] using the definition of the clause gadgets .",
    "a nice effect of this property is that the mapping mentioned above is a one - to - one and onto mapping between the consistent balanced light assignments that satisfy this property and the truthful assignments of @xmath159 .",
    "we continue with step 1 .",
    "[ lem : non - critical ] consider the extension of the broadcast game on @xmath18 with a light assignment of subsidies .",
    "then , no non - critical player has an incentive to change her strategy in @xmath0 .",
    "consider a non - critical player whose strategy in @xmath0 consists of light ( and , possibly , ultra light ) edges . by the construction of @xmath0 ,",
    "this player may use light edges in at most three literal gadgets .",
    "hence , the cost she experiences is at most @xmath352 while any deviation should include a heavy edge out of @xmath0 .",
    "now consider the non - critical player associated with node @xmath285 in the literal gadget corresponding to the appearance of literal @xmath93 in clause @xmath95 . in her strategy in @xmath0",
    ", she uses the edge @xmath353 ( which is also used by the player associated with node @xmath286 ) as well as at most four light edges in at most two literal gadgets .",
    "hence , her cost is at most @xmath354 .",
    "if she deviates to a strategy that contains edge @xmath353 but not the path from @xmath282 to @xmath46 in @xmath0 , she would experience a cost of at least @xmath355 since , in addition to edge @xmath353 , her strategy would include another heavy edge out of @xmath0 used only by her . also , any deviation that contains the path @xmath356 would have cost at least @xmath357 , where @xmath116 is the label of the variable corresponding to literal @xmath93 .    ' '' ''    we proceed with step 2 . consider a light assignment such that , for each clause @xmath95 and each literal @xmath93 that appears in @xmath95 , exactly one among the light edges @xmath288 and @xmath289 in the literal gadget corresponding to the appearance of literal @xmath93 in clause @xmath95 is subsidized ; we call such an assignment a _ balanced _ light assignment .",
    "[ lem : literal - gadget ] consider the extension of the broadcast game on @xmath18 with a light assignment of subsidies .",
    "then , the critical literal players have no incentive to change their strategies in @xmath0 if and only if the assignment is balanced light .",
    "consider the literal gadget that corresponds to the appearance of a literal @xmath93 in a clause @xmath95 .",
    "if none of the two light edges of the gadget is subsidized , the critical literal player associated with node @xmath287 has an incentive to deviate from her path @xmath358 ( where the cost she experiences is @xmath359 ) to the direct edge from @xmath287 to @xmath282 ( where the cost she would experience would be @xmath294 ) .",
    "if both of the two light edges of the gadget are subsidized , the critical literal player associated with node @xmath286 has an incentive to deviate from her path @xmath360 ( where the cost she experiences is @xmath361 ) to the path @xmath362 ( where the cost she would experience would be @xmath296 ) . if instead one of the edges @xmath288 and @xmath363 is subsidized , the critical literal player associated with node @xmath286 experiences a cost of @xmath361 and has no incentive to change her strategy to the path @xmath362 ( since her cost there would be at least @xmath364 .",
    "also , the critical literal player associated with node @xmath287 experiences a cost of at most @xmath365 and has no incentive to change her path from @xmath362 to the direct edge from @xmath287 to @xmath282 ( since her cost there would be @xmath366 ) .",
    "also , note that if the critical literal player associated with node @xmath286 or @xmath287 deviates to a strategy that does not use the path from node @xmath282 to the root - node @xmath46 in @xmath0 , this would contain two heavy edges which are used only by this player for a cost of at least @xmath367 .    ' '' ''    we proceed with step 3 where our goal is to prove corollary [ cor : consistency ] .",
    "this will follow by lemmas [ lem : ell - ell - consistency - gadget ] and [ lem : ell - not - ell - consistency - gadget ] . in their proof",
    ", we will use the following additional lemma .",
    "[ lem : distance ] consider the extension of the broadcast game on @xmath18 with a balanced light assignment and a literal gadget corresponding to the appearance of literal @xmath93 in clause @xmath95 .",
    "then , any player who uses or deviates to a strategy that contains the path from node @xmath282 to the root - node @xmath46 in @xmath0 experiences a cost of at most @xmath368 on the edges of this path , where @xmath116 denotes the label of the variable corresponding to literal @xmath93 .    if @xmath369 , then our construction guarantees that @xmath282 coincides with the root - node @xmath46 .",
    "if @xmath370 , then the path from @xmath282 to the root - node @xmath46 ( if any ) may contain the light edges of at most one literal gadget corresponding to a variable with label @xmath8 , among which exactly one is subsidized since the assignment is balanced light .",
    "hence , a player that uses or deviates to a strategy that contains the path from node @xmath282 to the root - node @xmath46 in @xmath0 experiences a cost of at most @xmath371 .",
    "if @xmath372 , then the path from @xmath282 to the root - node @xmath46 ( if any ) may contain the light edges of at most two literal gadgets corresponding to variables with labels at most @xmath373 and @xmath374 ; in each of these literal gadgets , exactly one among the two light edges is subsidized since the assignment is balanced light .",
    "hence , a player that uses or deviates to a strategy that contains the path from node @xmath282 to the root - node @xmath46 in @xmath0 experiences a cost of at most @xmath375 .    ' '' ''    from now on , we will extensively use the following definition . for each literal @xmath93",
    ", we define the set of light edges @xmath376    [ lem : ell - ell - consistency - gadget ] consider the extension of the broadcast game on @xmath18 with a balanced light assignment of subsidies .",
    "given an @xmath93-@xmath93 consistency gadget for the appearance of literal @xmath93 in clauses @xmath176 and @xmath313 , the following two sentences are equivalent :    * the critical consistency players associated with nodes @xmath350 and @xmath351 have no incentive to change their strategies in @xmath0 . *",
    "the light edges of the gadget that are subsidized are either those belonging to @xmath377 or those belonging to @xmath378 .",
    "consider an @xmath93-@xmath93 consistency gadget that corresponds to the appearance of literal @xmath93 in clauses @xmath176 and @xmath313 .",
    "let @xmath116 be the label of the variable corresponding to literal @xmath93 .",
    "since the assignment is balanced light , two light edges are subsidized : one among the edges @xmath379 and @xmath380 of the literal gadget corresponding to the appearance of literal @xmath93 in clause @xmath176 and one among the edges @xmath381 and @xmath382 of the literal gadget corresponding to the appearance of literal @xmath93 in clause @xmath313 .    if the subsidized edges are @xmath379 and @xmath383 , then the critical consistency player associated with node @xmath351 has an incentive to change her strategy in @xmath0 .",
    "the cost she experiences in her strategy in @xmath0 is at least @xmath384 .",
    "the cost she would experience by deviating to the strategy consisting of path @xmath385 and the path from @xmath386 to @xmath46 in @xmath0 would be at most @xmath387 . in the left part of this inequality as well as in the inequalities below",
    "we have used lemma [ lem : distance ] in order to bound the cost experienced by the critical consistency player on the edges of the path from @xmath386 to @xmath46 in @xmath0 .",
    "if the subsidized edges are @xmath388 and @xmath381 , then the critical consistency player associated with node @xmath350 has an incentive to change her strategy in @xmath0 ; due to symmetry , the argument is the same as above .",
    "if the subsidized edges are the edges @xmath379 and @xmath381 that belong to set @xmath378 , then no critical consistency player has an incentive to change her strategy in @xmath0 . the critical consistency player associated with node @xmath350 experiences a cost of at most @xmath389 while the cost she would experience by changing her strategy to the one that uses path @xmath390 and the path in @xmath0 from @xmath391 to @xmath46 would be at least @xmath392",
    "also , note that if the critical consistency player associated with node @xmath350 deviates to a strategy that does not use the path from node @xmath386 to the root - node @xmath46 in @xmath0 , this would contain two heavy edges which are used only by this player for a cost of at least @xmath367 .",
    "due to symmetry , the argument for the critical consistency player associated with node @xmath351 is the same .",
    "if the subsidized edges are the edges @xmath380 and @xmath382 that belong to set @xmath377 , then no critical consistency player has an incentive to change her strategy in @xmath0 either . the critical consistency player associated with node @xmath350 experiences a cost of at most @xmath329 while the cost she would experience by changing her strategy to the one that uses path @xmath390 and the path in @xmath0 from @xmath391 to @xmath46 would be at least @xmath393",
    "also , note that if the critical consistency player associated with node @xmath351 deviates to a strategy that does not use the path from node @xmath391 to the root - node @xmath46 in @xmath0 , this would contain two heavy edges which are used only by this player for a cost of at least @xmath367 .",
    "due to symmetry , the argument for the critical player associated with node @xmath351 is the same .    ' '' ''    [ lem : ell - not - ell - consistency - gadget ] consider the extension of the broadcast game on @xmath18 with a balanced light assignment of subsidies .",
    "given an @xmath93-@xmath327 consistency gadget for the appearance of literals @xmath93 and @xmath327 in clauses @xmath176 and @xmath313 , the following two sentences are equivalent :    * the critical consistency players associated with nodes @xmath350 and @xmath351 have no incentive to change their strategies in @xmath0 . *",
    "the light edges of the gadget that are subsidized are either those belonging to @xmath377 or those belonging to @xmath378 .",
    "consider an @xmath93-@xmath327 consistency gadget that corresponds to the appearance of literals @xmath93 and @xmath327 in the clauses @xmath176 and @xmath313 , respectively .",
    "let @xmath116 be the label of the variable corresponding to literals @xmath93 and @xmath327 .",
    "since the assignment is balanced light , two light edges are subsidized : one among the edges @xmath379 and @xmath380 of the literal gadget corresponding to the appearance of literal @xmath93 in clause @xmath176 and one among the edges @xmath394 and @xmath395 of the literal gadget corresponding to the appearance of literal @xmath327 in clause @xmath313 .    if the subsidized edges are @xmath379 and @xmath394 , then the critical consistency player associated with node @xmath350 has an incentive to change her strategy in @xmath0 .",
    "the cost she experiences in her strategy in @xmath0 is at least @xmath294 .",
    "the cost she would experience by deviating to the strategy consisting of the path @xmath396 and the path from @xmath397 to @xmath46 in @xmath0 would be at most @xmath398 . in the left part of this inequality as well as in the inequalities below we",
    "have used lemma [ lem : distance ] in order to bound the cost experienced by the critical consistency player on the edges of the path from @xmath386 to @xmath46 in @xmath0 .",
    "if the subsidized edges are @xmath380 and @xmath395 , then the critical consistency player associated with node @xmath351 has an incentive to change her strategy in @xmath0 .",
    "the cost she experiences in her strategy in @xmath0 is at least @xmath384 .",
    "the cost she would experience by deviating to the strategy consisting of the path @xmath399 and the path from @xmath386 to @xmath46 in @xmath0 would be at most @xmath400 .",
    "if the subsidized edges are the edges @xmath379 and @xmath395 of the set @xmath378 , then no critical consistency player has an incentive to change her strategy in @xmath0 . the critical consistency player associated with node @xmath351 experiences a cost of at most @xmath329",
    "the cost she would experience by deviating to the strategy consisting of the path @xmath399 and the path from @xmath386 to @xmath46 in @xmath0 would be at least @xmath401 .",
    "also , note that if the critical consistency player associated with node @xmath351 deviates to a strategy that does not use the path from node @xmath386 to the root - node @xmath46 in @xmath0 , this would contain two heavy edges which are used only by this player for a cost of at least @xmath367 . the critical consistency player associated with node @xmath350 experiences a cost of at most @xmath402 .",
    "the cost she would experience by deviating to the strategy consisting of the path @xmath396 and the path from @xmath397 to @xmath46 in @xmath0 would be at least @xmath403 . also , note that if the critical consistency player associated with node @xmath350 deviates to a strategy that does not use the path from node @xmath397 to the root - node @xmath46 in @xmath0 , this would contain two heavy edges which are used only by this player for a cost of at least @xmath367 .",
    "if the subsidized edges are the edges @xmath404 and @xmath394 , then no critical consistency player has an incentive to change her strategy in @xmath0 either .",
    "the critical consistency player associated with node @xmath351 experiences a cost of at most @xmath389 . the cost she would experience by deviating to the strategy consisting of the path @xmath399 and the path from @xmath386 to @xmath46 in @xmath0 would be at least @xmath405 .",
    "also , note that if the critical consistency player associated with node @xmath351 deviates to a strategy that does not use the path from node @xmath386 to the root - node @xmath46 in @xmath0 , this would contain two heavy edges which are used only by this player for a cost of at least @xmath367 . the critical consistency player associated with node @xmath350 experiences a cost of at most @xmath329 .",
    "the cost she would experience by deviating to the strategy consisting of the path @xmath396 and the path from @xmath397 to @xmath46 in @xmath0 would be at least @xmath329 .",
    "also , note that if the critical consistency player associated with node @xmath350 deviates to a strategy that does not use the path from node @xmath397 to the root - node @xmath46 in @xmath0 , this would contain two heavy edges which are used only by this player for a cost of at least @xmath367 .    ' '' ''    we call a balanced light assignment such that for each variable @xmath316 either the edges of @xmath406 or the edges of @xmath407 are subsidized ( i.e. , if the second sentence in lemmas [ lem : ell - ell - consistency - gadget ] and [ lem : ell - not - ell - consistency - gadget ] holds for every literal ) a _ consistent _ balanced light assignment . under this definition , lemmas [ lem : ell - ell - consistency - gadget ] and [ lem : ell - not - ell - consistency - gadget ]",
    "yield the following corollary .",
    "[ cor : consistency ] consider the extension of the broadcast game on @xmath18 with a balanced light assignment of subsidies .",
    "the critical consistency players have no incentive to deviate from their strategy in @xmath0 if and only if the assignment is consistent balanced light .",
    "note that there exists a one - to - one and onto mapping between consistent balanced light assignments of subsidies and assignments of values to the variables of @xmath159 by setting @xmath408 for every variable @xmath316 such that the edges in @xmath406 are subsidized ( and @xmath409 otherwise ) .",
    "we proceed with step 4 .",
    "[ lem : clause - gadget ] consider a light assignment of subsidies .",
    "the following are equivalent :    * @xmath0 is enforced as an equilibrium in the extension of the broadcast game . *",
    "\\(a ) the assignment of subsidies is consistent balanced light .",
    "( b ) for each clause @xmath297 , at least one of the following is true : * * the edges of @xmath410 are subsidized . * * the edges of @xmath411 are subsidized . * * the edges of @xmath412 are subsidized .",
    "if @xmath0 is enforced as an equilibrium , then no player has any incentive to deviate from her strategy in @xmath0 . by lemma [ lem : literal - gadget ] and corollary [ cor : consistency ] ,",
    "we obtain ( a ) .",
    "we will show that the fact that the critical clause players have no incentive to deviate from their strategy in @xmath0 implies ( b ) .",
    "assume otherwise that there exists a clause @xmath297 such that the edges in @xmath413 are not subsidized .",
    "this means that the light edges @xmath414 , @xmath415 , and @xmath416 in the three literal gadgets corresponding to the appearance of literals @xmath302 , @xmath303 , and @xmath304 in @xmath95 are not subsidized .",
    "let @xmath298 , @xmath299 , and @xmath300 be the labels of the variables corresponding to literals @xmath302 , @xmath303 , and @xmath304 .",
    "then , the cost the critical clause player associated with node @xmath310 experiences on her strategy in @xmath0 is at least @xmath417 .",
    "hence , she has an incentive to deviate and use the direct edge @xmath418 of weight @xmath312 which contradicts our assumption .",
    "on the other hand , if ( a ) and ( b ) are true , we will show that no player has any incentive to deviate from her strategy in @xmath0 .",
    "again , by lemma [ lem : literal - gadget ] and corollary [ cor : consistency ] , we have that ( a ) implies that critical literal players and critical consistency players have no incentive to deviate while lemma [ lem : non - critical ] implies that non - critical players have no incentive to deviate",
    ". we will show that ( b ) implies that no critical clause player has an incentive to deviate either .",
    "indeed , consider a clause @xmath297 and let @xmath298 , @xmath299 , and @xmath300 be the labels of the variables corresponding to literals @xmath302 , @xmath303 , and @xmath304 .",
    "( b ) implies that one among the three light edges @xmath419 for @xmath420 in the three literal gadgets corresponding to the appearance of literal @xmath421 is subsidized and , due to ( a ) , if a light edge @xmath422 is not subsidized , then the light edge @xmath423 is subsidized .",
    "hence , the cost of the critical clause player associated with node @xmath310 is at most @xmath424 and , hence , this player has no incentive to use edge @xmath418 . also , she has no incentive to deviate to another strategy which includes edge @xmath425 but not the path from @xmath311 to @xmath46 in @xmath0 .",
    "any such path contains two heavy edges which would be used only by the critical clause player associated with node @xmath310 and , hence , her cost would be at least @xmath367 .    ' '' ''    note that the mapping mentioned above is a one - to - one and onto mapping between consistent balanced light assignments of subsidies and truthful assignments of @xmath159 .",
    "we obtain the following corollary .",
    "[ cor : t - sat - eq ] there exists a light assignment of subsidies that enforces @xmath0 as an equilibrium in the extension of the broadcast game on @xmath18 if and only if @xmath159 is satisfiable .    hence , if @xmath159 is not satisfiable , then the minimum amount of all - or - nothing subsidies necessary to enforce @xmath0 as an equilibrium in the extension of the broadcast game is at least @xmath44 ( some heavy edge has to be subsidized ) .",
    "we conclude that distinguishing between whether all - or - nothing subsidies of cost ( at most ) @xmath275 are sufficient or subsidies of cost at least @xmath44 are necessary in order to enforce @xmath0 as an equilibrium in the extension of the broadcast game is np - hard .",
    "theorem [ thm : hardness - all - or - nothing ] follows by setting @xmath44 to be arbitrarily large compared to @xmath426 .    ' '' ''    theorem [ thm : hardness - all - or - nothing ] probably indicates that the only approximation guarantee we should hope for all - or - nothing sne is to bound the amount of subsidies as a constant fraction of the weight of an optimal design .",
    "the next statement implies that significantly more subsidies may be necessary compared to the standard version of sne in order to enforce a minimum spanning tree as an equilibrium .",
    "[ thm : all - or - nothing - lb ] for every @xmath265 , there exist a broadcast game on a graph @xmath18 and a minimum spanning tree @xmath0 of @xmath18 such that the cost of any all - or - nothing subsidy assignment that enforces @xmath0 as an equilibrium in the extension of the broadcast game is at least @xmath427 .",
    "we will define a graph @xmath18 with @xmath45 nodes which has a minimum spanning tree that consists of a path @xmath428 .",
    "let @xmath429 .",
    "edges @xmath430 and @xmath431 for @xmath432 have weight @xmath316 .",
    "edge @xmath433 has weight @xmath8 .",
    "the graph contains two additional edges : edge @xmath434 has weight @xmath316 and edge @xmath435 has weight @xmath8 .",
    "if we do not put subsidies on the edge @xmath433 , then we have to put subsidies on each of the remaining edges in the path in order to guarantee that the player associated with node @xmath436 has no incentive to use the direct edge @xmath437 , i.e. , a total amount of @xmath438 as subsidies .",
    "if we put subsidies on the edge @xmath433 , we still have to guarantee that the player associated with node @xmath439 has no incentive to deviate to the direct edge @xmath440 . using the same reasoning as in the proof of theorem [ thm : lb ]",
    ", we will need an amount of at least @xmath441 as subsidies on the edges of the path @xmath442 , for a total of @xmath443 . due to the definition of @xmath316 , we have that the amount of subsidies is at least @xmath444 in both cases while the total weight of @xmath0 is @xmath445 .",
    "the bound follows by selecting @xmath2 to be sufficiently large .    ' '' ''",
    "our work has revealed several open questions . concerning the particular results obtained ,",
    "it is interesting to design a combinatorial algorithm for sne which , on input a graph @xmath18 and a minimum spanning tree @xmath0 on @xmath18 , enforces @xmath0 as an equilibrium on the corresponding broadcast game using minimum subsidies .",
    "lemma [ lem : lp - simple ] may be helpful in this direction .",
    "for the integral version of sne , we have left open the question whether it is always possible to enforce a given minimum spanning tree as an equilibrium in a broadcast game using all - or - nothing subsidies of cost strictly smaller than the weight of a minimum spanning tree . given our negative result in theorem [ thm : hardness - all - or - nothing ] , this is probably the only approximation that makes sense .",
    "it is tempting to conjecture that our lower bound is tight , i.e. , there is an algorithm that always uses a fraction of at most @xmath446 of the weight of the minimum spanning tree as subsidies in order to do so .",
    "approximating snd would also be interesting . given the known hardness statements ( e.g. , @xcite ) or the lack of positive results concerning the complexity of computing equilibria , this is a far more challenging goal .",
    "a concrete question for snd instances consisting of broadcast games could be the following : can we compute in polynomial time an equilibrium tree using subsidies of cost at most an @xmath447 fraction of the weight of the minimum spanning tree ? our results ( theorems [ thm : sne - p ] and [ thm : upper - bound ] ) indicate that the answer is clearly positive if @xmath448 .",
    "is this also possible if @xmath447 is an arbitrarily small constant ?",
    "definitely , more general instances of snd ( e.g. , involving multicast games ) are challenging as well .",
    "finally , variations of sne and snd that consider deviations of coalitions of players ( as opposed to unilateral deviations ) , players with different demands @xcite , or different cost sharing protocols @xcite deserve investigation .",
    "s. albers and p. lenzner . on approximate nash equilibria in network design .",
    "in _ proceedings of the 6th international workshop on internet and network economics ( wine ) _ , lncs 6484 , springer , pp .",
    "14 - 25 , 2010 .",
    "e. anshelevich , a. dasgupta , j. m. kleinberg , e. tardos , t. wexler , and t. roughgarden .",
    "the price of stability for network design with fair cost allocation . _ siam journal on computing _ , 38(4 ) , pp .",
    "1602 - 1623 , 2008 .",
    "e. anshelevich , a. dasgupta , e. tardos , and t. wexler .",
    "near - optimal network design with selfish agents . in _ proceedings of the 35th annual acm symposium on theory of computing ( stoc )",
    "511 - 520 , 2003 .",
    "y. azar , k. jain , and v. s. mirrokni .",
    "( almost ) optimal coordination mechanisms for unrelated machine scheduling . in _ proceedings of the 19th annual acm / siam symposium on discrete algorithms ( soda ) _ , pp",
    ". 323 - 332 , 2008 .",
    "y. bachrach , e. elkind , r. meir , d. v. pasechnik , m. zuckerman , j. rothe , and j. s. rosenschein .",
    "the cost of stability in coalitional games . in _ proceedings of the 2nd international symposium on algorithmic game theory ( sagt )",
    "_ , lncs 5814 , springer , pp . 122 - 134 , 2009 .    p.  berman and m.  karpinski . on some tighter inapproximability results . in _ proceedings of the 26th international colloquium on automata , languages , and programming ( icalp ) _ , lncs 1644 , springer , pp",
    "200 - 209 , 1999 .",
    "v. bil , i. caragiannis , a. fanelli , and g. monaco . improved lower bounds on the price of stability of undirected network design games . in _ proceedings of the 3rd international symposium on algorithmic game theory ( sagt ) _ , lncs 6386 , springer , pp .",
    "90 - 101 , 2010 .",
    "m. charikar , h. j. karloff , c. mathieu , j. naor , and m. e. saks .",
    "online multicast with egalitarian cost sharing . in _ proceedings of the 20th annual acm symposium on parallelism in algorithms and architectures ( spaa ) _ , pp .",
    "70 - 76 , 2008 .",
    "a. fanelli , m. flammini , and l. moscardelli .",
    "stackelberg strategies for network design games . in _ proceedings of the 6th international workshop on internet and network economics ( wine ) _ , lncs 6484 , springer , pp .",
    "222 - 233 , 2010 .",
    "a. fiat , h. kaplan , m. levy , s. olonetsky , and r. shabo . on the price of stability for designing undirected networks with fair cost allocations . in _ proceedings of the 33rd international colloquium on automata , languages and programming ( icalp ) _ ,",
    "lncs 4051 , springer , part i , pp .",
    "608 - 618 , 2006 .",
    "l. fleischer , k. jain , and m. mahdian .",
    "tolls for heterogeneous selfish users in multicommodity networks and generalized congestion games . in _ proceedings of the 45th annual ieee symposium on foundations of computer science ( focs )",
    "277 - 285 , 2004 .",
    "g. karakostas , and s. kolliopoulos .",
    "edge pricing of multicommodity networks for heterogeneous selfish users . in",
    "_ proceedings of the 45th annual ieee symposium on foundations of computer science ( focs ) _ , pp .",
    "268 - 276 , 2004 .",
    "e. koutsoupias and c. papadimitriou .",
    "worst - case equilibria . in _ proceedings of the 16th international symposium on theoretical aspects of computer science ( stacs )",
    "_ , lncs 1563 , springer , pp .",
    "404 - 413 , 1999 .",
    "v. s. anil kumar and m. v. marathe . improved results for stackelberg scheduling strategies . in _ proceedings of the 29th annual international colloquium on automata , languages , and programming ( icalp ) _ , lncs 2380 , springer , pp .",
    "776 - 787 , 2002 ."
  ],
  "abstract_text": [
    "<S> the efficient design of networks has been an important engineering task that involves challenging combinatorial optimization problems . </S>",
    "<S> typically , a network designer has to select among several alternatives which links to establish so that the resulting network satisfies a given set of connectivity requirements and the cost of establishing the network links is as low as possible . </S>",
    "<S> the minimum spanning tree problem , which is well - understood , is a nice example .    in this paper </S>",
    "<S> , we consider the natural scenario in which the connectivity requirements are posed by selfish users who have agreed to share the cost of the network to be established according to a well - defined rule . </S>",
    "<S> the design proposed by the network designer should now be consistent not only with the connectivity requirements but also with the selfishness of the users . </S>",
    "<S> essentially , the users are players in a so - called network design game and the network designer has to propose a design that is an equilibrium for this game . as it is usually the case when selfishness comes into play , such equilibria may be suboptimal . in this paper , we consider the following question : can the network designer enforce particular designs as equilibria or guarantee that efficient designs are consistent with users selfishness by appropriately subsidizing some of the network links ? in an attempt to understand this question , we formulate corresponding optimization problems and present positive and negative results . </S>"
  ]
}