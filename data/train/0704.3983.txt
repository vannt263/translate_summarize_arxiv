{
  "article_text": [
    "in a recent paper  @xcite , maslov and zhang addressed the following problem : we are given @xmath0 agents , each one represented by an @xmath1-dimensional real vector @xmath2 ; suppose we know @xmath3 of the @xmath4 scalar products @xmath5 with @xmath6 .",
    "in this situation , can we predict the value of an unknown scalar product @xmath7 ?",
    "this question is relevant for instance to the problem of extracting information from the vast amount of data generated by a commercial website .",
    "the @xmath2 may represent in that context the interests of a person @xmath8 , and @xmath7 the mutual appreciation of persons @xmath8 and @xmath9 ; the problem is then to predict the mutual appreciation of two persons that do not know each other .",
    "maslov and zhang called the network of interactions and overlaps @xmath7 a `` knowledge network '' .",
    "one of their main results is the following : there exists a critical density of known overlaps @xmath10 above which almost all the a priori unknown overlaps are completely determined by the @xmath3 known ones .",
    "this transition is a realization of the so - called rigidity percolation .",
    "however , their treatment leaves several important issues aside , and assumes that we have at our disposal much more information that we typically do .",
    "for instance , the size of the vectors @xmath1 describing each agent is a priori unknown ; the problem of estimating @xmath1 from the data was addressed in  @xcite .",
    "more drastically , the data on the overlaps is necessarily noisy : if @xmath2 and @xmath11 model the interests of persons @xmath8 and @xmath9 , their mutual appreciation @xmath7 is certainly not completely determined by the overlap of their interests @xmath12 , although it is probably biased by it . in this more realistic case of noisy information ,",
    "the questions are : does the `` phase transition '' noted by maslov and zhang survive ? and how to retrieve the information contained in the noisy knowledge network ?",
    "we address these issues in the following by studying a simple model of this situation .",
    "the outline of the paper is as follows : we present in section  [ sec : model ] the details of the model we are going to study , and the mapping onto a disordered statistical mechanics problem , which happens to be the one studied in  @xcite and more recently in  @xcite .",
    "this mapping opens the door to the use of many analytical and numerical methods . in section",
    "[ sec : cavity ] , we give the solution of this problem at the replica symmetric level , using the cavity method  @xcite .",
    "we then check these analytical results against numerical simulations in section  [ sec : num ] , and real data from the united states senate in section  [ sec : us_senate ] .",
    "we present now the noisy version of maslov and zhang s `` knowledge network '' which we are going to study ; for simplicity , the variable describing each agent is discrete , and one dimensional .",
    "we consider @xmath0 agents ; each one is characterized by an opinion @xmath13 , with @xmath14 ; the @xmath13 may take @xmath15 different values , and are a priori unknown .",
    "the @xmath13 may be for instance political opinions , as in the example of section  [ sec : us_senate ] .",
    "we suppose we have some information on the @xmath13 , given by a an analog of the `` overlaps '' of  @xcite  : for a certain number of pairs @xmath16 we know a number @xmath17 associated to it , constructed as follows .",
    "if @xmath18 , then @xmath19 with probability @xmath20 , and @xmath21 with probability @xmath22 ; if @xmath23 , then @xmath19 with probability @xmath22 , and @xmath21 with probability @xmath20 .",
    "we take @xmath24 .",
    "@xmath22 is then a measure of the noise in the information ; in the limit @xmath25 , the network does not convey any information on the @xmath13 .",
    "the basic questions we ask are : how well can we reconstruct the actual opinions @xmath13 knowing the @xmath17 ?",
    "do we have an effective algorithm to do so ?",
    "we are interested in the probability of any set of opinions @xmath26 , given the @xmath17 representing our knowledge ; from bayes formula , we can write : @xmath27    the factor @xmath28 is the prior probability on the @xmath29 ; we suppose from now on that it is flat , so that this term is independent of the @xmath29 .",
    "it would be possible however to consider another prior probability .",
    "the factor @xmath30 is difficult to compute , as the @xmath17 are correlated in an intricated way ; however , it is in any case independent of the @xmath29 , so it acts as a normalization factor for the distribution  ( [ eq : proba ] ) . finally , the @xmath31 is easy to compute , since once the @xmath29 are given , the @xmath17 are independent .",
    "let us consider two agents @xmath32 and @xmath33 with opinions @xmath34 and @xmath35 ; then from simple algebra one checks that @xmath36 since the @xmath17 are independent once the @xmath29 are given , eq .",
    "( [ eq : proba ] ) may be rewritten as @xmath37 where the index @xmath38 means that the product runs over the pairs @xmath16 that are connected by a known @xmath17 .",
    "taking the logarithm , we have : @xmath39=-log \\left [ p \\left ( \\{s_i\\}|\\{j_{ij}\\ } \\right ) \\right ] =   \\mbox{cste}-b\\sum_{<i , j > } j_{ij}(2\\delta_{s_i , s_j}-1)~ , \\label{eq : ham}\\ ] ] with @xmath40    eq .",
    "( [ eq : ham ] ) can be seen as the hamiltonian of a disordered potts model , which opens the door to the use of many analytical and numerical tools to study it . from now on ,",
    "we will concentrate for simplicity on the ising case , where each agent may have only two opinions , @xmath41 or @xmath42 . in this ising case ,",
    "the hamiltonian reads : @xmath39=-log \\left [ p \\left ( \\{s_i\\}|\\{j_{ij}\\ } \\right ) \\right ] =   \\mbox{cste}-b\\sum_{<i , j > } j_{ij}s_is_j~ , \\label{eq : ham_is}\\ ] ] the sets @xmath43 with maximum probability are the minimizers of eq .",
    "( [ eq : ham ] ) ; the minimizer is not necessarily unique .",
    "the question , how well can we reconstruct the real opinions knowing the @xmath17 is then rephrased as : given a minimizer @xmath44 of eq .",
    "( [ eq : ham ] ) , how far is it from the real opinions @xmath45 ?",
    "we answer this question in the next section .",
    "we note that this rephrasing of the problem bears some resemblance with the community detection , or clustering problem as stated in  @xcite ; in this work however , the probabilistic analysis yields a potts - like model without disorder .",
    "hamiltonian  ( [ eq : ham_is ] ) is not as well - suited for analytical treatment as it seems to be .",
    "it is a disordered ising model , but the probability distribution of the couplings @xmath17 is not known , and actually very complicated : the relevant information we want to extract is precisely hidden in the correlations between the @xmath17 .",
    "the following gauge transformation , somewhat miraculously , yields a tractable problem .",
    "we define @xmath46 and @xmath47 ( the @xmath13 are the true opinions of the agents ) ; then @xmath39= -b\\sum_{<i , j > } \\tilde{j}_{ij}\\tilde{s}_i\\tilde{s}_j~. \\label{eq : ham2}\\ ] ] the distribution of the @xmath48 does not depend any more on the @xmath49 : @xmath50 with probability @xmath20 and @xmath51 with probability @xmath22 : all correlations in the couplings have disappeared .",
    "furthermore , given a set @xmath52 , it is easy to know how far the corresponding set @xmath43 is from the original @xmath45 : it is enough to compute the number of @xmath53 equal to @xmath54 .",
    "thus we are left with the study of hamiltonian  ( [ eq : ham2 ] ) , which is that of a ferromagnetically biased ising spin glass .",
    "we would like to compute the magnetization of the ground state of such a hamiltonian . from now on ,",
    "we remove the @xmath55 on the @xmath56 s and the @xmath57 s .",
    "let us note that the ground state does not depend on @xmath58 , so we may take @xmath59 for simplicity ( as long as @xmath60 , that is @xmath61 ) . all explicit dependence on @xmath22",
    "is then removed , which is very convenient for practical purposes , as @xmath22 is a priori unknown : the knowledge of the @xmath17 is sufficient to determine the minimizers of  ( [ eq : ham2 ] ) .",
    "we need however to keep @xmath22 as a parameter in the theoretical analysis , and will turn later to the issue of estimating it .",
    "it turns out that the ferromagnetically biased ising spin glass given by hamiltonian  ( [ eq : ham2 ] ) has been studied recently by castellani et al . in  @xcite for fixed connectivity graphs . in the present context , it is more natural to consider random graphs of erds - rnyi type , with a poissonian distribution of connectivity .",
    "however , such a change from fixed to poissonian connectivity usually does not induce any qualitative change in the phase diagram .",
    "castellani et al .",
    "use the cavity method  @xcite to compute , among other quantities , the one we are interested in : the ground state magnetization as a function of the parameter @xmath22 .",
    "let us summarize briefly their main results : at low @xmath22 , the ground state is replica symmetric and magnetized , the ground state magnetization approaching @xmath32 when @xmath22 goes to @xmath62 ; at some critical @xmath63 , the replica symmetry is broken , but the ground state is still magnetized ; finally , for @xmath64 , the ground state looses its magnetization . when the connectivity of the graph increases , this picture is unchanged , but the value of @xmath65 and @xmath66 increase .",
    "we give now the replica symmetric solution of  ( [ eq : ham2 ] ) , for an erds - rnyi random graph , with a poissonian connectivity distribution @xmath67 , of degree @xmath68 . @xmath69",
    "the calculations closely follow those of  @xcite for fixed connectivity .",
    "the cavity messages @xmath70 sent by the sites along the links take only the values @xmath71 , @xmath54 and @xmath62 . at the replica symmetric level ,",
    "the system is then described by a single probability distribution : @xmath72 we write a recursion relation for the probability distribution @xmath73 as follows : @xmath74 where sgn is the sign function , taken to be zero when the argument is zero ; @xmath75 means `` expectation '' over the coupling @xmath56 .",
    "[ eq : recursion1 ] straightforwardly translates into three fixed point equations for @xmath76 and @xmath77 ( see fig .",
    "[ fig : recursion ] for an explanation of @xmath78 and @xmath79 ) : @xmath80 \\nonumber \\\\",
    "q_-&=&1-q_+-q_0~. \\label{eq : recursion}\\end{aligned}\\ ] ] once @xmath76 and @xmath77 are known , the ground state magnetization is given by the expression : @xmath81~.\\ ] ] to compute the ground state energy , one computes the energy shifts @xmath82 due to the addition of a site , and @xmath83 due to the addition of a link .",
    "one gets after straightforward calculations : @xmath84 the ground state energy @xmath85 is then given by @xmath86    the qualitative picture emerging from this replica symmetric analysis is the following : for each mean connectivity @xmath87 , there is a critical value @xmath88 such that for @xmath89 , it is possible to extract information from the knowledge network .",
    "the error rate @xmath90 in the @xmath91 limit is directly related to the ground state magnetization @xmath92  : @xmath93 for @xmath94 , it is not possible any more to extract meaningful information from the data in the limit @xmath91 : the error rate tends to @xmath95 .",
    "we compare these replica symmetric analytic results to numerical simulations in the next section .",
    "we can make however some a priori remarks on the validity of the calculation .",
    "first , we expect the calculations to be exact at small enough @xmath22 ; we then expect a replica symmetry breaking transition at some @xmath96 . for @xmath97 ,",
    "the replica symmetric results are not reliable any more .",
    "we expect that the phase transition described above towards a non magnetized ground state is shifted to some @xmath98 .",
    "however , the qualitative result of a transition between one phase which contains some information and another one which does not should still hold true .",
    "another word of caution is in order : the authors of  @xcite note strong finite size effects for a fixed connectivity network ; this is likely to be the case also for a poissonian network , and it may smear out somewhat the transition for finite @xmath0 .      as already noted above , eq .",
    "( [ eq : ham2 ] ) only depends on @xmath22 through the parameter @xmath58 , so an a priori knowledge of @xmath22 is not necessary to carry out the minimization .",
    "this is an interesting practical advantage .",
    "however , the amount of errors contained in the minimizer strongly depends on @xmath22 , as explained above .",
    "so it would be useful to have some information about the value of @xmath22 , to get an estimate of the amount of errors contained in the ground state .",
    "it is indeed in some cases possible to estimate @xmath22 from the only available data , the @xmath17 s .",
    "suppose we are given a network .",
    "it is possible to compute for this network @xmath99 , the ground state energy as a function of @xmath22 , by randomly choosing the @xmath17 s with probability @xmath22 ; this can be done analytically in some cases with the cavity method , or numerically .",
    "then one computes the ground state of the network with the real @xmath17 s from the data ; comparing with the @xmath99 , one gets an estimate of @xmath22 , provided the @xmath99 curve is not flat .",
    "we now compare the analytical prediction of the previous section to data generated randomly : we randomly assign a value @xmath100 or @xmath101 to @xmath0 spins ; we randomly draw a network connecting these spins , and randomly assign a value @xmath32 or @xmath54 to each link @xmath17 connecting spins @xmath8 and @xmath9 , following the rule : @xmath102 we then numerically minimize the corresponding hamiltonian . for this purpose , we may use simulated annealing .",
    "it is simple to program , but not very fast , and does not perform well in the replica symmetry broken phase .",
    "however , the structure of the problem may suggest to use another class of algorithm , intensively studied in different contexts recently ( see for instance  @xcite for a pedagogical introduction in the context of error correcting codes ) : belief propagation ( bp ) .",
    "bp is not expected to perform better than simulated annealing in the replica symmetry broken phase , and it may sometimes fail to converge . however , it performs overall very well , and is much faster than simulated annealing , which allows to reach higher @xmath0 : this is crucial to deal with large data sets .    on fig .",
    "[ fig : energy_magn ] , one sees that the agreement between simulations using bp and replica symmetric calculations is very good for low @xmath22 . for larger @xmath22",
    ", there are important discrepancies , that may have two origins .",
    "first , one expects a replica symmmetry breaking , as in  @xcite ; this means that the replica symmetric calculation is not exact any more , and that bp is not expected to perform well .",
    "second , as already noticed in  @xcite , finite size effects are strong . however , the numerical results seem compatible with the main analytical finding : the presence of a transition between a low @xmath22 phase which contains information , and a high @xmath22 one that does not .",
    "we also note that the error rate obtained with bp is always smaller than the theoretical one estimated from the replica symmetric analysis .",
    "finally , it is interesting to compare quantitatively these results with those of  @xcite for regular graphs : both theory and numerics predict a significantly higher threshold between the informative and non informative phases for a poissonian network , for a given mean connectivity .",
    "bp does have another big advantage over simulated annealing : its outcome is a magnetization for each site ; so we also have an indication on which sites are most likely to be wrongly guessed ( those with magnetization close to zero ) . as a final remark , it could be possible to improve performance in the replica symmetry broken phase by using a survey propagation algorithm  @xcite .",
    "the analytical results of section  [ sec : cavity ] are strengthened by the numerical simulations of section  [ sec : num ] ; however , unlike the numerical data , any real data set does not follow exactly the probabilistic model underlying our study .",
    "it is thus important to assess how robust are the results with respect to some uncertainty in the model . in this section",
    ", we will analyze data from the united states senate votes , and show that the strategy of minimizing hamitonian  ( [ eq : ham2 ] ) does allow to retrieve some information from the data ; the amount of information retrieved is in reasonable quantitative agreement with the predictions of section  [ sec : cavity ] .",
    "we consider here as agents the 100 us senators serving in 2001 .",
    "the party of each senator plays the role of the unknown opinion @xmath13 ; say @xmath103 if senator @xmath8 is a democrat , and @xmath104 if senator @xmath8 is a republican .",
    "on the us senate website ( http://www.senate.gov/ ) , the voting positions of all senators are available for the so - called `` roll call votes '' .",
    "we expect that senators from the same party tend to cast the same vote , and senators from different parties tend to vote differently , although it is of course not an absolute rule .",
    "we construct an instance of the `` knowledge network problem '' as follows :    * we pick up a random network with given parameter @xmath68 , and the senators as nodes . * for each edge of the network , linking two senators with labels @xmath8 and @xmath9 , we pick up randomly one roll call vote in early 2001 and consider the voting positions of the two senators @xmath8 and @xmath9 .",
    "if they casted the same vote , we set @xmath19 ; if they casted a different vote , we set @xmath21 .    varying the random network and the random pick of the roll call votes for each link , we can generate many different instances of the `` knowledge network '' for each @xmath68 .    as senators from the same ( resp .",
    "different ) party tend to cast the same ( resp .",
    "different ) vote , they tend to be linked by edges with positive ( resp .",
    "negative ) @xmath56 s .",
    "the fact that senators do not always vote like the majority of their colleagues from the same party plays the role of a noise .",
    "we crudely model this situation as in section  [ sec : model ] , assuming that @xmath105 with probability @xmath20 , and @xmath106 with probability @xmath22 , @xmath22 being unknown , smaller than @xmath95 .",
    "we now want to retrieve some information about the @xmath13 s ( ie the party of each senator ) , using the method described in this paper .",
    "based only on the set of the @xmath17 , we run the bp algorithm for each instance of the `` knowledge network '' , without using any a priori knowledge on the parameter @xmath22 ; we then split the senate in republicans and democrats , according to the bp results .",
    "we can check how many errors we have , and compare with the theory of section  [ sec : cavity ] .",
    "note that we can choose the connectivity of the random network @xmath68 .",
    "we have no control however on the parameter @xmath22 .",
    "the results are presented in fig .",
    "[ fig : ussenate ] , and compared to the replica symmetric analytical calculations .",
    "they seem to be consistent with the main qualitative analytical result : the existence of a threshold separating a phase containing almost no information ( low @xmath68 ) and a phase which contains some ( high @xmath68 ) .",
    "we also see on fig .",
    "[ fig : ussenate ] , that there is a strong sample to sample variability ; for small error rates however ( large values of the mean connectivity @xmath68 ) , the agreement is rather good ; for smaller @xmath68 , the agreement is poor .",
    "there are two explanations for that , besides the fact that the votes are not random : replica symmetry is probably broken , and , which is more important for such small systems ( @xmath107 ) , finite size effects create large bias .",
    "we note however that the practical error rate is usually smaller than the analytical one .",
    "we have extended the `` knowledge network '' formalism of  @xcite to the more realistic case of noisy data .",
    "we have shown that there is a phase transition between an information - rich phase , and a phase that essentially contains no information . in the former situation",
    ", the information may be efficiently retrieved through a belief propagation algorithm .",
    "there are several possible extensions to this work .",
    "the most direct ones are the study of non - binary opinions ( potts - like models ) , or multidimensionnal opinions . with the applications to commercial websites in mind presented in  @xcite",
    ", it would also be interesting to consider bipartite networks .",
    "for all these cases , it seems that the disordered statistical mechanics point of view used in this paper may be fruitful , by suggesting the use of some powerful analytical as well as numerical techniques .",
    "99 s.  maslov and y .- c .",
    "zhang 2001 `` extracting hidden information from knowledge networks '' , _ phys .",
    "lett . _ * 87 * , 248701 . f.  bagnoli , a.  berrones and f.  franci 2004 `` de gustibus disputandum ( forecasting opinions by knowledge networks ) '' , _ phys . a _ * 332 * , 509 - 518 . c.  kwon and d.  thouless 1988 `` ising spin glass at zero temperature on the bethe lattice '' , _ phys .",
    "rev b _ * 37 * , 7649 - 7654 .",
    "t.  castellani , f.  krzakala and f.  ricci - tersenghi 2005 `` spin glass models with ferromagnetically biased couplings on the bethe lattice : analytic solutions and numerical simulations '' _ europhys .",
    "j. b _ * 47 * , 1434 . m.  mzard , g.  parisi 2003 `` the cavity method at zero temperature '' , _ j. stat",
    ". phys . _ * 111 * , 1 .",
    "m.  b.  hastings 2006 `` community detection as an inference problem '' _ phys",
    "e _ * 74 * , 035102 .",
    "m. mzard and a. montanari 2006 `` reconstruction on trees and spin glass transition '' , _ j. stat .",
    "_ * 124 * , 1317 - 1350 . m.  mzard and r.  zecchina 2002 `` random k - satisfiability problem : from an analytic solution to an efficient algorithm '' _ phys",
    "e _ * 66 * , 056126 .",
    "a.  montanari 2005 `` two lectures on iterative coding and statistical mechanics '' , delivered in les houches ; cond - mat/0512296 ."
  ],
  "abstract_text": [
    "<S> we address the problem of retrieving information from a noisy version of the `` knowledge networks '' introduced by maslov and zhang  @xcite . </S>",
    "<S> we map this problem onto a disordered statistical mechanics model , which opens the door to many analytical and numerical approaches . </S>",
    "<S> we give the replica symmetric solution , compare with numerical simulations , and finally discuss an application to real data from the united states senate .    </S>",
    "<S> _ keywords _ : communication , supply and information networks ; random graphs , networks ; message - passing algorithms . </S>"
  ]
}