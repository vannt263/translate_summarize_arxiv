{
  "article_text": [
    "over the last few years , throughout the field of high energy physics ( hep ) , we have witnessed an enormous effort committed to migrating many popular procedural monte carlo generators into their c++ equivalents designed using object - oriented methodologies .",
    "well - known examples are the geant @xcite , herwig @xcite and pythia @xcite monte carlo generators .",
    "this reflects a radical change in our approach to scientific computing . along with the eternal requirement that the modeled physics be correct and extensively validated with external data ,",
    "the evolving nature of computing in hep has introduced new requirements .",
    "these requirements relate to the way large hep software systems are developed and maintained , by wide geographically - spread collaborations over a typical time - span of @xmath025 years during which they will undergo many ( initially unforeseen ) extensions and modifications to accommodate new needs .",
    "this puts a stress on software qualities such as re - usability , maintainability , robustness , modularity and extensibility .",
    "software engineering provides many well proven techniques to address these requirements and thereby improves the quality and lifetime of hep software . in neutrino physics ,",
    "the requirements for a new physics generator are more challenging for three reasons : the lack of a ` canonical ' procedural generator , theoretical and phenomenological challenges in modeling few - gev neutrino interactions , and the rapidly evolving experimental and theoretical landscape .",
    "neutrinos come from many sources and a variety of experiments have been mounted to measure their properties .",
    "these experiments have complicated detectors composed of many elements and the neutrinos have many flavors and a wide energy spectrum ( from @xmath0 1 mev to @xmath0 1 pev ) .",
    "our long - term goal is for genie to become a ` canonical ' neutrino event generator with wide applicability .",
    "the origins of the code come from the soudan experiment @xcite and recent application has been primarily to minos @xcite .",
    "thus , emphasis has been given to the few - gev energy range , the challenging boundary between the non - perturbative and perturbative regimes .",
    "these are relevant for current and near future long - baseline precision neutrino oscillation experiments using accelerator - made beams , one of the focuses of high energy physics .",
    "genie development over the next five years will be driven by the upcoming generation of accelerator experiments including t2k @xcite , nova @xcite , minerva @xcite microboone @xcite and argoneut @xcite .",
    "these developments are well underway and the code is being used successfully in each of these experiments .",
    "the present version provides comprehensive neutrino interaction modelling in the energy from @xmath0100 mev to a few hundred gev .",
    "results can be obtained and will be qualitatively correct for any nuclear target .",
    "genie is a root - based @xcite neutrino mc generator .",
    "it was designed using object - oriented methodologies and developed entirely in c++ over a period of more than three years , from 2004 to 2007 .",
    "its first official physics release ( v2.0.0 ) was made available on august 2007 and , at the time of writing this article , the latest available version was v2.4.4 .",
    "it also describes v2.6.0 which will be released shortly .",
    "genie has already been adopted by the majority of neutrino experiments , including those using the jparc and numi neutrino beamlines , and will be an important physics tool for the exploitation of the world accelerator neutrino program .",
    "the project is supported by a group of physicists from all major neutrino experiments operating in this energy range , establishing genie as a major hep event generator collaboration .",
    "many members of the genie collaboration have extensive experience in developing and maintaining the legacy monte carlo generators that genie strives to replace , which guarantees knowledge exchange and continuation .",
    "the default set of physics models in genie have adiabatically evolved from those in the neugen @xcite package , which was used as the event generator by numerous experiments over the past decade .",
    "this article will discuss the paradigm shift brought about by genie in neutrino physics simulations . in sec .",
    "[ sec : bridge ] we describe the unique challenges facing neutrino simulations in more detail . section [ sec : physics ] gives a brief overview of the physics models available in genie .",
    "section [ future ] gives a brief discussion of upgrades in progress .",
    "section [ sec : design ] describes the object - oriented design of genie .",
    "section [ sec : apps ] describes the genie applications and utilities available for simulation and analysis tasks .",
    "section [ sec : collab ] describes the structure of the genie collaboration and section [ sec : avail ] describes code availability , distribution , supported platforms , external dependencies , releases , and license .",
    "neutrinos have played an important role in particle physics since their discovery half a century ago . they have been used to elucidate the structure of the electroweak symmetry groups , to illuminate the quark nature of hadrons , and to confirm our models of astrophysical phenomena . with the discovery of neutrino oscillations using atmospheric , solar , accelerator , and reactor neutrinos",
    ", these elusive particles now take center stage as the objects of study themselves .",
    "precision measurements of the lepton mixing matrix , the search for lepton charge - parity ( cp ) violation , and the determination of the neutrino masses and hierarchy will be major efforts in hep for several decades",
    ". the cost of this next generation of experiments will be significant , typically tens to hundreds of millions of dollars .",
    "a comprehensive , thoroughly tested neutrino event generator package plays an important role in the design and execution of these experiments , since this tool is used to evaluate the feasibility of proposed projects and estimate their physics impact , make decisions about detector design and optimization , analyze the collected data samples , and evaluate systematic errors . with the advent of high - intensity neutrino beams from proton colliders , we have entered a new era of high - statistics , precision neutrino experiments which will require a new level of accuracy in our knowledge , and simulation , of neutrino interaction physics @xcite .",
    "while object - oriented physics generators in other fields of high energy physics were evolved from well established legacy systems , in neutrino physics no such ` canonical ' mc exists . until quite recently",
    ", most neutrino experiments developed their own neutrino event generators .",
    "this was due partly to the wide variety of energies , nuclear targets , detectors , and physics topics being simulated . without doubt these generators ,",
    "the most commonly used of which have been geneve @xcite , neut @xcite , neugen @xcite , nuance @xcite and nux @xcite , played an important role in the design and exploration of the previous and current generation of accelerator neutrino experiments . tuning on the basis of unpublished data from each group s own",
    "experiment has not been unusual making it virtually impossible to perform a global , independent evaluation for the state - of - the - art in neutrino interaction physics simulations . moreover , limited manpower and the fragility of the overextended software architectures meant that many of these legacy physics generators were not keeping up with the latest theoretical ideas and experimental measurements .",
    "a more recent development in the field has been the direct involvement of theory groups in the development of neutrino event generators , such as the nuwro @xcite and gibuu @xcite packages , and the inclusion of neutrino scattering in the long - established fluka hadron scattering package @xcite .",
    "simulating neutrino interactions in the energy range of interest to current and near - future experiments poses significant challenges .",
    "this broad energy range bridges the perturbative and non - perturbative pictures of the nucleon and a variety of scattering mechanisms are important . in many areas , including elementary cross sections , hadronization models , and nuclear physics , one is required to piece together models with different ranges of validity in order to generate events over all of the available phase space .",
    "this inevitably introduces challenges in merging and tuning models , making sure that double counting and discontinuities are avoided .",
    "in addition there are kinematic regimes which are outside the stated range of validity of all available models , in which case we are left with the challenge of developing our own models or deciding which model best extrapolates into this region . an additional fundamental problem in this energy range",
    "is a lack of data .",
    "most simulations have been tuned to bubble chamber data taken in the 70 s and 80 s . because of the limited size of the data samples ( important exclusive channels might only contain a handful of events ) , and the limited coverage in the space of ( @xmath1 , a ) , substantial uncertainties exist in numerous aspects of the simulations .",
    "the use cases for genie are also informed by the experiences of the developers and users of the previous generation of procedural codes .",
    "dealing with these substantial model uncertainties has been an important analysis challenge for many recent experiments .",
    "the impact of these uncertainties on physics analyses have been evaluated in detailed systematics studies and in some cases the models have been fit directly to experimental data to reduce systematics .",
    "these ` downstream ' simulation - related studies can often be among the most challenging and time - consuming in an analysis .    to see the difficulties facing the current generation of neutrino experiments",
    ", one can look no further than the k2k and miniboone experiments . both of these experiments have measured a substantially different q@xmath2 distribution for their quasielastic - like events when compared with their simulations , which involve a standard fermi gas model nuclear model @xcite .",
    "the disagreement between nominal monte carlo and data is quite large - in the lowest q@xmath2 bin of miniboone the deficit in the data is around 30% @xcite .",
    "it seems likely that the discrepancies seen by both experiments have a common origin .",
    "however the two experiments have been able to obtain internal consistency with very different model changes - the k2k experiment does this by eliminating the charged current ( cc ) coherent contribution in the monte carlo @xcite and the miniboone experiment does this by modifying certain parameters in their fermi gas model @xcite .",
    "another example of the rapidly evolving nature of this field is the recently reported excess of low energy electron - like events by the miniboone collaboration @xcite .",
    "these discrepancies have generated significant new theoretical work on these topics over the past several years @xcite .",
    "the situation is bound to become even more interesting , and complicated , in the coming decade , as new high - statistics experiments begin taking data in this energy range .",
    "designing a software system that can be responsive to this rapidly evolving experimental and theoretical landscape is a major challenge .    in this paper",
    "we will describe the ways in which the genie neutrino event generator addresses these challenges .",
    "these solutions rely heavily on the power of modern software engineering , particularly the extensibility , modularity , and flexibility of object oriented design , as well as the combined expertise and experience of the collaboration with previous procedural codes .",
    "the set of physics models used in genie incorporates the dominant scattering mechanisms from several mev to several hundred gev and are appropriate for any neutrino flavor and target type . over this energy range , many different physical processes are important .",
    "these physics models can be broadly categorized into nuclear physics models , cross section models , and hadronization models .",
    "the neutrino - nucleus interaction involves a large variety of processes , all of which must be modeled to get an accurate description of the experimental signature of any detector and its many components . since most theoretical models describe a small subset of these processes , genie must include many models . the broad energy range and the many nuclei to be covered force choosing models that have very broad applicability .    the particle in the nucleus with which the neutrino interacts depends strongly on the energy .",
    "at high energies ( @xmath310 gev ) neutrinos interact with a single quark inside a nucleon ( neutron or proton ) ; the code must model this interaction and the distribution of the residual quarks . at lower energies ,",
    "the struck particles are neutrons and protons .",
    "the neutrino tends to strike a single nucleon ( impulse approximation ) which is affected by the nuclear medium in which it resides . in the high energy regime ,",
    "the large body of neutrino - nucleon data is sufficient for development of a full model . at lower energies ,",
    "neutrino - nucleon data has been used for the basic process and nuclear models developed for other probes ( especially electrons ) are adopted .",
    "the 2 recent major developments have been in the transition region and the final state interactions ( fsi ) model . in physics model development for genie",
    "we have been forced to pay particular attention to this ` transition region ' , as for few - gev experiments it dominates the event rate . in particular",
    "the boundaries between regions of validity of different models need to be treated with care in order to avoid theoretical inconsistencies , discontinuities in generated distributions , and double - counting .",
    "treatment of fsi involves many aspects of nuclear physics and strong interactions .",
    "many events where particles are produced by the neutrinos have their topologies and kinematics altered .",
    "there are many effects to include and some dispute about the right techniques to use .",
    "therefore , fsi treatment is one of the largest differences among models of the neutrino - nucleus interaction .    in this brief section",
    "we will describe the models available in genie and the ways in which we combine models to cover regions of phase space where clear theoretical or empirical guidance is lacking .",
    "the importance of the nuclear model depends strongly on the kinematics of the reaction .",
    "nuclear physics plays a large role in every aspect of neutrino scattering simulations at few - gev energies and introduces coupling between several aspects of the simulation .",
    "the relativistic fermi gas ( rfg ) nuclear model is used for all processes .",
    "genie uses the version of bodek and ritchie which has been modified to incorporate short range nucleon - nucleon correlations @xcite .",
    "this is simple , yet applicable across a broad range of target atoms and neutrino energies .",
    "the best tests of the rfg model come from electron scattering experiments @xcite . at high energies ,",
    "the nuclear model requires broad features due to shadowing and similar effects . at the lower end of the genie energy range ,",
    "the impulse approximation works very well and the rfg is often successful .",
    "the nuclear medium gives the struck nucleon a momentum and average binding energy which have been determined in electron scattering experiments .",
    "mass densities are taken from review articles @xcite . for @xmath420 ,",
    "the modified gaussian density parameterization is used . for heavier nuclei ,",
    "the 2-parameter woods - saxon density function is used .",
    "thus , the model can be used for _ all _ nuclei .",
    "presently , fit parameters for selected nuclei are used with interpolations for other nuclei .",
    "all isotopes of a particular nucleus are assumed to have the same density .",
    "it is well known that scattering kinematics for nucleons in a nuclear environment are different from those obtained in scattering from free nucleons . for quasi - elastic and elastic scattering",
    ", pauli blocking is applied as described in sec .",
    "[ sec : xsec ] . for nuclear targets",
    "a nuclear modification factor is included to account for observed differences between nuclear and free nucleon structure functions which include shadowing , anti - shadowing , and the emc effect @xcite .",
    "nuclear reinteractions of produced hadrons is simulated using a cascade monte carlo which will be described in more detail in a following section .",
    "the struck nucleus is undoubtedly left in a highly excited state and will typically de - excite by emitting nuclear fission fragments , nucleons , and photons .",
    "at present de - excitation photon emission is simulated only for oxygen @xcite due to the significance of these 3 - 10 mev photons in energy reconstruction at water cherenkov detectors .",
    "future versions of the generator will handle de - excitation photon emission from additional nuclear targets .",
    "the cross section model provides the calculation of the differential and total cross sections . during event generation",
    "the total cross section is used together with the flux to determine the energies of interacting neutrinos .",
    "the cross sections for specific processes are then used to determine which interaction type occurs , and the differential distributions for that interaction model are used to determine the event kinematics . while the differential distributions must be calculated event - by - event , the total cross sections can be pre - calculated and stored for use by many jobs sharing the same physics models . over this energy range neutrinos",
    "can scatter off a variety of different ` targets ' including the nucleus ( via coherent scattering ) , individual nucleons , quarks within the nucleons , and atomic electrons .",
    "* quasi - elastic scattering : * quasi - elastic scattering ( e.g. @xmath5 ) is modeled using an implementation of the llewellyn - smith model @xcite . in this model",
    "the hadronic weak current is expressed in terms of the most general lorentz - invariant form factors .",
    "two are set to zero as they violate g - parity .",
    "two vector form factors can be related via cvc to electromagnetic form factors which are measured over a broad range of kinematics in electron elastic scattering experiments .",
    "several different parametrizations of these electromagnetic form factors including sachs @xcite , bba2003 @xcite and bbba2005 @xcite models are available with bbba2005 being the default .",
    "two form factors - the pseudo - scalar and axial vector , remain .",
    "the pseudo - scalar form factor is assumed to have the form suggested by the partially conserved axial current ( pcac ) hypothesis @xcite , which leaves the axial form factor f@xmath6(q@xmath2 ) as the sole remaining unknown quantity .",
    "f@xmath7 is well known from measurements of neutron beta decay and the q@xmath2 dependence of this form factor can only be determined in neutrino experiments and has been the focus of a large amount of experimental work over several decades . in genie a dipole form is assumed , with the axial vector mass m@xmath6 remaining as the sole free parameter with a default value of 0.99 gev / c@xmath2 . for nuclear targets , the struck a suppression factor is included from an analytic calculation of the rejection factor in the fermi gas model , based on the simple requirement that the momentum of the outgoing nucleon exceed the fermi momentum @xmath8 for the nucleus in question .",
    "typical values of @xmath8 are 0.221 gev / c for nucleons in @xmath9c , 0.251 gev / c for protons in @xmath10fe , and 0.256 gev / c for neutrons in @xmath10fe .",
    "* elastic neutral current scattering : * elastic neutral current processes are computed according to the model described by ahrens et al .",
    "@xcite , where the axial form factor is given by : @xmath11 the adjustable parameter @xmath12 includes possible isoscalar contributions to the axial current , and the genie default value is @xmath13 . for nuclear targets",
    "the same reduction factor described above is used .",
    "* baryon resonance production : * the production of baryon resonances in neutral and charged current channels is included with the rein - sehgal model @xcite . this model employs the feynman - kislinger - ravndal @xcite model of baryon resonances , which gives wavefunctions for the resonances as excited states of a 3-quark system in a relativistic harmonic oscillator potential with spin - flavor symmetry . in the rein - sehgal paper the helicity amplitudes for the fkr model",
    "are computed and used to construct the cross sections for neutrino - production of the baryon resonances . from the 18 resonances of the original paper we include the 16 that are listed as unambiguous at the latest pdg baryon tables and all resonance parameters have been updated . in our implementation of the rein - sehgal model interference between neighboring resonances has been ignored .",
    "lepton mass terms are not included in the calculation of the differential cross section , but the effect of the lepton mass on the phase space boundaries is taken into account . for tau neutrino charged current interactions an overall correction factor to the total cross section is applied to account for neglected elements ( pseudoscalar form factors and lepton mass terms ) in the original model .",
    "the default value for the resonance axial vector mass m@xmath6 is 1.12 gev / c@xmath2 , as determined in the global fits carried out in reference @xcite .",
    "* coherent neutrino - nucleus scattering : * coherent scattering results in the production of forward going pions in both charged current ( @xmath14 ) and neutral current ( @xmath15 ) channels .",
    "coherent neutrino - nucleus interactions are modeled according to the rein - sehgal model @xcite . since the coherence condition requires a small momentum transfer to the target nucleus , it is a low - q@xmath2 process which is related via pcac to the pion field .",
    "the rein - sehgal model begins from the pcac form at q@xmath2=0 , assumes a dipole dependence for non - zero q@xmath2 , with @xmath16 gev / c@xmath2 , and then calculates the relevant pion - nucleus cross section from measured data on total and inelastic pion scattering from protons and deuterium @xcite .",
    "the genie implementation is using the modified pcac formula described in a recent revision of the rein - sehgal model @xcite that includes lepton mass terms .",
    "* non - resonance inelastic scattering : * deep ( and not - so - deep ) inelastic scattering ( dis ) is calculated in an effective leading order model using the modifications suggested by bodek and yang @xcite to describe scattering at low q@xmath2 . in this model higher twist and target mass corrections are accounted for through the use of a new scaling variable and modifications to the low q@xmath2 parton distributions .",
    "the cross sections are computed at a fully partonic level ( the @xmath17 cross sections are computed for all relevant sea and valence quarks ) .",
    "the longitudinal structure function is taken into account using the whitlow r ( @xmath18 ) parameterization @xcite .",
    "the default parameter values are those given in @xcite , which are determined based on the grv98 lo parton distributions @xcite",
    ". an overall scale factor of 1.032 is applied to the predictions of the bodek - yang model to achieve agreement with the measured value of the neutrino cross section at high energy ( 100 gev ) .",
    "this factor is necessary since the bodek - yang model treats axial and vector form modifications identically and would therefore not be expected to reproduce neutrino data perfectly .",
    "this overall dis scale factor needs to be recalculated when elements of the cross section model are changed .",
    "the same model can be extended to low energies ; it is the model used for the nonresonant processes that compete with resonances in the few - gev region .    *",
    "quasi - elastic charm production : * qel charm production is modeled according to the kovalenko local duality inspired model @xcite tuned by the genie authors to recent nomad data @xcite",
    ".    * deep - inelastic charm production : * dis charm production is modeled according to the aivazis , olness and tung model @xcite .",
    "charm - production fractions for neutrino interactions are taken from @xcite , and utilize both peterson @xcite and collins - spiller @xcite fragmentation functions , with peterson fragmentation functions being the default .",
    "the charm mass is adjustable and is set to 1.43 gev / c@xmath2 by default .",
    "* inclusive inverse muon decay : * inclusive inverse muon decay cross section is computed using an implementation of the bardin and dokuchaeva model @xcite taking into account all 1-loop radiative corrections .",
    "* neutrino - electron elastic scattering : * the cross sections for all @xmath19 scattering channels other than inverse muon decay is computed according to @xcite .",
    "inverse tau decay is neglected .",
    "as discussed , for example , by kuzmin , lyubushkin and naumov @xcite one typically considers the total @xmath20 cc scattering cross section as    @xmath21    in the absence of a model for exclusive inelastic multi - particle neutrinoproduction , the above is usually being approximated as    @xmath22    assuming that all exclusive low multiplicity inelastic reactions proceed primarily through resonance neutrinoproduction . for the sake of simplicity ,",
    "small contributions to the total cross section in the few gev energy range , such as coherent and elastic @xmath23 scattering , were omitted from the expression above . in this picture",
    ", one should be careful in avoiding double counting the low multiplicity inelastic reaction cross sections .    in genie release the total cross sections",
    "is constructed along the same lines , adopting the procedure developed in neugen @xcite to avoid double counting .",
    "the total inelastic differential cross section is computed as    @xmath24    the term @xmath25 represents the contribution from all low multiplicity inelastic channels proceeding via resonance production .",
    "this term is computed as    @xmath26    where the index @xmath27 runs over all baryon resonances taken into account , @xmath28 is a configurable parameter and @xmath29 is the rein - seghal model prediction for the @xmath30 resonance cross section .",
    "the dis term of the inelastic differential cross section is expressed in terms of the differential cross section predicted by the bodek - yang model appropriately modulated in the  resonance - dominance \" region @xmath31 so that the res / dis mixture in this region agrees with inclusive cross section data @xcite and exclusive 1-pion @xcite and 2-pion @xcite cross section data :    @xmath32    in the above expression , @xmath33 refers to the multiplicity of the hadronic system and , therefore , the factor @xmath34 relates the total calculated dis cross section to the dis contribution to this particular multiplicity channel .",
    "these factors are computed as @xmath35 where @xmath36 is a tunable parameter and @xmath37 is the probability , taken from the hadronization model , that the dis final state hadronic system multiplicity would be equal to @xmath33 .",
    "the approach described above couples the genie cross section and hadronic multiparticle production model @xcite .",
    "neutrino - induced hadronic shower modeling is an important aspect of the intermediate energy neutrino experiment simulations , as non - resonant inelastic scattering becomes the dominant interaction channel for neutrino energies as low as 1.5 gev .",
    "experiments are sensitive to the details of hadronic system modeling in many different ways .",
    "experiments making calorimetric measurements of neutrino energy in charged current reactions are typically calibrated using single particle test beams , which introduces a model dependence in determining the conversion between detector activity and the energy of neutrino - produced hadronic systems .",
    "physics analysis can also depend on the prediction of the hadron shower characteristics , such as shower shapes , energy profile and particle content , primarily for event identification .",
    "a characteristic example is a @xmath38 appearance analysis , where the evaluation of backgrounds coming from neutral current ( nc ) events , would be quite sensitive on the details of the nc shower simulation and specifically the @xmath39 shower content .",
    "it is therefore imperative that the state - of - the - art in shower modeling is included in our neutrino interaction simulations .",
    "genie uses the agky hadronization model which was developed for the minos experiment @xcite .",
    "this model integrates an empirical low - invariant mass model with pythia-6 at higher invariant masses .",
    "the transition between these two models takes place over an adjustable window with the default values of 2.3 gev / c@xmath2 to 3.0 gev / c@xmath2 , so as to ensure continuity of all simulated observables as a function of the invariant mass . for the hadronization of low - mass states",
    "the model proceeds in two phases , first determining the particle content of the hadronic shower , and secondly determining the 4-momenta of the produced particles in the hadronic center of mass .",
    "the agky s low mass hadronization model generates hadronic systems that typically consist of exactly one baryon ( @xmath40 or @xmath41 ) and any number of @xmath42 , @xmath43 , @xmath39 , @xmath44 , @xmath45 , @xmath46 , @xmath47 mesons kinematically possible and allowed by charge conservation .    for a fixed hadronic invariant mass and initial state ( neutrino and hit nucleon )",
    ", the algorithm for generating the hadron shower particles generally proceeds as follows :    * compute the average charged hadron multiplicity @xmath48 for a given invariant mass ( w ) using empirical expressions of the ( @xmath49 ) form . the coefficients @xmath50 , @xmath51 , which depend on the initial state ,",
    "have been determined by bubble chamber experiments @xcite .",
    "* compute the average total hadron multiplicity @xmath52 as @xmath53 . * using the calculated average hadron multiplicity , generate the actual hadron multiplicity taking into account that the multiplicity dispersion is described by the kno scaling law , ( @xmath54 ) @xcite .",
    "p(n ) is the probability of having @xmath41 hadrons in the final state given an expected average of @xmath55 , and @xmath56 is a universal scaling function .",
    "the kno scaling is parametrized employing the levy ] function with an input parameter @xmath57 that depends on the initial state and is treated as a tuning parameter . *",
    "generate hadrons up to the generated hadron multiplicity taking into account the hadron shower charge conservation and the kinematical constraints . protons and neutrons",
    "are produced in the ratio 2:1 for @xmath58 interactions , 1:1 for @xmath59 and @xmath60 , and 1:2 for @xmath61 interactions .",
    "charged mesons are then created in order to balance charge , and the remaining mesons are generated in neutral pairs .",
    "the probabilities for each are 31.33% ( @xmath62 ) , 62.67% ( @xmath63 ) and 6% of strange meson pairs .",
    "the probability of producing a strange baryon via associated production is determined from a fit to @xmath64 production data @xcite : @xmath65    fig .",
    "[ fig : chmult ] shows the data / model comparisons of the average charged hadron multiplicity @xmath48 as a function of the squared hadronic invariant mass for @xmath58 and @xmath59 interactions .",
    "[ fig : chd ] shows the data / model comparisons of the negatively charged hadron multiplicity dispersion @xmath66 as a function of the average charged hadron multiplicity @xmath67 and the reduced dispersion @xmath68 as a function of the squared hadronic invariant mass .",
    "the main dynamical feature observed in the study of hadronic systems is that the baryon tends to go backwards in the hadronic center of mass and that the produced hadrons have small transverse momentum relative to the direction of momentum transfer .",
    "these features are naturally described in the quark model where the baryon is formed from the diquark remnant , which goes backwards in the center - of - mass , and transverse momentum is generated solely through intrinsic parton motion and gluon radiation . at low invariant masses energy - momentum constraints on",
    "the available phase space play a particularly important role .",
    "the most pronounced kinematical feature in this region is that one of the produced particles ( proton or neutron ) is much heavier than the rest ( pion and kaons ) and exhibits a strong directional anticorrelation with the momentum transfer .",
    "our strategy , therefore , is to correctly reproduce the final state nucleon momentum , and then perform a phase space decay on the remnant system employing , in addition , a @xmath69-based rejection scheme designed to reproduce the expected meson transverse momentum distribution .",
    "the nucleon momentum is generated using input @xmath70 and @xmath71 pdfs which are parametrized based on experimental data @xcite .",
    "once the baryon momentum is selected the remaining particles undergo a phase space decay .",
    "the phase space decay employs a rejection method suggested in @xcite , with a rejection factor @xmath72 for each meson .",
    "this causes the transverse momentum distribution of the generated mesons to fall exponentially with increasing @xmath73 , controlled by the adjustable parameter @xmath74 which has a default value of 3.5 gev@xmath75 . here",
    "@xmath76 is the momentum component perpendicular to the current direction .",
    "one of the remaining challenges in this model , which will be addressed in the future , is to better describe forward and backward hemisphere multiplicity distributions .",
    "the forward / backward multiplicity distributions yield an unphysically rapid transition to the pythia values , a feature not seen in other recent hadronization models @xcite .",
    "[ fig : zfragm ] shows the data / model comparisons of the fragmentation function for positively and negatively charged hadrons .",
    "2-body hadronic systems are a special case : the hadronic system 4-momenta are generated by a simple unweighted phase space .     as a function of the average charged hadron multiplicity @xmath67 ( up ) and the reduced dispersion @xmath68 as a function of the squared hadronic invariant mass ( down ) .",
    "data are from ref . @xcite . ]     as a function of the average charged hadron multiplicity @xmath67 ( up ) and the reduced dispersion @xmath68 as a function of the squared hadronic invariant mass ( down ) .",
    "data are from ref . @xcite . ]",
    "the hadronization model describes particle production from free targets and is tuned primarily to bubble chamber data on hydrogen and deuterium targets @xcite .",
    "hadrons produced in the nuclear environment may rescatter on their way out of the nucleus , and these reinteractions significantly modify the observable distributions in most detectors .",
    "it is also well established that hadrons produced in the nuclear environment do not immediately reinteract with their full cross section .",
    "the basic picture is that during the time it takes for quarks to materialize as hadrons , they propagate through the nucleus with a dramatically reduced interaction probability .",
    "this was implemented in genie as a simple ` free step ' at the start of the intranuclear cascade during which no interactions can occur .",
    "the ` free step ' comes from a formation time of 0.523 fm / c according to the skat model @xcite .",
    "intranuclear hadron transport in genie is handled by a subpackage called intranuke .",
    "intranuke is an intranuclear cascade simulation and has gone through numerous revisions @xcite since the original version was developed for use by the soudan 2 collaboration @xcite .",
    "the sensitivity of a particular experiment to intranuclear rescattering depends strongly on the detector technology , the energy range of the neutrinos , and the physics measurement being made .",
    "intranuke simulates rescattering of pions and nucleons in the nucleus .",
    "in principle one would like to have a fully realistic nuclear model which accurately describes the full range of processes to model particle production with energies as low as 1 mev to ensure that the simulations are suitable for any conceivable experiment .",
    "nuclear simulations of this type are themselves highly complex packages and the integration of these packages with genie is an area of active work . an alternative approach is to develop a simpler nuclear model , in the context of a particular experiment , and ensure that the relevant physics for that experiment are correctly described .",
    "this approach has the advantage of yielding a far simpler code , which is understood by the experimenters .",
    "this has particular advantages for the study of systematic errors and the development of ancillary code like reweighting packages .",
    "the current version was optimized for use by the minos experiment . for this experiment",
    "the task of developing an intranuclear rescattering model is simplified because the detector is composed largely of a single element , iron , and the detector is designed to make a calorimetric energy measurement rather than track individual particles . for the oscillation measurement of minos",
    "@xcite the primary goal is ensuring that the ` missing energy ' lost in the nuclear environment is being reliably simulated .",
    "the model has applicability to almost all nuclei and a wide range of energies .    to handle a wide energy range for neutrinos",
    ", genie has defined processes for hadrons up to 1.8 gev kinetic energy in terms of all the relevant cross sections . for higher hadron energy ,",
    "the underlying cross sections are assumed to be constant at the 1.8 gev value .",
    "this is a good approximation to the actual values .",
    "the code then has a description of all hadrons coming from neutrinos at all relevant energies .",
    "the simulation tracks particles through the nucleus in steps of 0.05 fm . for each particle",
    "only one reinteraction is allowed , and the simulation consists of the following steps :    1 .",
    "* mean free path : * in order to determine if the particle interacts in a particular step the mean free path ( @xmath77 ) is calculated based on the local density of nucleons ( @xmath78 ) @xcite and a partial wave analysis of the large body of hadron - nucleon cross sections ( @xmath79 ) @xcite : @xmath80 . here , @xmath79 is the isospin averaged cross section for the propagating hadron ( with energy @xmath81 ) interacting with a nucleon and @xmath78 is the matter density of nucleons at the position of the propagating hadron .",
    "we use charge densities which are well - measured and are known to be very similar to the matter densities .",
    "the code presently tracks pions and nucleons .",
    "isospin relations are used to estimate @xmath82nucleon reactions .",
    "all nuclei heavier than oxygen are modeled with a woods - saxon density distribution and lighter nuclei are modeled with a modified gaussian distribution .",
    "one difficulty in this approach is that our treatment is using a semiclassical model to describe a quantum mechanical process .",
    "this poses particular difficulty in describing elastic scattering which dominates the total cross section at low energy .",
    "this wave / particle distinction depends on energy with lower energy hadron - nucleus scattering being more wave - like . to account for this",
    "we increase the size of the nuclear density distribution through which the particle is tracked by an amount @xmath83 where @xmath84 is an adjustable dimensionless parameter set to 0.5 for pions and 1.1 for nucleons in the current default .",
    "we use the isospin - averaged total cross sections for pions and nucleons .",
    "* determining the interaction type : * hadron - nucleus interactions occur with different processes and each has an associated cross section - @xmath85 for elastic scattering ( residual nucleus in the ground state ) , @xmath86 for inelastic scattering ( residual nucleus in excited state , typical response is single nucleon emission ) , @xmath87 for single charge exchange ( outgoing hadron changes charge , typical response is single nucleon emission ) for all hadrons . for pions ,",
    "emission of 2 or more nucleons with no pion in the final state is called absorption - @xmath88 ; for nucleons , a final state with 3 or more nucleons is called multi - nucleon knockout - @xmath89 . for low energy nucleons , the knockout mechanism dominates . at higher energies ( above about 400 mev for pions and 600 mev for nucleons ) , the probability of pion production ( @xmath90 ) becomes important .",
    "the total cross section ( @xmath91 ) is the sum of all component cross sections and the reaction cross section ( @xmath92 ) is the sum of cross section for all inelastic reactions , @xmath93 this equation is specific to pions ; @xmath88 is replaced by @xmath89 for nucleons .",
    "once it has been determined that a hadron reinteracts in the nucleus , the type of the interaction is determined based on the measured cross sections for the above listed processes .",
    "cross sections for kinetic energy less than 1 gev are used and they are assumed constant above 1 gev . where data is sparse , cross section estimates are taken from calculations of the cem03 group @xcite . since only 1 reinteraction is allowed , the effect of additional reactions with the rest of the nucleus must be included here .",
    "the distribution of final states is optimized for iron , but valid for all targets .",
    "figure  [ fig : pife ] shows the default intranuke compared with @xmath94 data for @xmath91 and @xmath92 for iron and carbon .",
    "these are examples of many successful comparisons .",
    "* final state products : * once the interaction type has been determined , the four - vectors of final state particles need to be generated . where possible these distributions are parametrized from data or from the output of more sophisticated nuclear models @xcite .",
    "simple models are used for elastic scattering angular distributions .",
    "the quasielastic reaction mechanism is known to dominate the final state for inelastic or charge exchange processes .",
    "fermi motion and binding energy are used to get a good description of the kinematics .",
    "whenever 3 or more particles are emitted , distributions are according to phase space .",
    "for minos , the most important issue is missing energy generated by inelastic and absorption processes .",
    "very low energy hadrons and nuclear recoils are not seen , so simplifications can be made .",
    "all states where more than 5 nucleons are emitted are treated as though 5 nucleons ( 3 protons and 2 neutrons ) were emitted .",
    "these restrictions are relaxed in the most recent code versions to better match what is seen in data .",
    "the full range of models involve more than one hundred adjustable parameters , the complete set of which are given in the physics and user manual @xcite . only the most important in the construction of the physics models will be discussed here .",
    "electroweak parameters and ckm matrix elements use the values of the particle data group @xcite .",
    "as mentioned previously , the quasi - elastic , resonance production , and dis models employ form factors , axial vector masses , and other parameters which have been determined by others in their global fits @xcite . in order to check the overall consistency of our model , and to verify that we have correctly implemented the dis model , predictions",
    "are compared to electron scattering inclusive data @xcite and neutrino structure function data @xcite .",
    "the current default values for transition region parameters are @xmath28=1.7 gev / c@xmath2 , @xmath95=0.1 , @xmath96=0.3 , and @xmath97=1.0 for all @xmath98 reactions .",
    "these are determined from fits to inclusive and exclusive ( one and two - pion ) production neutrino interaction channels . for these comparisons",
    "we rely heavily on online compilations of neutrino data @xcite and related fitting tools @xcite that allow one to include some correlated systematic errors ( such as arising from flux uncertainties ) .",
    "the genie default cross section for @xmath99 charged current scattering from an isoscalar target , together with the estimated uncertainty on the total cross section , as evaluated in @xcite are shown in fig .",
    "[ fig : xsecerrenvelope ] .     charged current scattering from an isoscalar target .",
    "the shaded band indicates the estimated uncertainty on the free nucleon cross section .",
    "data are from @xcite ( ccfrr ) , @xcite ( cdhsw ) , @xcite ( ggm - sps ) , @xcite ( bebc ) , @xcite ( itep ) , @xcite ( crs , skat ) , @xcite ( anl ) , @xcite ( bnl ) and @xcite ( ggm - ps ) ]    the tuning of the hadronization model is accomplished using data from the bebc @xcite , fnal @xcite , and skat @xcite bubble chamber experiments , and is described in more detail elsewhere @xcite .",
    "multiplicity measurements include averaged charged and neutral particle ( @xmath39 ) multiplicities , forward and backward hemisphere average multiplicities and correlations , topological cross sections of charged particles , and neutral - charged pion multiplicity correlations.hadronic system measurements include fragmentation functions ( @xmath100 distributions ) , @xmath101 distributions , @xmath73 ( transverse momentum squared ) distributions , and @xmath102 correlations ( `` seagull '' plots ) @xcite . averaged charged particle multiplicity and dispersion parameters are taken from published values @xcite , as well as our own fits @xcite .",
    "baryon 4-momentum distributions are determined from fits to experimental data @xcite .",
    "the settings for pythia parameters are taken as the non - default values tuned for the nux @xcite generator , a high energy generator used by the nomad @xcite experiment .",
    "the intranuclear rescattering model has been tested and tuned based on comparisons to hadron - nucleus data .",
    "hadron - nucleus cross sections are calculated by ` mc experiments ' where a nucleus is being illuminated by a uniform hadron beam with transverse radius larger than the nucleus size .",
    "figure [ fig : pife ] shows the comparison between intranuke and data for @xmath103c and @xmath103fe total and reaction cross sections .",
    "extrapolations to higher energy are required in many cases as data for only @xmath92 is available .",
    "cem03 @xcite results with appropriate rescaling to match data at lower energies are often used . although the model is tuned to hadron scattering on iron , the simplicity of the fermi gas model and the a@xmath104 scaling of the cross sections allow the model to be applied to nearly all nuclei encountered in the simulation as well .",
    "validation of the intranuclear rescattering model using neutrino data has also been performed .",
    "this revisits the analysis of reference @xcite which compares anl neutrino scattering data on deuterium @xcite to bebc neutrino - neon data @xcite , where each have been rescaled to an atmospheric neutrino flux . by comparing neon and deuterium final state topology fractions the rates for pion absorption and charge exchange in neutrino - neon interactions can be determined .",
    "intranuke reproduces the measured final state topology fractions with an overall @xmath105 of 16.0 for 12 degrees of freedom .",
    "the rates of pion absorption and charge exchange produced by intranuke in this comparison are @xmath106% and @xmath107% respectively , in good agreement with the measured values of @xmath108% and @xmath109% .    in evaluating the uncertainty in the intranuclear rescattering model , several sources of uncertainty",
    "were taken into account for their effect on the minos determination of the hadronic energy scale @xcite .",
    "these include the experimental uncertainty on the external data that serves as the input to the model , as well as on some of the key theoretical assumptions in the model , in particular the modeling of pion absorption reactions and the treatment of low energy pion scattering @xcite .",
    "recent focus on development for genie has been on the nuclear structure and final state interaction codes .",
    "the purpose is to make the code well - tuned to the needs of the upcoming generation of accelerator experiments including t2k @xcite , nova @xcite , minerva @xcite , microboone @xcite and argoneut @xcite .",
    "we are also looking to push the validity range of genie down to the mev scale making it applicable for the study of neutrinos from reactors , supernova and sns @xcite .",
    "the fermi gas nuclear model has been shown to be wrong in detail through interpretation of electron scattering experiments @xcite .",
    "nucleon - nucleon correlations are important in kinematic regions where the impulse approximation is unlikely to apply .",
    "the spectral function @xcite has become a useful model to represent the effects of a many - body model .",
    "developmental versions of genie now contain spectral functions of benhar for carbon , iron , and lead .",
    "code for calculating @xmath110 differential cross sections is now in place .",
    "a true internuclear cascade model has also been in development @xcite .",
    "it tracks pions and nucleons through multiple reactions in the same nucleus in which the neutrino was absorbed .",
    "free hadron - nucleon cross sections are used with the struck nucleon has momentum and binding energy according to the fermi gas model .",
    "interactions for protons , neutrons , and pions are presently modeled .",
    "the hadrons are on - shell between scatterings ; the reactions are governed by the same mean free path and fermi gas models as for the existing model . thus , there is no limit on the number of particles that can be tracked .",
    "a simple model for compound nuclear processes is included to properly account for effects in hadron - nucleus data .",
    "in this section we will describe the software design of the genie package .",
    "we begin by discussing the software requirements and use cases .",
    "the software framework is presented together with key classes such as _ particles , events , _ and _ interactions__. the hierarchical delegation of responsibility during event generation to _ driver , thread , _ and _ module _ classes is described . _ _ _ _ _ _ _ _ _      the process of requirements capture and software design was carried out over a period of several months in 2004 and 2005 . during this phase",
    "there was extensive discussion within the minos collaboration as well as in conjunction with the nuint conference series . through these meetings we received input from many users of these packages as well as with several experts who had designed ,",
    "developed , and supported previous ( fortran - based ) procedural codes .    through these discussions",
    "the need for a package of this type for future neutrino experiments became very clear .",
    "the procedural programs had often been in use for several decades and had expanded greatly beyond their initial scope .",
    "they had often reached a critical mass where further modifications were deemed extremely difficult because of the overall fragility of the architecture . in addition there were often strong couplings between aspects of the simulation that made incremental improvements in a particular area difficult .",
    "another commonly voiced concern was the lack of documentation , particularly regarding the ways in which the models and their parameters were tuned to data .",
    "these discussions served to illuminate several typical use cases for neutrino event generators and related tools :    * for event generation in conjunction with a full detector simulation . * for event generation in fast simulations , either 4-vector only or using a parametrized model of the detector response . * to provide a library of cross section values for interaction rate calculations .",
    "* as a source of information about the underlying models and their uncertainties .",
    "* as a primary tool in the evaluation of systematic uncertainties .",
    "these use case evaluations and discussions led to the establishment of a set of requirements for the overall architecture as well as requirements for the documentation and ancillary tools :    * decouple physics models as much as possible from the framework code . *",
    "lower the barrier to entry for physics model developers ( particularly theorists ) . *",
    "provide a well - tested , well - defined default configuration which provides a benchmark for all users who are primarily interested in using the package in black box - mode . * incorporate up - to - date theoretical and experimental work and provide a flexible framework so that it can be maintained .",
    "* incorporate state - of - the - art software engineering methodologies to support these goals through an object - oriented design .",
    "* leverage the developments in other areas of hep software development ( in particular root class libraries ) . * provide the external data used to tune the package as part of the overall distribution . *",
    "provide clear documentation about how the models are tested , tuned , and validated . *",
    "provide a set of tools to facilitate the tuning of model parameters and for an independent evaluation of how well models describe existing data .",
    "these requirements were met in the august 2007 first release of the genie package .",
    "the implementation of the physics models was cross - checked through an exhaustive set of comparisons @xcite with one of the existing procedural codes @xcite .",
    "genie can be configured to be identical in its physics content to the final version ( v3.5.5 ) of the neugen3 package , one of the legacy procedural codes which had been used by numerous experiments for over more than a decade .",
    "the key requirement of the genie core framework is to transparently decouple the high - level code focusing on physics simulations from the low - level structures involved primarily with memory management and configuration .",
    "the framework was developed and reviewed primarily within the minos experiment and , inevitably , has been influenced by the minos offline software design @xcite . in developing the genie framework we recycled , adapted and extended key features of the minos offline framework .",
    "we drew heavily from the accumulated software engineering experience encapsulated within popular software design patterns , including the visitor , chain of responsibility , factory , strategy and singleton @xcite .",
    "the core framework is not specific to the subject matter domain of genie and could be adapted and reused in other scientific computing applications .",
    "the genie event generation framework , to be discussed later , is a subject matter - specific layer built on top of the core framework .",
    "the framework concerns itself mainly with the properties , instantiation and memory management of software abstractions called _ algorithms _ _ , and specifies the interfaces that underpin the interactions between the numerous concrete _ algorithm _ realizations .",
    "the _ algorithm _ is a key core framework abstraction .",
    "the notion of an ` algorithm ' in an object - oriented system requires further clarification as it does not correspond to its more familiar notion in the context of procedural software systems . in the core framework",
    "the _ algorithm _ encapsulates the common behavior of all algorithmic objects .",
    "it is an abstract base class which defines exactly how algorithmic objects are to be initialized and configured , how they are to look up their configuration , how they are to be identified , and how they report their status .",
    "these are common , largely operational features that characterize a very heterogeneous collection of algorithms such as cross section models , hadronization models , particle decayers , form factor and structure function models , event generation modules and threads and other types of algorithms that can be found within genie .",
    "the fact that such a common behavior is imposed upon all algorithmic objects allows us to build a central , external , xml @xcite - based algorithm configuration system that contributes significantly to the flexibility and extensibility of genie .",
    "the kind of computation to be performed , the usual identifying feature of an algorithm in a procedural system , is a secondary characteristic at this level of abstraction . _",
    "_ _ _ _ _ _ _ _    at the next level up from the _ algorithm _ root of an algorithm inheritance tree , we find a standardized interface which defines how to invoke each specialized type of calculation and retrieve its results .",
    "numerous such specialized algorithm interfaces exist within genie .",
    "examples include the _ gfluxi _ interface for concrete flux drivers , the _ xsecalgorithmi _ interface for concrete cross section models , and the _ eventrecordvisitori _ interface for for concrete event generation steps .",
    "invoking all algorithms through such standardized interfaces guarantees scalability and ensures the seamless integration of new concrete implementations .",
    "_ _ _ _ _ _ _ _    the algorithmic objects are stateless and their behavior is fully externally configured .",
    "the algorithm configurations are stored in xml files .",
    "typically , there is a single xml configuration file per algorithm .",
    "each file may contain multiple configuration sets for that algorithm with each configuration set being uniquely identified by a name .",
    "the algorithm configuration variables can be of many different types ( including booleans , integers , real numbers , strings , root 1-d or 2-d histograms , root n - tuples / trees or other genie algorithms with their own configurations ) .",
    "each configuration variable , in a given set , is uniquely identified by a name . during the initialization phase ,",
    "all xml configuration files are parsed and each named configuration set is stored at a type - safe ` value ' @xmath111 ` type ' associative container called the _ registry _ .",
    "all _ registry _ objects instantiated in initialization phase are stored in a shared pool called the _",
    "algconfigpool_. a unique name is being used to identify each _ registry _ in that pool .",
    "the name is constructed by the name of the configuration set , the name of the algorithm the configuration is intended for and the namespace that the algorithm lives in , as ` namespace::algorithm - name / configuration - name ' . at run - time",
    "each algorithmic object can look up its configuration set by accessing the corresponding _ registry _ object . _ _ _ _ _ _    one feature of the genie configuration system is especially worth noting .",
    "algorithm configuration sets may include other algorithms ( with their own configurations , which in turn may contain more algorithms ) .",
    "genie s extensibility and flexibility is largely due to this feature in conjunction with the standardization of the algorithm interfaces . in the actual genie code",
    "one only needs define a call sequence between abstract algorithm - types such as , for example , that an algorithm - type specialized in generating scattering kinematics , invokes another algorithm - type specialized in cross section calculations which , in its turn , should invoke another algorithm type specialized in form factor calculations .",
    "once that call sequence has been defined in the code , many concrete realizations may come into being purely at the configuration level by specifying the names of the concrete algorithms and the names of their configuration sets .",
    "typically , pre - configured instances of genie algorithms are accessed through an algorithm factory @xcite which is responsible for instantiating each algorithm ( upon request ) and allowing it to look up its configuration .",
    "the factory typically owns and manages the list of all instantiated concrete algorithms . since algorithms are stateless objects , further requests for an instantiated concrete algorithm results in the previously instantiated algorithm being returned rather than a new one being created .",
    "by default all instantiated concrete algorithms and configurations are stored within shared pools designed as singletons @xcite . as these are shared pools , modifications have global effects .",
    "for example , modifying a low - level algorithm configuration modifies all call sequences that include that algorithm .",
    "this is desirable in most contexts , such as for example for the consistent propagation of physics parameter changes throughout genie .",
    "there are certain situations , however , such as fitting or event reweighting applications , where this may be not be a desirable feature .",
    "the genie core framework allows algorithms to clone and assume ownership of the entire sequence of sub - algorithms they depend upon , along with each sub - algorithm s configuration registries . that cloned call - sequence of algorithmic objects",
    "is stored in a local rather than a shared pool . in this way ,",
    "concrete top - level algorithms behave as self - contained capsules and can be re - configured in isolation without affecting other genie components .      in this section",
    "three key framework classes , the _ ghepparticle _ _ , _ gheprecord _ _ , and the _ interaction _ classes , are described .",
    "_ _ _ _ _ _ _ _    genie is using the natural system of units @xmath112 so almost every simulated quantity is expressed in powers of [ gev ] .",
    "exceptions are the event vertex in the detector coordinate system ( in si units ) and particle positions in the hit nucleus coordinate system ( in fm ) .",
    "different units may be employed when native genie event descriptions are converted to experiment - specific formats in accordance with the format specification .",
    "the basic output unit of the event generation process is a ` particle ' .",
    "this is a term used to describe both particles and nuclei appearing in the initial , intermediate or final state , as well as generator - specific pseudo - particles used for facilitating book - keeping of the generator actions .",
    "each such ` particle ' generated by genie is an instance of the _ ghepparticle _ class . these objects contain information with particle - scope including : particle i d and status codes , pdg mass , charge , name , indices of mother and daughter particles marking possible associations with other particles in the same event , 4-momentum",
    ", 4-position in the target nucleus coordinate system , polarization vector , and other properties .",
    "the _ ghepparticle _ class includes methods for setting and querying these properties .",
    "_ _ _    genie has adopted the standard pdg particle codes @xcite . for ions",
    "it has adopted a pdg extension , using the 10-digit code 10lzzzaaai where l is the number of strange quarks zzz is the total charge , aaa is the total baryon number , and i is the isomer number ( i=0 corresponds to the ground state ) .",
    "genie - specific pseudo - particles have pdg code @xmath113 2000000000 and can convey important information about the underlying physics model .",
    "pseudo - particles generated by other specialized programs that may be called by genie ( such as pythia-6 ) are allowed to retain the codes specified by that program .",
    "genie obtains particle data ( including particle names , codes , masses , widths , decay channels and more ) using the root s _",
    "tdatabasepdg_. this particle data - base manager object is initialized with the constants used in pythia-6 .",
    "the data - base has been augmented by the genie authors to include baryon resonances , nuclei and genie - specific pseudo - particles .",
    "details are given in ref .",
    "@xcite .",
    "genie marks each particle with a status code .",
    "this signifies the position of a particle in a time - ordering of the event and helps navigation within the event record .",
    "most generated particles are marked as one of the following :    * ` initial state ' , typically the first two particles of the event record corresponding to the incoming neutrino and the nuclear target .",
    "* ` nucleon target ' , corresponding to the hit nucleon ( if any ) within the nuclear target .",
    "* ` intermediate state ' , typically referring to the remnant nucleus , fragmentation intermediates such as quarks , diquarks , or intermediate pseudo - particles . * ` hadron in the nucleus ' , referring to a particle of the primary hadronic system , defined as the particles emerging from the primary interaction vertex before any possible re - interactions in the nucleus . * ` decayed state ' , such as for example unstable particles that have been decayed . * ` stable final state ' for the relatively long - lived particles emerging from the nuclear targets .",
    "all particles generated by genie during the simulation of a single neutrino interaction are stored in a dynamic container representing an ` event ' .",
    "events generated by genie are stored in a custom , stdhep - like event record called a _ ghep _ record .",
    "event record , an instance of the _ gheprecord _ class , is a root tclonesarray container of _ ghepparticle _ objects representing individual particles . _",
    "_ _ _ _ _ _ _    other than being a container for the generated particles , the event record holds additional information with event- , rather than particle- , scope such as the cross sections for the selected event , the differential cross section for the selected event kinematics , the event weight , a series of customizable event flags , and interaction summary information ( described in the next section ) .    additionally , the event record includes a host of methods for querying / setting event properties including many methods that allow querying for specific particles within the event .",
    "examples include methods to return the target nucleus , the final state primary lepton , or a list of all stable descendants of any intermediate particle .",
    "the event record features a ` spontaneous re - arrangement ' feature which maintains the compactness of the daughter lists at any given time .",
    "this is necessary for the correct interpretation of the stored particle associations as the daughter indices correspond to a contiguous range .",
    "the particle mother and daughter indices for all particles in the event record are automatically updated as a result of any such spontaneous particle rearrangement .",
    "the event generation itself is built around the _ ghep _ event record using the visitor design pattern @xcite .",
    "the interaction between the _ ghep _ event record and the event generation code will be outlined in the following sections . _ _ _ _    the _ ghep _ structure is highly compatible with the event structures used in most hep generators .",
    "that allows us to call other generators , such as pythia-6 , as part of an event generation chain and convert / append their output into the current _ ghep _ event .",
    "additionally the _ ghep _ events can be converted to many other formats for facilitating the genie interface with experiment - specific offline software systems and cross - generator comparisons .",
    "_ _ _ _ _ _      the _ ghep _ record represents the most complete description of a generated event .",
    "certain external heavy - weight applications such as specialized event reweighting schemes or realistic detector simulation chains using the generator as the physics front - end require all of the detailed particle - level information .",
    "however , many of the actual physics models employed by the generator , such as cross section , form factor , or structure function models , require a much smaller subset of information about the event . _ _    an event description based on simple summary information , typically including a description of the initial state , the process type and the scattering kinematics , is sufficient for driving the algorithmic objects implementing these physics models . in the interest of decoupling the physics models from event generation and the particle - level event description , genie uses an _ interaction _",
    "object to store summary event information .",
    "whenever possible , algorithmic objects implementing physics models accept a single _ interaction _ object as their sole source of information about an event .",
    "this enables the use of these models both within the event generation framework but also within a host of external applications such as model validation frameworks , event re - weighting tools and user physics analysis code .",
    "_ _ _ _    an _ interaction _ object is an aggregate , hierarchical structure , containing many specialized objects holding information for the initial state ( _ initialstate _ object ) , the event kinematics ( _ kinematics _ object ) , the process type ( _ processinfo _ object ) and potential additional information for tagging exclusive channels ( _ xclstag _ object ) . instantiating _",
    "interaction _ objects for driving physics models is streamlined using the ` named constructor ' c++ idiom .",
    "they can be serialized into unique string codes which , within the genie framework , play the role of the ` reaction codes ' of the old procedural systems .",
    "these string codes are used extensively for mapping information to interaction types .",
    "two examples include mapping interaction types to pre - computed cross section splines or mapping interaction types to specialized event generation code .",
    "each generated event has an _ interaction _ summary object already attached to it .",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _      on an operational level the responsibility for generating events is shared between event generation _ drivers , threads _ and _ modules .",
    "_ tasks are delegated from event generation drivers to threads , and from threads to modules .",
    "event generation drivers can include multiple threads , and threads can include multiple modules .",
    "event generation drivers are responsible for generating events for a particular user - defined situation",
    ". these can be as simple as monoenergetic neutrinos interacting off a single target , to complex situations involving the output of realistic beam - line simulations and full detector geometry descriptions .",
    "threads are responsible for generating the physics of particular classes of events , for instance charged - current quasielastic .",
    "modules carry out a single step in that generation process . _ _ _ _      an event generation module is a key event generation abstraction .",
    "each event generation module encapsulates a well defined event generator operation which , in physics terms , can be any of a very diverse set of actions .",
    "examples include selecting the scattering kinematics , generating the final state primary lepton or the primary hadronic system , transporting hadrons within the target nucleus , and decaying unstable particles .",
    "operationally , event generation can be seen as a series of well - defined processing steps operating on the _ ghep _ event record .",
    "the act of operating on the event record defines an interface that is encapsulated by the _",
    "eventrecordvisitori _ abstract class .",
    "as it is indicated by the interface name , the visitor design pattern is being employed @xcite .",
    "concrete event generation modules , implementing the _ eventrecordvisitori _ interface , ` visit ' the event record .",
    "the event record then invokes each attached module and is modified as a result .",
    "_ _ _ _ _ _    due to the diversity of the event processing operations that must be considered by genie , we formed the event generation module abstraction focusing on the common operational aspect of ( potentially ) modifying the event record .",
    "this represents the most generic way of thinking about event generation and guarantees that any future physics addition , especially ones not envisioned at this stage of the generation evolution , can be trivially embedded into the existing framework .",
    "treating the event generator modules uniformly and standardizing on the event generation module interface allows us to build a flexible and extensible system where modules can be dynamically plugged in / out of the event generation or interchanged .",
    "examples can further clarify the utility of this abstraction : a module handling a set of particle decays can be unplugged to inhibit those decays , or a module handling intra - nuclear hadron transport may be swapped with another module performing the same operation using a different physics strategy .    whenever possible event generation modules are written in a generic way , containing code implementing just the neutrino event generation mechanics . the actual physics model itself",
    "is specified in the generation module configuration .",
    "this decoupling of mechanics from models greatly simplifies code development , transparency , and physics validation , simplifying the overall structure and reducing the amount of code that needs to be actively developed and scrutinized between successive releases .",
    "an example will clarify this factorization : the module selecting the kinematics for deep - inelastic neutrino - nucleon interactions does not contain the actual code for the deep - inelastic differential cross section .",
    "it merely contains code to calculate the allowed kinematical phase space for the process , select a point in that phase space using a monte carlo acceptance / rejection method , and update the _ ghep _ record accordingly .",
    "the actual differential cross section model used during the monte carlo selection is an external physics model invoked by the event generation module .",
    "the module itself can be recycled many times by instructing it to call a different cross section model each time . as a result of that factorization",
    ", multiple call sequences can be defined purely at the configuration level without code duplication . _ _      an _ event generation thread _ is an ordered sequence of processing steps , encapsulated by event generation modules , that can be applied to an empty _ ghep _ event record to completely generate some class of physics events .",
    "this process defines an interface that is encapsulated by the _",
    "eventgeneratori _ abstract class . within the genie event generation framework",
    "the structures containing a comprehensive set of instructions for generating a class of physics events are concrete _ eventgeneratori _ objects . _",
    "_ _ _ _ _ _ _    genie defines a comprehensive set of event generation threads responsible for generating event types at the level of fundamental interactions .",
    "the complete set of these event generation threads comprises genie s full ` physics content ' for event generation . as an event generation thread can generate a single class of events only , there are usually multiple threads in use .",
    "the class of physics events generated by a thread can have an arbitrary granularity , from a single interaction corresponding to a particular process type with a given final state to very broad event categories .",
    "each thread contains an _ interactionlist _ object , a container containing a list of the _ interaction _ objects the thread can generate .",
    "the _ interactionlist _ plays a crucial role in identifying the responsibilities of each thread within the genie framework .",
    "once an event type to be generated has been selected , a corresponding _ interaction _ object is instantiated . following the chain of responsibility design pattern @xcite ,",
    "genie attempts to match the _ interaction _ object with an element of the _ interactionlist _ containers for all active threads .",
    "the first thread found that is able to handle that event type is handed the responsibility to generate the event .",
    "_ _ _ _ _ _ _ _ _ _ _ _    additionally , event generation threads include an instance of the cross section algorithm that can be used for selecting the event kinematics or for computing the probability for a particular neutrino to interact .",
    "this is another example of separating mechanics from models and serves to greatly simplify the dynamic mapping between event types and cross section models .",
    "once a list of threads has been loaded into the generator , many high - level event generation operations became trivial . compiling the list of all event types that can be generated by genie in its current configuration simply involves looping over the active threads and adding the corresponding _ interactionlist _ objects . selecting an event type to be generated from that master list involves looping over its _",
    "interaction _ objects and , for each element , identifying the responsible thread , requesting its corresponding cross section model and invoking it by passing the _ interaction _ object as argument .",
    "once an event type has been selecting generating the event simply involves looking up the responsible thread and delegating responsibility to it .",
    "_ _ _ _ _ _    during event generation an invoked thread maintains a modification history of the event record .",
    "if a tried event generation path leads to a dead - end , the current event generation module throws an exception and aborts .",
    "the event generation thread catches that exception and , depending on information stored at it , may rerun the event using a snapshot of the event record taken n steps back , in the hopes of taking an alternative path and avoiding the encountered dead - end .",
    "if a configurable maximum number of exceptions is caught , or if any thrown exception specifies explicitly that generation of the current event is to be aborted altogether , the thread sets the appropriate error flags and makes sure that the remaining processing steps are skipped .",
    "the user , via options set in the event generation driver , may choose to keep certain types of these events so as to examine their type and frequency , though the default behavior of genie is to discard these events and only write out physical , fully formed events",
    ". error handling within each active thread greatly adds to the robustness and fault - tolerance of the package , which is especially valued in large - scale , cpu - intensive , experiment - specific monte carlo production runs involving hundreds of cpu cores over many weeks .",
    "advanced users can modify the default event generation threads by removing / adding event generation modules , or they can define their own uniquely named threads for handling new processes or handling existing processes in new ways .",
    "genie provides two event generation driver classes .",
    "these drivers collect the user inputs , instantiate and configure all required event generation components , and oversee communications between these components , the computing environment , and the user .",
    "the two driver classes support two different types of functionality :    * instances of the _ gevgdriver _ class can handle event generation for a given initial state corresponding to an arbitrary neutrino / target pair . _ _ * instances of the _ gmcjdriver _ class can be used for more complicated simulations involving arbitrarily complex , realistic beam flux simulations and detector geometry descriptions . this driver object concerns itself mostly with driving the flux and detector geometry navigation drivers and integrating those with the genie event generation framework .",
    "it represents a significantly more complex and cpu - intensive event generation case but relies entirely on a host of _ gevgdriver _ instantiations , one for each possible initial state in that monte carlo job , in order to obtain neutrino interaction physics modeling capabilities and generate event kinematics .",
    "genie is being used by a host of precision - era neutrino experiments and provides off - the - shelf components for generating neutrino interactions under the most realistic assumptions .",
    "the event generation driver classes described in section [ sec : design ] are encapsulated within driver applications which present the user with a command - line or graphical interface , instantiate and configure those driver classes , call the event generation methods to generate the requested number of events , and push those events through a persistency manager .    in experiment - specific genie - based event generation drivers utilizing the _ gmcjdriver",
    "_ one can integrate the genie neutrino interaction modeling with detailed flux and detector geometry descriptions .",
    "this is a non - trivial operational capability that older procedural neutrino generators typically lacked , requiring significant development effort from experiments .",
    "the flux descriptions are typically derived from experiment - specific beam - line simulations while the detector geometry descriptions are typically derived from engineering drawings mapped into the geant4 @xcite , root @xcite or gdml @xcite geometry description languages .",
    "obviously , flux and detector geometry descriptions can take many forms , driven by experiment - specific choices .",
    "genie standardizes the geometry and flux driver interfaces by defining the operations that genie needs to perform on the geometry and flux descriptions and the essential flux and geometry information needed for the generation of events .",
    "concrete implementations of the interfaces allow experiments to extend genie s event generation capabilities and make it possible to seamlessly integrate new geometry descriptions and beam fluxes into user applications .",
    "_ _    in this section we will describe in some detail the flux and geometry interfaces .",
    "we will briefly describe applications built from these drivers as well as genie utilities to evaluate and display cross section information , make comparisons to external data , and facilitate model tuning .      in genie",
    "every concrete flux driver implements the _ gfluxi _ interface .",
    "the interface defines what neutrino flux information is needed by the event generation drivers and how that information is to be obtained .",
    "each concrete flux driver includes methods to : _ _",
    "* declare the neutrino flavors that can generate events .",
    "this information is used for initialization purposes , in order to construct a list of all possible initial states in a given event generation run . *",
    "declare the maximum energy . again",
    "this information is used for initialization purposes , in order to calculate the maximum possible interaction probability in a given event generation run . since neutrino interaction probabilities",
    "are tiny , genie scales all interaction probabilities in a particular event generation run so that the maximum possible interaction probability is 1 .",
    "that maximum interaction probability corresponds to the total interaction probability ( summed over nuclear targets and process types ) for a maximum energy neutrino following a trajectory that maximizes the density - weighted path - lengths for each nuclear target in the geometry .",
    "genie adjusts the mc run normalization accordingly to account for this probability renormalization .",
    "* generate a flux neutrino and specify its pdg code , its weight ( if any ) , its 4-momentum and 4-position .",
    "the 4-position is given in the detector coordinate system ( as specified by the input geometry ) .",
    "each such flux neutrino is propagated towards the detector geometry but is not required to cross any detector volume .",
    "genie will take that neutrino through the geometry , calculate density - weighted path - lengths for all nuclear targets in the geometry , calculate the corresponding probabilty for scattering off each nuclear target and decide whether that flux neutrino should interact .",
    "if it interacts , an appropriate _ gevgdriver _ will be invoked to generate the event . _ _ * notify that no more flux neutrinos can be thrown .",
    "flux drivers that use the output of beam - line simulations , so - called ` flux files ' , are configured to recycle these flux files multiple times in a given run since most neutrino flux entries do not produce an interaction .",
    "the flag allows genie to properly terminate the event generation run once this limit is reached , irrespective of the accumulated number of events , protons on target , or other metric of exposure .",
    "the above correspond to the common set of operations / information that genie expects to be able to perform / extract from all concrete flux drivers .",
    "specialized drivers may define additional information that can be utilized in experiment - specific applications .",
    "one typical example of this is to ` pass - through ' information about the flux neutrino parents placed in the flux files by the beamline simulation , such as the parent meson pdg code , its 4-momentum , and its 4-position at the production and decay points .    at the time of writing",
    "this article , genie already includes a host of concrete flux drivers allowing genie to be used in many realistic , experiment - specific situations .",
    "more specifically , it includes an interface to the jparc neutrino beam simulation @xcite used by super - kamiokande @xcite , nd280 @xcite , and ingrid @xcite and an interface to the numi beam simulation @xcite used by minos @xcite , nova @xcite , minerva @xcite , microboone @xcite and argoneut @xcite .",
    "it includes drivers for the bglrs @xcite and the fluka @xcite atmospheric fluxes .",
    "moreover , it includes a generic flux driver , describing a cylindrical neutrino flux of arbitrary 3-d direction and radius , with a configurable radial dependence , which can be used for describing a flux containing a number of different neutrino species whose ( relatively normalized ) energy spectra are described as 1-d histograms .",
    "genie , obviously , also includes the trivial case of a monoenergetic flux typically employed in physics benchmarking calculations .    concluding this section it is worth re - emphasizing the fact that new concrete flux drivers ( describing the neutrino flux from other beam - lines ) can be easily developed and they can be effortlessly and seamlessly integrated within the genie event generation framework .      in genie",
    "every concrete geometry driver implements the _ geomanalyzeri _ interface .",
    "the interface specifies what information about the input geometry is relevant to the event generation and how that information is to be obtained .",
    "each concrete geometry driver implements methods to : _ _    * declare the list of target nuclei that can be found in the geometry . this information is used for initialization purposes , in order to construct a list of all possible initial states in a given event generation run . *",
    "compute the maximum density - weighted path - lengths for each nuclear target in the geometry . again , this is information used for initialization purposes . the computed ` worst - case ' trajectory",
    "is used to calculate the maximum possible interaction probability in a particular event generation run .",
    "this maximum interaction probability is used internally to normalize all computed interaction probabilities in that run . *",
    "compute density - weighted path - lengths for all nuclear targets , for a trajectory of given 4-momentum and starting 4-position .",
    "this allows genie to calculate probabilities for each flux neutrino to be scattered off every nuclear target along its path through the detector geometry . *",
    "generate a vertex along a trajectory of given 4-momentum and starting 4-position on a volume containing a given nuclear target .",
    "this allows genie to place a neutrino interaction vertex within the detector geometry once an interaction of a flux neutrino off a selected nuclear target has been generated .",
    "genie currently contains a concrete geometry driver able to handle the root - based detector geometry descriptions typically used by most neutrino experiments .",
    "detector geometry descriptions based on geant or gdml can be converted into root - based descriptions and used by the same genie geometry driver as well .",
    "genie also includes a driver for more trivial geometry descriptions corresponding to a single nuclear target or a target mix ( a set of nuclear targets , each with its corresponding weight fraction ) at a fixed position .",
    "this simpler geometry driver may be used in simulating fixed initial states for benchmarking calculations or in experimental situations where a relatively uniform detector is being illuminated by a spatially uniform neutrino beam .",
    "an example of the latter would be a detector placed far enough from the beam - line instrumentation so as to see a point - like neutrino source .",
    "again it is worth re - emphasizing that any new detector geometry description can be seamlessly integrated with the genie event generation framework by means of developing an appropriate genie geometry driver .",
    "the generated events are stored in the root file format .",
    "the typical output of an event generation run is a single root file which contains an event tree with a single branch and a single leaf per event containing the generated _ ghep _ record .",
    "user - defined branches to write out experiment - specific information may be added to that tree with the user - defined information ` linked ' to the corresponding generated neutrino event .",
    "the output root file contains directories storing all genie configuration information for the mc run and a snapshot of the running environment for later reference .",
    "genie provides a persistency manager object which can be employed within the event generation driver applications to write out the event tree . _",
    "_      genie is distributed with many event generation applications and utilities , many of which are straightforward wrappers for the components described above .",
    "users interact with these applications through simple command - line interfaces , user - created xml configuration files , and environmental variables .",
    "the _ gevgen _ application can be used in simulating given initial states for benchmarking calculations or simple experimental setups for which histogram - based flux descriptions and simple geometry descriptions in terms of a target mix are adequate .",
    "experiment - specific event generation applications , such as _ gt2kevgen _ and _ gnumievgen _ _ , employ the detailed jparc and numi beam - line simulations and the root - based detector geometry descriptions of the corresponding experiments and are used by a large fraction of the genie user base . _ _ _ _ _ _ _    on a macbookpro running mac os x 10.5.6 , with a 2.16 ghz intel core 2 duo and 1 gb ddr2 sdram at 667 mhz , and with all event generation threads enabled , genie simulates around 70 events / sec for a @xmath114 initial state at @xmath115 .",
    "the speed is 5 events / sec with the detailed nd280 root - based detector geometry description ( 40 nuclear targets ) and the detailed jnubeam - based jparc neutrino beam simulation ( 4 neutrino species ) .",
    "event generation for a realistic experimental setup typically requires of the order of @xmath116 differential cross section evaluations just in order to select an interaction to be generated .",
    "it is therefore very practical to perform the numerical differential cross section integrations at a different stage and save the data for building cross section splines .",
    "the event generation components can recycle these splines for performing fast numerical interpolations , greatly improving the event generation efficiency .",
    "genie provides a utility , _ gmkspl _ _ , to generate all required cross section splines for the intended set of neutrino flavors and nuclear targets over the required energy range and write the data in the xml format expected by the event generation components . _ _ _    for many use - cases",
    "it is convenient to analyze the output _",
    "ghep _ root event tree and either write - out simpler , flat n - ntuples containing summary information or convert it to a format expected by an experiment - specific application , such as a detector - level simulation that does nt use the genie i / o .",
    "genie provides an event tree converter , _ gntpc _ , which writes out a host of alternative plain text , xml or bare - root formats currently is use by genie - based applications in client experiments . _",
    "_ _ _    several tools exist for the purposes of validating and tuning the physics models in genie .",
    "the ultimate source of data for many of these comparisons is the durham neutrino scattering data resource @xcite , an online resource with large compilations of neutrino data from many different experiments .",
    "access to this data in the genie package is done through the nuvalidator @xcite program , a genie add - on that can be optionally installed . distributed with the nuvalidator in xml format",
    "are data from the durham database , electron scattering data from the jefferson lab database @xcite , and publicly available lepton scattering structure function data @xcite .",
    "electron scattering data and lepton structure function data are important in evaluating any scheme for handling the perturbative / non - perturbative transition region described in sec .",
    "[ sec : transition ] @xcite .",
    "this data is then available for a variety of applications .",
    "the nuvalidator includes a simple gui interface allowing one to select data to display together with the genie prediction , with full ability to set model parameters to new values .",
    "the data can also be accessed for physics model parameter fits possibly including new experimental data as well as external , historical data .",
    "in addition to event generation and validation the flexibility of the genie framework also simplifies many downstream analysis tasks .",
    "the evaluation of generator - related systematic errors can be greatly simplified through event reweighting @xcite . as mentioned in sec .",
    "[ sec : core ] , genie s ability to allow algorithm configuration using local pools , redundancy of information between _ ghep _ event records and _ interaction _ objects , and ability to identify algorithms / configurations in generated output all support the development of experiment - specific event reweighting programs . _ _ _ _    details on the application described above and on a host of other utilities may be found in the genie physics and user manual @xcite .",
    "a significant organizational challenge for the genie project is defining the working relationship with experimental collaborations . having many experiments use",
    "the same neutrino event generator is a new development in this field and the exact nature of these working relationships will evolve over time .",
    "however some realities and goals are clear .",
    "good two - way communication is essential both for immediate issues like bug reporting and support and for longer term issues like planning of upcoming physics releases .",
    "experiments often set target dates to begin production of monte carlo samples based on publication plans and expectations for data - taking . meeting these deadlines is often a high priority for these collaborations . since the time - scale for production of large monte carlo samples is roughly similar to the timescale for production of new genie physics releases , it will be desirable to synchronize , or at least be cognizant of , upcoming experimental deadlines to as large a degree possible .",
    "discussions with collaborations will also focus on priorities for physics model improvements .",
    "one conduit for these collaborations will be through experimental liaisons who serve as the main contact within an experiment on genie issues .",
    "this person can then report on the experiment s experiences and deadlines , and can help present the experiment s priorities for model improvements to the genie collaboration for evaluation .",
    "when effort within the genie collaboration to incorporate new model work is not available , these liaisons can assist in providing and organizing effort from their collaborations .",
    "physics model development is partitioned into subtasks including the cross section model , the hadronization model , and the intranuclear rescattering model .",
    "these components are all relatively self - contained and have validation procedures independent of the others .",
    "overall tuning and validation of a production release is the responsibility of a separate working group of the collaboration .",
    "this task is undertaken on a roughly yearly timescale .",
    "this exercise finalizes the model set and determines values of all parameters based on fits to external data .",
    "this process also determines parameter errors which can then be used by experiments in the evaluation of generator - related systematic errors .",
    "a default tune - a self consistent set of physics models and parameter values - will be specified by the collaboration for every major release , along with information about the uncertainties on model parameters and possible correlations .",
    "it is possible for experiments , using the validation and parameter fitting tools that are provided as part of the genie package , to have their own ` tuning ' of the generator .",
    "this would be desirable from an experiment s perspective as they have access to new data that , due to the aforementioned uncertainties , will probably not be in complete agreement with the default tuning .",
    "it is hoped that the development of new models by specific collaborations as part of ongoing analyses will be speedily adopted into genie for the benefit of other users , though the decision of when to make their new models public will be left to the discretion of the user collaborations .",
    "it will , however , be important that model improvements be merged back into the default tuning on a regular basis so as to prevent the fragmentation of the base set of physics models into many different experiment - tuned versions which then evolve independently over many years .",
    "the collaboration organizes its effort internally through occasionall meetings of physics model and tuning / validation working groups , phone meetings , blogs , and web - based document databases .",
    "the genie web site @xcite is the central repository for all information related to the package .",
    "an extensive physics and user manual @xcite , a web - based source code reference manual @xcite as well as a support mailing list are available to genie users .",
    "hands - on tutorials on genie have been given on several occasions at meetings in the u.s .",
    ", europe , and japan , and material from these workshops with introductory and advanced tutorial examples are available on the genie web site .",
    "genie is available from its cvs repository hosted at stfc s rutherford appleton laboratory from where one can access the development version and a series of ` frozen ' production - quality releases .",
    "the repository is physically located on afs space and , in read - only mode , can be accessed anonymously .",
    "read - write mode access to the code repository is provided to the genie collaborators via ssh and public key authentication .",
    "a transition to a subversion repository is planned for the near future .",
    "up - to - date details on how to access the source code are given at the genie web - site @xcite and at the physics and user manual @xcite .",
    "genie is known to build on many platforms , including all popular linux distributions and mac os x , and has no os proprietary dependency . as of genie v2.5.1 , external dependencies for a minimal installation that can be used for physics mc production",
    "include the _ root class libraries _",
    "@xcite , the _ lhapdf parton density function library _ @xcite , the _ pythia-6 _ lund mc @xcite and",
    "two fairly common utilities : the _ libxml2 _ xml parser and the _ log4cpp _ error logger . _ _ _ _ _ _ _ _ _ _      genie versions are numbered as ` @xmath117 ' , where @xmath118 , @xmath119 and @xmath27 are the major , minor and revision indices respectively .",
    "the corresponding cvs tag is ` @xmath120 ' .",
    "when a number of significant functionality improvements or additions have been made , the major index is incremented .",
    "the minor index is incremented in case of significant fixes or minor feature additions .",
    "the revision number is incremented for minor bug fixes and updates .",
    "versions with even minor number correspond to validated , physics production releases .",
    "versions with odd minor number correspond to the development version of ` candidate ' releases tagged during the validation stage preceding a physics production release .",
    "tagged versions always have an even revision number .",
    "odd revision numbers correspond to the cvs head .    because of the effort invested by the experimental communities in generating large samples and understanding the impact of the simulation changes into their physics results , physics production releases",
    "are nominally supported for a long term of approximately 18 - 24 months .",
    "genie is now distributed under the gplv3 license agreement @xcite .",
    "genie provides a modern and versatile platform for a universal , ` canonical ' neutrino interaction physics monte carlo whose validity will extend to all nuclear targets and neutrino flavors over a wide range of energies from mev to pev scales .",
    "currently , it includes state - of - the - art neutrino interaction physics modeling in the few - gev energy range which is relevant for the current and near future long - baseline precision neutrino experiments using accelerator - made beams .",
    "the software was designed using object - oriented methodologies and developed entirely in c++ over a period of more than three years , from 2004 to 2007 .",
    "the design of the package decouples the mechanics of event generation from the physics models , providing modularity , extensibility , and flexibility .",
    "the package supports the full life - cycle of generator - related activities , from event generation using detailed detector geometries and flux information , to final analysis tasks such as reweighting and systematic error evaluation .",
    "the data , programs , and procedures used to validate and tune the package are all distributed with the package itself , allowing users the ability to easily extend the package and evaluate new models .",
    "the project is supported by a group of physicists from all major experiments operating in this energy range , establishing genie as a major hep event generator collaboration .",
    "genie has already been adopted by many neutrino experiments , including those using the jparc and numi neutrino beamlines , and will be an important physics tool for the worldwide accelerator neutrino program .",
    "this work was supported by the uk science and technology facilities council / rutherford appleton laboratory , the us department of energy , the us national science foundation , and the tufts university summer scholars program .",
    "the authors would like to express our gratitude to g.irwin ( stanford ) , b.viren ( brookhaven lab ) , s.kasahara ( minnesota ) and n.west ( oxford ) for contributing to the early stages of the evolution of genie through example , by developing the minos offline framework , and through their inputs and criticisms during the genie design reviews .",
    "we would also like to thank our minos collaborators , in particular r.gran ( umd ) , k.hofmann ( tufts ) , m.kim ( pittsburgh ) , m.kordosky ( ucl ) , w.a.mann ( tufts ) , j.morfin ( fermilab ) and s.wojcicki ( stanford ) , for their contributions in the development , tuning and validation of the default set of physics models in genie .",
    "we would also like to thank e. paschos ( dortmund ) , s. mashnik ( los alamos ) , a.bodek ( rochester ) , o.lalakulich ( dortmund , giessen ) and t.leitner ( giessen ) for providing important models and results .",
    "we also express our gratitude and recognition to c.reed ( nikhef ) , k.scholberg , c.little , r.wendell ( duke ) , a.habig , r.schmidt ( umn duluth ) and d.markoff ( nccu ) for their ongoing effort to extend the genie validity range down to the mev energy scale .    also we would like to thank c.backhouse ( oxford ) , s.boyd ( warwick ) , j.j .",
    "gomez cadenas ( ific valencia ) , y.hayato ( icrr ) , j.holeczek ( silesia ) , z.krahn ( minnesota ) , h.lee ( rochester ) , j.lagoda ( laquila ) , s.manly ( rochester ) , b.morgan ( warwick ) , d.orme ( imperial ) , g.perdue ( fermilab ) , t.raufer ( ral ) , d.schmitz ( fermilab ) , e.schulte ( rutgers ) , j.sobczyk ( wroclaw ) , a.sousa ( oxford ) , j.spitz ( yale ) , p.stamoulis ( athens ) , r.tacik ( regina ) , h.tanaka ( ubc ) , i.taylor ( imperial ) , r.terri ( qmul ) , v.tvaskis ( victoria ) , y.uchida ( imperial ) , s.wood ( jlab ) , s.zeller ( lanl ) , l.zhu ( hampton ) and many others who have used early versions of genie for their help in improving the build system , fixing bugs , and contributing comments and tools .",
    "j.  e. amaro , m.  b. barbaro , j.  a. caballero , t.  w. donnelly , j.  m. udias , final - state interactions and superscaling in the semi- relativistic approach to quasielastic electron and neutrino scattering , phys .",
    "c75 ( 2007 ) 034613 .",
    "l.  w. whitlow , s.  rock , a.  bodek , e.  m. riordan , s.  dasu , a precise extraction of r = @xmath122 from a global analysis of the slac deep inelastic e p and e d scattering cross - sections , phys .",
    "b250 ( 1990 ) 193198 .",
    "m.  a.  g. aivazis , f.  i. olness , w .- k .",
    "tung , leptoproduction of heavy quarks . 1 .",
    "general formalism and kinematics of charged current and neutral current production processes , phys .",
    "d50 ( 1994 ) 30853101 .",
    "r.  a. arndt , w.  j. briscoe , i.  i. strakovsky , r.  l. workman , m.  m. pavan , dispersion relation constrained partial wave analysis of @xmath135 elastic and @xmath135 @xmath127 @xmath136 scattering data : the baryon spectrum , phys .",
    "c69 ( 2004 ) 035213 .",
    "n.  schmitz , production of hadrons in charged current neutrino and anti- neutrinos reactionsrapporteur s talk given at 1981 int .",
    "symp . on lepton and photon interactions at high energy , bonn , west germany ,",
    "aug 24 - 29 , 1981 ."
  ],
  "abstract_text": [
    "<S> genie @xcite is a new neutrino event generator for the experimental neutrino physics community . </S>",
    "<S> the goal of the project is to develop a ` canonical ' neutrino interaction physics monte carlo whose validity extends to all nuclear targets and neutrino flavors from mev to pev energy scales . currently , emphasis is on the few - gev energy range , the challenging boundary between the non - perturbative and perturbative regimes , which is relevant for the current and near future long - baseline precision neutrino experiments using accelerator - made beams . </S>",
    "<S> the design of the package addresses many challenges unique to neutrino simulations and supports the full life - cycle of simulation and generator - related analysis tasks .    </S>",
    "<S> genie is a large - scale software system , consisting of @xmath0120,000 lines of c++ code , featuring a modern object - oriented design and extensively validated physics content . </S>",
    "<S> the first official physics release of genie was made available in august 2007 , and at the time of the writing of this article , the latest available version was v2.4.4 .    </S>",
    "<S> neutrino ; monte carlo generator ; neutrino interaction ; neutrino - induced hadronization ; intra - nuclear hadron transport ; rescattering ; genie ; agky ; intranuke </S>"
  ]
}