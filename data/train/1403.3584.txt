{
  "article_text": [
    "much of contemporary economic theory is dominated by the neo - classical paradigm of an efficient market . for definiteness , considering financial markets , this implies that the market participants ( traders ) , have immediate and complete access to market information , like stock prices , sales volumes etc , and engage in rational behavior ( trade decisions ) , aiming to maximize their self interest .",
    "it is argued that this situation will then lead to some kind of equilibrium state of the market , where the actual price of a financial instrument reflects its real market value at all times @xcite . in this context ,",
    "equilibrium here means that the price fluctuates stochastically about some average value .",
    "the fluctuations , caused by the interactions of many traders , will influence the price only on a short time scale .    in an alternative scenario",
    "a market may be in an off - equilibrium state @xcite .",
    "this paradigm would allow for dramatic price changes , catastrophic crashes in particular .",
    "a signature feature is a power law behavior of the returns distribution for extreme events , much resembling the gutenberg - richter law for earthquakes .",
    "this suggests that methods from the field of critical systems @xcite might be fruitful . in the context of a financial time",
    "series , this situation can also emerge from a self - organized critical state @xcite .",
    "we are here interested in the question of whether a real market does reveal signs if equilibrium .",
    "our approach is entirely based on the analysis of empirical , historical , data . for this purpose an operational definition of ` equilibrium ' in a financial time",
    "series , the subject of our investigation , is required .",
    "we will motivate our choice ( somewhat different from customary use ) in sect .",
    "[ sec : two ] , and then define the criterion for the test in sect .  [",
    "sec : three ] .",
    "we discuss the numerical implementation and outcome of the test in sect .",
    "[ sec : four ] , closing with sect .",
    "[ sec : conclusion ] , which contains the conclusion .",
    "for the sole purpose of motivating our criterion , we briefly reflect on the well - known metropolis algorithm @xcite which is an standard tool in numerical simulation for generating sets of random numbers according to a given probability density function .",
    "the algorithm is one way of producing a markov chain of numbers @xcite , say @xmath1 where a ( real ) value @xmath2 , at simulation ` time ' counter @xmath3 , is generated from the preceding one through a stochastic process .",
    "the latter involves a conditional probability density function , say @xmath4 . in the metropolis algorithm",
    "it is constructed from a base probability distribution function , say @xmath5 , by creating a trial value @xmath6 and then accepting or rejecting it as the next value @xmath7 in the chain as determined by @xmath4 .",
    "the ensuing markov chain will eventually , in the limit @xmath8 , produce values @xmath9 distributed according to the base probability density function @xmath5 .",
    "having converged to @xmath5 , the chain is said to have reached ` equilibrium ' .",
    "a property known as detailed balance @xmath10 is a sufficient condition for the chain to reach equilibrium .",
    "the metropolis algorithm makes a very specific choice for @xmath4 .",
    "however , we will make no use of it until later in sect .",
    "[ sec : four ] when we verify and discuss our results .",
    "we here adopt the detailed balance condition ( [ dbalance ] ) as the criterion to be tested for in a historical data set . strictly speaking , it is ` only ' a sufficient condition for equilibrium . on the other hand ,",
    "the notion of equilibrium is rather fuzzy as used in an economic context .",
    "detailed balance has the advantage of providing us with an operational , though possibly narrow , definition of equilibrium , which we will , nevertheless , use within this paper . as explained below",
    ", its numerical implementation will provide us with a rigorous analysis tool .",
    "the data set for our analysis is the price time series of the nasdaq  100 stock index .",
    "we use data from 2005-aug-26 to 2008-aug-25 .",
    "the size of the set is @xmath11 @xcite . within normal trading hours ( monday through friday , 09:30h to 16:00h )",
    "this translates to an average of about @xmath12 minutes between trades .",
    "the price time series is shown in fig .",
    "[ fig : price ] .",
    "relative price @xmath13 of the nasdaq  100 index versus the quote time counter @xmath3 for the time interval from 2005-aug-26 to 2008-aug-25.,width=377 ]    returns ( [ return ] ) corresponding to the price time series of fig .",
    "[ fig : price].,width=377 ]    the counter @xmath3 starts from @xmath14 and is incremented by one every time a new quote emerges , @xmath15 . a commonly used derived measure",
    "are the returns @xmath16 where @xmath17 here means the natural logarithm .",
    "the returns corresponding to fig .",
    "[ fig : price ] , are displayed in fig .",
    "[ fig : return ] . the the original price time series @xmath18 can be easily reconstructed from @xmath2 by way of recursion , @xmath19 , given the initial condition , which is @xmath20usd .",
    "obviously , as the price is strongly changing with time , see fig .",
    "[ fig : price ] , the notion of equilibrium can not apply directly to the price , at least not on the time scale considered .",
    "thus , in contrast to mainstream economic practice , we will rather test the returns time series for equilibrium ( viz .",
    "detailed balance ) .",
    "a glance at fig .  [ fig : return ] shows that this is a much more reasonable starting point . in this sense , we deviate from the colloquial use of the term equilibrium in an economic context .    the extraction of the transition probability density @xmath4 in ( [ dbalance ] ) from the historical data set fig .",
    "[ fig : return ] is illustrated in fig .",
    "[ fig : p2density-1 ] .",
    "the pair of a return event @xmath2 and its immediate successor @xmath21 gives rise to a dot in one of the square bins of fig .",
    "[ fig : p2density-1 ] .",
    "the number of dot counts , in a particular square bin , then is an estimator for the transition probability density @xmath4 in ( [ dbalance ] ) , up to a normalization factor . within intervals",
    "@xmath22 $ ] , for each axis , we chose a discretization of @xmath23 , which translates into @xmath24 bins in each direction , or a total of @xmath25 square bins .",
    "the data are very heavily peaked at the center , leading to saturation near the origin .",
    "the counts displayed in fig .",
    "[ fig : p2density-1 ] accommodate all but 7 of the returns events of the data set .",
    "[ fig : p2density-2 ] is just a detail of fig .",
    "[ fig : p2density-1 ] at a smaller scale .",
    "it is convenient to adapt our notation to the discretization .",
    "thus let @xmath26 denote discrete bin counters , @xmath27 , so each square bin is labeled by a pair @xmath28 .",
    "thus @xmath29 is the number of counts in square bin @xmath28 .",
    "let @xmath30 be the discretized version of the probability distribution function @xmath5 as it appears in ( [ dbalance ] ) .",
    "the aim of our analysis is to find a discretized probability density @xmath30 such that @xmath31 = \\frac{1}{k}\\sum^\\prime_{1 \\le x",
    "< y \\le n } \\left[\\frac{w(x , y)w(y)-w(y , x)w(x)}{w(x , y)w(y)+w(y , x)w(x)}\\right]^2 \\label{saction}\\ ] ] is a minimum .",
    "we refer to @xmath32 $ ] an the action functional .",
    "the prime @xmath33 on the sum is meant to indicate the restriction @xmath34 .",
    "since @xmath35 and @xmath36 both apply , the condition + @xmath37 would imply that also @xmath38 , thus satisfying detailed balance trivially , in a bin .",
    "hence , those terms may be dropped from the sum in ( [ saction ] ) without harm to the desired utility of @xmath32 $ ] as an indicator for detailed balance .",
    "the normalization constant @xmath39 in ( [ saction ] ) is simply the number of ( non - zero ) terms contributing to the sum .",
    "it can reach the maximal value of @xmath40 .",
    "finally , for real numbers @xmath41 with @xmath42 it is easy to show that @xmath43 .",
    "thus we see that the action ( [ saction ] ) is in the range @xmath44 \\le 1 $ ] .",
    "while @xmath32=0 $ ] indicates exact detailed balance @xmath45 @xmath32=1 $ ] means that ( [ sbalance ] ) is maximally violated .",
    "plot of transition events @xmath46 extracted from the returns time series of fig .",
    "[ fig : return ] .",
    "each event is shown as a dot .",
    "the overlay shows the square bins used in the discretization of the data.,width=377 ]    a zoom - in towards the center of fig .",
    "[ fig : p2density-1].,width=377 ]    thus , in some sense , the action @xmath32 $ ] is a an indicator for a market being in the range of ` completely efficient ' ( @xmath32=0 $ ] ) and its opposite ( @xmath32=1 $ ] ) being in a state ` off equilibrium ' , including a ( self - organized ) critical , or a random , state .",
    "the raw data for the transition density @xmath29 are merely counts of historical events , see figs .",
    "[ fig : p2density-1 ] and [ fig : p2density-2 ] .",
    "those counts depend on the size of the data set and thus require some normalization before they can be interpreted as a probability density .",
    "define the normalization constants @xmath47 our choice of binning the data ensures that @xmath48 for all @xmath49 .",
    "thus define @xmath50 clearly , detailed balance is preserved @xmath51 and the action ( [ saction ] ) remains invariant .",
    "however , through ( [ hatw ] ) , the base probability density @xmath52 is sensitive to the normalization of @xmath53 .",
    "noting that @xmath54 we see from ( [ wbalance ] ) that @xmath55 hence the distribution @xmath56 is a fixed point of @xmath57 , the very meaning of equilibrium .",
    "the distribution @xmath56 thus is the goal of our analysis .",
    "we compute an optimal solution @xmath30 to @xmath32=\\min$ ] by way of simulated annealing @xcite . in a nutshell",
    "this , standard , technique @xcite revolves around the partition function @xmath58}\\,e^{-\\beta s[w]}\\ , , \\label{zpart}\\ ] ] where the sum is over all possible probability distribution functions @xmath59 , called configurations @xmath60 $ ] in this context .",
    "there are two main ingredients to this strategy : first , at any given ` temperature ' @xmath61 one employs a metropolis algorithm @xcite to achieve equilibrium .",
    "] , resulting in configurations @xmath60 $ ] drawn from the probability distribution function @xmath62}$ ] .",
    "second , the temperature is gradually decreased according to a chosen annealing schedule in the range @xmath63 , very slowly cooling down the system .",
    "if carefully conducted , the system will settle into a state of a global minimum @xmath32=\\min$ ] .",
    "annealing histories of the action @xmath32 $ ] defined in ( [ saction ] ) versus @xmath64 , the inverse ` temperature ' .",
    "the three graphs correspond to different random starts.,width=377 ]    the returns distribution extracted from the historical data set , see fig .",
    "[ fig : return ] , is shown as a solid line histogram with filled circles @xmath65 as plot symbols .",
    "the distribution obtained from minimizing the detailed balance action ( [ saction ] ) , using the normalized transition density @xmath57 , see ( [ hatw1 ] ) , is displayed as a dotted line histogram with open circles @xmath66 as plot symbols .",
    "the remaining histogram , marked with @xmath67 plot symbols , corresponds to runs with the unnormalized transition density @xmath53.,width=377 ]    for the metropolis steps , each at @xmath68 , we employ @xmath69 sweeps on a current configuration @xmath60 $ ] .",
    "a sweep consists of successively updating all @xmath70 components , @xmath30 , one at a time , via @xmath71 where @xmath72 $ ] is a uniform random number , and our choice is @xmath73 .",
    "the configuration is then normalized , @xmath74 .",
    "next , the trial @xmath75 is accepted or rejected according to the metropolis prescription .",
    "the chosen annealing schedule is given by @xmath76 with @xmath77 and @xmath78 .",
    "setting @xmath79 then gives a terminal @xmath80 , at @xmath81 .    on a cluster with 48 processors in parallel numerous runs gave very consistent results",
    "for each run we have chosen 48 random start configurations @xmath60 $ ] subject to + and @xmath82 , where the @xmath30 were random numbers drawn from a uniform distribution .",
    "samples of the annealing history of such a run are displayed in fig .",
    "[ fig : anneala ] .",
    "the three histories correspond to the largest , smallest , and median initial actions @xmath32 $ ] , at @xmath77 .",
    "invariably , all runs settle in at @xmath83 indicating a distinct global minimum of the action ( [ saction ] ) . the corresponding , optimal , returns distribution using the normalized transition density ( [ hatw1 ] ) is displayed in fig .",
    "[ fig : returnda ] .",
    "the , statistical , errors on the latter stem from @xmath84 simulated annealing starts . with the exception of one data point the errors are invisible because of their smallness .",
    "given the action s theoretical range @xmath85 , a value of @xmath86 is close to the bottom of the scale . the visual impression given by the computed returns in fig .",
    "[ fig : returnda ] is consistent with this result .",
    "however , the @xmath17 scale of fig .",
    "[ fig : returnda ] obscures the fact that the computed returns are off by a factor of @xmath87 compared to the historical data set ( @xmath88 at @xmath89 and @xmath90 at @xmath91 ) .    in order to evaluate this situation ( and also to gain confidence in the code ) we have replaced the empirical transition probabilities @xmath29 with those used in the metropolis algorithm .",
    "they are constructed from the base distribution @xmath52 as @xmath92 this choice satisfies detailed balance ( [ dbalance ] ) exactly .",
    "we take @xmath30 to be the empirical returns distribution , as displayed in fig .",
    "[ fig : returnda ] as filled circles plot symbols .",
    "the numerical framework ( binning , annealing schedule , random starts , etc ) was kept exactly as described before .",
    "typical annealing histories , again for three random starts , are shown in fig .  [",
    "fig : annealp ] . for all runs the algorithm finds the minimum of the action with convincing ease .",
    "we also see that its numerical value , @xmath93 ( eventually reaching machine precision ) is substantially less than @xmath86 found with the empirical transition probability distribution , see fig .",
    "[ fig : anneala ] .",
    "the optimal returns distributions are shown in fig .",
    "[ fig : returndp ] .",
    "the distribution @xmath52 computed with the unnormalized transition density ( [ dmetro ] ) , marked with @xmath67 plot symbols , matches the input returns distribution exactly , which it should , thus validating the algorithm .",
    "the distribution @xmath56 computed with the normalized transition density @xmath57 , marked with @xmath66 plot symbols in fig .  [ fig : returndp ] , has the expected features ( strong peak , fat tails ) and is in this respect similar to the corresponding distribution based on the empirical transition density , see fig .",
    "[ fig : returnda ] .    typical annealing histories , like in fig .  [ fig : anneala ] , but using the metropolis transition probability ( [ dmetro]).,width=377 ]    comparison of returns distributions , as described in fig .  [ fig : returnda ] , but using the metropolis transition probability ( [ dmetro]).,width=377 ]    despite their likeness , the indicators for detailed balance are significantly different , @xmath94 and @xmath95 respectively , thus suggesting that that the underlying stochastic dynamics may not have much in common .    in order to corroborate this statement , we present in fig .  [ fig : p2density ] the transition density distribution @xmath29 of the metropolis distribution ( [ dmetro ] ) .",
    "transition probability density distribution @xmath29 for the metropolis choice ( [ dmetro ] ) .",
    "data binning is done like in fig .",
    "[ fig : p2density-1].,width=377 ]    this distribution has to be juxtaposed with the historical one of fig .",
    "[ fig : p2density-1 ] .",
    "clearly , their patterns could not be more different .",
    "we take this as another indication that the historical returns ( let alone the price ) time series is not following statistics consistent with an equilibrium described by detailed balance .    as an additional control feature ,",
    "we have also computed a returns distributions obtained from replacing the transition probability @xmath29 in ( [ saction ] ) with uniform random numbers . the corresponding annealing history is displayed in fig .  [ fig : annealr ] ,    typical annealing histories , like in fig .",
    "[ fig : anneala ] , but using a uniform random distribution for the transition probability @xmath29,width=377 ]    .",
    "comparison of returns distributions , as described in fig .",
    "[ fig : returnda ] , but using a random uniform transition probability ( [ dmetro]).,width=377 ]    again , we find a unique minimum of the action , here at @xmath96 , or @xmath97 .",
    "the resulting returns densities , with and without normalization , are shown in fig .",
    "[ fig : returndr ] .",
    "they are essentially flat , nowhere resembling empirical features . nevertheless , the detailed balance action signal @xmath94 is not far from the signal of the random case @xmath98 , certainly a big distance from @xmath99 , the case of exact ( machine precision ) detailed balance .",
    "the picture emerging from our analysis thus is that the visual impressions of returns distributions , with all its stylized features , is not a reliable indicator of a market in equilibrium ( as defined within the confines of this paper ) .",
    "however , the proposed measure @xmath0 defined in ( [ saction ] ) , more appropriately @xmath100 , appears to be very sensitive to this feature .",
    "we have tested a historical financial price time series for detailed balance , which is a statistical property that , if present , would indicate a market condition known as equilibrium in neo - classical economic theory . rather than using the prices directly , the test is devised around the time series of returns .",
    "based on the empirical transition probability of returns , between subsequent trade signals , we define a functional @xmath32 $ ] of the returns probability distribution @xmath52 and find its minimum @xmath0 by way of simulated annealing . within its range @xmath85 , where @xmath101 means exact detailed balance , we find @xmath102 for the historical time series , whereas a control run with a randomly generated transition probability of returns yield @xmath103",
    ". the visual impression of the computed returns distribution ( at @xmath104 ) has features of a realistic one , whereas the control distribution ( at @xmath98 ) has not .",
    "our conclusion thus is that the historical returns distribution does have elements of equilibrium , as measured by @xmath100 , but is certainly far from being numerically exact , which would be indicated by @xmath105 , a typical machine precision .",
    "although we think that the proposed test may be a useful analysis tool testing for ` equilibrium ' in time series , it is also clear that it must be applied to a larger variety historical data sets to validate its utility .",
    "in particular , it would be interesting to see it applied to high - frequency financial data .",
    "b.  dupoyet , h.r .",
    "fiebig , and d.p .",
    "gauge invariant lattice quantum field theory : implications for statistical properties of high frequency financial markets .",
    ", 389(1):107  116 , 2010 .",
    "available from : http://www.sciencedirect.com/science/article/pii/s0378437109007377 , http://dx.doi.org/doi : 10.1016/j.physa.2009.09.002 [ ] .",
    "b.  dupoyet , h.r .",
    "fiebig , and d.p .",
    "musgrove . replicating financial market dynamics with a simple self - organized critical lattice model .",
    ", 390(18 - 19):3120  3135 , 2011 . available from : http://www.sciencedirect.com/science/article/pii/s0378437111003116 ,",
    "http://dx.doi.org/doi : 10.1016/j.physa.2011.04.017 [ ] .",
    "s.  kirkpatrick , c.  d. gelatt , and m.  p. vecchi .",
    "optimization by simulated annealing .",
    ", 220(4598):671680 , 1983 . available from : http://www.sciencemag.org/content/220/4598/671.abstract , http://dx.doi.org/10.1126/science.220.4598.671 [ ] ."
  ],
  "abstract_text": [
    "<S> we test a historical price time series in a financial market ( the nasdaq  100 index ) for a statistical property known as detailed balance . </S>",
    "<S> the presence of detailed balance would imply that the market can be modeled by a stochastic process based on a markov chain , thus leading to equilibrium . in economic terms , a positive outcome of the test would support the efficient market hypothesis , a cornerstone of neo - classical economic theory . </S>",
    "<S> in contrast to the usage in prevalent economic theory the term equilibrium here is tied to the returns , rather than the price time series . </S>",
    "<S> the test is based on an action functional @xmath0 constructed from the elements of the detailed balance condition and the historical data set , and then analyzing @xmath0 by means of simulated annealing . </S>",
    "<S> checks are performed to verify the validity of the analysis method . </S>",
    "<S> we discuss the outcome of this analysis .    </S>",
    "<S> econophysics , financial time series , efficient market hypothesis 89.65.gh , 89.75.fb , 05.10.-a </S>"
  ]
}