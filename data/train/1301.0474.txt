{
  "article_text": [
    "geometers of all kinds are excited , one may say obsessed , with moduli spaces ; these are the spaces which serve as parameter spaces for the basic spaces geometers are most interested in .",
    "it was none other than riemann who introduced the moduli bug into geometry , when he noted that riemann surfaces of genus @xmath3  depend on @xmath4 _ moduln _ \" .",
    "this is a consequence of his famous ",
    "riemann existence theorem \" , which tells us how to put together a riemann surfaces by slitting a number of copies of the riemann sphere and sewing them together .",
    "the number @xmath4 is simply the number of  effective complex parameters \" necessary for obtaining _ every _ riemann surface this way .",
    "this brings us to the classic case of the moduli phenomenon , and the obsession that comes with it , the space @xmath5 of riemann surfaces of genus @xmath2 : fixing a compact oriented surface @xmath6 , each point on @xmath5 corresponds uniquely to a complex structure @xmath7 on @xmath6 .",
    "being an algebraic geometer , i tend to think about these riemann surfaces as  smooth projective and connected complex algebraic curves of genus @xmath2 \" , or just  curves of genus @xmath2 \" in short .",
    "this explains the choice of the letter @xmath7 . as",
    "a real manifold is 2 . ]",
    "the moduli space @xmath5 is the result of important work of many mathematicians , such as ahlfors , teichmller , bers , mumford ...",
    "the first example , of elliptic curves , is familiar from complex analysis , where an elliptic curve is defined as the quotient @xmath8 of the complex plane by a lattice of rank 2 with @xmath9 .",
    "we learn , for instance in ahlfors s book @xcite , that isomorphism classes of elliptic curves are identified uniquely by the so called @xmath10-invariant @xmath11 , an important but complicated analytic function on the upper half plane . in algebraic geometry",
    "one can use a shortcut to circumvent this : every elliptic curve has a so called weierstrass equation @xmath12 with nonzero discriminant @xmath13 .",
    "one can identify the @xmath10-invariant as @xmath14 so that two elliptic curves are isomorphic : @xmath15 if and only if @xmath16 .",
    "either way , the moduli space of elliptic curves is just @xmath17 - or , in the language of algebraic geometers , the affine line @xmath18 ( figure [ fig : j - line ] ) .",
    ", width=302 ]    the story for genus @xmath3 is quite a bit more involved .",
    "but the principle , at least in algebraic geometry , is similar : note that @xmath19 is an invariant rational function in the parameters @xmath20 , which are the coefficients of the defining equation of @xmath21 written in its weierstrass form . for higher genus",
    "one does the same : one finds a sort of canonical form for a riemann surface in a suitable projective space , one collects the coefficients of the defining equations , and then the coordinates on @xmath22 are invariant rational functions in these .",
    "the result , in its algebraic version due to mumford , is :    the space @xmath22 is a complex quasi projective variety .",
    "it is a rather nice variety - it is not quite a manifold , but it is an _ orbifold _ : it locally looks like the quotient of a manifold by the action of a finite group .    in general the global geometry of @xmath5 is quite a bit more involved than the geometry of @xmath17 .",
    "its complex dimension is indeed @xmath4 .",
    "angelo vistoli from pisa has said that  working with a noncompact space is like trying to keep your change when you have holes in your pockets \" . the space @xmath17 of elliptic curve , and the space @xmath5 of curves of genus @xmath2 , are noncompact , and one wishes to find a natural compactification .",
    "of course every quasi - projective variety sits inside a projective space , and its closure is a compactification .",
    "but that is not natural : we want a compactification which is itself a moduli space , of slightly singular riemann surfaces !    for instance , the moduli space of elliptic curves @xmath17 has a nice compactification @xmath23 , the riemann sphere . in which way does the added point @xmath24 represent a singular riemann surface ?    , width=302 ]",
    "the function @xmath19 extends to a regular function @xmath25 , and indeed all the points where @xmath26 in @xmath27 correspond to  singular elliptic curves \" such as @xmath28 : the singular point @xmath29 has local plane coordinates with equation of the form @xmath30 , a so called _ node_. in fact all these singular elliptic curves are isomorphic ! ( see figure [ j - line - cpt ] . )    from the riemann surface point of view one can describe such singular riemann surfaces as follows : choose your favorite elliptic curve @xmath31 , thought of as a torus , and wrap a loop around its girth . now pull the loop until it pops .",
    "what you get is the riemann sphere with two points glued together ( figure [ deg - eg ] ) .",
    "deligne and mumford showed that this can be done in general : they described degenerate algebraic curves of genus @xmath2 , obtained by choosing a number of disjoint loops and pulling them until they pop ( figure [ deg - g2 ] ) .",
    "the result is a singular riemann surface obtained by taking a number of usual riemann surfaces , choosing a number of points of them , and indicating how these points are to be glued together ( figure [ glue - g2 ] ) .",
    "one imposes a _ stability condition _ on the loops chosen , which is best described in combinatorial terms , see below .",
    "the collection of all of these objects is deligne and mumford s moduli space of _ stable curves _",
    "it is also a _ projective _ orbifold containing @xmath5 as a dense open subset .",
    "the combinatorial underpinning of a stable curve is given by its _ dual graph _ @xmath33 .",
    "this is a so called _ weighted graph _ where each vertex @xmath34 is assigned an integer weight @xmath35 .    given a singular riemann surface @xmath7 as above , its graph has a vertex @xmath36 corresponding to each component @xmath37 , weighted by the genus @xmath38 .",
    "corresponding to each node , where a point of @xmath37 is glued to a point of @xmath39 one writes an edge tying @xmath36 to @xmath40 ( figure [ graph - g2 ] ) .",
    "2 in    2 in @=5.5pc * @---@(ul , dl)[]@-[r]_(1)1_(0)0 & *    the genus of @xmath33 , and of any corresponding singular riemann surface , is given by a simple formula involving the first betti number of the graph : @xmath41    we can now describe the stability condition : the graph @xmath33 , and any corresponding curve , is _",
    "stable _ if every vertex @xmath34 of genus @xmath42 has valence @xmath43 and every vertex @xmath34 of genus @xmath44 has valence @xmath45 .",
    "these graphs give us a way to put together the space @xmath32 piece by piece .    for each weighted graph @xmath33",
    "there is a nice moduli space @xmath46 parametrizing singular riemann surfaces with weighted graph @xmath33 .",
    "each @xmath46 is an orbifold , and its codimension in @xmath32 is simply the number of edges @xmath47 .",
    "we have @xmath48    the pieces @xmath46 form a _ stratification _ of @xmath5 , in the sense that the closure of @xmath46 is the disjoint union of pieces of the same kind . to determine the combinatorial structure of @xmath32 we need to record which pieces @xmath49 appear in the closure : these correspond to singular riemann surfaces @xmath50 where _ more _ loops were pulled until they popped than in a curve @xmath7 corresponding to @xmath33 ( figure [ degs - g2 ] ) .        on the level of graphs this corresponds to simply saying that there is a _ contraction _",
    "@xmath51 : on weighted graphs , contracting an edge connecting vertices @xmath52 with genera @xmath53 results in a vertex with genus @xmath54 ; similarly contracting a loop on a vertex with genus @xmath2 results with a vertex with genus @xmath55 ( figure [ contr ] ) .",
    "@=0.5pc & & & & & & & & & & & & & & & & & & & & & & & + & & * @-.[llu]@-.[ll]@-.[lld]@-[r]_(0)g_1_(1)g_2 & * @-.[rru]@-.[rr]@-.[rrd]&&@  > [ rr ] & & & & * @-.[llu]@-.[ll]@-.[lld ] @-.[rru]@-.[rr]@-.[rrd]_(0.3)g_1+g_2 & & & & & & & * @---@(ul , dl ) [ ] @-.[rru]@-.[rr]@-.[rrd]_(0.1)g&&@  > [ rr ] & & & * @-.[rru]@-.[rr]@-.[rrd]_(0.3)g+1 & & + & & & & & & & & & & & & & & & & & & & & & & &    so the combinatorial structure of @xmath32 is given by the following rule :    @xmath56    the skeletal picture of @xmath57 is given in figure [ fig : m2 ] .",
    "the top line is the big stratum @xmath58 of complex dimension 3 , and the bottom strata are points , of dimension @xmath59 .    2.5 in   ... and their graphs , title=\"fig:\",width=207 ]    3 in @=0.4pc +   + & & & & & & & & * @[r]_(0)2 & & & & + & & & & & & & & & & & & + & & & & & & @  > [ ru]&&&&@  > [ lu ] + & & & & & & * @---@(lu , ld)[]@[r]_(0)1&&&&*@---[r]_(0)1_(1)1 & * + & & & & & & & & & & & & + & & & & @  > [ ru]&&&@  > [ lu]&&@  > [ ru ] + & & & * @---@(lu , ld)[]@---@(ru , rd)[]@[r]_(0)0&&&&&*@---@(lu , ld)[]@---[r]_(0)0_(1)1 & * + & & & & & & & & & & & & + * @---@/_10pt/[dd]@---@/^10pt/[dd]@---[dd]@[r]^(0)0&@  > [ ru]&&&&@  > [ lu]&&@  > [ ru ] + & & & & & & * @---@(lu , ld)[]@---[r]_(0)0_(1)0&*@---@(ru , rd ) [ ] + * @[r]_(0)0 &",
    "there is another geometry which builds on the combinatorics of weighted graphs , namely the geometry of _ tropical curves_. this is a much more recent theory .",
    "one can identify its pre - history in the work of culler ",
    "vogtmann on outer space @xcite , and continuing with the work of mikhalkin on tropical enumeration of plane curves @xcite .",
    "the notion of tropical curves in the sense described here was introduced by brannetti  melo  viviani @xcite and caporaso @xcite .",
    "a _ tropical curve _ is simply a _",
    "metric _ weighted graph @xmath60 it consists of a weighted graph @xmath33 and a possibly infinite length @xmath61 assigned to each edge .",
    "being a geometer , one is infected with the moduli bug . therefore the moment one writes the definition of a tropical curve one realizes that they have a moduli space .",
    "fixing a weighted graph @xmath33 , the tropical curves having graph isomorphic to @xmath33 are determined by the lengths of the edges , and the collection of lengths is unique up to the permutations obtained by automorphisms of the graph .",
    "we can therefore declare the moduli space of such tropical curves to be @xmath62 we can put together these moduli spaces @xmath63 by observing the following : if we let the length of an edge @xmath64 in @xmath65 approach @xmath59 , the metric space @xmath65 approaches @xmath66 , which is the metric graph associated to the graph @xmath67 obtained by contracting @xmath64 , as in figure [ limit ] .",
    "@=0.5pc & & & & & & & & & & & & & & & & & & & & & & & & & & + & & * @-.[llu]@-.[ll]@-.[lld]@-[r]_(0)g_1_(1)g_2^t & * @-.[rru]@-.[rr]@-.[rrd]&&@->[rrr]_t0 & & & & & * @-.[llu]@-.[ll]@-.[lld ] @-.[rru]@-.[rr]@-.[rrd]_(0.3)g_1+g_2 & & & & & & & * @---@(ul , dl)[]_t @-.[rru]@-.[rr]@-.[rrd]_(0.1)g&&@->[rrr]_t0 & & & & * @-.[rru]@-.[rr]@-.[rrd]_(0.3)g+1 & & + & & & & & & & & & & & & & & & & & & & & & & & & & &    this allows us to glue together @xmath63 in one big moduli space @xmath68 it is a nice compact cell complex .",
    "note that the gluing rule precisely means that    @xmath69",
    "we obtained two geometries associated to the combinatorics of weighted graphs , summarized as follows :    @xmath70 & & { \\overline{{\\mathcal m}}}_g^{{\\operatorname{trop}}}\\ar@{~>}[dl ] \\\\ & \\{\\gamma\\ } } \\ ] ]    the moduli spaces are clearly similar in their combinatorial nature , and one would like to tie them together somehow :    @xmath70\\ar@{.}@/^2pc/[rr]|- { ? } & & { \\overline{{\\mathcal m}}}_g^{{\\operatorname{trop}}}\\ar@{~>}[dl ] \\\\ & \\{\\gamma\\ } } \\ ] ]    the question was raised in ( * ? ? ? * section 6 ) .",
    "a possible answer was suggested by baker - payne - rabinoff ( * ? ? ?",
    "* remark 5.52 ) , tyomkin ( * ? ? ?",
    "* section 2 ) , viviani ( * ? ? ?",
    "* theorem a ) . below",
    "i report on joint work @xcite with caporaso and payne , where we prove the suggested answer to be correct ; it is based on the non - archimedean analytic spaces of berkovich @xcite and their skeleta , and fundamental constructions of such skeleta by thuillier @xcite .",
    "one slightly disturbing feature is the fact that the combinatorial structures - the stratifications - of the moduli spaces @xmath32 and @xmath71 are reversed ! in figure [ fig : m2-trop ] , the top startum is a point in dimension 0 , and the bottom strata are of dimension 3 .",
    "@xmath72&&&&&&&&&&*{\\bullet}\\ar@{}[r]_(0)2&&&&\\\\ & & & & & & & & & & & & \\\\ & & & & & & & & \\ar@{~>}[ru]&&&&\\ar@{~>}[lu]\\\\ 1\\ar@{.}[rrrrrr]&&&&&&&&*{\\bullet}\\ar@{{-}{-}{-}}@(lu , ld)[]\\ar@{}[r]_(0)1&&&&*{\\bullet}\\ar@{{-}{-}{-}}[r]_(0)1_(1)1&*{\\bullet}\\\\ & & & & & & & & & & & & & \\\\ & & & & & & \\ar@{~>}[ru]&&&\\ar@{~>}[lu]&&\\ar@{~>}[ru]\\\\ 2\\ar@{.}[rrr]&&&&&*{\\bullet}\\ar@{{-}{-}{-}}@(lu , ld)[]\\ar@{{-}{-}{-}}@(ru , rd)[]\\ar@{}[r]_(0)0&&&&&*{\\bullet}\\ar@{{-}{-}{-}}@(lu , ld)[]\\ar@{{-}{-}{-}}[r]_(0)0_(1)1&*{\\bullet}\\\\ & & & & & & & & & & & & & \\\\ & & * { \\bullet}\\ar@{{-}{-}{-}}@/_10pt/[dd]\\ar@{{-}{-}{-}}@/^10pt/[dd]\\ar@{{-}{-}{-}}[dd]\\ar@{}[r]^(0)0&\\ar@{~>}[ru]&&&&\\ar@{~>}[lu]&&\\ar@{~>}[ru]\\\\ 3\\ar@{.}[r]&&&&&&&&*{\\bullet}\\ar@{{-}{-}{-}}@(lu , ld)[]\\ar@{{-}{-}{-}}[r]_(0)0_(1)0&*{\\bullet}\\ar@{{-}{-}{-}}@(ru , rd)[]\\\\ & & * { \\bullet}\\ar@{}[r]_(0)0 & } \\ ] ]",
    "a _ valued field _ is a field @xmath73 with a multiplicative seminorm @xmath74 .",
    "one often translates the seminorm to a _ valuation",
    "_ @xmath75 by declaring @xmath76 .",
    "the valued field is _ nonarchimedean _ if , like the field of @xmath77-adic numbers , it satisfies the strict triangle inequality @xmath78 one defines the valuation ring to be @xmath79 which has a unique maximal ideal @xmath80 . the residue field is defined as @xmath81 .",
    "recall that in scheme theory , a point of a variety @xmath82 corresponds to a field extension @xmath83 and a morphism @xmath84 , up to equivalence given by further extensions .",
    "in particular a point of @xmath32 corresponds to a field extension @xmath83 and a stable curve @xmath85 .",
    "topologists can not be happy about this structure , because the zariski topology of a scheme is not hausdorff in the least .",
    "berkovich associates to @xmath82 an analytic variety @xmath86 - a locally ringed space which admits a natural morphism @xmath87 .",
    "a point of @xmath86 corresponds to a nonrchimedean valued field extension @xmath83 ( extending the _ trivial _ valuation on @xmath17 ) and a morphism @xmath84 , up to equivalence by further valued field extensions .",
    "in particular a point of @xmath88 corresponds to a _ valued _ field extension @xmath83 and a stable curve @xmath85 .",
    "since every valued field extension is , in particular , a field extension , there is a morphism @xmath89 .",
    "it is a bit of magic that adding the valuations `` stretches '' the generic points just enough to make the space hausdorff and locally connected .",
    "we can now extend our diagram of relationships as follows :    @xmath90 \\ar@{.}[dr]|- { ? } \\\\",
    "{ \\overline{{\\mathcal m}}}_g\\ar@{~>}[dr ] & & { \\overline{{\\mathcal m}}}_g^{{\\operatorname{trop}}}\\ar@{~>}[dl ] \\\\ & \\{\\gamma\\ } } \\ ] ]",
    "we are finally ready to close the diagram .",
    "we said that a point of @xmath88 corresponds to a valued field extension @xmath83 and a stable curve @xmath85 .",
    "since @xmath32 is proper , a stable curve over @xmath73 uniquely extends to @xmath91 over the valuation ring ( at least after a further field extension , which we may ignore because of our equivalence relation ) .",
    "the fiber of @xmath91 over the residue field is a stable curve @xmath92 with dual graph @xmath93 .",
    "we need to put a metric on this graph .",
    "consider an edge @xmath94 corresponding to a node @xmath95 .",
    "near @xmath77 the curve @xmath7 admits a local equation of the shape @xmath96 , where @xmath97 .",
    "define @xmath98 , which is independent of the local equation chosen ( or the field @xmath73 ) .",
    "this results with a tropical curve @xmath99 .",
    "the resulting map @xmath100 is proper , continuous and surjective .",
    "it also makes @xmath71 canonically isomorphic to the berkovich skeleton of @xmath88 .",
    "we obtain a picture as follows :    @xmath90 \\ar[dr ] \\\\ { \\overline{{\\mathcal m}}}_g\\ar@{~>}[dr ] & & { \\overline{{\\mathcal m}}}_g^{{\\operatorname{trop}}}\\ar@{~>}[dl ] \\\\ & \\{\\gamma\\ } } \\ ] ]    in other words , we tied together the algebraic geometry of the space @xmath32 of stable curves with the metric geometry of the space @xmath71 of tropical curves , by going through nonarchimedean analytic geometry .",
    "what enabled us to relate the spaces @xmath32 and @xmath71 with  reversed \" combinatorial structures was the use of the _ reduction _ of a curve over @xmath73 to a curve over the residue field .",
    "a key tool in our proof is a result of thuillier @xcite . to a complex toroidal embedding @xmath82 , with or without self intersection ,",
    "thuillier assigns a so called _ compactified fan _ @xmath101 , generalizing the cone complex construction of @xcite .",
    "this is a canonical construction of a berkovich skeleton in the special case of toroidal varieties over a field with trivial valuation ( such as @xmath17 ) .",
    "the combinatorial structure of the fan mirrors that of the toroidal structure : there is a cone @xmath102 assigned to each stratum @xmath103 , and these are glued to each other via a natural rule which in particular says that @xmath104 is glued as a face of @xmath105 precisely if @xmath106 - note the reversal of order !    furtheremore , considering the associated restricted berkovich space @xmath107 , one has that @xmath101 canonically sits inside @xmath107 as a deformation retract , in particular there is a canonical proper continuous map @xmath108 .",
    "this map is described via reduction : if @xmath73 is a valued field and @xmath109 is a point on @xmath107 , consider the reduction @xmath110 , and assume @xmath111 lands in the toroidal stratum @xmath112 . then @xmath113 lands in the cone @xmath114 corresponding to the stratum @xmath112 .",
    "the position of @xmath113 on @xmath114 is determined by by applying the toroidal valuations at @xmath112 to @xmath115 .",
    "this does not quite apply to the moduli space , but almost .",
    "the point is that the moduli space is not toroidal , but the moduli stack is .",
    "the technical point we needed to prove is the following slight generalization of thuillier s result :    suppose @xmath82 is the coarse moduli space of a toroidal stack .",
    "then there is a canonical compactified fan @xmath101 which is a deformation retract of @xmath107 .",
    "the map @xmath116 admits the same description in terms of reductions as above .",
    "there is also an observation to be made .",
    "the fan @xmath120 is put together based on the strata of @xmath32 , namely the spaces @xmath121 .",
    "the corresponding cones @xmath122 are glued together via the same rule used to glue together the space @xmath71 .",
    "putting these facts together leads to the following :    we have a canonical isomorphism @xmath123 , making the following diagram commutative : @xmath119 \\ar_{{{\\operatorname{trop}}}}[dr ] & \\sigma_x\\ar@{=}[d ] \\\\ & { \\overline{{\\mathcal m}}}_g^{{\\operatorname{trop}}}}\\ ] ]          lars  v. ahlfors , _ complex analysis _",
    ", third ed .",
    ", mcgraw - hill book co. , new york , 1978 , an introduction to the theory of analytic functions of one complex variable , international series in pure and applied mathematics .",
    "mr 510197 ( 80c:30001 )    v.  berkovich , _ spectral theory and analytic geometry over non - archimedean fields _ , mathematical surveys and monographs , vol .",
    "33 , american mathematical society , providence , ri , 1990 .",
    "mr 1070709 ( 91k:32038 )                  a.  thuillier , _ gomtrie torodale et gomtrie analytique non archimdienne .",
    "application au type dhomotopie de certains schmas formels _ , manuscripta math . * 123 * ( 2007 ) , no .  4 , 381451 .",
    "mr 2320738 ( 2008g:14038 )"
  ],
  "abstract_text": [
    "<S> _ moduli spaces _ are a geometer s obsession . </S>",
    "<S> a celebrated example in algebraic geometry is the space @xmath0 of stable @xmath1-pointed algebraic curves of genus @xmath2 , due to deligne  mumford and knudsen . </S>",
    "<S> it has a delightful combinatorial structure based on _ weighted graphs_.    recent papers of branetti , melo , viviani and of caporaso defined an entirely different moduli space of _ tropical curves _ , which are weighted metrized graphs . </S>",
    "<S> it also has a delightful combinatorial structure based on weighted graphs .    </S>",
    "<S> one is led to ask whether there is a geometric connection between these moduli spaces . in joint work </S>",
    "<S> @xcite with caporaso and payne , we exhibit a connection , which passes through a third type of geometry - nonarchimedean analytic geometry . </S>"
  ]
}