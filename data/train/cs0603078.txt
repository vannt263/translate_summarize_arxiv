{
  "article_text": [
    "a network of @xmath0 nodes in which the @xmath1th node observes a real number @xmath2 and aims to compute the average @xmath3 .",
    "the design of scalable distributed protocols for this purpose has received much recent attention and is motivated by a variety of potential needs . in both wireless sensor and peer - to - peer networks , for example",
    ", there is interest in simple protocols for computing aggregate statistics ( see , e.g. @xcite ) , and averaging enables computation of several important ones .",
    "further , averaging serves as a primitive in the design of more sophisticated distributed information processing algorithms . for example , a maximum likelihood estimate can be produced by an averaging protocol if each node s observations are linear in variables of interest and noise is gaussian @xcite .",
    "@xcite considers an averaging problem with applications to load balancing and clock synchronization . as another example",
    ", averaging protocols are central to policy - gradient - based methods for distributed optimization of network performance @xcite .    in this paper",
    "we propose and analyze a new protocol  * consensus propagation *  for distributed averaging .",
    "the protocol can operate asynchronously and requires only simple iterative computations at individual nodes and communication of parsimonious messages between neighbors .",
    "there is no central hub that aggregates information .",
    "each node only needs to be aware of its neighbors  no further information about the network topology is required .",
    "there is no need for construction of a specially - structured overlay network such as a spanning tree .",
    "it is worth discussing two previously proposed and well - studied protocols that also exhibit these features :    1 .   *",
    "( probabilistic counting ) * this protocol is based on ideas from @xcite for counting distinct elements of a database and in @xcite was adapted to produce a protocol for averaging .",
    "the outcome is random , with variance that becomes arbitrarily small as the number of nodes grows .",
    "however , for moderate numbers of nodes , say tens of thousands , high variance makes the protocol impractical .",
    "the protocol can be repeated in parallel and results combined in order to reduce variance , but this leads to onerous memory and communication requirements .",
    "convergence time of the protocol is analyzed in @xcite .",
    "( pairwise averaging ) * in this protocol , each node maintains its current estimate of the average , and each time a pair of nodes communicate , they revise their estimates to both take on the mean of their previous estimates .",
    "convergence of this protocol in a very general model of asynchronous computation and communication was established in @xcite , and there has been significant follow - on work , a recent sample of which is @xcite .",
    "recent work @xcite has studied the convergence rate and its dependence on network topology and how pairs of nodes are sampled . here",
    ", sampling is governed by a certain doubly stochastic matrix , and the convergence rate is characterized by its second - largest eigenvalue .    in terms of convergence rate ,",
    "probabilistic counting dominates both pairwise averaging and consensus propagation in the asymptotic regime .",
    "however , consensus propagation and pairwise averaging are likely to be more effective in moderately - sized networks ( up to hundreds of thousands or perhaps even millions of nodes ) .",
    "further , these two protocols are both naturally studied as iterative matrix algorithms .",
    "as such , pairwise averaging will serve as a baseline to which we will compare consensus propagation .",
    "consensus propagation is a simple algorithm with an intuitive interpretation .",
    "it can also be viewed as an asynchronous distributed version of belief propagation as applied to approximation of conditional distributions in a gaussian markov random field . when the network of interest is singly - connected , prior results about belief propagation imply convergence of consensus propagation .",
    "however , in most cases of interest , the network is not singly - connected and prior results have little to say about convergence . in particular , gaussian belief propagation on a graph with cycles is not guaranteed to converge , as demonstrated by numerical examples in @xcite .",
    "in fact , there are very few relevant cases where belief propagation on a graph with cycles is known to converge .",
    "some fairly general sufficient conditions have been established @xcite , but these conditions are abstract and it is difficult to identify interesting classes of problems that meet them .",
    "one simple case where belief propagation is guaranteed to converge is when the graph has only a single cycle and variables have finite support @xcite . in its use for decoding low - density parity - check codes , though convergence guarantees have not been made ,",
    "@xcite establishes desirable properties of iterates , which hold with high probability .",
    "recent work proposes the use of belief propagation to solve maximum - weight matching problems and proves convergence in that context @xcite . in the gaussian case , @xcite",
    "provide sufficient conditions for convergence , but these conditions are difficult to interpret and do not capture situations that correspond to consensus propagation . since this paper was submitted for publication , a general class of results has been developed for the convergence of gaussian belief propagation @xcite .",
    "these results can be viewed as a generalization of the convergence results in this paper .",
    "however , they do not address the issue of rate of convergence .    with this background ,",
    "let us discuss the primary contributions of this paper :    1 .",
    "we propose consensus propagation , a new asynchronous distributed protocol for averaging .",
    "we prove that consensus propagation converges even when executed asynchronously .",
    "since there are so few classes of relevant problems for which belief propagation is known to converge , even with _ synchronous execution _ , this is surprising .",
    "we characterize the convergence time in regular graphs of the synchronous version of consensus propagation in terms of the the mixing time of a certain markov chain over edges of the graph .",
    "we explain why the convergence time of consensus propagation scales more gracefully with the number of nodes than does that of pairwise averaging , and for certain classes of graphs , we quantify the improvement .",
    "it is worth mentioning a recent and related line of research on the use of belief propagation as an asynchronous distributed protocol to arrive at consensus among nodes in a network , when each node makes a conditionally independent observation of the class of an object and would like to know the most probable class based on all observations @xcite .",
    "the authors establish that belief propagation converges and provides each node with the most probable class when the network is a tree or a regular graph .",
    "they further show that for a certain class of random graphs , the result holds in an asymptotic sense as the number of nodes grows . to deal with general connected graphs ,",
    "the authors offer a more complex protocol with convergence guarantees .",
    "it is interesting to note that this classification problem can be reduced to one of averaging . in particular , if each node starts out with the conditional probability of each class given its own observation and the network carries out a protocol to compute the average log - probability for each class , each node obtains the conditional probabilities given _ all _ observations .",
    "hence , consensus propagation also solves this classification problem .",
    "consider a connected undirected graph @xmath4 with @xmath5 . for each node @xmath6 ,",
    "let @xmath7 be the set of neighbors of @xmath1 .",
    "let @xmath8 be a set consisting of two directed edges @xmath9 and @xmath10 per undirected edge @xmath11 .",
    "( in general , we will use braces for directed edges and parentheses for undirected edges . )",
    "each node @xmath12 is assigned a number @xmath13 .",
    "the goal is for each node to obtain an estimate of @xmath14 through an asynchronous distributed protocol in which each node carries out simple computations and communicates parsimonious messages to its neighbors .",
    "we propose consensus propagation as an approach to the aforementioned problem . in this protocol , if a node @xmath1 communicates to a neighbor @xmath15 at time @xmath16 , it transmits a message consisting of two numerical values .",
    "let @xmath17 and @xmath18 denote the values associated with the most recently transmitted message from @xmath1 to @xmath15 at or before time @xmath16 . at each time",
    "@xmath16 , node @xmath1 has stored in memory the most recent message from each neighbor : @xmath19 .",
    "if , at time @xmath20 , node @xmath1 chooses to communicate with a neighboring node @xmath21 , it constructs a new message that is a function of the set of most recent messages @xmath22 received from neighbors other than @xmath15 .",
    "the initial values in memory before receiving any messages are arbitrary .    in order to illustrate how the parameter vectors @xmath23 and @xmath24 evolve",
    ", we will first describe a special case of the consensus propagation algorithm that is particularly intuitive .",
    "then , we will describe the general algorithm and its relationship to belief propagation .",
    "consider the special case of a singly - connected graph .",
    "that is , a connected graph where there are no loops present ( a tree ) .",
    "assume , for the moment , that at every point in time , every pair of connected nodes communicates . as illustrated in fig .",
    "[ fig : interpretation ] , for any edge @xmath25 , there is a set @xmath26 of nodes , with @xmath27 , that can transmit information to @xmath28 , with @xmath29 , only through @xmath9 . in order for nodes in @xmath30 to compute @xmath31 ,",
    "they must at least be provided with the average @xmath32 among observations at nodes in @xmath33 and the cardinality latexmath:[$k^*_{ij } =    compute @xmath31 , they must at least be provided with the average @xmath35 among observations at nodes in @xmath30 and the cardinality @xmath36 .",
    "these values must be communicated through the link @xmath10 .",
    "the messages @xmath37 and @xmath38 , transmitted from node @xmath1 to node @xmath15 , can be viewed as iterative estimates of the quantities @xmath32 and @xmath39 .",
    "they evolve according to    @xmath40    at each time @xmath16 , each node @xmath1 computes an estimate of the global average @xmath41 according to @xmath42    assume that the algorithm is initialized with @xmath43 .",
    "a simple inductive argument shows that at each time @xmath44 , @xmath45 is the average among observations at the nodes in the set @xmath33 that are at a distance less than or equal to @xmath16 from node @xmath1 .",
    "furthermore , @xmath38 is the cardinality of this collection of nodes . since any node in @xmath33 is at a distance from node @xmath1 that it at most the diameter of the graph , if @xmath16 is greater that the diameter of the graph , we have @xmath46 and @xmath47",
    "thus , for any @xmath6 , and @xmath16 sufficiently large , @xmath48",
    "so , @xmath49 converges to the global average @xmath31 .",
    "further , this simple algorithm converges in as short a time as is possible , since the diameter of the graph is the minimum amount of time for the two most distance nodes to communicate .    now , suppose that the graph has cycles . for any directed edge @xmath50 that is part of a cycle , @xmath51 .",
    "hence , the algorithm does not converge",
    ". a heuristic fix might be to compose the iteration with one that attenuates : @xmath52 here , @xmath53 and @xmath54 are positive constants .",
    "we can view the unattenuated algorithm as setting @xmath55 . in the attenuated algorithm ,",
    "the message is essentially unaffected when @xmath56 is small but becomes increasingly attenuated as @xmath57 grows .",
    "this is exactly the kind of attenuation carried out by consensus propagation .",
    "understanding why this kind of attenuation leads to desirable results is a subject of our analysis .",
    "consensus propagation is parameterized by a scalar @xmath58 and a non - negative matrix @xmath59 with @xmath53 if and only if @xmath60 and @xmath61 . for each @xmath62 , it is useful to define the following three functions :    @xmath63    for each @xmath16 , denote by @xmath64 the set of directed edges along which messages are transmitted at time @xmath16 .",
    "consensus propagation is presented below as algorithm  [ alg : cp ] .",
    "@xmath65 @xmath66 @xmath67 @xmath68 @xmath69    consensus propagation is a _ distributed protocol _ because computations at each node require only information that is locally available .",
    "in particular , the messages @xmath70 and @xmath71 transmitted from node @xmath1 to node @xmath15 depend only on @xmath72 , which node @xmath1 has stored in memory .",
    "similarly , @xmath49 , which serves as an estimate of @xmath31 , depends only on @xmath19 .",
    "consensus propagation is an _ asynchronous protocol _ because only a subset of the potential messages are transmitted at each time .",
    "our convergence analysis can also be extended to accommodate more general models of asynchronism that involve communication delays , as those presented in @xcite .    in our study of convergence _",
    "time _ , we will focus on the _ synchronous _ version of consensus propagation .",
    "this is where @xmath73 for all @xmath16 .",
    "note that synchronous consensus propagation is defined by :    [ eq : syncdef ] @xmath74      consensus propagation can also be viewed as a special case of belief propagation . in this context",
    ", belief propagation is used to approximate the marginal distributions of a vector @xmath75 conditioned on the observations @xmath76 .",
    "the mode of each of the marginal distributions approximates @xmath31 .",
    "take the prior distribution over @xmath77 to be the normalized product of potential functions @xmath78 and compatibility functions @xmath79 , given by @xmath80 where @xmath81 , for each edge @xmath11 , and @xmath54 are constants .",
    "note that @xmath82 can be viewed as an inverse temperature parameter ; as @xmath82 increases , components of @xmath83 associated with adjacent nodes become increasingly correlated .",
    "let @xmath84 be a positive semidefinite symmetric matrix such that @xmath85 note that when @xmath86 , for all edges @xmath61 , @xmath84 is the graph laplacian .",
    "given the vector @xmath87 of observations , the conditional density of @xmath83 is @xmath88    let @xmath89 denote the mode ( maximizer ) of @xmath90 . since the distribution is gaussian , each component @xmath91 is also the mode of the corresponding marginal distribution .",
    "note that @xmath89 it is the unique solution to the positive definite quadratic program @xmath92 the following theorem relates @xmath89 to the mean value @xmath41 .",
    "[ th : xstarconv ] @xmath93 and @xmath94 , for all @xmath12 .",
    "the first order conditions for optimality imply @xmath95 .",
    "if we set @xmath96 , we have @xmath97 , hence @xmath98 .",
    "let @xmath99 be an orthogonal matrix and @xmath100 a diagonal matrix that form a spectral decomposition of @xmath84 , that is @xmath101 .",
    "then , we have @xmath102 .",
    "it is clear that @xmath84 has eigenvalue 0 with multiplicity 1 and corresponding normalized eigenvector @xmath103 , and all other eigenvalues @xmath104 of @xmath84 are positive .",
    "then , if @xmath105 , @xmath106    the above theorem suggests that if @xmath82 is sufficiently large , then each component @xmath107 can be used as an estimate of @xmath41 .    in belief propagation , messages are passed along edges of a markov random field . in our case , because of the structure of the distribution @xmath90 , the relevant markov random field has the same topology as the graph @xmath4 .",
    "the message @xmath108 passed from node @xmath1 to node @xmath15 at time @xmath16 is a distribution on the variable @xmath109 .",
    "node @xmath1 computes this message using incoming messages from other nodes as defined by the update equation @xmath110 here , @xmath111 is a normalizing constant .",
    "since our underlying distribution @xmath90 is gaussian , it is natural to consider messages which are gaussian distributions . in particular",
    ", let @xmath112 parameterize gaussian message @xmath108 according to @xmath113 then , is equivalent to the synchronous consensus propagation iterations for @xmath24 and @xmath23 .    the sequence of densities @xmath114 is meant to converge to an approximation of the marginal conditional distribution of @xmath109 . as such ,",
    "an approximation to @xmath115 is given by maximizing @xmath116 .",
    "it is easy to show that , the maximum is attained by @xmath117 . with this and aforementioned correspondences ,",
    "we have shown that consensus propagation is a special case of belief propagation , and more specifically , gaussian belief propagation .",
    "readers familiar with belief propagation will notice that in the derivation above we have used the sum - product form of the algorithm . in this case",
    ", since the underlying distribution is gaussian , the max - product form yields equivalent iterations .      in light of the fact that consensus propagation is a special case of gaussian belief propagation",
    ", it is natural to ask what prior results on belief propagation  gaussian or more broadly  have to say in this context .",
    "results from @xcite establish that , in the absence of degeneracy , gaussian belief propagation has a unique fixed point and that the mode of this fixed point is unbiased .",
    "the issue of convergence , however , is largely poorly understood . as observed numerically in @xcite ,",
    "gaussian belief propagation can diverge , even in the absence of degeneracy .",
    "abstract sufficient conditions for convergence that have been developed in @xcite are difficult to verify in the consensus propagation case .",
    "as we have discussed , gaussian belief propagation can diverge , even when the graph has a single cycle .",
    "one might expect the same from consensus propagation .",
    "however , the following theorem establishes convergence .",
    "[ th : conv ] the following hold :    * there exist unique vectors @xmath118 such that @xmath119 and @xmath120 . *",
    "suppose that each directed edge @xmath9 appears infinitely often in the sequence of communication sets @xmath121 .",
    "then , independent of the initial condition @xmath122 , @xmath123 * given @xmath118 , if @xmath124 , then @xmath89 is the mode of the distribution @xmath90 .",
    "note that the condition on the communication sets in theorem  [ th : conv](ii ) corresponds to _ total asynchronism _ in the language of @xcite .",
    "this is a weak assumption which ensures only that every component of @xmath23 and @xmath24 is updated infinitely often .",
    "the proof of this theorem is deferred until the appendix , but it rests on two ideas .",
    "first , notice that , according to the update equation , @xmath24 evolves independently of @xmath23 .",
    "hence , we analyze @xmath24 first . following the work in @xcite",
    ", we prove that the functions @xmath125 are monotonic .",
    "this property is used to establish convergence to a unique fixed point .",
    "next , we analyze @xmath23 assuming that @xmath24 has already converged . given fixed @xmath126 , the update equations for @xmath23 are linear , and we establish that they induce a contraction with respect to the maximum norm .",
    "this allows us to establish existence of a fixed point and both synchronous and asynchronous convergence .",
    "in this section , we will study the convergence time of synchronous consensus propagation . for @xmath127",
    ", we will say that an estimate @xmath128 of @xmath41 is @xmath129-accurate if @xmath130 here , for integer @xmath131 , we set @xmath132 to be the norm on @xmath133 defined by @xmath134 .",
    "we are interested in the number of iterations required to obtain an @xmath129-accurate estimate of the mean @xmath41 .",
    "note that we are primarily interested in how the performance of consensus propagation behaves over a series of problem instances as we scale the size of the graph .",
    "since our measure of error is absolute , we require that the set of values @xmath135 lie in some bounded set . without loss of generality , we will take @xmath136 $ ] , for all @xmath6 .",
    "we will restrict our analysis of convergence time to cases where @xmath4 is a @xmath137-regular graph , for @xmath138 .",
    "extension of our analysis to broader classes of graphs remains an open issue .",
    "we will also make simplifying assumptions that @xmath86 , @xmath139 , and @xmath140_{ij}$ ] for some scalar @xmath141 .    in this restricted setting ,",
    "the subspace of constant @xmath126 vectors is invariant under @xmath142 .",
    "this implies that there is some scalar @xmath143 so that @xmath144_{ij}$ ] .",
    "this @xmath145 is the unique solution to the fixed point equation @xmath146 given a uniform initial condition @xmath147_{ij}$ ] , we can study the sequence of iterates @xmath148 by examining the scalar sequence @xmath149 , defined by @xmath150 in particular , we have @xmath151_{ij}$ ] , for all @xmath152 .    similarly , in this setting , the equations for the evolution of @xmath23 take the special form @xmath153 defining @xmath154 , we have , in vector form , @xmath155 where @xmath156 is a vector with @xmath157 and @xmath158 is a doubly stochastic matrix .",
    "the matrix @xmath159 corresponds to a markov chain on the set of directed edges @xmath160 . in this chain ,",
    "a directed edge @xmath9 transitions to a directed edge @xmath161 with @xmath162 , with equal probability assigned to each such edge . as in",
    ", we associate each @xmath23 with an estimate @xmath163 of @xmath89 according to @xmath164 where @xmath165 is a matrix defined by @xmath166 .",
    "the update equation suggests that the convergence of @xmath23 is intimately tied to a notion of mixing time associated with @xmath159 .",
    "let @xmath167 be the cesro limit @xmath168 define the _ cesro mixing time _",
    "@xmath169 by @xmath170 here , @xmath171 is the matrix norm induced by the corresponding vector norm @xmath171 . since @xmath159 is a stochastic matrix",
    ", @xmath167 is well - defined and @xmath172 .",
    "note that , in the case where @xmath159 is aperiodic , irreducible , and symmetric , @xmath169 corresponds to the traditional definition of mixing time : the inverse of the spectral gap of @xmath159 .",
    "let @xmath173 . with an initial condition @xmath174 , the update equation for @xmath23 becomes @xmath175 since @xmath176 ,",
    "this iteration is a contraction mapping , with contraction factor @xmath177 .",
    "it is easy to show that @xmath178 is monotonically decreasing in @xmath82 , and as such , large values of @xmath82 are likely to result in slower convergence .",
    "on the other hand , theorem  [ th : xstarconv ] suggests that large values of @xmath82 are required to obtain accurate estimates of @xmath41 . to balance these conflicting issues",
    ", @xmath82 must be appropriately chosen .",
    "a time @xmath179 is said to be an _ @xmath129-convergence time _ if estimates @xmath163 are @xmath129-accurate for all @xmath180 .",
    "the following theorem , whose proof is deferred until the appendix , establishes a bound on the @xmath129-convergence time of synchronous consensus propagation given appropriately chosen @xmath82 , as a function of @xmath129 and @xmath169 .",
    "[ th : convrate ] suppose @xmath181 . if @xmath182 there exists a @xmath183 and if @xmath184 there exists a @xmath185 such that some @xmath186 is an @xmath129-convergence time .    in the above theorem , @xmath187",
    "is initialized arbitrarily so long as @xmath188 .",
    "typically , one might set @xmath189 to guarantee this .",
    "another case of particular interest is when @xmath174 , so that @xmath190 for all @xmath152 . in this case , the following theorem , whose proof is deferred until the appendix , offers a better convergence time bound than theorem  [ th : convrate ] .",
    "[ th : preconvrate ] suppose @xmath191 . if @xmath182 there exists a @xmath183 and if @xmath184 there exists a @xmath185 such that some @xmath192 is an @xmath129-convergence time .",
    "theorems [ th : convrate ] and [ th : preconvrate ] suggest that initializing with @xmath191 leads to an improvement in convergence time .",
    "however , in our computational experience , we have found that an initial condition of @xmath193 consistently results in _ faster _ convergence than @xmath191 .",
    "hence , we suspect that a convergence time bound of @xmath194 also holds for the case of @xmath193 .",
    "proving this remains an open issue .",
    "the choice of @xmath82 is critical in that it determines both convergence time and ultimate accuracy .",
    "this raises the question of how to choose @xmath82 for a particular graph .",
    "the choices posited in theorems [ th : convrate ] and [ th : preconvrate ] require knowledge of @xmath169 , which may be both difficult to compute and also requires knowledge of the graph topology .",
    "this counteracts our purpose of developing a distributed protocol .    in order to address this concern ,",
    "consider algorithm  [ alg : varybeta ] , which is designed for the case of @xmath184 .",
    "it uses a doubling sequence of guesses @xmath195 for the cesro mixing time @xmath169 .",
    "each guess leads to a choice of @xmath82 and a number of iterations @xmath179 .",
    "note that the algorithm takes @xmath127 as input .",
    "@xmath196 , @xmath197 , @xmath198 @xmath199 set @xmath82 and @xmath179 as indicated by theorem [ th : convrate ] , assuming @xmath200 @xmath201 , @xmath202 @xmath203    consider applying this procedure to a @xmath137-regular graph with fixed @xmath204 but topology otherwise unspecified .",
    "it follows from theorem  [ th : convrate ] that this procedure has an @xmath129-convergence time of @xmath205 .",
    "an entirely analogous algorithm can be designed for the case of @xmath182 .",
    "we expect that many variations of this procedure can be made effective .",
    "asynchronous versions would involve each node adapting a local estimate of the mixing time .",
    "using the results of section  [ se : convrate ] , we can compare the performance of consensus propagation to that of pairwise averaging .",
    "pairwise averaging is usually defined in an asynchronous setting , but there is a synchronous counterpart which works as follows . consider a doubly stochastic symmetric matrix @xmath206 such that @xmath207",
    "if @xmath208 and @xmath209 . evolve estimates according to @xmath210 , initialized with @xmath211 . here",
    ", at each time @xmath16 , a node @xmath1 is computing a new estimate @xmath212 which is an average of the estimates at node @xmath1 and its neighbors during the previous time - step . if the matrix @xmath213 is aperiodic and irreducible , then @xmath214 as @xmath215 .    in the case of a singly - connected graph",
    ", synchronous consensus propagation converges exactly in a number of iterations equal to the diameter of the graph .",
    "moreover , when @xmath216 , this convergence is to the exact mean , as discussed in section  [ se : intuitive ] .",
    "this is the best one can hope for under any algorithm , since the diameter is the minimum amount of time required for a message to travel between the two most distant nodes . on the other hand , for a fixed accuracy @xmath129 , the worst - case number of iterations required by synchronous pairwise averaging on a singly - connected graph scales at least quadratically in the diameter @xcite .",
    "the rate of convergence of synchronous pairwise averaging is governed by the relation @xmath217 , where @xmath218 is the second largest eigenvalue .",
    "we will assume that this eigenvalue is smaller than @xmath218 in magnitude .",
    "note that a constant probability can be added to each self - loop of any particular matrix @xmath213 so that this is true . ] of @xmath213 .",
    "let @xmath219 , and call it the _ mixing time _ of @xmath213 . in order to guarantee @xmath129-accuracy ( independent of @xmath87 )",
    ", @xmath220 suffices and @xmath221 is required .",
    "consider @xmath137-regular graphs and fix a desired error tolerance @xmath129 .",
    "the number of iterations required by consensus propagation is @xmath222 , whereas that required by pairwise averaging is @xmath223 .",
    "both mixing times depend on the size and topology of the graph .",
    "@xmath224 is the mixing time of a process on nodes that transitions along edges whereas @xmath169 is the mixing time of a process on directed edges that transitions towards nodes .",
    "an important distinction is that the former process is allowed to `` backtrack '' where as the latter is not . by this",
    "we mean that a sequence of states @xmath225 can be observed in the vertex process , but the sequence @xmath226 can not be observed in the edge process .",
    "as we will now illustrate through an example , it is this difference that makes @xmath224 larger than @xmath169 and , therefore , pairwise averaging less efficient than consensus propagation .    in the case of a cycle ( @xmath227 ) with an even number of nodes @xmath0 , minimizing the mixing time over @xmath213 results in @xmath228 @xcite .",
    "for comparison , as demonstrated in the following theorem ( whose proof is deferred until the appendix ) , @xmath169 is linear in @xmath0 .",
    "[ th : taucycle ] for the cycle with @xmath0 nodes , @xmath229 .",
    "intuitively , the improvement in mixing time arises from the fact that the edge process moves around the cycle in a single direction and therefore travels distance @xmath16 in order @xmath16 iterations .",
    "the vertex process , on the other hand , is `` diffusive '' in nature .",
    "it randomly transitions back and forth among adjacent nodes , and requires order @xmath230 iterations to travel distance @xmath16 .",
    "non - diffusive methods have previously been suggested in the design of efficient algorithms for markov chain sampling ( see @xcite and references therein ) .",
    "the cycle example demonstrates a @xmath231 advantage offered by consensus propagation .",
    "comparisons of mixing times associated with other graph topologies remains an issue for future analysis .",
    "let us close by speculating on a uniform grid of @xmath0 nodes over the @xmath131-dimensional unit torus .",
    "here , @xmath232 is an integer , and each vertex has @xmath233 neighbors , each a distance @xmath234 away . with @xmath213",
    "optimized , it can be shown that @xmath235 @xcite .",
    "we put forth a conjecture on @xmath169 .    for the @xmath131-dimensional torus with @xmath0 nodes , @xmath236 .",
    "the authors wish to thank balaji prabhakar and ashish goel for their insights and comments .",
    "10 [ 1]#1 url@rmstyle [ 2]#2    c.  intanagonwiwat , r.  govindan , and d.  estrin , `` directed diffusion : a scalable and robust communication paradigm for sensor networks , '' in _ proceedings of the acm / ieee internation conference on mobile computing and networking _ , 2000 .    s.  r. madden , m.  j. franklin , j.  hellerstein , and w.  hong , `` tag : a tiny aggregation service for ad hoc sensor networks , '' in _ proceedings of the usenix symposium on operating systems design and implementation _ , 2002 .",
    "s.  r. madden , r.  szewczyk , m.  j. franklin , and d.  culler , `` supporting aggregate queries over ad - hoc wireless sensor networks , '' in _ proceedings of the workshop on mobile computing systems and applications _ , 2002 .",
    "j.  zhao , r.  govindan , and d.  estrin , `` computing aggregates for monitoring wireless sensor networks , '' in _ proceedings of the international workshop on sensor net protocols and application0s _ , 2003 .",
    "m.  bawa , h.  garcia - molina , a.  gionis , and r.  motwani , `` estimating aggregates on a peer - to - peer network , '' stanford university database group , tech .",
    "rep . , 2003 .",
    "m.  jelasity and a.  montresor , `` epidemic - style proactive aggregation in large overlay networks , '' in _ proceedings of the 24th international conference on distributed computing _ , 2004 .",
    "a.  montresor , m.  jelasity , and o.  babaoglu , `` robust aggregation protocols for large - scale overlay networks , '' in _ proceedings of the international conference on dependable systems and networks _ ,",
    "l.  xiao , s.  boyd , and s.  lall , `` a scheme for robust distributed sensor fusion based on average consensus , '' in _ international conference on information processing in sensor networks _ , april 2005 , pp .",
    "l.  xiao , s.  boyd , and s .- j .",
    "kim , `` distributed average consensus with least - mean - square deviation , '' may 2005 , preprint .    c.  c. moallemi and b.  van  roy , `` distributed optimization in adaptive networks , '' in _ advances in neural information processing systems 16 _ , 2004 .",
    "p.  flajolet and g.  n. martin , `` probabilistic counting algorithms for data base applications , '' _ journal of computer and system sciences _ , vol .",
    "31 , no .  2 ,",
    "pp . 182209 , 1985 .",
    "j.  considine , f.  li , g.  kollios , and j.  byers , `` approximate aggregation techniques for sensor databases , '' in _ international conference on data engineering _ , 2004 .",
    "d.  mosk - aoyama and d.  shah , `` information dissemination via gossip : applications to averaging and coding , '' 2005 , preprint .",
    "j.  n. tsitsiklis , `` problems in decentralized decision - making and computation , '' ph.d .",
    "dissertation , massachusetts institute of technology , cambridge , ma , 1984 .",
    "v.  d. blondel , j.  m. hendrickx , a.  olshevsky , and j.  n. tsitsiklis , `` convergence in multiagent coordination , consensus , and flocking , '' in _ proceedings of the joint 44th ieee conference on decision and control and european control conference _ , december 2005 .",
    "d.  kempe , a.  dobra , and j.  gehrke , `` gossip - based computation of aggregate information , '' in _ acm symposium on theory of computing _",
    ", 2004 .",
    "s.  boyd , a.  ghosh , b.  prabhakar , and d.  shah , `` gossip algorithms : design , analysis and applications , '' in _ proceedings of ieee infocom _ , march 2005 , pp .",
    "16531666 .",
    "p.  rusmevichientong and b.  van  roy , `` an analysis of belief propagation on the turbo decoding graph with gaussian densities , '' _ ieee transactions on information theory _ , vol .",
    "47 , no .  2 ,",
    "pp . 745765 , 2001 .",
    "s.  tatikonda and m.  i. jordan , `` loopy belief propagation and gibbs measures , '' in _ proceedings of the 18th conference on uncertainty in artificial intelligence _ , 2002 .",
    "t.  heskes , `` on the uniqueness of loopy belief propagation fixed points , '' _ neural computation _ , vol .",
    "16 , no .  11 , pp . 23792413 , 2004 .",
    "a.  t. ihler , j.  w. fisher  iii , and a.  s. willsky , `` message errors in belief propagation , '' in _ advances in neural information processing systems _ ,",
    "j.  m. mooij and h.  j. kappen , `` sufficient conditions for convergence of loopy belief propagation , '' april 2005 , preprint .",
    "g.  forney , f.  kschischang , and b.  marcus , `` iterative decoding of tail - biting trelisses , '' in _ proceedings of the 1998 information theory workshop _ , 1998 .",
    "s.  m. aji , g.  b. horn , and r.  j. mceliece , `` on the convergence of iterative decoding on graphs with a single cycle , '' in _ proceedings of ciss _ ,",
    "y.  weiss and w.  t. freeman , `` correctness of local probability propagation in graphical models with loops , '' _ neural computation _ ,",
    "12 , pp . 141 , 2000 .",
    "t.  richardson and r.  urbanke , `` the capacity of low - density parity check codes under message - passing decoding , '' _ ieee transactions on information theory _ , vol .",
    "47 , pp . 599618 , 2001 .",
    "m.  bayati , d.  shah , and m.  sharma , `` maximum weight matching via max - product belief propagation , '' in _ international symposium of information theory _ , adelaide , australia , september 2005 .",
    "y.  weiss and w.  t. freeman , `` correctness of belief propagation in gaussian graphical models of arbitrary topology , '' _ neural computation _ ,",
    "vol .  13 , pp . 21732200 , 2001 .",
    "j.  k. johnson , d.  m. malioutov , and a.  s. willsky , `` walk - sum interpretation and analysis of gaussian belief propagation , '' in _ advances in neural information processing systems 18 _ , 2006 .",
    "c.  c. moallemi and b.  van  roy , `` convergence of the min - sum message passing algorithm for quadratic optimization , '' march 2006 , preprint .",
    "v.  saligrama , m.  alanyali , and o.  savas , `` asynchronous distributed detection in sensor networks , '' 2005 , preprint .",
    "d.  p. bertsekas and j.  n. tsitsiklis , _ parallel and distributed computation : numerical methods_.1em plus 0.5em minus 0.4em belmont , ma : athena scientific , 1997 .",
    "m.  j. wainwright , t.  jaakkola , and a.  s. willsky , `` tree - based reparameterization framework for analysis of sum - product and related algorithms , '' _ ieee transactions on information theory _ ,",
    "49 , no .  5 , pp . 11201146 , 2003 .",
    "s.  boyd , p.  diaconis , j.  sun , and l.  xiao , `` fastest mixing markov chain on a path , '' _ the american mathematical monthly _ , january 2006 .",
    "s.  boyd , p.  diaconis , p.  parillo , and l.  xiao , `` symmetry analysis of reversible markov chains , '' _ internet mathematics _ ,",
    "vol .  2 , no .  1 , pp . 3171 , 2005 .",
    "s.  boyd , a.  ghosh , b.  prabhakar , and d.  shah , `` mixing times for random walks on geometric random graphs , '' 2005 , to appear in the proceedings of siam analco .",
    "p.  diaconis , s.  holmes , and r.  neal , `` analysis of a nonreversible markov chain sampler , '' _ annals of applied probability _ , vol .",
    "10 , no .  3 , pp .",
    "726752 , 2000 .",
    "s.  roch , `` bounded fastest mixing , '' _ electronic communications in probability _ , vol .",
    "10 , pp . 282296 , 2005 .",
    "ciamac c. moallemi ciamac c. moallemi is a phd student in the department of electrical engineering at stanford university .",
    "he received sb degrees in electrical engineering and computer science and in mathematics from the massachusetts institute of technology ( 1996 ) .",
    "he studied at the university of cambridge as a british marshall scholar , where he earned a certificate of advanced study in mathematics , with distinction ( 1997 ) .",
    "benjamin van roy benjamin van roy is an associate professor of management science and engineering , electrical engineering , and , by courtesy , computer science , at stanford university , where he has been since 1998 .",
    "his recent research interests include dynamic optimization , machine learning , economics , finance , and information technology .",
    "he received the sb ( 1993 ) in computer science and engineering and the sm ( 1995 ) and phd ( 1998 ) in electrical engineering and computer science , all from mit .",
    "he is a member of informs and ieee .",
    "he serves on the editorial boards of discrete event dynamic systems , machine learning , mathematics of operations research , and operations research .",
    "he has been a recipient of stanford s tau beta pi award for excellence in undergraduate teaching , the nsf career award , and mit s george m. sprowls dissertation award .",
    "given initial vectors @xmath122 , and a sequence of communication sets @xmath237 , the consensus propagation algorithm evolves parameter values over time according to @xmath238 for times @xmath239 .",
    "in order to establish theorem  [ th : conv ] , we will first study convergence of the inverse variance parameters @xmath24 , and subsequently the mean parameters @xmath23 .",
    "our analysis of the convergence of the inverse variance parameters follows the work in @xcite .",
    "we begin with a fundamental lemma .    [",
    "le : fprop ] for each @xmath240 , the following facts hold :    1 .",
    "the function @xmath241 is continuous .",
    "the function @xmath241 is monotonic .",
    "that is , if @xmath242 , where the inequality is interpreted component - wise , then @xmath243 .",
    "3 .   if @xmath244 , then @xmath245 .",
    "4 .   if @xmath246 , then @xmath247 .",
    "define the function @xmath248 by @xmath249 where @xmath250 .",
    "( i ) follows from the fact that @xmath251 is continuous .",
    "( ii ) follows from the fact that @xmath252 is strictly increasing .",
    "( iii ) follows from the fact that @xmath253 for all @xmath254 .",
    "( iv ) follows from the fact that @xmath255 .",
    "now we consider the sequence of iterates @xmath256 which evolve according to .",
    "let @xmath257 be such that @xmath258 for all @xmath240 ( for example , @xmath259 ) .",
    "then @xmath24 converges to a vector @xmath260 such that @xmath119 .",
    "convergence follows from the fact that the iterates are component - wise bounded and monotonic .",
    "the limit point must be a fixed point by continuity .    given the existence of a single fixed point , we can establish that the fixed point must be unique .",
    "[ le : varfixed ] the @xmath142 operator has a unique fixed point @xmath260",
    ".    denote @xmath260 to be the fixed point obtained by iterating with initial condition @xmath43 , and let @xmath261 be some other fixed point .",
    "it is clear that @xmath262 , thus , by monotonicity , we must have @xmath263 . define @xmath264 it is clear that @xmath265 is well - defined since @xmath266 . also , we must have @xmath267 , since @xmath268 .",
    "then , @xmath269 this contradicts the definition of @xmath265 .",
    "hence , there is a unique fixed point .",
    "[ le : varconv ] given an arbitrary initial condition @xmath270 , @xmath271    if @xmath272 , the result holds by monotonicity .",
    "assume that @xmath273 .",
    "@xmath274 then , @xmath275 define a sequence @xmath276 by @xmath277 and , for all @xmath240 , @xmath278 , @xmath279 since @xmath280 , the sequence @xmath276 is monotonically decreasing and must have a limit which is a fixed point . since the fixed point is unique , we have @xmath281 .",
    "but , @xmath282 . by monotonicity",
    ", we also have @xmath281 .",
    "now , consider the case of general @xmath257 .",
    "define @xmath283 and @xmath284 such that @xmath285 and @xmath286 . by the previous two cases and monotonicity , we again have @xmath287 .      in this section",
    ", we will consider certain properties of the updates for the mean parameters .",
    "define the operator @xmath288 to be the synchronous update of all components of the mean vector according to @xmath289    [ le : contract ] there exists @xmath290 so that    1 .   for all @xmath291 , @xmath292 2",
    ".   if @xmath16 is sufficiently large , for all @xmath291 , @xmath293    set @xmath294 observing that @xmath295 , part  ( i ) follows .",
    "define @xmath296 since @xmath297 , by continuity @xmath298 .",
    "then , part  ( ii ) follows .",
    "lemma  [ le : contract ] states that @xmath299 is a maximum norm contraction .",
    "this leads to the following lemma .",
    "[ le : meanfixed ] the following hold :    1 .",
    "there is unique fixed point @xmath300 such that @xmath301 2 .",
    "there exists @xmath302 such if @xmath303 , the operator @xmath304 has a unique fixed point @xmath305 .",
    "that is , @xmath306 3 .   for any @xmath127 ,",
    "there exists @xmath307 so that if @xmath308 , @xmath309    for part  ( i ) , since @xmath310 is a maximum norm contraction , existence of a unique fixed point @xmath300 follows from , for example , proposition  3.1.1 in @xcite .",
    "part  ( ii ) is established similarly .    for part  ( iii ) , note for @xmath16 sufficiently large ,",
    "the linear system of equations @xmath311 over @xmath312 is non - singular , by part  ( ii ) . since @xmath287",
    ", the coefficients of this system of equations continuously converge to those of @xmath313 then , we must have @xmath314 .",
    "we are now ready to prove theorem  [ th : conv ] .",
    "assume that the communication sets @xmath315 have the property that every directed edge @xmath25 appears in @xmath316 for infinitely many @xmath16 .",
    "the following hold :    * there are unique vectors @xmath118 such that @xmath317 * independent of the initial condition @xmath122 , @xmath123 * given @xmath118 , if @xmath124 , then @xmath89 is the mode of the distribution @xmath90 .",
    "existence and uniqueness of the fixed point @xmath260 and convergence of the vector @xmath24 to @xmath260 follow from lemmas  [ le : varfixed ] and [ le : varconv ] , respectively .",
    "existence and uniqueness of the fixed point @xmath300 follows from lemma  [ le : meanfixed ] .    to establish the balance of part  ( ii ) ,",
    "we need to show that @xmath318 . we will use a variant of the `` box condition '' argument of proposition  6.2.1 in @xcite .",
    "fix any @xmath319 . by lemma  [ le : meanfixed ] , pick @xmath320 so that if @xmath308 , then @xmath305 exists with @xmath321 and @xmath322 . for @xmath323 ,",
    "if @xmath324 , @xmath325    for @xmath326 , define @xmath327 to be the set of vectors @xmath328 such that @xmath329 we would like to show that for every @xmath326 , there is a time @xmath330 such that @xmath331 , for all @xmath332 .",
    "we proceed by induction .    when @xmath333 , set @xmath334",
    ". clearly @xmath335 .",
    "assume that @xmath336 , for some @xmath323 .",
    "then , if @xmath337 , from , @xmath338 if @xmath339 , @xmath340 thus , @xmath341 . by induction , @xmath342 for all @xmath308 .    now , assume that @xmath343 exists , for some @xmath344 .",
    "let @xmath345 be some time such that @xmath324 .",
    "then , by and the fact that @xmath346 , @xmath347 for each @xmath240 , let @xmath348 be the earliest time after @xmath343 that @xmath349 .",
    "if we set @xmath330 to be the largest of these times , we have @xmath331 , for all @xmath332 .    we have established that @xmath350 for all @xmath326 . taking a limit as @xmath351 , we have @xmath352",
    "since @xmath129 was arbitrary , we have the convergence @xmath318 .",
    "part  ( iii ) follows from the fact that gaussian belief propagation , when it converges , computes exact means @xcite .",
    "in this section , we will prove theorems  [ th : convrate ] and [ th : preconvrate ] .",
    "we will start with some preliminary lemmas .",
    "the following lemma provides bounds on @xmath145 and @xmath178 in terms of @xmath82 .",
    "[ le : kbeta ] if @xmath227 , @xmath353 @xmath354 if @xmath355 , @xmath356 @xmath357    starting with the fixed point equation , some algebra leads to @xmath358 the quadratic formula gives us @xmath359 from which it is easy to derived the desired bounds .",
    "the following lemma offers useful expressions for the fixed point @xmath300 and the mode @xmath89 .",
    "[ eq : muxseries ] @xmath360    if we consider the algorithm when @xmath174 , then @xmath361 and @xmath362 for all @xmath363 .",
    "then , using and induction , we have @xmath364 the result follows from the fact that as @xmath365 , @xmath318 and @xmath366 ( theorem  [ th : conv ] ) .",
    "the following lemma provides an estimate of the distance between fixed points @xmath300 and @xmath367 in terms of @xmath368 .",
    "[ le : mubetabetap ] given @xmath369 , we have @xmath370    using ,",
    "@xmath371 since @xmath372 we have @xmath373 hence , we wish to bound the sum @xmath374 note that @xmath375 holding @xmath178 fixed , it is easy to verify that @xmath376 is non - decreasing as @xmath377 . hence , @xmath378    using the above results , @xmath379 now , note that if @xmath380 , for integer @xmath381 , @xmath382 applying this inequality and using , we have @xmath383 which completes the proof .",
    "the following lemma characterizes the rate at which @xmath384 .",
    "[ le : gammacont ] assume that @xmath385 .",
    "then , @xmath386 is a non - increasing sequence and @xmath387    define the function @xmath388 note that , from the definition of @xmath389 and , @xmath390 .",
    "further , from the definition of @xmath178 and , it is clear that @xmath391 . since @xmath181 , then @xmath392 , and since @xmath393 ( from lemma  [ le : fprop](ii ) ) , @xmath394 . also , if @xmath395 $ ] , @xmath396 then , by the mean value theorem , @xmath397 }    \\\\ & \\leq \\frac{d-1}{\\left(1/\\beta + \\gamma^\\beta + d - 1\\right)^2 }     \\\\ & \\leq \\frac{(d-1)^t}{\\left(1/\\beta + \\gamma^\\beta + d - 1\\right)^{2 t } }     \\end{split}\\ ] ]    the following lemma establishes a bound on the distance between @xmath163 and @xmath398 in terms of the distance between @xmath23 and @xmath300 .",
    "[ le : xtybar ] @xmath399    first , note that , using , @xmath400    next , using theorem  [ th : xstarconv ] , lemma  [ le : kbeta ] , and , we have @xmath401    now , @xmath402 by examining the structure of @xmath403 , it follows from the cauchy - schwartz inequality that @xmath404 thus , using @xmath405      theorem  [ th : convrate ] follows immediately from the following lemma .",
    "[ le : convrate ] fix @xmath319 , and pick @xmath82 so that @xmath406 assume that @xmath181 .",
    "define @xmath407 if @xmath227 , and @xmath408 if @xmath355 .",
    "then , @xmath179 is an @xmath129-convergence time .",
    "let @xmath409 be the value of @xmath82 implied by @xmath410 , that is , the unique value such that @xmath411 .",
    "define @xmath412 note that the matrix @xmath159 is doubly stochastic and hence non - expansive under the @xmath171 norm .",
    "then , from and the fact that @xmath413 is a fixed point , @xmath414 now , using lemmas  [ le : mubetabetap ] and [ le : gammacont ] , @xmath415 here , we define @xmath416    we would like to ensure that @xmath417 . for @xmath227 , some algebra reveals that this is is true when @xmath418 . by the fact that @xmath419 and lemma  [ le : kbeta ]",
    ", we have @xmath420 for @xmath355 , using the fact that @xmath421 and lemma  [ le : kbeta ] , @xmath422    by induction using , we have @xmath423 now , notice that using the above results and lemmas  [ le : mubetabetap ] , [ le : gammacont ] , and [ le : xtybar ] , @xmath424    when @xmath227 , using lemma  [ le : kbeta ] and the fact that @xmath425 , we have @xmath426 similarly , when @xmath355 , since @xmath427 , @xmath428    thus , we will have @xmath429 if @xmath430 this will be true when @xmath431 ( we have used the fact that @xmath432 . ) to complete the theorem , it suffices to show that @xmath179 is an upper bound to the right hand side of .",
    "consider the @xmath227 case .",
    "from lemma  [ le : kbeta ] , it follows that @xmath433 @xmath434 finally , @xmath435 since @xmath419 , from lemma  [ le : kbeta ] , @xmath436 .",
    "it is easy to verify that for such @xmath178 , the rational function @xmath437 satisfies @xmath438 .",
    "thus , @xmath439    for the @xmath355 case , from lemma  [ le : kbeta ] , it follows that @xmath440 @xmath441 finally , using @xmath442      theorem  [ th : preconvrate ] follows immediately from the following lemma .",
    "[ le : preconvrate ] fix @xmath319 , and pick @xmath82 so that @xmath443 assume that @xmath191 , and define @xmath444 then , @xmath179 is an @xmath129-convergence time .",
    "note that in this case , we have @xmath361 and @xmath362 , for all @xmath363 .",
    "we will follow the same strategy as the proof of lemma  [ le : convrate ] .",
    "define @xmath445 note that the matrix @xmath159 is doubly stochastic and hence non - expansive under the @xmath171 norm . then , from and the fact that @xmath413 is a fixed point , @xmath446 where the last step follows by induction .",
    "now , notice that , using the result and lemmas  [ le : xtybar ] , @xmath447    when @xmath227 , using lemma  [ le : kbeta ] and the fact that @xmath425 , we have @xmath426 similarly , when @xmath355 , since @xmath427 , @xmath428    thus , we will have @xmath429 if @xmath448 this will be true when @xmath449 ( we have used the fact that @xmath432 . ) to complete the theorem , it suffices to show that @xmath179 is an upper bound to the right hand side of .",
    "consider the @xmath227 case . from lemma  [ le : kbeta ]",
    ", it follows that @xmath450    for the @xmath355 case , from lemma  [ le : kbeta ] , it follows that @xmath451",
    "for the cycle with @xmath0 nodes , @xmath229 ."
  ],
  "abstract_text": [
    "<S> we propose _ consensus propagation _ , an asynchronous distributed protocol for averaging numbers across a network . </S>",
    "<S> we establish convergence , characterize the convergence rate for regular graphs , and demonstrate that the protocol exhibits better scaling properties than _ pairwise averaging _ , an alternative that has received much recent attention . </S>",
    "<S> consensus propagation can be viewed as a special case of belief propagation , and our results contribute to the belief propagation literature . in particular , beyond singly - connected graphs , there are very few classes of relevant problems for which belief propagation is known to converge </S>",
    "<S> .    belief propagation , distributed averaging , distributed consensus , distributed signal processing , gaussian markov random fields , message - passing algorithms , max - product algorithm , min - sum algorithm , sum - product algorithm . </S>"
  ]
}