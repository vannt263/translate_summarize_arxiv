{
  "article_text": [
    "knowledge - based systems are commonly used to store the sentences as our knowledge for the purpose of having automated reasoning such as deduction applied to them ( see e.g. , @xcite ) .",
    "deductive inference is a fundamental mode of reasoning , and usually abstracted as follows : given the knowledge base @xmath0 , assumed to capture our knowledge about the domain in question , and a query @xmath1 that is assumed to capture the situation at hand , decide whether @xmath0 implies @xmath1 , denoted by @xmath2 , which can be understood as the question : `` is @xmath1 consistent with the current state of knowledge ? ''    in this paper , we consider the interiors and exteriors of knowledge base .",
    "formally , for a given positive integer @xmath3 , the @xmath3-interior of @xmath0 , denoted by @xmath4 , is a knowledge that consists of the models ( or assignments ) @xmath5 satisfying that the @xmath3-neighbors of @xmath5 are all models of @xmath0 , and the @xmath3-exterior of @xmath0 , denoted by @xmath6 , is a knowledge that consists of the models @xmath5 satisfying that at least one of the @xmath3-neighbors of @xmath5 is a model of @xmath0 @xcite . intuitively , the interior consists of the models @xmath5 that _ strongly _ satisfy @xmath0 , since all neighbors of @xmath5 are models of @xmath0 , while the exterior consists of the models @xmath5 that _ weakly _ satisfy @xmath0 , since at least one of the @xmath3-neighbors of @xmath5 is a model of @xmath0 . here",
    "we note that @xmath5 might not satisfy @xmath0 , even if we say that it weakly satisfies @xmath0 . as mentioned in @xcite , the interiors and exteriors of knowledge base merit study in their own right , since they shed light on the structure of knowledge base .",
    "moreover , let us consider the situation in which knowledge base @xmath0 is _ not perfect _ in the sense that some sentences in @xmath0 are wrong and/or some are missing in @xmath0 ( see also @xcite ) .",
    "suppose that we use @xmath0 as a knowledge base for automated reasoning , say , deductive inference @xmath2 .",
    "since @xmath0 does not represent _ real _ knowledge @xmath7 , the reasoning result is no longer true .",
    "however , if we use the interior @xmath4 of @xmath0 as a knowledge base and have @xmath8 , then we can expect that the result is true for real knowledge @xmath7 , since @xmath4 consists of models which strongly satisfy @xmath0 . on the other hand ,",
    "if we use the exterior @xmath6 of kb as a knowledge base and have @xmath9 , then we can expect that the result is true for real knowledge @xmath7 , since @xmath10 consists of models which weakly satisfy @xmath0 . in this sense ,",
    "the interiors and exteriors help to have _ safe _ reasoning .    * main problems considered*. in this paper , we study the deductive inference for the interiors and exteriors of propositional horn theories , where horn theories are ubiquitous in computer science , cf .",
    "@xcite , and are of particular relevance in artificial intelligence and databases .",
    "it is known that important reasoning problems like deductive inference and satisfiability checking , which are intractable for arbitrary propositional theories , are solvable in linear time for horn theories ( cf .",
    "@xcite ) .",
    "more precisely , we address the following problems :    given a horn theory @xmath11 , a clause @xmath12 , and nonnegative integer @xmath3 , we consider the problems of deciding if deductive queries hold for the @xmath3-interior and exterior of @xmath11 , i.e. , @xmath13 and @xmath14 .",
    "it is well - known @xcite that a deductive query for a horn theory can be answered in linear time .",
    "note that it is intractable to construct the interior and exterior for a horn theory @xcite , and hence a direct method ( i.e. , first construct the interior ( or exterior ) and then check a deductive query ) is not possible efficiently .",
    "we contrast traditional formula - based ( syntactic ) with model - based ( semantic ) representation of horn theories .",
    "the latter form of representation has been proposed as an alternative form of representing and accessing a logical knowledge base , cf.@xcite . in model - based reasoning ,",
    "@xmath11 is represented by a subset of its models @xmath15 , which are commonly called _",
    "characteristic models_. as shown by kautz _",
    "@xcite , the deductive inference can be done in polynomial time , given its characteristic models .",
    "finally , we consider horn approximations for the exteriors of horn theories .",
    "note that the interiors of horn theories are horn , while the exteriors might not be horn .",
    "we deal with the least upper bounds , called the _ horn envelopes _",
    "@xcite , for the exteriors of horn theories .    *",
    "main results*. we investigate the problems mentioned above from an algorithmical viewpoint .",
    "for all the problems , we provide either polynomial time algorithms or proofs of the intractability ; thus , our work gives a complete picture of the tractability / intractability frontier of deduction for interiors and exteriors of horn theories .",
    "our main results can be summarized as follows ( see figure [ fig-0 ] ) .",
    "we present a linear time algorithm for the deduction for the interiors of a given horn theory , and show that it is co - np - complete for the deduction for the exteriors .",
    "thus , the positive result for ordinary deduction for horn theories extends to the interiors , but does not to the exteriors .",
    "we also show that the deduction for the exteriors is possible in polynomial time , if @xmath3 is bounded by a constant or if @xmath16 is bounded by a logarithm of the input size , where @xmath17 corresponds to the set of negative literals in @xmath12 .    under model - based representation ,",
    "we show that the consistency problem and the deduction for the interiors of horn theories are both co - np - complete . as for the exteriors ,",
    "we show that the deduction is co - np - complete .",
    "we also show that the deduction for the interiors is possible in polynomial time if @xmath3 is bounded by a constant , and so is for the exteriors , if @xmath3 or @xmath18 is bounded by a constant , or if @xmath16 is bounded by a logarithm of the input size , where @xmath19 corresponds to the set of positive literals in @xmath12 .    as for horn envelopes of the exteriors of horn theories ,",
    "we show that it is linearly solvable under model - based representation , while it is co - np - complete under formula - based representation .",
    "the former contrasts to the negative result for the exteriors .",
    "we also present a polynomial algorithm for formula - based representation , if @xmath3 is bounded by a constant or if @xmath16 is bounded by a logarithm of the input size .",
    "[ fig-0 ]    l|ccc + & interiors & exteriors &  envelopes of exteriors   +   + formula - based  & & &    +   + model - based  &   &   & +    @xmath20 : it is polynomially solvable , if @xmath21 or @xmath22 .",
    "+    @xmath23 : it is polynomially solvable , if @xmath21 .",
    "+    @xmath24 : it is polynomially solvable , if @xmath21 , @xmath25 , or @xmath26 .",
    "the rest of the paper is organized as follows . in the next section ,",
    "we review the basic concepts and fix notations . sections [ sec : formulabase ] and [ sec - char ] investigate the deductive inference for the interiors and exteriors of horn theories .",
    "section [ sec - env ] considers the deductive inference for the envelopes of the exteriors of horn theories .",
    "we assume a standard propositional language with atoms @xmath27 , where each @xmath28 takes either value @xmath29 ( true ) or @xmath30 ( false ) . a _",
    "literal _ is either an atom @xmath28 or its negation , which we denote by @xmath31 .",
    "the opposite of a literal @xmath32 is denoted by @xmath33 , and the opposite of a set of literals @xmath34 by @xmath35 .",
    "furthermore , @xmath36 denotes the set of all literals .",
    "a _ clause _ is a disjunction @xmath37 of literals , where @xmath19 and @xmath17 are the sets of indices whose corresponding variables occur positively and negatively in @xmath12 and @xmath38 .",
    "dually , a _ term _ is conjunction @xmath39 of literals , where @xmath40 and @xmath41 are similarly defined",
    ". we also view clauses and terms as sets of literals .",
    "conjunctive normal form _",
    "( _ cnf _ ) is a conjunction of clauses .",
    "a clause @xmath12 is _ horn _ , if @xmath42 .",
    "a _ theory _",
    "@xmath11 is any set of formulas ; it is _ horn _ , if it is a set of horn clauses . as usual",
    ", we identify @xmath11 with @xmath43 , and write @xmath44 etc .",
    "it is known @xcite that the deductive query for a horn theory , i.e. , deciding if @xmath45 for a clause @xmath12 is possible in linear time .",
    "we recall that horn theories have a well - known semantic characterization .",
    "a _ model _ is a vector @xmath46 , whose @xmath47-th component is denoted by @xmath48 . for a model @xmath5 ,",
    "let @xmath49 and @xmath50 .",
    "the value of a formula @xmath51 on a model @xmath5 , denoted @xmath52 , is inductively defined as usual ; satisfaction of @xmath51 in @xmath5 , i.e. , @xmath53 , will be denoted by @xmath54 .",
    "the set of models of a formula @xmath51 ( resp . , theory @xmath11 ) , denoted by @xmath55 ( resp . , @xmath56 ) , and logical consequence @xmath57 ( resp . , @xmath58",
    ") are defined as usual . for two models @xmath5 and @xmath59 , we denote by @xmath60 the usual componentwise ordering , i.e. , @xmath61 for all @xmath62 , where @xmath63 ; @xmath64 means @xmath65 and @xmath60 .",
    "denote by @xmath66 componentwise and of models @xmath67 , and by @xmath68 the closure of @xmath69 under @xmath70 .",
    "then , a theory @xmath11 is horn representable if and only if @xmath71 ( see @xcite ) for proofs ) .",
    "consider @xmath72 and @xmath73 , @xmath74 @xmath75 @xmath76 @xmath77 . then , for @xmath78 , @xmath79 , we have @xmath80 , while @xmath81 ; hence @xmath82 is not the set of models of a horn theory . on the other hand , @xmath83 , thus @xmath84 for some horn theory @xmath85",
    ".    as discussed by kautz _",
    "et  al . _",
    "@xcite , a horn theory @xmath11 is semantically represented by its characteristic models , where @xmath86 is called _ characteristic _ ( or _ extreme _",
    "@xcite ) , if @xmath87 .",
    "the set of all such models , the _ characteristic set of @xmath11 _ , is denoted by @xmath88 .",
    "note that @xmath88 is unique .",
    "e.g. , @xmath89 , while @xmath90 ; we have @xmath91 .",
    "it is known @xcite that the deductive query for a horn theory @xmath11 from the characteristic set @xmath88 can be done in linear time , i.e. , @xmath92 time .      for a model @xmath93 and a nonnegative integer @xmath3 , its _",
    "@xmath3-neighborhood _ is defined by @xmath94 where @xmath95 denotes @xmath96 .",
    "note that @xmath97 .",
    "for a theory @xmath11 and a nonnegative integer @xmath3 , the @xmath3-interior and @xmath3-exterior of @xmath11 , denoted by @xmath98 and @xmath99 respectively , are theories defined by @xmath100 by definition , @xmath101 , @xmath102 for integers @xmath3 and @xmath103 with @xmath104 , and @xmath105 holds for any integer @xmath3 , if two theories @xmath106 and @xmath85 satisfy @xmath107 .",
    "[ ex-2 ] let us consider a horn theory @xmath108 of @xmath109 variables , where @xmath56 is given by @xmath110 ( see figure [ fig - ex - aa ] ) .",
    "then we have @xmath111 for @xmath112 , @xmath113 for @xmath114 , @xmath11 for @xmath115 , @xmath116 for @xmath117 , and @xmath118 for @xmath119 .",
    "for example , @xmath120 is the unique model of @xmath121 , since @xmath122 and @xmath123 holds for all the other models @xmath5 . for the @xmath29-exterior",
    ", we can see that all models @xmath5 with @xmath124 satisfy @xmath125 , and no other such model exists .",
    "for example , @xmath126 is a model of @xmath127 , since @xmath128 . on the other hand",
    ", @xmath129 is not a model of @xmath127 , since @xmath130 .",
    "notice that @xmath131 is horn , while @xmath127 is not .        makino and",
    "ibaraki @xcite introduced the interiors and exteriors to analyze stability of boolean functions , and studied their basic properties and complexity issues on them ( see also @xcite ) .",
    "for example , it is known @xcite that , for a theory @xmath11 and nonnegative integers @xmath3 and @xmath103 , @xmath132 , @xmath133 , and @xmath134 for a nonnegative integer @xmath3 and two theories @xmath106 and @xmath85 , we have @xmath135 where @xmath136 holds in general .    as demonstrated in example [ ex-2 ] , it is not difficult to see that the interiors of any horn theory are horn , which is , for example , proved by ( [ eq-1 ] ) and lemma [ prop3 ] , while the exteriors might be not horn .",
    "in this section , we investigate the deductive inference for the interiors and exteriors of a given horn theory .",
    "let us first consider the deduction for the @xmath3-interiors of a horn theory : given a horn theory @xmath11 , a clause @xmath12 , and a positive integer @xmath3 , decide if @xmath137 holds .",
    "we show that the problem is solvable in linear time after showing a series of lemmas .",
    "the following lemma is a basic property of the interiors .",
    "[ prop3 ] let @xmath12 be a clause .",
    "then for a nonnegative integer @xmath3 , we have @xmath138 .    for example",
    ", let us consider @xmath139 , @xmath140 .",
    "then we have @xmath141 .",
    "this lemma , together with ( [ eq-1 ] ) , implies that for a cnf @xmath51 and a nonnegative integer @xmath3 , we have @xmath142 where we regard @xmath12 as a set of literals .",
    "[ lemma-2 ] let @xmath11 be a horn theory , and let @xmath12 be a clause . for a nonnegative integer @xmath3 , if there exists a clause @xmath143 such that @xmath144 or @xmath145 and @xmath146 , then we have @xmath13 .    if @xmath11 has a clause @xmath147 such that @xmath144 , then @xmath148 holds .",
    "thus by lemma [ prop3 ] , we have @xmath149 .",
    "therefore , by ( [ eq-1 ] ) , @xmath13 holds .    on the other hand ,",
    "if @xmath11 has a clause @xmath147 such that @xmath150 and @xmath151 , then by lemma [ prop3 ] , we have @xmath152 .",
    "therefore , by ( [ eq-1 ] ) , @xmath13 holds .",
    "[ lemma-1 ] let @xmath11 be a horn theory , and let @xmath12 be a clause .",
    "for a nonnegative integer @xmath3 , if ( i ) @xmath153 holds for all @xmath143 and ( ii ) @xmath154 holds for all @xmath143 with @xmath155 , then we have @xmath156 .",
    "let @xmath5 be the unique minimal model that does not satisfy @xmath12 , i.e. , @xmath157 if @xmath158 and @xmath30 , otherwise .",
    "we show that @xmath159 , which implies @xmath156 .",
    "let @xmath147 be a clause in @xmath11 with @xmath160 , and let @xmath161 be a term obtained by conjuncting arbitrary @xmath162 literals in @xmath163 .",
    "then we have @xmath164 and @xmath165 by lemma [ prop3 ] .",
    "on the other hand , for a clause @xmath147 in @xmath11 with @xmath155 , let @xmath161 be a term obtained by conjuncting all literals in @xmath166 .",
    "then we have @xmath167 and @xmath165 by lemma [ prop3 ] .",
    "moreover , it holds that @xmath164 by @xmath168 .",
    "therefore , by ( [ eq-1 ] ) , we have @xmath159 .    by lemmas [ lemma-2 ] and [ lemma-1 ] , we can easily answer the deductive queries , if @xmath11 satisfies certain conditions mentioned in them . in the remaining case",
    ", we have the following lemma .    [ lemma-3 ] for a horn theory @xmath11 that satisfies none of the conditions in lemmas [ lemma-2 ] and [ lemma-1 ] ,",
    "let @xmath147 be a clause in @xmath11 such that @xmath169 , and @xmath170",
    ". then @xmath171 holds .    by lemma [ prop3 ]",
    ", we have @xmath172 .",
    "this implies @xmath171 by ( [ eq-1 ] ) .    from this lemma , we have only to check a deductive query @xmath173 , instead of @xmath137 . since @xmath174 , we can answer the deduction by checking the conditions in lemmas [ lemma-2 ] and [ lemma-1 ] at most @xmath175 times .",
    "input : : :    a horn theory @xmath11 , a clause @xmath12 and a    nonnegative integer @xmath3 .",
    "output : : :    yes , if @xmath13 ; otherwise ,    no . step0 .",
    ": :    let @xmath176 and @xmath177 .",
    ": :    / * check the condition in lemma [ lemma-2 ] .",
    "* / +    * if * there exists a clause @xmath143 such that    @xmath178 or @xmath179 and    @xmath180 , * then * output yes and halt . step2 .",
    ": :    / * check the condition in lemma [ lemma-1 ] .",
    "* / +    * if * @xmath181 holds for all    @xmath143 with    @xmath182 , * then * output no and halt .",
    ": :    / * update @xmath183 by lemma [ lemma-3 ] . * / +    for a clause @xmath147 in @xmath11 such that    @xmath184 and @xmath185 ,    update @xmath186 and return to step 1 .",
    "we can see that a straightforward implementation of the algorithm requires @xmath187 time , where @xmath188 denotes the length of @xmath11 , i.e. , @xmath189 .",
    "however , it is not difficult to see that we have a linear time algorithm for the problem , if @xmath190 for @xmath143 is maintained by using the proper data structure .",
    "[ th - interior - horn - theory ] given a horn theory @xmath11 , a clause @xmath12 and a nonnegative integer @xmath3 , a deductive query @xmath13 can be answered in linear time , i.e. , @xmath191 time .",
    "let us next consider the deduction for the @xmath3-exteriors of a horn theory .",
    "in contrast to the interior case , we have the following negative result .",
    "[ theo : int : f : g ] given a horn theory @xmath11 , a clause @xmath12 and a positive integer @xmath3 , it is co - np - complete to decide whether a deductive query @xmath192 holds , even if @xmath193 .    by definition , @xmath194 if and only if there exists a model @xmath5 of @xmath11 such that some model in @xmath195 does not satisfy @xmath12 .",
    "the latter is equivalent to the condition that there exists a model @xmath5 of @xmath11 such that @xmath196 , which can be checked in polynomial time .",
    "thus the problem is in co - np .",
    "we then show the hardness by reducing a well - known np - complete problem independent set to the complement of our problem .",
    "independent set is the problem of deciding if a given graph @xmath197 has an independent set @xmath198 such that @xmath199 for a given integer @xmath200 . here",
    "we call a subset @xmath201 is an",
    "_ independent set _ of @xmath202 if @xmath203 for all edges @xmath204 . for",
    "a problem instance @xmath205 and @xmath200 of independent set , let us define a horn theory @xmath206 over @xmath207 by @xmath208 let @xmath209 and @xmath210 .",
    "note that @xmath211 is the unique model that does not satisfy @xmath12 .",
    "thus @xmath212 if and only if @xmath213 .",
    "since @xmath214 is an independent set of @xmath202 if and only if @xmath215 contains a model @xmath59 defined by @xmath216 , @xmath217 is equivalent to the condition that @xmath202 has an independent set of size at least @xmath218 .",
    "this completes the proof .",
    "we remark that this result can also be derived from the ones in @xcite .",
    "however , by using the next lemma , a deductive query can be answered in polynomial time , if @xmath3 or @xmath17 is small .",
    "[ intex ] let @xmath106 and @xmath85 be theories .",
    "for a nonnegative integer @xmath3 , then @xmath219 if and only if @xmath220 .",
    "for the if part , if @xmath221 , then we have @xmath222 @xmath223 by ( [ eq0 ] ) .",
    "on the other hand , if @xmath219 , then we have @xmath224 by ( [ eq0 ] ) .    from lemma [ intex ] , the deductive query for the @xmath3-interior of a theory @xmath11 ,",
    "i.e. , @xmath225 for a given clause @xmath12 is equivalent to the condition that @xmath226 .",
    "since we have @xmath227 by lemma [ prop3 ] , the deductive query for the @xmath3-interior can be done by checking @xmath228 deductions for @xmath11 .",
    "more precisely , we have the following lemma .",
    "[ lemma - adfe ] let @xmath11 be a horn theory , let @xmath12 be a clause , and @xmath3 be a nonnegative integer",
    ". then @xmath229 holds if and only if , for each subset @xmath230 of @xmath17 such that @xmath231 , at least @xmath232 @xmath233 s in @xmath19 satisfy @xmath234 .    from lemmas [ prop3 ] and [ intex ] , @xmath192 if and only if @xmath235",
    "it is known that for a horn theory @xmath11 and clause @xmath147 , @xmath236 if and only if @xmath237 holds for some @xmath238 ( i.e. , all the prime implicates of horn theory are horn ) .",
    "this proves the lemma .",
    "this lemma implies that the deductive query can be answered by checking the number of @xmath233 s in @xmath19 that satisfy @xmath234 for each @xmath230 .",
    "since we can check this condition in linear time and there are @xmath239 such @xmath230 s , we have the following result , which complements theorem [ theo : int : f : g ] that the problem is intractable , even if @xmath193 .    [ th - adfe ]",
    "let @xmath11 be a horn theory , let @xmath12 be a clause , and let @xmath3 be a nonnegative integer .",
    "then a deductive query @xmath192 can be answered in @xmath240 time . in particular",
    ", it is polynomially solvable , if @xmath21 or @xmath22 .",
    "in this section , we consider the case when horn knowledge bases can be represented by characteristic sets",
    ". different from formula - based representation , the deductions for interiors and exteriors are both intractable , unless p = np .",
    "we first present an algorithm to solve the deduction problem for the interiors of horn theories .",
    "the algorithm requires exponential time in general , but it is polynomial when @xmath3 is small .    let @xmath11 be a horn theory given by its characteristic set @xmath88 , and let @xmath12 be a clause . then for a nonnegative integer @xmath3 , we have @xmath241 let @xmath242 be a unique minimal model such that @xmath243 ( i.e. , @xmath244 ) . by the definition of interiors , @xmath242 is a model of @xmath98 if and only if all @xmath5 s in @xmath245 are models of @xmath11 .",
    "therefore , for each model @xmath5 in @xmath245 , we check if @xmath246 , which is equivalent to @xmath247 if ( [ eq : extmodel ] ) holds for all models @xmath5 in @xmath245 , then we can immediately conclude by ( [ eq - model-1 ] ) that @xmath248 . on the other hand , if there exists a model @xmath5 in @xmath245 such that ( [ eq : extmodel ] ) does not hold , let @xmath249 . by definition , we have @xmath250 , and we can see that @xmath251 if @xmath252 , then by lemma [ prop3 ] and ( [ eq - aaae ] ) , we have @xmath253 , since @xmath254 .",
    "this implies @xmath13 . on the other hand ,",
    "if @xmath255 , then by lemma [ prop3 ] and ( [ eq - aaae ] ) , we have @xmath256 for all @xmath257 .",
    "thus , if @xmath258 contains an index in @xmath19 , then we can conclude that @xmath13 ; otherwise , we check the condition @xmath259 , instead of @xmath13 .",
    "since a new clause @xmath260 is longer than @xmath12 , after at most @xmath175 iterations , we can answer the deductive query .",
    "formally , our algorithm can be described as algorithm [ alg : dic ] .",
    "input : : :    the characteristic set @xmath88 of a    horn theory @xmath11 , a clause @xmath12 and a    nonnegative integer @xmath3 .",
    "output : : :    yes , if @xmath13 ; otherwise ,    no . step0 .",
    ": :    let @xmath176 , @xmath261 and @xmath262 .",
    ": :    let @xmath242 be the unique minimal model such that    @xmath263 .",
    ": :    * for * each @xmath5 in    @xmath245 * do * +    ( [ eq : extmodel ] ) does not hold , +    let @xmath264 , @xmath265 and +    @xmath266 +    @xmath267 , * then * output yes    and halt .",
    "+    let @xmath268 and    @xmath269 .",
    "+    go to step 1 .",
    "+    @xmath270for@xmath271 step3 .",
    ": :    output no and halt .",
    "[ th - interior - charset ] given the characteristic model @xmath88 of a horn theory @xmath11 , a clause @xmath12 and a nonnegative integer @xmath3 , a deductive query @xmath13 can be answered in @xmath272 time . in particular",
    ", it is polynomially solvable , if @xmath21 .",
    "since we can see algorithm deduction - interior - from - charset correctly answers a deductive query from the discussion before the description , we only estimate the running time of the algorithm .",
    "steps 0 , 1 and 3 require @xmath273 time .",
    "step 2 requires @xmath274 time , since ( [ eq : extmodel ] ) can be checked in @xmath92 time . since we have at most @xmath175 iterations between steps 1 and 2 , the algorithm requires @xmath272 time .    however , in general , the problem is intractable , which contrasts with the formula - model representation .",
    "[ theo - interior - char ] given the characteristic set @xmath88 of a horn theory @xmath11 and a positive integer @xmath3 , it is co - np - complete to decide whether @xmath98 is consistent , i.e. , @xmath275 .",
    "let us first show the co - np - completeness of the problem .",
    "apply algorithm deduction - interior - from - charset to the instance ( @xmath88 , @xmath276 , @xmath3 ) .",
    "if @xmath98 is not consistent , then the algorithm constructs vectors @xmath277 , @xmath278 , in step 2",
    ". we can see that these vectors form a witness to the inconsistency of @xmath98 .",
    "in fact , if we are given these vectors , the inconsistency can be checked in polynomial time .",
    "this implies that the problem belongs to co - np .",
    "we show the co - np - hardness by reducing independent set to our problem .",
    "given a problem instance @xmath205 and @xmath200 of independent set , let us define a horn theory @xmath215 over @xmath279 @xmath280 by @xmath281 where @xmath282 and @xmath283 are respectively the vectors defined by @xmath284 and @xmath285 .",
    "let @xmath286 .",
    "note that @xmath206 is a negative theory , and hence @xmath287 is consistent if and only if @xmath288 is a model of @xmath287 .",
    "moreover , the latter condition is equivalent to the one that @xmath202 has no independent set of size at least @xmath218 .",
    "this completes the proof .",
    "this result immediately implies the following corollary .",
    "[ cor - interior - char ] given the characteristic set @xmath88 of a horn theory @xmath11 , a clause @xmath12 and a positive integer @xmath3 , it is np - complete to decide whether a deductive query @xmath13 holds , even if @xmath276 .",
    "note that , different from the other hardness results , the hardness is not sensitive to the size of @xmath12 .",
    "let us consider the exteriors .",
    "similarly to the formula - based representation , we have the following negative result .",
    "[ theo - exterior - char ] given the characteristic set @xmath88 of a horn theory @xmath11 , a clause @xmath12 and a positive integer @xmath3 , it is co - np - complete to decide if a deductive query @xmath192 holds .    from lemmas [ prop3 ] and [ intex ] , @xmath289 if and only if there exists a subclause @xmath147 of @xmath12 such that @xmath290 and @xmath291 .",
    "this @xmath147 is a witness that the problem belongs to co - np .",
    "we then show the hardness by a reduction from vertex cover which is known to be np - hard .",
    "vertex cover is the problem to decide if a given graph @xmath197 has a vertex cover @xmath292 such that @xmath293 for a given integer @xmath294 . here",
    "@xmath295 is called _ vertex cover _ if @xmath296 holds for all @xmath204 . for this problem instance",
    ", we construct our problem instance . for each @xmath204 , let @xmath297 , and let @xmath298 . let @xmath299 , @xmath300 , be a model over @xmath301 such that @xmath302 and let @xmath88 be the characteristic set for some horn theory @xmath11 defined by @xmath303 .",
    "we define @xmath12 and @xmath3 by @xmath304 respectively . for this instance",
    ", we show that @xmath305 if and only if the corresponding @xmath202 has a vertex cover @xmath292 of size at most @xmath306 .    for the if part , let @xmath292 be such a vertex cover of @xmath202 . for this @xmath292 ,",
    "we consider model @xmath307 , which is a model of @xmath11 by the intersection property of a horn theory .",
    "note that @xmath308 does not satisfy a clause @xmath309 . since @xmath147 is a subclause of @xmath12 of length at least @xmath310",
    ", @xmath308 is not a model of @xmath311 by lemma [ prop3 ] .",
    "this completes the if part by lemma [ intex ] .    for",
    "the only - if part , let us assume that @xmath312 .",
    "then by lemmas [ prop3 ] and [ intex ] , there exists a subclause @xmath147 of @xmath12 such that @xmath290 and @xmath291 .",
    "this implies that @xmath313 contains a model @xmath314 .",
    "by @xmath315 , for each @xmath204 , there exist an index @xmath233 in @xmath316 such that @xmath317 .",
    "since any model @xmath318 in @xmath11 satisfy either @xmath319 or @xmath320 for all @xmath321 , we have @xmath322 for all @xmath323 .",
    "this means that @xmath324 is a vertex cover of @xmath202 , and since @xmath325 , we have the only - if part .    by using lemma [ lemma - adfe ]",
    ", we can see that the problem can be solved in polynomial time , if @xmath3 or @xmath16 is small .",
    "namely , for each subset @xmath230 of @xmath17 such that @xmath231 , let @xmath326 denotes the model such that @xmath327 .",
    "then @xmath328 is the unique minimal model of @xmath11 such that @xmath329 , and hence it follows from lemma [ lemma - adfe ] that it is enough to check if @xmath330 .",
    "clearly , this can be done in in @xmath331 time .    moreover ,",
    "if @xmath18 is small , then the problem also become tractable , which contrasts with theorem [ theo : int : f : g ] .",
    "[ lemma - adfe2 ] let @xmath11 be a horn theory , let @xmath12 be a clause , and @xmath3 be a nonnegative integer",
    ". then @xmath229 holds if and only if each @xmath332 such that @xmath333 satisfies @xmath334 for all models @xmath59 of @xmath11 such that @xmath335 .",
    "note that ( [ eq : adfe2 ] ) is monotone in the sense that , if a model @xmath59 satisfies ( [ eq : adfe2 ] ) , then all models @xmath5 with @xmath64 also satisfy it .",
    "thus it is sufficient to check if ( [ eq : adfe2 ] ) holds for all _ maximal _ models @xmath59 of @xmath11 such that @xmath335 . since such maximal models",
    "@xmath59 can be obtained from @xmath336 @xmath337 with @xmath338 by their intersection @xmath339 , we can answer the deduction problem in @xmath340 time .",
    "[ th - adfea ] given the characteristic set @xmath88 of a horn theory , a clause @xmath12 , and a nonnegative integer @xmath3 , a deductive query @xmath192 can be answered in @xmath341 time . in particular , it is polynomially solvable , if @xmath21 , @xmath25 , or @xmath342 .",
    "we have considered the deduction for the interiors and exteriors of horn theories .",
    "as mentioned before , the interiors of horn theories are also horn , while this does not hold for the exteriors .",
    "this means that the exteriors of horn theories might lose beneficial properties of horn theories .",
    "one of the ways to overcome such a hurdle is _ horn approximation _ , that is , approximating a theory by a horn theory  @xcite .",
    "there are several methods for approximation , but one of the most natural ones is to approximate a theory by its _",
    "horn envelope_. for a theory @xmath11 , its _ horn envelope _ is the horn theory @xmath343 such that @xmath344 .",
    "since horn theories are closed under intersection , horn envelope is the least horn upper bound for @xmath11 , i.e. , @xmath345 and there exists no horn theory @xmath346 such that @xmath347 . in this section , we consider the deduction for horn envelopes of exteriors of horn theories , i.e. , @xmath348 .          by definition , @xmath350 holds . for the converse direction ,",
    "let @xmath242 be a model of horn envelope of the @xmath3-exterior , i.e. , @xmath351 .",
    "then @xmath242 can be represented by @xmath352 for some @xmath353 .",
    "assume that @xmath354 is contained in @xmath355 for some model @xmath356 of @xmath11 .",
    "since such a @xmath356 can be represented by @xmath357 for some @xmath358 , @xmath59 belongs to @xmath359 .",
    "this , together with @xmath352 , implies that @xmath242 also belongs to @xmath360 .    for a clause @xmath12 ,",
    "let @xmath242 be the unique minimal model such that @xmath243 .",
    "we recall that , for a horn theory @xmath361 , @xmath362 therefore , proposition [ prop:1 ] immediately implies an algorithm for the deduction for @xmath363 from @xmath88 , since we have @xmath364 .",
    "however , for a general @xmath3 , @xmath365 is exponentially larger than @xmath88 , and hence this direct method is not efficient .",
    "the following lemma helps developing a polynomial time algorithm .",
    "[ lemma - envelope - char1 ]",
    "let @xmath11 be a horn theory , let @xmath12 be a clause , and let @xmath3 be a nonnegative integer",
    ". then @xmath348 holds if and only if the following two conditions are satisfied .      to show the",
    "if part , let us first assume that ( i ) and ( ii ) in the lemma holds . let @xmath5 be a model in @xmath88 such that @xmath371 .",
    "then all models @xmath59 in @xmath372 satisfy @xmath373 . therefore ,",
    "if all the models @xmath5 in @xmath88 satisfy @xmath371 , then by proposition [ prop:1 ] , we have @xmath374 for any model @xmath59 of @xmath363 .",
    "this implies @xmath348 .",
    "therefore , let us consider the case when @xmath375 is not empty .",
    "let @xmath242 be the unique minimal model such that @xmath243 .",
    "then by proposition [ prop:1 ] , we have @xmath376 since @xmath19 is not covered with @xmath369 for models @xmath5 in @xmath230 , this , together with ( [ eq - yyy ] ) implies @xmath377 .",
    "let us next show the only - if part .",
    "assume that ( i ) is satisfied , but ( 2 ) is not .",
    "then ( [ eq - yyy ] ) and ( [ eq - oo ] ) imply @xmath378 . on the other hand ,",
    "if ( 1 ) is not satisfied , i.e. , there exists a @xmath379 such that @xmath380 , let @xmath336 , @xmath381 , be a model in @xmath372 such that @xmath382 and @xmath383 , and let @xmath384 .",
    "then we have @xmath385 and @xmath386 by proposition [ prop:1 ] .",
    "this implies @xmath378 .",
    "we remark that this contrasts with corollary [ cor - interior - char ] .",
    "namely , if we are given the characteristic set @xmath88 of a horn theory @xmath11 , @xmath348 is polynomially solvable , while it is co - np - complete to decide if @xmath192 .",
    "recall that a _ negative _ theory ( i.e. , a theory consisting of clauses with no positive literal ) is horn and the exteriors of negative theory are also negative , and hence horn .",
    "this means that , for a negative theory @xmath11 , we have @xmath387 .",
    "therefore , we can again make use of the reduction in the proof of theorem [ theo : int : f : g ] , since the reduction uses negative theories .",
    "let @xmath5 be a model of @xmath363 .",
    "then @xmath5 can be represented by @xmath389 for some @xmath390 . since @xmath391 by proposition [ prop:1 ] , we have @xmath392 for some @xmath393 . we claim that there exists such a representation that @xmath394 holds for all @xmath59 s in ( [ eq - last1 ] ) .",
    "let @xmath395 , and let @xmath396 and @xmath397 .",
    "then we have @xmath398 , where @xmath399 denotes the @xmath47th unit model . since @xmath400 for all @xmath401 , the claim is proved .",
    "note that @xmath378 if and only if there exists a model @xmath5 of @xmath363 such that @xmath402 . since any model @xmath5 of @xmath363 can be represented by @xmath403 for some @xmath393 with @xmath404 by our claim , the problem is in co - np .",
    "input : : :    a horn theory @xmath11 , a clause @xmath12 and a    nonnegative integer @xmath3 .",
    "output : : :    yes , if @xmath348 ;    otherwise , no . step1 .",
    ": :    / * check if there exists a model @xmath5 of    @xmath11 such that    @xmath405 . *",
    "/ +    * for * each @xmath406 with    @xmath407 * do * +     +    so , * then * output no and halt . +    * end*@xmath270for@xmath271 step2 .",
    ": :    / * check if there exists a set @xmath408    such that    @xmath409 .    * / +    let @xmath410 .",
    "+    * for * each @xmath406 with    @xmath411 * do * +     +    update @xmath412 .",
    "+    * end*@xmath270for@xmath271 +    * if * @xmath413 , * then * output no and halt .",
    ": :    output yes and halt .",
    "the algorithm is based on a necessary and sufficient condition for @xmath348 , which is obtained from lemma [ lemma - envelope - char1 ] by replacing all @xmath88 s with @xmath56 s .",
    "it is not difficult to see that such a condition holds from the proof of lemma [ lemma - envelope - char1 ] .",
    "[ theo - env - interiro - cnf2 ] given a horn theory @xmath11 , a clause @xmath12 , and a nonnegative integer @xmath3 , a deductive query @xmath348 can be answered in @xmath414 time . in particular , it is polynomially solvable , if @xmath21 or @xmath415 .",
    "the correctness of the algorithm follows from the discussion after its description . for the time complexity",
    ", it is known @xcite that the satisfiability problem , together with computing a unique minimal model for a horn theory , is possible in linear time .",
    "since the number of the iterations of for - loops in steps 2 and 3 are bounded by @xmath416 and @xmath417 , respectively , the algorithm requires @xmath418 time .",
    "d.  kavvadias , c.  papadimitriou , and m.  sideri . .",
    "in w.  ng , editor , _ proceedings 4th international symposium on algorithms and computation ( isaac-93 ) _ , lncs 762 , pages 399405 , hong kong , december 1993 . springer .",
    "k. makino and t. ibaraki , interior and exterior functions of boolean functions , _ discrete applied mathematics , _ 69 ( 1996 ) 209231 .",
    "k. makino , h. ono and t. ibaraki , interior and exterior functions of positive boolean functions , _ discrete applied mathematics , _ 130 ( 2003 ) 417436 ."
  ],
  "abstract_text": [
    "<S> in this paper , we investigate the deductive inference for the interiors and exteriors of horn knowledge bases , where the interiors and exteriors were introduced by makino and ibaraki @xcite to study stability properties of knowledge bases . </S>",
    "<S> we present a linear time algorithm for the deduction for the interiors and show that it is co - np - complete for the deduction for the exteriors . under model - based representation , we show that the deduction problem for interiors is np - complete while the one for exteriors is co - np - complete . as for horn envelopes of the exteriors , </S>",
    "<S> we show that it is linearly solvable under model - based representation , while it is co - np - complete under formula - based representation . </S>",
    "<S> we also discuss the polynomially solvable cases for all the intractable problems . </S>"
  ]
}