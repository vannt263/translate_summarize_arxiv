{
  "article_text": [
    "balancing flows over different routes , commonly referred to as _ multipath routing _",
    ", bears important advantages .",
    "first , it makes the network more robust , because in case of a link failure , the flow can still use bandwidth on its other routes .",
    "also , under multipath routing the resources of the network are used more efficiently since overcongested flows have more flexibility to spread their traffic over undercongested parts of the network . in this paper",
    "we want to elaborate on the latter aspect .",
    "questions we are particularly interested in are : how are the resources shared under multipath routing , what causes congestion , and how are these congestion phenomena affected by the number of routes that a flow can use ?    recently ,",
    "multipath routing has attracted substantial attention from the research community .",
    "we specifically mention here models that consider the flow - level , i.e. , the timescale at which the number of flows stochastically changes : flows arrive at the network , use a set of links for a while , and then leave .",
    "flows can be divided into streaming and elastic flows : _ streaming _ flows ( voice , real - time video ) are essentially characterized by their duration and the rate they transmit at ; on the other hand , _ elastic _ flows ( predominantly data ) are characterized by their size , while their transmission rate is a function of the level of congestion in the network .",
    "an implicit assumption in flow - level models is that of _ separation of time - scales _ , meaning that the time it takes for the rate to adapt is negligible compared to changes at the flow - level",
    ". a flow - level model for multipath routing , which integrates elastic and streaming traffic , is due to key and massouli @xcite ; models in the context of rate control can be found in the work by kelly and voice @xcite .",
    "in this paper we consider multipath routing at the flow - level in networks with routes of length one , adopting the model of @xcite for coordinated multipath routing . here _ coordinated _ multipath routing means that rates are allocated so as to maximize the utilities of the total rates that flows obtain .",
    "this is in contrast with uncoordinated multipath routing , where flows on different routes are treated as different users ; then one maximizes the utilities of the rates that a flow achieves on each route .",
    "as pointed out in @xcite , such an uncoordinated mechanism generally leads to inferior performance . there a fluid limit for the model of integrated streaming and elastic traffic was established , and uniqueness of the equilibrium point was proven .",
    "a first contribution of our work is that we consider a perhaps more realistic model in which the elastic flows have an upper bound they can transmit at . imposing such",
    "a peak rate has significant advantages when analyzing the model @xcite ; in addition it has a natural interpretation , as the constraint on the rate can be thought of as the rate of the bottleneck link ( for instance the access rate ) . for this model",
    "we establish a fluid limit , and prove existence and uniqueness of an equilibrium point ; in addition we describe a ( finite ) algorithm that finds this equilibrium point .",
    "one of the difficulties in the analysis of multipath routing , is that the rate allocation can not be given explicitly , even when the number of flows is fixed ; instead , it follows by solving an optimization problem .",
    "additionally , this optimization problem contains further variables , determining how users split their flow on different routes , for which there is in general no unique solution .",
    "the second contribution of this paper , is that we ease this analysis by finding generalized cut constraints for the case of routes of length one .",
    "these generalized cut constraints assume there are certain cuts , i.e. , subsets of resources , of the network that give sufficient constraints to determine the feasibility of a flow .",
    "introducing these reduces the optimization problem to one with the total rates being the only variables over which we are optimizing . in the rate allocation for a given number of flows",
    ", we identify a clustering of flows and resources .",
    "the generalized cut constraints enable us to construct an algorithm that finds the rate allocation and the clustering explicitly .",
    "in this context we will also find an expression for the minimal and maximal rates .",
    "related to the question how flows share resources in a multipath network , a crucial concept is _ complete resource pooling , _ which is a state in which the network behaves as if all resources are pooled together , with every user having access to it .",
    "it is clearly desirable to achieve this state , as then resources can be shared fairly among all flows and , due to the concavity of the utility functions we are using , in the most utility - efficient way .",
    "( also , this implies that if a network is already in complete resource pooling then increasing the number of routes that a flow can use does not change the rate allocation since the network already operates in the best possible way .",
    "however , increasing the number of routes will make it more likely for the network to be in a complete resource pooling state .",
    ") complete resource pooling was already studied by , e.g. , laws @xcite and turner @xcite for networks where users must use one route only but have a set of possible routes to choose from . in this paper",
    ", we give explicit conditions for the equilibrium point of the fluid limit to be of the complete - resource - pooling type .",
    "our last contribution relates to the purely symmetric circle network .",
    "each flow is allowed to use @xmath0 given routes ; we call the network a _ circle _ network as the resources can be arranged in a circle",
    ". this setup is reminiscent of the supermarket model by mitzenmacher @xcite , where every flow chooses one of a set of @xmath0 randomly chosen routes ; we believe our model is the more natural one , as users would naturally choose from a set of routes in their proximity .",
    "we study the effect increasing @xmath0 , the number of routes that a flow can use , has on congestion in the network .",
    "to this end we define ` congestion ' as the event that there is a flow that can transmit at a rate of at most some small value @xmath1 .",
    "we then investigate in what kind of cluster this congestion event is most likely to occur . using diffusion - based estimates ,",
    "we derive expressions for the corresponding probabilities , and conclude that , as the size of the network grows large , the cluster with highest probability of congestion has size @xmath2 .",
    "the outline of the paper is as follows . in _ section 2 _",
    "we introduce the model of multipath routing in general networks .",
    "we describe the optimization problem that gives the rate allocation for a given number of flows . for the case of routes of length one",
    "we describe the clustering in the rate allocation , and introduce notions of connected and strongly connected sets . in this context",
    "we also introduce the generalized cut constraints .",
    "_ section  3 _ further investigates the rate allocation , for a given number of flows .",
    "we develop the algorithm that identifies this allocation , which also gives explicit expressions for the maximum and minimum rate ( over all flows ) , as well as a lower bound on the rate allocated to each of the flows .    in _ section 4 _",
    "we then move to the model that incorporates a flow level , and which involves streaming and ( peak - rate constrained ) elastic traffic , as described above . in the scenario of streaming traffic only , the stationary distribution of the corresponding markov chain is given explicitly , but for the other cases this is infeasible .",
    "we therefore resort to fluid limits in _",
    "section 5_. after briefly reviewing the results of @xcite , we specifically consider the fluid limit for peak - rate constraint elastic traffic , and prove the uniqueness of an equilibrium point .",
    "we also introduce the concept of complete resource pooling , and provide conditions for the equilibrium point of the fluid limit to be in complete resource pooling for both cases , with integrated streaming and elastic traffic and with peak - rate constraint elastic traffic .    in _",
    "section 6 _ we turn to the diffusions around the equilibrium point .",
    "we explicitly establish the diffusion limit for the purely symmetric circle network .",
    "we will calculate the covariance matrix of the stationary distribution that belongs to this diffusion . relying on these estimates , we present expressions for the probabilities",
    "that congestion occurs ( that is , some transmission rates are below some critical value @xmath1 ) with a cluster of size @xmath3 , so as to identify the most - likely size of the cluster in periods of congestion .",
    "in this section we first define in our multipath setting , given the number of flows present , the allocation of rates to these flows . we will make this allocation more explicit in the next section . in practice , of course",
    ", the number of flows will change over time ; in section 4 and further we consider this setting ( where we use the results derived in section 3 for a given number of flows present ) .",
    "a second goal of this section is to introduce useful notions such as _ clusters _ and _ ( strong ) connectivity_.      we consider networks with multipath routing , i.e. , we have a set of resources @xmath4 with capacities @xmath5 , users ( interchangeably referred to as flow types ) @xmath6 and routes @xmath7 .",
    "user @xmath8 can use routes in @xmath9 , where each route @xmath10 is a set of resources @xmath11 . as mentioned above , in this and the following section we still consider the number of flows to be fixed .",
    "let @xmath12 denote the number of file transfers of type @xmath8 then the vector @xmath13 of rates allocated to flow of type @xmath8 is the unique solution to the concave optimization problem : @xmath14 here @xmath15 is the rate with which flow of type @xmath8 is processed on route @xmath0 .",
    "we agree that @xmath16 if @xmath17 . also , we can define variables @xmath18 for @xmath19 .",
    "following @xcite , the utility functions @xmath20 are assumed to be strictly concave , strictly increasing and differentiable .",
    "a utility function that is frequently considered in this context is @xmath21 for given weights @xmath22 ; this type of utility curves is usually referred to as weighted @xmath23-fairness . in this paper we will disregard weights and consider @xmath24 , i.e. , each user has the same utility function . it can be checked that the following results hold for any strictly concave , strictly increasing , and differentiable common utility function @xmath25 .",
    "considering routes of length one only , the following results are irrespective of the explicit form of the function u and only require that it is a strictly concave , strictly increasing , and differentiable common utility function . here",
    "we leave the notion of route , and let @xmath26 be the set of resources user @xmath8 can use .",
    "now , @xmath27 denotes the rate user @xmath8 receives from resource @xmath28 .",
    "then our optimization problem reads : @xmath29 the stationary conditions of the corresponding lagrangian are    @xmath30    where @xmath31 is the lagrange multipliers corresponding to resource @xmath28",
    ". then we can see that for any function @xmath25 as above the optimal solution @xmath32 is sufficiently characterized by @xmath33      with ( [ allocation ] ) we can discover a unique partition of @xmath34 into a collection of _ clusters _ of the form @xmath35 , similarly to hajek s notion @xcite .",
    "this is the same for any strictly concave differentiable function @xmath25 .",
    "we define a _ cluster _ to be a non - empty pair @xmath35 with @xmath36 , @xmath37 such that if @xmath38 then @xmath39 consists of all @xmath40 such that there exists a path @xmath41 such that for a feasible allocation @xmath32 solving ( [ opti2 ] ) @xmath42 and @xmath43 are strictly positive for all @xmath44 . similarly , @xmath45 consists of all @xmath46 for which there exists a path @xmath47 such that for a feasible allocation @xmath32 solving ( [ opti2 ] ) @xmath42 and @xmath43 are strictly positive for all @xmath44 . with @xmath48",
    "this gives indeed a unique partition since it can be checked that the existence of a path between @xmath8 and @xmath28 , or respectively between @xmath8 and @xmath49 or @xmath28 and @xmath49 , is an equivalence relation .",
    "it can be easily deduced from ( [ allocation ] ) that if @xmath8 and @xmath50 are in the same cluster then @xmath51 .    intuitively , a cluster @xmath35 is such that the optimal rate allocation is as if all resources of @xmath45 are pooled together with exactly all flows of @xmath39 having access to it",
    ". consider figure 1 which shows a circle network of four resources ( described by squares labelled 1 , 2 , 3 , and 4 ) of unit capacity and four flow types ( described by circles labelled 1 , 2 , 3 , and 4 ) .",
    "each type @xmath8 can use resources @xmath8 and @xmath52 , which is illustrated by edges ( where @xmath53 is understood as 1 ) . in this example",
    "@xmath54 , the number of flows of type 1 , is relatively large , ie .",
    "suppose @xmath55 , so that flows of type 1 monopolize resources 1 and 2 .",
    "types 2 , 3 and 4 are sharing resources 3 and 4 equally .",
    "thus we have two clusters , one consisting of flows of type 1 and resources 1 and 2 , and another consisting of flow types 2 , 3 , and 4 and resources 3 and 4 .        as a consequence of the previous definition all flows @xmath8 in the same cluster",
    "will have the same rate @xmath56 .",
    "if we have two distinct clusters in which the common rate @xmath56 is the same , then we say that these clusters are at the same _ cluster level_.    for a cluster",
    "@xmath35 we then have that the set @xmath57 , i.e. , the set consisting of all @xmath8 that have to go through @xmath45 , is a subset of @xmath39",
    ". we will be particularly interested in the event of complete resource pooling , i.e. , when @xmath34 is just a single cluster .",
    "the following notions of connectivity help us to characterize the structure of the network and to identify clusters .",
    "these notions concern the general structure of @xmath58 without taking into account the allocation at state @xmath59 .",
    "a pair @xmath35 with @xmath36 , @xmath37 is _ connected _ if @xmath45 can not be partitioned in nonempty @xmath60 such that @xmath39 can be partitioned into @xmath61 , @xmath62 with @xmath63 for @xmath64 and @xmath65 for @xmath66 .",
    "equivalently , for all @xmath67 there is a path @xmath68 such that @xmath69 for all @xmath70    regarding @xmath58 as a bipartite graph with nodes @xmath6 and @xmath4 and an edge between @xmath71 and @xmath46 if and only if @xmath72 , we see that a pair @xmath35 is connected if and only if the subgraph @xmath35 is connected .",
    "we can also see that for @xmath35 to be a cluster it has to be connected .",
    "a subset @xmath37 is _ connected _ if @xmath73 is connected .",
    "we define @xmath74 to be the set of _ connected _ subsets of @xmath4 .",
    "a subset @xmath37 is _ strongly connected _ if @xmath75 is _",
    "connected_. let @xmath76 be the set of _ strongly connected _ subsets of @xmath4 .",
    "figure 2 demonstrates connected sets of the circle network with four resources from figure 1 .",
    "any set of consecutive resources @xmath77 , @xmath78 and",
    "also @xmath79 and @xmath80 are connected as are the sets isomorphic to these . here ,",
    "all of these sets are also strongly connected since consider eg . @xmath81 and any splitting of @xmath78 into two non - empty sets would lose either user 2 or 3 .",
    "it is immediate that ` strongly connected ' implies ` connected ' .",
    "however , the reverse is not true as figure 3 illustrates . here",
    "the set of resources 1 , 2 and 3 is connected , but _ not _ strongly connected , since we can partition it in subsets @xmath77 and @xmath82 .",
    "then @xmath83 , which contains flow type 1 only , is the same as @xmath84 .",
    "the notion of strongly connected sets is so important because it enables us to identify the generalized cut constraints in the next section , and they are also essential to the rate - allocation algorithm of section 3 .",
    "being connected but not strongly connected , height=144 ]      the feasibility constraints from ( [ opti2 ] ) are inconvenient because they involve additional variables @xmath27 for which there is no unique solution .",
    "however , we can rewrite them in terms of the @xmath56 as @xmath85 these inequalities are called generalized cut constraints . they will be inevitable in the next section when proving the validity of the optimal allocation attained by our proposed algorithm .",
    "the equivalence of these generalized cut constraints to the feasibility constraints from ( [ opti2 ] ) is proved in lemma [ theoremgcc ] in the appendix .",
    "@xcite have shown in their proposition 5.1 that it is possible even for the general multipath network to write the feasibility constraints in terms of generalized cut constraints as @xmath86 where @xmath87 is a some non - negative matrix and @xmath88 is a positive vector ; here @xmath89 refers to the vector with @xmath8-th coordinate equalling @xmath90 . however ,",
    "no explicit expression for @xmath87 and @xmath88 has been found so far in such a general multipath network .",
    "so far we characterized the rate allocation ( for a given number of flows ) as the solution to an optimization problem ; we did not give any explicit expressions .",
    "this section gives a ( finite ) algorithm that identifies this allocation , and which in addition yields the clustering .",
    "we finally also present explicit expressions for the minimally and maximally achieved rate ( over all classes ) .    to ease notation we write in the following for @xmath37 @xmath91 also , for @xmath92",
    ", we write @xmath93 note that this is the rate in cluster @xmath35 if @xmath35 is a cluster .",
    "if @xmath35 is a union of clusters @xmath94 , then @xmath95 which means that @xmath96 is a weighted harmonic mean of the rates @xmath97 of clusters @xmath94 with corresponding weights @xmath98 .",
    "it is important to note that the same still holds if @xmath94 are not necessarily clusters , i.e. , when we only know that @xmath35 is a union of pairwise disjoint @xmath94 . in the sequel",
    "we write @xmath99 to denote a weighted harmonic mean of @xmath100 , with weights @xmath101 , @xmath102 . in the cases we deal with",
    ", the magnitude of the weights will either be not important or obvious , e.g. , when @xmath103 , the corresponding weight for @xmath97 is @xmath104 .",
    "now we are ready to describe the algorithm that finds the optimal allocation @xmath32 and the clustering , when the number of flows present is given by the vector @xmath59 .",
    "[ algorithm ] for general networks with routes of length one and fixed number of flows @xmath59 the optimal @xmath105 can be obtained by the following algorithm :    for @xmath106    * find the minimum @xmath107 * let @xmath104 be the union of all arguments that achieve the minimum above and @xmath108 * for all @xmath109 let @xmath56 be the minimum of above .",
    "* now , set @xmath110 , @xmath111 and @xmath112 , so that we also have @xmath113 .",
    "repeat this procedure with the reduced network until we are left with a network without resources and users .",
    "moreover , @xmath94 found at the @xmath3-th step of the algorithm is the union of all clusters at the @xmath3-th level .",
    "the strongly connected sets that are arguments of ( [ minirate ] ) with their corresponding @xmath114 being the clusters of the network .",
    "observe that this algorithm is well defined .",
    "for any finite network with set of resources @xmath115 there will be at least one and a finite number of @xmath116 .",
    "thus , the minimum exists at each step .",
    "also , the algorithm will stop because of the network being finite . in order to prove thm .",
    "[ algorithm ] , we need the following essential properties .",
    "the proof of the lemma is given in the appendix .",
    "[ lemma ] at each step @xmath3 of the algorithm for the corresponding @xmath34 , we have    1 .",
    "@xmath117    2 .  if @xmath118 for @xmath37 then @xmath119 .    3 .",
    "@xmath120    4 .",
    "@xmath121 , i.e. , cluster levels are found in increasing order of their rates .",
    "we need to check that the allocation @xmath32 achieved in @xmath122 satisfies the relations ( [ allocation ] ) with cluster levels @xmath104 . for this",
    "we need to show the following .",
    "* at each step @xmath3",
    "the allocation within the @xmath3th cluster level @xmath94 is feasible , i.e. , none of the constraints of ( [ cutconstraints ] ) for @xmath123 is violated taking the amended @xmath124 . by lemma",
    "[ lemma].1 we have @xmath125 where @xmath126 for all @xmath127 .",
    "so , this implies that we have @xmath128 as desired .",
    "also , @xmath129 and @xmath130 if @xmath131 . * the first line of ( [ allocation ] )",
    "holds : consider any @xmath132 , not at the same level , and @xmath133 .",
    "assume @xmath134 , which implies ( by lemma [ lemma].4 ) that @xmath135 is at an earlier cluster level than @xmath136 , say @xmath94 .",
    "then since @xmath137 and @xmath138 , we know that @xmath139 .",
    "+ so , @xmath28 is at a cluster level before @xmath136 and @xmath140 . *",
    "no capacity is wasted . at each cluster level @xmath94 where @xmath141 the total load is @xmath142 where the first equality follows from lemma [ lemma].3 .",
    "since we know that none of the capacity constraints is violated , we conclude that each link is fully used .",
    "+ note , when @xmath143 , we have @xmath144 , so this must be at the last level . the union of the earlier clusters then has the form @xmath145 with @xmath146 , so @xmath147 and the links in @xmath45 were redundant .",
    "this completes the proof .    with the rate - allocation algorithm of thm .",
    "[ algorithm ] at our disposal , we can give an expression for the minimal and maximal rates .",
    "[ thmminmaxrate ] for general networks with routes of length one the minimal and maximal rates are @xmath148    the proof for the minimal rate follows immediately from ( [ algorithm ] ) . for the maximal rate we know from ( [ algorithm ] ) that at the last step we are left with clusters of the form @xmath35 such that @xmath149 , so the maximum of ( [ maxrate ] ) gives an upper bound for the maximal rate .",
    "to see that this maximum is actually attained , let @xmath45 be the argument for the maximum in ( [ maxrate ] ) .",
    "then @xmath150 is the set of all flows that can possibly use resources in @xmath45 .",
    "so , a weighted harmonic mean of the rates of flows @xmath151 is at least @xmath152 hence there must be at least one flow having a rate greater than or equal to this and so the maximal rate follows .    also with theorem",
    "[ algorithm ] we can give a lower bound on the rates of any flow .    [ thmxirate ] for each @xmath71 we have @xmath153    we know @xmath8 has to be in some cluster , say @xmath154 where @xmath155 is the order it appears in ( [ algorithm ] ) .",
    "consider the union of @xmath94 for @xmath156 .",
    "this will be of the form @xmath75 .",
    "since @xmath157 is a weighted harmonic mean of the rates of clusters @xmath94 for @xmath156 , and since among those the cluster of @xmath8 has the highest rate , we find the lower bound on @xmath56 .    _ in the minimizations and maximizations above we could always look at general subsets instead of connected ones , and the proofs would work in exactly the same way .",
    "however , restricting to connected or even strongly connected sets is sufficient , and has the important advantage of decreasing the number of sets over which we are minimizing . _",
    "where the previous section considered the rate allocation for a given number of flows , we now add a dynamic component : we let flows arrive ( according to a poisson process ) , use a set of links for a while , and then leave again . given that , at some point in time @xmath158 ,",
    "there are @xmath159 flows present , then the rates are allocated as in ( [ optimization ] ) . under the appropriate exponentiality assumption regarding the flow size distribution , @xmath160 is a continuous - time markov chain .",
    "we distinguish between two different kinds of traffic : streaming and elastic traffic .",
    "streaming flows have a random but fixed duration that is independent of the current level of congestion ; think of voice or streaming video .",
    "elastic flows have a random but fixed size ( say , in mbits ) . in the sequel we consider three cases ,",
    "one with purely streaming traffic , one with integrated streaming and elastic traffic , and one with elastic traffic only in which we impose a peak rate .",
    "if only streaming traffic is present , then the transition rates do not depend on the resource allocation @xmath32 .",
    "assume that flows of type @xmath8 arrive according to a poisson process with rate @xmath161 , and that their duration is exponentially distributed with mean @xmath162 .",
    "with @xmath163 denoting the number of streaming traffic of type @xmath8 at time @xmath158 , it is evident that the transition rates are those of a multidimensional m / g/@xmath164 queue : @xmath165 it follows immediately that in steady - state the @xmath166 are independent poisson variables with mean @xmath167 .",
    "we are interested in the probability of a rate becoming very small . for positive real @xmath168 we can evaluate the probability @xmath169 where @xmath170 is a convex subset of @xmath171 depending on @xmath168 .",
    "it contains some neighborhood of the origin and is bounded by hyperplanes @xmath172 .",
    "it is natural to assume that streaming flows are blocked if the allocated rate falls under a certain threshold .",
    "denoting the set of feasible states by @xmath87 , we obtain @xcite that the corresponding equilibrium distribution is proportional to the multivariate - poisson distribution given above .",
    "in particular , @xmath173 where @xmath174 is the set of vectors @xmath175 such that @xmath176 , with @xmath177 representing the @xmath8-th unit vector .",
    "we end with the obvious remark that since the equilibrium distribution is of product form , it is the same for _ any _ duration distribution with means @xmath162 ; the blocking probability is insensitive to the service time distribution .      here",
    "we review the model of integrated streaming and elastic traffic that was considered by key and massouli @xcite .",
    "importantly , in this model streaming and elastic traffic are treated the same , in the following sense .",
    "the rate allocation is computed , for _ both _ streaming and elastic flows through ( [ optimization ] ) . streaming flows",
    "terminate ` autonomically ' , that is , with a rate that does not depend on the current congestion level ( and hence also not on their current transmission rates ) .",
    "elastic flows , however , terminate with a rate that is proportional to their momentary transmission rate . with @xmath178 corresponding to elastic flows and @xmath179 to streaming flows",
    ", this leads , in self - evident notation , to a markov chain with transition rates : @xmath180 in @xcite it was shown that in this model the addition of streaming traffic brings some sort of a ` stabilization effect ' to the network ; as a result , the model has a non - trivial fluid limit ( that is , a fluid limit with an equilibrium point that does not equal 0 ) .",
    "they claim that a sufficient and necessary condition for stability that the @xmath181 have to satisfy is @xmath182 with the generalized cut constraints ( [ cutconstraints ] ) we can rewrite this condition as @xmath183 note that the stability constraints do not involve the streaming flows ; as their rate can be pushed down arbitrarily low , their presence has no impact on the stability of the network ( which may be considered a less realistic feature of this setup ) .",
    "an important observation is that no closed - form expression of the equilibrium distribution of this markov chain is available .",
    "finally , we consider a network with elastic traffic only .",
    "we impose a peak rate on the flows transmission rates .",
    "as argued in @xcite , this is convenient as it facilitates the analysis of the corresponding fluid limit ( see section 5 of the present paper ) ; in fact , the introduction of peak rates has again a ` stabilization effect ' ( cf .",
    "the previous subsection ) , in that it leads to non - trivial fluid limits .",
    "in addition , it is remarked that imposing peak rates is quite natural : it is not realistic that flows can transmit at link speed ; in fact the peak rates can be interpreted as the access rates of the users .",
    "we denote the peak rate of type @xmath8 by @xmath184 in self - evident notation , this leads to a markov chain with transition rates @xmath185 here we want the loads @xmath181 to be such that the stability condition ( [ cond21 ] ) for the integrated streaming and elastic traffic case of @xcite holds , which again translates to ( [ stability ] ) .",
    "it is conceivable that this is the stability condition for this case .",
    "it is noted that , again , no closed - form expression of the equilibrium distribution of this markov chain is available .",
    "as mentioned above , the markov chains presented in the previous section do not lead to a closed - form steady - state distribution ( except for the purely streaming case ) .",
    "this motivates why we now explore these systems under a fluid scaling . loosely speaking , a fluid scaling for the process @xmath178 is the sped - up process @xmath186 that we obtain when we scale up arrival rates and capacities by the same factor @xmath187 .",
    "the fluid limit is then the rescaled process @xmath188 , in the limit as @xmath189 , which then gives a reasonable approximation of the real system when arrival rates and capacities are large . in our work",
    "we will not treat in detail the convergence issues that play a role here ; see for instance @xcite for more background .    in the previous section",
    ", we mentioned that either adding streaming traffic or imposing peak rates has the effect that we obtain a non - trivial fluid limit . to explain what goes wrong otherwise ,",
    "consider the following argument . in case of elastic traffic only , without a peak rate , the dynamics of the fluid limit are given through @xmath190 so that the equilibrium point should satisfy @xmath191 but with the stability condition ( [ stability ] ) this contradicts the capacity constraints being tight at the optimal @xmath32 , so no equilibrium point other than @xmath192 can exist in this case , where @xmath192 is a point of discontinuity of the gradient of the fluid limit .",
    "if , however , the case of integrated streaming and elastic traffic , or the case of peak - rate constrained elastic traffic is considered , we _ do _ get a non - trivial fluid limit . we show this for the peak - rate constraint case later in this section ; moreover , we give an algorithm how to find this equilibrium point . for integrated streaming and elastic traffic ,",
    "the existence of a unique equilibrium point was already shown in @xcite , but we give a quick review of their result .",
    "we end this section by introducing the notion of complete resource pooling , and give conditions that tell us when the equilibrium point corresponds to complete resource pooling .      from @xcite",
    ", we know that under integrated streaming and elastic traffic the fluid limit becomes @xmath193 then for an equilibrium point @xmath194 of the fluid limit we have @xmath195 where @xmath196 is the rate allocation at the equilibrium point @xmath197 . in @xcite",
    "it is shown that @xmath196 is the unique solution to the optimization problem @xmath198 then @xmath199 and @xmath200 determine @xmath201 uniquely , hence the equilibrium point is unique .    on the other hand , with our generalized cut constraints ( [ cutconstraints ] ) from section 2",
    ", this optimization problem translates to @xmath202 here the strict concavity of the optimization problem is immediate which implies the uniqueness of the optimum and of the equilibrium point .",
    "since our optimization problem is now exactly of the form ( [ opti2 ] ) , the equilibrium point can be found by the algorithm in section 3 .      by introducing peak rates @xmath203 , we will always have an equilibrium point for any network with routes of length one .",
    "the fluid limit becomes @xmath204 so that an equilibrium point satisfies @xmath205 .",
    "it is instructive to see , as an example , what happens in the symmetric case , i.e. , @xmath206 for all @xmath8 .",
    "then the unique equilibrium is @xmath201 with @xmath207 .",
    "this equilibrium point exists if @xmath208 for all @xmath8 , i.e. , @xmath209 which reduces to the stability condition @xmath210 no other equilibrium point can exist , which can be seen as follows .",
    "suppose there would be another equilibrium point , i.e. , there are certain @xmath8 that are peak - rate constrained , say all @xmath211 , and others that are not",
    ". then @xmath211 if and only if @xmath212 so , for the cluster level @xmath75 with minimal rate under the usual allocation @xmath213 , we must have @xmath214 .",
    "then for @xmath151 , we have that @xmath215 we know from ( [ allocation ] ) that flows @xmath8 of @xmath114 will take up all the resources in @xmath45 : @xmath216 however , at our equilibrium point the left hand side equals @xmath217 and hence the former equality would violate the stability condition .",
    "now , for general peak rates we introduce the following theorem that claims the existence of a unique equilibrium point under some condition and also determines an algorithm that finds this equilibrium point .    [ prallocation ] consider a network @xmath218 with routes of length one , traffic intensities @xmath219 satisfying the stability condition ( [ stability ] ) , and @xmath220 let the peak rates be ordered : @xmath221 . then there is always a unique equilibrium point @xmath201 for the fluid limit .",
    "it can be determined by the following algorithm :    for @xmath106 ,    * find the minimum @xmath222 * let @xmath104 be the union of all strongly connected sets that achieve the minimum above , @xmath108 * let @xmath223 be the unique value of @xmath224 such that @xmath225 $ ] .",
    "* for all @xmath109 set @xmath226 .",
    "* for @xmath227 set @xmath228 , for @xmath229 set @xmath230 .",
    "* now , set @xmath231 , @xmath111 and @xmath112 , so that we also set @xmath113 .",
    "repeat this procedure with the reduced network until we are left with a network without resources and users .    moreover , the @xmath94 achieved at each step of the algorithm gives the @xmath3-th cluster level at the equilibrium point @xmath201 .",
    "exactly flows in @xmath232 are peak - rate constrained .",
    "_ we need the condition @xmath233 because otherwise we could have a range of equilibrium points .",
    "consider , for example , the circle network with @xmath234 , @xmath235 and @xmath236 then for all @xmath237 $ ] we have an equilibrium point : @xmath238 our algorithm would not recognize the full range of equilibrium points but would associate @xmath239 to the smallest cluster level @xmath3 such that @xmath240 , and as such give it the same rate . _    if the conditions @xmath233 hold , then at an equilibrium point @xmath201 we must have at least one peak - rate constraint flow in every cluster .",
    "this is because otherwise @xmath241 then , given a cluster @xmath35 of some equilibrium point , the following lemma tells us that we can uniquely determine the rate within this cluster and thus also which flows of @xmath39 are peak - rate constrained .",
    "[ lemmari ] for @xmath35 , @xmath242 and @xmath243 , @xmath88 such that @xmath244 , the following holds :    1 .",
    "there is a unique @xmath245 such that @xmath246 for this @xmath224 any @xmath247 with @xmath248 minimizes @xmath249 2 .",
    "for @xmath250 we have @xmath251 and for @xmath252 @xmath253    here the fraction @xmath254 is the rate @xmath199 for a cluster @xmath35 at an equilibrium point if exactly flows @xmath211 are peak - rate constrained .",
    "this follows from the fact that we know that flows @xmath8 that are not peak - rate constrained will take up capacity @xmath255 of the cluster .",
    "then the remaining flows in the cluster share the remaining capacity among each other . for @xmath201 with @xmath256 to be a feasible equilibrium point",
    ", we need @xmath257 for @xmath258 and @xmath259 for @xmath260 .    the lemma says that if there is an equilibrium point with cluster @xmath35 , then there is a unique @xmath224 such that @xmath38 are peak - rate constraint exactly if @xmath261 .",
    "in particular the lemma already implies that only one equilibrium point in complete resource pooling can exist . for a proof of this lemma",
    "we refer to the appendix .    to ease notation we write in the following @xmath262    we separate the proof in different parts :    1 .",
    "the algorithm is well - defined ; 2 .",
    "the algorithm gives us a feasible equilibrium point ; 3 .",
    "if we have an equilibrium point @xmath201 , then this @xmath201 is found by the algorithm .",
    "here ( ii ) gives us the existence of an equilibrium point whereas ( iii ) proves uniqueness .",
    "we will proof the parts of the theorem one by one :    1 .   observe that if the stability conditions ( [ stability ] ) hold , the numerator of ( [ minprate ] ) is positive for all @xmath263 .",
    "then the minimum is well - defined and positive and attained for some @xmath45 and @xmath264 . hence by lemma [ lemmari ] the minimum is greater than @xmath265 and there exists a unique @xmath266 such that the minimum is in @xmath267 $ ] +",
    "also if the stability conditions hold , by lemma [ lemmari ] a unique @xmath224 corresponding to a specific @xmath45 is well - defined and if @xmath263 and @xmath268 achieve the same minimum then @xmath269 since the fractions are by lemma [ lemmari ] in @xmath270 $ ] and @xmath271 $ ] respectively .",
    "we only need to check that the stability conditions hold at each step of the algorithm .",
    "we know the stability conditions hold initially , and therefore , by lemma [ lemmari].1 and lemma [ aplemma].1 , [ aplemma].2 , and [ aplemma].3 , we have for any @xmath272 @xmath273 we thus have @xmath274 so that the stability conditions hold at the second step of the algorithm .",
    "it follows that @xmath275 , @xmath276 and @xmath277 are well defined",
    ". then we can use lemma [ lemmari].1 and lemma [ aplemma ] again , and conclude by induction that the stability conditions hold at any step @xmath3 .    _ to see why the stability conditions are important here , assume for the moment that they do not hold and that we have some @xmath278 with @xmath279 .",
    "then for @xmath280 , the numerator would be 0 or negative ( depending on whether the inequality holds strictly ) and the sum in the denominator would be empty .",
    "then the fraction could be made @xmath281 or @xmath282 respectively and the minimization would not give us a feasible rate .",
    "we want to show that the @xmath283 found by the algorithm do indeed correspond to an equilibrium point : ( a )  the @xmath199 is in line with the allocation @xmath213 from theorem [ algorithm ] , and ( b )  it holds that @xmath284 the latter equations follow immediately from the construction of @xmath201 and @xmath285 , in conjunction with lemma [ lemmari].1 . to see that @xmath286 , we have to show that @xmath287 is the union of strongly connected @xmath45 minimizing ( [ minirate ] ) , which reads @xmath288 by the choice of @xmath287 and @xmath289 , and invoking lemma [ aplemma].3 , we know @xmath290 by lemma [ lemmari].1 the left - hand side is smaller than or equal to @xmath291 , which implies @xmath292 which is equivalent to @xmath293 now , by lemma [ aplemma].4 @xmath294 , so that the right - hand side of ( [ minfrac ] ) is greater than or equal to the left - hand side of the previous equation .",
    "we thus have that the right - hand side of ( [ minfrac ] ) is greater than or equal to @xmath295 , and therefore by the last equality in ( [ eq ] ) @xmath287 does indeed minimize ( [ minfrac ] ) . to see that @xmath287 is the union of all @xmath45 minimizing this fraction , observe that equality holds in the above argument if and only if @xmath296 , @xmath297 and @xmath298 the latter equation is equivalent to @xmath299 so @xmath287 is indeed the union of all @xmath45 minimizing above .",
    "+ since we have shown in ( i ) that the stability conditions still hold for the reduced network , it follows in the same way that @xmath104 is the solution to the @xmath3-th step of the algorithm in the algorithm of thm .",
    "[ algorithm ] , and so this allocation algorithm for @xmath199 is indeed in line with thm.[algorithm ] .",
    "hence , the @xmath201 constructed by the algorithm is an equilibrium point .",
    "suppose we have an equilibrium point @xmath201 with @xmath300 cluster levels @xmath94 corresponding to rates @xmath301 determined by ( [ algorithm ] ) and @xmath302 . with conditions ( [ neqcond ] ) in force",
    ", we have that @xmath303 , and as a consequence we know there must be at least one flow in each cluster which is peak - rate constrained . hence by lemma [ lemmari].1 , we have that @xmath223 is the unique value such that @xmath304 .",
    "we can easily see that @xmath223 must be non - decreasing in @xmath3 since the rate @xmath301 is increasing with increasing level , and so flows are more likely to be peak - rate constrained .",
    "we want to show that @xmath287 is the union of all @xmath45 minimizing ( [ minprate ] ) , that is , @xmath305 by lemma [ lemmari].1 it is enough to show that each @xmath104 is the solutions of the @xmath3-th step of the algorithm of thm.[prallocation ] .",
    "take any @xmath116 and partition it into @xmath306 let @xmath307 be @xmath308 . due to lemma [ lemma].1 and [ lemma].3 we know @xmath309 now , by lemma [ lemmari].1 , it holds that @xmath310 , and therefore by lemmas [ aplemma2 ] and [ aplemma3 ] we find @xmath311 then @xmath312 for all @xmath263 , so that @xmath287 and @xmath289 minimize ( [ minprate ] ) and the corresponding minimum is @xmath295 .",
    "now equality holds in the last inequality only if @xmath313 , so all strongly connected @xmath45 minimizing ( [ minprate ] ) are subsets of @xmath287 .",
    "conversely , if we partition @xmath287 in strongly connected sets @xmath314 , then @xmath315 since we know equality holds , we must have @xmath316 for all such @xmath314 .",
    "+ hence , @xmath287 , the first cluster level of an equilibrium point , must be the union of all strongly connected sets achieving the minimum in ( [ minprate ] ) . since by lemma [ aplemma2 ] the stability conditions still hold for the reduced network , as does condition ( [ neqcond ] ) , we can show in the same way that @xmath104 is the solution of the @xmath3-th step of the algorithm in thm.[prallocation ] .",
    "hence , any equilibrium point can be found by the algorithm .",
    "thus , the algorithm determines the unique equilibrium point .",
    "the first goal of this section is to formally define what we mean by _ complete resource pooling_. we remark that laws @xcite and turner @xcite , among others , used this notion for networks where users choose one of a possible set of paths .",
    "we say that in a network @xmath218 the state @xmath317 describing the number of flows is in _ complete resource pooling _ if there exists a neighborhood of @xmath59 such that for each @xmath318 in this neighborhood the optimal @xmath319 determined by ( [ optimization ] ) satisfies @xmath320    this means that if @xmath59 is in complete resource pooling , then the system behaves as if the total capacity is pooled in one resource with every flow having access to it .",
    "it is desirable that the equilibrium point of the fluid limit is in complete resource pooling , as then the capacities are used efficiently in that resources are shared equally over all flows .",
    "it is seen that , for a given total sum of capacities and total number of flows , the utility is maximized in a complete resource pooling state .",
    "also , a nice advantage is that when we know a state @xmath59 is already in complete resource pooling , then increasing the number of routes that a flow can use will not change the optimal allocation @xmath321 . in particular",
    "this implies that the diffusion will be unchanged , as we will see in the next section .",
    "however , we note that increasing the number of possible routes for one flow will increase the set of states @xmath59 that are in complete resource pooling . for these reasons",
    "we want to investigate when the equilibrium point is in complete resource pooling .      in the case of integrated streaming and elastic traffic",
    "we can determine more explicitly when the equilibrium point is in complete resource pooling .",
    "in the integrated streaming and elastic traffic case , a sufficient and necessary condition for the equilibrium point being in complete resource pooling is @xmath322    consider @xmath323 , @xmath324 for all @xmath71 where @xmath325 then @xmath32 satisfies @xmath326 so it is the common rate if we have complete resource pooling at @xmath327 and if so , @xmath327 will be an equilibrium point . in order for @xmath32 to be the rate @xmath328 for all @xmath8 determined by ( [ allocation ] ) , we require for all @xmath116 that @xmath329 substituting for @xmath32 , this is equivalent to @xmath330    since by stability the right - hand side is strictly negative , the inequality is satisfied if the left - hand side is non - negative .",
    "thus , the condition in ( [ poolingprc ] ) is also sufficient for complete resource pooling in this case .    in the integrated",
    "streaming and elastic traffic case , a sufficient condition for the equilibrium point being in complete resource pooling is @xmath331    we will use these results about the equilibrium point being in complete resource pooling in the next section when we study the diffusion approximation of the processes .",
    "the following theorem determines a sufficient condition for complete resource pooling depending only on the traffic intensities @xmath219 of elastic traffic and not on the peak rates .",
    "[ poolingprc ] in the peak - rate constrained case , a sufficient condition for the existence of an equilibrium point in complete resource pooling is @xmath332    if the equilibrium point is in complete resource pooling the common rate must be @xmath333 we want to show that at @xmath201 with @xmath228 for @xmath261 and @xmath334 for @xmath335 , we indeed have complete resource pooling under our condition .",
    "suppose not , then say @xmath45 is the cluster with maximal rate @xmath336 , then by ( [ algorithm ] ) @xmath337 contradicting the sufficient condition .    in general , by ( [ prallocation ] )",
    "the equilibrium point is in complete resource pooling if and only if @xmath338 for all @xmath116 , where @xmath224 minimizes the left - hand side over @xmath339 .",
    "however , unlike the previous sufficient condition , these inequalities do not have a clear interpretation .",
    "in this section we study the diffusion limit of our processes around the equilibrium point @xmath201 of the fluid limit that we identified in the previous section .",
    "we do so for a special type of network , namely the _",
    "symmetric circle network _ which we introduce in detail below ; the setting we consider is that of integrated streaming and elastic traffic .",
    "our most important contribution is that we explicitly determine the stationary distribution to which the diffusion limit converges as @xmath158 tends to infinity .",
    "in particular we calculate the covariances of the numbers of flows of different types , and we prove that these are positive .",
    "the last part of the section will be devoted to obtaining insight in the state of the network conditional on congestion , where we define congestion as the event that at least one of the user types gets a transmission rate that is less than a certain critical value @xmath340 based on this stationary distribution we develop an estimate for the probability that , given congestion , the flow type with this minimal rate is in a cluster of size @xmath3 and compare these probabilities for different values of @xmath3 .",
    "we find that in the limiting regime where @xmath341 , the size of the network , goes to infinity the most likely value for @xmath3 is @xmath2 where @xmath0 is the number of routes that each flow is allowed to use .",
    "we consider the fluid limit for a process of @xmath342 type of flows , determined by the ( coupled ) differential equations @xmath343 , which have a unique equilibrium point , say @xmath201 .",
    "then the diffusion limit is the process @xmath344 in the limit as @xmath187 goes to infinity .",
    "this process , call it @xmath345 , satisfies approximately the following stochastic differential equation @xmath346 where    * the matrix @xmath347 is obtained from the linearization around the equilibrium point @xmath348 , that is @xmath349 * @xmath350 is @xmath351 where @xmath350 is an @xmath342-dimensional vector of independent standard brownian motions and @xmath352 the diagonal matrix with entries @xmath353 .",
    "as @xmath158 tends to infinity , this diffusion limit process converges to a multivariate normal distribution with mean zero and a covariance matrix that can be determined via @xmath354 see e.g. @xcite for more background on this approach .",
    "we want to point out that we do not prove these convergence results for our case rigorously . in general",
    "calculating @xmath355 , as well as the covariance matrix , in closed - form is not possible .",
    "however , if we assume the equilibrium point is in complete resource pooling , all of the rates are of the form @xmath356 , and a small perturbation of the number of flows of any type will not affect that we are in complete resource pooling .",
    "this means that @xmath357 , evaluated in @xmath358 , is the same for all @xmath359 , and the matrix @xmath347 will be of the form @xmath360 for peak - rate constraint elastic traffic and@xmath361 where the first @xmath341 indices correspond to the elastic user types , and the last @xmath341 indices to the streaming user types .",
    "an obvious model to ease the calculation is one in which the equilibrium point is in complete resource pooling because then the derivative @xmath362 is the same for all @xmath363 .",
    "also if this happens , the equilibrium point is the same if we increase the number of routes that a flow can use and thus , the diffusion will be the same .",
    "we now show how to compute the corresponding covariance matrix explicitly in the case of a purely symmetric circle network .",
    "we consider a network consisting of @xmath341 resources of certain capacities , where each resource is a route of length one .",
    "there are @xmath341 different flow types that are each sharing over @xmath0 consecutive routes , where @xmath0 is some integer greater than 1 , that is @xmath364 ( where these numbers should be taken modulo @xmath341 , to make sure that we obtain route numbers in the set @xmath365 .",
    "this model is an obvious one to analyze and has similarities to the supermarket model as in @xcite .",
    "the difference is that we do not assume that users can use any @xmath0 routes but only those routes that are close to them .    here a strongly connected set @xmath45 is such that @xmath366 for some @xmath367 , @xmath368 and the corresponding @xmath114 is the arc @xmath369 for @xmath370 or @xmath371 for @xmath372 .",
    "then the generalized cut constraints of ( [ cutconstraints ] ) read @xmath373 for @xmath367 and @xmath374 , and @xmath375 it turns out that the minimal rate can be evaluated by theorem [ thmminmaxrate ] as : @xmath376 in the sequel we analyze this circle network in the purely symmetric case : the arrival rate , capacities and mean flow sizes are assumed to be uniform across all user types , i.e. , @xmath377 , @xmath378 , @xmath379 , @xmath380 for all @xmath8 and @xmath381 for all @xmath28 ; as before , we write @xmath382 .",
    "recall the dynamics of the fluid limit for integrated streaming and elastic traffic from section 5.2 . for our purely symmetric case the equilibrium point can easily be seen to be @xmath383 we note that this is independent of @xmath0 , the number of routes that a flow can use . in the next subsection",
    "we will explicitly determine the covariance matrix using ( [ covmatrix ] ) .",
    "in this section we will denote a state ( n(t),m(t ) ) as a @xmath384 dimensional vector with @xmath8th entry @xmath12 for @xmath385 and @xmath386th entry @xmath387.recalling the dynamics of the fluid limit from section 5.2 we see that for our case @xmath347 is of the form @xmath388 where @xmath389 are all @xmath390 matrices . here",
    "@xmath87 is given by ( with @xmath391 ) @xmath392 all entries of @xmath393 are equal and given by @xmath394 finally @xmath88 is a diagonal matrix , with all diagonal elements equalling @xmath395    our first goal is to compute @xmath355 . due to the structure of @xmath347",
    "this is of the form @xmath396\\times[n+1,2n]}\\\\ 0\\quad & e^{-ct } \\end{array } \\right);\\ ] ] here @xmath397\\times[n+1,2n]}$ ] denotes the submatrix consisting of the first @xmath341 rows and the last @xmath341 columns of a @xmath398 matrix @xmath399 .",
    "note that @xmath87 is of the form @xmath400 where @xmath401 is a generator matrix with all off - diagonal entries equalling @xmath402 , @xmath6 the identity matrix and @xmath402 and @xmath403 are positive reals given by @xmath404 it follows that @xmath405 where @xmath406 is a stochastic matrix . to calculate @xmath406 explicitly ,",
    "observe that because of the symmetry all diagonal entries must be equal , as well as all off - diagonal entries .",
    "merging states @xmath407 to @xmath341 we can see that @xmath408 is the same as @xmath409 for @xmath410 calculating eigenvalues gives us @xmath411 .",
    "thus we have determined the matrix @xmath412 : for @xmath391 , @xmath413 with @xmath414 , we immediately have that @xmath415 .",
    "it is left to compute @xmath416\\times[n+1,2n]}$ ] .",
    "we use that @xmath393 is a completely symmetric matrix with all entries equalling @xmath417 . observe @xmath418\\times[n+1,2n]}^k=\\sum_{i=0}^{k-1}{c^{k-1-i}ba^i}\\ ] ] with @xmath419",
    "we get @xmath420    @xmath421 is a completely symmetric generator matrix , i.e. , a generator with all diagonal entries equal , as well as all off - diagonal entries equal .",
    "proof by induction .",
    "say @xmath422 is a generator matrix with off - diagonal entries @xmath423 and diagonal ones @xmath424 .",
    "then @xmath425 and @xmath426    since scaling and adding up completely symmetric generator matrices preserves the symmetry and generator property , we have that @xmath427 for some completely symmetric generator matrix @xmath428 .",
    "it follows that @xmath418\\times[n+1,2n]}^k=\\sum_{i=0}^{k-1}{c^{k-1-i}b(-\\tilde{q}+d^i i)}.\\ ] ] now note that @xmath429 since @xmath393 has all entries equal and since columns of @xmath428 sum up to 0 .",
    "we therefore have that @xmath418\\times[n+1,2n]}^k = b \\sum_{i=0}^{k-1}{\\eta^{k-1-i}d^i}=b \\eta^{k-1}\\frac{1-({d}/{\\eta})^{k}}{1-{d}/{\\eta } } = b \\frac{\\eta^k - d^k}{\\eta - d},\\ ] ] which implies that @xmath430\\times[n+1,2n]}= \\sum_{k\\geq 0}{b \\frac{\\eta^k - d^k}{\\eta - d}\\frac{(-t)^k}{k!}}=b\\frac{e^{-t\\eta}-e^{-td}}{\\eta - d}.\\ ] ] now , we can calculate the covariance matrix , corresponding to the steady - state of the diffusion , as in ( [ covmatrix ] ) , with @xmath352 the diagonal matrix with entries @xmath431 this finally gives us the covariance matrix : for @xmath391 we have @xmath432 and @xmath433 the results on the @xmath387 are of course in line with the fact that the numbers of streaming flows correspond to independent poisson distributions .",
    "we see that the all covariances are _",
    "strictly positive_. this could be expected , since an increase in streaming or elastic flows of one type results in less capacity for the other flows , and therefore an increase in the number of elastic flows of other types .",
    "since the equilibrium distribution is in complete resource pooling it does not make a difference whether these flows are close to the increasing flows or not",
    ". also the decay of these covariances in @xmath341 is plausible because , given that the equilibrium point is in complete resource pooling , the impact of the increase in flows of another type should decrease in the number of different flow types . assuming this stationary distribution , @xmath434 is also distributed multivariate normal with mean @xmath435 and covariance matrix @xmath436      we now want to use the above results to estimate the probabilities of the flow of minimal rate being in a cluster of size @xmath3 , given there is congestion .",
    "we define the event of congestion by requiring that there is at least one user type for which the rate allocated to a single flow , @xmath56 , is below a critical threshold @xmath340 we know from ( [ minrate ] ) in section 3 that @xmath437 we want to find the value of @xmath3 that maximizes this probability . an evident approximation , which makes sense for @xmath1 very small , is , with @xmath438 the event that user type @xmath8 is in a cluster of size @xmath3 , @xmath439 using the multivariate normal approximation , we write this as @xmath440 observe here that for a fixed @xmath3 smaller than @xmath341 this probability is decreasing in @xmath0 , indicating that ( as expected ) the minimal rate is increasing in @xmath0 .",
    "this observation confirms that the greater the number of routes a flow can use , the more efficient the network operates . for fixed @xmath0",
    "the value for @xmath3 with highest probability ( among all values smaller than @xmath341 ) is the one where @xmath441 is minimal .",
    "for @xmath1 small the dominating term is @xmath442 by differentiating one can check that if @xmath443 , the minimal value will be at @xmath444 now , recall from the expressions for @xmath445 and @xmath446 that we can write for some @xmath447 that does not depend on @xmath341 : @xmath448 then when @xmath341 grows large , @xmath446 tends to zero , which implies that @xmath443 tends to @xmath449 which is larger than zero and thus the most likely @xmath3 is @xmath450 , which tends to @xmath2 as @xmath451 .",
    "we want to compare the value of ( [ dominating ] ) for @xmath452 with the corresponding argument of @xmath453 in ( [ probability ] ) for @xmath372 . for @xmath452",
    "we find @xmath454 whereas for @xmath372 @xmath455 thus , when @xmath341 is sufficiently large , and if @xmath0 is @xmath456 , @xmath452 indeed maximizes the probability of a flow with a very small rate being in a cluster of size @xmath3 .",
    "the above computations indicate that for the minimal rate to be very small , we need @xmath2 flow types to be congested .",
    "thus , in the case where we split flow over two routes only , the minimal rate can become very small as the result of the number of flows of one type growing very large .",
    "in the case @xmath457 , however , when each flow can use three routes , we need two consecutive flow types to be congested in order for the minimal rate becoming very small .",
    "this seems to be a much rarer event and it suggests that increasing the number of routes that a flow can use from 2 to 3 brings substantial performance improvements in the circle model .",
    "this is in line with results by turner @xcite , where the circle network is considered in a slightly different setting : there customers can not split their traffic on different routes but choose the least loaded of a set of @xmath0 neighboring routes .",
    "turner s simulations show that for the circle network there is a considerable quantative difference in the probabilities that a queue becomes very large for @xmath458 and @xmath457 .",
    "_ acknowledgements : _ the authors of this paper are indebted to frank kelly for many invaluable remarks and suggestions .    99    and m. mandjes ( 2009 ) , bandwidth sharing networks under a diffusion scaling . _",
    "annals of operations research . _",
    "balanced loads in infinite networks .",
    "_ annals of applied probability _ , * 6 * , pp .  4875 .",
    "and s. shreve ( 1991 ) .",
    "_ brownian motion and stochastic calculus . _ springer - verlag , new york , usa . ( 1994 ) . _",
    "reversibility and stochastic networks .",
    "_ wiley , chichester , uk .",
    "stability of end - to - end algorithms for joint routing and rate control .",
    "_ computer communication review _ , * 35 * , pp.512 . and r. williams ( 2004 ) . state space collapse and diffusion approximation for a network operating under a fair bandwidth sharing policy . _",
    "annals of applied probability_. and l. massouli ( 2006 ) .",
    "fluid models of integrated traffic and multipath routing . _ queueing systems , _ * 53 * , pp .  8598 . and l. massouli ( 2005 ) . integrating streaming and file transfer internet traffic : fluid and diffusion approximations . _ queueing systems , _ * 55 * , pp .   195205 .",
    "resource pooling in queueing networks with dynamic routing . _",
    "advances in applied probability , _ * 24 * , pp.699726 .",
    "the power of two choices in randomized load balancing .",
    "_ ieee transactions on parallel and distributed systems , _ * 12 * , pp",
    ".   10941104 .",
    "resource pooling in stochastic networks .",
    "phd thesis , university of cambridge .",
    "the effect of increasing routing choice on resource pooling .",
    "_ probability in the engineering and informational sciences , _ * 12 * , pp .  109124 .",
    "stability of multi - path dual congestion control algorithms . _ proc.valuetools 06 , 1st international conference on performance evaluation methodologies and tools ."
  ],
  "abstract_text": [
    "<S> in this paper we study coordinated multipath routing at the flow - level in networks with routes of length one . as a first step the static case is considered , in which the number of flows is fixed . </S>",
    "<S> a clustering pattern in the rate allocation is identified , and we describe a finite algorithm to find this rate allocation and the clustering explicitly . then we consider the dynamic model , in which there are stochastic arrivals and departures ; we do so for models with both streaming and elastic traffic , and where a peak - rate is imposed on the elastic flows ( to be thought of as an access rate ) . </S>",
    "<S> lacking explicit expressions for the equilibrium distribution of the markov process under consideration , we study its fluid and diffusion limits ; in particular , we prove uniqueness of the equilibrium point . </S>",
    "<S> we demonstrate through a specific example how the diffusion limit can be identified ; it also reveals structural results about the clustering pattern when the minimal rate is very small and the network grows large . </S>"
  ]
}