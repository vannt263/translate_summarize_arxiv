{
  "article_text": [
    "let @xmath9 be a submonoid of @xmath10 which is finitely generated by @xmath11 , and denote by @xmath7 $ ] the affine semi - group ring of @xmath9 generated over the field @xmath3 by monomials @xmath12 , @xmath13 .",
    "thus , @xmath6",
    "\\cong k[z_1,\\dots , z_n]/i_{\\lambda } $ ] is the coordinate ring of an affine , not necessarily normal , toric variety . the isomorphism results from sending @xmath14 to @xmath15 , @xmath16 , and letting the toric ideal @xmath17 record the syzygies among the generators .",
    "the monoid @xmath18 is endowed with a partial order given by @xmath19 if and only if @xmath20 .",
    "denote by @xmath21 the simplicial complex of linearly ordered subsets @xmath22 of the interval @xmath23   : = \\ { \\gamma \\in \\lambda~|~\\mu \\leq \\gamma \\leq \\lambda\\}$ ] .    based on work by laudal and sletje @xcite and peeva , reiner , sturmfels [ prs ] , several recent papers ( see",
    "e.g. [ hrw ] , [ bw ] ) have used this partial order on @xmath9 and the simplicial homology of order complexes @xmath24 for @xmath25 in @xmath9 as a tool for understanding minimal free resolutions of the field @xmath3 as a @xmath6$]-module . in general , the minimal free resolution of the field @xmath3 over a @xmath3-algebra @xmath26 is still a mysterious object ( see @xcite ) and even results known to hold by algebraic arguments pose hard and interesting combinatorial questions when @xmath2 $ ] ( see @xcite ) . notably the koszul property has attracted a lot of interest .",
    "this property is equivalent by work of peeva , reiner , sturmfels [ prs ] to the property of all intervals in the poset @xmath9 being cohen - macaulay over @xmath3 .",
    "in general , it is known that a standard graded @xmath3-algebra is koszul whenever its defining ideal has a quadratic grbner basis . in peeva ,",
    "reiner , sturmfels [ prs ] and subsequent work @xcite a combinatorial understanding of this implication is developed . in [ bw ]",
    "it is shown that if each interval in @xmath9 is shellable then it is actually possible to construct a minimal free resolution for @xmath3 as a @xmath7$]-module .    in section [ cm - section ]",
    "we give an alternative combinatorial approach based on a discrete morse function that also explains all these phenomena related to the koszulness of @xmath6 $ ] without requiring a shelling .",
    "the main idea behind our combinatorial approach is quite natural , and is explained in remark  [ intuitive - idea - remark ] and the discussion that follows , after suitable notation is introduced .",
    "section  [ section - quad - applic ] uses the discrete morse function of section  [ cm - section ] to provide a minimal free resolution for @xmath3 as a @xmath7$]-module when @xmath17 has a quadratic grbner basis , whether or not each interval in @xmath18 is shellable .    in section [ high_deg ]",
    "we give the proof of our main result , a discrete morse function on the order complex of @xmath18 which provides combinatorial upper bounds on all the multigraded tor groups for @xmath7 $ ] , most notably yielding the following :    [ betti - vanish ] let @xmath27 be an affine semi - group generated by @xmath28 elements of @xmath10 .",
    "assume there is a field @xmath3 such that for @xmath6 \\cong   k[z_1,\\ldots , z_n]/i_\\lambda$ ] the ideal @xmath29 has a grbner basis of degree @xmath30 , then    * @xmath31 for @xmath32 and any field @xmath5 .",
    "* @xmath33}(\\field,\\field)_{\\lambda } = 0 $ ] for @xmath34 and any field @xmath5 .",
    "moreover , the vanishing of @xmath8-groups is achieved by a free cellular resolution resulting from a discrete morse function on @xmath9 .    here",
    "we denote by @xmath35 the length , i.e. cardinality minus one , of a saturated chain in the poset interval @xmath36 $ ] .",
    "note that if all generators of @xmath9 lie on an affine hyperplane then this grading actually makes @xmath9 a graded poset and @xmath6 $ ] a standard graded @xmath3-algebra . in general , @xmath35 is the degree of the image of @xmath37 in the associated graded ring of @xmath26 .    by results of [ ls ]",
    ", theorem [ betti - vanish ] ( i ) will immediately imply theorem [ betti - vanish ] ( ii ) .",
    "the vanishing of @xmath8-groups in the case @xmath38 also follows for general standard graded @xmath3-algebras , by a flat degeneration argument , from a result of eisenbud , reeves and totaro ( cf . [ ert ] ) about monomial ideals .",
    "our arguments are completely combinatorial .    the main tool for the proof of theorem [ betti - vanish ] is discrete morse theory , which was developed in the mid 90 s by forman [ fo ] .",
    "discrete morse theory is a tool for determining the homology and homotopy type of a simplicial complex , or more general a regular cw - complex . in [ bh ]",
    "the authors develop tools that facilitate the use of discrete morse theory in the case when the simplicial complex is the order complex of a poset whose edges are labeled .",
    "the edges @xmath39 of the hasse diagram of @xmath9 are naturally labeled by @xmath40 which by the definition of the order relation is one of the generators @xmath41 of @xmath9 .",
    "thus , to any saturated chain @xmath42 in @xmath43 there is associated the monomial @xmath44 in @xmath45 $ ] , where @xmath46 .",
    "in particular , any term order on @xmath47 $ ] induces a partial order on the finite saturated chains in @xmath9 . in the case of grbner bases with properties analogous to requirements made in [ prs ] ( called ` supporting a poset' ) , we can apply the results from [ bh ] on lexicographic discrete morse function which then easily give a degree @xmath30 analogue of a lexicographic shelling , and imply the desired connectivity bound . in this morse function",
    ", collections of at most @xmath30 labels , given by descents and grbner basis leading terms , will play the role traditionally filled by the descents in a lexicographic shelling . in order to able to handle arbitrary grbner bases , whether or not they support a poset , we extend ( sections [ facet - order - section ] and [ uniqueness - section ] ) the applicability of the methods from [ bh ] by using critical cell cancellation via gradient path reversal .",
    "most notably , we introduce the notion of a content - lex facet ordering , which has also recently proven useful in work of [ hhs ] .",
    "the discrete morse function on @xmath48 also yields a free resolution of @xmath5 over @xmath4 $ ] whose multigraded betti - numbers can be read off from the number of critical cells of given dimension and given multidegree , i.e. from the morse numbers , and from the gradient paths governing incidence among critical cells .",
    "sections  [ section - quad - applic ] and  [ survive - deg - d ] will describe the critical cells in the morse function as follows :    the critical cells of the discrete morse function on @xmath49 in bijection with the words of a language accepted by a finite state automaton , i.e. the words of a regular language . thus , the generating function for morse numbers is a rational function whose coefficients give upper bounds on all of the betti numbers .    in the quadratic grbner basis case ,",
    "this generating function is exactly the poincar - betti series , yielding yet another proof of its rationality in this case .",
    "there are known rational function bounds on the poincar - betti series ( see proposition 3.3.2 in @xcite ) .",
    "but in contrast to these bounds our rational function comes close to the actual betti numbers , in the sense that it exhibits the vanishing of betti numbers as in theorem  [ betti - vanish ] .",
    "we conclude the paper in section [ remarks - questions ] with remarks and open questions .",
    "let @xmath50 be a poset with unique minimal element @xmath51 and unique maximal element @xmath52 .",
    "we denote by @xmath53 the simplicial complex whose @xmath54-simplices are the chains @xmath55 in @xmath50 .",
    "the maximal chains  with respect to inclusion  in @xmath50 are sometimes called _ saturated chains_. notice that the saturated chains in @xmath50 give rise to the facets ( maximal faces ) in @xmath56 , and sometimes we will speak of saturated chains of @xmath50 and facets of @xmath56 interchangeably . for @xmath57 in @xmath50 ,",
    "let @xmath58 $ ] be the closed interval @xmath59 and @xmath60 -\\{x , y\\}$ ] the open interval .",
    "we write @xmath61 for @xmath62)$ ] .    for an arbitrary simplicial complex",
    "we denote by @xmath63 and @xmath64 the non - reduced and reduced simplicial homology of @xmath65 with coefficients in the ring @xmath26 . the @xmath54-th betti number @xmath66 of @xmath65 ( with respect to @xmath67 )",
    "is the rank of the free part of the @xmath54-th non - reduced homology group of @xmath65 with coefficients in @xmath67 . in order to calculate the non - reduced homology @xmath63 or the reduced homology @xmath64 for the relevant simplicial complexes @xmath65",
    "we will use two basic facts from algebraic topology .",
    "first , if @xmath65 is homotopy equivalent to a topological space @xmath68 then the simplicial homology of @xmath65 and the cellular / singular homology of @xmath68 coincide .",
    "in our situation @xmath68 will always be a cw - complex .",
    "the second important fact is , that if a cw - complex @xmath68 has @xmath69 cells of dimension @xmath54 then the @xmath54-th betti number @xmath66 satisfies @xmath70 .",
    "a poset @xmath50 if called _ homotopically cohen - macaulay _ if the order complexes @xmath61 of all intervals @xmath58 $ ] in @xmath50 are homotopy equivalent to a wedge of spheres of dimension @xmath71 . in particular this holds if for each @xmath61 either @xmath72 or @xmath73 and @xmath61 is homotopy equivalent to a cw - complex with no cell in dimension @xmath74 and a single cell in dimension @xmath75 .",
    "our main tool for the construction of a cw - complex @xmath68 homotopy equivalent to a given simplicial complex @xmath65 is discrete morse theory .",
    "this section reviews discrete morse theory results we will need from [ fo ] , [ ch ] , [ jo ] , [ bh ] , [ he2 ] and [ bw ] , along with some other requisite background .",
    "forman [ fo ] defines a function @xmath76 which assigns real values to the cells in a regular cw - complex @xmath68 to be a _ discrete morse function _ if for each cell @xmath77 the sets @xmath78 and @xmath79 each have cardinality at most one . here",
    "@xmath80 denotes the collection of open cells in @xmath68 and @xmath81 denotes the closure of @xmath82 in @xmath68 for @xmath77 .",
    "the condition implies that for each @xmath82 , at most one of two sets is non - empty . when both are empty , then @xmath82 is called a _",
    "critical cell_. the main result on discrete morse functions is the following :    [ main - discrete ] if @xmath76 is a discrete morse function on the regular cw - complex @xmath68 then @xmath68 is homotopy equivalent to a ( not necessarily regular ) cw - complex @xmath83 , such that for any given @xmath54 the number of cells of dimension @xmath54 in @xmath83 equals the number of critical cells of dimensions @xmath54 of the morse function of @xmath76 .",
    "moreover , incidences among cells in @xmath83 are governed by a collapsing procedure that leads from @xmath68 to @xmath83 while preserving homotopy type at each step .    in [ ch ] ,",
    "chari reformulated discrete morse functions for regular cw - complexes in terms of certain types of face poset matchings .",
    "recall that the _ face poset _ of a cw - complex @xmath68 is the partial order @xmath84 on the cells in @xmath80 defined by @xmath85 whenever @xmath86 is contained in the closure @xmath81 of @xmath82 .",
    "if @xmath68 is the geometric realization of an abstract simplicial complex @xmath65 then this order is just the inclusion relation between the simplices of @xmath65 .",
    "hasse diagram _ of a poset is the graph whose vertices are the poset elements and whose edges are the covering relations @xmath87 , i.e. pairs @xmath88 such that @xmath89 implies @xmath90 or @xmath91 .",
    "a matching on the hasse diagram of the face poset @xmath84 of a regular cw - complex @xmath68 is called _ acyclic _ if the directed graph obtained by directing matching edges upward and all other poset edges downward has no directed cycles .",
    "notice that the non - critical cells of a discrete morse function @xmath76 come in pairs that prevent each other from being critical .",
    "hence , this pairing gives a matching on the face poset of the cw - complex .",
    "furthermore , this matching is acyclic , because chari s edge orientation will orient all edges in the direction in which @xmath76 weakly decreases .",
    "conversely , many different ( but in some sense equivalent ) discrete morse functions may be constructed from any face poset acyclic matching .",
    "for instance , one may obtain @xmath76 by choosing a monotone function on any total order extension of the partial order given by the acyclic directed graph .",
    "the face poset elements that are left unmatched by an acyclic matching are exactly the critical cells in any corresponding discrete morse function .",
    "we will work exclusively in terms of acyclic matchings rather than discrete morse functions , but at times it is helpful to have both points of view in mind .",
    "denote by @xmath69 the number of critical cells of dimension @xmath54 in a discrete morse function on a regular cw - complex @xmath68 . as usual @xmath66",
    "is the @xmath54-th betti number of @xmath68 . by virtue of theorem",
    "[ main - discrete ] @xmath68 is homotopy equivalent to a complex @xmath83 constructed from @xmath69 cells of dimension @xmath54 .",
    "the first of the following two results is an immediate corollary from theorem [ main - discrete ] , the second was first proved in [ fo ] . both results exhibit a strong analogy with traditional morse theory : @xmath92    the inequality ( [ bound ] )",
    "will be used in later sections in oder to obtain bounds on betti numbers .",
    "for our applications also the following special situation which we already mentioned in section [ posets ] will be of importance .",
    "[ cm - ness ] let @xmath68 be a regular cw - complex and @xmath76 a discrete morse functions on @xmath68 with @xmath69 critical cells of dimension @xmath54 . if @xmath93 for @xmath94 and @xmath95 then @xmath68 is @xmath96-connected .",
    "in particular , if for all order - complexes @xmath61 of intervals @xmath58 $ ] in a poset @xmath50 such that @xmath97 there is a morse function @xmath98 with no critical cell in dimension @xmath74 and a single critical cell in dimension @xmath75 , then each interval is homotopy equivalent to a wedge of spheres of dimension @xmath99 and @xmath50 is homotopically cohen - macaulay .",
    "let @xmath68 be a regular cw - complex and @xmath76 a discrete morse function on @xmath68 .",
    "gradient path _ from a critical cell @xmath86 to another critical cell @xmath82 of dimension @xmath100 is a directed path upon which the morse function weakly decreases .",
    "it is a simple consequence of the definition that a gradient path between @xmath86 and @xmath82 will alternate between cells of dimension @xmath101 and @xmath100 .",
    "it will turn out that for our purposes we need to find a discrete morse function on @xmath61 for intervals @xmath57 in an affine semigroup @xmath9 such that inequality ( [ bound ] ) becomes an equality",
    ". we will not always be able to achieve this goal and indeed it is open whether this is even possible . in our approach",
    "we construct a discrete morse function on @xmath61 and then try to optimize the function in order to make ( [ bound ] ) tight . for the latter we will employ the following observation .    [ cancelling ] if there is a unique gradient path from @xmath86 to @xmath82 , then reversing the orientation of each edge in this path yields a new acyclic matching for which @xmath86 and @xmath82 are no longer critical .",
    "we refer to the procedure described in observation [ cancelling ] as `` cancelling critical cells . ''",
    "the following lemma from [ jo ] will be useful for combining several acyclic matchings to a single acyclic matching .",
    "[ filter ] let @xmath68 be a regular @xmath102-complex which decomposes into collections @xmath103 of cells indexed by the elements @xmath104 in a partial order @xmath50 with unique minimal element @xmath51 as follows :    1 .",
    "@xmath68 decomposes into the disjoint union @xmath105 , that is , each cell belongs to exactly one @xmath103 2 .",
    "for each @xmath106 , @xmath107 is a subcomplex of @xmath68    for each @xmath106 , let @xmath108 be an acyclic matching on the subposet @xmath109 of @xmath84 consisting of the cells in @xmath103 . then @xmath110 is an acyclic matching on @xmath111 .",
    "let @xmath50 be a poset with unique minimal element @xmath51 and unique maximal element @xmath52 .",
    "assume that the edges of the hasse diagram of @xmath50 are labeled by a labelling @xmath112 which takes values in a linearly ordered set . via this labelling",
    "we can assign to each saturated chain @xmath113 in @xmath50 of cardinality @xmath54 an @xmath114-tuple @xmath115 .",
    "thus any linear extension of the lexicographic ordering on the tuples induces a linear order on the saturated chains in @xmath50 .    in our situation where @xmath116 $ ] for @xmath57 in an affine semigroup",
    "@xmath9 generated by @xmath11 the labelling @xmath112 is given by sending a cover relation @xmath117 to @xmath118 or if we consider @xmath6 $ ] as a quotient of @xmath119 $ ] we can equivalently label @xmath117 with @xmath14 .",
    "note , that in the latter case the product over the labels of a saturated chain is a monomial in @xmath120 $ ] . in either case",
    "we can choose an arbitrary linear order on the sets @xmath121 or @xmath122 .",
    "since the two labellings are equivalent we will not distinguish between @xmath123 and @xmath124 in the rest of the paper .",
    "it is shown in [ bh ] how to construct a discrete morse function on @xmath56 , respectively an acyclic matching on the face poset @xmath125 of @xmath56 for a labeled poset @xmath50 , from the lexicographic order on the saturated chains of @xmath50 .",
    "if this lexicographic ordering happens to be a shelling order ( see [ bjw ] ) then it is possible to infer directly from the constructed morse function that the poset is homotopically cohen - macaulay  just as it can be deduced from the lexicographic shelling itself",
    ". we will refer to a morse function resulting from a lexicographic ordering on the saturated chains as a _ lexicographic discrete morse function_. we will show in section  [ facet - order - section ] that the construction of [ bh ] applies to a larger class of orders on saturated chains .",
    "this will allow us to construct a discrete morse function on @xmath126 for an affine semigroup @xmath9 generated by @xmath11 from a facet order based on an arbitrary monomial term order on @xmath45 $ ] .",
    "let @xmath112 be a labelling of the poset covering relations such that @xmath127 for @xmath128 .",
    "then the ordering of the label sequences on the saturated chains by the lexicographic order already gives a total order on saturated chains , i.e. an ordering @xmath129 on facets in @xmath56 . to describe the corresponding discrete morse function from [ bh ] , we will need to speak of the ranks of elements of a saturated chain , whether or not a poset is graded .",
    "we will do this by assigning to an element of a saturated chain the rank of the element within the chain and speak of the rank with respect to the chain .",
    "indeed , we do not require consistency of the notion of rank between different saturated chains .",
    "also we will identify a set of chains in @xmath50 , resp .",
    "faces of @xmath53 , with the simplicial complex generated by the chains .",
    "each maximal face in @xmath130 has rank set ( with respect to @xmath131 ) of the form @xmath132 , i.e. it consists of all ranks in @xmath131 except for a single interval @xmath133 of consecutive ranks that are omitted ; this follows from the use of a lexicographic order on facets .",
    "call each such list @xmath133 of ranks a _ minimal skipped interval _ of @xmath131 , and say the interval has _",
    "height @xmath134_. following [ bih ] and [ bh ] , call the collection of minimal skipped intervals for @xmath131 the _ interval system _ or _ set of @xmath135-intervals _ of @xmath131 .    for each facet",
    "@xmath131 , [ bh ] constructs an acyclic matching on the set of faces in @xmath136 in terms of the interval system for @xmath131 .",
    "this is done in such a way that the union ( over all @xmath131 ) of these matchings is acyclic , and each @xmath137 includes at most one critical cell .",
    "we say @xmath131 _ contributes a critical cell _ if @xmath137 contains a critical cell .",
    "@xmath131 will contribute a critical cell if and only if the homotopy type changes with the attachment of @xmath131 .",
    "* description of critical cells : *    * if the @xmath135-intervals of @xmath131 do not collectively have support covering all the ranks in @xmath131 , then @xmath131 does not contribute a critical cell . *",
    "if the @xmath135-intervals of @xmath131 cover all ranks and have disjoint support , then the critical cell consists of the lowest rank from each of the @xmath135-intervals .",
    "* if there is some overlap in the minimal skipped intervals of @xmath131 , then iterate the following procedure to obtain the critical cell , ordering @xmath135-intervals so that their minimal ranks are increasing : 1 .   include the lowest rank from @xmath138 in the critical cell .",
    "2 .   truncate all the remaining minimal .",
    "skipped intervals by chopping off any ranks that they share with @xmath138 .",
    "3 .   discard @xmath138 and any skipped intervals that are no longer minimal .",
    "re - index the remaining truncated minimal skipped intervals to begin with a new @xmath138 .",
    "repeat until there are no more minimal skipped intervals .",
    "the non - overlapping intervals obtained by the above truncation procedure are called the _ @xmath139-intervals _ of @xmath131 .",
    "@xmath131 contributes a critical cell if and only if its @xmath135-intervals cover all ranks of @xmath131 . in this case , the dimension of the critical cell is one less than the number of @xmath139-intervals .    in order to cancel critical cells by reversing gradient paths , we will also need some information about the matching itself .",
    "* description of the acyclic matching on @xmath140 : *    * if @xmath131 has no critical cells , then there is at least one cone point in @xmath130 .",
    "in this situation we match by including / excluding cone point of lowest rank . *",
    "if @xmath131 contributes a critical cell , then match any non - critical cell based on the lowest @xmath135-interval of @xmath131 where the cell differs from the critical cell . specifically , match by including / excluding the lowest element of the @xmath135-interval , since the cell must include at least one element of the @xmath135-interval other than this lowest possible element , in order to cover the @xmath135-interval but differ from the critical cell .",
    "[ intuitive - idea - remark ] if there is some @xmath30 such that every @xmath135-interval in a lexicographic discrete morse function has height at most @xmath141 , then the above construction immediately implies that each poset interval @xmath142 is at least @xmath143-connected .",
    "in fact , it suffices for the average interval height to be at most @xmath141 .    in our setting , where @xmath144 for @xmath57 in an affine semigroup @xmath9 remark [ intuitive - idea - remark ] will turn out to be applicable for @xmath30 the degree of a grbner basis of the ideal @xmath29 ( i.e. the maximal total degree of a polynomial in the grbner basis ) .",
    "we will use the fact that every @xmath135-interval results from a label sequence descent or from a syzygy leading term , by virtue of our use of a monomial term order to order the saturated chains .",
    "furthermore , all leading terms will be divisible by grbner basis leading terms of degree at most @xmath30 , which will allow us to show that the average interval height is at least @xmath141 , yielding the desired lower bound on connectivity . in a sense , this gives a new combinatorial explanation for the connection between grbner basis degree and complexity , in which a shelling is the special case with @xmath145 .",
    "however , just as in the shelling in [ prs ] , only certain types of monomial term orders and grbner bases will immediately yield the degree @xmath30 analogue of a shelling .",
    "[ non - shell - examp ] consider @xmath146/(z_1z_4-z_2 ^ 2)$ ] with a term order @xmath147 such that @xmath148 .",
    "if @xmath149 is a grbner basis leading term , but @xmath150 and @xmath151 are not grbner basis leading terms , then @xmath152 precludes the shelling from [ prs ] , since @xmath150 and @xmath151 are not leading terms ,    in order to be able to allow completely general monomial term orders , i.e. to deal with situations such as in example  [ non - shell - examp ] , we need to extend the tools from [ bh ] described in this section by performing critical cell cancellation . this extension will be done in section [ facet - order - section ] .",
    "the the method of critical cell cancellation is explained in the next section .",
    "this section reviews tools from [ he2 ] for eliminating critical cells by cancelling pairs by a gradient path reversal .",
    "later we will construct a lexicographic discrete morse function for monoid posets , and then use these morse function optimization tools to eliminate all of the low - dimensional critical cells .",
    "let @xmath65 be a simplicial complex and @xmath76 a discrete morse function on @xmath65 .",
    "define the _ multi - graph face poset _ , denoted @xmath153 , for the complex @xmath154 of critical cells as follows :    1 .",
    "the vertices in @xmath153 are the cells in @xmath154 , or equivalently the critical cells in the discrete morse function on @xmath155 .",
    "there is one edge between a pair of cells @xmath156 of consecutive dimension @xmath157 for each gradient path from @xmath86 to @xmath158 .",
    "[ multi - graph ] any acyclic matching on @xmath153 specifies a collection of gradient paths in @xmath159 that may simultaneously be reversed to obtain a discrete morse function @xmath160 whose critical cells are the unmatched cells in the matching on @xmath153 .    to cancel cells",
    ", we will need to know that a gradient path from a critical cell @xmath161 to a critical cell @xmath158 is the only gradient path from @xmath161 to @xmath158 .",
    "[ def - commute ] let @xmath162 be covering relations in a poset @xmath50 labeled by @xmath112 .",
    "assume we are given a linear order on the saturated chains in @xmath163 $ ] .",
    "the labels @xmath164 and @xmath165 on covering relations @xmath162 are said to _ commute _ if the least saturated chain in @xmath163 $ ] is labeled by @xmath166 arranged in ascending order .",
    "let @xmath164 denote the sequence of edge labels on the least saturated chain from @xmath167 to @xmath168 .",
    "[ lci ]    let @xmath50 be a poset labelled by @xmath112 and assume that within each interval the saturated chains are linearly ordered by an order depending only on the label sequence .",
    "* the weakly increasing rearrangement of the label sequence of a saturated chain is called the _ content _ of the chain . *",
    "the labelling @xmath112 is called _ least - increasing _ if every interval has a ( weakly ) increasing chain as its least saturated chain . * the labelling @xmath112 is is called _ least - content - increasing _ if it is east - increasing and in addition the label sequence of the least chain equals or precedes the content of the label sequence of every other saturated chain in the interval .    note , that since the definition assumes the linear order on the saturated chains only depends on the label - sequences , definition [ lci](iii ) we can consider this order as an order on label sequences . if the linear order on the saturated chains is given by the lexicographic order then the condition least - increasing is weaker than being an el - labelling ( see [ bjwa ] ) , in that intervals may have several increasing chains .",
    "if two critical cells @xmath169 in a least - content - increasing labelling are contributed by saturated chains of equal content , then every downward step in any gradient path from @xmath161 to @xmath158 must preserve content , and in fact must sort labels on the interval where the chain element was deleted .    combining results",
    "( see theorem 6.6 ) in [ he2 ] yields the following .",
    "[ red - exp ] let @xmath50 be a poset labelled by a least - content - increasing labelling @xmath112 .",
    "let @xmath170 be the lexicographic discrete morse induced by @xmath112 and let @xmath171 , @xmath172 , be critical cells resulting from saturated chains whose label sequences @xmath173 have equal content .",
    "suppose further that the permutation transforming @xmath174 to @xmath175 is 321-avoiding .",
    "if there is a gradient path @xmath176 from @xmath86 to @xmath82 such that each downward step swaps a pair of consecutive labels by deleting an element @xmath168 from a chain which also includes elements covering and covered by @xmath168 , then @xmath176 is the unique gradient path from @xmath161 to @xmath158 .",
    "our upcoming discrete morse function will use a content - lex facet order , as introduced in section  [ facet - order - section ] .",
    "theorem  [ red - exp ] also applies in that setting without requiring any modification .",
    "theorem  [ one - path ] will generalize the above to deal with non - saturated chain segments , as needed for cancelling critical cells in our upcoming morse function .",
    "let @xmath170 be a module over a commutative ring @xmath26 .",
    "a _ free resolution _ of @xmath170 over @xmath26 is a complex of free @xmath26-modules @xmath177 and @xmath26-module homomorphisms @xmath178 @xmath179 which is exact in all degrees @xmath180",
    "( i.e. , @xmath181 for @xmath182 ) and @xmath183 . in our case @xmath2 $ ] is a @xmath3-algebra and carries an additional multigraded structure , recall that a @xmath3-algebra @xmath184 / i$ ] is called @xmath185-_multigraded _ if @xmath186 as @xmath3-vector spaces and @xmath187 .",
    "if @xmath188 and @xmath26 is generated in degree @xmath189 over @xmath190 then @xmath26 is called _",
    "standard graded_. analogously defined are @xmath185-graded @xmath26-modules . in this situation",
    "we consider multigraded free resolutions @xmath191 .",
    "in addition to being a resolution one demands that the @xmath177 are free multigraded @xmath26-modules and that the @xmath178 are @xmath185-homogeneous .",
    "a free multigraded module @xmath192 is a direct sum @xmath193 of free @xmath26-modules @xmath194 of rank one whose grading is defined by assigning @xmath195 as the degree of the unit element @xmath189 .    a @xmath185-graded free resolution @xmath196 is called cellular , if there is a cw - complex @xmath68 and a map @xmath197 from the set @xmath80 of its cells to @xmath185 such that :    * there is a basis @xmath198 of @xmath199 indexed by the @xmath54-cells of @xmath68 in such a way that if @xmath198 belongs to @xmath194 then @xmath200 . * for the @xmath54-cell @xmath201 of @xmath68 and its cellular differential @xmath202 c'$ ] , we have @xmath203 \\xx^{\\gr ( c ' ) - \\gr ( c ) } e_{c'}$ ] .    in this situation we say that @xmath68 _ supports _ the resolution @xmath191 .",
    "consider the face poset @xmath204 of a cw - complex @xmath68 supporting a resolution .",
    "[ bw , proposition 2.2 ] shows that an acyclic matching @xmath205 on @xmath50 leads to a chain homotopy between the original resolution and a smaller cellular resolution , given by the smaller cw complex @xmath83 of critical cells in a discrete morse function given by @xmath205 , if @xmath205 matches only cells that have the same value under @xmath206 .",
    "it is well known that for any @xmath185-graded module @xmath170 there exists a _",
    "minimal _ multigraded free resolution ( i.e. , a resolution that uses the least number of free modules in each degree ) .",
    "now the results from @xcite , as described above , allow one to construct smaller resolutions from a given resolution .",
    "it is also clear ( see @xcite ) that this process will not always allow one to produce the minimal free resolution .",
    "let us consider a ` big ' cellular resolution in the situation treated in this paper ( i.e , @xmath2 $ ] and @xmath207 ) .",
    "it is well known that the simplicial complex @xmath126 of all finite chains @xmath208 in @xmath9 together with the grading @xmath209 gives a multigraded free cellular resolution of the maximal ideal @xmath210 \\rightarrow k)$ ]  the normalized bar resolution . since",
    "a free minimal resolution of @xmath3 over @xmath211 $ ] starts with @xmath6 $ ] , minimizing the normalized bar resolution is equivalent to minimizing a resolution of @xmath3 .",
    "a well known criterion for a resolution to be minimal is that no unit elements of @xmath26 occur in the matrices representing the differentials .",
    "if in addition @xmath26 is standard graded and all matrix entries are either @xmath75 or elements of degree @xmath189 , then the resolution is called _",
    "linear_. if @xmath3 has a linear resolution then @xmath26 is called _",
    "koszul_.    in our case , where @xmath2 $ ] , we know that @xmath26 is standard graded if and only if the generators of @xmath9 lie on an affine hyperplane . in this situation",
    "@xmath26 carries two gradings , the standard grading and a multigrading given by @xmath9 .",
    "the tor - groups @xmath212 , where @xmath213 , also carry a multigraded structure @xmath214 .",
    "thus koszulness can be read off from the @xmath8-groups .",
    "namely , @xmath26 is koszul if and only if @xmath215 for @xmath216 with standard grading not equal to @xmath54 .",
    "a well known sufficient condition for a @xmath3-algebra @xmath217 /i$ ] which is standard graded to be koszul is that @xmath135 has a quadratic grbner basis .",
    "recall that for a monomial order @xmath147 on @xmath45 $ ] a _ grbner basis _ of @xmath135 is a generating set @xmath218 of polynomials in @xmath135 such that the _ initial ideal _",
    "@xmath219 is equal to the ideal generated by @xmath220 .",
    "recall that the _ leading monomial _",
    ", denoted @xmath221 , for a polynomial @xmath76 is the largest monomial with respect to @xmath147 occurring in @xmath76 ; we write @xmath222 and @xmath223 if the monomial order is clear from the context .",
    "finally , a _ monomial term order _ on @xmath45 $ ] is a linear order @xmath147 on the monomials in the ring such that ( 1 ) @xmath224 for all monomials @xmath225 , and ( 2 ) @xmath226 implies @xmath227 for all monomials @xmath228 .",
    "a central question in the theory of infinite resolutions is ` which conditions on a module @xmath170 imply that poincare'-betti series of its minimal free resolution is rational ?  ( see @xcite ) .",
    "when @xmath2 $ ] is a standard graded and multigraded @xmath3-algebra and @xmath207 , the ( graded and multigraded ) _ poincare-betti series _ is given by @xmath229 , where @xmath230 is the degree of @xmath216 in the standard grading on @xmath26 .",
    "we will not be able to give a new criterion for the rationality of the poincare-betti series .",
    "but we will be able to give in section [ survive - deg - d ] a rational series which bounds the poincare-betti series from above , i.e. all coefficients are greater or equal to the ones in the poincare-betti series . in order to prove rationality of our series",
    "we will resort to the theory of regular languages .",
    "it is well known ( see [ br ] ) that the generating series of a regular language is rational .",
    "a language @xmath231 over a finite _ alphabet _ @xmath232 is called _ regular _ if there is a finite state automaton which accepts exactly the words in @xmath231 .",
    "the generating series of @xmath231 is given by @xmath233 , where @xmath234 is the number of letters in @xmath235 .",
    "see for instance [ br ] for additional information .",
    "this section will show how the lexicographic discrete morse function construction of [ bh ] generalizes easily to a larger class of facet orders for poset order complexes ; this will include facet orders for monoid posets based on arbitrary monomial term orders .",
    "first observe that the [ bh ] construction applies without modification to any facet order @xmath129 which yields an interval system structure on each @xmath137 .",
    "equivalently , the construction will work for facet orderings satisfying the crossing condition , as introduced in [ he1 ] and defined below .",
    "* crossing condition . *",
    "_ let @xmath236 be a linear order on the saturated chains in a partially ordered set @xmath50 of rank @xmath28 and rank function @xmath237 .",
    "let @xmath192 be a saturated chain , @xmath238 and @xmath239 .",
    "suppose that @xmath240 - \\ { { \\rm rk}(p)~|~p \\in \\sigma\\}$ ] is not an interval of natural numbers .",
    "then there is some facet @xmath241 such that @xmath242 . _",
    "the crossing condition implies that for a saturated chain @xmath192 , maximal faces in @xmath243 are supported on a set of ranks whose complement is a single interval of consecutive ranks .",
    "[ gen - lex ] if a facet ordering on an order complex satisfies the crossing condition , then the acyclic matching construction of [ bh ] applies to this facet ordering .",
    "the effect of the crossing condition for a particular facet order @xmath244 is to ensure that each maximal face of @xmath245 for @xmath246 skips a single interval of consecutive ranks .",
    "thus , the faces in @xmath247 are the ones that `` hit '' each of these intervals , implying that the matching construction from [ bh ] still applies .",
    "a facet order on a poset order complex which satisfies the crossing condition is called _ lex - like facet order_. the discrete morse function obtained by applying the construction from [ bh ] to such a facet order is called a _",
    "lex - like discrete morse function_.    let @xmath248 $ ] be an interval in a labelled poset @xmath50 .",
    "for a saturated chain in @xmath58 $ ] , the set of all saturated chains in @xmath58 $ ] having the same content is called the fibre of the content . now again turn to intervals in affine semigroups @xmath9 .",
    "let @xmath112 be the usual labelling of a covering relation @xmath117 by the generator @xmath249 of the semigroup .",
    "we assume that we are given a monomial term order on @xmath119 $ ] and again as usual identify the generators of @xmath9 with the variables @xmath14 .",
    "this identification allows us to order the saturated chains by the given monomial term order .",
    "recall , that we identify a label sequence with the monomial which is the product over the labels , which in turn can be seen as the content of the saturated chain with the given label sequence .",
    "lemma  [ monoid - cross ] considers linear orderings of saturated chains in intervals of @xmath9 obtained by combining the ( commutative ) monomial term ordering with a lexicographic order on each fibre ; that is , we extend the order given by the monomial term order on the content by the lexicographic ordering on chains that have the same content .",
    "the lexicographic order uses the monomial term order on degree @xmath189 monomials to order the labels .    [ monoid - cross ] let @xmath116 $ ] be an interval in an affine semigroup @xmath9 and assume that the saturated chains in @xmath50 are ordered by a monomial term order refined by the lexicographic order .",
    "then this ordering satisfies the crossing condition . in particular",
    ", we can construct a discrete morse function just as in the case of a lexicographic order .",
    "let @xmath250 be the equivalence relation on the set of saturated chains such that @xmath251 if and only if @xmath225 and @xmath28 are two saturated chains in the same closed interval in @xmath50 .",
    "we abuse notation and say @xmath252 if the two chains are labeled by the same commutative monomial , i.e. the labels on one saturated chain are a permutation of the labels on the other .",
    "suppose that for two saturated chains @xmath253 and @xmath254 we have @xmath255 , @xmath256 but @xmath257 and @xmath258 .",
    "assume further that @xmath259 in the given monomial order @xmath260 .",
    "this is one situation where a saturated chain has an overlap face with earlier saturated chains such that the complement of the ranks in the overlap face is disconnected .",
    "we check that either @xmath261 or @xmath262 , as follows .",
    "suppose @xmath263 , which implies @xmath264 .",
    "suppose @xmath265 also holds , implying @xmath266 .",
    "combining these inequalities yields @xmath267 a contradiction .",
    "hence , at least one of the monomials @xmath268 or @xmath269 precedes @xmath254 in our term order .",
    "this ensures that the maximal face shared by @xmath253 and @xmath254 is not a maximal face in the simplicial complex of faces shared by @xmath254 and facets that precede it in lexicographic order , just as needed",
    ".    now suppose there is a saturated chain @xmath131 not dealt with above that has an overlap face with an earlier saturated chain @xmath177 such that the complement of the ranks in the overlap face is disconnected .",
    "then @xmath270 are labeled @xmath271 , respectively , where @xmath272 are permutations on the labels in @xmath273 and @xmath274 but @xmath275 .",
    "consider @xmath276 which is labeled @xmath277 .",
    "since @xmath278 , we are done .",
    "examples suggest that the following procedure may be convenient for posets with no particularly well - behaved global labelling",
    "label edges in a poset hasse diagram in a natural way ( or more generally , give a chain - labelling on saturated chains ) .",
    "2 .   partition the set of saturated chains into groups called _ content classes _ according to the content of their label sequences .",
    "put an ordering on these content classes .",
    "4 .   within each",
    "content class , order saturated chains lexicographically .",
    "prove that the resulting facet order satisfies the crossing condition .",
    "cancel pairs of critical cells which have the same content , i.e. pairs in the same content class .",
    "this approach can make critical cell cancellation manageable for posets with no particularly nice global labelling , because gradient paths that begin and end in the same content class must never leave that content class .",
    "this will be essential to our analysis of monoid posets and to arguments in [ hhs ] .",
    "a _ content - lex facet order _ is a lex - like facet order such that :    * the ordering is constructed from a labelling by refining a linear order on fibres by a lexicographic order .",
    "* the least saturated chain in each interval has weakly increasing labels .    one way content - lex facet orders arise",
    "is when each content class individually has an el - labelling .",
    "this is the situation for our upcoming facet order on monoid posets as well as a @xmath279-analogue of the partition lattice examined in [ hhs ] .",
    "content - lex facet orders behave as least - content - increasing labellings for purpose of applying theorem  [ red - exp ] to verify gradient path uniqueness .",
    "now we generalize theorem  [ red - exp ] to allow non - saturated chain segments in gradient paths between critical cells in the same content class in a content - lex facet order , under certain additional assumptions .",
    "remark  [ non - unique - remark ] suggests that the 321-avoiding assumption is probably necessary for any general result about gradient path uniqueness for lex - like discrete morse functions .",
    "upcoming sections will construct a non - optimal discrete morse function for monoid posets , then use the following theorem to improve it .",
    "a _ delinquent chain _ in a least - increasing labelling ( or in a content - lex facet order ) is an increasing chain that is not lexicographically smallest on an interval .",
    "a content - lex facet order is _ consistently delinquent _ if the existence of a delinquent chain labeled @xmath280 implies that any chain segment labeled @xmath281 for @xmath282 and @xmath283 is also delinquent .",
    "denote by @xmath284 the earliest facet containing a cell @xmath285 , and let @xmath286 be the label sequence on @xmath284 .",
    "we say that a chain element _ covers _ a delinquent chain if it is in the interior of the delinquent chain , preventing the poset chain from belonging to an earlier content class .",
    "[ one - path ] let @xmath287 , @xmath157 , be critical cells in the same content class in a content - lex facet order which is consistently delinquent .",
    "suppose @xmath175 differs from @xmath288 by a 321-avoiding permutation @xmath289 which either shifts a single group of one or more consecutive ascending labels upward , or shifts a single label downward .",
    "then there is at most one gradient path from @xmath161 to @xmath158 .",
    "since @xmath161 is critical , every pair of consecutive labels in @xmath174 is either a descent or part of a minimal delinquent chain .",
    "gradient paths from @xmath161 to @xmath158 can never uncover any delinquent chains , since that would cause the gradient path to pass to an earlier content class , from which it could never reach @xmath158 . since the facet order is also least - increasing , each downward step must either preserve the label sequence or eliminate a descent by deleting an element @xmath290 from a chain @xmath291 of the form @xmath292 , causing the labels on the segments of @xmath293 from @xmath294 to @xmath290 and from @xmath290 to @xmath295 to be sorted into a single ascending list .",
    "the least - increasing property thus , any inversions present in @xmath175 must be preserved throughout the gradient path , since they can never be re - introduced . with these observations in hand , we will describe the only possible gradient path from @xmath161 to @xmath158 , showing at each stage there is only one choice for how to proceed .",
    "suppose @xmath175 is obtained from @xmath174 by shifting a collection of consecutive , ascending labels upward .",
    "let @xmath296 be the label to be shifted upward to the highest destination in @xmath175 , and let @xmath297 be the label immediately above @xmath296 in @xmath174 . by virtue of the morse function construction of [ bh ] , @xmath161 includes exactly the ranks where @xmath284 has descents as well as exactly one rank that covers each of the minimal delinquent chains , namely the lowest ranks in the @xmath139-intervals . the first gradient path downward step must eliminate a descent since it is not allowed to uncover a delinquent chain .",
    "the only choice that will not eliminate an inversion that is present in @xmath175 is to eliminate a descent between @xmath296 and the label above it , i.e. deleting an element @xmath290 from a chain @xmath298 .",
    "this yields a chain @xmath299 with @xmath300 having a cone point in @xmath130 between @xmath294 and @xmath295 in @xmath131 , but no lower cone points .",
    "thus , the subsequent upward step must insert some @xmath301 above @xmath294 and below the label @xmath296 , with the labels between @xmath302 and @xmath301 now comprising either a descent or minimal delinquent chain . in the latter case ,",
    "the delinquent chain just below @xmath301 must include the label @xmath297 as its highest label .",
    "labels now below @xmath297 can no longer shift upward , since any such labels to be shifted upward in @xmath175 must be smaller than @xmath297 . if there were instead a descent at @xmath294 , only one label is allowed between @xmath294 and @xmath301 , so either it is the label @xmath297 defined above , which does not shift upward , or it is a label smaller than @xmath297 , which is now prevented from moving upward by virtue of being smaller than @xmath297 .",
    "continuing in this fashion , there is only one viable downward step at any given stage until @xmath296 reaches its destination , namely the chain deletion which shifts @xmath296 upward , since no @xmath139-interval is ever covered by more than one chain element while @xmath296 is shifting upward . by the argument above , labels can only shift upward while they are shifting as part of a block of consecutive labels which includes @xmath296 , so all label shifting is complete once @xmath296 has reached its destination , and there is a unique way for this to happen .",
    "all that remains is to consider additional gradient path steps which preserve label sequence .",
    "suppose the label above @xmath296 in @xmath175 is larger than @xmath296",
    ". then @xmath296 must be within a delinquent chain , since @xmath82 is critical . after inserting a cone point below @xmath296 ,",
    "the gradient path must take a downward step deleting a chain element above @xmath296 , since the @xmath139-interval for the delinquent chain which includes @xmath296 will now be covered by at least two chain elements . at this point ,",
    "no upward step is possible , so the gradient path must have reached @xmath158 .",
    "finally , we show that @xmath296 can not form a descent with the label above it in @xmath303 .",
    "otherwise , @xmath296 would be the highest label in a minimal delinquent chain labeled @xmath304 , but @xmath296 could not be shifted upward to this position from below without passing to an earlier content class .",
    "the case where a single label @xmath296 shifts downward to obtain @xmath175 from @xmath174 is quite similar , so is essentially left to the reader .",
    "the first gradient path step must again eliminate a descent so as to preserve content class , and the only allowable choice is a descent between @xmath296 and the label below it . similar reasoning",
    "to above will show that the only possible gradient path will progressively shift @xmath296 downward to its destination , concluding once @xmath296 reaches the interior of a delinquent chain .",
    "throughout this section , we assume the toric ideal @xmath305 has a quadratic grbner basis @xmath306",
    ". however , section  [ non - optimal - section ] will apply to higher degree grbner bases with essentially no modification needed , and large parts of sections  [ syzygy - section]  [ cm - subsection ] will also generalize easily to higher degree grbner bases .",
    "denote by @xmath307 the initial ideal of @xmath17 with respect to the term order giving rise to @xmath306 , i.e. the ideal generated by leading terms of elements of @xmath306 .",
    "this section will show that each interval @xmath308 in the resulting monomial divisibility poset has the homotopy type of a wedge of spheres of top dimension",
    ". our approach will be to construct a lex - like discrete morse function based on a content - lex facet order in theorem  [ morse - init ] , and then to cancel all but some of the top - dimensional critical cells in theorem  [ morse - final ] .",
    "we will employ the simple fact that any leading term of a polynomial in a toric ideal is divisible by a grbner basis leading term . in particular , leading terms of degree greater than the degree of the grbner basis will include variables that in some sense are non - essential .",
    "we will use these non - essential variables to cancel critical cells . in the case of quadratic grbner bases , this approach will allow us to cancel all critical cells that are not saturated chains .",
    "later , we will use a similar ( but somewhat more intricate ) analysis for grbner bases of degree @xmath30 .",
    "the first step will be to give a content - lex facet ordering .",
    "[ morse - init ] the monoid poset interval @xmath308 has a lex - like discrete morse function resulting from a content - lex facet order .",
    "its minimal skipped intervals are the saturated chain segments with label sequences of the following two types :    1 .",
    "descents 2 .",
    "sequences of weakly increasing labels @xmath309 such that @xmath310 , but @xmath311 for every other pair @xmath312 .    the finite saturated chains on intervals in a monoid poset correspond naturally to pairs @xmath313 where @xmath69 is a monomial in @xmath314 $ ] , and @xmath289 is an ordering on the content of @xmath69 .",
    "this is equivalent to labelling saturated chains by non - commutative monomials , in @xmath315 , the viewpoint taken in [ prs ] .",
    "following [ prs ] , we order saturated chains in an interval @xmath308 by using the monomial term order which led to the grbner basis @xmath306 to order the factorizations @xmath316 , and then lexicographically ordering label sequences of any fixed content , with our label order given by the monomial term order applied to monomials of degree one .",
    "lemma  [ monoid - cross ] confirms the crossing condition for this facet order , implying it gives rise to a lex - like discrete morse function from a content - lex facet order .",
    "next , we characterize its minimal skipped intervals .",
    "notice that a descent on the saturated chain segment @xmath162 implies a lexicographically smaller ascend @xmath317 , obtained by reversing the order in which semi - group generators are multiplied , so descents always give minimal skipped intervals . on the other hand , any label sequence @xmath318 as in ( 2 )",
    "will give rise to a minimal skipped interval because the grbner basis element @xmath319 with leading term @xmath320 implies the existence of an earlier saturated chain on the interval labeled by the increasing rearrangement of the monomial @xmath321 ; its minimality follows from the lack of descents and of grbner basis leading terms not requiring both @xmath322 and @xmath323 .",
    "the second type of minimal skipped interval in the statement of the theorem is called a _ syzygy interval_.    to see there are no other minimal skipped intervals , note that a label sequence @xmath324 on any other minimal skipped interval must be ascending to avoid descents which would preclude its minimality ; to have an earlier saturated chain on the interval @xmath324 must be a leading term , hence divisible by a grbner basis leading term @xmath225 .",
    "but minimality ensures @xmath325 divide @xmath225 , and the fact that the grbner basis is quadratic implies @xmath326 .",
    "theorem  [ one - path ] may be applied to the above morse function to cancel pairs of critical cells that belong to the same fibre .",
    "a minimal skipped interval is _ non - trivial _ if it has height greater than one .",
    "notice that only syzygy intervals may be non - trivial .",
    "[ lex_morse_examp ]    consider the interval @xmath327 , or equivalently , @xmath328 , in the ring @xmath329 \\cong   k[z_0,z_1,z_2,z_3,z_4]/(z_1z_4-z_0 ^ 2)$ ] , with @xmath330 .",
    "saturated chains are labeled by indices of the generators @xmath331 .",
    "( 250,100)(-45,0 )    figure  [ des_shift ] shows four saturated chains on this interval , the leftmost and rightmost of which will contribute critical cells .",
    "notice that @xmath332 labels a syzygy interval , while there are descents at ranks 1 and 2 in the leftmost saturated chain , so it has a critical cell @xmath161 comprised of ranks 1,2,3 . on the other hand",
    ", the label sequence @xmath333 in the rightmost saturated chain also labels a syzygy interval , and this chain has a descent at rank 1 , so it has a critical cell @xmath158 comprised of ranks 1,2 .",
    "the remainder of section  [ cm - section ] is devoted to cancelling pairs of critical cells by gradient path reversal , so as to eliminate all critical cells not given by saturated chains .",
    "this will require an acyclic matching on @xmath153 consisting of pairs of critical cells to be cancelled .",
    "we call the critical cells that remain after all this cancellation the _ surviving critical cells_.      for now we assume all monomials on our monoid poset interval are square - free .",
    "the general case is dealt with in theorem  [ morse - final ] .    for convenience , we will refer interchangeably to a critical cell and the saturated chain which contributes it .",
    "figure  [ des_shift ] gives an example of a gradient path from a critical 2-cell to a critical 1-cell in the order complex resulting from the semigroup ring @xmath334/(z_1z_4 - z_0 ^ 2)$ ] .",
    "this gradient path shifts the label @xmath335 to the interior of a syzygy interval , using the fact that @xmath335 is not essential to @xmath336 .",
    "this is the only gradient path between these two critical cells",
    ". our goal will be to systematically cancel many such pairs of critical cells simultaneously .",
    "denote by @xmath337 the syzygy interval with ascending labels @xmath338 in a saturated chain , and refer to the grbner basis leading term @xmath320 with @xmath339 as an _ increasing leading term _ , or _",
    "ilt _ for short .",
    "we will soon use ilts to collect critical cells into boolean algebras within @xmath153 .    in the affine semi - group ring @xmath340/(z_2z_6-z_1 ^ 2)$ ] , consider the saturated chain @xmath131 that is labeled @xmath341 .",
    "@xmath131 contributes the critical cell @xmath342 . by theorem  [ red - exp ]",
    ", there is a unique gradient path from the critical cell @xmath343 to @xmath158 , given by the reduced expression @xmath344 .",
    "more generally , each @xmath345 gives rise to a critical cell @xmath346 contributed by a facet @xmath347 , as follows .",
    "@xmath347 has label sequence @xmath348 , where @xmath349 is the list of members of @xmath350 in increasing order , and @xmath351 is the list of members of @xmath352 listed in decreasing order .",
    "@xmath353 is the non - essential set of the interval .",
    "theorem  [ red - exp ] will show that the set of critical cells @xmath354 sits inside the multi - graph face poset @xmath153 as a boolean algebra , depicted in figure  [ fig - boolcrit ] .",
    "( 250,360)(-50,10 )    this boolean algebra has covering relations @xmath355 for each @xmath356 and each @xmath357 .",
    "a gradient path can not swap non - commuting labels ( in the sense of definition  [ def - commute ] ) without passing to an earlier fibre , so cells to be cancelled will agree up to allowable label commutation .",
    "a label @xmath358 in a saturated chain @xmath170 is _ upward - shiftable _ into a syzygy interval @xmath337 if it satisfies all the following conditions :    1 .",
    "@xmath359 2 .",
    "@xmath358 appears below @xmath337 3 .",
    "all labels between @xmath358 and @xmath337 are smaller than @xmath358 and commute with @xmath358 4 .",
    "all labels within @xmath337 commute with @xmath358 5 .",
    "@xmath358 is not the top of some @xmath360 with either non - empty interior or such that the label @xmath361 immediately above @xmath358 would neither form a descent with @xmath296 nor be part of an ilt together with @xmath296    likewise , @xmath358 is _ downward - shiftable _ from @xmath337 to just above @xmath362 if @xmath358 commutes with all labels separating it from @xmath362 and is larger than all such labels .",
    "each label has at most one syzygy interval into which it is upward - shiftable , because the lowest such interval will separate it from all higher ones .",
    "if @xmath358 appears within @xmath337 , then the _ topologically decreasing position _ for @xmath358 below @xmath337 is the highest position below @xmath337 to which @xmath358 is downward - shiftable so as to obtain the label sequence for a critical cell with @xmath358 not in the interior of any ilt , if such a position exists .    in its topologically decreasing position below an ilt , @xmath358 must form descents or ilts with the labels above and below it .",
    "lemma  [ bool ] will construct gradient paths that shift labels from their topologically decreasing positions below ilts to the interior of ilts . in some circumstances",
    ", we will also speak of the topologically decreasing position of @xmath358 above @xmath337 , by which we mean the lowest position above @xmath337 to which @xmath358 is upward - shiftable to yield the label sequence for a critical cell .",
    "the _ non - essential set _ of a syzygy interval @xmath337 that appears in the label sequence @xmath175 for a critical cell @xmath158 will be a collection of labels that appear in @xmath175 either within @xmath337 or in topologically decreasing positions below @xmath337 .",
    "this set of labels ( to be defined precisely in the remainder of section  [ syzygy - section ] and section  [ match - subsection ] ) is denoted @xmath363 .    to try to convey the intuition for @xmath363 , we now give an oversimplified definition . section  [ match - subsection ]",
    "will modify this into a much more technical definition that accomplishes exactly what is needed .",
    "initially , let us include in @xmath363 those labels that appear within @xmath337 that are downward - shiftable to topologically decreasing positions below @xmath337 .",
    "denote these labels by @xmath364",
    ". also include in @xmath363 those labels @xmath365 that are upward - shiftable into @xmath337 , chosen in order from highest to lowest topologically decreasing position below @xmath337 .",
    "we call critical cells which are not maximal faces in the order complex @xmath366 _ unsaturated_. in the case of a quadratic grbner basis , we will match and cancel all unsaturated critical cells , using the fact that each must have one or more syzygy intervals with non - empty interior .",
    "in this section , we precisely define non - essential sets and show that the resulting matching on critical cells is well - defined .",
    "we also show that every critical cell which has at least one syzygy interval with non - empty interior is indeed matched and cancelled , by showing it has at least one syzygy interval with non - empty non - essential set .",
    "the fact that pairs of critical cells to be matched do indeed comprise covering relations in @xmath153 will be verified in section  [ cm - subsection ] .",
    "a label @xmath358 is _ preferable _ to a label @xmath296 within a label sequence if either @xmath358 is in the non - essential set of a higher syzygy interval than @xmath296 is in , or @xmath367 with the topologically decreasing position for @xmath358 higher than for @xmath296 .    using our oversimplified definition of non - essential set from the previous section , let @xmath337 be the highest syzygy interval in a saturated chain @xmath368 such that @xmath369 , and let @xmath358 be the label in @xmath363 with highest topologically decreasing position below @xmath337 .",
    "the theorem below will sometimes include in a non - essential set @xmath363 a single label that shifts downward into @xmath337 from above .",
    "when this happens , denote this label @xmath370 , and eliminate from @xmath363 any labels below @xmath337 that do not commute with @xmath370 .",
    "[ well - def - bool ] every critical cell with a syzygy interval with an internal label @xmath296 is matched .",
    "specifically , if @xmath296 is excluded from the non - essential set of the interval , then there must be another label that allows the cell to be matched and cancelled .",
    "moreover , the matching choices are made consistently .",
    "we will typically match by shifting @xmath358 from inside @xmath337 to its topologically decreasing position below @xmath337 , or vice versa .",
    "however , special care is needed in four circumstances described below .",
    "when @xmath358 is excluded from a non - essential set , then the matching instead shifts the label with highest preferability among those belonging to some non - essential set .    in each of these circumstances",
    ", we will show that either @xmath358 may be included in @xmath363 or that there is an alternative label to @xmath358 allowing the cell to be matched .",
    "moreover , when @xmath358 is excluded from a non - essential set , it will be excluded for all critical cells in the boolean algebra within which our critical cell is matched .    1 .   @xmath371 shifts downward to a topologically decreasing position which is higher than some label @xmath296",
    "with which @xmath358 does not commute ; however , @xmath296 may shift upward to the interior of a syzygy interval @xmath372 to obtain another critical cell when @xmath358 appears in @xmath337 but not when @xmath358 has shifted downward to its topologically decreasing position .",
    "2 .   @xmath371 shifts downward to just above a label @xmath296 with which @xmath358 does not commute to form an ilt @xmath360 which then has some label @xmath373 .",
    "@xmath371 can not shift downward to a topologically decreasing position without first encountering a label @xmath296 with which it does not commute .",
    "@xmath371 , but shifting @xmath358 downward causes @xmath323 to be in the non - essential set of a higher ilt , or more generally the shifting of all labels within @xmath337 downward to topologically decreasing positions , cumulatively causes @xmath323 to belong to a higher non - essential set .    in the first case",
    "above , exclude @xmath358 from @xmath363 .",
    "when @xmath358 appears within @xmath337 , then @xmath374 , ensuring the cell may still be matched .",
    "matching by shifting @xmath296 will clearly give a cell which would also exclude @xmath358 from @xmath363 .",
    "shifting a label @xmath375 that is preferable to @xmath296 also gives a cell that excludes @xmath358 , either by virtue of @xmath296 , or if @xmath376 do not commute , then by virtue of @xmath375 .    in the second case , note that @xmath371 implies either ( a ) @xmath361 is in the non - essential set of some @xmath377 above @xmath296 , ( b ) @xmath361 is separated from the lowest such @xmath377 by a label with which it does not commute , or ( c ) @xmath361 does not commute with some label in the interior of the lowest such @xmath377 ; this follows from @xmath378 together with the fact that @xmath296 and the label immediately above it must form either a descent or an ilt . in case 2(a ) , @xmath361 provides an alternative label for matching , and @xmath358 may be excluded from @xmath363 .",
    "notice that the partner cell in which @xmath361 or a preferable label @xmath379 has been shifted may also exclude @xmath358 by the following reasoning .",
    "since @xmath358 commutes with @xmath361 , the critical cell with @xmath380 and @xmath358 immediately above @xmath296 may be matched by shifting @xmath361 downward to just above @xmath358 , instead of by shifting @xmath358 .    for 2(b ) , include @xmath358 in @xmath363 , since the cell with @xmath381 may be matched by shifting @xmath361 upward to its topologically decreasing position above @xmath360 , or by shifting a label that is preferable to @xmath361 .",
    "notice that we this also deals with case 4 , by considering it from a different viewpoint .",
    "[ blocking - defn ] when such a label @xmath361 is matched by such upward - shifting , we say that @xmath361 _ blocks _ @xmath323 from belonging to a higher non - essential set .",
    "furthermore , observe that shifting @xmath361 upward , or shifting a preferable label , still gives a critical cell which excludes @xmath358 from @xmath363 ; this is because either @xmath381 , or @xmath361 appears above @xmath358 and would form an ascend with @xmath296 if @xmath358 were shifted upward . for 2(c ) , if @xmath377 has non - empty interior , then this gives an alternative to @xmath358 , allowing @xmath358 to be excluded from @xmath363 . when this alternative label is shifted to outside @xmath377 ,",
    "it is still preferable to @xmath358 , by the conventions from case 2(a ) .",
    "if there are no interior labels in @xmath377 , then @xmath361 does not commute with @xmath382 ; @xmath358 is included in @xmath363 , noting that the cell with @xmath361 shifted into @xmath360 will be matched by shifting @xmath361 upward to just below @xmath383 , similarly to case 2(b ) .",
    "now we turn to the third case .",
    "first notice that @xmath296 must appear in a lower ilt , either as its lowest label , or in its proper interior .",
    "if @xmath296 appears in the interior of some @xmath377 , then exclude @xmath358 from @xmath363 and apply our argument to @xmath296 or a preferable label , proceeding downward until we find a way of matching . by virtue of case ( 1 ) , the matching partner which has shifted @xmath296 or a preferable label will also have excluded @xmath358 from @xmath363 . if @xmath296 is the lowest label of some @xmath384 with non - trivial interior , then again use a label from the interior or a preferable label for matching . on the other hand ,",
    "if @xmath384 has no interior , then consider the descending labels @xmath385 immediately above @xmath375 , up through the lowest label @xmath386 in the next lowest ilt above @xmath384 .",
    "let @xmath350 be the subset of @xmath387 which consists of those @xmath375 along with those labels which commute with @xmath375 , but not with @xmath296 .",
    "if all labels in @xmath350 belong to the non - essential sets of higher ilts , then there is a boolean algebra of critical cells in which each @xmath388 specifies which labels to leave in decreasing order immediately above @xmath296 , rather than shifted upward into the interior of various ilts ; however , the empty set is missing from this boolean algebra unless @xmath296 forms a descent with the label just above it when all labels in @xmath350 are shifts upward into interiors of ilts .",
    "thus , allowing @xmath389 and matching by shifting @xmath358 to just above @xmath296 gives nearly a complete matching on this boolean algebra of critical cells , but there is no matching partner for the cell indexed by @xmath390 .",
    "however , the cell indexed by @xmath391 may instead be matched based on any @xmath392 , since such a @xmath393 either belongs to the non - essential set of some higher ilt , or may be shifted downward into @xmath360 ; in the latter case , we are in a situation where @xmath394 blocks @xmath358 from belonging to @xmath363 , in the sense described above . in any event , all cells in question are matched , and it is clear that the matching partners are also matched in the same fashion .    the fourth case was already handled within the argument for the second case .      in this section",
    "we verify that the matching of the previous section consists of covering relations in @xmath153 , and that these comprise an acyclic matching on @xmath153 with only top - dimensional surviving critical cells .",
    "we begin with an important special case which captures most of the idea .",
    "the _ expanding interval _ of a saturated chain @xmath368 , denoted @xmath337 , is the highest syzygy interval with non - empty non - essential set in @xmath368 ..    [ square - free ] if @xmath17 has a quadratic grbner basis and each @xmath395 is square - free , then the poset interval @xmath396 has a discrete morse function whose critical cells are all saturated , implying the interval is homotopy equivalent to a wedge of spheres .    in a syzygy interval labeled @xmath397 ,",
    "recall that @xmath320 is a grbner basis leading term .",
    "any unsaturated critical cell has at least one syzygy interval with @xmath398 .",
    "we described in the previous section how to match all such cells so that partner cells differ by exactly one in their number of minimal skipped intervals .",
    "lemma  [ overlap ] verifies that they in fact differ in dimension by exactly one .",
    "see figure  [ des_shift ] for an example of a gradient path from one such critical cell to its matching partner .",
    "lemma  [ bool ] shows for the expanding interval @xmath337 that @xmath363 gives rise to a boolean algebra of critical cells within @xmath153 , indexed by the subsets of @xmath363 .",
    "@xmath363 is chosen so that each @xmath399 gives rise to a unique such cell , denoted @xmath346 .",
    "@xmath346 is contributed by a saturated chain @xmath400 , which has exactly the labels in @xmath350 inside @xmath337 , and each of the labels in @xmath401 shifted to its topologically decreasing position outside @xmath337 .",
    "all labels in @xmath400 other than @xmath402 and the members of @xmath363 will appear in the same relative order for all choices of @xmath403 .",
    "any boolean algebra has a complete acyclic matching simply by matching by including / excluding any fixed set element .",
    "we assign each critical cell to the boolean algebra given by the non - essential set of its expanding interval , then take a union of complete acyclic matchings on these boolean algebras .",
    "lemma  [ bool_group ] checks that when one critical cell is assigned to a particular boolean algebra , then all critical cells in that boolean algebra are assigned to it , ensuring the matching is well - defined .",
    "section  [ match - subsection ] already showed that we match all unsaturated critical cells .",
    "the final step is to show that this union of complete matchings on boolean algebras is an acyclic matching on @xmath153 . by theorem  [ multi - graph ]",
    ", this would imply that we may simultaneously reverse all these gradient paths to cancel all but some top - dimensional critical cells .",
    "to get acyclicity , we show two things : ( 1 ) lemma  [ filter ] ensures that cycles can not involve boolean algebras from distinct fibres @xmath395 , due to the filtration @xmath404 based on the monomial term order @xmath405 , and ( 2 ) lemma  [ boolcycle ] verifies that cycles can not involve multiple boolean algebras in the same fibre .",
    "thus , we will produce a discrete morse function whose critical cells are all top - dimensional , implying the order complex has the homotopy type of a wedge of spheres of top dimension .",
    "next we deal with the possibility that not all monomials are square - free . the lemmas that follow do not use the square - free assumption , so they apply to the general case .",
    "[ morse - final ] if @xmath17 has a quadratic grbner basis , then the monoid poset @xmath18 has a discrete morse function whose critical cells are all top - dimensional , implying @xmath18 is homotopically cohen - macaulay .",
    "the only issue left to address is repetition of labels . to this end , we adjust the definition of non - essential set and make sure surviving critical cells still do not have any syzygy intervals with non - empty interior .",
    "when multiple copies of a letter appear inside @xmath337 or are upward - shiftable into it , only include one copy in @xmath363 that shifts downward to below @xmath337 ; we can not shift more than one copy outside the interval and still get a critical cell , since consecutive identical labels not within a syzygy interval give a saturated chain rank not covered by any minimal skipped interval .",
    "including one copy of the repeated letter in the non - essential set is enough to ensure the boolean algebra @xmath406 has @xmath407 , hence has a complete matching .",
    "a letter can not initiate or conclude a syzygy interval and also appear in its interior , since then the syzygy interval would not be a minimal skipped interval .",
    "we may have a syzygy interval which begins and ends with the same label @xmath322 , but then there can not be any interior labels at all .",
    "[ overlap ] critical cells that are matched differ in dimension by exactly one .",
    "if none of the @xmath135-intervals are discarded in their conversion to @xmath139-intervals , then there is no issue ( see section  [ poset - disc - review ] for definitions ) .",
    "when there is discardment , this means there are three or more overlapping @xmath135-intervals such that a middle one is unnecessary for covering all ranks by @xmath135-intervals , so grbner basis leading term elements for these intermediate @xmath135-intervals will each belong to the non - essential set of a higher @xmath135-interval , ensuring matching by shifting such an individual label to outside the collection of overlapping ilts .",
    "this matching operation preserves the number of @xmath139-intervals from ilts and alters by exactly one the number of @xmath139-intervals coming from descents .",
    "thus , dimension changes by exactly one .",
    "[ bool ] the critical cells indexed by subsets of @xmath363 , for @xmath337 the expanding interval of a saturated chain @xmath400 , have the same incidences in @xmath153 as a boolean algebra of subsets of @xmath363 .",
    "that is , there is a unique gradient path from @xmath346 to @xmath408 for each @xmath399 and each @xmath409 , and these are the only gradient paths among critical cells in @xmath410 .",
    "since all saturated chains in a fibre have equal content , and our facet order is content - lex , downward steps in a gradient path must sort labels .",
    "the critical cell @xmath346 is obtained by arranging labels in @xmath350 in increasing order within @xmath337 , and labels in @xmath411 in unique topologically decreasing positions below @xmath337 ( or above @xmath337 , in the special circumstance that @xmath323 must be `` blocked '' from upward - shifting into another non - essential set ) , from which they may shift into @xmath337 .",
    "first we exhibit for each pair @xmath412 with @xmath413 , that there is a gradient path from @xmath346 to @xmath414 .",
    "choose @xmath415 and @xmath416 so that the @xmath416-th element in the chain @xmath346 is just above the lowest label of @xmath337 , and the @xmath415-th element of @xmath346 is just above the label @xmath54 in @xmath346 , for @xmath54 satisfying @xmath412 . in example",
    "[ irt - examp ] , let @xmath417 and @xmath418 .",
    "[ irt - examp ] figure  [ des_shift ] depicts a gradient path from a critical 2-cell of rank set @xmath419 to a critical 1-cell with rank set @xmath420 , based on a ring with @xmath421 .",
    "we have @xmath422 , @xmath423 and @xmath424 .",
    "there is a gradient path from @xmath346 to @xmath414 of the form @xmath425 because @xmath54 commutes with all labels separating it from @xmath337 , @xmath54 is larger than all these separating labels , and our discrete morse function comes from a least - increasing facet order .",
    "since the resulting permutation on labels is 321-avoiding , theorem  [ one - path ] ensures that this gradient path is unique , whether or not non - saturated chain segments are encountered in it .    to show that there are no other covering relations in @xmath153 , i.e. none between other pairs of critical cells corresponding to subsets of @xmath363",
    ", we use the fact that gradient paths can never introduce inversions .",
    "thus , a gradient path from @xmath346 to @xmath414 would imply @xmath426 , since any @xmath427 , would imply an inversion @xmath428 in @xmath346 that is not present in @xmath414 .",
    "next we verify that critical cells are indeed partitioned into boolean algebras .",
    "critical cells with label sequences of distinct content or with non - commuting labels in opposite order are assigned to distinct boolean algebras .",
    "[ bool_group ] whenever one critical cell is assigned to a boolean algebra , then all critical cells in that boolean algebra are assigned to it .",
    "we must show that if @xmath337 is the expanding interval for a saturated chain @xmath400 for some @xmath403 , then the saturated chain @xmath429 for each @xmath414 with @xmath430 also has @xmath337 as its expanding interval .",
    "each label in a saturated chain belongs to the non - essential set of at most one syzygy interval , since it can not pass through the lowest such syzygy interval above it to reach higher ones via a gradient path ; a label is only assigned to the non - essential set of a syzygy interval below it when it can not shift into one above it .",
    "shifting labels belonging to @xmath363 from within @xmath337 to their topologically decreasing positions or vice versa can not cause a higher non - essential set to become non - empty , by virtue of the choices made in theorem  [ well - def - bool ] .    finally , let us confirm that these complete matchings on boolean algebras collectively give an acyclic matching on @xmath153 .",
    "[ boolcycle ] the matching on critical cells in @xmath153 is acyclic .",
    "lemma  [ filter ] ensures there are no directed cycles involving multiple fibres .",
    "suppose there were a directed cycle @xmath368 in a single fibre .",
    "any such @xmath368 must alternate upward ( matching ) steps with downward steps .",
    "our matching consists of a union of complete matchings on boolean algebras .",
    "since the upward steps in a fixed boolean algebra all insert the same fixed element @xmath54 , each downward step must take us to a different boolean algebra , to avoid yielding the top of an upward - oriented edge in the same boolean algebra , from which the cycle could not have continued .",
    "suppose a matching step in @xmath368 shifts a label @xmath296 upward from within an ilt @xmath337 to above it . then by virtue of our matching",
    ", @xmath323 must belong to the non - essential set of a higher ilt in the cell which has @xmath296 and all other labels within @xmath337 shifted to below @xmath337 .",
    "furthermore , @xmath296 must not be upward - shiftable into a higher ilt . to pass to a distinct boolean algebra ,",
    "the downward step immediately after this upward - shifting of @xmath296 must either ( 1 ) shift @xmath323 upward into a higher ilt , ( 2 ) shift a label @xmath358 downward from a topologically decreasing position into the interior of an ilt , or ( 3 ) shift a label @xmath375 upward into the interior of an ilt it then blocks ( cf . definition  [ blocking - defn ] ) .",
    "( 1 ) is impossible because @xmath431 form a non - inversion after @xmath323 is shifted upward , implying an ascend between consecutive commuting labels somewhere between @xmath322 and @xmath296 , causing the cell not to be critical . in case ( 3 ) , we can never un - do this shifting of @xmath375 , since a matching step will not shift it downward from @xmath337 , since @xmath296 blocks @xmath323 from shifting upward , but @xmath296 is too large to shift below @xmath323 without @xmath322 also present . case ( 2 ) is allowed , but eventually we still would need to shift @xmath296 downward into @xmath337 , at which point we would have a downward step keeping us in the same boolean algebra , making it impossible for the cycle to continue .",
    "thus , we can rule out upward - shifting gradient path steps in a cycle .",
    "next suppose there is a step that shift labels downward either creating or eliminating an ilt .",
    "consider the lowest ilt @xmath337 ever created / destroyed .",
    "it must be destroyed by a downward step shifting @xmath322 into the interior of a lower ilt @xmath372 .",
    "eventually we have an upward ( matching ) step , shifting @xmath322 back upward from within @xmath372 to below @xmath323 .",
    "but we have already eliminated the possibility of such upward - shifting matching steps within a cycle .    finally ,",
    "if all upward ( matching ) steps shift labels downward from within ilts to between them , and all downward ( non - matching ) steps shift labels downward from between ilts into lower ilts , preserving the set of ilts at each step , then labels not initiating or concluding ilts move progressively downward and may never return upward , making completing a cycle impossible . to be precise",
    "we create inversions between labels initiating / concluding ilts and other labels , but we may never eliminate these inversions .",
    "this section describes the surviving critical cells in the quadratic grbner basis case in two ways :    1 .   as the words generated by a finite state automaton , implying the generating function for morse numbers is rational 2 .   as representatives of the @xmath432-non - stuttering , @xmath432-commuting equivalence classes of words , as developed in [ hrw ] to count betti numbers .",
    "the discrete morse function of the previous section gives a minimal free cellular resolution of @xmath3 as a @xmath7$]-module .",
    "results of [ bw ] imply that the complex of critical cells from our morse function supports a free cellular resolution of @xmath3 as a @xmath7$]-module , because our acyclic matching preserves multi - grading .",
    "furthermore , there are no incidences among critical cells of equal multi - degree in this morse function , because all critical cells of multidegree @xmath358 come from saturated chains with highest element @xmath358 , making gradient paths from one critical cell to another of the same multi - degree impossible , despite the fact that critical cells need not be concentrated in a single dimension .",
    "if we consider the complex obtained by tensoring the complex of critical cells with @xmath3 , this implies that all its boundary maps are 0 maps .",
    "this implies that the resolution supported by the complex of critical cells is a minimal free resolution .",
    "alternatively , one may see that the resolution is minimal by checking that morse numbers equal betti numbers .",
    "theorem  [ hrw - biject ] does this by constructing a bijection between the critical cells in our morse function and the @xmath432-non - stuttering , @xmath432-commuting equivalence classes of words of [ hrw ] ; these equivalence classes of words were shown in [ hrw ] to index a basis for @xmath433 , because those of fixed multidegree @xmath358 index a homology basis for @xmath434 .",
    "[ morse - betti - rk ] the fact that the discrete morse function gives a minimal free cellular resolution implies morse numbers equal betti numbers .",
    "thus , the upcoming generating function for morse numbers also computes the poincare-betti series .",
    "the next theorem will construct a finite state automaton that generates exactly the label sequences for the surviving critical cells .",
    "the list of states in this finite state automaton is far from minimal in general among all finite state automata generating this language .",
    "specifically , we keep track of more data in each state than is strictly necessary , in order to greatly simplify the description of our automaton .    [ finite - state - auto ] the label sequences for saturated chains which contribute surviving critical cells are exactly the words of a regular language . thus , the generating function for morse numbers , which in this case equals the poincare-betti series , is rational .",
    "the alphabet for the language is the set of labels on covering relations , i.e. of generators for the monoid . for convenience ,",
    "we view label sequences on saturated chains as words by reading them from top to bottom .",
    "since all surviving critical cells are saturated chains , the dimension of each such critical cell is two less than the length of the word labelling it .",
    "thus , the morse number @xmath69 counts words of length @xmath435 in the language of label sequences .",
    "we will describe a set of states and of legal transitions between states that comprise a finite state automaton that generates exactly the language of label sequences for surviving critical cells .",
    "the existence of such an automaton will imply that the language is regular , and hence the generating function for morse numbers is rational ( cf . section  [ regular - review ] ) .",
    "in fact , the rational generating function may be determined from the finite state automaton ( see [ br ] ) .",
    "the remainder of the proof describes how to construct such an automaton .",
    "the automaton has a unique initial state , and each time a label is read , a transition is made from one state to another state if the label sequence read so far could be the initial segment for a label sequence of a surviving critical cell . to decide which labels give valid transitions ,",
    "each state must keep track of enough data about previously read labels to decide whether concatenating a newly read label will    * give a label sequence for a surviving critical cell , in which case a transition is made to a final state , or * give a label sequence for a critical cell which is cancelled , but one where reading additional labels could again yield a surviving critical cell , in which case a transition is made to a non - final state , or * give a label sequence not meeting either of the above forms , in which case there is no valid transition , so the word is not generated by the automaton .    specifically , for there to be a transition labeled @xmath358 out of a state @xmath436 , @xmath358 must form either a descent or an ilt with the most recently read label , and there are further constraints related to non - essential sets .",
    "the requirement about descents and ilts is necessary because every pair of consecutive labels for a surviving critical cell must take this form .",
    "each state will contain the following data : the list of previously encountered ilts and individual labels , together with the order of the most recent occurrences of these ilts and labels .",
    "thus , each state has associated to it a subset of the finite set of monoid generators and leading terms in our grbner basis , together with a permutation on the elements of this subset .",
    "earlier occurrences of the same ilts or individual labels are unnecessary for deciding whether all non - essential sets are empty , or else would have already caused the word to be unproducable by the automaton at an earlier stage .",
    "thus , we have a finite list of states .",
    "if a partial label sequence @xmath437 concludes with a label @xmath296 and leads to a final state @xmath436 , then the next label @xmath358 to be read gives a legal transition from @xmath436 to another final state if and only the following conditions are all met :",
    "@xmath438 comprise a descent or ilt 2 .",
    "@xmath358 is not in the non - essential set of any earlier ilt .",
    "that is , every previously encountered ilt @xmath337 with @xmath439 either has ( a ) @xmath440 for some label @xmath361 read more recently than @xmath337 , ( b ) @xmath441 , ( c ) @xmath442 , or ( d ) @xmath358 smaller than some label @xmath361 read after @xmath443 3 .",
    "if @xmath438 comprise an ilt , then there is no previously encountered label @xmath375 in its non - essential set .",
    "that is , there is no previously encountered @xmath375 with all the following properties : ( a ) @xmath375 satisfies @xmath444 , ( b ) @xmath375 is smaller than all labels read after it and before @xmath358 , ( c ) @xmath375 commutes with all labels read after it , and ( d ) deleting @xmath375 would cause @xmath296 to be in the non - essential set of a previously encountered ilt .    when the first and third conditions hold but the second one fails , there is still a transition to a non - final state @xmath445 .",
    "however , the only legal transitions from such a non - final state @xmath445 are given by labels @xmath362 such that @xmath446 form an ilt which causes @xmath358 no longer to belong to a non - essential set , i.e. when we are in one of the following circumstances :    * @xmath447 and @xmath448 , because then shifting @xmath358 upward would yield a non - critical cell * @xmath362 would also belong to the non - essential set of some ilt once @xmath358 is shifted upward into an ilt ( i.e. theorem  [ well - def - bool ] , case 1 ) , implying the critical cell with ilt @xmath446 is not matched by shifting @xmath358 upward .",
    "the necessity of these constraints on allowable words is immediate from the description of critical cells and the matching to cancel them in earlier sections .",
    "these constraints on legal transitions are also sufficient to produce a surviving critical cell because any such label sequence will label a critical cell whose ilts all have empty non - essential set , i.e. a critical cell that is not cancelled .",
    "following [ hrw ] , let @xmath449 , and let @xmath432 be the complement of @xmath139 .",
    "labels @xmath450 commute if and only if @xmath451 , in which case we say they are",
    "_ @xmath432-commuting_. define a _ @xmath432-commuting equivalence class _ of label sequences to be a set of label sequences which agree up to @xmath432-commutation .",
    "a label sequence is _ @xmath432-stuttering _ if it has consecutive labels @xmath452 where @xmath453 .",
    "a @xmath432-commuting equivalence class @xmath368 is _ @xmath432-non - stuttering _ if none of the label sequences in @xmath368 are @xmath432-stuttering .",
    "[ hrw - biject ] there is a bijection between the @xmath432-non - stuttering , @xmath432-commuting equivalence classes of a given content and the label sequences of the same content for critical cells that survive cancellation .",
    "exactly one member of each @xmath432-non - stuttering , @xmath432-commuting equivalence class is a label sequence for a critical cell surviving cancellation .",
    "we will show that each @xmath432-non - stuttering @xmath432-commuting equivalence class contains exactly one label sequence for a critical cell surviving cancellation .",
    "first we show the existence of such a label sequence within each such @xmath432-non - stuttering @xmath432-commuting equivalence class by providing an algorithm which applies a series of @xmath432-commutation relations to transform any member of such a class into the label sequence for a surviving critical cell .",
    "then we show that each such class has at most one label sequence from a critical cell surviving cancellation .",
    "finally , we show that @xmath432-stuttering anywhere within a @xmath432-commuting equivalence class of a label sequence implies that the label sequence either does not come from a critical cell or is cancelled .",
    "the algorithm sequentially processes the labels , proceeding from smallest to largest label value , and in the case of repetition , proceeds from highest to lowest initial location for each value .",
    "the algorithm terminates because it processes a finite number of labels and will use a finite number of steps to process each label .",
    "if the label @xmath296 immediately below a label @xmath361 to be processed is smaller than @xmath361 , then the algorithm would have processed @xmath296 before @xmath361 , and we will soon see that the pair must form an ilt . in this case , we say that @xmath296 is _ attached _ to @xmath361 at the time @xmath361 is processed .",
    "a label @xmath361 is processed as follows .",
    "if @xmath361 is not attached to a label immediately below it , then @xmath361 is shifted upward until @xmath361 either encounters a label with which it does not commute , reaches the top of the label sequence , or encounters a label smaller than it such that all current ilts @xmath337 above @xmath361 with @xmath454 and @xmath455 are currently separated from @xmath361 by labels with which @xmath361 does not commute .",
    "notice that @xmath361 will not encounter another copy of @xmath361 before reaching such a position , because the @xmath432-commuting equivalence class is @xmath432-non - stuttering .",
    "if @xmath361 is shifted to just below a label @xmath456 with which @xmath361 does not commute , such that @xmath457 , then @xmath361 is now attached to @xmath456 .",
    "it in addition the label @xmath458 previously below @xmath456 had formed an ilt with @xmath456 , then @xmath459 , and we may detach @xmath458 from @xmath456 at the same time that we attach @xmath361 to @xmath456 to form a new ilt @xmath460 . if a label @xmath361 to be processed is attached to a label @xmath296 just below it , then the pair is shifted upward as a unit past labels larger than @xmath361 that commute with both @xmath296 and @xmath461 , with the following special rules :    * if @xmath462 encounter a label @xmath463 which commutes with @xmath361 but not with @xmath296 , then detach @xmath361 from @xmath296 , shift @xmath361 past @xmath358 , and attach @xmath358 to @xmath296 , and continue processing @xmath361 as an unattached label * if the label immediately above @xmath361 forms either a descent or ilt with @xmath296 and @xmath361 can be shifted upward into the interior of and ilt @xmath337 with @xmath464 , @xmath465 , and @xmath361 commuting with all labels between @xmath361 and @xmath337 , then @xmath361 is detached from @xmath296 and shifted upward to above @xmath337 and continues its processing .",
    "the fact that the only ascends in the output are between non - commuting pairs ensures it labels a critical cell . to see",
    "it also is one that survives cancellation , one may check that all non - essential sets are empty . at the time @xmath296 was processed ,",
    "@xmath296 could not be further shifted upward into an ilt for which it would belong to the non - essential set , or else @xmath296 would have been shifted farther upward in its processing .",
    "the fact that all smaller values had already been processed by the time @xmath296 was processed ensures that this property is preserved throughout the algorithm .",
    "we may also eliminate the possibility of non - essential set members that shift downward into ilts , because these only arise when the top of some ilt is capable of shifting upward without its partner , but our algorithm would have actually performed this shifting , and again the fact that we process smaller labels before larger ones means this property is preserved throughout the rest of the algorithm .",
    "thus , all non - essential sets are empty , so the algorithm indeed outputs the label sequence of a surviving critical cell .    to show that there is at most one label sequence surviving critical cell cancellation in each @xmath432-commuting equivalence class , first note that pairs of consecutive labels that commute must appear in descending order to avoid either having an ascend not appearing within an ilt ( implying",
    "the saturated chain does not contribute a critical cell ) or having an ilt with non - empty interior ( implying the critical cell is cancelled ) .",
    "now suppose there are two label sequences in the same @xmath432-commuting equivalence class , both from critical cells surviving cancellation .",
    "then there must be some pair of @xmath432-commuting labels @xmath466 with @xmath467 , such that the pair are inverted in one label sequence and not the other .",
    "one may use the intermediate value theorem to show that the non - inverted pair @xmath468 must be separated by at least one ilt @xmath337 with @xmath469 and by at least one ilt @xmath372 with @xmath470 , such that @xmath337 either equals @xmath372 or occurs before @xmath372 .",
    "this implies either that @xmath471 , ensuring cancellation , or that some label not commuting with @xmath472 separates @xmath472 from @xmath337 , implying @xmath473 must commute with all labels between it and @xmath322 , in order for it to be possible to swap @xmath466 .",
    "but then the critical cell with @xmath474 forming an inversion must have @xmath475 , and so can not also survive cancellation .",
    "now we turn to the issue of non - stuttering .",
    "any two consecutive identical labels must appear within a syzygy interval to avoid comprising an ascend which would make the cell non - critical .",
    "but we showed that any critical cell with a syzygy interval with non - empty interior is cancelled .",
    "if a label sequence @xmath476 is in the @xmath432-commuting equivalence class of a label sequence which has consecutive identical labels , then some label @xmath358 appears more than once in @xmath476 , separated by one or more syzygy intervals .",
    "but then one of these syzygy intervals will have the lower copy of @xmath358 in its non - essential set , implying the critical cell is cancelled , unless @xmath358 does not commute with some separating label . but this label also does not commute with the other copy of @xmath358 , making it impossible for the two labels to be shifted to consecutive positions , as needed for stuttering , a contradiction . thus ,",
    "if a label sequence is @xmath432-commuting equivalent to one with stuttering , then the label sequence does not survive cancellation .",
    "in this section , we extend results of section  [ cm - section ] from the quadratic grbner basis case to the degree @xmath30 to prove :    [ deg - d ] if @xmath17 has a grbner basis of degree @xmath30 , then @xmath477 for @xmath478 , with @xmath479 defined as below .",
    "hence , @xmath480 }   ( k , k)_{\\lambda } = 0 $ ] for @xmath481 .",
    "moreover , this vanishing is achieved by a free cellular resolution resulting from a discrete morse function on @xmath18 .    in the standard - graded case ,",
    "@xmath479 is given by the grading .",
    "in general , let @xmath479 be one more than the length of the shortest saturated chain on the poset interval @xmath482 , i.e. the degree of the image of @xmath483 in the associated graded ring .",
    "[ deg - d - start ] ordering saturated chains by using any monomial term order to order fibres then lexicographically ordering saturated chains within each fibre yields a content - lex facet order .",
    "syzygy intervals now must be defined to have weakly increasing labels @xmath324 such that there is a grbner basis leading term which divides @xmath484 and has smallest divisor @xmath322 and largest divisor @xmath485 . to be a minimal skipped interval , we must also have that neither @xmath486 nor @xmath487 is divisible by a grbner basis leading term",
    ". then the proof of theorem  [ morse - init ] applies .",
    "the remainder of this section is concerned with cancelling pairs of critical cells to obtain a morse function with no critical cells below dimension @xmath488 .",
    "an _ increasing leading term _ , or _ ilt _ , is a grbner basis leading term , with labels arranged in weakly increasing order .",
    "we will often use the term ilt to refer to an ilt that labels a specific syzygy interval .",
    "we will use the variables @xmath489 to represent the degree of an arbitrary grbner basis leading term , so we always will have @xmath490 .",
    "denote a syzygy interval with ilt @xmath491 by @xmath492 .",
    "in contrast to the quadratic grbner basis case , now there may be several grbner basis leading terms specifying the same syzygy interval .",
    "this fact , that a single syzygy interval may have several ilts beginning and ending with the same pair of labels , causes one substantial new issue to arise : the critical cells resulting from one syzygy interval may comprise several overlapping boolean algebras , since different ilts will give rise to different non - essential sets , as in example  [ overlap - bool - examp ] .",
    "[ overlap - bool - examp ] consider the syzygy interval labeled @xmath493 with grbner basis leading terms @xmath494 and @xmath495 .",
    "one boolean algebra of critical cells , based on ilt @xmath496 consists of labels sequences @xmath497 and @xmath498 , while the boolean algebra for @xmath499 consists of label sequences @xmath497 and @xmath500 . the critical cell labeled @xmath497 is shared by the two boolean algebra .",
    "lemma  [ mult - ilt ] deals with such overlap by providing an acyclic matching for any such collection of overlapping boolean algebras .",
    "define the non - essential set for @xmath492 , denoted @xmath501 , similarly to the @xmath145 case , but now it may have two types of members :    1 .   individual labels , in exact analogy to the non - essential set members for the @xmath145 case , i.e. labels which either ( a ) appear in topologically decreasing positions below @xmath492 ( or above @xmath492 in the exceptional circumstances discussed in theorem  [ well - def - bool ] ) from which they may shift into @xmath502 via a gradient path without causing @xmath492 to cease to be a minimal skipped interval , or ( b ) labels that have thus shifted into the interior of @xmath492 .",
    "collections @xmath503 of labels that appear either immediately above a label @xmath504 with which they form an ilt , or which collectively appear in the interior of one or more ilts strictly above such a label @xmath504 , with @xmath492 serving as the highest of these ilts .",
    "furthermore , we require there to be a gradient path from the former to the latter which shifts the collection of labels upward into the interior of the various ilts in order for the collection of labels to belong to @xmath501 .",
    "follow the conventions of theorem  [ well - def - bool ] to decide which such individual labels and collections of labels should belong to @xmath501 , not allowing collections of labels that shift downward into @xmath492 from above . if there is a need for `` blocking '' as in theorem  [ well - def - bool ] , an individual label will always serve this function rather than a collection of labels .",
    "if a label @xmath505 meets the above requirements to be included individually in @xmath501 , then it is not also included as part of a collection of labels . with these conventions ,",
    "the proof that this gives a well - defined matching is identical to the proof of theorem  [ well - def - bool ] .",
    "proposition  [ deg - d - start ] provides the morse function that serves as our starting point .",
    "we will cancel all critical cells of dimension less than @xmath506 , using a fairly similar , but somewhat more subtle , approach to the @xmath145 argument . notice that each critical cell of dimension less than @xmath506 is contributed by a saturated chain with average minimal skipped interval height greater than @xmath141 .",
    "but any minimal skipped interval of height greater than @xmath141 is a syzygy interval with more than @xmath30 labels , so it is consists of an ilt with at least one additional label interspersed . such extra labels either allow the critical cell to be cancelled similarly to the @xmath145 case , or in the case of a syzygy interval with multiple ilts , lemma  [ mult - ilt ] gives a matching in which all unmatched cells have average interval height at most @xmath141 for the @xmath135-intervals related to the syzygy interval .",
    "thus , cells left unmatched must then have another syzygy interval of height greater than @xmath141 at lower ranks .",
    "this allows us to repeat the argument until eventually reaching a syzygy interval which causes the cell to be cancelled .",
    "the fact that there is indeed a unique gradient path from a critical cell @xmath161 to a critical cell @xmath158 for each pair @xmath507 to be cancelled follows from theorem  [ one - path ] .",
    "when a single label is shifted into a syzygy interval , the gradient path is identical to the one given in the @xmath145 case .",
    "when a collection of labels is shifted upward into a syzygy interval , the gradient path is the one described in the proof of theorem  [ one - path ] .",
    "theorem  [ one - path ] also proves the uniqueness of these gradient paths , whether shifting a single label or a collection of labels . as before ,",
    "we give a complete acyclic matching on each boolean algebra of critical cells , as long as it is not part of a collection of overlapping boolean algebras .",
    "similarly to the @xmath145 case , we match all cells in this boolean algebra by including / excluding a single non - essential set member @xmath361 from the interior of the syzygy interval .",
    "it is convenient to choose @xmath361 to be the individual label with highest topologically decreasing position outside the syzygy interval , if there is such a label , and otherwise to choose the collection of labels with highest topologically decreasing position outside the syzygy interval .",
    "lemma  [ mult - ilt ] provides the matching for collections of overlapping boolean algebras .    with these choices ,",
    "acyclicity is similar to the @xmath145 case , since lemma  [ mult - ilt ] will verify acyclicity of the matching on a single collection of overlapping boolean algebras resulting from several ilts on a single syzygy interval .",
    "applying results of [ bw ] , the desired resolution is immediate from this acyclic matching .",
    "next we prove lemma  [ mult - ilt ] in the special case of degree @xmath508 . in this case",
    "we deduce a stronger result than for general @xmath30 , but the proof is also much simpler than in general , but gives the flavor of the upcoming proof for degree @xmath30 .",
    "a pair of ilts @xmath509 and @xmath510 with @xmath511 are _ concatenating _ if either ( 1 ) @xmath512 and @xmath513 for some @xmath514 , or ( 2 ) @xmath515 and @xmath516 for some @xmath517 .",
    "[ mult - ilt - deg3 ] let @xmath17 be a toric ideal with grbner basis with leading terms all of degree at most 3 .",
    "let @xmath518 be a syzygy interval , given by one or more ilts , each of which gives rise to a boolean algebra of critical cells .",
    "then this collection of overlapping boolean algebras has an acyclic matching which matches all critical cells with average interval height at most 2 for @xmath135 together with any descents coming from labels shifted out of @xmath135 .",
    "order the ilts @xmath519 .",
    "if some @xmath520 has degree 2 , then the boolean algebra for each @xmath521 is contained in the boolean algebra for @xmath520 , so we use the complete matching on a single boolean algebra .",
    "otherwise , we have labels @xmath522 such that for @xmath523 , @xmath524 , for fixed initial and final labels @xmath525 .",
    "let @xmath526 be the set of critical cells in the boolean algebra @xmath527 for @xmath520 which are not shared with any earlier boolean algebra @xmath528 for @xmath529 .",
    "notice that @xmath526 consists of exactly those critical cells in @xmath527 which have @xmath530 all shifted to topologically decreasing positions outside @xmath135 .",
    "thus , @xmath526 has the structure of a boolean algebra , resulting from all other labels in the non - essential set for @xmath531 , so this has a complete acyclic matching unless this set is empty .",
    "but when the set is empty , then @xmath135 consists of only the three labels @xmath532 , as well as labels essential to concatenating ilts , so matching is not necessary . in the case of concatenating ilts , the average interval height is still at most 2 .",
    "the situation gets much more complex when labels other than @xmath322 and @xmath533 may divide more than one of the grbner basis leading terms specifying ilts on the syzygy interval .",
    "[ mult - ilt ] suppose that a single expanding interval @xmath135 has multiple ilts .",
    "then the resulting collection of overlapping boolean algebras has an acyclic matching such that all unmatched cells have minimal skipped interval average height at most @xmath141 .",
    "choose a total order @xmath519 on the ilts for @xmath534 .",
    "thus , each @xmath520 is a grbner basis leading term with smallest divisor @xmath322 , largest divisor @xmath533 and with divisors of intermediate value , all of which appear as labels that can shift in / out of the syzygy interval .",
    "thus , any shifting of labels in / out of the syzygy interval still gives a syzygy interval as long as at least one of these ilts appears entirely within the syzygy interval .",
    "each ilt @xmath535 has its own non - essential set , denoted @xmath536 , giving rise to its own boolean algebra of critical cells .",
    "denote by @xmath537 the collection of critical cells in the boolean algebra given by @xmath538 which are not shared with any of the earlier boolean algebras given by @xmath539 .",
    "we will provide an acyclic matching on each such @xmath537 .",
    "note that @xmath537 consists of those subsets of @xmath540 which shift enough labels to outside the syzygy interval @xmath541 so that the label sequence on @xmath541 is not divisible by any of the monomials @xmath539 . if there is any label in @xmath540 that does not divide any of the monomials @xmath539 , then we obtain a complete acyclic matching on @xmath537 by including / excluding one such label in @xmath541 .",
    "next we consider the case where each member of @xmath540 does divide some earlier @xmath520 .",
    "fix an ordering @xmath542 on the elements of @xmath540",
    ". it will be convenient in the next section if we order them from highest to lowest topologically decreasing position outside @xmath541 .",
    "now apply the following matching procedure to each critical cell in @xmath537 :    1 .",
    "match the cell by including / excluding @xmath458 from @xmath541 unless shifting @xmath458 to inside @xmath541 yields a cell in an earlier @xmath526 , 2 .",
    "if the cell is not yet matched , then match by including / excluding @xmath456 from @xmath541 , unless this yields a matching partner which was already matched at the first step or which belongs to an earlier @xmath526 3 .",
    "continue inductively , matching the cell by including / excluding @xmath124 from @xmath541 if the cell was not already matched based on any of the labels @xmath543 and the partner cell based on shifting @xmath124 also does not belong to an earlier @xmath526 and is not already matched based on any earlier label @xmath544 with @xmath529 .",
    "notice that a cell can not be matched based on the label @xmath124 if either ( a ) @xmath545 and shifting @xmath124 into @xmath541 gives a cell in an earlier boolean algebra , or ( b ) shifting @xmath124 in or out of @xmath541 gives a cell previously matched .",
    "thus , any unmatched critical cell that has exactly the labels @xmath546 shifted to outside @xmath541 will have the property that each such @xmath547 is necessary outside @xmath541 either to avoid overlap with an earlier boolean algebra or in order for some @xmath548 coming earlier than @xmath547 also not to allow matching .",
    "that is , in the latter case there must be some @xmath549 with @xmath550 , such that @xmath551 `` covers '' multiple ilts ( see definition  [ cover - defn ] ) , some of which could also be covered by @xmath361 , and the rest of which are also covered by @xmath547 .",
    "[ cover - defn ] a label @xmath296 _ covers _ an earlier ilt @xmath521 if @xmath296 divides the grbner basis leading term specifying @xmath521 .",
    "assign to each @xmath552 either an ilt @xmath553 which it exclusively covers , or an ilt @xmath554 that it would exclusively cover if the earliest forbidden @xmath548 were shifted to outside @xmath541 , or which it would exclusively cover after some number of iterations of this reasoning , i.e. an ilt which makes it impossible to shift @xmath547 from outside @xmath541 to inside @xmath541 as a matching step .",
    "call this ilt which is assigned to @xmath547 the _ indexing ilt _ of @xmath547 .",
    "if we can show that every label in @xmath540 belongs to one of the @xmath3 indexing ilts , this will imply @xmath555 , as desired .",
    "suppose some @xmath556 is not in any of the indexing ilts , and choose the label @xmath358 of this form which comes earliest in our ordering on labels in @xmath540 .",
    "first note that @xmath557 , since otherwise @xmath358 would belong to its own indexing ilt .",
    "we will show next that the cell with @xmath358 shifted to outside @xmath541 is not matched based on a label of higher precedence than @xmath358 . since shifting @xmath358 to outside @xmath541",
    "also can not give a cell belonging to an earlier @xmath526 , we will be able to conclude that the critical cell will be matched based on @xmath358 .",
    "thus , any unmatched cell will satisfy @xmath558 .",
    "now we prove the claim that the cell may be matched by shifting @xmath358 to outside @xmath541 .",
    "when @xmath358 is shifted to outside @xmath541 , each @xmath547 of higher precedence which appears outside @xmath541 can not be shifted to inside @xmath541 as a matching step , by virtue of its indexing ilt , since @xmath358 can not cover this indexing ilt .",
    "likewise any @xmath124 of higher precedence which appears within @xmath541 in the critical cell can not be shifted to outside @xmath541 without rendering some @xmath551 unnecessary for covering its indexing ilt , since otherwise we would have matched based on the smallest @xmath124 which did not have this property ; in particular , this means that @xmath124 must belong to the indexing ilt for @xmath551 in the critical cell .",
    "shifting @xmath358 to outside @xmath541 does not change this relationship , so the cell with @xmath358 shifted to outside @xmath541 also can not match by shifting @xmath559 .",
    "thus , @xmath358 is the first label allowing matching for both cells , so both are indeed matched by shifting @xmath358 .    in the case where all elements of @xmath540 are individual labels that shift to topologically decreasing positions outside @xmath541",
    ", this yields the following upper bound on average interval height for this portion of the interval system , using the fact that total height is one less than the total number of labels involved , and that @xmath3 is non - negative : @xmath560 let us now handle the more general case , where some non - essential set members are collections of labels .",
    "all labels belonging to such collections will contribute individually to the bound @xmath555 when the labels appear within @xmath541 , because each label contributes individually to monomial degree .",
    "when such a collection of labels appears outside the ilt , it would increase the number of intervals @xmath3 by one , but would increase the total height by as much as @xmath141 , seemingly invalidating the above computation of average interval height .",
    "however , the highest label in the newly created ilt must also form a descent with the label immediately above it , and we may use this descent rather than the new ilt in order to compute the above bound , since the descent will not also be counted in a similar computation for any other syzygy interval .",
    "we may safely ignore the newly created ilt in the bound computation , since it also has height at most @xmath141 .",
    "acyclicity will follow from the cluster lemma of [ jo ] ( see lemma  [ filter ] ) , using the filtration of subcomplexes @xmath561 where @xmath562 is the union of boolean algebras given by @xmath563 .",
    "all we need to do is show that the matching on each @xmath564 is acyclic .",
    "but if there were a cycle , let @xmath547 be the highest precedence label to be inserted as a matching step in the cycle .",
    "this would necessitate a downward step in the cycle shifting @xmath547 back into the interior of @xmath541 , but this would be preceded and followed by matching steps inserting labels of lower precedence than @xmath547 .",
    "this contradicts our greedy matching procedure , because it would instead make the downward edge a matching edge inserting @xmath547 , since this has higher precedence than the matching step of either endpoint .",
    "thus , there are no cycles .",
    "in this section we describe a finite state automaton that generates exactly the language of label sequences for surviving critical cells , in the case of a grbner basis of degree @xmath30 .",
    "the existence of such a generating function again implies the language is regular , and hence that the generating function for morse numbers is a rational function which gives upper bounds on the terms in the poincare-betti series .",
    "in contrast , for @xmath565 the poincare-betti series is not always rational .",
    "the generating function for morse numbers does come close enough to the poincare-betti series to achieve the vanishing of betti numbers described by theorem  [ deg - d ] . due to the similarity of the finite state automaton to the one given in the quadratic grbner basis case ,",
    "less detail is provided here than in section  [ section - quad - applic ] .",
    "the states in the automaton keep track of the set of previously encountered ilts and individual labels , in their order of most recent appearance . reading label sequences from top to bottom ,",
    "the following are the legal transitions from one state to another .    1 .   a single label @xmath358 that is larger than its predecessor , i.e. which forms a descent with the label above it . for the transition to be to a final state",
    ", we require the further property that @xmath358 is separated from each previously encountered ilt @xmath492 which satisfies @xmath566 and @xmath567 . by a label with which @xmath358 does not commute .",
    "2 .   a single label which forms an ilt together with its predecessor , exactly as in the @xmath145 case 3 .   a collection @xmath568 of labels with @xmath569 , which together with the most recently encountered label @xmath533 form an ilt @xmath492 such that ( a ) the labels @xmath570 can not all simultaneously shift upward into the interior of higher ilts to yield a critical cell which does not have any of the labels @xmath571 individually as members of any non - essential set , and ( b ) no label above @xmath572 may shift downward into @xmath492 by a gradient path to yield a critical cell .",
    "such a transition leads to a final state .",
    "4 .   a collection of labels that collectively complete an ilt , with an allowable collection of interspersed labels .",
    "allowable collections are those that arise as a result of concatenating ilts , as described below , and those which may be within the ilt in a surviving critical cell when there are multiple ilts on the same syzygy interval . in this case",
    "the transition is to a non - final state , and we will justify below that there are only a finite number of these transitions .",
    "the point is to use non - final states for label sequences for critical cells that are cancelled , if the concatenation of additional labels may yield a critical cell that is not cancelled . to be cancelled .",
    "the `` concatenating '' ilts mentioned in the fourth type of transition come from situations such as the following example .",
    "consider a label sequence @xmath573 where @xmath574 and @xmath575 are each grbner basis leading terms .",
    "the label @xmath201 can not be shifted out of the ilt @xmath576 to yield a critical cell , because the ascend @xmath577 would no longer be part of a minimal skipped interval , so @xmath578 for the label sequence @xmath573 , though it would belong to @xmath579 in the label sequence @xmath580 .",
    "specifically , a pair of ilts @xmath581 and @xmath582 are _ concatenating _ if either ( a ) @xmath485 divides @xmath583 with @xmath584 and @xmath585 , or ( b ) @xmath504 divides @xmath586 with @xmath587 and @xmath588 .",
    "the fourth type of transition also accommodates the matching procedure of lemma  [ mult - ilt ] .",
    "the automaton has finitely many states and transitions .",
    "there is a finite list of possible ilts , even when we consider all possible label interspersions that could still allow the cell not to be cancelled , i.e. from concatenating ilts and from multiple ilts on a single syzygy interval .",
    "this follows from the fact that the semi - group ring is finitely generated , and that each grbner basis leading term has finite degree , so labels occurring in the interior of an ilt with multiplicity greater than the grbner basis degree will always allow critical cell cancellation .",
    "the transitions out of a state are limited by the finite list of labels .",
    "word length equals critical cell dimension shifted by two .",
    "any label sequence which has more @xmath135-intervals than @xmath139-intervals will be cancelled , unless there are two concatenating ilts such that their concatenation contains another ilt , causing three or more overlapping @xmath135-intervals in which one is discarded , in such a way that no labels may be shifted from the interior of any of these ilts without making the cell non - critical .",
    "but in the case of this type of concatenation , where two ilts share labels and cover a third ilt , this means we can use just the labels in these two ilts for labelling the transitions in the finite state automaton , so we get the correct word length .",
    "using the observations and propositions above , it is not hard to generalize the automaton from the @xmath145 case to obtain :    the surviving critical cells are labeled by the words of a regular language , with word length measuring cell dimension , shifted by two .",
    "thus , the generating function for morse numbers is a rational generating function which is determined by the given finite state automaton .",
    "when a variable does not appear in any syzygies , then it may be `` factored out '' before starting our analysis , similar to the situation with computing tor groups directly . specifically , if some @xmath14 does not appear in any generators of the toric ideal @xmath17 for @xmath314/i_{\\lambda } $ ] , then the partial order @xmath18 is the product of an infinite chain together with the poset of monomials ordered by divisibility in @xmath589/i_{\\lambda } $ ] .",
    "thus , any finite interval is the product of a finite chain together with a monoid poset interval @xmath434 for the ring @xmath590/i_{\\lambda } $ ] ; the order complex of such an interval is the suspension of the join of the order complexes for the two terms in the product , so the suspension of the join of a simplex ( i.e. the order complex of a chain ) with the order complex @xmath591 .",
    "[ non - unique - remark ] we sometimes have gradient paths which reverse a decreasing sequence of labels of length @xmath592 to produce an ilt , in which case the permutation on labels is not 321-avoiding .",
    "we have not matched and cancelled any such pairs of critical cells .",
    "theorem  [ red - exp ] shows there are at most two gradient paths between a pair of critical cells related by such a reversal for lexicographic discrete morse functions ; the proof of theorem  [ red - exp ] generalizes to those facet orders which satisfy the crossing condition , so in particular to content - lex facet orders .",
    "suppose @xmath17 has degree at most three .",
    "then for each critical cell @xmath161 in our complex @xmath154 of critical cells after cancellation , @xmath593 is a linear combination of critical cells of content strictly earlier than @xmath161 .",
    "suppose @xmath594 , @xmath595 , are surviving critical cells with equal content and there is a gradient path from @xmath161 to @xmath158 .",
    "then @xmath507 each have no syzygy intervals with non - empty non - essential set .",
    "any gradient path from @xmath161 to @xmath158 must sort labels , but in such a way that @xmath158 still has no syzygy intervals with non - empty non - essential set .",
    "this can only be accomplished by reversing three or more descending labels to form a new ilt .",
    "this ilt must come from a grbner basis leading term of degree exactly three , since pairs of labels comprising degree 2 leading terms can not be swapped without passing to an earlier content class .",
    "lemma  [ mult - ilt - deg3 ] ensures that the three or more labels must occur in a single string of descending labels within @xmath161 , to avoid @xmath161 being cancelled by virtue of a syzygy interval with non - empty non - essential set .",
    "the ilt to be created can not come from a grbner basis leading term of degree greater than three , both because of the assumptions of our theorem , and also because this would decrease critical cell dimension by more than one , implying @xmath158 could not be in the image of the boundary map applied to @xmath161 .",
    "theorem  [ red - exp ] shows there are at most two gradient paths reversing three labels , resulting from the coxeter relation @xmath596 being applied at the conclusion of a reduced expression .",
    "but one may easily check that one will indeed get two gradient paths when we reverse three labels as required for @xmath158 in the boundary of @xmath161 , and furthermore , that these will be oriented so that the two ways in which @xmath158 is incident to @xmath161 will cancel .",
    "thus , @xmath158 will appear with coefficient 0 in the boundary of @xmath161 .",
    "the following example shows that the morse function bound on which tor groups vanish is sharp .",
    "consider @xmath597 = k[z_1,\\dots , z_{2d}]/(z_1\\cdots z_d - z_{d+1}\\cdots   z_{2d}),\\ ] ] or equivalently , @xmath598.\\ ] ] this clearly has a grbner basis of degree @xmath30 and none of lower degree .",
    "the interval @xmath599 in @xmath18 is disconnected .",
    "is there a nice description of the gradient paths between surviving critical cells ?",
    "this would be needed for a completely explicit description of the boundary maps in our resolution , since these are sums over such gradient paths .",
    "[ veronese - qn ] is it possible to improve our discrete morse function into one that would provide a combinatorial proof of the following theorem ? if an affine semi - group ring is standard graded , and its toric ideal of syzygies has a grbner basis of degree @xmath30 , then its @xmath600-st veronese is koszul .    in our setting , the above is equivalent to the rank - selected subposet of @xmath18 consisting of exactly the ranks divisible by @xmath141 being a cohen - macaulay poset .",
    "example  [ examp - veronese ] discusses the one situation in which our critical cells skip more than @xmath601 consecutive elements of a saturated chain ; this seems to be the main issue one would need to address to provide an affirmative answer , though one would also need to better understand the relationship between lexicographic discrete morse functions and rank - selection or else to modify the morse function to one for the rank - selected subposet . by lemma  [ mult - ilt - deg3 ] ,",
    "the issue of skipping more than @xmath601 consecutive ranks does not arise for @xmath602 .",
    "[ examp - veronese ] there is only one circumstance in which critical cells could skip more than @xmath601 consecutive elements of a saturated chain , and this only may happen in the @xmath603 case . namely , if there are distinct grbner basis leading terms with the same initial and final labels , this may result in overlapping boolean algebras of critical cells , with cells with large syzygy intervals not necessarily cancelled .    in [ hrw ] ,",
    "@xmath604 groups related to quotients of affine semi - group rings by monomial ideals are translated to homology of certain relative complexes @xmath605 , where @xmath358 specifies a monoid poset interval and @xmath205 is a graphic subspace arrangement . does our morse function translate to this setting to provide useful new information ?",
    "the authors thank phil hanlon , mel hochster , ezra miller and vic reiner for helpful conversations .",
    "j. berstel and c. reutenauer , _ les series rationnelles et leurs languages .",
    "( french ) [ rational power series and their languages ] _ , etudes et recherches en informatique . [ studies and research in computer science ] , masson , paris , 1984 ."
  ],
  "abstract_text": [
    "<S> the purpose of this paper is twofold .    </S>",
    "<S> @xmath0 we give combinatorial bounds on the ranks of the groups @xmath1 in the case where @xmath2 $ ] is an affine semi - group ring , and in the process provide combinatorial proofs for bounds by eisenbud , reeves and totaro on which tor groups vanish . </S>",
    "<S> in addition , we show that if the bounds hold for a field @xmath3 then they hold for @xmath4 $ ] and any field @xmath5 . </S>",
    "<S> moreover , we provide a combinatorial construction for a free resolution of @xmath5 over @xmath4 $ ] which achieves these bounds .    </S>",
    "<S> @xmath0 we extend the lexicographic discrete morse function construction of babson and hersh for the determination of the homotopy type and homology of order complexes of posets to a larger class of facet orderings that includes orders induced by monomial term orders .    </S>",
    "<S> since it is known that the order complexes of finite intervals in the poset of monomials in @xmath6 $ ] ordered by divisibility in @xmath7 $ ] govern the @xmath8-groups , the newly developed tools are applicable and serve as the main ingredients for the proof of the bounds and the construction of the resolution . </S>"
  ]
}