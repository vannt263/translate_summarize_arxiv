{
  "article_text": [
    "one of the most fundamental relations in queuing and random walk theory is lindley s recursion @xcite : @xmath13 in queuing theory , it represents a relation between the waiting times of the @xmath14-th and @xmath15-st customer in a single server queue , @xmath16 indicating the interarrival time between the @xmath14-th and @xmath15-st customer and @xmath17 denoting the service time of the @xmath14-th customer . in the applied probability literature",
    "there has been a considerable amount of interest in generalisations of lindley s recursion , namely the class of markov chains described by the recursion @xmath18 . for earlier work on such stochastic recursions",
    "see for example brandt _",
    "et al . _",
    "@xcite and borovkov and foss  @xcite .",
    "many structural properties of this recursion have been derived .",
    "for example , asmussen and sigman  @xcite develop a duality theory , relating the steady - state distribution to a ruin probability associated with a risk process .",
    "more references in this domain can be found for example in asmussen and schock petersen  @xcite and seal  @xcite .",
    "an important assumption which is often made in these studies is that the function @xmath19 is non - decreasing in its main argument @xmath20 .",
    "for example , in @xcite this assumption is crucial for their duality theory to hold .    in this paper",
    "we consider a generalisation of lindley s recursion , for which the monotonicity assumption does not hold .",
    "in particular , we study the lindley - type recursion @xmath21 where for every @xmath14 , the random variable @xmath22 is equal to plus or minus one according to the probabilities @xmath23=p$ ] and @xmath24=1-p$ ] , @xmath25 .",
    "the sequences @xmath26 and @xmath27 are assumed to be independent sequences of i.i.d .",
    "non - negative random variables . our main goal is to derive the steady - state distribution of @xmath28 , when it exists .",
    "equation reduces to the classical lindley recursion @xcite when @xmath23=1 $ ] for every @xmath14 . furthermore ,",
    "if @xmath24=1 $ ] , then describes the waiting time of the server in an alternating service model with two service points . for a description of the model for this special case and related results",
    "see park _ et al .",
    "_  @xcite and vlasiou _ et al .",
    "_  @xcite .    studying a recursion that contains both lindley s classical recursion and the recursion in @xcite as special cases seems of interest in its own right .",
    "additional motivation for studying the recursion is supplied by the fact that , for @xmath29 , the resulting model can be interpreted as a special case of a queuing model in which service and interarrival times depend on waiting times .",
    "we shall now discuss the latter model .",
    "consider an extension of the standard @xmath0 queue in which the service times and the interarrival times depend linearly and randomly on the waiting times .",
    "namely , the model is specified by a stationary and ergodic sequence of four - tuples of nonnegative random variables @xmath30 , @xmath31 . the sequence @xmath32 is defined recursively by @xmath33 where @xmath34    we interpret @xmath35 as the waiting time and @xmath36 as the service time of customer @xmath14 . furthermore , we take @xmath37 to be the interarrival time between customers @xmath14 and @xmath38 .",
    "we call @xmath17 the _ nominal service time _ of customer @xmath14 and @xmath16 the _ nominal interarrival time _ between customers @xmath14 and @xmath38 , because these would be the actual times if the additional shift were omitted , that is , if @xmath39=1 $ ] .",
    "evidently , the waiting times satisfy the generalised lindley recursion , where we have written @xmath40 .",
    "this model  for generally distributed random variables @xmath22  has been introduced in whitt  @xcite , where the focus is on conditions for the process to converge to a proper steady - state limit , and on approximations for this limit .",
    "there are very few exact results known for queuing models in which interarrival and/or service times depend on waiting times ; we refer to whitt @xcite for some references .",
    "whitt @xcite builds upon previous results by vervaat  @xcite and brandt  @xcite for the unrestricted recursion @xmath41 , where @xmath42 .",
    "there has been considerable previous work on this unrestricted recursion , due to its close connection to the problem of the ruin of an insurer who is exposed to a stochastic economic environment .",
    "such an environment has two kinds of risk , which were called by norberg  @xcite insurance risk and financial risk .",
    "indicatively , we mention the work by tang and tsitsiashvili  @xcite , and by kalashnikov and norberg  @xcite . in the more general framework",
    ", @xmath35 may represent an inventory in time period @xmath14 ( e.g.  cash ) , @xmath22 may represent a multiplicative , possibly random , decay or growth factor between times @xmath14 and @xmath38 ( e.g.  interest rate ) and @xmath43 may represent a quantity that is added or subtracted between times @xmath14 and @xmath38 ( e.g.  deposit minus withdrawal ) . obviously , the positive - part operator is appropriate for many applications  @xcite .",
    "this paper presents an exact analysis of the steady - state distribution of @xmath44 as given by with @xmath23=p$ ] and @xmath24=1-p$ ] . for @xmath29 ,",
    "this amounts to analysing the above - described @xmath0 extension where @xmath45 with probability @xmath6 , and @xmath46 with probability @xmath47 .",
    "this problem , and state - dependent queuing processes in general , is connected to lapalice queuing models , introduced by jacquet  @xcite , where customers are scheduled in such a way that the period between two consecutively scheduled customers is greater than or equal to the service time of the first customer .",
    "this paper is organised in the following way . in section",
    "[ s : model ] we comment on the stability of the process @xmath32 , as it is defined by recursion . in the remainder of the paper",
    "it is assumed that the steady - state distribution of @xmath32 exists . section  [ s : g / ph ] is devoted to the determination of the distribution of @xmath7 when @xmath8 is generally distributed and @xmath9 has a phase - type distribution . in section  [ s : m / d ]",
    "we determine the distribution of @xmath7 when @xmath8 is exponentially distributed and @xmath9 is deterministic . at the end of each section we compare the results that we derive to the already known results for lindley s recursion ( i.e.  for @xmath4 ) and to the equivalent results for the lindley - type recursion arising for @xmath5 .    at the end of this introduction",
    "we mention a few notational conventions . for a random variable @xmath48",
    "we denote its distribution by @xmath49 and its density by @xmath50 .",
    "furthermore , we shall denote by @xmath51 the @xmath52-th derivative of the function @xmath53 .",
    "the laplace - stieltjes transforms ( lst ) of @xmath8 and @xmath7 are respectively denoted by @xmath54 and @xmath55 . to keep expressions simple",
    ", we also use the function @xmath56 defined as @xmath57 .",
    "the following result on the convergence of the process @xmath32 to a proper limit @xmath7 is shown in whitt  @xcite .",
    "it is included here only for completeness .    from recursion  ,",
    "it is obvious that if we replace @xmath22 by @xmath58 and @xmath43 by @xmath59 , then the resulting waiting times will be at least as large as the ones given by .",
    "moreover , when we make this change , the positive - part operator is not necessary anymore .    if @xmath35 satisfies , then with probability 1 , @xmath60 for all @xmath14 , where @xmath61 and @xmath62 .",
    "so if @xmath35 satisfies , @xmath63 satisfies , and @xmath63 converges to the proper limit @xmath64 , then @xmath32 is tight and @xmath65\\leqslant{\\mathbb{p}}[z > x]$ ] for all @xmath66 , where @xmath7 is the limit in distribution of any convergent subsequence of @xmath32 .",
    "this observation , combined with theorem  1 of brandt  @xcite , which implies that @xmath63 satisfying converges to a proper limit if @xmath67={\\mathbb{p}}[y_n\\leqslant 0]>0 $ ] , leads to the following theorem .",
    "[ th : stability ] the series @xmath32 is tight for all @xmath68/{\\mathbb{e}}[a_0]$ ] and @xmath69 .",
    "if , in addition , @xmath70 and @xmath71 is a sequence of independent vectors with @xmath72>0,\\ ] ] then the events @xmath73 are regeneration points with finite mean time and @xmath32 converges in distribution to a proper limit @xmath7 as @xmath74 for all @xmath75 and @xmath69 .    naturally , for @xmath4 , i.e.  for the classical lindley recursion",
    ", we need the additional condition that @xmath76 .",
    "therefore , assume that the sequences @xmath77 and @xmath43 are independent stationary sequences , that are also independent of one another , and that for all @xmath14 , @xmath16 and @xmath17 are non - negative .",
    "then the conditions of theorem  [ th : stability ] hold , so there exists a proper limit @xmath7 , and for the system in steady - state we write @xmath78 where `` @xmath79 '' denotes equality in distribution , where @xmath8 , @xmath9 are generic random variables distributed like @xmath16 , @xmath17 , and where @xmath2=p$ ] and @xmath3=1-p$ ] .    for @xmath80 equation   yields that @xmath81=p\\ , { \\mathbb{p}}[x+w\\leqslant x]+(1-p ) { \\mathbb{p}}[x - w\\leqslant x],\\ ] ] where @xmath82 ( note that @xmath83>0 $ ] ) .",
    "assuming that the distribution @xmath84 of the random variable @xmath48 is continuous , the last term is equal to @xmath85 $ ] , which gives us that @xmath86 this means that the limiting distribution of @xmath7 , provided that @xmath84 is continuous , satisfies the functional equation @xmath87 therefore , there exists at least one function that is a solution to . it can be shown that in fact there exists a unique measurable bounded function @xmath88 that satisfies this functional equation .    to show this ,",
    "consider the space @xmath89 , i.e.  the space of measurable and bounded functions on the real line with the norm @xmath90 in this space define the mapping @xmath91 note that @xmath92 , i.e. , @xmath93 is measurable and bounded . for two arbitrary functions @xmath94 and @xmath95 in this space we have @xmath96\\,{\\rm d}{\\mbox{$f_x^{}$}}(y)+(1-p)\\int_x^\\infty\\left[f_2(y - x)-f_1(y - x)\\right]\\,{\\rm d}{\\mbox{$f_x^{}$}}(y)\\right|\\\\ & \\leqslant \\sup_{x \\geqslant 0}\\left(p \\int^x_{-\\infty}|f_1(x - y)-f_2(x - y)|\\,{\\rm d}{\\mbox{$f_x^{}$}}(y)+(1-p)\\int_x^\\infty |f_2(y - x)-f_1(y - x)|\\,{\\rm d}{\\mbox{$f_x^{}$}}(y)\\right)\\\\ & \\leqslant \\sup_{x \\geqslant 0}\\left(p \\int^x_{-\\infty}\\sup_{t \\geqslant 0}|f_1(t)-f_2(t)|\\,{\\rm d}{\\mbox{$f_x^{}$}}(y)+(1-p)\\int_x^\\infty \\sup_{t \\geqslant 0}|f_2(t)-f_1(t)|\\,{\\rm d}{\\mbox{$f_x^{}$}}(y)\\right)\\\\ & = \\|f_1-f_2\\|\\ \\sup_{x \\geqslant 0}\\bigl[p\\,{\\mbox{$f_x^{}$}}(x)+(1-p)\\bigr(1-{\\mbox{$f_x^{}$}}(x)\\bigr)\\bigr].\\end{aligned}\\ ] ] note that the supremum appearing above is less than or equal to @xmath97 for @xmath98 and equal to @xmath99 for @xmath5 .",
    "therefore , since for @xmath100 it holds that @xmath101<1 $ ] , for these values of the parameter @xmath6 we have a contraction mapping .",
    "furthermore , we know that @xmath89 is a banach space , therefore by the fixed point theorem we have that has a unique solution ; for a related discussion , see also @xcite .    in the next two sections we determine the distribution of @xmath7 for two cases in which @xmath26 and @xmath27 are independent and i.i.d .",
    "sequences of non - negative random variables .",
    "in this section we assume that @xmath8 is generally distributed , while @xmath9 follows a particular phase - type distribution .",
    "specifically , we assume that with probability @xmath102 the nominal service time @xmath9 follows an erlang distribution with parameter @xmath103 and @xmath14 phases , i.e. , @xmath104 with lst @xmath105 .",
    "these distributions , i.e.  mixtures of erlang distributions , are special cases of coxian or phase - type distributions .",
    "it is sufficient to consider only this class , since it may be used to approximate any given continuous distribution on @xmath106 arbitrarily close ; see schassberger  @xcite . following the proof in @xcite",
    ", one can show that for such an approximation of @xmath107 , the error in the resulting waiting time approximation can be bounded .",
    "we are interested in the distribution of @xmath7 . in order to derive the distribution of @xmath7",
    ", we shall first derive the lst of @xmath108 .",
    "we follow a method based on wiener - hopf decomposition . a straightforward calculation yields for values of @xmath109 such that @xmath110 : @xmath111=p\\,{\\mathbb{e}}[\\mathrm{e}^{-s\\max\\{0 , b - a+w\\}}]+(1-p){\\mathbb{e}}[\\mathrm{e}^{-s\\max\\{0 , b - a - w\\}}]\\\\ \\nonumber         & = p\\,{\\mathbb{p}}[w+b\\leqslant a]+p\\,{\\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)}]-p\\,{\\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)};w+b\\leqslant a]+\\\\ \\label{eq : ltw1 }   & \\quad + ( 1-p ) { \\mathbb{p}}[b\\leqslant w+a]+(1-p){\\mathbb{e}}[\\mathrm{e}^{-s(b - a - w)};b\\geqslant w+a];\\end{aligned}\\ ] ] here @xmath8 , @xmath9 and @xmath7 are independent random variables .",
    "the lindley - type equation @xmath112 for @xmath8 generally distributed and @xmath9 phase - type has already been analysed in vlasiou and adan  @xcite , and the lst of the corresponding @xmath7 is given there . from equation  ( 3.8 ) of @xcite we can readily copy an expression for the last two terms appearing in , so @xmath55 can now be written as @xmath113+p\\,{\\mbox{$\\alpha^{}$}}(-s){\\mbox{$\\omega^{}$}}(s)\\sum_{n=1}^n \\kappa_n\\biggl(\\frac{\\mu}{\\mu+s}\\biggr)^n -p\\,{\\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)};w+b \\leqslant a]+\\\\          & \\quad + ( 1-p)\\biggl[1-\\sum_{n=1}^n \\sum_{i=0}^{n-1 } \\kappa_n \\frac{(-\\mu)^i}{i ! } \\phi^{(i)}(\\mu)\\biggl(1-\\biggl ( \\frac{\\mu}{\\mu+s}\\biggr)^{n - i } \\biggr)\\biggr].\\end{aligned}\\ ] ] so for @xmath110 we have that @xmath114=p\\,{\\mathbb{p}}[w+b\\leqslant a]-p\\,{\\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)};w+b\\leqslant a]+\\\\          + ( 1-p)\\biggl[1-\\sum_{n=1}^n \\sum_{i=0}^{n-1 } \\kappa_n \\frac{(-\\mu)^i}{i!}\\ , \\phi^{(i)}(\\mu ) \\biggl(1 - \\biggl(\\frac{\\mu}{\\mu+s}\\biggr)^{n - i } \\biggr)\\biggr].\\end{gathered}\\ ] ] cohen  @xcite shows by applying rouch s theorem that the function @xmath115\\ ] ] has exactly @xmath116 zeros @xmath117 in the left - half plane if @xmath29 ( it is assumed that @xmath118 , which is not an essential restriction ) or if @xmath4 and @xmath119<{\\mathbb{e}}[a]$ ] . naturally , this statement is not valid if @xmath5 ; therefore , this case needs to be excluded from this point on .",
    "so we rewrite as follows @xmath120-p\\,(\\mu+s)^n { \\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)};w+b\\leqslant a]+\\\\ + ( 1-p)\\biggl[(\\mu+s)^n-\\sum_{n=1}^n \\sum_{i=0}^{n-1 } \\kappa_n \\frac{(-\\mu)^i}{i ! }",
    "\\phi^{(i)}(\\mu ) \\bigl((\\mu+s)^n- \\mu^{n - i}(\\mu+s)^{n - n+i } \\bigr)\\biggr]\\biggr].\\end{gathered}\\ ] ] the left - hand side of is analytic for @xmath121 and continuous for @xmath122 , and the right - hand side of is analytic for @xmath123 and continuous for @xmath124 .",
    "so from liouville s theorem @xcite we have that both sides of are the same @xmath116-th degree polynomial , say , @xmath125 .",
    "hence , @xmath126 in the expression above , the constants @xmath127 are not determined so far , while the roots @xmath117 are known . in order to obtain the transform , observe that @xmath55 is a fraction of two polynomials of degree @xmath116 .",
    "so , ignoring the special case of multiple zeros @xmath117 , partial fraction decomposition yields that can be rewritten as @xmath128 which implies that the waiting time distribution has a mass at the origin that is given by @xmath129=\\lim_{s\\to\\infty}{\\mathbb{e}}[\\mathrm{e}^{-sw}]=c_0\\ ] ] and has a density that is given by @xmath130 all that remains is to determine the @xmath131 constants @xmath132 .",
    "to do so , we work as follows .",
    "we shall substitute in the left - hand side of , and express the terms @xmath133 $ ] and @xmath134 $ ] that appear at the right - hand side of in terms of the constants @xmath132 .",
    "note that the terms @xmath135 that appear at the right - hand side of can also be expressed in terms of the constants @xmath132 .",
    "thus we obtain a new equation that we shall differentiate a total of @xmath116 times .",
    "we shall evaluate each of these derivatives for @xmath136 and thus we obtain a linear system of @xmath116 equations for the constants @xmath132 , @xmath137 .",
    "the last equation that is necessary to uniquely determine the constants @xmath132 is the normalisation equation @xmath138    to begin with , note that @xmath139={\\mathbb{p}}[w=0]{\\mathbb{p}}[b\\leqslant a]+\\int_{0}^\\infty{\\mathbb{p}}[b\\leqslant a - x ] \\sum_{i=1}^n c_i \\mathrm{e}^{\\xi_i(p)x } \\,\\mathrm{d}x,\\ ] ] with @xmath140= \\int_{0}^\\infty \\sum_{n=1}^n \\kappa_n \\biggl(\\mathrm{e}^{-\\mu x}\\sum_{j = n}^{\\infty}\\frac{(\\mu x)^j}{j ! } \\biggr)\\,\\mathrm{d}{\\mbox{$f_a^{}$}}(x ) = \\sum_{n=1}^n \\sum_{i = n}^\\infty \\kappa_n \\frac{(-\\mu)^i}{i ! } { \\mbox{$\\alpha^{(i)}$}}(\\mu),\\ ] ] and @xmath141&\\sum_{i=1}^n c_i \\mathrm{e}^{\\xi_i(p)x } \\,\\mathrm{d}x=\\int_0^\\infty\\int_0^\\infty{\\mathbb{p}}[b\\leqslant y - x]\\sum_{i=1}^n c_i \\mathrm{e}^{\\xi_i(p)x } \\,\\mathrm{d}x \\mathrm{d}{\\mbox{$f_a^{}$}}(y)\\\\ \\nonumber     & = \\int_0^\\infty\\int_0^y \\mathrm{e}^{-\\mu(y - x)}\\sum_{n=1}^n \\sum_{j = n}^\\infty\\kappa_n\\frac{\\bigl(\\mu(y - x)\\bigr)^j}{j!}\\sum_{i=1}^n c_i \\mathrm{e}^{\\xi_i(p)x}\\,\\mathrm{d}x \\mathrm{d}{\\mbox{$f_a^{}$}}(y)\\\\ \\label{eq : int b < a - x}&=\\sum_{n=1}^n\\sum_{j = n}^\\infty\\sum_{i=1}^n\\sum_{k = j+1}^\\infty\\kappa_n c_i\\frac{\\mu^j\\bigl(\\mu+\\xi_i(p)\\bigr)^ { k - j-1}}{k!(-1)^k}{\\mbox{$\\alpha^{(k)}$}}(\\mu).\\end{aligned}\\ ] ] likewise , we have that @xmath142={\\mathbb{p}}[w=0]{\\mathbb{e}}[\\mathrm{e}^{-s(b - a)};b\\leqslant a]+\\\\ + \\int_{0}^\\infty{\\mathbb{e}}[\\mathrm{e}^{-s(b - a+x)};x+b\\leqslant a]\\sum_{i=1}^n c_i \\mathrm{e}^{\\xi_i(p)x } \\,\\mathrm{d}x,\\end{gathered}\\ ] ] with @xmath143&=\\int_0^\\infty\\int_0^x \\mathrm{e}^{-s(y - x ) } \\sum_{n=1}^n \\kappa_n \\mu \\mathrm{e}^{-\\mu y } \\frac{(\\mu y)^{n-1}}{(n-1)!}\\,\\mathrm{d}y \\mathrm{d}{\\mbox{$f_a^{}$}}(x ) \\\\",
    "\\nonumber & = \\int_0^\\infty \\mathrm{e}^{xs}\\sum_{n=1}^n\\kappa_n\\biggl(\\frac{\\mu}{\\mu+s}\\biggr)^n\\sum_{i = n}^\\infty \\mathrm{e}^{-x(\\mu+s)}\\frac{x^i(\\mu+s)^i}{i ! }",
    "\\,\\mathrm{d}{\\mbox{$f_a^{}$}}(x ) \\\\            & = \\sum_{n=1}^n \\sum_{i = n}^\\infty \\kappa_n\\ , { \\mu}^n \\frac{(-1)^i}{i!}(\\mu+s)^{i - n}{\\mbox{$\\alpha^{(i)}$}}(\\mu),\\end{aligned}\\ ] ] and @xmath144\\sum_{i=1}^n c_i \\mathrm{e}^{\\xi_i(p)x } \\,\\mathrm{d}x\\\\ \\nonumber & = \\int_0^\\infty\\int_0^y\\int_0^{y - x } \\mathrm{e}^{-s(z - y+x ) } \\sum_{n=1}^n \\kappa_n \\mu \\mathrm{e}^{-\\mu z } \\frac{(\\mu",
    "z)^{n-1}}{(n-1 ) ! } \\sum_{i=1}^n c_i \\mathrm{e}^{\\xi_i(p)x}\\,\\mathrm{d}z \\mathrm{d}x \\mathrm{d}{\\mbox{$f_a^{}$}}(y)\\\\ \\nonumber & = \\int_0^\\infty\\int_0^y \\sum_{n=1}^n \\kappa_n \\biggl(\\frac{\\mu}{\\mu+s}\\biggr)^n \\mathrm{e}^{-s(x - y ) } \\sum_{j = n}^\\infty \\mathrm{e}^{-(\\mu+s)(y - x ) } \\frac{(\\mu+s)^j ( y - x)^j}{j ! } \\sum_{i=1}^n   c_i \\mathrm{e}^{\\xi_i(p)x}\\,\\mathrm{d}x \\mathrm{d}{\\mbox{$f_a^{}$}}(y)\\\\ & = \\sum_{n=1}^n \\sum_{j = n}^\\infty\\sum_{i=1}^n\\sum_{k = j+1}^\\infty \\kappa_n c_i   \\biggl(\\frac{\\mu}{\\mu+s}\\biggr)^n \\frac { ( \\mu+s)^j \\bigl(\\mu+\\xi_i(p)\\bigr)^{k - j-1}}{k!(-1)^k}\\,{\\mbox{$\\alpha^{(k)}$}}(\\mu).\\end{aligned}\\ ] ]    so , using and , substitute in the right - hand side of , and similarly for . furthermore , as mentioned before , substitute into the left - hand side of to obtain an expression , where both sides can be reduced to an @xmath116-th degree polynomial in @xmath109 . by evaluating this polynomial and all its derivatives for @xmath136 we obtain @xmath116 equations binding the constants @xmath132 .",
    "these equations , and the normalisation equation , form a linear system for the constants @xmath132 , @xmath137 , that uniquely determines them ( see also remark  [ rem : complex roots ] below ) .",
    "for example , the first equation , evaluated at @xmath136 , yields that @xmath145 since @xmath146 .",
    "we summarise the above in the following theorem .    [",
    "th : density ] consider the recursion given by , and assume that @xmath29 .",
    "let be the distribution of the random variable @xmath9 .",
    "then the limiting distribution of the waiting time has mass @xmath147 at the origin and a density on @xmath148 that is given by @xmath149 in the above equation , the constants @xmath117 , with @xmath150 , are the @xmath116 roots of @xmath151 and the @xmath131 constants @xmath132 are the unique solution to the linear system described above .",
    "[ rem : complex roots ] although the roots @xmath117 and coefficients @xmath132 may be complex , the density and the mass @xmath147 at zero will be positive .",
    "this follows from the fact that there is a unique equilibrium distribution and thus a unique solution to the linear system for the coefficients @xmath132 .",
    "of course , it is also clear that each root @xmath117 and coefficient @xmath132 have a companion conjugate root and conjugate coefficient , which implies that the imaginary parts appearing in the density cancel .    in case that @xmath117 has multiplicity greater than one for one or more values of @xmath52 , the analysis proceeds in essentially the same way .",
    "for example , if @xmath152 , then the partial fraction decomposition of @xmath55 becomes @xmath153 the inverse of which is given by @xmath154    for the nominal service time @xmath9 we have considered only mixtures of erlang distributions , mainly because this class approximates well any continuous distribution on @xmath148 and because we can illustrate the techniques we use without complicating the analysis .",
    "however , we can extend this class by considering distributions with a rational laplace transform .",
    "the analysis in @xcite can be extended to such distributions , and the analysis in cohen  ( * ? ? ? *",
    "section ii.5.10 ) is already given for such distributions , so the results given there can be implemented directly .",
    "the analysis we have presented so far can be directly extended to the case where @xmath155 takes any finite number of negative values . in other words , let the distribution of @xmath155 be given by @xmath2=p$ ] , and for @xmath156 , @xmath157=p_i$ ] , where @xmath158 and @xmath159 .",
    "then , for example , equation   becomes @xmath160\\\\= p\\,{\\mathbb{p}}[w+b\\leqslant a]-p\\,{\\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)};w+b\\leqslant a]+\\sum_{i=1}^n p_i\\,{\\mathbb{p}}[b\\leqslant u_i w+a]+\\\\ + \\sum_{i=1}^n p_i \\biggl[\\sum_{n=1}^n \\kappa_n \\biggl(\\frac{\\mu}{\\mu+s}\\biggr)^n { \\mbox{$\\alpha^{}$}}(-s ) { \\mbox{$\\omega^{}$}}(-u_i s)- { \\mathbb{e}}[\\mathrm{e}^{-s(b - a - u_i w)};b\\leqslant u_i w+a]\\biggr].\\end{gathered}\\ ] ] following the same steps as below , we can conclude that the waiting time density is again given by a mixture of exponentials of the form @xmath161 where the new constants @xmath162 ( and the mass of the distribution at zero , given by @xmath163 ) are to be determined as the unique solution to a linear system of equations .",
    "the only additional remark necessary when forming this linear system is to observe that both the probability @xmath164 $ ] and the expectation @xmath165 $ ] can be expressed linearly in terms of the constants @xmath162 .",
    "we have seen that the case where @xmath166 for all @xmath14 , or in other words the case @xmath5 , had to be excluded from the analysis .",
    "equation   is still valid if we take the constants @xmath167 to be defined as in theorem  [ th : density ] .",
    "however , one can not apply liouville s theorem to the resulting equation .",
    "the transform can be inverted directly . as it is shown in @xcite ,",
    "the terms @xmath135 that remain to be determined follow by differentiating @xmath168 times and evaluating @xmath169 at @xmath170 for @xmath171 .",
    "the density in this case is a mixture of erlang distributions with the same scale parameter @xmath103 for all exponential phases .",
    "as we can see , for @xmath5 the resulting density is intrinsically different from the one described in theorem  [ th : density ] .",
    "if @xmath4 and @xmath119<{\\mathbb{e}}[a]$ ] , then we are analysing the steady - state waiting time distribution of a @xmath172 queue . equation   now reduces to @xmath173-(\\mu+s)^n { \\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)};w+b\\leqslant a]\\bigl].\\end{gathered}\\ ] ] earlier we have already observed that the right - hand side of is equal to an @xmath116-th degree polynomial @xmath125 .",
    "inspection of the right - hand side of reveals that it has an @xmath116-fold zero in @xmath174 .",
    "indeed , all zeros of the numerator of the quotient in the right - hand side cancel against zeros of the denominator , and the term @xmath175-{\\mathbb{e}}[\\mathrm{e}^{-s(b - a+w)};w+b\\leqslant a]\\ ] ] is finite for @xmath174 . hence ,",
    "@xmath176 combining and , we conclude that @xmath177 and since @xmath178 , the last equation gives us that @xmath179 thus , we have that @xmath180 which is in agreement with equation  ii.5.190 in @xcite .",
    "we have examined so far the case where the nominal interarrival time @xmath8 is generally distributed and the nominal service time @xmath9 follows a phase - type distribution . in other words , we have studied the case which is in a sense analogous to the ordinary @xmath172 queue .",
    "we now would like to study the reversed situation ; namely , the case analogous to the @xmath181 queue .",
    "the @xmath181 queue has been studied in much detail . however , the analogous alternating service model ",
    "i.e. , take @xmath182 in , so @xmath5  seems to be more complicated to analyse . as shown in @xcite , if @xmath5 , the density of @xmath7 satisfies a generalised wiener - hopf equation , for which no solution is known in general .",
    "the presently available results for the distribution of @xmath7 with @xmath5 are developed in @xcite , where @xmath9 is assumed to belong to a class strictly bigger than the class of functions with rational laplace transforms , but not completely general .",
    "moreover , the method developed in @xcite breaks down when applied to with @xmath155 _ not _ identically equal to @xmath183 .    we shall refrain from trying to develop an alternative approach for the @xmath184 case with a more general distribution for @xmath9 than the one treated in section  [ s : g / ph ]",
    "instead , we give a detailed analysis of the @xmath185 case : @xmath8 is exponentially distributed and @xmath9 is deterministic .",
    "this case is neither contained in the @xmath186 case of the previous section nor has it been treated ( for the special choice of @xmath5 ) in @xcite .",
    "its analysis is of interest for various reasons . to start with",
    ", the model generalises the classical @xmath187 queue ; additionally , the analysis illustrates the difficulties that arise when studying in case @xmath8 is exponentially distributed and @xmath9 is generally distributed ; finally , the different effects of lindley s classical recursion and of the lindley - type recursion discussed in @xcite are clearly exposed .",
    "as we shall see in the following , the analysis can be practically split into two parts , where each part follows the analysis of the corresponding model with @xmath188 , or @xmath189 .",
    "as before , consider equation  , and assume that @xmath190 with probability @xmath6 and @xmath191 with probability @xmath47 . let @xmath8 be exponentially distributed with rate @xmath192 and @xmath9 be equal to @xmath193 , where @xmath194 .",
    "furthermore , we shall denote by @xmath195 the mass of the distribution of @xmath7 at zero ; that is , @xmath196 $ ] .    for this setting , we have from that for @xmath197 , @xmath198={\\mathbb{p}}[b - a+yw\\leqslant x]\\\\ \\nonumber         & = p\\,{\\mathbb{p}}[b - a+w\\leqslant x]+(1-p)\\,{\\mathbb{p}}[b - a - w\\leqslant x]\\\\ \\nonumber         & = p\\ , \\pi_0 { \\mathbb{p}}[b - a\\leqslant x]+p \\int_0^\\infty { \\mathbb{p}}[b - a\\leqslant x - y ] { \\mbox{$f_w^{}$}}(y ) \\,\\mathrm{d}y+(1-p)\\,\\pi_0 { \\mathbb{p}}[b - a\\leqslant x]+\\\\ \\nonumber         & \\hspace{6cm}+(1-p ) \\int_0^\\infty { \\mathbb{p}}[b - a\\leqslant x+y ] { \\mbox{$f_w^{}$}}(y ) \\,\\mathrm{d}y\\\\ \\nonumber         & = \\pi_0 { \\mathbb{p}}[a\\geqslant b - x]+p \\int_0^\\infty { \\mathbb{p}}[a\\geqslant b - x+y ] { \\mbox{$f_w^{}$}}(y ) \\,\\mathrm{d}y+\\\\                   & \\hspace{6cm}+(1-p ) \\int_0^\\infty { \\mathbb{p}}[a\\geqslant",
    "b - x - y ] { \\mbox{$f_w^{}$}}(y)\\,\\mathrm{d}y.\\end{aligned}\\ ] ] so , for @xmath199 the above equation reduces to @xmath200 and for @xmath201 , equation   reduces to @xmath202 where we have utilised the normalisation equation @xmath203    in the following , we shall derive the distribution on the interval @xmath204 and on the interval @xmath205 separately .",
    "at this point though , one should note that from equation   it is apparent that for @xmath8 exponentially distributed and @xmath206 , the distribution of @xmath7 is continuous on @xmath207 . also , one can verify that equation   for @xmath208 reduces to equation   for @xmath208 .",
    "the fact that @xmath108 is continuous on @xmath207 will be used extensively in the sequel .",
    "notice also that from equations   and we can immediately see that we can differentiate @xmath209 for @xmath210 and @xmath211 ; see , for example , titchmarsh  @xcite .",
    "+   + in all subsequent equations it is assumed that @xmath210 . in order to derive the distribution of @xmath7 on @xmath212 $ ] , we differentiate once to obtain @xmath213 we rewrite this equation after noticing that the second line is equal to zero , while the sum of the integrals in the first line can be rewritten by using .",
    "thus , we have that @xmath214 in order to obtain a linear differential equation , differentiate once more , which leads to @xmath215    equation is a homogeneous linear differential equation , not of a standard form because of the argument @xmath216 that appears at the right - hand side . to solve it",
    ", we substitute @xmath66 for @xmath216 in to obtain @xmath217 then , we differentiate once more to obtain @xmath218 and we eliminate the term @xmath219 by using .",
    "thus , we conclude that @xmath220 for @xmath221 , the solution to this differential equation is given by @xmath222 where @xmath223 and @xmath224 are given by @xmath225 and the constants @xmath226 and @xmath227 will be determined by the initial conditions .",
    "namely , the solution needs to satisfy and the condition @xmath228 .",
    "thus , for the first equation , substitute the general solution we have derived into . for the second equation , first rewrite as follows : @xmath229 then substitute @xmath230 from , and finally evaluate the resulting equation for @xmath231 .",
    "this system uniquely determines @xmath226 and @xmath227 .",
    "specifically , we have that @xmath232 where in the process we have assumed that @xmath100 . up to this point",
    "we have that the waiting - time distribution on @xmath212 $ ] is given by @xmath233 where @xmath226 and @xmath227 are known up to the probability @xmath195 .",
    "the cases for @xmath5 and @xmath4 follow directly from equation   and will be handled separately in the sequel .",
    "+   + as before , we obtain a differential equation by differentiating once , and substituting the resulting integrals by using once more .",
    "thus , we obtain the equation @xmath234 which can be reduced to @xmath235 equation   is a delay differential equation that can be solved recursively .",
    "observe that for @xmath236 , the term @xmath237 has been derived in the previous step , so for @xmath236 , equation   reduces to an ordinary linear differential equation from which we can easily derive the distribution of @xmath7 in the interval @xmath238",
    ".    for simplicity , denote by @xmath239 the distribution of @xmath7 when @xmath240 $ ] , and analogously denote by @xmath241 the density of @xmath7 , when @xmath242 . then states that @xmath243 which leads to an expression for @xmath244 that is given in terms of an indefinite integral that is a function of @xmath66 , that is ,",
    "@xmath245,\\quad i\\geqslant 1.\\ ] ] the constants @xmath246 can be derived by exploiting the fact that the waiting - time distribution is continuous .",
    "in particular , every @xmath246 is determined by the equation @xmath247    solving equation   recursively , we obtain that @xmath248 observe that for @xmath249 , if we define the empty sum at the right - hand side to be equal to zero , then the above expression is satisfied .",
    "notice that , since we have made use of the distribution on @xmath204 as it is given by , equation   is not valid for @xmath5 or @xmath4 . from equation",
    "we now have that for every @xmath250 , @xmath251 where we have assumed that @xmath252 , and that for @xmath253 , the second sum is equal to zero .",
    "these expressions can be simplified further by observing that @xmath254    recall that @xmath226 and @xmath227 , and thus also all constants @xmath246 , are known in terms of @xmath195 .",
    "the probability @xmath195 that still remains to be determined will be given by the normalisation equation .",
    "notice though , that since the waiting - time distribution is determined recursively for every interval @xmath255 $ ] , equation   yields an infinite sum .",
    "the sum is well defined , since a unique density exists .",
    "the above findings are summarised in the following theorem .",
    "[ th : distr",
    "m / d ] consider the recursion given by , and assume that @xmath29 .",
    "let @xmath8 be exponentially distributed with rate @xmath192 and @xmath9 be equal to @xmath193 , where @xmath194 .",
    "then for @xmath256 $ ] , @xmath257 , the limiting distribution of the waiting time is given by @xmath258 where the constants @xmath246 are given by equation   and the probability @xmath195 is given by the normalisation equation .",
    "one might expect though that equation   may not be suitable for numerically determining @xmath195 .",
    "however , if the probability @xmath6 is not too close to one , or in other words , if the system does not almost behave like an @xmath187 queue , then one can numerically approximate @xmath195 from the normalisation equation . as an example , in figure  [ fig : distr ] we display a typical plot of the waiting - time distribution .",
    "we have chosen @xmath259 , @xmath260 , and @xmath261 .    , @xmath260 , and @xmath261.,scaledwidth=80.0% ]    for @xmath6 close to one",
    ", we can see from the expressions for @xmath226 and @xmath227 that both the numerators and the denominators of these two constants approach zero .",
    "furthermore , the denominators @xmath262 , @xmath263 that appear in the waiting - time distribution also approach zero , which makes theorem  [ th : distr m / d ] unsuitable for numerical computations for values of @xmath6 close to one . moreover , we also see that very large values of the parameter @xmath192 may also lead to numerical problems , since @xmath192 is involved in the exponent of almost all exponential terms that appear in the waiting - time distribution .",
    "as one can observe from figure  [ fig : distr ] , and show from theorem  [ th : distr m / d ] , @xmath108 is not differentiable for @xmath208 .",
    "this is not surprising , as the waiting - time distribution is defined by two different equations ; namely equation   for @xmath264 and equation   for @xmath201 .",
    "furthermore , from equation   we have that @xmath265 and from equation   we have that @xmath266 that is , @xmath267 .",
    "observe that if @xmath5 then the support of @xmath7 is the interval @xmath212 $ ] . to determine the density of the waiting time , we insert @xmath5 into equation  .",
    "thus , we obtain that @xmath268 from which we immediately have that @xmath269 for some constants @xmath270 and @xmath271 such that is satisfied .",
    "the latter condition implies that for every @xmath272 the following equation must hold : @xmath273 from this we conclude that @xmath270 is equal to zero , i.e.  the waiting time has a mass at zero and is uniformly distributed on @xmath274 . to determine the mass @xmath195 and the constant @xmath271 we evaluate at @xmath231 and we use the normalisation equation , keeping in mind that @xmath275 for @xmath276 .",
    "these two equations yield that if @xmath5 , then @xmath277 evidently , the density in this case is quite different from the density for @xmath221 , which is on @xmath274 a mixture of two exponentials ; see .    another way to see that @xmath278 , @xmath279 , is as follows .",
    "recall that for @xmath5 and @xmath201 we have that @xmath275 .",
    "equation   can now be written as @xmath280 - \\lambda { \\mathbb{p}}[w \\in ( b - x , b)].\\ ] ] replacing @xmath66 by @xmath216 shows that @xmath281 , which implies that @xmath282 = { \\mathbb{p}}[w \\in ( b - x , b)]$ ] and finally that @xmath283 , @xmath279 .",
    "it seems less straightforward to explain _ probabilistically _ that @xmath7 , given that @xmath284 , is uniformly distributed . with a view towards the recursion @xmath285 , we believe that this property is related to the fact that , if @xmath14 poisson arrivals occur in some interval , then they are distributed like the @xmath14 order statistics of the uniform distribution on that interval ;",
    "see ross  ( * ? ? ?",
    "* section 2.3 ) .      for the @xmath187 queue ,",
    "erlang  @xcite derived the following expression for the waiting - time distribution : @xmath286=(1-\\rho ) \\sum_{j=0}^i \\frac{\\bigl(-\\lambda(x - jb)\\bigr)^j}{j ! } \\ , \\mathrm{e}^{\\lambda(x - jb ) } , \\quad ib\\leqslant x < ( i+1)b,\\ ] ] where @xmath75 is the traffic intensity .",
    "recall that for the @xmath187 queue we have that @xmath287 .",
    "we see that for @xmath4 equation   indeed leads to the waiting - time distribution @xmath288 , as it is given by erlang s expression for the first interval @xmath289 . for @xmath201",
    ", one needs to recursively solve equation   in order to obtain erlang s expression .",
    "however , since the recursive solution we have obtained for our model makes use of @xmath209 as it is given by , which is not valid for @xmath4 , the waiting - time distribution we have obtained in theorem  [ th : distr m / d ] can not be extended to the case for @xmath4 .",
    "the terms both in erlang s expression for the waiting - time distribution of an @xmath187 queue and in theorem  [ th : distr m / d ] alternate in sign and in general are much larger than their sum .",
    "thus , the numerical evaluation of the sum may be hampered by roundoff errors due to the loss of significant digits , in particular under heavy traffic . for the @xmath187 queue ,",
    "however , a satisfactory solution has been given by franx  @xcite in a way that only a finite sum of positive terms is involved ; thus , this expression presents no numerical complications , not even for high traffic intensities . for our model , extending franx s approach is a challenging problem as the representation of various quantities appearing in @xcite which are related to the queue length at service initiations is not straightforward .    as we see , the waiting - time distribution in theorem  [ th : distr",
    "m / d ] is quite similar to erlang s expression , so we expect that eventually the solution will suffer from roundoff errors .",
    "however , a significant difference in the numerical computation between the @xmath187 queue and the model described by recursion   arises when computing @xmath195 . for any single server queue we know a priori that @xmath290=1-\\rho$ ] . in our model",
    ", @xmath195 has to be computed from the normalisation equation , where the numerical complications when calculating the waiting - time distribution become apparent .",
    "in particular , as @xmath6 tends to @xmath291 , i.e.  as the system behaves almost like an @xmath187 queue , the computation of @xmath195 becomes more problematic .",
    "+ as a final observation , we note that the effects of lindley s classical recursion and of the lindley - type recursion discussed in @xcite are quite apparent .",
    "the analysis for our model is in a sense separated into two parts : the derivation of the waiting - time distribution in @xmath204 and in @xmath205 . in the first part",
    ", we see that equation   is quite similar to the differential equation appearing in @xcite for the derivation of the waiting - time distribution in case @xmath5 and @xmath9 follows a polynomial distribution . moreover",
    ", one could use the same technique to derive a solution , but equation   is too simple to call for such means . in the second part , we see the effects of the @xmath187 queue , as we eventually derive @xmath108 in a recursive manner .",
    "furthermore , this model inherits all the numerical difficulties appearing in the classical solution for the @xmath187 queue , plus the additional difficulties of computing @xmath195 . for lindley",
    "s recursion , @xmath195 is known beforehand , while for the lindley - type recursion described in @xcite @xmath195 is derived by the normalisation equation .",
    "the authors would like to thank ivo adan for his helpful remarks and his assistance in simulating this model .",
    "a.  k.  erlang . the theory of probabilities and telephone conversations . in e.",
    "brockmeyer , h.  l. halstrm , and a.  jensen , editors , _ the life and works of a.  k.  erlang _ , number  6 in applied mathematics and computing machinery series , pages 131137 .",
    "acta polytechnica scandinavica , second edition , 1960 .",
    "english translation .",
    "first published in `` nyt tidsskrift for matematik '' b , vol .  20 ( 1909 ) , p.  33"
  ],
  "abstract_text": [
    "<S> we consider an extension of the standard @xmath0 queue , described by the equation @xmath1 , where @xmath2=p$ ] and @xmath3=1-p$ ] . for @xmath4 </S>",
    "<S> this model reduces to the classical lindley equation for the waiting time in the @xmath0 queue , whereas for @xmath5 it describes the waiting time of the server in an alternating service model . for all other values of @xmath6 </S>",
    "<S> this model describes a fcfs queue in which the service times and interarrival times depend linearly and randomly on the waiting times . </S>",
    "<S> we derive the distribution of @xmath7 when @xmath8 is generally distributed and @xmath9 follows a phase - type distribution , and when @xmath8 is exponentially distributed and @xmath9 deterministic .    </S>",
    "<S> @xmath10 eurandom , + p.o .  </S>",
    "<S> box 513 , 5600 mb eindhoven , the netherlands .    </S>",
    "<S> @xmath11 eindhoven university of technology , + department of mathematics & computer science , + p.o .  </S>",
    "<S> box 513 , 5600 mb eindhoven , the netherlands .    </S>",
    "<S> @xmath12 georgia institute of technology , + h. milton stewart school of industrial & systems engineering , + 765 ferst drive , atlanta ga 30332 - 0205 , usa . </S>",
    "<S> + boxma@win.tue.nl , vlasiou@gatech.edu </S>"
  ]
}