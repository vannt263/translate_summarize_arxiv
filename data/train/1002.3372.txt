{
  "article_text": [
    "all emission lines are sensitive to some extent on the physical conditions in the emitting gas .",
    "this includes the density and electron temperature of the medium , the abundance of the emitting element , and the details of the ionizing source such as the luminosity and effective temperature of the star in hiiregions .",
    "while both atomic and line theory and observational data have advanced sufficiently over the years such that the dependency of individual emission lines on nebulae parameters is known , determining these same parameters from individual lines is difficult apart from a few exceptions .",
    "one of the simplest ways to break these inherent degeneracies is through the use of emission line ratios .",
    "using lines arising from the same elements , or similar ionization potentials , or even from different levels of the same ion , can minimize the dependence on some or most of the parameters that control line emission , thus enabling the construction of diagnostics .",
    "one of the first diagnostic emission line ratios was the [ oiii ] line ratio @xmath0/@xmath1 put forward by @xcite . by using forbidden lines of the same ion , o@xmath2 ,",
    "both the abundance and ionization dependencies are removed , leaving a ratio strongly dependent on electron temperature due to the different excitation levels of the lines involved ( see e.g.  fig .  2.5 in * ? ? ?",
    "this line method , and other methods of determining electron temperature , have been discussed in detail by @xcite .",
    "the same reasoning has also been extended to several other line ratios , using lines from a single ion but arising from different energy levels , such as optical - ir ratios like [ oiii]@xmath1/@xmath3 m ( see e.g. * ? ? ? * ) and uv ratios like ciii]@xmath4/ciii@xmath5 .",
    "similarly , ratios of forbidden lines arising from the same ion and similar energy levels remove abundance , ionization and temperature dependencies .",
    "if these lines arise from levels with different collisional de - excitation rates or radiative transition probabilities , this ratio will be sensitive to the densities in the range spanned by the critical densities of the lines involved .",
    "this idea was first put forward by @xcite for the [ oii ] doublet , @xmath6 , and has been extended to several other strong lines like [ sii ] @xmath7 or in the ir [ siii ] @xmath8 ( see * ? ? ?",
    "* for a nice overview of these ratios ) .",
    "apart from the temperature and density sensitive ratios described above , determining physical quantities from single line ratios proves difficult due to degeneracies between the various controlling parameters of the nebula emission . generally what is done is to use several line ratios in combination to break these degeneracies , such as determining the metallicity or abundances in the gas ( see e.g. * ? ? ?",
    "* for an overview of several line methods for metallicity determination ) , or to use empirically - based assumptions , such as the constancy of the balmer decrement in hii  regions for dust - reddening determination ( also theoretically supported , see e.g. * ? ? ?",
    "* ; * ? ? ?",
    "* though these concentrate mostly on planetary nebulae ) .",
    "an overview of all methods of comparing observed emission lines with theory can be found in @xcite and in books such as @xcite and @xcite , which give a broad understanding of the topic and underlying physics .",
    "one of the best ways to disentangle these degeneracies is to plot two line ratios against each other in what is commonly called a line diagnostic diagram .",
    "these were first used as a method to distinguish various classes of emission - line galaxies in @xcite and @xcite , with the diagrams described in the latter still commonly used to distinguish star - forming or hiigalaxies from galaxies dominated by an active galactic nucleus ( agn ) .",
    "these diagrams for emission - line galaxy classification were revised and extended by @xcite , who based their selection of line ratios on 5 criteria : line strength ( 1 ) , line proximity ( for blending ( 2 ) and reddening ( 3 ) effects ) , the preferable inclusion of hydrogen lines ( 4 ) and the capability of detecting these lines ( 5 ) .    with improvements in the availability of spectra , with wavelengths from the uv ( such as hubble - stis ) to fir ( e.g.  herschel -pacs & -hifi ) available ,",
    "increased spectral sensitivity and resolution , and a copious number of ionization models now available ( e.g. * ? ? ?",
    "* ) , such criteria need not be so strict . however , these large increases in wavelength range , sensitivity , and models make analysis of emission - line objects much more complicated .",
    "it is for these reasons that we introduce here a new , publicly available , emission - line analysis tool , itera .",
    "itera , the idl tool for emission - line ratio analysis , allows the simple comparison of observed emission - lines from uv to far - ir wavelengths to models to assist in the determination of properties such as gas density , metallicity and excitation mechanism .",
    "we describe in the following sections the code and demonstrate some of the possible diagnostic diagrams available .",
    "the idl tool for emission - line ratio analysis ( itera ) had its inception with the shockplot tool created to display the results of the @xcite 1501000@xmath9  shock models .",
    "the power of such a tool was quickly realised and the original tool was rewritten and expanded into its current form .",
    "itera is an idl widget tool which enables astronomers to plot line ratio diagrams of emission lines arising from atomic and ionized species as determined by standard photoionization and shock models .",
    "it also allows for a comparison of these line ratios with those obtained from observations or other models .",
    "as discussed in the introduction , these diagrams , or the individual ratios of the diagram , can be used as diagnostics of nebulae excitation mechanisms , nebulae density , electron temperature , metallicity or individual abundance variations , and other model - specific parameters .",
    "itera can also be used to determine line sensitivities to such parameters , thus giving the possibility of creating new or `` best possible '' diagnostics for a given set of observations .",
    "it can even be used to estimate line fluxes that are weak or in unobserved wavelength ranges .",
    "itera works in three simple steps ; the user selects the emission lines to be used as the denominators and numerators of the ratios for the x- and y- axes , selects the model(s ) that the user wants to examine , and , if wished , the user enters observational data for comparison .",
    "these steps can be performed in any order .",
    "multiple lines can be chosen for the ratios in the case of emission line doublets or line blends due to resolution or velocity effects .",
    "what is returned is an emission - line ratio diagram of the chosen ratios , displaying a grid of the chosen models and , if entered , observational data points",
    ". this diagram can be printed , or the model grids displayed can be output for use in other routines , or direct comparison with data .",
    "the program and associated libraries and routines are available from http://www.brentgroves.net/itera.html .",
    "an idl virtual machine version is also available for those without access to idl licences .",
    "full instructions and details of the program are found on the webpage , but we describe below the major parts of the program .    the principle of itera is to allow ease of access for astronomers to existing shock- and photo - ionization models for the determination of emission line strengths .",
    "thus the strength of itera lies in the library of shock- and photo- ionization models associated with the code .",
    "this library is a distinct yet necessary part of itera , needed to generate the line ratios .",
    "as the library is not an integral part of itera , only the desired model series need to be downloaded and installed ( such as agn or hii - region models , with further models added later as required , including photoionization models generated by the user .",
    "the library of models associated with itera cover the range of excitation mechanisms expected within emission - line galaxies ; star formation , active galactic nuclei and shocks .",
    "these models , generated by the shock and photoionization code , broadly cover the ratio space occupied by the dominant optical emission lines from galaxies .",
    "other sources of emission lines , such as individual o and b stars ( hiiregions ) or planetary nebulae , can be included through the user - generated option of itera , and may be included in the library at a later date .",
    "the itera model library is split into four main categories : starburst or stellar ionization models , agn models , shock models , and user - generated models .",
    "the currently available libraries are shown in table [ tab : models ] , and described briefly below .",
    "itera has the possibility of plotting up to any number of shock or photoionization model grids , although for clarity the number displayed on any plot is generally limited to 5 .",
    "every model set has a limited number of parameters , with common parameters to the models being the emitting gas metallicity or abundance pattern , and the gas density or pressure .",
    "the other parameters associated with the models tend to be specific to the specific sets , either due to the different physics associated with the ionizing / excitation mechanism , or due to different definitions by the model set creators .",
    "these include the hardness of the radiation field , the velocity of a shock ionizing the gas , or the dimensionless photoionization parameter .",
    "the parameters associated with the different model sets within the itera model library are described in the following subsections .",
    "the model grids displayed within the itera plot window are formed by the ranges of two of these parameters , with the other parameters of the model sets fixed .",
    "the fixed parameters thus describe the different model grids that can be plotted .",
    "the first parameter of the model grid is set and can not be chosen by the user , and is generally a measure of the ionization state of the gas , such as ionization parameter or shock velocity .",
    "the second parameter of the grid can be chosen by the user , with the choice of density , metallicity or the unique parameter associated with that model set ( as described below ) .",
    "if the user of itera wants to compare parameters other than the set first parameter , e.g  the ionization parameter , this can be done by simply limiting the parameter range to a single value and plotting multiple grids .",
    ".listing of the model libraries currently available with itera [ cols=\"<\",options=\"header \" , ]      the library of agn models used in the itera code are those from the @xcite photoionization models of the narrow line regions of agn .",
    "we include two series of agn models , the classic dust - free , agn power - law ionized models and the dusty , radiation pressure dominated models introduced by groves et al .. both of these models use simple power - law radiation fields ( @xmath10 ) to represent the agn ionizing spectrum , and explore the same range in metallicities ( with the same abundance patterns ) , gas densities and ionization parameters .",
    "however the first models are dust free and assume a constant gas density throughout the narrow line region cloud .",
    "the second set are taken to be isobaric ( constant pressure ) and include dust and the effects of radiation pressure on dust , which causes significant differences in the resulting emission line spectrum at high ionization parameters ( see * ? ? ?",
    "* for full details of the models ) .",
    "these latter models are much more closely matched with the observed line ratio space and are the recommended model to use .    while these models do not represent the full range of theoretical models for the emission from the narrow line regions of agn ( see e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ) , they do broadly cover the expected emission of strong emission lines , and can be used to estimate the `` agn space '' of line ratios .",
    "the shock models used in the itera library are directly imported from the @xcite work on fast shocks .",
    "they include a range of metallicities , densities , and magnetic parameters ( the `` unique parameter '' of these models ) , and explore velocities from @xmath11 to @xmath12 , where strong j - shocks occur .",
    "the shock models are split into three sets .",
    "the first is the emission from the post - shock region , where gas is shock - excited to high temperatures and ionization states .",
    "the second model set is from the pre - shock or precursor region which is photoionized by the radiation emitted upstream from the post - shock region .",
    "the third set is the combination of these ( shock+precursor ) for integrated measurements where the individual regions can not be distinguished . for full details on the parameters and underlying physics of the models see @xcite .",
    "while the above models cover the expected parameter space of emission - line galaxies , they are not representative of individual objects , where variations in the abundances of specific elements , ionizing source variations or even geometrical effects can all affect the final emission - line spectrum .",
    "therefore we include the final option of user generated model libraries .",
    "this allows the possibility of a user inputting the results from well tested and respected photoionization codes such as cloudy @xcite and @xcite , or using on - line interfaces such as mapiiionline : http://www.ifa.hawaii.edu/~kewley / mappings/. for a listing , comparison , and benchmarking of such models see @xcite , though all these models have advanced since this work .    to assist in the input of user generated models into itera , we provide tools for converting the outputs from these models to format used by itera",
    ". currently only conversion tools for the publicly available codes cloudy and  are provided , but this may be expanded at a later date depending on demand .      in principle , the choice of emission lines to use in the diagnostic line ratios in itera is limited purely by those provided by the code used to generate the photoionization / shock model . in  ( including all the models provided in the library ) this is limited to @xmath131770 emission lines in the infrared , optical , and ultraviolet , and even including high - ionization / inner - shell lines in the x - ray . in cloudy , this is further expanded by a host of weaker lines as well as molecular ro - vibrational emission lines from co and h@xmath14 .",
    "the lines are listed in simple selection boxes , with only strong lines listed by default , though all lines , or lines in certain wavelength ranges , can be displayed if wished .",
    "in addition , sums of lines can be used in the line ratios to account for line blending at low spectral resolution , or to account for different levels or ionization states ( i.e.  [ oii]@xmath15 ) .    in practice",
    "however , the guidelines discussed in the introduction form the bases for good diagnostics . lines of the same element and of the same ionization state or of similar excitation potential in different elements provide some of the strongest diagnostics . lines relative to hydrogen recombination lines are also good diagnostics . as discussed in @xcite , lines in close wavelength proximity limit the possible instrumental , calibration , and reddening effects .",
    "hence it is for this reason that several standard , strong - line , diagnostic ratios , such as [ sii]@xmath16 versus [ oiii]@xmath17 , are also included in itera as predefined diagnostic diagrams for ease of use .",
    "ultimately , the use of ionization models lies in their diagnostic power for observations , which is why itera also includes the ability to enter data . to allow for easy comparison of observations with the models ,",
    "the itera program has three simple ways in which data can be entered into the emission - line diagnostic diagrams directly ; direct point by point entry , a simple list of line ratios for multiple data , and via tabulated emission line data for multiple line ratio comparisons . for the first two options , the line ratios for the chosen diagram are entered in and compared directly with the model on the chosen line ratio diagram ( as shown in figure [ fig : midir ] ) .",
    "once the chosen diagram has cleared or another line ratio diagram chosen , the data are cleared .",
    "the tabulated emission line data are chosen in a similar manner as the models , with the data plotted over the model grids if the contain the chosen emission lines .",
    "templates for the tabulated data are available with the itera program .",
    "conversely , the fluxes ( relative to h@xmath18 ) from the selected model grids for the four emission lines of the chosen line diagnostic diagram can be exported to formatted ascii files for comparison with observational data .",
    "this is especially useful in cases of large datasets , such as with sdss .",
    "to demonstrate the capabilities of itera , we present here three emission - line ratio diagrams covering a range of wavelengths and diagnostic capabilities .",
    "these diagrams are all direct output from the itera routine , excluding the histogram in the first diagram .",
    "the first diagram ( figure [ fig : bpt ] ) shows [ nii]/@xmath19versus  [ oiii]/@xmath20 , the classic `` bpt '' diagram from @xcite that is a diagnostic of the excitation mechanism in emission - line galaxies . shown on this plot",
    "are two model grids ; the @xcite std models for star - forming galaxies on the left , and the @xcite models for dusty agn on the right .",
    "both grids show a range of metallicities ( blue curves ) and ionization parameters ( orange curves ) , though note that these grids are not equivalent .",
    "the exact parameters that the star forming models have are : @xmath21 and @xmath22 , for a 2 myr old burst with density @xmath23 , while the agn models have : @xmath24 with @xmath25 , a gas density of @xmath26 and are ionized by a power - law of index @xmath27 .",
    "underlying the grids is a coloured 2d density histogram of the sdss dr4 emission line galaxy sample from @xcite , displaying the observed distribution of star forming galaxies ( green squares ) , seyfert galaxies ( blue squares ) , and liner galaxies ( red squares ) .    /@xmath19versus",
    "[ oiii]/@xmath20 , showing grids of photoionization models for star forming galaxies ( left , * ? ? ? * ) and agn ( right , * ? ? ?",
    "* ) , described fully in the text . in both grids , lines of constant metallicity",
    "are shown by the blue curves , increasing from dark blue to light blue , and lines of constant ionization parameter are shown by the orange curves , increasing in value from red to yellow . in the background",
    "is an image of a 2d density diagram from the sdss dr4 sample described in @xcite , showing star - forming galaxies ( green ) , seyfert galaxies ( blue ) and liner galaxies ( red ) . ]",
    "the model grids clearly encompass the observed line ratio space .",
    "note how the star forming models follow closely the green branch of this diagram , showing the known strong dependence on metallicity of the [ nii]/@xmath19  ratio , with the ionization parameter affecting the position of the models in both ratios , explaining the spread in observed galaxies ( along with the average age of the ionizing stars ) .",
    "also note that the models fail to reproduce the observed line ratios at very low metallicities , and do so even when different ages are used for the ionizing stars , indicating that there are still underlying issues with either the photoionization models , stellar population models , or both .",
    "the agn model grid on the other hand actually tends to be too broad , demonstrating the sparsity of low metallicity agn in the sdss emission - line galaxy sample , as discussed in @xcite .",
    "the low @xmath28 nlr models are likely to be too faint to be observed in this sample .",
    "it should be remembered that the agn and star forming galaxy models show are the extremes , of pure agn contribution and pure hii  regions . in between these models , seen in the right - hand wing of the diagram ( the ` agn ' branch ) are galaxies where both mechanisms , active star formation and agn , contribute to the galaxy spectrum .",
    "@xmath29/[neii]@xmath30 versus [ siv]@xmath31/[neii]@xmath30 , showing the same @xcite star forming galaxy photoionization model as in figure[fig : bpt ] , with the grids curves as labelled in the colour bar to the right .",
    "the stars are a sample of o and b star ionized systems ( star - forming galaxies and extragalactic and galactic hii  systems ) collated and described in @xcite . ]",
    "the second diagram ( figure [ fig : midir ] ) shows the mid - ir diagram of [ neiii]@xmath29/[neii]@xmath30 versus [ siv]@xmath31/[neii]@xmath30 .",
    "a surprisingly strong correlation between these ratios was found by @xcite , who explored a large sample of emission line objects to see if the ground - observable [ siv]/[neii ] ratio could replace the space - only , ionization sensitive [ neiii]/[neii ] ratio . here",
    "we show only a sub - sample of that collated by @xcite , displaying only star formation ionized regions ( starbursts , blue compact dwarfs , extragalactic hiiregions , and galactic hii  regions ) , shown as crosses on figure [ fig : midir ] .",
    "overlaying the observed data is same star - formation model grid of metallicity and ionization parameter as in figure [ fig : bpt ] , as labelled in the colour bars .",
    "the model grid broadly covers the observations , with both higher metallicity and lower ionization parameter towards the lower left of the grid ( lower ionization ) .",
    "this is somewhat degenerate with the age of the ionizing stellar population , with ages greater than @xmath32 myrs moving strongly to the lower left of the grid .",
    "there are two interesting points to take from this grid .",
    "the first is that the models are unable to explain the full spread of the data , though this may arise due to the @xmath33 uncertainty in the data ( see * ? ? ?",
    "* for details ) .",
    "the high values of [ siv]/[neii ] may come also from higher ionization parameters and or different abundance patterns , but the points to the right of the diagram suggest , as in the previous figure , that the low metallicity models ( or youngest age or wolf - rayet models similarly ) are lacking a hard enough spectrum to reach these ionization states .",
    "the second is that the observed relation between [ neiii]/[neii ] and [ siv]/[neii ] has a different slope and narrower spread than the model grid , suggesting that there may a higher order correlation going on between the metallicity and age of the stellar population and the ionization parameter of the ionized gas .",
    "emission lines , containing the density sensitive [ oiii ] @xmath34 ratio versus the temperature sensitive [ oiii]@xmath35@xmath36 ratio , that both use the _ herschel _ observable [ oiii]@xmath37 line . shown are two different density ( @xmath38 , lower left grid , and @xmath39 , lower right grid ) instantaneous starburst models from @xcite , and two different density ( @xmath40 , upper left green curve , and @xmath41 , upper right green curve ) shock models from @xcite . in both models , the state of ionization ( ionization parameter or shock velocity ) increases from red to yellow .",
    "the four models are well separated in this diagram thanks to the diagnostic power of the ratios . ]",
    "the final diagram uses optical and far - ir lines of the same species , o@xmath2 , aiming towards the ionized gas diagnostics possible with _ herschel space telescope _ , specifically the pacs spectrometer .",
    "figure [ fig : oiii ] shows the [ oiii ] @xmath34 versus [ oiii]@xmath35@xmath36 , based on the @xcite diagram .",
    "this diagram is a strong diagnostic diagram , separating out both density and temperature , while avoiding direct abundance and ionization effects .",
    "while unfortunately the density sensitive @xmath34 ratio can not be observed in the local universe with _ herschel _ due to the lower wavelength limit , the temperature sensitive @xmath35@xmath36 ratio can be obtained with the combination of _ herschel _ pacs spectra with ground based data . in reality however , caution must be taken with this ratio , as there are clear difficulties associated with the different wavelengths , such as matching the _ herschel _ apertures and pixels with ground based data , and the large difference in dust attenuation between the two lines , both of which effects could overwhelm any small variations due to temperature . nevertheless , to demonstrate the power of this diagram we show two star forming model grids from @xcite , and two shock model curves from @xcite .",
    "the @xcite models are grids in metallicity ( blue curves , same as levesque models ) and ionization parameter ( orange curves ) using a starburst99 3 myr old instantaneous burst as the ionizing source .",
    "what distinguishes the two model grids is the density of the ionized gas , with the left grid at @xmath38 , and the right grid at @xmath39 .",
    "the @xmath34 ratio clearly separates the two grids . though difficult to see due to their collapsed form",
    ", the @xmath35@xmath36 ratio is affected by both the ionization parameter ( weakly ) and the metallicity ( more strongly ) . however the diagnostic strength of this ratio is more clearly seen when compared to the much hotter ionized gas in the shocks .",
    "the @xcite model curves ( green ) show pure shock models at solar metallicity , magnetic parameter of b/@xmath42g@xmath43 , and velocities ranging from 150 ( red squares )  1000 ( yellow squares ) @xmath9 .",
    "note that the velocities are shown as squares due to one of the features of itera , where if one of the parameters are set to a single value , in this case solar metallicity , the varying parameter along the curve is marked by squares . as with the kewley models , the two curves are again separated by density , with the left curve having a pre - shock density of @xmath40 , and the right @xmath38 .",
    "what is clearly noticeable in figure [ fig : oiii ] , is the clear vertical offset between the shock models and star forming models in the temperature sensitive [ oiii ] @xmath35@xmath36 ratio , demonstrating clearly the possible capabilities of upcoming _",
    "herschel_-pacs spectral surveys .",
    "we have presented here a new tool to enable astronomers to compare observations of emission line ratios with that determined by photoionization and shock models , itera , the idl tool for emission - line ratio analysis .",
    "itera is an idl widget tool which allows the user to plot ratios of any strong atomic and ionized emission lines as determined by standard photoionization and shock models .",
    "these line ratio diagrams can then be used to determine diagnostics for nebulae excitation mechanisms ( such as discussed in the * ? ? ?",
    "* paper ) or for nebulae parameters such as density , temperature , metallicity , etc .",
    "itera can also be used to determine line sensitivities to such parameters , compare observations with the models , or even estimate unobserved line fluxes .",
    "this tool , and associated libraries and instructions , can be obtained at http://www.brentgroves.net/itera.html .    at its core",
    "lies a library of emission - line nebulae models , covering photoionization by young o and b stars ( e.g. * ? ? ?",
    "* ; * ? ? ?",
    "* ) , photoionization by a hard power - law spectrum from an agn ( e.g. * ? ? ? * ) and ionization by shocks ( e.g. * ? ? ? * ) .",
    "these models broadly cover the space of observed emission - line objects .    finally , to demonstrate the capabilities of itera we present three different line diagnostic diagrams ; the classic bpt diagram of [ nii]@xmath44 versus [ oiii]@xmath17 , showing the coverage of the star forming galaxy and agn photoionization models when compared to sdss emission - line galaxies , the mid - ir diagram of [ neiii]@xmath29/[neii]@xmath30 versus [ siv]@xmath31/[neii]@xmath30 , revealing an interesting correlation of ionization parameter and metallicity of stellar photoionization models when compared to observations , and the optical ir diagram of o@xmath2 , [ oiii ] @xmath34 versus [ oiii]@xmath35@xmath36 , demonstrating one of the diagnostic possibilities of _ herschel_.",
    "it is hoped that this tool will be of great use to the astronomical community when analyzing spectra of emission - line regions due to both its simplicity and ease of use , especially as the library expands with the growing number of photoionization and shock models becoming available .",
    "the authors would like to thank those who have given feedback on itera as it was being developed ; b. brandl , e. da cunha , j. holt , m. sarzi and h. spoon ."
  ],
  "abstract_text": [
    "<S> we present a new software tool to enable astronomers to easily compare observations of emission line ratios with those determined by photoionization and shock models , itera , the idl tool for emission - line ratio analysis . </S>",
    "<S> this tool can plot ratios of emission lines predicted by models and allows for comparison of observed line ratios against grids of these models selected from model libraries associated with the tool . </S>",
    "<S> we provide details of the libraries of standard photoionization and shock models available with itera , and , in addition , present three example emission line ratio diagrams covering a range of wavelengths to demonstrate the capabilities of itera . </S>",
    "<S> itera , and associated libraries , is available from http://www.brentgroves.net/itera.html .     </S>",
    "<S> hydrodynamics - shock waves - ism : abundances,- galaxies : nuclei , galaxies : seyfert - infrared : ism , ultraviolet : ism , x - rays : ism </S>"
  ]
}