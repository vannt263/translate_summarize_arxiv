{
  "article_text": [
    "the study of complex systems that are built up of many individuals interacting according to relatively simple laws has recently attracted a lot of interest among physicists .",
    "concepts and methods developed in statistical physics have successfully been applied to describe collective and nonlinear phenomena arising in such systems .",
    "studies on traffic flow , stock markets , voting , flocking birds , evolution etc .",
    "are only a few examples to mention here .    in the stable marriage problem",
    "the elements of two sets have to be matched by pairs . as possible applications one could think of job seekers and employers , lodgers and landlords , or simply men and women who want to get married . for the sake of clearness and simplicity we will exclusively refer to the paradigm of marriage in this paper .",
    "the purpose of most studies of the stable marriage problem has so far been to unravel the underlying mathematical structure and to develop new or improve existing algorithms for finding stable marriages @xcite .",
    "only recently it has been recognized that the stable marriage problem has many features in common with classical disordered systems in statistical physics like spin glasses , in particular the element of frustration and the existence of many competing states @xcite .",
    "applying methods developed in statistical mechanics , nieuwenhuizen @xcite solved several variants of the stable marriage problem , including bachelors and polygamy . in his approach ,",
    "nieuwenhuizen focussed on the properties of globally optimal matchings which are advantageous for the society as a whole , but not necessarily for all individuals . here",
    "we consider the opposite limit where all individuals pursue only their own egoistic objectives regardless of the consequences for others . under these conditions ,",
    "only matchings that are stable with respect to the actions of all individuals are relevant . in the framework of game theory this kind of stability",
    "is termed nash equilibrium .",
    "our paper is organized as follows . in section 2",
    "we introduce the stable marriage model and set up the notation . the gale - shapley algorithm and the properties of the stable matchings obtained with it are presented in section 3 . in section 4",
    "we analyze the set of all stable matchings .",
    "generalizations of the model , introducing an acceptance threshold and unequal number of men and women are discussed in sections 5 and 6 , respectively .",
    "finally , we summarize our results in section 7 .",
    "we consider a society consisting of @xmath0 men and @xmath0 women who have to be matched by pairs . the cost for man @xmath1 to be married with woman @xmath2 is @xmath3 and the cost for woman @xmath2 to be married with man @xmath1 is @xmath4 . in order to investigate statistical properties of the model",
    "we assume that all cost functions are independent random variables uniformly distributed between @xmath5 and @xmath6 .. the case @xmath7 corresponds essentially to our choice . ] since all individuals simultaneously attempt to optimize their own benefit by being married with a partner of lowest possible cost , conflicting wishes arise , and in general it is impossible to find a matching where everybody is perfectly satisfied .",
    "let us assume that a matching is formed where man @xmath1 is married with woman @xmath2 .",
    "we define @xmath8 and @xmath9 , i.e. @xmath10 is the cost for man @xmath1 in this particular matching and @xmath11 the corresponding cost for woman @xmath2 .",
    "instead of _ cost _ we will frequently use the expression _ energy _ in order to emphasize the analogy with physical systems where the energy is the quantity to be minimized in the groundstate . for later convenience ,",
    "we introduce the total energies of men and women by @xmath12 in search of the rules according to which marriages can be formed or broken , essentially two points of view have emerged : in the first one , the goal is to find the globally best matching , i.e. the one where the total energy @xmath13 is minimal .",
    "this problem has recently been studied by nieuwenhuizen @xcite using techniques borrowed from statistical physics of disordered systems , such as the replica trick .",
    "the second point of view , that we will adopt , emphasizes the role of individuals as decision - makers .",
    "as long as there is no supervising body like church or government that dictates who has to be married with whom no individual is obliged to stay in an unsatisfactory relationship if he or she can find a better one .",
    "this leads us to the notion of stability .",
    "a matching is called _ stable _ if there is no man and no woman who prefer each other to their actual partners . in other words ,",
    "a matching is _ unstable _ , if there exists a man @xmath1 and a woman @xmath2 , who are _ not _ married with each other , such that @xmath14 the particular significance of stable matchings lies in the fact that they can not be broken , neither by the action of a single pair nor by any coalition of men and women .",
    "in contrast to the globally best matching which can only be found with the help of computers for very small numbers of men and women , there exist powerful algorithms to search for stable matchings , even for systems of several thousands of individuals .",
    "the simplest of these algorithms , introduced by gale and shapley some time ago @xcite , will be presented in the next section .",
    "in the _ man - oriented _ gale - shapley ( gs ) algorithm only men make proposals while women accept or reject . in the beginning",
    "every man makes up a list where he places the women according to his preferences .",
    "the smaller the cost @xmath3 the higher the position of woman @xmath2 on the list of man @xmath1 .",
    "then a series of proposals starts .",
    "whenever a man is not married he makes a proposal to the woman with the highest rank among those to whom he has not yet proposed .",
    "if the woman is not engaged she accepts the proposal and they get married . if the woman is already married , she accepts if she prefers the suitor to her husband . in this case",
    "she divorces and gets married with the proposer .",
    "the algorithm stops when the last woman has received an offer and gets married .",
    "the number of proposals @xmath15 that a man has to make on the average during the execution of the gs algorithm has been calculated in @xcite .",
    "the result is @xmath16 where @xmath17 is euler s constant and corrections are negative and of order @xmath18 .",
    "amazingly , the knowledge of @xmath15 is already sufficient to calculate the total energy of men ( @xmath19 ) and women ( @xmath20 ) in the gs matching . with every proposal the energy of one man increases by @xmath21 since he has to move forward one step on his preference list",
    "consequently , the total energy of men is on the average the same as the number of proposals that every man makes , i.e. @xmath22 .",
    "each woman also receives on the average @xmath15 proposals . keeping only the best offer i.e. the smallest out of @xmath15 random numbers between @xmath5 and @xmath6 yields a best value of @xmath23 . taking into account that the number of proposals that a woman receives is not fixed , but distributed according to a binomial distribution yields @xmath24 ( see appendix b ) . using eq .",
    "( [ nprop ] ) we obtain the following estimates for the energies of men and women in the man - oriented gs matching @xmath25 which implies the relation @xmath26 .    fig .",
    "[ gs ] shows the average energies @xmath19 and @xmath20 of men and women obtained with the man - oriented gs algorithm as function of @xmath0 .",
    "each data point represents an average over several thousand realizations .",
    "a logarithmic scale is used for the energy axis in order to highlight the good agreement with the analytical result of eq.([xy ] ) even for small values of @xmath0 .",
    "of course , everything that has been said about the man - oriented gs algorithm is also valid in the woman - oriented version where the roles of men and women are interchanged , i.e. women propose and men judge .",
    "it has been shown @xcite that the stable matching obtained from the man  oriented execution of the gs algorithm is man ",
    "optimal in the sense that no man can have lower energy in any other stable matching .",
    "similarly , it is the worst possible stable matching for women .",
    "therefore the energies obtained by performing the gs algorithm provide an upper and a lower bound for the possible energy range of _ all _ stable matchings .",
    "furthermore , if the man and the woman  optimal matching happen to be identical we know for sure that in this case there exists only one single stable matching .",
    "if @xmath0 is large , there are generally many other stable matchings besides the man and the woman - optimal matchings that can be obtained with the gs algorithm .",
    "although the _ maximum _ number of stable matchings in a system of size @xmath0 is not known , there exist lower bounds @xcite ; e.g. for @xmath27 the maximum number of stable matchings is larger than @xmath28 ( ! ) .    in order to calculate the _ average _ number of stable matchings we consider an arbitrary matching of @xmath0 men and @xmath0 women .",
    "this matching is unstable , if there exists a man @xmath1 and a woman @xmath2 who are not married with each other , and whose mutual costs @xmath3 and @xmath4 are both lower than the ones in the existing matching , @xmath10 and @xmath11 , respectively .",
    "the probability that man @xmath1 and woman @xmath2 prefer to stay with their respective partners is therefore @xmath29 and the whole matching is stable with probability @xmath30 although this @xmath31-fold integral , originally derived by knuth @xcite , looks quite simple , it can not be done exactly unless @xmath0 is very small .",
    "using rather involved probabilistic arguments , pittel @xcite has derived an asymptotic formula , @xmath32 valid in the limit @xmath33 . however , comparing eq .",
    "( [ pittel ] ) with numerical simulations we found rather serious discrepancies ( see fig .",
    "2 ) . in order to remove these discrepancies and to provide a more transparent approach we replace the factors @xmath34 in eq .",
    "( [ knuth ] ) by @xmath35 , which is justified since the dominant contribution to the integral comes from the region where the products @xmath36 are small . dropping the constraint @xmath37 we arrive at the approximation @xmath38 where the variables @xmath39 and @xmath40 are the energies of men and women , respectively .",
    "( [ ps ] ) can also be viewed as the partition sum of two species of particles confined to the interval @xmath41 $ ] whose interaction is the product of their center of mass coordinates .",
    "it is convenient to replace the integral over the variables @xmath10 and @xmath11 by an integral over @xmath19 and @xmath20 @xmath42 where the probability distribution of @xmath19 is asymptotic to @xmath43 for small @xmath19 ( see appendix a ) . inserting eq .",
    "( [ rho ] ) in eq .",
    "( [ tilde ] ) and introducing @xmath44 as new integration variable we obtain @xmath45 where we have assumed that the factor @xmath46 imposes a cut - off @xmath47 on the @xmath19-integration and the same holds for @xmath20 .",
    "the integral over @xmath48 yields @xmath49 , provided that @xmath50 .",
    "comparison with eq .",
    "( [ pittel ] ) shows that the ratio @xmath51 approaches @xmath52 in the limit @xmath53 which we also checked numerically .",
    "since there are in total @xmath54 matchings the average number of stable matchings is given by @xmath55    @xmath56 is plotted as function of @xmath0 in fig .",
    "the circles are data obtained from numerical simulations using the algorithm of gusfield and irving @xcite that allows the determination of all stable matchings .",
    "each data point represents an average over 200 random realizations of the preference lists .",
    "the dashed curve is the result of eq .",
    "( [ nstab ] ) and the solid curve is the asymptotic formula derived by pittel @xcite . note the large error made by neglecting the @xmath57 term .    in the following we investigate how the energies of men and women are correlated in stable matchings . from eq .",
    "( [ tilde ] ) we see that @xmath58 can be considered as the probability density of finding a stable matching with energies @xmath19 and @xmath20 . due to the factor @xmath46 that appears in @xmath59 the occurrence of stable matchings with @xmath60 is very unlikely , and by symmetry , the same cutoff exists for @xmath20 .",
    "this observation is in accordance with our analysis of the gs algorithm , where we found that the energy of women in the man - optimal stable matching ( i.e. the worst possible for women ) is @xmath47 , and vice versa . in the region @xmath61 the probability distribution simplifies to @xmath62 .",
    "it depends only on the product of men s and women s energies and is sharply peaked around the curve @xmath63 for large values of @xmath0 .",
    "mean - value and standard deviation of the product @xmath64 are given by @xmath65 where @xmath66 denotes the average calculated with @xmath67 . at the symmetric point",
    "@xmath68 the width of the distribution is @xmath69 which means that relative fluctuations go to zero for @xmath33 .",
    "finally , we investigate the probability distribution of the number of stable matchings using numerical simulations .",
    "while @xmath56 has a very asymmetric distribution which decays quite slowly for large values of @xmath56 , the distribution of @xmath70 can be nicely fitted with a gaussian , as shown in fig .",
    "[ logs ] for @xmath71 .",
    "remarkably , the width of the distribution , i.e. the standard deviation @xmath72 approaches a constant value @xmath73 for large @xmath0 as shown in fig .",
    "[ width ] .",
    "we have no argument to explain this universal behavior .",
    "up to now we have assumed that every person _ has _ to get married . in the following",
    "we soften this condition by introducing an acceptance threshold @xmath74 which is the energy of individuals who remain single . in principle , @xmath75 could be chosen at random for all individuals , or at least be different for men and women , but for the sake of simplicity we consider only the case where @xmath75 is the same for all men and all women .",
    "let us consider a situation where @xmath75 is sufficiently large that singles do not occur .",
    "the gs algorithm is readily generalized to the case with acceptance threshold . in the man - oriented version",
    "the only difference is that now women  even when unmarried  refuse proposals from men whose energy is higher than @xmath75 .",
    "this increases the average number of proposals that are necessary to arrive at a stable matching by a factor of @xmath76 .",
    "the generalization of eq .",
    "( [ xy ] ) to the case @xmath77 reads @xmath78 both energies coincide for @xmath79 and we conclude that for @xmath80 there exist only few or one single stable matching .",
    "this fact can be used to generate approximately sex - fair stable matchings  which is difficult to achieve by other means  using the gs algorithm and setting @xmath81 .    in the limit",
    "when @xmath75 is sufficiently small it becomes favorable for a certain fraction of men and women to remain single . in this case",
    "it is hard to calculate the average number of proposals @xmath15 explicitly since the series of proposals is not only terminated when all men are married but also if no acceptable women are available . on the other hand",
    "the energies of men and women coincide in this regime since there exists only one stable matching .",
    "let us assume that a woman has received @xmath15 proposals out of which she keeps only the best one . if none of the proposals are better than the threshold @xmath75 she remains single at the cost of @xmath75 . analyzing the probability distribution of the best offer ( see appendix",
    "b ) yields the average energy of women @xmath82 from the condition @xmath83 we obtain @xmath84 in general this equation can only be solved numerically .",
    "the limiting cases are @xmath85 which means that for sufficiently small @xmath75 it is advantageous for almost everybody to remain single ( at the energy @xmath75 ) while for @xmath86 the energies in sex - fair matchings are @xmath68 , in agreement with our previous considerations .    in fig .",
    "[ eofdelta ] we show the energy of men and women in the man - optimal stable matching as function of @xmath75 for @xmath87 .",
    "each data point represents the average over 1000 executions of the gs algorithm .",
    "the agreement between numerical and analytical results is very good with the exception of the cross - over region around @xmath88 where neither of the conditions that were made to treat the problem ( absence of singles in the case @xmath89 , existence of only one stable matching in the case @xmath90 ) is strictly fulfilled .    in the following",
    "we investigate how the number of singles depends on the acceptance threshold @xmath75 .",
    "the probability that a woman who receives @xmath15 proposals rejects all of them and remains single is @xmath91 .",
    "taking into account that the number of proposals addressed to a particular woman is distributed according to a binomial distribution the average number of singles @xmath92 is related to the energy @xmath19 via @xmath93 ( see appendix c ) and can be calculated explicitly from the solution of eq.([xsc ] ) .",
    "the limiting cases are @xmath94 when @xmath75 is decreased , the first single appears when @xmath95 .",
    "this is the case for @xmath96 in accordance with our assumption that there are no singles for @xmath97 .",
    "finally , we generalize our results concerning the average number of stable matchings to the case with threshold @xmath74 .",
    "the only difference compared to the calculation for @xmath98 is that the probability distribution of @xmath19 ( see appendix a ) has to be replaced by @xmath99 which takes into account that all energies @xmath10 have to be smaller than @xmath75 . making the same approximations as before we obtain for the average number of stable matchings @xmath100 @xmath101 goes to zero at @xmath102 in agreement with the fact that man and woman - optimal stable matchings coincide for @xmath90 .",
    "let us now consider the more general case where the number of men and women is not the same . to be specific",
    ", we assume that there are @xmath103 men and @xmath0 women .",
    "it is obvious that in this case at least one man has to remain single .",
    "as before , the gs algorithm can be used to find the man - optimal and the woman - optimal stable matching , respectively , depending on who proposes and who judges .",
    "there is now a fundamental asymmetry between the man and the woman - oriented version : when women propose the algorithm stops as usual when the last woman has found a husband ; in the man - oriented version , however , the series of proposals stops only when the first man has reached the bottom of his list , i.e. when he has been rejected by _ all _ women and must stay single .",
    "therefore , the members of the minority group ( the women in our case ) are substantially favored .",
    "this is illustrated in fig .",
    "[ uneq ] where the energy of men ( circles ) and women ( triangles ) is plotted versus the acceptance threshold @xmath75 .",
    "the data points represent averages of 1000 samples using the gs algorithm for 201 men and 200 women .",
    "best ( open symbols ) and worst solutions ( filled symbols ) are much closer in energy now than in the symmetric case with equal number of men and women ( see fig .",
    "[ eofdelta ] for comparison ) indicating that the total number of stable matchings is reduced .",
    "the energies in all other stable matchings lie in the two narrow corridors between the best and the worst solution .",
    "the dashed curves are @xmath104 and @xmath105 obtained from the generalization of eq .",
    "( [ xydel ] ) to the present case while the solid curve is the solution of eq .",
    "( [ xsc ] ) valid for @xmath90 .",
    "we have investigated the statistical properties of stable marriages using both numerical and analytical tools . a detailed analysis of the gs algorithm is provided .",
    "this algorithm yields two extreme stable matchings and is thus particularly useful to characterize the whole set of stable matchings .",
    "the average number of stable matchings is calculated from an integral representation that can be viewed as the partition sum of two species of particles living on the unit interval , with multiplicative interaction of their center of mass coordinates .",
    "our analytical result agrees very well with numerical simulations , in contrast to a previously obtained , less accurate formula .",
    "in addition , the fundamental relation @xmath63 between the energy of men and women in stable matchings follows quite naturally from our approach .",
    "numerical simulations indicate that the probability distribution of the logarithm of the number of stable matchings is gaussian with a universal width @xmath106 for @xmath33 .",
    "when an acceptance threshold @xmath75 is introduced , the number of stable matchings shrinks and singles occur .",
    "three different regimes can be identified : for @xmath107 there are many stable matchings whose energies extend over a wide range and no singles occur . for @xmath108",
    "there are very few or only one stable matching . in this regime",
    "the energy of men and women is nearly independent of @xmath75 although the number of singles increases exponentially with decreasing @xmath75 . for @xmath109",
    "there are many singles and only a small fraction of married individuals .",
    "when the number of men and women is not the same , the number of stable matchings is also substantially reduced .",
    "furthermore , the members of the minority group are strongly favored compared to the majority group , even if there is only one additional member .",
    "the general ideas discussed in this paper could become important for investigations on the labour market since nowadays information about forthcoming job opportunities , on the one hand , and qualifications of applicants , on the other hand , can be made available to everybody via the internet .",
    "preliminary results on applications of the stable marriage problem in the context of the labour market can be found in @xcite .",
    "further work on this subject is in progress .",
    "we would like to thank alain debecker for many interesting and inspiring discussions .",
    "in this appendix we calculate the distribution function @xmath59 of the variable @xmath110 which is formally given by @xmath111 according to the central limit theorem @xmath59 converges to a normal distribution @xmath112 with @xmath113 and @xmath114 for large @xmath0 .",
    "this is however only true for the central part of the distribution whereas the tails of @xmath59 look very different .",
    "let us introduce new variables @xmath115 such that @xmath116 for @xmath117 and @xmath118 . disregarding the constraint @xmath119 for the moment we obtain @xmath120 where the factor @xmath49 occurs due to the fact that the @xmath115 have to be arranged in ascending order to satisfy the condition @xmath121 .",
    "the condition @xmath119 can now be to implemented as follows : considering the @xmath115 as independent random variables uniformly distributed in the interval @xmath122 $ ] we obtain a poisson distribution @xmath123 for the distance @xmath124 between two consecutive numbers , where @xmath125 .",
    "the probability that all @xmath119 is therefore given by @xmath126 neglecting the weak correlations among the @xmath10 due to the fact that their sum is fixed . combining eqs .",
    "( [ a3 ] ) and ( [ a4 ] ) we obtain the final result @xmath127 valid for @xmath128 .",
    "let us assume that men propose in the gs algorithm and that a woman receives @xmath15 proposals out of which she keeps only the best one .",
    "if none of the offers is better than @xmath75 she remains single at the energy @xmath75 .",
    "the average energy thus obtained is @xmath129 we have to take into account that the number @xmath15 of proposals that a woman receives is not fixed but distributed according to the binomial distribution @xmath130 where @xmath131 is the total number of proposals that men make during the execution of the gs algorithm and @xmath132 is the probability that such an offer is addressed to a given woman .",
    "averaging eq .",
    "( [ b1 ] ) with respect to @xmath133 yields @xmath134 and similarly @xmath135 combining eqs .",
    "( [ b1 ] ) , ( [ b3 ] ) and ( [ b4 ] ) we obtain @xmath136 the average energy of women @xmath137 is therefore related to the energy of men @xmath138 via @xmath139",
    "the probability for a woman to remain single after receiving @xmath15 proposals is @xmath91 . averaging with respect to the binomial distribution ( [ b2 ] ) yields @xmath140 where @xmath141 and @xmath131 is the total number of proposals made . using @xmath138 we obtain @xmath142"
  ],
  "abstract_text": [
    "<S> in the stable marriage problem @xmath0 men and @xmath0 women have to be matched by pairs under the constraint that the resulting matching is stable . </S>",
    "<S> we study the statistical properties of stable matchings in the large @xmath0 limit using both numerical and analytical methods . </S>",
    "<S> generalizations of the model including singles and unequal numbers of men and women are also investigated . </S>"
  ]
}