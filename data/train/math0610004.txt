{
  "article_text": [
    "mirror symmetry entered the mathematical realm when , in @xcite , physicists were able to enumerate curves on the quintic threefold by studying the complex moduli space of an algebraic variety which is most often referred to as the `` mirror quintic . ''",
    "the fact that such a computation was impossible using then available mathematical techniques contributed to the development of an entirely new field of mathematics ( gromov - witten theory ) , which eventually resulted in givental s proof in @xcite of a mirror conjecture for complete intersections in toric varieties .",
    "one important feature apparent in givental s work is that , whereas the mirror of a calabi - yau variety ( one whose canonical bundle is trivial ) is another calabi - yau variety , the mirrors of fano varieties ( essentially , those with positive anti - canonical bundle ) are landau - ginzburg models ; i.e. affine varieties equipped with a map to @xmath3 called the superpotential .",
    "meanwhile , there have been attempts at explaining the mirror phenomenon .",
    "most relevant to us are categorical ideas of kontsevich and geometric ideas of strominger , yau , zaslow . in his 1994 icm address ,",
    "kontsevich sought to explain mirror symmetry for pairs of mirror projective calabi - yau manifolds @xmath4 and @xmath5 as a consequence of an equivalence of categories which he called homological mirror symmetry :    the derived category of coherent sheaves on @xmath4 is equivalent to the derived fukaya category of @xmath5 .",
    "a few words of explanations are in order . assuming that @xmath4 is smooth , the derived category @xmath6 of coherent sheaves on @xmath4 is generated by ( algebraic or , equivalently , holomorphic ) vector bundles on @xmath4 and the morphisms in this category are essentially determined by the higher cohomology groups of such vector bundles . in particular , @xmath6 depends only on the complex structure of @xmath4 , and not on any projective embedding .",
    "on the other hand , the derived fukaya category depends on the symplectic form ( essentially the imaginary part of the khler form ) induced by a projective embedding , and is independent of the complex structure .",
    "in essence , the study of the fukaya category is a problem in symplectic topology , and not in algebraic geometry .",
    "although current technology makes a satisfactory definition of the fukaya category possible , setting up all the preliminaries would take us far beyond what would be appropriate for an introduction .",
    "let us simply say that the objects of such a category are lagrangian submanifolds ( i.e. manifolds on which the symplectic form vanishes ) and that the definition of the spaces of morphisms and of the composition entails the study of holomorphic curves with respect to an almost complex structure which is compatible with the symplectic form . lest the reader object that the fukaya category is supposed to depend only the symplectic structure , one should note that , while the choice of an almost complex structure is necessary to give a definition , the quasi - isomorphism class of the resulting category is independent of this choice . this is essentially the same phenomenon which makes the gromov - witten invariants of an algebraic variety deformation invariants .",
    "in his 1999 ens lectures @xcite , kontsevich extended his homological mirror symmetry to fano varieties .",
    "since this is the main subject of this paper , we shall return to it in more detail . before continuing with homological mirror symmetry ,",
    "let us discuss the syz explanation of mirror symmetry .",
    "as is clear from the title of their paper @xcite , their main conjecture is :    if @xmath4 and @xmath5 are a mirror pair of calabi - yau threefolds , then there exists ( singular ) special lagrangian torus fibrations @xmath7 and @xmath8 which are dual to each other .    to understand what is meant by dual fibrations , it is best to consider an example which generalizes to describe the phenomenon whenever there are no singularities .",
    "consider any smooth manifold @xmath9 .",
    "it is well known that the cotangent bundle @xmath10 is a symplectic manifold , whereas an infinitesimal neighbourhood of the zero section in the tangent bundle @xmath11 admits a canonical complex structure . in nice situations",
    ", this complex structure extends to the entire tangent space , and for simplicity let us assume that this is the case . upon choosing a metric on @xmath9 ,",
    "we induce a complex structure on @xmath12 and a symplectic structure on @xmath11 . in order to obtain torus fibrations",
    ", one should consider a manifold equipped with an integral affine structure , i.e. a reduction of the structure group of @xmath9 from @xmath13 to the group of diffeomorphisms of @xmath14 whose differentials preserve the standard lattice .",
    "such a manifold comes equipped with lattices in its tangent and cotangent bundles .",
    "the corresponding quotients are the desired ( prototypical ) dual torus fibrations . for discussion of mirror symmetry for non - singular torus fibrations ,",
    "see @xcite .    the only part of the syz conjecture relevant to this paper is the following important observation which is by now folkloric :    [ section = line ] the mirror of a lagrangian section of @xmath7 is a holomorphic line bundle on @xmath5 .",
    "while the syz conjecture has only been stated for calabi - yau manifolds , we shall nonetheless use the intuition that it provides .",
    "we note that toric varieties are , in a sense , equipped with lagrangian torus fibrations , so the appearance of ideas from syz in a discussion of homological mirror symmetry for toric varieties should not be surprising .",
    "the main result concerns half of kontsevich s homological mirror symmetry conjecture :    if the anti - canonical bundle of @xmath0 is ample ( i.e. @xmath0 is fano ) , the bounded derived category of coherent sheaves on @xmath0 , @xmath15 , is equivalent , as an @xmath16 category , to the karoubi completion of the derived fukaya category of the mirror of @xmath0 .",
    "the conjecture does not include a description of this conjectural mirror , although a wide class of mirrors is described in @xcite .",
    "in fact , we will be working with smooth projective toric varieties even when their anti - canonical bundles are not ample .",
    "however , as we shall see in the discussion following the statement of theorem [ main ] , we can not expect an equivalence of categories without the fano condition .",
    "the fact that the homological mirror symmetry conjecture is a statement about @xmath16 categories means that we are seeking equivalences at the chain level .",
    "the topologically inclined reader should have in mind secondary products on cohomology ( for example the massey products ) which could not be detected by someone who simply thinks of cohomology as a functor satisfying the eilenberg - steenrod axioms ; these are essentially chain - level phenomena .",
    "the algebraically inclined reader should have in mind the fact that derived categories , while extremely useful , have been increasingly supplanted in recent years by dg categories , which remember more information about the original object which is often lost by deriving , see @xcite . in an appropriate homotopy category ,",
    "every ( unital ) @xmath16 category is equivalent to a dg category .",
    "let us briefly describe what we mean by the derived fukaya category of the mirror of @xmath0 .",
    "recall from the first part of the introduction that the mirrors of fano varieties are superpotentials @xmath17 kontsevich suggested that correct notion of a fukaya category which takes into account the superpotential has , as objects , lagrangian submanifolds @xmath18 whose image under @xmath19 agrees with a line @xmath20 away from a compact subset . there is no loss of generality in assuming that the curve @xmath21 starts at the origin . assuming that @xmath19 is a symplectic lefschetz fibration ( this is a generic situation ) , it is not hard to see that the subset of @xmath22 which lies over @xmath21 can be obtained by parallel transport , along @xmath21 , of the intersection of @xmath22 with @xmath23 .",
    "in particular , we lose no information if we work with compact lagrangians whose boundary lies on @xmath23 .",
    "this is the point of view taken in this paper .",
    "defining the fukaya category using only holomorphic curves ( and no perturbations ) does not yield a category because of issues of transversality .",
    "if one is willing to make choices of inhomogeneous perturbations , it is often possible to extract an honest @xmath16 category from the geometry of the fukaya category .",
    "we make an alternative choice in this paper , working with the notion of pre - categories , which we briefly discuss in appendix [ precat ] .",
    "the same remark applies to the morse pre - categories which we shall be using .",
    "@xmath24    from now on , we consider the case where @xmath0 is a smooth projective toric variety .",
    "the mirror of such a variety is expected to be a laurent polynomial @xmath19 on @xmath25 which can be explicitly obtained from the fan @xmath26 which defines @xmath0 as follows :    consider the @xmath27-cones of @xmath26 . these are half rays starting at the origin which have rational slope , so they intersect the lattice at a unique primitive ( non - divisible ) vector .",
    "let @xmath28 be the set which consists of the primitive vertices of these @xmath27-cones and of the origin .",
    "the mirror of @xmath0 is the family of laurent polynomials @xmath29 where @xmath30 whenever @xmath31 . from our point of view",
    "the specific coefficients @xmath32 are irrelevant as long as they are chosen generically ; the corresponding pairs @xmath33 are symplectomorphic . in @xcite",
    "we consider a family of lefschetz fibrations @xmath34 which are not given by laurent polynomials for @xmath35 , but for which the pairs @xmath36 are still symplectomorphic for different values of @xmath37 and @xmath38 . the purpose of these deformations away from laurent polynomials is to obtain precise control for the convergence of the hypersurfaces to certain piecewise linear symplectic hypersurfaces constructed from tropical geometry . from now on , we write @xmath4 for any of these hypersurfaces @xmath39 .    given such a pair , we define a ( relative ) fukaya pre - category @xmath40 consisting of compact lagrangians on @xmath25 whose boundary lies in @xmath4 as described above . some details are given in section [ fuk - lg ] . in this paper",
    ", we prove    [ main ] there exists a full sub - pre - category of @xmath40 which is quasi - equivalent as an @xmath16 pre - category to the category of line bundles on @xmath0 .",
    "in order for the statement to make sense , we can equip the category of line bundle with the structure of a @xmath2 category by using the ( canonical ) cover by affine toric subvarieties and passing through ech cohomology in order to compute the cohomology of holomorphic line bundles .",
    "as one might expect from conjecture [ section = line ] the relevant sub - pre - category of @xmath40 is obtained by studying lagrangian sections of a torus fibration @xmath41 however , the sections are only taken over a subset of the base @xmath14 .",
    "for example , the lagrangians which are mirror to line bundles on @xmath42 are essentially sections over the triangle which appears in the picture on the right of figure [ right ] .",
    "the reader might recognize this triangle as the moment polytope of @xmath42 , but this is not how it appears in our construction .",
    "rather , following mikhalkin @xcite , the graph on the right of figure [ right ] is the tropical amoeba of the one parameter family of laurent polynomials @xmath43 which is the landau - ginzburg mirror of @xmath44 .",
    "the differences with kontsevich s conjecture are that we prove the result before passing to any derived category and that the toric variety @xmath0 is not required to have ample anti - canonical bundle .",
    "as figure [ wrong ] illustrates , one of the consequences of dropping the fano condition is that , while the moment polytope of the smooth toric variety still appears as a component of the complement of the tropical amoeba , there may be other bounded polytopes . in figure",
    "[ wrong ] , lagrangian sections over the small triangle form a sub - pre - category of @xmath40 whose objects do not correspond to any line bundles on @xmath0 ( in fact , with a bit more work , one can see that such sections do not correspond to any object of @xmath45 ) .",
    "@xmath46    in any case , seidel observed that one can use a theorem of thomason to prove the following result :    if @xmath0 is a smooth toric variety , then @xmath47 is generated by line bundles .    in @xcite*theorem 2.1",
    ", thomason proves that there is a bijective correspondence between subgroups of @xmath48 ( the algebraic @xmath49-theory of @xmath0 ) , and full triangulated subcategories @xmath50 of @xmath47 whose idempotent closure is @xmath47 ( i.e. such that every object of @xmath47 is a summand of an object in @xmath50 ) . by an observation of kontsevich , the full triangulated category generated by line bundles satisfies this second condition if @xmath0 is smooth .",
    "indeed , we know that every coherent sheaf has an ( infinite ) resolution by direct sums of lines bundles .",
    "consider the truncation of such a resolution at the @xmath51st position .",
    "since the category of coherent sheaves on a smooth variety of dimension @xmath52 has cohomological dimension @xmath52 , there are no non - trivial extensions of length greater than @xmath52 , so that this extension splits ( in the derived category ) .",
    "to complete the proof of the proposition , it suffices to know that @xmath48 is generated by line bundles .",
    "this is a classical result in toric geometry .",
    "a stronger result on equivariant @xmath49-theory of toric varieties is , for example , proved in @xcite*proposition 3 .",
    "we can therefore use theorem [ main ] to conclude    @xmath15 is equivalent to a full subcategory of @xmath53 .",
    "this paper is essentially a continuation of @xcite whose results and techniques we use extensively .",
    "the major difference is that , in @xcite , we were able to explicitly identify certain moduli spaces of discs when we restricted ourselves to a fixed ample line bundle and its powers , whereas we are unable to do this in the general case . instead ,",
    "as explained in the next section , we rely on the equivalence between floer and morse homology in order to prove the results of this paper .",
    "the expert reader will notice that we do not rely on the notion of vanishing cycles of lefschetz fibrations to construct objects of the fukaya category .",
    "this distinguishes our approach from that taken by auroux , katzarkov , and orlov @xcite in their proof of the mirror conjecture for fano surfaces . on the other hand ,",
    "using techniques somewhat closer to ours in the sense that they rely on morse theory , bondal and ruan have announced a similar result for weighted projective spaces , see @xcite .",
    "more recently , fang , liu , treumann , and zaslow @xcite have given a different proof of homological mirror symmetry relying on the correspondence established by nadler and zaslow between constructible sheaves on the base of a compact manifold and lagrangians in its cotangent bundle .",
    "their approach is in a sense dual to the one we ve taken .",
    "i would first like to thank paul seidel for guidance and encouragement .",
    "conversations with mitya boyarchenko , ludmil katzarkov , conan leung , peter may , and ivan smith helped me connect ideas together and avoid dangerous pitfalls .",
    "discussions with kevin costello , and his comments on an early draft , were particularly helpful .",
    "finally , i received extensive and helpful comments from denis auroux , mark gross , and an anonymous referee .",
    "this work was supported by the 2006 highbridge research prize and was partially conducted during the period the author served as clay research fellow .",
    "in logical order , the proof proceeds as follows :    1 .",
    "identify the appropriate sub - pre - category of @xmath40 .",
    "2 .   prove that this sub - pre - category is quasi - isomorphic to a pre - category with essentially the same objects , but whose morphisms can be computed by studying morse theory on the moment polytope @xmath54 of @xmath0 .",
    "we denote this pre - category @xmath55 , where @xmath56 is described below .",
    "prove that the pre - category @xmath55 is itself equivalent to a pre - category @xmath57 whose morphisms are certain subcomplexes of the cochain complex of @xmath58 , the barycentric subdivision of @xmath54 .",
    "4 .   identify @xmath57 with the category @xmath59 of line bundles on @xmath0 .",
    "implicit in the above description is the fact that each of the maps we construct are in fact @xmath16 functors .",
    "let us forget for a moment about the @xmath16 structure , and remember only the structures at the level of homology .",
    "the previous steps become    1 .   the appropriate sub - pre - category of @xmath40 was already implicit in @xcite , particularly in section 5 .",
    "it essentially consists of sections of a torus bundle over a smoothing @xmath56 of the moment polytope , with appropriate boundary conditions .",
    "the universal cover of this symplectic manifold is the cotangent bundle of @xmath56 .",
    "floer proved in @xcite that morse homology agrees with floer homology of exact sections of the cotangent bundle .",
    "extending the result to the non - compact setting is only a matter of having appropriate definitions for floer homology ( see again @xcite where we follow ideas of kontsevich and give the relevant example of an appropriate definition of floer homology of lagrangians with boundary on a complex hypersurface ) .",
    "the correspondence between morse homology and ordinary homology is due to morse .",
    "the earliest appearance of such an idea in the case of manifolds with boundary is probably @xcite . because of the specific morse complex considered , the author was unable to find a reference which proved exactly the desired statement at the level of homology ,",
    "although nothing original needs to be performed in order to achieve this , so it seems appropriate to simply credit morse and baiada .",
    "the fact that one can interpret the ech cohomology of line bundles on a toric variety in terms of the ordinary homology of the corresponding fan is well known among toric geometers and appears in standard textbooks such as @xcite .",
    "we are taking the dual point of view by working with a moment polytope .",
    "in particular , it is clear that at the level of homology , every step after the first is a generalization of results that are well established .",
    "we now describe , in more detail , how to proceed in the @xmath16 setting .    1 .   to formalize the issues of transversality ( rather , lack thereof ) , we use unital @xmath16 pre - categories as a technical tool .",
    "conjecturally , see @xcite , the homotopy category of such objects is equivalent to that of @xmath16 categories , although we prove , and use , no result of this type .",
    "2 .   consider the laurent polynomial @xmath60 which is conjecturally the mirror of @xmath0 , and the map @xmath61 which takes an @xmath52-tuple of complex numbers to the @xmath52-tuple of logarithms of their respective norms .",
    "using the tropical techniques of mikhalkin , we can pretend that the amoeba of @xmath4 , its image under the @xmath62 map , is a smooth manifold with boundary which is close to a polyhedral complex @xmath63 called the tropical amoeba .",
    "it was observed in @xcite*section 3.2 that , for appropriate choices of tropical degenerations , the moment polytope @xmath54 of @xmath0 appears as a component of the complement of @xmath63 . in particular , there is a smoothing @xmath56 of @xmath54 which is a component of the complement of the amoeba of @xmath4 .",
    "+ let @xmath64 be the sub - pre - category of @xmath65 whose objects are lagrangian sections of the restriction of @xmath62 to @xmath56 such that their boundary is a subset of @xmath4 , and which are admissible ( see definition [ admissibility ] ) .",
    "3 .   since our pre - category @xmath64 consists of sections of a lagrangian torus fibrations , we can compute floer cohomology groups by passing to the universal cover and taking all possible lifts , remembering the grading by @xmath66 . since the universal cover is essentially the cotangent bundle of the disc",
    ", we can use the results of @xcite which prove that for compact manifolds without boundary , the moduli spaces of holomorphic discs and of gradient trees agree ( exactly ! ) once the number of marked points is fixed , and the complex structure on the cotangent bundle is appropriately rescaled .",
    "it suffices therefore to develop the correct versions of floer and morse theory in the case of manifolds with boundary , and to address the fact that fukaya and oh do not prove the existence of an almost complex structure which makes the moduli spaces of holomorphic discs and gradient trees agree regardless of the number of marked points ( the author knows of no reason for such an almost complex structure to exist ) .",
    "the relevant morse and floer theories for manifolds with boundary are developed in this paper , while we use some techniques of homological algebra in section [ floer - morse ] to construct @xmath16 quasi - isomorphisms relating the fukaya pre - category and the morse pre - category @xmath55 despite the lack of an almost complex structure which would make the two pre - categories isomorphic .",
    "every smooth function on @xmath56 yields a decomposition of the boundary of @xmath56 into a subset @xmath67 where the function is increasing , and another where it is decreasing .",
    "the morse cohomology of such a function is in fact computing the relative cohomology group @xmath68 further , we define moduli spaces of trees which allow us to relate the @xmath16 structure on morse functions to the cup product on the cellular chains of an appropriate triangulation .",
    "a key property of the functions which appear in @xmath55 is that the subset @xmath67 essentially contains a union of cells of the polytope @xmath69 as a deformation retract .",
    "this means that this cohomology group can also be understood combinatorially . by interpreting the chains of the dual barycentric subdivision of the natural cell decomposition of @xmath54 as cochains on @xmath58 , and studying moduli spaces of gradient trees with boundary conditions on cells of this barycentric subdivision",
    ", we construct an @xmath16 quasi - isomorphism from a combinatorial pre - category @xmath57 to @xmath55 .",
    "we strengthen the classical result of toric geometry by proving that the category @xmath57 is equivalent as a dg category to the category @xmath59 of line bundles on @xmath0 with morphisms given by the ech complexes and composition given by the cup product .",
    "strictly speaking we only defined the donaldson - fukaya pre - category of admissible lagrangians in @xcite ; i.e. we only studied the cup product at the level of homology . before proceeding to the case of landau - ginzburg potentials ,",
    "let us recall the definition of the fukaya pre - category in the absence of a superpotential .",
    "we will work with manifolds whose symplectic form is exact which greatly simplifies the technical difficulties ; for an overview of the theory , see @xcite*chapter 2 .",
    "let @xmath70 be a complete weinstein manifold , in other words , @xmath70 is equipped with both a symplectic form @xmath71 and a @xmath27-form @xmath72 such that @xmath73 and the corresponding liouville flow is a gradient flow for some proper morse function on @xmath70 . for details , see @xcite .",
    "assume further that the first chern class of @xmath70 vanishes .",
    "choose an almost complex structure on @xmath70 which is convex at infinity , and a complex volume form , i.e. a trivialization of the ( complex ) canonical bundle .",
    "the reader should have in mind the example where @xmath70 is the cotangent bundle of a riemannian manifold @xmath74 , equipped with canonical @xmath27-form @xmath75 and the complex volume form induced by the real volume form on @xmath74 .",
    "the fukaya category of @xmath70 should have , as objects , lagrangian submanifolds of @xmath70 .",
    "however , even though @xmath70 is exact , all difficulties do not disappear , so we will restrict to lagrangians @xmath22 which satisfy the following conditions :    * the submanifold @xmath22 is equipped with a spin structure .",
    "this assumption is necessary in order to obtain natural orientations on the moduli spaces of holomorphic polygons which will be used in the definition of the fukaya category .",
    "in particular , we can only part with this condition if we are willing to work only in characteristic @xmath76 , * the restriction of @xmath72 to @xmath22 is exact . by a standard argument involving stokes theorem",
    ", this implies that there are no holomorphic discs with boundary on @xmath22 , which in turn implies that the differential defined on floer complexes is an honest differential ; i.e. its square vanishes .",
    "* we are given a choice of grading on @xmath22 .",
    "gradings are necessary in order for the floer chain complex to be , as one might guess , @xmath77-graded .",
    "without such a choice , they are only naturally @xmath78 graded .",
    "a complex volume form on @xmath70 induces a real structure on its canonical bundle . at every point on @xmath22 , the tangent space",
    "@xmath79 determines a real line in the canonical bundle .",
    "a grading is a choice of an @xmath80 valued function whose exponential gives the @xmath81 valued angle between this line and the @xmath82-axis .",
    "of course , if @xmath83 , such a grading always exists . for a thorough discussion of grading issues in floer theory ,",
    "see @xcite .",
    "a * lagrangian brane * @xmath84 is an embedded compact lagrangian submanifold equipped with the above choices of additional structures .    given transverse lagrangian branes @xmath85 and @xmath86 in @xmath70",
    ", let @xmath87 be the graded free abelian group generated by the intersection points @xmath88 .",
    "again , the reader can refer to @xcite for how to assign gradings to intersection points .",
    "if @xmath85 and @xmath86 are graphs of exact @xmath27-forms in the cotangent bundle of a manifold @xmath74 of dimension @xmath52 , an intersection point @xmath89 corresponds to a critical point of the difference between primitives @xmath90 and @xmath91 for the @xmath27-forms defining @xmath85 and @xmath86 . in this case , @xmath92 where @xmath93 is the morse index of @xmath89 as a critical point of @xmath94 .    given an almost complex structure @xmath95 on @xmath70 , floer considered the moduli space of holomorphic maps @xmath96 \\to n\\ ] ] which , for all @xmath38 , take @xmath97 to @xmath85 and @xmath98 to @xmath86 .",
    "if @xmath99 has finite energy , he proved that @xmath100 must converge to intersection points @xmath89 and @xmath101 between @xmath85 and @xmath86 as @xmath38 converges to @xmath102 .",
    "we denote the moduli space of such maps by @xmath103 translation in the @xmath80 factor of the domain defines a free @xmath80 action on this space .",
    "we write @xmath104 for the quotient .",
    "if @xmath85 and @xmath86 are generic ( a @xmath105 small hamiltonian perturbation of one of the lagrangians suffices , see @xcite ) we can now define an endomorphism of @xmath87 by the formula @xmath106 in the above formula , @xmath107 is a signed count of the number of components of @xmath108 . since we have discussed neither orientations on @xmath108 nor gradings on the floer complex , we refer to @xcite for the sign considerations which are needed to prove of the following lemma . without signs ,",
    "this result is due to floer @xcite , and is by now a standard application of gromov s compactness theorem @xcite .",
    "the map @xmath109 is a differential on @xmath87 .",
    "one would like to define compositions @xmath110 by using moduli spaces of curves with boundary on @xmath85 , @xmath86 and @xmath111 . the resulting composition will , however , only be associative after passing to homology .",
    "fukaya observed that even at the chain level , one can construct a strongly homotopy associative composition by considering all moduli spaces of holomorphic polygons .",
    "we briefly describe his construction :    let @xmath112 be a sequence of lagrangian branes in general position , and let @xmath113 be a collections of points @xmath114 on the boundary of the closed disc @xmath115 ordered counter - clockwise .",
    "we consider finite energy holomorphic maps @xmath116 such that the image of the interval from @xmath117 to @xmath118 lies on @xmath119 .",
    "the finite energy condition implies that @xmath99 extends to a continuous map on @xmath115 taking @xmath118 to an intersection point @xmath120 between @xmath119 and @xmath121 .",
    "we define @xmath122 to be the moduli space of such maps .",
    "again , the choices of spin structures on @xmath119 induce an orientation on this moduli space .",
    "further , assuming the lagrangians are in generic position , these moduli spaces are smooth manifolds of dimension @xmath123 the genericity condition used here is the assumption that moduli spaces of holomorphic polygons are regular , see @xcite .",
    "fukaya defined an operation @xmath124 of degree @xmath125 @xmath126 on generators , @xmath124 is given by the formula @xmath127 where @xmath128 is the signed number of components of the zero - dimensional manifold @xmath129 .",
    "gromov s compactness theorem implies the following result , whose proof with signs is given in @xcite*chapter 2 .",
    "[ lem_a_infty_fuk ] the operations @xmath124 satisfy the @xmath16 equation .",
    "explicitly , we have @xmath130 where @xmath131 depends on the degree of the first @xmath132 inputs as follows : @xmath133    we can summarize the above discussion in the following definition .",
    "we refer the reader to appendix [ precat ] for the definition of @xmath16 pre - categories .",
    "the * fukaya pre - category * of a complete weinstein manifold @xmath70 is the @xmath16 pre - category @xmath134 given by the following data .",
    "* objects are lagrangian branes in @xmath70 . *",
    "a sequence @xmath135 is transverse whenever all moduli spaces of holomorphic polygons with boundary on a subsequence are regular . *",
    "the space of morphisms between a transverse pair @xmath136 is the floer complex @xmath137 . *",
    "the higher compositions are given by the maps @xmath124 .",
    "we will often drop @xmath95 from the notation , and simply write @xmath138    floer s original applications of floer homology relied on its invariance under hamiltonian isotopies . using the composition @xmath139",
    ", one can state a stronger result as follows .",
    "if @xmath140 is a hamiltonian deformation of @xmath141 , then there exists a cycle @xmath142 such that @xmath143 induces an isomorphism on cohomology whenever @xmath144 is a transverse triple in the fukaya pre - category . reversing the roles of @xmath141 and @xmath140 , we obtain the following result .",
    "the pre - category @xmath138 is unital .",
    "consider a map @xmath145 which is a symplectic fibration away from its critical values and assume that the zero fibre is a smooth manifold @xmath4 .",
    "assume further that we have chosen an almost complex structure on @xmath70 which respect to which @xmath146 is holomorphic in a neighbourhood of @xmath4 .",
    "the following definition appears in @xcite*section 2 , and is a reformulation of a definition of kontsevich in @xcite .",
    "[ admissibility ] an * admissible lagrangian brane * is a compact lagrangian submanifold @xmath147 with boundary on @xmath4 together with a choice of grading and spin structure , satisfying the following conditions :    * the restriction of @xmath72 to @xmath148 is exact , and * there exists a small neighbourhood of @xmath149 in @xmath148 which agrees with the parallel transport of @xmath150 along a segment in @xmath3 .    note that the last two conditions are vacuous if @xmath149 is empty , which is a possibility that we do not exclude .    next , we consider the conditions under which the higher products are well behaved .",
    "a sequence of admissible lagrangians @xmath151 is * positive * if the curves @xmath152 which agree with @xmath153 near the origin all lie in the left half plane and their tangent vectors @xmath154 are oriented counter - clockwise ( see figure [ boundary_orient ] ) .",
    "note that if @xmath155 is a positive sequence then the angle between @xmath156 and @xmath157 is again positive whenever @xmath158 .",
    "in particular , every subsequence of a positive sequence is positive .",
    "let us assume that the lagrangians @xmath159 intersect transversally in the interior . throughout",
    ", we will only work with interior intersection points .",
    "if @xmath160 are such interior intersection points between successive lagrangians , and @xmath161 , we can define @xmath162 to be the moduli space of holomorphic polygons with boundary on @xmath163 and corners at @xmath164 .",
    "if we perturb each lagrangian @xmath159 near the intersections by a @xmath105 small amount , we can guarantee that all moduli space of holomorphic polygons are regular , see @xcite .",
    "this allows us to define the gromov bordification @xmath165 by including `` cusp - curves '' .",
    "[ admissible_implies_compactness ] if @xmath166 is positive , then the gromov bordification is compact .",
    "it suffices to prove that curves in @xmath162 can not escape to the boundary .",
    "the proof given in @xcite*lemma 2.8 can be used here .",
    "the key ideas is to project by @xmath146 to @xmath3 , and observe that if @xmath167 is a family of holomorphic maps parameterized by @xmath168 $ ] such that the image of @xmath169 does not intersect a neighbourhood of the origin , then the same property holds for @xmath170 .",
    "if we define the higher products @xmath124 by counting the number of isolated holomorphic polygons as in the case where the lagrangians have no boundary , we conclude    if all moduli spaces are regular , then the @xmath16 equation holds .",
    "we are now ready to define the main object which we shall be studying .",
    "the * fukaya pre - category * of the landau - ginzburg potential @xmath146 is the @xmath16 pre - category @xmath171 given by the following data :    * objects are admissible lagrangian branes . *",
    "transverse sequences are positive sequences of lagrangian branes such that all holomorphic polygons with boundary values on a sub - sequence are regular .",
    "* morphisms are the floer complexes with the differential counting holomorphic bi - gons and higher products counting holomorphic polygons .",
    "let @xmath0 be a smooth toric variety defined by a fan @xmath26 .",
    "we assume @xmath0 to be projective , so @xmath172 and there exists an integral piece - wise linear function @xmath173 which is linear on each cone of @xmath26 , and which is strictly convex .",
    "let @xmath54 be the moment polytope of the line bundle which corresponds to @xmath174 . in @xcite*definition 4.3",
    ", we constructed a cover @xmath175 of @xmath14 labeled by the faces of @xmath54 such that the complement in @xmath176 of a small neighbourhood of @xmath177 is contained in @xmath178 .",
    "we are about to extensively use results from @xcite .",
    "the notation has been kept relatively consistent , with one major difference . in @xcite",
    ", we used the greek letters @xmath179 and @xmath176 to label cones in the fan @xmath26 . in this paper , we use the same letter to label the faces of the polytope @xmath54 .",
    "the open sets @xmath178 therefore correspond to @xmath180 in the notation of @xcite .",
    "we observed that the choice of @xmath174 induces a tropical degeneration of the mirror of @xmath0 .",
    "in particular , we have a family of laurent polynomials @xmath181 , whose zero fibre are ( for @xmath182 ) are smooth complex ( and hence symplectic ) hypersurfaces which we denote by @xmath183 .",
    "we considered the amoebas @xmath184 of @xmath185 , i.e the projection of @xmath185 to @xmath14 under the logarithmic moment map .",
    "further , we constructed a  tropical localization of @xmath185 \" by deforming @xmath181 to a ( non - algebraic ) map @xmath186 so that the resulting hypersurface @xmath187 is particularly well described by its amoeba . to understand the relation between the amoebas of @xmath4 , @xmath187 , and the tropical amoeba , it is best to consider the case of the standard hyperplane in @xmath188 which is illustrated in figure [ amoebas - fig ] .",
    "@xmath189    by construction , the tangent space of any cell @xmath176 is an integral subspace of @xmath14 , i.e. it is defined as the vanishing locus of finitely many integral covectors . in particular , if @xmath190 is the intersection of this tangent space with the lattice @xmath191 , then we have an identification @xmath192    let us write @xmath193 for the linear span of the covectors which vanish on @xmath194 , and @xmath195 for the corresponding complex torus .",
    "the natural map @xmath196 has fibre which can be identified with @xmath197 ( the quotient of the tangent space of the linear plane tangent to @xmath176 by the lattice ) .",
    "note that the choice of a splitting of the inclusion @xmath198 , gives a product decomposition @xmath199 of complex manifolds .",
    "we can now restate , in a slightly enhanced form , a results which appeared in @xcite*lemma 4.4 :    [ local_product ] the intersection of the hypersurface @xmath187 with the inverse image of @xmath200 in @xmath25 , splits as a product @xmath201 where    * @xmath202 is the tropical localization of a hypersurface in a torus @xmath195 , and * @xmath203 is the real subtorus of @xmath204 .",
    "unfortunately , this is not a product decomposition as symplectic manifolds . in order to obtain such a decomposition",
    ", we would essentially have to pick the splitting of the inclusion @xmath198 compatibly with the euclidean metric , which is of course not always possible .",
    "in general , the orthogonal complement of @xmath205 in @xmath191 projects to a finite index sub - lattice of the quotient @xmath206 . if we write @xmath207 for the corresponding torus , we obtain a finite cover @xmath208 the inverse image of @xmath187 in the cover splits as a product in both the symplectic and complex categories .",
    "the factor living in @xmath207 now corresponds to a higher degree hypersurface ( rather than a hyperplane ) .    in @xcite*lemma 4.16",
    "we observed that one of the components @xmath209 of the complement of @xmath210 satisfies the following conditions :    * @xmath209 is contained in ( and is @xmath211 close to ) the @xmath212 rescaling of the moment polytope @xmath54 , and * the boundary of @xmath209 is smooth , and its image under the zero section lies in @xmath4 .",
    "note that the boundary @xmath209 again decomposes as a product in @xmath178 .",
    "since we are now working in @xmath14 rather than in the complex torus , we can choose this product decomposition to be compatible with the metric .",
    "more precisely :    the restriction of @xmath209 to @xmath213 splits as a riemannian product @xmath214 where @xmath215 is the amoeba of the tropicalisation of a hyperplane .    in order to see @xmath215 as the amoeba of a hyperplane ( rather than a higher degree hypersurface ) we equip the plane orthogonal to @xmath176 with the lattice coming from its identification with the quotient of @xmath216 by the tangent space to @xmath176 .    from now on ( except for section [ morse = fuk - tropical ] and appendix [ ap : second_look ] ) , we shall drop the subscripts from @xmath187 , @xmath186 , and the associated objects .",
    "we will further rescale @xmath14 by @xmath217 , and write @xmath56 for the image of @xmath209 under this rescaling .",
    "note that @xmath56 is @xmath211 close to the original polytope @xmath54 .",
    "we denoted the image of @xmath56 under the zero section by @xmath148 .",
    "it is supposed to correspond under mirror symmetry to the structure sheaf of @xmath0 .",
    "the pre - category @xmath64 of * tropical lagrangian sections * , is the @xmath16 pre - category of admissible lagrangians branes in @xmath218 which are sections of the restriction of the moment map to @xmath56",
    ".    it would be more consistent to use the terminology `` semi - tropical lagrangian section , '' hinting that we did not take the tropical degeneration to its limit , but rather stopped just before the limit point , with the smooth symplectic structure still present , yet the tropical features apparent .",
    "given @xmath219 and @xmath220 two tropical lagrangian sections , the space of morphisms @xmath221 is naturally graded by an affine space over @xmath222 .",
    "this is a grading which is independent of the cohomological grading .",
    "indeed , since we have fixed a zero section @xmath148 and a fixed lift @xmath223 to the universal cover , we can consider the difference @xmath224 , which yields a new section of the fibration .",
    "the lifts of @xmath224 to the universal cover form an affine space over @xmath222 , which we identify with the grading of @xmath221 . given an intersection point @xmath89 between @xmath220 and @xmath219",
    ", we obtain an intersection point between @xmath224 and the zero section , and the corresponding lift to the universal cover is uniquely determined by the fact that @xmath225 , the lift of @xmath89 , lies on @xmath223 .    a priori , there are uncountably many tropical lagrangian sections",
    ". as we shall see , there are in fact only countably many hamiltonian isotopy classes , naturally in bijective correspondence with isomorphism classes of line bundles on @xmath0 .",
    "recall that @xmath226 is the moment map taking an @xmath52-tuple of non - zero complex numbers to the logarithms of their absolute values .",
    "we abusively write @xmath227 for the restriction of this torus fibration to the inverse image of the disc @xmath56 .",
    "every section of @xmath227 which corresponds to a tropical lagrangian section agrees with the zero section when restricted to @xmath228 whenever @xmath229 is a vertex of @xmath54 .",
    "it is easy to check that the boundary of the amoeba of the standard hyperplane @xmath230 agrees with its real locus . in particular",
    ", the restriction of the logarithmic moment map to the standard hyperplane in @xmath25 is injective when restricted the inverse image of the boundary of its amoeba .",
    "the results of @xcite*lemma 4.4 restated above imply that the amoeba of @xmath4 is modeled , in a neighbourhood of every vertex of @xmath54 , after the amoeba of the standard hyperplane .",
    "since the zero section is a tropical lagrangian , every tropical lagrangian section must therefore agree with it on this subset of the boundary .",
    "in particular , any lift of a tropical lagrangian section to @xmath231 must take @xmath232 integral values . as an extension of the previous lemma",
    ", we have    [ classification_tropical ] the lift of any tropical lagrangian section when restricted to @xmath233 lies in an affine subspace of @xmath14 which is a @xmath234-integral translate of the tangent space of @xmath176 . a lagrangian section which satisfies this property for every @xmath176 is isotopic through lagrangian sections with boundary on @xmath187 to a tropical lagrangian section .",
    "we first prove that any section ( not necessarily lagrangian ) of the restriction of @xmath235 to @xmath236 which lands in @xmath4 must have values in a @xmath234-integral translate of the tangent space of @xmath176 .",
    "the previous lemma proves the base case when @xmath176 is a vertex and the induction step follows easily from the the product decomposition of lemma [ local_product ] .    to prove the second part",
    ", we must achieve admissibility . consider a function @xmath146 defining a lagrangian section @xmath237 with boundary @xmath238 . using the parallel transport maps defined by the symplectic connection induced by @xmath19",
    ", we can construct a lagrangian @xmath239 whose boundary agrees with that of @xmath237 .",
    "the arguments of @xcite*section 5 imply that @xmath239 ( near @xmath240 ) is defined by a function @xmath241 . by linearly interpolating between @xmath146 and @xmath241 , we obtain the desired isotopy .",
    "we are now ready to prove    the hamiltonian isotopy class of a tropical lagrangian section is determined by the values of its lifts near the vertices of @xmath54    every such lift is the graph of the differential of a function on the disc .",
    "let @xmath90 and @xmath242 denote two such functions whose differentials are equal near the vertices .",
    "consider the @xmath27-parameter family @xmath243 from the characterization of the previous lemma , it easily follows that the lagrangians @xmath244 defined by @xmath245 have boundary on @xmath4 . in particular",
    ", there is a family @xmath246 of functions whose graphs define admissible lagrangians with boundaries @xmath247 . picking such a family with @xmath248 and @xmath249 yields the desired isotopy .",
    "there is a bijective correspondence between hamiltonian isotopy classes of tropical lagrangian sections of @xmath250 and isomorphism classes of line bundles on @xmath0 .",
    "it is well known that isomorphism classes of line bundles are given by piece - wise linear integral function on @xmath14 , with domains of linearity the maximal cones of @xmath26 , modulo the ( global ) addition of an integral linear function on @xmath216 .",
    "the data of a lattice vector for each vertex of @xmath54 corresponds to a linear integral function on the maximal cones of @xmath26 .",
    "the fact that the restriction of our section to an edge of @xmath54 can only vary by multiples of the integral tangent vector of the edge implies that the two linear functions associated to the maximal cones dual to the endpoints of an edge agree on the hypersurface where they meet .",
    "starting with a piecewise linear integral function on @xmath26 , it is easy to construct the corresponding section by a patching argument . by lemma [ classification_tropical ]",
    "this lagrangian with boundary on @xmath4 is isotopic to an admissible one , hence to a tropical lagrangian section .",
    "finally , we note that addition of an integral linear function on @xmath14 corresponds to choosing different lifts .    in sections [ fukaya = morse - section ] and [ morse = cech - section ]",
    "we will prove that this bijective correspondence extends to an equivalence of @xmath16 pre - categories . in order to do this",
    ", we shall have to develop some general machinery relating the multiplicative structures on the chain complexes defining morse , floer , ech , cellular , and simplicial cohomology theories .",
    "in this section , we construct chain - level @xmath16 quasi - equivalences between some pre - categories where the spaces of morphism are respectively morse , floer , cellular , and ech complexes .",
    "we will work with integral coefficients throughout this section since no serious difficulties are simplified by working over a field .",
    "first , we introduce the relevant morse theory .",
    "let @xmath251 be a smooth oriented closed riemannian manifold .",
    "it is well known that one can use morse theory to study the topology of the pair @xmath252 without any properness condition .",
    "the reference which closest in spirit to the approach which we need is @xcite .",
    "however , the exact results that we ll use do not seem to be written down anywhere , so we give a brief description .",
    "[ boundary_cvx ] a function @xmath253 is * boundary convex * if no singular gradient trajectory between interior points intersects the boundary .",
    "recall that if @xmath146 is not morse , then a singular gradient trajectory is a concatenation of gradient trajectories and paths contained in the critical locus .",
    "there is an important local model which justifies our terminology for boundary convex functions :    a subset @xmath254 of @xmath216 has convex boundary if and only if the restriction of every linear function @xmath255 to @xmath254 is boundary convex .",
    "in general , the boundary convexity of a function is a global property .",
    "however , we will exploit the existence of sufficient local condition :    [ positive_boundary_cvx ] let @xmath256 be a function whose interior critical points are isolated from the boundary .",
    "then @xmath146 is boundary convex if every point @xmath257 at which @xmath258 is not transverse to the boundary satisfies one of the following two conditions :    1 .",
    "if @xmath259 is a critical point of @xmath146 and @xmath21 is a path starting at @xmath259 which is not tangent to the boundary then @xmath260 is strictly decreasing in some neighbourhood of @xmath259 .",
    "if @xmath259 is not a critical point of @xmath146 , then ( if it is defined ) a gradient segment starting at @xmath259 is contained in @xmath69 .    we assume , by contradiction , that @xmath146 satisfies the above property , and that there are interior points @xmath89 and @xmath101 which are connected by a singular gradient trajectory @xmath21 which is tangent to the boundary at some point .",
    "let @xmath259 be the last point at which @xmath21 intersects @xmath69 .",
    "since @xmath146 is non - decreasing along @xmath21 , the two conditions above preclude the existence of such a point , hence the existence of @xmath21 .",
    "a function satisfying the conditions of the above lemma will be called * positively boundary convex*.      the material in this section is familiar in the proper case , see for example @xcite , @xcite , and @xcite .",
    "we will restate some definitions in a slightly non - standard way .",
    "recall that for each non - degenerate critical point @xmath89 of a smooth function @xmath146 we have an ascending ( stable ) manifold @xmath261 consisting of points whose image under the negative gradient flow converges to @xmath89 as @xmath262 , and a descending ( unstable ) manifold @xmath263 consisting of points whose image under the positive gradient flow converges to @xmath89 as @xmath264 .",
    "the * degree * of @xmath89 , denoted @xmath265 , is the dimension of @xmath266 .",
    "even through @xmath54 has been assumed to be oriented , the submanifolds @xmath267 do not inherit a natural orientation .",
    "the * orientation line * at @xmath89 is the abelian group generated by the two orientations of @xmath267 , with the relation that the two opposite orientations satisfy @xmath268 + [ -\\omega_p ] = 0 .\\ ] ] we denote this group by @xmath269 .    if @xmath146 is a boundary convex function on a smooth manifold @xmath54 , we define @xmath270 to be the set of points in @xmath69 consisting of limit points of gradient trajectories of @xmath146 with initial points in the interior of @xmath54 .",
    "the complement of @xmath270 in @xmath69 is denoted @xmath271 .",
    "we find the following definition convenient , even though it may not agree with some conventions which require morse - smale functions to be proper .",
    "a function with non - degenerate critical points is called * morse - smale * if all ascending and descending submanifolds of interior critical points intersect each other transversally , and @xmath272 is a compact codimension @xmath273 submanifold of the boundary .",
    "given a boundary convex morse - smale function @xmath146 , we can now define the morse complex @xmath274 to define the differential , we begin by observing that since @xmath54 is oriented , an orientation of any ascending manifold induces an orientation of the corresponding descending manifold .",
    "further , if @xmath275 then @xmath276 and @xmath277 intersect in a @xmath27-dimensional submanifold of @xmath54 , consisting of finitely many components whose image under @xmath146 is a fixed open segment in @xmath80 .",
    "so if we pick orientations on the ascending manifolds at @xmath89 and @xmath101 , we can compare the induced orientation on @xmath278 with the natural orientation pulled back from @xmath80 using @xmath146 .",
    "let @xmath279 denote the difference between the number of components on which the two orientations agrees , and the ones on which they differ .",
    "this number depends on the choice of orientations , but only up to sign .",
    "we can now define the differential @xmath280 by choosing orientations @xmath281 of each ascending manifold and linearly extending the formula @xmath282 note that even though we chose orientations to write a formula , the differential is independent of all choices . let us also note that we are counting gradient lines for @xmath283 starting at @xmath89 and ending at @xmath101 .",
    "this causes some unfortunate sign conventions in the next section .    in general , the differential on the morse complex of a morse - smale function on a manifold with boundary may not square to @xmath273",
    "however , we have    if @xmath146 is a boundary convex morse - smale function , then @xmath284 .    the same proof usually given in the compact case works .",
    "the moduli space of gradient trajectories converging at either ends to critical points whose degree differs by @xmath76 is a manifold whose boundary consists precisely of the terms of @xmath285 .",
    "convexity prevents @xmath27-parameter families of gradient lines from escaping to the boundary , so this manifold is compact , and the signed count of these boundary points vanishes .",
    "the @xmath16 structure on the pre - category of morse functions was discovered by fukaya , see @xcite .",
    "let @xmath286 be a sequence of functions on @xmath54 , and assume that each pair @xmath287 for @xmath288 is boundary convex .",
    "we will construct higher products by considering moduli spaces of gradient trees .",
    "for concreteness , and to set the stage for section [ cellular ] , we review their construction .    a * singular metric ribbon tree * @xmath289 consists of the following data :    1 .",
    "one dimensional finite cw complex , 2 .   a map @xmath290 from the set of edges to the interval @xmath291 $ ] ( the length ) , 3 .",
    "a cyclic ordering of the edges adjacent to each vertex , 4 .",
    "a marked univalent vertex called the outgoing vertex , and 5 .",
    "a labeling of all vertices as either of finite or infinite type .",
    "the above data must satisfy the following conditions    1 .",
    "there are no non - trivial cycles , 2 .",
    "all vertices of valence greater than @xmath76 are of finite type , 3 .",
    "all vertices of valence @xmath76 are of infinite type , 4 .",
    "an edge has infinite length if and only is it has an endpoint of infinite type .",
    "univalent vertices of @xmath289 and the edges which include them are called * external * with all other vertices and edges called * internal*. note that external edges may have either finite or infinite length .",
    "upon choosing the outgoing vertex , the remaining external vertices ( or edges ) of @xmath289 acquire a linear ordering .",
    "we will think of them as * incoming * vertices ( similarly for incoming edges ) .",
    "we equip the edges of a ribbon tree with a natural orientation as follows :    * the orientation on the incoming external edges points towards the interior of the tree .",
    "the outgoing external edge is oriented away from the interior . * the orientations on all but one of the edges adjacent to a fixed vertex @xmath229 point towards @xmath229 .",
    "one can easily prove by induction that an orientation satisfying the above properties exists and is unique .",
    "we shall therefore freely speak of the ( unique ) `` outgoing edge at a vertex '' ( the one oriented away from @xmath229 ) or of the incoming vertices of a subtree . in addition , the internal vertex of a tree which lies on the outgoing edge will be a convenient basepoint for many of our argument .",
    "we will call it the * node*.    a singular ribbon tree is * reducible * if it contains a bivalent vertex .",
    "it is otherwise called irreducible , or , more simply , a * ribbon tree*.    if @xmath289 is a singular ribbon tree then a subtree @xmath292 is called an * irreducible component * if it is maximal among irreducible subtrees .",
    "every singular ribbon tree admits a unique decomposition into irreducible components .",
    "in particular , one should think of singular ribbon trees as obtained by taking two ribbon trees with infinite external edges and identifying the univalent vertices of these two edges .",
    "if we remove the univalent vertices of a ribbon tree , we obtain an honest metric space .",
    "if a vertex lies on an infinite edge , the labeling of vertices as either of finite or infinite type determines whether the edge is isometric to @xmath293 or @xmath294 , with @xmath273 corresponding to the vertex of finite type .",
    "in particular there is a natural notion of ( isometric ) automorphisms . in analogy with the deligne - mumford compactification",
    ", we have    a ribbon tree is * stable * if its group of automorphisms as a metric tree is finite .",
    "a singular ribbon tree is stable if so are all its irreducible components .",
    "all ribbon trees which are not stable are isometric to @xmath295 .",
    "in particular , a singular ribbon tree is stable unless it includes an edge with two bivalent endpoints .",
    "the @xmath109-th * stasheff moduli space * , @xmath296 , is the moduli space of ribbon trees with @xmath297 external edges all of which have infinite type .",
    "the topology of @xmath298 is such that the operation of contracting the length of an internal edge to zero is continuous . in @xcite",
    ", stasheff showed that this moduli space is homeomorphic to a ball ( see also fukaya and oh in @xcite ) .",
    "there exists a compactification of @xmath298 into a compact manifold with boundary @xmath299 called the * stasheff polyhedron * such that @xmath300 moreover , @xmath299 is naturally stratified by smooth manifolds with corners .",
    "the compactification is simply obtained by adding stable singular ribbon trees all of whose external vertices again have infinite type , and the topology is such that a sequence of trees with fixed topology having an edge whose length becomes unbounded converges to a singular tree with a bivalent vertex precisely at that edge .",
    "given a fixed tree @xmath301 and a sequence @xmath302 of functions on @xmath54 , we label the incoming edges with the functions @xmath303 and the outgoing edge with @xmath304",
    ".    there exists a unique labeling of the edges of @xmath289 by functions @xmath305 , extending the above labeling of the external edges , such that for every vertex @xmath229 , the sum of the functions labeling incoming edges is equal to the function labeling the ( unique ) outgoing vertex .",
    "further , every function @xmath306 is of the form @xmath287 with @xmath307 .    from the data of a cyclic orientation at each vertex we can construct a unique ( up to isotopy ) embedding @xmath308 of @xmath289 in the unit disc with external vertices lying on the unit circle .",
    "we can label the components of the complement of @xmath309 by functions @xmath310 such that each external edge is labeled by the difference between the functions associated to the two components which it separates . to get the correct sign , we assign a positive sign to the function which lies to the left ( according to the orientation of the edge ) .",
    "note that we can extend this labeling to the internal edges as well , and that it satisfies the desired balancing conditions at every vertex .",
    "the higher algebraic structure of morse functions is obtained from the topological properties of the space of maps from trees to @xmath54 .",
    "[ def - gradient - trees ] given a sequence of functions @xmath311 , and critical points @xmath120 of @xmath312 and @xmath313 of @xmath314 , the * moduli space of gradient trees * @xmath315 is the space of maps @xmath316 with @xmath113 an arbitrary element of @xmath296 , which satisfy the following conditions :    * the image of each edge @xmath317 is a gradient line for @xmath306 . *",
    "the orientation of @xmath317 is given by the negative gradient of @xmath306 .",
    "further , @xmath318 identifies the length parametrization of each edge @xmath317 with the gradient vector field of @xmath306 . *",
    "if @xmath317 is an external edge , and @xmath319 , then the image of @xmath318 converges to @xmath320 along @xmath317 .",
    "let us observe that this moduli space depends not only on the functions @xmath321 , but also on the riemannian metric of @xmath54 .",
    "we will make this dependence explicit as needed . for simplicity ,",
    "we will also write @xmath322    note that the moduli space of gradient trees is not compact as the length of an internal edge can go to infinity . however , it admits a bordification @xmath323 by observing that , if such a length becomes infinite , the gradient tree converges to a union of gradient trees which share common vertices , i.e. the domain tree converges to a singular ribbon tree equipped with a map to @xmath54 . in @xcite ,",
    "fukaya proves that @xmath324 is compact whenever @xmath54 is compact .",
    "we have    [ morse_compactness ] if each pair @xmath287 for @xmath325 is boundary convex , then @xmath326 is compact .",
    "let @xmath327 be such a @xmath27-parameter family converging to @xmath328 , such that there is a point @xmath329 for which @xmath330 if @xmath82 lies in the interior of an edge @xmath317 , then the image of every point on @xmath317 converges to the boundary by the boundary convexity of the function @xmath287 .",
    "since the external edges can not converge to the boundary , it suffices to prove the following claim .",
    "if @xmath229 is a vertex of @xmath289 and @xmath331 , then every edge adjacent to @xmath229 lies in @xmath69    assume otherwise .",
    "to simplify the argument , we re - orient the outgoing edge at @xmath229 so that it now points towards @xmath229 , and take the negative of the corresponding function .",
    "we now have @xmath332 however , if @xmath333 is the outwards pointing normal vector to the boundary at @xmath334 then @xmath335 since tracing back the gradient line of @xmath306 pushes us towards the interior of the manifold . comparing the two equations ,",
    "we conclude that these inner products must all vanish , i.e. that all gradient lines are tangent to the boundary at @xmath229 . by boundary convexity ,",
    "the corresponding edges are contained in @xmath69 .    the same argument which yields the result when the boundary is empty therefore applies in the boundary convex case to complete the proof of lemma [ morse_compactness ] .    to extract algebraic invariants",
    ", we will assume genericity of the functions @xmath310 .",
    "[ defin : regularity_moduli_spaces_trees ] a sequence of functions @xmath311 is * morse - smale * if all functions @xmath336 are morse - smale , and all finite collections of their ascending and descending manifolds are in `` general position '' . such a collection is * boundary convex * if all functions @xmath336 are boundary convex .",
    "the precise meaning of general position is a requirement on the regularity of all moduli spaces of gradient tree as explained in appendix [ mod - space - trees ] , in particular definition [ defin : regularity_moduli_trees ] .",
    "as before , an orientation of the ascending manifolds of the critical points of @xmath337 and of @xmath338 induces an orientation of @xmath339 ; the explanation is again relegated to appendix [ coherent - orient ] . in particular , transversality implies that if the degrees of the various critical points satisfy @xmath340 then the corresponding moduli space of gradient trees consists of ( signed ) points , so we obtain integers @xmath341 by choosing orientations of the ascending manifolds , and counting the ( signed ) number of such points .",
    "we define the above integers to be @xmath273 whenever equation is not satisfied .",
    "we can define a higher product @xmath342 by linearly extending the formula @xmath343 where each @xmath344 is a choice of orientation of the appropriate ascending manifold . as in the case of the differential ,",
    "it is clear from the construction of appendix [ coherent - orient ] that even though we have chosen orientations for the ascending manifolds in order to write a formula , the higher product is independent of all such choices .",
    "modulo signs , lemma [ morse_compactness ] immediately implies the next result",
    ".    [ signed_a_infty ] if @xmath311 is a set of functions which is morse - smale and boundary convex , then the @xmath16 equation holds .",
    "the proof of this proposition with signs is given in appendix [ coherent - orient ] .",
    "we can now see that morse functions on a manifold with boundary fit within kontsevich and soibelman s framework of pre - categories .",
    "the * morse pre - category * of @xmath54 is the pre - category @xmath345 defined by the data :    * objects are functions on @xmath54 . * transverse sequences are sequences of functions which are morse - smale and boundary convex .",
    "* morphisms between a transverse pair @xmath346 are given by the morse complex @xmath347 * higher products are given by equation .      the proof that ordinary and morse homology agree extends to our setting .",
    "[ morse - ordinary - iso ] @xmath348    consider the union of all descending manifolds @xmath349 since @xmath146 has no critical points outside @xmath350 , the image of any point in @xmath351 under the gradient flow intersects @xmath352 .",
    "in particular , we have a retraction @xmath353 we conclude that the relative cohomology group @xmath354 vanishes , and hence that the inclusion of @xmath355 induces an isomorphism @xmath356 it suffices therefore to prove that there is an isomorphism @xmath357 to prove this , we note that the morse - smale condition guarantees that the closure of @xmath358 intersects @xmath359 only if the degree of @xmath101 is smaller than that of @xmath89 . in particular , we consider the filtration of @xmath350 by the subsets @xmath360 consisting of the closures of ascending manifolds of critical points whose degree is smaller than or equal to @xmath361 .",
    "every sub - quotient @xmath362 is homeomorphic to a wedge of spheres indexed by the critical points of degree @xmath361 .",
    "the result follows by induction on @xmath361 , and the inductive step is a classical computation first appearing as corollary 7.3 in milnor s book @xcite that , given a cobordism with critical points only in degree @xmath361 and @xmath363 , the matrix of intersection pairings between ascending and descending manifolds defines a differential on this subquotient of the morse complex whose cohomology agrees with the cohomology of the cobordism relative a certain subset of its boundary .    we would like to construct an explicit chain level map inducing the above isomorphism on cohomology .",
    "further , we would like to relate the cup products at the chain level .",
    "this essentially entails the construction of @xmath16 functors relating the morse pre - category to a pre - category whose morphisms are chain complexes that compute ordinary cohomology .",
    "there are many possible options for this putative pre - category , such as singular cocycles , pseudo - cycles , or currents .",
    "if we re willing to work over @xmath80 , then currents would be the most convenient category to work with .",
    "however , we would like to keep working over @xmath77 while we still can .",
    "unfortunately , pseudo - cycles offer the disadvantage that the intersection product is only partially defined ( although , see @xcite for an algebraic solution to this problem ) , while it is not clear to the author how to relate the tree product on the morse complex to the products on singular cochains without using the abstract techniques of acyclic models as used by guggenheim to relate the singular cup product with the wedge product on forms @xcite .",
    "we will choose instead to work with the simplicial cochains of a fixed triangulation , although we will use cellular chains of dual triangulations as an intermediary .",
    "we will need to introduce a new moduli space of trees .",
    "[ defin - shrubs ] the moduli space of * shrubs * @xmath364 is the moduli space of ribbon trees with @xmath109 incoming edges all of which have finite type , whose outgoing edge has infinite type , and such that the distances from the node ( interior vertex of the outcoming edge ) to all the incoming vertices are equal .    in appendix [ mod - space - trees ] we construct a compactification @xmath365 of @xmath364 and prove the necessary smoothness and compactness results .    as with the ribbon trees which form the stasheff polyhedra",
    ", we can endow the edges of a tree in @xmath364 with a natural orientation .",
    "further , if @xmath311 is a sequence of @xmath297 functions , then every edge of a tree @xmath366 can be labeled uniquely by a difference @xmath367 satisfying the conditions of definition [ def - gradient - trees ] .",
    "[ defin : gradient_shrubs ] let @xmath311 be a sequence of @xmath297 functions on @xmath54 , @xmath368 a collection of @xmath109 cycles @xmath369 , and @xmath89 a critical point of @xmath370 .",
    "the moduli space of * gradient trees from @xmath368 to @xmath89 * , denoted @xmath371 , consists of all maps @xmath372 with @xmath366 satisfying the following conditions :    * the image of the @xmath132th incoming vertex lies in @xmath373 , and * the outgoing vertex is mapped to @xmath89 , and * each edge @xmath317 is a gradient line of the corresponding function @xmath306 as in definition [ def - gradient - trees ] .",
    "the notation @xmath371 is ambiguous since the function @xmath311 whose gradient trees we are considering are elided . in practice , however , this should cause no confusion .    in appendix [ mod - space - trees ] , we construct a decomposition of @xmath364 into smooth manifolds with corners corresponding to the different topological types of a shrub , yielding a decomposition of the closure @xmath365 into compact manifolds with corners . to construct an analogous decomposition of @xmath374 , we consider evaluation maps @xmath375 which are defined for each @xmath376 .",
    "given a point @xmath377 , its image under @xmath378 is simply the image of @xmath82 under the composition of gradient flows corresponding to the path in @xmath289 from the node of @xmath289 to the input labeled by @xmath132 .",
    "it is easy to see that @xmath374 is simply the inverse image of @xmath379 under the map @xmath380 whose @xmath132^th^ component is @xmath378 .",
    "we will now fix a triangulation @xmath381 of @xmath54 such that @xmath69 is a subcomplex .",
    "in general , since morse - smale functions on a disc can be arbitrarily complicated , there is no hope to recover any information about the morse homology of an arbitrary function by relating it to the cellular complex of @xmath381 .",
    "we therefore fix a subdivision @xmath382 dual to @xmath381 , and we shall include a condition on the behaviour of the morse flow near strata of @xmath382 as a restriction on the morse functions we shall study .",
    "in addition , we fix a family @xmath383}$ ] of diffeomorphisms of @xmath54 such that @xmath384 is the identity , and such that @xmath385 , the subdivision obtained by applying @xmath386 to @xmath382 , is in simplicial position with respect to @xmath387 whenever @xmath388 ( see appendix [ singular - cochains - manifolds ] ) .",
    "in particular , whenever @xmath389 is an increasing sequence , the subdivisions @xmath390 are mutually transverse .",
    "given a cell @xmath254 or a sequence of cells @xmath391 of @xmath382 , we will write @xmath392 for the corresponding cell of @xmath393 or @xmath394 for the sequence @xmath395 whenever @xmath396 satisfies @xmath397 .    we will further write , as in appendix [ singular - cochains - manifolds ] , @xmath398 for the cellular subdivision of @xmath54 consisting of the intersection of all cells in @xmath399 and @xmath400 , and @xmath401 for the corresponding cellular map .    given two cells @xmath402 and @xmath403 we can use the family @xmath386 to construct a map @xmath404 \\to q\\ ] ] whose restriction to @xmath405 $ ] identifies @xmath406 with @xmath407 .",
    "this map realizes a homotopy between the identity and the collapse of @xmath408 onto its image under @xmath409 , producing a cell of one higher dimension which we write @xmath410 .",
    "more generally , if @xmath411 is a sequence of increasing positive real numbers , let @xmath412 denote the subset of points @xmath413 in @xmath414 \\times [ t_2 , t_d ] \\times \\ldots \\times [ t_{d-1 } , t_{d}]$ ] satisfying the conditions @xmath415 @xmath412 is a convex polytope ; in dimension @xmath76 , for example , this polytope is shown in figure [ fig : k - polytope ] .    given a sequence of cells @xmath416 of @xmath382 , lemma [ lem : parametrise_family_intersections_cells ] implies that we have a diffeomorphism @xmath417 that varies continuously with @xmath418 .",
    "in particular , we obtain a map @xmath419    we now construct a new pre - category structure on @xmath345 :    [ transverse - in - morse ] a pair of functions @xmath420 is transverse in @xmath421 if and only if    * the pair @xmath422 is transverse in @xmath345 , and * the inclusion @xmath423 is a deformation retract .",
    "a sequence of functions @xmath424 is transverse in @xmath421 if and only if    * it is transverse in @xmath345 , and * every subsequence consisting of two elements is transverse .",
    "the second condition required for the transversality of a pair of functions essentially forces the dynamics of the gradient flow of @xmath425 to be no more ( and no less ) complex than the inclusion of @xmath426 into @xmath382 .    in appendix",
    "[ singular - cochains - manifolds ] , we construct a pre - category @xmath427 with objects cell subdivisions which are @xmath428-close to @xmath382 ( together with extra data at the boundary corresponding to the subsets @xmath429 ) , and where the cup product of simplicial cochains is realized as a geometric intersection pairing .",
    "we write @xmath430 for the subcategory of @xmath427 consisting of cell subdivisions obtained by moving @xmath382 along @xmath386 for some @xmath38 .",
    "we now consider a new pre - category @xmath431 which will serve as an intermediary between @xmath430 and @xmath421 .",
    "again , we do this in two steps .    the objects of @xmath431 are pairs @xmath432 , with @xmath242 a function on @xmath54 .",
    "two objects @xmath432 and @xmath433 are transverse if and only if    a.   @xmath434 is greater than @xmath435 , and b.   @xmath422 are transverse in @xmath421 , and c.   the moduli spaces of shrubs with endpoints on a cell of @xmath399 are regular .",
    "if @xmath436 and @xmath437 are transverse objects of @xmath431 , the * space of morphisms * between them is defined to be @xmath438    since our ultimate goal is to pass from @xmath431 to @xmath421 , we shall require transversality between the gradient flow lines of functions @xmath310 and the cells of various subdivisions @xmath439 .",
    "to state this formally , given a sequence of cells @xmath440 of @xmath382 , times @xmath441 , and a partition @xmath442 of the set @xmath443 into subset @xmath444 we write @xmath445 , and @xmath446 for the corresponding subsequence of @xmath447 .",
    "we consider @xmath448    generalising definition [ defin : gradient_shrubs ] , we have a moduli space @xmath449 obtained as a fiber product @xmath450 where the map from @xmath451 to @xmath452 is given component - wise by equation .",
    "we incorporate a transversality conditions for these moduli spaces of shrubs with endpoints on @xmath451 into our definition of the category @xmath431 .",
    "we shall need this in order to define a functor to @xmath421 .",
    "[ end - defin - cell - morse ] a sequence @xmath453 is transverse in @xmath431 if    a.   the sequence @xmath454 is transverse in @xmath427 , and b.   the sequence @xmath455 is transverse in @xmath421 , and c.   if @xmath440 is any sequence of cells in @xmath382 , @xmath456 is a subsequence of @xmath447 of length @xmath457 with corresponding subsequence @xmath458 of @xmath368 , and @xmath459 a partition of @xmath460 as in equation , then the moduli spaces @xmath461 are regular for any critical point @xmath89 of @xmath462 .",
    "note that whenever @xmath463 , and @xmath442 is the trivial partition @xmath464 , the last conditions is imposing the regularity of the moduli spaces @xmath465    let us now consider the situation where a moduli space @xmath466 has virtual dimension @xmath273 . if the partition @xmath442 contains a subset @xmath467 which consists of more than one element , then the evaluation map @xmath468 has image which is contained in a neighbourhood of a cell of @xmath469 whose dimension is strictly smaller than that of @xmath470 .",
    "in particular , if all parameters @xmath389 are sufficiently small , we expect this moduli space to be empty . indeed , assuming regularity , the moduli problem for the cell of lower dimension has no solutions , so there should be no solution for @xmath211 close cells , regardless of their dimension . in this case",
    ", we could avoid introducing the higher dimensional cells @xmath451 and define a more straightforward transversality condition using only the moduli spaces @xmath471 which would be essentially independent of sufficiently small choices of @xmath472 .",
    "we elaborate further on this point in the next section when it is time to prove the @xmath16 equation for the functor from the cellular to the morse category .",
    "the problem is that while the moduli spaces of shrubs with inputs on cells of @xmath381 are regular for generic choices of morse functions , their compactifications do not satisfy this property because cells of @xmath381 do not necessarily intersect transversally .",
    "it seems likely that the moduli spaces @xmath473 are still empty whenever some @xmath474 for appropriate choices of diffeomorphisms @xmath386 , but proving this would require more subtle transversality arguments .",
    "[ lem : dimension_indep_of_partition ] the virtual dimension of @xmath473 is @xmath475 in particular , it is independent of the subdivision @xmath442 .      in this section",
    ", we will explain the proof of :    [ cech - to - morse ] the pre - categories @xmath427 and @xmath421 are equivalent as @xmath16 pre - categories .    before proceeding with the construction ,",
    "let us make the auxiliary choice of an outward pointing vector field @xmath333 on @xmath69 which is parallel to the normal vector of the boundary .",
    "we let @xmath476 and observe that @xmath477 is positive precisely on @xmath478 .",
    "the function @xmath477 will play a rle analogous to that of the function @xmath479 in appendix [ singular - cochains - manifolds ] .",
    "in particular , we have @xmath480 giving us two ( slightly ) incompatible notations .",
    "we are now ready to use @xmath431 for its stated purpose .",
    "first , observe that the map on objects @xmath481 induces the obvious equivalence of @xmath16-pre - categories from @xmath431 to @xmath430 ; the subcategory of @xmath427 consisting of subdivisions obtained by applying @xmath386 to @xmath381 for some @xmath386 .",
    "the inclusion @xmath482 is clearly essentially surjective .",
    "we now construct an @xmath16 functor from @xmath431 to @xmath421 .",
    "the functor is the forgetful map on objects @xmath483 the linear term of the functor is @xmath484 where @xmath485 is the signed count of elements of @xmath486 .",
    "note that the transversality assumptions in @xmath431 ensure that @xmath486 consists only of points , given that @xmath487 has codimension @xmath361 and @xmath89 has degree @xmath361 .",
    "the sign of a gradient trajectory is simply the sign of the intersection of the oriented chain @xmath487 with the ascending submanifold @xmath267 carrying the orientation @xmath488 . to prove that @xmath489 is a chain map ,",
    "we need to understand @xmath27-dimensional moduli spaces :    the union of the manifolds @xmath490 over all critical points @xmath101 of degree @xmath363 is a @xmath27-dimensional manifold admitting a compactification whose boundary points correspond to rigid gradient trajectories from @xmath491 to @xmath101 , or to broken gradient trajectories from @xmath487 to @xmath101 passing through a critical point @xmath89 of degree @xmath361 .    in the absence of a boundary on @xmath54 ,",
    "this is a standard result about moduli spaces of gradient flow lines .",
    "the only difference for @xmath492 is that we must prove compactness of moduli spaces separately .",
    "however , transversality in @xmath421 subsumes the boundary convexity of the function @xmath425 .",
    "in particular , gradient lines can not escape to the boundary so the desired result holds . by interpreting the boundary terms algebraically ,",
    "we conclude that @xmath493    to see that @xmath489 is a quasi - isomorphism , we recall that @xmath494 is the signed intersection number between the oriented chain @xmath487 and the ascending submanifold @xmath267 .",
    "consider the complex of chains @xmath495 which are transverse to cells of @xmath399 . by assigning to each critical point its stable manifold ,",
    "we obtain a map @xmath496 which is a quasi - isomorphism by lemma [ morse - ordinary - iso ] . by construction , @xmath489 intertwines the duality pairing between morse homology and cohomology , with the intersection pairing between @xmath497 and @xmath498 .",
    "since both pairings are known to be perfect pairings on homology , it follows that @xmath489 must also be a quasi - isomorphism .",
    "let us describe the polynomial extensions of the functor @xmath489 .",
    "given a collection @xmath499 of @xmath297 transverse objects in @xmath431 , and cycles @xmath500 belonging to @xmath501 , and a partition @xmath502 as in equation , we consider a map @xmath503 whose action on generators is given by @xmath504 where @xmath505 is a signed count of the points in the moduli space @xmath506    we define @xmath507 an easy application of lemma [ lem : dimension_indep_of_partition ] implies that @xmath508 has degree @xmath509 as expected .",
    "we must prove that the @xmath16 equation for functors @xmath510 holds , where @xmath131 is as in lemma [ lem_a_infty_fuk ] and @xmath511 stands for the cup product . in order to do this",
    ", we study , as usual , @xmath27-dimensional moduli spaces of trees .    before explaining the general case",
    ", we discuss why the first equation holds , ignoring all signs .",
    "this will shed light on the point of view that the term @xmath512 for which @xmath502 consists only of singletons is the essential part of the functor , and that the others terms are corrections imposed by the necessity to introduce perturbations of the subdivision @xmath382 .",
    "so we need to prove that : @xmath513    given two cells @xmath514 and @xmath515 such that the moduli space @xmath516 is @xmath27-dimensional , we recall that the boundary strata of the compactification correspond to the following possibilities    1 .",
    "the distance between some internal point of the tree and an incoming vertex goes to infinity . because of the restriction that the distance function to the incoming vertex is independent of the choice of incoming vertex",
    ", this can only happen if either ( i ) the outgoing edge converges to a broken gradient trajectory , or ( ii ) both incoming edges break .",
    "these two possibilities correspond to the terms : @xmath517 2 .",
    "one of the incoming vertices escapes to the boundary of the cell that it lies on .",
    "this accounts for the terms @xmath518 3 .",
    "the length of an incoming edge can approach zero . by definition , both incoming edges collapse , so we end up with a gradient trajectory from @xmath519 to @xmath89 .",
    "this last type of boundary stratum is related , but not in general equal to , the term @xmath520 indeed , in appendix [ singular - cochains - manifolds ] , we interpret the cup product as the composition of the intersection pairing with the collapse map @xmath521 note that the image of @xmath519 under the collapse map is @xmath522",
    ". we must therefore account for the difference between the number of gradient trajectories starting at @xmath523 and @xmath524 , which we claim is precisely given by the remaining terms @xmath525    consider the @xmath27-dimensional moduli space @xmath526 of gradient trees with inputs lying on the image of the evaluation map from @xmath527 and output the critical point @xmath89 . by considering the boundary of this moduli space , we will find five terms respectively corresponding to the composition @xmath528 , the count of gradient trajectories starting at @xmath523 , and the right hand side of equation .",
    "the compactification has two types of boundaries :    1 .",
    "either the gradient trajectory breaks at a critical point @xmath101 , corresponding to the term @xmath529 2 .   or the gradient trajectory escapes to the boundary of @xmath527 .    by construction",
    ", the boundary of @xmath527 can be decomposed geometrically as a union @xmath530 the count of gradient trajectories starting on these @xmath531 different strata completes the proof of the @xmath16 equation for @xmath532 .",
    "we now explain the general idea behind the proof of the @xmath16 relation for functors which appears in equation .",
    "we again consider @xmath368 and @xmath89 such that @xmath533 has dimension @xmath27 .",
    "let us recall the reasons why this moduli space is not compact :    1 .",
    "the length of some internal edges can go to infinity . in @xmath27-parameter families ,",
    "the only possibility is that every path from an incoming vertex to the outgoing vertex contains precisely one edge whose length becomes infinite .",
    "this corresponds to the left hand side of equation : @xmath534 2 .",
    "the length of an incoming edge can approach zero . as we are assuming transversality ,",
    "this occurs for a pair of incoming edges ( in particular , the collapse of triples of incoming edges does not occur in one - parameter families , and hence does not affect the differential ) .",
    "this corresponds to the count of elements in the moduli space @xmath535 for some fixed @xmath132 .",
    "one of the incoming vertices escapes to the boundary of the cell @xmath536 that it lies on .",
    "this cell has three types of boundary strata . to simplify our notation",
    ", we consider the case where the partition consists of only one set @xmath502 , allowing us to drop the subscript @xmath537 from the discussion below : 1 .",
    "we take the boundary of a cell in @xmath538 .",
    "this accounts for the first term in the right hand side of equation : @xmath539 2 .",
    "we can reach the boundary of a face in @xmath540 where some @xmath541 , with the convention that @xmath542 .",
    "note that the corresponding cell in @xmath54 is the same as the one obtained by applying @xmath49 to the sequence of cells @xmath543 whenever @xmath544 and @xmath545 intersect non - trivially . in this case",
    ", lemma [ model - compatible - cup - products ] implies that the intersection @xmath546 is the result of applying the cup product to @xmath544 and @xmath545 , so this boundary stratum corresponds to the remaining term of equation : @xmath547 3 .",
    "the remaining boundary stratum correspond to @xmath548 for some @xmath132 .",
    "one can check that these boundary strata exactly cancel out with the strata coming from equation .",
    "the @xmath16 equation will then hold for the usual argument that the algebraic count of the number of boundary points of a @xmath27-dimensional manifold vanishes . to complete the argument , one should check the correctness of the signs .",
    "we omit the long , but straightforward , computation which can be performed along the lines of the arguments given in appendix [ coherent - orient ] to prove the correctness of the signs in the @xmath16-structure of @xmath421 .    combining this result with proposition [ cell - sing ] ,",
    "we conclude    [ cell - morse ] the pre - categories @xmath549 and @xmath421 are equivalent as @xmath16 pre - categories .      given a collection of functions @xmath550 on a smooth compact riemannian manifold",
    "we obtain a collection of lagrangians @xmath119 , the graphs of @xmath551 , in @xmath552 , and the critical points @xmath553 correspond to the intersection points of @xmath119 with @xmath554 .",
    "this yields a canonical isomorphism between the underlying graded vector spaces of floer and morse complexes . in @xcite , fukaya and oh extended floer s results that the differentials on floer and morse theory agree .",
    "these results have been reworked and amplified in @xcite .",
    "although the results are usually stated for manifolds without boundary , one can easily extend them to the case where the boundary is not empty . in our notation",
    "below , @xmath555 stands for the rescaled metric , and @xmath556 for the induced almost complex structure on @xmath557 .",
    "[ morse - floer - moduli - equal ] let @xmath558 be a compact riemannian manifold possibly with boundary . for every generic finite collection of functions",
    "@xmath559 which are transverse in @xmath345 and which have no boundary critical points , there exists a constant @xmath560 such that for all @xmath561 and for every collection @xmath562 of critical points @xmath563 of @xmath564 , there exists an orientation preserving homeomorphism between moduli spaces of holomorphic discs and gradient trees : @xmath565 further , every holomorphic curves is @xmath211 close to the corresponding gradient tree    extend @xmath54 to a smooth compact manifold without boundary @xmath566 , and extend the function @xmath310 to smooth functions on @xmath566 . by fukaya - oh s result , there exists an @xmath567 , small enough , so that moduli spaces of holomorphic discs and gradient trees on @xmath566 are in bijective correspondence , and all holomorphic discs are @xmath211 close to gradient trees .",
    "we write @xmath568 for the @xmath569-neighbourhood of a set @xmath49 in @xmath566 .",
    "note that the assumption that @xmath559 are transverse in @xmath345 implies that , for sufficiently small @xmath569 , all gradient trees contained in @xmath570 are contained in @xmath571 .",
    "choosing @xmath567 small enough therefore guarantees that all holomorphic discs which project to @xmath572 project to @xmath573 . we conclude that for @xmath567 small enough , the theorem of fukaya - oh holds for the manifold with boundary @xmath54 .",
    "if the sequence @xmath311 is allowed to have critical points at the boundary , then boundary convexity implies that there is some neighbourhood of the boundary in which gradient trees of interior critical points do no enter . for sufficiently small @xmath567",
    ", the argument above implies that count of holomorphic discs in the complement of this neighbourhood agrees with the count of gradient trees .",
    "fukaya and oh also state    [ morse - floer - equivalent ] the fukaya pre - category of exact lagrangian sections of @xmath574 is @xmath16 quasi - isomorphic to the morse pre - category of @xmath54 .    we will write @xmath575 for this category of exact lagrangian sections . in order for this to make sense when @xmath54 is a manifold with boundary , we need to make sure that we have compactness for moduli spaces of holomorphic curves . in the application we have in mind ,",
    "this follows from an extra structure imposed at infinity ( admissibility with respect to the  superpotential \" ) .",
    "we explain the ( completely formal ) proof of the above corollary in the absence of a boundary .",
    "let @xmath576 be a sequence of rescaling parameters , and let @xmath577 be the corresponding fukaya categories .",
    "the homotopy method ( see @xcite ) defines @xmath16 equivalences of pre - categories @xmath578 which is essentially the identity on objects .",
    "in fact , because of transversality problems , this functor is only defined on a full pre - subcategory of @xmath579 consisting of objects for which the family of almost complex structure @xmath556 satisfies an appropriate transversality condition .",
    "for simplicity of notation , we will neglect this problem .    for each @xmath132",
    ", we consider the sub - pre - category @xmath580 where a collection @xmath581 of lagrangians is transverse if and only if the moduli spaces @xmath582 are diffeomorphic for all intersection points @xmath583 and for all @xmath584 . the functors @xmath585 preserve these subcategories in the sense that if a sequence is transverse in @xmath586 , its image under @xmath587 is transverse in @xmath588 .",
    "in particular , we obtain a directed system ( in fact , a nested embedding ) @xmath589 whose limit is @xmath590 .",
    "we can think of this as a filtration of @xmath590 .",
    "denote by @xmath591 the  identity functor \" @xmath592 taking every exact lagrangian section to its defining function . by construction , there is an equality of ( restricted ) functors @xmath593 on @xmath594 .",
    "this implies that we can define the right hand side as the extension of @xmath595 to the subcategory @xmath596 .",
    "proceeding inductively , we can extend @xmath595 through every step of the direct limit of equation . passing to the limit",
    ", we obtained the desired @xmath16 equivalence @xmath597",
    "having established the general framework for relating the multiplicative structures on various chain models of ordinary homology , we return to our goal of proving our main result on homological mirror symmetry for toric varieties .",
    "the observation of section [ tropical - lagr ] that all tropical lagrangian sections lift to graphs of exact @xmath27-forms allows us to define a morse pre - category .",
    "the * morse pre - category of @xmath56 * is the pre - category @xmath55 given by the following data    * objects are functions on @xmath56 the graphs of whose differentials agree with lifts to @xmath231 of tropical lagrangian sections in @xmath218 . *",
    "transverse sequences are given by functions @xmath598 which are morse - smale and define lifts of a positive sequence of lagrangians @xmath599 .",
    "* morphisms between @xmath242 and @xmath90 on @xmath56 are given by @xmath600 * higher products are defined by equation .    as in the previous section , the graded abelian group @xmath601 is generated by interior critical points .",
    "further , when we write @xmath602 , we re thinking of @xmath99 as a linear function on @xmath216 @xmath603    we have chosen this pre - category for its convenience .",
    "its morphisms are @xmath222 graded , and the higher products respect this grading . if we further required quasi - isomorphisms to live in the @xmath273 grading , then we would obtain a pre - category which is equivalent to the category of equivariant @xmath25 line bundles on the mirror toric variety .",
    "however , we will not impose such a restriction , so that different lifts of the same function lie in the same quasi - isomorphism class .",
    "we could have defined the objects to be tropical lagrangian sections , but our spaces of morphisms would have only been graded by an affine space over @xmath191 .",
    "@xmath55 is a unital @xmath16 pre - category .",
    "we must prove that the @xmath16 equation holds for transverse sequences . by the results of section",
    "[ morse - theory ] , this follows from the    the lifts of a sequence of admissible lagrangians satisfy the boundary convexity property of lemma [ morse_compactness ] .",
    "it suffices to prove the results in a neighbourhood of each cell of @xmath604 .",
    "we first consider the cells labeled by vertices of @xmath69 . on these open sets ,",
    "the gradient vector fields of functions defining tropical lagrangian sections are locally constant when restricted to the part of the boundary which lies in such neighbourhoods .",
    "since @xmath56 is a convex subset of @xmath14 , the result follows near the @xmath273-skeleton .",
    "we now proceed inductively by using , near each @xmath132 cell , the product decomposition which was defined in @xcite*lemma 4.4 .",
    "it remains to prove unitality , i.e. to produce a sufficient number of quasi - isomorphic copies of each object .",
    "we observed in @xcite*lemma 5.8 that if @xmath605 is any function which agrees with the square of the distance to the boundary in some neighbourhood of @xmath604 then , for any real number @xmath49 , the image of the graph of @xmath606 under the map @xmath607 is well approximated , near the origin , by a straight line of slope @xmath49 .",
    "more generally , if @xmath146 is a function whose differential defines an admissible tropical lagrangian section , then for every real number @xmath49 , @xmath608 is @xmath609 close in some neighbourhood of @xmath604 to a function @xmath610 defining another admissible tropical lagrangian section such that the pair @xmath611 is positive ( see @xcite*lemma 4.15 ) . more precisely , if the curve corresponding to @xmath146 has slope @xmath612 at the origin , then the curve corresponding to @xmath613 has slope @xmath614 ,    since @xmath615 we have a canonical element in @xmath616 which represents the generator of @xmath617 . by proposition",
    "[ cech - to - morse ] , this generator acts as a cohomological unit .",
    "in particular , if @xmath550 is a finite transverse sequence of admissible functions , there exists a constant @xmath618 such that the sequence @xmath619 defines a positive sequence of admissible lagrangians .",
    "the constant @xmath49 can simply be chosen to be much larger than the absolute value of the slopes at the origin of all the curves corresponding to the admissible lagrangians defines by @xmath310 and @xmath146 .",
    "we can then choose a @xmath105-small perturbation of @xmath259 away from the boundary of @xmath56 to achieve transversality .",
    "we were careful to state the results of section [ morse - theory ] , allowing critical points on the boundary in order to be able to apply them directly here .",
    "there is a slightly subtle point concerning the positivity condition .",
    "consider the case where we are computing the space of morphisms between the zero - section and a lagrangian defined by a function @xmath146 .",
    "whenever @xmath146 has a boundary critical point , the set - up of section [ morse - theory ] allows for this point to be included in @xmath620 or @xmath621 depending on the behaviour of the gradient flow nearby .",
    "however , the positivity assumption precisely eliminates this ambiguity . indeed , the gradient vector field of @xmath146 points inward as soon as we move away from the boundary towards the interior .",
    "this implies that @xmath622 is exactly the subset of @xmath604 where the gradient flow of @xmath146 satisfies the ( non - strict ) inequality @xmath623      in order to prove the equivalence of morse and fukaya categories , we need to establish more control over the tropical construction . while both floer and morse trajectories do not escape to the boundary",
    ", we can not directly apply the fukaya - oh argument for two reasons :    1 .",
    "the almost complex structure we re using near @xmath624 does not agree with the complex structure @xmath95 induced by the flat metric on @xmath56 ( which is the restriction of the complex structure on @xmath25 ) , and 2 .",
    "admissibility relies on the existence of a holomorphic function near the boundary .",
    "such a function will not remain holomorphic upon  rescaling \" @xmath95 as in the fukaya - oh procedure .",
    "we return to the notation where we use a semi - tropical degeneration producing a family of functions @xmath34 , which define symplectic hypersurfaces @xmath625 , and hence a family of subsets @xmath626 and almost complex structures @xmath627 on @xmath25 .",
    "we will also be using the notation of section [ floer - morse ] so we write @xmath556 for the almost complex structure induced on @xmath628 by rescaling the metric on the base @xmath216 by @xmath567 .",
    "we will write @xmath629 for the part of the zero section of @xmath25 lying over @xmath209 , and @xmath630 for its lift to the cotangent bundle .    in appendix",
    "[ ap : second_look ] we explain how to modify the construction given in @xcite in order to prove the following result .",
    "we simply state and prove the case with one lagrangian , the techniques we use readily extend to establish compactness theorems for finitely many lagrangians .",
    "[ morse_floer_compactness ] let @xmath22 be an admissible tropical lagrangian section with boundary on @xmath631 such that @xmath632 is a positive pair , and let @xmath146 be a function defining a lift @xmath633 of @xmath22 to @xmath231 .",
    "there exists a family @xmath634 for @xmath635 of functions defining admissible tropical lagrangian sections @xmath636 with boundary on @xmath187 such that @xmath637 is positive , all interior intersection points between @xmath636 and the zero section are transverse , and for sufficiently large @xmath38 there are positive constants @xmath638 , @xmath639 and @xmath640 such that :    1 .   for any @xmath641 ,",
    "the morse gradient flows of @xmath642 connecting interior critical points lie in the complement of the @xmath643 neighbourhood of @xmath240 , and 2 .",
    "all @xmath627 holomorphic discs with marked points on interior intersection points of @xmath636 with the zero section project to the complement of the @xmath644 neighbourhood of @xmath240 , and 3 .",
    "families of @xmath556 holomorphic discs with marked points on interior intersection points of @xmath636 and @xmath645 which for some @xmath646 lie outside the @xmath647 neighbourhood of @xmath240 remain outside the @xmath648 neighbourhood of @xmath240 for all @xmath567 , and 4 .",
    "@xmath649 is smaller than @xmath643 and @xmath644 .",
    "assume that we have chosen a family @xmath650 and @xmath38 large enough to satisfy the above conditions .",
    "we will want to produce a chain isomorphism @xmath651 while it is possible to do this in one step it will be conceptually easier for us to construct a sequence of chain isomorphisms @xmath652 all these maps can be constructed in essentially the same way via either continuation maps or the homotopy method , so we will focus on constructing a chain isomorphism @xmath653 part ( 2 ) of proposition [ morse_floer_compactness ] ensures that the right hand side is a complex ; it states that holomorphic discs with respect to @xmath654 stay away from the boundary so we can apply the usual compactness arguments .",
    "we now introduce the relevant moduli spaces for the definition of @xmath655 .",
    "the technique we are describing is originally due to floer , although it has been extended by fukaya , oh , ohta , and ono in their work on lagrangian floer homology , @xcite    if @xmath89 and @xmath101 are intersection points of @xmath656 and @xmath657 , we write @xmath658 for the union of all moduli spaces @xmath659 for fixed @xmath38 and varying @xmath660 $ ] .",
    "this space is naturally topologised as the vanishing locus of a section of an infinite dimensional vector bundle over the product of the interval @xmath168 $ ] with the space of smooth maps from the disc to @xmath231 satisfying appropriate boundary conditions .",
    "as in the usual floer theoretic setup , this allows us to define regularity as the requirement that the linearised operator is surjective at the zeros ; i.e. that the section intersect the zero level set transversely .",
    "of course , to make this discussion formal , one introduces appropriate sobolev spaces .",
    "we refer the interested reader to the references @xcite , and simply note that regardless of the details , it is easy to see that , @xmath661    we note that the condition that @xmath658 is regular does not imply that each moduli space @xmath659 is regular .",
    "indeed , we will consider moduli spaces @xmath658 whose virtual dimension is @xmath273 . assuming regularity",
    ", this space will therefore consist of finitely many @xmath662 holomorphic discs which occur for some @xmath663 .",
    "since the virtual dimension of @xmath659 is @xmath664 for any @xmath37 , this moduli space would be empty if it were regular .",
    "we will often refer to these discs ( which are only regular in families ) as * exceptional discs*.    using the usual transversality arguments , we see that for a generic choice of @xmath650 :    1 .   all moduli spaces @xmath665 and @xmath666 are regular , and 2 .   the parametrised moduli space @xmath658 is regular .    in this case , we define a new moduli space @xmath667 consisting of sequences of @xmath627-holomorphic discs as in figure [ fig : homotopy ] . to be more precise :    [ moduli_space_homotopy ] an element of @xmath667 consists of the following data :    1 .   a collection @xmath668 of interior intersection points between @xmath669 and the zero section , together with an increasing sequence @xmath670 , and 2 .   for each @xmath671 , a @xmath672 holomorphic disc @xmath673 with boundary on @xmath674 with the incoming point mapping to @xmath675 and outgoing marked point mapping to @xmath676",
    "we note that the dimension of @xmath667 is given by the difference between the degrees of @xmath89 and @xmath101 .",
    "in particular , @xmath667 is discrete precisely whenever @xmath677 so we can define a degree @xmath273 map @xmath678 where @xmath679 is the signed count of the number of points in @xmath667 .",
    "the following lemma essentially goes back to floer :    the map @xmath655 is a chain isomorphism .",
    "we briefly discuss the proof .",
    "first , we recall that the exactness condition implies that we have an energy filtration on floer cochain groups : in our case the energy of an intersection point @xmath89 is the value of @xmath146 at @xmath89 . by ordering all intersection points according to their action , we obtain a basis for the floer cochain groups .",
    "the usual argument involving stokes theorem implies that the matrix representing @xmath655 in this basis is upper triangular with @xmath27 along the diagonal . in particular @xmath655",
    "will necessarily be a chain isomorphism if it happens to be a chain map .    to prove that @xmath655 is a chain map , one considers the compactification of the @xmath27-dimensional moduli spaces @xmath667 ; this corresponds to the condition that @xmath680",
    "one can check that the only sequences @xmath668 which contribute to @xmath667 are those for which there is @xmath681 such that @xmath682 for all @xmath683 and all other intersection points have degree equal to @xmath684 . in this case",
    ", we have a collection of exceptional solutions together with one ( regular ) @xmath672-holomorphic strip connecting @xmath676 and @xmath685 , and it is clear that we can allow @xmath686 to vary , giving us precisely a @xmath27-dimensional moduli space .",
    "there is a natural bordification @xmath687 of @xmath667 which allows broken curves , as well as the possibility that @xmath688 or @xmath689 .",
    "the proof that @xmath655 is a chain map has now been reduced to an analysis of the boundary of the bordification @xmath687 .",
    "two of the boundary strata correspond to having @xmath688 , and @xmath690 or , alternatively , @xmath691 and @xmath692 .",
    "it is rather clear that these terms correspond to @xmath693 we must therefore argue that @xmath687 is compact , and that the contributions of all other boundary strata vanish . using part ( 2 ) of proposition [ morse_floer_compactness ] , we see that @xmath627 holomorphic curves do not approach the boundary , so we can apply the usual compactness arguments to @xmath687 . as to the other boundary strata , we observe that they correspond to a broken curve consisting of two components , one exceptional and the other regular , occurring at some fixed time @xmath686 .",
    "note that if @xmath694 is a regular curve at time @xmath686 , and @xmath695 is an exceptional curve at time @xmath696 , we obtain exactly such a broken curve if we consider a family where @xmath686 converges to @xmath696 .",
    "however , the usual gluing procedure yields another a family of curves converging to this broken curve . taken together ,",
    "these contributions cancel , proving that @xmath655 is a chain map .",
    "the homotopy method was extended by fukaya , oh , ohta , and ono in their joint work @xcite to produce @xmath16-functors ; an account in the exact setting appears in @xcite*section 10e .",
    "the end result is that , using the analogue of proposition [ morse_floer_compactness ] in the presence of more than one lagrangian , we can conclude that the pre - categories @xmath697 are @xmath16 equivalent .",
    "continuing along the same train of thought , we consider the family of almost complex structures @xmath556 .",
    "part ( 3 ) of proposition [ morse_floer_compactness ] implies a compactness theorem for families of @xmath556-holomorphic curves which for any @xmath646 project to the complement of the @xmath648 neighbourhood of @xmath240 . the assumption that @xmath698 implies an equivalence between the chain - level multiplicative structures defined using ( i ) @xmath95-holomorphic curves , and ( ii ) those @xmath556 holomorphic cures whose projecting to @xmath209",
    "is contained in the complement of the @xmath648 neighbourhood of @xmath240 .",
    "further , by fukaya and oh s theorem , the moduli spaces of @xmath556 holomorphic discs correspond , for @xmath567 small enough , to gradient trajectories of @xmath634 . since @xmath699 , it is sufficient to count holomorphic curves which project to the complement of the @xmath648 neighbourhood of @xmath240 . running time backwards ( and applying the homotopy method one last time )",
    "we can relate the count of gradient trajectories for @xmath634 to the one for the original function @xmath146 .    to implement these ideas in the language of pre - categories",
    ", one has to introduce an intermediate pre - category whose objects are families of function @xmath700 satisfying the conditions of proposition [ morse_floer_compactness ] , and whose morphisms are the floer complexes at time @xmath701 . by forgetting the family , we obtain an @xmath16 quasi - equivalent to @xmath702 ,",
    "while the use of homotopy maps defines a @xmath1 functor to @xmath703 which one can easily see is an @xmath16 equivalence by an energy filtration argument . leaving the details to the reader , we conclude    the categories @xmath702 and @xmath704 are equivalent as @xmath16-pre - categories .",
    "we now return to the practice of dropping the subscripts from @xmath187 and all associated objects .",
    "in this section , we shall prove the equivalence of the category @xmath55 with a dg category whose objects are holomorphic line bundles on @xmath0 , and whose morphisms are ech complexes .",
    "we will use the following version of ech theory :    given a sheaf of vector spaces ( or free abelian groups ) @xmath705 , and an ordered cover @xmath706 of a ( nice ) space , such that @xmath705 is acyclic on all iterated intersections of the elements of our cover , we consider the ech complex @xmath707 with the differential on @xmath708 defined by @xmath709 further , we define a cup product @xmath710 which , on @xmath711 is defined by @xmath712 it is easy to check that the above cup product is associative .",
    "since our covers will be labeled by the cells of @xmath54 , we will assume that we have chosen an ordering of these cells .",
    "we inductively construct a cover of the moment polytope analogous to the one used in @xcite*section 5.2 .",
    "we will write @xmath713 for ( closed ) balls of radius @xmath714 about a subset @xmath715 .    consider a sequence of strictly positive real numbers @xmath716 , and inductively",
    "define @xmath717 to be the closure of @xmath718 for @xmath176 a cell of dimension @xmath361 . for intuition",
    ", the reader should consult figure [ neighbourhood_system ] .    if @xmath719 , then the cells @xmath717 define a cellular subdivision of @xmath54 which is dual to the barycentric subdivision .",
    "it is clear that the intersections of neighbourhoods of cells of the same dimension are localized near their common boundaries . in particular , picking @xmath720 guarantees that the cells @xmath717 do not have overlapping interior ( the construction only guarantees this if the cells of @xmath54 have different dimension ) .",
    "once this condition is satisfied , there is a bijective correspondence between the maximal dimensional cells of the cellular subdivision and the original cells of @xmath54 , so it suffices to understand when two of these cells intersect . in particular",
    ", we must prove that the @xmath721-dimensional cells of the cellular decomposition we constructed are in bijective correspondence with iterated inclusions of cells @xmath722 .",
    "we illustrate the case @xmath723 ; no new ideas are need for the higher dimensional cases .",
    "assume that @xmath179 and @xmath176 are respectively of dimension @xmath132 and @xmath537 .",
    "note that if @xmath179 and @xmath176 do not have a common boundary cell , the distance between them is so large that any reasonable choice of @xmath646 guarantees that no intersection occurs .",
    "if they do share a boundary cell @xmath724 of dimension @xmath361 , then the intersection of @xmath725 and @xmath726 neighbourhoods of @xmath179 and @xmath176 occur in a neighbourhood of @xmath724 .",
    "choosing @xmath725 and @xmath726 much smaller than @xmath727 therefore guarantees that the boundaries of the cells @xmath728 and @xmath717 do not intersect unless , possibly , if @xmath729 .",
    "we must now prove that all such intersections do , in fact , occur .",
    "this is clear if @xmath179 has codimension @xmath27 in @xmath176 . by taking a normal slice , we reduce the problem to the case where @xmath179 is a vertex and @xmath730 .",
    "so we must show that @xmath731 is a non - empty cell , where @xmath732 is the sphere of radius @xmath646 in @xmath54 .",
    "again , this can be clearly achieved by picking constants @xmath733 .",
    "indeed , for such a choice of constants , the @xmath734-dimensional volume of the @xmath732 is much larger than the volume of its intersection with the cells @xmath735 .",
    "the specific choice of coefficients depends on geometry of the polytope @xmath54 .",
    "even if we restrict to polytopes corresponding to smooth toric varieties , the  angles \" at vertices can still be arbitrarily acute .",
    "this , of course , is a result of the fact that , by using a metric , we are restricting the symmetries to @xmath736 , whereas constructions in tropical geometry are usually invariant under the larger group @xmath737 .    [ cellular - cover ] if , for each cell @xmath738 , @xmath739 is a sufficiently small open neighbourhood of @xmath717 , then non - empty intersections @xmath740 correspond to nested inclusions @xmath741 .",
    "we observe that if we pick @xmath56 arbitrarily close to @xmath54 , we can ensure that the above cover yields a cover of @xmath56 .",
    "further , the construction of @xmath56 and of tropical lagrangian sections relied on a choice of a cover @xmath178 of @xmath56 .    if the parameters which appear in the construction of tropical lagrangian sections are be chosen to be sufficiently small , then @xmath742    in particular , the cells @xmath743 define a cellular subdivision of @xmath56 , which we denote @xmath744 .",
    "abusing notation , we will still refer to its maximal cells as @xmath717 .      in order to use the theory developed in earlier sections to relate ( relative ) simplicial cochains to morse cochains",
    ", we must know that the gradient flow of functions defining tropical lagrangian sections is well - behaved at the boundary .",
    "the technical result that we need is :    [ barycentric_subdiv_good ] if @xmath146 is a smooth function on @xmath56 defining the lift of a tropical lagrangian section whose gradient vector field is transverse to the cells of @xmath744 , then , for each cell @xmath176 , either @xmath745 is empty , or its inclusion in @xmath717 is a deformation retract .",
    "it suffices to prove that @xmath746 is contractible when it is not empty .",
    "our transversality assumption implies that we may restrict our attention to maximal cells @xmath717 .",
    "we first prove that @xmath747 is contractible for each cell @xmath176 . on this intersection ,",
    "@xmath604 splits as a product with one factor @xmath176 and , in @xmath236 , the gradient flow of @xmath146 is only allowed to vary in the direction of @xmath176 . by taking a normal slice ,",
    "the problem is reduced to the case where @xmath176 is a vertex , and the gradient flow of @xmath146 is constant .",
    "let us write @xmath229 for the corresponding vector in @xmath216 , and @xmath748 for the ( closure ) of the set of maximal faces of @xmath54 on which the vector @xmath229 points outwards .    by construction , @xmath604 is a smoothing of the convex polytope @xmath54 , and is itself convex .",
    "observe that @xmath749 is a convex subset of @xmath604 ( it was constructed using cutoff functions with radial support ) .",
    "assume ( for simplicity ) that @xmath604 is strictly convex .",
    "in this case , since the gauss map to @xmath750 has no critical points and @xmath751 is the inverse image of a hemisphere , the subset @xmath749 is contractible . in our situation ,",
    "the gauss map is not a diffeomorphism , but can be easily seen to preserve contractibility .    to prove that",
    "@xmath752 is contractible , we note that for each @xmath179 with @xmath753 , we have a non - empty intersection @xmath754 .",
    "we can apply the same analysis to these various intersections to conclude that @xmath755 is again contractible .",
    "therefore @xmath752 is covered by contractible sets , so it suffices to prove that the geometric realization of this cover is contractible .",
    "however , @xmath756 is @xmath211 close to @xmath757 so the combinatorics of this cover of @xmath745 are equivalent to those of the cover of @xmath758 by the intersections @xmath757 .",
    "since @xmath758 is easily seen to be contractible , the result follows .",
    "we define @xmath759 to be the union of the cells of @xmath760 which intersect @xmath761 ( this is not a subcomplex , but rather the complement of one ) .",
    "we write @xmath762 for the dual subcomplex of @xmath58 , and @xmath763 for the cells of @xmath54 corresponding to vertices of @xmath762 . as a direct consequence of the above analysis , we have    [ outwards - tropical ] if @xmath176 is a maximal cell of @xmath54 , then @xmath764 if and only if there is a vertex @xmath179 of @xmath177 such that @xmath765 is outwards pointing on @xmath176 .",
    "further , @xmath763 is the closure of its maximal cells .",
    "let @xmath766 be a function which is constant on each maximal cell , ( the function is likely to be discontinuous on the @xmath767 skeleton ) .",
    "one natural way to obtain such a function @xmath479 is to consider a lattice vector @xmath768 . indeed , since @xmath54 is an integral polytope , we have ( integral ) normal vectors @xmath769 which allows us to define a function @xmath770    as in appendix [ singular - cochains - manifolds ] , we set @xmath771 to be the closure of the maximal cells where @xmath479 is positive . for each such function",
    ", we can define a sheaf @xmath772 on @xmath54 by @xmath773 using the ordering of the cells of @xmath54 , we write @xmath774 , we observe that @xmath775 the fact that @xmath776 implies that there is a map of sheaves @xmath777    we consider the dg pre - category @xmath778 whose objects are such integral valued function on @xmath69 and where morphisms between @xmath779 and @xmath780 are given by @xmath781 and multiplication is given by the composition of the cup product with the map on ech complex induced by equation .",
    "@xmath782 and @xmath783 are equivalent as @xmath16 pre - categories .",
    "we pick a normal vector field @xmath784 on @xmath604 which agrees with the integral normal vector @xmath769 on every maximal cell @xmath176 on @xmath749 . starting with a function @xmath146 defining a tropical lagrangian section , we consider two functions @xmath785 the first function",
    "is defined as in appendix [ singular - cochains - manifolds ] to take value @xmath786 at a point @xmath89 .",
    "the second function , on every maximal cell @xmath176 , is given by @xmath787 for any @xmath788 with @xmath789 .",
    "the function @xmath790 is well defined since the restriction of the gradient vector field of @xmath146 to @xmath791 varies only in directions tangent to @xmath179 , hence the inner product with the normal vector of @xmath176 does not depend on @xmath89 or @xmath179 . by taking @xmath179 to be a vertex",
    ", we see that @xmath790 is , indeed , integral valued .    to define the functor",
    ", we consider an intermediate category @xmath792 whose objects are the functions @xmath477 , for @xmath146 an object of @xmath793 , and where morphisms between @xmath779 and @xmath780 are given by relative simplicial cochains @xmath794    @xmath795 and @xmath792 are equivalent @xmath2 categories .",
    "the functor take @xmath477 to @xmath790 .",
    "we claim that there is a natural isomorphism between the chain complexes on either side .",
    "indeed , in our construction of @xmath717 and @xmath739 , we already observed that there is a bijective correspondence between @xmath361-cells of the barycentric subdivision and intersections of @xmath363 open elements of the cover @xmath796 .",
    "it is easy to check that taking cochains relative cells in @xmath797 exactly corresponds to taking coefficients in the sheaf @xmath798 , since this sheaf is trivial on open sets which intersect @xmath799 .",
    "both have the effect of excluding generators corresponding to iterated inclusions of cells where all of the cells lie in @xmath799 .",
    "that the differential and the composition agree can be seen by the explicit formulae ( e.g , equation is just rewriting equation in the dual basis ) .",
    "having proved the claim , it now suffices to prove that @xmath792 and @xmath783 are equivalent .",
    "this is done by interpreting @xmath800 as the triangulation dual to @xmath760 .",
    "we are then in the context where we can apply corollary [ cell - morse ] .",
    "there are two issues to consider    1 .",
    "we re working with functions that have specific behaviour at the boundary ( i.e. the tropical condition and the integrality condition on the functions @xmath479 away from the @xmath767 skeleton ) .",
    "these two conditions simply restrict the set of objects we re considering , without affecting the morphisms . in other words",
    "we consider subcategories of @xmath801 and @xmath802 .",
    "an equivalence of categories as in corollary [ cell - morse ] restricts to an equivalence of categories between every subcategory and its image .",
    "the morphisms in the categories @xmath792 and @xmath783 are @xmath191 graded .",
    "however , by construction , the differential and the composition respect this grading .      in this section",
    ", we complete the proof of the main theorem by constructing an equivalence from @xmath782 to the ech category of line bundles .",
    "we re taking the dual point of view to that of @xcite*chapter 3 .",
    "let @xmath0 be a projective toric variety , and , as before , let @xmath54 denote its moment polytope .",
    "the @xmath132-cells of @xmath54 correspond to invariant , irreducible , @xmath132 dimensional toric subvarieties of @xmath0 .",
    "in order to have a chain - level model for these cohomology groups , we will use the ech complexes associated to the canonical cover by @xmath0 by affine toric varieties .",
    "equivalently , the polyhedron @xmath54 has a natural cell division to which we can associate a cover by open stars of cells .",
    "define @xmath803 this gives a open cover of @xmath54 , but , considering the inverse image of cells under the moment map , we also obtain a cover of @xmath0 .",
    "basic techniques in toric geometry , see @xcite*chapter 3 , imply that this is an affine cover ( the affine toric variety corresponding to a cell @xmath804 is defined by the normal cone of @xmath804 ) .",
    "let @xmath22 be a line bundle on @xmath0 , and let us choose an ( algebraic ) trivialization over the open dense torus contained in @xmath0 .",
    "since algebraic functions on @xmath25 correspond to laurent polynomials , we can identify the lattice @xmath191 with a basis of sections of @xmath805 .",
    "such sections extend to meromorphic sections of @xmath22 over @xmath0 .",
    "in particular , for each laurent polynomial @xmath99 , we can record the order of the pole or zero of the extension to every toric divisor .",
    "we take the negative of the order , and obtain a @xmath77 valued function on the facets of @xmath54 , which we extend to a ( not necessarily continuous ) function @xmath806 let us write @xmath807 for the closure of the set where @xmath808 is positive .",
    "this is the set of poles of the extension of @xmath99 to the toric variety @xmath0 .",
    "the ech complex @xmath809 splits as a direct sum labeled by lattice vectors @xmath768 with @xmath99-factor @xmath810 where @xmath811 consists of all constant maps from @xmath812 to @xmath3 . since in fact",
    "all these intersections are connected , we simply obtain a copy of @xmath3 for each such intersection .    to obtain a category , we set @xmath813 and define the cup product as follows : if @xmath814 , and @xmath815 , set @xmath816 the above formula can be interpreted as a cup product @xmath817    the dg category @xmath818 has objects line bundles on @xmath0 , morphisms the ech complexes with respect to the affine toric cover of @xmath0 defined by equation , and composition given by the product on ech complexes defined by equation .",
    "there is an equivalence of categories @xmath819    at the level of objects , the functor takes a line bundle @xmath22 to the function @xmath808 .",
    "scrutinizing the morphisms , we observe that equation is simply a low - tech method of recording the ech complex of @xmath820 with respect to the cover @xmath821 .",
    "since both covers are acyclic , the inclusion @xmath822 induces an equivalence of categories .",
    "in this appendix , we will modify the construction of semi - tropical degenerations and admissible lagrangians in order to prove proposition [ morse_floer_compactness ] .",
    "first , we will prove a sharper convergence result than the one used in @xcite , then we will discuss the three parts of proposition [ morse_floer_compactness ]      fix the partition @xmath178 of @xmath216 , and a time @xmath435 for which we can carry through the construction of @xmath824 .",
    "we will write @xmath825 for @xmath213 .",
    "the following subsets of @xmath54 will be useful in what follows : @xmath826 we will also write @xmath827 for the inverse image of @xmath825 under the logarithmic moment map , and by extension the meaning of @xmath828 should be clear .    while the distance between @xmath829 and @xmath54 grows logarithmically , we can in fact choose the semi - tropical amoeba degeneration such that , for any @xmath37 , the distance between @xmath830 and @xmath829 decreases with @xmath38 .",
    "[ c - k - close ] for any integer @xmath361 , and each @xmath567 sufficiently small , there is an appropriate choice of parameters such that for sufficiently large @xmath38 , the @xmath823 distance between @xmath831 and @xmath832 is proportional to @xmath833 .    here",
    ", the @xmath823 norm is taken with the respect to the metric on @xmath25 induced by the flat metric on @xmath14 .",
    "the proof of the above proposition follows from elementary estimates of the type performed in @xcite*section 3 .",
    "we explain the main ideas :    first , recall that tropical geometry produces a polyhedra complex @xmath834 ( tropical amoeba ) from a laurent polynomial @xmath19 and a map @xmath835 , where @xmath836 is the subset of monomials which have non - zero coefficients . for simplicity ,",
    "we assume that the origin lies in @xmath28 with coefficient @xmath664 , that @xmath333 vanishes at the origin , and that all other coefficients are equal to @xmath27 .",
    "in particular , we shall write @xmath837 we assume that @xmath333 induces a maximal subdivision , in particular the components of the complement of @xmath838 are labeled by the elements of @xmath28 , and each monomial is represented . concretely , consider the function @xmath839 on @xmath216 .",
    "the component @xmath840 is the one where the function corresponding to @xmath841 dominates all others .",
    "the most elementary result relating tropical and complex geometry is :    if @xmath184 is the amoeba of @xmath842 , then , as @xmath264 , the rescaled amoeba @xmath843 converges in the hausdorff topology to @xmath838 .    the idea of the proof ( and the proof itself ) is extremely simple .",
    "consider a point which is @xmath844 away from @xmath845 .",
    "it must lie in one of the components @xmath846 .",
    "using the fact that in the coordinates coming from the identification of @xmath25 with @xmath847 , we have @xmath848 , we easily compute that the monomial of @xmath849 labeled by @xmath841 dominates all others by a factor of @xmath850 .",
    "if @xmath38 is large enough , the remaining terms are too small for the sum to vanish .",
    "in particular , no element of @xmath851 can project to a point whose distance to @xmath845 is larger than @xmath844 .    to see to what extent",
    "this estimate is optimal , we consider the example where @xmath852 the tropical amoeba has a vertex at @xmath853 at which horizontal , vertical , and diagonal infinite edges meet . in particular , @xmath854 is the vertex of the rescaling .",
    "note that the point @xmath855 lies on the amoeba @xmath184 .",
    "the distance between this point and @xmath845 is independent of @xmath38 and equal to @xmath856 ; in particular , the amoeba @xmath184 does not converge to @xmath838 .",
    "however , if @xmath857 is the complex tropical hypersurface lying over @xmath858 then it is easy to prove a general result :    [ c - k - close - flat - case ] if @xmath859 contains the @xmath860 neighbourhood of the @xmath767 skeleton of @xmath838 , then the distance in the complement of @xmath861 between the amoeba @xmath862 and @xmath863 is bounded in norm by a constant multiple of @xmath833 .",
    "moreover , the distance in the @xmath864 topology between corresponding submanifolds of @xmath865 is also proportional to @xmath833 .",
    "again , the proof is completely elementary . to simplify the explanation",
    ", we will assume that we are working near @xmath866 , the region where the constant term dominates .",
    "this is the only situation we care about in the desired application .",
    "we illustrate @xmath211 convergence .",
    "let us restrict our attention to an @xmath734 cell of @xmath845 where the function defined by some monomials @xmath841 has norm @xmath27 .",
    "consider a point outside the @xmath569-neighbourhood of this cell , say in the direction of @xmath841 .",
    "we know that , at such a point , the monomial corresponding to @xmath841 has norm larger than @xmath867 . in particular , the difference @xmath868 has norm larger than @xmath569 .",
    "now , the norm of the remaining monomials is essentially bounded by @xmath833 away from the @xmath844 neighbourhood of the @xmath767-skeleton .",
    "this means that if we pick @xmath569 to be @xmath869 for some fixed constant @xmath49 , these remaining monomials are not large enough for the sum to vanish . in particular , every point of @xmath862 which is more than @xmath844 away from the @xmath767-skeleton of @xmath845 lies within @xmath870 of the @xmath734-skeleton . in order to prove @xmath871-closeness in @xmath25",
    ", it suffices to take into account the norm of both the real and imaginary parts of @xmath872 .",
    "the same analysis yields @xmath823 bounds .",
    "indeed , we re using a flat metric with respect to the @xmath873 variables , so if we write @xmath874 , we compute that the action of @xmath875 on tangent vectors is given by @xmath876 in particular , the norm of @xmath877 is equal to @xmath878 , so the bounds on @xmath211 norms of each monomial imply the bounds on @xmath428 norms . we conclude that away from the @xmath879 neighbourhood of the @xmath767 skeleton , the leading order term of @xmath880 has norm which is on the order of @xmath881 larger than the norm of any other term .",
    "this proves @xmath428-closeness , and the reader may easily check that the same estimate holds for higher derivatives .    to extend the analysis beyond the maximal cells , we consider a cell @xmath882 of arbitrary dimension , and the polynomial @xmath883 consisting of the monomials in @xmath849 corresponding to the maximal cells which ",
    "meet at @xmath179 .",
    "\" we write @xmath884 for the zero level set of this function . assuming that @xmath178 contains an @xmath567 neighbourhood of @xmath176 , for every cell @xmath176 , the same proof technique yields the following result :    [ lem : c^k - distance_to_model ] in the @xmath864 norm , the distance between @xmath885 and @xmath886 is proportional to @xmath833 on @xmath887 ( the subset of @xmath25 which projects ( under the logarithmic moment map ) to @xmath888 ) .",
    "the proof of proposition [ c - k - close ] should now be clear , since the function @xmath186 is essentially patching the various polynomials @xmath883 over the skeleton of @xmath838 . as a consequence of the fact that the @xmath864-norm of @xmath883 is bounded by the @xmath211-norm of its monomial terms , we conclude    the @xmath864-norms of @xmath181 and @xmath186",
    "are uniformly bounded in @xmath866 ( the neighbourhood where the constant term dominates ) .",
    "the next step of the construction of the category of tropical lagrangian sections involved the choice of a symplectomorphism @xmath889 of @xmath25 mapping @xmath185 to @xmath187 .",
    "we assume @xmath567 has been fixed as in proposition [ c - k - close ] .    [ c - k - convergence ] for any integer @xmath361 , and",
    "@xmath569 sufficiently small , there is an appropriate choice of parameters such that for sufficiently large @xmath38 , the symplectomorphism @xmath890 is supported in a neighbourhood of @xmath185 of size @xmath569 and has @xmath823 norm controlled by @xmath891 .",
    "moreover , we can assume that @xmath889 preserves the positive real locus in @xmath25 .    to produce the desired symplectomorphism",
    ", we appeal to weinstein s theorem for symplectic submanifolds  with bounds . \"",
    "first , we prove a bound on the size of the weinstein neighbourhoods of @xmath185 :    [ lem : weinstein_neighbourhood_fixed_size ] there exists a constant @xmath892 such that , for sufficiently large @xmath38 , the @xmath892 neighbourhood of @xmath885 is embedded and is contained in a weinstein neighbourhood of @xmath185 .",
    "moreover , for @xmath38 sufficiently large , the curvature of @xmath885 is uniformly bounded .    by the previous section , the hypersurfaces @xmath893 and @xmath884 are uniformly @xmath864-close in @xmath887 so it suffices to prove the result for each @xmath884 .",
    "note that this is the product of a flat hyperplane with the zero level set of a general hyperplane in a complex torus of dimension @xmath894 .",
    "we can always write this family as the zero level set of @xmath895 where the vectors @xmath896 are linearly independent and form a basis for the integral subspace of @xmath222 that they span .",
    "let @xmath897 denote the matrix whose rows are @xmath896 , and @xmath898 the column vector whose entries are @xmath899 .",
    "it is easy to check that translation ( in the base @xmath216 ) by any vector @xmath900 which is solution to @xmath901 intertwines the hypersurfaces @xmath886 and @xmath902 , and hence their weinstein neighbourhoods .",
    "the desired result follows .",
    "the proof of proposition [ c - k - convergence ] will now follow from general considerations .",
    "let @xmath903 be a symplectic manifold equipped with a riemannian metric , and @xmath4 a symplectic submanifold . by weinstein",
    "s results , there exists a neighbourhood of @xmath4 which is symplectomorphic to a neighbourhood of the zero section in the total space @xmath502 of the normal bundle of @xmath4 .",
    "choose @xmath904 such that the @xmath569-neighbourhood of @xmath4 is contained in such a weinstein neighbourhood .",
    "if @xmath905 is a family of symplectic submanifolds for @xmath660 $ ] with @xmath906 whose distance from @xmath4 in the @xmath823 topology ( for @xmath907 ) is bounded by @xmath567 , and @xmath908 then there exists a symplectomorphism @xmath909 satisfying the following properties    1 .",
    "the @xmath823 norm of @xmath910 is bounded by @xmath911 with proportionality constant depending only on the curvatures of @xmath903 , @xmath4 , and @xmath71 .",
    "2 .   the support of @xmath910 is contained in a @xmath569 neighbourhood of @xmath912 .",
    "the assumptions of @xmath823-closeness imply that @xmath913 lies in the @xmath569 neighbourhood of @xmath4 , and is moreover a graph of a @xmath823-small section of the normal bundle under the identification from weinstein s theorem .",
    "choosing our constant @xmath254 sufficiently large , we can perform all estimates in the normal bundle .",
    "note that the restriction of the symplectic form to each @xmath913 is @xmath864-close to the pullback of the symplectic form from @xmath4 .",
    "further , the two forms are clearly cohomologous .",
    "in particular , applying the usual proof of moser s stability theorem for symplectic forms , we find , along each @xmath913 , a vector field @xmath914 with values in @xmath915 whose @xmath864 norm is controlled by a universal constant times @xmath567 , and such that the flow of @xmath914 defines a symplectomorphism from @xmath4 to @xmath916 .    using the symplectic form , we turn @xmath914 into a @xmath27-form on @xmath913 valued in @xmath917 .",
    "we find a family @xmath918 of functions which generate a hamiltonian flow mapping @xmath4 to @xmath916 . near @xmath4 , the @xmath919 norm of @xmath918 ( and hence the @xmath864-norm of the flow ) is still controlled by @xmath567 . however , we require that each @xmath918 vanish outside the @xmath569-neighbourhood of @xmath4 in order to be able to extend the flow to @xmath903 .",
    "choosing an appropriate cutoff function we can still ensure that the @xmath864 norm is controlled by @xmath920 up to a fixed multiplicative constant .",
    "note that we have much flexibility in the previous construction .",
    "in particular , if @xmath22 is a lagrangian submanifold of @xmath903 such that the intersections @xmath921 are lagrangian submanifolds whose @xmath864 distance is bounded by @xmath567 , then we may choose vector fields @xmath914 , hence a symplectomorphism @xmath922 , which preserve @xmath22 and still satisfy the desired bounds .",
    "we now prove the first part of proposition [ morse_floer_compactness ] .",
    "we first introduce yet another partition of the moment polytope @xmath54 whose elements we will denote by @xmath923 , and whose @xmath212 rescaling we will denote by @xmath924 .",
    "we will require the following properties :    1 .",
    "for each cell @xmath176 , we have inclusions @xmath925 2 .",
    "and , if @xmath926 is the union of all @xmath923 labeled by cells @xmath176 of dimension less than or equal to @xmath361 , then @xmath927 is convex .",
    "the easiest way to produce such a cover is to use supporting hyperplanes for each cell @xmath176 , i.e. hyperplanes which intersect @xmath54 precisely at @xmath176 .",
    "for example , at a vertex @xmath229 , we can set @xmath928 to be the intersection of @xmath54 with the half - space defined by a hyperplane parallel to a supporting hyperplane at @xmath229 . note that @xmath929 can be assumed to be arbitrarily small , so it is easy to achieve the condition @xmath930 next",
    ", one would define @xmath923 for an edge @xmath176 by taking the intersection of @xmath54 with a half - space whose boundary is parallel to a supporting hyperplane at @xmath176 ( we can define such a hyperplane to be the product of @xmath176 with a supporting hyperplane of the projection of @xmath54 to the orthogonal complement ) .",
    "details for the remainder of the ( inductive ) construction are left to the reader .",
    "as before , we will write @xmath931 for the union of all the sets @xmath924 for @xmath932 , and @xmath933 for its complement in @xmath54 .    next , consider any function @xmath146 whose restriction to @xmath934 is of the form @xmath935 where @xmath936 depends only the directions tangent to @xmath179 , @xmath174 is a fixed integral vector , and for which there exists a constant @xmath254 such that the differential of @xmath724 satisfies @xmath937 whenever the vector @xmath229 is perpendicular to @xmath179 and points towards the interior of @xmath54 . in other words ,",
    "the differential of @xmath724 is positive on the inward pointing cone at @xmath179 , and the positivity is controlled by the distance to the boundary .",
    "[ lem : gradient_trajectories_stay_inside_general ] if the constant @xmath254 in equation is sufficiently small , then every gradient trajectory of @xmath146 with endpoints in @xmath938 lies entirely within @xmath938 .",
    "we will prove that no such gradient trajectory can intersect @xmath939 by considering the component of the flow in the plane perpendicular to @xmath179 . by induction",
    ", we assume that if @xmath940 there is no gradient trajectories which moves from the complement of @xmath941 into @xmath941 and then exits into @xmath938 .    by @xmath254 sufficiently small , we mean that @xmath942 .",
    "if @xmath174 is tangent to @xmath179 , then equation implies that the gradient flow points away from the boundary so that no gradient trajectory can enter @xmath939 from @xmath924 where @xmath176 has higher dimension .",
    "assuming the vector @xmath174 is not tangent to @xmath179 , the gradient flow of @xmath146 on @xmath943 is @xmath944 close to the gradient flow of @xmath945 , so that the component of @xmath258 in the plane perpendicular to @xmath179 is @xmath428 close to a linear flow .",
    "in particular , the convexity of @xmath927 implies that a gradient flow line which enters @xmath939 either escapes to the boundary , or moves into @xmath924 for @xmath753 , at which point we use the inductive assumption to conclude that the gradient flow line can not return to @xmath938 .    if @xmath146 defines a tropical lagrangian section , then its restriction to @xmath946 can be written as @xmath947 where @xmath724 vanishes , together with its differential , at the boundary .",
    "more precisely , sufficiently close to the boundary , @xmath948 is @xmath609-close to a constant multiple of the square of the distance to the boundary .",
    "if this constant is positive , then @xmath948 satisfies condition .",
    "in particular , we can deform any function @xmath949 defining a tropical lagrangian section so that the term @xmath950 satisfies conditions on @xmath951 for any sufficiently small constant @xmath254 , in which case the restriction of @xmath952 to @xmath953 has no critical points for any integral covector @xmath229 .",
    "more generally , we have :    if @xmath949 defines a tropical lagrangian section over @xmath954 , and its restriction to @xmath951 satisfies conditions and , then there exists a family of functions @xmath700 defining tropical lagrangian sections over @xmath209 and which satisfy the following additional properties    1 .",
    "the restriction of @xmath700 to @xmath938 is given by @xmath955 2 .",
    "the restriction of @xmath700 to @xmath939 can be decomposed as @xmath956 with @xmath957 bounded independently of @xmath38 , and satisfying the bound .",
    "the expression defines a function on @xmath958 .",
    "a look at the construction of @xmath209 reveals that this rescaled copy of @xmath954 is contained in @xmath209 . in each element @xmath959 of our cover",
    ", there is a unique way to extend @xmath960 to the complement of @xmath961 preserving the property that the function is independent of the directions perpendicular to @xmath179 .    to complete the construction , it suffices to explain how to choose @xmath962 .",
    "again , the construction is inductive , so we start with a neighbourhood of a vertex",
    ". start by extending @xmath963 to @xmath964 by setting it to vanish outside the intersection with @xmath958 ; this function is once differentiable .",
    "next , we pick any function @xmath965 which agrees with the square of the distance to the boundary near @xmath966 , and satisfies equation for some positive number @xmath254 .",
    "rescaling @xmath965 so that it is sufficiently small , we may interpolate between @xmath965 and @xmath963 using cutoff functions so that equation still holds .",
    "a @xmath428-small perturbation gives a smooth function with the desired property .",
    "if @xmath229 is a vertex of an edge @xmath176 , then the restriction of @xmath967 to the intersection of @xmath964 with @xmath968 satisfies the condition for the positive cone of @xmath176 .",
    "convexity of this property allows us to extend it to a function @xmath969 on the open set @xmath924 , and the rest of the construction proceeds by induction .",
    "note that our construction of the functions @xmath970 does not guarantee a uniform lower bound in equation as we may have to rescale the intermediate function @xmath965 to ensure that the cutoff still satisfied .",
    "however , we may ensure that the norm of @xmath957 is uniformly bounded in @xmath38 .",
    "applying lemma [ lem : gradient_trajectories_stay_inside_general ] , we conclude the the first part of proposition [ morse_floer_compactness ] if we choose @xmath643 such that the @xmath643 neighbourhood of @xmath240 is contained in @xmath931 . in the next sections",
    ", we will perturb @xmath634 by @xmath428-small amounts near @xmath240 to ensure that the remaining parts of proposition [ morse_floer_compactness ] also hold ; we are free to do this as long as the bound holds for some sufficiently small constant @xmath254",
    ".      we will now modify the family @xmath636 in order to satisfy the second property listed in proposition [ morse_floer_compactness ] .",
    "the idea is to ensure that there is a constant @xmath971 such the images of the lagrangians @xmath636 agree with a line segment near the circle of radius @xmath971 in @xmath3 .",
    "we will then prove a compactness theorem analogous to the one proved in @xcite*lemma 2.8 , without requiring that the segment extend all the way to the origin .",
    "we start by considering the laurent polynomials @xmath883 .",
    "as in the proof of lemma [ lem : weinstein_neighbourhood_fixed_size ] , the fact that translation in @xmath14 intertwines the set of solutions of @xmath883 for different values of @xmath38 implies that for any constant @xmath972 , there is a uniform constant @xmath973 independent of @xmath179 and @xmath38 such that the parallel transport of the positive real locus in @xmath884 along the straight - line segment in @xmath3 from the origin to @xmath974 is a graph over the zero - section , and its defining function satisfies equation for @xmath975 .",
    "this latter property holds because we know that the function defining this graph is @xmath609-close to a positive multiple of the square of the distance to the boundary , which manifestly satisfies the desired condition in a sufficiently small neighbourhood .",
    "applying proposition [ c - k - convergence ] and lemma [ lem : c^k - distance_to_model ] , which together imply that , as @xmath38 grows , @xmath187 becomes @xmath864-close at every point to some hypersurface @xmath884 we conclude :    [ lem : straight_near_circle ] for any fixed constants @xmath976 , there exists a constant @xmath567 so that the following properties hold for all @xmath38 sufficiently large :    1 .",
    "the support of @xmath977 lies entirely within the inverse image of the ball of radius @xmath567 under @xmath186 , and 2 .",
    "the parallel transport of @xmath978 along a segment from the origin to @xmath979 defines a section over a neighbourhood of @xmath240 , and 3 .",
    "the lagrangian @xmath650 can be chosen to agree with the above parallel transport near the circle of radius @xmath567 .",
    "further , the image of @xmath650 under @xmath186 lies in the left half plane , with all interior intersection points with the zero section mapping to the complement of the disc of radius @xmath567 .    since the first two parts follow immediately from the fact that as @xmath38 goes to infinity , the @xmath864-norm of @xmath889 as well as its support may be assumed to shrink , we only discuss the last part .",
    "the proof that the image of @xmath650 may be assumed to lie in the left half plane can be done in two steps .",
    "first , we consider the standard hypersurface @xmath980 the complement of the amoeba of this standard polynomial has a uniquely determined component whose inverse image in @xmath25 is contained in the locus where the norm of all variables @xmath981 is bounded by @xmath27 .",
    "the boundary of this subset of @xmath25 consists of complex numbers @xmath981 whose norms lie on the component of the boundary of the standard amoeba corresponding to the positive real locus ; this implies that the image of the boundary under the polynomial lies in the left half plane ( in fact , it intersects the @xmath982-axis only at the origin ) . since",
    "interior points are obtained by rescaling an appropriate boundary point by a positive real number bounded in norm by @xmath27 , and all coefficients in are positive , this entire component maps to the left half plane .",
    "note that by acting by @xmath983 and by translations , we conclude that the analogous component of the complement of the amoeba of @xmath884 has inverse image which also maps , under @xmath984 , to the left half - plane .",
    "this implies the desired result for @xmath186 by using @xmath823-closeness to polynomials @xmath984 in the domains @xmath959 ( note that in @xmath985 , @xmath186 is @xmath864-close to @xmath664 ) .",
    "we now prove that choosing @xmath986 to agree with the parallel transport of its boundary near a circle of radius @xmath567 implies a compactness theorem for @xmath627 holomorphic discs .",
    "[ lem : straight_near_circle_compact ] if @xmath650 is chosen as in lemma [ lem : straight_near_circle ] , then every @xmath627 holomorphic disc with marked points mapping to interior intersection points of @xmath636 with the zero section projects under @xmath186 to the complement of the disc of radius @xmath567 .",
    "assume by contradiction that there exists such a holomorphic disc @xmath99 which intersects the disc of radius @xmath567 .",
    "note that @xmath627 agrees with @xmath95 near the inverse image of this circle , so that @xmath186 is @xmath627 holomorphic near the circle of radius @xmath567 for every @xmath660 $ ] .",
    "since all intersection points map outside the circle of radius @xmath567 , the image of @xmath99 must intersect the circle of radius @xmath567 ; let @xmath987 be such an intersection point whose inverse image under @xmath99 contains an interior point of the disc . note that the degree of @xmath99 at @xmath987 ( number of inverse images counted with signs and multiplicity ) is necessarily positive by holomorphicity .",
    "consider the path @xmath21 shown in figure [ fig : lagrangian_straight_circle ] . by applying the maximum principle to the composition of @xmath186 with the projection to the @xmath82-axis , we find that the image of any holomorphic curve under @xmath186 can not intersect the complement of the disc of radius @xmath567 in the right half plane .",
    "in particular , the inverse image of @xmath988 under the composition @xmath989 is empty .",
    "however , the difference between the degree of @xmath99 and @xmath987 and @xmath988 is given by the intersection number between @xmath21 and the image of the boundary of the disc under @xmath99 .",
    "the boundary of the disc consists of a pair of intervals connecting the two intersections points along the zero section and @xmath636 . since the images of the intersection points lie in the left half plane and away from the disc of radius @xmath567 , we obtain two paths in the plane , with end points away from the disc of radius @xmath567 about the origin , and which agree respectively with the negative @xmath82-axis , and the straight line of slope @xmath990 near the circle of radius @xmath567 . in particular , the intersection number between @xmath21 and the boundary vanishes , which yields the desired contradiction since the degree of @xmath99 at @xmath987 can not vanish .    to prove part ( 2 ) of proposition [ morse_floer_compactness ] we choose @xmath991 so the inverse image under @xmath186 of the circle of radius @xmath567 in @xmath992 projects to the complement of the @xmath993 neighbourhood of @xmath240 under the logarithmic moment map .",
    "let us write @xmath994 for the complement of this neighbourhood in @xmath995 .",
    "the previous result implies that only the interior points of a @xmath627-holomorphic curve can map outside to the complement of @xmath996 , and that the support of @xmath977 is contained in this complement . in order to exclude this possibility , we recall that the boundary of @xmath240 is convex , so we may choose @xmath38 large enough and @xmath993 small enough , so that the boundary of @xmath996 is also convex .",
    "the image of any @xmath627-holomorphic curve under @xmath997 is a @xmath95-holomorphic curve , where @xmath95 is the standard complex structure .",
    "since @xmath977 preserves the boundary of @xmath996 , it suffices to prove that no @xmath95-holomorphic curve in @xmath25 can have a projection which escapes @xmath996 .",
    "the maximum principle for holomorphic curves in @xmath998 immediately implies this ( see lemma [ lem : maximum_principle ] ) .",
    "we finally complete the proof of proposition [ morse_floer_compactness ] by proving that @xmath556 holomorphic curves with boundary on @xmath636 can not escape towards the boundary of @xmath240 .",
    "our main technique will involve using the product decomposition near every cell @xmath176 of @xmath69 , then the maximum principle for holomorphic curves with boundary in the factor orthogonal to @xmath176 .",
    "let @xmath999 be a convex smooth hypersurface in @xmath14 , and write @xmath1000 for its inverse image in @xmath998 under the projection to the real coordinates @xmath1001 .",
    "[ lem : maximum_principle ] no holomorphic curve in @xmath998 with boundary on the zero - section can touch @xmath1000 from the interior .    if @xmath1002 is a function on @xmath998 depending only the real variables whose @xmath273-level set is @xmath1000 , then the kernel of the restriction of @xmath1003 to @xmath1000 agrees with the complex distribution .",
    "the convexity of @xmath999 implies that @xmath1004 is positive on this distribution , so @xmath1000 is @xmath95-convex , and we can apply the maximum principle at the interior , see @xcite . since , in addition , @xmath1003 vanishes on @xmath1005 ,",
    "we have von neumann boundary conditions , so we can also apply the maximum principle at the boundary .",
    "we now return to the problem at hand , and pick any @xmath1006 which is smaller than both @xmath1007 and @xmath1008 .",
    "the boundary of @xmath209 is convex , so it is easy to pick a convex hypersurface @xmath1009 satisfying the following properties :    1 .",
    "@xmath999 is contained in the @xmath1010 neighbourhood of @xmath1011 but in the complement of the @xmath1006 neighbourhood , and 2 .",
    "the intersection of @xmath999 with @xmath968 splits as an orthogonal product with a factor consisting of directions tangent to @xmath176 , and the other given by a convex hypersurface @xmath1012 .",
    "we pick a function @xmath1002 whose zero level set is @xmath999 and for which @xmath273 is a regular value , and write @xmath1013 after extending @xmath1002 to @xmath998 .    consider the lagrangian @xmath1014 , which , on each open set @xmath959 is given as the graph of the differential of the function @xmath1015 as in equation .",
    "[ lem : decomposition_vanishing ] the @xmath27-form @xmath1003 vanishes on @xmath1014 .    it suffices to prove this in each set @xmath728 where both @xmath999 and @xmath1014 split as riemannian products . since @xmath1014 is flat precisely in the directions where @xmath999 is curved the result easily follows .",
    "we will now pick @xmath962 carefully so that @xmath1003 still vanishes on @xmath636 near its intersection with @xmath999 .",
    "first , we observe the following    there is a choice of normal vector @xmath1016 for each face @xmath1017 satisfying the following conditions :    1 .",
    "@xmath1016 lies in the inward cone at @xmath179 , and 2 .   if @xmath789 , then @xmath769 agrees with the orthogonal projection of @xmath1016 along the tangent space of @xmath176 .",
    "let @xmath1018 be an arbitrary interior vertex of @xmath54 , and set @xmath1016 at a point @xmath1019 to be the projection of the vector from @xmath89 to @xmath1018 to the orthogonal complement of the tangent space of @xmath179 at @xmath89 .",
    "the first property follows from the convexity of @xmath54 , and the second from the compatibility of orthogonal projection with restriction to subspaces .",
    "we will now require @xmath724 to satisfy the following property in each set @xmath959 : @xmath1020    we are forcing @xmath1021 to only vary in direction tangent to @xmath179 near the intersection of @xmath959 with @xmath999 .",
    "one needs to check that there is indeed a function satisfying the above property ( e.g. the corresponding @xmath27-form needs to be closed ) .",
    "we can proceed by induction with respect to the dimension of the cell ; whenever @xmath179 is a vertex , we write @xmath1022 for a function whose gradient on @xmath1023 is fixed to agree with @xmath1016 . at the end of the construction , @xmath1022 shall be the restriction of @xmath962 to @xmath959 .",
    "if @xmath1024 and @xmath1025 are the boundary vertices of an edge @xmath176 , @xmath1026 defines a function on part of the boundary @xmath968 whose restriction to @xmath1027 has normal component which agrees with @xmath769 .",
    "consider any extension of @xmath1026 to a function on @xmath968 whose gradient has normal component @xmath769 .",
    "since the space of such functions is convex , an appropriate linear combination of the functions coming from the two end points of @xmath176 gives a function @xmath1028 which extends both @xmath1029 and @xmath1025 to a function on @xmath1030 satisfying the desired condition .",
    "the reader may easily complete the construction for higher dimensional cells , and check that the resulting function @xmath962 can be chosen so that condition holds .",
    "the same decomposition argument as in lemma [ lem : decomposition_vanishing ] implies :    if @xmath962 satisfies the condition described in equation , then the restriction of @xmath1031 to @xmath1032 vanishes near @xmath999 .",
    "in particular , no @xmath95-holomorphic curve with boundary on the zero - section and @xmath1032 may be tangent to @xmath999 .",
    "note that by picking @xmath962 small enough , we can ensure that the conclusions of the previous two sections still hold .",
    "we have therefore completed the proof of the last part of proposition [ morse_floer_compactness ] .",
    "in this appendix , we define a stratification into polyhedral cells of certain moduli spaces of trees introduced in definition [ defin - shrubs ] .",
    "we begin by noting that the moduli space @xmath296 admits a decomposition into subsets labeled by the topological type of a tree with @xmath297 leaves .",
    "let us write @xmath1033 $ ] for the homeomorphism type of a tree and @xmath1034)$ ] for the corresponding subset of @xmath296 .",
    "note that the lengths of edges defines a homeomorphism @xmath1035 ) \\to ( 0,+\\infty)^{r}\\ ] ] where @xmath259 is the number of non - trivial edges .",
    "the closure @xmath1036)$ ] of @xmath1034)$ ] in @xmath296 is homeomorphic to @xmath1037 , with the corner strata corresponding to topological types obtained by collapsing one or more edges of @xmath1033 $ ] .",
    "since every tree can be obtained by collapsing a trivalent tree , we conclude    the moduli space @xmath296 admits a decomposition into cells which are homeomorphic to @xmath1038 .",
    "note that the compactification of the moduli space @xmath296 corresponds to allowing edges to achieve infinite length .",
    "we shall denote the closure of each cell @xmath1034)$ ] in @xmath1039 by @xmath1040)$ ] . upon fixing an identification of @xmath1041 $ ] with",
    "@xmath168 $ ] ( say via the exponential of the negative ) , we conclude    the compactified moduli space @xmath1039 admits a canonical decomposition into subsets @xmath1040)$ ] which are homeomorphic to cubes .    note that this decomposition is compatible with the decomposition of the boundary of @xmath1039 as the product of lower dimensional moduli spaces . with this in mind",
    ", we can now describe the regularity condition on the moduli spaces of gradient trees @xmath1039 stated in definition [ defin : regularity_moduli_spaces_trees ] .",
    "first , we use the homeomorphisms to equip each cell @xmath1036)$ ] with a smooth structure as a manifold with corners .",
    "recall that @xmath1042 is the moduli spaces of gradient trees with inputs @xmath1043 and output @xmath101 .",
    "let us write @xmath1044)$ ] for those gradient trees whose topological type corresponds to a tree in @xmath1036 ) $ ] . in order to prove that this is a smooth manifold",
    ", we consider the space @xmath1045 ) = w^{s}(q ) \\times w^u(p_1 , \\ldots , p_d ) \\times \\tilde{{{{\\mathcal t}}}}_{d}([t ] ) , \\ ] ] where @xmath1046 is the product of the descending manifolds of the critical points @xmath1047 .",
    "let us fix a tree @xmath1048 , and a basepoint @xmath1049 .",
    "let @xmath1050 be the finite end of each incoming edge @xmath1051 .",
    "the geodesic @xmath28 between @xmath1052 and @xmath37 determines a map @xmath1053 which is the composition of the gradient flows along the functions labeling the edges of @xmath28 .",
    "the gradient flow is taken for time equal to the length of the corresponding edge .",
    "we can similarly define a map with source @xmath277 . given a choice of basepoints ( which is unique up to homotopy since the total space of the tautological bundle over @xmath1054 is contractible ) ,",
    "we obtain a smooth map @xmath1055 } \\co \\tilde{{{\\mathcal e}}}(q , { \\vec{p}^{\\ , \\ ! } } ; [ t ] ) \\to q^{d+1 } .\\ ] ] the space @xmath1044)$ ] is inverse image of the diagonal @xmath1056 under this map .",
    "sard s theorem implies that this inverse image is a smooth manifold whenever the map @xmath1057}$ ] is transverse to the diagonal .",
    "the diffeomorphism of @xmath1058 induced by gradient flow along the edges connecting different basepoints proves that this moduli space and its smooth structure are independent of the choice of basepoints .",
    "note that the moduli space @xmath1042 is the union of the spaces @xmath1059)$ ] over their common boundary strata .",
    "[ defin : regularity_moduli_trees ] we say that @xmath1042 is * regular * if all evaluation maps @xmath1057}$ ] are transverse to the diagonal .",
    "the proof of the next lemma , which is omitted , is an exercise in morse theory .",
    "the key point is that whenever @xmath1057}$ ] is transverse for a fixed metric tree @xmath289 , it is also transverse for nearby metric trees which can be obtained by resolving vertices of @xmath289 of valency greater than @xmath76 .    for generic choice of functions",
    "@xmath311 the moduli space @xmath1060 is regular , and admits a compactification @xmath324 into a compact manifold with boundary , admitting a decomposition into ( smooth ) compact manifolds with boundary .",
    "the moduli space of shrubs is topologised in exactly the same way as the stasheff moduli space . in particular",
    ", it also admits a decomposition into smooth manifolds .",
    "one way to see this is to observe    [ smooth_structure_interior ] there is surjective projection @xmath1061 obtained by replacing all incoming edges with edges of infinite length .",
    "the fiber @xmath1062)$ ] over each closed cell @xmath1036)$ ] admits a unique smooth structure which makes this projection a fibration with fibre an open interval , and with trivialization given by the length of an external edge .",
    "the only part that requires checking is that the different trivializations determine compatible smooth structures .",
    "this follows easily from the fact that the difference between such trivializations can be expressed in terms of the lengths of internal edges which are , indeed , smooth functions on the base .",
    "it is now clear that @xmath364 is not compact , and that its non - compactness comes from two phenomena ; internal edges can expand to infinite length as in @xmath296 , and external edges can collapse to have length zero .",
    "the moduli space of * singular shrubs * @xmath365 is the moduli space of singular ribbon trees with @xmath109 incoming edges which satisfy the following properties :    * the incoming edges have finite type , and * the outgoing edge has infinite type , and * all irreducible components are stable , and are either shrubs or are stasheff trees ( all external edges are infinite ) , and * the distance from any point to the incoming vertices lying above it is independent of the choice of incoming vertex .",
    "it is immediate from the above definition that the irreducible components containing the incoming vertices are shrubs , and that all other irreducible components are stasheff trees .",
    "the main result of this appendix is    [ cpct_mod_space ] @xmath365 is a compact manifold with having @xmath364 as its interior .",
    "moreover , it admits a decomposition into smooth manifolds with corners @xmath1063 $ ] labeled by the topological type of the shrub .",
    "we first observe    by replacing all incoming vertices with vertices of infinite type and collapsing any unstable components , we obtain a projection map @xmath1064 ) \\to   \\overline{{{{\\mathcal t}}}}_{d}([t]).\\ ] ] the fibre at a point @xmath1065 is identified by the length function of an incoming edge @xmath317 with a closed interval @xmath1066 $ ] .",
    "as we shall see presently , this lemma essentially determines the topology and smooth structure of each cell away from the inverse image of @xmath1067 .",
    "we shall call the part of the boundary lying over @xmath298 the * horizontal boundary * and the part lying over the boundary of @xmath1039 the * vertical boundary * of @xmath365 . in order to understand this later subset",
    ", we consider    a collection of successive vertices of a ribbon tree forms a * branch * if the complement of the minimal tree containing them is connected .",
    "an * order - preserving * partition of @xmath1068 is a partition into subsets @xmath1069 such that @xmath1070 if @xmath1071 and @xmath1072 .",
    "we will denote the set of such partition into @xmath457 subsets by @xmath1073 .    given a tree @xmath1074 with @xmath457 incoming edges , and such a partition ,",
    "we obtain a unique tree @xmath289 with @xmath109 incoming edges , such that those that belong to a subset that is not a singleton have vanishing length .",
    "we have    the horizontal boundary of @xmath1075)$ ] is covered by the images of the inclusions of @xmath1076 ) \\times { \\operatorname{part}}(d , d ' ) \\to \\overline{{{{\\mathcal s}}}}_{d}([t]),\\ ] ] and by the section of @xmath1077 corresponding to all incoming edges having infinite length",
    ".    the vertical boundary of @xmath1078)$ ] is covered by the images of the inclusions for each @xmath1079 of @xmath1080 ) \\times \\cdots \\times \\overline{{{{\\mathcal s}}}}_{d_{n}}([t_n ] )   \\times \\overline{{{{\\mathcal t}}}_{n } } ( [ t_0 ] ) \\to \\overline{{{{\\mathcal s}}}}_{d}([t]).\\ ] ] with the restriction that there exists some @xmath1081 .",
    "the section of @xmath1077 takes a stasheff tree with @xmath109 inputs and attaches half infinite intervals ( isometric to @xmath1082 ) to all incoming vertices .",
    "this covers the part of the horizontal boundary where some incoming edge ( hence all incoming edges ) reach infinite length .",
    "the remainder of the horizontal boundary corresponds to an edge collapsing to have length @xmath273 .    given a tree @xmath289",
    ", we consider the largest subtree @xmath1083 containing the outgoing vertex , but no binary vertex .",
    "if such a tree is included properly in @xmath289 , then its complement is a disjoint union of trees @xmath1084 that occur in lower dimensional moduli spaces and @xmath289 is in the image of the inclusion @xmath1080 ) \\times \\cdots \\times \\overline{{{{\\mathcal s}}}}_{d_{n}}([t_n ] )   \\times \\overline{{{{\\mathcal t}}}_{n}}([t_0 ] ) \\to \\overline{{{{\\mathcal s}}}}_{d}([t]).\\ ] ] if @xmath1085 for all @xmath132 , then each @xmath1086 is a point and we are considering a component of the horizontal boundary .",
    "one way of stating the naturality of the above boundary inclusions is to observe    the following diagram commutes @xmath1087 ) \\times \\cdots \\times \\overline{{{{\\mathcal s}}}}_{d_{n } } ( [ t_n ] ) \\times \\overline{{{{\\mathcal t}}}_{n } } ( [ t_0 ] ) \\ar[d ] \\ar[r ] &   \\overline{{{{\\mathcal s}}}}_{d } ( [ t])\\ar[d]\\\\ \\overline{{{{\\mathcal t}}}}_{d_1}([t_1 ] ) \\times \\cdots \\times \\overline{{{{\\mathcal t}}}}_{d_{n } } ( [ t_n ] ) \\times \\overline{{{{\\mathcal t}}}_{n } } ( [ t_0 ] )   \\ar[r ] &   \\overline{{{{\\mathcal t}}}_d}([t ] ) , } \\ ] ] where the vertical arrows are given by the various projections @xmath1077 , and the bottom horizontal arrow is the usual gluing map which makes @xmath1088 into a topological operad .",
    "we need a few more pieces of notation .",
    "if @xmath1089 is a partition of @xmath109 , let @xmath1090 denote the partial sums @xmath1091 for each tree @xmath289 , let @xmath1092 denote the minimal connected subtree of @xmath289 containing all vertices whose labels range from @xmath1090 to @xmath1093 .",
    "let @xmath1094 denote the subset of @xmath365 consisting of trees such that all @xmath1095 are branches .",
    "similarly , let @xmath1096 denote the outgoing edge at the outgoing vertex of @xmath1097 ( in particular , @xmath1096 is not contained in this tree ) .",
    "we are now ready to give the    the smooth structure on @xmath1063 $ ] is already determined in the interior by lemma [ smooth_structure_interior ] . along the horizontal boundary , it can defined by requiring that @xmath1077 is a fibration , with trivialization given by the length function of an incoming edge along the component of the horizontal boundary covered by the images of @xmath1098 \\times { \\operatorname{part}}(d , d ' ) \\to \\overline{{{{\\mathcal s}}}}_{d}[t].\\ ] ] along the other component of the horizontal boundary ( where the length of incoming edges takes infinite length ) , we require that the smooth trivialization be given by the exponential of the negative length function of an incoming edge . again , this smooth structure is independent of which incoming edge is chosen since the length of incoming edges differ from each other by the lengths of the internal edges , which are smooth functions on the base .",
    "it suffices therefore to define the topology ( and smooth structure ) along the vertical boundary .",
    "we shall proceed by induction ; in the base case , both @xmath1099 and @xmath1100 are points .",
    "our induction hypothesis is that    * whenever the length of an edge is finite , it defines a smooth function to @xmath80 .",
    "* when the length of an edge reaches infinity , then the exponential of its negative is a smooth function .",
    "* the subsets of @xmath1101)$ ] consisting of homeomorphic trees with no vertices of valency greater than @xmath531 are open ( such trees are not required to be combinatorially equivalent , i.e. adding binary vertices will not change the homeomorphism type ) .",
    "this last condition might seem superfluous ; its presence is a consequence of the fact that the fibre over a boundary point of @xmath1102 can consist of rather complicated strata , and that we have not yet specified how these strata fit together .    by the previous lemma ,",
    "every point @xmath289 on the vertical boundary lies in the image of @xmath1103 ) \\times \\cdots \\times \\overline{{{{\\mathcal s}}}}_{d_{n } } ( [ t_n])\\times \\overline{{{{\\mathcal t}}}_{n } } ( [ t_0])\\to \\overline{{{{\\mathcal s}}}}_{d}([t]).\\ ] ] by induction we have a topology ( and smooth structure as a manifold with corners ) on the source of the above map",
    ". we shall require these maps to be diffeomorphisms onto their images .",
    "there is no obstruction to achieving this since the images of such maps intersect along products of lower dimensional moduli spaces whose smooth structure is already determined .",
    "consider the set @xmath1094 defined in the paragraph preceding the beginning of this proof .",
    "we impose the condition that these sets are open .",
    "this condition is , by induction , compatible with all previous choices .",
    "we define a map @xmath1104 )",
    "\\times \\cdots \\times \\overline{{{{\\mathcal s}}}}_{d_{n } } ( [ t_n])\\times \\overline{{{{\\mathcal t}}}_{n } } ( [ t_0])\\ ] ] by replacing each edge @xmath1096 by an edge of infinite length .",
    "this map is clearly surjective .",
    "let @xmath1105 denote the open subset of @xmath1075)$ ] where all edges @xmath1106 have length greater than @xmath49 . if @xmath1107 is a fundamental system of neighbourhoods of @xmath1083 in the product @xmath1103 ) \\times \\cdots \\times \\overline{{{{\\mathcal s}}}}_{d_{n } } ( [ t_n])\\times \\overline{{{{\\mathcal t}}}_{n } } ( [ t_0]),\\ ] ] we define a fundamental system of neighbourhoods of @xmath1083 in @xmath1108)$ ] to be @xmath1109 again , this is clearly compatible with previous choices of topology . to define the smooth structure as a manifold with boundary , we observe that the projection map @xmath1110 is trivialized by the length function of an edge @xmath1106 with target @xmath1111 $ ] .",
    "we determine the smooth structure by again requiring that the exponential of the negative length is smooth . since by induction , @xmath1112 is diffeomorphic to the standard model of a neighbourhood of a corner , the same is true for its product with a closed interval .",
    "in order to define an @xmath16 structure on @xmath77-valued morse complexes , we must orient the moduli spaces of gradient trees .",
    "the first step is to coherently orient the stasheff polyhedra .",
    "this is , in fact , relatively easy to do using the well - known identification with the moduli space of discs .",
    "the reader can consult section ( 12 g ) of @xcite for details .",
    "note that such an orientation induces an orientation of each maximal cell @xmath1113 ) $ ] .",
    "we now orient the moduli spaces of gradients trees which appear in the definition of the higher products in the morse pre - category .",
    "consider the manifold @xmath1114 let us assume that orientations for all descending manifolds have been chosen .",
    "if we write @xmath1115 for the top exterior power of the tangent bundle of @xmath70 as a graded vector space , then the induced orientation is given by the isomorphism @xmath1116 where the tangent space @xmath1117 at a given point is defined to be the tangent space of the corresponding cell @xmath1118 ) $ ] for @xmath1033 $ ] a trivalent tree ; the global orientability of the stasheff polyhedra implies that the choice of a resolution of a non - trivalent tree does not affect the signs .",
    "we will twist this orientation by @xmath1119    in equation , we used the inverse of vector space @xmath1120 , our convention for orienting them is as follows : if @xmath1121 is an orientation of @xmath1122 , then @xmath1123 is the",
    " inverse \" orientation of @xmath1124 .",
    "we can now complete the    let @xmath1042 be a @xmath27-dimensional moduli spaces of gradient trees .",
    "we know that its boundary consists of points corresponding to @xmath1125 where @xmath1126 and the sequences @xmath1127 stand for @xmath1128",
    ". set @xmath1129 . for simplicity , we assume that @xmath1130 , in other words that we re working entirely with stable trees .",
    "the idea does not change in the case where @xmath1131 , though the notation is complicated by the presence of a factor associated to the group of automorphisms of moduli spaces of gradient trajectories between critical points .",
    "it suffices to compare the induced orientation of the boundary with its orientation as a product . ignoring the factors",
    "@xmath1132 for now , we note that an orientation of a tubular neighbourhood of the boundary is given by @xmath1133 where @xmath333 is the outward normal vector at the boundary .",
    "one can pass from this orientation to the orientation as an open subset of @xmath1042 through simple steps .",
    "we go through them one by one and record the corresponding change of orientation .",
    "note that all computations are done modulo @xmath76 .    1 .",
    "recall that the @xmath1134 factors @xmath1135 correspond to the output @xmath101 and the inputs @xmath1136 .",
    "writing @xmath1137 as the tensor power of the corresponding number of copies of @xmath1138 , we permute these lines so that the factor corresponding to @xmath259 is adjacent to @xmath1139 .",
    "because we re working with the inverse of top exterior power of the tangent bundle , we have to slide the factor corresponding to @xmath259 past those corresponding to @xmath1140 .",
    "this yields a sign given by the parity of @xmath1141 since the diagonal is oriented in the same way as @xmath54 , we have a natural identification of @xmath1142 and we can cancel these factors . 2 .   similarly , we permute the factors of @xmath1143 so that the copy corresponding to @xmath259 appears next to @xmath1144 , and cancel these two factors .",
    "the permutation introduces a sign @xmath1145 3 .",
    "we decompose @xmath1146 and permute @xmath1147 with @xmath1148 .",
    "this changes the orientation by @xmath1149 4 .",
    "we move the @xmath1150 factor of @xmath1151 past @xmath1152 with a sign of @xmath1153 5 .",
    "we now permute @xmath1154 with the terms that separate it from @xmath1155 .",
    "the corresponding sign is @xmath1156 6 .",
    "recall that the factors of @xmath1058 correspond to the sequence @xmath1157 .",
    "the terms of @xmath1158 are not in this same order .",
    "since we re taking the inverse of the canonical bundle , the desired permutation has sign @xmath1159    let us note that , after taking into account the signs which we introduced in the previous steps , our orientation of a neighbourhood of the boundary is now given by @xmath1160 we chose our orientation of @xmath1161 in such a way as to have an oriented isomorphism @xmath1162 the next steps to arrive at our chosen orientation of @xmath1042 are :    1 .",
    "permute @xmath1163 with @xmath1164 , and introduce a sign @xmath1165 2 .",
    "permute the normal vector @xmath1166 to be adjacent to @xmath1167 .",
    "the corresponding sign is given by @xmath1168    the total sign change so far is given by the parity of    @xmath1169    there are two more sources of signs that we have neglected .    1 .",
    "there is a choice of coherent orientations on the stasheff polyhedra such that the orientation of a neighbourhood of the boundary of @xmath298 differs from the product orientation @xmath1170 precisely by @xmath1171 as explained in equation ( 12.25 ) of @xcite .",
    "2 .   the additional change of orientation @xmath179 given by equation introduces a sign equal to @xmath1172 as can be easily checked by comparing the contribution of the inputs and outputs to @xmath179 in each of the three moduli spaces we re considering .",
    "the reader can easily check that the total sign change is , indeed , @xmath131 .",
    "since the ( signed ) sum of the number of points on the boundary of a @xmath27-dimensional manifold vanishes , we conclude that the @xmath16 equation holds .",
    "we note that the complete proof of proposition [ cech - to - morse ] also require orientations of moduli spaces of gradient trees , this time @xmath1173 for a critical point @xmath89 and cycles @xmath391 .",
    "in fact , such an orientation can be obtained through means entirely analogous to those used in the previous proof once we explain how to orient the moduli spaces of incoming - finite trees @xmath364 .",
    "we note that that the method we re about to use also gives orientations of the stasheff polyhedra .",
    "consider a tree @xmath366 .",
    "let @xmath1174 denote the incoming vertices of @xmath289 .",
    "let @xmath1175 be the descending arc containing @xmath156 which is maximal with respect to the property of containing only finite edges .",
    "let @xmath1176 be the ordered collection of finite edges whose union is @xmath1177 , with the inverse order given by the natural orientation of the tree , i.e. the last element of @xmath1178 is the incoming edge at @xmath1179 .",
    "inductively define @xmath1180 as the ordered collection of edges of @xmath1181 , excluding the incoming edges if @xmath1182 , with the additional restriction that the edges appearing in @xmath1180 do not appear in any preceding set @xmath1183 .",
    "we write @xmath1184 for the number of elements in such a collection .",
    "see figure [ fig : cover_tree_chart ] .",
    "if @xmath289 is trivalent , the lengths of the edges which appear in @xmath1185 give local coordinates for @xmath364 near @xmath289 .",
    "note that some of the collections @xmath1186 may be empty .",
    "we now use this canonical choice of coordinates to define an orientation .",
    "first , we need    if @xmath317 is an edge of a trivalent tree @xmath289 , then the * dexterity * of @xmath317 , denoted @xmath1187 is the number of right turns along the geodesic from @xmath317 to the outgoing vertex .    in other words ,",
    "if @xmath1188 is the geodesic from @xmath317 to the outgoing vertex , then we can stand at every edge of @xmath1189 , looking towards the outgoing vertex , and decide whether the next edge of @xmath1189 will correspond to a left turn or a right turn at the next vertex ( see figure [ right - turn ] )",
    ". left and right are , of course , determined by the chosen cyclic ordering at each vertex .    to simplify notation",
    ", we write @xmath1190 for @xmath1191 .",
    "we define an orientation by @xmath1192 where the edges that appear in the first expression are ordered along the path from the outgoing vertex to @xmath156 .",
    "the orientation @xmath1193 is independent of the topological type of the tree @xmath289 .",
    "it suffices to consider neighbourhoods of trees with one quadrivalent vertex ( these form hyperplanes in the moduli space of trees separating the open cells consisting of trivalent trees of a fixed topological type ) .",
    "crossing such a hyperplane , a branch @xmath1194 of the tree moves from one side of a trivalent vertex to the other .",
    "such a branch is uniquely determined by its incoming leaves @xmath1195 .",
    "see figure [ fig : moduli_trees_hyperplane ] .    fix a tree with a unique quadrivalent vertex @xmath229 . note that all our coordinates extend naturally through the hyperplane , except for the map to @xmath80 which is given by the length of the edge which is collapsed at @xmath229 .",
    "let @xmath289 and @xmath1074 be nearby trees on either side of the hyperplane .",
    "we fix a co - orientation of the hyperplane by assuming that the path from @xmath1196 to the outgoing vertex includes the edge @xmath1197 which is collapsed when passing through the hyperplane . while the corresponding edge @xmath1198 leads , by necessity , to @xmath1199 .",
    "in fact , we can extend @xmath1200 smoothly to the other side of the hyperplane by declaring it equal to @xmath1201 .",
    "in particular , we have @xmath1202    let @xmath1203 denote the branch of @xmath289 containing @xmath229 as its bottom - most vertex .",
    "it is obvious that for every edge that does not lie on @xmath1203 , we have @xmath1204 we claim the same equality holds for all edge on @xmath1205 and for @xmath1194 .",
    "indeed , we only remove a left turn from the paths with origin the edges of @xmath1205 to the outgoing vertex , while we permute the order of a left and right turn on corresponding paths from the edges of @xmath1194 .",
    "it suffices therefore to check that @xmath1206 observe @xmath1207 is the first @xmath27-form which appears in our formula for @xmath1208 , while @xmath1209 appears in our formula for @xmath1210 .",
    "let us therefore split @xmath1211 the result now follows easily by observing that the dexterity of each edge in @xmath1212 , changes by @xmath27 as @xmath841 is collapsed , which exactly cancels the sign produced by commuting @xmath1207",
    "we recall some elementary definitions concerning @xmath16 pre - categories , due to kontsevich and soibelman @xcite .",
    "an @xmath16 pre - category @xmath50 consists of the following data :    * a collection of objects @xmath1214 . * for each integer @xmath52 , a collection of transverse sequences @xmath1215 * for each ordered pair @xmath1216 , a @xmath77-graded chain complex @xmath1217 * for each transverse sequence of length @xmath297 , @xmath1218 , a degree @xmath1219 map of graded vector spaces , called the @xmath109th higher product @xmath1220^{\\mu_{d } } & & { { \\mathcal a}}(x_0 , x_d).}\\ ] ]    the defining data of an @xmath16 pre - category is required to satisfy the following compatibility conditions    * every subsequence of a transverse sequence is transverse . * the higher products are required to satisfy the @xmath16 equation , i.e. equation .",
    "kontsevich and soibelman further defined the notion of quasi - isomorphisms in @xmath16 pre - categories , and used it to give a criterion of unitality of @xmath16 pre - categories .",
    "a morphism @xmath1221 is said to be a * quasi - isomorphism * if , whenever @xmath1222 , or @xmath1223 are transverse triples , the maps @xmath1224^{\\mu_2(\\ _ , f ) } & { { \\mathcal a}}(x_0 , y ) } \\\\ \\xymatrix{{{\\mathcal a}}(z , x_0 ) \\ar[r]^{\\mu_2(f , \\ _ ) } & { { \\mathcal a}}(z , x_1 ) } \\end{aligned}\\ ] ] induce isomorphisms on homology .",
    "an @xmath16 pre - category is unital if for each object @xmath0 , and each transverse sequence @xmath113 , there exist objects @xmath1225 and @xmath1226 which are quasi - isomorphic to @xmath0 such that the sequence @xmath1227 is transverse .    in this",
    "setting , it is appropriate to replace the usual notion of full subcategory .",
    "the inclusion of a full sub - pre - category @xmath1228 in an @xmath16 pre - category @xmath50 is said to be * essentially surjective * if every object of @xmath50 is quasi - isomorphic to an object of @xmath1228 .    in order to simplify our notation",
    ", we deviate slightly from kontsevich and soibelman s definition of @xmath16 functor .    an @xmath16 functor @xmath1229 between @xmath16 pre - categories @xmath50 and @xmath1228 consists of the following data :    * an essentially surjective inclusion @xmath1230 .",
    "* a map @xmath1231 * for each transverse sequence @xmath1232 of @xmath1233 , a degree @xmath1234 map @xmath1235    this data must satisfy the following conditions    * the image of every transverse sequence of @xmath1233 is transverse in @xmath1228 .",
    "* the maps @xmath1236 satisfy the @xmath16 equation for functors @xmath1237    this definition differs from that of @xcite where they require @xmath1238 . however , this is irrelevant since this difference disappears upon considering quasi - equivalence classes of @xmath16 pre - categories .",
    "an @xmath16 * quasi - equivalence * is an @xmath16 functor which induces an isomorphism at the level of homology categories .",
    "two @xmath16 pre - categories @xmath28 and @xmath9 are * equivalent * if there exists a sequence @xmath1239 of @xmath16 pre - categories and @xmath16 quasi - equivalences @xmath1240",
    "let @xmath54 be a smooth compact oriented manifold with boundary @xmath69 .",
    "we would like to rephrase the classical equivalence between the cup product on the simplicial cochains of a triangulation @xmath381 and the intersection pairing on cellular chains in a language more suitable to our goals in this paper .",
    "a stronger result appears in @xcite ( the commutative structure is taken into account , cf .",
    "@xcite ) , but the techniques used seem incompatible with our specific setup . to make the definition of the cup product standard , we work with a special type of triangulation :    a triangulation @xmath381 is * simplicial * if there is a complete ordering on the vertices of @xmath381 such that every cell of @xmath381 can be expressed uniquely as the  hull \" of an ordered sequence of vertices @xmath1241 .",
    "we write @xmath1242 \\subset { { \\mathscr p}}$ ] for such a cell .      the pre - category @xmath549 has as objects functions @xmath1243 a pair @xmath779 and @xmath780 of such functions is transverse if the difference @xmath1244 satisfies the following condition : the inclusion of @xmath1245 into @xmath1246 , the union of all cells where @xmath479 takes some positive value , is a deformation retract .",
    "a sequence @xmath1248 is transverse if all pairs @xmath1249 with @xmath158 are transverse .",
    "all higher products vanish , and the composition is defined through the inclusion @xmath1250 and the corresponding diagram : @xmath1251 &   c^*({{\\mathscr p } } ,   \\partial^+_{h_2 - h_1 } { { \\mathscr p}}\\cup   \\partial^+_{h_1 - h_0 } { { \\mathscr p } } ) \\ar[d ] \\\\ & c^*({{\\mathscr p } } , \\partial^+_{h_2 - h_1 }   { { \\mathscr p } } ) .}\\ ] ]    for the sake of definiteness , we describe the chain model theory that we use .",
    "our treatment is standard in the sense that it can be extracted from an algebraic topology textbook @xcite .",
    "the chain complex of a simplicial triangulation is defined by @xmath1252 } { { \\mathbb z}}\\cdot [ v_0 , \\ldots , v_k].\\ ] ] again , we reiterate the fact that our conventions are such that writing @xmath1242 $ ] subsumes the fact that the vertices are listed in increasing order .",
    "the differential is given as usual by @xmath1253 = \\sum_{i=0}^{k } ( -1)^{i }   [ v_0 , \\ldots , v_{i-1 } , \\hat{v_{i } } , v_{i+1 } , \\ldots , v_k ] .\\ ] ] if @xmath1254 is a subcomplex , we define the relative cochain complex @xmath1255 for subcomplexes @xmath1256 , we define the cup product @xmath1257 by the formula @xmath1258 ) = \\sum_{i=0}^{k } \\phi([v_0 , \\cdots , v_i ] ) \\cdot \\psi([v_i , \\cdots , v_k ] ) .\\ ] ] a priori , @xmath1259 is a homomorphisms from @xmath1260 to @xmath77 , but , since every cell of @xmath1261 lies either in @xmath28 or in @xmath9 , it is easy to check that @xmath1259 vanishes on all such cells and hence defines an element of @xmath1262 ( cf .",
    "209 where the less straightforward case of singular cohomology is discussed ) .",
    "we now proceed with a cellular version of this construction . by a cellular subdivision @xmath1263 of @xmath54 ,",
    "we mean a covering by @xmath52-dimensional closed polytopes such that the intersection of any two polytopes is either empty or a common cell on the boundary .",
    "given such a subdivision , we define the corresponding cellular chain complex by @xmath1264 where @xmath1265 is the orientation line of the cell @xmath254 .",
    "the differential is obtained by restricting the orientation to the boundary .",
    "let us fix a subdivision @xmath382 dual to a simplicial triangulation @xmath381 , and a corresponding constant @xmath1266 which is much smaller than the diameter of all cells in @xmath382 .",
    "it will be convenient to use the following terminology :      by definition , every cell @xmath254 of codimension @xmath361 in @xmath382 is dual to a cell of the form @xmath1270 $ ] , and the link of @xmath254 is isomorphic to the simplex with vertices @xmath1271 .",
    "we will sometimes write @xmath179 for a cell of @xmath381 and @xmath1272 for the dual cell . concretely , a point in the interior of @xmath254 lies on the closure of exactly @xmath361 top dimensional cells which are dual to the vertices @xmath1273",
    ". we will have to understand cell subdivisions which are @xmath428 close to @xmath382 . to do this",
    ", it is helps to first understand the local model .",
    "let @xmath1275 be the cellular subdivision of @xmath1276 into the @xmath297 cells , @xmath109 of which are of the form @xmath1277 for some @xmath537 between @xmath27 and @xmath109 , and the remaining cell is the set @xmath1278 it is easy to check that @xmath1275 is a model for the dual subdivision of a @xmath109-simplex @xmath1279 $ ] with the cell where @xmath273 dominates dual to @xmath1280 , and the cell where @xmath1281 dominates all the other terms dual to the vertex @xmath157 for @xmath1282 .",
    "given any positive real number @xmath259 , we may construct a new cellular subdivision of @xmath1276 by translating @xmath1283 in the direction of the vector @xmath1284 we write @xmath1285 for this new subdivision of @xmath1276 .",
    "see figure [ simplicial_position_model ] .",
    "if @xmath179 is a cell of @xmath1286 , we write @xmath1272 for the dual cell of @xmath1275 and @xmath1287 for the dual cell of @xmath1285 .",
    "observe that @xmath1272 and @xmath1290 intersect if and only if @xmath1292}$ ] intersects @xmath1293}(r)$ ] for each @xmath132 and @xmath537 .",
    "however , it is easy to check that this can only happen if @xmath1294 , for all @xmath132 and @xmath537 , which because of our ordering conventions , is equivalent to @xmath1291 .    for any @xmath1295 , the composition of translation by the vector of equation and a dilation of each variable maps @xmath1285 to @xmath63 and @xmath1285 to @xmath1296 . more generally , given an increasing collection @xmath1297 , the subdivisions @xmath1298 are mutually transverse .",
    "moreover , there is a self diffeomorphism of @xmath1299 mapping @xmath1300 to @xmath1298 , which can be easily made to depend smoothly on the parameters @xmath1297 .",
    "we conclude    [ lem : parametrise_family_intersections_cells ] if @xmath1301 is a sequence of cells of @xmath1286 , there exists a map @xmath1302 whose restriction to a fixed @xmath1303 is a diffeomorphism onto @xmath1304    to interpret the above results algebraically , we observe the intersections of all open cells in @xmath1275 and @xmath1285 give a new polyhedral subdivision of @xmath1276 which we write @xmath1305 .",
    "lemma [ simplicial - model ] implies that @xmath1306 admits a canonical cellular map to @xmath1275 which collapses @xmath1307 } \\cap \\check{[v_j ] }   ( r)\\ ] ] to @xmath1308}$ ] .",
    "it is easy to check that this map , which we ve defined on the top simplices of @xmath1309 , extends to a cellular map .",
    "we write @xmath1310 for this map .",
    "[ model - compatible - cup - products ] the following diagram , where the vertical arrows are the canonical isomorphisms , is commutative @xmath1313 \\ar[r ] & c_{n - i - j}(\\pi^d ( r ) )   \\ar[d ] \\\\",
    "c^{i}(\\delta^d ) \\otimes",
    "c^{j}(\\delta^d ) \\ar[r]^{\\cup } & c^{i+j}(\\delta^d ) } \\ ] ]    this is essentially the content of lemma [ simplicial - model ] , once one observes that all intersections between cells of @xmath1275 and @xmath1285 that are not recorded by the cup products on @xmath1314 are collapsed by the map @xmath1315 to lower dimensional cells .",
    "[ simplicial - position ] a pair of subdivisions @xmath1317 which are @xmath567 close to @xmath382 in the @xmath428 topology are said to be * in simplicial position * if , whenever @xmath1268 is a cell of dimension @xmath109 , there exists a coordinate chart near the @xmath567-essential part of @xmath254 @xmath1318 taking @xmath1319 to @xmath382 , and @xmath1320 to @xmath1321 , and which is compatible with the respective stratifications .",
    "it is easy to check that constructing subdivisions in simplicial position is a completely local problem .",
    "in fact , starting with a subdivision @xmath382 , we use the ordering of the vertices of @xmath381 to order the top strata of @xmath382 .",
    "we may then construct a vector field which , on every cell of @xmath382 points in the direction of the nearby top cells which appears first in this order .",
    "the image of @xmath382 under the flow of this vector field ( for any sufficiently small time ) is in simplicial position with respect to @xmath382 .",
    "if @xmath1317 are in simplicial position , then the local copies of the polyhedral subdivisions @xmath1306 patch together globally to a cellular decomposition @xmath1322 of @xmath54 .",
    "the proof of the following global result is an immediate consequence of the local properties of @xmath1275 and @xmath1285 recorded in lemmas [ simplicial - model ] and [ model - compatible - cup - products ] :        moreover , if @xmath1331 and @xmath1332 are @xmath569-close in the @xmath428 topology , then , in the first case , @xmath1333 is @xmath569-close to @xmath1334 in the @xmath428-topology ( in particular , the cells are diffeomorphic ) , while @xmath1333 lies in a @xmath569-neighbourhood of the lower dimensional cell @xmath1334 in the second case .      as in the local model",
    ", the intersection pairing therefore defines a map @xmath1336 by composing the above map with the collapsing map @xmath1337 , we obtain a product valued in @xmath1338 .",
    "we now have all the necessary pieces to introduce a cellular analogue of the category @xmath549 .",
    "a pair of objects @xmath1339 and @xmath1341 is said to be transverse if @xmath1342 are in simplicial position and @xmath1343 is a transverse pair in @xmath549 . in this case , the space of morphisms between them is defined to be @xmath1344 where @xmath1345    a sequence of objects @xmath1346 is transverse whenever all pairs @xmath1347 with @xmath158 are in simplicial position and the sequence @xmath1348 is transverse in @xmath549 .",
    "all higher products vanish , and the multiplication for a transverse triple @xmath1339 , @xmath1341 , and @xmath1349 @xmath1350 is defined by collapsing the intersection of cells in @xmath1351 and @xmath1352 to @xmath1353 .      at the level of morphisms , the functor simply identifies a cellular chain with the corresponding dual cochain . by construction , this is always an isomorphism of chain complexes .",
    "it suffices therefore to check that the functor respects composition ; this is the content of lemma [ model - compatible - cup - products ] locally , and can be readily seen to hold globally ."
  ],
  "abstract_text": [
    "<S> given a smooth projective toric variety @xmath0 , we construct an @xmath1 category of lagrangians with boundary on a level set of the landau - ginzburg mirror of @xmath0 . </S>",
    "<S> we prove that this category is quasi - equivalent to the @xmath2 category of line bundles on @xmath0 . </S>"
  ]
}