{
  "article_text": [
    "the first result of pure finite ramsey theory and a prototype of the many later results of this area ( see @xcite ) is the theorem proved by ramsey in 1930 .",
    "we recall it now to remind the reader of the flavor of pure finite ramsey theory",
    ". we will also refer to this statement later on . for a natural number @xmath0 ,",
    "let @xmath1 = \\ { 1,\\dots , n\\}$ ] ; in particular , @xmath2=\\emptyset$ ] .",
    "the classical ramsey theorem says that given natural numbers @xmath3 , @xmath4 , and @xmath5 , there exists a natural number @xmath0 such that for each @xmath3-coloring , that is , a coloring with @xmath3 colors , of all @xmath4 element subsets of @xmath1 $ ] , there exists an @xmath5 element subset @xmath6 of @xmath1 $ ] such that all @xmath4 element subsets of @xmath6 have the same color .",
    "in section  [ s : ar ] , we give an exposition of the abstract approach to pure finite ramsey theory developed in @xcite ; the main theorem , saying that a general pigeonhole principle implies a general ramsey property , is stated as theorem  [ t : ram ] ( see also appendix  1 ) .",
    "most pure finite ramsey theoretic results can be viewed as instances of the machinery presented here . in the exposition",
    ", we make an effort to motivate the main abstract notions and we also illustrate them with examples .    in sections  [",
    "s : tree ] , [ s : jd ] , [ s : m ] , using arguments consisting mostly of formulating appropriate definitions , we show that certain ramsey - theoretic results for finite trees , one of which is new , are particular instances of the general theorem  [ t : ram ] .",
    "these applications of theorem  [ t : ram ] to concrete situations are similar to each other , with the main differences lying in the derivations used ( more on it in the next paragraph ) .",
    "therefore , in the first two applications ( the illustrations in section  [ s : ar ] and illustration  [ i : tree ] ) , we explicitly check all the details and provide pictures ; in the third application ( a generalization of deuber s and jasiski s theorems , section  [ s : jd ] ) , we give all the definitions , but carefully check the pigeonhole principle only ; in the last application ( milliken s theorem , section  [ s : m ] ) , we state all the definitions , but leave checking the details to the reader in exercises . recall that in @xcite , it is shown how , for example , the classical ramsey theorem , the graham  rothschild theorem , and a new self - dual ramsey theorem can be obtained as instances of theorem  [ t : ram ] .    in each of the many concrete ramsey theorems ( considered here and in @xcite ) ,",
    "the same underlying algebraic structure turns out to be present , the structure of a _ normed background _ given by definition  [ d : norback ] ( see also appendix 1 )",
    ". a crucial element of such structures is a _ truncation operator _ , which forms a basis for inductive arguments .",
    "in the concrete situations involving trees and considered in the present paper , there is a close connection between truncation operators and _ derivations on trees_. roughly speaking there are two natural derivations on trees : cutting off the rightmost branch and cutting off the highest leaves .",
    "these two derivations give rise to two types of truncation operators , which lead to two types of normed backgrounds , which in turn lead to two ramsey theorems .",
    "namely , the branch cutting derivation gives a generalization of deuber s and jasiski s theorems , while the leaf cutting derivation gives milliken s theorem .",
    "_ for convenience , we adopt the following modification to the notation for the operation of subtracting @xmath7 among natural numbers : we set @xmath8 to be equal to @xmath9 ; for @xmath10 , @xmath11 retains its usual meaning . _",
    "a typical ramsey - type theorem has the following form .",
    "we start with two families @xmath12 and @xmath13 .",
    "( elements of @xmath12 and @xmath13 are usually finite sets of functions , most frequently some type of morphisms . ) a set @xmath14 from @xmath13 and a number of colors @xmath3 are given .",
    "the conclusion of the theorem then asserts that there is a set @xmath15 from @xmath12 with a given mapping ( usually a type of composition ) defined on @xmath16 , @xmath17 such that for each @xmath3-coloring of the image @xmath18 of @xmath16 under the mapping there exists @xmath19 with @xmath20 monochromatic .    below in the paper",
    ", we formalize this vague idea and we also give several concrete examples that should convince the reader that ramsey - type theorems do indeed have this form . here , as an illustration , we only phrase the classical ramsey theorem in a way that is compatible with the general framework above",
    ". it may be useful for the reader to recall here the ramsey theorem from the first paragraph of the introduction . in the restatement of the ramsey theorem",
    "to which we now proceed , for natural numbers @xmath21 and",
    "@xmath22 , we identify @xmath21 element subsets of @xmath23 $ ] with increasing injections from @xmath24 $ ] to @xmath23 $ ] so that a subset @xmath6 is identified with the unique increasing injection whose range is equal to @xmath6 .",
    "one can take @xmath25 to be the family of all sets produced as follows : fix natural numbers @xmath21 and @xmath22 and form the set of all increasing injections from @xmath24 $ ] to @xmath23 $ ] .",
    "fix natural numbers @xmath3 , @xmath4 , and @xmath5 , and let @xmath26 be the set of all increasing injections from @xmath27 $ ] to @xmath28 $ ] .",
    "then the classical ramsey theorem says that there is an @xmath0 with the following property .",
    "for the set @xmath29 of all increasing injections from @xmath28 $ ] to @xmath1 $ ] , if we @xmath3-color the set @xmath30 $ to $ [ n]$},\\ ] ] then there exists @xmath19 such that @xmath31 is monochromatic .",
    "now we start the description of the abstract approach .",
    "let @xmath32 and @xmath33 be sets .",
    "assume we are given a _",
    "function from @xmath34 to @xmath33 : @xmath35 such a function @xmath36 will be called an * action * ( * of @xmath32 on @xmath33 * ) .",
    "no properties of the function @xmath36 are assumed to hold at this point . for @xmath37 and @xmath38",
    ", we say that @xmath39 _ is defined _ if @xmath40 is defined for all @xmath41 and @xmath42 , and we let @xmath43 we also write @xmath44 for @xmath45",
    ".    we will give a sequence of illustrations that contain the most rudimentary examples of the general notions being introduced .",
    "the illustrations depend on each other and lead to the classical ramsey theorem .",
    "[ i : ramfir ] let @xmath46 be the set of all _ ( strictly ) increasing _ functions from @xmath47 = \\ { 1 , \\dots , k\\}$ ] to @xmath48 , where @xmath49 ranges over @xmath50",
    ". given @xmath51 with @xmath52\\to { \\mathbb n}\\setminus \\ { 0\\}$ ] and @xmath53\\to { \\mathbb n}\\setminus \\ { 0\\}$ ] , let @xmath40 be defined precisely when @xmath27 $ ] contains the image of @xmath54 and put @xmath55    going back to the general situation , let @xmath56 and @xmath57 be families of non - empty subsets of @xmath32 and @xmath33 , respectively .",
    "assume we have a partial function from @xmath58 to @xmath57 : @xmath59 such that if @xmath60 is defined , then it is given by the point - wise action of @xmath15 on @xmath14 , that is , @xmath39 is defined and @xmath61 in such a situation , we say that @xmath62 is a * pair of families over @xmath63*. introducing a restriction @xmath64 of the point operation of sets in @xmath12 on sets in @xmath13 makes the ramsey condition ( r ) below more flexible , while a careful calibration of the resteriction makes it possible to satisfy condition ( @xmath65 ) of the next subsection . in concrete situations , definitions of restrictions",
    "@xmath64 are very natural .",
    "[ i : dbul]for @xmath66 with @xmath67 , let @xmath68 stand for the set of all ( strictly ) increasing functions from @xmath47 $ ] to @xmath27 $ ] .",
    "let also @xmath69 consist of one element  the empty function .",
    "since an increasing function from @xmath47 $ ] to @xmath27 $ ] is determined by its range , @xmath68 can be identified with the set of all @xmath49 element subsets of @xmath27 $ ] .",
    "let @xmath25 be the set of all @xmath68 with @xmath67 or @xmath70 .",
    "declare @xmath71 to be defined precisely when @xmath72 , and let @xmath73 it is clear that @xmath74 .",
    "note , however , that @xmath75 is defined if we assume only @xmath76 .",
    "the following condition is our ramsey statement , which is just a formalization of the statement from the beginning of this subsection :    1 .",
    "given @xmath77 , for each @xmath26 , there is an @xmath29 such that @xmath60 is defined , and for every @xmath3-coloring of @xmath60 there is an @xmath78 such that @xmath79 is monochromatic .    in the special case of illustrations  [ i : ramfir ] and [ i : dbul ] , condition ( r )",
    "says in particular that given @xmath77 and @xmath67 there exists @xmath76 such that for each @xmath3-coloring of @xmath80 there exists @xmath81 such that the set @xmath82 is monochromatic .",
    "this is the classical ramsey theorem .",
    "we introduce here our pigeonhole principle .",
    "the name is purely conventional as the principle is not a simple abstraction of the well known pigeonhole principle of dirichlet .",
    "rather it is a condition that is easy to check in concrete situations and that implies , through inductive arguments encoded in theorem  [ t : ram ] , the ramsey condition ( r ) .",
    "we will need an important additional piece of structure .",
    "let @xmath83 , and an action @xmath36 be as above .",
    "let @xmath84 be a function such that for @xmath85 and @xmath86 , if @xmath40 is defined , then @xmath87 is defined and @xmath88 such a function @xmath89 is called a * truncation*. for @xmath38 , we write @xmath90    introduction of the operator @xmath89 equips @xmath33 with an additional structure and equation states that the action of @xmath32 on @xmath33 is implemented by homomorphism of this structure . in applications to concrete ramsey theorems , @xmath89 is always a form of derivation leading from an object in @xmath33 to another , less complex object in @xmath33 .",
    "in this fashion , in proofs , @xmath89 provides a foothold for inductive arguments .",
    "[ i : tru ] we continue the pervious illustrations , in particular , our notation is as in illustration  [ i : ramfir ] . for @xmath86 with @xmath53\\to { \\mathbb n}\\setminus \\ { 0\\}$ ] , define @xmath91.\\ ] ] ( recall here the convention for the notation @xmath92 adopted in the introduction . )",
    "it is easy to check that condition is satisfied .",
    "note also that , by , @xmath93 , if @xmath94 , and @xmath95 , if @xmath96 .",
    "let @xmath97 be a pair of families over @xmath98 equipped with a truncation @xmath89 .",
    "we are ready to formulate our pigeonhole principle . for @xmath38 and @xmath99 , put @xmath100 so @xmath101 is the set consisting of those elements of @xmath14 that truncate to the same simpler object @xmath102 . given @xmath103 , we say that @xmath104 * extends * @xmath105 if for each @xmath54 with @xmath40 defined , we have that @xmath106 is defined and that it is equal to @xmath40 . for @xmath29 and @xmath85 , let @xmath107    the ramsey statement ( r ) above requires , upon coloring of @xmath60 , stabilizing the coloring on a copy @xmath79 of @xmath14 obtained by acting on @xmath14 by some element @xmath108 of @xmath15",
    ". pigeonhole principle ( p ) below asks us to perform the following much easier task .",
    "we fix an object @xmath99 , which can be assumed to be simpler than objects in @xmath14 .",
    "we consider the elements of @xmath14 that truncate to this fixed @xmath102 , that is , we consider @xmath101 , and require stabilizing the coloring _ only _ on a copy @xmath109 of @xmath101 obtained by acting on @xmath101 by an element @xmath108 from @xmath15 .",
    "the price to pay is that @xmath108 has to act on @xmath102 in a way prescribed by an element @xmath85 chosen in advance , that is , @xmath108 is actually taken from @xmath110 for some @xmath105 for which @xmath111 is defined .",
    "it is surprising that various concrete pigeonhole principles occurring in the finite pure ramsey theory have this form .",
    "we illustrate it below by the classical pigeonhole principle used to prove the classical ramsey theorem . in the following sections",
    ", we will give more complex examples involving trees .",
    "paper @xcite contains a number of further examples .",
    "the following criterion on @xmath97 is our pigeonhole principle :    1 .   given @xmath77 , for all @xmath26 and @xmath112 , there are @xmath29 and @xmath85 such that @xmath60 is defined , @xmath111 is defined , and for every @xmath3-coloring of @xmath113 there is an @xmath114 such that @xmath115 is monochromatic .    note that in the condition above @xmath116 is defined since @xmath60 is assumed to be defined and @xmath117 and @xmath118 . also , of course , the condition would not have changed if we required the coloring to be defined on @xmath119 or even on @xmath39 .",
    "it is , however , crucial that @xmath108 be found in @xmath110 .",
    "[ i : p1 ]    in our special case from the earlier illustrations , a moment of thought and a picture convince one that condition ( p ) boils down to the classical pigeonhole principle . for the sake of practice , however , let us look at it carefully in detail .",
    "we will be helped by figure  [ fig : drawing1 ] .    for notational simplicity , in the argument below , we assume that @xmath94 and leave checking that the same argument works for @xmath96 to the reader .",
    "we state condition ( p ) in our special case :    let @xmath77 , @xmath120 and @xmath121 be given ; let @xmath122 be the maximum of the range of @xmath102 ; there exists @xmath76 and an increasing function @xmath123\\to { \\mathbb n}\\setminus \\ { 0\\}$ ] such that for each each @xmath3-coloring of @xmath124 = a,\\ , x\\in \\binom{l}{k},\\ , x\\upharpoonright [ k-1 ] = y\\}\\ ] ] there exists @xmath125 with @xmath126 = a$ ] and such that @xmath127 = y\\}\\ ] ] is monochromatic .",
    "we claim that the condition above holds with @xmath105 being the identity function from @xmath128 $ ] to itself .",
    "indeed , with this choice of @xmath105 , the conclusion of the condition reads :    there exists @xmath76 such that for each @xmath3-coloring of @xmath129,\\ , x\\in \\binom{l}{k},\\ , x\\upharpoonright [ k-1 ] = y\\}\\ ] ] there exists @xmath125 with @xmath130 , for @xmath131 $ ] , and with @xmath127 = y\\}\\ ] ] monochromatic .",
    "the elements of the set @xmath132,\\ , x\\in \\binom{l}{k},\\ , x\\upharpoonright [ k-1 ] = y\\}\\ ] ] differ only in the single value @xmath133 and this value comes from the set @xmath28\\setminus [ l']$ ] .",
    "also @xmath134 is an arbitrary element of @xmath27\\setminus [ l']$ ] .",
    "so , in essence , we are @xmath3-coloring @xmath28\\setminus [ l']$ ] and are looking for an increasing function from @xmath27\\setminus [ l']$ ] to @xmath28\\setminus [ l']$ ] whose values take the same color .",
    "this is just the classical pigeonhole condition , and we can take @xmath5 to be any number strictly bigger than @xmath135 .    our goal is to state a theorem that condition ( p ) implies condition ( r ) . achieving this goal , in theorem  [ t : ram ] , will require introducing more structure on @xmath136 and imposing additional conditions on @xmath97 .",
    "let @xmath83 , an action @xmath36 , and a truncation @xmath89 be as above .",
    "let again @xmath97 be a pair of families over @xmath63 .",
    "recall the notion of extension for elements of @xmath32 defined in the discussion preceding .",
    "we first state two conditions on @xmath97 that do not require introducing any additional structure :    1 .   if @xmath26 , then @xmath137 ; 2 .",
    "if @xmath29 , @xmath26 , and @xmath138 is defined , then there is @xmath139 such that @xmath140 is defined and for each @xmath78 there is @xmath141 extending @xmath108 .    strictly speaking conditions (",
    "a ) and ( b ) are not needed to prove theorem  [ t : ram ] ; one can dispense with them at the expense of strengthening condition ( p ) slightly .",
    "( we elaborate on it in appendix  1 . )",
    "however , in some situations , for example , in all the situations in this note , conditions ( a ) and ( b ) hold , and whenever they hold they do so in an obvious way ( and they make strengthening of ( p ) unnecessary ) .",
    "condition ( a ) simply requires closure of @xmath13 under truncation . as for condition ( b ) , note that if @xmath39 is defined , then @xmath142 is defined .",
    "the reverse implication is false in general .",
    "condition ( b ) gives a substitute for this reverse implication : assuming something stronger , namely that @xmath138 is defined , we can infer that @xmath140 is defined for a @xmath143 that can simulate the action of every element of @xmath15 .",
    "recall that we have @xmath144 we check conditions ( a ) and ( b ) .",
    "it follows from the remark in illustration  [ i : tru ] that @xmath13 is closed under @xmath89 , so ( a ) holds . to check ( b ) , let @xmath145 and @xmath146",
    "we assume @xmath94 and leave the trivial case @xmath96 to the reader .",
    "we have @xmath147 is defined precisely when @xmath148 , and we can take @xmath149 to witness the conclusion of ( b ) since @xmath150 is defined and each element of @xmath151 is extended by an element of @xmath152 .",
    "we elaborate on this last point .",
    "note that for each @xmath153 , that is , for each increasing @xmath154\\to [ n]$ ] , there is increasing @xmath155\\to [ n+1]$ ] with @xmath156 = f$ ] .",
    "in this situation , for each @xmath86 ( recall that @xmath33 is the set of all increasing functions from some @xmath47 $ ] to @xmath50 ) , if @xmath157 is defined , then the image of @xmath54 is included in @xmath158 $ ] , and so @xmath159 is defined and obviously @xmath160",
    "so , in our example , @xmath161 extending @xmath108 as an increasing function is equivalent to @xmath161 extending @xmath108 as an element of @xmath32 .",
    "a similar coincidence will be present also in the subsequent illustrations .    to make the partial function @xmath36 from @xmath34",
    "to @xmath33 into an honest action , we assume that we also have a _ partial _ function from @xmath162 to @xmath32 : @xmath163 such that for @xmath103 and @xmath86 if @xmath164 and @xmath165 are both defined , then @xmath166 the operation @xmath167 as above will be called * multiplication*. equation is the usual equation defining , say , a group action on a set .",
    "as before , for @xmath168 , we say that @xmath169 _ is defined _ if @xmath170 is defined for all @xmath41 and @xmath171 and we let @xmath172    now , again as before , in addition to the partial function @xmath64 from @xmath58 to @xmath13 , assume that we have a partial function @xmath173 from @xmath174 to @xmath12 with the property that if @xmath175 is defined , then it is given point - wise , that is , @xmath176 is defined and @xmath177 we now call @xmath178 a * pair of families over * @xmath179",
    ".    we can now state our final condition on @xmath12 , @xmath13 , @xmath64 and @xmath173 :    1 .",
    "if @xmath180 , @xmath26 , and @xmath181 is defined , then so is @xmath182 .",
    "this condition is crucial .",
    "it says that @xmath181 is never defined  by chance ; \" if it is defined , then the product @xmath183 is defined , as is its action on @xmath14 . in concrete situations ,",
    "this condition is guaranteed by a natural calibration of the domains of the operations @xmath64 and @xmath173 .",
    "note that under the assumptions of ( @xmath65 ) , from , we have @xmath184 in @xcite , a pair of families @xmath178 over @xmath179 fufilling condition ( @xmath65 ) is called an _ actoid of sets_.    recall again that @xmath144 declare @xmath185 on @xmath12 to be defined precisely when @xmath72 and let @xmath186 so @xmath173 is equal to @xmath64 defined earlier in illustration  [ i : dbul ] .",
    "it follows that @xmath173 is given pointwise .    to check ( @xmath65 ) , note that if @xmath187 is defined , then @xmath72 and @xmath188 , but in this situation @xmath189 is defined .",
    "we require one more piece of structure that , roughly speaking , measures complexity of objects in @xmath33 .",
    "a function @xmath190 , where @xmath191 is a linear order , is called a * norm * if for @xmath192 , @xmath193 implies that for all @xmath85 @xmath194 in our special case , @xmath33 is the set of all increasing injections @xmath53\\to { \\mathbb n}\\setminus \\ { 0\\}$ ] for @xmath195 .",
    "define @xmath196 , where @xmath50 is taken with its natural linear order , to be @xmath197 we check that this definition gives a norm .",
    "let @xmath85 , @xmath52\\to { \\mathbb n}\\setminus \\ { 0\\}$ ] . note that , for @xmath86 , @xmath40 is defined precisely when @xmath198 and @xmath199 , if @xmath200 , and @xmath201 , if @xmath202 .",
    "so given @xmath203 with @xmath204 , it is clear that if @xmath205 is defined , then so is @xmath206 and @xmath207 or @xmath208    the additional conditions required to prove our theorem were stated as ( a ) , ( b ) , and ( @xmath65 ) .",
    "the additional structure introduced above is consolidated in the following notion .",
    "[ d : norback ] a * normed background * is a pair of sets @xmath83 equipped with a multiplication @xmath167 and an action @xmath36 fulfilling , with a truncation @xmath89 fulfilling , and with a norm @xmath209 fulfilling .    with some abuse of notation , a normed background as above will be denoted by @xmath210 .",
    "now we can phrase our theorem . to see how it follows from the somewhat more general results of @xcite",
    ", the reader should consult appendix  1 .",
    "we write @xmath211 , @xmath212 , for the result of applying truncation @xmath89 to @xmath14 @xmath213 times .",
    "[ t : ram ] let @xmath178 be a pair of families over a normed background fulfilling conditions ( a ) , ( b ) , and ( @xmath65 ) .",
    "assume that each @xmath26 is finite and for each @xmath26 there is @xmath212 such that @xmath214 consist of one element . if @xmath215 fulfills ( p ) , then it fulfills ( r ) .",
    "note that the theorem above gives the classical ramsey theorem on the basis of illustrations  [ i : ramfir][i : ramlas ] . in them , we checked all the assumptions of theorem  [ t : ram ] except : for @xmath26 , @xmath14 is finite and @xmath211 has one element for some @xmath212 .",
    "finiteness of @xmath14 is clear .",
    "note that @xmath216 , so this last assumption is also fulfilled .",
    "* trees and embeddings .",
    "* we state here basic definitions concerning trees . by a * tree",
    "* we understand a _",
    ", possibly empty , partial order such that each two elements have a common predecessor and the set of predecessors of each element is linearly ordered .",
    "so trees for us are _",
    "finite trees_. if a tree is non - empty , it has a smallest element , which we call the * root*. maximal elements of a tree are called * leaves*. by convention , we regard every node of a tree as one of its own predecessors and as one of its own successors .",
    "each tree @xmath217 carries a binary function @xmath218 that assigns to each @xmath219 the largest element @xmath220 of @xmath217 that is a predecessor of both @xmath221 and @xmath222 .",
    "after deuber @xcite , we say that a function @xmath223 , for trees @xmath224 and @xmath217 , is a * morphism * if for all @xmath225 , @xmath226 so strictly speaking @xmath108 is a morphism from the functional structure @xmath227 to the functional structure @xmath228 .    for a tree @xmath217 and @xmath229 , let @xmath230 be the set of all * immediate successors * of @xmath221 , and we do not regard @xmath221 as one of them .",
    "let @xmath231 be the tree whose elements are all the successors of @xmath221 ( with @xmath221 among them , of course ) .",
    "let @xmath232 be the cardinality of the set of all predecessors of @xmath221 ( including @xmath221 ) , and let @xmath233 for a non - empty tree @xmath217 , let @xmath234 be the maximum of cardinalities of @xmath230 for @xmath229 .",
    "we will occasionally suppress the subscripts from various pieces of notation introduced above if we deem them clear from the context .",
    "a tree @xmath217 is called * ordered * if for each @xmath229 there is a fixed linear order of @xmath235 .",
    "such an assignment allows us to define the lexicographic linear order @xmath236 on all the nodes of @xmath217 by stipulating that @xmath237 if @xmath221 is a predecessor of @xmath222 and , in case @xmath221 is not a predecessor of @xmath222 and @xmath222 is not a predecessor of @xmath221 , that @xmath238 if the predecessor of @xmath221 in @xmath239 is less than or equal to the predecessor of @xmath222 in @xmath239 in the given order on @xmath239 .    the simplest ordered trees are @xmath1 $ ] for @xmath240 with their natural successor relation and the unique ordering of the immediate successors of each vertex .",
    "an * embedding @xmath108 from an ordered tree @xmath224 to an ordered tree @xmath217 * is an injective tree morphism such that    1 .",
    "it is order preserving between @xmath241 and @xmath236 ; 2 .   for each @xmath242 ,",
    "the set @xmath243 forms an initial segment with respect to @xmath236 of @xmath244 .",
    "note that preservation of order by @xmath108 is equivalent to saying that for every @xmath242 and all @xmath245 with @xmath246 if @xmath247 in @xmath244 are predecessors of @xmath248 and @xmath249 , respectively , then @xmath250 .",
    "an embedding is * leaf preserving * if each leaf of the domain is mapped to a leaf of the range .",
    "an embedding @xmath223 is called * strong * if for @xmath225 with @xmath251 we have that @xmath252 .",
    "note that each embedding from @xmath1 $ ] , @xmath240 , to an ordered tree is a strong embedding .    * derivations on trees .",
    "* there are two natural ways to trim an ordered tree .",
    "let an ordered tree @xmath217 be given .",
    "put @xmath253 that is , @xmath254 is obtained from @xmath217 by removing all of its highest leaves .",
    "note that @xmath254 with @xmath236 restricted to it is an ordered tree , and that the inclusion from @xmath254 to @xmath217 is a strong embedding .",
    "let @xmath54 be the rightmost with respect to @xmath236 leaf of @xmath217 , that is , @xmath54 is the @xmath236-largest element of @xmath217 , and let @xmath255 that is , @xmath256 is obtained from @xmath217 by removing from it a final segment of its rightmost branch .",
    "the tree @xmath256 with @xmath236 restricted to it forms an ordered tree and the inclusion @xmath257 is a leaf preserving embedding . if @xmath258 , then the set @xmath259 with the inherited tree structure can be identified with @xmath24 $ ] for some @xmath260 , @xmath261 , with its natural tree order .",
    "if @xmath262 , there is a unique node @xmath263 that has an immediate successor in @xmath259 .",
    "we call @xmath264 the * splitting node of * @xmath217",
    ".    * examples of trees and embeddings . *",
    "we fix some notation concerning trees .",
    "after deuber @xcite , a non - empty tree @xmath217 is called * regular * if for each @xmath229 that is not a leaf , @xmath265 and for each leaf @xmath266 , @xmath267 . of course",
    ", each such tree is fully determined by the value of two parameters : @xmath234 and @xmath268 . for @xmath269 , @xmath10 , @xmath270 ,",
    "let @xmath271 be the regular tree of height @xmath0 and with branching number @xmath49 . by convention , for @xmath195 ,",
    "let @xmath272 have exactly one node and @xmath273 be equal to the empty tree , and for @xmath240 , @xmath270 , let @xmath274 have exactly one node .",
    "we consider @xmath271 to be an ordered tree with some linear order @xmath275 .",
    "( all possible orders making @xmath271 into an ordered tree lead to isomorphic ordered trees . ) the tree @xmath276 can be identified with @xmath1 $ ] as an ordered tree .",
    "we fix two natural ways of embedding @xmath271 into @xmath277 .",
    "first , there is a unique embedding @xmath278 of @xmath279 into @xmath280 with @xmath281 for @xmath282 , and with @xmath278 mapping the root of @xmath271 to the root of @xmath280 , if @xmath271 is non - empty .",
    "note that @xmath283 for @xmath282 .",
    "we write @xmath284 to indicate that we consider @xmath271 identified with its image under @xmath278 .",
    "there is also a unique embedding @xmath285 of @xmath271 into @xmath277 with @xmath286 for @xmath282 , and with @xmath285 mapping the @xmath275-smallest leaf of @xmath271 to the @xmath287-smallest leaf of @xmath280 , if @xmath271 is non - empty .",
    "this embedding comes from the isomorphism between @xmath271 and @xmath288 , where @xmath264 is the @xmath289-smallest immediate successor of the root of @xmath280 .",
    "note that the image of the set of all leaves of @xmath271 under @xmath285 is an initial segment with respect to @xmath287 of the set of leaves of @xmath277 .",
    "we write @xmath290 to indicate that we consider @xmath271 identified with its image under @xmath285 .",
    "we give one more illustration .",
    "its conclusion will be used in the sequel .",
    "[ i : tree ]    _ we prove the following , possibly folklore , generalization of the classical ramsey theorem . _    _ given @xmath77 , @xmath291 , and a non - empty ordered tree @xmath224 , there is a non - empty ordered tree @xmath217 with @xmath292 such that for each @xmath3-coloring of all leaf preserving embeddings of @xmath293 $ ] to @xmath217 there exists a leaf preserving embedding @xmath294 such that @xmath295\\to s\\hbox { a leaf preserving embedding}\\}\\ ] ] is monochromatic .",
    "_    the proof below consists essentially of stating definitions .",
    "all the checking that needs to be done is routine and would be probably best left to the reader .",
    "however , since this is the first example involving trees , we will perform all the verifications carefully and explicitly .",
    "let @xmath296 .",
    "since there is a leaf preserving embedding from @xmath224 to @xmath297 with @xmath298 , we can assume that @xmath299 for some @xmath5 .",
    "for @xmath240 , set @xmath300    * normed background .",
    "* let @xmath33 be the set of all ( not necessarily leaf preserving ) embeddings from some @xmath28 $ ] to some @xmath301 .",
    "let @xmath32 consist of all strong embeddings from some @xmath302 to some @xmath301 .",
    "( strong embeddings were defined earlier in this section .",
    "we will need this more restrictive notion of embedding for the normed background we are defining to work . ) for @xmath303 and @xmath304 declare that @xmath305 is defined if the image of @xmath108 is included with respect to @xmath306 ( as defined in ) in the domain of @xmath161 , and similarly declare that @xmath307 is defined if the image of @xmath308 is included with respect to @xmath306 in the domain of @xmath309 , and let @xmath310    define @xmath311 on @xmath33 be letting for @xmath312\\to t^n$ ] , @xmath313.\\ ] ] note , after recalling the derivation , that @xmath314^*$ ] .",
    "let @xmath315 it is checked without any difficulty that @xmath210 with the operations defined above is a normed background .",
    "the requirement that embeddings in @xmath32 be strong is used in checking that @xmath209 is a norm .",
    "* a pair of families over @xmath210 . *",
    "let @xmath316 be ordered trees .",
    "let @xmath317}{0pt}{}{t}{s}}^s\\ ] ] stand for the set of all strong embeddings and strong , leaf preserving embeddings , respectively , from @xmath224 to @xmath217 .",
    "since all embeddings from @xmath28 $ ] , @xmath318 , to an ordered tree are strong , we simplify our notation by setting @xmath319}^s\\;\\hbox { and } \\;{\\genfrac{[}{]}{0pt}{}{t}{m } } = { \\genfrac{[}{]}{0pt}{}{t}{[m]}}^s,\\ ] ] that is , @xmath320 and @xmath321}{0pt}{}{t}{m}}$ ] stand for the set of all embeddings from @xmath28 $ ] to @xmath217 and for the set of all leaf preserving embeddings from @xmath28 $ ] to @xmath217 , respectively .",
    "let @xmath56 consist of sets of the form @xmath322 and @xmath321}{0pt}{}{t^n}{t^m}}^s$ ] with @xmath323 or @xmath324 .",
    "declare @xmath173 to be defined precisely in the following situations : @xmath325 and @xmath321}{0pt}{}{t^n}{t^m}}^s\\bullet { \\genfrac{[}{]}{0pt}{}{t^m}{t^l}}^s$ ] , and define them to be @xmath326}{0pt}{}{t^n}{t^m}}^s\\bullet { \\genfrac{[}{]}{0pt}{}{t^m}{t^l}}^s={\\genfrac{[}{]}{0pt}{}{t^n}{t^l}}^s.\\ ] ] let @xmath13 consist of sets of the form @xmath327 and @xmath321}{0pt}{}{t^n}{m}}$ ] with @xmath323 or @xmath324 .",
    "declare @xmath64 to be defined precisely in the following situations : @xmath328 and @xmath321}{0pt}{}{t^n}{t^m}}^s{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}{\\genfrac{[}{]}{0pt}{}{t^m}{l}}$ ] , and let @xmath329}{0pt}{}{t^n}{t^m}}^s{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}{\\genfrac{[}{]}{0pt}{}{t^m}{l } } =   { \\genfrac{[}{]}{0pt}{}{t^n}{l}}.\\ ] ] it is easy to see that these @xmath173 and @xmath64 when defined are given point - wise .",
    "this checking boils down to showing that each strong embedding from @xmath330 to @xmath301 factors through @xmath302 , and the same for strong , leaf preserving embeddings .",
    "such factorizations are easy to produce .",
    "arguing by induction , we see that it is suffices to show their existence for @xmath331 .",
    "since @xmath332 , given a strong ( leaf preserving , respectively ) embedding @xmath333 , there is @xmath334 such that @xmath335 , for each @xmath336 .",
    "fix the largest @xmath337 such that @xmath338 for all @xmath336 with @xmath339 , or let @xmath340 if no such @xmath341 exists .",
    "let @xmath342 be an arbitrary strong ( leaf preserving , respectively ) embedding such that for @xmath336 @xmath343 so there is no element of @xmath330 that gets mapped to a @xmath344 with @xmath345 .",
    "now it is easy to find a strong ( leaf preserving , respectively ) embedding @xmath346 such that @xmath347 .",
    "( we do it so that @xmath348 for all @xmath344 with @xmath349 . )",
    "note that @xmath350}{0pt}{}{t^n}{m } } = \\begin{cases } \\binom{t^{n-1}}{m-1 } , & \\text { if $ m>1$;}\\\\ \\binom{t^0}{0 } , & \\text { if $ m\\leq 1$. } \\end{cases}\\ ] ] using , we verify that @xmath56 and @xmath57 is a pair of families over @xmath210 fulfilling conditions ( a ) and ( b ) .",
    "condition ( a ) is clear from .",
    "we verify condition ( b ) for @xmath94 in the calculation below , and leave the trivial case @xmath96 to the reader .",
    "note that by , if @xmath351 is defined , then @xmath352 , so @xmath353 is defined and each @xmath354 is extended by some @xmath355 ( that is , for each @xmath303 if @xmath305 is defined , then so is @xmath356 and @xmath357 ) ; simply view @xmath302 as included in @xmath358 via @xmath306 and take @xmath359 to be any strong embedding with @xmath360 , that is , @xmath361 extends @xmath362 as an embedding .",
    "we handle the situation when @xmath363}{0pt}{}{t^l}{k } } = \\binom{t^n}{t^m}^s{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}\\binom{t^{l-1}}{k-1}\\ ] ] is defined in the same way , except that in this case @xmath321}{0pt}{}{t^{n+1}}{t^{m+1}}}^s$ ] witnesses that ( b ) holds .    to see condition ( @xmath65 ) , note that if @xmath364 is defined , then @xmath72 and @xmath188 , so @xmath365 is defined , as required .",
    "we handle the situation when @xmath366}{0pt}{}{t^q}{t^p}}^s{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}({\\genfrac{[}{]}{0pt}{}{t^n}{t^m}}^s{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}{\\genfrac{[}{]}{0pt}{}{t^l}{k}})\\ ] ] is defined in the same way .    condition ( r ) for the above defined pair of families clearly gives the statement from the beginning of this illustration .",
    "since for @xmath321}{0pt}{}{t^n}{m}}\\in { \\mathcal p}$ ] we have @xmath367}{0pt}{}{t^n}{m } } = \\binom{t^0}{0}$ ] and @xmath368 has exactly one element , by theorem  [ t : ram ] , it suffices to see condition ( p ) .",
    "* condition ( p ) . *",
    "we carefully check condition ( p ) . fix an element of @xmath13 , which must be of the form @xmath369 or @xmath321}{0pt}{}{t^q}{p}}$ ] .",
    "we consider the first case first .",
    "we assume @xmath370 and leave @xmath371 to the reader . to check ( p ) , recall the pieces of notation set up in equations and .",
    "fix @xmath372 .",
    "we need to find an element @xmath373 of @xmath12 ( it suffices , of course , to find @xmath374 ) and @xmath375 so that for each @xmath3-coloring of @xmath376 there is @xmath377 such that @xmath378 is monochromatic .",
    "note that @xmath379 is automatically defined .",
    "we claim that @xmath375 equal the identity function @xmath380 does the job , where @xmath381 is defined by . checking ( p ) boils down to stating precisely what elements the sets @xmath382 , @xmath383 , and @xmath378 , for @xmath377 , consist of .",
    "let @xmath264 be the smallest with respect to @xmath384 element of the set @xmath385 , and keep in mind that we are looking for @xmath374 .",
    "the set @xmath382 consists of all @xmath386 with @xmath387 .",
    "this last condition is equivalent to saying that @xmath388 = f_0 $ ] and @xmath389 where is a consequence of point ( ii ) in the definition of embedding between ordered trees .",
    "each such embedding @xmath108 is completely determined by the value of @xmath390 .",
    "fix @xmath391 , arbitrary for the moment .",
    "let @xmath161 be a strong embedding in @xmath383 .",
    "it is equal to the identity on @xmath392 and it is determined by strong embeddings @xmath393 from @xmath394 to @xmath395 , where @xmath221 varies over the nodes of @xmath396 with @xmath397 .",
    "now , elements of @xmath378 are embeddings @xmath398\\to t^r$ ] with @xmath108 for which holds .",
    "each such embedding is completely determined by the value @xmath399 therefore , solving the problem of fixing the color on @xmath378 amounts to the following : @xmath3-color @xmath400 ( this is where the values of @xmath401 are coming from ) , then find a strong embedding ( this is @xmath402 ) of @xmath403 ( this is where the values @xmath390 are located ) to @xmath400 so that the image of @xmath403 is monochromatic .",
    "this can be arranged using a form of the halpern ",
    "luchli theorem ( ( hl2 ) with @xmath404 from appendix  2 ) by taking @xmath374 large enough since @xmath403 and @xmath400 are isomorphic to @xmath302 and @xmath301 , where @xmath405 and @xmath406 , respectively . for @xmath407 , after identifying @xmath394 with @xmath403 and @xmath395 with @xmath400 via the unique isomorphisms , we let @xmath393 be equal to @xmath402 .",
    "note that so defined @xmath161 is strong .",
    "the case @xmath408}{0pt}{}{t^q}{p}}$ ] is handled analogously with the exception that for @xmath15 one takes @xmath321}{0pt}{}{t^r}{t^q}}^s$ ] for large enough @xmath374 and one uses another form of the halpern ",
    "luchli theorem ( ( hl1 ) from appendix  2 ) .",
    "we leave it to the reader to re - check the details .",
    "we prove the following theorem that extends the results of deuber @xcite and of jasiski @xcite .",
    "our proof differs from the arguments of these two papers .",
    "[ p : gen ] for non - empty ordered trees @xmath409 and @xmath77 , there exists a non - empty ordered tree @xmath410 with @xmath411 such that for each @xmath3-coloring of all leaf preserving embeddings from @xmath224 to @xmath410 there is a leaf preserving embedding @xmath412 such that @xmath413 is monochromatic .    as a direct consequence of the above result",
    ", one gets its version for embeddings that are not necessarily leaf preserving by the following argument . given ordered trees @xmath409 , let @xmath414 be the trees obtained from @xmath224 and @xmath217 by adding one node on top of each leaf of @xmath224 and @xmath217 , respectively .",
    "apply now the above statement to @xmath414 obtaining @xmath410 .",
    "let @xmath415 be gotten from @xmath410 by deleting from it all of its leaves .",
    "it is easy to check that @xmath415 works by using the obvious observation that embeddings from @xmath224 to @xmath217 , from @xmath224 to @xmath415 , and from @xmath217 to @xmath415 are precisely restrictions of leaf preserving embeddings from @xmath416 to @xmath417 , from @xmath416 to @xmath410 , and from @xmath417 to @xmath410 , respectively .",
    "deuber s theorem @xcite is the above result for embeddings that are not necessarily leaf preserving and under the additional assumptions that @xmath418 and that @xmath224 is regular as defined in section  [ s : tree ] .",
    "jasiski s theorem is originally @xcite stated for boron structures as defined in @xcite , but can easily be rephrased in terms of trees , and then it becomes equivalent to the above result with the additional assumptions that @xmath418 and that for each @xmath242 that is not a leaf @xmath419 .",
    "we show now how to derive proposition  [ p : gen ] from theorem  [ t : ram ] .",
    "let @xmath420 and set @xmath421 .",
    "note that it is enough to prove the theorem for @xmath217 equal to some @xmath301 since every ordered tree @xmath217 with @xmath422 embeds leaf - preservingly into some @xmath301 .",
    "we define an analogue of the set of natural numbers for the present ramsey situation .",
    "we view @xmath301 as an ordered subtree @xmath423 via the inclusion @xmath424 defined by .",
    "this convention gives an increasing sequence @xmath425 of ordered trees .",
    "let the direct limit ( that is , the union , if @xmath301 is identified with its image in @xmath423 ) of this sequence be denoted by @xmath426 .",
    "observe that @xmath426 carries a linear order induced from the linear orders @xmath427 on the @xmath301-s .",
    "we denote this linear order by @xmath428 .",
    "each element @xmath221 of @xmath426 belongs to some @xmath301 .",
    "we call @xmath221 a * leaf * if @xmath221 is a leaf in some , or equivalently all , @xmath301 to which it belongs . for an ordered tree @xmath224 ,",
    "each function @xmath429 has its range included in some @xmath301 .",
    "we call @xmath108 a * leaf preserving embedding * if @xmath108 is a leaf preserving embedding to some , or equivalently all , @xmath301 in which the image of @xmath108 is included .",
    "further , @xmath430 for a subset @xmath431 of @xmath426 is called a * leaf preserving embedding * if the restriction of @xmath161 to each @xmath432 , @xmath240 , is a leaf preserving embedding , where @xmath432 is taken with the tree order inherited from @xmath301 . for a leaf @xmath433 , let @xmath434 note that @xmath435 is an infinite set .    * normed background . *",
    "let @xmath436 consist of all leaf preserving embeddings @xmath429 , where @xmath224 is an ordered tree .",
    "let @xmath437 consist of the empty function and of all leaf preserving embeddings @xmath438 , where @xmath54 is a leaf of @xmath426 .",
    "it is easy to see that for such a @xmath438 , we have @xmath439 . as always , for @xmath440 and @xmath441 , let @xmath305 to be defined precisely when the image of @xmath108 is included in the domain of @xmath161 and let @xmath442 similarly for @xmath443 , define @xmath307 to be defined precisely when the image of @xmath308 is contained in the domain of @xmath309 and let @xmath444 we define a truncation using the branch cutting derivation on trees given by . for @xmath440 with @xmath429 define @xmath445 where @xmath446 is given by .",
    "we define a norm @xmath447 , where @xmath426 is considered as a linear order with @xmath428 and @xmath448 is an element that is less than all the elements of @xmath426 , by letting for @xmath440 with @xmath429 @xmath449 observe that if @xmath450 , then @xmath451 is the @xmath428-minimal leaf @xmath433 such that @xmath452 .",
    "it is easy to check that with so defined operations , @xmath453 becomes a normed background .    * a pair of families over @xmath454 . * for @xmath240 ,",
    "let @xmath455 be the rightmost leaf of @xmath301 and let @xmath456 be the root of @xmath301 .",
    "note that @xmath457 define for @xmath458 @xmath459}{0pt}{}{t^n}{t^m}}^\\infty = \\",
    "{ g\\in b\\colon & g\\colon t_{x_m}\\to t_{x_n},\\ , g(t^m)\\subseteq t^n,\\ , \\hbox { and } \\\\ & g(v_{m+k } ) = v_{n+k } \\hbox { for all } k\\in { \\mathbb n } , k>0\\}. \\end{split}\\ ] ] additionally , let @xmath321}{0pt}{}{t^0}{t^0}}^\\infty$ ] consist of the empty function .",
    "observe that the function @xmath366}{0pt}{}{t^n}{t^m}}^\\infty \\ni g\\to g { \\upharpoonright}t^m\\ ] ] is a bijection from @xmath321}{0pt}{}{t^n}{t^m}}^\\infty$ ] to all leaf preserving embeddings from @xmath302 to @xmath301 .",
    "let @xmath460 consist be the family of all subsets of @xmath437 of the form @xmath321}{0pt}{}{t^n}{t^m}}^\\infty$ ] , where @xmath461 and @xmath458 or @xmath324 .",
    "let @xmath462 be the family of all non - empty finite sets @xmath463 of the following form : there is an ordered tree @xmath224 such that @xmath464 consists of some leaf preserving embeddings from @xmath224 to @xmath426 .",
    "in such a situation , we say that @xmath464 * is based on * @xmath224 . as usual , declare @xmath321}{0pt}{}{t^n}{t^m}}^\\infty\\bullet { \\genfrac{[}{]}{0pt}{}{t^l}{t^k}}^\\infty$ ] to be defined precisely when @xmath72 and let @xmath366}{0pt}{}{t^n}{t^l}}^\\infty\\bullet { \\genfrac{[}{]}{0pt}{}{t^l}{t^k}}^\\infty = { \\genfrac{[}{]}{0pt}{}{t^n}{t^k}}^\\infty.\\ ] ] declare @xmath321}{0pt}{}{t^n}{t^m}}^\\infty{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}q$ ] to be defined precisely when @xmath5 is the smallest natural number with the property that the images of all elements of @xmath464 are included in @xmath302 , and let @xmath366}{0pt}{}{t^n}{t^m}}^\\infty{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}q = { \\genfrac{[}{]}{0pt}{}{t^n}{t^m}}^\\infty{\\ , .\\,}q.\\ ] ]    we leave to the reader the easy check that @xmath465 is a pair of families over @xmath454 , that is , the operations @xmath64 and @xmath173 are given pointwise .",
    "the pair of families fulfills conditions ( a ) , ( b ) , and ( @xmath65 ) .",
    "condition ( a ) is clear . to see condition ( b ) ,",
    "assume that @xmath321}{0pt}{}{t^n}{t^m}}^\\infty{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}\\partial q$ ] is defined , that is , @xmath5 is smallest such that the image of all elements of @xmath466 is included in @xmath302 .",
    "let @xmath467 be smallest such that the image of each element of @xmath464 is included in @xmath468",
    ". then @xmath321}{0pt}{}{t^{n+l}}{t^{m+l}}}^\\infty$ ] witnesses that ( b ) holds since @xmath321}{0pt}{}{t^{n+l}}{t^{m+l}}}^\\infty{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}q$ ] is defined and , as is easy to check , each leaf preserving embedding from @xmath321}{0pt}{}{t^n}{t^m}}^\\infty$ ] extends ( as a function ) to a leaf preserving embedding from @xmath321}{0pt}{}{t^{n+l}}{t^{m+l}}}^\\infty$ ] .",
    "condition ( @xmath65 ) follows immediately from an easy observation that if @xmath5 is the smallest natural number such that the image of each function in @xmath464 is included in @xmath302 , then @xmath0 is the smallest natural number with each function in @xmath321}{0pt}{}{t^n}{t^m}}^\\infty{\\ , .\\,}q$ ] having its image included in @xmath301 .",
    "note that condition ( r ) in this case is the theorem we are proving .",
    "observe also that if @xmath469 is based on @xmath224 , then @xmath466 is based on @xmath446 , and @xmath446 has one leaf fewer than @xmath224 if @xmath450 .",
    "thus , @xmath470 has exactly one element ( the empty function ) for @xmath213 equal to the number of leaves in @xmath224 .",
    "it follows that to get ( r ) it remains to check condition ( p )",
    ".    * condition ( p ) .",
    "* let @xmath469 be based on @xmath224 and let @xmath471 be smallest such that all elements of @xmath464 have ranges included in @xmath396 .",
    "the set @xmath466 is based on @xmath446 .",
    "we assume @xmath446 is not the empty tree .",
    "( the case @xmath472 is easier , and we ask the reader to handle it after reading the current argument . )",
    "let @xmath473 be the splitting node of @xmath224 , and identify @xmath474 with @xmath24 $ ] for some non - zero @xmath475 .",
    "( recall here the discussion following . ) fix @xmath476 . then @xmath477 , @xmath478 .",
    "let @xmath479    to check ( p ) , we need to find @xmath480 and @xmath481 such that for each @xmath3-coloring of @xmath321}{0pt}{}{t^r}{t^q}}^\\infty_{g_0}{\\ , .\\,}q_{f_0}$ ] there is @xmath482}{0pt}{}{t^r}{t^q}}^\\infty_{g_0}$ ] with @xmath483 monochromatic .",
    "we will show that large enough @xmath374 works .",
    "fix @xmath391 .",
    "now , we define @xmath484 .",
    "find the @xmath428-smallest leaf @xmath54 in @xmath396 such that the image of @xmath485 is included in @xmath435 .",
    "note that @xmath264 is a predecessor of @xmath54 .",
    "first we define @xmath486 .",
    "note that @xmath487 for the moment , we view @xmath396 as a subset of @xmath488 in the sense @xmath489 , as defined by , and we let @xmath484 be the identity on the elements of @xmath490 that are not leaves .",
    "let @xmath484 map leaves of @xmath490 to leaves of @xmath488 in such a way that @xmath484 on @xmath490 is a leaf preserving embedding to @xmath488 .",
    "let @xmath491 for @xmath195 , @xmath10 .",
    "it is clear that @xmath481 .",
    "consider the set @xmath492 of all @xmath493 such that @xmath222 is an immediate successor of a predecessor of @xmath54 and @xmath494 .",
    "the set @xmath495 is partitioned into trees @xmath496 with @xmath497 .",
    "therefore , each @xmath498}{0pt}{}{t^r}{t^q}}^\\infty_{g_0}$ ] is equal to @xmath484 in @xmath435 and is completely determined by leaf preserving embeddings @xmath499    note that @xmath264 given by has an immediate successor in @xmath492 .",
    "let @xmath500 be the @xmath428-smallest among them .",
    "for each @xmath501 , @xmath502 is equal to @xmath485 whose image is included in @xmath435 , while the image of @xmath503 is included in @xmath504 .",
    "so each element of @xmath483 being of the form @xmath505 is completely determined by @xmath506    note that the identification of @xmath474 with @xmath24 $ ] makes @xmath503 into a leaf preserving embedding from @xmath24 $ ] to @xmath504 .",
    "thus , fixing the color on @xmath483 amounts to the following ( with notation as in ):",
    "@xmath321}{0pt}{}{t^r(w_0)}{p}}$ ] , find a leaf preserving embedding @xmath507 so that @xmath508}{0pt}{}{t^q(w_0)}{p}}$ ] is monochromatic .",
    "this can be achieved from illustration  [ i : tree ] by taking @xmath374 large enough as @xmath509 and @xmath504 are isomorphic to @xmath301 and @xmath302 , where @xmath510 and @xmath511 .",
    "we can let @xmath512 be arbitrary leaf preserving embeddings for @xmath513 , @xmath514 .",
    "we prove in this section the following result due to milliken @xcite .",
    "the reader may consult @xcite for another purely finitary proof of milliken s theorem .",
    "[ p : mille ] let @xmath224 and @xmath217 be ordered trees .",
    "assume that all leaves in @xmath217 have the same height .",
    "for @xmath77 , there exists an ordered tree @xmath410 with @xmath411 such that for each @xmath3-coloring of all strong , leaf preserving embeddings from @xmath224 to @xmath410 there is a strong , leaf preserving embedding @xmath412 such that @xmath515 is monochromatic .",
    "the proof of proposition  [ p : mille ] that we will give yields also the statement obtained from proposition  [ p : mille ] by replacing strong , leaf preserving embeddings by strong embeddings in all places .",
    "this statement can also be obtained from proposition  [ p : mille ] by a proof that is identical to the argument following proposition  [ p : gen ] .",
    "it suffices to notice that , with the notation as in that argument , strong embeddings from @xmath224 to @xmath217 , from @xmath224 to @xmath415 , and from @xmath217 to @xmath415 are precisely restrictions of strong , leaf preserving embeddings from @xmath416 to @xmath417 , from @xmath416 to @xmath410 , and from @xmath417 to @xmath410 , respectively .",
    "the proof of proposition  [ p : mille ] is a somewhat more sophisticated version of the argument in illustration  [ i : tree ] .",
    "let @xmath420 .",
    "as before set @xmath516 . view",
    "@xmath301 as a subtree of @xmath423 via the inclusion @xmath306 defined in .",
    "this inclusion is a strong embedding . this way we obtain an increasing sequence @xmath425 of ordered trees .",
    "let @xmath517 be the union ( direct limit ) of this sequence .",
    "the range of each function @xmath518 on an ordered tree @xmath224 is included in some @xmath301 .",
    "we call @xmath108 a * strong embedding * if @xmath108 is a strong embedding as a function from @xmath224 to @xmath301 for some , or equivalently all , @xmath301 in which the image of @xmath108 is included . for @xmath519 ,",
    "let @xmath520 be equal to @xmath521 for some , or equivalently , all @xmath301 with @xmath522 .",
    "* normed background .",
    "* let @xmath523 consist of all strong embeddings @xmath518 , where @xmath224 is an ordered tree .",
    "let @xmath524 consist of all strong embeddings @xmath525 , for some @xmath526 . for @xmath527 and @xmath528 ,",
    "let @xmath305 be defined precisely when the image of @xmath108 is included in the domain of @xmath161 and let @xmath442 similarly for @xmath529 , let @xmath307 be defined precisely when the image of @xmath308 is contained in the domain of @xmath309 , and let @xmath444 for @xmath527 with @xmath530 define @xmath531 define a norm @xmath532 , by letting for @xmath440 with @xmath518 @xmath533    * exercise .",
    "* check that @xmath534 is a normed background .    * a pair of families over @xmath535 .",
    "* the pair of families described below extends the one described in illustration  [ i : tree ] .",
    "recall the sets @xmath536 and @xmath321}{0pt}{}{t}{s}}^s$ ] defined in equation .",
    "let @xmath537 consist of all @xmath322 and @xmath321}{0pt}{}{t^n}{t^m}}^s$ ] where @xmath538 and @xmath323 or @xmath324 .",
    "let @xmath539 consist of all non - empty sets of the form @xmath540 and @xmath321}{0pt}{}{t^n}{s}}^s$ ] , where @xmath224 is an ordered tree .",
    "declare @xmath541 and @xmath321}{0pt}{}{t^n}{t^m}}^s\\bullet { \\genfrac{[}{]}{0pt}{}{t^l}{t^k}}^s$ ] to be defined precisely when @xmath72 , and let @xmath542}{0pt}{}{t^n}{t^l}}^s\\bullet { \\genfrac{[}{]}{0pt}{}{t^l}{t^k}}^s = { \\genfrac{[}{]}{0pt}{}{t^n}{t^k}}^s.\\ ] ] similarly , declare @xmath543 and @xmath321}{0pt}{}{t^n}{t^m}}^s{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}{\\genfrac{[}{]}{0pt}{}{t^l}{s}}^s$ ] to be defined precisely when @xmath72 , and let @xmath544}{0pt}{}{t^n}{t^l}}^s{\\,\\raisebox{-1.4pt}{\\ ( \\bullet \\)}\\,}{\\genfrac{[}{]}{0pt}{}{t^l}{s}}^s= { \\genfrac{[}{]}{0pt}{}{t^n}{s}}^s.\\ ] ] the operations @xmath173 and @xmath64 are undefined in situations not specified above .",
    "* exercise . *",
    "check that @xmath545 is a pair of families over @xmath535 fulfilling conditions ( a ) , ( b ) , and ( @xmath65 ) .",
    "( hint . this is almost identical to the argument in illustration  [ i : tree ] . )",
    "* exercise . * note that it suffices to prove proposition  [ p : mille ] for @xmath217 of the form @xmath301 ( this is where the assumption that all leaves in @xmath217 have the same height is used ) and check that condition ( r ) for @xmath546 implies proposition  [ p : mille ] ( as well as the statement obtained from proposition  [ p : mille ] by replacing strong , leaf preserving embeddings by strong embeddings ) .",
    "* exercise .",
    "* check condition ( p ) for @xmath547 .",
    "this follows from the halpern ",
    "luchli theorem for strong subtrees ( hl1 ) and ( hl2 ) from appendix  2 and is similar to the argument for ( p ) in illustration  [ i : tree ] . )",
    "the following criterion ( @xmath548 ) is the strengthening of condition ( p ) allowing us to get rid of conditions ( a ) and ( b ) .",
    "it is obtained from ( p ) by replacing all occurrences of @xmath14 , except the one in @xmath60 , by @xmath211 for a fixed but arbitrary @xmath212 .    1 .   given @xmath77 and @xmath213 , for all @xmath26 and @xmath549 ,",
    "there are @xmath29 and @xmath85 such that @xmath60 is defined , @xmath40 is defined , and for every @xmath3-coloring of @xmath550 there is @xmath114 such that @xmath551 is monochromatic .",
    "the following result is ( * ? ? ?",
    "* corollary 4.4 ) .",
    "[ t : ramful ] let @xmath552 be a pair of families with ( @xmath65 ) over a normed background .",
    "assume that each @xmath26 is finite and for each @xmath26 there is @xmath212 such that @xmath214 consist of one element .",
    "if @xmath215 fulfills ( p+ ) , then it fulfills ( r ) .    to see that theorem  [ t : ram ] is a consequence theorem  [ t : ramful ]",
    ", we note that ( p ) in the presence of ( a ) and ( b ) implies ( @xmath548 ) . to see this implication , we proceed by induction on @xmath213 .",
    "condition ( @xmath548 ) for @xmath553 is just ( p ) .",
    "assuming that ( @xmath548 ) holds for @xmath213 , we prove it for @xmath554 .",
    "let @xmath26 and @xmath555 . by condition ( a ) ,",
    "so condition ( @xmath548 ) for @xmath213 applied to @xmath557 and @xmath54 gives @xmath29 and @xmath85 such that @xmath138 is defined , @xmath40 is defined , and for every @xmath3-coloring of @xmath558 there is @xmath114 such that @xmath559 is monochromatic .",
    "now condition ( b ) gives @xmath560 such that @xmath140 is defined and such that each element of @xmath15 is extended by an element of @xmath143 .",
    "it follows that each element of @xmath110 is extended by an element of @xmath561 .",
    "now it is clear that @xmath143 and @xmath105 witness that ( @xmath548 ) holds for @xmath554 .",
    "the main algebraic structures in the paper are normed backgrounds .",
    "we list below conditions that are more symmetric than those defining normed backgrounds . as indicated by lemma  [ l : back ] , they give a notion that is in essence equivalent to normed background .",
    "all the normed backgrounds in the present paper and in @xcite fulfill the conditions below .",
    "let @xmath562 be such that @xmath167 is a partial function from @xmath563 to @xmath32 , @xmath36 is a partial function from @xmath34 to @xmath33 , @xmath89 is a function from @xmath33 to @xmath33 and @xmath564 is a function from @xmath33 to a set with a linear order @xmath565 . assume the following axioms hold for all @xmath103 and @xmath192 :    1 .",
    "if @xmath164 and @xmath566 are defined , then @xmath567 ; 2 .",
    "if @xmath40 and @xmath87 are defined , then @xmath568 ; 3 .   @xmath569",
    "if @xmath193 and @xmath40 and @xmath111 are defined , then @xmath570 ; 5 .",
    "if @xmath193 and @xmath111 is defined , then so is @xmath40 .",
    "the following result is ( * ? ? ?",
    "* lemma  4.5 ) .",
    "[ l : back ]    1 .",
    "assume @xmath562 fulfills conditions ( i)(v ) above , then @xmath210 with @xmath167 , @xmath36 , @xmath89 and @xmath209 is a normed background 2 .",
    "if @xmath210 with @xmath167 , @xmath36 , @xmath89 and @xmath209 is a normed background , then there is a function @xmath571 on @xmath33 such that @xmath572 fulfills conditions ( i)(v ) above .",
    "we point out here that the halpern  luchli theorem for strong subtrees ( there are other , more difficult , versions ) and the hales  jewett theorem are identical statements phrased in different languages .",
    "the importance of this translation for the presentation here comes from the fact that the hales  jewett theorem is shown in @xcite to be one of the results that follow from the abstract approach to ramsey theory .",
    "so when using the halpern  luchli theorem in the present paper we stay within this approach .",
    "justin moore remarks that equivalence of these two statements ( that is , of the hales  jewett and the halpern  luchli theorems ) has been known for some time .",
    "we set up a dictionary for translating the hales ",
    "jewett theorem to the halpern ",
    "luchli theorem .",
    "let @xmath224 and @xmath217 be ordered trees .",
    "let @xmath573 be strictly increasing with respect the orders @xmath241 and @xmath236 ( restricted to the leaves ) , and be such that for each @xmath242 there is @xmath574 such that for any two leaves @xmath575 of @xmath224 with @xmath576 we have @xmath577 .",
    "then there is a unique leaf preserving embedding from @xmath224 to @xmath217 whose restriction to @xmath578 is equal to @xmath108 .",
    "we , therefore , refer to such an @xmath108 itself as a * leaf preserving embedding*. if in the above definition @xmath579 depends only on @xmath520 , then the induced embedding is strong and again we call @xmath108 * strong*. a sequence @xmath580 of strong embeddings is called a * strong sequence * if for @xmath581 and @xmath582 @xmath583    fix a linearly ordered finite set @xmath32 that is disjoint from @xmath584 . for @xmath240 , we consider ordered trees @xmath585\\to a\\colon l\\leq n\\},\\ ] ] where the tree relation is equal to the extension relation and the order relation is the one coming from the linear order on @xmath32 .",
    "so @xmath586 is a version of the trees @xmath271 defined in section  [ s : tree ] , where @xmath587 .",
    "note that the set of leaves of this tree is equal to the set @xmath588 of all functions from @xmath1 $ ] to @xmath32 .",
    "such @xmath222 gives rise to a strong embedding @xmath594 ( recall that @xmath595 and @xmath588 are the sets of leaves of @xmath596 and @xmath586 , respectively ) defined by @xmath597 for @xmath598 .",
    "it is easy to check , using property ( ii ) of @xmath222 , that @xmath599 preserves the lexicographic order .",
    "property ( i ) ensures that @xmath599 is injective .",
    "further note that for @xmath600 , if @xmath601 with @xmath602 , then @xmath603 with @xmath604 , where @xmath605)\\cap [ m]\\subseteq   [ i_0]\\}\\;\\hbox { and } \\;v_1(i ) = v_0 ' ( w(i ) ) , \\hbox { for } i\\in [ i_1].\\ ] ] note that @xmath606 depends only on @xmath607 .",
    "thus , @xmath599 is indeed a strong embedding .",
    "now assume that for @xmath480 , we have @xmath591\\to a^r\\cup [ m]$ ] with properties ( i ) and ( ii ) above .",
    "such a @xmath222 gives rise to @xmath374 functions @xmath608 , where @xmath609\\to a\\cup [ m]$ ] is the @xmath341-th projection on @xmath610 and the identity on @xmath28 $ ] , also fulfilling conditions ( i ) and ( ii ) .",
    "we therefore get a sequence of strong embeddings @xmath611 defined by @xmath612 where @xmath598 .",
    "formulas imply that this is a strong sequence .",
    "the following result is a version of the halpern ",
    "luchli theorem ( for strong subtrees ) .",
    "recall the definition of the trees @xmath271 from section  [ s : tree ] . fix @xmath49 and let @xmath516 .",
    "note that we can take @xmath613 for @xmath32 with @xmath614 .    *",
    "( hl1 ) * _ given @xmath77 , @xmath213 and @xmath5 there exists @xmath0 such that for each @xmath3-coloring of @xmath615 ( @xmath213 factors ) there exists a strong sequence of leaf preserving embeddings @xmath616 , for @xmath617 , such that the set @xmath618 is monochromatic .",
    "_    * ( hl2 ) * _ given @xmath77 , @xmath213 and @xmath5 there exists @xmath0 such that for each @xmath3-coloring of @xmath619 there exists a strong sequence of embeddings @xmath616 for @xmath617 such that the set @xmath620 is monochromatic . _",
    "we show that the above statements are re - phrasings of the hales  jewett theorem .",
    "the hales  jewett theorem can be stated as below in points ( a ) and ( b ) .",
    "( it is stated this way in ( * ? ? ?",
    "* section 7 ) , and it is proved there using the abstract approach to ramsey theory . )",
    "\\(a ) let @xmath437 be a finite set not including any natural numbers .",
    "given @xmath77 and @xmath5 there is @xmath0 such that for each @xmath3-coloring of functions from @xmath1 $ ] to @xmath437 there is a function @xmath621\\to b\\cup [ m]$ ] with properties ( i ) and ( ii ) such that the set @xmath622\\to b,\\ , v{\\upharpoonright}b = { \\rm id}_b\\}\\ ] ] is monochromatic .",
    "\\(b ) let @xmath437 be a finite set not including any natural numbers .",
    "given @xmath77 and @xmath5 there is @xmath0 such that for each @xmath3-coloring of functions from @xmath23 $ ] to @xmath437 for all @xmath623 there is @xmath624 and a function @xmath625\\to b\\cup [ m]$ ] with properties ( i ) and ( ii ) such that the set @xmath626\\to b,\\ , p\\leq m,\\ , v{\\upharpoonright}b = { \\rm id}_b\\}\\ ] ] is monochromatic .",
    "* acknowledgement . *",
    "i thank kostya slutsky for preparing for me the two wonderful drawings , and alekos kechris , justin moore , miodrag soki , min zhao , and the referee for their comments on earlier versions of the paper ."
  ],
  "abstract_text": [
    "<S> i will give a presentation of an abstract approach to finite ramsey theory found in an earlier paper of mine . </S>",
    "<S> i will prove from it a common generalization of deuber s ramsey theorem for regular trees and a recent ramsey theorem of jasiski for boron tree structures . </S>",
    "<S> this generalization appears to be new . </S>",
    "<S> i will also show , in exercises , how to deduce from it the milliken ramsey theorem for strong subtrees . </S>"
  ]
}