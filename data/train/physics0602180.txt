{
  "article_text": [
    "the lhc proton bunches will cross at a frequency of approximately 40 mhz .",
    "the rate of events that can be committed to permanent storage in normal data taking is only a few 100hz .",
    "the atlas trigger system faces the task to select the events that conform with the physics goals of atlas , among a dominant background of strong interaction processes .",
    "the trigger system is organised in three levels .",
    "the first level trigger ( lvl1 )  @xcite utilises custom built hardware to derive a trigger decision within @xmath0 .",
    "the lvl1 decision is based on calorimeter information and on hits in the barrel and endcap muon trigger systems .",
    "the lvl1 systems deliver _ regions - of - interest _",
    "( roi ) as _ seeds _ to the high level trigger ( hlt ) system  @xcite .",
    "the hlt consists of two consecutive software triggers , level-2 ( lvl2 ) and event filter , which run on commodity pc farms .    at any point in time",
    "the complete trigger chain needs to be configured in a consistent way . for lvl1 ,",
    "a trigger menu , comprising a collection of event signatures that should cause a trigger , needs to be defined and translated into a code the central trigger processor ( ctp ) hardware can understand .",
    "moreover the calorimeter and muon trigger systems have to be configured such that they deliver the information required by the trigger menu .",
    "the hlt starts from the rois delivered by the lvl1 system and applies trigger decisions in a series of steps , each refining existing information by acquiring additional data from increasingly many sub - detectors .",
    "a list of physics signatures and implemented event reconstruction ( feature extraction ) and selection algorithms is used to build signature and sequence tables for all hlt trigger steps .",
    "the stepwise processing in the hlt is controlled by the _ steering _",
    "@xcite .",
    "the trigger configuration system has to comply with a number of complex use cases .",
    "when operating the experiment , the configuration parameters must be available to the systems participating in the lvl1 decision ( _ i.e. _ the calorimeter trigger , the muon trigger , as well as the ctp ) , and to all nodes forming the hlt farms .",
    "figure  [ fig : context ] depicts the trigger and its configuration system in the context of the atlas online framework .",
    "once a particular trigger configuration has been used in running , it becomes essential history information for the data set obtained with it , and must be remembered .",
    "trigger configurations are expected to change frequently in response to varying experimental conditions .",
    "tools must be provided to create new configurations and to guide the trigger expert by verifying their consistency .",
    "furthermore the shift crews running the experiment need a tool to perform simple adjustments of the trigger configuration throughout the lifetime of a beam coast .",
    "in addition to data taking , the trigger configuration is an ingredient to data analysis and simulation .",
    "users must be able to extract and use a trigger configuration in the context of the reconstruction , analysis and simulation software .",
    "this is required for trigger efficiency studies , trigger optimisation , and to determine the conditions of the data sets used in an analysis .",
    "in particular , trigger optimisation challenges the flexibility of the configuration system .",
    "this paper describes the design of the trigger configuration system for the atlas experiment that meets the requirements outlined above .",
    "the trigger configuration system consists of a central relational database ( triggerdb ) that stores the configuration data , tools to populate the database and ensure its consistency , and interfaces to extract the stored data in preparation for data taking or other purposes ( _ e.g. _ simulation , data analysis , etc . ) . a schematic overview of the configuration system is given in fig .  [ fig : synopsis ] .",
    "the triggerdb is the central part of the configuration system .",
    "it is used to store and protect all data that are needed to configure the three levels of the atlas trigger : the lvl1 trigger menu , the hlt trigger menu , the parameters ( _ job options _ ) of all software ( sw ) packages running in the hlt , and the corresponding release information . using the relational structure of the database ,",
    "the various single data elements ( _ e.g. _ hardware registers of lvl1 , algorithm parameters of hlt selection algorithms or environment variables ) are grouped together to form bigger entities in a hierarchical tree - like structure .",
    "each element in the database is identified by a unique integer _ key_.",
    "these keys are used to construct larger entities higher up in the hierarchy .",
    "the top - level entities , _",
    "i.e. _ the ones containing all information needed to configure all three trigger levels are called _",
    "a configuration is composed of one lvl1 configuration and one hlt configuration , which in turn consist of other components like trigger menus and prescale sets eventually leading to the basic configuration parameters the hlt configuration can also be regarded as being composed of the hlt menu , the algorithm parameters ( hlt job options ) and the hlt software capabilities .",
    "the latter is used to enforce consistency between the algorithms used in the configuration and the capabilities of a sw release . ] . for the purpose of human readability all data entities are given a string name and a version number .",
    "the tree - like structure described above allows one to reuse parts of a configuration when creating a new configuration , by simply changing the referencing foreign keys in entities higher in the hierarchy , thereby avoiding unnecessary data duplication .",
    "it is foreseen to store in the triggerdb all versions of configurations that have been used for data taking and those prepared for simulation and test runs .",
    "the unique integer key ( the _ master key _ ) that identifies a certain configuration will be transfered to the _ conditions database _ of the experiment  @xcite .",
    "this master key provides the unique reference to a configuration and can therefore be used to retrieve the configuration at a later stage .",
    "the triggerdb is located on the same server as the conditions database without , however , being embedded into its schema .",
    "making use of the infrastructure provided by atlas and cern - it , the triggerdb will follow all replication steps of the conditions database and will be available at cern and at external sites .",
    "the triggerdb and all related tools are implemented to run on both mysql and oracle .",
    "it should be emphasised that the consistency of the configuration data is an essential requirement that the configuration system must fulfil .",
    "inconsistent trigger configurations can lead to data loss or data unusable for physics analysis .",
    "wherever possible , the relational schema has been designed to enforce consistency . moreover , the database population tools scrutinise the consistency of the data they upload .      due to the complexity of the trigger system and its configuration ,",
    "the population of the database , including the composition of the trigger menus , needs dedicated tools . at present two complementary systems",
    "are under development ( see fig .  [",
    "fig : synopsis ] ) :    1 .",
    "the _ triggertool _ is a stand - alone , java - based graphical user interface to the triggerdb .",
    "2 .   custom _ python scripts _ convert the xml- and python - based hlt menu and job configuration into sql statements that populate the database .",
    "the reverse mode where xml and job configuration files are created from the database is also possible ( see next section ) .",
    "the triggertool is the central database population tool .",
    "it foresees shift - crew and expert levels with different access restrictions .",
    "shifters can only choose among a list of approved trigger menus and prescale sets to configure the _",
    "next run_. experts are allowed to modify existing and add new lvl1 and hlt trigger menus .",
    "the triggertool handles the proper reordering of the keys between the database tables .",
    "an important feature of the triggertool is its capacity to perform automatic queries to validate the validity of a trigger configuration .",
    "examples for this are valid collections of thresholds and prescale sets for lvl1 , consistent step - wise hlt signatures , and the coherent configurations of the hlt feature extraction ( event reconstruction ) and selection algorithms , each belonging to a unique software setup .",
    "the triggertool also provides a convenient lightweight database browser for offline users , providing advanced search functionality and access from remote locations .    as indicated in fig .",
    "[ fig : synopsis ] , the python scripts are used to populate the hlt database tables .",
    "this includes the default configuration properties of the hlt algorithms ( for example feature extraction options and selection requirements ) , and the dynamic link libraries , services and tools required by the algorithms .",
    "these _ components _ must be linked to the corresponding software release setups , which requires that all the _ capabilities _ of the releases involved are filled into the database ( the capability of a release defines the available features of the trigger software ) .",
    "the database population is only feasible by means of automatic release scanning tools , currently implemented as python parsers .",
    "the extracted information is written to xml files , before being converted to sql statements and uploaded to the database .",
    "it is foreseen to perform such a scan for each new release , identifying the changes between releases in the process .",
    "specific configuration of the algorithms , which goes beyond the default release settings , must be inserted by hand into the database using the triggertool .",
    "another ingredient needed is a compiler to translate the human - readable lvl1 menu into the input files used to program the look - up tables ( lut ) and content addressable memory ( cam ) that contain the selection logic as part of the central trigger processor ( ctp ) of the first level trigger .",
    "the compiler is implemented in c++ and can run in stand - alone mode taking the xml files extracted from the triggerdb ( see below ) .",
    "in addition , the compiler is integrated into the triggertool reading the lvl1 menu from the triggerdb .",
    "the output lut and cam files for each lvl1 menu are then stored in the triggerdb and made available for online running .",
    "there is a variety of use cases for data retrieval from the triggerdb , but the configuration of the complete system at the start of an online data - taking run and the configuration of the offline simulation are arguably the most challenging .",
    "two independent data paths from the triggerdb are foreseen and have been implemented ( cf .",
    "[ fig : synopsis ] ) :    1 .",
    "configuration sets can be extracted from the triggerdb into intermediate files ( xml or python ) .",
    "these files can then be used by the user for stand - alone tests for , _",
    "e.g. _ , development of new configurations and for tests of the online trigger system without interference with the triggerdb during the commissioning of the system .",
    "configuration sets can be accessed by direct access to the triggerdb .",
    "the various clients ( _ e.g. _ lvl1 hardware modules or hlt processing nodes ) contact the triggerdb directly to get their configuration objects .    to keep the differences between configuring via intermediate files and via direct database access at a minimum , both configuration paths make use of a common abstract interface .",
    "this interface is implemented in c++ and is foreseen to be used online for data taking as well as for the various offline use cases .",
    "its two implementations are based on the xerces xml parser and the coral  @xcite package allowing a vendor - independent access to the triggerdb .",
    "tests of the lvl1 configuration system have been performed with the offline simulation , yielding promising results .",
    "the two paths ( via xml or direct database access ) can be routinely used to configure the simulation of the lvl1 trigger . to complete the configuration system the c++ abstract interfaces need to be integrated with the online state - machines controlling the various parts of the lvl1 system in data - taking mode . as the number of clients in the lvl1 online system is relatively small",
    "( about 20 cpus controlling the hardware crates of lvl1 and running the online state - machines ) performance problems are not expected for lvl1 .",
    "an initial test was performed of configuring the hlt from the triggerdb using a lvl2 muon selection chain .",
    "the complete configuration of the muon chain together with the necessary auxiliary services and tools were described in the triggerdb .",
    "the muon selection chain was run on a multi node system containing six lvl2 processing units , a lvl2 supervisor and a read - out system ( ros ) emulator .",
    "events were pre - loaded to the ros emulator and retrieved by the processing units .",
    "every lvl2 processing unit retrieved the configuration from the triggerdb . in a python module",
    ", the retrieved information was converted in memory to standard python configuration statements used for the atlas software framework athena , which were then used to set up all necessary athena modules . in this very early version it took about one second to retrieve all configuration information from a single mysql server . for the final system",
    "it is envisaged to provide all necessary information in the triggerdb as a database view , which will then be read directly by a service setting up the necessary software environment .",
    "this service is presently under development .",
    "next steps in the development of the configuration system are the integration of the system with the lvl1 hardware and the setup of more complicated configurations for the hlt including more than one selection chain .",
    "performance studies and tuning will be an important issue for the configuration of the large hlt processor farms in the context of the online database architecture of the atlas experiment .",
    "9 the atlas collaboration , `` atlas , first - level trigger - technical design report '' , cern , geneva , switzerland , cern - lhcc-98 - 14 , 1998 ; for more recent results see : the atlas tdaq lvl1 group , `` the first - level trigger of atlas '' , to appear in the proceedings of the hepp - eps2005 conference , lisbon , arxiv : physics/0512195 and references therein ."
  ],
  "abstract_text": [
    "<S> the atlas detector at cern s large hadron collider will be exposed to proton - proton collisions from beams crossing at 40 mhz that have to be reduced to the few 100 hz allowed by the storage systems . </S>",
    "<S> a three - level trigger system has been designed to achieve this goal . </S>",
    "<S> we describe the configuration system under construction for the atlas trigger chain . </S>",
    "<S> it provides the trigger system with all the parameters required for decision taking and to record its history . </S>",
    "<S> the same system configures the event reconstruction , monte carlo simulation and data analysis , and provides tools for accessing and manipulating the configuration data in all contexts . </S>"
  ]
}