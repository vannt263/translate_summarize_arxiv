{
  "article_text": [
    "this paper concerns a category - theoretic question which arose in a model - theoretic context . in model theory , specifically in the construction of frass limits ( see @xcite ) , one considers a class @xmath2 of structures ( in some first - order language ) with the following properties :    * the : ( @xmath2 is nonempty and ) for every two structures @xmath3 , there are embeddings @xmath4 and @xmath5 into some @xmath6 : @xmath7 & x \\\\ a",
    "\\urar[dashed]{f } & & b \\ular[dashed][swap]{g } \\end{tikzcd};\\ ] ] * the : every diagram of embeddings @xmath7 b & & c \\\\ & a \\ular{f } \\urar[swap]{g } \\end{tikzcd}\\ ] ] between structures @xmath8 can be completed into a commutative diagram @xmath7 & x \\\\ b \\urar[dashed]{h } & & c \\ular[dashed][swap]{k } \\\\ & a \\ular{f } \\urar[swap]{g } \\end{tikzcd}\\ ] ] for some structure @xmath6 and embeddings @xmath9 and @xmath10 .",
    "common examples of classes @xmath2 with these properties include : finitely generated groups ; posets ; nontrivial boolean algebras ; finite fields of fixed characteristic @xmath11 .    from the ap ( and optionally",
    "the jep ) , one has various `` generalized amalgamation properties '' , whereby more complicated diagrams ( of embeddings ) can be completed into commutative diagrams ( of embeddings ) , e.g. , the following diagram by two uses of ap : @xmath7 & & y \\\\ & x \\urar[dashed ] \\\\ a \\urar[dashed ] & & c \\ular[dashed ] & & e \\ar[dashed]{uull } \\\\ & b \\ular \\urar & & d \\ular \\urar \\end{tikzcd}.\\ ] ] however , the following diagram can not be completed using just the ap ( and the jep ) : @xmath12 a & ~ & b \\\\",
    "c \\uar{f } \\ar{urr}[pos=.8]{h } & & d \\ar[crossing over]{ull}[pos=.8,swap]{g } \\uar[swap]{k } \\end{tikzcd}.\\ ] ] for example , take @xmath13 the class of finite sets , @xmath14 , @xmath15 , and @xmath16 .",
    "this leads to the following    question can we characterize the shapes of the diagrams which can always be completed using the ap , i.e. , the `` generalized amalgamation properties '' which are implied by the ap ?",
    "if so , is such a characterization decidable ?",
    "this question concerns only abstract properties of diagrams and arrows , hence is naturally phrased in the language of category theory .",
    "let @xmath17 be a category . recall that",
    "a over a diagram in @xmath17 consists of an object @xmath18 , together with morphisms @xmath19 in @xmath17 for each object @xmath20 in the diagram , such that the morphisms @xmath21 commute with the morphisms in the diagram ; this is formally what it means to `` complete '' a diagram . recall also that a of a diagram is a universal cocone , i.e. , one which admits a unique morphism to any other cocone .",
    "( see [ sec : prelims ] for the precise definitions . )",
    "we say that @xmath17 has the ap if every pushout diagram ( i.e. , diagram of shape @xmath22 ) in @xmath17 has a cocone , and that @xmath17 has the jep is monic ( although see [ sec : general ] ) . ] if every diagram in @xmath17 consisting of finitely many objects ( without any arrows ) has a cocone . when @xmath17 is the category of structures in a class @xmath2 and embeddings between them , this recovers the model - theoretic notions defined above .",
    "category - theoretic questions arising in frass theory have been considered previously in the literature ; see e.g. , @xcite , @xcite .",
    "the possibility of answering the above question in the generality of an arbitrary category is suggested by an analogous result of par @xcite ( see [ thm : pushout ] below ) , which characterizes the diagram shapes over which a colimit may be built by pushouts ( i.e. , colimits of pushout diagrams ) .",
    "there , the crucial condition is that the diagram shape must be ( see [ defn : pi1 ] ) ; failure to be simply - connected is witnessed by the of the diagram shape , whose morphisms are `` paths up to homotopy '' . for example , the fundamental groupoid of the shape of is equivalent to @xmath23 , with generator given by the `` loop '' @xmath24 .",
    "however , simply - connectedness of a diagram s shape does not guarantee that a cocone over it may be built using only the ap ( see [ ex : boat ] below ) . intuitively , the discrepancy with par s result is because the universal property of a pushout allows it to be used in more ways to build further cocones .",
    "simply - connectedness nonetheless plays a role in the following characterization , which is the main result of this paper :    [ thm : amalgam ] let @xmath0 be a finitely generated category .",
    "the following are equivalent :    1 .",
    "every @xmath0-shaped diagram in a category with the ap and the jep has a cocone .",
    "every @xmath0-shaped diagram in the category of sets and injections has a cocone .",
    "( when @xmath0 is finite , it suffices to consider finite sets . ) 3 .",
    "@xmath0 is upward - simply - connected ( see [ defn : l ] ) .",
    "when @xmath0 is a finite poset , these are further equivalent to :    1 .",
    "every upward - closed subset of @xmath0 is simply - connected .",
    "2 .   @xmath0 is forest - like ( see [ defn : tree ] ; this means @xmath0 is built via some simple inductive rules ) .",
    "similarly , every @xmath0-shaped diagram in a category with the ap has a cocone , iff @xmath0 is connected and any / all of ( ii ) , ( iii ) ( also ( iv ) , ( v ) if @xmath0 is a poset ) hold .",
    "a corollary of our proof yields a simple decision procedure for these conditions ( for finite @xmath0 ) .",
    "this is somewhat surprising , because par s result ( [ thm : pushout ] ) implies that the analogous question of whether every @xmath0-shaped diagram has a colimit in a category with pushouts is _ _",
    "un__decidable .",
    "this paper is organized as follows . in [ sec : prelims ] , we fix notations and review some categorical concepts . in [ sec : setinj ] , we introduce an invariant @xmath1 , similar to the fundamental groupoid , and use it to prove the equivalence of ( ii ) and ( iii ) in [ thm : amalgam ] for arbitrary small ( not necessarily finitely generated ) @xmath0 . in [ sec : posetal ] , we analyze upward - simply - connected posets in more detail , deriving the conditions ( iv ) and ( v ) equivalent to ( iii ) and proving that they imply ( i ) when @xmath0 is a finite poset . in [ sec : general ] , we remove this restriction on @xmath0 and complete the proof . finally , in [ sec : decidability ]",
    ", we discuss decidability of the equivalent conditions in [ thm : amalgam ] and of the analogous conditions in par s result .    _ acknowledgments .",
    "_ we would like to thank alexander kechris for providing some feedback on an earlier draft of this paper .",
    "we begin by fixing notations and terminology for some basic categorical notions ; see @xcite .    for a category @xmath17 and objects @xmath25",
    ", we denote a morphism between them by @xmath26 { } y$ ] .",
    "we use the terms and interchangeably .",
    "we use @xmath27 to denote the category of sets and functions , @xmath28 to denote the category of sets and injections , and @xmath29 to denote the category of sets and partial injections .",
    "we use @xmath30 to denote the categories of small categories , resp . , small groupoids .",
    "we regard a preordered set @xmath31 as a category where there is a unique arrow @xmath32 j$ ] iff @xmath33 .",
    "we say that a category @xmath17 is if every morphism @xmath26 { } y$ ] in it is monic ( i.e. , if @xmath34 then @xmath35 , for all @xmath36 { } x$ ] ) .",
    "similarly , @xmath17 is if every endomorphism @xmath26 { } x$ ] is idempotent ( i.e. , @xmath37 ) .",
    "a category @xmath0 is if there are finitely many arrows in @xmath0 whose closure under composition is all arrows in @xmath0 .",
    "note that such @xmath0 necessarily has finitely many objects , and that a preorder is finitely generated iff it is finite .",
    "for a category @xmath17 and a small category @xmath0 , a of shape @xmath0 in @xmath17 is simply a functor @xmath38 .",
    "a @xmath39 over a diagram @xmath40 consists of an object @xmath18 together with a family of morphisms @xmath41 { } x)_{i \\in \\*i}$ ] , such that for each @xmath42 { } j$ ] , we have @xmath43 .",
    "a @xmath39 and @xmath44 over the diagram @xmath40 is a morphism @xmath45 { } y$ ] such that for each object @xmath46 , we have @xmath47 . a cocone @xmath39 over @xmath40 is a of @xmath40 if it is initial in the category of cocones over @xmath40 , i.e. , for any other cocone @xmath44 there is a unique cocone morphism @xmath48 ; in this case we write @xmath49 , and usually use a letter like @xmath50 for the cocone maps @xmath51 .",
    "@xmath52{f_i } \\ar{drr}[swap , pos=.4]{g_i } & f(j ) \\dar[crossing over][pos=.3]{f_j } \\drar{g_j } \\\\[2em ] & x = \\injlim f \\rar[dashed][swap]{h } & y \\end{tikzcd}\\ ] ]    as mentioned above , a category @xmath17 has the if every ( i.e. , diagram of shape @xmath22 ) in @xmath17 has a cocone ( colimits of such diagrams are called ) , and @xmath17 has the ( regardless of whether @xmath17 is monic ) if every finite coproduct diagram ( i.e. , diagram of finite discrete shape ) in @xmath17 has a cocone .",
    "( so the empty category does not have the jep . )",
    "a category @xmath17 is if it has exactly one , where @xmath25 are in the same connected component if they are joined by a zigzag of morphisms @xmath53 ( so the empty category is not connected . )",
    "we use @xmath54 to denote the set ( or class , if @xmath17 is large ) of connected components of @xmath17 .",
    "note that in the presence of the ap , connectedness is equivalent to the jep , since the ap may be used to turn `` troughs '' into `` peaks '' in a zigzag .",
    "[ defn : pi1 ] the of a category @xmath0 , denoted @xmath55 , is the groupoid freely generated by @xmath0 ( as a category ) .",
    "thus @xmath55 has the same objects as @xmath0 , while its morphisms are words made up of the morphisms in @xmath0 together with their formal inverses , modulo the relations which hold in @xmath0 ( and the relations which say that the formal inverses are inverses ) .",
    "we say that @xmath0 is if @xmath55 is an equivalence relation , i.e. , has at most one morphism between any two objects .",
    "[ rmk : nerve ] there is also a topological definition : @xmath55 is the same as the fundamental groupoid of the ( simplicial ) nerve of @xmath0 ; see @xcite for the general case .",
    "when @xmath0 is a poset , the of @xmath0 can be defined as the ( abstract ) simplicial complex whose @xmath56-simplices are the chains of cardinality @xmath57 in @xmath0 ; see ( * ? ? ?",
    "* ,  2.4 ) ( in which the nerve is called the _ order complex _ ) .",
    "we now state par s result @xcite , mentioned in the introduction , characterizing colimits which can be built using pushouts :    [ thm : pushout ] let @xmath0 be a finitely generated category .",
    "the following are equivalent :    1 .",
    "every @xmath0-shaped diagram in a category with pushouts has a colimit .",
    "@xmath0 is simply - connected .",
    "[ ex : boat ] let @xmath0 be the shape of the diagram in the introduction . as mentioned there , @xmath55 is equivalent to @xmath23 ( i.e. , it is connected and its automorphism group at each object is @xmath23 ) .",
    "now let @xmath58 be the shape of the ( commuting ) diagram @xmath59 a & & b \\\\ c \\uar{f } \\ar{urr}[pos=.8]{h } & & d \\ar[crossing over]{ull}[pos=.8,swap]{g } \\uar[swap]{k } \\\\ & e \\ular{u } \\urar[swap]{v } \\end{tikzcd}.\\ ] ] unlike @xmath0 , @xmath60 is simply - connected .",
    "thus by [ thm : pushout ] , a colimit of a @xmath60-shaped diagram can be constructed out of pushouts .",
    "however , a cocone over a @xmath60-shaped diagram can not necessarily be constructed from the ap : take @xmath14 , @xmath15 , and @xmath16 in @xmath28 as in the introduction , and @xmath61 .",
    "note that there is no contradiction , since @xmath28 does _ not _ have pushouts .",
    "the `` reason '' that @xmath60 is simply - connected even though @xmath0 is not is that the generating `` loop '' @xmath62 in @xmath55 becomes trivial in @xmath63 : @xmath64 this suggests that to characterize when a @xmath60-shaped diagram has a cocone in any category with the ap , we need a finer invariant than @xmath65 , which does not allow the use of @xmath66 to simplify the loop @xmath62 above .",
    "an is a category @xmath17 such that every morphism @xmath26 { } y$ ] has a unique @xmath67 { } x$ ] obeying @xmath68 and @xmath69 .",
    "we write @xmath70 for the category of small inverse categories .    for basic properties of inverse categories ,",
    "see e.g. , @xcite ; the one - object case of _ inverse monoids _ is well - known in semigroup theory @xcite .",
    "here are some elementary facts about inverse categories we will use without mention :    let @xmath17 be an inverse category .",
    "* @xmath71 is an involutive functor @xmath72 .",
    "* idempotents in @xmath17 commute . *",
    "@xmath26 { } y$ ] is monic iff it is split monic iff @xmath73 .",
    "the archetypical example of an inverse category is @xmath29 , the category of sets and partial injections ( where @xmath74 is given by the partial inverse of @xmath75 ) .",
    "in fact , the axioms of an inverse category capture precisely the algebraic properties of @xmath29 , in the sense that we have the following representation theorem , generalizing the wagner - preston representation theorem for inverse semigroups and the yoneda lemma ( see @xcite , @xcite ) :    [ thm : invcat - yoneda ] let @xmath17 be a small inverse category .",
    "we have an embedding functor @xmath76{f } y ) & |-- > \\left(\\begin{aligned } \\sum_z f^{-1 } \\circ f \\circ \\operatorname{hom}_\\*c(z , x ) & \\overset{\\sim}{-- > } \\sum_z f \\circ",
    "f^{-1 } \\circ \\operatorname{hom}_\\*c(z , y ) \\\\ g & |-- > f \\circ g \\end{aligned}\\right).\\end{aligned}\\ ] ] here @xmath77 denotes disjoint union , and @xmath78 denotes the set of all composites @xmath79 for @xmath80 { } x$ ] , equivalently the set of all @xmath80 { } x$ ] such that @xmath81 ( and similarly for @xmath82 ) .",
    "in this section , we characterize the small categories @xmath0 such that every @xmath0-shaped diagram in @xmath28 has a cocone .",
    "we begin with the following easy observation :    [ thm : setinj - colim ] a diagram @xmath83 has a cocone iff the colimit of @xmath40 in @xmath27 is such that the canonical maps @xmath84 are injective , for all @xmath46 .",
    "if the @xmath50 are injective , then @xmath85 is a cocone in @xmath28 .",
    "conversely , if @xmath40 has a cocone @xmath86 in @xmath28 , then the unique cocone morphism @xmath87 is such that @xmath88 is injective for each @xmath89 , hence @xmath50 is injective for each @xmath89 .",
    "now recall that for a diagram @xmath83 , the standard construction of @xmath90 in @xmath27 is as the quotient of the disjoint sum : @xmath91 { } j,\\ , x \\in f(i)\\}.\\end{aligned}\\ ] ] two elements @xmath92 are thus identified iff they are connected by a zigzag @xmath93 & x_1 \\mathrlap{{}\\in f(i_1 ) } & & x_3 \\mathrlap{{}\\in f(i_3 ) } & ~ & x_{2n-1 } \\mathrlap{{}\\in f(i_{2n-1 } ) } \\\\ x \\mathrlap{{}\\in f(i ) } \\urar[mapsto]{f(i_1 ) } & & x_2 \\mathrlap{{}\\in f(i_2 ) } \\ular[mapsto][swap]{f(i_2 ) } \\urar[mapsto]{f(i_3 ) } & & \\hspace{3em } \\uar[draw = none][pos=.5,anchor = center]{\\textstyle\\dotsm } & & y \\in f(i ) \\ular[mapsto][swap]{f(i_{2n})}. \\end{tikzcd}\\ ] ] since the @xmath94 are injective , the endpoint @xmath95 of this zigzag is determined by @xmath96 together with the `` path '' @xmath32{i_1 } i_1 < ---[\\*i]{i_2 } i_2 --->[\\*i]{i_2 } \\dotsb < ---[\\*i]{i_{2n } } i$ ] in @xmath89 ; in other words , @xmath40 induces an action of such `` paths '' via partial injections between sets .",
    "this motivates defining the category of such `` paths '' , while keeping in mind that they will be acting via partial injections :    [ defn : l ] the of a category @xmath0 , denoted @xmath1 , is the inverse category freely generated by @xmath0 such that every morphism in @xmath0 becomes monic in @xmath1 .",
    "thus , we have a functor @xmath97 , such that @xmath1 is generated by the morphisms @xmath98 for @xmath42 { } j$ ] , such that @xmath99 for each such @xmath100 , and such that any other functor @xmath38 into an inverse category with @xmath101 for each @xmath100 factors uniquely through @xmath102 .",
    "( we write @xmath100 for @xmath103 when there is no risk of confusion . )",
    "we say that @xmath0 is if @xmath1 is idempotent .",
    "( see [ thm : usc - etc ] below for equivalent conditions when @xmath0 is a poset . )",
    "thus @xmath104 extends in an obvious manner to a functor @xmath105 , which is left adjoint to the functor @xmath106 taking an inverse category to its subcategory of monomorphisms . to see that @xmath1 is a finer invariant than @xmath55 , note that the forgetful functor @xmath107 ( to which @xmath65 is left adjoint ) factors through @xmath108 ; indeed , a groupoid is precisely an inverse category in which every morphism is monic .",
    "thus @xmath55 is a quotient of @xmath1 ( by the least congruence which makes every arrow monic ) .",
    "since idempotents in a groupoid are identities , we get    [ thm : usc - sc ] if a category @xmath0 is upward - simply - connected , then it is simply - connected .",
    "[ thm : setinj - amalgam ] let @xmath0 be a small category .",
    "the following are equivalent :    1 .   every diagram @xmath83 has a cocone .",
    "the diagram @xmath109 has a cocone , where @xmath110 is the embedding from [ thm : invcat - yoneda ] ( whose restriction along @xmath111 lands in the subcategory @xmath28 ) .",
    "@xmath0 is upward - simply - connected .",
    "first we remark on why @xmath112 in ( ii ) lands in @xmath28 .",
    "this is because every morphism @xmath100 in @xmath0 becomes monic in @xmath1 , hence in @xmath29 ; and the monomorphisms in @xmath29 are precisely the total injections .",
    "( i)@xmath113(ii ) is obvious .",
    "( ii)@xmath113(iii ) : let @xmath114 { } i$ ] be an endomorphism . to show that @xmath75 is idempotent , it suffices to show that @xmath115 , since then @xmath116 .",
    "since @xmath1 is generated by the morphisms in @xmath0 and their pseudoinverses , we have @xmath117 for some zigzag `` path '' in @xmath0 @xmath118 & i_1 & & i_3 & ~ & i_{2n-1 } \\\\",
    "i = i_0 \\urar{i_1 } & & i_2 \\ular[swap]{i_2 } \\urar{i_3 } & & \\uar[draw = none][pos=.5,anchor = center]{\\textstyle\\dotsm } & & i_{2n } = i. \\ular[swap]{i_{2n } } \\end{tikzcd}\\ ] ] this yields a zigzag ( with some obvious abbreviations for clarity ) @xmath59 & i_1 f^{-1 } f \\mathrlap{{}\\in \\psi(i_1 ) } & & i_3 i_2^{-1 } i_1 f^{-1 } f \\mathrlap{{}\\in \\psi(i_3 ) } & ~ & i_{2n-1 } \\dotsm i_2^{-1 } i_1 f^{-1 } f \\mathrlap{{}\\in \\psi(i_{2n-1 } ) } \\\\ f^{-1 } f \\mathrlap{{}\\in \\psi(i ) } \\urar[mapsto]{i_1 } & & i_2^{-1 } i_1 f^{-1 } f \\mathrlap{{}\\in \\psi(i_2 ) } \\ular[mapsto][swap]{i_2 } \\urar[mapsto]{i_3 } & & \\hspace{2em } \\uar[draw = none][pos=.5,anchor = center]{\\textstyle\\dotsm } & & f f^{-1 } f \\in \\psi(i ) \\ular[mapsto][swap]{i_{2n } } \\end{tikzcd}\\ ] ] where the even - numbered mappings are by the following calculation : @xmath119 by the discussion following [ thm : setinj - colim ] , this last zigzag implies that @xmath120 in @xmath121 , whence by ( ii ) and [ thm : setinj - colim ] , the same equality holds in @xmath122 and hence in @xmath1 , as desired .",
    "( iii)@xmath113(i ) : let @xmath83 be a diagram . by the universal property of @xmath1 , @xmath40 extends along @xmath102 to a functor @xmath123 such that @xmath124 .",
    "this functor @xmath125 takes a pseudoinverse @xmath126 { } i$ ] , for @xmath42 { } j$ ] , to the ( partial ) inverse of @xmath127 , hence takes a `` path '' @xmath128 { } i$ ] to the partial injection @xmath129 { } f(i)$ ] mapping @xmath130 to the endpoint @xmath95 of the zigzag in the remarks following [ thm : setinj - colim ] . since every @xmath114 { } i$ ] is idempotent ,",
    "so is every @xmath131 . since the idempotents in @xmath29 are precisely the partial identity functions , it follows ( by the remarks following [ thm : setinj - colim ] ) that the canonical maps @xmath84 are injective .",
    "this proves ( ii)@xmath132(iii ) in [ thm : amalgam ] , for arbitrary small @xmath0 ; the parenthetical in ( ii ) follows from    let @xmath0 be a finite category . if a diagram @xmath83 does not have a cocone , then some diagram @xmath133 which is a pointwise restriction of @xmath40 to finite subsets also does not have a cocone .    if @xmath40 does not have a cocone , then there is some @xmath46 and @xmath134 which are identified in @xmath90 .",
    "take a zigzag @xmath135 witnessing that @xmath136 are identified in @xmath90 , as in the remarks following [ thm : setinj - colim ] , where @xmath137 .",
    "put @xmath138 { } j\\}$ ] .",
    "in this section , we prove that ( iii)@xmath113(i ) in [ thm : amalgam ] for finite posets @xmath0 .",
    "to do so , we first examine the structure of upward - simply - connected posets ; this will lead to the conditions ( iv ) and ( v ) in [ thm : amalgam ] .",
    "[ thm : l - cosieve - faithful ] let @xmath0 be any category and @xmath139 be an upward - closed subcategory ( or ) , i.e. , a full subcategory such that if @xmath140 and @xmath42 { } j$ ] then @xmath141",
    ". then the canonical induced functor @xmath142 is faithful .",
    "let @xmath143 be the inverse category obtained by taking @xmath144 , adding the objects in @xmath145 , and freely adjoining zero morphisms between every pair of objects ( taking the zero morphism from an object in @xmath145 to itself as the identity ) .",
    "let @xmath146 send morphisms @xmath100 in @xmath60 to @xmath147 and all other morphisms to @xmath148 .",
    "then @xmath40 sends all morphisms to monomorphisms , hence extends along @xmath111 to @xmath149 .",
    "@xmath150{\\eta_\\*j } \\rar[hook ] & \\*i \\dar[swap]{\\eta_\\*i } \\ar{ddr}{f } \\\\",
    "\\@l(\\*j ) \\ar[hook , bend right=15]{drr } \\rar & \\@l(\\*i ) \\drar[dashed][swap , pos=.2]{\\~f } \\\\ & & \\*k \\end{tikzcd}\\ ] ] the composite @xmath151 is equal to the inclusion @xmath152 , because it takes morphisms @xmath147 for @xmath100 in @xmath60 to @xmath153 .",
    "it follows that @xmath142 must be faithful , as desired .",
    "[ thm : usc - cosieve - sc ] if @xmath0 is upward - simply - connected , then every upward - closed subcategory @xmath139 is simply - connected .    by [ thm : l - cosieve - faithful ] and [ thm : usc - sc ] .",
    "we will show that for finite posets @xmath0 , the two conditions in [ thm : usc - cosieve - sc ] are equivalent to each other and to the following combinatorial notion :    [ defn : tree ] the class of finite posets is defined inductively by the following rule :    1 .",
    "if @xmath154 are finite tree - like posets , and @xmath155 is a connected upward - closed subset for each @xmath156 , then a new finite tree - like poset is formed by taking the disjoint union of the @xmath157 s and adjoining a single point which lies below each @xmath158 .    a finite poset is a finite disjoint union of tree - like posets .",
    "[ thm : posetal - cosieve - sc - decomp ] let @xmath0 be a finite connected simply - connected poset and @xmath46 be minimal . then for each connected component @xmath159 , the subposet @xmath160 ( where @xmath161 ) is connected",
    "this is straightforward to show using topological arguments , by considering the nerve of @xmath0 as in [ rmk : nerve ] ; however , in the interest of keeping this paper self - contained , we will give a more elementary proof .",
    "let @xmath162 and @xmath163 .",
    "note that we must have @xmath164 , since @xmath165 and @xmath0 is connected .",
    "consider the partition of connected subposets @xmath166 of @xmath0 , ordered by @xmath167 for @xmath168 .",
    "then @xmath169 is connected ( because @xmath0 is ) , @xmath170 is connected ( because @xmath143 is ) , and we have two antichains @xmath171 and @xmath172 , with only elements of the former below elements of the latter ( and @xmath173 below every element of the latter ) .",
    "so the hasse diagram of @xmath169 looks like @xmath174 & \\*u_1 \\dar & \\*u_2 \\dlar \\dar \\drar & \\*u_3 \\dar \\ar{drr } & \\dotsb & \\*u_m \\ar{dll } \\\\",
    "\\*i \\setminus \\*k \\urar \\ar[crossing over]{urr } \\ar[crossing over]{urrr } \\ar[crossing over]{urrrrr } & \\*v_1 & \\*v_2 & \\*v_3 & \\dotsb & \\*v_n \\end{tikzcd}\\ ] ] using that each element of @xmath169 is connected , it is easy to check that the functor @xmath175 induced by the quotient map @xmath176 is full .",
    "so since @xmath0 is simply - connected , so must be @xmath169 .",
    "but since @xmath169 has no chains of cardinality @xmath177 , @xmath178 is just the graph - theoretic fundamental groupoid of its hasse diagram ( depicted above ) .",
    "so for @xmath169 to be simply - connected , its hasse diagram must be acyclic , which clearly implies @xmath179 , as desired .",
    "[ thm : cosieve - sc - tree ] let @xmath0 be a finite ( connected ) poset such that every upward - closed subset is simply - connected .",
    "then @xmath0 is forest - like ( tree - like ) .",
    "[ thm : amalgam - tree ] let @xmath0 be a finite tree - like poset .",
    "then for every category @xmath17 with the ap , every diagram @xmath38 has a cocone .    by induction on the construction of @xmath0 , there is @xmath46 minimal such that @xmath180 is the disjoint union of tree - like posets @xmath154 and @xmath181 is connected for each @xmath156 . for each @xmath156",
    ", there is some @xmath182 since @xmath158 is connected , and there is a cocone @xmath183 over @xmath184 by the induction hypothesis . by the ap in @xmath17 , there is a cocone @xmath185 over the pushout diagram consisting of the composite maps @xmath186{f(i , u_k ) } f(u_k ) --->[\\*c]{f^k_{u_k } } x_k\\end{aligned}\\ ] ] ( where @xmath187 denotes @xmath40 applied to the unique morphism @xmath32 { } u_k$ ] ) for all @xmath156 , where @xmath188 { } y$ ] and @xmath189 { } y$ ] with @xmath190 for @xmath191 , let @xmath192 be the composite @xmath193 we claim that @xmath194 is a cocone over @xmath40 . for @xmath195",
    "where @xmath191 for some @xmath156 , also @xmath196 , whence @xmath197 because @xmath183 is a cocone over @xmath184 .",
    "so we only need to check that for @xmath198 , i.e. , @xmath199 , we have @xmath200 . by connectedness of @xmath158 ,",
    "there is a path @xmath201 in @xmath158 , whence @xmath202    [ thm : amalgam - forest ] let @xmath0 be a finite forest - like poset . then for every category @xmath17 with the ap and the jep , every diagram @xmath38 has a cocone .",
    "find cocones over @xmath40 restricted to each connected component of @xmath0 , then apply jep .",
    "[ thm : usc - etc ] a finite poset @xmath0 is upward - simply - connected , iff every upward - closed subset @xmath139 is simply - connected , iff @xmath0 is forest - like .    by [ thm : usc - cosieve - sc ] , [ thm : cosieve - sc - tree ] , [ thm : amalgam - forest ] , and [ thm : setinj - amalgam ] .",
    "this proves ( iii)@xmath132(iv)@xmath132(v)@xmath113(i ) in [ thm : amalgam ] for finite posets @xmath0 .",
    "we begin this section by explaining why in a context such as frass theory , where we are looking at diagrams in a monic category @xmath17 ( of embeddings in the case of frass theory ) , the only diagram shapes @xmath0 worth considering are posets .",
    "the of a category @xmath0 is the monic category @xmath203 freely generated by @xmath0 .",
    "explicitly , @xmath204 for the least congruence @xmath205 on @xmath0 such that @xmath206 is monic .",
    "thus for a diagram @xmath38 in a monic category @xmath17 , @xmath40 factors through @xmath203 , say as @xmath207 ; and pullback of cocones over @xmath133 along the projection @xmath208 is an isomorphism of categories ( between the category of cocones over @xmath133 and the category of cocones over @xmath40 ) .",
    "so in a monic category @xmath17 , we may as well only consider diagrams whose shape @xmath0 is monic .",
    "and by the following , an upward - simply - connected monic @xmath0 is necessarily a preorder ; clearly @xmath0 may be replaced with an equivalent poset in that case .",
    "[ thm : incat - mono ] let @xmath17 be an idempotent inverse category",
    ". then there is at most one monomorphism between any two objects in @xmath17 .",
    "let @xmath209 { } y$ ] be two monomorphisms .",
    "then @xmath210 is idempotent , whence @xmath211 .",
    "this implies that @xmath212 is a pseudoinverse of @xmath75 , whence @xmath213 , whence @xmath214 .",
    "[ thm : usc - mon - posetal ] an upward - simply - connected small monic category @xmath0 is necessarily a preorder .",
    "since @xmath0 is monic , we have an embedding @xmath215 { } i ) \\\\",
    "( i --->[\\*i]{i } j ) & |-- > ( j |- > i \\circ j);\\end{aligned}\\ ] ] this embedding factors through the canonical functor @xmath216 , so @xmath102 must be faithful . by [ thm : incat - mono ] , for @xmath217 { } j$ ] , we have @xmath218 , whence @xmath219 .",
    "now we check that @xmath1 is invariant when passing from @xmath0 to @xmath203 :    [ thm : l - m ] for any ( small ) category @xmath0 , @xmath220 .",
    "@xmath221 is left adjoint to the composite @xmath222 ( where @xmath223 is the category of ( small ) monic categories ) where the first functor takes an inverse category to its subcategory of monomorphisms , and the second functor is the full inclusion , which has left adjoint @xmath224 .    [",
    "thm : amalgam - monic ] let @xmath0 be a connected upward - simply - connected category with finitely many objects .",
    "then every diagram @xmath38 in a monic category @xmath17 with the ap has a cocone .",
    "since @xmath17 is monic , @xmath40 factors through @xmath203 , as @xmath207 , say .",
    "since @xmath0 is upward - simply - connected , so is @xmath203 , whence @xmath203 is a finite preorder . clearly replacing @xmath203 with an equivalent poset",
    "does not change whether @xmath133 has a cocone , so by [ thm : amalgam - tree ] , @xmath133 has a cocone , which induces a cocone over @xmath40 .",
    "we now deduce the general case of ( iii)@xmath113(i ) in [ thm : amalgam ] :    [ thm : ap - moniq ] let @xmath17 be a category with the ap . then @xmath225 defines a congruence on @xmath17 , thus @xmath226 .",
    "clearly @xmath205 is reflexive , symmetric , and right - compatible . to check left - compatibility , suppose @xmath227 { } y$ ] and @xmath228 { } z$ ] ; we show @xmath229 .",
    "let @xmath230 { } w$ ] witness @xmath231 , so that @xmath232",
    ". then @xmath229 is witnessed by @xmath233 such that the following diagram commutes : @xmath234{l } & & w \\ular[dashed ] \\\\ & y \\ular{h } \\urar[swap]{k } \\end{tikzcd}\\ ] ] to check transitivity , suppose @xmath235 { } y$ ] ; we show @xmath236 .",
    "let @xmath230 { } z$ ] witness @xmath231 and @xmath237 { } w$ ] witness @xmath238 .",
    "then @xmath236 is witnessed by an amalgam of @xmath239 .",
    "let @xmath0 be a finitely generated connected upward - simply - connected category .",
    "then every diagram @xmath38 in a category @xmath17 with the ap has a cocone .",
    "let @xmath240 be the monic reflection of @xmath17 . by [ thm : amalgam - monic ] , @xmath241 has a cocone @xmath44 , where @xmath242 { } y$ ] for each @xmath46 .",
    "pick for each @xmath46 a lift @xmath243 { } y$ ] of @xmath244 . for each @xmath42 { } j$",
    "] , since @xmath44 is a cocone over @xmath245 , we have @xmath246 ; by [ thm : ap - moniq ] , this means there is some @xmath247 { } z_i$ ] such that @xmath248 . now letting @xmath228 { } z$ ]",
    "be an amalgam of @xmath249 for all arrows @xmath100 in some finite generating set of arrows in @xmath0 , we have @xmath250 for all @xmath42 { } j$ ] in the generating set , so @xmath251 is a cocone over @xmath40 .",
    "let @xmath0 be a finitely generated upward - simply - connected category .",
    "then every diagram @xmath38 in a category @xmath17 with the ap and the jep has a cocone .",
    "this proves ( iii)@xmath113(i ) in [ thm : amalgam ] . since ( i)@xmath113(ii ) is obvious , to complete the proof of the theorem it only remains to check    let @xmath0 be a category such that every @xmath0-shaped diagram in a category with the ap has a cocone .",
    "then @xmath0 is connected .",
    "consider the diagram @xmath252 where @xmath253 is regarded as a discrete category .",
    "suppose we are given a finite category @xmath0 in some explicit form ( say , a list of its morphisms and a composition table )",
    ". then our proof of [ thm : amalgam ] yields a simple procedure for testing whether a `` generalized amalgamation property '' holds for @xmath0-shaped diagrams :      first , compute the monic reflection @xmath203 ; this can be done in finite time , since @xmath204 for the least congruence @xmath205 such that @xmath206 is monic , and @xmath205 can be computed by taking the equality congruence and closing it under finitely many conditions , which takes finitely many steps since @xmath0 is finite .",
    "if @xmath203 is not a preorder , then @xmath0 is not upward - simply - connected by [ thm : usc - mon - posetal ] .",
    "if @xmath203 is a preorder , then replace it with an equivalent poset @xmath60 and recursively test whether @xmath60 is forest - like using [ thm : posetal - cosieve - sc - decomp ] , i.e. , for each connected component @xmath254 , test whether @xmath143 is tree - like by picking some minimal @xmath255 and then for each @xmath256 testing whether @xmath257 is connected and whether @xmath258 is tree - like .",
    "this can not be extended to finitely presented @xmath0 , since if @xmath0 is a group regarded as a one - object category then @xmath259 is idempotent iff @xmath0 is trivial , and it is undecidable whether a finite group presentation presents the trivial group ( see e.g. , @xcite ) .",
    "we end by pointing out the following simple , but somewhat surprising , consequence of par s result , [ thm : pushout ] , which shows that the analogy between the ap and pushouts breaks down when it comes to decidability :      there is a standard procedure to turn a finite presentation of a group @xmath260 into a finite @xmath261-dimensional ( abstract ) simplicial complex @xmath262 with fundamental group @xmath260 ; then the nerve ( see [ rmk : nerve ] ) of the face poset of @xmath262 is the barycentric subdivision of @xmath262 , hence the face poset of @xmath262 has fundamental group(oid equivalent to ) @xmath260 ( see @xcite for details ) .                      c.  f.  miller , decision problems for groups  survey and reflections , in _ algorithms and classification in combinatorial group theory _ , mathematical sciences research institute publications , vol .",
    "23 , springer , 1992 ."
  ],
  "abstract_text": [
    "<S> a category has the amalgamation property ( ap ) if every pushout diagram has a cocone , and the joint embedding property ( jep ) if every finite coproduct diagram has a cocone . </S>",
    "<S> we show that for a finitely generated category @xmath0 , the following are equivalent : ( i ) every @xmath0-shaped diagram in a category with the ap and the jep has a cocone ; ( ii ) every @xmath0-shaped diagram in the category of sets and injections has a cocone ; ( iii ) a certain canonically defined category @xmath1 of `` paths '' in @xmath0 has only idempotent endomorphisms . </S>",
    "<S> when @xmath0 is a finite poset , these are further equivalent to : ( iv ) every upward - closed subset of @xmath0 is simply - connected ; ( v ) @xmath0 can be built inductively via some simple rules . </S>",
    "<S> our proof also shows that these conditions are decidable for finite @xmath0 .    </S>",
    "<S> = 1 </S>"
  ]
}