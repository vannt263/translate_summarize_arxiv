{
  "article_text": [
    "the murchison wide - field array ( lonsdale et al .",
    "2007 ) is a 512 element , low frequency , radio interferometer , currently under construction in western australia .",
    "the instrument has a number of ambitious science goals , grouped under four main science packages , the detection of the epoch of re - ionization ; solar , heliospheric and ionospheric science ; a systematic survey for radio transients ; and the galactic and extra - galactic science package , which is a large umbrella organization of science interests including the interstellar medium , large area surveys , pulsars and the galactic magnetic field .",
    "the instrument is also novel in that the intention is to process and calibrate all observations in real  time , as the raw data rate is too large to capture and process offline .",
    "an fpga correlator will cross  correlate the signals received by the 512 antennas , its output being the correlations of 130,000 baseline pairs , each consisting of 768 frequency channels with 4 polarizations .",
    "this data stream is then integrated , calibrated and imaged by the real  time system ( rts ) .",
    "calibration in this sense refers to calculating the complex gain of each antenna element and the time dependent vector field that describes refractive source position shifts due to the ionosphere .",
    "this process involves the observation of catalogue radio sources and the performance of a large linear least squares minimization in order to obtain the best estimation of the antenna gains and ionospheric offsets ( mitchell et al .",
    "imaging refers to the construction , from the input data and calibration information , via a fourier transform , of four images in the stokes parameters , i , q , u and v in a form that can be readily aggregated in frequency and time .",
    "the calibration tasks are applied to a data - set which can be thought of as a fourier transform of the sky brightness distribution .",
    "these data are manipulated to measure and remove the contribution from catalogue radio sources in decreasing order of predicted flux .",
    "each measurement being used to constrain the complex gains of the antenna elements , this is an iterative process .",
    "the data - set then undergoes a convolution that interpolates the samples onto a regular grid to permit the operation of the fast fourier transform ( fft ) .    in the case of the mwa the subsequent fft operation results in images that are measurements of instrumental polarization in a coordinate system that is a slant - orthographic projection of the celestial sphere .",
    "such images can not be directly combined ( e.g. co - added ) as both the projection and the instrumental polarization change as a function of time ( cornwell and perley 1992 ) .",
    "the rts takes the novel approach of transforming these wide - field images into a integrable representations of the polarization state of the sky by resampling the images onto an all - sky pixelisation .",
    "firstly the measured instrumental polarization is converted into a set of stokes parameters by the application of a 4x4 matrix transformation .",
    "this matrix is a function of time and position on the sky relative to the instrument and must be calculated by the rts for each pixel .",
    "the slant - orthographic projection is converted into healpix ( grski et al 2005 ) via a flux redistribution algorithm requiring the calculation of input and output polygonal overlaps .",
    "the pixelisation can then be imaged via the hpx projection ( calabretta and roukema 2007 ) with no further interpolation .",
    "simulations and code development has indicated that the compute budget for this pipeline is approximately 10 tflops@xmath0 .",
    "the imaging tasks are by far the most computationally intensive operations .",
    "this compute capability will be provided , on site , by the real  time computer ( rtc )",
    "a 3.2 ghz harpertown cpu from intel can provide approximately 100 gflops@xmath0 . which indicates that 100 are required to meet the rtc processing requirements . with 100 compute - nodes and assuming a conservative 300w per compute - node of power consumption results in an rtc power requirement of 30kw , not including active cooling",
    "the rtc has to operate in the desert under very strict power limitations , the current power budget being 20kw , which indicates that the flop / watt ratio of even the most recent cpu is not sufficient to perform the task .",
    "in contrast a single 2008 nvidia gt200 series gpu can provide 800  gflops@xmath0 .",
    "even if the power consumption per node is raised to 600  w , 32 gpu nodes can be powered by this budget providing 20  tflops@xmath0 of theoretical performance .",
    "one of the fundamental problems in high performance computing ( hpc ) is that ram access speeds have not kept pace with improvements in cpu performance .",
    "a modern cpu can operate on two floating point numbers per clock cycle , but fetching those two numbers from memory takes hundreds of clock cycles .",
    "this leads to what has been termed `` data starvation '' .",
    "cpu development has attempted to overcome this problem using innovative technologies including ; large caches , superscalar architecture and branch prediction .",
    "gpu developers have taken another approach to resolving data starvation , they have devoted gpu transistors to extra execution units , each working on a single thread of execution .",
    "these threads perform the same operation on different data elements as per the simd ( single instruction multiple data ) paradigm .",
    "there are also many more threads queued for execution than are running at any one time .",
    "the goal is that whenever a thread is waiting on memory access it gets swapped out for another which has data ready for use .",
    "gpu hardware handles all the thread scheduling transparently and a modern gpu can have 100s more execution units than a modern cpu .",
    "the difficulty in utilizing this compute capability lies in providing the gpu with enough threads to hide the memory latency .",
    "applications that benefit most from a gpu implementation are ideally massively parallel , high arithmetic intensity operations . as moving data from the host memory",
    "to device memory is a time - consuming operation , considerable effort was directed at ensuring the entire rts pipeline could be implemented on the gpu .",
    "even though some operations are not optimally suited , the benefit in avoiding unnecessary host to device memory transfers was significant .",
    "the gpu code differs from the cpu code due to the particular requirements of gpu programming .",
    "gpus are sensitive to memory access patterns , as a result the porting involved a careful determination of optimal memory structures and even some algorithmic changes . in addition some operations are simply inadvisable on the gpu , for example the nvidia cuda api lacks an atomic floating point accumulate operation , as a result `` scatter '' type algorithms , where multiple threads may write to the same memory location are not advisable and those that exist in the cpu code have been replaced by `` gather '' type algorithms , where a thread collects the values for a particular memory location .",
    "redundant on - device memory operations were minimized by ensuring that thread memory requests were coalesced by the gpu ; if threads access consecutive memory locations , the gpu performs all the memory access operations simultaneously .",
    "gpu threads are also very `` light - weight '' , and fine grained parallelism can therefore produce remarkable performance benefits , the hardware thread manager is so efficient that it was worth considering threads that simply add two numbers together .",
    "the majority of the rts pipeline has been ported to the gpu and the comparative timings of those elements are presented in table 1 .",
    "the image resampling step is yet to be implemented , but this multi - step pipeline already successfully demonstrates the feasibility of a gpu based calibration and imaging system .",
    "experiments indicate a factor of ten improvement over the cpu application .",
    "ccc cml & 250 & 22 + gridding & 480 & 36 + fft & 326 & 40 + convolution correction & 22.6 & 1.4 + stokes conversion & 42.4 & 4 + total & 1121 & 103.4 +",
    "gpus can enable science that otherwise would be impossible due to monetary or power constraints .",
    "we have presented a general overview of a complex gpu application to calibrate and image data from the mwa , which has been ported from a cpu - based application .",
    "although not all elements of the rts have been implemented on the gpu a calibration and imaging pipeline has been demonstrated to work efficiently , and provides considerable performance improvements over a cpu implementation .",
    "calabretta  m. ,  & roukema  b.  f. ,  2007 , , 381 , 865 cornwell t.  j. ,   & perley  r. a.  1992 , proc .",
    "spie , 1351 , 706 grski k. m ,  hivon e. ,   banday a. j. ,  wandelt b. d. ,   hansen f. k. ,   reinecke m. ,  bartelmann m .. , 2005 , , 622 , 759 mitchell d. , greenhill l.j .",
    ", wayth r.b .",
    ",  sault r.j . ,   lonsdale c.j .",
    ",   cappallo r.j .",
    ",   morales m.f . ,  ord s.m",
    ".  2008 , ieee journal of stsp , 2 , 5"
  ],
  "abstract_text": [
    "<S> the mwa is a next - generation radio interferometer under construction in remote western australia . </S>",
    "<S> the data rate from the correlator makes storing the raw data infeasible , so the data must be processed in real - time . </S>",
    "<S> the processing task is of order  10 tflops@xmath0 . </S>",
    "<S> the remote location of the mwa limits the power that can be allocated to computing . </S>",
    "<S> we describe the design and implementation of elements of the mwa real - time data processing system which leverage the computing abilities of modern graphics processing units ( gpus ) . </S>",
    "<S> the matrix algebra and texture mapping capabilities of gpus are well suited to the majority of tasks involved in real - time calibration and imaging . </S>",
    "<S> considerable performance advantages over a conventional cpu - based reference implementation are obtained . </S>"
  ]
}