{
  "article_text": [
    "in this paper , we consider the family of pattern - replacement equivalence relations referred to as the `` indices and values adjacent '' case in @xcite .",
    "each such equivalence is determined by a partition @xmath0 of a subset of @xmath1 for some @xmath2 . before introducing our results ,",
    "we provide background definitions .",
    "a * word * is a series of * letters * , where each * letter * has an integer value .",
    "* example : * the word @xmath10 has letters @xmath11 , @xmath12 , @xmath13 , @xmath14 , and @xmath15 .    a * permutation * of size @xmath16 is an @xmath16-letter word using each letter from @xmath11 to @xmath16 exactly once .",
    "* example : * @xmath17 is a permutation of size @xmath18 .",
    "@xmath8 denotes the set of permutations of size @xmath16 .",
    "* example : * @xmath19",
    ".    the word @xmath20 * forms the permutation * @xmath21 if for some integer @xmath22 , @xmath23    as shorthand , we may just say that @xmath24 * forms * @xmath25 .",
    "* example : * @xmath26 forms the permutation @xmath27 .",
    "an even simpler example is that @xmath27 forms the permutation @xmath27 .    a * replacement partition * is a partition of a subset of @xmath1 for some @xmath2 .",
    "each replacement partition @xmath0 determines an equivalence relation which we refer to as the * @xmath0-equivalence*.    a * hit * is a contiguous subword of a permutation that forms @xmath25 for some @xmath28 .",
    "a * @xmath0-hit * is a contiguous subword of a permutation that forms a permutation in a partition @xmath0 of @xmath1 .",
    "* example : * the subword @xmath26 of the permutation @xmath29 forms the permutation @xmath27 .    given a pattern - replacement partition @xmath0 , we define the @xmath0-equivalence on @xmath8 in the following manner .",
    "given a @xmath0-hit @xmath30 in a permutation @xmath24 that forms the permutation @xmath31 , we are allowed to rearrange the letters within @xmath30 in any way such that the resulting word forms some @xmath32 in the same part of @xmath0 as @xmath33 .",
    "a * class * , or * equivalence class * , containing @xmath24 is the set of permutations that can be reached from @xmath24 by repeated rearrangements of the type just described .",
    "if two permutations @xmath34 and @xmath35 are in the same equivalence class , we say that @xmath34 is * equivalent * to @xmath35 , or that @xmath36 .",
    "let @xmath0 be a replacement partition .",
    "let @xmath30 be a @xmath0-hit in a permutation @xmath24 such that @xmath30 forms a permutation in the @xmath37th part of @xmath0 . rearranging the letters in @xmath30 in any way such that @xmath30 still forms a permutation in the @xmath37th part of @xmath0 is referred to as a * @xmath0-rearrangement*.    * example : * let @xmath38 .",
    "then applying a @xmath39-rearrangement to the hit @xmath40 allows us to rearrange the hit either as @xmath41 or as @xmath42 .",
    "this results in the permutations @xmath43 and @xmath44 respectively .",
    "the * @xmath0-equivalence * is the reflexive - transitive closure of @xmath0-rearrangement . in other words ,",
    "the permutations that can be reached from a permutation @xmath24 by means of repeated @xmath0-rearrangements are considered * equivalent * to @xmath24 under the @xmath0-equivalence .",
    "the set of permutations equivalent to @xmath24 comprises an * equivalence class*.    * example : * in figure [ fig1 ] we show a visual depiction of the equivalence class containing @xmath45 under the @xmath4-equivalence .",
    "each of the above permutations are considered * equivalent * under the relation .",
    "two permutations are connected by a line segment if one can be reached from the other by the rearrangement of a single @xmath46-hit .",
    "for example , @xmath47 connects to @xmath45 because @xmath48 forms the permutation @xmath49 and thus can be rearranged to form the permutation @xmath49 , becoming @xmath50 .",
    "[ fig1 ]     under the @xmath4-equivalence . ]",
    "we will refer to the type of equivalence relations studied in this project as * pattern - replacement * equivalence relations . in the literature",
    ", they are referred to either as doubly adjacent pattern - replacement equivalence relations or as the `` indices and values adjacent '' case .    in 2010 ,",
    "linton , propp , roby , and west posed a number of open problems in the area of pattern - replacement equivalences @xcite .",
    "five , in particular , have remained unsolved until now , the enumeration of equivalence classes under the @xmath51-equivalence , under the @xmath4-equivalence , under the @xmath5 equivalence , and under the @xmath52-equivalence .    in section [ secapplications ] ,",
    "we find formulas for three of the five equivalences and systems of representatives for the equivalence classes of the other two .",
    "we generalize our results to hold for all replacement partitions of @xmath7 , as well as for an infinite family of other replacement partitions .    in order to do this ,",
    "we first introduce the notion of @xmath53-confluence in section [ secconfluence ] ; when @xmath53-confluence is satisfied by a partition @xmath0 , one can easily find a set of representative permutations for the equivalence classes in @xmath8 under the @xmath0-equivalence .",
    "we construct a set of tools allowing us to often quickly prove that a pattern - replacement equivalence satisfies this confluence .",
    "finally , we use the prior results in the section to present a formula for the number equivalence classes in @xmath8 under pattern - replacement equivalences satisfying certain conditions .    in section [ secsc ]",
    ", we use our results to completely characterize the equivalence classes in @xmath8 under the @xmath1-equivalence .",
    "our results connect interestingly to stanley s results on the @xmath54-equivalence @xcite .    for this entire paper ,",
    "fix @xmath16 and @xmath2 be positive integers such that @xmath55 .",
    "we will be considering equivalence classes of @xmath8 under doubly adjacent pattern - replacement equivalences involving patterns of size @xmath2 .    before continuing , we provide some useful background on the notion of a binary relation being * confluent*.    let @xmath56 be a binary relation on a finite set @xmath57 and @xmath58 be the reflexive - transitive closure of @xmath56 .",
    "we say that @xmath56 is * confluent * if    * there is no @xmath59 such that @xmath60 and @xmath61 ; * for each connected component @xmath62 of @xmath56 considered as a directed graph ( with @xmath57 as the set of nodes ) , there is a unique minimal node @xmath63 .",
    "( i.e. , there is a unique node @xmath63 such that for all @xmath64 with @xmath65 , we have that @xmath66 . )    the following lemma , known as the diamond lemma , is well known , and is easy to prove .",
    "let @xmath56 be a binary relation on a finite set @xmath57 such that @xmath67 is false for @xmath68 .",
    "assume the following is true .    1",
    ".   there does not exist an infinite ( possibly repeating ) sequence @xmath69 such that for all @xmath37 , @xmath70 , and @xmath71 .",
    "in other words , @xmath56 * terminates*. 2 .   for all @xmath72 such that @xmath73 and @xmath74 , there exists @xmath75 such that @xmath76 and @xmath77 where @xmath78 denotes the reflexive - transitive closure of @xmath56 .",
    "then , @xmath56 is confluent .",
    "in this section , we introduce the notion of a replacement partition @xmath0 being @xmath53-confluent . when a partition is @xmath53-confluent , it is easy to characterize a set of permutations in @xmath8 exactly one of which is in a given equivalence class in @xmath8 under the @xmath0-equivalence .",
    "such a permutation is referred to as a @xmath53-root permutation .",
    "we provide three results which together allow one to often determine quickly that a pattern - replacement equivalence satisfies @xmath53-confluence ( proposition [ propsimpleconf ] , theorem [ thmcombineconf ] , theorem [ thmomni ] ) .",
    "we then present a formula for the number of equivalence classes in @xmath8 under the @xmath0-equivalence when @xmath0 is @xmath53-confluent and satisfies certain conditions ( theorem [ thmconfcount ] ) .",
    "let @xmath24 be a word , each letter of which has a distinct value .",
    "the * tail size * of @xmath24 is the smallest positive integer @xmath22 such that the first @xmath22 letters of @xmath24 contain the @xmath22 smallest letter values in @xmath24 .",
    "* example : * the tail size of @xmath79 is @xmath15 because @xmath80 contains @xmath11 , @xmath13 , @xmath12 , and @xmath15 .",
    "let @xmath24 be a word , each letter of which has a distinct value .",
    "* @xmath24 is * right leaning * if the tail size of @xmath24 is less than @xmath16 .",
    "* @xmath24 is * left leaning * if the tail size of a written backwards version of @xmath24 is less than @xmath16 .",
    "* @xmath24 is * omni leaning * if it is neither left leaning nor right leaning .",
    "* example : * @xmath79 is right leaning because its tail size is @xmath15 .",
    "consequently , writing it backwards to get @xmath81 gives us a left leaning permutation .",
    "* example : * one can check that @xmath82 is omni leaning .",
    "the sets of right leaning , left leaning , and omni leaning permutations in @xmath8 respectively are denoted by @xmath83 , @xmath84 , and @xmath85 .",
    "note that the three sets do not intersect .",
    "let @xmath86 , and @xmath30 be a hit in @xmath24 .",
    "if @xmath30 comprises all of @xmath24 we say @xmath24 is * left polarized*. otherwise , let @xmath34 be the average value of the letters in @xmath30 , and let @xmath87 be @xmath24 except with the entire hit @xmath30 replaced by a single letter whose value is @xmath34 .",
    "let @xmath35 be the letter in @xmath87 closest to @xmath34 in value out of the ( either one or two ) letters immediately adjacent to @xmath35 in @xmath87 .",
    "if there is a tie , than pick the one on @xmath35 s left , although one can check it does not matter which we pick .    if @xmath34 and @xmath35 are in increasing order in @xmath87 , then @xmath30 is * right polarized*. if @xmath34 and @xmath35 are in decreasing order in @xmath87 , then @xmath30 is * left polarized*.    * example : * the hit @xmath88 in the permutation @xmath89 is left polarized . here ,",
    "@xmath90 and thus @xmath91 .",
    "the two letters immediately adjacent to @xmath34 in @xmath87 are @xmath11 and @xmath13 .",
    "since @xmath13 is closer to @xmath18 than is @xmath11 , @xmath92 . in @xmath87 , @xmath34 and @xmath35",
    "are in decreasing order , meaning @xmath30 is left polarized .",
    "a hit @xmath30 is * backward * in a permutation @xmath24 if @xmath30 either    * is both right polarized and left leaning , * or is both left polarized and right leaning , * or is omni leaning .    otherwise , @xmath30 is * forward*.    let @xmath0 be a partition of a subset @xmath93 of @xmath1 .",
    "let @xmath94 .",
    "then @xmath62 is a * straightening set * of @xmath0 if    * for each part of @xmath0 containing at least one left leaning permutation , @xmath62 contains exactly one left leaning permutation from that part ; * for each part @xmath62 of @xmath0 containing at least one right leaning permutation , @xmath62 contains exactly one right leaning permutation from that part ; * and for each part of @xmath0 containing only omni leaning permutation , @xmath62 contains exactly one permutation from that part .",
    "* example : * @xmath95 is a straightening set of @xmath96",
    ".    let @xmath62 be a straightening set of a partition @xmath0 .",
    "a @xmath0-hit @xmath30 in @xmath97 is * @xmath53-straightened * if either    * @xmath30 is forward and is in @xmath62 , * or @xmath30 is backward and is in @xmath62 , and there is no @xmath0-rearrangement that when applied to @xmath30 results in @xmath30 being forward .    in turn ,",
    "* @xmath53-straightening * a @xmath0-hit @xmath30 is defined as rearranging a @xmath0-hit to be @xmath53-straightened by means of a @xmath0-rearrangement .",
    "* example : * let @xmath98 and @xmath99 .",
    "consider the permutation @xmath100 .",
    "the hit @xmath101 is right leaning but left polarized and is thus backwards .",
    "consequently , @xmath53-straightening it rearranges it to be the forward hit @xmath102 , bringing us to the permutation @xmath103 . on the other hand",
    ", @xmath104-straightening the hit @xmath102 in this new permutation does nothing at all .",
    "let @xmath0 be a partition of a subset of @xmath1 and @xmath62 be a straightening set of @xmath0 .",
    "let the binary relation @xmath56 on @xmath8 be such that for @xmath105 , @xmath106 exactly when @xmath87 can be reached from @xmath24 by @xmath53-straightening a hit in @xmath24 that was not already @xmath53-straightened .",
    "we refer to @xmath56 as the * @xmath53-straightening operator*.    let @xmath0 be a partition of a subset of @xmath1 and @xmath62 be a straightening set of @xmath0 .",
    "the partition @xmath0 is said to be * @xmath62-confluent * if the @xmath53-straightening operator is confluent .",
    "let @xmath0 be @xmath62-confluent .",
    "a permutation @xmath24 is said to be a * @xmath53-root permutation * if it is the unique permutation in its equivalence class under the @xmath0-equivalence such that it can be reached from any other equivalent permutation by means of repeated @xmath53-straightenings .",
    "* example : * it turns out that @xmath4 is @xmath107-confluent .",
    "figure [ fig2 ] demonstrates this for a particular equivalence class in @xmath108 .",
    "an arrow between two permutations means one can be reached from the other under the @xmath4-equivalence by a @xmath109-straightening .",
    "observe how all paths lead to the permutation @xmath45 which is consequently the @xmath109-root permutation in the class .",
    "[ fig2 ]     is @xmath110-equivalent for equivalence class containing @xmath45 . ]",
    "[ propsimpleconf ]",
    "let @xmath0 be a partition of @xmath111 with parts @xmath112 .",
    "let @xmath62 be the straightening set of @xmath0 containing the lexicographically smallest permutation from each part of @xmath0 .",
    "suppose that for any two hits @xmath30 and @xmath113 in any permutation @xmath114 such that @xmath113 forms a permutation in @xmath115 , @xmath53-straightening @xmath30 leaves the letters in @xmath113 still in a contiguous subword forming a permutation in @xmath115 .",
    "then @xmath0 is @xmath62-confluent .",
    "let @xmath56 be the @xmath53-straightening operator .",
    "since @xmath116 implies that @xmath35 is lexicographically smaller than @xmath34 , @xmath56 terminates . given @xmath114 ,",
    "let @xmath117 be the permutation @xmath87 reached by @xmath53-straightening the @xmath0-hit beginning with @xmath118 in @xmath24 if such a @xmath0-hit exists and @xmath24 otherwise .",
    "note that @xmath119 due to the restrictions we have imposed . thus by the diamond lemma , @xmath0 is @xmath62-confluent .",
    "we state the following lemmas without proof for the sake of brevity .",
    "[ lemoverlappinghit ] let @xmath114 and @xmath30 and @xmath113 be overlapping hits of size @xmath2 in @xmath24 .",
    "then , @xmath30 and @xmath113 are both forward and either are both left leaning or are both right leaning .",
    "[ lemletterorder ] let @xmath24 and @xmath87 be equivalent under the @xmath0-equivalence where @xmath0 partitions a subset of @xmath1 .",
    "suppose @xmath120 for @xmath121 .",
    "then , @xmath122 .",
    "[ lemlocalorderchange ] let @xmath123 be such that @xmath87 can be reached from @xmath24 by a @xmath0-rearrangement ( where @xmath0 partitions a subset of @xmath1 ) .",
    "let @xmath37 and @xmath124 be such that @xmath118 is not in @xmath30 .",
    "then , @xmath125 .",
    "now we introduce a slightly less obvious lemma .",
    "[ lemignorebackwardhits ] let @xmath126 be a @xmath127-confluent partition",
    ". then    1 .",
    "and @xmath128-straightening any forward hit in a permutation results in a permutation with the same number of @xmath126-hits that are both backward and non-@xmath128-straightened .",
    "2 .   @xmath128-straightening a non-@xmath128-straightened backward hit in a permutation results in a permutation with one fewer @xmath126-hits that are both backward and non-@xmath128-straightened ;    observe that ( a ) a backward @xmath126-hit can not overlap any other @xmath126-hit ( by lemma [ lemoverlappinghit ] ) , and ( b ) @xmath128-straightening one @xmath126-hit can not change whether another @xmath126-hit is right polarized or left polarized ( by lemma [ lemlocalorderchange ] ) .    by ( a ) and ( b ) ,",
    "@xmath128-straightening a forward @xmath126-hit in a permutation does not change the set of backward @xmath126-hits in the permutation . also by ( a ) and ( b )",
    ", @xmath128-straightening a backwards non-@xmath128-straightened hit can not rearrange another @xmath128-straightened backward hit to become non-@xmath128-straightened .",
    "let @xmath129 be partitions of @xmath130 respectively such that @xmath131 and @xmath132 .",
    "we say that @xmath0 is a _ disjoint union _ of @xmath133 and @xmath134 if each part of @xmath0 is a disjoint union of some ( possibly empty ) part from @xmath133 and some ( possibly empty ) part from @xmath134 .",
    "* example : * @xmath135 is a disjoint union of @xmath136 and @xmath137",
    ".    [ thmcombineconf ] let @xmath0 be a @xmath62-confluent partition of @xmath111 and @xmath138 be a @xmath139-confluent partition of @xmath140 .",
    "let @xmath141 and @xmath126 be a disjoint union of @xmath0 and @xmath138 .",
    "then @xmath126 is @xmath127-confluent .",
    "let @xmath56 acting on @xmath8 be the @xmath128-straightening operator and @xmath58 be the reflexive - transitive closure of @xmath56 . since @xmath127 is clearly a straightening set of @xmath126 , it is sufficient to show that @xmath56 is confluent . to do this , we will use the diamond lemma .",
    "we begin by proving that @xmath56 terminates .",
    "suppose there exists an infinite chain @xmath142 . for each @xmath37",
    ", let @xmath143 be a @xmath126-hit @xmath30 , the @xmath128-straightening of which brings one from @xmath144 to @xmath145 . without loss of generality ,",
    "an infinite number of @xmath37 satisfy that @xmath143 is right leaning in @xmath144 ( since otherwise , an infinite number of @xmath37 would satisfy that @xmath143 is left leaning ) .",
    "let @xmath22 be the number of backward @xmath126-hits in @xmath146 .",
    "by lemma [ lemignorebackwardhits ] there are at most @xmath22 values of @xmath37 such that @xmath143 is backward in @xmath144 .",
    "let @xmath124 be the greatest such @xmath37 .",
    "observe that for @xmath147 , @xmath143 is forward in @xmath144 . by lemma [ lemoverlappinghit ] , the action of @xmath128-straightening a right leaning @xmath126-hit commutes with the action of @xmath128-straightening a left leaning @xmath126-hit .",
    "recall that there exists an infinite number of @xmath37 such that @xmath143 is right leaning in @xmath144 , and thus also an infinite number of such @xmath37 where @xmath148 .",
    "it follows that for a given value of @xmath149 , there exists an infinite chain @xmath150 such that @xmath151 is reached from @xmath152 by means of the @xmath128-straightening of a forward right leaning @xmath126-hit .",
    "however , since such hits are also @xmath0-hits and @xmath0 is @xmath62-confluent , the pigeonhole principle implies this can not be true for @xmath153 , a contradiction",
    ".    we will now consider condition ( 2 ) of the diamond lemma .",
    "suppose @xmath154 are such that @xmath73 , @xmath155 , @xmath34 reaches @xmath35 by means of the @xmath128-straightening of the @xmath126-hit @xmath30 , and @xmath34 reaches @xmath2 by means of the @xmath128-straightening of the @xmath126-hit @xmath113 .",
    "if @xmath30 and @xmath113 do not overlap in @xmath34 , then @xmath128-straightening @xmath30 and then @xmath128-straightening @xmath113 in @xmath34 yields the same permutation as does @xmath128-straightening @xmath113 and then @xmath128-straightening @xmath30 .",
    "suppose instead that @xmath30 and @xmath113 overlap .",
    "by lemma [ lemoverlappinghit ] , we can assume without loss of generality that both are forward and right leaning . by the assumption that @xmath0 is @xmath62-confluent",
    ", it follows that there exists @xmath156 such that @xmath157 and @xmath77 .",
    "the result follows from the diamond lemma .",
    "we now show that omni leaning permutations can be nicely inserted into arbitrary parts of partitions without screwing up the confluence properties of the partition .",
    "[ thmomni ] let @xmath0 be a @xmath62-confluent partition of a subset @xmath93 of @xmath1 .",
    "let @xmath158 such that @xmath159 is not in @xmath93 .    1 .",
    "let @xmath160 be @xmath0 except with @xmath159 added to one of the parts of @xmath0 .",
    "then @xmath160 is @xmath62-confluent .",
    "2 .   let @xmath160 be @xmath0 except with @xmath159 added as a part of size @xmath11 .",
    "then @xmath160 is @xmath161-confluent .",
    "we only bother to prove ( 1 ) , as ( 2 ) is straightforward .",
    "suppose @xmath160 is @xmath0 except with @xmath159 added to one of the parts of @xmath0 . let @xmath56 acting on @xmath8 be the @xmath162-straightening operator .",
    "we will show that @xmath56 satisfies the conditions of the diamond lemma .",
    "any @xmath160-hit forming @xmath159 is backwards .",
    "thus , by lemma [ lemignorebackwardhits ] , if there exists an infinite chain @xmath163 , then there is some @xmath22 such that @xmath164 and no @xmath160-hits forming @xmath159 are used to go from @xmath144 to @xmath145 in the chain for @xmath165 .",
    "but since @xmath0 is @xmath62-confluent , no such chain can exist .",
    "thus @xmath56 terminates .    observe that a @xmath160-hit forming @xmath159 can not overlap any other @xmath160-hit ( lemma [ lemoverlappinghit ] ) . since @xmath0 is @xmath62-confluent",
    ", it follows that condition ( 2 ) of the diamond lemma is satisfied by @xmath56 .",
    "thus @xmath56 is confluent .",
    "[ thmconfcount ] let @xmath0 be a @xmath62-confluent partition of @xmath1 .",
    "suppose that for @xmath0-hits @xmath30 and @xmath113 in @xmath114 to overlap implies that at least one of @xmath30 and @xmath113 is @xmath166-straightened .",
    "pick @xmath167 and let @xmath168 where @xmath169 is the number of parts in @xmath0 .",
    "then the number of equivalence classes in @xmath8 under the @xmath0-equivalence , which we will denote as @xmath170 , is @xmath171    let @xmath172 be the number of @xmath86 such that @xmath24 contains a @xmath0-hit @xmath30 such that the first letter of @xmath30 is in position @xmath37 in @xmath24 and @xmath30 is not @xmath53-straightened in @xmath24 . by the inclusion - exclusion principle , @xmath173 ,    |s|=j } | \\bigcap_{i \\in s } t_i |.\\ ] ]    note that for any @xmath0-hit @xmath30 in @xmath114 such that @xmath30 is not @xmath53-straightened , there are exactly @xmath174 possibilities for @xmath30 given the position of its first letter , the value of its smallest letter , and whether @xmath30 is right polarized or left polarized .",
    "let us calculate the number of ways to construct @xmath124 non - overlapping @xmath0-hits and place them in a permutation so that none of them are @xmath53-straightened .",
    "let @xmath175 be the set containing exactly the @xmath124 letters that will each be the smallest letter in one of our @xmath124 @xmath0-hits .",
    "we claim there are @xmath176 possibilities for @xmath175",
    ". since no two non-@xmath53-straightened @xmath0-hits can overlap , the possibilities are exactly the sets of @xmath124 integers from @xmath11 to @xmath177 such that no two of them are within @xmath178 of each other in value .",
    "these sets , in turn , are in bijection with binary words containing @xmath179 letters , @xmath124 of which are ones . indeed , given such a word @xmath24",
    ", we may substitute each @xmath11 with the letter @xmath11 followed by @xmath178 copies of the letter @xmath13 , bringing us to @xmath87 .",
    "we then choose to stick the letter @xmath37 in @xmath175 exactly when the @xmath37th letter of @xmath87 is @xmath11 .",
    "the inverse bijection is easy to see .",
    "given @xmath175 , the relative positions of the first letters of each of the @xmath124 @xmath0-hits along with the letters not in any of the @xmath124 @xmath0-hits can be chosen in @xmath180 ways .",
    "this , in turn , determines which hits are right polarized and left polarized .",
    "given this choice , the arrangement of each individual hit can be chosen from @xmath174 possibilities .",
    "hence @xmath181 , |s|=j } | \\bigcap_{i    \\in s } t_i | = { n - j(c-1 ) \\choose j } ( n - j(c-1 ) ) ! ( n!-|p|)^j.\\ ] ]    inserting this into the formula found by the inclusion - exclusion principle and slightly rearranging yields the desired result .",
    "in this section , we apply our results from section [ secconfluence ] to all replacement partitions of @xmath7 ( theorem [ thms_3case ] ) , on the way solving three open problems of linton , propp , roby , and west @xcite .",
    "we then apply our results to a particularly interesting infinite family of pattern - replacement equivalences ( theorem [ thmeasyinf ] ) .",
    "[ thms_3case ] ( a ) let @xmath0 be a partition of @xmath7 .",
    "then there exists a straightening set @xmath62 of @xmath0 such that @xmath0 is @xmath62-confluent .",
    "( b ) furthermore , if @xmath182 , @xmath183 , and @xmath184 are not all in the same part of @xmath0 and @xmath49 , @xmath185 , and @xmath186 are not all in the same part of @xmath0 , then the number of equivalence classes in @xmath8 under the @xmath0-equivalence can be established with theorem [ thmconfcount ] .    by proposition [ propsimpleconf ] , @xmath187 is @xmath188-confluent , @xmath189 is @xmath3-confluent ) , @xmath190 is @xmath191-confluent , and @xmath192 is @xmath193-confluent .",
    "( these are all the partitions of @xmath194 ; note that @xmath195 is empty . ) note that only in the final of these cases does the partition not satisfy the requirements for theorem [ thmconfcount ] to be applied . by symmetry",
    ", similar statements can be said for each partition of @xmath196 .",
    "since every partition of @xmath7 is the disjoint union of a partition of @xmath196 and a partition of @xmath194 , ( a ) follows from theorem [ thmcombineconf ] .",
    "since two hits of size three of size @xmath12 in a permutation @xmath24 can only overlap if either both are in @xmath196 or both are in @xmath194 ( lemma [ lemoverlappinghit ] ) , ( b ) follows as well .",
    "note that theorem [ thms_3case ] resolves three open problems , the enumeration of equivalence classes under each of the @xmath3-equivalence , the @xmath4-equivalence , and the @xmath197-equivalence .",
    "it also makes progress on two additional open problems , the enumerations of equivalence classes under the @xmath198-equivalence and @xmath52-equivalence ; in each case , theorem [ thms_3case ] allows one to characterize a set of permutations ( @xmath53-root permutations ) , exactly one of which appears in each equivalence class in @xmath8 .",
    "[ thmeasyinf ] let @xmath199 and @xmath200 such that @xmath201 for all @xmath202 .",
    "let @xmath0 be the partition @xmath203 .",
    "the number of equivalence classes in @xmath8 under the @xmath0-equivalence is @xmath171    it is trivial that @xmath204 is @xmath205-confluent and that @xmath206 is @xmath207-confluent . by theorem [ thmcombineconf ] , @xmath208 ( which we will refer to as @xmath0 ) is @xmath209-confluent . observe that if two @xmath0-hits overlap , they either form @xmath144 and @xmath210 for some @xmath202 , or they form @xmath152 and @xmath211 for some @xmath202 ( by lemma [ lemoverlappinghit ] ) . in either case , both @xmath0-hits are forward and thus @xmath212-straightened .",
    "thus , pretending that all the permutations in @xmath1 not in @xmath0 are each in a part of size one of @xmath0 , we can apply theorem [ thmconfcount ] to obtain the desired formula .",
    "observe that theorem [ thmeasyinf ] counts equivalence classes in @xmath8 under the @xmath0 equivalence for at least @xmath213 choices of @xmath214 for a given @xmath2 .",
    "this is easy to see by allowing only half of the omni leaning permutations in @xmath1 to be assigned to the @xmath144 and allowing only the other half to be assigned to the @xmath152 ( so the choices for @xmath144 come from exactly half of the permutations in @xmath1 , and similarly for @xmath152 ) .",
    "it should be surprising that equivalence relations with different class structures often have the same number of classes in @xmath8 .",
    "for example , by theorem [ thms_3case ] , for all partitions @xmath0 of @xmath7 of the form @xmath215 the @xmath0-equivalence yields the same enumeration . yet it is easy to see that the structure of the equivalence classes created under such equivalence differs greatly between equivalence relations .",
    "in fact , theorem [ thmeasyinf ] provides an infinite number of examples of this phenomenon .",
    "one infinite family of equivalence relations in particular , is worth studying in greater depth .",
    "the @xmath1 equivalence has strictly fewer equivalence classes than any equivalence defined using another replacement partition of @xmath1 .",
    "consequently , enumerating the equivalence classes under the @xmath1-equivalence is an important tasks . in this section ,",
    "we make progress on this by completely characterizing the equivalence classes . in the case of the @xmath54-equivalence ( @xmath216 ) ,",
    "stanley @xcite enumerated and characterized the equivalence classes in @xmath8 and found representative elements for each one .",
    "surprisingly , in our work , we will find a set of representative elements ( the @xmath217-root permutations ) that in the case of the @xmath54-equivalence differ from the already found one .",
    "we will refer to the permutation @xmath218 as @xmath219 and to the permutation @xmath220 as @xmath221 .",
    "* example : * when @xmath222 , the @xmath1-equivalence is the @xmath223-equivalence , @xmath224 , and @xmath225 .",
    "[ lemstayinr ] for any two @xmath1-hits @xmath30 and @xmath113 in a permutation @xmath114 such that @xmath113 forms a permutation in @xmath111 , @xmath226-straightening @xmath30 leaves the letters in @xmath113 still forming a permutation in @xmath111 .",
    "this is because rearranging the letters of a contiguous subword of a right leaning @xmath1-hit to be in increasing order will still yield a right leaning @xmath1-hit .",
    "[ lemhitmaintaining ] for any two @xmath1-hits @xmath30 and @xmath113 in a permutation @xmath114 , @xmath227-straightening @xmath30 leaves the letters in @xmath113 still forming a permutation in @xmath1    by lemma [ lemoverlappinghit ] , we only need to consider the case where @xmath30 and @xmath113 are either both left leaning or both right leaning . without loss of generality , we can assume they are both right leaning ( and since they overlap , are both in @xmath111 ) .",
    "the lemma thus follows from lemma [ lemstayinr ] .",
    "[ thmscrep ] the @xmath1-equivalence is @xmath228-confluent .",
    "we provide two proofs of this .    by lemma [ lemstayinr ] and proposition [ propsimpleconf ] ,",
    "the @xmath111-equivalence is @xmath229-confluent . by symmetry ,",
    "the @xmath140-equivalence is @xmath230-confluent .",
    "it follows from theorem [ thmcombineconf ] that the @xmath231-equivalence is @xmath232-confluent .",
    "it follows from theorem [ thmomni ] that the @xmath1-equivalence is @xmath233-confluent .",
    "the following alternative proof is an interesting application of the diamond lemma .",
    "let @xmath56 be the @xmath234-straightening operator .",
    "observe that @xmath227-straightening a @xmath1-hit in a permutation @xmath24 does not take any other @xmath1-hits that were @xmath235-straightened and rearrange them to not be so .",
    "( observation ( 1 ) )    as a consequence of observation ( 1 ) , @xmath236-straightening a @xmath1-hit in a permutation @xmath24 results in a permutation @xmath87 with strictly more @xmath236-straightened @xmath1-hits .",
    "since the number of such hits a permutation can have is bounded , @xmath56 terminates .    as an additional consequence of observation ( 1 ) and lemma [ lemhitmaintaining ] , the actions of @xmath234-straightening the @xmath1-hit beginning in position @xmath37 commutes with the action of @xmath234-straightening the @xmath1-hit in position @xmath237 for",
    "any given @xmath37 and @xmath237 .",
    "thus @xmath56 satisfies condition ( 2 ) of the diamond lemma . by the diamond lemma , @xmath56 is confluent .",
    "[ thmsumclasses ] for a given equivalence class of @xmath8 under the @xmath1-equivalence , let @xmath24 be the unique @xmath238-root permutation in the class .",
    "( such a @xmath24 exists by theorem [ thmscrep ] . )",
    "then @xmath24 is of the form @xmath239 such that    1 .",
    "each @xmath240 is an increasing or decreasing word of consecutive integers .",
    "2 .   for all @xmath241",
    ", @xmath25 is of the form @xmath242 such that @xmath243 .",
    "pick @xmath244 such that @xmath245 , such that each @xmath240 is an increasing or decreasing word of consecutive integers , and such that @xmath22 is minimal .",
    "( a little thinking shows that there is only one such pick . )",
    "observe that in @xmath24 , there is no @xmath1-hit @xmath30 containing letters from both @xmath240 and @xmath246 for any @xmath37 .",
    "if there were , then the @xmath1-hit would have to be @xmath247-straightened ( as are all @xmath1-hits in @xmath24 ) .",
    "but if this were the case , then @xmath240 and @xmath246 would concatenate to form an increasing or decreasing word of consecutive integers , a contradiction because we picked @xmath244 to minimize @xmath22 .    by lemma [ lemhitmaintaining ] and theorem [ thmscrep ]",
    ", it follows that for @xmath241 , there are no @xmath1-hits containing both letters from @xmath240 and from @xmath246 for any @xmath37 . if there were , then since repeated @xmath227-straightenings can bring us from @xmath25 to @xmath24 , @xmath24 would have to contain a @xmath1-hit containing both letters from @xmath240 and @xmath246 , a contradiction .    given @xmath114 ,",
    "we define @xmath248 to be the unique @xmath240 defined in the proof of theorem [ thmsumclasses ] .",
    "observe that stanley found a result similar to theorem [ thmsumclasses ] in the case of the @xmath249-equivalence @xcite .    by the previous theorem ,",
    "all that remains in characterizing the equivalence classes in @xmath8 under the @xmath1-equivalence is to characterize the equivalence class containing @xmath250 and the one containing @xmath251 for all @xmath33 ; by symmetry , it is sufficient to characterize the equivalence class containing the identity permutation in @xmath8 , @xmath252 .",
    "let @xmath24 be a word of size @xmath16 , each letter of which has a distinct value .",
    "recall that the * tail size * of @xmath24 is the smallest positive integer @xmath22 such that the first @xmath22 letters of @xmath24 contain the @xmath22 smallest letter values in @xmath24 .",
    "we say that if @xmath24 is empty , it has no * irreducible blocks*.    otherwise , let @xmath22 be the tail size of @xmath24 , let @xmath34 be a word made of the first @xmath22 letters of @xmath24 , and let @xmath35 be a word made of the final @xmath253 letters of @xmath24 .",
    "we say that the * irreducible blocks * of @xmath24 are @xmath254 and @xmath255 for @xmath256 satisfying that @xmath257 exists .",
    "a permutation is @xmath2-toothed if the following is true",
    ".    1 .   for each @xmath258 , @xmath259 ( where @xmath260 is the number of letters in @xmath258 ) ; 2 .",
    "there is some sequence of consecutive integers @xmath261 such that @xmath262    * example : * figure [ fig3 ] is a visual depiction of the irreducible block decomposition of the permutation @xmath263 .",
    "note that @xmath264 , @xmath265 , @xmath266 , and @xmath267 .",
    "consequently , @xmath24 is @xmath12-toothed , @xmath15-toothed , and @xmath268-toothed .",
    "however , @xmath24 is not @xmath13-toothed since @xmath269 .    [ fig3 ]    .",
    "]    [ thmtooth ] let @xmath114 .",
    "then @xmath270 exactly if @xmath24 is @xmath2-toothed . ] .",
    "observe that every @xmath2-toothed permutation in @xmath8 except for the identity contains at least one @xmath1-hit not forming @xmath219 .",
    "also note that @xmath271-straightening a @xmath1-hit in a @xmath2-toothed permutation in @xmath8 is exactly the same as rearranging the @xmath1-hit to form @xmath219 . finally , observe that rearranging a @xmath1-hit in a @xmath2-toothed permutation to form @xmath219 yields another @xmath2-toothed permutation .",
    "thus it follows from theorem [ thmscrep ] that every @xmath2-toothed permutation in @xmath8 is equivalent to @xmath272 under the @xmath1-equivalence .",
    "it is straightforward to check that every permutation in @xmath8 that is equivalent to @xmath272 under the @xmath1-equivalence must also be @xmath2-toothed .",
    "let @xmath273 be the set of @xmath2-toothed permutations in @xmath8 .",
    "let @xmath274 be the set @xmath275 .",
    "it follows from theorem [ thmtooth ] and theorem [ thmsumclasses ] that the size of any equivalence class under the @xmath1-equivalence is a product of elements of @xmath274 .",
    "consequently , it is interesting to study @xmath276 .",
    "we do so for @xmath222 .    for @xmath277 , @xmath278 is the value of the coefficient of @xmath279 in the generating function @xmath280    let @xmath281 be the number of permutations in @xmath8 comprising only irreducible blocks of size @xmath282",
    ". if the final irreducible block is of size @xmath11 , the final letter of such a permutation is @xmath16 .",
    "if the final irreducible block is of size @xmath13 , the final two letters are @xmath283 . if the final irreducible block is of size @xmath12 , the final three letters are @xmath284 , or @xmath285 , or @xmath286 .",
    "thus @xmath287 for @xmath288 , @xmath289 , and @xmath290 .",
    "thus if @xmath291 is the generating function satisfying @xmath292f = f_n$ ] , then @xmath293 . rearranging yields",
    "@xmath294    now consider the permutations in @xmath8 comprising only of irreducible blocks of size @xmath282 but containing no consecutive irreducible blocks whose sizes add to @xmath12 .",
    "for @xmath277 , it is easy to see that such a permutation can only exist when @xmath16 is even and that it is of the form @xmath295 ( comprising only of irreducible blocks of size two ) .",
    "thus for @xmath277 , @xmath278 is the value of the coefficient of @xmath279 in the generating function @xmath296",
    "we present three directions of future work .    1 .",
    "is it interesting to extend the notion of confluence introduced in this paper to the case where instead of @xmath53-straightening @xmath0-hits , one @xmath53-straightens contiguous subwords of some fixed size .",
    "when this size of @xmath2 , this reduces to the notion of @xmath53-straightening we have used in this paper .",
    "2 .   is there a formula counting the number of classes in @xmath8 under the @xmath1-equivalence ?",
    "such a formula would provide a lower bound for the number of equivalence classes under an arbitrary doubly adjacent pattern - replacement equivalence .",
    "3 .   is there a formula for @xmath276 ? such a formula is of interest since the size of any equivalence class under the @xmath1-equivalence is a product of elements of @xmath297 .",
    "william kuszmaul and ziling zhou , _ equivalence classes in @xmath8 for three families of pattern - replacement relations .",
    "_ mit primes , 2013",
    ". http://web.mit.edu/primes/materials/2012/kuszmaul-zhou.pdf .",
    "under review by _ electronic journal of combinatorics_.      a.  pierrot , d.  rossin , j.  west , _ adjacent transformations in permutations . _ fpsac 2011 proceedings , discrete math .",
    "proc . , 2011 .",
    "http://www.dmtcs.org/dmtcs-ojs/index.php/proceedings/article/view/dmao0167/3638 .",
    "s.  linton , j.  propp , t.  roby , j.  west , _ equivalence relations of permutations generated by constrained transpositions .",
    "_ dmtcs proceedings , north america , july 2010 .",
    "http://www.dmtcs.org/dmtcs-ojs/index.php/proceedings/article/view/dman0168 , also arxiv:1111.3920v1 ."
  ],
  "abstract_text": [
    "<S> in this paper , we consider the family of pattern - replacement equivalence relations referred to as the `` indices and values adjacent '' case . </S>",
    "<S> each such equivalence is determined by a partition @xmath0 of a subset of @xmath1 for some @xmath2 . in 2010 , </S>",
    "<S> linton , propp , roby , and west posed a number of open problems in the area of pattern - replacement equivalences . </S>",
    "<S> five , in particular , have remained unsolved until now , the enumeration of equivalence classes under the @xmath3-equivalence , under the @xmath4-equivalence , under the @xmath5 equivalence , and under the @xmath6-equivalence . </S>",
    "<S> we find formulas for three of the five equivalences and systems of representatives for the equivalence classes of the other two . </S>",
    "<S> we generalize our results to hold for all replacement partitions of @xmath7 , as well as for an infinite family of other replacement partitions . </S>",
    "<S> in addition , we characterize the equivalence classes in @xmath8 under the @xmath1-equivalence , finding a generalization of stanley s results on the @xmath9-equivalence .    to do this , </S>",
    "<S> we introduce a notion of confluence that often allows one to find a representative element in each equivalence class under a given equivalence relation . using an inclusion - exclusion argument </S>",
    "<S> , we are able to use this to count the equivalence classes under equivalence relations satisfying certain conditions . </S>"
  ]
}