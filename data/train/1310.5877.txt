{
  "article_text": [
    "in 2005 , three years after the first h.e.s.s . 12 m telescope was commissioned and one year after the fourth was installed , the decision was taken by french and german agencies to build a fifth instrument .",
    "this new imaging atmospheric cherenkov telescope was mainly designed to obtain an energy threshold of @xmath1 , increasing the sensitivity of the array towards low energies @xcite . in order to achieve this goal , a new fast",
    ", high sensitivity and low dead - time 2048 pixel camera was designed to equip the focal plane of a parabolic tessellated mirror of @xmath0 . with this new telescope , the h.e.s.s .",
    "project was entering its second phase .",
    "the goal of the h.e.s.s .",
    "telescopes is to record and analyze the short and faint cherenkov light flash created by very high energy gamma - rays when they interact with the atmosphere and produce an extensive electromagnetic shower @xcite .",
    "this technique , used by several experiments around the world , has allowed the detection and characterization of more than a hundred galactic and extragalactic objects so far @xcite .    most of the high energy gamma - ray sources studied by h.e.s.s .",
    ", as well as the hadronic background , have spectra which can be parameterized with a power - law in the range between tens of gev and tev energies .",
    "this implies that lowering the energy threshold from hundreds of gev to tens of gev requires the data acquisition chain to be able to handle much higher trigger rates .",
    "the dead - time has also to be reduced .",
    "the camera of the fifth h.e.s.s .",
    "telescope ( simply called `` ct5 '' in the following ) is a complete new design allowing to meet these challenging constraints : the dead time was lowered to @xmath2 and the trigger rate . ]",
    "can reach @xmath3 .    since it was designed several years after the first four h.e.s.s .",
    "cameras ( in the following , the first four telescopes of h.e.s.s . will be referred to as `` ct14 '' ) @xcite , the new camera benefits from the latest progress in electronics integration : fpgas and fifo buffers are used extensively and dedicated asics were specifically designed for ct5 .",
    "the paper is divided in two parts .",
    "this first part gives a complete description of the ct5 camera .",
    "the main improvements as compared to the ct14 technology will be pointed out when relevant .",
    "the second part of the paper , to appear later , will deal with the performance of the camera in its nominal working configuration on - site in namibia .",
    "the present part is organized as follows . in  [ sec : conespm ] , the light guides , photomultiplier tubes and very front - end electronics are described . ",
    "[ sec : elec ] deals with the electronics , giving details on the front - end and the trigger as well as on the safety , slow control and monitoring (  [ sec : slc ] ) .",
    "the mechanics of the camera are discussed in  [ sec : meca ] , the calibration instrumentation in  [ sec : calib ] and embedded software in  [ sec : soft ] .",
    "comes from the new coating used for ct5 cones.,width=336 ]    the photomultiplier tube ( pmt ) which was chosen for ct5 is photonis xp-29600 .",
    "this pmt is a minor update of the xp-2960 used for ct14 : the length of the pmt was reduced to decrease the ringing of the anode signal and the average quantum efficiency was improved from 25% to 30% .",
    "the main characteristics of these pmts are cited in table  [ tab : h1h2comp ] .",
    "each pmt is soldered on a circular base where the resistive divider is located .",
    "this base itself is connected to a board where the high voltage ( hv ) is obtained using a cockcroft - walton generator .",
    "the high voltage can be set between 0 and @xmath4 with a @xmath5 resolution . to protect",
    "the pmt from high light levels ( bright stars , shooting stars ) , the current ( noted hvi in the following ) drawn by the pmt is monitored and the high voltage is turned off by the board itself when the current exceeds @xmath6 , independently of the slow control and safety management system .",
    "the circular base and the hv generation board have been designed and produced by the iseg company .",
    "2500 pmts were tested for use in the ct5 camera , including spares .",
    "the tests included gain calibration , measurement of the linearity and of after - pulse rate , as well as photo - cathode uniformity .",
    "each pmt is equipped with a `` winston cone '' light guide @xcite to minimize dead - space between the pmt sensitive areas and to cut down on albedo light ( not coming from the mirror ) .",
    "the use of winston cones in vhe gamma - ray imaging astronomy was introduced in 1994 @xcite , and is currently used by all imaging cherenkov cameras .",
    "each winston cone guides photons which impinge on it with an angle below its `` cut - off '' angle ( defined by its geometry ) towards the pmt entry window after on average a single reflection , while reflecting back the photons above this cut - off angle . for a cut - off angle set to be close to the arrival direction of photons coming from the edge of the mirror ,",
    "this provides almost complete protection from albedo light from the night - sky or from light sources and diffusive reflections from the ground . for ct5 ,",
    "the cut - off angle used for the winston cones is about @xmath7 .",
    "the same physical size of pmt is used as in the first cameras , which combined with the similar @xmath8 , allows an identical winston cone design to be used , for which details can be found in @xcite .",
    "this incidentally gives a similar night - sky background ( nsb ) rate per pixel in ct5 as in the first four telescopes ( on average @xmath9100mhz of nsb photo - electrons ) , so the pmts can operate at the same gain .",
    "the cones are assembled from injection moulded polycarbonate half - cones with aluminization and mgf@xmath10 protection , and have a hexagonal symmetry around their axis , to minimize the dead - space between the cones .",
    "the winston cone entry aperture ( at the mirror - facing side ) of @xmath11 flat - to - flat on each hexagon defines the pixel field of view ( fov ) of @xmath12 ( compared to @xmath13 for the first cameras ) .",
    "the wall thickness of the cone entry is @xmath14 , to minimize the dead area in the focal plane . in order to reduce their cost and to improve their performance reproducibility ,",
    "they were produced by an industrial process optimised for this production at the company .    in order to validate the light guide design and to measure each cone after the mass production ,",
    "the automatic test bench used for the winston cones of the first cameras was re - used .",
    "measurements of the cut - off angle and of the absolute optical transmission are made with a diffusive source covering the same angular aperture as the ct5 mirror as seen from the camera .",
    "2669 cones have been measured following the production .",
    "[ fig : lctrans ] shows their average absolute optical transmission as a function of the wavelength , defined as the ratio of the amount of light detected by a photo - sensor to that entering the winston cones .",
    "while the transmission is about the same for ct14 and ct5 cones above @xmath15 , it has been improved by 15% below that wavelength in the range detectable by the pmt .",
    "this difference is due to the new coating used for ct5 winston cones and should result in an improvement of the global optical efficiency of the telescope by a few percent . as the winston cone geometry is strictly identical that used in ct14 , the measured transmission for ct5 as a function of the angle of incidence is identical to that of ct14 ( see figure  13 of @xcite )",
    "the front - end of the camera is modular , made - up of 128 identical electronics modules ( hereafter called _ drawers _ , fig .",
    "[ fig : photodrawer ] ) inserted in the camera from the front so that they can easily be replaced .",
    "each drawer carries 16 pmts ( for a total of 2048 pixels ) and three electronics boards : two boards for data acquisition ( level 0 trigger ( l0 ) , amplification , sampling , conversion of pmt signals ) and one board for slow control .",
    "the drawers can receive and send data through dedicated communication buses , using a token - passing mechanism .",
    "one bus ( parallel , @xmath16 ) is devoted to data transfer and the other to slow control messages ( serial , @xmath17 ) .",
    "there are 16 data buses of 8 drawers each , and 8 slow control buses of 16 drawers each .    at the rear of the camera , three compact pci ( cpci ) crates",
    "are used for data management , trigger , safety and slow control .",
    "each of these tasks is managed by a cpu , except for data management for which two cpus are used to optimize data transfer and sustain the required trigger rate of @xmath3 .",
    "other equipment include five power supplies , a gps receiver used for time stamping , a terminal server used to access the consoles of the cpus for maintenance as well as the gps serial interface .",
    "all the cpus , the power supplies and the terminal server are connected to each other and to the computers on the ground through a gigabit ethernet switch .",
    "while normally located in the focal plane during observations , the camera can be unloaded from the telescope and moved inside a shelter during full - moon period or for maintenance and calibration operations . a dedicated",
    ", fully - automatic loading / unloading system was designed for this purpose . as a consequence",
    ", the number of connections going from the camera to the ground has been minimized to a single @xmath18 power cable , 3 optical fibres for data transfer and trigger , and a compressed air tube .",
    "electrical and optical links are grouped in a single connector .",
    "the front - end electronics consists of three boards in each drawer ( figure  [ fig : drawer ] ) .",
    "two boards ( analogue memory boards , `` analo '' ) are used to process the signals from the pmts ( 8 pmts per board ) and one board ( slow control board , `` slow '' ) is used for the control and monitoring of the two analo boards connected to it .      the sam chip is a two - channel analogue memory , based on switched capacitors , that is used as a buffer , in which the photomultiplier tube signal is sampled and stored while waiting for a decision from the fixed - latency trigger electronics .",
    "this chip , described in more detail in @xcite , has been specially designed for ct5 to overcome the main limitations of the ars chip @xcite equipping the cameras of the first h.e.s.s .",
    "sam can operate with sampling frequencies in the range from 0.5 to @xmath19 ( giga - samples per second ) with a dynamic range exceeding 11 bits .",
    "this high signal over noise ratio is obtained thanks to a full differential architecture rejecting the pick - up noise coming from the digital activity inside the chip and on the front - end boards .",
    "the chip memory depth has been extended from 128 to 256 cells to be compatible with trigger latencies higher than @xmath20 for a @xmath21 sampling frequency .",
    "the chip analogue bandwidth , increased from @xmath22 to @xmath23 , is fast enough to avoid the widening of the fast pulses from the photodetectors .",
    "it allows for use of short integration windows to calculate the pulse s charge , minimizing the effect of the night sky background ( nsb ) .",
    "an spi slow - control link permits to program many parameters and to access to the various modes of operation of the chip . for each event , only few samples , corresponding to a region of interest within a window located at a fixed time ( programmable using a slow - control parameter ) with respect to the trigger , are read out .",
    "the consecutive samples from the two channels are multiplexed in parallel toward an external 10 msps 12-bit 2-channel external adc for digitization .",
    "for a 16-sample event , the readout time is only @xmath24 , instead of @xmath25 with the ars chip .",
    "this major improvement allows the camera dead time to be decreased below 1% for a typical trigger rate of @xmath3 .",
    "because of its very good and stable cell - to - cell uniformity of pedestal and gain , the sam chip only requires a very simple calibration .",
    "this operation consists of equalizing 32  dc values using on - chip spi digital to analogue converters to cancel offsets due to the matrix chip structure .",
    "once this operation has been performed , it remains valid ( less than 10% change of noise ) for a few days and for temperature variations within a range of @xmath26 , with the digitized sam output data being directly usable for online processing by the fpga of the analogue memory board , without additional correction .",
    "a batch of 6000  sam chips has been produced using a @xmath27 cmos process from ams .",
    "each chip has been tested using a fully - automated procedure to ensure its functionality and compatibility with ct5 requirements .",
    "this procedure includes power consumption , baseline and noise measurements but also tests performed using input pulses simulating the photomultiplier response such as signal shape , linearity , jitter and crosstalk characterizations .",
    "the on - chip time delay between the trigger and the signal paths defining the timing precision for the beginning of the region - of - interest was also extracted .",
    "the uniformity of this parameter is better than @xmath28 over the whole batch .",
    "all the parameters extracted during the tests were recorded in a database for further chip sorting and analysis . to guarantee its stability ,",
    "the test bench was monitored over the 6 months of tests by retesting a set of reference chips every day .",
    "fewer than 10% of the chips were found to be out of specifications .",
    "the negative pulse from a pmt is amplified ( or attenuated ) with three different gains : a gain @xmath29 ( high gain ) used for low energy events ( typically under 400 p.e . ) and to measure the single p.e .",
    "response for pmt calibration , a gain @xmath30 ( low gain ) used for high energy events ( up to 5000 p.e . ) and a gain @xmath31 , used for the trigger signal generation . in addition , the signal is inverted in high gain and low gain channels .",
    "high - gain and low - gain signals ( fig .",
    "[ fig : display]a , [ fig : display]b ) are stored into two 256-cell analogue memories ( within the sam chip ,  [ subsubsec : sam ] ) , acting as circular buffers .",
    "each cell corresponds to a @xmath28 sample of the signal .",
    "if no trigger occurs , the analogue memory content is overwritten as new data are recorded .",
    "if a trigger occurs , the buffering is stopped and a given number of cells in the memory is read and digitized .",
    "this number is programmable and defines the width of the readout window , which depends only on the pmt pulse width and nsb .",
    "for all h.e.s.s .",
    "cameras , it is set to 16  cells , corresponding to @xmath32 .",
    "the digitization is done by a 12  bit , @xmath33 adc and the output digital is in the range @xmath342048 ( decimal ) . ] . in order to use the full dynamic range of the adc , the digitized signal ( positive pulse )",
    "is shifted towards negative values , fig .",
    "[ fig : display]a and fig .",
    "[ fig : display]b . ] .",
    "the 12  bits , corresponding to one @xmath28 sample of the pmt signal , are then sent to a @xmath35 first - in first - out ( fifo ) chip .",
    "this buffer allows to store new events ( to a maximum of 64 ) while waiting for a l2 decision signal ( _ l2 accept _ or _",
    "l2 reject _ ,  [ subsec : trigger ] ) and is therefore extremely important to reduce the overall dead - time .",
    "each analo board has a fpga chip performing several operations .",
    "first , it is used to control the sam chips . in particular",
    ", it stops the buffering and starts the digitization when a l1 trigger occurs .",
    "after digitization , the data are stored in the fifo buffers .",
    "second , the fpga also controls the readout of the fifos and processes their content when a l2 trigger happens . from the 16 signals provided by the pmts ( 8 pmts @xmath36 2 gains )",
    ", the fpga builds the data blocks in the mode specified during the configuration of the camera .",
    "two modes can be used : the `` sample mode '' , for which the fpga sends all the samples for each pmt for the two gains , and the `` charge mode '' , for which the fpga integrates the pulse and sends the total charge , as an adc count coded on 16  bits , for the two gains .",
    "in addition , the fpga computes the time of the maximum of the pulse ( @xmath37 , fig .",
    "[ fig : display]c ) with respect to the l1a trigger time and the time spent by the signal over a given absolute threshold ( tot , for _ time over threshold _ , fig .",
    "[ fig : display]d ) .",
    "[ fig : spe ] shows the charge distribution obtained through the high gain channel when a pmt receives an amount of light which results in the occasional emission of one single photo - electron ( spe ) .",
    "following @xcite and according to what was done previously in h.e.s.s .",
    "@xcite , the distribution is fitted with a sum of gaussian curves with poisson - distributed relative weights to extract the mean of the gaussian corresponding to the spe relative to the position of the pedestal ( noted @xmath38 ) , the standard deviation of the pedestal ( @xmath39 ) and the standard deviation of the spe ( @xmath40 ) .",
    "the pedestal variation that can be seen in the figure is mainly due to the pmt and the amplifier and has a standard deviation of 10 adc counts ( @xmath41 ) .",
    "the sam and the adc contribute only marginally with a noise standard deviation of @xmath42 and @xmath43 respectively .     and",
    "@xmath40 ) , and the separation between the two peaks ( @xmath38).,width=336 ]          the slow control board ( slow ) is used to control all the parameters of the drawer and to encapsulate these parameters for their transmission in the data pipeline .",
    "some quantities are obtained directly by the slow board ( e.g. , the temperature , hv and hvi . ] for each pixel ) and some others through the fpga located on each analo board ( e.g. , the l0 trigger threshold , the trigger rate for each pixel , @xmath37 and tot values for each pixel ) .",
    "as in the first four cameras , each pixel can provide a level 0 ( l0 ) trigger and the readout of the whole camera is triggered by a level 1 ( l1 ) decision if several pixels are triggered in a contiguous sector of the focal plane .",
    "for the fifth camera , an additional level of triggering was introduced , a level 2 ( or l2 ) topological trigger .",
    "the l2 trigger is used to reduce the data rate and select gamma - like events .    during regular data taking",
    ", the camera uses the l1 trigger with l2 activated or not , while during calibration runs such as single photo - electron runs , the trigger can be provided by an external source , or generated by the software .",
    "given the fact the fifth telescope has a lower threshold and a higher event rate than the others , it triggers alone most of the time75% of the events . ] .",
    "the cameras of the five telescopes are connected to the central trigger of the array @xcite through optical fibres .",
    "the central trigger hardware , located in the control - room building , receives trigger signals from the five cameras and provides an event number to the cameras triggered in coincidence . in the case of ct5 , the central trigger also informs the camera if it has triggered alone ( monoscopic event ) or in coincidence with another telescope ( stereoscopic event ) .",
    "this information is used by the l2 trigger .",
    "the l0 trigger is produced on each analo board ( fig .",
    "[ fig : trigger ] ) . the trigger signal for each pixel",
    "is compared to a given threshold @xmath44 by a comparator .",
    "the threshold ( expressed in p.e . ) is programmable and the same value is set for all the pixels .",
    "the outputs of the eight comparators of a analo board ( one per pixel ) are summed and sent to dedicated boards in the trigger crate .",
    "it is possible to enable or disable a pixel so that it participates in the trigger decision or not .",
    "a pixel is disabled when the hvi exceeds @xmath45 .",
    "this value is reached typically when a star of magnitude 78 enters its field of view .",
    "the value of @xmath44 is set so as to minimize the influence of the nsb on the trigger rate . to determine @xmath44 ,",
    "the pmts are illuminated with a continuous white light , which represents the nsb . for h.e.s.s .",
    ", the nsb rate seen by one pixel can vary from @xmath46 to @xmath47 ( p.e . ) depending on the region of the sky observed , for an average of @xmath48 .",
    "[ fig : afterpulse ] shows the evolution of the l0 trigger rate as a function of the l0 threshold .",
    "two contributions can be seen : below 5 p.e .",
    "the nsb dominates , and above this charge the pmt after - pulses dominate .",
    "the l0 threshold is set just below the break of the curve .",
    "the present setting is @xmath49 .    for the next - level trigger ( l1 )",
    ", the drawers are grouped in sectors ( fig .",
    "[ fig : sectors ] , fig .",
    "[ fig : display]e ) .",
    "a sector is a group of 64 contiguous pmts , with a vertical and horizontal overlap of 16 and 32 pixels respectively .",
    "the l1 trigger is obtained when a sector has at least @xmath50 pixels satisfying the l0 condition .",
    "@xmath50 is currently set to 3.5 .",
    "the trigger decision is issued by a signal called l1a ( _ l1 accept _ ) in the following . when a l1a occurs , the data stored in sam memories are read out , digitized , and buffered in the fifos . at this point ,",
    "the sam chips are available for a new event .",
    "therefore , the use of fifo buffers in the front - end pipeline allows to release the l1 trigger just 7 to @xmath51 after the l1a .",
    "this is a major improvement as compared to the value of @xmath52 measured on the ct14 cameras , for which no buffering is used . during",
    "the readout of sams , other triggers can happen , but the camera is not read - out and a `` busy '' state is transmitted to the central trigger .",
    "this information is used to calculate the dead - time of the whole array .",
    "the parameters @xmath44 and @xmath50 are stored in a database and loaded in drawer fpgas when the camera is configured at the beginning of each night .",
    "different values can be used depending on nsb conditions .",
    "as already mentioned , monoscopic events ( i.e. , events triggered by ct5 only ) constitute a large fraction of the l1a rate of the ct5 telescope . among the latter ,",
    "only very few are gamma events , so the purpose of the l2 trigger @xcite is to reject as much as possible of the residual nsb and of the hadronic background .",
    "the 2048 camera pixel signals go through the l0 comparators and a second comparator with threshold @xmath53 .",
    "the comparator outputs are shaped and stored in a delay - line buffer implemented within a dedicated pre - l2 asic in order to compensate the l1 trigger latency .",
    "when a l1a occurs , a ternary image giving the list of pixels above @xmath54 and @xmath44 , resynchronized with respect to the l1a signal , is transmitted to the l2 trigger system ( fig .",
    "[ fig : display]f ) .",
    "the l2 behaviour depends on the type of the event : monoscopic or stereoscopic .",
    "this information is provided by the central trigger .    in the case of monoscopic events ,",
    "the ternary pixel map transmitted to the l2 trigger is processed by a real - time implementation of the l2 selection algorithm based on the detection of clusters of active pixels , and the computation of first and second order hillas moments @xcite to identify gamma - like or hadron - like images . in the first case ,",
    "a signal l2a ( _ l2 accept _ ) is generated , which triggers the read - out of the fifos for the whole camera .",
    "otherwise , an l2r signal ( _ l2 reject _ ) is issued to reject the current event : the event is dumped from the fifos and discarded , and the l2 system is ready to process a new l1a event .    in the case of stereoscopic events",
    ", the l2 trigger skips the selection algorithm and generates a l2a signal . in other words ,",
    "a l2a is generated for all events triggering more than one telescope .",
    "when a l2a occurs for an event , all the data corresponding to that event are read from the drawer fifos , for all pixels .",
    "this operation is performed by the fpgas and requires @xmath55 in total .",
    "the readout is done in parallel for the sixteen data buses .",
    "then , all data are sent to fifos located in the data management crate .",
    "this second level of buffers is used to store the data blocks until they are merged to form the full event and sent to a farm of computers located in the control - room building , for further processing @xcite .",
    "the overall dead - time of @xmath2 quoted in table  [ tab : h1h2comp ] includes the time to release the trigger plus the time interval necessary for the central trigger to send the event number and event type ( monoscopic or stereoscopic ) .",
    "the safety and slow control system monitors the camera environment parameters ( temperature , level of ambient light ) and the status of different camera sub - devices such as the position of the lids , the position of the mylar plate ( see  [ sec : meca ] and  [ sec : calib ] ) , etc .",
    "it also controls the fans and allows to enable or disable the opening / closing of the lids , the pmt high voltage and the camera power supplies .",
    "the outputs of the positioning leds (  [ sec : calib ] ) , seen by a ccd camera located on the dish , can be controlled individually .",
    "these outputs are used to measure the camera position precisely .",
    "in addition , the system includes safety functions that protect the camera in case a failure in critical components is detected . for this purpose , the system is able to take fast , standalone decisions . for example , the system can make an emergency stop of the pmt power supply , or prohibit the opening of the camera lids if the safety conditions are not fulfilled .",
    "this main logic is implemented in a fpga hosted in a cpci crate placed at the rear of the camera . due to the high number of required interfaces and connections ,",
    "the safety and slow control system is implemented in several boards .",
    "one board is dedicated to the main logic , the cpci interface with the cpu crate and the photo - diode reading .",
    "a second board drives the positioning leds .",
    "three others are dedicated to the fan control and the last one to the camera temperature monitoring .    even though the safety and slow control hardware logic is located inside the camera and interfaces directly with the different devices , the system is piloted remotely from the h.e.s.s .",
    "array data acquisition system @xcite through a cpu board .",
    "thus , the slow control can be configured with different levels of safety .",
    "in addition , all monitored data or the standalone decisions taken locally can be reported .",
    "as soon as the camera is powered , the safety system is active .",
    "the mechanics of the ct5  camera relies on the same general concepts successfully applied in the previous cameras . because of the much larger size of this camera relative to those of ct14 , slight adjustments of the camera concept have been made and the experience gained in building the ct14 cameras allowed us to improve the mechanical design in some respects .",
    "the requirements of the ct5 camera are given in table  [ tab : h1h2comp ] , with a special care on the minimization of the shadowing by the camera , improved reliability of the electronics cooling and improved accuracy of the pixel location .",
    "the camera is attached to the telescope quadrupod such that its distance to the dish can be remotely controlled to adjust the image plane to focus on the shower maximum (  [ subsec : autofocus ] ) .",
    "it can also be unloaded and loaded remotely by a trolley system to allow it to be parked into a shelter for maintenance and protection . as a consequence , the camera does not need to be fully waterproof .",
    "the fully equipped camera has a total weight of 3 tonnes , which corresponds to the weight budget allowed by the design of the mechanical structure of the telescope .",
    "and its outside diameter with a partial coverage is @xmath56 . for comparison ,",
    "the lighter grey area in the centre corresponds to the ct14 camera layout ( same physical scale).,width=336 ]      the heart of the detection system of the camera is located close to the focal plane ( fig .",
    "[ fig : camerafront ] ) and hosts the photo - detection system composed of 2048  pixels arranged as shown in fig .",
    "[ fig : fp ] and consisting of the winston cones , the pmts (  [ sec : conespm ] ) , and their associated electronics , i.e. , the front - end boards (  [ subsec : fe ] ) .    the pmts and the front - end boards are embedded into a modular mechanics structure called a _ drawer _",
    "[ fig : photodrawer ] ) .",
    "they can be manually extracted from the camera front , which requires to unscrew just two screws .",
    "this system , very similar to the drawer concept used for ct14 , brings a high modularity for the assembly , the integration , the use of interchangeable drawers and the maintainability . the power and electronics connections with the rest of the camera",
    "are made via three connectors placed on the rear of the drawers .",
    "these connections impose that the drawers must be positioned with an accuracy better than @xmath57 .    to form the focal plane and to insure a good electrical connection when the drawers are inserted from the front",
    ", the drawers are placed into the central part of the mechanics , called the `` sandwich '' ( fig .",
    "[ fig : sand ] ) .",
    "it is made of two thin aluminium sheets ( @xmath58 ) assembled from 146  aluminium profiles ( with a length of @xmath59 ) , developed specifically for this camera . with this system",
    ", the drawers location within the focal plane has an accuracy of @xmath60 . by design ,",
    "this sandwich s second function is to provide mechanical stiffness to the whole camera .",
    "the management of all the interfaces ( mechanical , electrical , optical ) was thus an important aspect during the design process .",
    "the system of winston cones is placed in front of the sandwich and drawers .",
    "they are held and placed within the telescope optical focal plane by a large aluminium plate ( @xmath61 ) , on which the winston cones are clipped with plastic washers . as the cone localisation determines the astrometric accuracy of the pixels and the optical transmission between them and the pmts , this aluminium plate is machined with a high accuracy such that the winston cones are localised at @xmath62 on it ( or 0.01 arcsec ) .",
    "its distance to the drawers ( @xmath63 ) is finely controlled by screws distributed over the whole surface of the plate and limiting the effect of its gravity deformation .",
    "these accuracy values have been measured by a company specialised in metrology .",
    "the instrumentation of the focal plane and all the camera equipment and services are integrated into the camera body ( fig .",
    "[ fig : explodedview ] ) .",
    "this is a skeleton of thin aluminium profiles , whose shape has been specially designed for the project .",
    "the profiles are welded together to avoid any ageing .",
    "a company specialised in producing and integrating large and complex aluminium pieces assembled these profiles to the required accuracy , reaching a measured @xmath64 of the external dimension of the camera body .",
    "the camera envelope , made with thin aluminium plates , is riveted on this skeleton .",
    "the plates provide a thermal isolation from the direct sun - light power .",
    "this envelope integrates also a system for cooling , as described in   [ subsec : cooling ] .",
    "this skeleton holds also all the internal equipment , the sandwich with its 128  drawers , the two 19-inch electronics racks carrying electronics boards and services such as the power supplies , and the front , lateral and rear lids .",
    "it should be noted that front lids have several functions .",
    "first , they protect the focal plane from the outside environment and second , they hold calibration instrumentation (  [ sec : calib ] ) .",
    "they are motorized by pneumatic pistons and controlled either manually or remotely by the camera slow control system (  [ sec : slc ] ) .",
    "the pressurized air is generated by an on - ground air compressor and is brought to the camera by pneumatic tubes fixed on the telescope structure .",
    "three air - tanks are used along the path to create buffer volumes for safety .",
    "the choice of a pressurized air system fully managed by pneumatic logic has been driven by the need to be able to close the camera lids automatically in case of a general power failure .",
    "finally , the skeleton supports the two large mechanics parts making the interface to the telescope quadrupod structure (  [ subsec : autofocus ] ) .    during the design process ,",
    "finite element simulations ( fem using the ansys module within the catia software @xcite ) have been carried out by modelling mechanics pieces as hollow components .",
    "this allowed to optimise the design with a focus on the ratio of stiffness to weight and to achieve a rigid and accurate body .",
    "this process led us to choose components made of aluminium profiles welded together , despite the fact that only a few companies have the technology and the know - how to produce such large objects .",
    "the main camera dimensions are summarized in table  [ tab : h1h2comp ] .",
    "the electronics components dissipate about @xmath65 of thermal power inside the camera . for proper operation and extended lifetime of the electronics ,",
    "this heat must be evacuated so that the temperature of the camera is kept as stable as possible during data taking .    as for the ct14 cameras , the cooling is obtained by convection and by forced - air flows .",
    "fresh filtered air is injected inside the camera by large fans located on the camera envelope and protected from rain by lightweight hoods .",
    "this fresh air is convected to the rear of the sandwich . for each drawer ,",
    "two fans blow the air towards the electronic boards .",
    "then the warm air is drawn by large fans that blow it out of the camera .",
    "the speed of the different groups of fans can be changed under slow control , depending on atmospheric conditions .",
    "this ventilation system , despite its simplicity , allows to efficiently cool the fe electronics and the instrumentation located into the racks at the rear of the camera .",
    "the nominal distance between the position of the camera and the centre of the mirror is @xmath66 , which corresponds to the focal length of the telescope .",
    "however , as the atmospheric showers develop at a finite altitude between @xmath67 and @xmath68 , the position of the camera can be adjusted to optimize the trigger rate and angular resolution depending on observation conditions ( in particular the zenith angle ) @xcite .",
    "the change in position is done thanks to a system which can move the camera along the optical axis of the telescope .",
    "this focusing system has been designed to operate in the sometimes harsh environmental conditions of the namibian site .",
    "its main technical specifications are given in table  [ tablefocus ] .",
    ".[tablefocus ] main requirements of the focusing system . [ cols=\">,^ \" , ]     the mechanical design of the focus system aims at two main functionalities :    * install and lock the camera into the telescope quadrupod structure with an accuracy of @xmath69 . as mentioned earlier , the camera can be loaded or unloaded from the telescope for maintenance or calibration purposes .",
    "the camera is locked and unlocked in the focal plane by using a pneumatic system composed of four toggle fasteners and four jacks ( fig .",
    "[ fig : autofocaus ] ) . *",
    "adjust the position of the camera along the optical axis , within the camera support mast structures .",
    "the focusing system is made of two components , one is fixed to the telescope structure while the other can move in order to allow the translation of the camera .",
    "this motion is driven by two ball screws and two brushless motors which guarantee a speed of @xmath70 and a position accuracy of @xmath71 .",
    "the camera can be moved by @xmath72 .",
    "the data acquisition software controls the camera position during the focusing process .",
    "while the translation has started , this process has to be guaranteed until the end of the programmed movement , even in case of an unexpected stop ( e.g. , due to a power cut ) .",
    "the system is controlled through a programmable logic controller architecture composed of two cpus , two field - buses and two specific variators used to react to power cuts and to manage synchronized operations of the two motors .",
    "the first estimations , obtained through simulations , have shown that adjusting the focus height to the altitude of the shower maximum allows an increase of 510% of the trigger rate and a 10% improvement on the angular resolution at low energies ( @xmath73 ) , without any alteration of the performances at higher energies .",
    "to be able to properly analyze and interpret the data produced by the camera , it is necessary to be able to monitor the gain of each channel , the uniformity of the pmt responses , and the exact position of the camera in the focal plane .",
    "the conversion factor between adc channels and charges is monitored by illuminating the camera such that each pmt s photo - cathode emits a single p.e .",
    "( spe ) , on average .",
    "this calibration can be done either with the camera in the shelter or outside when the camera is in the focal plane . in the first case , a pulser",
    "is used to generate flashes of blue light ( @xmath74 ) at the required intensity and rate , and the light illuminates the pmts directly through a diffuser .",
    "the same pulser is used to trigger the camera via the external trigger input .",
    "when the camera is in the focal plane , it is necessary to filter out the light from the nsb . for this ,",
    "mylar sheets are placed in front of the winston cones , providing an attenuation of light intensity by a factor @xmath75 . as a consequence , to illuminate the pmts at a spe level , the intensity of the calibration light source , located at the centre of the telescope dish , has to be far greater than the intensity of the source in the shelter . the mylar sheets ( fig .",
    "[ fig : camerafront ] ) are held by two large aluminium plates that can either be in contact with the cone plate during spe runs , or kept attached to the front lids by the use of small pneumatic clamps during normal observations .",
    "when in the focal plane , the camera is triggered by an additional pmt , not covered by the mylar plate , located on the top of the focal plane .",
    "when the flasher illuminates this calibration pmt , it delivers a signal that , shaped and delayed , is used as a trigger signal .",
    "the calibration light source is used to provide either spe pulses or flat fielding patterns , used for pixel inter - calibration .",
    "a @xmath76 pulsed laser ( @xmath77 ) is installed in a stainless steel container mounted at the centre of the telescope dish .",
    "this container is under constant overpressure to avoid environmental pollution .",
    "the repetition rate of the flashes is software selectable and set at @xmath78 by default .",
    "a holographic filter expands the beam to a flat distribution over the camera fov .",
    "a number of neutral density filters , mounted in front of the laser on a motorized filter wheel , are used to vary the intensity of the light output .",
    "a dedicated processor board is mounted inside the camera housing and ensures control functions and communications with the daq .",
    "the role of this board is to control the laser , the filter wheel , as well as the delay and the threshold applied to the calibration pmt signal to deliver a proper external trigger signal to the camera .    for pixel inter - calibration ( the _ flat fielding _ )",
    ", the camera is illuminated directly by the laser ( i.e. , the mylar plates are on the opened front lids ) at an intensity of @xmath9200 p.e .",
    "the non - uniformity of the light intensity does not exceed 12% ( standard deviation ) . the charge seen by each pmt",
    "is analyzed off - line and correction coefficients are applied to each pixel to compensate for collection and quantum efficiency inhomogeneities .",
    "it is necessary to have the exact position of the camera in the focal plane in order to build an accurate model of the pointing and optical system for use during the data analysis @xcite .",
    "this has a direct effect on the point spread function of the instrument .",
    "16  red leds ( @xmath79 ) , with intensity controlled individually by the slow control system (  [ sec : slc ] ) , are accurately fixed on the winston cone plate , and are monitored during observations with a dedicated ccd camera located at the centre of the dish . in that case , the camera lids are opened .",
    "when taking measurements for the pointing correction model and for the main mirror facets alignment , the camera front lids are closed and used as a screen to project the images of stars . in that case , the light from the leds passes through the lids via specific holes which , in other circumstances , are closed by movable covers remotely controlled by pneumatic actuators .",
    "from the software viewpoint , the ct5 camera functionally consists of an array of 2048 photomultipliers which take the digital images , and which are serviced by various equipment such as power supplies , front - end electronics , triggering apparatus , gauges , fans , actuators , etc .",
    "the control of the whole apparatus must be done remotely through a graphical user interface running on a control computer , and the different types of data generated during a run must be sent back to a central farm of analysis computers .    the embedded software of the ct5 camera interfaces between the camera hardware and the array control room , to which it is connected via a gigabit ethernet link .",
    "it addresses the following : programming and monitoring the various hardware parameters ( `` slow - control '' ) , acquisition of the shower image data , acquisition of the trigger data , and real - time on - board control of the camera security .",
    "each of these points is handled by dedicated branches comprising a cpci crate , a processor board , miscellaneous proprietary interface boards and buses . as seen by the software ,",
    "a branch is a server application running on the branch processor ( under a standard linux system with posix real - time extensions ) and servicing requests sent by the camera controller software as a client .",
    "the server of the slow - control branch is particular because , besides being in charge of controlling the hardware parameters , it is used as a gateway for communications between the control computer and the three other servers .",
    "each server is organized as a multi - thread process .",
    "the scheduling policy of the different threads is set so as to ensure the deterministic behaviour needed for real time applications .",
    "in such a scheduling policy , the running thread keeps running indefinitely until either it voluntarily relinquishes the control of the processor or until it is pre - empted by a thread of greater priority . in each server",
    ", one thread listens to an ethernet socket in order to read the commands sent by the controller and a variable number of other threads execute the requested tasks .",
    "the thread listening to ethernet is given the highest priority of execution .",
    "the command and control server has three principal tasks to execute periodically ( in addition to several transitory on - request ones ) : read the gps time and distribute it to the data and trigger branch servers , so that they can remain correctly synchronized ; monitor the front - end electronics voltage , current and temperature , and shut down the power supplies if anything goes wrong ; ensure that the on / off status of each photo - multiplier is properly managed throughout the run , according both to the predicted movement of the stars through the detector and to any transient or accidental event that may occur during the programmed observation ( e.g. , shooting stars ) .",
    "the server dedicated to image data acquisition has only one important task to do : read quickly the data from the drawers and send them as formatted blocks to the farm of analysis processors via a 1  gbits / s ethernet link . in order to avoid overloading the data receiver ,",
    "several nodes are used and a switch of the receiving node is made every 4 seconds . to be able to sustain high acquisition rates ( more than 6  khz ) , the server is currently distributed over two separate processors operating alternatively , one reading the data while the other is writing them . this way , constant data reading can be maintained whatever happens on the receiver side .",
    "this is a crucial feature to avoid the loss of data coherency that may happen if data overflow occurs at the front - end level .",
    "synchronization of the two processes is carried out through a set of customized `` test - and - set '' devices implemented on the proprietary interface board .",
    "the server can automatically reconfigure itself to execute on a single processor if necessary .",
    "this is possible , however , only if the acquisition rate is relatively low ( less than 2  khz ) and if the network is sufficiently stable .",
    "the server dedicated to the acquisition of the `` trigger '' data is similar in functionality to the data acquisition server but it is structured differently because it always has to run on a single processor .",
    "besides the thread listening to the ethernet socket , it is composed of two threads instead of one .",
    "one low - priority thread reads and formats the data from the trigger front - end boards ( hereafter called the `` reading thread '' ) and the other ( the `` sending thread '' ) sends them with higher priority , packed into multi - events bunches , to the farm of processors . as writing to the socket",
    "is done in synchronous mode , it may happen that the sending thread gets stuck while waiting for the end of a data transfer . in that case",
    "the reading thread simply goes on reading without trying any longer to transfer the data .",
    "this allows to guarantee the events integrity , even when the trigger rate is very high .",
    "besides its main function of data transfer , the server also executes miscellaneous on - request transitory tasks related to the management of the trigger set - up .",
    "regarding calibration , the embedded software ( running on dedicated cards : one controlling the source unit and the other the trigger unit ) has also to implement the interfaces between the calibration hardware on the one hand and the daq processes on the other hand , in order to program and monitor the various hardware parameters .",
    "the most important requirement of the ct5 camera is to be able to handle a trigger rate of several khz without any data corruption , i.e. , a factor of ten higher than the previous h.e.s.s . cameras .",
    "this goal was achieved through a complete re - design of the electronics and of the acquisition pipeline . in particular ,",
    "the dead - time was reduced significantly using new analogue memories , introducing fifo buffers at several stages of the acquisition chain and optimizing the data transfers .",
    "the ct5 camera brings a lot of improvements , not only for the main acquisition electronics .",
    "ct5 is the first cherenkov telescope in the world to actively move the focal plane in order to adjust to the depth of the shower development in the atmosphere .",
    "the camera can be also unloaded from the telescope focal plane to protect it from the weather conditions or for maintenance operations .",
    "many of these features could be considered seriously for a future project like the c.t.a .",
    "array @xcite .",
    "the ct5 camera was delivered on site in namibia in spring 2012 . since then , the new telescope was fully integrated in the h.e.s.s . array and data are being accumulated to fully understand the camera response , the efficiency of the trigger decisions and the acquisition system performance .",
    "this testing phase consists of taking calibration runs ( flat field runs , pedestal runs , spe runs ) as well as regular observation runs on selected `` benchmark '' targets .",
    "the results of this operating period will be described and discussed in the second part of this paper .",
    "we would like to acknowledge the support of our host institutions .",
    "we also want to thank the whole h.e.s.s .",
    "collaboration for its support , and the referees , who helped us a lot improving the quality of the draft .",
    "m. punch , proc .",
    "`` towards a network of atmospheric cherenkov detectors vii '' , ed .",
    "b.  degrange , g.  fontaine , ecole polytechnique , 2005 .",
    "m. holler , et al .",
    "33rd icrc ( rio de janeiro ) , 2013 .",
    "t. weekes , aip conference proceedings 1085 ( 2008 ) 3 . j.  a. hinton & w. hofmann , annual review of astronomy and astrophysics 47 ( 2009 ) 523 . http://tevcat.in2p3.fr m. punch , proc .",
    "27th icrc ( hamburg ) , 2001 .",
    "p. vincent , proc .",
    "28th icrc ( tsukuba ) , 2003 .",
    "f. aharonian et al .",
    "( h.e.s.s .",
    "collaboration ) , astroparticle physics 22 ( 2004 ) 109 .",
    "r. winston & w.  t. welford , `` high collection for nonimaging optics '' , academic press ( 1989 ) .",
    "m. punch , proc .",
    "`` towards a major atmospheric cerenkov detector iii '' , ed . t. kifune .",
    "tokyo , japan , universal academy press , 1994 .",
    "k. bernlhr et al . , astroparticle physics 20 ( 2003 ) 111 .",
    "e. delagnes , et al . , nuclear instruments and methods a 567 ( 2006 ) 21 .",
    "e. ballamy et al . , nuclear instruments and methods a 339 ( 1994 ) 468 .",
    "a. wright , nuclear instruments and methods a 579 ( 2007 ) , 967 .",
    "d. lachartre & f. feinstein , nuclear instruments and methods a 442 ( 2000 ) 99 .",
    "s. funk , et al .",
    ", astroparticle physics 22 ( 2004 ) 285 .",
    "a.  m. hillas , proc .",
    "19th icrc ( la jolla ) , 1985",
    ". y. moudden , et al . ,",
    "astroparticle physics 34 ( 2011 ) 568 .",
    "y. moudden , et al .",
    ", ieee transactions on nuclear science 58 ( 2011 ) 1685 .",
    "a. balzer , et al . ,",
    "astroparticle physics 54 ( 2014 ) 67 .",
    "r. mirzoyan , v. fomin & a. stepanian , nim a 373 ( 1996 ) 153 .",
    "s. gillessen , for the h.e.s.s .",
    "collaboration , proc .",
    "cosmic ray conf . , tsukuba ( 2003 ) , univ . academy press , tokyo ,",
    "the cta consortium , experimental astronomy 32 ( 2011 ) 193 ."
  ],
  "abstract_text": [
    "<S> in july 2012 , as the four ground - based gamma - ray telescopes of the h.e.s.s . </S>",
    "<S> ( _ high energy stereoscopic system _ ) array reached their tenth year of operation in khomas highlands , namibia , a fifth telescope took its first data as part of the system . </S>",
    "<S> this new cherenkov detector , comprising a @xmath0 reflector with a highly pixelized camera in its focal plane , improves the sensitivity of the current array by a factor two and extends its energy domain down to a few tens of gev .    </S>",
    "<S> the present part i of the paper gives a detailed description of the fifth h.e.s.s . </S>",
    "<S> telescope s camera , presenting the details of both the hardware and the software , emphasizing the main improvements as compared to previous h.e.s.s . camera technology </S>",
    "<S> .    high energy stereoscopic system , h.e.s.s . , camera , electronics , hardware , software , calibration </S>"
  ]
}