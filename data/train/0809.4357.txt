{
  "article_text": [
    "in this paper we study the moduli spaces of tropical curves with marked points from the topological point of view .",
    "these spaces were recently introduced by mikhalkin in @xcite as important gadgets in tropical geometry , see also the work of sturmfels , e.g. , see @xcite for a  nice introduction .",
    "mikhalkin s investigation centers on the tropical geometry of these spaces , going in particular depth in the case of genus  @xmath4 ; here we complement his pioneering work by focusing exclusively on the topological properties .",
    "accordingly , we define the moduli spaces as imbedded in a  larger space which we call _ moduli space of metric graphs with @xmath1 marked points , _ in particular , inheriting the natural topology from that larger space .",
    "we then prove that a  simultaneous contraction of all the bridges is a  strong deformation retraction .",
    "the rigorous proof of this fact is somewhat technical and requires corresponding rigorosity in the definition of the topology on the set of the isometry classes of the metric graphs with @xmath1 marked points .",
    "the main technical problem is to take care of the symmetries arising from the action of the automorhism group of the graph .",
    "all of this is done in section  3 .    since all the edges in a  tree are bridges , the shrinking bridges strong deformation retraction contracts the entire moduli space of tropical curves of genus @xmath4 with @xmath1 marked points to a  point .",
    "therefore , the corresponding space is not of much interest from the topological point of view , as far as our current study is concerned .    the first topologically interesting case , that of genus  @xmath2 , is dealt with in section  4 . in this framework",
    "the shrinking bridges strong deformation retraction simplifies the analysis of the space dramatically , reducing it to the quotient of the torus by the conjugation action of  @xmath3 .",
    "this can be done because a  bridge - free graph of genus  @xmath2 is isomorphic to a  cycle .",
    "at present it seems difficult to describe the homotopy type of the obtained space in simple terms .",
    "however , it is possible to view it as a  homotopy colimit of a  simple diagram ( actually just a  gluing of two identical mapping cylinders ) .",
    "we use that presentation to compute the betti numbers of the space with coefficients in @xmath3 , as well as to make a  conjecture about the homology groups with integer coefficients .",
    "we refer to @xcite for the concepts and tools of combinatorial algebraic topology which are used throughout this paper .",
    "the few notions of the category theory that we use here can also be found in ( * ? ? ?",
    "* chapters 4 and 15 ) or in @xcite .",
    "@xmath5    all the graphs considered in this paper will be finite and undirected , however loops and multiple edges are allowed , and will , in fact , be essential for our investigation .",
    "let us now fix our notations .",
    "[ df : graph ] a  * graph * @xmath6 is a  pair of finite sets @xmath7 and @xmath8 equipped with set maps @xmath9 and @xmath10 , such that    * @xmath11 , * the map @xmath12 has no fixed points .    when more precise specification is needed , we also write @xmath13 instead of @xmath12 . we shall call @xmath7 the _ set of vertices_. we think of the elements of @xmath8 as _ directed edges _ , where the map @xmath12 changes orientation of such a  directed edge to the opposite one , and the map @xmath14 takes a  directed edge to its source vertex .",
    "accordingly , we introduce notation @xmath15 for the target vertex map .",
    "one can think of a graph as a diagram of sets over the category with two objects and three non - identity morphisms , see figure  [ fig : graph ] , with the compositions of the morphisms given by the rules @xmath16 and @xmath17 .",
    "the condition that @xmath12 has no fixed points implies that elements of @xmath8 come in pairs @xmath18 .",
    "these pairs , or equivalence classes , are the _",
    "( undirected ) edges _ of @xmath6 and we denote the corresponding set by @xmath19 . elements @xmath20 , such that @xmath21 are called _ directed loops _ , and the corresponding equivalence classes in @xmath22 are called _",
    "loops_. for arbitrary vertices @xmath23 , we let @xmath24 denote the set of edges directed from @xmath25 to @xmath26 .",
    "clearly @xmath27 , and the union is disjoint .",
    "the map @xmath12 is a  bijection between @xmath28 and @xmath29 , and we set @xmath30 we have @xmath31 , for all @xmath23 . in particular",
    "@xmath32 denotes the set of directed loops at @xmath25 , and @xmath33 denotes the set of loops at  @xmath25 .    as an  example , for a  graph @xmath6 with one vertex and one loop we have @xmath34 , @xmath35 , with @xmath36 , @xmath37 , @xmath38 , and @xmath39 , @xmath40 .    for two graphs @xmath6 and @xmath41 , a  * graph homomorphism * from @xmath6 to @xmath41 is simply a  map between corresponding diagrams of sets . in concrete terms , it consists of two set maps @xmath42 and @xmath43 , such that @xmath44 , and @xmath45 .    a graph homomorphism is called a * graph isomorphism * if the involved set maps @xmath46 and @xmath47 are bijections .    since @xmath44 we obtain induced map @xmath48 .",
    "for example , the graph with one vertex and one loop described above has two automorphisms , i.e. , invertible graph homomorphisms to itself . both are identity maps on the sets @xmath7 and @xmath22 .",
    "however , on the set @xmath8 , one is the identity map , and the other one swaps the directed edges @xmath49 and  @xmath50 .",
    "@xmath5    we shall now associate a  topological space @xmath51 to a  graph @xmath6 . to avoid making noncanonical choices , and to aid our further considerations , we would like to think of the space @xmath51 as obtained by gluing together closed intervals corresponding to elements of @xmath8 . for this , let @xmath52 denote the closed interval , a  copy of @xmath53\\subset{{\\mathbb r}}$ ] , corresponding to the element @xmath54 , and let @xmath55 be the union of all disjoint closed intervals @xmath52 .",
    "let furthermore @xmath7 also denote the discrete set of points indexed by elements of @xmath7 , and let @xmath56 be the discrete set of points indexed by the union @xmath57 consider the following maps :    * a map @xmath58 , defined by @xmath59 ; * a map @xmath60 , which takes @xmath61 to the point in @xmath52 corresponding to @xmath4 , and takes @xmath62 to the point in @xmath52 corresponding to  @xmath2 ; * a map @xmath63 which takes a  point in @xmath52 corresponding to @xmath64 $ ] to the point in @xmath65 corresponding to @xmath66 , for all @xmath54 , and all @xmath64 $ ] .",
    "together with spaces @xmath56 , @xmath7 , and @xmath55 these maps form a  diagram shown in figure  [ fig : wvod ] , which one can think of as a  gluing data for @xmath51 .",
    "this is made precise by the following definition .",
    "[ df : dag ] for an  arbitrary graph @xmath6 , we let the topological space @xmath51 be the colimit of the diagram shown in figure  [ fig : wvod ] .    we let @xmath67 denote the map induced by the structural maps from the spaces in the diagram to the colimit of that diagram .",
    "the map @xmath68 , and hence also the map @xmath69 , is surjective .",
    "clearly , @xmath51 has a  structure of a  @xmath2-dimensional cw complex , whose @xmath4-cells are indexed by the vertices of @xmath6 , @xmath2-cells are indexed by the edges of @xmath6 , i.e. , by @xmath12-invariant pairs of elements from @xmath8 , and the attachment maps are given by the vertex - edge incidences .",
    "when appropriate we shall identify vertices of @xmath6 with corresponding @xmath4-cells of @xmath51 , and edges of @xmath6 with corresponding open @xmath2-cells of @xmath51 .",
    "a graph homomorphism from @xmath6 to @xmath41 induces a  natural diagram map from the gluing data of @xmath6 to the gluing data of @xmath41 , and therefore it also induces a  natural cw map from @xmath51 to @xmath70 , which is in fact a  homeomorphism when restricted to any open @xmath2-cell of @xmath51 .",
    "we denote both maps by @xmath71 .",
    "when @xmath72 is a  graph isomorphism , the map @xmath71 is a  cw isomorphism .    as the last piece of terminology here , the first betti number of @xmath51 will be called the _ genus _ of @xmath6 , and denoted by @xmath73 . clearly @xmath74 .",
    "@xmath5 [ ssect : mgraphs ]    to introduce more structure we now vary the lengths of the edges .",
    "let @xmath6 be a  graph .",
    "we say that @xmath6 is a  * metric graph * when we are given a  function @xmath75 , called the * edge - length function*.    the index @xmath6 will be skipped in @xmath76 whenever it is clear which graph is considered .",
    "we shall also use @xmath76 to denote the corresponding @xmath12-invariant function @xmath77 .",
    "given a metric graph @xmath78 , there is a standard way to use the function @xmath76 to turn the topological space @xmath51 into a  metric space , which we now describe .",
    "we identify each @xmath52 with the metric space @xmath79 $ ] , instead of the topological space @xmath53 $ ] , with the standard distance function given by @xmath80 , for @xmath81 $ ] .",
    "we can now define a  distance function @xmath82 on @xmath51 as follows : @xmath83 , for all @xmath84 , and for @xmath85 , @xmath86 we set @xmath87 where the minimum is taken over all @xmath88-tuples @xmath89 of points from @xmath55 , such that points @xmath90 and @xmath91 belong to the same closed interval @xmath52 , for all @xmath92 , so the distance @xmath93 is taken in this interval , and furthermore @xmath94 , @xmath95 , and @xmath96 for all @xmath97 . from now on , whenever @xmath6 is a  metric graph , we think of @xmath51 as a  metric space with the standard metric which we just described .",
    "given a  graph homomorphism from @xmath6 to @xmath41 , we can adjust the induced diagram map from the gluing data of @xmath6 to the gluing data of @xmath41 to the metric setting , by taking the map from @xmath52 to @xmath98 to be the dilation with the scaling factor @xmath99 . in the colimit we get the induced map from @xmath51 to @xmath70 , which we also denote by @xmath71 .",
    "let @xmath6 be a  metric graph , and let @xmath1 be a  nonnegative integer .",
    "we say that @xmath6 is a  * metric graph with @xmath1 marked points * , when we are given a  function @xmath100{\\rightarrow}{\\delta}(g)$ ] called the * marking function*.    here we use the convention @xmath101:=\\{1,\\dots , n\\}$ ] for natural numbers @xmath1 , and @xmath102:=\\emptyset$ ] .",
    "formally , metric graphs with @xmath1 marked points are given by triples @xmath103 .",
    "clearly , these generalize metric graphs , which we can recover by setting @xmath104 . for @xmath84",
    ", we say that _",
    "@xmath25 is marked with @xmath105 _ , or simply that @xmath25 _ is marked _ , in case that subset of @xmath101 $ ] is not empty .",
    "we call a  point @xmath84 _ special _ if it is vertex or a  marked point ( or both ) .    two metric graphs @xmath6 and @xmath41 with @xmath1 marked points are said to be * isometric * if there exists a  graph isomorphism consisting of the maps @xmath42 and @xmath106 , such that we have @xmath107 , and the marked points are mapped appropriately by the corresponding isometries of the edges , i.e. , @xmath108 .",
    "a graph isomorphism @xmath109 from @xmath6 to @xmath41 , which is also an  isometry of metric graphs , induces an  isometry @xmath71 of the corresponding metric spaces .",
    "isometry of metric graphs with @xmath1 marked points is clearly an  equivalence relation .",
    "when @xmath6 is a metric graph with @xmath1 marked points we let @xmath110 $ ] denote the corresponding equivalence class ( that is the set of all metric graphs with @xmath1 marked points which are isometric to @xmath6 ) . likewise , for a set @xmath111 of metric graphs with @xmath1 marked points we set @xmath112:=\\{[g]\\,|\\,g\\in s\\}$ ] .",
    "@xmath5 [ ssect : shrink ]    given a  metric graph @xmath6 with @xmath1 marked points and @xmath113 , which is not a  loop , we can define a  new metric graph @xmath114 as follows .",
    "let @xmath115 be the set of the endpoints of @xmath116 , @xmath117 , and let @xmath118 be a  label which is not in @xmath7 ; for reasons which will become clear shortly , we let the label @xmath118 be the set @xmath115 itself .",
    "let furthermore @xmath119 be the directed edges corresponding to @xmath116 .",
    "we set @xmath120 and @xmath121 .",
    "in particular , we see that @xmath122 .",
    "let @xmath123 be the map defined by @xmath124 , and @xmath125 for @xmath126 .",
    "we now set @xmath127 and @xmath128 . in concrete terms",
    ", we have @xmath129 the function @xmath130 is set to be the restriction of @xmath76 to @xmath131 .",
    "clearly , we have a  surjective map @xmath132 which `` shrinks '' the edge @xmath116 , and the marking function @xmath133 is taken to be the composition  @xmath134 .",
    "more generally , let @xmath135 be a set of edges which forms a  subforest of @xmath6 , i.e. , the induced graph _ contains no cycles _ ( in particular , the set @xmath111 contains no loops ) , and let @xmath136 be the set of corresponding directed edges .",
    "one can then shrink the set @xmath111 just like we shrunk a  single edge .",
    "more precisely , let @xmath137 be the graph whose set of vertices is @xmath7 and whose set of edges is  @xmath111 . the new graph @xmath138 is now obtained by taking the connected components of @xmath137 as vertices , and setting @xmath139 , hence @xmath140 .",
    "let @xmath123 be the map taking every vertex of @xmath6 to the connected component of @xmath137 which contains it .",
    "we can then define @xmath127 and @xmath128 ; just like for the case when @xmath111 consists of a  single edge .",
    "for @xmath141 we now have @xmath142 we again let @xmath130 be the restriction of @xmath76 to @xmath143 , we have a  surjective shrinking map of topological spaces @xmath132 , and we set @xmath144 .",
    "we want to point out a  subtlety related to the edge shrinking .",
    "given two disjoint sets of edges @xmath145 and @xmath146 we could shrink all these edges provided that @xmath147 forms a  subforest .",
    "if we shrink first @xmath145 and then @xmath146 we get a  different graph from the one obtained by shrinking the set @xmath147 right away .",
    "this is because the labels of the vertices will be different .",
    "for example , for a graph with 3 vertices and 2 edges g given by @xmath148 , @xmath149 , @xmath150 , shrinking first @xmath116 and then @xmath151 yields a  graph with a single vertex labelled @xmath152 and no edges , while shrinking the entire set @xmath153 right away yields a  graph with a single vertex labelled @xmath154 and no edges . however , it is easy to see that the isometry class @xmath155 $ ] of the obtained graph does not depend on the order in which we do the shrinking .",
    "we will implicitly use this fact in the future arguments .",
    "@xmath5    let @xmath1 be a  nonnegative integer , and let @xmath156 denote the set of all isometry classes of finite metric graphs with @xmath1 marked points .",
    "we would like to turn this set into a  topological space .",
    "for this we need to say when two isometry classes of metric graphs with @xmath1 marked points `` are close . ''",
    "let @xmath6 be a metric graph with @xmath1 marked points .",
    "we set @xmath158 , where the minimum is taken over all pairs of special points @xmath85 .",
    "note that since the number of special points is necessarily finite , the minimum is well - defined .",
    "we shall refer to the open interval @xmath159 as the _ admissible range _ of @xmath6 , this is the range from which the sizes of the neighborhoods of @xmath110 $ ] in @xmath156 shall be sampled , and depends only on the isometry class @xmath110 $ ] , not on the choice of  @xmath6 .",
    "let @xmath160 be a  number from the admissible range of @xmath6 .",
    "we now define a set @xmath161 as follows : a  metric graph with @xmath1 marked points @xmath41 lies in @xmath161 if and only if    1 .",
    "the edges of @xmath41 of length less than @xmath160 form a  subforest ; 2 .   the metric graph @xmath6 can be obtained from @xmath41 by shrinking all the edges of lengths less than @xmath160 , as described in subsection  [ ssect : shrink ] , and by subsequently varying lengths of remaining edges and positions of marked points by up to  @xmath160 .",
    "the latter can be formalized as follows .",
    "we say that a metric graph @xmath6 with @xmath1 marked points can be obtained from another metric graph @xmath41 with @xmath1 marked points by varying lengths of edges and the positions of marked points by up to  @xmath160 if there exists a graph isomorphism @xmath72 from @xmath6 to @xmath41 such that    1 .   for all @xmath113 we have @xmath162 ; 2 .   for all",
    "@xmath163 $ ] , we have @xmath164 .",
    "finally , we set @xmath165):=[n_\\varepsilon(g)]\\subseteq{mg_n}$ ] .",
    "choosing different representatives of @xmath110 $ ] means simply changing labels of vertices and edges , therefore the set @xmath165)$ ] is independent on the particular choice of @xmath6 .",
    "it is easy to see that when @xmath166 lies in the admissible range of @xmath6 , and @xmath167 , we have @xmath168)\\subseteq n_{\\varepsilon_1}([g])$ ] .",
    "this is because for any @xmath169 , and for any edge @xmath116 of @xmath41 we can not have @xmath170 , as otherwise @xmath116 would correspond to an  edge of @xmath6 , such that @xmath171 , which is impossible since the inequalities @xmath172 and @xmath173 imply @xmath174    we are now ready to topologize the set of all isometry classes of metric graphs with @xmath1 marked points .",
    "let @xmath1 be a  nonnegative integer .",
    "the * moduli space of metric graphs with @xmath1 marked points * is the topological space whose set of points is given by @xmath156 , and whose topology is generated by the sets @xmath165)$ ] as follows : a  subset @xmath175 is open if and only if for every @xmath110\\in x$ ] there exists @xmath176 , such that @xmath177)\\subseteq x$ ] .",
    "we leave to the reader the verification of the fact that the spaces @xmath177)$ ] are themselves open .",
    "we extend the usage of @xmath156 to denote the corresponding topological space as well .",
    "there are various natural modifications of @xmath156 .",
    "for example , one could require the metric graphs to be connected .",
    "we denote the corresponding subspace of @xmath156 by @xmath178 .",
    "another , independent possibility is to require that the marked points are vertices of the graph .",
    "we denote the corresponding subspace of @xmath156 by @xmath179 . combining , we let @xmath180 denote the subspace of @xmath156 consisting of the isometry classes of connected metric graphs with @xmath1 marks on vertices ( as we constructed it , multiple marks are allowed ) .",
    "given a  metric graph @xmath6 with @xmath1 marked points , we let @xmath181 denote the metric graph obtained from @xmath6 by turning all marked points into vertices ( of course , in case they were not vertices already ) .",
    "clearly , the isometry class @xmath182 $ ] depends on the isometry class @xmath110 $ ] only , hence the map @xmath183 given by @xmath184{\\rightarrow}[g^{{\\mathfrak{v}}}]$ ] is well - defined .",
    "the map @xmath183 making all marked points into vertices is a  retraction .",
    "* by construction , we have @xmath185 . furthermore , we see that the map @xmath72 is continuous .",
    "indeed , for any metric graph @xmath6 with @xmath1 marked points the neighborhood @xmath186)$ ] is mapped inside the neighborhood @xmath187)$ ] .",
    "this is because allowed ( for staying in the neighborhood @xmath186)$ ] ) deformations of the graph @xmath6 : edge contraction of edges shorter than @xmath188 , changing the edge lengths by up to @xmath188 , shifting a  marked point by at most @xmath188 , can all be realized by edge contractions of edges shorter than @xmath160 and changing edge lengths by at most @xmath160 in the graph @xmath181 , when @xmath160 is in the admissible range of  @xmath6 .",
    "we therefore conclude that @xmath72 is a  retraction .",
    "@xmath5    let us now describe the connected components of @xmath156 .",
    "let @xmath6 be a  metric graph with @xmath1 marked points , and let @xmath189 be its connected components .",
    "assume that @xmath190 has genus @xmath191 , for @xmath192 , and let @xmath193 be disjoint , possibly empty sets whose union is @xmath101 $ ] ( this is like a  set partition , but with empty sets allowed ) .",
    "the set @xmath194 is now the data which we associate to the graph @xmath6 .",
    "it is not difficult to see that any graph with the same data lies in the connected component which contains @xmath110 $ ] .",
    "furthermore , the data of this type , meaning a  set of tuples @xmath195 , such that @xmath196 and @xmath197 is a  set partition of @xmath101 $ ] , possibly involving empty sets , index connected components of @xmath156 .",
    "consider now a  connected component @xmath198 indexed by the set @xmath199 where the sets @xmath200 are non - empty . denote the number of appearances of the tuple @xmath201 in that set by @xmath202 , for @xmath203 . by our assumptions ,",
    "only finitely many of these are different from  @xmath4 .",
    "then we have a  homeomorphism @xmath204 where @xmath205 denotes the @xmath206-fold symmetric product , i.e. , the quotient space @xmath207 , where the symmetric group @xmath208 acts on the direct product by permutation of its factors .",
    "we shall use @xmath209 to denote the topological space whose points are the isomorphism classes of connected graphs of genus @xmath0 with @xmath1 marked points , which is the same as the connected component @xmath210)}$ ] .",
    "@xmath5    the moduli space @xmath156 has a  natural stratification .",
    "to produce a  stratum , fix a  graph @xmath6 , and for each @xmath163 $ ] , fix @xmath211 , which is either a  vertex or an edge of @xmath6 .",
    "now , consider the set of all isometry classes of metric graphs with @xmath1 marked points , which have a  representative @xmath212 , such that there exists a  graph isomorphism @xmath72 from @xmath6 to @xmath41 , for which the point @xmath213 is equal to @xmath214 , if @xmath211 is a  vertex , or belongs the open edge @xmath215 , if @xmath211 is an  edge with endpoints @xmath25 and @xmath26 , for all @xmath163 $ ] .",
    "this stratum is indexed by the graph @xmath6 together with the @xmath1-tuple @xmath216 ; we denote it by @xmath217 .",
    "we shall call this stratification _ standard _ , and we shall its strata the _ standard strata_. the stratum does not change if we replace @xmath6 with an isomorphic graph , and change the @xmath1-tuple @xmath218 accordingly .",
    "we shall implicitly use this fact in our discussion .",
    "we let @xmath219 denote the closure of the stratum @xmath217 , and we let @xmath220 denote @xmath221 , which we shall call the _ boundary _ of the stratum .",
    "one can see that the boundary of an  arbitrary stratum @xmath217 is a  union of other strata .",
    "the indexing data of these strata can be obtained from @xmath222 by a  combination of the steps of the following two kinds    1 .   replacing an  edge by one of its endpoints in the @xmath1-tuple  @xmath218 ; 2 .   shrinking a  non - loop edge in @xmath6 and replacing this edge and its endpoints by the label of the thus obtained vertex in the @xmath1-tuple  @xmath218 .    in general the strata",
    "do not have to be manifolds .",
    "consider , for example , the stratum @xmath217 , where @xmath6 is a  graph with one vertex @xmath223 and one edge @xmath116 ( which hence must be a  loop ) , @xmath224 , and @xmath225 .",
    "we can vary the length of the edge in the open interval @xmath226 , and we can slide the marked point along the edge .",
    "thus potentially the point moves in the interval @xmath227 , however , because of the symmetry which flips the loop , we need to identify coordinates @xmath25 and @xmath228 , so we can choose a  representative from the half - closed interval @xmath229 $ ] .",
    "these considerations show that the stratum @xmath217 is homeomorphic to the space @xmath230 , which in turn is homeomorphic to the space @xmath231 .    on the positive side , as easily seen , the generic points of every stratum @xmath217 form an  open manifold whose dimension is equal to the number of edges of @xmath6 plus the number of labels which are edges in the @xmath1-tuple  @xmath218 .",
    "it follows , that there are infinitely many strata of dimension @xmath4 ; these are indexed by graphs @xmath6 with no edges , whose vertices are labeled by disjoint subsets of @xmath101 $ ] , so that the union of all labels is @xmath101 $ ] , which is the same as to index them by sets @xmath232 , where we might have @xmath233 , such that @xmath101=\\cup_{i=1}^t a_i$ ] , and the union is disjoint .    in general , the space @xmath156 is somewhat technical to handle directly : it is infinite dimensional , and an arbitrarily small neighborhood of each point intersects infinitely many strata ; for example , in the case with no marked points , an arbitrarily small neighborhood of the graph with one vertex and no edges intersects all strata indexed by trees",
    ". we shall therefore start by performing the shrinking bridges strong deformation retraction , in order to replace @xmath156 by a  more manageable space .",
    "@xmath5    recall , that an edge @xmath116 of a graph @xmath6 is called a  _ bridge _ if deleting it from the graph @xmath6 increases the number of connected components .",
    "equivalently , @xmath116 is a  bridge if the endpoints of @xmath116 belong to different connected components of  @xmath234 ( cf .",
    "clearly , shrinking a  bridge will neither change the number of connected components of @xmath6 , nor will it change the genuses of these connected components .",
    "for example , every edge of a  forest is a  bridge .",
    "we shall call a  graph which has no bridges _ bridge - free _ , and we shall denote the set of bridges of @xmath6 by @xmath235 .",
    "let us now define a  homotopy @xmath236{\\rightarrow}{mg_n}$ ] .",
    "let @xmath6 be a  metric graph with @xmath1 marked points , and let @xmath237 $ ] .",
    "let  @xmath238 denote the metric graph with @xmath1 marked points obtained from @xmath6 by scaling down all the edges in @xmath235 by the factor  @xmath206 , and adjusting the marking function accordingly .",
    "for @xmath239 we set @xmath240 to be the graph obtained from @xmath6 by shrinking all the bridges , this is allowed since the set of all bridges forms a  subforest of  @xmath6 . up to isomorphism",
    ", the metric graph @xmath238 with @xmath1 marked points is uniquely determined by the isomorphism class of @xmath6 , and by the parameter  @xmath206 , hence the assignment @xmath241,t):=[\\beta(g , t)]$ ] is well - defined .",
    "let @xmath242 denote the subspace of @xmath156 consisting of all the isometry classes of metric bridge - free graphs @xmath6 with @xmath1 marked points .",
    "clearly , the space @xmath242 is a  union of standard strata , and the map @xmath243 surjectivity takes @xmath156 to @xmath242 .",
    "[ thm : bbh ] the space @xmath242 is a  strong deformation retract of the space @xmath156 .",
    "the map @xmath236{\\rightarrow}{mg_n}$ ] provides a  corresponding strong deformation retraction .",
    "* proof . *",
    "as already mentioned , we have @xmath241,0)\\in{mg_n}^{{\\mathfrak b}}$ ] , for any metric graph @xmath6 with @xmath1 marked points .",
    "furthermore , it follows directly from our definition of the map @xmath244 , that @xmath241,t)=[g]$ ] , for all @xmath110\\in{mg_n}^{{\\mathfrak b}}$ ] , and that @xmath245 . therefore , to prove that @xmath244 is an  appropriate strong deformation retraction , it is enough to show that it is continuous .",
    "we shall now provide a  direct , albeit somewhat tedious verification .",
    "we take a  point @xmath246 and a  point @xmath247 $ ] , such that @xmath248 , and then show that for every sufficiently small @xmath160 ( how small it needs to be shall depend on @xmath25 and @xmath26 ) , there exists a  neighborhood @xmath249 of @xmath26 , which is taken by @xmath244 inside of @xmath250 : @xmath251 .",
    "we use the notations @xmath252,t)\\in{mg_n}\\times[0,1]$ ] , where @xmath6 is a  metric graph with @xmath1 marked points , and accordingly @xmath253,t)=[\\beta(g , t)]$ ] .",
    "it is technically easier to divide the argument into considering two separate cases .",
    "* _ we assume that @xmath254 .",
    "_    this is the easier one of the two cases . for sufficiently small @xmath176",
    ", we look for @xmath255 , such that @xmath244 maps the @xmath26-neighborhood @xmath256)\\times[t-\\delta_2,t+\\delta_2]$ ] inside of @xmath250 .",
    "since @xmath256)=[n_{\\delta_1}(g)]$ ] , and @xmath257,t))= n_\\varepsilon([\\beta(g , t)])= [ n_\\varepsilon(\\beta(g , t))]$ ] , it is enough to find @xmath160 , @xmath258 , and @xmath259 , such that @xmath244 maps @xmath260 $ ] inside of @xmath261 , as long as the conditions on @xmath160 , @xmath258 , and @xmath259 depend only on the isomorphism class of @xmath6 , not on the specific representative . in any case , we assume that @xmath160 is sampled from the admissible range of  @xmath6 ( which only depends on @xmath110 $ ] ) .    let now @xmath41 be a  metric graph with @xmath1 marked points in @xmath262 , and let @xmath137 denote the set of edges of @xmath41 of length less than @xmath258 . by our construction , these must form a  subforest . let us fix some @xmath263 in the interval @xmath264 $ ] .",
    "the graph @xmath265 is obtained from @xmath41 by shrinking all the bridges by a  factor  @xmath266 , @xmath267 .",
    "therefore , requesting that @xmath268 will ensure that the images of the edges from @xmath137 will have length less than @xmath160 .",
    "on the other hand , we want the images of the edges from @xmath269 , i.e. , the original edges of @xmath6 , to have lengths larger than  @xmath160 . this can be ensured by requesting that @xmath270 therefore , the graph @xmath271 can be obtained from the graph @xmath265 by shrinking all the edges of length less than  @xmath160 , and then varying the lengths of the remaining edges , as well as positions of marked points , by up to an  @xmath160 .",
    "the latter follows from the fact that @xmath268 , and shrinking some of the edges only decreases the edge length variation .    passing on to the whole interval @xmath264 $ ]",
    ", we choose @xmath160 so that @xmath272 and then take @xmath268 and @xmath273 . this choice of parameters verifies the continuity of the map @xmath244 at the point  @xmath26 .",
    "* _ we assume that @xmath239 .",
    "_    we have @xmath253,0)\\in{mg_n}^{{\\mathfrak b}}$ ] .",
    "this time , for sufficiently small @xmath176 , we need to find @xmath255 , such that @xmath244 maps the @xmath26-neighborhood @xmath256)\\times[0,\\delta_2]$ ] inside of @xmath250 .",
    "just like in the first case , we can drop the isomorphism brackets , and search for @xmath160 , @xmath258 , and @xmath259 , such that @xmath244 maps @xmath274 $ ] inside of @xmath275 .",
    "let again @xmath41 be a  metric graph with @xmath1 marked points in @xmath262 , and let @xmath137 denote the set of edges of @xmath41 of length less than @xmath258 .",
    "it important to note , that the set of edges @xmath276 forms a  subforest .",
    "this is because @xmath137 is a  forest , and adding bridges to any forest will not create cycles , since bridges can not be a  part of any cycle .",
    "also , as noted before , we have @xmath277 .    the graph @xmath278 is obtained from @xmath41 by shrinking all the bridges .",
    "this means shrinking all the bridges of @xmath6 , and possibly some of the edges from  @xmath137 .",
    "choosing @xmath160 smaller than @xmath279 , and then choosing @xmath280 ensures that the edges of @xmath278 whose lengths are less than @xmath160 are precisely the non - bridges from the set @xmath137 .",
    "this means that the graph @xmath240 can be obtained from the graph @xmath278 by shrinking the edges of length less than @xmath160 , and varying the lengths of other edges , as well as positions of the marked points , by up to an  @xmath160 .",
    "assume now @xmath259 is chosen so that @xmath281 and choose @xmath282 .",
    "the graph @xmath283 is obtained from @xmath41 by scaling all the bridges down by the factor @xmath206 .",
    "the way @xmath259 is chosen , this will scale down all the bridges of @xmath6 , so that they become shorter than @xmath160 .",
    "furthermore , the conditions @xmath284 imply that also all the edges from @xmath137 will be shorter than  @xmath160 ( since they were shorter than @xmath160 to start with , and some were additionally shrunk ) , and that all the non - bridges of @xmath6 will not be shorter than  @xmath160 . hence again",
    "the graph @xmath240 can be obtained from the graph @xmath283 by shrinking the edges of length less than @xmath160 , and varying the lengths of other edges , as well as positions of the marked points , by up to an  @xmath160 .",
    "this finishes the verification of the fact that the homotopy @xmath244 is continuous at the point @xmath26 in this case .",
    "@xmath5    we now define a subspace of @xmath285 which is of special interest in tropical geometry and has been the starting point of the current investigation .    let @xmath1 be a  nonnegative integer , and let @xmath82 be a  positive number .",
    "we define @xmath286 to be the subspace of @xmath285 consisting of the isomorphism classes of all metric graphs @xmath6 with @xmath1 marked points , such that    1 .",
    "@xmath6 has no vertices of valency 2 ; 2 .",
    "@xmath6 has exactly @xmath1 leaves , cf .",
    "@xcite . ] , and these are marked @xmath2 through @xmath1 ; 3 .",
    "the lengths of the edges leading to leaves are equal to @xmath82 .",
    "simultaneous dilation of the edges leading to leaves gives a  homeomorphism between spaces @xmath287 and @xmath288 , for arbitrary positive @xmath289 and @xmath290 .",
    "letting @xmath82 go to @xmath4 we obtain yet another homeomorphic space , which it would be natural to denote by @xmath291 , but for simplicity we just call it @xmath157 .",
    "this space can also be described directly , as is done in the next definition .",
    "[ df : tmn ] let @xmath1 be a  nonnegative integer .",
    "we define @xmath157 to be the subspace of @xmath285 consisting of the isomorphism classes of all metric graphs @xmath6 with @xmath1 marked points , such that for every vertex of @xmath6 the sum of its valency with the number of times it is marked should be at least  3 .",
    "the condition in definition  [ df : tmn ] just means that every vertex of valency 2 should be marked , and that every leaf should be marked at least twice .",
    "it is not a  difficult exercise to see that every two points of @xmath157 corresponding to metric graphs of the _ same _ genus , can be connected by a  path inside @xmath157 , whereas obviously , every two points of @xmath157 corresponding to metric graphs of _ different _ genus , can not be connected by such a  path , not even inside of @xmath156 .",
    "hence the connected components of @xmath157 are indexed by nonnegative integers @xmath0 , corresponding to the genuses of the involved graphs , and we call them @xmath292 . is a  strong deformation retract of the graph moduli space @xmath293 , see  @xcite . ]",
    "it is important to not that , unlike the spaces @xmath286 , the space @xmath157 is a union of the standard strata of @xmath156 .",
    "[ crl : tmnb ] let @xmath294 .",
    "then the space @xmath295 is a  strong deformation retract of  @xmath157 .",
    "* proof . * the space @xmath157 is obviously closed under the shrinking bridges strong deformation retraction .",
    "therefore , the theorem  [ thm : bbh ] implies that @xmath157 strongly deformation retracts to @xmath295 .",
    "the space @xmath295 can be also described directly : it is the subspace of @xmath285 consisting of all isomorphism classes of metric graphs @xmath6 with @xmath1 marked points , such that    1 .",
    "every vertex of @xmath6 of valency 2 is marked ; 2 .",
    "the graph @xmath6 has no bridges .",
    "the connected components of @xmath295 are again indexed by genuses of the constituting graphs , and we shall use the notation @xmath296 .",
    "since all the edges of a  tree are bridges , we see that @xmath297 and @xmath298 are just single points .",
    "theorem  [ thm : bbh ] and corollary  [ crl : tmnb ] imply that the spaces @xmath299 and @xmath300 are contractible . in this section",
    "we shall focus on the next interesting case : namely the spaces of connected metric graphs of genus  @xmath2 with @xmath1  marked points .",
    "let us start by analysing the space @xmath301 .",
    "the bridge - free graphs of genus @xmath2 are simply cycles , hence , since all their vertices have valency equal to @xmath302 , they should all be marked , and @xmath1 should be at least  @xmath2 .",
    "reversely , all the marked points are vertices .",
    "we can therefore forget about the vertices and just record the marked points .",
    "the points of the space @xmath303 can thus be indexed by @xmath1-tuples of points on a  circle , whose radius is an arbitrary positive real number , divided by the action of the orthogonal group on the circle . factoring out the radius length of the circle , we have a  homeomorphism @xmath304 for @xmath305 , where @xmath306 denotes the unit circle , and the division is done with respect to the diagonal action of the orthogonal group @xmath307 , which acts on each term in the natural way .",
    "note , that the described action of @xmath307 on the direct product @xmath308 is transitive on the last coordinate .",
    "let us fix the last coordinate to be @xmath309 .",
    "then the space @xmath310 can be rewritten as @xmath311 where @xmath3 is the subgroup of @xmath307 which fixes the point @xmath312 . clearly , the group @xmath3 consists of two elements , and the non - identity element is an  involution which acts diagonally on the direct product of @xmath313 copies of @xmath306 by a  reflection about the @xmath314-axis .",
    "one way to think of this action is to view the points of @xmath306 as complex numbers with absolute values equal to @xmath2 , in which case the action is just a  simultaneous conjugation : @xmath315        consider the cw structure on a unit circle @xmath306 consisting of two @xmath4-cells @xmath312 and @xmath316 , and two @xmath2-cells corresponding to upper and lower semicircles .",
    "this induces a  cw structure on the direct product of @xmath1 copies of @xmath306 ( which is an @xmath1-torus ) , where the cells are simply direct products of cells of the factors .",
    "these are indexed by the ordered @xmath1-tuples of the cells of the factors and we shall use the following encoding : we write `` @xmath317 '' for the @xmath4-cell @xmath312 , `` @xmath318 '' for the @xmath4-cell @xmath316 , `` @xmath319 '' for the upper semicircle , and `` @xmath320 '' for the lower semicircle , as shown on figure  [ fig : circle ] .",
    "so , for example , @xmath321 would denote a  @xmath302-cell in the @xmath322-torus .",
    "the open cells are actually cubes , so we can think of this decomposition as some sort of a  cubical structure on @xmath308 . in this encoding ,",
    "the boundary of a  cell is obtained by replacing symbols @xmath319 and @xmath320 with symbols @xmath317 and  @xmath318 .",
    "the number of @xmath82-cells is @xmath323 , as we can put a  plus or a  minus in every coordinate , and then distribute @xmath82 symbols `` @xmath324 '' arbitrarily .    clearly , this cubical structure on @xmath325 is invariant under the @xmath3-action of simultaneous conjugation . in our symbolic notations ,",
    "the action changes the signs assigned to @xmath324 s and fixes the other coordinates . in particular , all @xmath4-cells are fixed , and all higher dimensional cells come in pairs , the cells in each pair are being swapped by the involution .",
    "this means that in the quotient @xmath310 we get the induced cubical structure , consisting of the orbits of the cells of the @xmath326-torus .",
    "these are also indexed by the @xmath1-tuples of the symbols from the set @xmath327 , with an additional constraint that the first symbol @xmath319 comes before the first symbol @xmath320 ( if at all ) .",
    "hence the number of vertices in this cubical structure on @xmath310 is @xmath328 , whereas the number of @xmath82-cubes , for @xmath329 , is @xmath330 .",
    "the presentation   can be used to analyze what happens for the small values of @xmath1 .",
    "the space @xmath331 is just a point : the empty direct product is to be interpreted as a point here .",
    "the space @xmath332 is homeomorphic to a  closed interval , e.g. , @xmath333 $ ] if we take the projection of @xmath306 onto the @xmath314-axis .",
    "let us consider @xmath334 .",
    "we have a  described a  cubical structure on this space which has @xmath322 vertices , @xmath322 edges and @xmath302 squares .",
    "the two squares are indexed with @xmath335 and @xmath336 and it is easy to see that @xmath337 is obtained by gluing these @xmath302 squares together along their entire boundaries .",
    "hence we conclude that @xmath337 is homeomorphic to a  @xmath302-dimensional sphere .    as the last case ,",
    "let us consider @xmath338 .",
    "this is a  space glued together from @xmath322 cubes ; it has @xmath339 vertices , @xmath340 edges and @xmath340 squares .",
    "all of the cubes share the same set of vertices , and it is easy to see that all points , except for these @xmath339 vertices , have neighborhoods which are homeomorphic to open balls in @xmath341 .",
    "however , the space @xmath342 is not a  manifold . to see this ,",
    "let us take a  look at the neighborhoods of these vertices .",
    "clearly , it does not matter which one we take , so let us take the vertex @xmath343 . as an open neighborhood of @xmath223 we can take a cone with an apex in @xmath223 over the link of @xmath223 .",
    "the link of a  vertex in a  cubical complex is always a  simplicial complex .",
    "the one we have here has @xmath344 vertices , @xmath345 edges , and @xmath322 triangles .",
    "a  presentation of this simplicial complex is given on figure  [ fig : link ] , from which it is clear that this link is homeomorphic to @xmath346 .",
    "this shows that @xmath342 fails to be a  manifold at these points .",
    "let us now generalize our description of @xmath342 to the general case .",
    "in particular , we shall see that for @xmath347 the vertices in the cubical structure on @xmath310 are singularities , and if they are removed , we are left with an  @xmath326-dimensional manifold .",
    "we start with by viewing the @xmath1-torus @xmath348 in the standard way as the quotient space of @xmath349 divided by the group action of @xmath350 , given by @xmath351 since @xmath352 , as described above , we have @xmath353 , where @xmath354 is a group defined by @xmath355\\rangle,\\ ] ] with the action of @xmath356 on @xmath349 given by @xmath357    it follows from the presentation   that the group @xmath354 is the semidirect product @xmath358 , with the group homomorphism @xmath359 given by @xmath360 , where @xmath356 is the nontrivial element of @xmath3 and @xmath361 is arbitrary . in particular , the elements of @xmath354 can be uniquely presented either as @xmath362 or as @xmath363 , for @xmath364 .",
    "the action of the element @xmath363 is fixed - point - free , whereas the action of the element @xmath365 has a  unique fixed point , whose coordinates are @xmath366 .",
    "we see that the action of @xmath354 on @xmath367 is free , and that accordingly @xmath368 is an  @xmath1-dimensional manifold . for the points in @xmath369",
    "we see that the stabilizers are of cardinality @xmath302 , and that given such a  point @xmath223 , the action of its stabilizer on an  @xmath326-dimensional sphere centered at @xmath223 is the standard antipodal action , hence the quotient of this sphere by that action is the projective space @xmath370 .    we conclude that @xmath371 can be obtained from an @xmath1-dimensional manifold , whose boundary consists of @xmath372 @xmath326-dimensional projective space @xmath370 , by attaching @xmath372 cones - one at each boundary projective space .",
    "we would like to present the space @xmath310 yet in another way , the one which will also introduce the terminology for dealing with the case of higher genus .",
    "the following concept is an important construction in combinatorial algebraic topology , see ( * ? ? ?",
    "* chapter 15 ) for relevant background .",
    "[ hocolimdf ] the * homotopy colimit * , denoted @xmath373 , of a  diagram @xmath374 of topological spaces over a  triangulated space @xmath375 , is the quotient space @xmath376 where the disjoint union is taken over all simplices in @xmath375 .",
    "the equivalence relation @xmath377 is generated by : for @xmath378 , @xmath379 , let @xmath380 be the inclusion map , then          for @xmath391 , the space @xmath392 can be considered as a  homotopy colimit of a  diagram @xmath374 over an interval @xmath53 $ ] , where the latter is viewed as a  triangulated space with two vertices and one edge .",
    "namely , set @xmath393 , @xmath394 , and let both diagram maps @xmath395 and @xmath396 be the quotient maps @xmath397 .",
    "see figure  [ fig : hc1 ] .",
    "we see that the base projection map @xmath398 $ ] is induced by the projection of the first coordinate of @xmath399 to the real axis : @xmath400 by definition , this homotopy colimit is homeomorphic to the space obtained by taking the cylinder with the base @xmath348 and then quotioning both ends using the map  @xmath401 .",
    "the reader is welcome to compare this to the definition of whitehead group , see  @xcite .",
    "[ [ the - homology - groups - of - x_n - with - coefficients - in - mathbb - z_2 ] ] the homology groups of @xmath310 with coefficients in @xmath3 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~      it follows from the presentation of @xmath392 as a  homotopy colimit that it can be seen as a  union of two disjoint copies of a  mapping cylinder of the map @xmath401 , glued together along the topmost copies of  @xmath348 .",
    "let us slightly modify this picture .",
    "let @xmath402 $ ] be the base projection map corresponding to this diagram .",
    "we set @xmath403 and @xmath404)$ ] , where @xmath160 is a small positive number , say @xmath405 .",
    "then we have @xmath406 .",
    "since @xmath407 , and the subspaces @xmath408 , @xmath409 , and @xmath410 are open in @xmath392 , we can use the mayer - vietoris sequence to compute the homology groups of @xmath392 : @xmath411    clearly , both @xmath408 and @xmath409 are homotopy equivalent to @xmath412 , whereas @xmath410 is homotopy equivalent to @xmath348 .",
    "the inclusion maps @xmath413 , and @xmath414 induce the same maps on the homology as the quotient map @xmath397 .",
    "it follows that the mayer - vietoris sequence   translates to the  long exact sequence @xmath415 this long exact sequence splits into short exact sequences as follows from the next proposition",
    ".      * proof .",
    "* we know that @xmath418 .",
    "choose a  subset @xmath111 of @xmath101 $ ] , such that @xmath419 .",
    "let @xmath420 to be the sum of all @xmath324-cells , indexed by @xmath1-tuples @xmath421 , such that @xmath422 for all @xmath423 .",
    "there are @xmath424 cells like that , and their sum is a  cycle .",
    "if we let @xmath111 run over all cardinality @xmath324 subsets of @xmath101 $ ] , we shall obtain precisely the representatives of @xmath425 generators of the group @xmath426 .",
    "all the cycles @xmath420 are @xmath3-invariant , with all the @xmath324-cells in each sum coming in @xmath3-invariant pairs . in every pair",
    ", both cells are mapped to the same cell in @xmath412 , hence their contributions under the map @xmath427 cancel out each other , when we work with @xmath3-coefficients .",
    "it follows that @xmath428 already on the level of chains .",
    "since @xmath429 s generate @xmath426 , we conclude that @xmath427 is a  @xmath4-map on the homology groups .",
    "certainly , if @xmath427 is a  @xmath4-map , then so is the map @xmath430 in the long exact sequence  .",
    "hence , the latter splits into the short ones of the type @xmath431 since we are working over field coefficients we conclude that we have an isomorphism @xmath432 for all @xmath433 and @xmath391 .",
    "accordingly , we get @xmath434 using that formula we arrive at the following statement .          for the integer",
    "coefficients the situation is somewhat more complicated , as the map @xmath427 is not necessarilly a  @xmath4-map anymore .",
    "based on the examples for the small values of @xmath1 and the general intuition for what this map is , we make the following conjecture .",
    "* acknowledgments . *",
    "the author would like to thank bernd sturmfels for introducing him into the world of tropical geometry and grisha mikhalkin for explaining the importance of the tropical moduli spaces .",
    "he would also like to thank alek vainshtein and alex suciu for discussions of torus quotients , as well as eva - maria feichtner for debating various formal approaches to the topology of the space of metric graphs .",
    "finally , the author expresses his gratitude to the mathematical institute at oberwolfach for the hospitality during the time a  part of this research was done .",
    "j.  richter - gebert , b.  sturmfels , t.  theobald , _ first steps in tropical geometry _ , idempotent mathematics and mathematical physics , contemp .",
    "* 377 * , amer .",
    "soc . , providence , ri , 2005 , 289317 ."
  ],
  "abstract_text": [
    "<S> in this paper we study topology of moduli spaces of tropical curves of genus  @xmath0 with @xmath1 marked points . </S>",
    "<S> we view the moduli spaces as being imbedded in a  larger space , which we call the _ moduli space of metric graphs with @xmath1 marked points . </S>",
    "<S> _ we describe the shrinking bridges strong deformation retraction , which leads to a  substantial simplification of all these moduli spaces .    in the rest of the paper , </S>",
    "<S> that reduction is used to analyze the case of genus  @xmath2 . </S>",
    "<S> the corresponding moduli space is presented as a  quotient space of a  torus with respect to the conjugation @xmath3-action ; and furthermore , as a  homotopy colimit over a  simple diagram . </S>",
    "<S> the latter allows us to compute all betti numbers of that moduli space with coefficients in  @xmath3 . </S>"
  ]
}