{
  "article_text": [
    "the high mass end of the stellar initial mass function ( imf ) underpins much of extragalactic astrophysics .",
    "stars more massive than a few solar masses are largely responsible for most chemical enrichment , dominate the spectral energy distribution blueward of @xmath4 1@xmath7 m for all star - forming galaxies , and are presumed to dominate stellar feedback processes on galactic scales .",
    "consequently , the exact numbers and mass distributions of high mass stars are central to the interpretation of integrated light from distant galaxies , chemical evolution models , the frequency of core - collapse supernovae , the evolution of star formation rates over cosmic time , and the efficiency of star formation on galactic scales ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "further , the form of the imf and its potential sensitivity to local environment carries significant implications for how stars form from dense molecular cores and how the individual stars affect the properties of stellar clusters ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "the imf can be sensibly parameterized in a number of ways ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , in particular as a set of power - laws .",
    "following @xcite , we adopt the following parameterization of the imf :    @xmath8    where @xmath9 are chosen to ensure continuity , @xmath10 is normalized such that    @xmath11    and @xmath12 is slope of each power - law component within specified mass interval such that    @xmath13    [ eq : kroupa ]    with @xmath14 being the maximal mass of a star that could have been formed .",
    "the value of @xmath14 can either be set by the maximal mass at which the stellar lifetime exceeds the ( finite ) age of the cluster , or by the star- or cluster- formation process itself ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "? * ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) . the high mass portion of the imf ( i.e. , @xmath15 ) sets essentially all observables ( e.g. , luminosity , color , chemical enrichment , etc . ) in extragalactic contexts , making analysis of a single power - law a reasonable approximation in most environments outside the galaxy .",
    "we will therefore used shorthand notation @xmath16 throughout this paper .    despite its widespread importance ,",
    "the imf for stars above @xmath4 1 m@xmath1  remains insufficiently constrained by observations .",
    "as shown in figure [ fig : bastian_fig2 ] and listed in table [ tab1 ] , measurements of the imf slope from studies of resolved star clusters exhibit a scatter of @xmath4 0.5 dex .",
    "additionally , various compilation ` @xmath2-plots ' from the literature derive mean imf slopes with variations of @xmath4 0.4 dex between different compilations ( e.g. , * ? ? ?",
    "? * ; * ? ? ?",
    "taken at face value , the observed scatter in individual imf measurements and variations in the average values of different compilations introduce significant systematics into interpreting the higher redshift universe ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , and further inhibit differentiation among star formation models that result in a universal imf ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ) and those that are sensitive to environmental conditions ( e.g. , * ? ? ?",
    "* ) , each of which present a drastically different view of how galaxies evolve ( e.g. , * ? ?",
    "* ; * ? ? ?",
    "however , at present , it remains unclear whether the precision and accuracy of imf slope measurements should be taken at face value , which either implies a formal rejection of a universal high mass imf slope or whether it should be interpreted as a reflection of stochasticity in the measurements .",
    "currently , the majority of high mass imf studies directly count stars or measure luminosity functions in single or small sets of clusters , with each employing different observational and imf recovery techniques .",
    "many studies selectively address critical issues including corrections for binary stars , spatially dependent observational completeness , and uncertainties in individual stellar masses .",
    "consequently , whether the broad range of measurements in figure [ fig : bastian_fig2 ] are due to intrinsic physical effects or are the result of systematics remains an open and important question ( see discussions in @xcite ) .    in practice",
    ", we can only measure the present day mass function ( mf ) of evolved clusters , in which the observable stellar masses are limited at the high mass end by the turnoff mass corresponding to the age of the cluster , although the object of ultimate importance is the entire imf . for a simple stellar population ,",
    "i.e. , a star cluster , the measured mf slope is identical to the imf slope ( e.g. , * ? ? ?",
    "* ) modulo certain dynamical ( e.g. , mass segregation ) and observational ( e.g. , completeness ) effects .",
    "consequently , our understanding of the imf critically depends on our ability to accurately and precisely constrain the mf .    systematically counting the relative numbers of individual stars ( with @xmath17 1 m@xmath1 ) in a large collection of young clusters",
    "has long been advocated as the optimal approach to constraining the high mass mf ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) . as improved datasets of resolved stars have emerged ( e.g. , * ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , it is crucial that the analysis tools for constraining the high mass mf are in place to fully exploit the information content of the data and to properly account for all known uncertainties .",
    "broadly speaking , the practical procedure of obtaining a mf constraint for a resolved young cluster consists of three steps . first , one obtains individual mass estimates for the stars , either based on photometry in conjunction with isochrones , or from spectroscopy .",
    "second , one determines the completeness of the sample for which mass estimates were obtained .",
    "finally , one fits a mf model ( e.g. , equation [ eq : imf ] ) to the data to obtain confidence limits on the slope parameter , @xmath2 . in its usual implementation",
    ", this approach uses @xmath18 minimization of a power - law model fit to a binned or cumulative representation of the mass function , @xmath19 .",
    "the fit is taken over the masses determined to be sufficiently complete and the error bars on each mass bin reflect poisson statistics of the number of stars in the bin .    however , there are severe limitations in this traditional approach",
    ". correlations between the number of stars per bin and the adopted bin size can introduce significant biases into the resulting mf slope and associated uncertainties ( e.g. , * ? ? ? * ; * ? ? ?",
    "further , such an approach does not provide an objective framework for folding in observational effects such as completeness and mass uncertainties , which are critical to accurate mf constraints .",
    "more robust approaches such as monte - carlo simulations , color - magnitude diagram fitting , non - parametric kernel estimators , and maximum likelihood techniques ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) alleviate some of these issues .",
    "however , their reliability has not been shown in large , diverse sets of clusters , the interpretation of the error bars is often ambiguous , and there remain statistical short - comings in even the most advanced conventional approaches ( e.g. , noise amplification in maximum likelihood estimations ; * ? ? ?",
    "in short , traditional approaches to mf reconstruction are inadequate for a systematic investigation of the high mass stellar imf .    the main goal of this paper is to lay out a forward modeling technique that remedies at least some of the shortcomings of the traditional approach .",
    "it should result in constraints on the high mass mf that come close to exploiting the full information content of the data and that explicitly account for known observational uncertainties .",
    "in particular , by laying out a forward modeling formalism , we aim to overcome the following limitations of many previous analyses by : ( 1 ) accounting for the mass estimate errors of individual stars that may arise from the conversion of observed fluxes into stellar masses ; ( 2 ) avoiding binning the measurement in mass , as the most massive bins are unavoidably sparsely populated ; ( 3 ) dealing explicitly with completeness functions that may not be a simple step function of stellar mass , and instead be either gradual or varying as a function of position ; ( 4 ) implementing a rigorous way to derive the joint posterior distribution function of the mf parameters ( e.g. , @xmath2 and @xmath14 ) in light of evidence for the data and its uncertainties and possibly other prior information .    in this paper , we present the probabilistic framework for inferring the parameters of the high mass mf of a young stellar cluster .",
    "we carefully walk though the necessary mathematics and interlace illustrative examples using simulated clusters . for clarity in the derivations and examples ,",
    "we have made several simplifying assumptions .",
    "in particular , dynamical effects such as mass segregation , ejection , and relaxation are not included in the present paper , although their role in interpreting the observed mf as the imf is indisputably important .",
    "the methodology presented in this paper is motivated in part by the panchromatic hubble andromeda treasury program ( phat ; * ? ? ?",
    "this hubble space telescope multi - cycle treasury program is mapping @xmath4 1/4 of m31 s star forming disk , providing near - uv through near - ir imaging of @xmath4 10@xmath20 resolved stars .",
    "based on analysis of the year 1 data , we anticipate the survey will resolve @xmath0 1000 young clusters ( i.e. , ages @xmath21 100 myr ; or a main sequence upper mass limit of @xmath0 5 m@xmath1 ; * ? ? ?",
    "* ) with sensitivity down to stars with m @xmath4 1 - 3 m@xmath1 , which will enable a large scale study of the high mass stellar mf .",
    "although the terminology ` high mass ' is often reserved for stars with @xmath22 @xmath0 10 - 15 m@xmath1 , common imf parameterizations ( cf .",
    "equation [ eq : kroupa ] ) suggest that all stars above @xmath4 1 m@xmath1  are drawn from the same underlying imf , indicating that conventionally defined intermediate and massive stars can be used to learn about their common imf . throughout the paper ,",
    "we use these numbers as guides for our simulations , but emphasize that the methodology developed in this paper can readily be generalized to measure the mf of any resolved cluster and for any parameterized mf model .",
    "the remainder of this paper is organized as follows . in  [ sec : probimf ] , we lay out the general probabilistic framework for inferring the mf of a young stellar cluster .",
    "we then apply this technique to highly idealized mock data ( e.g. , no mass uncertainties , perfectly known completeness ) and present illustrative results in  [ sec : idealdata ] . in  [ perfectdata ] and  [ sec : complit ] , we derive the theoretical lower limits for recovered mf slope precision and compare the results to select literature studies .",
    "we then consider the more complex case of masses with finite mass uncertainties in  [ sec : massunc ] , and explore the case where the stellar mass distributions are log - normal functions in  [ sec : loggaussmass ] .",
    "we then consider the case of linear completeness functions in  [ sec : completeness ] .",
    "finally , we discuss several caveats to the mf models adopted in this paper ( e.g. , the influence of cluster dynamics , non - coeval populations , unresolved binaries ) in  [ sec : caveats ] .",
    "we begin by illustrating the scope of the problem at hand . consider the imf of a hypothetical cluster as shown in figure [ fig : kroupa ] .",
    "we presume that the high mass imf regime of this cluster consists of some number of stars , whose mass distribution follows a power - law with a slope of @xmath2 , and whose masses are bounded by @xmath23 and @xmath14 , which is the mass of the most massive star that could have formed in the cluster , and may not be the same for different clusters .",
    "this ` zero - age ' state of the cluster is the desired dataset to make direct inferences about its stellar imf .",
    "however , there are several considerations that only allow us to observe the present day mf of this cluster .",
    "first , due to stellar evolution , the most massive star(s ) have likely disappeared , and only stars with masses up to @xmath24 can be observed at the present day .",
    "second , observational completeness ( due to stellar crowding , for example ) only permits observations of stars more massive than some lower mass limit , @xmath25 .",
    "third , the translation of observed flux into stellar mass provides only an estimate of a star s true mass .",
    "that is , the ` observed ' mass of a star could be an over- or underestimate of a star s true mass .",
    "further , the observed mass of a star is bounded by @xmath25 and @xmath26 , the maximum mass allowed by stellar evolution models , which may or may not reflect the upper stellar mass limit in nature . each of these effects must be carefully considered in order to make an accurate measurement of the present day mf of a cluster , a necessary step to make any meaningful statements about a cluster s stellar imf .    for clarity in exposition",
    ", we will begin with the simplest case where the data , @xmath27 , consists of a set of @xmath28 stars with perfectly known stellar masses , @xmath29 , and the completeness function is also perfectly known .",
    "given the data , @xmath27 , we aim to place constraints on the slope of the mf , @xmath2 , the maximum mass of a star that could have formed , @xmath14 , and the expected number of observed stars , @xmath30 , which normalizes the amplitude of the mf for this cluster ( see figure [ fig : kroupa ] ) . throughout this paper",
    ", we assume that we have the observed completeness function ( either as a function of mass or luminosity ) in hand . in practice ,",
    "the completeness is a function of both the stellar fluxes ( i.e. , through the flux limit of the observations ) and the local image crowding , and is determined through extensive artificial star tests .",
    "given that most cluster observations , certainly those beyond the milky way , are crowding limited , it will always be more challenging to detect and accurately catalog a particular star if it is located near the center of a cluster rather than in the outskirts . for the purposes of this paper , we make the simplifying assumption that the completeness function is independent of position .",
    "we now lay out the general probabilistic framework for constraining the mf of a young cluster .",
    "we start by describing the mf of the cluster ( cf .",
    "equation [ eq : imf ] ) as : @xmath31    where @xmath32 is the total number of stars in the cluster , @xmath33 is the probability distribution function ( pdf ) for the mass of any star in the cluster , and @xmath22 is the true mass of the star ; the mf is described by the parameters @xmath34 , where @xmath2 and @xmath14 refer to the high mass portion of the mf , i.e. , a single sloped power law such as described by @xmath15 in equation [ eq : imf ] .",
    "the pdf for the mass of an observed star , i.e. , those that are massive ( luminous ) enough to end up in our dataset , is given by @xmath35    where @xmath36 is the probability of observing a star given its true mass @xmath22 , i.e. , the completeness function , and @xmath37 , the normalization necessary to make @xmath38 a pdf .",
    "this normalization can be written as    @xmath39    in this model , the expected number of stars in the data list , @xmath30 , sets the amplitude normalization of the mf , and can be expressed as    @xmath40    however , given that we do not know @xmath32 _ a priori _ and that much of the mf is , as in many practical applications , well below our detection limit , we can not explicitly solve for @xmath30 , and therefore we will treat @xmath30 as a model parameter that is independent of @xmath41 .",
    "so far , this model makes predictions for the probability distribution for the mass of any one observed star , @xmath38 , for a given set of parameters , @xmath41 , and for the expected number of observed stars , @xmath30 . assuming that each of the @xmath28 observed stars in the cluster is drawn identically and independently from the underlying mass distribution",
    ", we can write the probability of measuring the set of @xmath28 masses , @xmath42 , as :    @xmath43    at the same time , we must also include the probability of actually observing @xmath28 stars in the cluster , as @xmath28 itself is a datum .",
    "this is the poisson probability of observing @xmath28 stars given an expectation of @xmath30 stars and can be written as    @xmath44    we now have the two expressions that give the probability of the data ( @xmath29 , @xmath28 ) given model parameters ( @xmath41 , @xmath30 ) and the fact that data were observed , i.e. , ` obs ' . however , we wish to infer the inverse , namely the values of @xmath41 and @xmath30 given a set of @xmath28 stellar mass measurements . using bayes s theorem , we can then write down the probabilities of the model parameters given the data , i.e. , the posterior pdfs ( ppdfs ) for @xmath41 and @xmath30 as :    @xmath45    and    @xmath46    where @xmath47 and @xmath48 reflect any prior or extraneous information or constraints on @xmath41 and @xmath30 , respectively . in equations",
    "[ eq : posteriortheta ] and [ eq : posteriorn ] we have presumed that the ` evidence ' terms , @xmath49 and @xmath50 , are both constant , and have omitted them . in practice ,",
    "the independence of these two ppdfs allows us to compute them separately , and then simply multiply them together to get the general ppdf for the mf :    @xmath51    the above derivation is limited to a single power - law slope , where the stars are well - above any break or turnover in the mf .",
    "of course , in cases where data on stars well below 1 m@xmath1  are available , the same formalism carries through , just replacing @xmath2 with @xmath52 .",
    "we now show how to explicitly constrain mf parameters given : ( 1 ) the ppdf from equation [ eq : posterior ] ; ( 2 ) evidence for the data ; ( 3 ) and any prior information on @xmath41 and @xmath30 . in practice ,",
    "the most informative prior on @xmath41 frequently comes from @xmath14 , where astrophysical constraints may exist , especially if there is independent information on the age of the population .",
    "other general , although less physically informative , priors are requirements that the number of stars is positive and that @xmath2 does not take on unreasonably extreme values that have been ruled out by previous observations , e.g. , @xmath53 @xmath545 .    for the purposes of this initial idealized exercise , we adopt a simple ` boxcar ' form for the probability of observing a star , given its true mass ( i.e. , the completeness function ) ,    @xmath55    where @xmath26 is the maximum observable mass as set by stellar evolution , @xmath25 is the minimum mass as determined by the observational completeness limit . for simplicity , we will assume that the mf is a single power - law over the interval @xmath56 and that @xmath25 is the same value for all locations in the cluster ; we discuss the case of spatially varying completeness in ",
    "[ sec : caveats ] . in practice , @xmath36 is the completeness function of the data .",
    "so far , we have assumed that the uncertainties on masses are negligible . if follows that a star s observed mass pdf is a delta function , and therefore it is directly interchangeable with a delta function pdf for the true mass of a star .",
    "consequently , we can use @xmath38 as the generative model for the observations such that    @xmath57    where the normalization @xmath58 is given by @xmath59    in this form , the range of the mf model is set by the completeness limit on the low mass end , and the mass of the most massive star to have formed on the upper end .    using the explicit expressions for each term in equation [ eq : posterior ]",
    ", we can now re - write the ppdf for this idealized case as :    @xmath60    in practice we calculate the natural logarithm of the ppdf for computational ease . also , note that in this idealized limit , @xmath61 in the event that @xmath62 or @xmath63 .      to place constraints on the model parameters of interest",
    ", we sample the ppdf using a markov chain monte carlo ( mcmc ) algorithm .",
    "mcmc techniques provide an efficient discrete sampling and clear interpretation of multi - dimensional spaces , such that the density of samples is highest around the most probable parameters and lower in regions of less probable values ( e.g. , * ? ? ?",
    "as a result , mcmc techniques are able to produce well - defined uncertainties for both the one dimensional ( marginalized ) distributions ( e.g. , @xmath64 , @xmath65 ) and reveal degeneracies between two dimensional ( joint ) distributions ( e.g. , @xmath66 ) .",
    "an mcmc approach also permits efficient sampling in cases where more parameters are needed to adequately model the mf , e.g. , such as when using a multi - component power - law to characterize data containing lower mass stars .    in this analysis",
    ", we use the mcmc sampler ` emcee ` as described in @xcite .",
    "@xmath67 is a pure - python implementation of the affine invariant mcmc ensemble sampler developed by @xcite .",
    "this sampler explores parameter space through a set of ` walkers ' .",
    "for each mcmc increment , each walker takes a step in parameter space by choosing another walker and moving along a line in parameter space that connects itself to the other walker .",
    "the size of the step is chosen stochastically , allowing for both interpolation and extrapolation , and the choice in step for each walker is based on the co - variance of the set of walkers . after each step , the ppdf is evaluated for the new set of parameters .",
    "steps that increase the probability are always accepted , whereas steps that result in a lower probability are _ sometimes _ accepted . for a sufficiently large number of steps , the ensemble of walkers samples parameter space with a frequency proportional to the ppdf . in a rough sense , this approach is akin to having a set of parallel metropolis - hastings mcmc chains @xcite , but is much more efficient than metropolis - hastings sampling , as measured by the autocorrelation time ( i.e. , the time spent per function call ; see discussions in @xcite , @xcite , and the appendix of this paper ) .",
    "@xmath67 requires minimal initial input from the user .",
    "one must select a number of walkers and their initial conditions , and designate the number of burn - in steps and length of each chain . following the recommendations in @xcite and experimentation with the simulated datasets",
    ", we chose 16 walkers and selected random ( valid ) values for each walker s starting point .",
    "after testing several combinations , we found that generally 300 burn - in steps and 100 chain steps per walker resulted in stable solutions .",
    "to aide in computational efficiency , we placed sensible restrictions on the allowed ranges for each of the three parameters ( i.e. , @xmath47 and @xmath68 : @xmath546 @xmath69 @xmath2 @xmath69 6 , @xmath70 m@xmath1 , and 0 @xmath71 . in the case of finite mass uncertainties , we revised the restriction on @xmath14 for reasons discussed in ",
    "[ sec : loggaussmass ] .",
    "we refer the reader to the appendix for a more in depth explanation of mcmc sampling theory .",
    "we now illustrate this approach by applying it to idealized mock data ( i.e. , no mass uncertainties and a perfectly known boxcar completeness function ) . a simple way to create the simulated data for a power - law mf , assuming negligible mass uncertainties , is to define a variable @xmath72 via @xmath73/(1-\\alpha)\\bigr ) } $ ] and then draw a uniform random variate in @xmath72 between @xmath74 . for all illustrative examples in this paper",
    "we have adopted @xmath75 2.35 ( i.e. , * ? ? ?",
    "we discuss the results of simulations run with other values of @xmath2 at the end of this section .",
    "each dataset consists of @xmath28 masses that have been discretely sampled over the interval [ @xmath76 , @xmath77 .",
    "the value of @xmath76 is equivalent to the lower mass limit , @xmath25 , as specified by the completeness function .",
    "for these exercises , we have fixed @xmath78 3 m@xmath1 , a conservative value for resolved clusters in m31 ( e.g. , * ? ? ? * ) .",
    "the mass of the most massive star that could have formed in a cluster is of great interest astrophysically .",
    "essentially it provides a clue to the fundamental nature of how stars form , e.g. , is there a universal value for the most massive that can form or does it depend on local environmental conditions ?",
    "there are several studies in the literature that attempt to quantity the relationship between environment and the mass of the most massive star ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) .    in our simulations ,",
    "the value of the most massive star that could have formed in a cluster is @xmath79 .",
    "the mass of the most massive star `` observed '' , i.e. , on the mass list , is @xmath24 , which is less than @xmath79 due to the effects of stellar evolution or dynamical ejection . under the assumption that the mass of each star is independently drawn from the imf ,",
    "it is fairly intuitive that @xmath24 can not inform us about @xmath79 beyond providing us a simple lower limit on @xmath79 , i.e. , the most massive observed stars does not contain information about more massive stars that are no longer in the cluster .",
    "for a given dataset , we aim to recover the input mf slope , @xmath80 , the maximal mass of a star that could have formed @xmath79 , and require that our model produce a normalization that is consistent , i.e. , within poisson uncertainty , with the number of stars observed , @xmath28 . we denote the corresponding model parameters as @xmath2 , @xmath14 , and @xmath30 .",
    "we applied this technique to mock data for different permutations of @xmath80 , @xmath79 , and @xmath28 .",
    "results from the first example are shown in figure [ fig : nstar1000 ] . here",
    "we show the recovered joint and marginalized distributions for a mock cluster which was generated assuming @xmath81 1000 stars and @xmath82 60 m@xmath1 .",
    "we recover @xmath83 2.35@xmath84 , @xmath85 54.0@xmath86 , and @xmath87 995@xmath88 , where the indicated values represent the median and 0.5@xmath89(84th - 16th percentile ) of the corresponding marginalized distribution , i.e. , 1-@xmath6 for a gaussian distribution .",
    "in general , the recovered values reflect the input values with excellent accuracy and precision",
    ". however , as expected , the recovered value of @xmath14 is consistent with the mass of most massive observed star , @xmath24 , and not that of the most massive star that could have formed @xmath79 .",
    "thus , this constraint provides a lower bound on the upper mass limit of the imf .",
    "the joint distributions in figure [ fig : nstar1000 ] show little co - variance between parameters , which indicates that there is little degeneracy in this problem , i.e. , the estimation of one parameter will not affect the accuracy and precision to which another parameter can be constrained . consequently , and for clarity",
    ", we will focus on the marginalized distributions for the next set of examples .    in figures [ fig : nstar500]-[fig : nstar25 ] , we show select examples for tests of cluster mf recovery in the cases where @xmath81 500 , 100 , and 25 stars and @xmath82 60 , 30 , and 15 m@xmath1 .",
    "the first three panels in each figure show the marginalized distributions for @xmath2 , @xmath14 , and @xmath30 . for the case of 500 observed stars and @xmath90 59.9 m@xmath1  ( figure [ fig : nstar500 ] )",
    ", we recover @xmath83 2.35@xmath91 , @xmath85 63.3@xmath92 , and @xmath87 500@xmath93 , which are all consistent with their input or observed ( in the case of @xmath14 ) values .",
    "figures [ fig : nstar100 ] and [ fig : nstar25 ] are examples of the same tests applied to populations with fewer stars and smaller dynamic ranges in mass . in both examples ,",
    "the recovered parameters are consistent with the input values .",
    "as expected , as the amount of observational information decreases , the constraints become increasingly broad . however , even in the limit of 25 observed stars and @xmath82 15 m@xmath1  ( figure [ fig : nstar25 ] ) , we find @xmath83 2.50@xmath94 and @xmath87 26@xmath95 .",
    "thus , these ranges contain the input / observed values for each parameter .    in general , these exercises demonstrate probabilistic approach in  [ sec : probimf ] can recover mf parameters , even with limited information .",
    "in other words , useful constraints can be derived even for clusters that fail to reach a ` gold - standard ' level .",
    "importantly , we verify that the recovered mf slope is equivalent to the input imf slope , as is expected in the case of a single age cluster ( e.g. , * ? ? ? * ) .",
    "this finding affirms that this probabilistic technique provides the means to directly infer the slope of the high mass imf of a given cluster with full and accurate accounting of the associated uncertainties , in the absence of dynamical effects , unresolved binaries , etc .",
    ", as discussed in ",
    "[ sec : caveats ] .",
    "on the other hand , the recovered constraints on @xmath14 are less informative about the most massive star that could have formed , i.e. , the upper mass limit of the imf .",
    "we find that the recovered values of @xmath14 only constrain @xmath24 , which is only a lower limit on @xmath79 , the imf maximum mass limit for a given cluster .",
    "we therefore suggest that dedicated searches for the most massive star ( e.g. , spectroscopic surveys ) are more suited to constraining the upper stellar mass limit of the imf than application of this technique ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) . consequently , for the remainder of the paper",
    ", we will primarily focus on the recovery of @xmath2 , and only discuss constraints on @xmath14 in cases of particular interest .",
    "extending the above exercises to larger ranges of @xmath28 and @xmath96 allows us to illustrate the precision and accuracy to which @xmath2 can be recovered for a diverse set of clusters .",
    "we first check the accuracy of the method to verify that there are no systematic biases in the recovered mf slope . to do this , we simulated 100 different clusters each with 10@xmath97 stars , to minimize stochastic effects , and @xmath82 60 m@xmath1 , for the same underlying mf .",
    "we recovered the mf for each of the 100 clusters and plot the distribution of the difference between @xmath80 and the median value of @xmath98 in the left panel of figure [ fig : alphaprecision ] .",
    "the mean of the distribution is 0.006 and 0.5 @xmath89 84th - 16th percentiles , i.e. , a gaussian 1-@xmath6 , is @xmath990.07 .",
    "based on this set of tests , we see no evidence for systematic biases in the recovery of @xmath2 in any of the parameter space considered .",
    "next , we explore the theoretical precision to which @xmath2 is recovered as a function of @xmath28 and the dynamic range of the observed masses , as proxied by @xmath100 .",
    "we constructed a grid of model clusters spanning a range in @xmath28 and @xmath100 as follows .",
    "we fixed @xmath101 3 m@xmath1  and created 7000 simulated clusters by drawing random values @xmath28 and @xmath79 such that 0.8 @xmath69 @xmath102 @xmath69 3.5 and 0.2 @xmath69 @xmath103 @xmath69 1.3 , and discretely sampled the imfs following the procedure outlined at the beginning of this section .",
    "we recovered the mf slope for each realization and computed @xmath104 0.5 @xmath89 ( 84th - 16th percentile ) , i.e. , a percentile based 1-@xmath6 equivalent . to account for fluctuations due to the discrete nature of the sampling",
    ", we applied a gaussian smoothing kernel to the resulting grid with a 1-@xmath6 width of @xmath4 5% of the dynamic range in each variable .",
    "we computed the smoothed and un - smoothed values and found they differ by no more than @xmath4 7% at any point .",
    "we have plotted the results of this exercise in the right panel of figure [ fig : alphaprecision ] . in the limit of high observational information ,",
    "e.g. , @xmath105 10@xmath106 stars and @xmath100 @xmath4 1.1 , we see that @xmath2 is recovered with a precision of @xmath4 @xmath990.1 . at the other extreme ( @xmath105 10 stars and @xmath100 @xmath4 0.3 )",
    ", the precision in @xmath98 decreases significantly to @xmath0 @xmath99 0.7 .",
    "because the mock data used for these tests are highly idealized , i.e. , perfectly known individual stellar masses and completeness , these values reflect the highest theoretical precision with which @xmath2 can be inferred from a given number of stars and a measured dynamic mass range .",
    "as we discuss in the next sections , other considerations such as finite mass uncertainties and completeness will degrade these levels of precision , lessening the achievable constraints .    additionally , using a least squares fitting routine",
    ", we find that @xmath3 can be reasonably approximated as a function of @xmath102 and @xmath100 by a 3rd order polynomial    @xmath107    where the coefficients @xmath108 are listed in table [ tab2 ] . within the range of @xmath109 1.5 to 3.0 and @xmath110 0.4 to 1.2",
    ", this approximation is generally good to within @xmath4 20% . outside this range , this analytic expression is noticeably steeper , meaning the extrapolations into regimes of lower and higher information content lead to over- and underestimates of the true precision . nevertheless ,",
    "when used with a reasonable level of caution , this analytic expression provides a good rule of thumb for the best attainable precision on the mf slope .    finally , we tested the accuracy and precision to which other @xmath2 values can be recovered .",
    "differing values of @xmath2 dictate the relative distribution of stellar masses , and a significantly steeper mf slope would produce fewer massive stars , potentially resulting in less accurate and/or precise constraints on the mf slope . to test this potential dependence on @xmath2 , we selected two different , but plausible values of @xmath2 = 1.8 and 2.8 , and repeated all the simulations presented in figure [ fig : alphaprecision ] .",
    "we found that both the accuracy and precision to which @xmath2 can be recovered is statistically consistent in all cases . there were random variations at the few percent level ; however , such small differences are easily accounted for by the discrete nature of the sampling and the finite number of realizations .      as an informative exercise , in the left panel of figure [ fig : litcompabs ]",
    "we have over - plotted the error bars of the literature mf values from figure [ fig : bastian_fig2 ] on top of our derived theoretically attainable values .",
    "the contrast in colors between the points and shaded contours indicates the level of agreement between the two ; points that are lighter than the surrounding region are below the theoretically attainable precision , while darker points are larger than this lower limit .",
    "a cursory inspection of this figure indicates a full range of differences between the two datasets , i.e. , there are a number of points with extreme light and dark color contrast .",
    "we have tabulated the literature data used to construct this plot in table [ tab1 ] .    to better quantify differences in the two datasets , in the right panel of figure [ fig : litcompabs ]",
    "we have plotted a histogram of the ratios between the theoretical and literature mf precision values .",
    "the histogram shows that the ratios vary over an order of magnitude around unity , with @xmath4 3/4 of the error bars quoted in the selected literature studies being smaller than the theoretically attainable limit ( red - shaded region ) .",
    "the underestimated error bars are typically lower than the theoretical expectations by a factor of @xmath4 2 or more .",
    "overly small error estimates can give the false impression of a good constraint , which could lead to claims of a significantly unusual mf measurement .",
    "conversely , large overestimates of the errors on a mf slope indicate that maximal information may not being extracted from the data .",
    "both cases reinforce the importance of developing a well - defined methodology for correctly characterizing the mf slope of a young cluster .    using the literature measurements of @xmath2 in tandem with the theoretical lower limit errors , we compute a mean @xmath2 for the literature values considered . in figure",
    "[ fig : bastian_mod ] , we have re - created figure [ fig : bastian_fig2 ] , but have plotted the theoretical lower limits errors for those studies which have underestimated the uncertainties .",
    "these are indicated as magenta points .",
    "studies whose error bars are larger than the theoretical limit have been left as is , and are plotted as blue points . from the figure [ fig : bastian_mod ] and table [ tab1 ] , we see there is no discernible trend for which studies , values of @xmath2 , or mass ranges have underestimated error bars . using all",
    "reported @xmath2 values , along with the new set of uncertainties , we computed a weighted mean and weighted 1-@xmath6 uncertainty for this selection of imf studies and find @xmath5 2.46 with a 1-@xmath6 dispersion of 0.35 dex .",
    "this value is consistent with the slope of a salpeter and kroupa imfs , @xmath2 = 2.35 and 2.3 , respectively .",
    "however , the scatter is large ensuring the mean value is also consistent with the kennicutt imf @xcite , @xmath83 2.5 , and the scalo imf @xcite , @xmath111 2.6 .",
    "although our computed mean value of @xmath2 depends on our selection of literature studies and the accuracy of each study , the broad scatter reinforces the notion that our knowledge of the high mass imf slope is far from secure .",
    "up to this point , we have explored placing constraints on mf parameters presuming data with negligible individual mass uncertainties . however , in practice , the mass of a star is not perfectly known .",
    "degeneracies with extinction , metallicity , etc . , along with uncertainties in stellar models all contribute to uncertainties in estimating the mass of a star .",
    "clearly , the uncertainty on the mass of an a star needs to be incorporated into the ppdf for realistic mf determination . to understand the relationship between mf determination and stellar mass uncertainties , it is useful to review how stellar masses are measured .",
    "most individual star masses are inferred from photometric spectral energy distribution ( sed ) fitting , i.e. , by comparing photometric observations of a star , @xmath112 , with predicted fluxes from stellar models .",
    "specifically , one can construct a set of predicted fluxes in the observed bands by for various combinations of log(@xmath113 ) , log(@xmath114 ) , @xmath115 , @xmath116 , @xmath22 , age , etc .",
    ", and then perform a comparison , e.g. , @xmath18-minimization , between the observed and predicted fluxes . from this process one",
    "is left with a multi - dimensional distribution for the probability of the star s parameters given the data , i.e. , @xmath117 log(t@xmath118 ) , log(@xmath114 ) , @xmath115 , @xmath116 , @xmath22 , age ) .",
    "one can then compute the likelihood of the data given a mass , i.e. , @xmath119 , by marginalizing over all other model parameters .",
    "the resulting pdf for a star s mass accounts for correlations and uncertainties in the all other parameters .    while the quantity @xmath119 is often thought to reflect the probability of a star s mass , the desired quantity is in fact , @xmath120 , the probability that a star has a particular mass given the observations . to determine this quantity",
    ", one can apply bayes s theorem , which yields    @xmath121    where @xmath122 reflects any prior knowledge about the probability of individual stellar masses , and @xmath123 is a normalization factor needed to make @xmath120 a true probability .    a temptingly simple assumption for @xmath122 would be that all stellar masses are equally likely , i.e. , @xmath124 constant . in this case ,",
    "@xmath125 and @xmath119 can be treated interchangeably , which is at least implicitly assumed in many published analyses ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) .    however , it is clearly more appropriate to adopt the cluster s mf as a prior on the distribution of individual stellar masses .",
    "as illustrated in figure [ fig : mass_schematic ] , failure to consider the effects of the mf when determining the mass of a star will lead to a biased mass relative to the star s true mass in the presence of significant mass errors .    adopting the mf from equation [ eqnarray : mfobs ] as a prior on stellar mass ,",
    "we can now write down an expression for the probability of the data , @xmath112 , given mf parameter , @xmath41 , as :    @xmath126    and    @xmath127    where @xmath119 is the likelihood of the observed data given a true mass , as determined by photometric sed fitting , and @xmath128 is the normalization factor , which represents the probability of observing the data ( i.e. , fluxes ) given the mf model parameters @xmath41 .    using bayes s theorem , we can write the probability for the parameters , @xmath41 and @xmath30 , given the observed data , @xmath27 as :    @xmath129    which is the ppdf in the case of non - negligible mass uncertainties .",
    "as an example of how to fold in finite mass uncertainties in practice , we consider the case that each star has an observed mass pdf that can be represented by a log - normal function .",
    "the assumption of a log - normal not only provides an analytically tractable solution , which aides in the clarity of this paper , but also log - normal approximations ( i.e. , @xmath130 ) have been used in the literature to summarize the inferred masses of stars ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "consider a set of @xmath28 stars each of which has an associated mass pdf .",
    "we believe that each observed mass pdf is the convolution of a single true mass , @xmath131 , with a log - normal noise model ( due to observational uncertainties , the flux - to - mass conversion process , etc . ) . the inferred mass for each star can then be summarized as having a mean value of @xmath132 and a fractional mass uncertainty , @xmath133 , i.e. , the linear width of the mass pdf scales as @xmath4 @xmath134 . considering only the upper portion of the imf",
    ", the stars we observe can have true masses ranging from @xmath23 to @xmath14 , while the inferred masses will range according to the stellar evolution models and the observed completeness function , and thus have limits of @xmath25 and @xmath26 .",
    "for simplicity , we will adopt a boxcar completeness function written in terms of @xmath135 ,    @xmath136    having defined the relevant variables and the ranges , we can return to the derivation .",
    "the goal of this process is to place constraints on the mf parameters , given the set of log - normal pdfs for the inferred masses , and equation [ eq : witherrors ] provides the framework to complete this task . substituting a log - normal mass model for @xmath137 and making the coordinate transformation @xmath138 , allows us to write :    @xmath139    where the completeness is over the observed masses , @xmath140 , the integration is over the permissible range of true masses , and we have made the simplifying assumption of a constant fractional mass uncertainty for all masses , i.e. , @xmath141 .",
    "this assumption has been made for clarity in this derivation , but in practice , @xmath142 is not likely to be constant .",
    "stars with @xmath22 @xmath0 25 m@xmath1  are less constrained that those of lower mass stars ( e.g. , * ? ? ?",
    "* ) , owing to both uncertainties in massive star evolution models , as well as degeneracies in the optical and near - uv photometric colors of massive stars , which make it difficult to precisely characterize extremely massive stars .",
    "integration of equation [ eq : witherrors2 ] yields a closed form solution :    @xmath143 - \\eta \\left[\\frac{(\\alpha-1)f^2 + \\ln(\\frac{{m_{\\mathrm{min}}}}{\\overline{m}})}{f}\\right ] \\right ) \\ ; , \\label{eq : witherrors4}\\end{aligned}\\ ] ]    where    @xmath144 - \\eta \\left[\\frac{(\\alpha-1)f^2 + \\ln(\\frac{{m_{\\mathrm{min}}}}{\\overline{m}})}{f}\\right ] \\right ) { \\mathrm d}\\overline{m } \\ ; ,   \\label{eq : witherrors3}\\end{aligned}\\ ] ]    and @xmath145 is the normalized cumulative distribution function of a standard gaussian pdf with @xmath146 0 and @xmath147 1 :    @xmath148    in the limit of very accurate mass estimates , i.e. , @xmath149 , the expression for @xmath150 reduces to a scenario where the masses are perfectly known , as in equation [ eq : probimf ] .    having derived an expression for @xmath151 , we can now write the ppdf for the mf parameter as :    @xmath152      in this section , we present several examples of mf recovery in the presence of non - negligible mass uncertainties . however , before delving into specific cases , it is instructive to first examine how log - normal mass pdfs affect the observed mf .      in figure",
    "[ fig : masspdf_schematic ] , we illustrate the changes in the ( continuous ) observed mf for different values of @xmath153 . for reference ,",
    "the solid black line represents a salpeter imf from 3 to 120 m@xmath1 .",
    "the other plotted lines represent mfs generated using equation [ eq : witherrors2 ] for select values of @xmath153 ( 0.1 , 0.5 , 1.0 , 2.0 ) . in each case , @xmath154 40 m@xmath1  and each mf was normalized to have the same number of 3 m@xmath1  stars as a salpeter mf .    for the smallest fractional mass uncertainty , @xmath155 0.1",
    ", we see that the observed mf ( solid blue line ) is identical to salpeter until @xmath4 37 m@xmath1 . at this point",
    "it begins to deviate from the salpeter mf , and predicts the presence of stars above the nominal value of @xmath82 40 m@xmath1 .",
    "taken at face value , this mf appears slightly steeper and it implies a finite probability that @xmath24 is larger than @xmath79 .",
    "the mf for @xmath155 0.5 exhibits the same qualitative behavior , with an even steeper slope and a significantly larger apparent value of @xmath24 .",
    "naive fitting of the observed mf , without taking mass errors into account , would therefore lead to biased measurements of both @xmath2 and @xmath14 .    for the extreme values of @xmath153=1 and 2 , the observed mfs flatten out relative to salpeter , and each predicts a significant population of stars with masses in excess of 100 m@xmath1 .",
    "for such extreme uncertainties , a significant number of stars with true masses below 3 m@xmath1  will have inferred masses above the completeness limit .",
    "this schematic also illustrates the need to alter the prior restrictions placed on @xmath96 . in the case of no mass uncertainties ,",
    "the inferred and true masses are identical , implying that @xmath156 was a reasonable requirement .",
    "however , for finite mass uncertainties , @xmath24 is likely an overestimate of @xmath79 , i.e. , the maximal inferred mass is larger than the maximal true mass , invalidating the previous assumption . for the exercises involving finite mass uncertainties",
    ", we therefore only require that @xmath157 , the larger mass permitted by stellar evolution models .",
    "we now use mock data to explore recovery of the mf in the case that each mass has a log - normal pdf . to generate the simulated data ,",
    "we construct a convolution between the mf a log - normal noise model with @xmath83 2.35 ( equation [ eq : witherrors2 ] ) .",
    "we then draw 10@xmath158 stars from this function , apply the boxcar completeness function from equation [ eq : masscompleteness ] , and randomly subsample the mass list to obtain the desired number of stars .    in figures [ fig : massunc60 ] and [ fig :",
    "massunc20 ] , we show results from the recovery of @xmath2 for select simulated clusters . in each case , the mock data consisted of 10@xmath97 stars ( to minimize random noise effects ) and discrete values of @xmath155 0.1 , 0.5 , and 1.0 . to illustrate the effects of the observed dynamic mass range , we also considered two different values of @xmath79 = 20 m@xmath1  and 60 m@xmath1 . as a baseline for comparison",
    ", we applied two versions of the code to each dataset , one that included modeling of the mass uncertainties ( the ` noisy ' mf model ; equation [ eq : longposteriormass ] ) and the simple model mf ( the ` noiseless ' mf model ; equation [ eq : longposterior ] ) . in each panel ,",
    "the dashed line indicates the input value of @xmath2 while the solid line indicates the median value for each marginalized pdf .    in figure",
    "[ fig : massunc60 ] , we show the recovery of @xmath2 for @xmath82 60 m@xmath1 . in the case of small mass errors ( @xmath153 = 0.1 ) , both the noisy ( red ) and noiseless ( grey ) model mf models provide excellent recovery of @xmath80 .",
    "the small level of offset between the results are consistent with the expected scatter ( @xmath4 @xmath99 0.03 ) in the case of @xmath81 10@xmath97 stars .",
    "the two methods also return the same level of precision on @xmath98 , as indicated by the comparable widths of the two distributions .    for significantly larger mass errors ( @xmath155 0.5 ) , both the noisy ( green ) and noiseless ( grey ) models still provide excellent recovery of @xmath2 .",
    "the distributions again share a comparable width .",
    "although the noiseless pdf appears shifted toward slightly higher values of @xmath2 , the median recovered value is within the expected scatter for a cluster with @xmath81 10@xmath97 stars .    extending this exercise to extremely large mass errors ( @xmath155 1.0 )",
    "reveals significant discrepancies between results from the noisy ( blue ) and noiseless ( grey ) models .",
    "based on the schematic in figure [ fig : masspdf_schematic ] , the observed mf should be flatter than salpeter , which is what is the noiseless model returns , with the median @xmath159 2.20 .",
    "although the distribution is comparable in width to those in the other panels of the plot , it does not overlap the true value of @xmath2 .",
    "in contrast , application of the noisy model recovers @xmath2 to excellent accuracy , although to a lower degree of precision .",
    "to test the sensitivity of mf slope recovery to @xmath14 , we conducted the same exercise , only with @xmath82 20 m@xmath1 .",
    "the recovered distributions for @xmath2 are shown in figure [ fig : massunc20 ] .",
    "for the lower value of @xmath79 , we see more pronounced differences in the results from the noisy and noiseless models . for both @xmath155 0.1 and 0.5 ,",
    "the noiseless model recovers systematically higher values of @xmath2 relative to the input .",
    "while only a modest bias is present in the case of @xmath155 0.1 , the offset is quite substantial when @xmath155 0.5 .",
    "in contrast , the recovered values of @xmath2 from application of the noisy mf model are in excellent agreement with @xmath80 . once again , the widths of the noisy model distributions are slightly broader than the noiseless model results",
    ". however , the slight decrease in precision is a small tradeoff relative to inferring a significantly more accurate mf slope .    in the case of @xmath155 1.0 , application of the noiseless mf model to the data yields an only slightly biased ( @xmath21 0.1 ) median value of @xmath2",
    "this is perhaps somewhat surprising , given the extremely large fractional uncertainties .",
    "however , this small amount of disparity is purely coincidental .",
    "the combination of @xmath153 and @xmath79 conspired to produce an observed mf slope that appears close to the true mf slope .",
    "such a case might lead to the conclusion of a precise constraint on a mf that is statistically different from salpeter , despite the large mass errors ; however , such a conclusion would clearly be false .",
    "in contrast , modeling the mass uncertainties results in an accurate recovery of the true mf , albeit with decreased precision , as previously discussed .",
    "overall , we find that incorporating the effects of mass uncertainties into mf modeling results in an unbiased recovery of the mf .",
    "in contrast , failure to model even moderately large mass uncertainties , e.g. , @xmath160 0.5 , can lead to biases that are difficult to quantify , which can undermine a physically meaningful interpretation of the results .",
    "additionally , neglecting to model mass uncertainties can lead to a severely low estimate of @xmath14 , which is equivalent of underestimating the cluster s age . finally , as previously mentioned , in practice @xmath142 is unlikely to be constant , as the inferred properties of stars with @xmath22 @xmath0 25 m@xmath1  are far more uncertain than lower mass stars ( e.g. , * ? ? ?",
    "including a non - constant value of @xmath153 is straightforward in the presented framework .",
    "we now consider the effects of observational completeness on the inference of mf parameters . for clarity in the mathematics and the examples , we return to the case of perfectly known masses .",
    "in practice , both completeness and mass uncertainties need to be simultaneously modeled , but they typically affect opposite ends of the observed mass spectrum , meaning that they are largely not degenerate in terms of the data they impact .    when deriving the general ppdf for a cluster s mf ( equation [ eq : posterior ] ) , we implicitly included the completeness function in the probability of a star being on our data list , @xmath38 .",
    "however , writing the ppdf to explicitly include the effects of completeness provides a better illustration of the role it plays . using equation [ eqnarray : mfobs ] ,",
    "we can write the ppdf for a general completeness function as :    @xmath161    here we see that the completeness enters into the ppdf as a linear weight on the mf . in the limit that the @xmath162 constant",
    ", it will have no effect on the ppdf as all points are equally weighted . in the next section",
    "we illustrate how a more realistic completeness function affects the recovery of the mf .      in practice ,",
    "a boxcar function is not a realistic representation of observational completeness .",
    "completeness functions in clusters vary widely in form depending largely on the surface brightness of the cluster and the resolution of the observations . in this section , we consider a linear ramp completeness function .",
    "such a linear completeness function is analytically tractable and provides a reasonable first order approximation to more realistic completeness functions presented in the literature ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ) . the linear ramp function , which ranges from 0 to 100% completeness , can be written piecewise as    @xmath163    where @xmath164 and @xmath165 are the upper and lower bounds of the linear portion of the completeness function .",
    "we again turn to mock data with no mass uncertainties to illustrate mf recovery in the case of a linear completeness function . specifically",
    ", we consider the cases of how perfectly known , slightly incorrect , and extremely incorrect knowledge of the completeness function affects mf recovery .    to generate the mock data we followed the general description in  [ perfectdata ] , with a few modifications .",
    "after drawing a list of masses from the power - law mf , we applied the ` true ' completeness function to the mass list .",
    "motivated by data from phat , for this exercise , the true completeness function is always a linear ramp between @xmath166 2 and @xmath167 4 m@xmath1 , with a completeness fraction of 0 for stars with @xmath22 @xmath69 2 m@xmath1  and 1 for @xmath22 @xmath168 4 m@xmath1 . after applying this completeness function to the mass list",
    ", we then rejected stars from the list with a probability equal to their completeness fraction , e.g. , a mass with @xmath162 0.3 has a 30% chance of being observed .",
    "we then perform a uniform draw from the remaining stars to arrive at the desired number of stars .",
    "this set of masses constitutes the true mass list . to examine effects of a non - perfectly known completeness function",
    ", we followed the same procedure as descried above , only the values of @xmath165 and @xmath164 are different when applied to the mock data and when used to model the completeness in the mf recovery .    keeping the same true completeness function",
    ", we then explored mf recovery for various assumed completeness functions . in figure",
    "[ fig : compperfect ] , we considered the case in which the true ( grey ) and assumed ( red ) completeness functions were identical linear ramps between 2 and 4 m@xmath1 .",
    "we simulated 100 datasets each with 10@xmath169 stars and @xmath82 60 m@xmath1 , and measured the median value of @xmath98 , whose distribution is plotted as the red histogram in the right panel . the median of this distribution is represented by the solid red line . for a perfectly known completeness function , we found excellent recovery of the mf slope , as expected .",
    "we next considered the cases where the true and assumed completeness functions were not identical . in the first case ,",
    "the ramp in the assumed completeness function occurred between @xmath166 2 and @xmath167 3 m@xmath1  ( green ) , meaning the data are assumed to be more complete actually are , i.e. , the stars between 2 and 4 m@xmath1  are assigned artificially high weights in equation [ eq : comppdf ] .",
    "as before , we simulated 100 different clusters of 10@xmath169 stars , and examined the distribution of the median recovered values of @xmath2 . as shown in the right - hand panel of figure [ fig : compperfect ] , the recovered values of mf slope are clustered around @xmath83 2.0 , with small scatter .",
    "this test indicates that a moderate overestimation of the true completeness function can induce a significant underestimate of @xmath2 , because stars that are `` missing '' from the lower mass end due to observational completeness are instead interpreted as being underproduced by a flatter mf .",
    "this finding is similar to that in @xcite , who demonstrates that an artificial flattening of the mf due to completeness considerations mimics the behavior of predicted mass segregation effects .",
    "we discuss this point further in  [ sec : caveats ] .",
    "we also considered a case of a modest underestimation of the true completeness function . here",
    ", the mass limits on the assumed completeness function were @xmath166 2 m@xmath1  and @xmath167 6 m@xmath1 . in this scenario ,",
    "stars between 2 and 6 m@xmath1  are assigned artificially low weights in equation [ eq : comppdf ] .",
    "application of this assumed completeness function results in median recovered values of @xmath83 2.7 ( blue in figure [ fig : compperfect ] ) .",
    "this exercise indicates that even a moderate underestimation of the true completeness function can induce a significant overestimate of @xmath2 .    some mf studies in the literature either apply a conservative completeness limit ,",
    "i.e. , only consider data that are likely to be 100% complete , or make no attempt to correct for completeness .",
    "we explore the effects of each of these scenarios and present the results in figure [ fig : comp23 ] . in the case",
    "that no attempt is made to account for completeness ( green ) , i.e. , all data above 3 m@xmath1  are complete , the recovered slope of the mf is @xmath4 1.7 , which is significantly flatter than the true mf slope of 2.35 .",
    "the scenario in which a conservative completeness cut is applied is more promising ( blue in figure [ fig : comp23 ] ) . here",
    ", we see that the input value of @xmath2 is accurately recovered , albeit with lower precision as both the number of stars and dynamic mass range are smaller .    in this section",
    ", we have shown that by correctly characterizing completeness , through an example with a linear completeness function , the mf slope can be recovered without bias .",
    "however , failure to include well - characterized completeness corrections can lead to systematic biases .",
    "this finding can readily be generalized to more complex completeness functions , which simply involves replacing @xmath170 by another functional or tabulated form . to determine a completeness function in practice",
    ", we strongly advise that extensive artificial star tests should be performed .",
    "although this process can be a computationally expensive , it is essential to have a well - characterized completeness function in order to accurately measure the mf slope .",
    "throughout this paper , we have employed a simple model of the imf , and not considered other physical ( e.g. , dynamics ) and observational effects ( e.g. , unresolved binaries ) , which can influence the accurate measurement of a mf from resolved stars . here ,",
    "we briefly discuss how such outstanding issues can potentially be incorporated into the context of a probabilistic framework for a more holistic model of a cluster s mf .    _",
    "( i ) unresolved binaries  _ it is well - established in the literature that many stars have equal or lower mass companions , with binary fractions ranging from @xmath4 0.35 to 1.0 for massive o stars to @xmath4 0.3 to 0.5 for solar mass stars ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "such binaries are typically difficult to detect , particularly with photometry , and are frequently treated as single stars .",
    "several studies have shown that failing to account for unresolved binaries can cause systematic steepening to a cluster s mf slope by @xmath4 0.1 - 0.5 depending on the intrinsic mf slope ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* )    in this paper , we have assumed that all data points are from single stars . however , there are at least two strategies for incorporating binaries into the presented framework .",
    "the first is to construct a model of the probability that a star is a binary based on measured luminosity and color , or estimated mass , of the primary star",
    ". it would be straightforward to employ such a model as a prior on the the mass pdf of each star .",
    "a second method would be to build binary star tracks into the process of photometric sed fitting , allowing one to compute the probability of a star being better described as a binary , in which case the mass pdf of the primary star would likely be changed dramatically , i.e. , it would be flatter as one would expect little constraint on the mass of the primary solely from broadband photometric observations .",
    "the net effect of either approach is to increase the uncertainty in the mass of the primary star , which reduces its contribution to constraining a cluster s mf .    _",
    "( ii ) mass segregation  _",
    "various observations have shown that massive stars are typically located in the central regions of young clusters , while lower mass stars are preferentially found in the outskirts of a cluster .",
    "the origins of observed mass segregation are often attributed either to primordial star formation or internal cluster dynamics ( see @xcite and @xcite and references therein ) .",
    "the general effects of mass segregation on mf measurements include flatter slopes in the inner regions , i.e. , the stellar populations have a higher percentage of high mass stars , and a steeper slope in the outskirts , where there are fewer high mass stars .",
    "mass segregation can also introduce bias into the global mf measurement , depending on the treatment of completeness and the radius to which the data are considered .",
    "interestingly , simulations conducted by @xcite have shown that the effects of mass segregation on the mf slope are almost entirely degenerate with observational completeness .",
    "that is , the completeness function of a resolved cluster is a strong function of location such that the completeness limits are brighter in the center , and fainter in the outer regions . as a result , the recovery of a flatter mf slope in the central region of a cluster may simply be due to not properly correcting for a spatially variable completeness function such that the number of unobserved lower mass stars is significantly underestimated .    with the presented probabilistic framework ,",
    "the most straightforward way to account for mass segregation effects in modeling a cluster s global mf is to ensure that the completeness function is well - characterized at all positions within the cluster . given that completeness mimics the behavior of mass segregation , an accurate accounting of spatial completeness will mitigate biases on the recovery of a cluster s global mf slope . at a fundamental level ,",
    "a well - characterized completeness function necessitates extensive artificial star tests , which can be computationally expensive . within the phat program ,",
    "large parts of the fundamental science require extensive such artificial star tests ( see @xcite ) .",
    "as such , we anticipate having well - sampled spatially varying completeness functions , which will provide the necessary characterization of spatial variations in the cluster populations to avoid strong biases in the recovered global mf slope .    _",
    "( iii ) non - coeval populations  _ it is possible that young clusters are not purely single age , and instead have formed over some finite time interval .",
    "applying a model that assumes coevality to a non - coeval population can lead to strong systematic biases in the recovered mf slope ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , particularly when the duration of sf is comparable to the age of the cluster .",
    "the incorporation of an extended sfh into our probabilistic framework is fairly straightforward .",
    "it requires multiplying the intrinsic mf by an integral of a parameterized star formation history ( cf .",
    "equation 1 in @xcite ) , and then using mcmc sampling to simultaneously constrain the cluster s mf slope and star formation history , given the data .",
    "this approach forms the basis of color - magnitude diagram modeling techniques such as those discussed in @xcite and @xcite , and is known to lead to very broad mf slope constraints for objects with extended sfhs , e.g. , galaxies ( e.g. , * ? ? ?",
    "( iv ) cluster membership ",
    "_ in practice , there is always some degree of ambiguity as to whether a given star is a member of the cluster or whether it is a member of the surrounding field population .",
    "thus , it is necessary to assign a membership probability to each star . within the presented framework",
    ", the membership probability enters as a linear multiplication term that simply serves to weight each @xmath171 , where the weighting factor ranges from zero ( not a cluster member ) to unity ( definitely a cluster member ) . the simplest way to assess",
    "the probability of cluster membership is through a statistical comparison with a color - magnitude diagram of a surrounding field population .",
    "we have presented a probabilistic approach to constrain the mf of a young resolved stellar cluster .",
    "this framework allows the incorporation of uncertainties in the masses of individual stars that may arise from the conversion of observed fluxes into stellar masses , avoids binning the measurement in mass , explicitly deals with completeness functions that may not be a simple step function of stellar mass , and assigns meaningful error bars to the parameters of interest .    adopting a single - sloped power - law mf model",
    ", we explored the ability of this approach to constrain mf parameters using mock data .",
    "in particular , we found :    * for highly idealized mock datasets ( perfectly known masses and completeness ) , we recover the slope of the input imf with no systematic biases , and to a precision that depends on the number of observed stars and the dynamic range of the observed masses , i.e. , @xmath100 .",
    "we verified that one can only derive a lower limit estimate on @xmath14 , namely @xmath24 , which is not particularly informative in terms of understanding the upper mass limit of the imf . + * we computed the theoretical precision , i.e. , lower limit , to which @xmath2 can be measured as a function of the observed mass range , @xmath100 and the number of stars , @xmath28 , which we approximate analytically as a 3rd order polynomial .",
    "we compared the theoretical precision with selected literature imf studies and found that @xmath4 3/4 of the literature studies quoted error bars below the theoretical limit , usually by a factor of @xmath4 2 . after assigning these studies new and larger error bars based on the theoretical limit",
    ", we computed the weighted mean and weighted 1-@xmath6 values from the literature studies and found @xmath5 2.46 with a 1-@xmath6 dispersion of 0.35 dex .",
    "the broad uncertainties indicate that the mean @xmath2 is consistent with several common imfs such as salpeter , kroupa , kennicutt , and scalo , suggesting that the current state of mf studies have little leverage on discerning between significantly different high mass imf slopes .",
    "this finding reinforces the need for a large scale systematic study of the high mass imf in order to provide the much needed empirical constraints .",
    "+ * we then considered the case where the masses are not perfectly known .",
    "specifically , we generated mock mass lists where each mass had a log - normal error distribution . using the same datasets",
    ", we demonstrated the differences in mf recovery using models that did and did not account for the effects of uncertain masses .",
    "in general , we found that if all the mass uncertainties were small , the recovery of @xmath2 was not substantially biased .",
    "however , in the case of intermediate to large mass uncertainties , a failure to model the mass uncertainties resulted in systematic biases in the slope of recovered mf , the magnitude and direction of which depend on the magnitude of the uncertainty , e.g. , moderate uncertainties result in too steep of a slope , while large errors result in too flat of a slope .",
    "similarly , not accounting for mass uncertainties led to severe systematic overestimates of @xmath79 ( or underestimates of a cluster s true age ) .",
    "in contrast , applying models that account for uncertainties in the stellar masses resulted in near - perfect recovery of the input imf slope with precision that was comparable to the case of perfectly known masses , in all except the cases with the most extreme mass uncertainties . we found constraints on @xmath14 to be in agreement with those from the case of highly idealized data .",
    "+ * for a completeness function that grows linearly from 0 to 1 within a certain mass range , we found that perfect knowledge of the completeness function resulted in excellent recovery of the mf slope .",
    "however , both moderately and extremely incorrect completeness functions led to strong systematic biases in the recovered mf slope .",
    "we strongly recommend that extensive artificial stars tests be used in all resolved mf studies . in lieu of this option",
    ", only data that are nearly 100% complete should be utilized to minimize systematic biases , although the precision on the mf constraints will decrease in this case . +",
    "* we discussed factors that can influence mf slope determination , but that were not included in this paper .",
    "such effects include unresolved binaries , mass segregation , non - coevality , and cluster membership . in each case , we suggest ways in which such uncertainties can be folded into the presented probabilistic framework .    the authors are grateful for the thorough , critical , and extremely insightful referee s report from john scalo .",
    "his comments greatly improved the clarity and accessibility of the paper .",
    "we would also like to thank nate bastian , mario gennaro , and andrea stolte for interesting discussions on the imf and phil marshall for insightful comments on improving visualizations .",
    "d.g . kindly acknowledges financial support by the german research foundation ( dfg ) through grant go  1659/3 - 1 .",
    "support for this work was provided by nasa through grant number hst go-12055 from the space telescope science institute , which is operated by aura , inc .",
    ", under nasa contract nas5 - 26555 .",
    "this research made extensive use of nasa s astrophysics data system bibliographic services .",
    "[ sec : appendix ]",
    "markov chain monte carlo ( mcmc ) algorithms are a broad class of numerical techniques for estimating the form of probability distributions .",
    "there are many textbooks @xcite that describe the general formalism and application of various mcmc methods . here",
    ", we provide a brief overview of the general theory behind mcmc comment on the specific algorithm that we employ in this paper .",
    "we refer the interested reader to the above references for more detailed information .",
    "mcmc provides a prescription for drawing a set of unbiased samples from a probability distribution function ( pdf ) that can be _ evaluated _ ( up to a normalization constant ) given a set of parameters . in this paper , we use mcmc to estimate the distribution of model parameters ( @xmath2 , @xmath172 , and @xmath173 ) for a cluster s mass function ( mf ) that is consistent with the observations and marginalized over the nuisance parameters@xmath172 and @xmath173when only the mf slope , @xmath2 , is desired , for example . after running a mcmc chain and obtaining @xmath174 samples @xmath175 , the expectation value of @xmath2 conditioned on the data and marginalized over @xmath176 is approximately given by      similarly , the marginalized pdf for @xmath2 @xmath178 is given by the _ histogram _ of samples projected into the @xmath2 plane .",
    "this marginalized pdf provides the desired constraint on the mf slope , while accounting for degeneracies with nuisance parameters .",
    "the most commonly used mcmc algorithm is called the metropolis - hastings ( m  h ) algorithm @xcite . while this is not the algorithm we use , it is instructive to outline how it works .",
    "h algorithm `` walks '' around the parameter space stochastically starting from a user - defined initial position .",
    "each step in the chain is determined by sampling a proposal position @xmath179 from a ( simple ) distribution @xmath180 that only depends on the _ current _ position @xmath181 and then accepting ( with replacement ) this position with the probability @xmath182    for this project , we used an affine - invariant ensemble algorithm ( ` emcee ` ; * ? ? ?",
    "* ; * ? ? ?",
    "this algorithm is more efficient than m ",
    "h when sampling a non - trivial density and it requires significantly less fine - tuning to achieve good performance . instead of exploring the parameter space sampling a single point at a time",
    ", ` emcee ` includes an ensemble of @xmath183 coupled `` walkers '' and the proposal distribution @xmath184 for a particular walker @xmath185 is based on the current positions of all the walkers . specifically , an update step involves randomly choosing a walker from the complimentary set @xmath186 and proposing a position along the vector between the two walkers @xmath187\\ ] ] where @xmath115 is a random variable distributed according to @xmath188 for some @xmath189 . the proposal @xmath190 is then accepted ( again with replacement ) with the probability @xmath191 where @xmath192 is the dimension of the parameter space .",
    "anderson , j. , sarajedini , a. , bedin , l.  r. , et al .",
    "2008 , , 135 , 2055 ascenso , j. , alves , j. , & lago , m.  t.  v.  t.  2009 , , 495 , 147 bastian , n. , covey , k.  r. , & meyer , m.  r.  2010 , , 48 , 339 bianchi , l. , efremova , b. , hodge , p. , massey , p. , & olsen , k.  a.  g.  2012 , , 143 , 74 bishop , c.  m. , _ pattern recognition and machine learning _ , springer , 2009 brandner , w. , clark , j.  s. , stolte , a. , et al .",
    "2008 , , 478 , 137 bruzual , g. , & charlot , s.  2003 , , 344 , 1000 cara , m. , & lister , m.  l.  2008 , , 686 , 148 cervio , m. , prez , e. , snchez , n. , romn - ziga , c. , & valls - gabaud , d.  2011 , up2010 : have observations revealed a variable upper end of the initial mass function ?",
    ", 440 , 133 chabrier , g.  2003 , , 115 , 763 conroy , c. , gunn , j.  e. , & white , m.  2009 , , 699 , 486 cool , r.  j. , eisenstein , d.  j. , fan , x. , et al .",
    "2008 , , 682 , 919 crowther , p.  a. , schnurr , o. , hirschi , r. , et al .",
    "2010 , , 408 , 731 dolphin , a.  e.  2002 , , 332 , 91 dalcanton , j.  j. , williams , b.  f. , seth , a.  c. , et al .",
    "2009 , , 183 , 67 dalcanton , j.  j. , williams , b.  f. , lang , d. , et al .",
    "2012 , , 200 , 18 eldridge , j.  j.  2012 , , 422 , 794 elson , r.  a.  w. , fall , s.  m. , & freeman , k.  c.  1989 , , 336 , 734 evans , c.  j. , taylor , w.  d. , hnault - brunet , v. , et al .",
    "2011 , , 530 , a108 elmegreen , b.  g.  2009 , the evolving ism in the milky way and nearby galaxies , elmegreen , b.  g. , & scalo , j.  2006 , , 636 , 149 elmegreen , b.  g.  2004 , , 354 , 367 elmegreen , b.  g.  2002 , , 564 , 773 elmegreen , b.  g.  1999 , , 515 , 323 foreman - mackey , d. , hogg , d.  w. , lang , d. , & goodman , j.  2012 , arxiv:1202.3665 fumagalli , m. , da silva , r.  l. , & krumholz , m.  r.  2011 , , 741 , l26 gelman , a. , roberts , g. o. , gilks , w. r. , ` posterior sampling with improved efficiency ' , 1998 , proc .",
    "spie , 3338 , 371 gelman , a. , carlin , j.  b. , stern , h.  s. , rubin , d.  b. , & dunson , d.  b. , _ bayesian data analysis _ , chapman & hall , 2003 gennaro , m. , brandner , w. , stolte , a. , & henning , t.  2011 , , 412 , 2469 goodman , j. & weare , j.  2010 , _ comm .",
    "app .  math .  comp .",
    "_ , 5 , 6 goodwin , s.  p. , & kouwenhoven , m.  b.  n.  2009 , , 397 , l36 gould , a. , bahcall , j.  n. , & flynn , c.  1997 , , 482 , 913 haario , h. , saksman , e. , & tamminen , j. , ` an adaptive metropolis algorithm ' , 2001 , bernoulli , 7(2 ) , 223 - 242 haas , m.  r. , & anders , p.  2010",
    ", , 512 , a79 harris , j. , & zaritsky , d.  2001 , , 136 , 25 hastings , w. k. , ` monte carlo sampling methods using markov chains and their applications ' , 1970 , biometrika , 57 , 97 holtzman , j.  a. , afonso , c. , & dolphin , a.  2006 , , 166 , 534 hunter , d.  a. , elmegreen , b.  g. , & ludka , b.  c.  2010 , , 139 , 447 johnson , l.  c. , seth , a.  c. , dalcanton , j.  j. , et al .",
    "2012 , , 752 , 95 kennicutt , r.  c. , jr .",
    "1983 , , 272 , 54 kennicutt , r.  c. , jr .",
    "1989 , , 344 , 685 kiminki , d.  c. , & kobulnicky , h.  a.  2012 , , 751 , 4 kroupa , p.  2001",
    ", , 322 , 231 kroupa , p.  2002",
    ", science , 295 , 82 kroupa , p. , weidner , c. , pflamm - altenburg , j. , et al .",
    "2011 , arxiv:1112.3340 krumholz , m.  r. , klein , r.  i. , & mckee , c.  f.  2011 , , 740 , 74 krumholz , m.  r. , cunningham , a.  j. , klein , r.  i. , & mckee , c.  f.  2010 , , 713 , 1120 kudritzki , r .-",
    "p . , urbaneja , m.  a. , bresolin , f. , et al .",
    "2008 , , 681 , 269 lee , j.  c. , gil de paz , a. , tremonti , c. , et al .",
    "2009 , , 706 , 599 leitherer , c. , schaerer , d. , goldader , j.  d. , et al .  1999 , , 123 , 3 lennon , d.  j.  1997 , , 317 , 871 leroy , a.  k. , walter , f. , brinks , e. , et al .",
    "2008 , , 136 , 2782 mackay , d. , _ information theory , inference , and learning algorithms _ , cambridge university press , 2003 madau , p. , ferguson , h.  c. , dickinson , m.  e. , et al .",
    "1996 , , 283 , 1388 maz apellniz , j. , & beda , l.  2005 , , 629 , 873 maz apellniz , j.  2008 , , 677 , 1278 narayanan , d. , & dav , r.  2012 , , 423 , 3601 de marchi , g. , paresce , f. , & portegies zwart , s.  2010 , , 718 , 105 massey , p. , lang , c.  c. , degioia - eastwood , k. , & garmany , c.  d.  1995 , , 438 , 188 massey , p. , johnson , k.  e. , & degioia - eastwood , k.  1995 , , 454 , 151 massey , p. , & hunter , d.  a.  1998 , , 493 , 180 massey , p.  2003",
    ", , 41 , 15 massey , p.  2011",
    ", up2010 : have observations revealed a variable upper end of the initial mass function ?",
    ", 440 , 29 massey , p. , olsen , k.  a.  g. , hodge , p.  w. , et al .  2006 , , 131 , 2478 mckee , c.  f. , & ostriker , e.  c.  2007 , , 45 , 565 meurer , g.  r. , wong , o.  i. , kim , j.  h. , et al .",
    "2009 , , 695 , 765 metropolis , n. , rosenbluth , a. w.,rosenbluth .",
    "m. n. , teller , a. h. , and teller , e. , 1953 , j.  chem .",
    "bf 21 , 1087 miller , g.  e. , & scalo , j.  m.  1979 , , 41 , 513 myers , a.  t. , krumholz , m.  r. , klein , r.  i. , & mckee , c.  f.  2011 , , 735 , 49 panagia , n. , romaniello , m. , scuderi , s. , & kirshner , r.  p.  2000 , , 539 , 197 patil , a. , huard , d. , & fonnesbeck , c. j.  2010 , ` pymc : bayesian stochastic modelling in python ' , journal of statistical software , 35(4 ) , pp.1 - 81 pflamm - altenburg , j. , & kroupa , p.  2009",
    ", , 706 , 516 press , w.  h. , teukolsky , s.  a. , vetterling , w.  t. , & flannery , b.  p. , preibisch , t. , balega , y. , hofmann , k .- h . , weigelt , g. , & zinnecker , h.  1999 , new astronomy , 4 , 531 _ numerical recipes _ , cambridge university press , 2007 portegies zwart , s.  f. , mcmillan , s.  l.  w. , & gieles , m.  2010 , , 48 , 431 salpeter , e.  e.  1955 , , 121 , 161 sagar , r. , & richtler , t.  1991 , , 250 , 324 sana , h. , james , g. , & gosset , e.  2011 , , 416 , 817 sana , h. , de koter , a. , de mink , s.  e. , et al .  2012 , arxiv:1209.4638 scalo , j.  m.  1986 , , 11 , 1 scalo , j.  1998 , the stellar initial mass function ( 38th herstmonceux conference ) , 142 , 201 scalo , j.  2005 , the initial mass function 50 years later , 327 , 23 schmidt , m.  1959 , , 129 , 243 smartt , s.  j.  2009 , , 47 , 63 stolte , a. , brandner , w. , grebel , e.  k. , lenzen , r. , & lagrange , a .- m .",
    "2005 , , 628 , l113 tarrab , i.  1982 , , 109 , 285 tinsley , b.  m.  1980 , , 5 , 287 vio , r. , fasano , g. , lazzarin , m. , & lessi , o.  1994 , , 289 , 640 weidner , c. , & kroupa , p.  2005",
    ", , 625 , 754 weidner , c. , kroupa , p. , & bonnell , i.  a.  d.  2010 , , 401 , 275 weisz , d.  r.  2011 , up2010 : have observations revealed a variable upper end of the initial mass function ?",
    ", 440 , 169 zaritsky , d. , harris , j. , & thompson , i.  1997 , , 114 , 1002 zinnecker , h. , & yorke , h.  w.  2007 , , 45 , 481    lccccccccc 1 & ngc2323 & 3.31 & 0.99 & 2.94 & 0.15 & 0.4 & 3.9 & 1.66 & kalirai et al .  2003 + 2 & m11 & 3.26 & 0.49 & 2.49 & 0.09 & 1.1 & 3.4 & 0.32 & santos et al .",
    "2005 + 3 & ngc663 & 3.15 & 0.8 & 2.38 & 0.22 & 1.6 & 10.0 & 1.54 & pandey et al .",
    "2005 + 4 & ngc2168 & 3.0 & 0.78 & 2.29 & 0.27 & 0.6 & 3.6 & 1.76 & kalirai et al .",
    "2003 + 5 & ngc2422 & 2.6 & 0.44 & 3.07 & 0.08 & 0.9 & 2.5 & 0.23 & prisinzano et al .",
    "2003 + 6 & tr23 & 2.48 & 0.32 & 2.4 & 0.6 & 1.0 & 2.1 & 1.42 & bonatto et al .  2007 + 7 & stock2 & 2.31 & 0.44 & 3.01 & 0.4 & 1.5 & 4.1 & 1.05 & sanner et al .",
    "2001 + 8 & ngc4852 & 2.3 & 0.73 & 2.3 & 0.3 & 0.6 & 3.2 & 1.38 & carraro et al .",
    "2005 + 9 & ngc654 & 2.26 & 0.98 & 2.16 & 0.05 & 1.2 & 11.5 & 0.41 & pandey et al .",
    "2005 + 10 & ngc4349 & 2.21 & 0.44 & 2.18 & 0.12 & 1.8 & 5.0 & 0.3 & tarrab et al .",
    "1982 + 11 & orion & 2.13 & 1.04 & 2.39 & 0.15 & 1.3 & 14.1 & 1.31 & tarrab et al .",
    "1982 + 12 & pleiades & 2.1 & 0.61 & 2.99 & 0.4 & 1.0 & 4.1 & 1.31 & sanner et al .",
    "2001 + 13 & ly9 & 2.09 & 0.32 & 2.1 & 0.7 & 1.1 & 2.3 & 1.41 & bonatto et al .  2007 + 14 & ngc3532 & 2.06 & 0.45 & 2.55 & 0.21 & 1.6 & 4.5 & 0.5 & tarrab et al .",
    "1982 + 15 & ly4 & 2.02 & 0.28 & 2.3 & 0.2 & 1.0 & 1.9 & 0.37 & bonatto et al .  2007 + 16 & ngc5715 & 1.97 & 0.3 & 2.3 & 0.5 & 1.1 & 2.2 & 0.92 & bonatto et al .  2007 + 17 & cygob2 & 1.97 & 1.0 & 1.9 & 0.2 & 10.0 & 100.0 & 1.48 & massey et al",
    "1995 + 18 & @xmath2per & 1.95 & 0.84 & 2.73 & 0.23 & 1.3 & 8.9 & 1.14 & tarrab et al .",
    "1982 + 19 & pleiades & 1.94 & 0.69 & 2.89 & 0.27 & 1.3 & 6.3 & 0.93 & tarrab et al .",
    "1982 + 20 & lh9 & 1.92 & 0.74 & 2.4 & 0.2 & 10.0 & 55.0 & 0.78 & massey et al .",
    "1995 + 21 & ngc346 & 1.92 & 0.85 & 2.3 & 0.1 & 10.0 & 70.0 & 0.5 & massey et al .",
    "1995 + 22 & tr14/16 & 1.91 & 1.08 & 2.0 & 0.2 & 10.0 & 120.0 & 1.72 & massey et al .",
    "1995 + 23 & lh58 & 1.82 & 0.7 & 2.4 & 0.2 & 10.0 & 50.0 & 0.66 & massey et al .",
    "1995 + 24 & praesepe & 1.81 & 0.39 & 3.12 & 0.39 & 1.3 & 3.2 & 0.72 & tarrab et al .",
    "1982 + 25 & lh10 & 1.81 & 0.95 & 2.1 & 0.1 & 10.0 & 90.0 & 0.6 & massey et al .",
    "1995 + 26 & ngc2516 & 1.81 & 0.65 & 2.95 & 0.33 & 2.0 & 8.9 & 0.97 & tarrab et al .",
    "1982 + 27 & ngc6067 & 1.8 & 0.5 & 3.18 & 0.39 & 4.0 & 12.6 & 0.85 & tarrab et al .",
    "1982 + 28 & haydes & 1.79 & 0.33 & 3.58 & 0.48 & 1.3 & 2.8 & 0.82 & tarrab et al .",
    "1982 + 29 & ngc2264 & 1.78 & 0.56 & 2.53 & 0.29 & 2.2 & 7.9 & 0.69 & tarrab et al .  1982 + 30 & ngc457 & 1.71 & 0.45 & 1.36 & 0.05 & 5.0 & 14.1 & 0.09 & tarrab et al .  1982 + 31 & ngc6405 & 1.68 & 0.65 & 2.84 & 0.37 & 2.0 & 8.9 & 0.99 & tarrab et al .  1982 + 32 & ngc2281 & 1.67 & 0.6 & 4.17 & 0.53 & 1.4 & 5.6 & 1.27 & tarrab et al .  1982 + 33 & ngc6281 & 1.63 & 0.45 & 2.14 & 0.23 & 1.6 & 4.5 & 0.4 & tarrab et al .",
    "1982 + 34 & ngc6633 & 1.62 & 0.29 & 3.08 & 0.45 & 1.8 & 3.5 & 0.66 & tarrab et al .",
    "1982 + 35 & cz37 & 1.61 & 0.14 & -0.1 & 0.9 & 1.8 & 2.5 & 1.27 & bonatto et al .  2007 + 36 & lh117/118 & 1.6 & 1.0 & 2.6 & 0.2 & 10.0 & 100.0 & 1.08 & massey et al .",
    "1995 + 37 & ngc2099 & 1.59 & 0.51 & 2.6 & 0.38 & 2.2 & 7.1 & 0.71 & tarrab et al .",
    "1982 + 38 & ngc4755 & 1.58 & 0.4 & 2.1 & 0.23 & 5.6 & 14.1 & 0.36 & tarrab et al .",
    "1982 + 39 & ngc6025 & 1.57 & 0.45 & 3.06 & 0.5 & 2.5 & 7.1 & 0.84 & tarrab et al .",
    "1982 + 40 & ngc2362 & 1.56 & 0.75 & 2.3 & 0.32 & 2.5 & 14.1 & 0.96 & tarrab et al .",
    "1982 + 41 & ngc2451 & 1.54 & 0.78 & 2.1 & 0.27 & 1.3 & 7.9 & 0.86 & tarrab et al .",
    "1982 + 42 & ic2602 & 1.53 & 0.63 & 1.88 & 0.21 & 1.3 & 5.6 & 0.48 & tarrab et al .",
    "1982 + 43 & ngc7243 & 1.48 & 0.41 & 1.83 & 0.18 & 2.2 & 5.6 & 0.26 & tarrab et al .",
    "1982 + 44 & ic4665 & 1.48 & 0.54 & 1.73 & 0.16 & 1.8 & 6.3 & 0.29 & tarrab et al .",
    "1982 + 45 & ngc6611 & 1.48 & 0.88 & 1.9 & 0.2 & 10.0 & 75.0 & 0.71 & massey et al .",
    "1995 + 46 & ngc1960 & 1.4 & 0.41 & 1.24 & 0.05 & 3.5 & 8.9 & 0.07 & tarrab et al .",
    "1982 + 47 & ngc5662 & 1.4 & 0.6 & 1.76 & 0.19 & 2.5 & 10.0 & 0.35 & tarrab et al .",
    "1982 + 48 & ngc2422 & 1.38 & 0.65 & 2.38 & 0.42 & 2.0 & 8.9 & 0.84 & tarrab et al .",
    "1982 + 49 & ngc1662 & 1.38 & 0.44 & 2.16 & 0.32 & 1.8 & 5.0 & 0.44 & tarrab et al .",
    "1982 + 50 & ngc5460 & 1.38 & 0.35 & 3.35 & 0.71 & 2.5 & 5.6 & 0.88 & tarrab et al .",
    "1982 + 51 & ic1805 & 1.38 & 1.0 & 2.3 & 0.2 & 10.0 & 100.0 & 0.72 & massey et al .",
    "1995 + 52 & ngc2539 & 1.36 & 0.2 & 2.61 & 0.39 & 2.0 & 3.2 & 0.44 & tarrab et al .",
    "1982 + 53 & ngc7092 & 1.36 & 0.29 & 1.72 & 0.16 & 1.8 & 3.5 & 0.19 & tarrab et al .",
    "1982 + 54 & ngc3766 & 1.36 & 0.5 & 1.53 & 0.12 & 4.5 & 14.1 & 0.18 & tarrab et al .",
    "1982 + 55 & ngc2548 & 1.36 & 0.3 & 4.05 & 0.94 & 2.0 & 4.0 & 1.11 & tarrab et al .",
    "1982 + 56 & ngc6823 & 1.36 & 0.6 & 2.3 & 0.4 & 10.0 & 40.0 & 0.71 & massey et al .",
    "1995 + 57 & ic2391 & 1.36 & 0.65 & 2.13 & 0.34 & 1.4 & 6.3 & 0.67 & tarrab et al .",
    "1982 + 58 & ngc2301 & 1.34 & 0.6 & 2.56 & 0.49 & 1.4 & 5.6 & 0.85 & tarrab et al .  1982",
    "+ 59 & ngc884 & 1.34 & 0.5 & 1.29 & 0.06 & 4.5 & 14.1 & 0.09 & tarrab et al .",
    "1982 + 60 & ngc7160 & 1.34 & 0.8 & 2.52 & 0.45 & 2.0 & 12.6 & 1.14 & tarrab et al .",
    "1982 + 61 & ngc4609 & 1.32 & 0.55 & 2.02 & 0.3 & 2.8 & 10.0 & 0.46 & tarrab et al .",
    "1982 + 62 & cr140 & 1.32 & 0.6 & 2.58 & 0.51 & 2.0 & 7.9 & 0.85 & tarrab et al .",
    "1982 + 63 & ngc2571 & 1.3 & 0.66 & 3.3 & 0.65 & 2.2 & 10.0 & 1.19 & tarrab et al .",
    "1982 + 64 & ngc2439 & 1.3 & 0.3 & 1.6 & 0.14 & 7.1 & 14.1 & 0.15 & tarrab et al .",
    "1982 + 65 & ngc1893 & 1.28 & 0.81 & 2.6 & 0.3 & 10.0 & 65.0 & 0.7 & massey et al .",
    "1995 + 66 & ic2581 & 1.26 & 0.64 & 2.07 & 0.36 & 3.2 & 14.1 & 0.61 & tarrab et al .",
    "1982 + 67 & ngc1528 & 1.26 & 0.45 & 1.15 & 0.03 & 2.0 & 5.6 & 0.04 & tarrab et al .",
    "1982 + 68 & ngc2482 & 1.26 & 0.51 & 4.33 & 0.95 & 2.2 & 7.1 & 1.26 & tarrab et al .",
    "1982 + 69 & ngc2251 & 1.2 & 0.49 & 2.36 & 0.49 & 1.6 & 5.0 & 0.6 & tarrab et al .",
    "1982 + 70 & ngc6242 & 1.2 & 0.5 & 2.15 & 0.39 & 4.0 & 12.6 & 0.48 & tarrab et al .",
    "1982 + 71 & ngc2232 & 1.2 & 0.6 & 2.73 & 0.63 & 2.0 & 7.9 & 0.92 & tarrab et al .",
    "1982 + 72 & ngc6531 & 1.2 & 0.76 & 1.94 & 0.34 & 2.5 & 14.5 & 0.66 & tarrab et al .",
    "1982 + 73 & ngc1664 & 1.18 & 0.26 & 3.62 & 0.96 & 2.5 & 4.5 & 0.9 & tarrab et al .",
    "1982 + 74 & ngc581 & 1.18 & 0.35 & 3.09 & 0.78 & 6.3 & 14.1 & 0.78 & tarrab et al .",
    "1982 + 75 & ngc7790 & 1.15 & 0.45 & 2.44 & 0.54 & 4.5 & 12.6 & 0.58 & tarrab et al .",
    "1982 + 76 & ngc3590 & 1.15 & 0.4 & 2.07 & 0.36 & 5.6 & 14.1 & 0.37 & tarrab et al .",
    "1982 + 77 & ngc6709 & 1.15 & 0.2 & 1.98 & 0.28 & 3.5 & 5.6 & 0.25 & tarrab et al .",
    "1982 + 78 & ngc6871 & 1.11 & 0.35 & 2.18 & 0.4 & 5.6 & 12.6 & 0.38 & tarrab et al .",
    "1982 + 79 & ngc5281 & 1.11 & 0.46 & 2.02 & 0.36 & 3.5 & 10.0 & 0.38 & tarrab et al .",
    "1982 + 80 & ngc2169 & 1.08 & 0.6 & 1.74 & 0.27 & 2.8 & 11.2 & 0.35 & tarrab et al .",
    "1982 + 81 & ngc1502 & 1.08 & 0.4 & 1.56 & 0.18 & 5.6 & 14.1 & 0.17 & tarrab et al .",
    "1982 + 82 & ngc1342 & 1.08 & 0.36 & 3.46 & 1.05 & 2.2 & 5.0 & 0.96 & tarrab et al .",
    "1982 + 83 & ngc2244 & 1.08 & 0.85 & 1.8 & 0.3 & 10.0 & 70.0 & 0.55 & massey et al .",
    "1995 + 84 & ngc6871 & 1.04 & 0.6 & 1.9 & 0.4 & 10.0 & 40.0 & 0.51 & massey et al .",
    "1995 + 85 & ngc7380 & 1.04 & 0.81 & 2.7 & 0.3 & 10.0 & 65.0 & 0.51 & massey et al .",
    "1995 + 86 & berkeley86 & 1.0 & 0.6 & 2.7 & 0.4 & 10.0 & 40.0 & 0.49 & massey et al .",
    "1995 + 87 & ngc2323 & 0.9 & 0.2 & 4.42 & 1.73 & 5.0 & 7.9 & 1.36 & tarrab et al .  1982 + 88 & ngc6913 & 0.78 & 0.6 & 2.1 & 0.6 & 10.0 & 40.0 & 0.72 & massey et al .",
    "1995 + 89 & cepob5 & 0.78 & 0.48 & 3.1 & 0.6 & 10.0 & 30.0 & 0.59 & massey et al .",
    "1995 [ tab1 ]    cc 0,0 & 2.90 + 0,1 & -2.58 + 0,2 & 1.00 + 0,3 & -0.25 + 1,0 & -0.49 + 1,1 & -3.51 + 1,2 & 5.00 + 1,3 & -1.78 + 2,0 & -0.05 + 2,1 & 1.30 + 2,2 & -1.56 + 2,3 & 0.52 + 3,0 & 0.01 + 3,1 & -0.09 + 3,2 & 0.09 + 3,3 & -0.02 [ tab2 ]"
  ],
  "abstract_text": [
    "<S> we present a probabilistic approach for inferring the parameters of the present day power - law stellar mass function ( mf ) of a resolved young star cluster . </S>",
    "<S> this technique ( a ) fully exploits the information content of a given dataset ; ( b ) can account for observational uncertainties in a straightforward way ; ( c ) assigns meaningful uncertainties to the inferred parameters ; ( d ) avoids the pitfalls associated with binning data ; and ( e ) can be applied to virtually any resolved young cluster , laying the groundwork for a systematic study of the high mass stellar mf ( m @xmath0 1 m@xmath1 ) . using simulated clusters and markov chain monte carlo sampling of the probability distribution functions , </S>",
    "<S> we show that estimates of the mf slope , @xmath2 , are unbiased and that the uncertainty , @xmath3 , depends primarily on the number of observed stars and on the range of stellar masses they span , assuming that the uncertainties on individual masses and the completeness are both well - characterized . using idealized mock data , we compute the theoretical precision , i.e. , lower limits , on @xmath2 , and provide an analytic approximation for @xmath3 as a function of the observed number of stars and mass range . </S>",
    "<S> comparison with literature studies shows that @xmath4 3/4 of quoted uncertainties are smaller than the theoretical lower limit . by correcting these uncertainties to the theoretical lower limits </S>",
    "<S> , we find the literature studies yield @xmath5 2.46 , with a 1-@xmath6 dispersion of 0.35 dex . </S>",
    "<S> we verify that it is impossible for a power - law mf to obtain meaningful constraints on the upper mass limit of the imf , beyond the lower bound of the most massive star actually observed . </S>",
    "<S> we show that avoiding substantial biases in the mf slope requires : ( 1 ) including the mf as a prior when deriving individual stellar mass estimates ; ( 2 ) modeling the uncertainties in the individual stellar masses ; and ( 3 ) fully characterizing and then explicitly modeling the completeness for stars of a given mass . </S>",
    "<S> the precision on mf slope recovery in this paper are lower limits , as we do not explicitly consider all possible sources of uncertainty , including dynamical effects ( e.g. , mass segregation ) , unresolved binaries , and non - coeval populations . </S>",
    "<S> we briefly discuss how each of these effects can be incorporated into extensions of the present framework . </S>",
    "<S> finally , we emphasize that the technique and lessons learned are applicable to more general problems involving power - law fitting . </S>"
  ]
}