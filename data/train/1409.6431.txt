{
  "article_text": [
    "in delay- and disruption - tolerant networks messages are propagated using a store - carry - forward mechanism .",
    "such networks can have applications for disaster area management  @xcite , vehicular networks  @xcite , and environmental monitoring  @xcite .",
    "these systems offer many challenges and have been extensively studied by the research community  @xcite .",
    "recent results indicate that to the extent that delay - tolerant networks will be found on a larger scale , they will be composed of islands of connectivity , that is , some parts that are well - connected and some parts that are sparse .",
    "this in turn implies correlated and heterogeneous contact patterns  @xcite .",
    "most existing analytic delay performance models fail to capture such scenarios , since they assume independent and identical node contacts patterns .",
    "moreover , although there are also more complex mobility models which include correlation  @xcite , it is not obvious how one should go about to create such models from real existing traces .",
    "we propose to use the concept of a node colouring process to characterise dynamic and heterogeneous contact patterns .",
    "we present a hierarchy of contact modelling models and show that our approach to modelling the system is more general ( models a wider set of mobility patterns ) compared to approaches where node contacts are assumed to be independent . due to the high - level nature of the colouring abstraction , it can be used to analytically study performance properties of message dissemination .",
    "we demonstrate how to derive the latency distribution functions ( i.e. , not just the average case ) , which allows obtaining more detailed information such as how delivery ratio depends on the time - to - live parameter .",
    "we evaluate our theoretical model using synthetic and real - life traces and show that with real mobility , correlation is high which means that our model provides a much better fit compared to earlier work .",
    "there are three main contributions in this paper .",
    "first , a novel and yet simple approach of characterising dynamic contact patterns is introduced .",
    "second , a hierarchy of possible connectivity modelling assumptions showing how our approach relates to other connectivity models is presented .",
    "third , a scheme for deriving the routing latency distribution for complex heterogeneous mobility models is provided together with an experimental evaluation and validation of our model .",
    "we show that heterogeneous mobility can result in such a high correlation of contacts that theoretical results based on independent inter - contact times are no longer valid whereas a model based on colouring time distributions are able to correctly predict the information dissemination latency .",
    "the rest of the paper is organised as follows .",
    "section  [ sec : systemmodel ] describes the system model and the basic assumptions we make .",
    "section  [ sec : hierarchy ] presents a model hierarchy of different assumptions on contact patterns .",
    "section  [ sec : latency ] describes how to derive the routing latency distribution given knowledge of the colouring rate distribution .",
    "this latter distribution is discussed in section  [ sec : colouring ] , and we explain how it can be determined from mobility traces .",
    "section  [ sec : evaluation ] contains the experimental evaluation .",
    "finally , section  [ sec : relatedworks ] gives an overview of the related work and section  [ sec : conclusions ] concludes the paper .",
    "consider a system composed of @xmath0 mobile nodes ( some possibly stationary ) .",
    "nodes can communicate when they are in contact with each other .",
    "a contact is defined by a start and an end time between which two nodes have the potential to communicate with each other ( through the existence of a link layer connection ) .",
    "we focus on connection patterns and ignore effects of queuing and contentions . moreover , since we are interested in intermittently connected networks , the time taken to transmit a message is assumed negligible in relation to the time taken to wait for new contacts to be established .",
    "we call this assumption a.      consider the sequence of contacts between some arbitrary pair of nodes @xmath1 and @xmath2 . this sequence of events can be mathematically represented as a _ point process _ on the time line , which we denote @xmath3 . by superimposing all such pairwise contact events we get a global point process @xmath4 where all contacts are included . figure  [ fig : multivariate ] illustrates the general idea .",
    "the pattern of the global point process corresponds to the node meetings in the network , and thus is an abstract representation of the node mobility . in this paper",
    "we aim to study how latencies of delay - tolerant routing protocols can be predicted by analysing this sequence of meeting events , and how the analysis is affected by correlation between events . by making assumptions about the characteristics of the contact point process , it is possible to create mathematical models of message dissemination in the network . since the point process abstractly represents the node mobility , these assumptions implicitly restrict the set of mobility models for which the analysis holds .",
    "therefore , it is desirable that the assumptions are not stronger than necessary , and that they are as realistic as possible .",
    "our approach to characterising the global contact point process is to introduce a simple colouring process .",
    "this concept has been used before to analyse routing latency  @xcite .",
    "the novelty of our approach is to use properties of the colouring process as an abstract _ representation of mobility_. intuitively this abstract representation captures the rate at which message dissemination could take place in the network which is also closely related to dynamic graph expansion  @xcite .",
    "the basic idea of the colouring process is that if some node @xmath1 is coloured and subsequently comes in contact with node @xmath2 , then node @xmath2 will also become coloured at the time of contact ( if not already coloured ) . formally ,",
    "a colouring process @xmath5 for a given global contact process is characterised by a start time @xmath6 and a source node @xmath7 from which the colouring process originates ( thus , @xmath7 becomes coloured at time @xmath6 ) .",
    "every contact event where a coloured node comes in contact with an uncoloured node is a colouring event .",
    "figure  [ fig : colouring ] shows a simple colouring process @xmath8 which starts at time @xmath6 by colouring node @xmath1 .",
    "the colouring events are the events where a coloured node meets an uncoloured node , which in this case are when nodes @xmath1 and @xmath2 , and later @xmath2 and @xmath9 meet .",
    "note that the first time @xmath2 and @xmath9 meet after the time @xmath6 , neither of the nodes are coloured , so this is not a colouring event , whereas the second time they meet , node @xmath2 is coloured so the second meeting with @xmath9 is therefore a colouring event .",
    "the time between colouring events plays a crucial role in our model . for a given contact point process ,",
    "let @xmath10 denote the random variable representing the time taken for a randomly chosen colouring process to colour @xmath11 nodes , and let @xmath12 and denote the probability distribution function of @xmath10",
    ". moreover , let @xmath13 denote the random variable that describes the time taken for a randomly chosen colouring process to colour _ one more node _ given that @xmath11 nodes are already coloured .",
    "we denote the probability distribution function of @xmath13 as @xmath14 .",
    "we can express the time taken for a colouring process to reach @xmath15 nodes as @xmath16 . since the first node becomes coloured immediately at the start of the colouring process ,",
    "the time to colour one node is @xmath17 and the time to colour two nodes is @xmath18 .",
    "the core assumption of our model which restricts the contact pattern ( and thereby constrains the mobility of the nodes ) is that the incremental colouring time should be independent from the colouring time so far .",
    "more specifically , for any given colouring process , @xmath19 for @xmath20 , where @xmath21 denotes the fact that two random variables are independent ( i.e. , @xmath22 ) .",
    "we call this assumption @xmath23 . using this assumption together with the relationship @xmath16 we can characterise the probability distribution function of @xmath10 as the convolution @xmath24    in the next section we compare the @xmath23 assumption with other assumptions on node connectivity such as that of independent inter - meeting times and",
    "show that our assumption is strictly weaker ( models a wider set of mobility patterns ) .",
    "our goal in this paper is to mathematically analyse mobility patterns with correlated meeting patterns .",
    "however , since we assume that inter - colouring times are independent , it is interesting to analyse how this assumption relates to the more common assumption of independent contact times .",
    "the point of this analysis is to properly understand these assumptions and the space of possible modelling choices .",
    "we start by describing a set of five assumptions ( actually , the first one is a non - assumption ) on the independence of contacts .",
    "each assumption restricts the set of possible point processes ( and thereby which mobility patterns that can accurately be modelled with such a point process ) .    * @xmath25 - no assumptions on the properties of the point processes ( i.e.",
    ", arbitrary mobility is allowed ) +   + having no restricting assumptions on point processes allows all possible contact ( and thereby mobility ) patterns .",
    "unfortunately , this makes it very hard to do any reasoning about system properties . *",
    "@xmath26 - every pairwise meeting process @xmath3 is _ stationary_. +   + a stationary process is one where the intensity of events is constant over time .",
    "it does not mean that events arrive at a constant rate , but rather that the probability of finding a certain number of events in an interval of a given length is independent from the starting time of the interval . note that a single stationary process can not model intensity variations over a longer time period ( e.g. , rush hour and off peak times in a vehicular network ) .",
    "* @xmath27 - every pairwise meeting process is a _ renewal process _ : @xmath28 if @xmath29 , where @xmath30 denotes the time from event @xmath31 to event @xmath11 of the process @xmath3 counted after some origin time @xmath6 .",
    "+   + in a renewal process the time between two successive events is independent from all other inter - event times . note that in order for the definition of @xmath30 to be meaningful , the point process needs to be stationary .",
    "a special case of the renewal process is when the random variables @xmath30 are exponentially distributed , in which case the resulting point process is a poisson process .",
    "* @xmath32 - non - overlapping pairs of nodes have independent meeting point processes , @xmath33 if @xmath34 +   + this assumption basically states that if two node pairs are disjoint ( i.e. , there are four distinct nodes ) , then their respective contacts are also independent .",
    "* @xmath35 - two node - pairs of nodes with no more than one node in common have independent meeting point processes : @xmath36 if @xmath37 .",
    "+   + this is similar to the previous assumption , but is stronger in the sense that any two node pairs with at most one node in common have independent meeting point processes . for example , node pairs @xmath38 and @xmath39 are assumed to be independent from each other even if they have node @xmath2 in common .",
    "* @xmath23 - for any colouring process the time to colour one more node is independent from the time taken to colour @xmath11 nodes , @xmath40 for @xmath20 .",
    "+   + this is the assumption that we rely on in our analysis which was explained in section  [ sec : colouringassumption ] .",
    "note that this assumption also requires stationarity of contacts ( assumption @xmath26 ) , since we assume @xmath10 to be characterisable independently of when the colouring process starts .",
    "based on these assumptions , we can create a hierarchy of models as shown in figure  [ fig : hierarchy ] .",
    "the arrows in the figure denote the relative strength of these assumptions .",
    "if @xmath41 , then all behaviours that are modelled by @xmath42 are also modelled by @xmath43 ( but not vice versa ) .",
    "that is , @xmath42 has strictly stronger assumptions on the contact patterns .",
    "it is possible to combine two assumptions by assuming both of them to be true in the model ( denoted with the logical and symbol @xmath44 in the figure ) .    at the top of the hierarchy",
    "is the most general model @xmath25 which makes no restrictions on node connectivity patterns .",
    "this allows all possible contact patterns , including those that could never appear in a wireless network with mobile nodes , but makes mathematical analysis difficult . at the bottom of the hierarchy we find @xmath45 which has been used extensively as a model when studying intermittently connected networks  @xcite",
    "this gives tractable closed form analytic expressions , but turns out to be too idealistic .",
    "our model , which is somewhere in between these two , provides a reasonable trade - off between being able to analytically analyse the problem , and still retaining a sufficient level of realism .",
    "we believe that it would also be interesting to study the other models ( especially those that do not require stationarity ) in the hierarchy as well , but it is outside the scope of this paper .",
    "some recent works have modelled pairwise contacts as independent random variables but with heterogeneous rates  @xcite which would add another dimension to the lattice hierarchy .",
    "we proceed with a brief explanation of how the hierarchy has been derived .",
    "many of the relationships between different independence assumption models are immediate from the respective definitions .",
    "we have already explained the fact that @xmath27 is a stronger assumption than @xmath26 , which we express as @xmath46 .",
    "moreover , the relation @xmath47 follows immediately from the respective definitions .",
    "finally , when two assumptions are combined , then the resulting assumption is also by definition stronger than the individual assumptions , so for example @xmath48 .",
    "the key relation which remains to show is @xmath49 , which basically says that the model used in this paper ( @xmath23 ) is strictly weaker ( i.e. , models a wider set of mobility patterns ) than the @xmath50 model ( as well as all stronger models since @xmath51 is a transitive relation ) .",
    "we present this proof in an appendix of the paper .",
    "in this section we characterise the routing latency for epidemic and multi - copy routing in intermittently connected networks .",
    "we use a number of random variables to describe the colouring and routing processes , table  [ tab : notation ] summarises the most important notation .",
    "pdf is an abbreviation for probability density function and cdf stands for cumulative density function , these abbreviations are used throughout the paper . in this analysis",
    "we assume that the distribution of the inter - colouring times @xmath13 are known apriori ( we will later return to this assumption and discuss how to extract this knowledge from existing mobility traces ) .",
    ".notation [ cols= \" < , < , < , < \" , ]     we start by deriving the routing latency for ideal epidemic routing .",
    "this corresponds to the optimal performance any routing algorithm can achieve .",
    "thus , these results provide a useful theoretical reference measure on what is good performance for a given mobility model .",
    "such a reference can also be of practical use to decide whether the measured performance in some network is due to the network characteristics or to the protocol implementation .",
    "we then present an approximate model for the latency of multi - copy routing , which uses the epidemic routing latency as a base .      consider a randomly chosen time @xmath6 , origin node @xmath7 and destination node @xmath52 .",
    "let @xmath53 be the random variable that models the time to route a message from @xmath7 to @xmath54 using ideal epidemic routing .",
    "we will try to find the cdf of @xmath53 , @xmath55 .",
    "clearly , given assumption a in section  [ sec : systemmodel ] ( i.e. , that the queuing and transmission times can be neglected ) , this probability is the same as for @xmath54 being one of the coloured nodes by the colouring process @xmath5 after @xmath56 time units .",
    "let @xmath57 be the random variable that models the number of coloured nodes after @xmath56 time units .",
    "if @xmath58 then the probability that @xmath54 is coloured after @xmath56 time units is @xmath59 since if we remove the source node @xmath7 , there are @xmath31 coloured nodes and @xmath60 nodes in total .",
    "thus , we can express @xmath61 as : @xmath62 now let s consider the probability @xmath63 that the number of coloured nodes at time @xmath56 equals @xmath11 .",
    "this is the same as the probability that the time taken to reach @xmath11 nodes is less than or equal to @xmath56 minus the probability that @xmath15 nodes can be reached in this time : @xmath64 combining equations  ( [ eq : fr1 ] ) and  ( [ eq : pc ] ) , and rewriting gives : @xmath65 where @xmath66 is the cdf of the random variable @xmath10 which denotes the time for a randomly chosen colouring process to reach @xmath11 nodes .",
    "recall that for the purpose of this analysis we assume that the distribution of the inter - colouring times ( @xmath67 ) are known apriori .",
    "moreover , from section  [ sec : colouringassumption ] , we are able to iteratively determine the pdf of @xmath10 through equation  ( [ eq : fi+1 ] ) . the conversion from @xmath12 to @xmath68 is just a matter of integrating over time .",
    "in summary , if we know the probability pdfs of the random variables @xmath13 , we can use equation  ( [ eq : fi+1 ] ) to determine @xmath12 ( as well as @xmath68 ) .",
    "equation  ( [ eq : fr ] ) will then give us the cumulative distribution function for the epidemic routing latency .",
    "listing  [ alg : getr ] shows an algorithmic representation of how to derive the distribution for @xmath53 using discrete distributions .",
    "the procedure @xmath69 and @xmath70 are standard matlab functions and compute the convolution between two vectors and cumulative vector sum respectively .",
    "* input : * @xmath71 : vector representing the pdf of @xmath13    @xmath72 @xmath73 @xmath74 i = 3 ",
    "n @xmath75 @xmath73 ( @xmath76,@xmath77 ) / * equation  ( [ eq : fi+1 ] ) * / @xmath78 @xmath73 ( @xmath75 ) @xmath79 @xmath73 @xmath80 / * equation  ( [ eq : fr ] ) * / @xmath79    note that by knowing @xmath53 we can easily deduce the delivery ratio of a protocol given a certain time - to - live ( ttl ) for each packet .",
    "the probability that a message with ttl of @xmath81 will reach its destination is simply @xmath82 ( i.e. , the probability that the message will be delivered within time @xmath81 ) .      in the previous analysis we considered ideal epidemic routing , where nodes propagate and multiply messages without discrimination . in real networks ,",
    "such a strategy results in severe congestion and poor performance .",
    "the other extreme , when the system keeps a single copy of the message at any point in time , can result in very long message latencies unless additional knowledge can be used ( e.g. , geographic forwarding ) .",
    "between these two , there is a middle way where multiple active copies are disseminated .",
    "there are several ways of regulating the number of active copies , including having the maximum number of copies as a parameter , the spray and wait protocol by spyropoulos et al .",
    "@xcite probably being the most well - known such protocol .    in this section",
    "we describe how the colouring model of mobility can be used also to approximate multi - copy routing latency .",
    "our main objective is not to extensively analyse multi - copy routing which has been done commendably elsewhere  @xcite .",
    "rather , our goal is to demonstrate that the colouring model of correlated mobility can also be used to analyse more advanced routing protocols than just ideal epidemic routing .        to make this approximation , we introduce two new node states as shown in figure  [ fig : snw ] .",
    "in addition to a node being coloured or uncoloured , we say that a coloured node can also be active , and that an uncoloured node can be solitary .",
    "the basic intuition is that active nodes are those which hold one of the message copies , and solitary nodes are such nodes which seldom interact with any other nodes .",
    "the way we derive the final routing latency distribution is similar to the process for epidemic routing .",
    "thus , we first analyse how long it would take a hypothetical colouring process to colour all the nodes , and then use this information to derive the time taken to reach the a given destination node .",
    "however , instead of directly using the colouring distribution functions for @xmath13 , we consider a new colouring process @xmath83 with inter colouring times @xmath84 where at most @xmath1 active nodes are allowed to colour other nodes .",
    "the real - world interpretation is that a coloured node is a node such that if it had been the destination of the message , then the message would be delivered .",
    "so a node which meets an active node becomes coloured .    in order to determine the distribution function for @xmath84 , we take advantage of the fact while we do not know exactly the characteristics of the point process @xmath83 , we might know properties of a point process containing a super set of the events in @xmath83 .",
    "figure  [ fig : multicopy ] illustrates the basic idea . the time between colouring two events in this figure is the same as the time of @xmath85 events to happen in the super set process . in general , the probability that @xmath84 is less than @xmath56 is ( which amounts to the cumulative distribution function @xmath86 ) can be expressed as :    @xmath87    where given @xmath11 coloured nodes , @xmath88 represents the probability that @xmath85 meetings of the super set process are needed for a colouring event to occur , and @xmath89 represents the probability that , given @xmath11 coloured nodes , the time for @xmath85 events to occur in the super set process is less than @xmath56 .",
    "we will now proceed to find reasonable approximations for @xmath88 and @xmath89 .",
    "these approximations will partly rely on assumptions of independence which will reduce the fidelity of the model .",
    "however , by introducing these assumptions at a late stage in the process we still retain important characteristics about the node mobility . as a result ,",
    "our approximate model still provides good results in a scenario with correlated mobility as we demonstrate in section  [ sec : evaluation ] .    due to the nature of multi - copy routing",
    "we split the approximation of @xmath86 in three phases .",
    "the first phase when there are less than @xmath1 active nodes is similar to epidemic routing . in the second phase @xmath1 active nodes",
    "is colouring the non - solitary nodes . in the final phase the solitary nodes become coloured .",
    "solitary nodes are such nodes which seldom interact with any other nodes . such behaviour is seldom considered in homogeneous models , but can be seen in the inter - colouring time distributions . if there are no solitary nodes , then there is a symmetry @xmath90 ( colouring the first few nodes take equally long as colouring the last few nodes ) , whereas if there are solitary nodes then @xmath91 for small values of @xmath11 .",
    "that is , it takes much longer to colour the last few nodes , than to colour the first few nodes . for the purpose of this approximation",
    "we define the number of solitary nodes @xmath92 as the largest @xmath11 so that @xmath93 .    1",
    ".   initial phase : in this phase there are no more than @xmath1 coloured nodes ( @xmath94 ) , so the spreading process is essentially the same as epidemic routing .",
    "therefore , we let @xmath95 2 .",
    "middle phase : in this phase , there are more than @xmath1 coloured nodes , but the colouring has not yet reached the solitary nodes ( @xmath96 ) .",
    "we assume that the likelihood of an active node meeting a solitary node is much less than the probability of meeting a non - solitary node .",
    "moreover , if the chance of meeting a coloured node and uncoloured node is proportional to the number of respective nodes , the probability that @xmath85 meetings are needed to meet an uncoloured node is : @xmath97 , where the first part of the expression is the probability of meeting an uncoloured node and the second part is the probability of @xmath98 consequtive meetings happening meeting only coloured nodes .",
    "finally , the probability that the time to meet @xmath85 nodes is less than @xmath56 can be approximated with @xmath99 , since there are @xmath1 nodes that actively colour other nodes and there need to be @xmath85 such colouring events .",
    "end phase : in the final phase we assume that all non - solitary nodes have been coloured , and only the solitary nodes remain @xmath100 . considering the meetings between coloured and uncoloured nodes , the probability that a coloured node is active is @xmath101 so the probability that @xmath85 attempts are required is @xmath102 .",
    "the cdf for the time of @xmath85 meetings between coloured and uncoloured nodes to occur can be expressed as @xmath103 .",
    "these three steps together with equation  ( [ eq : superset ] ) , gives us the cumulative distribution function @xmath86 . by using equation ( [ eq : fr ] )",
    ", we can then calculate the latency distribution function for multi - copy routing in the same way as we did for epidemic routing .",
    "having derived the routing latency distribution based on knowledge of the distribution of the incremental colouring time @xmath13 we now proceed to show how to find the distribution function @xmath14 based on analysing existing mobility traces .",
    "we consider two cases , when the mobility is homogeneous , and the more interesting heterogeneous case . by homogeneous we mean",
    "that the pairwise inter - contact times ( i.e. , the time between contacts ) are identical and independently distributed ( often abbreviated iid ) .",
    "the homogeneous case is not really novel in this context and is provided here briefly in order to explain the baselines we have used and to show that this case is also covered by our general approach .",
    "for the particular case of homogeneous mobility we adopt the model @xmath104 which states that all pair - wise contact point processes should be stationary , renewal , and independent ( see section  [ sec : hierarchy ] for details ) .",
    "now consider a set of coloured nodes that wait for a new contact to appear so that a new node can become coloured .",
    "the time they have to wait is the smallest of all pairwise waiting times for all pairs where one node in the pair is coloured and one node is uncoloured .",
    "if @xmath11 nodes are coloured , then there are @xmath105 such pairs . given the assumption of independence",
    ", we can express the cdf of @xmath13 as : @xmath106 where @xmath107 is the cumulative distribution of the residual , as opposed to the time to the next contact measured from the previous contact time . ]",
    "inter - contact time between two nodes .",
    "we refer to karagiannis et al .",
    "@xcite for further explanation and how to derive the residual distribution from the inter - contact distribution .",
    "if the inter - contact time is exponentially distributed with rate @xmath108 , then the residual waiting time is also exponentially distributed with the same rate and the incremental colouring time @xmath13 will be exponentially distributed with rate @xmath109 .",
    "if node contacts are not independent , then deriving an expression for the colouring distribution @xmath13 will be more challenging .",
    "we now proceed to present a first simple model for approximating it from real heterogeneous traces .    in order to explain the rationale behind the model we first show some data from a real - life trace based on the movement of taxis in the san francisco area .",
    "the trace was collected by piorkowski et al .",
    "@xcite based on data made available by the cabspotting project during may 2008 and we used a subset of the first 100 vehicles from the trace . in the simulation each taxi was assumed to have a wifi device with a range of 550 m .",
    "[ fig : ccdf ] shows the complementary cumulative distribution function ( ccdf ) of each @xmath13 ( recall that @xmath11 corresponds to the number of already coloured nodes ) for the san fransisco cab scenario .",
    "we obtained this data by running 700 of colouring processes on the contact trace and logging the time taken to colour the next node .",
    "the plot uses a logarithmic scale on both axes to highlight the characteristics of the distribution .",
    "this shows that they exhibit an exponential decay ( i.e. , it approaches 0 fast , indicated by the sharp drop of the curves . ) .",
    "the second phenomena that we have observed is that due to clustering of nodes , it is often the case that the next node can be coloured without any waiting time at all . based on these two basic principles we conjecture that the colouring time can be modelled as either being zero with a certain probability , or with a waiting time that is exponentially distributed .",
    "if @xmath11 nodes have been coloured , then we let @xmath110 denote the probability that one of those @xmath11 nodes is in contact with an uncoloured node ( thereby allowing an immediate colouring of the next node ) .",
    "further we let @xmath111 denote the pdf of the exponential distribution with rate @xmath112 .",
    "then , we let the pdf of the simple colouring distribution model be expressed as : @xmath113    while this is clearly a simple model , it can be seen as a first step towards modelling the colouring distribution and seems to work well enough for the scenarios we have studied . we believe that further work is needed to better understand how the colouring distribution is affected by different mobility conditions .",
    "note also that our general scheme is not tied to this particular model and allows further refinements .",
    "to validate our routing latency esitmation model from section  [ sec : latency ] and to test whether it actually provides any added value compared to existing models we performed a series of simulation - based experiments .",
    "we used three different mobility models , the random waypoint mobility model , a model based on a map of helsinki and a real - world trace from the cabs in the san francisco area . after explaining the experiment setup we give the details and results for these models , first for epidemic routing , and then multi - copy routing .",
    "finally , we relate our findings on the effects of heterogeneity for these cases .",
    "we used the one simulator  @xcite to empirically find the ideal epidemic routing latency distribution and the routing latency of spray and wait ( which is an instance of a multi - copy routing protocol ) for the three different mobility models . for each mobility model",
    "we ran the simulation 50 times .",
    "for the first 40000 seconds a new message with random source and destination was sent every 50 to 100 seconds .",
    "the simulation length was sufficiently long for all messages to be delivered .",
    "we used small messages of size 1 byte , and channel bandwidth of 10mb / s .",
    "in addition to the simulated results we used two different theoretical models to predict the latency distribution :    colouring rate : : :    this model uses equation  ( [ eq : colmodel ] ) from    section  [ sec : heterogeneous ] to model the colouring times .",
    "the    necessary parameters @xmath110 and @xmath112    are estimated from the trace file by sampling .",
    "homogeneous : : :    this model assumes independent and exponentially distributed inter - contact times which are used to compute    @xmath71 as described in section  [ sec : homogeneous ] .",
    "this has been a popular model for analysing properties of    delay - tolerant networks  @xcite .    in order not to get a biased value for the inter - contact time distributions due to a too short sampling period , we analysed contacts from 200 000 seconds of simulation .",
    "to further reduce the effect of bias we use kaplan - meier estimation as suggested by zhang et al .",
    "@xcite .",
    "* random waypoint mobility . * in order to validate our model against already known results , we start with considering the random waypoint mobility model . despite its many weaknesses  @xcite , this model of mobility is still very popular model for evaluating ad hoc communication protocols and frameworks .",
    "the network was composed of 60 nodes moving in an area of @xmath114 , each having a wireless range of @xmath115 .",
    "the speed of nodes was constant @xmath116 with no pause time .",
    "[ fig : rwp ] shows the results of the two theoretical models and the simulation .",
    "the graph shows the cumulative probability distribution ( i.e. , the probability that a message will has been delivered within the time given on the x axis ) .",
    "as expected , both models manage to predict the simulated results fairly well .",
    "in fact , the exponential nature of the inter - contact times of rwp is well understood and since the heterogeneous model is more general , we were expecting similar results .    *",
    "helsinki mobility .",
    "* we now turn to a more realistic and interesting mobility model , the helsinki mobility model as introduced by kernen and ott  @xcite .",
    "the model is based on movements in the helsinki downtown area .",
    "the 126 nodes is a mix of pedestrians , cars , and trams , and the move in the downtown helsinki area ( 4500x3400 m ) . we used a transmission range of 50 meters for all devices .",
    "[ fig : helsinki ] shows the results . again",
    "both theoretical models achieve reasonable results .",
    "however , due to the partly heterogeneous nature of the mobility model , the homogeneous model differs somewhat more from the simulated result .",
    "in particular , we see that the s - shape is sharper compared to the observed data .",
    "we further discuss possible explanations for this in section  [ sec : effects ]",
    ".    * san francisco cabs . * [ sec : cab ] finally , the last mobility trace we have analysed is a real - life trace based on the movement of taxis in the san francisco area as explained in section  [ sec : heterogeneous ] .",
    "[ fig : cab ] shows the results . in this case",
    "the homogeneous model fails to capture the routing latency that can be observed in simulation .",
    "however , the heterogeneous model based on equation  ( [ eq : colmodel ] ) is still quite accurate . we were surprised to find such a big difference between the simulated data and the homogeneous model .",
    "something is clearly very different in this trace compared to the synthetic mobility models .",
    "an estimate of the fraction of messages being delivered within an average latency of 2500s in such a scenario would be misleadingly optimistic by 20% .",
    "in section  [ sec : multicopymodel ] we proposed an approximate model to predict the latency distribution of multi - copy routing , which was based on our basic method of modelling correlated connectivity patterns .",
    "we now proceed to validate this model in the same manner as for epidemic routing .",
    "we used a replication factor of 10 , both in the simulation and in calculations ( i.e. , the parameter @xmath1 ) . the results from the helsinki and san francisco cabs mobility models are shown in figures  [ fig : helsinki_snw ] and  [ fig : cab_snw ] ( the results for rwp all follow the simulated line closely so we omit this curve ) . clearly , the results are structurally similar to those of ideal epidemic routing , but routing takes longer time ( about twice the time ) .",
    "this is expected since we exclude the effects of limited bandwidth which otherwise significantly reduces the performance of epidemic routing ( due to congestion ) .        in terms of the ability of the theoretical model to predict the results achieved in simulation",
    ", we can again observe that the model which assumes homogeneous , independent mobility , works reasonably well , for syntactic mobility , but not very well for the trace based on real vehicular movements .",
    "however , when using a colouring - based connectivity model the routing latency distribution closely matches the simulated results , despite the fact our analysis of multi - copy routing was only approximate .",
    "we have seen that the accuracy of the homogeneous model is high for the random waypoint model , but is lower for the helsinki model and completely fails for the san francisco cab trace . in this subsection",
    "we present our investigation into why this is the case .",
    "we proceed by identifying four different aspects of how this model differs from reality .    * correlation . *",
    "we begin with the most striking fact of the results presented so far .",
    "the homogeneous model is way off in predicting the routing latency distribution in the san francisco case .",
    "there are a number of different ways that one can try to explain this , but we believe that the most important one has to do with correlation ( i.e. , non - independence ) of events . the main assumption that makes equation  ( [ eq : homfi ] ) possible , and",
    "thereby the homogeneous model is that the contacts between different pairs of node are independent from each other .",
    "however , this seems to be a false assumption .",
    "we analysed the contact patterns of the three different mobility models by considering the residual inter - contact times for each node during a period of 20000 seconds .",
    "[ fig : corr ] shows the percentage of nodes for which the average correlation among their contacts is higher than a given value ( i.e. , it is the complementary cdf of nodes having a given average correlation ) .",
    "if the pairwise contacts are independent , they will have no ( or very low ) average correlation and we would expect to see a sharp decay of the curve in the beginning of the graph .",
    "this is also what we see for the random waypoint model .",
    "since the nodes move around completely independently from each other , the contacts also become independent .",
    "the helsinki trace shows a higher degree of correlation , but not as significant as for the san francisco cab case . in this case 40% of the nodes have an _ average _ correlation of their contacts which is higher than 0.2 ( a correlation of 1 would mean that all contacts are completely synchronised ) .",
    "this shows a high degree of dependence and we believe provides an explanation of the result we have seen in section  [ sec : cab ] .",
    "note that correlated mobility does not necessarily lead to slower message propagation , in fact there are results indicating the contrary  @xcite .",
    "what we have seen is that the _ prediction _ of the latency becomes too optimistic when not taking correlation into account .",
    "if the model assumes that contacts are `` evenly '' spread out over time , whereas in reality they come in clusters , the results of the model will not be accurate .",
    "* lack of expansion . *",
    "the second prominent effect is what we choose to call lack of expansion ( motivated by the close connection to expander graphs  @xcite ) .",
    "this means that the rate of the colouring process seems not to correspond to the number of coloured nodes .",
    "[ fig : cabcol ] shows the expected time to colour one more node for the san francisco trace .",
    "the x - axis represents the number of nodes already coloured ( up to half the number of nodes ) .",
    "we can see that the homogeneous model predicts that the time decreases ( i.e. , the rate of colouring increases ) as the number of coloured nodes increase . on the other hand , the data based on sampling the distribution of @xmath13 from the mobility trace file ( indicated as `` from trace '' in the figure ) shows that after the first 5 - 10 nodes have been coloured , the rate is more or less independent from the number of coloured nodes .",
    "we believe that this is partly due to the fact that most of the node mobility is relatively local and that nodes are often stationary for long periods of time .",
    "* slow finish . *",
    "another effect that can be observed is that in some rare cases it can take a very long time for a message to reach its destination .",
    "for example in fig .",
    "[ fig : cab ] , even after 10000 seconds not all messages have been delivered to their destinations .",
    "this has to do with the fact that the time to colour all nodes is significantly longer than to colour _ almost _ all the nodes .",
    "the models based on independent contacts predict that it takes the same amount of time to colour the second node as it takes to colour the last node . in both cases",
    "there are @xmath60 possible node pairs that can meet and result in a colouring .",
    "however , we have seen that in reality colouring the last node takes significantly longer ( on average ) .",
    "[ fig : helsinki - fdelta ] shows the effect for the helsinki trace , by plotting the expected colouring time as a function of the number of coloured nodes .",
    "while the homogeneous model is completely symmetrical around the middle , the actual data shows that it takes roughly three times longer to reach the last node than to reach the second node .    *",
    "fast start .",
    "* finally , we consider why the homogeneous model predict a lower probability for delivering messages fast .",
    "this can be seen in both the helsinki and san francisco cases , but is more distinct in the former case .",
    "it can be seen visually in fig .",
    "[ fig : helsinki ] in that the homogeneous model has a slightly flatter start compared to the other curves .",
    "this is because there is a chance that when a message is created , the node at which it is created has a number of neighbours .",
    "thus , the message will not need to wait any time at all before being transmitted . or",
    "if we express it as a colouring process , the time to colour the second node is sometimes zero . for a model based on inter - contact times , this is not considered .",
    "[ fig : colsecond ] shows the cdf of @xmath117 , ( i.e. , the time taken to colour the second node ) for the helsinki case with the colouring rate and homogeneous model .",
    "we see that both curves are similar ( the expected value for @xmath117 is the same for both models ) but that the start value differs .",
    "that is , in the homogeneous model , it is predicted that the chance that the second node is immediately coloured is zero , whereas in fact it is roughly 0.3 .",
    "recall that the colouring time only reflects the contact patterns of the mobility and does not consider message transmission delays .",
    "in this section we have seen how heterogeneous mobility causes correlated contacts and how that affects predictions of routing latency .",
    "our model which is based on colouring rate of nodes was the only model able to accurately predict the routing latency distribution in these cases .",
    "there is a rich body of work discussing detailed analytic models for latency and delivery ratio in delay - tolerant networks .",
    "the work ranges from experimentally grounded papers aiming to find models and frameworks that fit to observed data to more abstract models dealing with asymptotic bounds on information propagation .",
    "many of these approaches are based on or inspired by epidemiological models  @xcite .",
    "we have previously characterised the worst - case latency of broadcast for such networks using expander graph techniques  @xcite . in a preliminary version of this paper",
    "we developed the basic framework for deriving the latency of ideal epidemic routing  @xcite .",
    "this paper extends the latter work by incorporating an analysis of multi - copy routing as well as presenting a more rigrorous matematical basis with a hierarchy of connectivity models .",
    "closest to our work in this paper is that of resta and santi  @xcite , where the authors present an analytical framework for predicting routing performance in delay - tolerant networks .",
    "the authors analyse epidemic and two - hops routing using a colouring process under similar assumptions as in our paper .",
    "the main difference is that our work considers heterogeneous node mobility ( including correlated inter - contact times ) , whereas the work by resta and santi assumes independent exponential inter - contact times .",
    "zhang et al .",
    "@xcite analyse epidemic routing taking into account more factors such as limited buffer space and signalling .",
    "their model is based on differential equations also assuming independent exponentially distributed inter - contact times .",
    "a similar technique is used by altman et al .",
    "@xcite , and extended to deal with multiple classes of mobility movements by spyropoulos et al .",
    "@xcite .",
    "kuiper and nadjm - tehrani  @xcite present a quite different approach for analysing performance of geographic routing in large scale .",
    "their framework can be used based on abstract mobility and protocol models together with extracting distributions for arbitrary mobility models and protocols from simulation data ( in smaller scale ) .",
    "the main application area for this model is geographic routing where waiting and forwarding are naturally the two modes of operation in routing .",
    "the assumption of exponential inter - contact times was first challenged by chaintreau et al .",
    "@xcite who observed a power law of the distribution for a set of real mobility traces ( i.e. , meaning that there is a relatively high likelihood of very long inter - contact times ) .",
    "later work by karagiannis et al .",
    "@xcite as well as zhu et al .",
    "@xcite showed that the power law applied only for a part of the distributions and that from a certain time point , the exponential model better explains the data .",
    "pasarella and conti  @xcite present a model suggesting that an aggregate power law distribution can in fact be the result of pairs with different but still independent exponentially distributed contacts .",
    "such heterogeneous but still independent contact patterns have also been analysed in terms of delay performance by lee and eun  @xcite .",
    "our work on the other hand , suggests that the exact characteristic of the inter - contact distribution is less relevant when contacts are not independent . correlated and heterogeneous mobility and the effect on routing",
    "have recently been discussed in several papers  @xcite , but to our knowledge , we are the first to provide a framework that accurately captures the routing latency distribution for real traces with heterogeneous and correlated movements .",
    "node mobility is often one of the most important factors to determine the performance of wireless multi - hop communication .",
    "however , the disparity of different application scenarios , and the difficulty of obtaining representative large - scale mobility traces have often forced the research community to use coarse and idealistic models for their analyses . in this paper",
    "we proposed to model node connectivity as a colouring process in the analysis of message dissemination protocols .",
    "such model of colouring times is strictly weaker in assumptions on the contact patterns compared to the case where node pairs are assumed to meet independently of other node pairs .",
    "moreover , this basic model of node connectivity can be used to derive the full routing latency distribution of ideal epidemic routing as well as to accurately approximate the routing latency distribution of multi - copy routing . at a more general level , we believe that this approach could also be valid for information dissemination in social computing applications where individual actors interact in more complex patterns .",
    "complex node mobility requires complex models of connectivity . when modelling node connectivity as a set of inter - colouring distributions , we need to collect more parameters from the mobility trace than just the contact rate .",
    "moreover , the calculations proposed in the paper requires computer power to convolute the distributions .",
    "however , given the complexity of the underlying systems , it is not surprising that computer power is needed to provide good models .",
    "the key insight that we try to convey is that node contact patterns should be modelled with a sufficient level of fidelity to account for complex node interactions .",
    "we believe that the colouring rate model for node connectivity provides a good trade - off between abstraction and fidelity .",
    "this work was supported by the swedish research council ( vr ) grant 2008 - 4667 .",
    "in this appendix we present a semi - formal proof of the proposition that @xmath23 models a strictly wider set of contact point processes than the @xmath118 model as discussed in section  [ sec : hierarchy ] .",
    "we first show that if @xmath118 is true for some point process , it follows that @xmath23 is also true .",
    "we then proceed to show that the opposite is not true .",
    "consider a set of nodes whose contact events constitute a multivariate point process for which @xmath120 is true , meaning that the contact events for each pair of nodes is independent from every other pair of nodes , and the processes are stationary . moreover ,",
    "consider an arbitrary colouring process @xmath121 and its associated sequence of inter - colouring times @xmath122 , we will now prove that for any @xmath11 the sum @xmath123 is independent from the next inter - colouring time : @xmath19 .",
    "figure  [ fig : inter - colouring ] shows an arbitrary colouring process where @xmath11 nodes have been coloured .",
    "the time to colour one more node @xmath13 will depend on all future meeting events @xmath124 such that either @xmath125 or @xmath126 has been previously coloured but not both .",
    "( in the particular case of the figure the first such contact event is between nodes @xmath127 and @xmath85 . )",
    "note that since at least one of the nodes in all relevant contact events @xmath124 one node is not coloured whereas all previous colour events contain only coloured nodes , we know from the assumption @xmath35 stated in section [ sec : hierarchy ] that all point processes @xmath128 are independent from all point processes whose events are part of the colouring process up to the @xmath11th colouring .",
    "since the event @xmath129 thus is independent from all previous events in the colouring process ( including meetings @xmath38 and @xmath130 ) , then the time @xmath13 will also be independent from the time from event @xmath38 to @xmath130 , so @xmath131 .",
    "we will prove this with a counterexample of a contact process that fulfils @xmath133 , but not @xmath35 .",
    "consider a set of three nodes @xmath134 .",
    "assume that contacts always occur according to the following infinite sequence : @xmath135 .",
    "moreover , assume that the time between two such contacts is independent and identically distributed with an exponential distribution .",
    "however , the _ pairwise _ contacts are clearly not independent of each other since they are ordered , so @xmath35 is not true .",
    "what remains is to show that @xmath133 is true .",
    "any colouring process in this system will have only two inter - colouring times : @xmath136 and @xmath137 , so @xmath138 .",
    "for @xmath23 to hold we need to show that @xmath139 ( follows immediately , since @xmath17 ) and @xmath140 , which is the same as @xmath141 .",
    "the length of @xmath136 depends on at what point in the contact sequence the colouring process starts and if the next meeting involves the only coloured node or not ( see figure  [ fig : counterexample ] ) .",
    "the next inter - colouring time @xmath137 is always exactly equal to the time between the next two contacts in the system . by the assumptions of our counterexample this time is independent from all other inter - colouring times .",
    "since @xmath136 is only decided by the start time and the previous contact times it follows that @xmath141 , which means that @xmath133 holds .",
    "thus , we have identified an example where @xmath23 is true and",
    "@xmath35 is false .          m.  asplund and s.  nadjm - tehrani . a partition - tolerant manycast algorithm for disaster area networks . in _ 28th international symposium on reliable distributed systems ( srds)_. ieee , 2009 .",
    "doi :  10.1109/srds.2009.16 .",
    "m.  asplund and s.  nadjm - tehrani . analysing delay - tolerant networks with correlated mobility . in x",
    "li , s.  papavassiliou , and s.  ruehrup , editors , _ 11th international conference on ad - hoc networks and wireless ( adhocnow ) _ , volume 7363 of _",
    "lncs_. springer , 2012 .",
    "doi :  10.1007/978 - 3 - 642 - 31638 - 8_7 .",
    "e.  bulut , s.  geyik , and b.  szymanski .",
    "efficient routing in delay tolerant networks with correlated node mobility . in _ mobile adhoc and sensor systems ( mass ) ,",
    "2010 ieee 7th international conference on _ , 2010 .",
    "doi :  10.1109/mass.2010.5663962 .",
    "h.  cai and d.  y. eun . toward stochastic anatomy of inter - meeting time distribution under general mobility models . in _ proceedings of the 9th",
    "acm international symposium on mobile ad hoc networking and computing _ , mobihoc 08 .",
    "acm , 2008 .",
    "doi :  10.1145/1374618.1374655 .",
    "m.  garetto , p.  giaccone , and e.  leonardi .",
    "capacity scaling in delay tolerant networks with heterogeneous mobile nodes . in _ proc .",
    "8th acm international symposium on mobile ad hoc networking and computing ( mobihoc)_. acm , 2007 .",
    "doi :  10.1145/1288107.1288114 .",
    "t.  hossmann , t.  spyropoulos , and f.  legendre .",
    "putting contacts into context : mobility modeling beyond inter - contact times . in _",
    "twelfth acm international symposium on mobile ad hoc networking and computing ( mobihoc 11)_. acm , 2011 .",
    "a.  kernen , j.  ott , and t.  krkkinen .",
    "the one simulator for dtn protocol evaluation . in _ proceedings of the 2nd international conference on simulation tools and techniques _ , simutools 09 .",
    "icst , 2009 .",
    "doi :  10.4108/icst.simutools2009.5674 .",
    "a.  khelil , c.  becker , j.  tian , and k.  rothermel . an epidemic model for information diffusion in manets . in _ proc .",
    "5th acm international workshop on modeling analysis and simulation of wireless and mobile systems ( mswim)_. acm , 2002 .",
    "doi :  10.1145/570758.570768 .",
    "s.  lahde , m.  doering , w .- b .",
    "pttner , g.  lammert , and l.  wolf . a practical analysis of communication characteristics for mobile and distributed pollution measurements on the road .",
    ", 7(10 ) , 2007 .",
    "doi :  10.1002/wcm.522 .",
    "lee and d.  y. eun . exploiting heterogeneity in mobile opportunistic networks : an analytic approach . in _",
    "sensor mesh and ad hoc communications and networks ( secon ) , 2010 7th annual ieee communications society conference on _ , 2010 .",
    "doi :  10.1109/secon.2010.5508265 .",
    "r.  lu , x.  lin , and x.  shen .",
    "spring : a social - based privacy - preserving packet forwarding protocol for vehicular delay tolerant networks . in _",
    "infocom , 2010 proceedings ieee _ , 2010 .",
    "doi :  10.1109/infcom.2010.5462161 .",
    "a.  passarella and m.  conti .",
    "characterising aggregate inter - contact times in heterogeneous opportunistic networks . in j.  domingo - pascual , p.  manzoni , s.  palazzo , a.  pont , and c.  scoglio , editors , _ networking 2011 _ , volume 6641 of _ lecture notes in computer science _ ,",
    "pages 301313 .",
    "springer berlin / heidelberg , 2011 .",
    "doi :  10.1007/978 - 3 - 642 - 20798 - 3_23 .",
    "a.  picu , t.  spyropoulos , and t.  hossmann .",
    "an analysis of the information spreading delay in heterogeneous mobility dtns . in _ world of wireless , mobile and multimedia networks ( wowmom ) ,",
    "2012 ieee international symposium on a _ , 2012 .",
    "doi :  10.1109/wowmom.2012.6263682 .",
    "m.  piorkowski , n.  sarafijanovic - djukic , and m.  grossglauser . a parsimonious model of mobile partitioned networks with clustering . in _",
    "first international conference on communication systems and networks ( comsnets)_. ieee , 2009 .",
    "doi :  10.1109/comsnets.2009.4808865 .",
    "t.  spyropoulos , k.  psounis , and c.  s. raghavendra .",
    "spray and wait : an efficient routing scheme for intermittently connected mobile networks . in _ proc .",
    "sigcomm workshop on delay - tolerant networking ( wdtn)_. acm , 2005 .",
    "doi :  10.1145/1080139.1080143 .",
    "j.  yoon , m.  liu , and b.  noble .",
    "random waypoint considered harmful . in _ proc .",
    "infocom 2003 .",
    "twenty - second annual joint conference of the ieee computer and communications societies .",
    "ieee _ , 2003 .",
    "doi :  10.1109/infcom.2003.1208967 ."
  ],
  "abstract_text": [
    "<S> when nodes in a mobile network cluster together or move according to common external factors ( e.g. , cars that follow the road network ) , the resulting contact patterns become correlated . in this work </S>",
    "<S> we address the question of modelling such correlated mobility movements for the analysis of intermittently connected networks . </S>",
    "<S> we propose to use the concept of node colouring time to characterise dynamic node contact patterns . </S>",
    "<S> we analyse how this model compares to existing work , and demonstrate how to extract the relevant data from actual trace files . </S>",
    "<S> moreover , we show how this information can be used to derive the latency distribution of dtn routing protocols . </S>",
    "<S> our model achieves a very good fit to simulated results based on real vehicular mobility traces , whereas models which assumes independent contacts do not . </S>"
  ]
}