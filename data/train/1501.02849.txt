{
  "article_text": [
    "given a family of combinatorial objects with certain properties , a fundamental problem in extremal combinatorics is to describe the _ typical _ structure of these objects .",
    "this was initiated in a seminal work of erds , kleitman , and rothschild  @xcite in 1976 .",
    "they proved that almost all triangle - free graphs on @xmath1 vertices are bipartite , that is , the proportion of @xmath1-vertex triangle - free graphs that are not bipartite goes to zero as @xmath7 .",
    "since then , various extensions of this theorem have been established .",
    "the typical structure of @xmath8-free graphs has been studied when @xmath8 is a large clique  @xcite , @xmath8 is a fixed color - critical subgraph  @xcite , @xmath8 is a finite family of subgraphs  @xcite , and @xmath8 is an induced subgraph  @xcite . for sparse @xmath8-free graphs ,",
    "analogous problems were examined in  @xcite . in the context of other combinatorial objects , the typical structure of hypergraphs with a fixed forbidden subgraph",
    "is investigated for example in  @xcite ; the typical structure of intersecting families of discrete structures is studied in  @xcite ; see also  @xcite for a description of the typical sum - free set in finite abelian groups .",
    "in contrast to the family of all @xmath1-vertex triangle - free graphs , which has been well - studied , very little was known about the subfamily consisting of all those that are maximal ( under graph inclusion ) triangle - free .",
    "note that the size of the family of triangle - free graphs on @xmath9 $ ] is at least @xmath10 ( all subgraphs of a complete balanced bipartite graph ) , and at most @xmath11 by the result of erds , kleitman , and rothschild from 1976 . until recently , it was not even known if the subfamily of maximal triangle - free graphs is significantly smaller . as a first step , erds suggested the following problem ( as stated in  @xcite ) : determine or estimate the number of maximal triangle - free graphs on @xmath1 vertices .",
    "the following folklore construction shows that there are at least @xmath12 maximal triangle - free graphs on the vertex set @xmath9:=\\{1,\\dots , n\\}$ ] .    * lower bound construction . *",
    "assume that @xmath1 is a multiple of @xmath13 .",
    "start with a graph on a vertex set @xmath3 with @xmath14 such that @xmath15 induces a perfect matching and @xmath5 is an independent set ( see figure [ fig1a ] ) .",
    "for each pair of a matching edge @xmath16 in @xmath15 and a vertex @xmath17 , add exactly one of the edges @xmath18 or @xmath19 .",
    "since there are @xmath20 matching edges in @xmath15 and @xmath21 vertices in @xmath5 , we obtain @xmath12 triangle - free graphs .",
    "these graphs may not be maximal triangle - free , but since no further edges can be added between @xmath15 and @xmath5 , all of these @xmath12 graphs extend to distinct maximal ones .",
    "0.4     0.4     balogh and petkov  @xcite recently proved a matching upper bound , that the number of maximal triangle - free graphs on vertex set @xmath9 $ ] is at most @xmath0 .",
    "now that the counting problem is resolved , one would naturally ask how do most of the maximal triangle - free graphs look , i.e. what is their typical structure .",
    "our main result provides an answer to this question .",
    "[ thm_main ] for almost every maximal triangle - free graph @xmath2 on @xmath9 $ ] , there is a vertex partition @xmath3 such that @xmath4 $ ] is a perfect matching and @xmath5 is an independent set .",
    "it is worth mentioning that once a maximal triangle - free graph has the above partition @xmath3 , then there has to be exactly one edge between every matching edge of @xmath15 and every vertex of @xmath5 .",
    "thus theorem  [ thm_main ] implies that almost all maximal triangle - free graphs have the same structure as the graphs in the lower bound construction above .",
    "furthermore , our proof yields that the number of maximal triangle - free graphs without the desired structure is exponentially smaller than the number of maximal triangle - free graphs : let @xmath22 denote the set of all maximal triangle - free graphs on @xmath9 $ ] , and @xmath23 denote the family of graphs from @xmath22 that admit a vertex partition such that one part induces a perfect matching and the other is an independent set .",
    "then there exists an absolute constant @xmath24 such that for @xmath1 sufficiently large , @xmath25",
    ".    it would be interesting to have similar results for @xmath26 , the number of maximal @xmath27-free graphs on @xmath9 $ ] .",
    "alon pointed out that if the number of maximal @xmath27-free graphs is @xmath28 , then @xmath29 is monotone increasing in @xmath30 , though not necessarily strictly monotone .",
    "for the lower bound , a discussion with alon and uczak led to the following construction that gives @xmath31 maximal @xmath32-free graphs : assume that @xmath1 is a multiple of @xmath33 .",
    "partition the vertex set @xmath9 $ ] into @xmath30 equal classes @xmath34 , and place a perfect matching into each of @xmath35 ( see figure [ fig1b ] ) . between the classes we have the following connection rule : between the vertices of two matching edges from different classes @xmath36 and @xmath37 place exactly three edges , and between a vertex in @xmath5 and a matching edge in @xmath36 put exactly one edge .",
    "for the upper bound , by erds , frankl and rdl  @xcite , @xmath38 .",
    "a slightly improved bound is given in @xcite : for every @xmath30 there is @xmath39 such that @xmath40 for @xmath1 sufficiently large .",
    "we suspect that the lower bound is the `` correct value '' , i.e. that @xmath41 .",
    "* related problem .",
    "* there is a surprising connection between the family of maximal triangle - free graphs and the family of maximal sum - free sets in @xmath9 $ ] .",
    "more recently , balogh , liu , sharifzadeh and treglown  @xcite proved that the number of maximal sum - free sets in @xmath9 $ ] is @xmath42 , settling a conjecture of cameron and erds .",
    "although neither of the results imply one another , the methods in both of the papers fall in the same general framework , in which a rough structure of the family is obtained first using appropriate container lemma and removal lemma .",
    "these are theorems  [ thm1 ] and  [ thm2 ] in this paper , and a group removal lemma of green  @xcite and a granular theorem of green and ruzsa  @xcite in the sum - free case .",
    "both problems can then be translated into bounding the number of maximal independent sets in some auxiliary link graphs . in particular , one of the tools here ( lemma  [ lem - mis - p3 ] ) is also utilized in  @xcite to give an asymptotic of the number of maximal sum - free sets in @xmath9 $ ] .    * organization .",
    "* we first introduce all the tools in section  [ s_tools ] , then we prove lemma  [ lem - asymp ] , the asymptotic version of theorem  [ thm_main ] , in section  [ s_asymptotic ] . using this asymptotic result",
    "we prove theorem  [ thm_main ] in section  [ s_proof ] .",
    "* notation . * for a graph @xmath2 , denote by @xmath43 the number of vertices in @xmath2 .",
    "an @xmath1-vertex graph @xmath2 is _",
    "@xmath44-close to bipartite _",
    "if @xmath2 can be made bipartite by removing at most @xmath44 edges .",
    "denote by @xmath45 the path on @xmath46 vertices .",
    "write @xmath47 for the number of maximal independent sets in @xmath2",
    ". the _ cartesian product _ @xmath48 of graphs @xmath2 and @xmath8 is a graph with vertex set @xmath49 such that two vertices @xmath50 and @xmath51 are adjacent if and only if either @xmath52 and @xmath53 , or @xmath54 and @xmath55 . for a fixed graph @xmath2 , let @xmath56 be the set of neighbors of a vertex @xmath57 in @xmath2 , and let @xmath58 and @xmath59 . for @xmath60 and @xmath61 , denote by @xmath62 the set of all neighbors of @xmath57 in @xmath15 ( i.e. @xmath63 ) , and let @xmath64 .",
    "denote by @xmath65 the maximum degree of the induced subgraph @xmath4 $ ] . given a vertex partition @xmath66 , edges with one endpoint in @xmath67 and the other endpoint in @xmath68 are _",
    "@xmath69$]-edges_. a vertex cut",
    "@xmath70 is a _ max - cut _ if the number of @xmath71$]-edges is not smaller than the size of any other cut .",
    "the _ inner neighbors _ of a vertex @xmath57 are its neighbors in the same partite set as @xmath57 ( i.e.  @xmath72 if @xmath73 ) .",
    "the _ inner degree _ of a vertex is the number of its inner neighbors .",
    "we say that a family @xmath74 of maximal triangle - free graphs is _",
    "negligible _ if there exists an absolute constant @xmath75 such that @xmath76 .",
    "our first tool is a corollary of recent powerful counting theorems of balogh - morris - samotij  ( * ? ? ?",
    "* theorem 2.2 . ) , and saxton - thomason  @xcite .",
    "[ thm1 ] for all @xmath77 there is @xmath78 such that there is a family @xmath74 of at most @xmath79 graphs on @xmath9 $ ] , each containing at most @xmath80 triangles , such that for every triangle - free graph @xmath2 on @xmath9 $ ] there is an @xmath81 such that @xmath82 , where @xmath1 is sufficiently large .",
    "the graphs in @xmath74 in the above theorem will be referred to as _ containers_. a weaker version of theorem  [ thm1 ] , which can be concluded from the szemerdi regularity lemma , could be used instead of theorem  [ thm1 ] here .",
    "the only difference is that the upper bound on the size of @xmath74 is @xmath83 .",
    "we need two well - known results .",
    "the first is the ruzsa - szemerdi triangle - removal lemma  @xcite and the second is the erds - simonovits stability theorem @xcite :    [ thm2 ] for every @xmath84 there exists @xmath85 and @xmath86 such that any graph @xmath2 on @xmath87 vertices with at most @xmath80 triangles can be made triangle - free by removing at most @xmath88 edges .",
    "[ thm3 ] for every @xmath84 there exists @xmath85 and @xmath86 such that every triangle - free graph @xmath2 on @xmath87 vertices with at least @xmath89 edges can be made bipartite by removing at most @xmath88 edges .",
    "we also need the following lemma , which is an extension of results of moon - moser  @xcite and hujter - tuza  @xcite .",
    "[ lem - mis - p3 ] let @xmath2 be an @xmath1-vertex triangle - free graph .",
    "if @xmath2 contains at least @xmath46 vertex - disjoint @xmath6 s , then @xmath90    the proof is by induction on @xmath1 .",
    "the base case of the induction is @xmath91 with @xmath92 , for which @xmath93 .    for the inductive step ,",
    "let @xmath2 be a triangle - free graph on @xmath94 vertices with @xmath46 vertex - disjoint @xmath6 s , and let @xmath57 be any vertex in @xmath2 .",
    "observe that @xmath95 is the number of maximal independent sets containing @xmath57 , and that @xmath96 bounds from above the number of maximal independent sets not containing @xmath57 .",
    "therefore , @xmath97 if @xmath2 has @xmath46 vertex - disjoint @xmath6 s , then @xmath98 has at least @xmath99 vertex - disjoint @xmath6 s , and so , by the induction hypothesis ,    @xmath100 the function @xmath101 is a decreasing function with @xmath102 .",
    "so , if there exists a vertex of degree at least @xmath103 in @xmath2 , then we have @xmath104 as desired .",
    "it remains to verify for graphs with @xmath105 .",
    "observe that we can assume that @xmath2 is connected . indeed , if @xmath106 are maximal components of @xmath2 , and each of @xmath107 has @xmath108 vertices and @xmath109 vertex - disjoint @xmath6 s , then @xmath110    every connected graph with @xmath105 and @xmath94 vertices is either a path or a cycle .",
    "suppose first that @xmath2 is a path @xmath111 .",
    "we have @xmath112 , @xmath113 . by fredi  (",
    "* example  1.1 ) , @xmath114 for all @xmath115 . by the induction hypothesis thus @xmath116",
    "let now @xmath2 be a cycle @xmath117 .",
    "we have @xmath118 and @xmath119 . by fredi  (",
    "* example  1.2 ) , @xmath120 for all @xmath121 .",
    "therefore , by the induction hypothesis , @xmath122    a disjoint union of @xmath123 s and a matching shows that the constant @xmath124 for which @xmath125 in lemma  [ lem - mis - p3 ] can not be smaller than @xmath126 .",
    "in this section we prove an asymptotic version of theorem   [ thm_main ] :    [ lem - asymp ] fix any @xmath127 .",
    "almost every maximal triangle - free graph @xmath2 on the vertex set @xmath9 $ ] satisfies the following : for any max - cut @xmath128 , there exist @xmath129 and @xmath130 such that    \\(i ) @xmath131 and @xmath132 $ ] is an induced perfect matching , and    \\(ii ) @xmath133 and @xmath134 is an independent set .",
    "the outline of the proof is as follows .",
    "we observe that every maximal triangle - free graph @xmath2 on @xmath9 $ ] can be built in the following three steps .    1 .",
    "choose a max - cut @xmath3 for @xmath2 .",
    "2 .   choose triangle - free graphs @xmath135 and @xmath136 on the vertex sets @xmath15 and @xmath5 , respectively .",
    "3 .   extend @xmath137 to a maximal triangle - free graph by adding edges between @xmath15 and @xmath5 .",
    "we give an upper bound on the number of choices for each step .",
    "first , there are at most @xmath138 ways to fix a max - cut @xmath3 in ( s1 ) . for ( s2 ) , we show ( lemma  [ lem - large ] ) that almost all maximal triangle - free graphs on @xmath9 $ ] are @xmath139-close to bipartite , which implies that the number of choices for most of these graphs in ( s2 ) is at most @xmath83 . for fixed @xmath140",
    ", we bound , using claim  [ cl_mis ] , the number of choices in ( s3 ) by the number of maximal independent sets in some auxiliary link graph @xmath141 .",
    "this enables us to use lemma  [ lem - mis - p3 ] to force the desired structure on @xmath135 and @xmath136 .",
    "[ * link graph * ] given edge - disjoint graphs @xmath142 and @xmath135 on @xmath9 $ ] , define the _ link graph _ @xmath143 $ ] of @xmath135 on @xmath142 as follows : @xmath144    [ cl_triangle_free ] if @xmath142 and @xmath135 are triangle - free , then @xmath145 $ ] is triangle - free .",
    "indeed , otherwise there exist @xmath146 and @xmath147 such that the @xmath103-sets @xmath148 , @xmath149 , and @xmath150 span triangles . since @xmath142 is triangle - free , the edges @xmath151 share a common endpoint , and @xmath152 spans a triangle .",
    "this is a contradiction since @xmath135 is triangle - free .",
    "[ cl_mis ] let @xmath135 and @xmath142 be two edge - disjoint triangle - free graphs on @xmath9 $ ] such that there is no triangle @xmath153 in @xmath154 with @xmath155 and @xmath156 .",
    "then the number of maximal triangle - free subgraphs of @xmath154 containing @xmath135 is at most @xmath157)$ ] .",
    "let @xmath2 be a maximal triangle - free subgraph of @xmath154 that contains @xmath135 .",
    "we show that @xmath158 spans a maximal independent set in @xmath159 $ ] .",
    "clearly , @xmath158 spans an independent set in @xmath141 because otherwise there would be a triangle in @xmath2 .",
    "suppose that @xmath158 is not a maximal independent set in @xmath141 .",
    "then there is @xmath160 such that , for any two edges @xmath161 and @xmath162 , @xmath163 does not form a triangle . by our assumption , there is no triangle @xmath164 with @xmath165 and no triangle @xmath166 with @xmath167 .",
    "therefore , @xmath168 is triangle - free , contradicting the maximality of @xmath2 .",
    "we fix the following parameters that will be used throughout the rest of the paper .",
    "let @xmath169 be sufficiently small constants satisfying the following hierachy : @xmath170 where @xmath171 is the constant returned from theorem  [ thm3 ] with input @xmath172 .",
    "the notation @xmath173 above means that @xmath172 is a sufficiently small function of @xmath174 to satisfy some inequalities in the proof . in the following proof",
    ", @xmath175 is the constant returned from theorem  [ thm2 ] with input @xmath172 , and in the rest of the paper , we shall always assume that @xmath1 is sufficiently large , even when this is not explicitly stated .",
    "[ lem - large ] almost all maximal triangle - free graphs on @xmath9 $ ] are @xmath176-close to bipartite .",
    "let @xmath74 be the family of graphs obtained from theorem  [ thm1 ] using @xmath177 .",
    "then every triangle - free graph on @xmath9 $ ] is a subgraph of some container @xmath178 .",
    "we first show that the family of maximal triangle - free graphs in small containers is negligible .",
    "consider a container @xmath81 with @xmath179 .",
    "since @xmath180 contains at most @xmath181 triangles , by theorem  [ thm2 ] , we can find @xmath142 and @xmath182 , subgraphs of @xmath180 , such that @xmath183 , where @xmath142 is triangle - free , and @xmath184 .",
    "for each @xmath178 , fix such a pair @xmath185 .",
    "then every maximal triangle - free graph in @xmath180 can be built in two steps :    1 .",
    "choose a triangle - free @xmath186 ; 2 .",
    "extend @xmath135 in @xmath142 to a maximal triangle - free graph .",
    "the number of choices in ( i ) is at most @xmath187 .",
    "let @xmath159 $ ] be the link graph of @xmath135 on @xmath142 . by claim  [ cl_triangle_free ] , @xmath141 is triangle - free .",
    "claim  [ cl_mis ] implies that the number of maximal triangle - free graphs in @xmath154 containing @xmath135 ( i.e.  the number of extensions in ( ii ) ) is at most @xmath188 .",
    "thus , by lemma  [ lem - mis - p3 ] , @xmath189 therefore , the number of maximal triangle - free graphs in small containers is at most @xmath190    from now on , we may consider only maximal triangle - free graphs contained in containers of size at least @xmath191 .",
    "let @xmath180 be any large container . recall that by theorem  [ thm2 ] , @xmath183 , where @xmath142 is triangle - free with @xmath192 and @xmath184 .",
    "since @xmath193 , by theorem  [ thm3 ] , @xmath142 can be made bipartite by removing at most @xmath88 edges . since @xmath194",
    ", @xmath180 can be made bipartite by removing at most @xmath195 edges .",
    "therefore , every maximal triangle - free graphs contained in @xmath180 is @xmath176-close to bipartite .",
    "fix @xmath140 as in steps ( s1 ) and ( s2 ) .",
    "let @xmath142 be the complete bipartite graph with parts @xmath15 and @xmath5 . by claim  [ cl_mis ] ,",
    "the number of ways to extend @xmath137 in ( s3 ) is at most @xmath196)$ ] .",
    "the number of ways to fix @xmath15 and @xmath5 is at most @xmath138 , and by lemma  [ lem - large ] , the number of ways to fix @xmath135 and @xmath136 is at most @xmath197 .",
    "it follows that if @xmath196)$ ] is smaller than @xmath198 for some @xmath199 , then the family of maximal triangle - free graphs with such @xmath200 is negligible .",
    "[ claim_l ] @xmath201=s\\square t$ ] .    note that @xmath202)=e(a)=\\{(x , y):x\\in x , y\\in y\\}=v(s\\square t)$ ] . using the definition of the cartesian product , @xmath203 and @xmath204",
    "are adjacent in @xmath205 if and only if @xmath206 and @xmath207 , or @xmath208 and @xmath209 , i.e. if and only if @xmath210 or @xmath211 form a triangle in @xmath154 .",
    "but by the definition of @xmath201 $ ] , this is exactly when @xmath203 and @xmath204 are adjacent in @xmath201 $ ] .    claim  [ claim_l ] allows us to rule out certain structures of @xmath135 and @xmath136 since , by lemma  [ lem - mis - p3 ] , if @xmath205 has many vertex disjoint @xmath6 s then the number of maximal - triangle free graphs with @xmath212 $ ] and @xmath213 $ ] is much smaller than @xmath12 .",
    "[ cl - xy ] for almost all maximal triangle - free @xmath1-vertex graphs @xmath2 with a max - cut @xmath3 ,    \\(i ) @xmath214 , and    \\(ii ) @xmath215 .",
    "let @xmath2 be a maximal triangle - free graph with a max - cut @xmath3 .",
    "by lemma  [ lem - large ] , almost all maximal triangle - free graphs are @xmath176-close to bipartite , which implies that the number of choices for @xmath4 $ ] and @xmath216 $ ] is at most @xmath217 .",
    "denote by @xmath142 the complete bipartite graph with partite sets @xmath15 and @xmath5 .    for ( i )",
    ", suppose that @xmath218",
    ". then @xmath219 , and for any fixed @xmath135 on @xmath15 and @xmath136 on @xmath5 , lemma  [ lem - mis - p3 ] implies @xmath196)\\leq 2^{n^2/8-\\beta^2 n^2/2}$ ] .",
    "since @xmath220 , it follows from the discussion before claim  [ claim_l ] that the family of maximal triangle - free graphs with such max - cut @xmath3 is negligible .    for ( ii ) ,",
    "suppose that @xmath2 has a vertex @xmath221 of inner degree at least @xmath222 . since @xmath3 is a max - cut , @xmath223 .",
    "since @xmath2 is triangle - free , there is no edge in between @xmath224 and @xmath225 .",
    "let @xmath226 be a graph formed by deleting all edges between @xmath224 and @xmath227 from @xmath142 .",
    "define a link graph @xmath228 $ ] of @xmath137 on @xmath229 . in this case , the number of choices for ( s3 ) is at most @xmath230 .",
    "since @xmath231 is triangle - free ( claim  [ cl_triangle_free ] ) and @xmath232 , it follows from lemma  [ lem - mis - p3 ] that @xmath233    first , we show that for almost every maximal triangle - free graph @xmath2 on @xmath9 $ ] with max - cut @xmath3 and with @xmath4=s$ ] and @xmath216=t$ ] , there are very few vertex - disjoint @xmath6 s in @xmath137 .",
    "suppose that there exist @xmath222 vertex - disjoint @xmath6 s in @xmath135 or in @xmath136 , say in @xmath135 .",
    "since @xmath201=s\\square t$ ] by claim  [ claim_l ] , and for each of the @xmath222 vertex - disjoint @xmath6 s in @xmath135 we obtain @xmath234 vertex - disjoint @xmath6 s in @xmath205 , the number of vertex - disjoint @xmath6 s in @xmath201 $ ] is at least @xmath235 . by claim  [ cl - xy](i ) , @xmath236",
    ". then by lemma  [ lem - mis - p3 ] , @xmath237)\\leq 2^{|s\\square t|/2-\\beta n^2/75}\\leq2^{n^2/8-\\beta n^2/75}.\\ ] ] since @xmath220 , the family of maximal triangle - free graphs with such @xmath200 is negligible . hence ,",
    "for almost every maximal triangle - free graph @xmath2 with some @xmath200 , we can find some induced subgraphs @xmath238 and @xmath239 with @xmath240 and @xmath241 such that both @xmath242 and @xmath243 are @xmath6-free .",
    "this implies that each of @xmath242 and @xmath243 is a union of a matching and an independent set .    0.4     0.4     next , we show that at most one of the graphs @xmath135 and @xmath136 can have a large matching .",
    "suppose both @xmath135 and @xmath136 have a matching of size at least @xmath222 , then there are at least @xmath244 vertex - disjoint @xmath245 s in @xmath205 , each of which contains a copy of @xmath6 ( see figure  [ fig2a ] ) .",
    "it follows that the family of such graphs is negligible since @xmath196)\\le 2^{n^2/8-\\beta^2n^2/25}$ ] and @xmath220 .",
    "hence , we can assume that all but @xmath246 vertices in @xmath136 form an independent set .",
    "redefine @xmath247 so that @xmath248 and @xmath249 is an independent set .",
    "lastly , we show that there are very few isolated vertices in the graph @xmath242 .",
    "suppose that there are @xmath250 isolated vertices in @xmath242 , spanning a subgraph @xmath251 of @xmath135 .",
    "we count @xmath252 as follows .",
    "let @xmath253 and @xmath254 .",
    "every maximal independent set in @xmath205 can be built by    1 .",
    "choosing an independent set in @xmath255 , and 2 .   extending it to a maximal independent set in @xmath231 .    since @xmath256 , there are at most @xmath257 choices for ( i ) .",
    "note that @xmath231 consists of isolated vertices from @xmath258 and an induced matching from @xmath259 ( see figure  [ fig2b ] ) .",
    "thus the number of extensions in ( ii ) is at most @xmath260 .",
    "the graph @xmath259 is a perfect matching with @xmath261 edges , and so choosing one vertex for each matching edge gives at most @xmath262 maximal independent sets . since @xmath263",
    ", it follows that @xmath264 .",
    "thus , such family of maximal triangle - free graphs is negligible , and we may assume that @xmath265 .",
    "the statement of lemma  [ lem - asymp ] follows by setting @xmath266 and @xmath267 .",
    "indeed , @xmath268 , @xmath269 , @xmath270=s - s'-s''$ ] is a perfect matching , and @xmath271 is an independent set .",
    "for the proof of theorem  [ thm_main ] , we need to introduce several classes of graphs on the vertex set @xmath272 $ ] . recall the hierarchy of parameters fixed in section  [ s_asymptotic ] : @xmath273    fix a vertex partition @xmath70 , a perfect matching @xmath274 on the vertex set @xmath15 ( in case @xmath275 is odd , @xmath274 is an almost perfect matching covering all but one vertex of @xmath15 ) , and non - negative integers @xmath30 , @xmath276 and @xmath44 .                        by lemmas  [ lem - asymp ] ,  [ lem - large ] and claim  [ cl - xy ] , throughout the rest of the proof",
    ", we may only consider maximal triangle - free graphs in @xmath290 that are @xmath291-close to bipartite , @xmath292 and @xmath293 .",
    "we may further assume from the proof of lemma  [ lem - asymp ] that @xmath294 .",
    "notice that graphs from @xmath295 are precisely those with the desired structure .",
    "we will show that the number of graphs without the desired structure is exponentially smaller .",
    "the set of `` bad '' graphs consists of the following two types :                let @xmath276 and @xmath44 be two non - negative integers , at least one of which is nonzero .",
    "we first bound the number of ways to choose @xmath135 and @xmath136 , i.e.  the number of ways to add inner edges .",
    "the number of ways to choose the vertex set of the @xmath276 vertex - disjoint @xmath6 s in @xmath135 and the @xmath44 matching edges in @xmath136 is at most @xmath303 . since @xmath304 , each of the @xmath305 chosen vertices has inner degree at most @xmath306 .",
    "therefore , the number of ways to choose their inner neighbors is at most @xmath307    the number of ways to add the @xmath71$]-edges is @xmath308 .",
    "we claim that the link graph @xmath309 has at least @xmath310 vertex - disjoint @xmath6 s . indeed , recall that @xmath311 and @xmath312 , thus in @xmath205 ( see figure  [ fig3a ] ) , we have at least @xmath313 vertex - disjoint @xmath6 s coming from @xmath276 vertex - disjoint @xmath6 s in @xmath135 and at least @xmath314 vertex - disjoint @xmath6 s coming from the cartesian product of a matching in @xmath135 and a matching in @xmath136 .",
    "so by lemma  [ lem - mis - p3 ] , @xmath315 since @xmath316 and @xmath317 is sufficiently small , @xmath318      by the definition of @xmath322 , @xmath15 consists of @xmath30 isolated vertices and a matching of size @xmath323 , and @xmath5 is an independent set .",
    "hence the graph @xmath324 consists of a matching of size @xmath325 and isolated vertices ( see figure  [ fig3b ] ) .",
    "there are at most @xmath326 ways to pick the isolated vertices in @xmath15 and at most @xmath308 ways to choose the @xmath71$]-edges .",
    "recall that @xmath327 .",
    "thus we have @xmath328            let @xmath332 .",
    "recall that @xmath4=m$ ] and @xmath5 is an independent set .",
    "thus @xmath2 can be in a different class @xmath333 if and only if @xmath334 , @xmath335 and @xmath336 .",
    "since @xmath336 and @xmath5 is an independent set , there exists an edge @xmath337 in @xmath338 with @xmath339 and @xmath340 .",
    "there are at most @xmath331 ways to choose such an edge . since @xmath2 is a maximal triangle - free graph , every vertex in @xmath5 is adjacent to exactly one vertex from each edge in @xmath274 .",
    "let @xmath341 be the neighbor of @xmath342 in @xmath15 , and set @xmath343 and @xmath344 .",
    "note that @xmath345 and @xmath346=m'$ ] imply @xmath347 . since @xmath348 is an independent set",
    ", it follows that @xmath349 .",
    "we claim that for any vertex @xmath350 , there is at most one vertex in @xmath5 that can serve as its neighbor in @xmath338 ( see figure  [ fig4 ] ) .",
    "suppose to the contrary that there are two such vertices @xmath351 and @xmath352 in @xmath5",
    ". then neither of @xmath351 and @xmath352 has neighbors in @xmath353 , and so both @xmath351 and @xmath352 are adjacent to all but one ( the neighbor of @xmath354 ) vertex of @xmath355 .",
    "if now @xmath356 , then @xmath357 . but",
    "@xmath352 is adjacent to some vertices of @xmath348 , which contradicts the independence of @xmath348 . in conclusion , after we pick one of the edges of @xmath338 with exactly one end in @xmath15 and one end in @xmath5 , since the graph @xmath2 is labeled , the rest of @xmath358 , @xmath348 and @xmath338 is uniquely determined .",
    "recall that @xmath292 , and therefore @xmath361 .",
    "running the same proof as lemma  [ lem - large ] ( start the proof by invoking theorem  [ thm1 ] with @xmath362 , replace @xmath363 by @xmath364 and @xmath365 by @xmath366 ) implies that almost all graphs in @xmath367 are @xmath368-close to bipartite .",
    "let @xmath369 be the subfamily consisting of all those that are @xmath368-close to bipartite .",
    "then it is sufficient to show @xmath370 .",
    "there are two types of graphs in @xmath371 :        we first bound the number of graphs in @xmath372 .",
    "let @xmath374 with a max - cut @xmath375 minimizing @xmath376 .",
    "we may assume that @xmath377 and @xmath378 .",
    "indeed , since graphs in @xmath372 are @xmath379-close to bipartite , if @xmath380 or @xmath381 , then the same proof as the proof of claim  [ cl - xy ] yields that the number of such graphs in @xmath372 is at most @xmath382 which is exponentially smaller than @xmath383 .",
    "let @xmath384 , @xmath385 , @xmath386 , and @xmath387 ( see figure  [ fig5a ] ) .",
    "since @xmath3 is not a max - cut of @xmath2 , the set @xmath388 is non - empty . by symmetry",
    ", we can assume that @xmath389 .",
    "recall that from ( p2 ) , for every @xmath390 , we have @xmath391 .",
    "it follows that @xmath392 , since otherwise @xmath393 , contradicting @xmath394 .",
    "similarly , we have @xmath395 .",
    "recall also that @xmath396 .",
    "thus for @xmath397 , @xmath398 therefore , for @xmath397 , every vertex @xmath399 is adjacent to at most @xmath279 vertices in @xmath36 and all but at most @xmath400 vertices in @xmath401 , as shown in figure  [ fig5a ] .",
    "hence , for fixed @xmath67 and @xmath68 , the number of ways to choose @xmath402 for any @xmath17 is at most @xmath403 . since the number of graphs in @xmath372 is precisely the number of ways to add the @xmath71$]-edges in ( p2 )",
    ", we have @xmath404 where the first two terms count the number of ways to partition @xmath405 and @xmath406 , and the last term bounds the number of ways to choose the @xmath71$]-edges .",
    "we now bound the number of graphs in @xmath373 . for any graph @xmath407",
    ", some inner edges were added in ( p3 ) .",
    "suppose that @xmath71$]-edges added in ( p2 ) were chosen randomly ( each of @xmath287 and @xmath288 with probability @xmath408 ) .",
    "clearly , @xmath409 can be added in ( p3 ) if and only if @xmath410 and @xmath57 have no common neighbor .",
    "consider the case when @xmath411 and let @xmath412 be the corresponding edges in @xmath274 ( see figure  [ fig5b ] ) .",
    "every @xmath17 is adjacent to exactly one of @xmath413 and exactly one of @xmath414 .",
    "thus the probability that @xmath174 is a common neighbor of @xmath410 and @xmath57 is @xmath415 , which implies that @xmath409 can be added with probability @xmath416 .",
    "let now @xmath417 .",
    "then @xmath410 and @xmath57 have no common neighbor if and only if for every @xmath286 , @xmath410 and @xmath57 chose different neighbors among @xmath342 and @xmath354 .",
    "so in this case we can add @xmath418 with probability @xmath419 summing over all possible outcomes of ( p2 ) and all possible choices for @xmath409 implies              pick an arbitrary vertex @xmath17 , define @xmath426 and @xmath427 .",
    "then by lemma  [ claim - g ] , we have @xmath428 since @xmath429 .",
    "notice that any @xmath430 with @xmath431 even can be obtained from at most @xmath1 different triples @xmath298 with @xmath275 odd in this way .",
    "together with lemma  [ lem - overcount ] , it is sufficient to show that @xmath297 is negligible compared to @xmath432 : @xmath433 this completes the proof of theorem  [ thm_main ] ."
  ],
  "abstract_text": [
    "<S> recently , settling a question of erds , balogh and petkov showed that there are at most @xmath0 @xmath1-vertex maximal triangle - free graphs , matching the previously known lower bound . here </S>",
    "<S> we characterize the typical structure of maximal triangle - free graphs . </S>",
    "<S> we show that almost every maximal triangle - free graph @xmath2 admits a vertex partition @xmath3 such that @xmath4 $ ] is a perfect matching and @xmath5 is an independent set .    </S>",
    "<S> our proof uses the ruzsa - szemerdi removal lemma , the erds - simonovits stability theorem , and recent results of balogh - morris - samotij and saxton - thomason on characterization of the structure of independent sets in hypergraphs . </S>",
    "<S> the proof also relies on a new bound on the number of maximal independent sets in triangle - free graphs with many vertex - disjoint @xmath6 s , which is of independent interest . </S>"
  ]
}