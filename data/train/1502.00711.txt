{
  "article_text": [
    "the field of analysis on fractals has been primarily concerned with the construction and analysis of laplace operators on self - similar sets .",
    "this has yielded a well developed theory for post critically finite ( or p.c.f . )",
    "self - similar sets , a class of finitely ramified fractals @xcite .",
    "one motivation for the development of such a theory , aside from its intrinsic mathematical interest , has come from the study of transport in disordered media .",
    "however , in this setting the fractals arise naturally in models from statistical physics at or near a phase transition and are therefore random objects without exact self - similarity but with some statistical self - similarity .    in order to develop the mathematical tools to tackle analysis on such random fractals",
    "one approach has been to work with simple models based on self - similar sets but exhibiting randomness .",
    "the first case to be treated was that of scale irregular fractals @xcite , @xcite , @xcite and @xcite , which have spatial homogeneity but randomness in their scaling . a more natural setting is provided by random recursive fractals , initially constructed by @xcite , @xcite , @xcite , where the fractal can be decomposed into a random number of independent scaled copies .",
    "the study of some analytic properties of classes of random recursive sierpinski gasket can be found in @xcite , @xcite and @xcite .",
    "recently there has been work tackling random sets arising from critical phenomena directly , with a particular focus on the percolation model .",
    "substantial progress has been made in the study of random walk on critical percolation clusters in the high dimensional case , see @xcite and @xcite .",
    "a bridge between these two approaches can be found in work on the continuum random tree @xcite , @xcite or on critical percolation clusters on hierarchical lattices @xcite , both of which have random self - similar decompositions and hence have descriptions as random recursive fractals .    in this paper",
    "we consider @xmath0-variable fractals recently introduced in @xcite .",
    "this class of random fractals is defined via a family of iterated function systems and a positive integer parameter @xmath0 .",
    "it interpolates between the class of homogeneous ( scale irregular ) random fractals , corresponding to @xmath1 , and the class of random recursive fractals , corresponding to @xmath2 . as for the random recursive fractals we can regard these @xmath0-variable fractals as determined by a probability measure on the set of labelled trees . in this case",
    "the measure is not a product measure , but is defined in a natural ( if not completely obvious ) manner which allows for at most @xmath3 distinct subtrees rooted at each level .",
    "our aim in this paper is to investigate the analytic properties of the class of @xmath0-variable sierpinski gaskets and to compare their behaviour to the scale irregular and random recursive cases .",
    "we show their hausdorff dimension in the resistance metric is the zero of a certain pressure function and their spectral dimension , the exponent for the growth of the eigenvalue counting function , is the zero of another pressure function .",
    "the connection between these two dimensions is established .",
    "we develop and extend standard methodology to examine more detailed properties of the eigenvalue counting function and the on - diagonal heat kernel .",
    "these results show that the @xmath0-variable fractals are closer to the scale irregular case , in that their fine properties are generally determined by fluctuations in scale rather than fluctuations which occur spatially across the fractal .",
    "we consider two model problems .",
    "recall from @xcite the description of a self - similar set as an iterated function system ( or ifs ) at each node of a tree generated by the address space .",
    "for the first model problem we consider the two ifss generating the sierpinski gasket fractal sg(2 ) and the fractal sg(3 ) defined in @xcite .",
    "the scale factors for sg(2 ) are mass @xmath4 , length @xmath5 and time @xmath6 . for sg(3 ) we have mass @xmath7 , length @xmath8 and time @xmath9 .",
    "the conductance scale factors can be computed directly , or from the einstein relation @xmath10 , giving @xmath11 .",
    "let @xmath12 be a triple of random variables taking each of the values @xmath13 where @xmath14 with probabilities @xmath15 respectively .",
    "then , for the @xmath1 ( homogeneous ) case , we construct a random fractal using a sequence taking its values in @xmath16 and applying the corresponding ifs to all sets at a given level of construction .",
    "a realization of the first few stages can be seen in figure  [ 1-var ] .",
    "then a simple scaling analysis shows that the hausdorff dimension is given by @xmath17 where @xmath18 denotes the expectation with respect to the probability measure generating the sequence .",
    "for the spectral dimension with respect to the natural `` flat measure '' one can extend the idea from @xcite and @xcite in the case of a single ifs fractal and apply a scaling argument to the dirichlet form together with a dirichlet - neumann bracketing argument , see @xcite .",
    "this gives the spectral dimension @xmath19 .",
    "for the @xmath2 ( random recursive ) case , each ifs is chosen independently for each node at each level . in this case",
    "we have @xmath20 where @xmath21 is the hausdorff dimension in the resistance metric , that is @xmath21 is such that @xmath22 .",
    "the argument again uses scaling properties of the dirichlet form and a dirichlet - neumann bracketing argument , see @xcite .",
    "an alternative approach to computing the spectral dimension for random @xmath23 fractals is via heat kernel estimates , see @xcite and @xcite .",
    "the second model problem is drawn from the class of affine nested fractals considered in @xcite .",
    "this model interpolates between the slit triangle ( which is not itself an affine nested fractal ) and sg(3 ) .",
    "consider 7 triangles in the configuration shown in figure  1 and take @xmath24 as the side length of the three triangles at the corners of the original triangle .",
    "the side lengths of the other triangles are given as @xmath25 for the three triangles on the centre of each side and @xmath26 for the downward pointing central triangle , where @xmath27 .",
    "as @xmath28 we have the slit triangle and at @xmath29 we have sg(3 ) .",
    "[ modsg ]    we construct a homogeneous random or random recursive fractal by taking a suitable distribution for @xmath24 on @xmath30 and either using a sequence , applying the same ifs at each node in the construction tree for the @xmath1 case , or independently for each node in the @xmath2 case .",
    "we note that even scale irregular ( @xmath1 ) affine nested gaskets of this type have not been treated before and as a consequence of our results we will be able to calculate the hausdorff and spectral dimension for the random homogeneous version ( @xmath1 ) . by the triangle - star transform ,",
    "if we assume that the resistance of each piece is proportional to its length , then the resistance scale factor is in that if we take resistances on the three different types of triangle to be then this is electrically equivalent to the triangle with unit resistance on each edge .",
    "in section  2 we recall from @xcite the hausdorff dimension result for @xmath0-variable fractals , and we derive the spectral dimension from our calculations in sections  4 and  5 .      to understand the @xmath0-variable versions of our model problems , first consider the @xmath31 ( spatially homogeneous , scale irregular ) case of a @xmath3-variable labelled tree in a manner parallel to the approach taken in the general setting .",
    "see figure  [ 1-var ] . for @xmath31",
    "all subtrees rooted at each fixed level are the same , as are the corresponding subfractals at each fixed level , hence the terminology `` homogeneous '' .",
    "the subtrees at one level are typically not the same as the subtrees at another level , hence the terminology `` scale irregular '' .     with members generating the sets @xmath32 and @xmath33 respectively.,width=288 ]    for a general @xmath34-variable tree and for the corresponding @xmath3-variable fractal , there are at most @xmath3 distinct subtrees up to isomorphism rooted at each fixed level , and correspondingly at most @xmath0 distinct subfractals up to rescaling at each fixed level of refinement .",
    "see figure  [ ifstree ] for a level 2 approximation to a @xmath3-variable tree with @xmath35 . in section  [ secgva ]",
    "we discuss this in some detail and see that there is a natural probability distribution on the class of @xmath3-variable fractals for each fixed @xmath0 .",
    "the construction of @xmath3-variable trees and hence @xmath3-variable fractals will require an assignment of a _ type _ chosen from @xmath36 , as well as an ifs , to each node of the tree .",
    "nodes with the same type and at the same level will have identical subtrees rooted at those nodes .",
    "the subfractals corresponding to those nodes will be identical up to scaling .",
    "see figure  [ v - var ] .",
    "we choose the ifss according to a probability measure and will write @xmath37 for the probability measure on the space of trees or @xmath0-variable fractals and @xmath38 for expectation with respect to @xmath37",
    ".    let @xmath39 be a random variable denoting the first level after level 0 at which all nodes are assigned the same type .",
    "since the number of types is finite and we will assume a uniform upper bound on the branching number , @xmath40 .",
    "note that @xmath41 if @xmath31 , and clearly @xmath42 increases with @xmath3 .",
    "we write @xmath43 for a node in the tree and denote its height or length by @xmath44 .",
    "the root node is denoted by @xmath45 and @xmath46 .",
    "the hausdorff dimension @xmath47 of the @xmath0-variable gasket formed from sg(2 ) and sg(3 ) is given @xmath37 almost surely by the zero of a pressure function in that ( @xmath37 almost surely ) it is the unique @xmath47 such that @xmath48 , where @xmath49 is the length scale value @xmath50 or @xmath51 according to which of sg(2 ) or sg(3 ) is chosen .",
    "see theorem  [ bdhd ] , also theorem  [ thm : lil ] .",
    "_ for further detail see the overview at the beginning of the following sections  25 . _    our main results first establish an expression for the spectral exponent over a general class of measures and determine the spectral dimension for these fractals .",
    "we then provide finer results of two types .",
    "we consider the eigenvalue counting function and the on - diagonal heat kernel and obtain upper and lower bounds on these quantities which hold for all @xmath0-variable trees . by placing a probability measure on the trees we obtain almost sure results capturing more explicitly their fluctuations . in the model problems the expectation is either over a discrete measure on @xmath16 or over a suitable distribution on",
    "@xmath52 $ ] .",
    "we show in theorem  [ thm : nspecdim ] that the spectral exponent can also be expressed as the zero of a pressure function . in theorems  [ spfm ] and  [ spmax ]",
    "we see that the spectral dimension , the maximum value of the spectral exponent over all measures @xmath53 defined using a product of weights , satisfies the equation @xmath54 where @xmath21 is the hausdorff dimension in the resistance metric .",
    "this dimension in turn is the zero of another pressure function , see theorem  [ rdzp ] .",
    "we establish upper and lower estimates for the eigenvalue counting function and on - diagonal heat kernel for a general class of measures .",
    "we show that the observed fluctuations arise from two different effects .",
    "the first is due to global scaling fluctuations as observed for scale irregular nested sierpinski gaskets @xcite . the second effect , which arises in the @xmath0-variable setting for @xmath55 or @xmath1 when the contraction factors are not all the same , gives additional , though much smaller , fluctuations due to the spatial variability of these fractals .",
    "we first establish from lemma  [ firsteest ] the non - probabilistic result that if @xmath56 denotes the number of eigenvalues less than @xmath57 ( for the dirichlet or neumann laplacian ) , then there is a time scale factor @xmath58 , a mass scale factor @xmath59 and a correction factor @xmath60 , such that there are constants @xmath61 with @xmath62 as in the scale irregular gaskets of @xcite , this result is true for all realizations . by construction",
    "the scale factors @xmath63 grow exponentially in @xmath64 but we will be able to show that @xmath37 almost surely we have @xmath65 , and even in certain cases @xmath66 , for some constant @xmath67 . the spectral exponent for any measure @xmath53 defined by a set of weights associated with a given ifs is @xmath68 and we give a formula for this quantity as the zero of a suitable pressure function . in the case where the weights are ` flat ' in the resistance metric",
    "we can show that there is a function @xmath69 such that @xmath37-almost surely @xmath70 for large @xmath57 , where @xmath20 and @xmath21 is the hausdorff dimension in the resistance metric .    to compare our results with previous work we note that in the @xmath1 case for nested sierpinski gaskets it is shown in @xcite that the weyl limit for the normalized counting function does not exist in general and we have for all realizations that @xmath71 this leads to the same size scale fluctuations as for the @xmath0-variable case given in ( [ eq : nasymp ] ) .",
    "for the random recursive case of @xcite , the averaging leads to a weyl limit in that @xmath72 where @xmath20 and @xmath21 is the hausdorff dimension in the resistance metric .",
    "we will also be able to remark on the on - diagonal heat kernel .",
    "we note that the measures we work with in this setting do not have the volume doubling property and hence it is harder work to produce good heat kernel estimates . in the setting considered here",
    "we can extend the arguments of @xcite and @xcite to get fluctuation results for the heat kernel . in theorems  [ thm : hkub ] and",
    "[ thm : hklb ] we show that the on - diagonal heat kernel estimate is determined by the local environment . in the case where the measure is the ` flat ' measure in the resistance metric we can describe the small time global fluctuations in that for almost every point @xmath73 in the fractal , @xmath74 for suitable deterministic constants @xmath75 , and for all @xmath76 , a random constant depending on the point @xmath73 .",
    "these are of the same order as the @xmath1 case obtained in @xcite and much larger than those in the random recursive case , @xcite .    in the case of general measures we will see that @xmath37-almost",
    "surely , @xmath53-almost every @xmath73 in the fractal does not have the same spectral exponent as the counting function ( except when we choose the flat measure ) and thus there will be a multifractal structure to the local heat kernel estimates in the same way as observed in @xcite , @xcite .",
    "we restrict ourselves to affine nested fractals based on the sierpinski gasket in @xmath77 where @xmath78 .",
    "the problem of the existence of a limiting dirichlet form is not solved more generally , even for the case of homogeneous random fractals .",
    "if this problem were solved , then the techniques used here would enable more general results to be obtained concerning @xmath0-variable p.c.f .",
    "fractals .",
    "the structure of the paper is as follows .",
    "we give the construction of @xmath0-variable affine nested sierpinski gaskets in section  2 .",
    "we show that by using the structure of @xmath0-variability there is a natural decomposition of the fractals at ` necks ' ; a level at which all subtrees are the same .",
    "this idea was first used by scealy in  @xcite . in section",
    "3 we construct the dirichlet form , compute the resistance dimension , and determine other properties which will facilitate analysis on these sets . in section  4",
    "we treat the spectral asymptotics .",
    "the heat kernel is dealt with in section  5 .",
    "we particularly wish to thank an anonymous referee for an unusually careful and detailed set of comments .",
    "addressing these has led to a number of improvements in the results of the paper .",
    "random @xmath3-variable fractals are generated from a possibly uncountable family @xmath79 of ifss .",
    "each individual ifs @xmath80 generates an affine nested fractal .",
    "we also impose various probability distributions on  @xmath81 .    for motivation , consider the two model problems in the introduction .",
    "namely , @xmath82 is the pair of ifss generating @xmath32 and @xmath33 , or @xmath79 is the family of affine nested fractals @xmath83 generating the prefractal in figure  1 for @xmath84 $ ] .    a @xmath3-variable tree corresponding to @xmath85 is a tree with an ifs from @xmath85 associated to each node , a _ type _ from the set @xmath86 associated to each node , and such that if two nodes at the same level have the same type , then the corresponding ( labelled ) subtrees rooted at those two nodes are isomorphic . this last requirement is achieved by using a sequence of _ environments _ , one at each level , to construct a @xmath3-variable tree .",
    "each @xmath3-variable tree generates a @xmath3-variable fractal set in the natural way .",
    "the case @xmath31 corresponds to homogeneous fractals and @xmath87 corresponds to random recursive fractals .",
    "if all nodes at some level have the same type , the level is called a _",
    "neck_. neck levels are given by a sequence of independent geometric random variables .",
    "in lemma  [ lem : geomrvs ] we record some useful results for such random variables . in section  [ hbd ]",
    "we recall the hausdorff dimension result from  @xcite but in the framework of necks as used in this paper , and then give a refinement by using the law of the iterated logarithm .",
    "this provides motivation for some of the spectral results .",
    "let @xmath88 be a possibly uncountable class of ifss @xmath89 , each generating a compact fractal @xmath90 , and each defined via a set of similitudes @xmath91 acting on @xmath77 , with contraction factors @xmath92 and @xmath93 . if it is clear from the context we write @xmath94 , @xmath95 , @xmath96 and @xmath97 for @xmath98 , @xmath99 , @xmath100 and @xmath101 respectively , and similarly for other notation .",
    "we will have @xmath102 the first follows from our later constructions , see .",
    "the second and third are for technical reasons arising in the study of the heat kernel and spectral asymptotics .",
    "see also the comments after definition  [ dfneck ] , from which it is clear that weaker conditions will suffice to construct @xmath0-variable fractals and establish their hausdorff dimension .",
    "let @xmath103 denote the _ set of fixed points _ of the @xmath104 .",
    "then @xmath105 is an _ essential fixed point _ if there exists @xmath106 and @xmath107 such that @xmath108 .",
    "@xmath109 denote the set of essential fixed points_.    we always assume that _ @xmath109 does not depend on @xmath110_.    assume the _ uniform _ open set condition for the @xmath111 .",
    "that is , there is a non - empty , bounded open set @xmath112 , _ independent of @xmath89 _ , such that @xmath113 are disjoint and @xmath114 .",
    "let @xmath115 and let @xmath116 then @xmath117 , the closure of @xmath118 .    for @xmath119 , we call @xmath120 an _ @xmath121-cell _ and @xmath122 an _ @xmath121-complex_.    for @xmath123 , set @xmath124 and let @xmath125 be the reflection transformation with respect to @xmath126 .    when computing the spectral dimensions we further assume each @xmath127 is an _ affine nested fractal_. that is , the open set condition holds , @xmath128 , and :    1 .",
    "@xmath127 is connected ; 2 .   ( nesting ) if @xmath129 and @xmath130 are distinct @xmath131-tuples of elements from @xmath132 , then @xmath133 3 .",
    "( symmetry ) for @xmath134 , @xmath135 maps @xmath121-cells to @xmath121-cells , and it maps any @xmath121-cell which contains elements in both sides of @xmath126 to itself for each @xmath136 .    we also make the technical assumption that @xmath137 for all @xmath138 .",
    "fix a family @xmath88 of ifss as before . for our initial purposes it is sufficient only that the ifss consist of uniformly contractive maps on  @xmath77 .",
    "each realisation of a random fractal is built by means of an _ ifs construction tree _ , or _",
    "tree _ for short , defined as follows .",
    "( see figure  [ ifstree ] ) an _ ( ifs construction ) tree @xmath139 _ corresponding to @xmath85 is a tree with the following properties :    1 .",
    "there is a single , level 0 , root node @xmath45 ; 2 .",
    "the _ branching number _",
    "@xmath140 at each node @xmath141 has @xmath142 ( @xmath143 later ) ; 3 .   the edges with initial node @xmath141 are numbered ( `` left to right '' ) by @xmath144 ; where @xmath145 in the usual manner and @xmath146 is the _ level _ of  @xmath147 , or @xmath148 in which case @xmath149 is the level ; 4 .",
    "there is an _ ifs _ @xmath150 associated with each node @xmath141 , @xmath151 ( the cardinality of @xmath152 ) , and the @xmath153th edge with initial node @xmath141 is associated with the @xmath154th function in the ifs @xmath155 .",
    "the unique compact set @xmath156 associated with @xmath139 in the usual manner is called a _",
    "recursive fractal_.     contains the ifss generating @xmath32 and @xmath33 respectively .",
    "edges of the tree with a given initial node are enumerated from left to right ; they correspond to subcells enumerated anticlockwise from the bottom left corner of the cell corresponding to the given node.,width=288 ]     and @xmath157 generating @xmath32 and @xmath33 . the environment at each level is applied to the approximation at the previous level .",
    "the ifs labels are not shown since in this case they are determined by the branching number.,width=432 ]    [ notn1 ]    the _ boundary _ @xmath158 of a tree @xmath139 is the set of infinite paths through @xmath139 beginning at @xmath45 .    for @xmath159 the _ cylinder set _",
    "@xmath160 \\subset \\partial t $ ] is the set of all infinite paths @xmath161 such that @xmath141 is an _ initial segment _ of @xmath162 , written @xmath163 .",
    "the _ concatenation _ of two sequences @xmath147 and @xmath164 , where @xmath165 is of finite length , is denoted by the juxtaposition @xmath166 .",
    "the _ truncation _ of @xmath141 to the first @xmath131 places is defined by @xmath167 .",
    "a _ cut _ for the tree @xmath139 is a finite set @xmath168 with the property that for every @xmath169 there is exactly one @xmath170 such that @xmath163 .",
    "equivalently , @xmath171 : \\boldsymbol{i } \\in \\lambda \\}$ ] is a partition of @xmath158 .    for a tree @xmath139 and a node @xmath159 ,",
    "there will usually be associated quantities such as an ifs @xmath172 , a type @xmath173 ( see definition  [ dfvt ] ) or a branching number @xmath174 . in this case",
    "@xmath141 is shown as a _",
    "superscript_.    in particular , the _ transfer operator _",
    "@xmath175 acts on @xmath139 to produce the tree @xmath176 , where , writing @xmath177 for the address of node @xmath178 , @xmath179 that is , @xmath180 is the subtree of @xmath139 which has its base ( or root ) node at @xmath141 .",
    "we frequently need to multiply a sequence of quantities , or compose a sequence of functions , along a finite branch corresponding to a node @xmath181 of @xmath139 . in this case , @xmath141 is shown as a _",
    "subscript_. for example , if @xmath181 then , with some abuse of notation for the second term , @xmath182 is the product of scaling factors corresponding to the edges along the branch @xmath183 , and analogously for other scaling factors .",
    "similarly , @xmath184 is the composition of functions along the same branch .",
    "[ notcc ] the recursive fractal @xmath185 generated by @xmath139 satisfies @xmath186 where the second equality comes from iterating the first .",
    "for @xmath187 the @xmath121-complex and @xmath121-cell with address @xmath141 are respectively @xmath188 recalling that @xmath109 is the set of essential fixed points of @xmath80 and is the same for all  @xmath89 .    in section [ secanv ] and",
    "subsequently we assume @xmath189    we will need various sequences of graph approximations @xmath190 to the fractal @xmath191 .",
    "in particular we use the notation @xmath192 , where @xmath193 we can recover the fractal itself as @xmath194 , where @xmath195 denotes closure .    we will write @xmath196 for @xmath197 if @xmath198 are connected by an edge in @xmath199 .      fix a natural number @xmath3 .",
    "for motivation see figure  [ v - var ] .",
    "the following definition of a @xmath3-variable tree and @xmath3-variable fractal is equivalent to that in  @xcite and  @xcite , but avoids working with @xmath3-tuples of trees and fractals .",
    "[ dfvt ] a _ @xmath3-variable tree _ corresponding to @xmath85 is an ifs construction tree @xmath139 corresponding to @xmath85 , with a _ type _ @xmath200 associated to each node @xmath141 .",
    "moreover , if two nodes @xmath141 and @xmath164 at the @xmath201 have the same type @xmath202 , then :    1 .",
    "@xmath141 and @xmath164 have the same associated ifs @xmath203 and hence the same branching number @xmath204 ; 2 .",
    "comparable successor nodes @xmath205 and @xmath206 , where @xmath207 , have the same type @xmath208 .",
    "the recursive fractal @xmath209 associated to a @xmath3-variable tree @xmath139 as above is called a _",
    "@xmath3-variable fractal _ corresponding to @xmath85 .",
    "the _ class of @xmath3-variable trees and class of @xmath3-variable fractals _ corresponding to @xmath85 are denoted by @xmath210 and @xmath211 respectively .",
    "[ rm1v ] a @xmath3-variable tree has at most @xmath212 distinct ifss associated to the nodes at each fixed level .",
    "if two nodes at the _ same _ level of a @xmath3-variable tree have the same type then the subtrees rooted at these two nodes are identical , i.e.@xmath213 in particular , for each level , there are at most @xmath3 distinct subtrees rooted at that level .",
    "a 1-variable tree is essentially the same as an ifs tree which generates a scale irregular or homogeneous fractal as in  @xcite , @xcite and @xcite .",
    "the following is used in the construction and analysis of @xmath3-variable fractals .",
    "[ dfenv ] an _ environment _ @xmath214 assigns to each type @xmath215 both an ifs @xmath216 and a sequence of types @xmath217 , where @xmath218 is the number of functions in @xmath219 .",
    "we write @xmath220    for a pictorial example see figure  [ v - var ] .",
    "for the following consider the case @xmath221 in figure  [ v - var ] .",
    "a @xmath3-variable tree is constructed from a sequence of environments @xmath222 in the natural way as follows :    * begin with the root node @xmath45 and an initial type @xmath223 assigned to this node .",
    "* use @xmath224 and the type @xmath223 in the natural way to assign an ifs to the level 0 node , construct the level 1 nodes and assign a type to each of them .",
    "+ more precisely , use @xmath225 where @xmath226 to assign the ifs @xmath227 to the node @xmath45 and in particular determine the branching number @xmath228 at @xmath45 , and to assign the type @xmath229 to each level @xmath230 node @xmath231 .",
    "*   * ( by the completion of stage @xmath232 for @xmath233 , an ifs @xmath234 will have been assigned to each node @xmath235 of level @xmath236 , all nodes @xmath141 of level @xmath237 will have been constructed and a type @xmath238 will have been assigned to each . ) + use @xmath239 in the natural way to assign an ifs to each level @xmath240 node according to its type , to construct the level @xmath131 nodes and to assign a type to them .",
    "+ more precisely , use @xmath241 for @xmath242 where @xmath243 to assign the ifs @xmath244 to each level @xmath240 node @xmath141 of type @xmath245 and in particular to determine the branching number @xmath246 at the node @xmath141 , and to assign the type @xmath247 to the level @xmath131 node @xmath248 .",
    "it follows by an easy induction that the properties in definition  [ dfvt ] hold at all nodes .",
    "we now note the following facts about the connectivity properties of @xmath0-variable fractals .",
    "[ lem : cnprop ] let @xmath250 be a @xmath0-variable fractal",
    ". then + ( 1 ) @xmath250 is connected + ( 2 ) @xmath250 is nested : for all @xmath251 , if @xmath252 \\cap [ { { \\boldsymbol{j } } } ] = \\emptyset$ ] , then @xmath253 .",
    "\\(1 ) the connectedness is clear as all the affine nested fractals in the family are connected .",
    "\\(2 ) in our setting this is straightforward to see as if @xmath252 \\cap [ { { \\boldsymbol{j } } } ] = \\emptyset$ ] , there exists a @xmath254 of maximal length with @xmath255 and @xmath256 , such that @xmath257 and @xmath258 . if we write @xmath259 and @xmath260 , then @xmath261 and by the nesting axiom for @xmath262 we have @xmath263",
    "if the intersection is empty we are done . otherwise , by our technical assumption on affine",
    "nested fractals that @xmath264 , there is a single intersection point which is the image of a fixed point in @xmath265 .",
    "if @xmath266 , this is the intersection point of @xmath267 and therefore of @xmath268 as required . if @xmath269 we are done .      [ dfpv ] fix a probability distribution @xmath270 on @xmath85 .",
    "this induces a probability distribution @xmath271 on the set of environments as follows .",
    "choose the ifss @xmath272 for @xmath273 in an i.i.d .",
    "manner according to @xmath270 .",
    "choose types @xmath274 for @xmath275 in an i.i.d .",
    "manner according to the uniform distribution on @xmath86 and otherwise independently of the @xmath276 .",
    "[ dfpv2 ] the _ probability distribution on the set @xmath277 _ of @xmath3-variable trees is obtained by choosing @xmath278 according to the uniform distribution and independently choosing the environments at each stage in an i.i.d .",
    "manner according to @xmath271 .",
    "this probability distribution on @xmath3-variable trees induces a probability distribution on the set @xmath279 of @xmath3-variable fractals . both the probability distribution on trees and that on fractals are denoted by @xmath271",
    ". we will write @xmath38 for expectation with respect to @xmath37 .",
    "_ random @xmath34-variable trees _ and _ random @xmath3-variable fractals _ are random labelled trees and random compact subsets of @xmath280 respectively , having the distribution @xmath281 . later , when we add additional scale factors for resistance and weights associated with each @xmath282 , we will assume they are measurable with respect to @xmath283 .",
    "although the distribution @xmath271 on environments is a product measure , this is far from the case for the corresponding distribution @xmath271 on @xmath277 and @xmath279 .",
    "there is a high degree of dependency between the types ( and hence the ifss ) assigned to different nodes at the same level .",
    "the classes @xmath284 interpolate between the class of homogeneous fractals in the case @xmath31 and the class of recursive fractals as @xmath87 .",
    "the probability spaces @xmath285 interpolate between the natural probability distribution on homogeneous fractals in the case @xmath31 and the natural probability distribution on the class of recursive fractals as @xmath87 .",
    "see @xcite and @xcite",
    ".    it will often be convenient to identify the _ sample space _ for random quantities such as trees , fractals , functions associated to a branch of a tree , etc .",
    ", with the set @xmath286 of @xmath3-variable trees .",
    "we use @xmath287 to denote a generic element of @xmath277 and combine this with other notations in the natural manner .",
    "thus we may write @xmath288 , @xmath289 , @xmath290 etc .    in particular , @xmath291 is the transfer operator defined in notation  [ notn1 ] for a tree @xmath139 .",
    "see for example the first equality in .",
    "however , we usually suppress @xmath287 as in the second equation in . also see and the explanation which follows it .",
    "the notion of a _ neck _ is critical for the analysis that follows .",
    "[ dfneck ] the environment @xmath292 in definition  [ dfenv ] is a _ neck _ if all @xmath293 are equal .",
    "a _ neck _ for a @xmath3-variable tree @xmath294 is a natural number @xmath121 such that the environment @xmath295 applied at stage @xmath121 in the construction of @xmath294 is a neck environment . in this case",
    "we say a _ neck occurs at level  @xmath131_. if @xmath296 is a node in @xmath294 and @xmath297 , then @xmath296 is called a _ level @xmath131 neck node_.    , except that now a neck occurs at level 2 .",
    "all subtrees rooted at this level will be the same , although they have not yet been constructed .",
    "all 2-complexes will be the same up to scaling by factors determined by the construction up to this level.,width=384 ]    if a neck occurs at level @xmath121 then the type assigned to every node at that level is the same .",
    "see figure  [ figneck ] .",
    "it follows from remark  [ rm1v ] that all subtrees rooted at level @xmath131 will be the same .",
    "note that the subtrees themselves are only constructed at later stages , and even the common value of the ifs at a level @xmath131 neck node is not determined until stage @xmath298 .",
    "there is however no restriction on the ifss occurring in a neck environment @xmath299 . for a level @xmath131 neck these ifss",
    "are applied at level @xmath240 .    because there is an upper bound on the number of functions @xmath100 in any ifs @xmath80",
    ", there is only a finite number of type choices to be made in selecting an environment .",
    "it follows that necks occur infinitely often almost surely with respect to the probability @xmath271 defined in definition  [ dfpv2 ] .",
    "the sequence of neck levels in the construction of a @xmath3-variable tree or fractal is denoted by @xmath300    the sequence of times between necks is a sequence of independent geometric random variables , and in particular the expected first neck satisfies @xmath301    many of our future estimates rely on various a.s .",
    "properties of necks .",
    "however , some estimates just require that there be an infinite sequence of necks .",
    "for this reason we make the definition : @xmath302    we next give an elementary result on the asymptotic behaviour of a sequence of geometric random variables @xmath303 .",
    "it follows that @xmath304 grows at most logarithmically in @xmath305 , and powers of @xmath304 grow at most geometrically , with similar results for the maximum and the mean of @xmath306 .",
    "the following is standard but included for completeness .",
    "note that the @xmath307 need not actually be geometric random variables .",
    "[ lem : geomrvs ] suppose @xmath308 is a sequence of not necessarily independent random variables with @xmath309 , where @xmath310 and for all @xmath311 .",
    "suppose @xmath312 is a natural number .",
    "@xmath313    the case @xmath314 is a direct consequence of the case @xmath315 , which we establish .",
    "suppose @xmath316 . since @xmath317 for @xmath311 , @xmath318 hence by the first borel - cantelli lemma , @xmath319 since @xmath316 is arbitrary , the first inequality in follows .",
    "the second inequality in is now an elementary consequence .",
    "suppose @xmath320 .",
    "using the first inequality in to get the second inequality below , @xmath270 a.s .",
    "there exists @xmath321 such that @xmath322 implies @xmath323 hence @xmath324 replacing @xmath325 by @xmath230 and letting @xmath326 in the above implies the second inequality in  .    for fix @xmath327 .",
    "then @xmath328 by the first borel - cantelli lemma , if @xmath329 , @xmath330 this gives .",
    "we also include a decomposition of sums of products of scale factors .",
    "it may help to note that the factors on the right side of in the next lemma are calculated by first choosing and fixing , for each @xmath331 , an arbitrary node of @xmath139 at level @xmath332 . for fixed @xmath231",
    "all subtrees of @xmath139 rooted at this level are identical by the definition of a neck .",
    "the factor in is the sum , of products of @xmath333 type weights , along all paths in such a _ subtree _ starting from its root node and ending at a first neck level node .",
    "there is a one - one correspondence between the set of such paths in the _ subtree _ and the set of paths in the _ original _ tree starting from the _ chosen _ node at level @xmath332 and ending at a level @xmath334 node .",
    "[ lem : sumprod ] let @xmath335 for @xmath336 be scaling factors associated with each family @xmath337 , where @xmath338 then , writing @xmath339 for @xmath340 , and with @xmath341 defined in the natural way in the body of the proof , we have @xmath342 moreover , @xmath343    let @xmath344 denote the unique subtree of @xmath139 rooted at the neck level @xmath345 , so that in particular @xmath346 .    then , as explained subsequently ( and following the notation of but with the @xmath89 there suppressed ) , @xmath347    the first and last equality are immediate from the definitions .",
    "the second equality is just a bracketing of terms .    for the third equality note",
    "that each @xmath334 is a neck .",
    "a term such as @xmath348 , which corresponds to the edge in @xmath139 from @xmath349 to @xmath350 , is independent of @xmath351 and can also be regarded as corresponding to the level one edge from @xmath45 to @xmath352 of the unique tree @xmath353 rooted at every level @xmath354 node .",
    "thus we rewrite @xmath348 as @xmath355 , with an abuse of notation in that @xmath141 and @xmath356 in the first term refer to words from @xmath357 whereas @xmath358 in the second term is the first element of a word from @xmath353 .",
    "similarly , @xmath359 is also independent of @xmath351 and can also be regarded as corresponding to a level two edge from @xmath353 , etc .",
    "now use simple algebra to put the summations inside the parentheses .",
    "the final equality is a rewriting of the previous line and provides the definition of  @xmath341 .    for the @xmath37",
    "almost sure convergence in let @xmath360 by construction the @xmath361 are i.i.d . and in particular @xmath362 . by the bounds on @xmath363 we have @xmath364    hence , using , the @xmath37 almost sure convergence follows from the strong law of large numbers for the sequence @xmath365 .",
    "assume that the family of ifss @xmath88 satisfies the open set condition as in section  [ afn ] .",
    "we do not here require the affine nested condition . recall the notation from section  [ afn ] and from notation  [ notn1 ] .",
    "splitting up and treating the necks in the manner here was done first by scealy in his phd thesis  @xcite .",
    "[ bdhd]suppose @xmath94 is the random @xmath3-variable fractal generated from @xmath85 . then the hausdorff and box dimension of @xmath250 is @xmath366 a.s .  given by the unique @xmath367 such that @xmath368    see the main theorem in section 4.4 of @xcite .",
    "the expression there for the pressure function is equal to the simpler expression here .",
    "this in turn leads to a simpler proof of that theorem , still along the lines of lemma  5.7 in @xcite but working with a single neck as in the ( somewhat more complicated ) proofs of theorems  [ rdzp ] and  [ thm : nspecdim ] .",
    "we give a slight refinement of this result .",
    "[ thm : lil ] there exists a constant @xmath369 such that @xmath370    we can apply lemma  [ lem : sumprod ] with @xmath371    since @xmath372 , @xmath373 using the bounds on @xmath374 and @xmath375 it is easy to check that @xmath376 .",
    "the law of the iterated logarithm for the sequence of random variables @xmath377 now implies the result .",
    "our @xmath0-variable affine nested gaskets are connected and nested by lemma  [ lem : cnprop ] but they need not have spatial symmetry , in contrast to the scale irregular nested gaskets considered in @xcite .    in order to study analysis on these @xmath34-variable affine nested fractals we define in section  [ secdrf ] their dirichlet forms and show that these are resistance forms .",
    "we also show that the resistance metric between points is comparable to an appropriate product of resistance factors . in section  [ secwm ]",
    "we introduce general families of weights and measures and prove a few basic properties .",
    "we introduce in section  [ sectanc ] the notion of the cut set @xmath378 , where each cut is at a neck level and the crossing time for the corresponding neck cell is of order @xmath379 .",
    "asymptotic properties of various quantities associated with these neck cells are established . in section  [ secrd ]",
    "we show the hausdorff dimension in the resistance metric is given by the zero of an appropriate pressure function .",
    "the construction of the dirichlet form follows @xcite .",
    "assume as given a harmonic structure @xmath380 for each ifs @xmath337 in the family @xmath381 .",
    "since all our affine nested fractals are based on the same triangle or @xmath382-dimensional tetrahedron with vertices @xmath109 , the matrix @xmath383 will be independent of @xmath337 and is given by @xmath384 vectors @xmath385 , specifying the _ conductance scaling factors _ to be applied to each cell , will be chosen to respect the symmetries of the limiting fractal .",
    "assume @xmath386    the associated renormalization map for each @xmath387 is assumed to have the usual fixed point property .",
    "we now state this more formally .",
    "let @xmath388 be the dirichlet form on the graph @xmath389 with conductances determined by the matrix @xmath383 .",
    "each edge is summed over twice , and hence the factor @xmath390 .",
    "the choice of @xmath391 is such that @xmath392 one can also regard this as placing conductors @xmath393 on each edge of the 1-cell with address @xmath394 , which ensures that the effective resistances between vertices from @xmath395 in the graph @xmath396 is the same as the effective resistance in @xmath397 itself  see notation  [ notcc ] and .",
    "define @xmath398 .",
    "use recursion on @xmath399 to define @xmath400 it follows that @xmath401 where @xmath402 and @xmath403 are as in notation  [ notn1 ] .",
    "the sequence of forms @xmath404 can be thought of as corresponding to conductances @xmath402 on the edges of the cell @xmath405 in the graph @xmath406 , where @xmath407 .",
    "one next defines a resistance form first on @xmath408 and then on its closure @xmath94 in the standard manner as follows . by the definition of the conductance scale factors @xmath409 , one has monotonicity of the sequence of quadratic forms @xmath410 .",
    "define @xmath411 for @xmath412 , restricting to those @xmath413 such that the limit is finite . using the definition of @xmath414 in with @xmath94",
    "replace by @xmath415 , one shows that @xmath414 is a metric on @xmath415 as in theorem 2.1.14 , page 48 of @xcite . noting definition , one next proves the natural analogue of lemma [ lem : resb ] and corollary  [ cor : diambd ] for @xmath415 , without utilising theorem  [ thmdrf ] .",
    "it follows that the metric @xmath414 induces the euclidean topology on @xmath415 and the completion of this metric induces the euclidean topology on @xmath94 .",
    "one can now define a limit form on @xmath94 by @xmath416 where @xmath417 . note that , from , if @xmath418 then @xmath413 is continuous and so is canonically determined on @xmath94 by its values on the dense subset @xmath419 .",
    "it follows from the definitions that there is a decomposition of the limit form for any cut @xmath420 of the tree @xmath288 , see notation  [ notn1 ] .",
    "namely , @xmath421 note the case @xmath422 for some @xmath305 and the case @xmath423 as in .",
    "the result in the first of these cases with @xmath424 is essentially just a consequence of the scaling property and letting @xmath425 .",
    "the general result follows from iterating this down the various levels corresponding to the partition @xmath420 .",
    "the _ effective resistance metric _ between any pair of points @xmath426 is defined by @xmath427 the proof this is a metric is essentially as in theorem 2.1.14 , page 48 of @xcite .",
    "recall that @xmath428 is a _ local regular dirichlet form _ on @xmath429 if it has the following properties :    1 .",
    "_ closed _ :",
    "@xmath430 is a hilbert space under the inner product @xmath431 ; 2 .   _",
    "markov or dirichlet _ : @xmath432 if @xmath433 is obtained by truncating @xmath413 above by @xmath230 and below by @xmath434 ; 3 .   _ core or regular _ : if @xmath435 is the space of continuous functions on @xmath94 then @xmath436 is dense in @xmath437 in the hilbert space sense and dense in @xmath435 in the sup norm ; 4 .   _",
    "local _ : @xmath438 if @xmath413 and @xmath439 have disjoint supports .",
    "for @xmath440 to be a _ resistance form _ it is sufficient that in addition @xmath414 defines a metric , and in particular that @xmath441 is finite and non zero if @xmath442 .",
    "[ thmdrf ] for each @xmath443 and each finite borel regular measure @xmath444 on @xmath445 with full topological support , @xmath446 defines a local regular dirichlet form on @xmath447 .",
    "the dirichlet form is a resistance form with resistance metric @xmath414 .",
    "the existence of the dirichlet form @xmath448 as the limit of an increasing sequence of dirichlet forms is essentially as summarised in the first paragraph of section 3.4 of @xcite .",
    "see @xcite appendix b3 for a discussion of dirichlet forms .",
    "the proof that the dirichlet form is a resistance form is essentially as in section 2.3 of  @xcite",
    ".    it will be convenient here and subsequently to work with _ resistance scaling factors _ which are just the inverse of the conductance scaling factors introduced in section  [ secdrf ] .",
    "thus we define @xmath449 we also note that for the resistance scale factors we have @xmath450    next we see that the resistance metric distance between two vertices in a cell @xmath451 ( see ) is comparable to the resistance scaling factor @xmath452 for that cell .",
    "[ lem : resb ] there is a constant nonrandom @xmath453 such that if @xmath454 and @xmath442 then @xmath455    fix @xmath456 , @xmath457 and @xmath458 as in the statement of the lemma .",
    "if @xmath459 and @xmath460 , then using , , monotonicity of the limit in , and , @xmath461 where @xmath462 comes from the fact there are @xmath462 edges in @xmath109 containing @xmath457 .",
    "this gives the upper bound for @xmath414 in  .",
    "for the lower bound , following notation  [ notn1 ] , consider a cut @xmath420 of the underlying tree such that @xmath463 if @xmath464 is comparable to @xmath465 .",
    "more precisely , @xmath466 if @xmath467    let @xmath468 be the set of vertices corresponding to cells @xmath469 for @xmath470 ( analogous to ) . note that @xmath170 and so @xmath471",
    "consider the function @xmath413 such that @xmath460 and @xmath472 for all other @xmath473 , and harmonically interpolate .",
    "then @xmath474 using  , taking @xmath462 as in , and @xmath475 the maximum number of regular tetrahedra in @xmath77 with disjoint interiors that can have a common vertex .",
    "this gives the lower bound in  .",
    "[ cor : diambd ] there is an upper bound on the diameter of the set @xmath94 in the resistance metric , in that there exists a nonrandom constant @xmath369 such that @xmath476 more generally , for all @xmath477 , @xmath478    first consider points @xmath197 ( see ) and suppose @xmath479 , @xmath480 , with @xmath481 .",
    "let @xmath482 , @xmath483 , @xmath484 for @xmath485 , with @xmath486 and @xmath487 .",
    "by the triangle inequality for the metric @xmath488 , @xmath489    since @xmath490 and all cells are triangles or tetrahedra , if a path from @xmath491 to @xmath492 consisting of edges from @xmath493 contains two edges from the same @xmath64-cell then it can be replaced by a shorter path from @xmath491 to @xmath492 also consisting of edges from @xmath493 .",
    "it follows there is a path from @xmath491 to @xmath492 consisting of at most @xmath494 edges from @xmath495 .",
    "hence @xmath496 from .",
    "hence @xmath497    using the density of the vertices @xmath498 in @xmath250 we have the result .",
    "the second statement follows in the same way .",
    "note that the result holds for all @xmath443 .",
    "we next introduce a general family of measures on @xmath158 ( see notation  [ notn1 ] ) and on the corresponding fractal set @xmath94 , by using a set of weights @xmath499 defined for each @xmath500 with @xmath501 .",
    "we do not require @xmath502 .",
    "assume @xmath503    following notation  [ notn1 ] let the weight @xmath504 of the cell @xmath505 ( corresponding complex , or corresponding cylinder ) be the natural product of weights along the branch given by the node @xmath506 .",
    "that is , if @xmath507 , then @xmath508    of particular interest are weights of the form @xmath509 for all @xmath80 and some fixed @xmath510 , in which case @xmath511 .",
    "this example is the reason we do not require @xmath512 , since it would not be possible to achieve the normalisation simultaneously for all @xmath513 .",
    "the following construction is basic , and is special to the case of @xmath3-variable fractals .",
    "[ dfwm ] let @xmath499 for @xmath500 be a set of weights as before .",
    "for @xmath514 a neck let @xmath515 )   : = \\frac {   w _ { { { \\boldsymbol{i } } } } }    { \\sum_{|\\boldsymbol{j }     |                        = | \\boldsymbol{i } |    }    w _ { \\boldsymbol{j } } } .\\ ] ] the corresponding unit mass measure @xmath516 on @xmath158 is called the _ unit mass measure with weights  @xmath517_.    the pushforward measure on @xmath94 under the address map @xmath518 given by @xmath519 is also denoted by @xmath516 .    note",
    "that from the definition of a neck , is consistent via finite additivity from one level of neck to the next , it extends by addition to any complex or cylinder , and so by standard consistency conditions it extends to a unit mass ( probability ) measure @xmath516 on @xmath520 .",
    "we note the following simple estimates for use in the rest of this subsection and in lemmas  [ lem : evalests ] , [ critest ] and  [ lem : muk ] .",
    "[ hineq ] suppose @xmath165 and @xmath521 are two nodes of the same type with @xmath522 . then @xmath523",
    "if @xmath141 is a neck node then @xmath524    suppose @xmath96 is the first neck @xmath525 .",
    "then @xmath526 where @xmath527 is the product of weights along any branch of @xmath528 of length @xmath529 beginning at @xmath45 , or equivalently any branch of @xmath139 of length @xmath529 beginning at @xmath141 . a similar expression",
    "is obtained for @xmath530 . since @xmath531 and @xmath532 are of the same type and level , the trees @xmath533 and @xmath534 are identical , and so @xmath535 .",
    "then follows from @xmath536 .",
    "if @xmath131 is a neck then @xmath537 also we have that @xmath538 completing the proof of .",
    "we show in lemma  [ simk ] that the pushforward measure on @xmath94 is given by a similar expression to that for @xmath53 on @xmath539 . for this",
    "we first show that the measure @xmath516 on @xmath94 is nonatomic .",
    "[ noatoms ] @xmath37 a.s .",
    "we have for @xmath540 @xmath541    since @xmath542 $ ] is a decreasing sequence of sets , from   @xmath543 by and , writing @xmath544 , the sequence of random variables @xmath545 taking logs and applying the law of large numbers we see , @xmath37 a.s .",
    ", for all @xmath506 , @xmath546 now , using the fact that @xmath39 is a geometric random variable , @xmath547 and @xmath548 for @xmath549 , we conclude @xmath550 in particular , @xmath37 almost surely , for all @xmath540 , we have @xmath551 ( in fact exponentially fast ) as required .    [ simk ]",
    "the address map @xmath518 is one - one except on a countable set .",
    "the pushforward measure @xmath516 on @xmath94 is nonatomic .",
    "moreover , for @xmath514 a neck , @xmath552    suppose @xmath553 . then for some @xmath131 we have @xmath554 and @xmath555 .",
    "it follows that @xmath556 . from lemma",
    "[ lem : cnprop ] , @xmath557 .",
    "this establishes countability of the set of points in @xmath94 with more than one address . from lemma  [ noatoms ]",
    "it follows this set has @xmath516-measure zero .",
    "the result now follows from   and the definition of the pushforward measure .",
    "it follows from that @xmath558 where as usual @xmath559 is the measure on @xmath560 but here restricted to @xmath561 , and @xmath562 is the measure on @xmath563 which is essentially just a scaled copy of the subfractal @xmath564 . by construction , the left integral is a multiple of the right integral , with constant independent of  @xmath413 .",
    "setting @xmath565 gives the constant .",
    "note that @xmath187 need not be a neck .",
    "the inner product ( or any integral ) can be decomposed as follows : @xmath566 for any cut @xmath420 , see notation  [ notn1 ] .",
    "note that is analogous to the decomposition for the dirichlet form .",
    "the difference is that the scaling factors @xmath567 in are simply computed from the prescribed quantities @xmath568 , unlike the scaling factors @xmath569 in which are related to the prescribed quantities @xmath570 in a simple manner only in the case where the @xmath141 are all neck nodes .",
    "we write @xmath571 for the natural norm on @xmath572 .",
    "we now introduce the special cut sets which will be essential for our analysis .",
    "the idea is to cut at neck nodes in such a manner that crossing times are comparable .",
    "define @xmath573 from the einstein relation @xmath574 can be thought of as a _ crossing time _ for the continuous time random walk on the cell @xmath575 , with resistance given by @xmath576 and expected jump time given by  @xmath577 .",
    "note that whereas @xmath578 defined in is a simple product of factors , as are @xmath579 , @xmath580 and @xmath581 following the notation of , this is not the case for @xmath582 and hence not for @xmath583 .",
    "define @xmath584 and note that @xmath585 . then from and ,",
    "@xmath586 the second inequality is clearly true for any @xmath141 , not necessarily at a neck .",
    "recalling from the notation @xmath587 for the @xmath588th neck , define the _ cut sets _ of @xmath589 @xmath590 where @xmath45 is the root node .",
    "thus @xmath378 is the set of _ neck",
    "_ nodes for which the crossing times of the corresponding cells are comparable to  @xmath591 .    for any @xmath141 such that @xmath592 is a neck , and in particular if @xmath593 , then we define @xmath594 that is , @xmath595 is the number of the neck corresponding to @xmath141 .",
    "we introduce further notation to capture the scale factors .",
    "@xmath596    thus @xmath597 is the cardinality of the cut set @xmath598 , @xmath599 is the average crossing time for cells @xmath600 with @xmath601 or equivalently the average time scaling when passing from @xmath94 to @xmath602 , conversely @xmath603 is the average time scaling when passing from @xmath602 to @xmath94 for @xmath601 ; @xmath604 is the number of generations between @xmath405 and its most recent ancestor also at a neck level , and @xmath605 is the maximum such number of ancestral generations over @xmath593 ; @xmath606 is the maximum branch length of nodes in @xmath378 .",
    "trivially , @xmath607    for functions @xmath608 and @xmath609 we will use the notation @xmath610 that is , @xmath611 means @xmath413 is asymptotically dominated by @xmath612 .    in the next lemma",
    "we use lemma  [ lem : geomrvs ] to estimate the asymptotic behaviour of @xmath613 and @xmath614 , and of the fluctuations of @xmath615 and @xmath616 for @xmath593 .",
    "note that sharper estimates for the simple case @xmath1 are given in lemma  [ lem : spatialv=1 ] .",
    "[ lem : spatial ] suppose @xmath617 is as in .",
    "* there exist @xmath618 such that @xmath271 a.s . , if @xmath619 then @xmath620 * there exist @xmath621 such that @xmath271 a.s .",
    "@xmath622 * there exists @xmath623 such that @xmath271 a.s .",
    ", if @xmath593 then @xmath624    \\(a ) suppose @xmath625 and let @xmath626 . from and the definition of @xmath627 , @xmath628 in particular , @xmath629 .",
    "it follows that @xmath630    on the other hand from , @xmath631 . using also @xmath632",
    ", it follows from lemma [ lem : geomrvs ] , since @xmath633 is a sum of geometric random variables , that a.s .",
    "( where @xmath593 ) @xmath634 here @xmath635 is the constant probability of not obtaining a neck at any particular level  @xmath636 .",
    "\\(b ) trivially , @xmath637 . by definition @xmath638 where the inequality comes from ( a ) .    by lemma",
    "[ lem : geomrvs ] with @xmath639 , @xmath281 a.s .",
    "@xmath640 where @xmath635 is as in ( a ) .",
    "it follows that with @xmath593 and @xmath641 , @xmath271 a.s .",
    "@xmath642 this gives the last inequality in ( b ) .",
    "\\(c ) the third inequality in ( c ) is immediate from the definition of @xmath378 .    for the second inequality suppose @xmath593 with @xmath643",
    "then @xmath644 by a similar argument to that for the first inequality in  .",
    "more precisely , note that by definition @xmath569 is a product of @xmath645 with factors that depend only on weights @xmath646 defined along edges in the subtree rooted at @xmath647 , followed by a normalisation that depends only on the same weights since @xmath643 is a neck .",
    "hence @xmath648 by the definition of @xmath613 and @xmath378 .",
    "this gives the second inequality in ( c ) .",
    "for the first inequality take any @xmath316 , in which case by ( b ) , a.s .",
    "there exists @xmath649 such that @xmath322 implies @xmath650 , and so @xmath322 implies @xmath651 where @xmath652 .",
    "since @xmath316 is arbitrary , this completes the proof .    if @xmath1 the above can be sharpened to the following .",
    "[ lem : spatialv=1 ] in the case @xmath1 we have the following .",
    "* there exist @xmath618 such that if @xmath619 then @xmath653 * there exists @xmath654 such that @xmath655 * there exists @xmath656 such that if @xmath593 then @xmath657    the first claim follows from and the fact that for @xmath1 every level is a neck . the second and third follow similarly .      the @xmath658-dimensional hausdorff measure of @xmath94 using the resistance metric @xmath414 is denoted by @xmath659 .",
    "the hausdorff dimension of @xmath660 in the resistance metric is denoted by @xmath661 .",
    "the following theorem is the analogue of theorem  [ bdhd ] .",
    "however , the resistance metric @xmath414 does not scale in the same way as the standard metric in @xmath77 and so the proof needs to be modified .",
    "the proof combines ideas from section  2 of  @xcite , section  2 of  @xcite and section  4 of  @xcite . in the case of @xcite the corresponding argument",
    "is simplified here because of the use of necks .",
    "note that we do not expect the appropriate hausdorff measure function to be a power function , unlike in  @xcite and  @xcite .",
    "[ rdzp ] the hausdorff dimension in the resistance metric @xmath662 of @xmath94 is the unique power @xmath663 such that @xmath664    this will follow from lemmas  [ lemubd ] and  [ lemlbd ] .",
    "[ dfa0 ] the function @xmath665 is finite , strictly decreasing and lipschitz , with derivative in the interval @xmath666 .\\ ] ] since @xmath667 there is a unique @xmath663 such that @xmath668 and moreover @xmath669 .    if @xmath670 , then from , @xmath671 this gives the lipschitz estimate",
    "since @xmath672 , it follows that @xmath673 .",
    "the rest of the lemma now follows .",
    "[ lemubd ] suppose @xmath674 is as in lemma  [ dfa0 ]",
    ". then @xmath675 , @xmath271  a.s .",
    "suppose @xmath676 .",
    "using corollary  [ cor : diambd ] , @xmath677 from and lemma  [ dfa0 ] , @xmath678 hence @xmath271 a.s .",
    ", @xmath679 hence @xmath680 , and so @xmath681 .",
    "suppose @xmath316 .",
    "then @xmath682 is the cut set of @xmath589 consisting of those nodes @xmath683 such that @xmath684    [ dislem ] there exist non random constants @xmath685 and @xmath686 , such that for any @xmath687 and @xmath688 , @xmath689 where @xmath690    suppose @xmath691 where @xmath692 .",
    "first note @xmath693 where @xmath694 is the number of vertices of a regular tetrahedron in @xmath77 ( recall ) and @xmath475 is as in  .",
    "this follows immediately from lemma  [ lem : cnprop ] .",
    "let @xmath695 denote the set of vertices corresponding to the partition @xmath696 .",
    "define @xmath697 by @xmath698 if @xmath699 and @xmath700 otherwise .",
    "extend @xmath701 to @xmath702 by harmonic extension on each @xmath703 for @xmath704 .",
    "then @xmath701 is constant on @xmath705 if @xmath706 , and so @xmath707 where @xmath708 is from and @xmath462 is the number of edges in @xmath709 with one vertex in @xmath710 .",
    "setting @xmath711 , it follows @xmath712 if @xmath713 where @xmath704 and @xmath706 .",
    "that is , @xmath714    combining and gives .",
    "[ lemlbd ] suppose @xmath715 .",
    "let @xmath516 be the unit mass measure on @xmath94 constructed as in definition  [ dfwm ] and lemma  [ simk ] , with weights @xmath716 for @xmath500",
    ". then @xmath271 a.s .",
    ", for any @xmath688 and @xmath717 , @xmath718 , where the random constant @xmath719 depends on @xmath287 but not on @xmath456 or @xmath720 .    in particular , by the mass distribution principle , @xmath721 @xmath271  a.s . , and so @xmath722 @xmath271  a.s .    fix @xmath688 and @xmath717",
    "if @xmath723 is a level in the construction of @xmath139 , let @xmath724 denote the first neck level @xmath725 .",
    "all balls are with respect to the resistance metric .    from lemma  [ dislem ] applied to the cut @xmath726 , and with @xmath685 and @xmath686 as in that lemma , there are at most @xmath686 sets @xmath705 which meet @xmath727 and satisfy @xmath728 .",
    "that is , satisfy , on setting @xmath729 , @xmath730 it follows that @xmath731 and there are at most @xmath686 terms in the sum . for each such @xmath732 ,",
    "using lemma  [ simk ] , @xmath733 here @xmath494 is an upper bound for the branching number , see  .",
    "we need to estimate the numerator and denominator of @xmath734 in  . for this",
    "we use estimates   and  .    _ until we establish   we allow @xmath305 to be an arbitrary positive integer , _ not necessarily satisfying .",
    "since @xmath735 is a geometric random variable , by the same argument as in lemma  [ lem : spatial](b ) , there is a constant @xmath719 such that @xmath736 @xmath271 a.s . ,",
    "and so there is a constant @xmath737 such that @xmath738 for all @xmath739 .",
    "hence @xmath271 a.s . , for @xmath740 , @xmath741    next let @xmath742 then @xmath743 since @xmath715 , see lemma  [ dfa0 ] .",
    "it follows by that as @xmath744 @xmath745 hence for some @xmath746 , @xmath747    however , we need an estimate similar to involving @xmath724 rather than @xmath345 . first note , by setting @xmath748 and @xmath749 in , that for some @xmath750 we have @xmath751 @xmath271 a.s .",
    "if @xmath740 .",
    "hence @xmath752 since @xmath345 is an arbitrary neck , @xmath753 where @xmath754 is the number of the neck @xmath724 .",
    "note @xmath755 .",
    "also note that @xmath756 .",
    "( otherwise there are at least @xmath757 necks between levels 1 and @xmath724 inclusive , and so in particular @xmath758 .",
    "but then there are at least @xmath154 necks between levels 1 and @xmath305 inclusive , and so @xmath305 is a neck .",
    "however that gives @xmath759 , a contradiction ) .",
    "hence @xmath760    it follows from  , and the definition of @xmath761 in , that @xmath762 as @xmath763 . on the other hand , with @xmath764 we have from that @xmath765 uniformly for @xmath728 as @xmath326 . from , and",
    "the uniform bound @xmath766 on the number of terms , there exists @xmath767 such that @xmath768    it now follows by the mass distribution principle that @xmath721 @xmath271  a.s .",
    ", and so @xmath722 @xmath271  a.s .",
    "in this section we consider random @xmath0-variable fractals constructed from essentially arbitrary resistances @xmath769 , from weights @xmath570 which determine a measure @xmath516 , and from a probability measure @xmath770 on @xmath771 .",
    "see sections  [ rvtf ] , [ secdrf ] and  [ secwm ] . with every realisation of such a random fractal there is an associated dirichlet form and a laplacian .",
    "the growth rate of the corresponding eigenvalue counting function is defined to be @xmath772 , where @xmath773 is called the _",
    "spectral exponent_. we see in theorem  [ thm : nspecdim ] that @xmath37-a.s .",
    "@xmath773 exists , is constant and is the zero of a pressure function constructed from the crossing times @xmath774 .",
    "the proof relies on estimates concerning the occurrences of necks and on a dirichlet - neumann bracketing argument , see lemmas  [ lem : spatial ] and  [ seceest ] .",
    "lemma  [ seceest ] gives a result which holds for all realizations .",
    "( in the case @xmath775 some of the estimates can be sharpened , see remark  [ casepl ] . )",
    "the natural metric on fractal sets constructed with resistances as here is the resistance metric .",
    "we saw in theorem  [ rdzp ] that the hausdorff dimension @xmath776 in this metric is given by the zero of a certain pressure function .",
    "a natural set of weights is @xmath777 .",
    "the measure @xmath778 constructed from this set of weights is called the _ flat measure _ with respect to the resistance metric .",
    "we see in theorem  [ spfm ] that @xmath779 .",
    "this establishes the analogue of conjecture  4.6 in @xcite for @xmath3-variable fractals . in theorem  [ spmax ] we show that for a fixed set of resistances @xmath769 , and for arbitrary weights @xmath570 and corresponding measure @xmath516 , the spectral exponent @xmath780 has a unique maximum when @xmath516 is the flat measure @xmath781 . the spectral exponent in this case is called the _ spectral dimension _ associated with the given resistances .",
    "finally , in the case of the flat measure @xmath778 , we give in theorem  [ imprest ] an improved @xmath37 almost sure estimate for the counting function itself rather than its log asymptotics .",
    "following the notation of the previous section , we consider a fractal @xmath782 and write @xmath783 for the boundary of @xmath250 .",
    "we fix a measure @xmath784 on @xmath250 and , together with the dirichlet form @xmath785 , this allows one to define a laplace operator @xmath786",
    ". we will be interested in the spectrum of @xmath787 as this consists of positive eigenvalues .",
    "however , instead of working directly with @xmath787 , we use a formulation of the dirichlet and neumann eigenvalue problems in terms of the dirichlet form , see @xcite .",
    "recall the definition of @xmath437 from  .",
    "let @xmath788 and let @xmath789 be the inner product on @xmath790 .",
    "it follows as in theorem  [ thmdrf ] that @xmath791 is a local regular dirichlet form on @xmath792 . now _",
    "@xmath57 is a dirichlet eigenvalue with eigenfunction @xmath793 , @xmath794 _ , if @xmath795    similarly , _",
    "@xmath57 is a neumann eigenvalue with eigenfunction @xmath796 , @xmath794 _ , if @xmath797    as usual , we will in future normally omit the dependence on @xmath798 .",
    "by standard results @xcite the dirichlet laplacian has a discrete spectrum @xmath799 and similarly for the neumann laplacian but with @xmath800 .",
    "the dirichlet and neumann eigenvalue counting functions are defined by @xmath801 as usual , eigenvalues are counted according to their multiplicity .",
    "the following lemma implies the spectral exponent @xmath802 in definition  [ dfspm ] is at most  @xmath803 for any realization of our @xmath0-variable fractals .",
    "it is used to prove the second estimate in lemma  [ firsteest ] .",
    "[ lem : lingrowth ] with the same constant @xmath804 as in corollary  [ cor : diambd ] , @xmath805    the effective resistance between @xmath806 and the boundary set @xmath807 is defined by @xmath808 from corollary  [ cor : diambd ] with the same constant @xmath804 , and for any @xmath809 , @xmath810    the green function for the dirichlet problem in @xmath94 is a symmetric function @xmath811 which has @xmath812 .",
    "see , for example , proposition 4.2 of @xcite .",
    "in particular , @xmath813 independently of @xmath287 .",
    "moreover , from theorem 4.5 of @xcite , @xmath814 hence @xmath815 is continuous , and in particular uniformly lipschitz continuous , in the resistance metric .",
    "it follows from mercer s theorem ( for a proof of the theorem see the argument in @xcite pages 344345 ) that @xmath816 and the series converges uniformly , where @xmath817 are the orthonormal eigenfunctions corresponding to the dirichlet eigenvalues @xmath818 . integrating with respect to @xmath456 , @xmath819 for any @xmath820 .      in this and the following sections ,",
    "fix a set of weights @xmath821 as in section  [ secwm ] and let @xmath516 be the corresponding measure .    in order to deduce properties of the counting function for @xmath0-variable fractals we use the method of dirichlet - neumann bracketing .",
    "let @xmath822 be the sequence of cutsets . using the notation of and analogously",
    "to , define @xmath823 thus @xmath824 is the graph associated with the vertices @xmath825 of the cells determined by @xmath822 .",
    "define @xmath826 by @xmath827 the functions in @xmath828 should be regarded as continuous functions on the disjoint union @xmath829 together with its natural direct sum topology .",
    "define @xmath830 by @xmath831 thus @xmath832 is the restriction of @xmath833 ( and of @xmath834 ) to those functions which are zero on @xmath835 , and @xmath836 is the restricted energy functional .",
    "it is straightforward to see that @xmath837 that is , @xmath838 is just the restriction to @xmath437 of the functional @xmath839 and similarly for the other cases .",
    "note that @xmath826 and @xmath830 are local regular dirichlet forms on the spaces @xmath840 and @xmath841 respectively , with discrete spectra and bounded reproducing dirichlet kernels , see  @xcite .",
    "analogously to and we define the notion that _ @xmath842 is an @xmath826 , respectively @xmath830 , eigenvalue with eigenfunction @xmath701_. the corresponding counting functions are @xmath843    in order to compare the various counting functions , first note that if @xmath423 then the decomposition ( [ eq : formdecomp ] ) with @xmath838 replaced by @xmath844 , and the decomposition ( [ inndec ] ) , both generalise to functions @xmath845 . the key observation now is that if @xmath57 is a ( neumann ) @xmath846 eigenvalue with eigenfunction @xmath847 , then we have for all @xmath848 that @xmath849    if we take @xmath850 to be a function supported on a complex with address @xmath851 , we see that @xmath852 since @xmath853 .",
    "thus @xmath854 is an eigenvalue of @xmath855 with eigenfunction @xmath856 .",
    "conversely , from @xmath857 we can construct ( neumann ) eigenfunctions and eigenvalues for @xmath826 , since @xmath858 hence @xmath859 with the argument in the dirichlet case being similar to that for the neumann case .",
    "[ lem : scale ] the following relationships hold for all @xmath860 @xmath861    the proofs are a consequence of dirichlet - neumann bracketing and are straightforward extensions of those found in @xcite  section  4.1 for the p.c.f .  fractal case .",
    "the upper bound on the difference in the neumann and dirichlet counting functions is given by the number of vertices of @xmath265 , which is @xmath862 in our setting .",
    "as in the previous section , fix weights @xmath821 and the corresponding measure @xmath516 .",
    "let the random variable @xmath863 denote the first dirichlet eigenvalue .",
    "[ lem : evalests ] if @xmath804 is the upper bound on the diameter of @xmath94 in the resistance metric given in corollary  [ cor : diambd ] then for @xmath233 , @xmath864 where @xmath865 is the union of the @xmath862 boundary @xmath131-complexes attached to the @xmath862 boundary vertices in @xmath109 .",
    "since the dirichlet form is a resistance form we have for @xmath866 that @xmath867 since @xmath53 is a probability measure and @xmath866 , using corollary  [ cor : diambd ] and the definition of @xmath441 in , it follows that @xmath868 hence by rayleigh - ritz , @xmath869    next let @xmath459 for @xmath870 , @xmath871 for @xmath872 , and harmonically interpolate .",
    "then @xmath873 again by rayleigh - ritz , this gives the upper bound .    if @xmath31 note that with @xmath221 there are at least @xmath874 interior cells as well as @xmath694 boundary cells .",
    "since all cells have the same type , from in lemma  [ hineq ] with @xmath875 , @xmath876 this now gives the result for @xmath31 .    in order to obtain @xmath37-almost sure results",
    "we need to estimate the tail of the bottom eigenvalue random variable .",
    "note that this result is only relevant in the case where @xmath55 as if @xmath31 then @xmath877 is bounded above by  .",
    "[ critest ] there exist constants @xmath878 , @xmath743 and @xmath879 , such that @xmath880    let @xmath881 be the first level such that the following is true : if @xmath245 is the type of a boundary @xmath131-complex of maximum mass , then at least one interior ( i.e.  non - boundary ) @xmath131-complex is also of type @xmath245 .    for any such @xmath131 it follows from that @xmath882 hence @xmath883 from lemma  [ lem : evalests ]",
    "it follows that @xmath884    hence @xmath885 since there are @xmath694 boundary @xmath131-complexes and at least @xmath886 interior @xmath131-complexes , and since the type of each @xmath131-complex is selected independently of each other @xmath131-complex , @xmath887 where @xmath635 is the probability that a particular complex is not of type @xmath888 and @xmath889 . hence setting @xmath890 , @xmath891 where @xmath892 and @xmath893 .",
    "define @xmath894 where @xmath895 is the first dirichlet eigenvalue of the dirichlet form @xmath896 with respect to the measure @xmath897 .",
    "note that @xmath898 .    if @xmath1 by   we have @xmath899 for all @xmath64 .",
    "[ cortail ] if @xmath55 , then with @xmath900 and @xmath901 as in lemma  [ critest ] , we have @xmath271 a.s .  that @xmath902    in order to apply the growth estimate in the previous lemma and use lemma  [ lem : geomrvs ] we use two additional properties :    1 .",
    "the number of distinct subtrees , and hence eigenvalues , corresponding to each level of @xmath139 is uniformly bounded ( by @xmath3 ) ; 2 .   the maximum level corresponding to nodes in @xmath378",
    "is asymptotically bounded by a multiple of @xmath305 , see lemma  [ lem : spatial ] .",
    "first consider any sequence of random @xmath3-variable ifs trees @xmath903 , not necessarily independent but all with the same distribution @xmath904 , see definition  [ dfpv2 ] .",
    "let the corresponding random first eigenvalues be @xmath905 .",
    "then for all @xmath906 , @xmath907    for any tree @xmath908 there are at most @xmath3 non - isomorphic subtrees rooted at each level .",
    "let @xmath909 be the sequence of random variables given by the first eigenvalue of @xmath139 , followed by the first eigenvalues of non - isomorphic ifs subtrees of @xmath139 at level one ( there are at most @xmath3 ) , followed by the first eigenvalues of non - isomorphic ifs subtrees of @xmath139 at level two ( again there are at most @xmath3 ) , etc .",
    "if @xmath910 corresponds to a subtree rooted at level @xmath635 then by construction @xmath911 . with @xmath606 as in it follows that @xmath912 .",
    "hence @xmath271 a.s .",
    ", @xmath913 since @xmath914 from lemma  [ lem : spatial](b ) which implies @xmath915 .",
    "we now wish to determine the limiting behaviour of the counting function .",
    "we first give the following result that is true for all @xmath916 , which we recall from   assumes that @xmath287 has an infinite number of necks .",
    "recall @xmath917 defined in , and the quantities defined in and .    [ firsteest ] there exists a constant @xmath918 such that if @xmath919 then @xmath920 for all @xmath921 .",
    "for the first estimate we have from , and lemma  [ lem : lingrowth ] , @xmath922    next note from definitions , and of @xmath597 , @xmath923 and @xmath924 respectively , from the fact @xmath925 for the equality below , and from for the last inequality provided @xmath926 for all @xmath593 , that @xmath927 but @xmath928 from lemma  [ lem : spatial](c ) and the definition   of @xmath603 .",
    "this gives the second estimate .",
    "for @xmath1 we can improve this to the same estimate as that obtained in @xcite  section  7 .",
    "[ cor : v=1 ] for @xmath1 there exist constants @xmath918 and @xmath929 such that for all @xmath921 , @xmath930    as @xmath1 we know that @xmath931 is bounded above and @xmath932 and hence the inequality on the right in reduces to @xmath933 as required .",
    "we next use asymptotic information about the frequency of necks to obtain the following .",
    "[ seceest ] for @xmath55 there exist constants @xmath934 and @xmath935 such that @xmath271 a.s .",
    "there is a @xmath936 for which @xmath937    this follows from lemma  [ firsteest ] , since @xmath938 by and @xmath939 by lemma  [ lem : spatial](c ) .",
    "[ casepl ] suppose @xmath940 for all @xmath89 and @xmath941 .",
    "then @xmath942 for @xmath943 .",
    "this measure corresponds to the random walk with constant expected waiting time at each node , see the sentence following  .",
    "note that @xmath944 is independent of @xmath593 , and that @xmath945 .",
    "for fixed @xmath305 there is no spatial variability of the @xmath946 with @xmath947 , and so we can take @xmath948 in , which improves   and gives @xmath949 using we can improve the second estimate to have that @xmath37 almost surely there is a @xmath950 such that @xmath951      we again fix weights @xmath821 and let @xmath516 be the corresponding measure as in definition  [ dfwm ] .    the _ pressure function _",
    "@xmath952 where @xmath953 , and the constant @xmath954 , are defined by @xmath955 ( it follows from lemma  [ se1 ] that @xmath954 is unique . )    the pressure function and its zero can be found computationally .",
    "see @xcite for similar computations for the fractal dimension .",
    "[ dfspm ] the _ spectral exponent @xmath780 for @xmath516 _ is defined by @xmath956    we see in theorem  [ thm : nspecdim ] that a.s .  the spectral exponent exists and equals the constant @xmath957 . by lemma  [ lem : scale",
    "] we could replace @xmath958 by @xmath959 .",
    "recall the definition of @xmath617 in and the estimate for @xmath960 from  .",
    "[ se1 ] the function @xmath961 is finite , strictly decreasing and lipschitz , with derivative in the interval @xmath962 $ ] . since @xmath667",
    "there is a unique @xmath954 such that @xmath963 and moreover @xmath964 .    if @xmath670 then from and , @xmath965 this gives the lipschitz estimate .    since @xmath672",
    ", it follows that @xmath673 .",
    "the rest of the lemma follows .",
    "[ se2 ] @xmath271 a.s .",
    "we have @xmath966    the idea is that from the definition of a neck , @xmath967 is the difference of two random variables , each of which is the sum of @xmath305 iid random variables having the same distribution as @xmath968 and @xmath969 respectively .",
    "more precisely , suppose @xmath970 and in particular is a neck .",
    "then @xmath971 and so @xmath972    if we let @xmath973 or @xmath974 , it follows from and that @xmath975 and we can apply lemma  [ lem : sumprod ] . thus applied to each term on the right hand side of gives the result .",
    "_ subsequently we write @xmath976 for @xmath958 . _ but note that from the second line in lemma  [ lem : scale ] the main estimates in the rest of the paper also apply immediately to @xmath977 .",
    "the proof of the following theorem relies on the dirichlet - neumann bracketing result in lemma  [ seceest ] and the estimates in lemma  [ lem : spatial](c ) .",
    "[ thm : nspecdim ] the spectral exponent is given by @xmath957 in that @xmath978    define the unit mass measure @xmath979 on @xmath539 by setting , for any @xmath67 and for @xmath980 , @xmath981 = \\frac{t_{{{\\boldsymbol{i}}}}^{\\beta/2}}{\\sum_{|{{\\boldsymbol{i}}}|=n(k ) } t_{{{\\boldsymbol{i}}}}^{\\beta/2}}.\\ ] ] it is straightforward to check that @xmath982 is just the unit mass measure with weights @xmath983 as in definition  [ dfwm ]",
    ".    if @xmath984 or equivalently @xmath985 , then from for @xmath986 small enough we have @xmath987 a.s .   that there is a constant @xmath988 such that @xmath981 \\geq t_{{{\\boldsymbol{i}}}}^{\\beta/2 } e^{-k(\\gamma(\\beta)+\\epsilon ) } \\geq c t_{{{\\boldsymbol{i}}}}^{\\beta/2 } \\text{\\quad if }   k \\geq k_0 .\\ ] ] as @xmath822 is a cut set , by using the lower estimate above we have from lemma  [ lem : spatial](c ) that @xmath271 a.s .  if @xmath989 then @xmath990    \\geq    \\sum_{{{\\boldsymbol{i}}}\\in\\lambda_k } c t_{{{\\boldsymbol{i}}}}^{\\beta/2 }    \\succcurlyeq   c m_k k^{-\\beta\\beta'/2 } e ^{-k\\beta /2 } , \\quad   \\text{for some } \\beta ' > 0 .\\ ] ] thus @xmath991    suppose @xmath992 and let @xmath64 be such that @xmath993",
    ". then @xmath994 by lemma  [ lem : spatial](c ) and so @xmath995 where the second inequality is from the first estimate in lemma  [ seceest ] and the third inequality is from .",
    "as this holds for all @xmath996 we have @xmath997    similarly we have an asymptotic lower bound . for this",
    "choose @xmath998 , or equivalently such that @xmath999 .",
    "then for small enough @xmath986 we have @xmath271 a.s .  that for some @xmath1000 @xmath1001 and hence from lemma  [ lem : spatial](c ) , that @xmath271 a.s .",
    "then @xmath1002 thus @xmath271 a.s.@xmath1003    from the second estimate in lemma  [ seceest ] and using , @xmath1004    again choosing @xmath64 such that @xmath1005 , we have from lemma  [ lem : spatial](c ) that for some @xmath1006 , @xmath1007 hence @xmath1008 setting @xmath1009 , since @xmath1010 and @xmath1011 as @xmath1012 , it follows @xmath1013    combining this with , since @xmath998 is arbitrary , implies @xmath1014    the required result follows from and .",
    "[ dffm]the _ flat measure _ with respect to the resistance metric is the unit mass measure @xmath778 with weights @xmath1015 , where @xmath1016 is the hausdorff dimension in the resistance metric ( see definition  [ dfwm ] ) .",
    "the _ spectral dimension _",
    "@xmath1017 is the spectral exponent for the flat measure .",
    "further justification for the definition of @xmath773 is given in theorem  [ spmax ] .",
    "recall from theorem  [ rdzp ] that @xmath1016 is uniquely characterised by @xmath1018 as a consequence , the following theorem establishes the analogue of conjecture  4.6 in @xcite for @xmath3-variable fractals .",
    "[ spfm ] the spectral exponent for the flat measure @xmath778 is given @xmath37 a.s .",
    "by @xmath1019    from definition  [ dffm ] , , and , if @xmath643 is a neck then @xmath1020 hence the spectral exponent @xmath1021 is uniquely characterised by @xmath1022 using , @xmath1023 using again and the uniqueness of @xmath1024 , it follows that @xmath1025 , which gives  .",
    "we next show that the spectral dimension maximises the spectral exponent @xmath1026 over _ all _ measures @xmath516 defined from a set of weights @xmath570 as in section  [ secwm ] .",
    "a related result for deterministic fractals is established in theorem a2 of @xcite using lagrange multipliers . here",
    "we need a different argument , but this also establishes uniqueness of the @xmath570 and hence of @xmath1027 .    the proof is partly motivated by @xcite , in particular section 4 and the discussion following corollary 2.7 .",
    "we first need the following general inequality .",
    "[ prpiiq]suppose @xmath1028 and @xmath1029 are sets of positive real valued random variables , each with the same random cardinality @xmath96 , on a probability space @xmath1030 .",
    "suppose @xmath1031 and that the constant @xmath901 satisfies @xmath1032 .",
    "then @xmath1033 with equality iff @xmath1034 a.s .    for any @xmath1035 , a suitable version of hlder s inequality for sequences yields @xmath1036    taking logs and expectations , and using the assumption on the random sets @xmath1037 gives @xmath1038 this gives .",
    "if @xmath1039 a.s .  where @xmath685 is a random variable , then equality holds in since both sides equal @xmath1040",
    "if it is not the case that @xmath1041 a.s .  then strict inequality holds in with positive probability and hence strict inequality holds in  .",
    "[ spmax ] the spectral dimension @xmath1042 is the maximum spectral exponent @xmath1043 over all measures @xmath1027 defined from weights @xmath570 .",
    "equality holds if and only if for some constant @xmath685 , @xmath1044 a.s . ,",
    "in which case the corresponding measure @xmath516 is the flat measure with respect to the resistance metric .    for @xmath1045 let @xmath1046 , so that @xmath1047 .",
    "suppose @xmath1048 is a set of weights and consider the corresponding @xmath1049 .",
    "let @xmath1050 .    then from , @xmath1051    choosing @xmath901 so that the powers of @xmath465 and @xmath1049 are equal , gives @xmath1052 , i.e.  @xmath1053 . hence @xmath1054 moreover , by proposition  [ prpiiq ] equality holds if and only if a.s .",
    "it is the case that @xmath1055 is independent of @xmath141 for @xmath1056 .",
    "clearly , this is true iff @xmath1057 a.s .  for some constant @xmath685 .    from the definition of @xmath780",
    ", we have @xmath1058 . from lemma  [ se1 ] and the previous inequality",
    ", it follows that @xmath1059 , and equality holds iff @xmath1060 a.s .  for some constant @xmath685",
    "we next give a sharpening of theorem  [ thm : nspecdim ] in the case of the flat measure with respect to the resistance metric .",
    "this shows that for this measure , for all @xmath55 , we have the same fluctuations as observed in the version of the @xmath1 case treated in @xcite . for this , let @xmath1061    [ imprest ] suppose @xmath53 is the flat measure in the resistance metric .",
    "then there exist positive ( non - random ) constants @xmath1062 , and there exists a positive finite random variable @xmath1063 , such that if @xmath1064 then @xmath1065    consider the unit mass measure @xmath1066 constructed in the proof of theorem  [ thm : nspecdim ] , where now @xmath1067 is the spectral dimension as in  .    in the following",
    "the constant @xmath685 may change from line to line , and even from one inequality to the next .    if @xmath1068 is a neck and @xmath1069 then from and , @xmath1070   =   \\frac{t_{{{\\boldsymbol{i}}}}^{d_s/2}}{\\sum_{|{{\\boldsymbol{j}}}| = { n(\\ell ) } } t_{{{\\boldsymbol{j}}}}^{d_s/2 } }     =   \\frac{t_{{{\\boldsymbol{i}}}}^{d_s/2 } } {   \\left (   \\sum_{|{{\\boldsymbol{j}}}| = { n(\\ell ) } } r _ { { { \\boldsymbol{j}}}}^{d_f^r } \\right)^{1/(1+d_f^r ) } } .\\ ] ] using the law of the iterated logarithm , as in theorem  [ thm : lil ] and from the decomposition  , @xmath271 a.s .",
    "there exists a constant @xmath685 such that , for @xmath588 sufficiently large , @xmath1071    since @xmath1072 is a unit measure and @xmath378 is a cut set , it follows from and by summing over @xmath593 that , for @xmath305 sufficiently large , @xmath1073 where @xmath595 is defined in . but",
    "from lemma  [ lem : spatial](c ) and lemma  [ lem : spatial](a ) respectively , the following hold @xmath271 a.s .  for @xmath593 and",
    "@xmath1074 sufficiently large : @xmath1075 moreover , @xmath1076 for some @xmath1077 and all @xmath1078 .",
    "it follows from that , for @xmath305 sufficiently large , @xmath1079 since @xmath1080 can be absorbed into @xmath1081 , with a new @xmath685 .",
    "that is @xmath1082    given @xmath1083 choose @xmath305 so @xmath1084 .",
    "note also from lemma  [ lem : spatial](c ) that @xmath1085 , for @xmath1074 sufficiently large . then from lemma  [ seceest ] and , @xmath1086 where for the last inequality we note that @xmath1087 .    similarly , again from lemma  [ seceest ] and , @xmath1088 but @xmath1089 for @xmath1090 and @xmath1091 .",
    "it follows that @xmath1092 and so @xmath1093 if @xmath1094 , hence if @xmath1095 .",
    "the result follows from and .     by using the law of the iterated logarithm in the above we",
    "can show that the weyl limit does not exist in that there is a constant @xmath1096 such that @xmath1097",
    "the on - diagonal heat kernel is determined for resistance forms by the volume growth of balls . in @xcite",
    "it is shown how volume estimates can be translated into heat kernel estimates in the case of non - uniform volume growth .",
    "we are in the same setting but will express the bounds in a slightly different way .",
    "as we have scale irregularity these will give rise to larger scale fluctuations than the fluctuations arising from the spatial irregularity .",
    "note that we will establish bounds for the neumann heat kernel and are in a setting where the measure is not volume doubling .",
    "in previous work , in the @xmath1 setting of @xcite , using our notation in ( [ dfmk ] ) and ( [ phidef ] ) , the results obtained were that for all realizations there are non - random constants @xmath1098 such that @xmath1099 while using a sequence chosen according to @xmath1100 , there are non - random constants @xmath1062 and a random variable @xmath1101 under @xmath1100 , such that @xmath1102 in the random recursive case ( @xmath2 ) with its natural flat measure , as considered in @xcite , the fluctuations were shown to be smaller in that there are fixed constants @xmath1103 and a random variable @xmath1104 under @xmath1105 such that @xmath1106    we will show here that the on - diagonal heat kernel estimates for @xmath0 variable fractals are determined by the local environment , see theorems  [ thm : hkub ] and  [ thm : hklb ] . in the case of the flat measure in the resistance metric , see definition  [ dffm ] , we show in theorem  [ thm : flatfluc ] that the global fluctuations are of the same order as the @xmath1 case for nested sierpinski gaskets with uniform measure as described in @xcite . in the case of a general class of measures we will see in theorem  [ thm : locspecd ]",
    "that @xmath53-almost every @xmath1107 does not have the same spectral exponent as the counting function ( except when we choose the flat measure ) and there will be a multifractal structure to the local heat kernel estimates in the same way as observed in @xcite , @xcite .    in order to transfer the fluctuations in the measure to the on - diagonal heat kernel we could apply a local nash inequality , for example @xcite or use @xcite .",
    "however we use more bare hands arguments adapted from those of @xcite , @xcite and @xcite in order to keep the scale and spatial fluctuations separate .",
    "note that in @xcite , @xcite it is shown that , in the case of resistance forms with non - uniform volume growth and under assumptions which hold in our setting , there exists a heat kernel which is jointly continuous in @xmath1108 for every @xmath443 .",
    "firstly , recall from theorem  [ thmdrf ] and the definitions and discussions around , , , that @xmath1109 and @xmath1110 are local regular dirichlet forms on @xmath1111 respectively . for @xmath1112",
    "let @xmath1113 with similar expressions for the other dirichlet forms .",
    "the space @xmath1114 equipped with norm @xmath1115 is again a reproducing kernel hilbert space and we write @xmath1116 for the corresponding reproducing kernels .",
    "we state a scaling property of the dirichlet form .",
    "let @xmath1120 be the reproducing kernel associated with the dirichlet form @xmath1121 on @xmath1122 with dirichlet boundary conditions and let @xmath1123 be the reproducing kernel for the dirichlet form @xmath1124 on @xmath1122 with neumann boundary conditions .",
    "we consider @xmath1129 , for @xmath1126 , which is the reproducing kernel for @xmath1130 on @xmath1131 .",
    "we note that @xmath1132 for all @xmath1133 . using this , the reproducing kernel property and the scaling",
    ", we have for @xmath1126 , @xmath1134 as required .",
    "we follow the proof of @xcite  theorem  7.20 .",
    "note that for any fixed @xmath1107 we have @xmath1142 and hence using ( [ dfrm ] ) @xmath1143 by the reproducing kernel property and the global bound on the resistance across @xmath250 from corollary  [ cor : diambd ] we have @xmath1144 rearranging @xmath1145 and integrating over @xmath1146 against @xmath53 we have @xmath1147 the result then follows easily .            as @xmath1156 we have , by the monotonicity of @xmath1157 in @xmath1158 , that for all @xmath847 @xmath1159 thus ,",
    "setting @xmath1160 , we have @xmath1161 rearranging and the definition of @xmath1119 then gives the result .",
    "let @xmath1162 be the diffusion with law @xmath1163 associated with the dirichlet form @xmath448 .",
    "we write @xmath1164 for the law of the process with @xmath1165 and @xmath1166 for the corresponding expectation .",
    "we write @xmath1167 for the first hitting time of the set @xmath1168 .",
    "for @xmath1125 we write @xmath1169 for the union of the complex @xmath1170 and its neighbours .",
    "let @xmath1171 .",
    "for @xmath1172 we define @xmath1173 we will also use the notation @xmath1174 .          to treat the first term we note that the dirichlet form restricted to @xmath1170 with dirichlet boundary conditions is a reproducing kernel hilbert space with the associated green function @xmath1182 as the kernel .",
    "let @xmath1183 . by the definition of @xmath1184 and the reproducing kernel property we have @xmath1185 . by the definition of the effective resistance we also have that @xmath1186 .",
    "as @xmath1187 is harmonic away from @xmath73 and is 0 on @xmath1188 we have that @xmath1189 for all @xmath1146 .",
    "hence , putting these observations together and using corollary  [ cor : diambd ] , we have that , for any @xmath1190 , @xmath1191 as @xmath943 .",
    "we next consider the exit time from @xmath1192 started at a point @xmath1193 .",
    "let @xmath1194 and set @xmath1195 .",
    "then @xmath1196 is a discrete time markov chain on @xmath1197 .",
    "let @xmath1198 .",
    "by construction we see that @xmath1199 can be viewed as a @xmath1200 state discrete time markov chain with @xmath265 states as the vertices of @xmath1170 and an absorbing state given by amalgamating the vertices in @xmath1201 . by construction",
    "this markov chain has transition probabilities given by the conductances on @xmath1202 . as two of the vertices in @xmath1188",
    "must be internal to a triangle or @xmath382-dimensional tretrahedron in @xmath1203 the conductance between the edges across @xmath1204 and at least one edge to @xmath1201 are comparable or otherwise the conductances across @xmath1204 are smaller and hence @xmath1205 independent of @xmath64 .      the same argument as before for the first term in",
    "but using @xmath1207 gives @xmath1208 now observe that by the definition of resistance we have @xmath1209 thus we have @xmath1210 . by our estimate on the resistance in lemma  [ lem : resbd ]",
    "this gives @xmath1211 .",
    "hence , as the number of cells that meet at @xmath1146 is bounded , @xmath1212    we are now ready to show @xmath1213 . to see this we use @xmath1214 note that @xmath97 is a stopping time with respect to @xmath1215 , where @xmath1216 is the filtration generated by @xmath1217 . as @xmath1218 , a minor modification of wald s identity shows that @xmath1219 putting this back into ( [ eq : htdecomp ] ) gives the upper bound .",
    "for the mean hitting time lower bound we return to ( [ eq : htdecomp ] ) to see that @xmath1220 using the properties of @xmath1207 , and setting @xmath1221 , we see that @xmath1222 let @xmath1223 let @xmath1224 denote the index at which @xmath1225 is attained .",
    "thus , by the boundedness of @xmath1226 , we have @xmath1227 we now show that @xmath1228 must have measure comparable with @xmath1229 .    by decomposing the cell @xmath1230 we have @xmath1231 and we write @xmath254 with @xmath1232 such that @xmath1233 . then",
    ", by corollary  [ cor : diambd ] , for any @xmath1234 we have a constant @xmath1096 such that @xmath1235 and hence by ( [ eq : rydy ] ) @xmath1236 thus , if we take @xmath1237 and set @xmath1238 , we have @xmath1239 where @xmath1240 .",
    "hence for @xmath1234 we have @xmath1241 . as @xmath1242",
    "we see that we must have @xmath1243 .",
    "thus for any @xmath1193 we have , writing @xmath1244 for the first neck after @xmath1245 , @xmath1246 now apply ( [ eq : rydy ] ) , the upper and lower bounds on the weights and lemma  [ lem : spatial ] , @xmath1247 as required .                in a different setting",
    "@xcite obtained a finer estimate on the exit time from a complex which enables the derivation of a finer form of this on - diagonal estimate .",
    "we do not derive such a result here though we expect that the same techniques could be applied to do so .",
    "our result is enough to enable us to compute the @xmath53-almost everywhere local spectral exponent            let @xmath1270 denote the addresses of the three boundary cells at the @xmath1271-th neck .",
    "by lemma  [ hineq ] we must have @xmath1272 now for @xmath1273 we have @xmath1274 if @xmath1275 . then , setting @xmath1276 , we have @xmath1277 by construction the terms @xmath1278 are independent and equal in distribution to @xmath1279 , allowing us to write @xmath1280 thus we have @xmath1281 ) } \\not\\subset k_{{{\\boldsymbol{i}}}^x|n(k ) } )    \\leq c_1 \\sum_{k=1}^{\\infty } a^{c\\log{k } } < \\infty,\\ ] ] for large enough @xmath1096 . hence @xmath37 a.s",
    "we have @xmath1282 ) } \\not\\subset k_{{{\\boldsymbol{i}}}^x|n(k ) } \\;\\ ; i.o . )",
    "= 0,\\ ] ] as required .",
    "for the rest of this section we write @xmath1283 for the tree up to the first neck .",
    "take another set of weights @xmath1284 satisfying the conditions of section  3.3 and define the associated measure @xmath1285 .",
    "for @xmath1107 we have a sequence @xmath1294 for which @xmath1295 as @xmath744 . by monotonicity of the diagonal heat kernel in time for @xmath1296",
    "$ ] we have @xmath1297 and thus @xmath1298 now using theorem  [ thm : hkub ] we have @xmath1299 we now consider the probability measure @xmath1300on @xmath1301 ( with the product @xmath1302-algebra ) .",
    "if the point @xmath73 is chosen according to @xmath1285 , then the terms @xmath1303 are independent and equal in distribution to @xmath1279 under @xmath1300 .",
    "we can also express @xmath1304 in terms of independent random variables @xmath1305 defined in the same way .",
    "it is easy to see that @xmath1306 for any @xmath1107 , @xmath37-almost surely and hence @xmath1307",
    "as the mean of @xmath1308 is finite we can apply the strong law of large numbers under @xmath1300 to see that @xmath1309 similarly we can find the limit for the denominator in ( [ eq : hkds ] ) .",
    "thus we have @xmath1310    for the lower bound we define @xmath1311 if @xmath1312 .",
    "thus @xmath1313 hence , it is clear that , by the independence @xmath1314 now , from theorem  [ thm : hklbk ] , we have that @xmath37 a.s . for @xmath1315",
    "we have for @xmath1249 , @xmath1316 thus @xmath1317    we now observe that by lemma  [ lem : muk ] we have a constant @xmath1318 such that @xmath1319)}.\\ ] ] using this , ( [ eq : lkk ] ) and writing @xmath1320 $ ] , we have @xmath1321 for @xmath1285 a.e .",
    "@xmath1107 , @xmath37 almost surely , as required .    in the case where the reference measure @xmath53 is the flat measure @xmath1322 in the resistance metric ,",
    "the weights are proportional to @xmath1323 and @xmath1324 , a simple calculation shows that @xmath1325 indeed in this case we can go further and give a bound on the size of the scale fluctuations .",
    "we begin by observing that for @xmath943 we have @xmath1329 and thus substituting in the upper bound estimate from theorem  [ thm : hkub ] , for @xmath1126 @xmath1330 by ( [ 4122 ] ) we have that @xmath37 almost surely for sufficiently large @xmath64 , @xmath1331 and hence @xmath1332 .",
    "thus , using lemma  [ lem : spatial ] , @xmath1333 and @xmath1334 thus , for @xmath1335 , and as @xmath1336 , we have for any @xmath1107 , @xmath1337    for the lower bound we observe from theorem  [ thm : hklbk ] that @xmath37 almost surely for sufficiently large @xmath64 , for @xmath1263 @xmath1264 as @xmath1338 @xmath37 almost surely , as before we have @xmath1339 then as the number of cells in @xmath1192 is bounded and @xmath1340 by lemma  [ lem : spatial](a ) , we have @xmath1341 thus , @xmath37 a.s . for sufficiently large @xmath64 for @xmath1342 , @xmath1343 for @xmath1344",
    "we have @xmath1345 so that @xmath1346 and @xmath1347 now as @xmath1348 we have for sufficiently small @xmath1349 , for any @xmath1107 @xmath1350 by adjusting @xmath1351 we can absorb the logarithm into the exponential term and we have the result .    10 m.t .",
    "diffusions on fractals _ , in lectures in probability theory and statistics : ecole dt de probabilits de saint - flour xxv ( lect .",
    "notes math .",
    "@xmath1352 ) , springer , new york , 1998 .",
    "m. fukushima , dirichlet forms , diffusion processes and spectral dimensions for nested fractals . _ ideas and methods in mathematical analysis , stochastics , and applications ( oslo , 1988 ) _ 151161 , cambridge univ . press , cambridge , 1992 .",
    "hambly , heat kernels and spectral asymptotics for some random sierpinski gaskets . _ fractal geometry and stochastics , ii _ ( greifswald / koserow , 1998 ) , 239267 , progr .",
    "probab . , 46 , birkhuser , basel , 2000 ."
  ],
  "abstract_text": [
    "<S> the family of @xmath0-variable fractals provides a means of interpolating between two families of random fractals previously considered in the literature ; scale irregular fractals ( @xmath1 ) and random recursive fractals ( @xmath2 ) . </S>",
    "<S> we consider a class of @xmath0-variable affine nested fractals based on the sierpinski gasket with a general class of measures . </S>",
    "<S> we calculate the spectral exponent for a general measure and find the spectral dimension for these fractals . </S>",
    "<S> we show that the spectral properties and on - diagonal heat kernel estimates for @xmath0-variable fractals are closer to those of scale irregular fractals , in that it is the fluctuations in scale that determine their behaviour but that there are also effects of the spatial variability . </S>"
  ]
}