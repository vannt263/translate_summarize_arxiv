{
  "article_text": [
    "let @xmath2 denote a topological surface and @xmath9 a reductive group . the @xmath9-_character stack _",
    "@xmath10 of @xmath2 is the moduli space of @xmath9-local systems on @xmath2 , the quotient of the affine scheme of representations of the fundamental group of @xmath2 into @xmath9 by the conjugation action of @xmath9 .",
    "character stacks  and their variants associated to surfaces with marked points or other decorations , which we collectively refer to as character varieties  play a central role in geometry , representation theory and physics .",
    "a crucial feature of character stacks is their local nature  they are obtained from gluing stacks of local systems on patches of @xmath2 . as a result",
    "they provide a natural source of topological field theories : numbers , such point counts / euler characteristics of character varieties appear in two - dimensional field theory ; vector spaces such as sections of line bundles on character varieties appear in three - dimensional field theory ; and finally , categories of sheaves on character varieties appear naturally in four - dimensional field theory .    we will be concerned with the four - dimensional setting , accessing character varieties through their categories of coherent sheaves , as they appear in the betti form of the geometric langlands program and in twisted @xmath11 @xmath12 super - yang - mills theory , following the work of kapustin - witten . our goal is to construct and describe _ quantum character varieties _  @xmath13-deformations of these categories , which quantize the goldman symplectic structure on the character stack ( associated to a choice of invariant form on @xmath14 ) .",
    "moreover we would like to endow these quantum character varieties with all of the structures expected from their origin in topological field theory , and to develop their study as a natural setting for a variety of constructions in quantum algebra .    in @xcite",
    ", we initiated the construction of quantum character varieties via factorization homology of braided ( or balanced ) tensor categories @xmath0 on topological surfaces : this produces category - valued invariants of framed ( or oriented ) topological surfaces , with the desired strong functoriality and locality properties . starting from the braided tensor category @xmath4 of integrable representations of the corresponding quantum group yields the desired functorial quantizations .",
    "we computed these invariants for unmarked punctured surfaces , in terms of certain explicitly presented , and in many cases well - known , quantum algebras , which were constructed as certain twisted tensor products of the so - called  reflection equation algebra \" @xmath15 .    in the present paper , we extend this framework to the setting of closed surfaces , as well as to surfaces with marked points and boundaries . in brief , our main results are as follows :    * the possible markings of points ( codimension two defects ) in the topological field theory defined by @xmath0 are given by module categories over the monoidal category @xmath16 . in",
    "@xcite we identified the underlying category with modules @xmath17 for the _ reflection equation algebra _ of @xmath0 . in section  [ annulus - category - section ]",
    "we explicitly identify the new induced monoidal structure on this category , the _ field - goal tensor product_. * we show in theorem [ thm : e2mod ] that codimension two defects ( @xmath16-modules ) are identified with _ braided module categories _ over @xmath0 ( in the sense of  @xcite ) , in the same way that the unmarked disc is assigned @xmath0 ( see section  [ sec : facthom ] for an introduction to factorization homology of marked surfaces ) .",
    "there are many natural examples of braided module categories ( see below ) , including ones corresponding to versions of character varieties with parabolic structures , fixed conjugacy classes , or other boundary conditions ( codimension one defects wrapping a circle ) .",
    "they play the role for the 4d kapustin - witten ( betti geometric langlands ) tft that integrable representations of the loop group play for the 3d chern - simons ( witten - reshetikhin - turaev ) theory . * in theorem",
    "[ quantum - moment - map - theorem ] , we identify braided module categories with a generator as modules for an algebra object @xmath18 equipped with a  quantum moment map \" , i.e. an algebra homomorphism , @xmath19 . as we explain , @xmath20 is a quantum version of a group - valued moment map appearing in the classical setting @xcite .",
    "* we describe ( in theorems  [ reconstruction ] , proposition  [ inducedactions ] , and corollary  [ annulus - corollary ] ) the result of gluing braided module categories with generators over their common braided @xmath0-action as a category of bimodules in @xmath0 .",
    "the quantum moment maps play a key role in defining the bimodule structure , and the resulting categories may be regarded as categorical quantum hamiltonian reductions , along the respective quantum moment maps . * in particular",
    ", we compute the  global functions \" on general quantum character varieties : the endomorphisms of the quantum structure sheaf on a closed ( or marked ) surface are identified as the quantum hamiltonian reduction of the algebra @xmath21 associated to a punctured surface along the corresponding quantum moment map . * the torus integral @xmath3 of a balanced tensor category @xmath0 is identified with the trace ( or hochschild homology ) of the 2-category of braided @xmath0-modules , i.e. , the natural receptacle for characters of braided modules .",
    "for @xmath4 we identify the torus integral with the category @xmath5 of adjoint - equivariant quantum @xmath6-modules , thus providing an interpretation for these characters as quantum analogues of character sheaves . * for @xmath7 ,",
    "the category @xmath5 has a  mirabolic \" version obtained by marking a single point in @xmath22 by the quantum  ruijsenaars - schneider \" conjugacy class @xmath23 .",
    "we show that we recover cherednik s spherical double affine hecke algebra @xmath8 , as the  global functions \" ( endomorphisms of the quantum structure sheaf ) . hence , the global sections of any mirabolic quantum @xmath6-module carries a canonical action of the spherical double affine hecke algebra .",
    "factorization homology provides a general mechanism to construct invariants of @xmath24-manifolds starting from algebras @xmath0 over the @xmath25 ( little @xmath24-disks ) operad ",
    "i.e. , objects which carry operations labeled by inclusions of disks into a larger disk ( see section  [ sec : facthom ] for a brief review ) .",
    "the invariant @xmath26 of an @xmath24-manifold is then defined as the universal recipient of maps from @xmath0 for every inclusion of a disk into @xmath27 , and factoring through the operad structure .",
    "there is a natural operadic notion of module @xmath28 for an @xmath25-algebra @xmath0 , captured pictorially by placing the module at a marked point of a disk and allowing insertions of @xmath0 at disjoint disks .",
    "it is well - known ( see e.g. @xcite ) that the structure of @xmath25-module over an @xmath25-algebra @xmath0 on @xmath28 is equivalent to the structure of left module over the associative ( @xmath29 )  universal enveloping algebra \" @xmath30 , namely the factorization homology @xmath31 of an annulus with coefficients in @xmath0 .",
    "the latter category is equipped with an @xmath29 ( monoidal ) structure , coming from concatenation of annuli .",
    "this is the structure used in the excision axiom on @xmath32 ( see section  [ sec : braidedmodule ] for more details ) by which one computes factorization homology .    in",
    "@xcite we initiated the study of factorization homology of surfaces with coefficients in braided tensor categories , which are precisely the @xmath33-algebras in a certain 2-category @xmath34 of linear categories with the kelly - deligne tensor product .",
    "( more precisely , braided tensor categories @xmath0 can be integrated over _ framed _ surfaces , while equipping @xmath0 with a _",
    "balanced _ structure extends this integral to oriented surfaces . ) in the same way , factorization homology of surfaces with marked points demands that for each marked point we give an @xmath33-module @xmath28 over our chosen braided tensor category @xmath0 .    in theorem  [ thm : e2mod ]",
    ", we show that in the case @xmath34 , the notion of an @xmath33-module is equivalent to that of a  braided module category \" , a concept introduced in @xcite , and closely related to the reflection equation algebra .",
    "we also introduce the notion of a  balanced braided module category \" , which captures the structure of a @xmath35-module ( i.e. the oriented marked case ) , and we show in theorem  [ thm : balancedmodule ] that , when @xmath0 itself is balanced , it endows any of its braided module categories with a canonical ( though not unique ) balancing .",
    "examples of braided module categories include the following :    1 .",
    "the category @xmath0 itself is a braided @xmath0-module .",
    "it corresponds to the  vacuum marking \" , and is an essential component in our computation for unmarked surfaces .",
    "2 .   for any surface @xmath36 with circle boundary ,",
    "the category @xmath37 is a braided module category , by insertions of annuli along the boundary . in @xcite",
    ", we identified @xmath37 with the category of modules for an explicitly constructed algebra @xmath21 .",
    "quantizations of conjugacy classes in @xmath9 , following @xcite , define braided module categories .",
    "an important example is the so - called calogero - moser conjugacy class , consisting of matrices which differ from the identity by a matrix of rank at most one @xcite .",
    "4 .   examples of braided module categories related to a variant of the trigonometric knizhnik ",
    "zamolodchikov equation , and the theory of dynamical quantum groups , appear in @xcite .",
    "a  boundary condition \" is the local marking data for a half - plane .",
    "algebraically , this is the data of a tensor category @xmath38 attached to the boundary , together with a braided tensor functor @xmath39 to the drinfeld center of @xmath38 .",
    "the trace , or hochschild homology category , of such a @xmath38 carries the structure of a braided module category for @xmath0 .",
    "important examples are provided by parabolic subgroups .    in @xcite , we identified @xmath16 with the category of modules for the  reflection equation algebra \" @xmath15 . in the case",
    "@xmath4 , @xmath40 is a quantization of the coordinate algebra @xmath41 , equipped with its semenov - tian - shansky poisson bracket . in section [ annulus - category - section ]",
    ", we prove the following theorem , giving yet a third reformulation of the notion of a braided module category , in terms of @xmath40 :    [ quantum - moment - map - theorem ] let @xmath28 be a braided module category .    1 .   for every @xmath42 , we have a canonical homomorphism of algebras , @xmath43 we call @xmath44 _ the quantum moment map _ attached to @xmath27 .",
    "2 .   assuming @xmath27 is a progenerator for the @xmath0-action - action ; see theorem  [ inducedactions ] ] , we moreover have an equivalence of @xmath16-module categories , @xmath45 3",
    ".   the action of any @xmath46 on any @xmath47 is given by relative tensor product , @xmath48 over the homomorphism @xmath44 .",
    "conversely , given an algebra @xmath49 and a homomorphism @xmath50 , the category @xmath51 is equipped with the structure of a braided module category , with action as in ( 3 ) .",
    "the regular @xmath52-module @xmath53 is an @xmath0-progenerator in this case .",
    "natural examples of quantum moment maps arise in the following contexts :    1 .",
    "the quantum moment map for @xmath0 itself is the co - unit homomorphism , @xmath54 which quantizes the homomorphism of evaluation of a function at the identity element .",
    "2 .   in section  [ reconstruction - section ] , we obtain canonical quantum moment maps @xmath55 which control the braided module category structure on @xmath37 .",
    "these quantize the classical multiplicative moment maps , which send a local system to its monodromy around the puncture .",
    "3 .   by their construction",
    " as equivariant quotients of the reflection equation algebra",
    " quantizations of conjugacy classes carry canonical quantum moment maps .",
    "let us fix a surface @xmath2 equipped with a marked point @xmath56 , a disc @xmath57 containing @xmath58 , and a braided module category @xmath28 .",
    "let @xmath59 , and fix a disc embedding @xmath60 , and resulting annulus embedding @xmath61 .",
    "we may then compute the factorization homology using excision ,    @xmath62    building on theorem  [ quantum - moment - map - theorem ] we can describe the tensor product above explicitly , in the language of quantum hamiltonian reduction .",
    "let @xmath63 denote the push - forward in factorization homology along the embedding @xmath64 .    1 .",
    "for any @xmath65 , we have a natural isomorphism : @xmath66 of the endomorphism algebra of @xmath67 , in the category @xmath68 with the quantum hamiltonian reduction of @xmath21 along the quantum moment map @xmath69 .",
    "2 .   suppose that @xmath27 is an @xmath0-progenerator .",
    "then we have equivalences of categories , @xmath70 with the category of bimodules for @xmath21 and @xmath71 , in the category @xmath72 .",
    "the quantum global sections functor @xmath73 valued in the category of modules for the quantum hamiltonian reduction is naturally equivariant for actions of the marked - and - colored mapping class group of the surface .    this theorem ( more generally in the case of several marked points ) is proved in section  [ reconstruction - section ] .",
    "in particular we obtain a description of the category associated to a closed unmarked surface @xmath2 .",
    "choose some disk @xmath74 , and let @xmath36 denote its complement in @xmath2 .",
    "we have an equivalence of categories , @xmath75 with the category of bimodules for @xmath21 and @xmath76 , in the category @xmath72 .",
    "likewise we can identify global functions on the quantum character variety ( i.e. , endomorphisms of the quantum structure sheaf@xmath77 with the quantum hamiltonian reduction of @xmath21 along the quantum moment map @xmath20 , @xmath78 thus we have a global sections functor @xmath79 valued in the category of modules for the quantum hamiltonian reduction , equivariant for an action of the mapping class group of the surface .      in the classical setting @xmath80 , it was a fundamental observation of  @xcite that @xmath9 character varieties of closed surfaces could be obtained via  multiplicative hamiltonian reduction \" of their punctured counterparts .",
    "let us briefly recall the classical construction here .",
    "let @xmath36 be a surface with one distinguished circle boundary component with a point @xmath81 chosen on it .",
    "let @xmath82 denote the representation variety of @xmath36 , i.e. @xmath83 equivalently , @xmath82 is the variety of @xmath9-local systems on @xmath36 , equipped with a trivialization of the fiber at @xmath81 . changing the choice of trivialization amounts to conjugating a given homomorphism by a group element .",
    "hence , the @xmath9-character stack of @xmath2 is the quotient stack @xmath84 the embedding of the annulus around the circle boundary of @xmath2 induces a @xmath9-equivariant map , @xmath85 the map @xmath20 is called a  multiplicative \" or  group - valued \" moment map , in  @xcite .",
    "fix a conjugation invariant subvariety @xmath86 ( i.e. , a union of conjugacy classes ) .",
    "then @xmath87 is a @xmath9-stable subvariety .",
    "the character stack of @xmath88 is then the quotient stack @xmath89 in other words , @xmath90 is a moduli stack of @xmath9-local systems on @xmath36 whose monodromy around the boundary lies in @xmath91 . by definition ,",
    "the category @xmath92 is the category of @xmath9-equivariant quasi - coherent sheaves on @xmath93 .",
    "the variety @xmath94 is called the  multiplicative hamiltonian reduction \" of @xmath82 along @xmath20 .    the main results of @xcite , give identifications , @xmath95    the category @xmath96 is a braided module category for @xmath97 , which we may associate to the puncture , and the category @xmath98 is precisely the category produced by factorization homology for a marked surface @xmath99 , where the marked point is decorated with @xmath96 .    when we instead take @xmath4 , excision gives rise to  quantum multiplicative hamiltonian reduction \" , as discussed in e.g.  @xcite .",
    "therefore , we obtain quantizations of character stacks of closed surfaces .",
    "taking global sections passes to the affinization of the character stack , the poisson variety obtained as the categorical quotient @xmath100 more generally if @xmath91 is any conjugacy class , the categorical quotient @xmath101 is a symplectic leaf of the poisson variety @xmath102 ( the case of the closed surface corresponds to @xmath103 . in",
    "@xcite an explicit quantization of any given conjugacy class is given , using verma modules : by construction these come equipped with an equivariant algebra map from @xmath104 . by theorem  [ quantum - moment - map - theorem ] the category of equivariant modules over this algebra is a braided module category , hence its factorization homology over the marked surface as above gives a quantization of the variety @xmath101 .",
    "the invariant assigned to the torus @xmath105 plays a central role in topological field theory . in three - dimensional chern - simons",
    "/ witten - reshetikhin - turaev theory at level @xmath106 the invariant of @xmath22 is identified on the one hand with the verlinde algebra , the group of characters of integrable level @xmath106 representations of the loop group ( which themselves form the invariant of @xmath107 , i.e. , the wilson lines or codimension two defects ) .",
    "the natural mapping class group symmetry of the torus invariant then explains the well - known modularity of these characters . on the other hand the freed - hopkins teleman theorem  @xcite",
    "identifies the @xmath22 invariant with a version of class functions on the compact group , namely the twisted equivariant @xmath108-theory of @xmath109 . in this section",
    "we describe the corresponding roles of the quantum character variety of the torus .",
    "let us consider the oriented field theory defined by integrating a balanced tensor category @xmath0 on oriented surfaces .",
    "we have identified codimension two defects for quantum @xmath0-character varieties with braided @xmath0-modules , i.e. , modules for @xmath31 , which thanks to the balancing is also identified ( as monoidal category ) with the cylinder integral @xmath110 ( see remark  [ different framings ] ) . in the language of extended topological field theory ,",
    "this means we attach the 2-category @xmath111 to the circle .",
    "the excision axiom applied to a decomposition of @xmath22 into cylinders allows us to identify the torus integral as the monoidal hochschild homology , or trace , of the cylinder ( hence annulus ) integral of @xmath0 : @xmath112 equivalently , we can describe the torus integral as the trace ( or hochschild homology ) of the 2-category of braided @xmath0-modules .",
    "it follows from the general theory of characters in hochschild homology ( see e.g.  @xcite for references ) that @xmath3 carries characters @xmath113\\in \\int_{t^2}{\\mathcal{a}}$ ] for sufficiently finite ( i.e. , dualizable ) braided @xmath0-modules @xmath28 .    the 2-category of braided @xmath114-modules is a 4d gauge theory analog of the category of integrable level @xmath106 representations of the loop group .",
    "indeed , it is the betti form  @xcite of the 2-category of chiral module categories over the kazhdan - lusztig category of integrable representations of the loop algebra , which itself is a form of the local geometric langlands 2-category of categories with an action of the loop group at level @xmath106 ( where @xmath13 is essentially @xmath115 ) , see  @xcite .    in the case",
    "@xmath4 , in @xcite we identified the punctured torus category with the category of modules in @xmath114 for the algebra of quantum differential operators , considered as an algebra object in @xmath114 under the adjoint action : @xmath116 note that since we are considering modules in @xmath114 rather than @xmath117 , this category is a quantum analog not of the category of @xmath6-modules on @xmath9 but of the category of @xmath6-modules on @xmath9 which are weakly equivariant for the adjoint action ( from which the former can be obtained by de - equivariantization ) .",
    "it follows from the quantum hamiltonian reduction formalism of the previous section that sealing up the puncture requires results in imposing the quantum moment map relations for the adjoint action ",
    "i.e. , in imposing _ strong _ equivariance .",
    "we define :    the category @xmath118 of strongly ad - equivariant @xmath119-modules has its objects pairs @xmath120 consisting of a @xmath119-module @xmath121 , and an action map , @xmath122 in the category @xmath123 , satisfying the associativity conditions making @xmath27 into an @xmath124-module .    as a corollary of theorem  [ quantum - moment - map - theorem ]",
    ", we have :    [ ad - equiv][torus - int ] we have equivalences of categories , @xmath125    in particular @xmath118 inherits an action of @xmath126 , including a quantum fourier transform ( @xmath2-transformation ) generalizing the difference fourier transform in the case @xmath127 a torus .",
    "indeed the endomorphisms of the quantum structure sheaf are known in many cases ( see below for the @xmath128-analog ) to recover @xmath129 the algebra of @xmath130-invariant @xmath13-difference operators on the torus @xmath131 .",
    "this should be compared to the computation of  @xcite .",
    "it follows that , in analogy with the freed - hopkins - teleman theorem for chern - simons theory , the characters of braided @xmath114-modules form quantum @xmath6-modules on @xmath132 .",
    "this is a quantum analog of the interpretation  @xcite of lusztig character sheaves in @xmath133 in terms of module categories for @xmath6-modules on @xmath9 .",
    "we likewise expect a theory of quantum character sheaves to provide a natural @xmath13-analog of the lusztig theory .",
    "interesting examples of such quantum character sheaves are provided by the quantum springer sheaves  the characters of the braided module category @xmath134 associated to the @xmath114-algebra defined by the quantum borel ( or other parabolics ) , which can be expected via a quantum hotta - kashiwara theorem to be described by a q - analog of the harish - chandra system . in particular",
    "one expects the entire torus category @xmath118 to carry a  quantum generalized springer \" orthogonal decomposition into blocks labeled by cuspidal objects associated to levi subgroups , in analogy with the results of  @xcite for @xmath135 .",
    "the double affine hecke algebra ( abbreviated daha , and denoted @xmath136 ) associated to @xmath137 ( or more generally to a reductive group @xmath9 ) is a celebrated two - parameter deformation of the group algebra of the double affine weyl group of @xmath9 , introduced by cherednik .",
    "it contains as a subalgebra the spherical daha ( denoted @xmath8 ) , which is a flat one - parameter deformation of the algebra @xmath138 of @xmath130-invariant @xmath13-difference operators on the torus @xmath139 .",
    "the spherical daha for @xmath140 appears naturally  @xcite as a quantization of the phase space of the trigonometric ruijsenaars - schneider system  @xcite ( also known as the relativistic version of the trigonometric calogero - moser system ) , a many - body particle system with multiplicative dependence on both positions and momenta .",
    "the phase space of this integrable system in turn has a well - known interpretation  @xcite in terms of the character variety of the torus , marked by a distinguished  mirabolic \" conjugacy class at one point .",
    "namely it is identified with a space of  almost - commuting \" matrices , invertible matrices whose commutator lies in a minimal conjugacy class ( differing from a scalar matrix by a matrix of rank one ) .    in this section , we will explain how our theory of quantum character varieties naturally produces the spherical daha when fed the torus @xmath22 marked by the quantum mirabolic conjugacy class .",
    "it is known that the spherical daha @xmath8 may be obtained from the algebra @xmath119 of quantum differential operators on @xmath9 by quantum hamiltonian reduction along the quantum moment map @xmath141 at a certain equivariant two - sided ideal @xmath142 , depending on a parameter @xmath128 .",
    "the ideal @xmath143 is a canonical @xmath13-deformation of the variety of matrices which differ from the scalar matrix @xmath144 by a matrix of rank at most one .",
    "these results give rise to multiplicative analogues of the relation between the trigonometric cherednik algebra ( quantizing the trigonometric calogero - moser phase space ) and mirabolic @xmath6-modules , see  @xcite .",
    "[ known - results ] we have an isomorphism of algebras @xmath145 in the following settings :    1 .   when @xmath13 is a root of unity @xcite , 2 .   when @xmath146 ( @xmath147 formal ) for the drinfeld - jimbo category @xcite , 3 .   for arbitrary @xmath148",
    "when @xmath149 @xcite .",
    "more precisely , we have slightly reformulated each result here , for a more uniform presentation .",
    "let us spell out the dictionary here , for the reader s convenience . in @xcite , an algebra of quantum differential operators on @xmath150",
    "is constructed , along with a quantum moment map . in the notation of @xcite , this same algebra",
    "is denoted @xmath151 , for @xmath152{-90}{$\\circlearrowright$}}}}}$ ] , and is an important special case of the quiver construction .",
    "we have isomorphisms of algebras , @xmath153{-90}{$\\circlearrowright$ } } } } } ) \\cong a_{ann},\\qquad{\\mathcal{d}}_q(gl_n ) \\cong { \\mathcal{d}}_q(\\overset{n}{\\bullet } {       \\mathrel{\\raisebox{.1em } {       \\reflectbox{\\rotatebox[origin = c]{-90}{$\\circlearrowright$ } } } } } ) \\cong a_{(t^2)^\\circ},\\ ] ] where each the first isomorphisms is clear from inspection of the defining relation , and while the second are special cases of the main result of @xcite .",
    "the @xmath154 factor in  @xcite , and the extra vertex on the quiver in @xcite , each give rise to the deformed ideal @xmath143 , and so in each of the three cases of the theorem , one obtains the same quantum hamiltonian reduction algebra .    by theorem  [ quantum - moment - map - theorem ]",
    ", we may define a braided module category @xmath155 , where @xmath156 comes equipped with a canonical quantum moment map , as a quotient of @xmath104 . finally , the quantum hamiltonian reduction computed in those papers is precisely that which appears in theorem  [ known - results ] .",
    "we therefore obtain the following important corollary :    let @xmath157 , @xmath158 , @xmath159 the closed torus , with a single marked point @xmath58 colored by @xmath160 .",
    "then we have an isomorphism , @xmath161 of the endomorphism algebra of @xmath162 as an object of @xmath163 , and spherical daha @xmath164 .",
    "hence , we obtain a marked mapping class group - equivariant  global sections \" functor @xmath165 @xmath166 from factorization homology of the marked torus to spherical daha - modules .",
    "more generally , the category @xmath163 provides a quantum version of the category of mirabolic @xmath6-modules studied in  @xcite and others , of which representations of spherical daha provide the  principal series \" part .",
    "this result gives a topological explanation of the existence of a quantum fourier transform on @xmath164 leading to an action of the marked torus mapping class group @xmath126 by algebra automorphism .",
    "it also justifies the moniker  operator - valued verlinde algebra \" , by which cherednik first referred to his daha  @xcite : while the verlinde algebra is attached to @xmath22 by the 3d witten - reshetikhin - turaev theory , we see that the spherical double affine hecke algebra is the affinization of the category attached to a marked @xmath22 by the 4d theory , so that it obtains all the topological symmetries of the torus from functoriality of the construction .",
    "we would like to thank pavel etingof and benjamin enriquez for sharing their ideas concerning elliptic structures on categories .",
    "we d also like to thank john francis , greg ginot , owen gwilliam , and claudia scheimbauer for discussions about factorization homology .",
    "the work of dbz and dj was partly supported by nsf grants dms-1103525 and dms-1103778 .",
    "dbz and dj would like to acknowledge that part of the work was carried out at msri as part of the program on geometric representation theory .",
    "in this section we briefly review factorization homology of stratified @xmath24-manifolds , following @xcite .",
    "we will put special emphasis on the case @xmath167 , of surfaces  possibly marked and/or with boundary  and with values in certain 2-categories @xmath168 or @xmath169 , of @xmath170-linear categories ( see @xcite for a review of @xmath171 as settings for factorization homology ) : in this case , many of the structures demanded by the general framework of factorization homology recover well - known structures in quantum algebra .    as in _ loc .",
    "_ our main example will be the balanced tensor category @xmath114 : this notation means we choose a reductive algebraic group @xmath9 , a killing form @xmath172 on @xmath173 , and consider either the category of finite - dimensional @xmath174-modules , when @xmath9 is simply connected , or the corresponding braided tensor subcategory when @xmath9 is not semisimple .",
    "we do not recall a presentation of @xmath174 here , but rather refer to e.g.  ( * ? ? ?",
    "* section  9.1 ) for basic definitions .",
    "let @xmath175 stand in for either framing ( fr ) or orientation ( or ) .",
    "we denote by @xmath176 the @xmath177-category , whose objects are ( framed or oriented ) 2-dimensional manifolds with corners and whose morphisms spaces are the @xmath178-groupoids of ( framed or oriented ) embeddings .",
    "we denote by @xmath179 the full subcategory whose objects are arbitrary ( possibly empty ) finite disjoint unions of @xmath180 .",
    "each category is naturally symmetric monoidal with respect to disjoint union .",
    "a @xmath181-algebra in @xmath182 , for @xmath183 , is a symmetric monoidal functor from @xmath184 to @xmath182 .",
    "[ rmk : meqa ] a @xmath185-algebra ( or rather the image of @xmath186 ) is usually called an @xmath33-algebra , or algebra over the little disk operad . similarly a @xmath187-algebra is an algebra over the framed little disk operad .",
    "the data of @xmath0 is completely determined , in the framed case , by the image @xmath188 of the generator @xmath180 , and a collection of morphisms @xmath189 ( including @xmath190 , which gives the unit map ) , and a well - known host of coherences .",
    "we abuse notation , and denote both the functor and its value on the generator @xmath180 by the symbol @xmath0 . in the oriented case",
    ", we have also to specify the  balancing \" automorphism of the identity functor .",
    "this corresponds to the loop , in the space of oriented diffeomorphisms of a disc , which rotates @xmath191 degrees about the origin , for @xmath192 $ ] .    since our target is a ( 2,1)-category , functors from @xmath193 factors through its `` homotopy ( 2,1)-category '' , i.e. the category whose hom spaces are fundamental groupoids of spaces of embeddings .",
    "our main case of interest is when @xmath194 or @xmath169 is a certain symmetric monoidal @xmath195-category of @xmath170-linear categories with the kelly - deligne tensor product ( see section [ reconstruction - section ] below , and section 3 of @xcite for details ) . in this case , the data of an @xmath33-algebra consists of a braided tensor category structure on @xmath188 , which we denote simply as @xmath0 , by abuse of notation .",
    "the data of a @xmath35-algebra is identified with a _ balanced _",
    "braided tensor structure .",
    "the factorization homology @xmath1 of an @xmath33-algebra ( resp , @xmath35-algebra ) @xmath0 on a framed ( resp , oriented ) surface @xmath2 is defined as a colimit , @xmath196 over all framed ( resp .",
    "oriented ) embeddings of disjoint unions of discs into @xmath2 , where the ( 1- , and 2- ) morphisms in the diagram are comprised of the tensor functors @xmath197 , and their coherences ( including the associativity and braiding isomorphisms ) .    in other words ( in the case @xmath198 )",
    ", it is the universal recipient of functors from @xmath199 labeled by collections of disjoint disks in @xmath2 , and factoring through the @xmath35-algebra structure on @xmath0 , whenever a disk embedding factors through inclusions of disks in a larger disk .",
    "formally this colimit is expressed as a left kan extension ,    @xmath200 \\ar[rr]^{{\\mathcal{a } } } & & { \\mathcal{c}}\\\\ & { \\operatorname{mfld}}^2_{s}\\ar@{-->}[ur]_{\\scalebox{0.75}{$\\displaystyle{\\int_{-}{\\mathcal{a}}}$ } } } .\\ ] ]    an important feature of factorization homology is that the empty set is regarded as a surface , and has an initial embedding to any surface .",
    "this induces a map @xmath201 , for any @xmath2 . in the case",
    "@xmath198 , we have @xmath202 , so the initial functor is determined by the the image of @xmath203 .",
    "this equips all braided tensor categories appearing in the theory with their unit object , and equips factorization homology of any surface @xmath2 with a distinguished object , which we called in @xcite the  quantum structure sheaf , \" @xmath204 it follows that we can also calculate @xmath205 as the image of the unit in @xmath0 under the map @xmath206 associated to any disc embedding .",
    "factorization homology satisfies an important excision property .",
    "given a 1-manifold @xmath207 , the factorization homology @xmath208 on the cylinder ( with any framing ) carries a canonical @xmath29 ( associative ) algebra structure from the inclusion of disjoint unions of intervals inside a larger interval ( i.e. , we stack cylinders inside a larger cylinder , see figure [ stacking - picture ] ) .",
    "moreover the invariant of a manifold with a collared boundary @xmath27 is naturally a module over @xmath208 .",
    "this structure allows us to describe the factorization homology of a glued ( framed or oriented ) surface @xmath209 as a relative tensor product :    @xmath210    in the case of punctured surfaces studied in @xcite , we exploited excision for @xmath211 , an interval , to compute factorization homology categories as categories of modules for certain explicitly presentable  moduli algebras \" . in the present paper , we will extend these descriptions to closed surfaces , and this involves applying excision in the case @xmath212 . for that case",
    ", we need to develop the theory of surfaces with marked points , and an explicit description for the tensor structure on the annulus .",
    "following @xcite , factorization homology for surfaces with marked points may be defined similarly as for unmarked surfaces , via a kan extension from a category of marked discs to a category of marked surfaces .",
    "we denote by @xmath213 the @xmath177-category whose objects are disjoint unions of unmarked ( framed or oriented ) disks @xmath180 and once - marked disks @xmath214 , and whose morphism spaces are spaces of ( framed or oriented ) embeddings , which are moreover required to send marked points bijectively to marked points .    the data of a symmetric monoidal functor @xmath215 is equivalent to an @xmath33-algebra @xmath0 ( the restriction to unmarked disc ) and an object @xmath216 assigned to a marked disc , equipped with the structure of _",
    "@xmath33-module _ over @xmath0 ( the intrinsic operadic notion of module for an @xmath33-algebra ) .",
    "that is , @xmath28 is equipped with a compatible collection of functors @xmath217 determined by choosing embeddings from the disjoint union of one marked and @xmath106 unmarked , disks back into the marked disk , satisfying a collection of coherences . by analogy , we will call a functor @xmath218 a @xmath219-module .",
    "the requirement that marked points map bijectively means that the empty set is no longer initial in the category of marked surfaces .",
    "allowing maps which are only injective on marked points is equivalent to giving a pointing @xmath220 with no additional coherences , and agrees with the notion of locally constant factorization algebra on the stratified space @xmath214 .",
    "similarly to ordinary factorization homology , a symmetric monoidal functor from @xmath213 to some target category @xmath182 is determined by its values @xmath0 , and @xmath28 on the unmarked , and once - marked discs , respectively , together with a host of functors and coherences between various tensor products of @xmath0 and @xmath28 .",
    "let us therefore denote such a functor by the pair @xmath221 .",
    "the factorization homology of the pair @xmath221 is the left kan extension , @xmath222 \\ar[rr]^{({\\mathcal{a}},{\\mathcal{m } } ) } & & { \\mathcal{c}}\\\\ & { \\operatorname{mfld}}^2_{or}\\ar@{-->}[ur]_{\\scalebox{0.75}{$\\displaystyle{\\int_{-}({\\mathcal{a}},{\\mathcal{m}})}$ } } } .\\ ] ]    as for ordinary factorization homology of surfaces , the definition by left kan extension implies a formula for the factorization homology of any marked surface as a colimit , @xmath223 over all embeddings of unmarked or once - marked discs into @xmath2 .",
    "just as for ordinary factorization homology , we have an excision property for computing factorization homology of marked surfaces .",
    "let @xmath224 be the relative union of marked surfaces @xmath225 and @xmath226 , along some ( unmarked ) cylinder @xmath227 .",
    "then we have    @xmath228      an important source of examples of markings of surfaces come from boundary conditions in the topological field theory defined by @xmath0 , or concretely from factorization algebras on manifolds with boundary , extending @xmath0 from the interior .",
    "we denote by @xmath229 the @xmath177-category whose objects are disjoint unions of unmarked ( framed or oriented ) disks @xmath180 and half - spaces @xmath230 , and whose morphism spaces are spaces of ( framed or oriented ) embeddings , which are moreover required to respect boundaries .",
    "the data of a symmetric monoidal functor @xmath231 , i.e. , of a factorization algebra on the stratified space @xmath232 , is equivalent to an @xmath33-algebra @xmath0 ( the restriction to unmarked disc ) and an object @xmath233 assigned to a half - space , equipped with the structure of _ @xmath0-algebra _ : an algebra object in @xmath182 equipped with an @xmath33-morphism @xmath234 from @xmath0 to the center @xmath235of @xmath38 ( i.e. the pair @xmath236 is an algebra over voronov s swiss  cheese operad  @xcite ) . here",
    "the algebra structure on @xmath38 comes from the inclusion of unions of half spaces into half - spaces ",
    "i.e. , @xmath38 itself defines a one - dimensional factorization algebra valued in @xmath182 .",
    "the central action comes from the inclusion of a disc into the half space .    in the case",
    "@xmath194 , this means we have a braided tensor category @xmath0 , a tensor category @xmath38 , and a functor of braided tensor categories from @xmath0 to the drinfeld center of @xmath38 .",
    "two rich sources of @xmath0-algebras , hence boundary conditions , for @xmath0 a braided tensor category are :    1",
    ".   categories of modules @xmath237 for commutative ( i.e. , braided or @xmath33 ) algebra objects @xmath238 .",
    "2 .   the category @xmath239 , of torus - integrable representations of the quantum borel subalgebra @xmath240 form a @xmath114-algebra . this follows simply from the fact that @xmath241 where @xmath242 is the quantum @xmath243-matrix which controls the braiding on @xmath114 . hence @xmath242 itself endows the forgetful functor @xmath244 with the structure of a central functor .",
    "more generally quantum parabolic subgroups define boundary conditions .    given a surface with boundary @xmath245 we can perform factorization homology @xmath246 for the pair @xmath236 following the same formalism as in the unmarked and marked cases .",
    "an @xmath0-algebra @xmath38 is itself a one - dimensional factorization algebra and so can be integrated on closed one - manifolds @xmath247 .",
    "in particular we have the trace / cocenter / hochschild homology category @xmath248 we thus see that @xmath249 is naturally an @xmath250-module . when @xmath0 is balanced , this is identified with the annulus category @xmath30 , and thus we find    let @xmath0 denote a ribbon category and @xmath38 an @xmath0-algebra .    1 .   the trace @xmath249 carries a natural structure of braided @xmath0-module .",
    "2 .   let @xmath245 denote a compact surface with boundary @xmath251 identified with @xmath252 , and @xmath253 the closed surface with marked points obtaining by sewing in discs along @xmath251 .",
    "then the factorization homology of @xmath0 on @xmath2 with boundary marked by @xmath38 agrees with that of @xmath0 on @xmath254 with points marked by @xmath249 : @xmath255    the proposition ( in the case of representations of a quantum borel or parabolic subgroup ) allows us in particular to define parabolic versions of quantum character varieties , quantizing moduli of parabolic local systems .",
    "in this section , we identify the possible markings of points in factorization homology of marked surfaces in terms of explicit algebraic data called braided module categories .",
    "to begin , we recall that the factorization homology of the annulus inherits a natural tensor structure , coming from  stacking annuli \" :     by functoriality.,width=384 ]    the _ stacking tensor product _ on @xmath16 , denoted @xmath256 , is : @xmath257 where @xmath258 and @xmath259 are as depicted below .",
    "this same category carries a second tensor product , the _ pants _ , or _",
    "convolution _ tensor product .",
    "let @xmath260 denote a twice punctured disc , let @xmath261 and @xmath262 denote the inclusion of an annular boundary around the two punctures , and let @xmath259 denote the annular boundary around the outside of the disc .",
    "then we define : @xmath263    one can show following  @xcite that this coincides with the monoidal structure of the drinfeld center of @xmath0 .",
    "an illustrative example for comparing these two structures is the case @xmath80",
    ". then we have @xmath264 and the stacking tensor product is the pointwise tensor product of quasi - coherent sheaves on the stack @xmath265 , while the pants tensor product is the convolution along the diagram , @xmath266 the convolution tensor structure does not play a role in this paper , as it is the stacking tensor product which features in the excision axiom .",
    "there is a natural operadic notion of module for an @xmath25-algebra @xmath0 , the notion of @xmath25-module ( which for @xmath267 recovers the notion of _ bimodule _ rather than module over an associative algebra ) , see  @xcite and  @xcite for a review .",
    "intuitively an @xmath25-module is an object placed at the origin in @xmath268 and admitting operations from insertions of @xmath0 at disjoint points ( or disks ) .",
    "this notion appears naturally in factorization homology , as the data required to extend the theory to manifolds with marked points .",
    "there s a monadic description of @xmath25-modules over @xmath0 as left modules over an @xmath29-algebra @xmath30 , the enveloping algebra of @xmath0 , which is in turn readily identified with the factorization homology @xmath16 of @xmath0 on the complement of the origin .",
    "we take this latter notion as our definition and refer to  @xcite for comparisons with the operadic notion",
    ". we will then give it a more algebraic description by reconciling it with the notion of a  braided module category \"  @xcite , in the case @xmath194 .",
    "an @xmath33-module for an @xmath33-algebra @xmath0 is a right module over the annulus category @xmath269 , with tensor structure @xmath270 .    in our setting , @xmath33-algebras are identified with the notion of braided tensor categories ; in the same spirit , we first show that the notion of @xmath33-modules over braided tensor categories coincides with the notion of braided module categories defined as follows :    [ def : braidedmodule ] let @xmath0 be a braided tensor category , with braiding @xmath271 .",
    "a ( strict ) _ braided module category _ over @xmath0 is a ( strict ) right @xmath0-module category @xmath28 equipped with a natural automorphism , @xmath272 , of the action bifunctor @xmath273 satisfying the following axioms for all @xmath274 , @xmath275 : @xmath276 and @xmath277    in the presence of  , equation   is equivalent to the following version of the donin  kulish  mudrov equation  @xcite @xmath278    this in turn implies the reflection equation , and hence that braided module categories give rise to representations of the braid group of the annulus .",
    "in fact equation   alone implies the reflection equation , but both are needed to describe the full @xmath33-module structure .",
    "[ different framings ] axioms , differ slightly from those in  @xcite : the latter characterizes modules over the factorization homology of @xmath279 equipped with the _ product / cylinder _ framing , while @xmath33-modules are rather characterized as modules over the factorization homology of @xmath279 equipped with the _ blackboard _ ( annulus ) framing .",
    "as there are an integer s worth of framings on @xmath279 , hence there are an integer s worth of alternative notions of braided module category .",
    "when @xmath0 is balanced , however the corresponding axioms are equivalent : indeed , if @xmath191 is the balancing and @xmath272 satisfies the axioms stated above , then a straightforward computation shows that @xmath280 satisfies the axioms of  @xcite .",
    "we note that a similar phenomenon has appeared in the definition of the elliptic double of  @xcite , where there are many possible definitions , which coincide in the case of a ribbon hopf algebra . here , in order to simplify the presentation , we stick to the balanced assumption and do not differentiate between these different framings .    in order to identify the different notions of module category we will use a different description of the annulus than that which features in  @xcite . rather than cutting it into two half - annuli , as we did there , we will make a single vertical cut at the top of the annulus and see the annulus as being obtained by self - gluing along this cut ( see figure  [ fig : annulus - cut ] ) .    [",
    "fig : annulus - cut ] . right : the inclusions of discs inducing the @xmath0-bimodule structure on @xmath281 .",
    "the annulus is obtained by gluing along the boundary intervals.,title=\"fig:\",width=480 ]    hence let @xmath282 be the manifold represented in figure  [ fig : annulus - cut ] .",
    "we stress the fact that for the gluing to make sense we need to regard it as a stratified manifold , and as such it is not equivalent to the standard framed disc . yet",
    ", its interior @xmath283 , i.e. the manifold obtained from @xmath282 by forgetting the stratification , is equivalent as a framed manifold to the standard disc , hence we have an equivalence of underlying categories , @xmath284 but the @xmath0-actions are different from the standard one .",
    "the @xmath0-bimodule action on @xmath285 is induced by the embedding @xmath286 depicted in the left hand side of figure  [ fig : annulus - action ] , i.e. it is the functor , @xmath287    [ fig : twistedmodule ] -bimodule @xmath281 is equivalent to the twist of the regular bimodule by the tensor functor @xmath288.,title=\"fig:\",width=480 ]    the double braiding @xmath289 induces a non - trivial tensor structure on the identity functor of @xmath0 .",
    "we denote by @xmath290 the twist of the regular bimodule category by this auto - equivalence , i.e. the @xmath0-bimodule category whose underlying left module is the regular left @xmath0-module , but where the right action ( in particular , its associativity constraint ) is precomposed with @xmath291 . in figure",
    "[ fig : twistedmodule ] , we demonstrate an equivalence between @xmath281 and this twisted bimodule .",
    "to recover the factorization homology of the annulus from the bimodule @xmath281 , we need to recall the notion of balanced functors of bimodules , and the resulting notion of the trace of a bimodule . to this end , let @xmath28 be an @xmath292-bimodule category . then a functor @xmath293 is called balanced if there is a natural isomorphism @xmath294 satisfying a natural coherence condition ( see e.g.@xcite ) .",
    "[ defi : trace ] the _ trace _ @xmath295 , of an an @xmath0-@xmath0-bimodule category @xmath28 , is the @xmath296-category defined uniquely by the natural equivalence ,",
    "@xmath297 \\simeq \\operatorname{bal}_{\\mathcal{a}}({\\mathcal{m}},{\\mathcal{e}}).\\ ] ]    if @xmath298 are right and left @xmath0-module categories , then @xmath299 is an @xmath0-bimodule and clearly @xmath300 on the other hand , an @xmath0-bimodule is the same as an @xmath301-module and one can show that @xmath302 where @xmath0 is given its natural @xmath0-bimodule structure ( i.e. , we recover the standard notion of hochschild homology of a bimodule ) .",
    "the excision property implies that @xmath16 is the trace in the sense of definition  [ defi : trace ] of the bimodule @xmath303 .",
    "we can now prove :    [ prop : annulusaction ] let @xmath0 be a braided tensor category , @xmath38 a tensor category .",
    "then tensor functors @xmath304 are naturally identified with pairs @xmath305 where @xmath306 is a tensor functor from @xmath0 to @xmath38 , and @xmath307 is a natural automorphism of @xmath306 satisfying instead of @xmath308 . ] : @xmath309 and @xmath310    denote by @xmath311 and @xmath312 the left and right @xmath0-actions on itself described above .",
    "the description of @xmath16 as a coequalizer of those actions implies that functors out of it to a target category @xmath38 are naturally identified with functors @xmath313 equipped with a natural isomorphism @xmath314 satisfying the following coherence condition @xmath315    in order to characterize the monoidal structure on @xmath16 , we need to upgrade this coequalizer as the coequalizer of a diagram in tensor categories .",
    "recall that any tensor functor @xmath313 turns @xmath38 into a left @xmath0-module using the following composition @xmath316 where @xmath317 is the multiplication of @xmath38 and the associativity constraint of the module structure is given by the monoidal structure on @xmath306 .",
    "this also turn @xmath38 into a right module by using the opposite multiplication instead .",
    "we note that both @xmath0 actions at hand are of this form : the right action is just induced by the identity functor and the left action by the identity functor with monoidal structure given by the double braiding .",
    "since the multiplication of @xmath0 also carries a natural monoidal structure , this turns the maps involved in the defining diagram of @xmath16 into tensor functors .",
    "now , ( strict ) monoidal functors out of @xmath16 to a monoidal category @xmath38 can be characterized as strict monoidal functors @xmath313 equipped with a cyclic structure @xmath318 as above for which @xmath318 is monoidal .",
    "this leads to the following identity : @xmath319 the coherence condition implies that @xmath320 .",
    "hence define a natural automorphism of @xmath306 by @xmath321 .",
    "setting @xmath322 gives @xmath323 so that @xmath318 can be recovered from @xmath307 . for @xmath324",
    "this gives @xmath325 together those equations implies  .",
    "finally , setting @xmath326 leads to @xmath327 which up to relabelling is exactly  .",
    "hence , we have :    [ thm : e2mod ] let @xmath0 be a braided tensor category .",
    "then @xmath33-modules over @xmath0 are naturally identified with @xmath0-braided module categories in the sense of @xcite .",
    "a right module @xmath28 over @xmath269 is characterized by the tensor functor @xmath328 given by @xmath329 .",
    "it means that @xmath28 has to be an @xmath0-module and that one has to provide the functor @xmath330 with a natural automorphism satisfying the axioms above .",
    "this is straightforward to check that this turns @xmath28 into a braided module category .",
    "recall that factorization homology of framed surfaces descends to an invariant of _ oriented _ surfaces provided @xmath0 is balanced , i.e. that @xmath0 is endowed with an automorphism @xmath331 of the identity functor of @xmath0 , satisfying the coherence relation , @xmath332    in the same way , one can ask what additional structure is needed on a braided module category @xmath28 over a balanced braided monoidal category @xmath0 in order to obtain invariants of oriented marked surfaces . we have :    [ thm : balancedmodule ]",
    "let @xmath0 denote a braided tensor category and let @xmath333 .    1 .   given a braided module category structure on @xmath28 , the additional structure of a @xmath35-module extending @xmath0 and @xmath28",
    "consists , first of all of a balancing on @xmath0 , and secondly of a  balancing automorphism \" @xmath334 of the identity functor on @xmath28 , satisfying the coherence : @xmath335 we refer to a braided module category @xmath28 , equipped with a @xmath336 , as a ",
    "balanced braided module category \" .",
    "2 .   suppose that @xmath0 is a balanced braided tensor category , and that @xmath28 is a braided module category for @xmath0 .",
    "then @xmath28 admits a canonical structure of a balanced braided module category .",
    "the first part is clear from the picture : @xmath337 is the automorphism of the identity functor of @xmath28 induced by the rotation of a marked disc inside a larger one .    if @xmath0 is balanced , then @xmath16 is independent of the framing and in particular comes equipped with an automorphism of the identity functor @xmath338 coming from the loop , in the space of oriented diffeomorphisms of the annulus , which rotates @xmath191 degrees about the origin , for @xmath192 $ ] . let @xmath339 be band tensor functor defined in figure  [ annulus - tensor - functor ] , and @xmath307 the automorphism of @xmath306 as in proposition  [ prop : annulusaction ] .",
    "it is again a direct check that for all @xmath340 , @xmath341    where we identify @xmath342 with @xmath343 .    by proposition  [ prop : annulusaction ] , a braided module structure @xmath272 on @xmath28",
    "is the same as a factorization of the functor @xmath344 as @xmath345 and @xmath272 is defined as the image of @xmath307 through the second functor .",
    "taking the image of   through the second functor gives the desired balanced structure on @xmath28 .",
    "we note that the balancing asserted in ( 3 ) , while canonical , is not unique .",
    "there may be many different balancings on a given braided module category .",
    "in  @xcite , we developed a framework to describe the gluing of surfaces along intervals in their boundary , using monadic techniques : the factorization homology for a surface with a marked interval in the boundary obtained the structure of an @xmath0-module category , and we realized these @xmath0-module categories as the categories of modules for explicit algebras @xmath346 in @xmath0 . in this section",
    ", we will develop some of the general algebraic tools we will need to glue along circles , rather than intervals , in the boundary of a surface . namely , the pointwise tensor structure from figure  [ annulus - tensor - functor ] defines a dominant tensor functor from @xmath0 to @xmath16 , and we wish to apply monadic techniques to understand the resulting structures algebraically .",
    "* assumptions * we will typically work with the @xmath347-categories @xmath168 of essentially small finitely cocomplete @xmath170-linear categories , right exact functors and their natural isomorphisms , and the @xmath347 category @xmath169 of compactly generated presentable categories with compact and cocontinuous functors and their natural isomorphisms .",
    "these each carry the so - called kelly - deligne tensor product , and are in fact equivalent to one another as symmetric monoidal @xmath347-categories : the functors @xmath348 and @xmath349 , of @xmath348-completing a @xmath168 category to a @xmath169 category , and taking the @xmath168 subcategory of compact objects of an @xmath169 category , are mutually inverse equivalences . for orientation ,",
    "let us remark that small abelian categories are in particular @xmath168 , while grothendieck abelian categories are in particular @xmath169 .    by a tensor ( or braided tensor ) category in @xmath171 , we will mean simply an @xmath29- ( or @xmath33- ) algebra @xmath0 in @xmath171 .",
    "we will typically assume that @xmath0 is _ rigid _",
    ", i.e. that all ( compact ) objects are left and right dualizable .",
    "this categorical framework is discussed in detail in @xcite , to which we refer the reader for complete definitions .",
    "let @xmath0 and @xmath38 be tensor categories in @xmath169 and @xmath313 be a tensor functor .",
    "suppose that @xmath0 is rigid , and assume the @xmath350 is a pro - generator for the @xmath0-module structure on @xmath38 induced by @xmath306 .",
    "this implies in particular that @xmath306 is dominant , i.e.that every object of @xmath38 is a subobject of an object in the image of @xmath306 . in our setting",
    ", this is equivalent to ask for the right adjoint @xmath351 to be faithful . by definition",
    ", this also implies that @xmath306 has a cocontinuous right adjoint .",
    "then the tensor unit @xmath352 is both a left- and a right- @xmath0-progenerator for @xmath38 .",
    "hence , by applying theorem  4.5 from  @xcite to @xmath38 as a @xmath0-module category , we see that @xmath38 admits a simultaneous description , both as right- , and as left- @xmath353-modules in @xmath0 , where we recall that @xmath354 . in this section ,",
    "we extend this description to encompass the tensor structure on @xmath38 as well .",
    "[ reconstruction ] we have :    1 .   under this description @xmath306 identifies with the free module functor @xmath355 , and @xmath351 identifies with the forgetful functor back to @xmath0 .",
    "the right and left @xmath353-module structures on @xmath356 , for any @xmath357 , are related by the isomorphisms : @xmath358 these actions commute , and we obtain a faithful tensor functor , @xmath359 3 .   moreover @xmath360 becomes a tensor functor , when we equip the category of @xmath353-bimodules in @xmath182 with the relative tensor product of bimodules : @xmath361    for claim ( 1 ) , we need a natural isomorphism @xmath362 . applying the tensor structure and the adjunction counit , we obtain natural isomorphisms : @xmath363 hence by yoneda s lemma , we have a natural isomorphism @xmath364 , as desired .",
    "claim ( 2 ) is clear : the @xmath353-actions on @xmath356 are given in terms of the adjunction data @xmath365 ; the isomorphisms are natural in @xmath366 , and interchange left and right modules in the adjunction .    for claim ( 3 )",
    ", we note that the category of @xmath367-bimodules is generated under colimits by the free bimodules , so that if we have such an isomorphism for the free bimodules , it necessarily induces the same natural isomorphism for all bimodules .",
    "hence , we may restrict to the case that @xmath27 and @xmath368 are of the form @xmath369 , @xmath370 , for some @xmath371 . in that case , applying @xmath372 to the obvious idenity , @xmath373 gives @xmath374 while we can not commute @xmath351 past the colimit , we have the canonical comparison map : @xmath375 moreover , we have @xmath376 , because the right adjoint @xmath351 to the @xmath0-bimodule functor @xmath306 is canonically a @xmath0-bimodule functor whenever @xmath0 is rigid . finally , we see that the comparison map is in fact an isomorphism , because @xmath306 is the free bimodule functor .",
    "having described the tensor structure on @xmath38 monadically through @xmath0 , we now turn to describing algebra objects , and hence module categories , for @xmath38 , monadically in terms of @xmath0 .",
    "we have :    [ momentmaps ] the equivalence @xmath377 extends to an equivalence : @xmath378    given an algebra object @xmath366 in @xmath38 , its image @xmath356 in @xmath0 receives a canonical algebra homomorphism @xmath379 induced by the unit homomorphism @xmath380 , through the lax tensor structure on @xmath351 .",
    "this provides a functor in the forward direction .",
    "conversely , given an algebra in @xmath38 equipped with a homomorphism from @xmath367 , we make it an algebra in the category of @xmath367-modules via this homomorphism ; this clearly endows it with the structure of an algebra object in @xmath367-modules .",
    "this provides a functor in the reverse direction .",
    "the two functors we have constructed are mutually inverse for tautological reasons : the unit homomorphism in the forward direction , and the @xmath367-module structure in the reverse direction are simply equivalent data .",
    "moreover , we can describe the @xmath38 action on one of its module categories monadically through @xmath0 :    [ inducedactions ] let @xmath28 be a @xmath38-module category , and let @xmath65 be a progenerator for the induced @xmath0-action .",
    "recalling the equivalences of @xmath0-modules , @xmath381 and the canonical algebra homomorphism , @xmath382 we have :    1 .",
    "the action of any @xmath357 on any @xmath383 is given by : @xmath384 2 .",
    "the @xmath0-progenerator @xmath27 is also a progenerator for the @xmath38-action .",
    "the functor @xmath385 induced by @xmath386 is an equivalence of @xmath38-module categories .",
    "the first claim is a direct application of proposition [ reconstruction ] . for the second claim ,",
    "we recall that , to say @xmath27 is a pro - generator , is to say that the functor @xmath387 is conservative , and co - continuous .",
    "it follows from our assumptions that the composite functor @xmath388 is conservative and co - continuous , as the action of @xmath0 on @xmath28 is obtained by pull - back , and @xmath27 is assumed to be a @xmath0 pro - generator . by assumption @xmath389",
    "is conservative and co - continuous .",
    "it is an easy exercise that conservative and co - continuous functors themselves reflect conservativity and co - continuity .",
    "the third claim follows from monadicity for base change , corollary  4.11 in  @xcite .    and",
    "finally , we can compute relative tensor product of module categories , simply as categories of bimodules :    [ cor : bimodulegluing ] fix @xmath0 , @xmath38 and @xmath306 as in proposition [ momentmaps ] .",
    "let @xmath28 and @xmath390 be left and right @xmath38-module categories , with @xmath0-progenerators @xmath317 and @xmath24 , respectively .",
    "then we have an equivalence of categories , @xmath391    this is just an application of theorem  4.9 from  @xcite , and proposition [ inducedactions ] above .      in this section",
    ", we apply the reconstruction techniques of the preceding section to the setting of factorization homology for braided module categories , to give a proof of theorem [ quantum - moment - map - theorem ] . to begin with , we consider the inclusion @xmath392 , given by including a small disk @xmath393 into an annulus along some small band , as depicted in figure [ annulus - tensor - functor ] .",
    "[ annulus - tensor - functor ]   is induced by an inclusion of a disc into a small radial band in the annulus .",
    "right : the tensor structure induced by a commutative diagram , up to isotopy.,title=\"fig:\",height=192 ]    [ annulus - tensor - functor - def ] the  band \" tensor functor @xmath394 is the functor @xmath395 , induced by functoriality of factorization homology , with tensor structure induced by the commuting - up - to - isotopy diagram of inclusions , depicted in figure [ annulus - tensor - functor ] .    with all of this framework in place",
    ", we turn to the proof of theorem [ quantum - moment - map - theorem ] .",
    "we shall apply the results of section [ reconstruction - section ] to the special case that @xmath0 is a braided tensor category in @xmath168 , and @xmath396    it follows from theorem 4.16 of @xcite that @xmath397 is a pro - generator for the @xmath0-action , and that @xmath398 .",
    "hence , by theorem  [ reconstruction ] , @xmath399 is naturally isomorphic to the free module functor @xmath400 , and @xmath401 identifies simply with the forgetful functor from @xmath402 .    for ( 1 ) , the quantum moment map is that constructed in proposition  [ momentmaps ] . for ( 2 ) ,",
    "theorem  4.5 from @xcite , combined with proposition  [ momentmaps ] , give equivalences : @xmath403 where the latter is equipped with the algebra structure coming from the quantum moment map .",
    "finally , ( 3 ) follows the same proof as part ( 3 ) of proposition [ reconstruction ] .",
    "unpacking the isomorphism of theorems [ reconstruction ] and [ inducedactions ] in this case , we have the following corollaries :    any left @xmath40-module has a canonical right module structure . the left and right action",
    "are related using the `` field goal '' transform @xmath404 : @xmath405 ( braid2 ) at ( 0,0 ) s_1^{-1}s_2 ; \\draw ( braid2 - 1-e ) node[below]{$m$ } ; \\draw ( braid2 - 1-s ) node[above]{$m$ } ; \\draw ( braid2 - 3-e ) node[below left]{${{\\mathcal{o}}({\\mathcal{a}})}$ } ; \\draw ( braid2 - 3-s ) node[above left]{${{\\mathcal{o}}({\\mathcal{a}})}$ } ; \\draw ( braid2 ) node[left=1.5cm]{$\\tau_m=$ } ; \\end{tikzpicture}.\\ ] ] for any @xmath406 , the pointwise tensor product @xmath407 is given by the relative tensor product , @xmath408 where @xmath27 is made into a right @xmath40-module by the field goal transform .",
    "we have an equivalence of categories , @xmath409 moreover , given a module category @xmath410 , for an algebra @xmath49 equipped with an algebra morphism @xmath411 , the action of @xmath16 on @xmath28 is given by : @xmath412 where @xmath40-acts on @xmath413 via @xmath386 .",
    "[ annulus - corollary ] let @xmath28 and @xmath390 be a left and a right module category over @xmath16 with progenerators @xmath27 and @xmath368 , respectively . then there is an equivalence of categories : @xmath414      it follows from the above that if @xmath415 is an algebra in @xmath0 , every algebra morphism @xmath416 turns @xmath417 into a module category over @xmath16 .",
    "hence @xmath386 should correspond to a braided module structure on the category @xmath418 in the sense of definition  [ def : braidedmodule ] . in this section",
    "we make this structure explicit ; the construction which follows can be interpreted as a generalisation of  @xcite .",
    "let @xmath415 be an algebra in @xmath0 and @xmath419 an automorphism of the action functor @xmath420 we begin by constructing a morphism of underlying objects , @xmath421 as follows . using the definition of @xmath40 as a co - end",
    ", it suffices to define @xmath422 compatibly on each @xmath423 , as below : @xmath424 it is easily checked that this system of maps descends to @xmath40 .",
    "[ thm : dm ] the morphism @xmath422 is an algebra homomorphism if and only if @xmath419 satisfies equation  : @xmath425    let @xmath426 denote the multiplication of @xmath415 . on the one hand , we consider the composition , @xmath427 : @xmath428 on the other hand , we have the composition , @xmath429 : @xmath430 in order to simplify the computation , we precompose each side by @xmath431 . then the homomorphism equation  = can be expressed as follows : @xmath432           \\node[label = above:$b$ ] at ( .5,0.5 ) { } ;          { \\draw[normal,- ] ( 0.5,--0.5 ) -- ( 0.5,--0.5 - 1 ) ; }          { \\draw[normal,- ] ( 0,-0 - 1 ) .. controls ( 0,-0 - 0.7 ) and ( 0 + 0.2,-0 - 0.5 ) .. ( 0 + 0.5,-0 - 0.5 ) ; \\draw[normal ] ( 0 + 0.5,-0 - 0.5 ) .. controls ( 0 + 0.8,-0 - 0.5 ) and ( 0 + 1,-0 - 0.7 ) .. ( 0 + 1,-0 - 1 ) ; }          { \\draw[normal,- ] ( -1 + 1,-1 ) .. controls ( -1 + 1,-1 - 0.3 ) and ( -1,-1 - 0.7) .. (-1,-1 - 1 ) ; } { \\draw[normal,- ] ( 0,-1 - 1 ) .. controls ( 0,-1 - 0.7 ) and ( 0 + 0.2,-1 - 0.5 ) .. ( 0 + 0.5,-1 - 0.5 ) ; \\draw[normal ] ( 0 + 0.5,-1 - 0.5 ) .. controls ( 0 + 0.8,-1 - 0.5 ) and ( 0 + 1,-1 - 0.7 ) .. ( 0 + 1,-1 - 1);}{\\draw[cross,- ] ( 1,-1 ) .. controls ( 1,-1 - 0.3 ) and ( 1 + 1,-1 - 0.7) ..",
    "(1 + 1,-1 - 1 ) ; } { \\draw[normal,- ] ( 3,-1 - 1 ) .. controls ( 3,-1 - 0.7 ) and ( 3 + 0.2,-1 - 0.5 ) .. ( 3 + 0.5,-1 - 0.5 ) ; \\draw[normal ] ( 3 + 0.5,-1 - 0.5 ) .. controls ( 3 + 0.8,-1 - 0.5 ) and ( 3 + 1,-1 - 0.7 ) .. ( 3 + 1,-1 - 1 ) ; }          { \\draw[normal ] ( -1 - 0.2,-2 ) rectangle ( -1 + 1 + 0.2,-2 - 1);\\node at ( -1 + 1 * 0.5,-2 - 0.5 ) { $ \\gamma$};}{\\draw[normal,- ] ( 1,-2 ) -- ( 1,-2 - 1);}{\\draw[normal ] ( 2 - 0.2,-2 ) rectangle ( 2 + 1 + 0.2,-2 - 1);\\node at ( 2 + 1 * 0.5,-2 - 0.5 ) { $ \\gamma$ } ; } { \\draw[normal,- ] ( 4,-2 ) -- ( 4,-2 - 1 ) ; }          { \\draw[normal,- * ] ( -1,-3 ) -- ( -1,-3 - 1);}{\\draw[normal,- ] ( 0,-3 ) -- ( 0,-3 - 1);}{\\draw[normal,- ] ( 1,-3 ) -- ( 1,-3 - 1);}{\\draw[normal,- * ] ( 2,-3 ) -- ( 2,-3 - 1);}{\\draw[normal,- ] ( 3,-3 ) -- ( 3,-3 - 1);}{\\draw[normal,- ] ( 4,-3 ) -- ( 4,-3 - 1 ) ; }          { \\draw[normal,- ] ( 0,-4 ) -- ( 0,-4 - 1 ) ; } { \\draw[normal,- ] ( 1,-4 ) -- ( 1,-4 - 1 ) ; } { \\draw[normal,- ] ( 2 + 1,-4 ) .. controls ( 2 + 1,-4 - 0.3 ) and ( 2,-4 - 0.7) .. (2,-4 - 1);}{\\draw[normal,- ] ( 3 + 1,-4 ) .. controls ( 3 + 1,-4 - 0.3 ) and ( 3,-4 - 0.7) .. (3,-4 - 1 ) ; }          { \\draw[normal,- ] ( 0,-5 ) -- ( 0,-5 - 1);}{\\draw[normal,- ] ( 1 + 1,-5 ) .. controls ( 1 + 1,-5 - 0.3 ) and ( 1,-5 - 0.7) .. (1,-5 - 1 ) ; \\draw[cross,- ] ( 1,-5 ) .. controls ( 1,-5 - 0.3 ) and ( 1 + 1,-5 - 0.7) .. (1 + 1,-5 - 1);}{\\draw[normal,- ] ( 3,-5 ) -- ( 3,-5 - 1 ) ; }          { \\draw[normal,- ] ( 0 + 1,-6 ) .. controls ( 0 + 1,-6 - 0.3 ) and ( 0,-6 - 0.7) .. (0,-6 - 1 ) ; \\draw[cross,- ] ( 0,-6 ) .. controls ( 0,-6 - 0.3 ) and ( 0 + 1,-6 - 0.7) .. (0 + 1,-6 - 1);}{\\draw[normal,- ] ( 2,-6 ) -- ( 2,-6 - 1);}{\\draw[normal,- ] ( 3,-6 ) -- ( 3,-6 - 1 ) ; }          \\node[label = below:$w^*$ ] at ( 0,-7 ) { } ;          \\node[label = below:$v^*$ ] at ( 1,-7 ) { } ;          \\node[label = below:$v$ ] at ( 2,-7 ) { } ;          \\node[label = below:$w$ ] at ( 3,-7 ) { } ;       \\end{tikzpicture } }      \\quad=\\quad      { \\begin{tikzpicture}[baseline=(current bounding box.center ) , scale=0.8 ]           \\node[label = above:$b$ ] at ( 0,0 ) { } ;          { \\draw[normal,- ] ( 0,-0 ) -- ( 0,-0 - 1 ) ; } { \\draw[normal,- ] ( 2,-0 - 1 ) .. controls ( 2,-0 - 0.7 ) and ( 2 + 0.2,-0 - 0.5 ) .. ( 2 + 0.5,-0 - 0.5 ) ; \\draw[normal ] ( 2 + 0.5,-0 - 0.5 ) .. controls ( 2 + 0.8,-0 - 0.5 ) and ( 2 + 1,-0 - 0.7 ) .. ( 2 + 1,-0 - 1 ) ; }          { \\draw[normal,- ] ( 0,-1 ) -- ( 0,-1 - 1 ) ; } { \\draw[normal,- ] ( 1 + 1,-1 ) .. controls ( 1 + 1,-1 - 0.3 ) and ( 1,-1 - 0.7) .. (1,-1 - 1 ) ; } { \\draw[normal,- ] ( 2,-1 - 1 ) .. controls ( 2,-1 - 0.7 ) and ( 2 + 0.2,-1 - 0.5 ) .. ( 2 + 0.5,-1 - 0.5 ) ; \\draw[normal ] ( 2 + 0.5,-1 - 0.5 ) .. controls ( 2 + 0.8,-1 - 0.5 ) and ( 2 + 1,-1 - 0.7 ) .. ( 2 + 1,-1 - 1 ) ; } { \\draw[cross,- ] ( 3,-1 ) .. controls ( 3,-1 - 0.3 ) and ( 3 + 1,-1 - 0.7) ..",
    "(3 + 1,-1 - 1 ) ; }          { \\draw[normal ] ( 0 - 0.2,-2 ) rectangle ( 0 + 2 + 0.2,-2 - 1);\\node at ( 0 + 2 * 0.5,-2 - 0.5 ) { $ \\gamma$};}{\\draw[normal,- ] ( 3,-2 ) -- ( 3,-2 - 1);}{\\draw[normal,- ] ( 4,-2 ) -- ( 4,-2 - 1 ) ; }          { \\draw[normal,- * ] ( 0,-3 ) -- ( 0,-3 - 1);}{\\draw[normal,- ] ( 1,-3 ) -- ( 1,-3 - 1);}{\\draw[normal,- ] ( 2,-3 ) -- ( 2,-3 - 1);}{\\draw[normal,- ] ( 3,-3 ) -- ( 3,-3 - 1);}{\\draw[normal,- ] ( 4,-3 ) -- ( 4,-3 - 1 ) ; }          \\node[label = below:$w^*$ ] at ( 1,-4 ) { } ;          \\node[label = below:$v^*$ ] at ( 2,-4 ) { } ;          \\node[label = below:$v$ ] at ( 3,-4 ) { } ;          \\node[label = below:$w$ ] at ( 4,-4 ) { } ;         \\end{tikzpicture } } \\ ] ] since @xmath419 is @xmath415-linear , @xmath433 commutes with the action of @xmath366 on itself by left multiplication .",
    "thus , beginning with the lhs , we may slide the rightmost instance of @xmath419 over the multiplication , at which point the rightmost unit disappears .",
    "we have : @xmath434           \\node[label = above:$b$ ] at ( 0,0 ) { } ;          { \\draw[normal,- ] ( 0,-0 ) -- ( 0,-0 - 1 ) ; } { \\draw[normal,- ] ( 1,-0 - 1 ) .. controls ( 1,-0 - 0.7 ) and ( 1 + 0.2,-0 - 0.5 ) .. ( 1 + 0.5,-0 - 0.5 ) ; \\draw[normal ] ( 1 + 0.5,-0 - 0.5 ) .. controls ( 1 + 0.8,-0 - 0.5 ) and ( 1 + 1,-0 - 0.7 ) .. ( 1 + 1,-0 - 1 ) ; }          { \\draw[normal ] ( 0 - 0.2,-1 ) rectangle ( 0 + 1 + 0.2,-1 - 1);\\node at ( 0 + 1 * 0.5,-1 - 0.5 ) { $ \\gamma$ } ; } { \\draw[normal,- ] ( 2,-1 ) -- ( 2,-1 - 1 ) ; }          { \\draw[normal,- ] ( 0,-2 ) -- ( 0,-2 - 1);}{\\draw[cross,- ] ( 1,-2 ) .. controls ( 1,-2 - 0.3 ) and ( 1 + 1,-2 - 0.7) ..",
    "(1 + 1,-2 - 1);}{\\draw[cross,- ] ( 2,-2 ) .. controls ( 2,-2 - 0.3 ) and ( 2 + 1,-2 - 0.7) ..",
    "(2 + 1,-2 - 1 ) ; }          { \\draw[normal,- ] ( 0,-3 ) -- ( 0,-3 - 1 ) ; } { \\draw[normal,- ] ( 1,-3 - 1 ) .. controls ( 1,-3 - 0.7 ) and ( 1 + 0.2,-3 - 0.5 ) .. ( 1 + 0.5,-3 - 0.5 ) ; \\draw[normal ] ( 1 + 0.5,-3 - 0.5 ) .. controls ( 1 + 0.8,-3 - 0.5 ) and ( 1 + 1,-3 - 0.7 ) .. ( 1 + 1,-3 - 1);}{\\draw[cross,- ] ( 2,-3 ) .. controls ( 2,-3 - 0.3 ) and ( 2 + 1,-3 - 0.7) ..",
    "(2 + 1,-3 - 1);}{\\draw[cross,- ] ( 3,-3 ) .. controls ( 3,-3 - 0.3 ) and ( 3 + 1,-3 - 0.7) ..",
    "(3 + 1,-3 - 1 ) ; }          { \\draw[normal ] ( 0 - 0.2,-4 ) rectangle ( 0 + 1 + 0.2,-4 - 1);\\node at ( 0 + 1 * 0.5,-4 - 0.5 ) { $ \\gamma$};}{\\draw[normal,- ] ( 2 + 1,-4 ) .. controls ( 2 + 1,-4 - 0.3 ) and ( 2,-4 - 0.7) .. (2,-4 - 1 ) ; \\draw[cross,- ] ( 2,-4 ) .. controls ( 2,-4 - 0.3 ) and ( 2 + 1,-4 - 0.7) ..",
    "(2 + 1,-4 - 1 ) ; } { \\draw[normal,- ] ( 4,-4 ) -- ( 4,-4 - 1 ) ; }          { \\draw[normal,- * ] ( 0,-5 ) -- ( 0,-5 - 1);}{\\draw[normal,- ] ( 1 + 1,-5 ) .. controls ( 1 + 1,-5 - 0.3 ) and ( 1,-5 - 0.7) .. (1,-5 - 1 ) ; \\draw[cross,- ] ( 1,-5 ) .. controls ( 1,-5 - 0.3 ) and ( 1 + 1,-5 - 0.7) ..",
    "(1 + 1,-5 - 1 ) ; } { \\draw[normal,- ] ( 3,-5 ) -- ( 3,-5 - 1);}{\\draw[normal,- ] ( 4,-5 ) -- ( 4,-5 - 1 ) ; }          \\node[label = below:$w^*$ ] at ( 1,-6 ) { } ;          \\node[label = below:$v^*$ ] at ( 2,-6 ) { } ;          \\node[label = below:$v$ ] at ( 3,-6 ) { } ;          \\node[label = below:$w$ ] at ( 4,-6 ) { } ;         \\end{tikzpicture } }      \\quad=\\quad      { \\begin{tikzpicture}[baseline=(current bounding box.center ) , scale=0.8 ]           \\node[label = above:$b$ ] at ( 0,0 ) { } ;          { \\draw[normal,- ] ( 0,-0 ) -- ( 0,-0 - 1 ) ; } { \\draw[normal,- ] ( 2,-0 - 1 ) .. controls ( 2,-0 - 0.7 ) and ( 2 + 0.2,-0 - 0.5 ) .. ( 2 + 0.5,-0 - 0.5 ) ; \\draw[normal ] ( 2 + 0.5,-0 - 0.5 ) .. controls ( 2 + 0.8,-0 - 0.5 ) and ( 2 + 1,-0 - 0.7 ) .. ( 2 + 1,-0 - 1 ) ; }          { \\draw[normal,- ] ( 0,-1 ) -- ( 0,-1 - 1 ) ; } { \\draw[normal,- ] ( 1 + 1,-1 ) .. controls ( 1 + 1,-1 - 0.3 ) and ( 1,-1 - 0.7) .. (1,-1 - 1 ) ; } { \\draw[normal,- ] ( 2,-1 - 1 ) .. controls ( 2,-1 - 0.7 ) and ( 2 + 0.2,-1 - 0.5 ) .. ( 2 + 0.5,-1 - 0.5 ) ; \\draw[normal ] ( 2 + 0.5,-1 - 0.5 ) .. controls ( 2 + 0.8,-1 - 0.5 ) and ( 2 + 1,-1 - 0.7 ) .. ( 2 + 1,-1 - 1 ) ; } { \\draw[cross,- ] ( 3,-1 ) .. controls ( 3,-1 - 0.3 ) and ( 3 + 1,-1 - 0.7) ..",
    "(3 + 1,-1 - 1 ) ; }          { \\draw[normal ] ( 0 - 0.2,-2 ) rectangle ( 0 + 1 + 0.2,-2 - 1);\\node at ( 0 + 1 * 0.5,-2 - 0.5 ) { $ \\gamma$ } ; } { \\draw[normal,- ] ( 2,-2 ) -- ( 2,-2 - 1);}{\\draw[normal,- ] ( 3,-2 ) -- ( 3,-2 - 1);}{\\draw[normal,- ] ( 4,-2 ) -- ( 4,-2 - 1 ) ; }          { \\draw[normal,- ] ( 0,-3 ) -- ( 0,-3 - 1 ) ; } { \\draw[normal,- ] ( 1,-3 ) .. controls ( 1,-3 - 0.3 ) and ( 1 + 1,-3 - 0.7) ..",
    "(1 + 1,-3 - 1);\\draw[cross,- ] ( 1 + 1,-3 ) .. controls ( 1 + 1,-3 - 0.3 ) and ( 1,-3 - 0.7) ..",
    "(1,-3 - 1);}{\\draw[normal,- ] ( 3,-3 ) -- ( 3,-3 - 1);}{\\draw[normal,- ] ( 4,-3 ) -- ( 4,-3 - 1 ) ; }          { \\draw[normal ] ( 0 - 0.2,-4 ) rectangle ( 0 + 1 + 0.2,-4 - 1);\\node at ( 0 + 1 * 0.5,-4 - 0.5 ) { $ \\gamma$ } ; } { \\draw[normal,- ] ( 2,-4 ) -- ( 2,-4 - 1);}{\\draw[normal,- ] ( 3,-4 ) -- ( 3,-4 - 1);}{\\draw[normal,- ] ( 4,-4 ) -- ( 4,-4 - 1 ) ; }          { \\draw[normal,- * ] ( 0,-5 ) -- ( 0,-5 - 1);}{\\draw[normal,- ] ( 1 + 1,-5 ) .. controls ( 1 + 1,-5 - 0.3 ) and ( 1,-5 - 0.7) .. (1,-5 - 1 ) ; \\draw[cross,- ] ( 1,-5 ) .. controls ( 1,-5 - 0.3 ) and ( 1 + 1,-5 - 0.7) ..",
    "(1 + 1,-5 - 1);}{\\draw[normal,- ] ( 3,-5 ) -- ( 3,-5 - 1);}{\\draw[normal,- ] ( 4,-5 ) -- ( 4,-5 - 1 ) ; }          \\node[label = below:$w^*$ ] at ( 1,-6 ) { } ;          \\node[label = below:$v^*$ ] at ( 2,-6 ) { } ;          \\node[label = below:$v$ ] at ( 3,-6 ) { } ;          \\node[label = below:$w$ ] at ( 4,-6 ) { } ;         \\end{tikzpicture } } \\ ] ] clearly , this equals the rhs if , and only if , we have @xmath432           \\node[label = above:$b$ ] at ( 0,-1 ) { } ;          \\node[label = above:$w^*$ ] at ( 1,-1 ) { } ;          \\node[label = above:$v^*$ ] at ( 2,-1 ) { } ;                { \\draw[normal,- ] ( 0,-1 ) -- ( 0,-1 - 1 ) ; } { \\draw[normal,- ] ( 1,-1 ) -- ( 1,-1 - 1 ) ; } { \\draw[normal,- ] ( 2,-1 ) -- ( 2,-1 - 1 ) ; } ;          { \\draw[normal ] ( 0 - 0.2,-2 ) rectangle ( 0 + 1 + 0.2,-2 - 1);\\node at ( 0 + 1 * 0.5,-2 - 0.5 ) { $ \\gamma$ } ; } { \\draw[normal,- ] ( 2,-2 ) -- ( 2,-2 - 1 ) ; }          { \\draw[normal,- ] ( 0,-3 ) -- ( 0,-3 - 1 ) ; } { \\draw[normal,- ] ( 1,-3 ) .. controls ( 1,-3 - 0.3 ) and ( 1 + 1,-3 - 0.7) ..",
    "(1 + 1,-3 - 1);\\draw[cross,- ] ( 1 + 1,-3 ) .. controls ( 1 + 1,-3 - 0.3 ) and ( 1,-3 - 0.7) .. (1,-3 - 1 ) ; }          { \\draw[normal ] ( 0 - 0.2,-4 ) rectangle ( 0 + 1 + 0.2,-4 - 1);\\node at ( 0 + 1 * 0.5,-4 - 0.5 ) { $ \\gamma$ } ; } { \\draw[normal,- ] ( 2,-4 ) -- ( 2,-4 - 1 ) ; }          { \\draw[normal,- ] ( 0,-5 ) -- ( 0,-5 - 1);}{\\draw[normal,- ] ( 1 + 1,-5 ) .. controls ( 1 + 1,-5 - 0.3 ) and ( 1,-5 - 0.7) .. (1,-5 - 1 ) ; \\draw[cross,- ] ( 1,-5 ) .. controls ( 1,-5 - 0.3 ) and ( 1 + 1,-5 - 0.7) ..",
    "(1 + 1,-5 - 1 ) ; }          \\node[label = below:$b$ ] at ( 0,-6 ) { } ;          \\node[label = below:$w^*$ ] at ( 1,-6 ) { } ;          \\node[label = below:$v^*$ ] at ( 2,-6 ) { } ;       \\end{tikzpicture } }      \\quad = \\quad      { \\begin{tikzpicture}[baseline=(current bounding box.center ) , scale=0.8 ]           \\node[label = above:$b$ ] at ( 0,0 ) { } ;          \\node[label = above:$w^*$ ] at ( 1,0 ) { } ;          \\node[label = above:$v^*$ ] at ( 2,0 ) { } ;          { \\draw[normal,- ] ( 0,-0 ) -- ( 0,-0 - 1);}{\\draw[normal,- ] ( 1,-0 ) -- ( 1,-0 - 1);}{\\draw[normal,- ] ( 2,-0 ) -- ( 2,-0 - 1 ) ; }          { \\draw[normal ] ( 0 - 0.2,-1 ) rectangle ( 0 + 2 + 0.2,-1 - 1);\\node at ( 0 + 2 * 0.5,-1 - 0.5 ) { $ \\gamma$ } ; }          { \\draw[normal,- ] ( 0,-2 ) -- ( 0,-2 - 1);}{\\draw[normal,- ] ( 1,-2 ) -- ( 1,-2 - 1);}{\\draw[normal,- ] ( 2,-2 ) -- ( 2,-2 - 1 ) ; }          \\node[label = below:$b$ ] at ( 0,-3 ) { } ;          \\node[label = below:$w^*$ ] at ( 1,-3 ) { } ;          \\node[label = below:$v^*$ ] at ( 2,-3 ) { } ;                \\end{tikzpicture } } \\ ] ] conjugating the above by @xmath435 , and replacing @xmath436 with @xmath437 gives equation .",
    "therefore , compositions   and   coincide if and only if   holds",
    ".    we will apply theorem  [ thm : dm ] in the following particular case : by definition of @xmath40 , there are also canonical maps @xmath438 where @xmath439 is the _",
    "right _ dual of @xmath413 . for @xmath440 and @xmath441 , let @xmath442 be the operator defined by @xmath443    where the last map is the action of @xmath40 on @xmath27 .    under the identification used in theorem  [ thm : dm ] , the map from @xmath40 to itself induced by @xmath444 is the identity . in particular",
    "this is an algebra morphism , hence @xmath444 satisfies equation  .",
    "we have : @xmath445           { \\draw[normal,- ] ( 1.3,--3.5 ) -- ( 1.3,--3.5 - 1 ) ; }          \\begin{scope}[xscale=1.5,xshift=-0.67 cm ]          { \\draw[normal,- ] ( 1,--3 - 1 ) .. controls ( 1,--3 - 0.7 ) and ( 1 + 0.2,--3 - 0.5 ) .. ( 1 + 0.5,--3 - 0.5 ) ; \\draw[normal ] ( 1 + 0.5,--3 - 0.5 ) .. controls ( 1 + 0.8,--3 - 0.5 ) and ( 1 + 1,--3 - 0.7 ) .. ( 1 + 1,--3 - 1 ) ; }          \\end{scope }          { \\draw[normal ] ( 0 - 0.2,--2 ) rectangle ( 0 + 1 + 0.2,--2 - 1);\\node at ( 0 + 1 * 0.5,--2 - 0.5 ) { $ \\iota_{v}$ } ; } { \\draw[normal,- ] ( 2,--2 ) -- ( 2,--2 - 1 ) ; }          { \\draw[normal,- ] ( 0,--1 ) -- ( 0,--1 - 1);}{\\draw[normal,- ] ( 1,--1 ) -- ( 1,--1 - 1);}{\\draw[normal,- ] ( 2,--1 ) -- ( 2,--1 - 1 ) ; } { \\draw[normal,- ] ( 3,--1 - 1 ) .. controls ( 3,--1 - 0.7 ) and ( 3 + 0.2,--1 - 0.5 ) .. ( 3 + 0.5,--1 - 0.5 ) ; \\draw[normal ] ( 3 + 0.5,--1 - 0.5 ) .. controls ( 3 + 0.8,--1 - 0.5 ) and ( 3 + 1,--1 - 0.7 ) .. ( 3 + 1,--1 - 1 ) ; }          { \\draw[normal,- ] ( 0,-0 ) -- ( 0,-0 - 1 ) ; } { \\draw[normal,- ] ( 1,-0 ) .. controls ( 1,-0 - 0.3 ) and ( 1 + 1,-0 - 0.7) ..",
    "(1 + 1,-0 - 1);\\draw[cross,- ] ( 1 + 1,-0 ) .. controls ( 1 + 1,-0 - 0.3 ) and ( 1,-0 - 0.7) .. (1,-0 - 1);}{\\draw[normal,- ] ( 3,-0 ) -- ( 3,-0 - 1);}{\\draw[normal,- ] ( 4,-0 ) -- ( 4,-0 - 1 ) ; }          { \\draw[normal,- ] ( 0,-1 ) .. controls ( 0,-1 - 0.3 ) and ( 0 + 1,-1 - 0.7) ..",
    "(0 + 1,-1 - 1);\\draw[cross,- ] ( 0 + 1,-1 ) .. controls ( 0 + 1,-1 - 0.3 ) and ( 0,-1 - 0.7) .. (0,-1 - 1 ) ; } {   \\draw[normal,- ] ( 2,-1 ) .. controls ( 2,-1 - 0.3 ) and ( 2 + 0.2,-1 - 0.5 ) .. ( 2 + 0.5,-1 - 0.5 ) ; \\draw[normal ] ( 2 + 0.5,-1 - 0.5 ) .. controls ( 2 + 0.8,-1 - 0.5 ) and ( 2 + 1,-1 - 0.3 ) .. ( 2 + 1,-1 ) ; } { \\draw[normal,- ] ( 4,-1 ) -- ( 4,-1 - 1 ) ; }          { \\draw[normal,- * ] ( 0,-2 ) -- ( 0,-2 - 1);}{\\draw[normal,- ] ( 1,-2 ) -- ( 1,-2 - 1);}{\\draw[normal,- ] ( 4,-2 ) -- ( 4,-2 - 1 ) ; }          \\node[label = below:${\\mathbf{1}}_{{\\mathcal{a}}}$ ] at ( 0,-3 ) { } ;          \\node[label = below:$v^*$ ] at ( 1,-3 ) { } ;          \\node[label = below:$v$ ] at ( 4,-3 ) { } ;       \\end{tikzpicture } } = \\iota_{v}\\ ] ]    let @xmath415 be an algebra in @xmath0 . if @xmath419 a braided module structure on @xmath417 , then @xmath422 is an algebra morphism @xmath446 .",
    "conversely , if @xmath386 is an algebra morphism @xmath446 , then using @xmath386 @xmath40 acts on any @xmath415-modules @xmath27 , hence @xmath447 acts on @xmath448 for @xmath449 and this turns @xmath417 into a braided module category .",
    "we now close up punctured surfaces to describe quantum character varieties for closed , possibly marked , surfaces . for simplicity",
    ", we will begin with the unmarked situation .",
    "fixing an inclusion @xmath450 , and the corresponding boundary inclusions of the annulus into @xmath451 and @xmath393 as boundary annuli , excision gives a canonical equivalence , @xmath452 here @xmath453 is regarded as a braided module category over itself .",
    "we now proceed to compute these invariants explicitly via quantum hamiltonian reduction .",
    "recall that the algebra @xmath21 is identified with @xmath454 , where @xmath0 acts on @xmath37 via insertion at some interval in the boundary annulus of @xmath0 .",
    "we have @xmath0-module category equivalences , @xmath455 where @xmath394 is the tensor functor from definition [ annulus - tensor - functor - def ] , induced by the chain of inclusions depicted in figure [ nested - actions ] .",
    "this means we are precisely in the situation of section [ annulus - category - section ] .",
    "we have canonical quantum moment maps , @xmath457 which are @xmath0-algebra homomorphisms realizing the braided module structures on @xmath458 respectively , and moreover we have equivalences of @xmath459-module categories , @xmath460 between the factorization homology of @xmath36 ( resp , @xmath393 ) , as module categories for the annulus category by stacking , and the categories of @xmath21-modules in @xmath0 ( resp , @xmath461-modules in @xmath0 ) , equipped in each case with compatible actions of @xmath40 .",
    "let @xmath465 denote a finite set of points .",
    "let us fix @xmath0-module categories @xmath466 attached to each points @xmath467 , and let @xmath468 denote a tubular neighborhood of @xmath469 , consisting of the disjoint union of some discs @xmath470 containing each point @xmath471 , and let @xmath472 .",
    "this data defines an invariant , @xmath473 of surfaces with marked point @xmath58 labeled by @xmath28 .",
    "applying excision gives an equivalence : @xmath474    now let us assume furthermore that each @xmath466 is given as the category of modules for an algebra @xmath475 , i.e. that @xmath476 giving such a presentation is equivalent to giving an @xmath0-progenerator @xmath477 as an @xmath0-module category , by taking @xmath478 .",
    "it follows from theorem  [ quantum - moment - map - theorem ] that each @xmath479 canonically receives a quantum moment map , @xmath480 such that the @xmath16-module action is identified with the relative tensor product over @xmath481 .",
    "[ marked - surface - category - theorem ] the factorization homology of the marked surface @xmath482 , with braided module categories @xmath483-@xmath479 attached to each @xmath471 is equivalent to the category , @xmath484 of bimodules in @xmath485 for the pair of algebras @xmath486 and @xmath487 .",
    "more generally , if @xmath2 is a surface with a point marked by a braided module category @xmath28 , then , for any @xmath490 , we have an isomorphism of algebras : @xmath493 where the relative tensor product is taken over the canonical homomorphism @xmath494 given by proposition [ momentmaps ] .          in the case",
    "@xmath80 , the distinguished object can be identified with the structure sheaf of the character stack .",
    "hence the functor @xmath498 can be viewed as a  global sections functor \" on the quantized character stack @xmath499 .",
    "we note that the procedure prescribed in theorem [ hamredalg ] , of tensoring with the trivial module along the quantum moment map , and then taking invariants , is precisely the procedure of quantum hamiltonian reduction .",
    "v.  v. fock , a.  a. rosly .",
    "poisson structure on moduli of flat connections on riemann surfaces and the @xmath504-matrix . in _",
    "moscow seminar in mathematical physics _ , vol .",
    "191 of _ amer . math .",
    "transl . ser . 2 _ , pp .",
    "6786 ( amer .",
    "soc . , providence , ri , * 1999 * ) ."
  ],
  "abstract_text": [
    "<S> we study a categorical invariant of surfaces associated to a braided tensor category @xmath0 , the factorization homology @xmath1 or _ quantum character variety _ of @xmath2 . in our previous paper @xcite </S>",
    "<S> we introduced these invariants and computed them for a punctured surface @xmath2 as a category of modules for a canonical and explicit algebra , quantizing functions on the classical character variety . in this paper </S>",
    "<S> we compute quantum character varieties of arbitrary closed surfaces with boundaries and marked points .    </S>",
    "<S> we identify the algebraic data governing marked points and boundary components with the notion of a _ braided module category _ for @xmath0 , and we describe braided module categories with a generator in terms of certain explicit algebra homomorphisms called _ quantum moment maps_. we then show that the quantum character variety of a decorated surface is obtained from that of the corresponding punctured surface as a quantum hamiltonian reduction .    </S>",
    "<S> characters of braided @xmath0-modules are objects of the torus integral @xmath3 . </S>",
    "<S> we initiate a theory of character sheaves for quantum groups by identifying the torus integral of @xmath4 with the category @xmath5 of equivariant quantum @xmath6-modules . </S>",
    "<S> when @xmath7 , we relate the mirabolic version of this category to the representations of the spherical double affine hecke algebra ( daha ) @xmath8 . </S>"
  ]
}