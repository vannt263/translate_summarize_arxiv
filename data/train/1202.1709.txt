{
  "article_text": [
    "the first result about universality for cellular automata in a grid @xmath0 of the hyperbolic plane was obtained by the author and y. song , see  @xcite .",
    "the result was just constructed for @xmath6 , _",
    "i.e. _ the grid  @xmath7 called the heptagrid .",
    "as there is no grid of this family when @xmath8 , the construction in the heptagrid can easily be extended to the whole family .",
    "a bit later , the author obtained a significant improvement the heptagrid , with four states only .",
    "it is still the best result if we consider a truly planar cellular automata , which means that the cells which change during the execution of the cellular automaton constitute a planar graph with many cycles . in  @xcite",
    ", the author has proved that there is a weakly universal cellular automaton with two states only in all tilings @xmath9 of the hyperbolic plane .",
    "now , the result was obtained by embedding the elementary cellular automaton rule  110 into the tiling .",
    "the problem is that this embedding produces a one - dimensional structure .",
    "this paper is a first answer to this latter question about a planar weakly cellular automaton with two states actually living in the hyperbolic plane . in this paper ,",
    "i construct such an automaton in infinitely many tilings of the hyperbolic plane .",
    "more precisely , i do this for all tilings @xmath0 when @xmath10 .",
    "the lower bound @xmath4 leaves the question open for the cases when @xmath11 .    in this paper , as in many papers of the author alone or with coauthors , see  @xcite , i use the railway model to define a weakly universal cellular automaton . as in",
    "@xcite it is proved that using such a model , one can simulate a two - register machine , it is enough to implement such a simulation by a cellular automaton in the considered grid .",
    "this model was never used in the euclidean plane for cellular automata , but is used for the same purpose in the hyperbolic plane .    in planar simulations of the railway model , especially when we try to reduce the number of states , the difficult point is to model the crossings .",
    "this point will be clear in the figures of section  [ railway ] for readers who are not familiar with the model .",
    "the main features of this model are explained in section  [ railway ] .",
    "note that in the @xmath12-space , this problem vanishes as crossings can be easily replaced by bridges .",
    "this is why simulations of the same model in the hyperbolic @xmath12-space have always be performed with less states than in the planar cases .",
    "this is also why the threshold of two states with a true spatial cellular automaton was reached by the author in a regular tiling of the hyperbolic @xmath12-space , see  @xcite before this paper .",
    "now , it is interesting to notice that if a previous result in the hyperbolic @xmath12-space has taken benefit from an idea used in a result in the hyperbolic plane , this paper takes benefit from an idea used in  @xcite .",
    "however , as there is no crossing in the @xmath12-simulation , something new had to be found for the plane .",
    "subsection  [ scenario ] explains this new idea and section  [ implement ] thoroughly describes the implementation .    as most often , a computer program was used here too in order to check the coherence of the set of rules , the cellular automaton obtained in the paper being rotation invariant .",
    "the rules and their construction are explained in section  [ rules ] .",
    "traces of executions of various pieces of the simulation are given in section  [ traces ] .",
    "section  [ rulesgene ] gives a uniform rules for @xmath0 when . with this section",
    ", we shall reach the end of the proof of the following result :    [ universal ] ( margenstern ) @xmath13 there is a rotation invariant cellular automaton on all grids @xmath0 of the hyperbolic plane , with @xmath10 , which is weakly universal and which has two states .",
    "there is a uniform set of rules for the automaton when @xmath14 .",
    "the initial configuration of the automaton is infinite : it is ultimately periodic along two different rays of mid - points  @xmath15 and  @xmath16 of the tiling  @xmath0 and finite in the complement of the parts attached to  @xmath15 and  @xmath16 .",
    "the set of cells which change their state at least once during the computation is a planar graph with infinitely many cycles .",
    "section  [ hypgeom ] remembers the reader with the main features of hyperbolic geometry which are needed in order to understand the implementation .",
    "as initially devised in  @xcite and then mentioned in  @xcite , the circuit uses tracks represented by lines and quarters of circles and switches .",
    "there are three kinds of switches : the * fixed * , the * memory * and the * flip - flop * switches .",
    "they are represented by the schemes given in fig .",
    "[ aiguillages ] .",
    "note that a switch is an oriented structure : on one side , it has a single track  @xmath17 and , on the the other side , it has two tracks  @xmath18 and  @xmath19 .",
    "this defines two ways of crossing a switch .",
    "call the way from  @xmath17 to  @xmath18 or  @xmath19 * active*. call the other way , from  @xmath18 or  @xmath19 to  @xmath17 * passive*. the names comes from the fact that in a passive way , the switch plays no role on the trajectory of the locomotive . on the contrary , in an active crossing , the switch indicates which track between  @xmath18 and  @xmath19 will be followed by the locomotive after running on  @xmath17 : the new track is called the * selected * track .    as indicated by its name ,",
    "the * fixed switch * is left unchanged by the passage of the locomotive .",
    "it always remains in the same position : when actively crossed by the locomotive , the switch always sends it onto the same track .",
    "the flip - flop switch is assumed to be crossed actively only .",
    "now , after each crossing by the locomotive , it changes the selected track . the memory switch can be crossed by the locomotive actively and passively . in an active passage",
    ", the locomotive is sent onto the selected track .",
    "now , the selected track is defined by the track of the last passive crossing by the locomotive .",
    "of course , at initial time , the selected track is fixed .    with the help of these three kind of switches",
    ", we define an * elementary circuit * as in  @xcite , which exactly contains one bit of information .",
    "the circuit is illustrated by fig .",
    "[ element ] , above .",
    "it can be remarked that the working of the circuit strongly depends on how the locomotive enters it .",
    "if the locomotive enters the circuit through  @xmath20 , it leaves the circuit through  @xmath21 or  @xmath22 , depending on the selected track of the memory switch which stands near  @xmath20 .",
    "if the locomotive enters through  @xmath23 , the application of the given definitions shows that the selected track at the switches near  @xmath20 and  @xmath23 are both changed : the switch at  @xmath23 is a flip - flop which is changed by the very active passage of the locomotive and the switch at  @xmath20 is a memory one which is changed because it is passively crossed by the locomotive and through the non - selected track .",
    "the just described actions of the locomotive correspond to a * read * and a * write * operation on the bit contained by the circuit which consists of the configurations of the switches at  @xmath20 and at  @xmath24 .",
    "it is assumed that the write operation is triggered when we know that we have to change the bit which we wish to rewrite .",
    "figure  [ elemexplic ] illustrates this working . as mentioned in the caption , the unit can be used in two ways .",
    "the reading way enters the circuit through the switch  @xmath20 and exits through the track  @xmath21 or  @xmath22 depending on what is read at  @xmath20 .",
    "the writing way enters the circuit through  @xmath23 and exits through  @xmath20 .",
    "this is a special writing : it changes the content of what is found into the opposite value .",
    "this means that before writing we have to test what is in the unit .",
    "if we have to write the same thing , nothing has to be done .",
    "if we have to write the other value , then the enter through  @xmath23 is appropriate .",
    "the combination of such elementary circuits allows us to define more complex structures which are useful to control the motion of the locomotive through the circuit . as an example , fig .",
    "[ unit ] illustrates an implementation of a unit of a register .",
    "other parts of the needed circuitry are described in  @xcite .",
    "the main idea in these different parts is to organize the circuit in possibly visiting several elementary circuits which represent the bits of a configuration which allow the whole system to remember the last visit of the locomotive .",
    "the use of this technique is needed for the following two operations .",
    "when the locomotive arrives to a register  @xmath20 , it arrives either to increment  @xmath20 or to decrement it . as can be seen on fig .",
    "[ unit ] , when the instruction is performed , the locomotive goes back from the register by the same track .",
    "accordingly , we need somewhere to keep track of the fact whether the locomotive incremented  @xmath20 or it decremented  @xmath20 .",
    "this is one type of control .",
    "the other control comes from the fact that several instructions usually apply to the same register .",
    "again , when the locomotive goes back from  @xmath20 , in general it goes back to perform a new instruction which depends on the one it has just performed on  @xmath20 . again",
    "this can be controlled by what we called the * selector * in  @xcite .    at last ,",
    "the dispatching of the locomotive on the right track for the next instruction is performed by the * sequencer * , a circuit whose main structure looks like its implementation in the classical models of cellular automata such as the game of life or the billiard ball model .",
    "the reader is referred to the already quoted papers for full details on the circuit .",
    "remember that this implementation is performed in the euclidean plane , as clear from fig .",
    "[ example ] which illustrates the case of a few lines of a program of a register machine .",
    "now , before turning to the implementation in the hyperbolic plane , we provides the reader with the minimal properties of hyperbolic geometry for a better understanding of the paper .",
    "hyperbolic geometry appeared in the first half of the 19@xmath25 century , in the last attempts to prove the famous parallel axiom of euclid s _ elements _ from the remaining ones .",
    "independently , lobachevsky and bolyai discovered a new geometry by assuming that in the plane , from a point out of a given line , there are at least two lines which are parallel to the given line .",
    "later , models of the new geometry were found , in particular poincar s model , which is the frame of all this study .      in this model",
    ", the hyperbolic plane is the set of points which lie in a fixed open disc  @xmath26 of the euclidean plane .",
    "let @xmath27  be the border of  @xmath26 .",
    "the lines of the hyperbolic plane in poincar s disc model are either the trace of diametral lines or the trace of circles which are orthogonal to  @xmath27 , see fig .",
    "[ model ] .",
    "we say that the considered lines or circles * support * the hyperbolic line , simply * line * for short ,    when there is no ambiguity , @xmath28-*line * when it is needed to avoid it .",
    "[ model ] illustrates the notion of * parallel * and * non - secant * lines in this setting . the points of  @xmath27 which do not belong to the hyperbolic plane are called * points at infinity*. if @xmath29  is such a point , and if a the circle which supports a line  @xmath30 of the model passes through  @xmath29 , we say that @xmath30 passes through  @xmath29 and that @xmath29 is a point at infinity of  @xmath30 .",
    "points at infinity play an important role in the hyperbolic plane .",
    "they define a kind of direction .",
    "the angle between two @xmath28-lines are defined as the euclidean angle between the tangents to their support .",
    "the reason for choosing the poincar s model is that hyperbolic angles between @xmath28-lines are , in a natural way , the euclidean angle between the corresponding supports .",
    "in particular , orthogonal circles support perpendicular @xmath28-lines .",
    "an important difference between euclidean and hyperbolic geometries is the notion of similarity . in euclidean spaces ,",
    "a figure can exist in different shapes .",
    "this is so familiar that most probably , the reader does need a precise definition to understand about what it is speaking . as an example",
    ", a square exists in infinitely many sizes : just change the length of the side .",
    "this is not at all the case in hyperbolic spaces .",
    "as an example , there is no square , there . but instead , there is regular convex pentagon with right angles between consecutive sides .",
    "now , for this pentagon , there is a unique length for the side .",
    "this leads us to say that in the hyperbolic plane , a shape has a definite size .",
    "this does not mean , however , that there is not at all similarity in the hyperbolic plane .",
    "something can be said about that but this is outside the scope of this paper .",
    "remember that in the euclidean plane and up to similarities , there are only three kinds of tilings based on the recursive replication of a regular polygon by reflection in its sides and of the images in their sides .",
    "in the hyperbolic plane , where the notion of similarity is not very meaningful , there are infinitely many such tilings . in this paper",
    ", we consider the family of tilings @xmath0 , @xmath31 .",
    "they are defined on the basis of a regular convex polygon with an angle of @xmath32 between consecutive angles .",
    "it is known that such a polygon exists in the hyperbolic plane starting from @xmath6 .",
    "it is also known that for all these values of  @xmath33 , it is possible to tile the plane by replicating the polygon in its sides and , recursively , by replicating the images in their sides .",
    "this provides a tiling : there is no overlap and no hole . as a consequence of the angle of the polygon , there are exactly three of them around any vertex .",
    "the smallest polygon of the family is the heptagon , defined with @xmath34 .",
    "it gives rise to the * heptagrid * @xmath7 .",
    "[ hepta ] and  [ eclate_73 ] give an illustrative representation of this tiling .",
    "we refer the reader to@xcite and to  @xcite for more details and references .",
    "the left - hand side of fig .  [ hepta ] illustrates the heptagrid .",
    "but , besides the occurrence of a lot of symmetries , nothing can be grasped on the structure of the tiling from this mere picture .",
    "the right - hand side picture of fig .",
    "[ hepta ] illustrates the main tool to make the structure visible .",
    "there , we can see two lines which we call * mid - point lines * as they join mid - points of edges of consecutive heptagons belonging to the tiling . on the figure , a half of each line",
    "is drawn with a thicker stroke .",
    "it is a * ray * issued from the common point of these lines : here , a mid - point of an edge of the central heptagon of the figure .",
    "we shall say a * ray of mid - points*. these two rays define an angle , and the set of tiles whose all mid - points of the edges fall inside the angle is called a * sector*.    fig .",
    "[ hepta ] and  [ eclate_73 ] sketchily remember that the tiling is spanned by a generating tree .",
    "in fact , as can be noticed on both the right - hand side of fig .",
    "[ hepta ] and the left - hand side of fig .  [ eclate_73 ] , the set of tiles constituting a sector is spanned by a fibonacci tree , see  @xcite for references .",
    "the name of the tree comes from the fact that the number of nodes on a given level  @xmath35 is @xmath36 , where @xmath37 denotes the fibonacci sequence with @xmath38 , @xmath39 .",
    "now , as indicated in fig .",
    "[ eclate_73 ] , seven sectors around a central tile allow us to exactly cover the hyperbolic plane with the heptagrid which is the tessellation obtained from the regular heptagon described above and easily seen on the figures .    in the left - hand side picture of fig .",
    "[ eclate_73 ] , we represent the sectors in terms of tiles .",
    "the tiles are in bijection with the tree which is represented on the right - hand side part of the figure .",
    "this allows us to define the coordinates in a sector of the heptagrid , see @xcite .",
    "we number the nodes of the tree , starting from the root and going on , level by level and , on each level , from the left to the right .",
    "then , we represent each number in the basis defined by the quoted fibonacci sequence , taking the maximal representation , see@xcite .",
    "one of the reasons to use this system of coordinates is that from any cell , we can find out the coordinates of its neighbours in linear time with respect to the coordinate of the cell .",
    "also in linear time from the coordinate of the cell , we can compute the path which goes from the central cell to the cell .",
    "these properties are established in @xcite and they rely on a particular property of the coordinates in the tree which allow to compute the coordinate of the father of a node in constant time from the coordinate of the node . in the paper ,",
    "the coordinate of a cell is of the form @xmath40 where @xmath41 is the number of the sector where the cell is and @xmath42 is its number in the fibonacci tree which spans the sector .    what was said for the heptagrid can be extended to any tiling @xmath0 with @xmath43 , see  @xcite .",
    "we give here the main properties which can be used in section  [ implement ] .",
    "consider @xmath33 as fixed with @xmath43 . around a central cell",
    ", we can manage @xmath33  sectors defined by mid - point rays exactly as this was the case in the heptagrid , illustrated by fig .",
    "[ eclate_73 ] . here too , there is a tree  @xmath44 in bijection with the tiles which have all their mid - points in the angle defined by the rays .",
    "this tree generalizes the one given in the right - hand side of fig .",
    "[ eclate_73 ] .",
    "let @xmath45 be the number of tiles which are on the level  @xmath35 of the tree , with @xmath46 as level  0 is that of the root of the tree .",
    "we have @xmath33@xmath134 sons for the root which defines and further , . from this sequence",
    ", we can define a representation of the integers , see  @xcite as follows : each positive number  @xmath35 can be written as @xmath47 with @xmath48@xmath13@xmath49 $ ] . in general , this representation is not unique , but it can be unique by requiring it to be the maximal one in size . we can make this restriction more clear as follows .",
    "say that @xmath44  has two kind of nodes : * white * sons have @xmath33@xmath134 sons and * black * sons have @xmath33@xmath135 of them .",
    "the root is a white node .",
    "now , there is a precise rule for the position of black and white nodes .",
    "each node has exactly one black node and , when running through the sons of a node from left to right , the black node is the penultimate node .",
    "number the nodes of the tree level by level , 1 being given to the root and then , increasingly on each level from left to right .",
    "say that the maximal representation of  @xmath35 as above defined is the * coordinate * of the node numbered with  @xmath35 .",
    "then , we have that the black nodes are exactly those whose coordinate end in  0 .",
    "similarly , the coordinate of the black son of a node is obtained by appending one  0 to the coordinate of the node .",
    "this property allows us to define the path from a node to the root in linear time from the size of the coordinate of the node .",
    "as we said , the nodes of  @xmath44 are in bijection with the tiles of a sector .",
    "the bijection allows us to consider as * coordinate of a tile * the coordinate of the node associated to the tile by the bijection .",
    "say that two tiles are * neighbour * of each other if and only if they share a common side .",
    "the main problem we have to solve is to compute the coordinates of the neighbour of a tile  @xmath50 from the coordinate of  @xmath50 .",
    "we refer the reader to  @xcite for the result and the corresponding explanation .",
    "we display the results in table  [ neighbours ] in section  [ implement ] .",
    "now , as the system of coordinates is fixed , we can turn to the application to the implementation of cellular automata on the heptagrid .",
    "a cellular automaton on a grid @xmath0 is defined by a * local transition function * which can be put in form of a table .",
    "each row of the table defines a * rule * and the table has @xmath33 + 2 columns numbered from  0 to  @xmath33 + 1 , each entry of the table containing a state of the automaton . on each row",
    ", column  0 contains the state of the cell to which the rule applies .",
    "the rule applies because columns  1 to  @xmath33 contain the states of the neighbours of the cell defined in the following way . for the central cell ,",
    "its neighbour  1 is fixed once and for all .",
    "for another cell , its neighbour  1 is its father . in all cases ,",
    "the other neighbours are increasingly numbered from  2 to  @xmath33 while counter - clockwise turning around the cell starting from side  1 .",
    "the representation mentioned in section  [ hypgeom ] allows to find the coordinates of the neighbours from that of the coordinate of the cell in linear time .",
    "as promised in that section , table  [ neighbours ] indicates how to compute the coordinates of the neighbours of a cell  @xmath42 from the coordinate of  @xmath42 .",
    "the list of states on a row , from column  0 to  @xmath33 is called the * context * of a rule .",
    "it is required that two different rules have different contexts .",
    "we say that the cellular automaton is * deterministic*. as there is a single row to which a rule can be applied to a given cell , the state of column  @xmath33 + 1 defines the * new state * of the cell .",
    "the local transition function is the function which transforms the state of a cell into its new one , also depending on the states of the neighbours as just mentioned . in table",
    "[ neighbours ] , we introduce a function @xmath51 which indicates the lowest digit of the coordinate of  @xmath42 .",
    "it also defines the notion of * common ancestor * of two cells :    an important case in the study of cellular automata is what are called * rotation invariant * cellular automata . to define this notion , we consider the following transformation on the rules .",
    "say that the context of a rule is the * rotated image * of another one if and only if both contexts have the same state in column  0 and if one context is obtained from the other by a * circular * permutation on the contents of columns  1 to  @xmath33 .",
    "now , a cellular automaton is * rotation invariant * if and only if its table of transition  @xmath52 possesses the following properties :    - for each row  @xmath53 of  @xmath52 , @xmath52 also contains @xmath33@xmath131 rules exactly whose contexts are the rotated image of that of  @xmath53 and whose new state is that of  @xmath53 ;    - if @xmath54 and  @xmath55 are two rules of  @xmath52 whose contexts are the rotated image of each other , then their column  @xmath33 + 1 contains the same state .    in the rest of the paper",
    ", sometimes we shall have to write the rules of the automaton for a precise situation .",
    "the rules can be written according to the following format : where @xmath56 is the state of the cell , @xmath57 the state of its neighbour  @xmath58 and  @xmath59 is its new state .",
    "however , in tables and also in order to have a more compact notation , a rule will be written as a word .",
    "the above is rewritten as the following word : @xmath60 , using the same notations .",
    "the name of rotation invariance comes from the fact that a rotation around a tile  @xmath52 leaving the tiling globally invariant is characterized by a circular permutation on the neighbours of  @xmath52 defined as above .",
    "note that the universal cellular automata devised in  @xcite are rotation invariant while the one of  @xcite is not .",
    "for the question of rotation invariance for cellular automata on the heptagrid , we refer the reader to  @xcite .",
    "_ rangee # 1 # 2 # 3    now , we can turn to the simulation of the railway circuit by a cellular automaton .",
    "in this section , subsection  [ hyprailway ] will first present the general features of the implementation of a railway circuit which are shared by all the simulations of the previous papers , see  @xcite , as well as the implementation of this paper . then , in subsection  [ scenario ] , we describe the main lines of the present implementation .",
    "then , we develop the presentation thoroughly in subsections  [ tracks ] , [ crossings ] and  [ switches ] .      in  @xcite , the various elements of the circuit mentioned in  @xcite are implemented .",
    "in fact , the paper does not give an exact description of the implementation : it only gives the guidelines , but with enough details , so that an exact implementation is useless . in this paper",
    ", we take the same model , and we repeat the main lines of implementation mentioned in  @xcite .",
    "so that we refer the reader to these papers for more precise details . just to help him / her to have a better of view of the overall configuration",
    ", we refer the reader to fig .",
    "[ hypexample ] .",
    "the figure provides a simplified illustration of the implementation of the example given by fig .",
    "[ example ] which takes place in the heptagrid .",
    "if the reader carefully looks at the figure , he / she will notice that the tracks mostly follow branches of a fibonacci tree and sets of nodes which are on the same level of the fibonacci tree . in this implementation , we have to pay a very precise attention to this situation .",
    "we shall tune it a bit with the help of an intermediary structure . as it will be used for the initial configuration only",
    ", there is no need to translate this structure into the states of the automaton .",
    "the intermediary structure which we shall use is illustrated in fig  [ hortandvert ] in the case of the heptagrid .",
    "it consists in defining * horizontals * and * verticals*. horizontals and verticals are a familiar way to define a rectangular grid",
    ". however , we can easily understand that we can distort the structure provided that the cycles defined by the rectangles are preserved .",
    "we can also alter the structure provided that we keep enough room for infinitely many zones of arbitrary sizes . in the hyperbolic plane",
    ", we have no rectangle but , in the tilings @xmath0 of the hyperbolic plane , we have a generic way to define a kind of horizontal : it is a set of tile whose complement in the plane has two components exactly and two of our horizontals either coincide or do not meet .",
    "also , we can guarantee the existence of only half verticals : they are sets of tiles which follow a half - line and they cross infinitely many horizontals .",
    "[ hortandvert ] illustrates this notion .",
    "this is enough for our purpose : the intersections between verticals and horizontals allow us to define quadrangle as large as needed to enclose the structures we have to define to implement the circuits described in section  [ railway ] .",
    "[ hortandvert ] is also based on the tree represented in fig .",
    "[ eclate_73 ] .",
    "now , the colours of the picture have a meaning .",
    "each tile defines the colours of its sons according to the following rules :    where @xmath61 , @xmath62 , @xmath63 and  @xmath64 have obvious meaning .",
    "the horizontals are defined by the levels of the tree .",
    "now , a level is delimited by the leftmost and the rightmost branches of the tree . in order to constitute an infinite horizontal ,",
    "the levels are glued by considering an infinite sequence of growing trees whose roots are set along an infinite vertical .",
    "the union of these trees is the whole hyperbolic plane .",
    "then the level  @xmath35 of a tree is the level  @xmath35 + 1 of the smallest tree of the sequence which contains it , see  @xcite .",
    "now , each branch of any tree can be a vertical .",
    "we restrict the choice to the branches issued from a yellow tile and which consists of yellow tiles only , see fig .",
    "[ hortandvert ] .",
    "it is important to notice that the fact that our verticals are rays only does not prevent them from constituting a * grid * with the horizontals we defined .",
    "we have the fact that in between two verticals starting from a horizontal  @xmath65 , new verticals appear as we go down from a horizontal to the next one , starting from  @xmath65 .",
    "we may ignore these new verticals if we do not need them . and",
    "so , these verticals with the piece of  @xmath65 and a piece of another deeper level at which we decide to stop constitute a figure which we may call a * quadrangle*. these quadrangles allow us to implement the pieces of circuitry described in section  [ railway ] . for the registers , it is enough to display such quadrangles in such a way that the quadrangles have a side along the same yellow branch of a tree .",
    "this is enough to see that we can consider the setting of fig .",
    "[ hypexample ] as enough for our purpose .",
    "this situation of the heptagrid can be transported to any grid @xmath0 with @xmath43 .",
    "the same definition of the mid - point lines allows us to transport the constructions .",
    "the difference with the heptagrid is that in @xmath0 , the larger  @xmath33 , the larger the number of sons for a node and so , the higher the exponential rate of the growth of a disc around a tile .",
    "later on , we shall illustrate our construction in the tiling @xmath66 , but we shall not represent it in poincar s model as we can see almost nothing in such a representation . instead , we shall use a symbolic representation with circles : a circle will represent a 13-gon and a common side of two 13-gons will be defined by a tangential contact between the circles representing the 13-gons .",
    "a common vertex to three 13-gons will appear as a kind of triangle between the tangency points of three circles which are pairwise tangent .",
    "as an example , fig .  [ treize ] represents a 13-gons with its neighbours .",
    "the present scenario is based on three ideas .",
    "one appeared in  @xcite .",
    "the previous implementations represented the tracks as a linear structure on which the locomotive appeared , the structure being defined by a colour , different from that of the background . in  @xcite , we introduced a new implementation of the tracks .",
    "this time , the track does not differ from the background : it is simply delimited by regularly dispatched milestones on both sides of the track . in this new representation",
    ", the locomotive was represented by a block of two contiguous cells , with two colours , different from that of the background . in  @xcite ,",
    "a new idea allowed us to establish the existence of a spatial two - state universal cellular automaton . with two states ,",
    "it is no more possible to use two colours for the locomotive .",
    "moreover , with a single cell , it is impossible to distinguish the front from the rear on the locomotive itself .",
    "this is why the locomotive was there reduced to a single cell , and it was now called a particle .",
    "the counterpart was to change the implementation of the tracks .",
    "it was defined by the fact that a track is now one - way .",
    "accordingly , in the cases when the tracks have to be crossed by the locomotive in both directions , the corresponding tracks are implemented as two one - way track : one in one direction , the other , in the opposite direction .",
    "this raises a change in the switches which are illustrated by fig .",
    "[ newswitches ] .    indeed ,",
    "as the flip - flop switch must be crossed actively only , it is implemented by one - way tracks only , see the red pattern of the memory switch in fig .  [ newswitches ] . due to its definition",
    ", the fixed switch has a passive one - way switch , see fig .",
    "[ newswitches ] and an active one - way track with no switch at all .    on the contrary ,",
    "the memory switch is the superposition of two switches : an active and a passive one .",
    "on one hand , the active switch is passive : it is in fact a * programmable * fixed switch .",
    "the selected track depends from the last passive passage of the particle .",
    "when it is fixed , the active switch is also fixed . on the other hand , the passive switch is in fact active : it may react to the passage of the particle .",
    "if the particle goes through the selected track , nothing happens .",
    "now , if it arrives through the non - selected track , then the switch changes the selected track to a non - selected one and conversely .",
    "but the switch also acts actively : it triggers a signal sent to the passive part in order to change the selection also there .",
    "thanks to the bridges in the hyperbolic @xmath12 space , this new idea was enough to go down to two states for a universal cellular automaton .",
    "now , for the plane , it is needed to find a new idea as crossings can not be avoided . and",
    "so , for this implementation , we introduce a new pattern which we call a * round - about * : it incorporates a motorway pattern to the railway circuits .",
    "the pattern deals with the crossing of two one - way tracks , see fig .",
    "[ rondpointsimple ] .    note that whether the particle arrives from  @xmath67 or from  @xmath64 to the round - about , it has to exit at the second track meeting the round - about .",
    "and so we have to count up to  2 .",
    "but we have two states only .",
    "the solution is the following : when the particle arrives at the round about , an additional particle is appended to it .",
    "this pair of consecutive particles goes on along the round - about .",
    "when it meets the first way going away or arriving to the round - about , the first particle vanishes and the second one follows the round about .",
    "this time , when a single particle arrives to a track which goes out from the round - about , the particle follows this track and so , it leaves the round - about on the right way .",
    "it is now not very difficult to define the crossing of two two - way tracks , which is illustrated in fig .",
    "[ rondpoint ] .",
    "note the symbolic representation used for the crossing of one - way tracks .",
    "we shall use it in our further representations of the switches as the memory switch will need them .    in the next subsection we thoroughly look at the configurations needed to obtain the expected behaviour of the particle .",
    "we first deal with the tracks in subsection  [ tracks ] , then with the crossings in subsection  [ crossings ] and then with the switches in subsection  [ switches ] .",
    "this study will allow us to construct the rules , a process of which an account is given in section  [ rules ] .",
    "from now on , we call tiles * cells*. most cells are in a quiescent state which we also call the * blank*. in the following figures of the paper , it is represented by a light colour , not necessarily the same in order to facilitate the understanding of the configurations . in our setting",
    "we have another colour which we call black but which will have several dark or bright colours in the figures .",
    "remember that cells are said to be neighbours if and only if they share a side .",
    "as already mentioned , the track is here implemented with milestones as in  @xcite . however , as the tracks must be one - way , and as the locomotive is a particle , represented by a single cell , the direction must be defined by the context visited by the particle : it can not be deduced from the particle itself .",
    "we have met this problem in  @xcite .",
    "it was solved in a simple way which can not be projected on the plane as , in most cases , the projection would map both ways on the single track .    in fig .",
    "[ trackcells ] , we illustrate the solution in the case of the tiling @xmath66 . for most of the tiles ,",
    "we have the configurations represented by the upper row of the figure . on one side",
    "we have the pattern for one direction while the other side illustrates the pattern for the other direction .",
    "a track consists in a sequence of such cells which in some sense follow a path of the tiling from one cell to another , see fig .",
    "[ voie1 ] .",
    "to go from a tile  @xmath29 to the tile  @xmath68 , we first take a shortest path  @xmath69 in the tiling going from  @xmath29 to  @xmath68 .",
    "if we consider the neighbours of the cells of the path which do not belong to the path , we can share these cells into two cells : one of them , say @xmath70 , is on one side of the path from  @xmath29 to  @xmath68 while the cells of the other set  @xmath71 are on the other side of the path , see fig .",
    "[ voie1 ] .",
    "now , all cells of  @xmath69 are milestones .",
    "they correspond to the black cell which is in between the cells  @xmath72 and  @xmath63 in the first row of fig .",
    "[ trackcells ] .    in fig .",
    "[ voie1 ] , say that the cells of  @xmath70 go from  @xmath29 to  @xmath68 .",
    "we can see that the patterns of cells  1 , 2 and  3 which belong to  @xmath70 correspond to the pattern defined by the left - hand side picture in the first row of fig .",
    "[ trackcells ] .",
    "we can also see that if we want that the particle goes from  @xmath68 to  @xmath29 along the track  @xmath71 , we have to use the pattern which is on the right - hand side of the first row of fig .",
    "[ trackcells ] .",
    "this can be seen by the small cells below cell  4 in fig .",
    "[ voie1 ] .",
    "now , in fig .",
    "[ voie1 ] , we can see that a cell of  @xmath70 has two consecutive milestones which are not compatible with the already considered patterns . for these particular cells ,",
    "we use the other patterns defined by the lower row of fig  [ trackcells ] .    accordingly , fig .",
    "[ voie1 ] illustrates how to define a general algorithm to define a two - way track going from a given cell of the tiling @xmath0 to another one .",
    "however , when a one - way track only is needed , we have some flexibility to tune the path using the same method as is illustrated by fig .  [ voie2 ] .    as fig .",
    "[ voie2 ] suggests , for a one way track , it is possible to use one or more cells of the shortest path to go from one given tile to another given one .",
    "the rules attached to the corresponding motions of the particle are given in section  [ rules ] .",
    "now , we are in the position to study the crossing of two tracks .",
    "thanks to what we have seen in subsection  [ tracks ] , especially with fig .",
    "[ rondpoint ] , it is enough to look at the crossing of two one - way tracks . following fig .",
    "[ rondpointsimple ] and the principle defined for the tracks in subsection  [ tracks ] , we may consider that the ring which materializes the round - about consists of cells which are around a single cell which call the * core*.    we can see an illustration of the configuration on fig .  [ crossconfig ] .",
    "the cells where the way meet with the round - about is called a * branching*. the cells in pink and pale orange colours mark the branchings .",
    "the figure illustrates the configuration as it is when the particle is away from it . in fig .",
    "[ crossing0 ] we can see a zoom which focuses our attention on a branching and its particular surrounding . on the zoomed image ,",
    "the pink cell is called  @xmath73 and the pale orange one is called  @xmath64 .",
    "we shall look on three situations regarding the zoomed   through the cell  @xmath74 , the yellow neighbour of  @xmath73 ;    - two contiguous particles arrive at  @xmath67 ;    - a single particle arrive at  @xmath67 .",
    "the second situation is a consequence of the first one : when the particle arrives at  @xmath73 , @xmath73  appends a new particle to the visiting one . consequently , at the next branching , we have two consecutive particles : this is the second situation . at this stage ,",
    "the second particle is cancelled so that at the next branching , a single particle arrives at  @xmath67 : this is the third situation .",
    "we can notice that while turning around the round - about , starting from any arriving , the second branching is the expected exit .",
    "let us look at what happens at each branching in these situations .",
    "the arrival of the particle to the round - about is illustrated by fig .",
    "[ crossing1 ] where we have a zoom at the concerned branching .    as can be seen in the figure ,",
    "the particle crosses  @xmath74 through which it arrives at  @xmath73 on the round - about .",
    "number the neighbours of  @xmath73 from  1 to  13 , neighbour  1 being the milestone which is common to all the cells of the round - about and the numbers being increasing while counter - clockwise turning around  @xmath73 .",
    "we shall do the same fro  @xmath64 , so that we shall denote the neighbours of these cells by @xmath75 and  @xmath76 respectively .",
    "the neighbour  @xmath77 is  @xmath64 and @xmath74  is @xmath78 .",
    "now , the occurrence of the particle at  @xmath73 triggers the change of  @xmath79 which becomes white .",
    "when the particle is at  @xmath73 , the cell can see that @xmath78 and @xmath79 are both white : it is the signal for the creation of the additional particle .",
    "this means that while the first particle is in  @xmath80 , @xmath73  is still black : @xmath73  returns to white the next time only . later on , both particles travel together along the round - about in the counter - clockwise direction .    accordingly ,",
    "both particles arrive at the next branching of the round - about .",
    "what now happens is illustrated by fig .",
    "[ crossing2 ] . due to the number of surroundings we have to define for the cells which play a particular role",
    ", we have to decide that @xmath81  is an ordinary cell of the tracks .",
    "note that @xmath81  is @xmath82 and that @xmath83 , which is a milestone for  @xmath81 , can see both  @xmath81 and  @xmath64 . so that @xmath83 can detect whether there are one or two particles arriving at the branching from the round - about .",
    "we decide that @xmath83 does not change if there is a single particle : as @xmath81 is an ordinary cell of the tracks , the motion will go on and the particle will leave the round - about . if @xmath83 detects two particles , then it changes from black to white .",
    "we say that @xmath83 flashes .",
    "this flash destroys the two particles at the next time .",
    "but at the next time , @xmath83 returns to black and @xmath84 flashes as it has witnessed the flash of  @xmath83 .",
    "the flash of  @xmath84 triggers a new particle in  @xmath73 .    in fig .",
    "[ crossing2 ] , we can see that @xmath83 flashes again after the flash of  @xmath84 : this is required by the rules which were devised globally , so that the flash is induced by a rule created for another context which also applies to this one by the rotation effect .",
    "once a particle is present in  @xmath73 , it goes on its way along the round - about , until it meets the next branching .",
    "as already mentioned , in this case , when the single particle arrives at  @xmath81 , @xmath83 detects that the particle is alone and so , it remains black .",
    "accordingly , the particle goes on its way on the tracks leaving the round - about : this is exactly what was expected . such a motion is illustrated by fig .",
    "[ crossing3 ] .",
    "we can now turn to the description of the configurations needed by the switches . as in the case of the crossing , we first present the configuration when the particle is at large which we call the * idle configuration * , see figure  [ idle_configs ] . later",
    ", we present several pictures illustrating the motion of the particle through the configuration with all the changes it induces with respect to the idle configuration .",
    "we shall successively look at the fixed switch , the flip - flop and the memory switch .",
    "the fixed switch and the flip - flop are simple switches : they both involve a single one - way switch .",
    "it is a passive switch in the case of the fixed switch , it is an active switch in the case of the flip - flop . in the memory switch",
    "we have a more complex structure : we have two one - way switches and one of them has an influence on the other .    the one - way switches have the same structure : three paths arrive to a centre . in the case of the fixed switch , there is no consequence after the passive crossing . in the case of the flip - flop , the active crossing only is implemented but the crossing induces a change .    as in  @xcite , the centre of the switch is a blank cell : it belongs to the tracks .",
    "but its milestones define a pattern which is very different from that of the cells of the tracks .",
    "figure  [ idle_configs ] show the patterns used to distinguish each kind of switch . in the fixed switch , the black cells around the centre of the switch are all milestones and the cells named @xmath67 , @xmath64 and  @xmath73 which represent the abutting tracks are ordinary cells of the tracks . in the flip - flop and in the memory switch",
    "we have new cells which we call * sensors * and * controllers*. we shall study them in subsubsections  [ flip_flop ] and  [ memory ] .    in the figures illustrating the switches , we represent only one case : the case when the selected track is the left - hand side one .",
    "now , we shall consider that the particle arrives at a switch .",
    "each case is examined in an appropriate sub - subsection .",
    "the crossing of a fixed switch is illustrated by fig .",
    "[ fixed_motion ] .",
    "it is a passive crossing where the selected track is not mentioned as in such a crossing , the side from where the particle comes does not matter .",
    "the matter is only for the selected track in the active crossing of the switch .",
    "now , fig .",
    "[ newswitches ] suggests that we might choose the active track in such a way that the active tracks do not cross passive ones .",
    "this is not true .",
    "if we fix an order for the directions in two - way tracks , it may happen that the active tracks has to cross passive ones .",
    "this is not difficult to implement as in this case , the crossing involves a one - way crossing as illustrated by fig .",
    "[ fixed2ways ] .",
    "we note that in fig .  [ fixed2ways ]",
    ", the centre of the switch must stand at a large enough distance from the crossing : 6  cells from the centre of the switch to the centre of the round - about is a secure enough distance .    from fig .",
    "[ fixed_motion ] , we note that all black cells around the centre of the fixed switch can be simple milestones . as we shall see in section[rules ] , the motion rules of the tracks will be enough to ensure that the crossing can be performed without additional marking : that of the central cell of the switch is enough .",
    "this will spare us a few patterns which will be useful to distinguish the sensors and controllers of the flip - flop from those of the memory switch , remembering that in the latter switch we have two one - way ones which differ between each other .",
    "we have seen the idle configuration of a flip - flop in fig .",
    "[ idle_configs ] .",
    "it also appear as the first picture in fig .",
    "[ flip_flop_motion ] which illustrates the motion of the particle through the flip - flop . here",
    "two , we denote by  @xmath67 , @xmath64 and  @xmath73 the cells of the tracks in contact with the centre of the switch . here , it is important to specify the role of each cell .",
    "the cell  @xmath67 is the cell from which the particle arrives at the switch .",
    "it leaves the switch either through the cell  @xmath64 or through the cell  @xmath73 , depending on which is the selected track .    in the configurations of fig .",
    "[ idle_configs ] and fig  [ flip_flop_motion ] , we mark the non - selected track instead of the selected one .",
    "the difference between  @xmath64 and  @xmath73 is that there is an additional black neighbour in the cell of the non - selected track : the lack of this mark indicates that the particle must enter this cell ; the presence to this mark forbids the particle to enter the cell .",
    "this can be seen in the mentioned figures : the mark is a small cell neighbouring the cell  @xmath80 .",
    "if @xmath85  is the central cell , the cells possibly supporting the marks are @xmath86 and  @xmath87 .",
    "this means that one of these two cells is black while the other is white .",
    "as @xmath73  is @xmath88 and @xmath64  is @xmath89 , @xmath80 can see both @xmath86 and  @xmath73 as well as both @xmath87 and  @xmath64 .",
    "the particle enters the side where the mark is missing .",
    "this means that @xmath80  is in position to detect the presence of the mark in the appropriate side .",
    "when this is the case , @xmath80  flashes and , at the next time , @xmath86 and  @xmath87 both change their state .",
    "this automatically changes the side of the selected track as required .",
    "the last configuration of fig .",
    "[ flip_flop_motion ] is the idle one where the selected track is the righ - hand side one .",
    "the idle configuration of a memory switch is very different from the already studied configurations of the fixed and the flip - flop switches as can already be noticed from fig .",
    "[ idle_configs ] . as this switch involves both a passive one - way switch and an active one - way switch , it might seem possible to simply take copies of the previous switches to perform the needed action .",
    "this is not possible for several reasons .",
    "first , the passive switch has to send a signal to the active one , which is a difference with the fixed switch . and",
    "so , the cell  @xmath90 of the passive memory switch can not be the cell  @xmath80 of the fixed switch .",
    "moreover , the active switch of the memory switch is in fact _ passive _ : the selected track is fixed as long as there is no passive crossing on the other one - way switch .",
    "this means that the active switch should be viewed as a * programmable * one - way fixed switch . and",
    "so , in this case , the cell  @xmath80 in the active one - way switch of the memory switch acts as a controller while @xmath86 and  @xmath91 are flexible markers .",
    "an active passage of the particle is illustrated by fig .",
    "[ memory1 ] .",
    "we can see that nothing is changed in the markers @xmath86 and  @xmath91 .    for what is the passive one - way switch",
    ", it has to detect whether a passage occurs through the selected or through the non - selected tracks .",
    "this can be detected by the cell  @xmath90 which can see at the same time the cells  @xmath92 , @xmath62 , @xmath93 and  @xmath94 .",
    "if @xmath92  is black and @xmath94 is white , or if @xmath62 is black and @xmath93 is white , then it is a passage through the selected track .",
    "no change of state occurs in @xmath93 or @xmath94 and the particle leaves the switch through  @xmath95 .",
    "this situation is illustrated by fig .",
    "[ memory2 ] .",
    "if @xmath95 and @xmath94 are both black or if @xmath96 and @xmath93 are both black , then @xmath90 must flash : this triggers the change of state in both @xmath93 and  @xmath94 and it also sends a particle to  @xmath80 through @xmath97 .",
    "this second particle travels through two crossings to  @xmath98 . when @xmath98 is black , @xmath80  flashes which triggers the change of state in both @xmath86 and  @xmath91 .",
    "this is illustrated by fig .",
    "[ memory3 ] .",
    "note that the change of selection occurs in the figure and also , note the delay of the transmission of the signal from  @xmath97 to  @xmath98 .",
    "the actual delay can be made less than the one given in the figure .",
    "the last configuration in fig .",
    "[ memory3 ] is the idle configuration of memory switch where the selected track is the right - hand side one .",
    "we can now turn to the rules : in section  [ rules ] we look at the case of the tiling @xmath66 ; in section  [ rulesgene ] , we uniformly define the rules for the tilings @xmath0 when @xmath14 .",
    "it is clear that the solution for @xmath99 can be extended to the case @xmath0 for any @xmath10 .",
    "however , the solution for @xmath14 can be given a more simple expression which allows us to check its correctness easily : this will be ween in section[rulesgene ] .",
    "# 1 # 2 # 3 # 4 # 5 # 6 # 7    the set of rules of the automaton are displayed as tables in subsections  [ trackrules ] , [ crossrules ] and  [ switchrules ] . here ,",
    "we indicate how the rules where computed by a computer program and how the rules are represented and dispatched in the table .",
    "after a precision to section  [ hypca ] about the format of the rules , we follow the discussion of subsections  [ tracks ] , [ crossings ] and  [ switches ] in order to establish the rules for all possible situations .",
    "we remind that the format of the rules is the one introduced in section  [ hypca ] .",
    "first , we look at the rules in @xmath66 and then in @xmath0 .",
    "this means that a rule is presented as a word of the form :    we remind that @xmath56 is the current state of the cell , that @xmath57 is the state of the neighbour  @xmath58 and that @xmath100 is the new state of the cell after the rule has been applied to it .    in all this section and in the tables of subsections  [ trackrules ] ,",
    "[ crossrules ] and  [ switchrules ] , the states of the automaton are w and b. we decide that w is the quiescent state , which means that the rule is in the table",
    ". we shall also write which will be called a * condensed format*. similarly we decide that any neighbourhood with less than three rules does not change the current state .",
    "this induces the following rules :    where x @xmath101 @xmath102b , w@xmath103 .",
    "also , a rule , with y @xmath101 @xmath102b , w@xmath104 means that both rules and are in the table .",
    "note that the rules and are the same under the rotation invariance condition .",
    "the just described rules are not listed in the tables of subsections  [ trackrules ] , [ crossrules ] and  [ switchrules ] which contain all the other rules for @xmath66 in a condensed notation .    for the general case",
    ", we shall denote the rules as where x , y  @xmath101  @xmath102w , b@xmath103 and z  @xmath101  @xmath102w , b@xmath105 .",
    "as previously , the rules and , with x as before and z  @xmath101  @xmath102w , b@xmath105 with @xmath106z@xmath107 are in the table , @xmath108 being the number of occurrences of  b in  z. we say that is the * context * of the rule .    the rules for the case @xmath66 were defined and checked with the help of a computer program .",
    "in particular , the program checked the rotation invariance of the rules .",
    "this was performed as described in  @xcite .",
    "the principle is as follows : in a rotation invariant cellular automaton , if a rule belongs to the table of the automaton , the rule also belongs to the table for any circular permutation  @xmath69 on the numbers from  1 up to  13 . in this case",
    ", we say that is a * rotated image * of the rule .",
    "now , if we consider the contexts , for all circular permutations  @xmath69 , there is a * minimal * one with respect to the lexicographic order .",
    "the rule is called the * minimal rotated form * of for the @xmath69 which realizes the minimal rotated context .",
    "now , it is clear that two rules are rotated images of each other if and only if they have the same minimal rotated form . from this",
    ", we easily deduce an algorithm for checking the coherence of any new rule introduced in an already coherent set of rules .",
    "the programming of the algorithm raises no difficulty .",
    "the computer program was written in  @xmath109 .",
    "the program uploads the initial configuration of the crossings and of the switches from a file and puts the corresponding information into a table  0 . in this table",
    ", each row represents a cell .",
    "the entries of the row indicate the coordinates of the neighbours of the cell as well as the states of the cell and of its neighbours .",
    "the program also contains a copy of table  0 with no state in the cells which we call table  1 .",
    "the set of rules is in a file under an appropriate format , close to the one which was just depicted .    during the construction of the set of rules , the program works as follows .",
    "first , the program reads the file of the rules which , initially contains the rule @xmath110w@xmath111@xmath110 which says that a cell in the quiescent state whose neighbours are all quiescent remains quiescent .",
    "the program scans the cells of the list one after the other .",
    "it takes the context  @xmath112 of the considered cell  @xmath113 in table  0 .",
    "then , it compares  @xmath112 with the contexts of the rules of the file .",
    "if it finds a match , it copies the new state of the rule at the address of  @xmath113 in table  1 , under column  0 .",
    "if it does not find a match , it asks for a new rule which the user writes into the file . to help the user",
    ", the program indicates the context of the cell .",
    "the user enters the new state only",
    ". then the program resumes its computation : it reads again table  0 from the initial configuration and performs the computation as far as possible . if it can compute the new state of all cells of table  0",
    ", it completes table  1 by computing the new states of the neighbours of each cell .",
    "when this task is over , the program copies table  1 onto table  0 : a new step of the computation of the cellular automaton can be processed .",
    "this cycle is repeated until no new rule is required and until the fixed in advance number of steps is reached .",
    "now , when a new rule is entered by the user on a cell  @xmath113 , it may happen that the new rule is in conflict with the previously entered rules .",
    "this happens when there is a rule  @xmath114 whose context is a rotated form of the context of  @xmath113 , but the state suggested by the user is not the new state of the rule . in this case",
    ", the program stops with an error message which also displays the rule with which the program have found a mismatch .",
    "if the rule constructed on the context of the cell and the state indicated by the user is a rotated form of an already existing rule , it is appended to the set of rules .",
    "when the program can be run without asking a new rule nor indicating any error , we know that the set of rules is computed .    in the display of the tables of subsections  [ trackrules ] , [ crossrules ] and  [ switchrules ] , we assume that the minimal rotated forms of the rules are pairwise distinct .",
    "this means that on the thirteen rotated forms which should be present for each rule , we keep only those needed by the tested configurations .",
    "we find 207  rules and most of them are rotation independent from the others .      for each configuration of the crossings and the switches",
    ", the number of cells to explore would be rather important and only a very few number of them is supposed to change during the computation . and so , the idea is to consider only the set of cells which are possibly changing .",
    "we have a two - dimensional table .",
    "the first column defines the set of cells under inspection by the program .",
    "this defines these sets as an ordered list  @xmath24 from  1 to  @xmath115 , the number of elements of  @xmath24 .",
    "each row corresponds to the same cell of this set .",
    "it contains the cell itself and the thirteen neighbours of the cell .",
    "for the cell and each neighbour , the corresponding entry contains two fields : _ num _ and _",
    "state_. for a cell , considered as neighbour  0 of its row , _ num _ is the number of the cell in @xmath116 $ ] . for a neighbour , _ num _  @xmath117  0 if the neighbour never changes its state .",
    "otherwise , the considered neighbour is a cell of the list , say whose number is  @xmath118 , so that in this case , _ num _  @xmath117  @xmath118 .",
    "this table allows us to easily apply the rules to any cell  @xmath113 .",
    "it is enough to compute the minimal form of the rule and also to compute the minimal context defined by the state of  @xmath113 and those of its neighbours : it is enough to take them in the row associated to  @xmath113 .",
    "we look in the table after a rule such that the context of its minimal form matches the minimal context of the neighbours of  @xmath113 .",
    "when the rule is found , the new state of  @xmath113 is found .    before turning to the various parts of a configuration",
    ", we shall divide the rules which we shall define into two classes .",
    "first , we consider the * conservative * rules which are applied to a cell without changing its state .",
    "this is the case , in particular , for the cells of an idle configuration .",
    "the rules applied to each cell must not change the state .",
    "the other rules , which we call * active * , do change the state of the cells to which they are applied .",
    "this is in particular the case of the rules which apply to cells directly connected to the motion of the particle : we call them the * motion * rules .",
    "we can now turn to the various configurations we have to study .",
    "looking at fig .",
    "[ trackcells ] , we first define its conservative rules . the milestones are applied the rule @xmath119 as well as the rule @xmath120 and even the rule @xmath121 for the case when the cell has two supporting milestones .",
    "there are four conservative rules for a cell of the tracks itself , as the number of pictures in fig .",
    "[ trackcells ] :    indeed , the four patterns of fig .  [ trackcells ] are rotationally different as already noticed , so that the minimal forms of the rules are also different as we can now see .    for the white neighbours of the cell and for the white neighbours of the milestones ,",
    "the rules are : @xmath122 , @xmath123 and @xmath124 .",
    "now , taking into account the definitions of the cells , we have the following motion rules , first for one direction and then , the two last lines , for the opposite direction :    taking the same order for the non idle configurations , we can display them as follows :    now , we have to append a few rules for the case when two contiguous particles travel on the tracks , which happens for instance in the tracks which runs along a round - about .    in these situations , these cells are black and there is another black cell , either at the entrance of the particle . as mentioned in the caption of fig .",
    "[ trackmove ] , the entrance of a cell  @xmath113 of the tracks is @xmath125 or  @xmath126 in one direction , while it the output is  @xmath127 . in the other direction ,",
    "the entrance is @xmath128 or  @xmath129 while the output is @xmath129 or  @xmath127 respectively . in the first case ,",
    "the cell remains black , in the second one , it turns black to white .",
    "it is not difficult to see that the above rules are in a minimal form , assuming that b  @xmath130  w. as an easy corollary , they are rotation independent .",
    "the flexibility of the way with which we can define tracks shows us that there is no need of further simulations in order to check the correctness of these rules .",
    "this time , we deduce the rules from the illustrations given in fig.[idle_configs ] and fig.[crossing0 ] .",
    "the figures already show that most of the conservative rules are induced by the rules of the form xzx where @xmath131 and @xmath132 .    here ,",
    "the active rules are those of the tracks , in particular @xmath67 , @xmath64 , @xmath73 , @xmath80 , @xmath74 , @xmath81 , @xmath83 , @xmath84 and @xmath79 , see fig .",
    "[ crossing0 ] and subsection  [ crossings ] . as @xmath67 and  @xmath80",
    "are cells of the tracks , the rules applying to them have already be seen in subsection  [ trackrules ] .",
    "now , @xmath64 and  @xmath73 have particular surroundings as they have a particular behaviour with respect to cells of the tracks . also , @xmath74 and",
    "@xmath81 are cells of the tracks but at least one of their milestones is not permanently black : it may flash at a definite event .",
    "this means that the milestone becomes white at a certain time , turning back to black at the next time .",
    "of course , @xmath83 , @xmath84 and  @xmath79 have to be studied separately .    in order to find out the rules , we indicate the neighbours of the cell according to what was said above and then , we explain the construction of the rules with the help of an appropriate table .",
    "the rows of the table follow the trajectory of the particle : the row below the row associated to time  @xmath133 is associated to time  @xmath133 + 1 .",
    "we decide that the first row is always the conservative rule associated to the considered cell .",
    "it is considered that the last rule is followed by the conservative rule so that the conservative rule appears only once in the representation of a motion .",
    "act # 1 eni # 2 eno # 3 nov # 4    as an example , table  [ track_tab ] represents such a table for a simple cell of the tracks .",
    "accordingly , the table has four rows and we can see that the particle arriving near  @xmath113 visits  @xmath125 at time  @xmath133 + 1 , visits  @xmath113 at time  @xmath133 + 2 and then visits  @xmath127 at time  @xmath133 + 3 .",
    "it is clear that at times  @xmath133 and  @xmath133 + 3 the conservative rule applies .",
    "we shall follow this convention in all tables . moreover ,",
    "in all tables , we indicate in bold characters the particle as well as the flashes of the sensors and the controllers .",
    "also , in order to better handle the rules , we give each of them the number it has in the program .",
    "our next table is the table devoted to the cell  @xmath64 , see table  [ cross_tabb ] .",
    "the crossing of a cell requires in fact three times as previously . here",
    ", however , the possible presence of a particle adds one more step and the flashes of two cells brings in two additional steps .    # 1 # 2 # 3 # 4 # 5 # 6 # 7 to 15pt#1 to 15pt#2 to 15pt#3 to 15pt#4 to 15pt#5 to 15pt#6 to 15pt#7 # 1 # 2 # 3 # 4 # 5 # 6 # 7 # 8 to 15pt#1 to 15pt#2 to 15pt#3 to 15pt#4 to 15pt#5 to 15pt#6 to 15pt#7 to 15pt#8    note that in the part -ii- of the table , the last time is triggered by the new particle created in  @xmath73 after the destruction of the two particles which passed through  @xmath81 : as @xmath64 and  @xmath73 are in contact , this rule is also needed .",
    "we can see in table  [ cross_tabb ] that the cell  @xmath64 is mainly concerned when one or two particles arrive to the branching from the round - about .",
    "it witnesses  @xmath81 and also the two sensors @xmath83 and  @xmath84 which discriminate the distinction between the two cases and rule the situation when a new particle is generated for  @xmath73 .",
    "rule  12 can see that the conditions for the flashing of  @xmath83 are present and rule  19 witnesses the flash . as  @xmath73 can be seen from  @xmath64 ,",
    "@xmath64  is also a witness of the creation of the single particle which goes on on the round - about .",
    "this is witnessed by rule  14 .",
    "the flashes of  @xmath83 and @xmath84 are clearly visible : rule  19 and  14 for  @xmath83 , rule  8 for  @xmath84 .",
    "we can see that the cell  @xmath73 is not very much concerned by the case when a single particle arrives to the branching from the round about .",
    "the cell is mainly concerned when a particle arrives at the round - about from outside and when two particles arrive to the branching from the round - about .    in the first case",
    ", we can see that two particles are created , rules  16 and  17 .",
    "rule  16 transfers the particle from  @xmath74 to  @xmath73 .",
    "rule  17 creates a new particle as it can see the flash of  @xmath79 .",
    "next , rules  12 and  21 control the motion of two particles together .",
    "when two particles arrive from he round - about , @xmath73 is concerned by the creation of the single particle .",
    "we note that rule  22 is applied twice : it simply witnesses that two particles pass through  @xmath64 .",
    "the flash of  @xmath84 allows rule  18 to create the single particle .",
    "rules  20 and  21 act as simple motion rules adapted to the context of  @xmath73 .",
    "note that rule  19 appeared already in table  [ cross_tabb ] . here , in table  [ cross_tabb ] it is a conservative rule while in table  [ cross_tabb ] it allows us to witness the flash of  @xmath83 .",
    "in fact , the two different forms of the rule are compatible because they are rotated forms of each other .    in table",
    "[ cross_tabe ] , we can see that rule  91 is the conservative rule attached to the configuration of the neighbours around  @xmath74 .",
    "when a particle arrives to the round - about from the tracks , it runs over  @xmath74 . in the caption of the table below the numbers of the neighbours",
    ", we can see that @xmath134  is a cell of the track arriving to  @xmath74 .",
    "in fact , @xmath74 has the configuration of an ordinary cell of the track and rule  94 is simply a rotated form of the first rule in table  [ track_tab ] .",
    "now , rules  95 and  181 convey the particle to  @xmath74 and then to  @xmath73 , see also rule  16 in table  [ cross_tabc ] .",
    "this makes  @xmath79 flash which is witnessed by rule  199 which triggers the creation of the second particle in  @xmath73 .",
    "rule  96 also witnesses the second particle in  @xmath73 .    in table",
    "[ cross_tabf ] , the conservative rule is rule  2 .",
    "this explains why we said that cell  @xmath81 is almost a cell of the tracks .",
    "we said almost because one of its milestones is in fact a sensor : it is the cell  @xmath83 which can see both  @xmath81 and  @xmath64 and thus , is able to distinguish the case when two particles arrive at  @xmath64 from the case when a single one arrives at  @xmath64 .",
    "this is witnessed by rule  4 for the presence of two particles on the round - about , while rule  44 witnesses the flash of  @xmath83 .",
    "the second flash of  @xmath83 is witnessed by the rule  47 .",
    "the second part of the table is devoted to the case when a single particle arrives at  @xmath64 . in this case , the rule  58 witnesses that there is a single particle .",
    "we can notice that in this case , as @xmath83  remains black , the cell  @xmath81 behaves as an ordinary cell of the tracks .",
    "note that the rules are different from those related to rule  91 .",
    "indeed , in both cases we have rules for cells of the tracks but one cell is in one direction while the other cell is in the opposite one .",
    "table  [ cross_tabb11 ] is devoted to the rules needed by the cell  @xmath83 .",
    "this cell shares with  @xmath81 the fact that it is not concerned by the arrival of a particle to the round - about from outside .",
    "in fact , as explained in section  [ implement ] , the role of this cell is to detect the occurrence of one or two particles to  @xmath81 .",
    "rule  24 witnesses the arrival of the particle at  @xmath64 and rule  26 can see that there is a particle at  @xmath81 and a particle at  @xmath64 .",
    "this is why the rule makes  @xmath83 flash .",
    "rule  27 witnesses this flash and rule  167 witnesses the consequence of this flash : both the cancellation of the particles on the tracks which go around  @xmath83 and the flash of  @xmath84 caused by the previous flash of  @xmath83 .",
    "and the rule makes  @xmath83 flash again .",
    "the reason is that rule  167 is also used in another context where it makes a black cell flash in the memory switch : see further table  [ mm_tabi ] .",
    "when a single particle arrives at  @xmath64 , @xmath83 can see the particle travel on four cells of the tracks which are its neighbours , in consecutive positions : @xmath64 , @xmath81 and the cells called  @xmath135 and  @xmath136 in the caption of the table under the numbers of the neighbours .",
    "we can see that the particle visits the four cells successively , the one after the other .",
    "it is the point to note that the branching is different , depending on whether the branching concerns tracks which arrive at the round - about or tracks which leave the round - about .",
    "if the tracks arrive at the round - about , the arrival at the round - about is  @xmath73 and the tracks pass through  @xmath74 . in this case",
    ", there is no need to define cells of the tracks after  @xmath135 and  @xmath136 which are needed by the test for discriminating the number of arriving particles . on the contrary ,",
    "when the branching concerns tracks which leave the round - about , the neighbour of  @xmath74 need not be a cell of the tracks and the tracks which leave the round - about goes through  @xmath64 , @xmath81 , @xmath135 and  @xmath136 .",
    "table  [ cross_tabb12 ] deals with the cell  @xmath84 and as this cell is a common neighbour of  @xmath64 and  @xmath73 , it is concerned by all the cases we have to consider for a crossing . and",
    "so , we have the splitting into three cases already seen in tables  [ cross_tabb ] and  [ cross_tabc ] .",
    "the table is a bit shorter than table  [ cross_tabc ] for instance .",
    "the conservative rule for the cell  @xmath84 is rule  32 .",
    "it is of course different from the that of  @xmath83 .",
    "we can notice that the pattern attached to the neighbourhood of  @xmath84 consists of almost black cells only for the cells which are invariant .",
    "in the first part of the table , the particle arrives at the round - about through the cell  @xmath74 .",
    "this is witnessed by rule  34 and rule  35 witnesses the presence of the particle at  @xmath73 .",
    "the rule is applied twice as a second particle is created in  @xmath73 .    in the second part ,",
    "the role of  @xmath84 is important : it conveys the signal sent by  @xmath83 that two particles arrived to  @xmath73 , in order to trigger a new particle which , from  @xmath73 , will go to the next branching .",
    "rule  36 applies twice as two particles arrive at  @xmath64 .",
    "rule  37 recognizes the flash of  @xmath83 and makes @xmath84 flash also .",
    "when @xmath83  flashes again , the new particle is in  @xmath73 : this allows rule  38 to cancel the flash of  @xmath84 and to ignore the second flash of  @xmath83 .    in the third part ,",
    "as @xmath83 always remains black , rule  36 simply witnesses that the particle passed through  @xmath64 .",
    "table  [ cross_tabc5 ] gives the rules for  @xmath79 during a crossing .",
    "this time , the cell is a neighbour of  @xmath73 but it can not see  @xmath64 neither  @xmath84 . and",
    "so , it is concerned by the arrival of the particle at the round - about from the tracks only and by the arrival of two particles at  @xmath64 . in the latter case",
    ", this triggers an ultimate creation of a particle in  @xmath73 , a feature that  @xmath79 can detect .",
    "consequently , the table has two parts .    in the first part of the table",
    ", we can see that the conservative rule is rule  39 .",
    "it indicates a new pattern for the black neighbours which remain invariant .",
    "rule  40 detects the arrival of the particle at the cell of the tracks which is just before  @xmath74 .",
    "rule  41 detects the presence of the particle in  @xmath74 so that the rule makes  @xmath79 flash when the particle is in  @xmath73 .",
    "this is witnessed by rule  42 which can see that the particle is in  @xmath73 and which makes  @xmath79 turn back to black .",
    "now , this flash of  @xmath79 triggers the presence of a new particle in  @xmath73 .",
    "the particle which was seen by rule  42 is now further on the round - about so that the particle which is seen in  @xmath73 by rule  43 is the second one .",
    "the rule simply witnesses this fact and the state of  @xmath79 is unchanged .",
    "the second particle follows the first one on their way to the next branching .    in the second part",
    ", the particle witnesses the creation of the particle in  @xmath73 : again rule  43 applies .",
    "the particle goes on its way to the next branching .",
    "now we have seen that all rules of tables  [ cross_tabb ] , [ cross_tabc ] , [ cross_tabe ] , [ cross_tabf ] , [ cross_tabb11 ] , [ cross_tabb12 ] and  [ cross_tabc5 ] realize the implementation of the scenario described in  subsection  [ scenario ] .",
    "this subsection deals with the fixed switch and with the flip - flop .",
    "we first look at the first one , a very simple situation , and then at the second one , a bit more complex situation , involving many cells , as in the case of the crossings .",
    "table  [ fixb_tabb ] gives the rule for the cell  @xmath64 when the particle goes through  @xmath64 , see fig.[idle_configs ] and fig.[fixed_motion ] .",
    "we note that the conservative rule is rule  91 : this rule is also the conservative rule of  @xmath74 in the crossings .",
    "the reason is that it is a cell of the tracks and that it is oriented like  @xmath74 .",
    "the difference with  @xmath74 is that here , the black cells of the idle configuration are milestones",
    ". they always stay black .",
    "the table simply involves ordinary motion rules .",
    "the rules for  @xmath73 , when the particle goes through  @xmath73 , are given by table  [ fixc_tabc ] .",
    "this time the conservative rule is rule  2 . here too , we can see purely motion rules .",
    "table  [ fix_tabo ] gives the rules for the cell  @xmath63 which is the central cell of the switch : the three one - way tracks meet there .",
    "it is better to consider that the tracks coming from  @xmath64 and  @xmath73 merge at  @xmath63 from where they constitute a unique track leaving the switch through  @xmath67 .",
    "when the particle comes through  @xmath64 , rule  101 attracts the particle to  @xmath63 .",
    "rule  98 witnesses that the particle leaves the cell and rule  99 confirms that the leaving happens through  @xmath67 .",
    "when the particle comes through  @xmath73 , this time rule  100 attracts the particle to  @xmath63 .",
    "once it is in  @xmath63 , the same rules , 98 and  99 apply which witness the leaving of the particle from the switch through  @xmath67 .",
    "note that here , the conservative rule is rule  97 and that the pattern of the neighbours is very different from the one which we have met up to now",
    ".    we do not give the rules for  @xmath67 : it is an ordinary cell of the tracks and the rules for it have already be given . in order to complete the set of rules",
    ", we have to check the rules for  @xmath64 and  @xmath73 when the particle crosses the switch from the other side .",
    "this is done by table  [ fix_passbc ] : we can see that the involved rules have already been used in table  [ fixb_tabb ] for rules  94 and  96 and in table  [ fixc_tabc ] for rules  2 and  5 .",
    "we now turn to the rules for the flip - flop , a more complex structure than that of the fixed switch .",
    "it relies on the figures we have seen in the study of this switch , see fig .",
    "[ idle_configs ] and fig .",
    "[ flip_flop_motion ] .",
    "remember that in this switch , outside the cells  @xmath67 , @xmath64 , @xmath73 and  @xmath63 already considered in the fixed switch , which are cells on the tracks , we have two sensors , @xmath137 and  @xmath138 and a controller  @xmath80 . here , @xmath67  is an ordinary cell of the track ,",
    "so there is no need to give the concerned cells : we have already seen them .",
    "now , for  @xmath64 and  @xmath73 , they are not ordinary cells of the track as the sensors are necessary one of their neighbours . as there must be an exchange between the states of the sensor , the simplest way to implement",
    "this is the situation indicated in fig .",
    "[ idle_configs ] and fig .",
    "[ flip_flop_motion ] .",
    "this entails that here , @xmath64 and  @xmath73 have a specific pattern .",
    "this is a fortiori the case for  @xmath80 , @xmath137 and  @xmath138 .",
    "this time , we start with the rules for  @xmath63 given by table  [ ff_tabo ] .",
    "we can see that the conservative rule for  @xmath63 is rule  51 which also differs from the configuration induced by rule  94 which is the idle configuration of the fixed switch .",
    "the particle arrives by  @xmath67 as witnessed by rule  53 .",
    "the rule attracts the particle to  @xmath63 and rule  52 witnesses that it leaves  @xmath63 .",
    "when appropriate , rule  54 shows that the particle leaves  @xmath63 through  @xmath73 and rule  55 that it leaves through  @xmath64 .",
    "the difference can not be directly detected by  @xmath63 : the selection is performed by  @xmath64 and  @xmath73 themselves as we have seen in subsubsection  [ flip_flop ] .",
    "tables  [ ffb_tabb ] and  [ ffc_tabb ] show the rules for the cell  @xmath64 while tables  [ ffc_tabc ] and  [ ffb_tabc ] show the rules for the cell  @xmath73 .",
    "we shall first study what happens for a cell which is not on the selected path for the particle .",
    "this means that for this cell , the sensor is black : @xmath137  is black if @xmath64  is not selected while @xmath138  is black if @xmath73  is not selected .",
    "consequently , we first look at tables  [ ffb_tabb ] and  [ ffc_tabb ] .",
    "we can see that the conservative rule is rule  66 for both  @xmath64 and  @xmath73 . however , the place of the common neighbours , here  @xmath63 and  @xmath80 is not the same as clear from the tables .",
    "rule  67 for  @xmath64 and rule  76 for  @xmath73 witness the occurrence of the particle at  @xmath63 .",
    "now , at the next time , the particle disappears : it went to  @xmath73 in table  [ ffb_tabb ] and to  @xmath64 in table  [ ffc_tabc ] .",
    "this is why the conservative rule  66 applies in both cases .",
    "now , as @xmath80  has seen the particle in its appropriate place , it flashes , which is witnessed by rule  63 for  @xmath64 and rule  72 for  @xmath73 .",
    "the flash of  @xmath80 make both  @xmath137 and  @xmath138 change their states .",
    "this is witnessed by rule  61 for  @xmath64 and rule  70 for  @xmath73 .",
    "note that these rules are the conservative rules for  @xmath64 and  @xmath73 respectively when the sensor is white .",
    "this is what we can see in the first row of tables  [ ffc_tabb ] and table  [ ffb_tabc ] .",
    "we are know in the case when @xmath64 or  @xmath73 is on the selected tracks .",
    "as previously , the particle occurs in  @xmath63 , which is witnessed by new rules , 65 and  74 respectively which make the particle enter the cell .",
    "rules  62 and  71 make the particle leave  @xmath64 or  @xmath73 , respectively , and to go on on the selected tracks .",
    "this is witnessed by rules  64 for  @xmath64 and  73 for  @xmath73 which also witness the flash of  @xmath80 .",
    "now , as @xmath137 and  @xmath138 both change their states , which is witnessed by rule  66 in both cases , we find again the idle configuration of the previous tables with , of course , the same rule .",
    "now , we can turn to  @xmath80 , the controller of the flip - flop , making the sensors change their states when the particle has taken the selected tracks .",
    "the table for the rules of this cell is table  [ ff_tabd ] .",
    "when the selected track is  @xmath73 , @xmath64 respectively , see first , second part of table  [ ff_tabd ] , respectively , the conservative rule is rule  80 , rule  78 respectively . then rule  82 , rule  83 , respectively , witnesses the occurrence of the particle in  @xmath63 .",
    "then rule  84 , rule  85 , respectively , witness the entrance of the particle on the right tracks , @xmath73 or  @xmath64 , respectively .",
    "both rules make  @xmath80 flash .",
    "then , rule  81 , rule  79 , respectively , make the cell return to black .",
    "then , rule  78 , rule  80 , witness the change of states in both  @xmath137 and  @xmath138 .",
    "accordingly , we have the conservative rules which we noted at the initial step .",
    "we conclude this subsection with the rules for  @xmath137 and  @xmath138 , see tables  [ ff_tabh ] and  [ ff_tabk ] respectively .",
    "as we know from subsections  [ scenario ] and  [ flip_flop ] , these cells behave as markers of the non - selected tracks .",
    "if the marker is black , the access to its neighbour belonging to the path is forbidden for the particle .",
    "this what we have seen on tables  [ ffb_tabb ] , [ ffc_tabc ] . when the marker is white , the access to its neighbour belonging to the path is performed when the particle is in  @xmath63 .",
    "we have seen the appropriate rules in tables  [ ffb_tabc ] and  [ ffc_tabb ] .",
    "we also have seen in table  [ ff_tabd ] that the flash of  @xmath80 triggers the change of state in both  @xmath137 and  @xmath138 .",
    "and so , we have to complete the set of rules by the rules especially dedicated to these cells .    in the first part of table  [ ff_tabh ] , the conservative rule is rule  87 .",
    "as the state of  @xmath137 is black , the particle can not go to  @xmath64 , so that it goes to  @xmath139 . accordingly",
    ", the column devoted to  @xmath64 remains with w in this part of the table .",
    "rule  90 witnesses the flash of  @xmath80",
    "so that it makes the state of  @xmath137 change to white : rule  86 is the conservative rule associated to this state , as confirmed by the first row in the second part of the rules .    in the second part of table  [ ff_tabh ] , where the conservative rule is rule  86 ,",
    "as the state of  @xmath137 is white , the particle can not go to  @xmath73 as it goes to  @xmath64 when it is present at  @xmath63 .",
    "the entrance to  @xmath64 is witnessed by rule  88 .",
    "rule  89 detects the flash of  @xmath80 making the sate of  @xmath137 change to black .",
    "rule  87 keeps this situation as it is the conservative rule for  @xmath137 when its state is black .",
    "similarly , table  [ ff_tabk ] gives the rule for  @xmath138 which is the marker of the selection / non - selection of the tracks whose initial cell is  @xmath73 .",
    "we can see that the idle configuration is different from that of  @xmath137 .",
    "they both have a block of five consecutive black cells which remain black . however , this block is not at the same place with respect with  @xmath80 while turning around the cell in the same direction and , in this direction , starting from the first black cell of the block .",
    "when @xmath138  is black , second part of table  [ ff_tabk ] , the conservative rule is rule  92 .",
    "then rule  90 detects the flash of  @xmath80 when it occurs . note that as @xmath138 can not see  @xmath63 nor  @xmath64",
    ", it knows that the particle entered the switch by the flash of  @xmath80 only .",
    "rule  90 makes @xmath138  turn to white and rule  91 keeps this new state as it is the corresponding conservative rule .",
    "when @xmath138 is white , first part of table  [ ff_tabk ] , we check that the conservative rule is rule  91 .",
    "now , rule  93 detects that the particle entered cell  @xmath73 . at the next time , rule  89 detects the flash of  @xmath80 , making the state of  @xmath138 change from white to black .",
    "rule  92 keeps this state as it is the conservative rule for  @xmath138 when its state is black . this has previously been noted .",
    "we arrive to the final set of rules which deal with the memory switch .",
    "the rules dedicated to this switch fall into two subsets : those needed for the active switch and those needed to the passive one .",
    "@xmath140 [ active_memo_rules ]    this subsection is parallel to subsection  [ flip_flop_rules ] .",
    "the main reason is that the configuration of the active memory switch looks like that of the flip - flop , see fig .",
    "[ idle_configs ] .",
    "this is also why we use the same names for the cells for which we show the rules .",
    "in fact , we use the same cells  @xmath67 and  @xmath64 and  @xmath73 for the tracks as in the flip - flop , which means with the same rules and a few additional ones .    first , we look at the rules for  @xmath63 , as those for  @xmath67 are simple motion rules for an ordinary cell of the tracks .",
    "table  [ mm_tabo ] gives us the rules and the reader may notice that this table contains exactly the same rules as those of table  [ ff_tabo ] for the rules for  @xmath63 in a flip - flop .",
    "the reason is very simple : at this stage , as the configuration of  @xmath63 is here the same as its configuration in the flip - flop , the particle does not even know that it is in a memory switch .",
    "this will be come clear later , when the particle will go either to  @xmath64 or to  @xmath73 . here",
    ", we take the same cells  @xmath64 and  @xmath73 as in the flip - flop switch , although there is a slight difference in the working in the active memory switch as we shall see a bit later .",
    "the reason is that @xmath80 , which is also different , does not behave in the same way as in the flip - flop : @xmath80  does not flash when the particle is in the exit of  @xmath64 or  @xmath73 .",
    "it flashes in a situation when @xmath64 and  @xmath73 are both idle .",
    "however , as @xmath137 can see only  @xmath64 and  @xmath80 and as  @xmath138 can see only  @xmath80 with @xmath73 , we keep @xmath137 and  @xmath138 the same as in the flip - flop .",
    "compared with the rules of tables  [ ffb_tabb ] and  [ ffc_tabc ] , we can see that the behaviour of  @xmath64 and  @xmath73 for an active passage when they are not on the selected track is much simpler than in the case of the flip - flop where the flash of  @xmath80 is always triggered . here ,",
    "rule  66 is the conservative rule .",
    "rules  67 and  76 simply witness the passage of the particle through  @xmath63 .    now , as shown by tables  [ mmc_tabb ] and  [ mmb_tabc ] , the rules for  @xmath64 and  @xmath73 are a bit different from those of the cells with the same names in the flip - flop : here , @xmath64 and  @xmath73 behave passively as @xmath80  does not react to the passage of the particle through them . consequently , here we have simple motion rules adapted to the pattern of the cells .",
    "the conservation rules are now rules  61 and  70 for  @xmath64 and  @xmath73 respectively , as in the flip - flop as @xmath137 and  @xmath138 are now white in both tables , of course applied at different times .",
    "rules  65 and  74 attract the particle from  @xmath63 to  @xmath64 and  @xmath73 respectively , again as in the flip - flop .",
    "also as in the flip - flop , rules  62 and  71 return the cell to white .",
    "now , as there is no flash of  @xmath80 , the similarity with the flip - flop stops here . rule  68 and  134 witness that the particle went to the next cell of the tracks and then , in both cases , we have the conservation rules , rules  61 and  70 respectively , which are not mentioned according to our convention .",
    "let us remark that rules  68 and  134 were not used in the working of the flip - flop .",
    "we can check that the idle configuration of the neighbours of  @xmath64 and  @xmath73 are the same as those of their homonyms in the flip - flop .",
    "table  [ mm_tabd ] gives the rules for  @xmath80 and we can see that it strongly differs from the rules of table  [ ff_tabd ] for the similar situation in the flip - flop . also note that the pattern of the neighbours of  @xmath80 is different from what it is in the flip - flop .",
    "the reason is the difference of behaviour of the cell which is passive here .    in particular",
    ", we note the presence of a particular neighbour of  @xmath80 , namely @xmath98 , denoted by  @xmath141 in the table .",
    "this cell is usually white and it remains unchanged during an active crossing of the switch by the particle .",
    "we shall see what happens in the rules for the passive switch .    for what is an active passage ,",
    "the rules of the table simply witness the passage of the particle .",
    "rules  125 and  124 give the idle configuration which is different , depending on the states of  @xmath137 and  @xmath138 which are always different .",
    "we can notice that these states remain unchanged during the passage of the particle .",
    "rules  126 and  127 witness the presence of the particle in  @xmath63 and rules  128 and  129 witness its passage through  @xmath73 and  @xmath64 respectively .",
    "now , we turn to the rules for  @xmath137 and  @xmath138 : the cells are the same as in the flip - flop . as there is no flash of  @xmath80 at this stage , we have just the motion rules used in the flip - flop when @xmath137 or  @xmath138 can see the particle and the conservative rules otherwise .",
    "@xmath142    we can now turn to the rules devoted to the passive memory switch . as known from fig.[idle_configs ] , this switch looks a bit like the fixed switch : its cell  @xmath52 has the same neighbouring as the cell  @xmath63 in the fixed switch .",
    "now , as here the switch has a very different behaviour , we change the names of the cells .",
    "as just mentioned , the central cell of the switch is the cell  @xmath52 .",
    "the tracks arriving to the switch arrive at the neighbours  @xmath92 and  @xmath62 of  @xmath52 and in between  @xmath92 and  @xmath62 we exactly have the neighbour  @xmath90 of  @xmath52 .",
    "the cells  @xmath72 and  @xmath143 are placed as a common neighbour for  @xmath64 with  @xmath90 and for  @xmath73 with  @xmath90 respectively .",
    "they play the role of  @xmath137 and  @xmath138 in the flip - flop .",
    "we first look at the rules for  @xmath52 , when the particle already arrived at the switch .    in table",
    "[ mmx_tabt ] , the particle arrives to  @xmath52 from  @xmath92 .",
    "now , there are two cases , depending on whether @xmath92  was or not on the selected track .",
    "the first row of the table gives the conservative rule for  @xmath52 : rule  97 , exactly the same rule as for  @xmath63 in the fixed switch , see table  [ fix_tabo ] .",
    "then , as in the fixed switch , rule  101 attracts the particle into  @xmath52 . but this time , rule  150 is applied to return the state of  @xmath52 from black to white because @xmath90  is flashing at this moment : @xmath92 was not on the selected track .",
    "next , rule  99 witnesses that the particle left  @xmath52 and is now in  @xmath95 .",
    "if  @xmath92 was the selected track , there is no flash and so , the rules of the fixed switch apply , see table  [ fix_tabo ] : rule  101 again draws the particle to  @xmath52 , then rule  98 witnesses its migration to  @xmath95 , returning  @xmath52 to the white state . again , rule  99 witnesses that the particle is now in  @xmath95 .    in both cases ,",
    "later , the conservative rule  97 applies to  @xmath52 .",
    "table  [ mmy_tabt ] gives the rules for  @xmath52 when the particle arrives there coming from  @xmath62 .",
    "there are also two cases , as previously , depending on whether @xmath62  was or was not the selected track .",
    "the organization of table  [ mmy_tabt ] is parallel to that of table  [ mmx_tabt ] .",
    "note that the conservative rule is of course the same .",
    "the rule which attracts the particle to  @xmath52 is different : it is here rule  100 in both cases .",
    "next , the rule which turns  @xmath52 back to white is rule  150 as previously if @xmath62  was not selected because @xmath90  is flashing .",
    "if @xmath62  was selected , rule  98 applies as in the fixed switch .",
    "then , in both cases , the conservative rule  97 again applies .",
    "let us now turn to the cells  @xmath92 and  @xmath62 .",
    "we start with the cell  @xmath92 .",
    "table  [ mmy_tabx ] gives the rule when the particle comes from  @xmath62 .",
    "the conservative rules are rule  102 when @xmath62  was not in the selected tracks and rule  106 when @xmath62 was in the selected tracks .",
    "there is a difference as  @xmath72 is not in the same state : @xmath72  is white when @xmath62  is not selected and it is black when @xmath62  is selected . when @xmath62  was selected , rule  107 is performed after rule  106 , and rule  107 witnesses that the particle is now in  @xmath52 .",
    "later , rule  106 is again in action , as the particle is no more visible . if @xmath62  was not selected , when the particle is in  @xmath52 , @xmath90  is flashing because the particle was just before in  @xmath62 .",
    "rule  103 witnesses both the occurrence of the particle in  @xmath52 and the flash of  @xmath90 .",
    "later the particle is no more visible but rule  106 is the conservative rule for  @xmath92 when @xmath72  is black as now the selected track is  @xmath62 .",
    "table  [ mmx_tabx ] gives the rules for  @xmath92 when the particle comes from  @xmath92 .",
    "the situation is not completely symmetric with the situation of table  [ mmy_tabx ] . in table",
    "[ mmy_tabx ] we can remark that @xmath92  is always white , while in table  [ mmx_tabx ] , there two times when @xmath92  is black , one when @xmath92  is on the selected tracks and another when when it is not .    when @xmath92  is on the selected tracks , the conservative rule is rule  102 .",
    "then we simply have motion rules adapted to  @xmath92 .",
    "indeed , rule  105 detects the occurrence of the particle on the next cell of the tracks after  @xmath92 .",
    "this makes  @xmath92 change to black .",
    "then , rule  112 changes  @xmath92 back to white while rule  104 witnesses that the particle has reached  @xmath52 .    when @xmath92  is not on the selected tracks , the conservative rule is rule  106",
    ". this time , to the motion rules adapted to the configuration of  @xmath92 in which @xmath72  is black , we have the flash of  @xmath90 which occurs when the particle is in  @xmath52 .",
    "indeed , rule  108 detects the particle coming from the tracks and then @xmath92  turns to black .",
    "rule  109 turns  @xmath92 back to white and the particle will go to  @xmath52 .",
    "rule  110 witnesses that the particle is indeed in  @xmath52 and it also witnesses the flash of  @xmath90 as already mentioned . from this flash ,",
    "the cell  @xmath72 turned to white which is witnessed by rule  102 , the other conservative rule for  @xmath92 , when @xmath72  is white .",
    "tables  [ mmx_taby ] and  [ mmy_taby ] repeat for  @xmath62 what has been done for  @xmath92 . in this regard ,",
    "the rules are very parallel to those of tables  [ mmx_tabt ] and  [ mmx_tabx ] .",
    "the difference lies in the difference of the patterns of neighbours around  @xmath92 and  @xmath62 as can be seen from the conservative rules of the tables .",
    "when the particle comes from  @xmath92 , @xmath62  always remains white .",
    "if @xmath92 was on the selected tracks , we have the conservative rule , rule  115 and a witness that the particle passes through  @xmath52 , rule  120 .",
    "when @xmath92  was not on the selected tracks , outside the conservative rule , rule  113 , rule  114 can see both the particle in  @xmath52 and the flash of  @xmath90 . as @xmath143  changes its state after the flash ,",
    "the conservative rule  115 is now in action .",
    "when the particle comes from  @xmath62 , we have pure motion rules when @xmath62 is on the selected tracks , second part of table  [ mmy_tabt ] . when @xmath62  was not on the selected tracks , we have motion rules too but also rule  121 which witnesses both the passage of the particle in  @xmath52 and the flash of  @xmath90 .",
    "the latter event triggers the change of state of  @xmath143 , rule  113 which is the conservative rule when @xmath143  is white , which means that @xmath62  is now again on the selected tracks .",
    "now , we turn to the rules for  @xmath90",
    ". remember that @xmath90  controls the arrival of the particle through the non - selected tracks . in case of this event",
    ", it flashes , which triggers both the change of state of the markers  @xmath72 and  @xmath143 and the sending of a signal to  @xmath80 , the controller of the active memory switch .",
    "tables  [ mmx_tabz ] and  [ mmy_tabz ] display the rules for  @xmath90 .    in table",
    "[ mmx_tabz ] we look at the first part , when the particle come from  @xmath92 in the case the corresponding tracks was not selected .",
    "the conservative rule is here rule  138 .",
    "rule  143 witnesses that the particle is in  @xmath92 and so , the rule makes  @xmath90 turn to flash : it becomes white . at the next time ,",
    "rule  139 restores the black state in  @xmath90 and witnesses that the particle is in  @xmath52 .",
    "rule  146 witnesses the change of states in both  @xmath72 and  @xmath143 which was caused by the flash of  @xmath90 and the sending of a particle to  @xmath80 through  @xmath144 which is @xmath97 .",
    "as the particle is no more visible , a conservative rule is now in action : rule  146 which is attached to the configuration when @xmath72  is white and @xmath143  is black .",
    "it is this configuration that we find in the first row of the second part of table  [ mmx_tabz ] with rule  137 .",
    "the other rules witness the motion of the particle : rule  142 can see it in  @xmath92 , rule  149 can see it in  @xmath52 and then rule  137 applies again . as @xmath92 is on the selected track , the passage of the particle does not cause any change .",
    "we have a perfectly similar table for the case when the particle arrives to the switch through  @xmath62 : table  [ mmy_tabz ] .    the first part of the table deals with the case when @xmath62  was not on the selected tracks .",
    "this time rule  137 is the conservative rule , as @xmath72  is white and  @xmath143 is black .",
    "rule  144 witnesses that the particle is in  @xmath62 , making @xmath90 flash .",
    "rule  140 witnesses that it passed to  @xmath52 .",
    "rule  147 witnesses that  @xmath72 and  @xmath143 changed their states and that a particle was sent through  @xmath144 to  @xmath80 .",
    "rule  138 applies as a conservative rule for the new states of  @xmath72 and  @xmath143 .",
    "the second part of table  [ mmy_tabz ] starts with the configuration rule associated to a white  @xmath143 and a black  @xmath72 as @xmath62  is selected : rule  138 again .",
    "then rule  141 can see the particle in  @xmath62 , rule  148 can see it in  @xmath52 and then rule  138 applies again .",
    "next , tables  [ mm_tabi ] and  [ mm_tabj ] give the rules for  @xmath72 and  @xmath143 respectively .    in table",
    "[ mm_tabi ] we have four cases first , depending on which side the particle arrives at the central cell and then , on whether the tracks was selected or not .",
    "indeed , as we can easily understand in the fourth part of the table , if the particle passes through  @xmath62 and if @xmath62  is the selected tracks , @xmath90  does not react and so , @xmath72 can not see that a particle passed through the switch .",
    "this is why in this case we have a conservative rule only , here rule  153 . if the @xmath62 was on the selected tracks and if the particle passes through  @xmath62 , then  @xmath90 flashes",
    "this is why we have three instructions in the third part of the table : the conservative rule  152 corresponding to a black state in  @xmath143 , rule  156 which , seeing the flash of  @xmath90 makes  @xmath72 turn to black and rule  153 , the conservative rule for the new situation when @xmath72  is black .",
    "now , the fist two parts of table  [ mm_tabi ] deal with the case when the particle passes through  @xmath92 . in the first part , the rules concern the case when @xmath92  was not selected . in this case , after the conservative rule  153 as @xmath72  is black , corresponding to the non selection of  @xmath92 , rule  155 witnesses that the particle is in  @xmath92 .",
    "then rule  157 can see the flash of  @xmath90 and so , it turns the state of  @xmath72 to white : from now on , @xmath92 is selected . at the next time ,",
    "rule  152 applies as it is the conservative rule for the case when @xmath72  is white .",
    "table  [ mm_tabj ] is alike table  [ mm_tabi ] with , this time the cell  @xmath143 being concerned .",
    "the two first parts of the table look at which rules are used when the particle comes from  @xmath92 . as symmetrically in part  iv of table  [ mm_tabi ] , @xmath143  is not concerned by a passage of the particle though",
    "@xmath92 when @xmath92 is on the selected tracks .",
    "this is why we have the single conservative rule  153 in part  ii . in part",
    "i of table  [ mm_tabj ] , where the conservative rule is rule  152 , the cell  @xmath143 is concerned by the passage through  @xmath92 : @xmath90 flashes , as @xmath92 is not on the selected tracks .",
    "this flash is witnessed by rule  156 which makes  @xmath143 take the black state .",
    "then rule  153 applies as the conservative rule for this new configuration of  @xmath143 .",
    "the last two parts of the table deal with the case when the particle passes through  @xmath62 .",
    "then , the cell always witnesses the passage of the particle . when @xmath62  is not on the selected tracks , the conservative rule is rule  153 .",
    "the passage of the particle through  @xmath62 is witnessed by rule  161 and rule  157 witnesses the flash of  @xmath90 , making  @xmath143 take the white state .",
    "we now arrive to the configuration when  @xmath143 is white .",
    "the configuration is kept unchanged by rule  152 .    in the case",
    "when @xmath62  is on the selected tracks , @xmath90 does not flash and so , @xmath143  simply witnesses the passage of the particle through  @xmath62 : the conservative rule is  152 as just noticed and rule  160 witnesses the passage of  @xmath92 .    at last , and not the least , we have noted that when the particle arrives to the passive switch through the non selected tracks , this makes  @xmath90 flash .",
    "we have studied the consequences of this flash on  @xmath72 and  @xmath143 but we also have to look at the consequence on other cells .",
    "indeed , the flash is also waited by  @xmath97 , a neighbour of  @xmath90 which is white but which becomes black when @xmath90  flashes .",
    "when @xmath90  flashes , @xmath97  which is called  @xmath145 in the table  [ mmns_tabz1 ] transmits the signal , a particle , to  @xmath80 through a sequence of ordinary cells of the tracks .",
    "the last cell is  @xmath146 , the neighbour @xmath98 of  @xmath80 .",
    "when @xmath80 can see that @xmath146 is black , it flashes , making both @xmath137 and  @xmath138 change their state .",
    "first , we look at table  [ mmns_tabz1 ] , which gives the rules for  @xmath145 when the particle comes from a non selected track . note that @xmath145  remains white as long as @xmath90  does not flash and @xmath145 does not see another cell outside its neighbour on the track . and so , in this situation , the conservative rule  164 only is in action , first row of the table .",
    "when @xmath90  flashes , this is witnessed by rule  165 , @xmath145 becomes black and rule  166 returns its state to white .",
    "next , rule  167 witnesses that a particle is now on the tracks , on its route to  @xmath146 .",
    "table  [ mmns_tabd1 ] tells us what happens there .",
    "as long as @xmath146 is white , the conservative rule  134 applies .",
    "when the particle sent by  @xmath90 arrives close to  @xmath146 , it is noticed by rule  135 which attracts the signal into  @xmath146 .",
    "rule  136 returns the state of  @xmath146 to white and rule  70 witnesses the flash of  @xmath80 .",
    "when @xmath80  flashes , this acts upon its sensible neighbours : @xmath137 , @xmath138 , @xmath64 and  @xmath73 .",
    "so that we have to look at possibly additional rules for these cells .",
    "first , we look at the rules for  @xmath80 indicated by tables  [ mmxns_tabd ] and  [ mmyns_tabd ] .    a quick look at table  [ ff_tabd ] shows us that the rules are different .",
    "indeed , the cell  @xmath80 in the active memory switch has not the same neighbourhood as  @xmath80 in the flip - flop as they do not behave the same way .",
    "when the particle sent by  @xmath90 is not yet arrived at  @xmath146 , the conservative rule  125 applies if @xmath62  is selected and the conservative rule  124 is applied if  @xmath92 is selected . still assuming that @xmath92  is selected , when the signal arrives at  @xmath146 , it is recognized by rule  37 which makes @xmath80 flash .",
    "note that this rule is also used in the crossing for the cell  @xmath84 .",
    "next , rule  133 returns the state of  @xmath80 to black , and rule  125 witnesses the change of state in both  @xmath137 and  @xmath138 .",
    "it is also the conservative rule when @xmath62  is selected .",
    "if @xmath62  is selected , the signal in  @xmath146 is recognized by rule  130 which makes @xmath80  flash .",
    "then , rule  131 returns the state of  @xmath80 to black . rule  124 witnesses the change of state in both  @xmath137 and  @xmath138 .",
    "tables  [ mmns_tabh ] and  [ mmns_tabk ] display the rules for  @xmath137 and  @xmath138 when @xmath80  flashes after receiving the signal sent by  @xmath90 .",
    "the rules are close to those of the same cells in the flip - flop , see tables  [ ff_tabh ] and  [ ff_tabk ] with this difference that rule  88 for  @xmath137 and rule  93 for  @xmath138 are not used here as the particle does not pass through  @xmath64 nor through  @xmath73 . and so , when the particle went through a non selected  @xmath92 , rules  87 , 90 and  86 apply as in the flip - flop and when the particle went through a non selected  @xmath62 , rules  86 , 89 and  87 apply .",
    "note that rules  87 and  86 are conservative rules , when @xmath137  is black and when it is white respectively .",
    "we note that for  @xmath138 we have also rules contained in those used for the cell  @xmath138 of the flip - flop , as mentioned previously .",
    "the conservative rules are here rule  92 and  91 when @xmath138  is black and white respectively .",
    "rules  90 and  89 recognize the flash of  @xmath80 making  @xmath138 change to white or black respectively .",
    "we remain with the rules for  @xmath64 and  @xmath73 .",
    "the rules for  @xmath64 are given in table  [ mmns_tabb ] .",
    "the conservative rules  61 and  66 are those in action when @xmath80  does not flash and when no particle goes through  @xmath64 nor  @xmath73 .",
    "these rules are those used in the flip - flop , see tables  [ ffb_tabb ] and  [ ffc_tabb ] .",
    "when the particle passed through  @xmath92 when it was not on the selected tracks , which means that @xmath137  is black , the rules are a part of the rules of table  [ ffb_tabb ] : there is no flash of  @xmath80 in the situation we consider presently .",
    "now , when the particle passed through  @xmath62 when it was not on the selected tracks , we have rule  69 which was not yet used .",
    "a similar remark holds for the rules for  @xmath73 given in table  [ mmns_tabc ] .",
    "the conservative rules are  66 and  70 as in the flip - flop , see tables  [ ffb_tabc ] and  [ ffc_tabc ] .",
    "when @xmath138  is black , the rules are a part of the rules given in table  [ ffc_tabc ] as no flash of  @xmath80 occurs . however ,",
    "when @xmath138  is white , we have a new rule , rule  77 which was not yet used .",
    "these new rules  69 and  77 witness the flash of  @xmath80 in a situation which can not occur during the crossing of a flip - flop by the particle . indeed , when the flash of  @xmath80 occurs in the flip - flop when @xmath137  is white , this means that the particle goes through  @xmath64 , the particle just left  @xmath64 and is visible from  @xmath64 as it is on the next cell of the tracks , see table  [ ffb_tabb ] at a moment where rule  64 applies .",
    "we have a symmetric situation for  @xmath73 when @xmath138  is white and rule  73 . here , the next cell of the track is always empty at this moment , this is why the new rules  69 and  77 are needed .      in this subsection",
    ", we complete the study of the rules with traces of execution by the program of the rules in all the configurations we have illustrated in section  [ implement ] .",
    "such traces could be obtained from the above tables .",
    "it is easier to tune the computer program in order to execute this task too .",
    "this what we do now , following the same plan as in section  [ rules ] .",
    "table  [ tr_cross ] gives the trace of execution performed by the computer program for the crossing .    for displaying reasons",
    ", we could not keep the names @xmath83 , @xmath84 and @xmath79 of the sensors controlling the correct execution of the branching at a round - about .",
    "we have used other names : @xmath147 , @xmath139 and  @xmath148 respectively .",
    "clearly , @xmath147 can see both  @xmath64 and  @xmath81 , @xmath139 can see both  @xmath64 and  @xmath73 and @xmath148 can see both  @xmath73 and  @xmath74 .",
    "table  [ tr_cross ] shows another particularity performed by the computer program .",
    "the table represents all the possible cases at a branching .",
    "instead of simulating three distinct branchings placed around the round - about , the program used the same branching executing the following scenario .",
    "first , the particle arrives from outside to  @xmath74 : time  3 in the table .",
    "then , it goes to  @xmath73 and then to  @xmath80 .",
    "now , in the program , the next neighbour of  @xmath80 on the tracks is  @xmath67 .",
    "as an additional particle was created in  @xmath73 , when the first particle arrives at  @xmath67 of the same branching , the situation is exactly the same as if it arrived at the next one . and",
    "so , when both particles are erased at time  10 , see the table , a new one is created in  @xmath73 at time  11 .",
    "now , this particle travels to  @xmath80 and then again to  @xmath67 , again at the same branching .",
    "but the situation is exactly the same as if it would arrive at the next one . and",
    "so , at the second arrival from  @xmath67 , we can see that the single particle goes to  @xmath64 , then to  @xmath81 and so on , without being destroyed .",
    "table  [ tr_fix ] gives two executions for the fixed switch .",
    "in one of them , the particle comes from  @xmath64 , in the other , it comes from  @xmath73 .",
    "as can be seen , in both cases , it leaves the switch through  @xmath67 .",
    "table  [ tr_basc ] gives two executions for the flip - flop .",
    "in the first one , the selected tracks is  @xmath73 , in the second one , it is  @xmath64 .    in both cases , we can notice that @xmath137 and  @xmath138 both change their states , at time  8 exactly .",
    "table  [ tr_mma ] gives the traces of execution for the active memory switch .",
    "as mentioned in section  [ implement ] , the switch looks like a * passive programmable * flip - flop . at this stage ,",
    "the flip - flop mechanism exists but it is frozen as @xmath80  is not the same cell as in the flip - flop .",
    "we notice that , in this execution , @xmath137 and  @xmath138 are not affected by the passage of the particle , which is not the case in the flip - flop .    in the next subsubsection ,",
    "devoted to the passive memory switch we shall see the action on the flip - flop mechanism of the active memory switch .      in the computer program , we simplified the execution of the situation when the particle arrives from the non selected tracks .",
    "we know that the flash of  @xmath90 , the controller of the passive switch , triggers a signal to  @xmath80 , the controller of the active switch .",
    "this signals is performed as a particle which follows a path which looks like the usual tracks exactly .",
    "we call here locomotive the particle which runs over the circuit to simulate a computation . as we can see in fig .",
    "[ idle_configs ] , the path of the messenger particle crosses two other paths followed by the locomotive particle . and so there are two crossings . as we have previously checked that the program correctly performs the crossings , it is useless to check it again . and so , we connected @xmath90 and  @xmath80 directly by a small path of five cells including  @xmath145 and  @xmath146 .",
    "one of these cells , @xmath149 , is represented in tables  [ tr_mmpx ] and  [ tr_mmpy ] .    in both tables",
    ", we can notice that when the particle comes from the non - selected tracks , the message of  @xmath90 to  @xmath80 is sent at time  6 as @xmath90  flashes at time  5 , the locomotive particle being in  @xmath92 or  @xmath62 at time  4 .",
    "the messenger particle arrives in  @xmath146 at time  10 .",
    "this corresponds to the running over the path of five cells between  @xmath90 and  @xmath80 .",
    "accordingly , @xmath80  is able to flash at time  11 .",
    "and so , at time  12 , @xmath137 and  @xmath138 have both changed their states .",
    "accordingly , the passive and the active memory switch now indicate the same selected tracks .",
    "the real length of the path between  @xmath90 and  @xmath80 is much longer .",
    "looking at fig .",
    "[ idle_configs ] , consider that the central tile of the tiling is placed at the central cell of the round - about  @xmath150 which is the closest to both the active and the passive switch .",
    "we can imagine at least three cells between the neighbour of  @xmath92 on the tracks and the cell  @xmath74 of the branching to  @xmath150 .",
    "consider @xmath151 , the round - about closer to the passive memory switch .",
    "we can imagine that its central cell is at three cells from the central cell of  @xmath150 .",
    "the path from  @xmath145 can go around the immediate neighbours of  @xmath90 towards  @xmath92 .",
    "then , it goes around the immediate neighbours of  @xmath92 and , at a few cells from the tracks which leaves  @xmath92 .",
    "we may consider that the cells of the path are on the third level of the tree rooted at the central cell of  @xmath150 .",
    "now , the number of cells on the third level of the tree rooted at the central cell of  @xmath150 is 711 .",
    "now , the path between @xmath151 and @xmath152 , the round - about closer to the active switch is still longer .",
    "this means that the simulation could not consider the real path and that the artifact we presented is a good solution for the simulation .",
    "as we completed the study of the case @xmath99 , we can now turn to the study of the general case of   @xmath0 , when @xmath2 .",
    "we shall follow the scenario described in subsection  [ scenario ] .",
    "there will be some changes as certain cells which were black in the case of @xmath66 are now white and as for them , flashing means turning from white to black and then return to white at the next step .",
    "we shall follow the same plan as in the case of @xmath66 .",
    "we start by defining the patterns and the rules for the tracks . from",
    "that we can define the patterns and rules for the crossings and then for the switches : fixed , flip - flop and memory switch in this order .    before turning to the detailed study of each case , we briefly indicate the general idea .",
    "define the * context * of a cell as the pattern defined by the state of its neighbours as a word on @xmath153 , up to circular permutations : considering the various rotated forms , we shall always take the smallest one in the order where .",
    "we shall devise the patterns in the following conditions : in the patterns of the cells of the tracks , the context contains at most one block of two or three contiguous black states and no block with more contiguous black states .",
    "for the central cells of the switches , cells  @xmath63 or  @xmath52 in section  [ implement ] , there are exactly two blocks of three contiguous black cells and they do not contain blocks with more contiguous black states . there may be an additional black of two cells .",
    "the other cells have at least one block of four contiguous black states .",
    "this block of four black cells will be called the * anchor*. with the orientation which we may assume to be known by the cell , this gives a direction : there will be a first cell of the block while turning around the cell .",
    "this will allow us to use the cells which are after the four one of the block to encode a number which defines which kind of cell we have .",
    "as we have twenty kinds of cells outside those of the tracks and the central cells of the switches , we need five cells for encoding their number : we shall speak of the @xmath154 cell of the encoding . as",
    "not all possible codes from @xmath155 are needed , we can avoid any other block of four contiguous black states .",
    "it will be possible to have one block of five contiguous cells : the four ones of the anchor and the fifth one being the first cell of the encoding .",
    "the first two cells of the encoding are  w for crossings , they are bw in this order for the memory switch and wb in this order for the flip - flop .",
    "this block of cells defined by this just described encoding is the * type * of the cell . as outside  @xmath63 all the cells of a fixed switch",
    "are cells of the track , the encoding is w@xmath156 for the fixed switch .",
    "i this requires that the last three cells of the encoding contain at least one black cell in the case of crossings .",
    "this constraint can be observed .    in",
    "what follows , the format of the rules will follow the general form given in section  [ hypca ] which we remind here for the convenience of the reader :    where @xmath56 is the state of the cell , @xmath57 the state of its neighbour  @xmath58 and  @xmath59 is its new state .",
    "we assume that the rule is given in such a way that is the minimal form among the rotated forms of the rule obtained by circular permutation on @xmath157 $ ] .",
    "we shall systematically use the following format given as a word in @xmath158 :    clearly , the context of the cell is .",
    "we can now define the configurations and the rules for the tracks .",
    "the general constraints which we have defined force us to change the contexts of the cells of the tracks .",
    "the context of an ordinary cell of the track will be bwwbwwwbw@xmath159 or bwwbw@xmath159bwww with @xmath160@xmath138 . note that these patterns can not be deduced from each other by any circular permutation .",
    "the patterns are illustrated by the first row of fig .",
    "[ trackgene ] for the case when @xmath161 .",
    "the yellow cells are those through which the particle may enter the cell .",
    "the orange ones are those through which the particle exits from the cell .",
    "this possible choice gives more flexibility for the construction of the tracks near the switches .",
    "as in section  [ tracks ] , we can go from one cell  @xmath29 to any other one  @xmath68 by first fixing a shortest path  @xmath69 from  @xmath29 to  @xmath68 and then by going along the upper neighbours of  @xmath69 in the direction form  @xmath29 to  @xmath68 and by going along the lower neighbours of  @xmath69 in the direction from  @xmath68 to  @xmath29 .",
    "[ voiegene_1 ] gives an attempt of illustration for such a path .",
    "we can see that even when @xmath161 drawings become almost useless as details are very difficult to see : the neighbours of the cell  @xmath67 can be seen but many neighbours of cell  @xmath162 or  @xmath163 are hardly visible , especially to distinguish clearly those which are black .",
    "the figure allows us to notice that here two , we have the phenomenon already noticed in section  [ tracks ] : a cell which belongs to the tracks constructed along a shortest path may have two contiguous black neighbours .",
    "we can see that the cell  @xmath18 in fig .",
    "[ voiegene_1 ] belongs to this case .",
    "we say that such a cell is a * corner*. for this situation , we need to adapt the previous neighbourhoods .",
    "this new contexts are illustrated by fig .",
    "[ trackcorners ] and the corresponding contexts are : in one direction and in the other . in both cases , .",
    "[ voiegene_1 ] also shows us that in consecutive ordinary cells , the position of the entrance and the exit of the particle during the motion are around the black cell which is in between the two others , here the black cell around which the path is constructed .",
    "this position of the entrance and exit is the more used , it is called _ favorite _ in the caption of fig .",
    "[ trackgene ] .",
    "other positions for the entrance and exit are rare and used only to tune the approach or leaving of the particle around a switch or near a round - about .",
    "the rules for the motion of the particle are easy .",
    "for ordinary cells they are :    and , for the opposite direction :    in both cases , we have that .",
    "note that here , the rules are not exactly conforming to the requirement of minimality of context in the writing of the rules .",
    "the rule is not written in its minimal form .",
    "it should be written : .",
    "accordingly , the conforming presentation of the rules is :    we can note that in lines  @xmath164 and  @xmath165 , the fourth rules have the same minimal form as the fourth rules in lines  @xmath166 and  @xmath167 .",
    "the reason is that the corresponding contexts are symmetric .",
    "similarly , for the corners we get the following rules , this time in minimal form :    and , here , we have .",
    "we have a similar remark as previously : the last two rules in lines  @xmath168 and  @xmath169 have the same minimal form due to a symmetric neighbourhood .",
    "we conclude this subsection with an important remark .",
    "we have seen that , in the crossings , two consecutive particles may travel on the round - about .",
    "this requires new rules , namely the following ones :    for ordinary cells :    and for corners :    we remark that these new rules have the same contexts than several rules of lines  @xmath166 , @xmath167 , @xmath168 and  @xmath169 .",
    "however , in these cases , the new state is always the same . so that the new rules are compatible with the others .",
    "we also remark that in these new rules we assume the favorite entrance and exit in the cells : this will be the case in the round - about as we shall soon see .",
    "the configuration of the round about is basically similar to that of fig .",
    "[ crossconfig ] when @xmath4 .",
    "[ cross_config_17 ] illustrates the new configuration when .    in order to better explain the situation",
    ", we give the same names for the cells @xmath67 , @xmath64 , @xmath73 , @xmath80 , @xmath74 and  @xmath81 as in the case when @xmath4 .",
    "however , here , @xmath83 , @xmath84 have a different meaning than in the case when @xmath4 .",
    "we call @xmath147 the neighbour of  @xmath64 which can also see  @xmath81 and  @xmath139 that which can also see  @xmath73 . although @xmath79 has the same meaning here , we call it @xmath148",
    ".    we fix the patterns for each cell which are not tracks of the cell with the patterns defined in subsection  [ trackpattrules ] .",
    "first , the black cell which is the core of the round - about , we have white neighbours and at most two consecutive black cells .",
    "we shall consider that rules for which the context contains at most two black cells are always conservative .",
    "remember that at the beginning of section  [ rulesgene ] , we said that in the block of cells which encodes its type , we have two cells devoted to the identification of the situation , which switch or crossing , while the three other cells are a numbering of the types in the considered situation .    in",
    "a round - about , the type of the cell is : bbbbwwxyz where xyz is given in table  [ crossthetypes ] as well as the corresponding types .",
    "note that table  [ crossthetypes ] contains five cells only .",
    "this means that the patterns of the others are among those described in subsection  [ trackpattrules ] .",
    "@xmath170    from fig .",
    "[ cross_config_17 ] , we know that its context is , with @xmath171 .",
    "the type is here as indicated by table  [ crossthetypes ] .",
    "the rules are defined by each type of situation where  @xmath64 is concerned . its the always case : if a particle arrives from outside , it goes through  @xmath74 and then  @xmath73 so  @xmath64 can see the particle passing through  @xmath73 . also , it is concerned by the arrival of one or two particles from  @xmath67 , see fig .",
    "[ crossing1 ] and the following ones . in the rules ,",
    "when it is present , we indicate by a bold letter which black cell is the particle .",
    "consider the case when a particle is present at  @xmath67 .",
    "we have two rules :    the left - hand side one is the conservative rule of the cell .",
    "the right - hand side one makes the particle enter  @xmath64 .",
    "the bold  @xmath64 indicates the particle .",
    "if we have a single particle , we have then :    the left - hand one makes the particle leave the cell . the second one witnesses that it entered  @xmath81 .",
    "now , at this point , as @xmath147 checks the number of particles passing through  @xmath64 , it can see a particle in  @xmath81 and none in  @xmath64 , so  @xmath147 remains the same . at the next time , as the particle left  @xmath81 , the conservative rule again applies .",
    "consider the case when two particles arrive at  @xmath64 .",
    "the first one is dealt with the rules of @xmath172 .",
    "but the rules of @xmath173 can not apply as a particle is still present in  @xmath67 .",
    "we have the rules :    the left - hand side rule can see that there is still a particle  in @xmath67 and this second particle is admitted to  @xmath64 .",
    "the right - hand side rule deals with this second particle which will leave  @xmath64 and it witnesses that the first particle is in  @xmath81 .    and",
    "so , at this time , one particle is in  @xmath64 and the other is in  @xmath81 .",
    "the cell  @xmath147 can check this situation and so it flashes and then @xmath139 flashes and then a particle appears in  @xmath73 .",
    "all these events are witnessed by  @xmath64 thanks to the following rules in this order :    @xmath174    from fig .",
    "[ cross_config_17 ] , we know that its context is , with .",
    "the type is here as indicated by table  [ crossthetypes ] .",
    "the rules are defined by each type of situation where  @xmath73 is concerned .",
    "now , @xmath73 is concerned in two cases only .",
    "when a particle arrives from outside , it goes through  @xmath74 and then  @xmath73 can see the particle passing through  @xmath73 .",
    "also , when two particles arrive at  @xmath67 , eventually one particle is created in  @xmath73 by the flash of  @xmath139 . however ,",
    "when a single particle arrives at  @xmath67 , @xmath73  just witnesses that it passes through  @xmath64 and is no more concerned . but",
    "this witnessing was already required when two particles arrive .",
    "first , consider the case when a particle arrives at  @xmath74 .",
    "we have first the conservative rule and then the rule which makes the particle pass from  @xmath74 to  @xmath73 :    the next rule shows that @xmath148 is flashing so that as one  @xmath64 is leaving  @xmath73 by the motion rules which apply to the ordinary cell  @xmath80 , a second  @xmath64 is created in  @xmath73 . the second rule in  @xmath175 witnesses that the second  @xmath64 leaves the cell while the first one can be seen in  @xmath80 .",
    "the last rule of  @xmath175 witnesses that the second  @xmath64 is in  @xmath80 .",
    "consider now the case when two particles arrive at  @xmath67 .",
    "the presence of the first particle and then the second one in  @xmath64 is witnessed by the first rule of  @xmath176 which is applied twice .",
    "the second rule of  @xmath176 is in action when @xmath139  is flashing : this means that a particle must be created in  @xmath73 which is the result of the application of the rule .",
    "the third rule of  @xmath176 contributes to the move of the particle from  @xmath73 to  @xmath80 and witnesses the return of  @xmath139 to its normal black state .",
    "the rule which witnesses that the particle is now in  @xmath80 is the last one of  @xmath175 .",
    "we remember that @xmath74 and  @xmath81 are on the tracks and that they are ordinary cells .",
    "we simply note that when some sensors are flashing , there are only two black cells in the neighbourhood of the cell of the tracks .",
    "in such a case , the state of the cell is unchanged .",
    "now , it may happen that the flash cancels a black cell and that a new one occurs as the particle going to enter or to leave the cell .",
    "two rules are in use in this case .",
    "the first one is in the neighbour  @xmath177 of  @xmath81 which is on the tracks .",
    "when @xmath147  flashes , the two particles are still present , one in  @xmath81 and one already in  @xmath177 .",
    "the particles are destroyed : as one milestone is missing for  @xmath81 the presence of the particle in  @xmath177 restores the configuration of a cell of the tracks so that the particle present at  @xmath81 is erased by a motion rule of the tracks .",
    "now , in  @xmath177 , the flash also cancels a milestone .",
    "but the presence of the particle in  @xmath81 creates a black neighbour at an unusual place for a cell of the tracks .",
    "this also requires a new rule : this is the left - hand side rule in  @xmath178 .",
    "another situation appears in  @xmath74 where the creation of the particle in  @xmath73 and the flash of  @xmath148 creates a neighbourhood with five black cells which has no counter part in the motion rules of the track for ordinary cells .",
    "the appropriate rule is the right - hand side one in  @xmath178 .",
    "now , we turn to the auxiliary cells which are not cells of the tracks .",
    "@xmath179    this cell is a milestone of  @xmath81 and also of  @xmath177 , as we have already noticed .",
    "the role of this cell is to check whether one or two particles arrive at  @xmath64 . from fig .",
    "[ cross_config_17 ] , we know that its context is , with .",
    "the type is here as indicated by table  [ crossthetypes ] .",
    "the conservative rule is the first one in  @xmath180 .",
    "if a particle arrive in  @xmath64 , it is noticed by the second rule of  @xmath180 and nothing happens as @xmath81  is still white .",
    "and then , the particle goes to  @xmath81 , which is witnessed by the third rule of  @xmath181 .",
    "if the particle is alone , then the particle left  @xmath81 and is now in  @xmath177 as witnessed by the fourth rule of  @xmath181 .    if two particles are present , then after the application of the first two rules of  @xmath181 , there is a particle in  @xmath64 and one in  @xmath81 . at this moment",
    ", @xmath147 must flash , which is obtained by the first rule of  @xmath182 .",
    "but , still at this time , the motion rules apply to other cells , @xmath81 and  @xmath177 in particular so now , both particles are now in  @xmath81 and in  @xmath177 .",
    "this situation is witnessed by the second rule of  @xmath182 which returns @xmath147 to black as @xmath147 flashes only one step .",
    "but , as @xmath81 , @xmath177 and  @xmath139 can now see the flash of  @xmath81 , they all change their state to white , which is witnessed by the third rule of  @xmath182 .",
    "@xmath183    we know that the flash of  @xmath147 is transmitted to  @xmath73 by  @xmath139 . from fig",
    ".  [ cross_config_17 ] , we know that the context of  @xmath139 is , with .",
    "the type is here as indicated by table  [ crossthetypes ] .",
    "the first rule of  @xmath184 is conservative .",
    "the second rule witnesses that a particle is in  @xmath64 .",
    "it is applied twice of two particles arrive at  @xmath64 .",
    "the third rule detects the flash o  @xmath147 and so , it changes the state of  @xmath139 to white",
    ". now , the fourth rule restores the black state of  @xmath139 as the flash is for one step only . the fifth rule witnesses the effect of the flash of  @xmath139 and  @xmath73 : a black state appeared both in  @xmath73 and  @xmath139 after the flash of  @xmath139 .",
    "after that , the conservative rule again applies .",
    "@xmath185    when a particle arrives from outside to the round - about , it enters the round - about through  @xmath73 but a second particle has to accompany the initial one until the next branching .",
    "the role of  @xmath148 is to control and to perform this task . from fig .",
    "[ cross_config_17 ] , we know that its context is , with .",
    "the type is here as indicated by table  [ crossthetypes ] .",
    "the first rule of  @xmath186 is the conservative rule .",
    "the second rule is triggered by the occurrence of the particle in  @xmath74 .",
    "this is why the rule makes @xmath148  to flash by turning to black .",
    "the third instruction returns  @xmath148 to white and it witnesses the presence of the particle in  @xmath73 . the effect of the flash is a second particle in  @xmath73 which is witnessed by the fourth rule of  @xmath186 .      in the fixed switch , all the cells around  @xmath63 which are on the tracks are ordinary cells .",
    "this can be checked on fig .",
    "[ trackfixed ] which illustrates the idle configuration of the central cell of the switch when .    in these cells of the tracks ,",
    "as indicated in subsection  [ trackpattrules ] , we take advantage on the flexibility given by the possible choice of the exact neighbour through which the particle enters or leaves the cell .    accordingly , we only have to look at the rules for the cell  @xmath63 . from fig .",
    "[ trackfixed ] , we can see that the context of the rules is , with . as mentioned at the beginning of section  [ rulesgene ] , this configuration is characterized by the occurrence of two blocks of consecutive three black cells . here",
    ", the shortest distance between the blocks is 4  cells .",
    "the rules for  @xmath63 are simply motion rules as no sensor is present around the cell .",
    "they are given by formulas  @xmath187 .",
    "the rule of the first line of  @xmath187 is the conservative rule of  @xmath63 when the particle is far from the switch .",
    "the second line gives the rules which allow the particle to enter the cell : in the left - hand side rule , the particle is in  @xmath73 , in the right - hand side one , it is in  @xmath64 . in the third line , the first rule changes the state of  @xmath63 from black to white :",
    "the particle is ejected from the cell .",
    "the second rule witnesses that the particle went to  @xmath67 .",
    "the idle configuration of the flip - flop is illustrated by fig .",
    "[ ffconfig ] . we can notice that here too , we have two blocks of consecutive three black cells .",
    "however , here , the distance between the blocks is 5  cells .",
    "indeed , the context is now .",
    "but the big difference is that outside  @xmath67 which is still an ordinary cell of the tracks , the cells  @xmath64 and  @xmath73 are no more ordinary cells of the tracks : they have sensors and a specific surrounding . also , the cell  @xmath80 , which is in between  @xmath64 and  @xmath73 is the controller of the switch and it has too a specific surrounding .",
    "now , in between  @xmath64 and  @xmath80 as well as in between  @xmath73 and  @xmath80 there is a sensor , @xmath137 and  @xmath138 respectively .",
    "these latter cells also have a complex neighbourhood .",
    "we know that the context of all these cells contain the pattern where wb characterizes the flip - flop .",
    "we now turn to the study of the rules of all these particular cells .",
    "@xmath170    the context of  @xmath64 is defined by where .",
    "this is illustrated by fig .",
    "[ ffconfig ] when .",
    "the rules for  @xmath64 are given by  @xmath188 .",
    "the first rule is the conservative rule .",
    "then , in the second line , the first rule witnesses the passage of the particle in the other tracks : this means that it is the case when @xmath64  is not selected , which means that @xmath137  is black .",
    "still when @xmath64  is not selected , the third rule of  @xmath188 witnesses the flash of  @xmath80 caused by the particle after its passage through  @xmath73 , two steps later .",
    "next , the rules deals with the case when @xmath64  is selected by the switch : this means that  @xmath137 is white .",
    "the first rule of  @xmath189 is the conservative rule of this situation .",
    "the second rule can see the particle in  @xmath63 .",
    "as @xmath64  is selected , it attracts the particle : the rule changes the state of  @xmath64 to black .",
    "the third rule returns the state of  @xmath64 to white as the particle goes further on the tracks .",
    "this is witnessed by the fourth rule which can see the particle in the next cell of the tracks .",
    "the same rule also witnesses the flash of  @xmath80 which occurs at this very moment .",
    "@xmath190    the context of  @xmath80 is defined by where .",
    "this is illustrated by fig .",
    "[ ffconfig ] when .",
    "the context of  @xmath80 is when @xmath64  is not selected and it is when @xmath64  is selected",
    ".    the rules of  @xmath191 are the conservative rules of  @xmath80 .",
    "there are two such rules depending on which tracks between  @xmath64 and  @xmath73 is the selected one .",
    "the rules of the first line of  @xmath192 gives the rules which make  @xmath80 flash . in both cases ,",
    "the particle occurs in the neighbour belonging to the selected tracks .",
    "the rules of the second row of  @xmath192 bring back  @xmath80 to the black state as the flash is intended for one step only .",
    "@xmath174    we turn to the rules for  @xmath73 which have a similar role as those for  @xmath64 .",
    "the number of the cell is bbw , so that it context contains the pattern .",
    "the context of the cell is when @xmath73  is not selected and , with .",
    "the rules for  @xmath73 are displayed in @xmath193 and @xmath194 .",
    "the first rule of @xmath193 is the conservative rule for  @xmath73 when the cell is not selected .",
    "then , if a particle passes through  @xmath63 , it does not move to  @xmath73 , which is attested by the second rule : the state of  @xmath73 is not change .",
    "the third rule witnesses a flash of  @xmath80 which occurs when a particle crosses the switch as it will pass through  @xmath64 and this will trigger the flash of  @xmath80 .    the first rule in @xmath194",
    "is the conservative rule when @xmath73 is selected .",
    "now , the second rule shows that if the particle is present in  @xmath63 it then passes to  @xmath73 .",
    "the third rule witnesses the flash of  @xmath80 and it also turns back the state of  @xmath73 to white .",
    "the fourth rule witnesses that the particle left the cell and is now in the neighbouring cell of the tracks .",
    "@xmath195    now , we arrive to the sensors of  @xmath80 : @xmath137 and  @xmath138 .",
    "these cells show the non - selected track and they change their state to the other one when @xmath80  flashes .",
    "the cell  @xmath137 has the number wwb , so that its context contains the pattern .",
    "the context of  @xmath137 is , whatever the sate of  @xmath137 .",
    "the rules for  @xmath137 are displayed in @xmath196 .",
    "the first two rules are conservative : one for the white state , the other for the black one .",
    "the third rule witnesses the passage of the particle in  @xmath64 when @xmath137  is white .",
    "the last two rules change the state of  @xmath137 to its opposite one as @xmath80  is flashing in both cases .",
    "@xmath197    the number of the cell is bwb and so its context contains the pattern .",
    "the context of  @xmath138 is , with , whatever the state of  @xmath138 .",
    "the structure of the rules is very similar to that of the rules for  @xmath137 .",
    "the first two rules are the conservative rules for  @xmath138 : one when it is white , the other when it is black .    here too , the first two rules are conservative for  @xmath138 : one for the white state , the other for the black one .",
    "the third rule witnesses the passage of the particle in  @xmath73 .",
    "the last two rules trigger the change of state : from white to black and from black to white . in both cases , the rule witnesses the flashing of  @xmath80 .",
    "we can now turn to the memory switch .",
    "the idle configurations of both parts of the memory switch are represented by fig .",
    "[ mmaconfig ] and  [ mmpconfig ] for the active switch and the passive one respectively .",
    "the figures illustrate the case when .",
    "as mentioned in the captions , we detail the neighbourhood of the cells which contribute to the working of the switch .",
    "however , @xmath137 , @xmath138 , @xmath72 and  @xmath143 can not be named as their representation is too small .",
    "they can be deduced from what we explain in the rules .",
    "we first look at the rules for the active switch in subsubsection  [ activmemo ] .",
    "then , in subsubsection  [ passivmemo ] , we look at the rules for the passive memory switch",
    ". remember that the names of the cells are very different in both cases so that there will be no confusion between the cells of one one - way switch and those of the other .",
    "as mentioned in the case when , we can reproduce the configurations of the cells implied in the flip - flop for the active memory switch with one exception : the cell  @xmath80 which has a different behaviour in the active memory switch . accordingly ,",
    "the rules which we have established for  @xmath64 , @xmath73 , @xmath63 , @xmath137 and  @xmath138 are also in action here .",
    "we have just to give the rules for  @xmath80 .",
    "as this switch has some similarity with the flip - flop and as a single cell requires specific rules , the cell shares the pattern with the cells of the flip - flop .",
    "however , it receives the number  wbb so that it characteristic pattern is .    from fig .",
    "[ mmaconfig ] , we can see that the context of  @xmath80 is given by the word when @xmath73  is the selected track and when  @xmath64 is the selected track .",
    "the big difference with @xmath80  in a flip - flop is that here , @xmath80  does not react to the passage of the particle through  @xmath64 or  @xmath73 .",
    "the concerned rules do not change the state of  @xmath80 which remains black .",
    "the flash of  @xmath80 is here triggered by  @xmath146 .",
    "the rules of  @xmath198 deal with the case when @xmath73  is selected .",
    "the first rule is the conservative rule .",
    "the second rule witnesses the particle is in  @xmath63 and the third rule witnesses that the particle is in  @xmath73 .",
    "later , the particle is gone on the tracks and so , the conservative rule again applies .",
    "the rules of @xmath199 are exactly parallel to those of @xmath200 : they deal with the case when @xmath64  is selected .",
    "first , the conservative rule , then the witnessing of the particle at  @xmath63 and then of its presence in  @xmath64 .    the rules of @xmath201 deal with the flash of  @xmath146 .",
    "it may occur whatever the selected track is . in the first line ,",
    "@xmath64  is selected .",
    "the first rule witnesses the flash of  @xmath146 so that the rule makes  @xmath80 flash too .",
    "the second rule returns  @xmath80 to the black state . in the second line ,",
    "@xmath73  is selected .",
    "again the first rule makes  @xmath80 flash when the flash of  @xmath146 is detected .",
    "the second rule also returns  @xmath80 to the black state . in both cases ,",
    "the change of states in  @xmath137 and  @xmath138 is witnessed by the appropriate conservative rule , see  @xmath198 and  @xmath199 .      in the memory switch ,",
    "many cells have a specific surrounding .",
    "however , the central cell  @xmath63 of the switch is the same as that of the fixed switch as the latter switch is also a one - way passive switch .",
    "also , the cell  @xmath95 , the exit of  @xmath63 , is an ordinary cell of the tracks .",
    "so that we need not give its rules .",
    "but for the other cells , @xmath92 , @xmath62 , @xmath90 , @xmath72 , @xmath143 , @xmath145 and  @xmath146 , we have to look at the rules specifically .",
    "we not that here , the rules contain the pattern where bw characterizes the memory switch .",
    "@xmath202    this cell receives the number  bww so that its characteristic pattern is the word . from fig .",
    "[ mmpconfig ] , we know that is the context of  @xmath92 when it is not selected and when it is , where , in both cases , .",
    "first , consider the case when @xmath92  is not selected .",
    "the first rule of @xmath203 is the conservative rule corresponding to this configuration .",
    "the second rule detects the arrival of the particle from the tracks and it makes it enter  @xmath92 .",
    "the third rule returns  @xmath92 to white .",
    "the fourth rule witnesses that the particle is now in  @xmath63 and it also witnesses the flash of  @xmath90 as @xmath90 has detected that a particle passed through non selected tracks .",
    "next , we look at the case when @xmath92  is selected .",
    "the first rule of @xmath204 is the conservative rule of this situation .",
    "the next three rules are ordinary motion rules adapted to the context of  @xmath92 : the first rule attracts the particle into  @xmath92 , the second one returns the state of  @xmath92 to white and the third one witnesses that the particle is in the neighbour of  @xmath92 which is the next cell on the tracks .",
    "note that here , as @xmath92  is selected , there is no flash of  @xmath90 which is always black .",
    "a last rule is needed when @xmath92 is selected and when the particle passes through  @xmath62 .",
    "nothing happens in  @xmath92 , except when @xmath90 flashes as the particle crosses  @xmath62 which was not selected .",
    "this flash is also noticed by  @xmath92 as the particle is already in  @xmath63 , whence the rule @xmath205 .",
    "@xmath206    this cell receives the number  bbw so that its characteristic pattern is the word . from fig .",
    "[ mmpconfig ] , we know that is the context of  @xmath62 when it is not selected and when it is , where , in both cases , .",
    "first , we look at the case when @xmath62  is not selected .",
    "the concerned rules are given in @xmath207 .",
    "the first rule is the conservative rule of this case .",
    "the neighbour  @xmath143 is black .",
    "the second rule attracts the particle into  @xmath62 .",
    "the third rule returns the state of  @xmath62 to white .",
    "the fourth state witnesses that the particle is in  @xmath63 .",
    "it also witnesses that @xmath90 flashes as @xmath90 has seen that the particle went through the non selected tracks at the previous step .",
    "next , we look at the rules when @xmath62  is selected which are displayed by @xmath208 . again , the first rule is conservative , adapted to this configuration , where @xmath143  is white .",
    "the other rules are ordinary motion rules adapted to the context of  @xmath62 .",
    "the second rule of @xmath208 attracts the particle into  @xmath62 .",
    "the third rule witnesses that the particle goes out from  @xmath62 as the state of  @xmath62 returns to white .",
    "the fourth rule witnesses that the particle is now in  @xmath63 .",
    "this case still requires another rule : when the particle passes through  @xmath92 , as @xmath92 is not selected , this triggers the flash of  @xmath90 which is seen by  @xmath62 at the time when the particle is in  @xmath63 . whence the rule of @xmath209 .",
    "@xmath210    this cell receives the number  wbw so that its characteristic pattern is the word . from fig .",
    "[ mmpconfig ] , we know that is the context of  @xmath90 when  @xmath62 is selected and is the context of  @xmath90 when  @xmath92 is selected and , in both cases , .",
    "first , we look at the case when the particle goes through the non - selected tracks .",
    "the rules are displayed in @xmath211 when the particle goes through  @xmath92 and in @xmath212 when the particle goes through  @xmath62 .    in both cases , the first rule is the conservative rule of the idle configuration for  @xmath90 .",
    "the second rule witnesses that the particle goes through the non selected tracks : @xmath92  in @xmath211 , @xmath62  in @xmath211 .",
    "accordingly , the rule makes  @xmath90 flash .",
    "the third rule restores the black state in  @xmath90 and it witnesses that the particle is now in  @xmath63 .",
    "it is important to notice that the next situation , when @xmath72 and  @xmath143 both change their state , is witnessed by the fact that another conservative rule applies .",
    "presently , we look at the situation when the particle goes through the selected tracks .",
    "the corresponding rules are displayed in @xmath213 and @xmath214 .    when the selected track is  @xmath62 , the first rule witnesses the presence of the particle in  @xmath62 and the next rule witnesses that it is now in  @xmath63 .",
    "the same is performed when the selected track is  @xmath92 by the rules of @xmath213 .",
    "the first rule can see that the particle is in  @xmath92 and the next rule can see that it is in  @xmath63 .",
    "@xmath215    with  @xmath72 , we arrive to the sensors which contribute , with  @xmath90 , to the management of the switch .",
    "this sensor is in between  @xmath92 and  @xmath90 and it allows  @xmath90 to detect the passage of the particle on the non - selected tracks when  @xmath62 is selected .",
    "as a cell of the passive memory switch , @xmath72  receives the number , so that its context contains the pattern .",
    "whether the state of  @xmath72 is white or black , the context of  @xmath72 is always . in @xmath216",
    ", we can see the two corresponding conservative rules .    in @xmath216",
    "the rules witness the presence of the particle in  @xmath92 , whatever the state of  @xmath72 which is unchanged . at last ,",
    "we know that @xmath72 changes its colour , depending on the flash of  @xmath90 .",
    "the rules are given in @xmath217 : when @xmath72  is white it becomes black and when it is black , it becomes white .",
    "@xmath218    the cell  @xmath143 plays with  @xmath62 and  @xmath90 the same role as @xmath72  plays with  @xmath92 and  @xmath90 .",
    "its number is bwb , so that its context contains the pattern .",
    "accordingly , the context of the cell is now whether its state is white or black .    in @xmath219",
    ", we have the conservative rules , one for the white state , the other for the black one . in @xmath220",
    ", we have the rules which detects the presence of the particle in  @xmath62 , whatever the state of  @xmath143 . in @xmath221",
    ", we have the rules which manage the effect of the flash of  @xmath90 .",
    "when @xmath90  flashes , the particle is in  @xmath63 but can not be seen by  @xmath143 .",
    "one rule changes the state from black to white , the other from white to black .",
    "@xmath222    when @xmath90 flashes , it also sends a signal to the active memory switch in order to change the states of  @xmath137 and  @xmath138 , both at the same time .",
    "this is performed by sending a particle along a path from  @xmath90 to  @xmath80 .",
    "this path crosses twice other paths thanks to round - abouts as we have seen in subsections  [ scenario ] and  [ implement ] . outside its first and its last cells and outside the round - abouts ,",
    "the path consists of ordinary cells of the tracks and of corners .",
    "its first cell is  @xmath145 , a neighbour of  @xmath90 .",
    "its last cell is  @xmath146 , a neighbour of  @xmath80 .",
    "we presently see the rules of  @xmath145 .    as a cell of the passive memory switch , its number is wbb , so that its context contains the pattern .",
    "the context itself is .",
    "the rules for  @xmath145 are displayed by @xmath223 .",
    "the first rule is conservative and the second one reacts to the flash of  @xmath90 by changing the state of  @xmath145 from white to black .",
    "the third rule turns back the sate of  @xmath145 to white .",
    "now , the motion rules of the neighbour of  @xmath145 on the tracks has taken the particle emitted by  @xmath90 : this is witnessed by the fourth rule which can see the particle in this neighbour .    @xmath224    just before reaching  @xmath80  of the active memory switch , the particle sent by  @xmath90 passes through  @xmath146 , the neighbour of  @xmath80 which is on the path from  @xmath90 to  @xmath80 . and so , when the particle is in  @xmath80 , the next time @xmath80  flashes ,",
    "see the rules in @xmath201 .",
    "the cell  @xmath146 has the number bbb so that its contexts contains the pattern .",
    "the context is : , with .",
    "the rules are displayed in @xmath225 .",
    "we can see that the first rule is a conservative rule for  @xmath146 .",
    "the second rule applies when @xmath146  can see a particle in its neighbouring cell of the tracks : it changes the state of  @xmath146 to black .",
    "the third rule restores the white state of  @xmath146 .",
    "the fourth rule can witness the fact that @xmath80 is flashing as it has seen @xmath146 black the time before .",
    "the effect of the flash of  @xmath80 on  @xmath137 and  @xmath138 has been studied on the rules for these cells , namely in @xmath196 and in @xmath226 .",
    "now , this flash of  @xmath80 requires a rule which was not present in those of  @xmath64 and  @xmath73 in the flip - flop .",
    "indeed , when @xmath64 or  @xmath73 can see the flash of  @xmath80 in the flip - flop , the particle can also be seen by the cell , see the last rule of @xmath189 and the last one of @xmath194 . here , in the memory switch , when the flash of  @xmath90 eventually reaches  @xmath80 , there is no particle in the switch so that when the flash of  @xmath80 occurs , there is no particle seen by @xmath64 nor  @xmath73 . and",
    "so , this requires the rules of @xmath227 .",
    "the left - hand side rule applies to  @xmath64 and the right - hand side one applies to  @xmath73 .",
    "1=0    with these last rules , we have examined all possible cases .",
    "accordingly , this completes the proof of theorem  [ universal ] .",
    "we have now reached the minimal number of states in order to get a universal cellular automaton on the heptagrid with a true planar cellular automaton . however , we have not exactly all possible tessellations of the hyperbolic plane .",
    "a few of them are missing in the @xmath0 family : the values of  @xmath33 from  7 up to  12 , which means 6  cases .",
    "moreover , the question arises of what can be said for tilings @xmath228 which are tightly connected to the tilings @xmath0 : we now that @xmath228 and @xmath229+@xmath230 have the same spanning tree , see  @xcite where other references can also be found .",
    "m.  margenstern , cellular automata and combinatoric tilings in hyperbolic spaces , a survey , _ lecture notes in computer sciences _ , c. calude and m.j . dinneen and v. vajnovszki ( des . ) , * 2731 * , ( 2003 ) , 48 - 72 .              m. margenstern , towards the frontier between decidability and undecidability for hyperbolic cellular automata , _ lecture notes in computer sciences _ , a. kuera and i. potapov ( eds . ) , * 6227 * , ( 2010 ) , 120 - 132 .",
    "m. margenstern , a new weakly universal cellular automaton in the @xmath12 hyperbolic space with two states , _ lecture notes in computer sciences _ , g. delzanno and i. potapov ( eds . ) , * 6945 * , ( 2011 ) , 205 - 217 .",
    "m. margenstern , k. morita , np problems are tractable in the space of cellular automata in the hyperbolic plane , _ theoretical computer science _ , * 259 * , 99128 , ( 2001 ) m. margenstern , y. song , a new universal cellular automaton on the pentagrid , proceedings of * automata2008 * , june , 12 - 14 , 2008 , bristol , ( 2008 ) , 35 - 54 .",
    "m. margenstern , y. song , a universal cellular automaton on the ternary heptagrid , _ electronic notes in theoretical computer science _ , * 223 * , ( 2008 ) , 167 - 185 ."
  ],
  "abstract_text": [
    "<S> in this paper , we construct a family of weakly universal cellular automaton for all grids @xmath0 of the hyperbolic plane for @xmath1 . </S>",
    "<S> the scheme is general for @xmath2 and for @xmath3 , we give such a cellular automaton for @xmath4 , which is enough . also , an important property of this family is that the set of cells of the cellular automaton which are subject to changes is actually a planar set . </S>",
    "<S> the problem for @xmath5 for a truly planar construction is still open . the best result , for @xmath6 , is four states and was obtained by the same author .    </S>",
    "<S> * keywords * : cellular automata , hyperbolic plane , tessellations , universality </S>"
  ]
}