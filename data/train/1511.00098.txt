{
  "article_text": [
    "in this paper , we consider the cross - view and cross - modality matching problem between street - level rgb images and a geographic information system ( gis ) . specifically , given an image taken from street - level , the goal is to query a database assembled from a gis in order to return likely locations of the street - level query image which contain similar semantic concepts in a consistent layout . relying only on visual data is important in gps - denied environments , for images where",
    "such tags have been removed on purpose ( e.g. for applications in intelligence or forensic sciences ) , for historical images , or images from the web which are lacking any gps tags . traditionally , such matching problems are solved by establishing pairwise correspondences between interest points using local descriptors such as sift  @xcite with a subsequent geometric verification stage .",
    "unfortunately , even if top - down satellite imagery is available , such an approach based on local appearance features is not applicable to the wide - baseline cross - view matching considered in our setting , mainly because of the following two reasons .",
    "firstly , the extremely wide baseline between top - view gis imagery and the street - level image leads to a strong perspective distortion , and secondly , there can be drastic changes in appearance , e.g. due to different weather conditions , time of day , camera response function , etc .    in this paper , we present a system to handle those two challenges .",
    "we propose to phrase the cross - view matching problem in a semantic way .",
    "our system makes use of two cues : what objects are seen and what their geometric arrangement is .",
    "this is very similar to the way we humans try to localize ourselves on a map .",
    "for instance , we identify that a house can be seen on the left of a lake and that there are two streets crossing in front of this house",
    ". then we will look for the same semantic concepts in a consistent spatial configuration in the map to find our potential locations .",
    "inspired by this analogy , in our system , instead of matching low - level appearance - based features , we propose to extract segments from the image and label them with a semantic concept employing imperfect classifiers which are trained using images of the same viewpoint and therefore are not invalidated by the viewpoint change .",
    "gis often already provide highly - accurate semantically annotated top - down views thereby rendering the semantic labeling superfluous for the gis satellite imagery .",
    "hence , we assume that such a semantic map is provided by the gis .",
    "a typical query image and an excerpt of a semantic map can be seen in .",
    "the semantic concepts we focus on ( e.g. , buildings , lakes , roads , etc ) form large ( and quite often insignificant in number ) segments in the image , and not points . therefore , we argue that a precise point - based geometric verification , like a ransac - search@xcite with an inlier criterion based on the euclidean distance between corresponding points , is not applicable .",
    "we address these issues by designing a descriptor to robustly capture the spatial layout of those semantic segments .",
    "pairwise asymmetric l2 matching between these descriptors is then used to find likely locations in the gis map with a spatial layout of semantic segments which is consistent with the one in the query image .",
    "we also develop a tree - based search method based on a hierarchical semantic tree to allow fast geo - localization in a geographically broad areas .",
    "cross - view matching in terms of semantic segments between street - level query image and a gis map joins several previous research directions . matching across a wide baseline",
    "has traditionally been addressed with local image descriptors for points  @xcite , areas  @xcite , or lines  @xcite .",
    "registration of street - level images with oblique aerial or satellite imagery is generally based only on geometric reasoning .",
    "previous work , e.g. @xcite , has reduced the matching problem to a 2d-2d registration problem by projecting ground models along vertical directions and rectifying the ground plane . unlike our approach",
    ", the mentioned work requires a @xmath0d point cloud at query time , either from a laser scan  @xcite or from multiple views based on structure - from - motion  @xcite .",
    "more recently , @xcite considered the registration problem of a dense multi - view - stereo reconstruction from street - level images to oblique aerial views . building upon accurate 3d city models for assembling a database ,",
    "contours of skylines in an upward pointing camera can be matched to a city model  @xcite or perspective distortion can be decreased by rectifying regions of the query image according to dominant scene planes  @xcite .",
    "@xcite also relied on rectification of building facades , however , their system relied on the repetitive structure of elements in large facades , enabling a rectification without access to a 3d city model . using contours between the sky and landscape has also been shown to provide valuable geometric cues when matching to a digital elevation model  @xcite .",
    "not using any 3d information , lin et al .",
    "@xcite proposed a method to localize a street - level image with satellite imagery and a semantic map .",
    "their system relies on an additional , large dataset which contains gps - annotated street - level images which therefore establish an explicit link between street - level images and corresponding areas in the satellite imagery and semantic map .",
    "similarly to the idea of information transfer in exemplarsvms  @xcite , once a short - list of promising images from this additional dataset has been generated by matching appearance - based features , appropriate satellite and semantic map information can be transferred from this short - list to the query image .    visual location recognition and image retrieval system emphasise the indexing aspect and can handle large image collections : bag - of - visual - words  @xcite , vocabulary trees  @xcite or global image descriptors such as fisher vectors @xcite have been proposed for that purpose , for example .",
    "all those schemes do not account for any higher - level semantic information .",
    "more recently , @xcite has therefore introduced a scheme where pooling regions for local image descriptors are defined in a semantic way : detectors assign each segment a class label and a separate descriptor ( e.g. a fisher vector ) is computed for each such segment .",
    "those descriptors rely on local appearance features , which fail to handle significant viewpoint changes faced in the cross - view matching problem considered in our paper .",
    "also , this approach does not encode the spatial layout _ between _ semantic segments . if the descriptors are sufficiently discriminative by themselves , encoding this spatial layout is less important . in our case",
    "however , the information available in the query image which is shared with the gis only captures class labels and a very coarse estimate of the segment shapes .",
    "it is therefore necessary to capture both , the presence of semantic concepts and the spatial layout between those concepts , in a joint representation .",
    "very recently , ardeshir et al.s work  @xcite considered the matching problem between street - level image and a dataset of semantic objects .",
    "specifically , deformable - part - models ( dpms ) were trained to detect distinctive objects in urban areas from a single street - level image .",
    "the main objective of that paper was improved object detection with a geometric verification stage using a database of objects with known locations and the gps - tag and viewing direction of the image has been assumed to be known roughly .",
    "they also present an exhaustive search based approach to matching an image against the entire object database .",
    "the considered dpms in @xcite are well - localized and can be reduced to the centroid of the detection bounding box for a subsequent ransac step which searches for the best 2d - affine alignment in image space .",
    "therefore , @xcite can only handle such `` spot '' based information and is not designed to handle less accurate and potentially larger semantic segments with uncertain locations such as the ones provided by classifiers for ` road ' or ` lake ' .",
    "a graphical illustration of our proposed system is shown in .",
    "the building blocks proposed by our paper will be described in detail in the next section , here we provide a rough overview of the system and describe the system inputs .",
    "the computation of this input information relies on previous work and is therefore not considered as one of our contributions .",
    "given a street - level query image , first we split it into superpixel segments and label each segment with a semantic concept by a set of pre - trained classifiers .",
    "we train two different types of classifiers to annotate superpixels with class labels corresponding to a subset of the labels available in the gis . for semantic concepts with large variation in appearance and shape",
    ", we are using the work by ren et al .",
    "@xcite . however , in street level images , it is also quite common to spot highly informative objects with small with - in class variation .",
    "typical examples are traffic signs or lamp posts . for each of those classes ,",
    "we therefore employ a deformable - part - model ( dpm ) , similar to the ones of @xcite .",
    "the second piece of input information is an estimate of the vertical vanishing point or the horizon line , e.g.  @xcite describe how those entities can be estimated from a single image .",
    "the perspective distortion of the ground plane can then be undone by warping the query image with a suitable rectifying homography , which is fully determined by the horizon line , assuming a rough guess of the camera intrinsic matrix is available .",
    "we have opted to estimate the two inputs for our system , namely the ground plane location and the superpixel segmentation , in two entirely independent steps .",
    "we note however , that at the expense of higher computational cost this could be estimated jointly  @xcite .",
    "the semantic map from the gis and the warped and labelled query image now share the same modality and suffer from less perspective distortion . the cross - view matching problem between query and semantic gis map",
    "is then cast as a search for consistent spatial layouts of those semantically labeled regions . in order to do so , we design a semantic segment layout ( ssl ) descriptor which captures the _ spatial _ and _ semantic _ arrangement of those segments within a local support area located at a point in the query image or the semantic map . upon extracting such descriptors from the rectified image and semantic map ,",
    "the problem can be reduced to a well - understood matching problem .",
    "the goal of the ssl descriptor is to capture the _ presence _ of semantic concepts and at the same time encode the _ rough geometric layout _ of those concepts .",
    "similar to several previous descriptors  @xcite , the neighborhood around the descriptor centre is captured with pooling regions arranged in an annular pattern where the size of the regions increases with increasing distance to the descriptor centre .",
    "we instantiate separate pooling regions for each semantic concept and the overall descriptor is the concatenation of the per - concept descriptors .",
    "similar to appearance based local descriptors , we have to choose the locations where to extract descriptors and its orientation .",
    "we are not aware of a good way to find reliable interest points in arrangements of semantic regions .",
    "we initially experimented with placing a separate descriptor at the center of each semantic segment .",
    "unfortunately , this choice turns out to be very sensitive to the location of the segment projected onto the ground plane .",
    "this projection depends on an accurate estimate of the contact region of that segment with the ground plane . based on our experiments , it is challenging to get a sufficiently accurate estimate without manual user intervention . in some preliminary experiments ,",
    "we therefore also tried to factor in the contact region uncertainty by blurring the contributions of a neighbouring segment along the line of sight between the camera and that segment , with an increasing amount of blur the further away the segment is from the camera center .",
    "we think this is an elegant and theoretically sound way to account for those uncertainties and we refer to for a graphical illustration of the descriptor and of the subsequent processing steps of our preliminary pipeline .",
    "we plan to explore this pipeline in future work in more detail . in this work",
    "however , we settled for a simpler choice : a single descriptor is placed either in the center of the rectified image ( denoted ci in the experiments ) or at the center of the camera ( cc in the experiments ) . also , despite the ssl descriptor being more general , we only choose one annular pooling region thereby putting more emphasis on capturing the direction of semantic segments rather than the direction _ and _ distance .",
    "this choice is again motivated by the difficulty of accurately estimating contact regions .",
    "we suggest using descriptors which are not rotation invariant and an orientation therefore needs to be assigned to each descriptor as well .",
    "the reason for this choice is that the alternative of defining a rotation - invariant descriptor leads to a considerably less discriminative descriptor and pairwise matching score .",
    "it is straightforward to define a canonical orientation in the semantic gis map .",
    "for example , the first pooling region can be chosen to point to geographic north . however ,",
    "unless compass direction is available , it is not easily possible to define a canonical orientation for the rectified query image .",
    "hence , we choose an arbitrary direction for the descriptors extracted from the rectified query image , and cope with not knowing the rotation parameters by employing a rotation invariant distance metric at the query time ( see section ) .",
    "there are several ways to capture the overlap between a pooling region and a semantic segment .",
    "an intuitive approach is to compute the area of intersection between the pooling region and the segment .",
    "this can be fairly slow for irregularly shaped segments .",
    "moreover , the shape of the segments in the query image are quite imprecise , so an accurate computation of the intersection area might be unnecessary or even harmful . here , we propose a scheme motivated by a probabilistic point of view .",
    "the segments can be considered as a spatial probability distribution , that a point sampled in or close to this segment takes a certain label .",
    "similarly , the pooling regions are interpreted as probability distributions of sampling a point at a certain location .",
    "we then have to compute a statistical measure for the similarity between the two distributions . for discrete distributions ,",
    "the mutual information is a good candidate . in our setting",
    "however , we have to handle continuous distributions defined over the ground plane .",
    "the bhattacharyya distance  @xcite is a good way to measure the overlap between two continuous distributions and can be efficiently computed when we deal with gaussian distributions .",
    "hence , in practice , in order to keep the computational requirements low , we will use a two - dimensional gaussian to define a pooling region and each segment will be approximated by a gaussian , as well . in detail , let @xmath1 and @xmath2 denote the gaussian for the segment and the pooling region , respectively .",
    "the bhattacharyya distance is then given by @xmath3 where @xmath4 .",
    "if multiple segments that are labeled with the same semantic concept are present , they can be treated as a gaussian mixture model ( gmm ) .",
    "the bhattacharyya distance between two gmms can be approximated @xcite by @xmath5 , where @xmath6 and @xmath7 are a gmm for the segment and the pooling region , respectively . in our case , the pooling region is always represent by a single gaussian , so @xmath8 and @xmath9 .",
    "the bhattacharyya distance is then converted to the hellinger distance @xmath10 where @xmath11 is the bhattacharyya coefficient .",
    "our descriptor is the concatenation of all those hellinger distances @xmath12 .",
    "each block of this descriptor corresponding to a semantic concept is then l2-normalized independently of the other blocks .",
    "if a concept is not present , the hellinger distance for all pooling regions of that concept are set to zero .",
    "the descriptor extraction from the semantic map is considerably simpler than from the query ] matching --------    given a street - level query image , our goal is to generate a ` heat - map ' of likely locations where this image has been taken .",
    "the semantic gis map is therefore split into fix sized overlapping tiles , based on parameters such as average query image field - of - view and height of camera above ground . as described previously , the rotation alignment between the descriptor used in the semantic map and the query image is unknown . in order to cope with that",
    ", we propose to rotate one of the descriptors in discrete rotation steps and compute the l2 distance for each step .",
    "this boils down to the computation of a circular correlation ( or circular convolution ) between blocks of the two descriptors corresponding to the same semantic concept .",
    "this can be implemented efficiently with a circulant matrix multiplication or even with a fft using the circular convolution theorem  @xcite .    in our implementation",
    ", we are currently using the l2 distance between two descriptors .",
    "however , especially for the descriptor placed at the camera centre , several pooling regions will not be contained in the field of view .",
    "we therefore employ an asymmetric l2 distance where the distance contribution of pooling regions in the query descriptor which are not within the field of view of the camera is set to zero .",
    "the field of view of the camera can easily be estimated given the image resolution and focal length .",
    "groups with the hierarchical spectral clustering , as described in the paper .",
    "we can see how this clustering produces semantically similar clusters .",
    "note that the white areas in the top - most layer denote tiles which are mostly empty , i.e. had no semantic entries in the gis map.,scaledwidth=45.0% ]    the reference area covered by gis maps is often very broad .",
    "this leads to a large number of reference tiles which the query descriptor should be compared against .",
    "several techniques , such as k - means or kd - tree , have developed for fast nearest neighbor search  @xcite which we can employ to speed up this process .",
    "we describe a procedure inspired by k - means trees  @xcite suitable for pre - computing a hierarchical semantic tree which arranges the tiles of the map in a semantically and spatially meaningful way .",
    "this speeds up the matching and also enables fast semantic queries in a gis system .",
    "our tree construction is based on hierarchical spectral clustering with @xmath13 branches on each level . the similarity matrix required for spectral clustering",
    "is composed of the previously described asymmetric distance between pairs of tiles of the gis map .",
    "this provides us with a @xmath14 similarity matrix , where @xmath15 denotes the number of tiles .",
    "we use spectral clustering , rather than k - means as used in k - means trees or similar methods , since we are employing our own customized distance function ( asymmetric l2 ) while those methods often assume a standard distance .",
    "shows the two top layers of the hierarchical tree ( @xmath16 ) obtained by applying the procedure just defined on a large gis image .",
    "what we observe is that the area has been partitioned into three well - defined semantic concepts : water ( in blue ) , area scarcely populated ( yellow ) and densely populated area ( grey ) in the first layer . in the second layer ,",
    "each of those three areas are decomposed into three other areas , and construction of the tree continues as such .",
    "the tree being semantically meaningful is a byproduct of the fact that our descriptor is targeted towards capturing semantic information . at query time , we start traversing the tree at the root .",
    "the query image is matched against a random subset of tiles contained in each cluster of the current level .",
    "the most promising child node out of the @xmath13 children at each level , which represents the cluster , is found in this way .",
    "we use this technique since the cluster center is not straightforward to define for our customized distance functions .",
    "the tree is traversed all the way down to the leaf nodes to find the final match .",
    "the tree depth is @xmath17 , which leads to a speed - up of roughly @xmath18 where @xmath19 denotes the cardinality of the random subset of tiles explored at each level .",
    "our framework has been tested for the geolocalization of generic outdoor images taken in the entire ( @xmath20 ) of the district of columbia , us , as extensive gis databases of this area are made available to public  @xcite .",
    "the area is depicted in figure [ fig : exp1 ] and includes a variety of different regions ( water , suburban , urban ) .",
    "we have gathered a set of @xmath21 geo - tagged images from google maps and panoramio taken at different locations , which serves as a benchmark for our system .",
    "we have @xmath22 semantic classes , that are @xmath23\\{_road , tree , building , water , lamp post , traffic signal , traffic sign _ } , and in the following experiments we are going to use different sets of classes .",
    "the size of a tile in the gis is around @xmath24 .",
    "we set the number of rings in our descriptors to @xmath25 , and the number of pooling regions to @xmath26 .",
    "we assume that the focal length is approximately known .",
    "the homography which rectifies the ground plane is then determined by the vertical vanishing point or the horizon line .",
    "we assume that the y - axis of the image is roughly aligned with the vertical direction and the vertical vanishing point is then given by the mle including all the lines segments @xmath27  degrees w.r.t .",
    "the y - axis , see also @xcite .",
    "as ground plane estimation is not the topic of our paper , we manually check and correct highly inaccurate estimates of the vanishing point in our benchmark images in order not to bias our evaluation toward mistakes in the ground plane estimation ( this is done for all baselines ) .",
    "since the semantic gis map uses metric units and the rectified image is in pixels , the size or scale of the pooling regions need to be converted between those two units .",
    "a reasonable assumption for street - level images is that the camera is roughly at @xmath28 above ground .",
    "the conversion factor between metric units and pixels is then given by @xmath29 = \\frac{f}{d } [ \\text{meters}]$ ] .",
    "the scale of the pooling regions is chosen such that a ssl descriptor captures significant contributions from segments within roughly @xmath30 m .",
    "reports detailed qualitative results of our proposed cross - view matching scheme for several sample queries .",
    "several interesting observations can be made in this figure .",
    "first , as the covered area is very large , even such generic semantic cues can narrow down the search space to often @xmath31 .",
    "second , the semantic and geometric similarity among the top 15 matching gis tiles shows the proposed method is successfully capturing such properties and is yet forgiving of the modeled uncertainties by not being overly discriminative ; note that the ground truth location ( marked in the cdf ) is often among the top few percents .",
    "third , the heat map correlates well with the semantic content of the image .    as for quantitative results ,",
    "we compare different nearest neighbor ( nn ) classifiers with the following feature vectors : ssl descriptor in the center of image ( per query image / gis tile ) , ssl descriptor in the center of the camera , binary indicator vector encoding the presence or absence of semantic concepts ( _ presence _ term ) , ssl descriptor in the center of the camera plus the presence term . the last method is random matching",
    ". the superior results of the ssl plus presence matching reported in confirm the necessity of jointly using semantic and coarse geometry for a successful localization task .",
    "we also suspect that placing the ssl descriptor in the center of camera results in better performance than placing the descriptor in the center of the image because the former approach is less sensible to tiling quantization artifacts : e.g. objects on the left side of the field of view will generally remain on the left side even when the viewpoint is moved to the closest tile location .",
    "we used the subset @xmath32\\{_building , lamp post , traffic signal , traffic sign _ } of the @xmath33 semantic classes since this subset yielded the best overall geo - localization result .",
    "for further evaluation , depicts the results of ssl plus presence matching over four different sets of semantic classes , which shows the contribution of each semantic class in the overall geo - localization results .",
    "interestingly , the curves also show how certain sets of semantic classes may even mislead the geo - localization process .",
    "we believe this is due to un - informativeness ( e.g. being too common ) of some classes as well as several sources of noise whose magnitude can vary between different classes ( e.g. inaccurate entries in gis map , semantic segmentation misclassifications , etc . ) . if enough training data were available , appropriate weights could be learned for each class .",
    "this paper proposed an approach for cross - view matching between a street - level image and a gis map .",
    "this problem was addressed in a semantic way .",
    "a fast semantic segment layout descriptor has been proposed which jointly captures the presence of segments with a certain semantic concept and the spatial layout of those segments .",
    "as our experimental evaluation showed , this enabled matching a street - level image to a large reference map based on purely semantic cues of the scene and their coarse spatial layout .",
    "the results confirm that the semantic and topological cues captured by our method significantly narrow down the search area .",
    "this can be used as an effective pre - processing for other less efficient but more accurate localization techniques , such as street view based methods .",
    "* acknowledgments : * this work has been supported by the max planck center for visual computing and communication .",
    "we also acknowledge the support of nsf career grant ( n1054127 ) ."
  ],
  "abstract_text": [
    "<S> matching cross - view images is challenging because the appearance and viewpoints are significantly different . </S>",
    "<S> while low - level features based on gradient orientations or filter responses can drastically vary with such changes in viewpoint , semantic information of images however shows an invariant characteristic in this respect . </S>",
    "<S> consequently , semantically labeled regions can be used for performing cross - view matching .    in this paper </S>",
    "<S> , we therefore explore this idea and propose an automatic method for detecting and representing the semantic information of an rgb image with the goal of performing cross - view matching with a ( non - rgb ) geographic information system ( gis ) . a segmented image forms the input to our system with segments assigned to semantic concepts such as traffic signs , lakes , roads , foliage , etc . </S>",
    "<S> we design a descriptor to robustly capture both , the presence of semantic concepts and the spatial layout of those segments . </S>",
    "<S> pairwise distances between the descriptors extracted from the gis map and the query image are then used to generate a shortlist of the most promising locations with similar semantic concepts in a consistent spatial layout . an experimental evaluation with challenging query images and </S>",
    "<S> a large urban area shows promising results . </S>"
  ]
}