{
  "article_text": [
    "ibm has previously announced a multi - year initiative to build a petaflops scale supercomputer for computational biology research @xcite .",
    "the bluegene / l machine is a first step in this program @xcite .",
    "it is based on a different and more general architecture than the original bluegene announcement . in particular , bluegene /",
    "l uses embedded powerpc processor cores developed by ibm microelectronics @xcite for asic products .",
    "the lattice community has seen great success of some special - purpose , massively parallel machines dedicated for qcd , for example , the combined 1 teraflops qcdsp machine @xcite and the follow - on 20 teraflops qcdoc machine @xcite currently being developed at columbia university in collaboration with ibm research .",
    "the bluegene / l design philosophy has been influenced by qcdsp and qcdoc .",
    "contrasting to the current commercial approach of building large - scale supercomputers by clustering general purpose yet complex smp systems , bg / l leverages ibm s system - on - a - chip silicon technology and builds a large parallel system consisting of more than 65,000 nodes , yet at a significantly lower price / performance and power consumption / performance versus conventional approaches .",
    "compared to qcdoc , bg / l will be using a newer generation of ibm s silicon technology , with enhancements in single node performance as well as a more general network supporting hardware point - to - point message passing ( cut - through routing ) .",
    "this makes bg / l suitable for a wide variety of applications .",
    "the bluegene / l project is a jointly funded research partnership between ibm and the lawrence livermore national laboratory ( llnl ) as part of the us department of energy asci advanced architecture research program .",
    "the main research and development effort is centered at the ibm t.j .",
    "watson research center , with supports from ibm enterprise server group and ibm microelectronics .",
    "application performance and scaling studies have been initiated with partners at a number of academic and government institutions , including the san diego supercomputing center and the california institute of technology .    a large machine with a peak performance of 360 teraflops is anticipated to be built at the llnl in the 2004 - 2005 time frame . a smaller",
    ", 100 teraflops machine is expected to be built at the ibm t.j .",
    "watson research center for computational biology studies .",
    "bluegene / l is a massively parallel , scalable system .",
    "a single parallel job can use up to 65,536 compute nodes .",
    "the system is configured as a 32@xmath032@xmath064 three - dimensional torus of compute nodes .",
    "each node consists of a single compute asic and memory .",
    "each node can support up to 2 gb of local memory .",
    "balancing cost and application requirements , our current plan calls for 256 mb of ddr - sdram per node .",
    "the asic will be manufactured on ibm cmos cu-11 0.13 micron copper technology with an expected 11.1 @xmath1 die size .",
    "this is the next generation ibm cmos technology compared to the one used by qcdoc .",
    "there are two powerpc 440 32 bit integer cpu cores in each bg / l asic , each core connects to a ",
    "double \" floating point unit capable of 2 fused floating point multiply - adds per cpu clock cycle . at a target frequency of 700 mhz , each core can achieve a peak performance of 2.8 gflops . in normal operations",
    ", we expect that one cpu will be mainly doing computation while the other one will be busy handling communications",
    ". however , for certain kinds of applications , if the communication requirement are small compared to the amount of compute , or if there are separate computation and communication steps , then both cores can be utilized for compute , leading to 5.6 gflops peak performance per node .",
    "we therefore quote the performance per node as 2.8/5.6 gflops .",
    "figure [ fig : bglbuild ] shows the steps of building the bluegene / l supercomputer .",
    "2 compute asic chips along with their associated local memory are put onto a compute card .",
    "a node board will have 16 compute cards .",
    "a cabinet includes 2 mid - planes .",
    "a total of 32 node boards are plugged into both sides of the 2 mid - planes . within a cabinet ,",
    "the compute nodes form a geometry of 8@xmath08@xmath016 ( 8@xmath08@xmath08 per mid - plane ) with a peak performance of 2.9/5.7 tflops and a total of 256 gb memory .",
    "the bluegene / l system consists of 64 cabinets connected as a 32@xmath032@xmath064 torus .",
    "the total peak performance is 180/360 tflops and the total amount of memory is 16 tb . the system will occupy an area of about 250 @xmath2 , and the total power is estimated at approximately 1 mw .",
    "in addition to the computing nodes in the system , there are also i / o nodes .",
    "each i / o node contains the same asic as in a compute node , but with 512 mb of memory .",
    "these additional i / o cards are plugged into the same node board with compute cards .",
    "an i / o node connects to a number of compute nodes through a custom high speed network , and to outside host and disk farm through a gigabit ethernet .",
    "these i / o nodes are used to offload the work required for disk i / o and host communications from the compute nodes .",
    "we plan to install one i / o node per 64 compute nodes .",
    "the maximum ratio is one i / o node for every 8 compute nodes .    besides the active 64 cabinets",
    ", the large bg / l system also includes a number of spare cabinets , gigabit ethernet switches racks , disk i / o racks plus a host computer .",
    "the gigabit switches connect to the bg / l i / o nodes , the host computer and the disk farm .",
    "the architecture of the bg / l node asic is shown in figure [ fig : bglasic ] .",
    "each asic integrates two powerpc 440 cores , each with a powerpc 440 fp2 core , 2 small l2 buffers , 4 mb embedded dram configured as l3 cache , ddr - sdram memory controller for connecting to external memory , custom designed high speed torus and tree network logic , a gigabit ethernet and a jtag control interface .",
    "the 440 is a standard 32-bit integer microprocessor core product from ibm microelectronics .",
    "the same core for a previous generation technology is used in the qcdoc project .",
    "each core has 32 general purpose registers .",
    "it has integrated 32 kb instruction l1 cache and 32 kb data l1 cache .",
    "they provide one cycle access from the cpu .",
    "there are three 128 bit buses coming out of the core , one each dedicated for data read , data write and instruction load .",
    "this core supports all common powerpc instructions as well as instructions defined in the powerpc book e standard for embedded processors .",
    "the 440 fp2 core is an enhanced ",
    "double \" 64-bit floating - point unit .",
    "it consists of a primary and a secondary unit , each of which is a complete fpu with their own register sets .",
    "the primary fpu supports standard powerpc floating point instructions .",
    "it can do a single fused 64 bit multiply - add in one processor cycle . through a simd like instruction extension",
    ", both fpu units can be utilized to execute 2 fused 64 bit multiply - adds per cycle .",
    "in addition , a separate floating point load / store operation can be executed in parallel to the multiply - adds .",
    "the load / store unit supports 128 bit  quad - word \" load / store from either the l1 cache or the 440 memory interface , to a pair of registers , one each from the two fp units .",
    "this increased load / store bandwidth to fp registers is to match the increased floating point performance .",
    "it is also used to efficiently move data to and from the custom high - speed network interfaces , as the 32 bit integer unit does not have the adequate bandwidth to its internal registers to support high speed data movements .",
    "the floating point instruction extension is also powerful enough to allow the exchange of register contents between the two fp units while they are executing multiply - adds , without extra instruction overheads .",
    "each of the 440 processor core is directly connected to a small 2 kb l2 cache , then to a shared l3 directory which controls 4 mb of embedded dram as the l3 cache .",
    "the l3 controller directly connects to a ddr - sdram controller for external memory .",
    "both the 4 mb l3 cache and the external ddr - sdram are ecc protected .    because the 440 hardware does not support smp protocols for its l1 cache , the l1 cache of the two processors are not coherent .",
    "we have therefore implemented a lock box and a small fast multi - port sram behind the two l2 caches to facilitate processor - to - processor communications .",
    "the l2 and l3 caches are coherent for both processors .",
    "a data prefetch engine is built into each l2 cache to reduce the latency for sequential data accesses from l3 and external memory .",
    "the memory subsystem is being designed for low latency , high bandwidth accesses to cache and memory .",
    "an l2 hit returns in 6 to 10 processors cycles , an l3 hit in about 25 cycles , and an l3 miss ( loading from external dram ) in about 75 cycles .",
    "various memory bandwidth numbers are listed in table [ tab : bglqcdoc ] as they are compared to qcdoc .",
    "the l2 caches are also directly connected to a set of fifos to allow for fast and high bandwidth access to both a 3-d torus network and a global tree network .",
    "the 3-d torus is a high speed network used for general - purpose , point - to - point message passing operations .",
    "each asic has 6 torus links build in . on a compute node",
    ", these 6 links are connected to its 6 nearest neighbors , in the @xmath3 , @xmath4 , @xmath5 , @xmath6 , @xmath7 and @xmath8 directions , respectively .",
    "there is one link between a pair of nearest neighbors .",
    "each link is a bi - directional serial connection with a target speed of 1.4 gbit / s per direction .",
    "figure [ fig : bgltorusarch ] illustrates the torus logic . within a node asic , 2 sets of injection fifos and 2 sets of reception fifos are directly connected to the l2 cache .",
    "these fifos along with 6 input links and 6 output links are then connected through a global cross - bar switch .",
    "a packet injected on one node will route through the 3-d torus network in hardware without any software overhead until it reaches its destination , where it will then be pulled out by a cpu from a reception fifo .",
    "a packet could vary in size from 32 bytes to 256 bytes in 32-byte granularity .",
    "even though in the normal operating mode , we envision that one cpu will be used for compute and the other for network and i / o traffic , there is no hardware limitation as to which cpu can access which fifo .",
    "the design is symmetric in this respect .",
    "virtual channels are used to in the torus network to avoid dead - locks @xcite .",
    "a token based flow control mechanism is used to improve throughput @xcite .",
    "the torus switch is highly pipelined and implements virtual cut - through routing @xcite .",
    "in addition , the torus network supports both adaptive and deterministic minimal - path routing @xcite .",
    "figure [ fig : bglrouting ] illustrates adaptive routing .",
    "packets could take different paths to reach their destination as long as the paths are minimal , i.e. , every hop a packet makes should reduce its distance to the destination .",
    "the actual path a packet goes through is determined dynamically on each node depending on local traffic .",
    "all these features combined optimize both the throughput and latency over the torus network .",
    "in addition to the point - to - point message passing , we have also implemented multicast operations in the torus hardware to allow for one node to broadcast a message to a  class \" of nodes .",
    "this feature has been proven to be very useful for a number of applications .",
    "all data and token flow - control packets are protected by crc .",
    "if an error happens on a link , the bad packet that got received will be automatically deleted from the network , and the good packet will be retransmitted over the same link .",
    "the error and retransmission protocol is handled automatically by the torus hardware .      on a large scale",
    "parallel machine like bluegene / l , one constraint that affects the scalability of a large class of applications is the time it takes for a global reduction operation , for example , a global sum .        to reduce the latency of global reduction operations , the bg / l supercomputer implements a global tree network .",
    "this is a binary - tree like network shown in figure [ fig : bgltree ] .",
    "the global tree network supports global broadcast from a single node to all nodes , and global reduction operations including global integer maximum , global integer sum and certain binary operations like global and , or and xor .",
    "the tree network logic is also integrated into the node asic .    during a global reduction",
    ", each node contributes a message .",
    "all messages from all nodes are combined into a single message and are then broadcast to each contributing nodes .",
    "a single round - trip latency on the global tree network is about 5 @xmath9 .",
    "a global floating point sum ( implemented by first an integer max to scale the exponents , then an integer sum ) requires 2 round - trips over the network and therefore has a latency of approximately 10 @xmath9 .",
    "each tree link maintains a constant bandwidth of 2.8 gbit / s per link per direction .",
    "in addition to the global operations mentioned above , the tree network also supports point - to - point messaging from the root of a segment of the tree to all its sub - leaves .",
    "i / o nodes are connected to compute nodes through the tree network .",
    "each bg / l node asic has an integrated gbit ethernet . on a compute node",
    ", this ethernet port is not used .",
    "while on an i / o node , the gbit ethernet is connected to central gbit ethernet switches , which in turn connects to the host computer and i / o disk farm .",
    "each i / o node connects to a number of compute nodes through the high speed tree network . depending on the i / o requirement , the maximum i / o node to compute node ratio is one i / o node for every 8 compute nodes .",
    "on bg / l , we plan to install one i / o node for every 64 compute nodes leading to a total of 1024 i / o nodes for the 64k node machine .",
    "the total peak i / o bandwidth is therefore 1 terabit / s .      on a large scale parallel supercomputer , it is often desirable that a big machine can be partitioned into smaller machines .",
    "on bg / l , partitioning is achieved through software configuration .",
    "figure [ fig : bglpartition ] illustrates the basic idea of bg / l partitioning . within a bg / l cabinet , there are 2 mid - planes , each with 512 compute nodes attached forming a @xmath10 3-d lattice . on the edge of each mid - plane",
    ", there is a set of re - drive chips .",
    "they capture the high speed torus and tree network signals coming from node asics over a certain length of mid - plane board trace , then re - drive them over the cable connecting different cabinets .",
    "this improves the high speed signal quality .",
    "these re - drive chips can be programmed by the host to either include the nodes of the current cabinet in the torus loop for a large partition , or to skip over them , therefore creating a separate physical partition .",
    "this scheme allows each partition to be electrically isolated .",
    "each partition has its own torus and tree networks that do not communicate with other partitions . with a few more spare cabinets in the system and proper diagnostic software ,",
    "the bg / l system can detect failures and swap the cabinet that has bad nodes with a good cabinet , and automatically restart the application from the last checkpoint on a complete good machine partition .",
    "this provides added reliability for the bg / l system .",
    "figure [ fig : bglsystem ] shows the complete system expected to be built at the llnl .",
    "there are 64 main cabinets plus 8 cabinets for spares and code development .",
    "these cabinets are then connected through racks of gigabit ethernet switches to disk i / o racks .",
    "a host computer is connected directly to the gigabit switch complex .",
    "an example of partitioning would be to have a large 32 cabinet system ( 32@xmath032@xmath032 torus ) , a number of medium 4 cabinet systems ( 16@xmath016@xmath016 torus ) and a number of small 1/2 cabinet systems ( 8@xmath08@xmath08 torus ) .",
    "scalable system software that supports efficient execution of parallel applications is an integral part of the bluegene / l architecture .",
    "our plan is to have a lightweight high - performance kernel running on compute nodes , and to expect linux running on i / o nodes .",
    "the lightweight compute kernel approach was motivated by the puma and cougar kernels at sandia national laboratory and the university of new mexico .",
    "the bg / l compute kernel is a single user os that supports execution of a single dual - threaded ( one thread for each of the two processors within a node ) user process .",
    "it provides a single and static virtual address space to the one running compute process .",
    "there is no need for context switching . because the powerpc 440 processor core supports large pages , demand paging is not necessary .",
    "the user process will receive full resource utilization , yet the os is still protected from the user application through a virtual memory system .",
    "i / o nodes will support multiple processes .",
    "they will only execute system software , no user applications .",
    "they provide i / o support to compute nodes , i.e. , file operations to the disk farm , control and monitoring support for the host , etc .    in terms of development tools and environment ,",
    "ibm s xl - c , xl - c++ and xl - fortran compilers are expected to be ported to support both the ppc 440 integer unit as well as the fp2 floating point unit .",
    "the gnu - c compiler already supports the common set of powerpc instructions , albeit it does not support the fp2 instruction extensions , which the ibm compilers are expected to support .",
    "a set of highly optimized math libraries is also expected to be provided to facilitate high performance application development . as for parallel environment",
    ", we anticipate to provide mpi support as well as a user level , low latency system programming interface to facilitate the utilization of the high speed torus and tree networks .",
    "the bg / l team has been doing extensive studies of a wide variety of applications @xcite .",
    "the results of these studies are very encouraging .",
    "they show that a large class of applications scales well on the bg / l architecture , even to the level of 65,536 nodes .    in this section , for the interest of the lattice community , we will compare the architecture of bg / l to qcdoc , as applied to qcd type applications .",
    "reference @xcite shows that for wilson fermions , on a @xmath11 lattice per node , qcdoc can sustain about 50% of the peak performance .",
    ".comparisons between qcdoc and bluegene / l . [ cols=\"<,^,^\",options=\"header \" , ]     table [ tab : bglqcdoc ] shows a comparison of various performance and memory bandwidth numbers between qcdoc and bg / l . for lattice qcd applications , because most of the communications are between nearest neighbors , we expect that both processors on a bg / l node will be available for computation . from qcdoc to bg",
    "/ l on a per node basis , the sustained memory read bandwidth from edram improves by a factor of 2.8 , the external memory bandwidth by a factor of 2.15 and the torus network bandwidth by a factor of 2.8 . while the peak floating performance is increased from 1 gflops to 5.6 gflops , we expect the overall performance improvement per node will be determined mainly by the memory bandwidth , therefore about a factor 2.15 to 2.8 .",
    "given the high efficiency of qcdoc , we expect bg / l to also perform well for qcd applications .",
    "system - on - a - chip technology has opened new possibilities of building large scale supercomputers . by optimizing the overall system , great reduction in cost / performance , power consumption / performance and machine size / performance can be achieved .",
    "bluegene / l is a first step in ibm s commitment to petaflops scale computing by exploring a new architecture of building massively parallel machines . with more applications ported and optimized for this kind of architecture , there will be great scientific benefits and rewards .",
    "9 f.  allen _ et al .",
    "_ , blue gene , ibm system journal vol .",
    "40 no .  2 ( 2001 ) 310 .",
    "ibm research bluegene project web page , www.research.ibm.com/bluegene .",
    "ibm microelectronics , www.chips.ibm.com .",
    "d.  chen _ et al .",
    "_ , nucl .",
    "b ( proc . suppl . ) 73 ( 1999 ) 898 .",
    "mawhinney , parallel comput .  25 ( 1999 ) 1281 .",
    "christ _ et al .",
    "_ , qcdoc , a 10-teraflops scale computer for lattice",
    "qcd , nucl .  phys .",
    "b ( proc .  suppl . ) 94 ( 2001 ) 825 .",
    "dally and c.  seitz , deadlock - free massage routing in multiprocessor interconnection networks , ieee transactions on computers ( 1987 ) 547 .",
    "virtual channel flow control , ieee transactions on parallel and distributed systems 3 no .  2 ( 1992 ) 194 .",
    "p.  kermami and l.  kleinrock , virtual cut - through , computer networks vol .  3 ( 1979 ) 267 .",
    "j.  duato , a new theory of deadlock - free adaptive routing in wormhole networks , ieee transactions on parallel and distributed systems vol .  4 no .  12 (",
    "1993 ) 1320 .",
    "v.  puente _ et al .",
    "_ , adaptive bubble router , proc . of 22nd international conference on parallel processing ( 1999 ) .",
    "g.  almasi _ et al .",
    "_ , cellular supercomputing with system - on - a - chip , proc .",
    "ieee international solid - state circuits conf .",
    "bg / l team , an overview of the bluegene / l supercomputer , to appear in supercomputing 2002 proceedings .",
    "p.  boyle _ et al .",
    "_ , in this proceedings .",
    "scott _ et al .",
    "_ , the cray t3e network : adaptive routing in a high performance 3d torus , proc .",
    "hot interconnects iv ( 1996 ) ."
  ],
  "abstract_text": [
    "<S> the architecture of the bluegene / l massively parallel supercomputer is described . </S>",
    "<S> each computing node consists of a single compute asic plus 256 mb of external memory . </S>",
    "<S> the compute asic integrates two 700 mhz powerpc 440 integer cpu cores , two 2.8 gflops floating point units , 4 mb of embedded dram as cache , a memory controller for external memory , six 1.4 gbit / s bi - directional ports for a 3-dimensional torus network connection , three 2.8 gbit / s bi - directional ports for connecting to a global tree network and a gigabit ethernet for i / o . </S>",
    "<S> 65,536 of such nodes are connected into a 3-d torus with a geometry of 32@xmath032@xmath064 . </S>",
    "<S> the total peak performance of the system is 360 teraflops and the total amount of memory is 16 terabytes . </S>"
  ]
}