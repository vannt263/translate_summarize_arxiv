{
  "article_text": [
    "the era of large spectroscopic surveys of massive stars has already begun , providing us with a huge amount of high - quality spectra of galactic and extragalactic o - type stars .",
    "the _ iacob spectroscopic survey of northern galactic ob - stars _ is one of them .",
    "this long - term observational project is aimed at building a multi - epoch , homogeneous spectroscopic database of high - resolution , high signal - to - noise ratio spectra of galactic bright ob - stars and [ 2 ] . ] . associated with this spectroscopic dataset",
    "are several working packages aimed at its scientific exploitation . within the framework of the working package _",
    "wp3 : quantitative spectroscopic analysis _",
    ", we have developed a powerful tool for the automatic analysis of optical spectra of o - type stars .",
    "the tool provides a fast and objective way to determine the stellar parameters and the associated uncertainties of large samples of o - stars within a reasonable computational time .",
    "initially developed to be used for the analysis of spectra of o - type stars from the _ iacob spectroscopic database _ , the tool is now also being applied in the context of the _ vlt - flames tarantula survey _",
    "( vfts ) project [ 3 ] , and other studies of stars of this type .",
    "apart from the already mentioned characteristics ( automatic , objective , and fast ) , we also aimed at a tool that is portable , versatile , adaptable , extensible , and easy to use .",
    "as shown throughout the following text , this philosophy has guided the whole development of the tool .",
    "+ one of the key - stones of any automatic quantitative spectroscopic analysis is the computation of large samples of synthetic spectra ( using a stellar atmosphere code ) , to be compared with the observed spectrum .",
    "in contrast to other possible alternatives ( the _ genetic algorithm _ ga employed by [ 4 ] , or the _ principal component analysis _",
    "pca approach followed by [ 5 ] ) , we decided to base our automatic tool on an extensive , precomputed grid of stellar atmosphere models and a line - profile fitting technique ( i.e. , a grid - based approach for the analysis of a sample of 12 low resolution spectra of b supergiants in ngc55 . ] ) this option was possible thanks to the fast performance of the fastwind  code is the fastest . ] , and the availability of a cluster of @xmath0300 computers at the instituto de astrofsica de canarias ( iac ) connected through the condor workload management system . + the grid is complemented by a variety of programs implemented in idl , to handle the observations , perform the automatic analysis , and visualize the results .",
    "the idl - package has been built in a modular way , allowing the user , e.g. , to easily modify how the mean values and uncertainties of the considered parameters are computed , or which evolutionary tracks will be used to estimate the evolutionary masses .      in the following we outline",
    "the main characteristics of the fastwind grid used for the analysis of galactic o - type stars that is presently incorporated within the iacob grid - based tool .",
    "+    * * effective temperature ( @xmath1 ) and gravity ( log_g _ ) : * table [ grid_table ] indicates the ranges of @xmath1  and log_g _  considered in the grid .",
    "basically , the grid points were selected to cover the region of the log@xmath1log_g _ diagram where the o - type stars are located . *",
    "* helium abundance ( @xmath2 ) and microturbulence ( @xmath3 ) * : the grid includes six values of helium abundance  @xmath2=n@xmath4/(n@xmath5+n@xmath4 )  , indicated in table [ grid_table ] . for all models , a microturbulence @xmath3@xmath6= 15kms@xmath7  was adopted in the computation of the atmospheric structure , and four values of the microturbulence were considered in the formal solution . * * radius ( @xmath8 ) : * computing a fastwind  model requires an input value for the radius .",
    "this radius has to be close to the actual one ( which will be derived in the final step of the analysis , and hence is not know from the beginning on ) .",
    "we assumed a radius for each ( @xmath1 , log_g _ ) pair following the calibration by [ 8 ] .",
    "the grid is hence divided in 20 regions in which a different radius is considered . for example , for the case of log_g_=4.0 and 3.5 dex , the radii range from 7 to 12 @xmath9 and from 19 to 22 @xmath9 , respectively . *",
    "* wind parameters ( @xmath10 , @xmath11 , @xmath12 ) : * as conventional for grid computations of stellar atmosphere models for the optical analysis of o - stars , the mass loss rate ( @xmath10 ) and terminal velocity ( @xmath11 ) of the wind have been compressed , together with the radius , into the wind strength parameter ( or optical depth invariant ) , @xmath13 ( see [ 7 ] ) .",
    "ten log@xmath14-planes were considered for the grid . for each fastwind model , @xmath10 and @xmath11",
    "need to be specified .",
    "first , a terminal velocity @xmath11=2.65@xmath15 was adopted , following [ 9 ] ; then a mass loss rate was computed for the given log@xmath14 , @xmath11 , and @xmath8 .",
    "finally , the exponent of the velocity law , @xmath12 , was assumed as a free parameter ranging from 0.8 to 1.8 . * * metallicity * : a solar metallicity ( following [ 10 ] ) was assumed for the whole grid=0.5 , 0.4 , and 0.2 @xmath16 ) . ] .",
    "+    _ synthetic lines : _ the following ( optical ) lines where synthesized in the formal solution : h@xmath17 , hei@xmath184026 , 4120 , 4143 , 4387 , 4471 , 4713 , 4922 , 5015 , 5048 , 5875 , 6678 , and heii@xmath184026 , 4200 , 4541 , 4686 , 5411 , 6406 , 6527 , 6683 .    location of ( @xmath1 , log_g_)-pairs considered in the fastwind grid incorporated into the present version of the iacob grid - based tool .",
    "evolutionary tracks from [ 11 ] . ]",
    "r l log_g _ : & [ 2.64.3]dex ( with step size 0.1 dex ) + @xmath1 : & @xmath1925000k ( step size 500k ) , upper limit defined by the 120 m@xmath20 track ( see fig . [ grid_figure ] ) + @xmath3 : & model : 15 kms@xmath7 , formal solution : 5 , 10 , 15 , 20 kms@xmath7 + @xmath2 : & 0.06 , 0.09 , 0.13 , 0.17 , 0.20 , 0.23 + log@xmath14 : & -15.0 , -14.0 , -13.5 , -13.0 , -12.7 , -12.5 , -12.3 , -12.1 , -11.9 , -11.7 + @xmath12 : & 0.8 , 1.0 , 1.2 , 1.5 , 1.8 +    in order to optimize the size and the read - out time of the grid , only part of the output from the fastwind  models is kept and stored in idl xdr - files .",
    "this includes the input parameters , the h / he line profiles and equivalent widths , the information about the stellar atmosphere structure and the emergent flux distribution , and the synthetic photometry resulting from the computed emergent flux distribution . using these xdr - files , the size of the grid can be reduced to a 10% of the original one .",
    "idl can restore each xdr - file and compute the corresponding @xmath21 quantity ( see sect .",
    "[ idl ] ) in 0.020.1 s per model , i.e. , the tool can pass through 80,000 models in 30 min1 hour .",
    "following the main philosophy of the iacob grid - tool , only the reduced grid is used by the tool , whilst the original grid is safely kept on hard - disk at the iac .",
    "this allows for an easy transfer of the grid to an external disk , hence satisfying our constraint for portability . +",
    "the fastwind  grid presently incorporated into the iacob grid - based tool consists of @xmath0192,000 models ( @xmath032,000 models per he - plane ) .",
    "the reduced size is @xmath034 gb . this predefined grid can be easily updated and/or extended if necessary using appropriate scripts implemented in idl , condor , and linux .",
    "for example , a new he - plane can be computed and prepared for use in @xmath03 days .",
    "the guideline of the automatic analysis is based on standard techniques applied within the quantitative spectroscopic analysis of o - stars using optical h / he lines that have been described elsewhere ( e.g. [ 12 ] , [ 13 ] ) .",
    "the whole spectroscopic analysis is performed by means of a variety of idl programs following the steps indicated below . in brief , once the observed spectrum is processed , the tool obtains the quantity @xmath22 ( i.e. an estimation of the goodness of fit ) for each model within a subgrid of models selected from the global grid , and determines the stellar parameters and their associated uncertainties by interpreting the obtained @xmath22 distributions .",
    "+   + in this first step , the user has to provide the observed spectrum , to indicate the corresponding resolving power ( @xmath8 ) , and to give some pre - determined information about the star  the projected rotational velocity ( @xmath23sin@xmath24 ) , the size of the extra line - broadening ( @xmath25 ) , and the absolute visual magnitude ( @xmath26 ) .",
    "+ concerning the grid , the user must select the appropriate metallicity , and indicate the range of values for the various free parameters ( defining the subgrid of models to be considered within the analysis ) .",
    "this latter option allows the tool to be faster ( using optimized ranges for the various free parameters ) , or the user to perform a preliminary quick analysis by fixing some of the parameters .",
    "for example , one can obtain a quick estimate on @xmath1 , log_g _ , and log@xmath14  in less than 5 min , by fixing the other three parameters ( @xmath3 @xmath2 , and/or @xmath12 ) .",
    "+ finally , the h / he lines which shall be considered in the analysis and the corresponding weights need to be specified .",
    "+ _ : processing of the observed spectrum _ + in many cases , the observed spectra need to be processed before launching the automatic analysis , because of , e.g. , nebular contamination affecting the cores of the h and hei lines , the need to improve the normalization of the continuum adjacent to the line , and the presence of cosmic rays .",
    "+ the possibility to correct the observed spectrum for these effects has been incorporated into corresponding idl procedures .",
    "the implemented options include ( for each of the considered lines ) : local renormalization , selection of the wavelength range of the line , clipping / restoring of certain parts of the line , and computation of the signal - to - noise ratio ( s / n ) in the adjacent continuum .",
    "+ once finalized , the processed spectrum is stored .",
    "this spectrum and all associated information is used in _",
    "step 3 _ , and also each time the analysis of the same star / spectrum is ( re-)launched . this way the user can easily reconsider his / her decisions after a first analysis .",
    "+ in this step , the user can select a model from the grid to help him / her with the processing of the observed spectrum .",
    "one can , for example , make a quick preliminary analysis ( see above ) fixing some parameters and including only few lines , and then use the resulting best model to check the processed lines and find constraints for the processing of the others . +   + this step , together with _",
    "step 4 _ , are the most important ones , constituting the core of the program . in the present version of the iacob grid - based tool we have considered a procedure as described below ; however , we are aware that this procedure can be subject to discussion / improvements . having this in mind , and following the philosophy of the tool ( regarding versatility and adaptability ) ,",
    "the corresponding idl modules have been implemented with the possibility to be easily modified .",
    "the fast performance of the iacob grid - based tool makes it very powerful to investigate various alternative strategies .",
    "+ in our present version , the tool computes , for every model in the subgrid , the quantity @xmath27 for each considered line @xmath28 where @xmath29 and @xmath30 are the normalized fluxes corresponding to the synthetic and observed spectrum , respectively ; @xmath31=(s / n)@xmath7 accounts for the s / n of the line ; and @xmath32 is the number of frequency points in the line .",
    "under ideal conditions ( e.g. , for a perfect model , but see below ) , @xmath27 corresponds to a reduced @xmath33 .",
    "+ in a second step , the @xmath27 values for each model are corrected for possible deficiencies in the synthetic lines ( due , for example , to deficiencies in the model , an incorrect characterization of the noise of the line , bad placement of the continuum , or bad characterization of the line - broadening ) . to this aim",
    "we compute , for each line , the standard deviation of the residuals @xmath34=@xmath35(@xmath29@xmath30 ) from that model that results in the minimum @xmath27 for the given line .",
    "then , the following correction is applied : @xmath36 using these individual @xmath37 values and the weights assumed for each of the considered lines ( @xmath38 , e.g. , [ 4 ] ) , a global @xmath21 is obtained : @xmath39 where @xmath40 is the number of lines . for a large number of frequency points per line , @xmath21 should be normally distributed .",
    "+ thus , _ step 3 _ provides the values of the quantity @xmath22 associated with each of the models included in the considered subgrid . as indicated in section [ grid ] , this step can last from a few seconds to less than about 1  hour , depending on the number of models in the subgrid .",
    "an example of @xmath22-distributions ( actually , @xmath41=e@xmath42 ) with respect to the various stellar parameters is presented in figure [ fig2 ] .",
    "+    = 46,000 ) .",
    "@xmath23sin@xmath24  and @xmath25  were previously determined using a combined fourier transform + goodness of fit technique ( see e.g. [ 14 ] ) . in this example , only 5 h / he lines were used for the actual analysis . note",
    "that also all other synthetic lines fit the observations perfectly at the derived parameters .",
    "the analysis was performed in @xmath02 min .",
    "see [ 2 ] for details on the distance , apparent visual magnitude and visual extinction used to determine the absolute visual magnitude ( @xmath43 ) .",
    "[ fig2 ] ]    _ : computation of mean values and uncertainties _",
    "+ the previous step provides the @xmath21distributions for each of the six parameters derived through the spectroscopic analysis ( @xmath1 , log_g _ , @xmath2 , @xmath3 , log@xmath14 , and @xmath12 ) .",
    "if the absolute visual magnitude is provided , the tool automatically determines @xmath8 , log@xmath44 , and @xmath45 ( spectroscopic mass ) for each model , and hence the corresponding @xmath21distributions for these parameters are available as well .",
    "if also the terminal velocity is provided , a similar computation is performed for the mass - loss rate ( using @xmath14 , @xmath8 , and @xmath11 ) .",
    "finally , one of the idl modules computes the evolutionary masses ( @xmath46 ) of the models from an interpolation in the ( log@xmath1 , log_g_)-plane using the tracks provided by a stellar evolution code . since the @xmath21distributions for @xmath1  and log_g _  are computed and stored in _",
    "step 3 _ , the computation of the corresponding distributions for @xmath8 , log@xmath44 , @xmath45 , @xmath46 can be easily repeated in a few seconds , in case a different @xmath43 and/or evolutionary tracks need to be considered . + these distributions are then used to compute mean values and uncertainties for each parameter ( taking into account that models above a given threshold in @xmath21 can be discarded ) .",
    "+ the tool also allows to easily investigate possible degeneracies ( for example , for stars with weak winds the analysis of the optical h / he lines only provides an upper limit for the @xmath14 parameter , and does not allow to constrain @xmath12 ) , and the contribution of the various parameters to the final uncertainty ( by fixing one of the free parameters to a certain value and recomputing the statistics for the other parameters ) .",
    "+   + the last step is the creation of a summary plot for better visualization of the results ( see figure [ fig2 ] as an example ) .",
    "the present version of the tool includes :    * @xmath41distributions for the various parameters involved in the analysis ( upper - left panels ) . in those panels ,",
    "vertical lines indicate the limiting values adopted for the six free parameters ( i.e. , the sub - grid of fastwind models for which a @xmath22 is computed ) , and horizontal lines indicate the @xmath41 value corresponding to @xmath21(threshold ) .",
    "the user can select three of the models that will be indicated as red , blue , and pink dots ( the same colors are also used in other parts of the figure ) . * a summary of the input parameters ( @xmath23sin@xmath24 , @xmath25 , and @xmath43 ) and the result from the statistics for each parameter resulting from the analysis ( upper - right part of the figure ) .",
    "* a log@xmath1log_g _  diagram including evolutionary tracks ( e.g. , from [ 11 ] , without rotation , in the figure ) and the position of all models with @xmath22@xmath47@xmath21(threshold ) . *",
    "a set of panels ( lower part of the figure ) were the observed and synthetic h / he lines indicated by the user are compared .",
    "the spectral regions that are used to compute the @xmath22 for each line are indicated in black , while the clipped ( or not used ) regions are presented in green .",
    "note that the plotted lines are not limited to those used in the analysis process ( the latter are marked with an x ) .      the fast performance and versatility of the iacob grid - based tool not only allows to analyze large samples of o - type stars in a reasonable time , but also to easily investigate the effects of    * _ the assumed line - broadening _ : the common strategy in previous spectroscopic analyses of o - stars was to assume pure rotational line - broadening ( in addition to natural , thermal , stark / collisional and microturbulent broadening included in the synthetic spectra ) .",
    "however , recent studies have shown that an important extra - broadening contribution ( commonly quoted as _ macroturbulent broadening _ ) affects the shape of the line - profiles of this type of stars ( see e.g. [ 15 ] , and references therein ) .",
    "how much are the derived parameters affected when this extra - broadening is neglected ? can both broadening contributions be represented by one fake rotational profile ( @xmath48sin@xmath24 ) , without disturbing the resulting parameters ? what is the effect of the uncertainty in the derived / assumed broadening ? some results from a preliminary investigation of these questions can be found in [ 16 ] . * _ the placement of the continuum _ : the normalization of the spectra of o - type stars is sometimes complicated , especially in the case of echelle spectra .",
    "it is commonly argued that the derived gravity can be severely affected by the assumed normalization , but , to which extent ? to investigate this effect one could use the iacob grid - based tool , applying small modifications to the continuum placement .",
    "an example of this type of analysis for the case of low resolution spectra of b - supergiants can be found in [ 6 ] . * _ neglecting / including a variety of different commonly used diagnostic lines _ : before computing the global @xmath21 ( see equation 3 ) , the resulting @xmath27 for each line are stored . this way",
    "the user can easily recompute @xmath21 , discarding some of the initially considered lines .",
    "this option allows , for example , to investigate the change in the wind - strength parameter when both h@xmath49 and heii4686 lines or only one of them are included in the analysis . *",
    "_ clipping part of the lines _ : most of the o - stars are associated to hii regions . in some cases , the stellar spectra can be heavily contaminated by nebular emission lines ( mainly the cores of the hydrogen lines , but also the hei lines ) .",
    "this contamination must be identified and eliminated from the stellar spectrum to obtain meaningful results from the spectroscopic analysis .",
    "when the resolution of the spectra is high , the clipped region is small in comparison with the total line width ; however , even for a moderate resolution an important region of the line needs to be eliminated .",
    "what is the effect of such a strong clipping in the h@xmath49 line on the determination of the mass - loss rate ?",
    "how large is the effect of clipping the core of the hei lines in the @xmath1  determination ?",
    "* _ the way the statistics is derived from the @xmath21distributions _ : as commented in section [ idl ] , this is a critical point in the determination of final best values and uncertainties .",
    "these are only some examples of things can be investigated with the iacob grid - based tool .",
    "many other tests can be easily performed .",
    "in addition , we expect the tool to be of great benefit for the analysis of the o - star samples included in , e.g. , the eso - gaia , vfts , own , iacob and other similar large surveys",
    ".    financial support by the spanish ministerio de ciencia e innovacin under projects aya2008 - 06166-c03 - 01 , aya2010 - 21697-c05 - 04 , and by the gobierno",
    "de canarias under project pid2010119 .",
    "this work has also been partially funded by the spanish micinn under the consolider - ingenio 2010 program grant csd2006 - 00070 : first science with the gtc ( http://www.iac.es/consolider-ingenio-gtc ) .",
    "16 simn - daz s , castro n , garcia m , herrero a and markova n 2011a , _ bsrs liege _ ,",
    "* 80 * , 514 simn - daz s , garcia m , herrero a , maz - apellniz j , and negueruela i 2011b , _ proc .",
    "`` star clusters and associations : a ria workshop on gaia '' _ preprint _ arxiv1109.2665s evans c  j et  al .  2011 , _",
    "a&a _ , * 530 * , a108 mokiem m  r , de koter a , puls j , herrero a , najarro f and villamariz m  r 2005 , _ a&a _ , * 441 * , 711 urbaneja m  a , kudritzki r  p , bresolin f , przybilla n , gieren w and pietrzyski g 2008 , _ apj _ , * 684 * , 118 castro , n. , herrero , a. , urbaneja , m.  a , et  al . (",
    "_ a&a _ , submitted ) puls j , urbaneja m  a , venero r , repolust t , springmann u , jokuthy a and mokiem m r 2005 , _",
    "a&a _ , * 435 * , 669 martins f , schaerer d and hillier , d.  j.  2005 , _ a&a _ , * 436 * , 1049 kudritzki r  p and puls j 2000 , _ a&a _ , * 38 * , 613 asplund m , grevesse n , sauval a  j and scott p 2009 , _",
    "ara&a _ , * 47 * , 481 schaller g , schaerer d , meynet g and maeder a 1992 , _ a&as _ , * 96 * , 269 herrero a , puls j. and najarro f 2002 , _ a&a _ , * 396 * , 949 repolust t , puls j and herrero a 2004 , _",
    "a&a _ , * 415 * , 349 simn - daz s , herrero a , uytterhoeven k , castro n , aerts c and puls j 2010 , _ apjl _ , * 720 * , l174 simn - daz s 2011 , _ brsr liege _ ,",
    "* 80 * , 86 sabn - sanjulian c , simn - daz s , garcia m , herrero a , puls j and castro n 2011 , _ proc .",
    "_ in honour of a. moffat"
  ],
  "abstract_text": [
    "<S> we present the iacob grid - based automatic tool for the quantitative spectroscopic analysis of o - stars . </S>",
    "<S> the tool consists of an extensive grid of fastwind models , and a variety of programs implemented in idl to handle the observations , perform the automatic analysis , and visualize the results . </S>",
    "<S> the tool provides a fast and objective way to determine the stellar parameters and the associated uncertainties of large samples of o - type stars within a reasonable computational time . </S>"
  ]
}