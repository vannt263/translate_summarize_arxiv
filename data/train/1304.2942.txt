{
  "article_text": [
    "optimal trade execution is an area of financial mathematics that is generating an increasing interest in the literature as well as in the industry .    a fundamental problem algorithmic traders face is the division of a large order into smaller trades to minimise its price impact .",
    "almgren and chriss formalized and solved the execution problem in a number of seminal papers , notably @xcite and @xcite , by minimizing the expected cost of execution and a cost - variance risk criterion .",
    "the authors above assume that the mid price of the asset is modelled by an arithmetic brownian motion ( abm ) and the temporary price impact of an order is proportional to the quantity executed .",
    "they find the optimal strategy in the set of deterministic strategies .",
    "the advantage of such approach is that it is possible to derive deterministic , closed - form solutions to the optimal execution problem .",
    "a well known disadvantage of abm based models is that they allow for negative asset values .",
    "gatheral and schied @xcite solve a similar problem under the assumption that the mid asset price follows a geometric brownian motion ( gbm ) , which guaranties positive asset prices , and where the trading strategies are allowed to be random and adapted in particular",
    ". however , the combination of gbm dynamics and cost variance risk criterion does not allow for closed form solutions in this setting .",
    "numerical studies carried out by forsyth @xcite and forsyth et al @xcite , show that the optimal trading rate is almost the same under abm and gbm dynamics .    by introducing an alternative risk criterion ,",
    "a version of the value at risk ( var ) measure , gatheral and schied @xcite manage to derive closed form formulae for the optimal execution rate under adapted trading strategies .",
    "the authors compare the behaviour of the optimal solution using the value risk criterion when asset prices follow both gbm and abm price dynamics .    in this paper we model asset prices using a displaced diffusion ( dd ) process .",
    "displaced diffusions can in fact give rise to dynamics which are an hybrid between abm and gbm depending on the choice of the shift parameter values .",
    "in particular , such an approach allows to model volatility as a combination of constant absolute volatility ( as in the abm ) and level - proportional absolute volatility ( as in gbm ) .",
    "furthermore , dd allows to set a minimum possible value , either positive or negative , for the mid asset price distribution , which is otherwise zero in gbm or minus infinity in abm .",
    "we look at the trade execution problem for the class of absolutely continuous and adapted trading strategies .    in this paper",
    "we also investigate the impact of different risk criteria on the optimal solution and derive a simple mapping between those criteria .",
    "we start from a reasonable benchmark case , finding very similar solutions across models and criteria , all departing from the linear volume weighted average price ( vwap ) solution .",
    "subsequently , we reduce the impact parameter of a factor 10 and find that , for relatively illiquid securities , the optimal execution policy is similar for all models and close to linear .",
    "we also examine the effect of applying a large shift in the dd model , finding that the dd+var solution is slower than the equivalent gbm+var solution .",
    "finally , we halve the impact parameter wrt the benchmark case and keep a large shift , finding that the var based solutions may not be monotone , and in particular may go negative locally .",
    "overall we find that optimal solutions across criteria and asset dynamics are comparable , although the differences are not negligible for high levels of risk aversion and low market impact assets .",
    "the paper is organized as follows : section [ sec : generaloptex ] introduces the optimal execution problem .",
    "the value at risk ( var ) and expected shortfall ( es ) risk measures are discussed in detail , and possible choices for the mid asset price dynamics are considered . in particular",
    ", the dd choice is analyzed in detail . in section [ sec : optimaldd ] we solve the optimal execution problem when the mid asset price follows a displaced diffusion and the risk function is either the value at risk or the expected shortfall .",
    "section [ sec : sae ] introduces a simple risk criterion , the squared asset expectation ( sae ) , which will be later used to facilitate the comparison of the optimal solution under different asset dynamics .",
    "approximate solutions to the execution problem under the sae criterion are provided .",
    "section [ sec : comparing ] compares the optimal execution solutions under different criteria and dynamics .",
    "a few numerical examples are presented and discussed .",
    "assume that an agent , e.g. a broker or a dealer , wishes to buy or sell a given number of asset units ( e.g. shares ) within a pre - specified time horizon .",
    "if the total amount of contracts to execute is relatively high compared to the asset s traded volumes , the transaction is likely to affect its price .",
    "the price impact is usually classified as instantaneous , transient or permanent .",
    "optimal strategies aim to find an execution schedule which minimizes such an impact and thus the expected cost of the transaction .",
    "often risk criteria are introduced to take into account the impact of exogenous factors on the price of the asset .",
    "for example , the execution of a large sale of a stock may also be adversely affected by negative news regarding the company s profits . in this paper",
    ", we shall restrict our attention to continuous execution strategies .",
    "let @xmath0 be the units of the asset yet to be executed at time @xmath1 , with @xmath2 the initial sale size and @xmath3 at the final time @xmath4 , and assume that the price at which the transaction is executed at time @xmath5 $ ] is given by @xmath6 where @xmath7 and @xmath8 are constants and @xmath9 is the unaffected asset price level . in line with @xcite , we assume @xmath0 trajectories to be absolutely continuous and @xmath0 to be adapted to the filtration generated by @xmath9 .",
    "we can identify the following impact terms :    * @xmath10 is the instantaneous impact of trading @xmath11 shares in @xmath12 and only affects the @xmath12 order .",
    "* @xmath13 represents a permanent component of the price impact that has been accumulating over @xmath14 $ ] by all transactions up to @xmath1 .",
    "almgren and chriss @xcite and @xcite assume that the unaffected asset price process @xmath9 follows an abm :    @xmath15 where @xmath16 is a standard brownian motion .",
    "gatheral and schied @xcite on the other hand postulate instead that    @xmath17    note that the absolute volatility in the abm model is proportional to the initial stock price , i.e. @xmath18 whereas in the gbm case , it is proportional to the current price @xmath19 .",
    "when long execution time horizons are considered , the abm model has the drawback that the probability of the asset price going negative is non negligible .",
    "however , execution of trades usually takes place over short time horizons , so the issue is not that severe in real life applications . of course",
    ", gbm based models do not suffer from this drawback .",
    "we shall now assume that the unaffected asset price @xmath9 follows a displaced diffusion .",
    "let @xmath20 be a gbm with volatility @xmath21 and initial level @xmath22 , @xmath23 define the asset price @xmath9 as the sum of @xmath20 and the constant shift parameter @xmath24 , @xmath25 in order for asset prices to remain positive , we need to assume that @xmath26 .",
    "in the opposite case , namely @xmath27 , we may consider the probability that the asset price will be negative at some future time @xmath1 @xmath28 it is straightforward to see that ( [ snegative ] ) tends to one as @xmath1 becomes very large .",
    "however , one should again keep in mind that typical execution horizons are quite small , so that large times are never seen in practice .",
    "the key advantage of displaced diffusions is that they behave like a combination of arithmetic brownian motions and geometric brownian motions .",
    "consider in fact the absolute volatility of the asset in the dd model : @xmath29 for large values of @xmath19 , the ratio @xmath30 becomes small and we have that @xmath31 which resembles the level - proportional absolute volatility of the gbm . on the other hand , for small values of @xmath19 , expression ( [ vols ] ) is closer to the constant absolute volatility of the abm @xmath32    one more obvious advantage of dd with respect to abm and gbm is that we can move the initial point in the support of the asset probability distribution to a chosen point in the positive or negative range . with abm",
    "there is no such choice , as the support begins at @xmath33 , and similarly for gbm , where the support begins at  @xmath34 .",
    "having introduced the basic dynamics for asset price process , we turn our attention to the optimal execution problem . following the pioneering approach of @xcite",
    ", we formulate the optimal execution problem as a trade off between costs of executing large quantities of the asset in a short period of time and the risk that the mid price moves away if execution is delayed .",
    "the instantaneous cost of executing @xmath35 units over the interval @xmath12 at price price @xmath36 is given by @xmath37 .",
    "straightforward calculations show that the total execution cost is equal to    @xmath38\\dot{x}(t)dt \\\\",
    "= -x s_0 - \\int_0^t x(t ) ds_t + \\eta \\int_0^t ( \\dot{x}(t))^2 dt + \\gamma x^2/2 , \\end{aligned}\\ ] ]    where we have made use of the integration by parts formula .",
    "the calculation above is valid for any continuous martingale @xmath9 .",
    "various risk functions have been proposed in the literature .",
    "gatheral and schied @xcite suggest to use a risk measure based on the popular concept of value at risk ( var ) . in order to see how the concept of var can be applied to optimal execution , let @xmath39 be the var measure at time @xmath1 for a given confidence level @xmath40 ( e.g. @xmath41 ) and time horizon @xmath42 .",
    "the var of an outstanding position @xmath0 at time @xmath1 over the interval @xmath43 is given by @xmath44   & = & x(t )   \\nu_t [ ( s_t - s_{t+h } ) ] \\\\   & = & x(t )   \\nu_t [ ( y_t + k - y_{t+h } - k ) ] \\\\ & = & x(t )   \\nu_t   [ ( y_t   - y_{t+h } ) ] \\\\ & = & x(t ) \\nu_t[y_t(1- \\exp(-\\sigma^2 h/2 + \\sigma ( w_{t+h } - w_t ) ) ) ] \\\\ & = & x(t ) y_t \\nu_t [ 1- \\exp(-\\sigma^2 h/2 + \\sigma \\sqrt{h } \\epsilon)]\\\\ & = & x(t ) y_t q_\\alpha[1- \\exp(-\\sigma^2 h/2 + \\sigma \\sqrt{h } \\epsilon)]\\end{aligned}\\ ] ] where @xmath45 is a standard normal random variable and @xmath46 is the @xmath40 quantile of the distribution of the random variable @xmath47 .",
    "note that we have used the homogeneity property of the var .    furthermore , define the constant @xmath48 = 1- \\exp(-\\sigma^2 h/2 + \\sigma \\sqrt{h } q_{1-\\alpha}(\\epsilon)),\\end{aligned}\\ ] ] where @xmath49 can be inferred from the normal distribution tables , to obtain that @xmath50   = \\tilde{\\lambda } x(t ) y_t = \\tilde{\\lambda } x(t ) ( s_t - k).\\end{aligned}\\ ] ] from the calculations above we can derive the var over the life of the strategy by integrating over the interval @xmath51 $ ] to obtain @xmath52 equation ( [ rvar ] ) is the equivalent for displaced diffusions of the average var measure derived by @xcite .",
    "an alternative interesting risk measure is the expected shortfall .",
    "in particular the expected shortfall @xmath53 at time @xmath1 for the horizon @xmath54 and confidence level @xmath40 is defined as the expected value of the loss of the position beyond the var level , i.e. @xmath55 where @xmath56 is the market filtration at time @xmath1 .",
    "expected shortfall is sometimes preferred to var because it is a coherent risk measure , namely it is sub - additive , while value at risk is not . however , recent literature on elicitability shows that value at risk is elicitable whereas expected shortfall is not , which is a clear advantage of var .    by proceeding similarly to the var case , we have that the expected shortfall over the interval @xmath57 is equal to @xmath58    = x(t ) y_t\\   m_\\alpha[1- \\exp(-\\sigma^2 h/2 + \\sigma \\sqrt{h } \\epsilon)]\\end{aligned}\\ ] ] where @xmath45 is a standard normal random variable and we have used the homogeneity property of the expected shortfall .",
    "straightforward calculations lead to the following result , @xmath59 = : \\hat{\\lambda}_\\alpha\\ ] ] and hence @xmath58    = x(t ) y_t\\   \\hat{\\lambda}_\\alpha = \\hat{\\lambda}_\\alpha x(t ) ( s_t - k ) .",
    "\\end{aligned}\\ ] ] averaging over the life of the strategy one obtains @xmath60      we now have all the ingredients to define the optimization problem . adding up the expected execution cost and the risk function , we obtain @xmath61 = \\mathbb{e}\\left [ c(x ) + l \\bar{\\lambda } \\int_0^t x(t ) ( s_t - k ) dt \\right ] .\\ ] ] in this criterion :    * @xmath62 is a cost / risk leverage parameter that measures risk aversion in executing the order .",
    "the larger @xmath62 , the more important the risk component of the criterion compared to the cost component ; * @xmath63 is either @xmath64 or @xmath65 depending on whether we are using the var or expected shortfall risk function .    substituting the explicit expression for @xmath66 derived in the previous section into ( [ costplusrisk ] ) , we obtain @xmath67 = - x s_0 + \\gamma x^2 /2",
    "+ \\eta \\mathbb{e}\\left[\\int_0^t \\dot{x}(t)^2 dt   + l \\check{\\lambda }   \\int_0^t x(t ) y_t dt   \\right]\\ ] ] the optimal execution problem is thus equivalent to the following minimization @xmath68,\\ ] ] where we have set @xmath69 .",
    "problem ( [ eq : optimumexdd ] ) has been solved by gatheral and schied @xcite when the mid price of the asset follows a gbm .",
    "the authors above derive the following explicit solution for the optimal trading strategy @xmath70 .\\ ] ]    the risk adjusted cost function can be also calculated explicitly for the optimal strategy and it is equal to @xmath71 = \\frac{x^2}{t } + \\frac { \\check{\\lambda } l t x y_0}{2 } - \\frac {   ( l \\check{\\lambda})^2}{8 \\sigma^6}y_0 ^ 2 \\left ( e^{\\sigma^2 t } - 1 - \\sigma^2 t - \\frac{\\sigma^4 t^2 } { 2}\\right)\\ ] ]    similar calculations in the case of displaced diffusions lead to the following result    ( * optimal execution strategy for a displaced diffusion ) . * the unique optimal trade execution strategy attaining the infimum in ( [ eq : optimumexdd ] ) is @xmath72\\ ] ] furthermore , the value function for the optimal strategy is given by @xmath73\\]]@xmath74",
    "in order to test the robustness of the optimal strategy , we consider the alternative `` squared - asset expectation '' ( sae ) risk criteria    @xmath75 dt.\\ ] ]    it is important to notice that while in the case of var and expected shortfall @xmath76 can be calculated endogenously , here @xmath76 is an exogenous parameter .",
    "the criterion above is similar to the one used by almgren and chriss in @xcite , while differring in an important way . in ( [ riskcriteria2 ] )",
    "we have replaced the square of @xmath19 with its expectation .",
    "furthermore , we will consider cases where @xmath19 is a displaced diffusion instead of an abm .",
    "note that the term @xmath77\\ ] ] is increasing in @xmath1 , whereas the corresponding term under abm is constant and equal to @xmath78 .",
    "note also that in our earlier specification for the abm framework , the volatility of the asset @xmath79 is expressed as a percentage number , since it contains @xmath18 , rather than as absolute units of the reference currency .",
    "finally , note that the expected cost is the same whether @xmath19 is modelled by a dd or an abm , so the optimal solution depends on the chosen dynamics only via the choice of the risk function .",
    "the optimal execution strategy can be derived by solving the optimization problem @xmath80.\\ ] ] using calculus of variations , we show in appendix [ calcvarproof ] that the optimal solution needs to satisfy the ode @xmath81 where @xmath82 and the initial and terminal conditions are given by @xmath2 and @xmath3 respectively . a solution to the boundary value problem above",
    "could be found using standard numerical routines .",
    "however , in appendix [ numsol ] we provide a simple and efficient alternative algorithm based on series expansions .",
    "* sae makes the optimal adapted strategy @xmath0 deterministic . *",
    "in this section we derive a couple of simple techniques to map the @xmath76 s of different criteria in such a way that the relative weight of the risk function is of the same order of magnitude .    *",
    "a first possible approach is to match the values of the two different risk criteria by assuming that @xmath83 throughout the whole execution time horizon , @xmath84 =    { \\mathbb{e } } [ r^{\\mbox{\\tiny{var / es}}_{\\alpha}}(x_0 )   ] \\ ] ] where @xmath85 for all @xmath86 , which leads to @xmath87 * a slightly more refined approach is to assume that @xmath0 is equal to the vwap solution , i.e. @xmath88 and equalise the corresponding risk functions , @xmath84 =    { \\mathbb{e } } [ r^{\\mbox{\\tiny{var / es}}_{\\alpha}}(x_0 )   ] \\ ] ] leading to @xmath89=    \\int_0^t \\lambda^{sae}_{dd } \\",
    "x_0 ^ 2(t)\\   \\sigma^2 \\mathbb{e}_0[s_t^2 ] dt   .\\ ] ] straightforward calculations lead to following result @xmath90 where we have used the approximation @xmath91 . for simplicity we have also set @xmath92      in this section we present a series of numerical results which compare the different models and risk criteria analyzed in the paper . in the graphs below , we compare the optimal solution of the following dynamics / risk criterion combinations : abm+sae , dd+sae , gbm+var and dd+var .",
    "the parameter @xmath76 has been calibrated using equations ( [ eq : lambdaeqz ] ) and ( [ eq : lambdaeqz2 ] ) .    in each example",
    "we visualize just one specific path for the asset @xmath9 and the related optimal strategies , but this is representative of a more comprehensive analysis we ran through many scenarios , so that our conclusions are sufficiently general .",
    "consider the sale of @xmath93 million units of an asset with current price equal to @xmath94 currency units ( e.g. usd ) .",
    "the execution time horizon is one day , i.e. @xmath95 day @xmath96 years and the volatility of the asset is @xmath97 annualized or @xmath98 per day .    in figure [ fig1 ]",
    "we show the problem solution when we set the dd shift parameter to @xmath99 .",
    "the market impact parameter is @xmath100 , i.e. the price impact of an instantaneous sale of @xmath101 million units of the asset would be equal to @xmath102 dollars per asset , or @xmath103 of the mid price .",
    "the cost / risk parameter @xmath62 is equal to @xmath104 . for the above choice of parameters , the optimal execution is faster for the model that employs the var risk function compared to the sae based model .",
    "figure [ fig2 ] is based on the same parameters as in figure [ fig1 ] with the exception of the impact parameter , which is increased by a factor of @xmath105 to @xmath106 .",
    "this is an example of a relatively illiquid security . in this case",
    ", the price impact dominates over the risk component and the execution strategy is very close to linear for all models .    in figure [ fig3 ]",
    "we used the same parameters as in figure [ fig1 ] but increased the dd shift parameter to @xmath107 .",
    "the optimal execution policy is faster for the gbm+var combination compared to dd+var .",
    "this is due to the fact that in the first case the risk function depends on the path of @xmath19 whereas in the second case it depends on @xmath108 , which is roughly half in order of magnitude .",
    "however , note that the instantaneous volatility of the dd is rescaled using formula ( [ rescaledvol ] ) below , to ensure that the integrated volatility of the dd and gbm models are of similar order of magnitude ,    @xmath109    in figure [ fig4 ] we reduced the impact parameter @xmath7 to half its previous value , namely @xmath110 . note that in this case the gbm+var solution is not monotone as no smooth constraint at zero has been imposed on @xmath111 .",
    "note also that a similar behaviour may occur with the dd+var combination .    from the examples",
    "above , it emerges that for high levels of risk aversion and relatively low impact , the optimal execution may be significantly different for the linear solution .",
    "different combinations of asset dynamics and risk function give rise to different solutions in these cases , although this is partly due to the specific choice of parameters mapping between different models and of the subjective parameter @xmath62 .",
    ", @xmath112 , @xmath95 day , @xmath99 , @xmath113 , @xmath114 , @xmath115 .",
    "the shift parameter @xmath24 is relatively low .",
    "gbm+var and dd+var give rise to similar solutions , both departing from the linear case.,title=\"fig : \" ] [ fig1 ]     of a factor 10 wrt fig [ fig1 ] : @xmath116 , @xmath112 , @xmath95 day , @xmath99 , @xmath113 , @xmath117 , @xmath115 .",
    "for relatively illiquid securities , i.e. when the market impact parameter is high , the optimal execution policy is similar for all models and close to linear .",
    ", title=\"fig : \" ] [ fig2 ]     to @xmath118 wrt fig [ fig1 ] : @xmath116 , @xmath112 , @xmath95 day , @xmath107 , @xmath113 , @xmath114 , @xmath115 . for high levels of the shift parameter @xmath24 , the dd+var solution is slower than the equivalent gbm+var solution , title=\"fig : \" ] [ fig3 ]     and increasing the shift @xmath24 to @xmath118 wrt fig [ fig1 ] : @xmath116 , @xmath112 , @xmath95 day , @xmath107 , @xmath119 , @xmath120 , @xmath115 .",
    "for relatively low levels of @xmath7 and high levels of @xmath62 , the var based solutions may not be monotone.,title=\"fig : \" ] [ fig4 ]    99    alfonsi , a. and a. schied ( 2010 ) .",
    "optimal trade execution and absence of price manipulations in limit order book models .",
    "siam journal on financial mathematics , vol . 1 , no",
    "490 - 522    alfonsi , a. , schied , a. , and a. slynko ( 2012 ) .",
    "order book resilience , price manipulation , and the positive portfolio problem .",
    "siam journal on financial mathematics , vol .",
    "511 - 533    almgren , r. , chriss , n. ( 1999 ) .",
    "value under liquidation .",
    "risk , dec .",
    "almgren , r. , chriss , n. ( 2000 ) .",
    "optimal execution of portfolio transactions .",
    "j. risk 3 , 5 - 39 ( 2000 ) .",
    "almgren , r. ( 2012 ) . optimal trading with stochastic liquidity and volatility .",
    "siam journal on financial mathematics , vol .",
    "163 - 181    brigo , d. , and di graziano , g. ( 2013 ) .",
    "optimal execution comparison across risks and dynamics , with solutions for displaced diffusions .",
    "available at http://arxiv.org/abs/1304.2942 and http://ssrn.com/abstract=2247951    gatheral , j. , and schied , a. ( 2011 ) .",
    "optimal trade execution under geometric brownian motion in the almgren and chriss framework .",
    "international journal of theoretical and applied finance , vol .",
    "3 , pp . 353368    forsyth , p. ( 2009 ) . a hamilton jacobi bellman approach to optimal trade execution .",
    "preprint , available at http://www.cs.uwaterloo.ca/@xmath121paforsyt/optimal trade.pdf    forsyth , p. , kennedy j. , tse t.s . , windcliff h. ( 2009 ) .",
    "optimal trade execution : a mean - quadratic - variation approach .",
    "preprint ( 2009 ) available at http://www.cs.uwaterloo.ca/@xmath122paforsyt/quad trade.pdf    schied , a. ( 2012 ) .",
    "robust strategies for optimal order execution in the almgren ",
    "chriss framework . working paper .",
    "the optimisation problem ( [ optcriteriaddac ] ) requires that we find the path @xmath0 which minimises @xmath123 \\equiv \\mathbb{e}\\left[\\int_0^t \\dot{x}(t)^2 dt   + l \\lambda   \\int_0^t \\sigma^2 x^2(t ) g(t ) dt   \\right].\\ ] ] in order to do so , consider the following perturbation of the processes @xmath0 and @xmath124    @xmath125    where @xmath126 is an arbitrary function satisfying @xmath127 and @xmath45 is a real constant . substituting the perturbed path into ( [ lossfunc ] ) we obtain    @xmath128.\\ ] ] taking the first derivative with respect to @xmath45 and evaluating the resulting expression at @xmath129 , it follows that @xmath130.\\ ] ] using the integration by parts formula and the constraint @xmath127 , we obtain the equality @xmath131 which allows us to simplify ( [ hprime ] ) as follows @xmath132.\\ ] ]    the optimal path @xmath0 is obtained by setting @xmath133 . since the function @xmath126 was chosen arbitrarily , the following must hold for all @xmath134 @xmath135 this ode is deterministic even if our setting allows for an adapted @xmath0 .",
    "consider the ode @xmath136 simple manipulations show that @xmath137 can be written as follows"
  ],
  "abstract_text": [
    "<S> we solve a version of the optimal trade execution problem when the mid asset price follows a displaced diffusion . </S>",
    "<S> optimal strategies in the adapted class under various risk criteria , namely value - at - risk , expected shortfall and a new criterion called  squared asset expectation \" ( sae ) , related to a version of the cost variance measure , are derived and compared . </S>",
    "<S> it is well known that displaced diffusions ( dd ) exhibit dynamics which are in - between arithmetic brownian motions ( abm ) and geometric brownian motions ( gbm ) depending of the choice of the shift parameter . </S>",
    "<S> furthermore , dd allows for changes in the support of the mid asset price distribution , allowing one to include a minimum permitted value for the mid price , either positive or negative . </S>",
    "<S> we study the dependence of the optimal solution on the choice of the risk aversion criterion . </S>",
    "<S> optimal solutions across criteria and asset dynamics are comparable although differences are not negligible for high levels of risk aversion and low market impact assets . </S>",
    "<S> this is illustrated with numerical examples .    </S>",
    "<S> * ams classification codes * : 60h10 , 60j60 , 91b70 ;    * jel classification codes * : c51 , g12 , g13    * keywords : * optimal trade execution , algorithmic trading , displaced diffusion , hjb equation , calculus of variations , risk measures , value at risk , expected shortfall , squared - asset expectation , market impact . </S>"
  ]
}