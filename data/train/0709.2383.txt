{
  "article_text": [
    "the concept of _ rough isometry _ ( sometimes also called _ quasi - isometry _ or _ coarse quasi - isometry _ ) of two metric spaces was introduced by kanai in @xcite and , in the more restricted setting of groups , by gromov in @xcite .",
    "informally , two metric spaces are rough isometric if their metric structure is the same up to multiplicative and additive constants .",
    "this allows stretching and contracting of distances , as well as having many points of one space mapped to one point of the other .",
    "for example , @xmath4 and @xmath5 are rough isometric .",
    "this concept has proven fundamental in the geometric study of groups . on the one hand ,",
    "the rough isometry concept is stringent enough to preserve some of the metric properties of the underlying space . on the other hand ,",
    "it is loose enough to allow for large equivalence classes of spaces .",
    "for example , rough isometry preserves ( under some conditions ) geometric properties of the space such as volume growth and isoperimetric inequalities @xcite .",
    "it preserves analytic properties such as the parabolic harnack inequality @xcite ( and also @xcite , section 2.1 ) and , in a more probabilistic context , various estimates on transition probabilities of random walks ( heat kernel estimates ) are preserved ; again , see @xcite , section 2 , and the references contained therein .",
    "formally , we have the following .",
    "two metric spaces @xmath6 and @xmath7 are rough isometric ( or quasi - isometric ) if there exists a mapping @xmath8 and constants @xmath9 such that :    any @xmath10 satisfy @xmath11    for any @xmath12 , there exists some @xmath13 such that @xmath14 .",
    "the first condition ensures that the metric is not distorted too much multiplicatively or additively ; the second condition implies that the map is close to being onto . on first inspection",
    ", it appears that the definition is not symmetric in @xmath6 and  @xmath7 , but one may easily check that if such a mapping @xmath8 exists , then another mapping @xmath15 also exists , satisfying the same conditions , with the roles of @xmath6 and @xmath7 interchanged ( and with possibly different constants ) .",
    "we will sometimes abbreviate `` rough isometric '' to `` r.i . ''    in this article , we are concerned with an aspect of the question of how large the equivalence classes of rough isometric spaces are .",
    "we investigate this question in a probabilistic setting .",
    "specifically mikls abrt asked in 2003 @xcite whether , for a finitely generated group , two infinite clusters of independent edge percolations on its cayley graph are rough isometric almost surely ( assuming they exist ) . in this generality , the question appeared difficult and so balzs szegedy suggested considering whether two site percolations on @xmath16 are rough isometric ( disregarding connectivity properties ) .",
    "when this also appeared difficult , he suggested considering the case of @xmath17 .",
    "these questions have since remained open . independently , and a short time later , the @xmath18 questions were also raised by itai benjamini ( following the related work  @xcite ) who also introduced a quantitative variant .",
    "the one - dimensional question is easily seen to be equivalent to the following ( see proposition [ poisson_perc_equiv_prop ] below ) : are two independent poisson processes on the line ( viewed as random metric spaces with their metric inherited from @xmath19 ) rough isometric a.s . ?",
    "szegedy conjectured a positive answer to this question .",
    "this question is a form of matching problem , but , unlike some other matching problems in which we wish to minimize some quantity on average , or to have it bounded for most points , here , we need to satisfy the rigid constraints of a rough isometry for all points . to our aid",
    "comes the fact that the poisson processes are infinite and we may `` start '' constructing the rough isometry at a particularly convenient location and use the freedom afforded by large constants to `` plan ahead . '' unfortunately , this article does not settle this conjecture , but it makes some modest progress . in the next section ,",
    "we prove the equivalence of the problem to several other related problems involving percolations on the integers and on the natural numbers , including benjamini s quantitative variant .",
    "our main result is the construction of a monotone rough isometry with certain properties giving a first nontrivial upper bound on the quantitative variant .",
    "section [ monotone_rough_isomery_section ] presents a discussion of monotone rough isometries , their properties and an interesting lattice structure inherent in them . as noted there , in general , monotone rough isometries between subsets of @xmath17",
    "are more restrictive than general rough isometries .",
    "in particular , it may be harder to find a monotone rough isometry between two independent poisson processes than to find a general rough isometry .",
    "section [ equivalence_thms_proofs_section ] contains the proofs of all the theorems in section [ variants_section ] , except for the main construction .",
    "section [ main_construction_section ] presents the main construction .",
    "in this section , we will first state in precise terms the main open question described in the .",
    "we will then proceed to show the equivalence of the question to several other related problems .",
    "we shall go from the continuous poisson process question to a discrete variant ( percolation on @xmath17 ) , then to an oriented discrete variant ( percolation on @xmath20 ) and , finally , to a finite variant ( percolation on an initial segment of @xmath20 ) , all of which are equivalent .",
    "we will then state a quantitative version of our main open question ( due to benjamini ) , based on the finite variant , and conclude the section with a statement of our main result which gives the first nontrivial upper bound on this quantitative version .",
    "the proofs of all statements in this section , except for the main result , are presented in section [ equivalence_thms_proofs_section ] ; the proof of the main result is presented in section [ main_construction_section ] .",
    "[ zero_one_event_prop ] given two independent poisson processes @xmath21 ( possibly of different intensities ) and constants @xmath22 , the event that @xmath23 and @xmath24 are rough isometric with constants @xmath22 is a zero - one event .    hence , we come to the following question",
    ".    do there exist constants @xmath22 for which two independent poisson processes of intensity 1 are rough isometric a.s .    in this article , we shall mostly consider a discrete variant of the question involving bernoulli percolations on @xmath17 or on @xmath20 , rather than poisson processes .",
    "we remind the reader that a bernoulli percolation on @xmath17 with parameter @xmath25 is the random subset @xmath26 obtained from @xmath17 by independently deleting each integer with probability @xmath27 .",
    "it is defined analogously for @xmath20 .",
    "the next proposition states the equivalence of the problem for bernoulli percolations and for poisson processes .",
    "[ poisson_perc_equiv_prop ] the following are equivalent :    for some intensities @xmath28 , two independent poisson processes , one with intensity @xmath29 and the other with intensity @xmath30 , are rough isometric a.s .",
    ";    for any intensities @xmath28 , two independent poisson processes , one with intensity @xmath29 and the other with intensity @xmath30 , are rough isometric a.s . ;    for some @xmath31 , two independent bernoulli percolations on @xmath32 , one with parameter @xmath25 and the other with parameter @xmath33 , are rough isometric a.s . ;    for any @xmath31 , two independent bernoulli percolations on @xmath32 , one with parameter @xmath25 and the other with parameter @xmath33 , are rough isometric a.s .    since , by the previous proposition , we may equivalently consider any intensity for the poisson process and any parameter for bernoulli percolation , we fix notation and , from this point on , consider only poisson processes with unit intensity and bernoulli percolations with parameter @xmath34 .    a rough isometry between two poisson processes or between two bernoulli percolations on @xmath17 is not necessarily order preserving ( or order reversing ) , as will be discussed in more detail near the end of this section .",
    "still , one feels intuitively that such a mapping should be monotonic in some rough sense . indeed , for the next two theorems , we will need to show that such a mapping is at least `` almost monotonic at most points , '' in a sense made precise in the following statements and their proofs .",
    "we start by showing that a certain oriented version of the problem is equivalent to the original problem . for this purpose , we introduce the following new concept .    two rooted metric spaces @xmath35 and @xmath36 are _ rooted rough isometric _ if there exists a mapping @xmath8 and constants @xmath9 such that @xmath37 and the conditions in the usual definition of rough isometry hold for @xmath38 and the constants @xmath22 .",
    "we also introduce a different random model , as follows .",
    "a _ rooted bernoulli percolation on @xmath20 _ ( with parameter @xmath39 ) is a random subset @xmath40 in which @xmath41 deterministically and any @xmath42 belongs to @xmath23 with probability @xmath34 independently .    [ discrete_to_oriented_equiv_thm ] the following are equivalent :    two independent bernoulli percolations on @xmath17 ( with parameter @xmath34 ) are rough isometric a.s . ;    two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 are rooted rough isometric with positive probability .    to prove this theorem",
    ", we need the following definition .",
    "[ cut_point_definition ] given two subsets @xmath45 and a mapping @xmath46 , the point @xmath47 is called a _ cut point _ for @xmath38",
    "if one of the following occurs :    1 .   for all @xmath48 with @xmath49 ,",
    "we have @xmath50 ; 2 .   for all @xmath48 with @xmath49 , we have @xmath51 .    we also require the following lemma .",
    "[ cut_point_lemma ] if two independent bernoulli percolations on @xmath17 are rough isometric a.s . with constants @xmath22 ,",
    "then , with probability 1 , any rough isometry @xmath52 with constants @xmath22 has a cut point .",
    "we continue to construct a finite variant of our problem .",
    "first , we define , for a given infinite subset @xmath40 , @xmath53 to be its first @xmath1 points [ e.g. , if @xmath54 , then @xmath55 . also ,",
    "given @xmath56 both containing @xmath57 , we sometimes say that @xmath58 is _ rooted r.i . to some initial segment of @xmath24",
    "_ if there exists an @xmath59 and a rooted r.i .",
    "@xmath60 . we may also phrase this as _ @xmath38 is a rooted r.i . of @xmath58 to some initial segment of @xmath24_.",
    "we now have the following result .",
    "[ finite_and_infinite_perc_equiv_thm ] the following are equivalent :    two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 are rooted rough isometric with positive probability ;    there exists some @xmath61 and constants @xmath22 such that , given two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath62 , for any @xmath63 , @xmath58 is rooted r.i . to some initial segment of @xmath24 with constants @xmath22 and with probability at least @xmath25 .",
    "although this theorem may initially seem straightforward , it transpires that the direction @xmath64 is somewhat problematic .",
    "the main difficulty stems from the fact that , given a rooted rough isometry from @xmath40 to @xmath65 , its restriction to @xmath58 is not necessarily a rooted rough isometry to some @xmath66 with the same constants .",
    "this is due to the fact that a rough isometry need not be monotonic and hence the image of its restriction to @xmath58 may still have big `` holes '' [ i.e. , points @xmath67 where property ( ii ) in the definition of rough isometry does not hold ] which are `` filled '' by the mapping at subsequent points of @xmath23 . to prove this theorem",
    ", we will need a statement asserting that if @xmath23 and @xmath24 are rooted bernoulli percolations , then @xmath52 is a rooted rough isometry with constants @xmath22 , and if we allow the constant @xmath68 to be increased sufficiently , say to some @xmath69 , then for `` most @xmath1 s '' the restriction of @xmath38 to @xmath58 will still be a rooted rough isometry to some initial segment of @xmath24 with constants @xmath70 .",
    "this is the content of the next three lemmas : they make precise what was meant when we stated previously that a rough isometry is `` almost monotonic at most points . ''",
    "we now introduce the following notation : given @xmath71 and @xmath47 , let @xmath72 be the smallest point in @xmath23 which is larger than @xmath73 ( or @xmath74 if there is no such point ) and let @xmath75 .",
    "we start with a deterministic lemma .",
    "[ big_gap_deterministic_lemma ] let @xmath76 be infinite subsets , both containing @xmath57 , and let @xmath52 be a rooted r.i . between them with constants @xmath22 .",
    "there exists @xmath77 such that if there exist @xmath78 with @xmath79 and @xmath80 , then there exists @xmath48 , @xmath81 and @xmath82 such that @xmath83 .",
    "we continue with a probabilistic aspect of the previous lemma .",
    "[ big_gap_prob_estimate_lemma ] let @xmath23 be a rooted bernoulli percolation on @xmath20 , let @xmath84 and define , for constants @xmath85 , the event @xmath86 .",
    "then @xmath87 for some absolute constants @xmath88 ( not depending on any parameter ) .",
    "finally , we have one more deterministic lemma .    [ rooted_ri_restriction_lemma ]",
    "let @xmath76 be infinite subsets , both containing @xmath57 , and let @xmath52 be a rooted r.i . between them with constants @xmath22 .",
    "fix @xmath89 and @xmath63 , let @xmath90 be the @xmath1th point of @xmath23 and suppose that the event @xmath91 of lemma  [ big_gap_prob_estimate_lemma ] does not hold for @xmath23 .",
    "then @xmath38 restricted to @xmath58 is a rooted r.i .",
    "of @xmath58 to @xmath66 for some @xmath59 with constants @xmath70 .",
    "close inspection of the proof of part @xmath92 of theorem [ finite_and_infinite_perc_equiv_thm ] reveals that ( ii ) is , in fact , equivalent ( by the same proof ) to the following , seemingly weaker , statement [ the @xmath68-denseness property is property ( ii ) in the definition of r.i .",
    "] :    \\(iii ) there exists @xmath61 , constants @xmath22 and a function @xmath93 such that given two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 , for any @xmath63 , with probability at least @xmath25 , there exists @xmath38 from @xmath58 to @xmath66 for some @xmath59 ( a function of @xmath23 , @xmath24 and @xmath1 ) which satisfies the properties of a rooted rough isometry with constants @xmath22 , except that we only require the @xmath68-denseness property to hold for @xmath94 with @xmath95 .",
    "since this statement is complicated to state and we make no use of it in the sequel , we simply leave it as a remark .",
    "the last theorem gives rise to the following quantitative variant of our main question which will be our main concern in this article .",
    "[ quantitative_open_question ] given two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 , for which functions @xmath96 does there exist a rooted rough isometry @xmath38 with constants @xmath97 from @xmath98 to @xmath99 for some @xmath59 ( a function of @xmath23 , @xmath24 and @xmath1 ) with probability not tending to 0 with @xmath1    by the previous theorem , our first open question is equivalent to the claim that constant functions suffice .",
    "both the original open question and this quantitative variant were posed to the author by itai benjamini @xcite ( although without the proof of equivalence ) and it is the main aim of this paper to present some progress on this quantitative variant .",
    "trivially , one has that the functions @xmath100 , or even @xmath101 for some @xmath102 , suffice for this quantitative question by considering the mapping from @xmath98 to @xmath103 which maps the @xmath104th point of @xmath23 to the @xmath104th point of @xmath24 .",
    "we are not aware of any improvement on this trivial result in the literature .",
    "we can now state our main result .",
    "[ main_thm ] there exists @xmath105 such that , given two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 , for any @xmath106 , there exists a random @xmath59 ( a function of @xmath23 , @xmath24 and @xmath1 ) such that @xmath98 and @xmath99 are rooted rough isometric with constants @xmath107 and with probability @xmath108 .",
    "this theorem is proved by a direct construction which will be detailed in section [ main_construction_section ] .",
    "furthermore , the mapping we construct is ( weakly ) monotone increasing ( in fact , we construct a markov rough isometry in the sense of section [ markov_ri_subsection ] ) .",
    "as already noted , monotonicity is not required by the definition of rough isometry , but monotone mappings are easier to construct , have nicer properties and an interesting structure , as explained in the next section .",
    "we do not know if the question of having a monotone rough isometry between ( say ) two poisson processes is equivalent to the question of having just a general rough isometry between them .",
    "the next section also makes this question precise .    we note that , up to the constant @xmath109 , the success probability achieved in theorem [ main_thm ] is optimal .",
    "to see this , consider the event @xmath110 and that in @xmath24 the next point after @xmath57 is greater than @xmath111 .",
    "this event has probability larger than @xmath112 and we claim that on it there is no rooted r.i . between @xmath23 and @xmath24 with constants @xmath113 . to see this ,",
    "suppose , in order to reach a contradiction , that there was such a rooted r.i .",
    "if we let @xmath114 , then we must have @xmath115 by property ( i ) of the r.i . [ and since @xmath116 .",
    "hence , @xmath117 and we must have @xmath118 .",
    "this is a contradiction since , then , @xmath119 .",
    "in this section , we consider the notion of a ( _ weakly _ ) _ increasing rough isometry _ , that is , a rough isometry mapping @xmath120 between two subsets @xmath121 for which @xmath122 whenever @xmath123 .",
    "as is easy to check , the notion of an increasing rough isometry defines an equivalence class on subsets of @xmath124 , that is , if @xmath125 and @xmath126 , @xmath127 are increasing rough isometries , then there also exist @xmath128 and @xmath129 ( @xmath130 ) which are increasing rough isometries .",
    "if there exists an increasing rough isometry between such @xmath6 and @xmath7 , we shall call @xmath6 and @xmath7 _ increasing rough isometric_. on first reflection , one may hope that the notions of increasing rough isometry and general rough isometry are equivalent , that is , that if two spaces @xmath121 are rough isometric , then they are also increasing rough isometric ( perhaps with different constants ) . unfortunately , this is not the case in general , as one may see by means of various examples . figures [ monotone_non_monotone_l_example ] and [ monotone_non_monotone_l_many_example ] show a variant of an example shown to the author by gady kozma @xcite . for each integer @xmath131 , figure [ monotone_non_monotone_l_example ] shows two subsets @xmath132 ( each containing four points ) , between which there exists a nonmonotone rough isometry with constants @xmath133 ( which is depicted ) . however , as is easy to see , any ( weakly ) monotone rough isometry will have constants tending to infinity with the parameter @xmath134 .",
    "although this example involves two finite sets of points and , of course , any two finite sets are increasing rough isometric for some constants , one may use this example to construct two infinite sets of points which are rough isometric , but not increasing rough isometric .",
    "figure [ monotone_non_monotone_l_many_example ] shows two such sets @xmath23 and @xmath24 which are constructed by concatenating the previous @xmath135 example , but with a gap of size @xmath136 in both @xmath23 and @xmath24 between @xmath137 and @xmath138 . on the one hand , concatenating the rough isometries of figure [ monotone_non_monotone_l_example ] gives a rough isometry with finite constants here , but , on the other hand , such a fast growing gap ensures that any rough isometry between @xmath23 and @xmath24 will have some large @xmath134 ( depending on its constants ) such that for all @xmath139 , the points of @xmath140 will only be mapped to the points of @xmath141 , thereby reducing to the example of figure [ monotone_non_monotone_l_example ] within each such segment . in particular , the rough isometry can not be monotonic .    in our context , it is then natural to ask the following question",
    ".    [ monotone_poisson_ri_question ] given two independent poisson processes @xmath142 , does there exist a ( weakly ) increasing rough isometry between them a.s .    as in section [ variants_section ]",
    ", one can prove the following .",
    "given two independent poisson processes @xmath21 ( possibly of different intensities ) and constants @xmath22 , the event that @xmath23 and @xmath24 are increasing rough isometric with constants @xmath22 is a zero - one event .",
    "we also have the following equivalences .",
    "the following are equivalent :    for some intensities @xmath28 , two independent poisson processes , one with intensity @xmath29 and the other with intensity @xmath30 , are increasing rough isometric a.s . ;    for any intensities @xmath28 , two independent poisson processes , one with intensity @xmath29 and the other with intensity @xmath30 , are increasing rough isometric a.s . ;    for some @xmath31 , two independent bernoulli percolations on @xmath32 , one with parameter @xmath25 and the other with parameter @xmath33 , are increasing rough isometric a.s . ;    for any @xmath31 , two independent bernoulli percolations on @xmath32 , one with parameter @xmath25 and the other with parameter @xmath33 , are increasing rough isometric a.s .",
    "the proofs of these statements are exactly the same as in section [ variants_section ] , but with `` rough isometry '' replaced by `` increasing rough isometry , '' and are hence omitted .",
    "again , due to these equivalences , we shall only consider poisson processes of unit intensity and bernoulli percolations with parameter @xmath34 .",
    "analogously to section [ variants_section ] , we can define a _ rooted increasing rough isometry _ between two rooted spaces @xmath35 and @xmath36 , where @xmath121 , as a mapping @xmath120 which is an increasing rough isometry and has @xmath37 . for increasing rough isometries",
    ", it is much easier to pass from the question about percolations on @xmath17 to the question about percolations on @xmath20 , and from there to the finite version .",
    "this is due to the following obvious statement .",
    "[ increasing_ri_restriction_prop ] if @xmath21 are increasing rough isometric by a mapping @xmath143 with constants @xmath22 , then , for any @xmath78 with @xmath79 , we have that @xmath38 restricted to @xmath144 $ ] is an increasing rough isometry from @xmath144 $ ] to @xmath145 $ ] with constants @xmath22 .",
    "we emphasize once more that this statement is not true for general rough isometries , although , for increasing rough isometries , it is trivial to check that it holds ( we omit the proof ) . from this , we easily deduce the following result .",
    "the following are equivalent :    two independent bernoulli percolations on @xmath17 are increasing rough isometric a.s . ;    two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 are rooted increasing rough isometric with positive probability ;    there exists some @xmath61 and constants @xmath22 such that , given two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath62 , for any @xmath63 , @xmath58 is a rooted increasing r.i . to some initial segment of @xmath24 with constants @xmath22 and with probability at least @xmath25 .",
    "using proposition [ increasing_ri_restriction_prop ] , the equivalences @xmath146 and @xmath147 are trivial to prove .",
    "the proofs of @xmath92 and @xmath148 are the same as those given in theorems [ discrete_to_oriented_equiv_thm ] and [ finite_and_infinite_perc_equiv_thm ] , with `` rough isometry '' replaced by `` increasing rough isometry . ''    of course",
    ", one can now formulate a quantitative version of our question , as follows .",
    "[ increasing_quantitative_open_question ] given two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 , for which functions @xmath96 does there exist an increasing rooted rough isometry @xmath38 with constants @xmath149 from @xmath98 to @xmath99 for some @xmath59 ( a function of @xmath23 , @xmath24 and @xmath1 ) with probability not tending to 0 with @xmath1    as was mentioned earlier , theorem [ main_thm ] is still relevant in this context since the rough isometries we construct there are increasing rough isometries .    until now , we have stated the common features of general rough isometries and increasing rough isometries .",
    "the next two subsections present some features which are unique to increasing rough isometries , revealing more of the interest in this concept .",
    "the first of these is a structure present in increasing rough isometries which we find quite interesting , although , unfortunately , we have not found a way to use it to our benefit in the sequel .",
    "the second of these is a slight variant on rooted increasing rough isometries which will be much easier for us to construct than general rough isometries ; this variant is fundamental to our construction in section [ main_construction_section ] .      in this subsection",
    ", we shall show that , given constants @xmath22 and two finite subsets @xmath76 , both containing 0 , the set of rooted increasing rough isometries from @xmath23 to @xmath24 with constants @xmath22 is either empty or a finite distributive lattice .",
    "this immediately implies a host of correlation inequalities ( such as the fkg inequality ) , as discussed below .",
    "however , although we consider this to be a very interesting fact and a possibly useful structure , we should mention at the outset that we do not use this fact in our results and only include it here in the hope that it will prove useful in further work on the problem .",
    "we start with ( see , e.g. , @xcite , chapter 6 ) the following definition .    a finite partially ordered set @xmath134",
    "is called a _ finite distributive lattice _ if any two elements @xmath150 have a unique minimal upper bound @xmath151 ( called the _ join _ of @xmath73 and @xmath152 ) and a unique maximal lower bound @xmath153 ( called the _ meet _ of @xmath73 and @xmath152 ) , such that , for any @xmath154 , @xmath155    now , fix constants @xmath22 and finite subsets @xmath76 , both containing  0 , which are rooted increasing r.i . with constants @xmath22 .",
    "let @xmath134 be the set of all such rooted increasing r.i .",
    "mappings from @xmath23 to @xmath24 . for @xmath156",
    ", we write @xmath157 if , for all @xmath47 , we have @xmath158 .",
    "we also define @xmath159 as @xmath160 , @xmath161 and , similarly , @xmath162 .",
    "it is clear that if @xmath163 , then it is the unique minimal upper bound of @xmath164 and @xmath165 in @xmath134 and , similarly , that if @xmath166 , then it is their unique maximal lower bound .",
    "it is also clear that the distributive property ( [ lattice_distributive_prop_eq ] ) holds .",
    "therefore , to show that @xmath134 is a finite distributive lattice , it remains to show the following .",
    "[ increasing_ri_as_lattice_lemma ] for any @xmath167 , we have @xmath168 . or , in words , the maximum and minimum of two rooted increasing r.i.s with constants @xmath22 are also rooted increasing r.i.s with constants @xmath22 .",
    "we remark that this lemma is not true for general rooted rough isometries as it is easy to see , by means of examples , that the monotonicity property is required .",
    "proof of lemma [ increasing_ri_as_lattice_lemma ] we shall show this for @xmath159 , the proof for @xmath169 being analogous ( or even deducible from the @xmath159 case by considering the reversed mappings ) . letting @xmath170 , it is clear that @xmath171 and that @xmath38 is still ( weakly ) monotonic .",
    "we continue by verifying property ( ii ) in the definition of r.i .",
    "( see figure [ distributive_lattice_prop_ii ] ) .",
    "if we fix @xmath67 , then there exist @xmath78 with @xmath172 and @xmath173 and we may assume , without loss of generality , that @xmath174 . of course , if @xmath175 , then property ( ii ) holds , hence we assume that @xmath176 .",
    "we obtain that @xmath177 , from which @xmath178 readily follows .",
    ": solid line ; @xmath165 : dashed line . ]",
    "fixing @xmath78 , @xmath79 , it remains to verify property ( i ) in the definition of r.i . for @xmath38 and @xmath179",
    "( see also figure [ distributive_lattice_prop_ii ] ) .",
    "if @xmath180 and @xmath181 for @xmath182 or @xmath183 , then the properties clearly hold since they hold for @xmath184 , hence we assume , without loss of generality , that @xmath185 and @xmath186 , to obtain @xmath187 proving the lemma .",
    "the usefulness of the finite distributive lattice structure in probability lies in the fact that it allows one to obtain correlation inequalities in many cases .",
    "following @xcite , chapter 6 , we have the following definition and theorem .",
    "a probability measure @xmath188 on @xmath134 is called _ log - supermodular _ if , for all @xmath167 , @xmath189    if @xmath188 is log - supermodular and @xmath190 are increasing [ in the sense that @xmath191 whenever @xmath157 ] , then @xmath193    in our case , one may take , for example , @xmath188 to be the uniform measure on @xmath134 , and , supposing @xmath78 , we may take @xmath194 and @xmath195 .",
    "we immediately obtain that when sampling a rough isometry uniformly from @xmath134,the images of @xmath73 and @xmath152 are positively correlated .",
    "this example may not be so impressive since the result is intuitive , but , it is still not obvious how to prove this result directly ( for arbitrary r.i . @xmath23 and @xmath24 ) and",
    "the significant point is that we obtained it here for free from the structure of @xmath134 .      in this subsection",
    ", we introduce a slightly different ( but equivalent up to constants ) definition of a rooted increasing rough isometry which will be much easier to work with in the sequel .",
    "two subsets @xmath76 both containing @xmath57 are _ markov rough isometric _ if there exists a mapping @xmath52 and constants @xmath196 such that :    @xmath171 ;    if @xmath78 and @xmath123 , then @xmath122 ;    for all _ adjacent _ @xmath78 ( i.e. , with no point of @xmath23 between @xmath73 and @xmath152 ) with @xmath197 , we have @xmath198 , we have @xmath199 ;    for any @xmath67 , there exists @xmath47 such that @xmath200 .",
    "the reason for the name `` markov rough isometry '' is that all of the restrictions in the definition are , in some sense , local . to check that a given mapping @xmath38 is a valid markov rough isometry , one scans its values on @xmath23 starting from @xmath57 and proceeding in increasing order . to check the properties",
    ", one needs to remember the value of @xmath38 on a point @xmath47 only until one reaches a point @xmath201 with @xmath202 and , by property ( iv ) , this must happen after checking at most @xmath203 points .",
    "hence , there is a form of finite - memory property for markov rough isometries , which accounts for the name .",
    "still , although they may appear weaker at first , markov rough isometries are equivalent to rooted increasing rough isometries as follows .",
    "[ markov_increasing_equiv_lemma ] fix two subsets @xmath76 , both containing @xmath57 .    1 .",
    "if @xmath52 is a markov rough isometry with constants @xmath204 , then @xmath38 is a rooted increasing rough isometry with constants @xmath205 .",
    "if @xmath52 is a rooted increasing rough isometry with constants @xmath22 , then @xmath38 is a markov rough isometry with constants @xmath206 .    1 .",
    "let @xmath52 be a markov rough isometry with constants @xmath204 and define @xmath207 . to show that @xmath38 is a rooted increasing r.i",
    ". with constants @xmath208 , only property ( i ) in the definition of rough isometry needs to be checked .",
    "if we let @xmath78 , @xmath79 , and first suppose that @xmath197 , then we can find some @xmath209 and a sequence of points of @xmath23 , @xmath210 , such that for each @xmath104 , @xmath211 is adjacent in @xmath23 to @xmath212 , @xmath213 , @xmath214 , @xmath215 and @xmath216 ( figure [ markov_increasing_equiv_pic ] shows an example with @xmath217 ) .",
    "then @xmath218 and noting that @xmath219 [ and , in particular , that @xmath220 , we obtain @xmath221 the lower bound follows more easily : @xmath222 +    with @xmath217 . ]",
    "+ if we now suppose that @xmath78 , @xmath79 , satisfy @xmath223 , then @xmath224 , hence @xmath225 as required .",
    "2 .   let @xmath52 be a rooted increasing rough isometry with constants @xmath22 and define @xmath226 . to show that @xmath38 is a markov r.i . with constants @xmath208 ,",
    "only properties ( iii ) and ( iv ) in the definition of markov rough isometry need to be checked . if we let @xmath78 with @xmath73 adjacent to @xmath152 and @xmath197 , then @xmath227 and @xmath228 + if we now suppose that @xmath78 satisfy @xmath223 , then we have @xmath229 hence @xmath230 , as required .",
    "we conclude this subsection by remarking that some properties of rooted increasing rough isometries also hold for markov rough isometries ( without the need to change the constants ) .",
    "first , it is trivial to check the following ( analogous to proposition [ increasing_ri_restriction_prop ] ) .",
    "[ markov_ri_restriction_prop ] if @xmath21 are markov rough isometric by a mapping @xmath143 with constants @xmath204 , then , for any @xmath78 with @xmath79 , we have that @xmath38 restricted to @xmath144 $ ] is a markov rough isometry from @xmath144 $ ] to @xmath145 $ ] with constants @xmath204 .",
    "second , we have the following proposition .    given @xmath76 , both containing 0 , which are markov rough isometric with constants @xmath204 , the set @xmath134 of all markov rough isometries between them with constants @xmath204 is a finite distributive lattice ( with the same operations as defined in section [ increasing_ri_as_lattice_subsection ] ) .",
    "the proof is very similar to the proof of lemma [ increasing_ri_as_lattice_lemma ] and is therefore omitted .",
    "we start with the proof of proposition [ zero_one_event_prop ] .",
    "proof of proposition [ zero_one_event_prop ] we will use the well - known fact that a poisson process on @xmath19 with the shift operation on @xmath19 is ergodic .",
    "we also note that the event @xmath231 that @xmath23 and @xmath24 are rough isometric with constants @xmath22 is measurable with respect to @xmath23 and @xmath24 .",
    "next , we note that for any fixed realization of @xmath24 , the event @xmath232 that @xmath23 is rough isometric to @xmath24 with constants @xmath22 is translation invariant ( with respect to translations of @xmath23 ) , hence , by ergodicity , it has probability @xmath57 or @xmath233",
    ". analogously , for any fixed realization of @xmath23 , the event @xmath234 that @xmath23 is rough isometric to @xmath24 with constants @xmath22 is also translation invariant ( with respect to translations of @xmath24 ) and hence has probability @xmath57 or @xmath233 .",
    "it now follows from the independence of @xmath23 and @xmath24 that @xmath231 itself has probability @xmath57 or @xmath233 .",
    "we continue with the proof of proposition [ poisson_perc_equiv_prop ] .",
    "proof of proposition [ poisson_perc_equiv_prop ] @xmath92 .",
    "this is trivial .",
    "suppose that claim ( i ) holds for some @xmath28 .",
    "fix @xmath235 and consider two poisson processes @xmath23 and @xmath236 , with intensities @xmath29 and @xmath237 , respectively .",
    "note that they can be coupled by first sampling @xmath23 and then letting the points of @xmath236 be @xmath238 .",
    "now , observe that under this coupling , @xmath23 and @xmath236 are r.i . with constants @xmath239 under the trivial mapping @xmath240 defined by @xmath241 .",
    "in the same way , if we fix some @xmath242 , then we can couple two poisson processes @xmath24 and @xmath243 , with intensities @xmath30 and @xmath244 , respectively , so that they are rough isometric a.s .",
    "considering now two such independent poisson processes @xmath23 and @xmath24 , and the processes @xmath236 and @xmath243 which are coupled to them , we find that @xmath236 and @xmath243 are also independent and that they are rough isometric a.s . by transitivity of the rough isometry relation since @xmath236 and @xmath23 are rough isometric a.s . by our coupling ,",
    "@xmath23 and @xmath24 are rough isometric a.s . using ( i ) and",
    "@xmath24 and @xmath243 are rough isometric a.s . by our coupling .    by means of similar transitivity arguments , to prove that ( iii ) and ( iv ) are equivalent to ( i ) and ( ii ) , it is enough to establish that for any @xmath245 and @xmath246 , a poisson process @xmath23 of intensity @xmath29 and a bernoulli percolation @xmath247 with parameter @xmath25 can be coupled to be rough isometric a.s .",
    "we now show this .",
    "if we fix @xmath29 and @xmath25 to have a coupling first sample @xmath23 , then @xmath247 will have a point at the integer @xmath1 if and only if @xmath23 has at least one point in the interval @xmath248 , where @xmath249 is chosen so that this is indeed a coupling .",
    "now , define a mapping @xmath250 by @xmath251 , where @xmath90 is some point of @xmath23 in the interval @xmath248 , say the smallest one .",
    "it is easy to see that @xmath38 is a rough isometry with constants @xmath252 since if @xmath253 , then @xmath254 .",
    "we first prove lemma [ cut_point_lemma ] .",
    "proof of lemma [ cut_point_lemma ] let @xmath23 and @xmath24 be two independent bernoulli percolations on @xmath17 .",
    "first , by assumption , there exist constants @xmath22 such that @xmath23 and @xmath24 are rough isometric a.s . with constants @xmath22 .",
    "let @xmath255 be this event .",
    "second , for @xmath256 with @xmath257 , let @xmath258 be the event that @xmath259 , @xmath260 and @xmath59 are adjacent in @xmath23 ( no point of @xmath23 lies between them ) and @xmath261 .",
    "noting that for fixed @xmath262 , we have @xmath263 for some @xmath88 , we get @xmath264 the borel  cantelli lemma then implies that with probability 1 , only finitely many @xmath265 occur for a fixed @xmath262 .",
    "third , we condition on the events @xmath266 and the event that for each @xmath262 , only finitely many @xmath265 occur .",
    "we fix two realizations @xmath23 and @xmath24 , and let @xmath52 be the r.i . between them",
    ". we will show ( a deterministic claim ) that there exists a cut point for @xmath38 . to see this , fix @xmath267 and let @xmath268 , noting that if there are only finitely many @xmath269 with @xmath270 and @xmath271 , then if we take @xmath73 to be the largest of these @xmath272 , @xmath73 will satisfy ( @xmath29 ) in the definition of cut point .",
    "analogously , if there were only finitely many @xmath273 with @xmath274 and @xmath275 , then ( @xmath30 ) ( in the definition of cut point ) would be satisfied for some @xmath73 .",
    "hence , we assume , by way of contradiction , that there are infinitely many such @xmath272 and @xmath276 .",
    "since only finitely many @xmath47 can be mapped to @xmath277 , we must have infinitely many pairs @xmath278 , adjacent in @xmath23 with @xmath279 , @xmath280 and @xmath281 .",
    "each such pair must satisfy @xmath282 but this is a contradiction since only finitely many @xmath283 occur .",
    "proof of theorem [ discrete_to_oriented_equiv_thm ] @xmath92 .",
    "let @xmath23 and @xmath24 be two independent bernoulli percolations on @xmath17 . with probability @xmath284 ,",
    "they both contain @xmath57 .",
    "conditional on this event , let @xmath285 be the rooted bernoulli percolation on @xmath20 obtained from @xmath23 by considering only the nonnegative integers .",
    "define similarly the independent @xmath286 obtained by considering the nonpositive integers , and the independent @xmath287 and @xmath288 . by ( ii ) , there exist constants @xmath22 such that , with positive probability , @xmath285 is rooted r.i . to @xmath287 and @xmath286",
    "is rooted r.i .",
    "to @xmath288 with these constants . denote these r.i .",
    "mappings by @xmath289 and @xmath290 , respectively .",
    "let the map @xmath52 be the map whose restriction to @xmath291 is @xmath289 and whose restriction to @xmath292 is @xmath290 .",
    "it is then easy to check directly from the definition that @xmath38 is a r.i .",
    "of @xmath23 to @xmath24 with constants @xmath293 .",
    "this shows that , with positive probability , @xmath23 and @xmath24 are r.i . , but according to propositions [ zero_one_event_prop ] and [ poisson_perc_equiv_prop ] , @xmath23 and @xmath24 are r.i . with probability @xmath57 or @xmath233 .",
    "hence , @xmath23 and @xmath24 are rough isometric a.s .",
    "let @xmath25 be the probability that two independent rooted bernoulli percolations on @xmath20 are rooted r.i .",
    "we need to show that @xmath61 .",
    "let @xmath23 and @xmath24 be two independent bernoulli percolations on @xmath17 .",
    "for @xmath294 , let @xmath295 be all points of @xmath23 not smaller than @xmath1 and let @xmath296 be all points of @xmath23 not larger than @xmath1 ; similarly define @xmath297 and @xmath298 .",
    "let @xmath299 be the event that @xmath300 , @xmath301 and there exists a rooted r.i . between @xmath302 and @xmath303",
    "; similarly define @xmath304 using @xmath295 and  @xmath298 .",
    "note that @xmath305 .",
    "now , since by ( i ) and lemma [ cut_point_lemma ] , with probability 1 , there exists a r.i .",
    "@xmath52 with a cut point @xmath306 , we get that @xmath307 .",
    "this implies that @xmath61 , proving the claim .",
    "we start with the following proof .",
    "proof of lemma [ big_gap_deterministic_lemma ] let @xmath48 be the largest point such that @xmath51 . note that @xmath308 must be finite [ since @xmath171 and @xmath23 is infinite ] and that @xmath309 .",
    "first , note that for large enough @xmath134 ( as a function of @xmath310 and @xmath243 ) , @xmath311 second , let @xmath312 .",
    "note that , by definition of @xmath308 , we have @xmath313 , hence , @xmath314 and , by combining this inequality with ( [ use_of_l_ineq ] ) , we see that if @xmath134 is large enough ( as a function of @xmath310 and @xmath243 ) , then @xmath315 , as required .",
    "we next show the following .",
    "proof of lemma [ big_gap_prob_estimate_lemma ] for any fixed @xmath316 , @xmath317 ( with equality if @xmath262 is a positive integer ) .",
    "hence , by a union bound , @xmath318    we continue with the following proof .",
    "proof of lemma [ rooted_ri_restriction_lemma ] letting @xmath319 be the @xmath104th point of @xmath23 and @xmath320 be the @xmath104th point of @xmath24 , we choose @xmath59 so that @xmath321 [ i.e. , the minimal @xmath59 such that @xmath322 $ ]",
    ". first , for any @xmath323 , we have @xmath324 by the properties of @xmath38 .",
    "second , to reach a contradiction , assume that for some @xmath94 and for all @xmath325 , @xmath326 . since @xmath38 is a rooted r.i . with constants @xmath22 , there must exist some @xmath327 , @xmath328 with @xmath329 ; furthermore , by the minimality of @xmath59 , there must exist some @xmath325 with @xmath330 , hence @xmath331 and @xmath332 . by lemma [ big_gap_deterministic_lemma ] ,",
    "there exists some @xmath48 , @xmath81 and @xmath333 such that @xmath83 .",
    "but , then , in particular , @xmath334 and @xmath335 , which contradicts the fact that @xmath91 does not hold for @xmath23 .    finally , we have the following proof .",
    "proof of theorem [ finite_and_infinite_perc_equiv_thm ] @xmath146 .",
    "let @xmath43 and @xmath44 be two independent rooted bernoulli percolations on @xmath20 and let @xmath231 be the event that they are rooted r.i . with constants @xmath22 .",
    "suppose that @xmath336 for some @xmath337 .",
    "on the event  @xmath231 , let @xmath52 be such a rooted r.i .",
    "fix @xmath63 ,",
    "let @xmath338 be the @xmath1th point of  @xmath23 , fix @xmath89 and let @xmath91 be the event from lemma [ big_gap_prob_estimate_lemma ] .",
    "note that since @xmath90 is a stopping time for the percolation @xmath23 ( i.e. , @xmath339 only depends on whether @xmath340 for @xmath341 ) and since @xmath342 only depends on the future of @xmath73 ( i.e. , on the events @xmath343 ) , we have , by lemma [ big_gap_prob_estimate_lemma ] , that @xmath344 for some absolute constants @xmath88 .",
    "hence , for each fixed @xmath345 , we can choose @xmath134 sufficiently large ( uniformly in  @xmath1 ) so that @xmath346 ; we fix such a pair of @xmath25 and @xmath134 .",
    "we are now done since , on the event @xmath347 , lemma  [ rooted_ri_restriction_lemma ] gives that @xmath38 restricted to @xmath58 is a rooted r.i .",
    "of @xmath58 to some initial segment of @xmath24 with constants @xmath70 .",
    "let @xmath348 be the event that @xmath58 is rooted r.i . to some initial segment of @xmath24 with constants @xmath22 , so that by assumption that @xmath349 for all  @xmath1 .",
    "let @xmath350 , so that , by fatou s lemma , @xmath351 .",
    "let @xmath352 , that is , @xmath23 and @xmath24 are two realizations of rooted bernoulli percolation on @xmath20 such that , for an infinite sequence @xmath353 ( depending on @xmath23 and @xmath24 ) , there exists a rooted r.i .",
    "@xmath354 from @xmath355 to some initial segment of @xmath24 with constants @xmath22 .",
    "we now deduce that @xmath23 and @xmath24 are themselves rooted r.i . with constants @xmath22 .",
    "let @xmath356 be the @xmath104th point of @xmath23 . to define @xmath52",
    ", we need to pick @xmath357 such that @xmath358 ; we do this by induction .",
    "since @xmath359 , we also choose @xmath360 .",
    "assume that we have already chosen @xmath361 for some @xmath362 in such a way that there exists an infinite sequence @xmath363 such that @xmath364 agrees with @xmath38 on @xmath365 . to choose @xmath366",
    ", we note that @xmath367 is a finite set since , for example , for each @xmath368 , @xmath369 .",
    "hence , we can choose @xmath366 in such a way that it agrees with an infinite subsequence of @xmath370 . in this way",
    ", we obtain @xmath38 .    to see that @xmath38 is a rooted r.i . with constants @xmath22 , we note that for each @xmath78 , by our construction , there exists some @xmath262 such that @xmath354 agrees with @xmath38 on @xmath73 and @xmath152 .",
    "hence , @xmath371 .",
    "next , we fix @xmath67 , choose @xmath372 sufficiently large that @xmath373 and choose @xmath262 so that @xmath354 agrees with @xmath38 on @xmath374 . since @xmath354 is a rooted r.i . , there exists @xmath306 such that @xmath200 .",
    "we can not have @xmath375 since , otherwise , @xmath376 .",
    "hence , @xmath377 and so @xmath200 , as required .",
    "this completes the proof of the theorem .",
    "in this section , we shall prove theorem [ main_thm ] .",
    "let us recall the setting .",
    "we are given two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 .",
    "we will show that , for any large enough @xmath1 ( independent of @xmath23 and @xmath24 ) , there exists a markov rough isometry from @xmath58 to some initial segment of @xmath24 with constants @xmath378 and with probability @xmath379 . as explained before ,",
    "existence of a markov rough isometry is a stronger statement than existence of a general rough isometry since markov rough isometries are monotone and , by lemma [ markov_increasing_equiv_lemma ] , the same mapping will also be a rooted increasing rough isometry with constants @xmath380 .",
    "the reason we construct a markov rough isometry rather than an increasing rooted rough isometry is that we will frequently rely on the fact that one can check the validity of a markov rough isometry by simply looking at local configurations ( as explained in section [ markov_ri_subsection ] ) .",
    "we fix @xmath1 very large",
    ". it would be convenient for us to assume that @xmath381 and @xmath68 are integers , hence we choose @xmath382 ( depending on @xmath1 ) so that @xmath383 is an integer .",
    "we then let @xmath384 .",
    "we also introduce a new parameter , @xmath385 , whose use will be made clear in the sequel .    given a sorted sequence @xmath386 ( where we allow @xmath134 to be infinite ) , we define some notation . for a point @xmath387 ,",
    "let @xmath388 or , equivalently , @xmath389 be its successor point in @xmath390 ; similarly , let @xmath391 be its @xmath262th successor point in @xmath390 and define @xmath392 .",
    "we call the quantity @xmath393 the _ gap at @xmath394_. when the set @xmath390 is clear from the context , we sometimes omit the superscript and simply write @xmath395 and @xmath396",
    ".    we will sometimes refer to @xmath390 equivalently by its _ gap sequence _ @xmath397 , defined by @xmath398 .",
    "let @xmath23 and @xmath24 be two independent rooted bernoulli percolations @xmath43 and @xmath44 on @xmath20 .",
    "note that for @xmath23 and @xmath24 , the sequences @xmath399 and @xmath400 are simply i.i.d .",
    "@xmath401 random variables .    we shall call a gap _ short _ if it less than or equal to @xmath310 , otherwise we call it _ long_.      the first thing we will do is to partition @xmath23 and @xmath24 into blocks ( which overlap at their end points ) . let us first describe this partition informally and then give a rigorous definition .",
    "each block will consist of two parts , a `` blue '' initial segment followed by a `` red '' segment .",
    "a blue segment is a segment of the percolation points containing only short gaps ( of length @xmath402 ) .",
    "a red segment is a segment of the percolation points starting with a long gap ( of length @xmath403 ) and ending just before @xmath404 short gaps ( see figure [ division_into_blocks_with_t_and_s ] ) .        more formally , to define blocks in @xmath23",
    ", we define a sequence of times inductively , @xmath405 , and , for each @xmath406 , @xmath407\\\\[-8pt ] t_k^a & : = & \\min\\{t\\in a | t > s_k^a , g(s_i(t))\\le m \\mbox { for all $ 0\\le i\\le k-1$}\\ } .\\nonumber\\end{aligned}\\ ] ]    for each @xmath406 , @xmath408 is the first point in @xmath23 after @xmath409 and immediately preceding a gap longer than @xmath310 , and @xmath410 is the first point in @xmath23 after @xmath408 which precedes @xmath404 short gaps .",
    "the points of @xmath23 in the segment @xmath411 $ ] constitute the @xmath262th _ block of @xmath23_. in each block , the _ blue segment _ consists of the points in @xmath412 $ ] . by definition ( except possibly for the first block ) , the blue segment has at least @xmath404 short gaps ( and no long gaps ) .",
    "it is followed by a _ red segment _ , consisting of the points in @xmath413 $ ] , which starts with a long gap and continues until the starting point of a run of @xmath404 short gaps ( not including that run ) .",
    "note that the red segment may contain many long gaps or as few as one .",
    "also , it must start with a long gap and end immediately after a long gap .",
    "the first block is different from the rest since it may have less than @xmath404 gaps in its blue segment .",
    "however , letting @xmath414 we have @xmath415 .",
    "we emphasize that , conditioned on @xmath416 , the distribution of blocks after subtracting their starting points ( or , equivalently , when looking at their gap sequences ) is i.i.d .",
    "and we shall refer to that common distribution as @xmath417 , or , in words , the distribution of a _",
    "rooted block_.    we partition @xmath24 in the same way , into blocks analogously defining @xmath418 , @xmath419 and  @xmath420 .",
    "it will be useful to define the distributions of blocks and of blue and red segments precisely , which we now proceed to do .",
    "we say that @xmath421 if @xmath6 is distributed like a @xmath401 random variable conditioned to be less than or equal to @xmath310 .",
    "we say that @xmath422 if @xmath7 is distributed like a @xmath401 random variable conditioned to be larger than @xmath310 or , in other words , as @xmath423 .",
    "the following observation will be useful in the sequel .",
    "it is also true in much greater generality .",
    "[ stochastic_dominance_observ_lemma ] the @xmath424 distribution is stochastically dominated by the @xmath401 distribution .    define a coupling of @xmath425 with @xmath426 and @xmath427 using the following algorithm : take an infinite sequence @xmath428 of i.i.d .",
    "@xmath429 random variables , and let @xmath430 and @xmath431 , with @xmath104 the minimal index for which @xmath432 .",
    "it is then clear that @xmath433 a.s .    for a given integer @xmath434 ,",
    "say that @xmath435 is distributed @xmath436 , or in words , distributed as a _ rooted blue segment of length @xmath134 _ if @xmath437 are i.i.d .",
    "@xmath438 ( where @xmath439 ) .    [ block_structure_lemma ]",
    "let @xmath440 be a rooted block , with @xmath441 being its blue segment and @xmath442 being its red segment .",
    "also , let @xmath443 be the red segment minus its starting point .",
    "then :    1 .",
    "@xmath390 and @xmath444 are independent ; 2 .",
    "@xmath390 is distributed @xmath445 , where @xmath446 is a random variable distributed @xmath447 , conditioned to be at least @xmath404 [ or , in other words , @xmath448 , independently of the lengths of the gaps in the block ; 3 .",
    "the distribution of @xmath444 is characterized by : a.   @xmath449 , independently of the other gaps ; b.   @xmath450 are the concatenation of @xmath451 subsequences which are i.i.d .",
    ", given @xmath372 .",
    "each such subsequence starts with @xmath452 gaps , each having distribution @xmath453 independently of each other and where @xmath452 is distributed @xmath447 , conditioned to be less than @xmath404 .",
    "the subsequence then continues with one last gap distributed @xmath454 independently of the other gaps .",
    "the red segment begins at the first long gap of a block .",
    "it is clear that knowing the lengths of all of the gaps previous to this gap does not provide any additional information on the length of this or the following gaps .",
    "the first , say , blue segment of @xmath23 contains all of the gaps up to the first long gap from the beginning of @xmath23 .",
    "the length of this run of short gaps is @xmath447 and it is independent of the lengths of the short gaps in it . hence , conditioned that this run of short gaps contains at least @xmath404 gaps , we obtain the characterization given in the lemma .",
    "the first , say , red segment of @xmath23 is defined to start where the first run of short gaps of @xmath23 ends and to continue until just before a run of at least @xmath404 short gaps .",
    "hence , it can be described in the following way .",
    "first , since it ends a run of short gaps , it has to start with a long gap . since the gaps in @xmath23 are i.i.d .",
    "and all we know about this gap is that it is long , its size will be independent of the size of all other gaps [ but distributed @xmath455 $ ] .",
    "we then test to see if the following @xmath404 gaps are all short .",
    "if they are , then we end the red segment , otherwise we include the run of short gaps coming afterward and the long gap following it in the red segment .",
    "we now continue in the same manner with another independent trial to see if the next @xmath404 gaps are all short .",
    "if so , we end , otherwise we include them and the long gap at their end in the red segment .",
    "these independent trials continue until we finally find a run of at least @xmath404 short gaps .",
    "hence , the number of trials is geometric ( but we subtract one since once we succeed , we do not concatenate anything to the red segment ) and its success parameter is @xmath456 , which is the probability of seeing @xmath404 short gaps in a row .",
    "when a trial fails , it means that the number of short gaps after it is less than @xmath404 . since , a priori , the number of short gaps is @xmath457 , we have that @xmath452 , the number of short gaps following a failed trial , is @xmath447 , conditioned to be less than @xmath404 .",
    "finally , the lengths of the short gaps themselves are unaffected by the number of short gaps in a run , hence they are all @xmath458 , independently of everything else .",
    "similarly , the length of the long gap which ends a run of short gaps is @xmath459 , independently of everything else .",
    "we say that a vector having the distribution of the vector @xmath444 of the previous lemma is distributed @xmath460 or , in words , distributed as a _ rooted red segment_.      in this subsection , we will prove some basic properties of rooted blue and red segments which will be useful for our construction in the sequel .",
    "we start with two properties of red segments .",
    "[ red_segment_prop_lemma ] let @xmath461 , @xmath6 be the number of long gaps in @xmath444 and @xmath462 be their lengths .",
    "there then exist @xmath463 such that @xmath464    by lemma [ block_structure_lemma ] , we know that @xmath465 .",
    "hence , @xmath466^ { { 1}/{8}\\sqrt{\\log_2 n } } \\le\\biggl(\\frac{k}{2^m } \\biggr)^{{1}/{8}\\sqrt{\\log_2 n } } \\nonumber\\\\[-8pt]\\\\[-8pt ] & = & 2^{-{9}/{8}\\alpha\\log_2 n } = o \\biggl(\\frac{1}{n^{1+\\beta } } \\biggr)\\nonumber\\end{aligned}\\ ] ] for some @xmath467 , proving the first claim .",
    "now , conditioned on @xmath6 , the @xmath462 are i.i.d .",
    "with distribution @xmath468 , that is , with distribution @xmath469 . hence , @xmath470 so , denoting @xmath471 , we have , for large enough @xmath1 and some @xmath102 , @xmath472 for some @xmath473 .",
    "hence , by ( [ number_of_red_gaps_estimate ] ) , we have @xmath474 , proving the second claim .",
    "we continue with three properties of blue segments .",
    "we start with the following , simple , lemma .",
    "[ stopping_time_prop_for_blue_lemma ] for a given integer @xmath434 and @xmath475 , if @xmath476 is a stopping time in the sense that the event @xmath477 depends only on @xmath478 , then , conditioned on @xmath38 , on the event @xmath479 , the partial rooted segment @xmath480 is distributed @xmath481 .",
    "consider the gap sequence @xmath482 .",
    "by definition , its elements are i.i.d .",
    "if we let @xmath483 for @xmath484 and @xmath24 be an event that depends only on @xmath485 , then , since @xmath486 is determined by @xmath487 and these are , in turn , determined by @xmath488 , we have that @xmath486 and @xmath24 are independent . hence , conditioned on @xmath486 , the probability of @xmath24 remains the same , implying that @xmath489 are still i.i.d .",
    "@xmath453 , proving the claim .",
    "[ division_to_subsegments_lemma ] fix integers @xmath490 and let @xmath491 . divide the points of @xmath390 into subsegments according to the following algorithm : the first subsegment consists of @xmath492 with @xmath493 maximal such that @xmath494 ; by induction for @xmath495 , the @xmath104th subsegment consists of @xmath496 with @xmath497 maximal such that @xmath498 .",
    "let @xmath7 be the number of subsegments required to cover all @xmath134 points .",
    "we claim that @xmath499 for some @xmath500 .",
    "first , note that the event @xmath501 is contained in the event @xmath502 .",
    "hence , @xmath503 , where the @xmath504 are i.i.d . @xmath424",
    "random variables .",
    "since a @xmath453 random variable is stochastically dominated by a @xmath401 random variable , by lemma [ stochastic_dominance_observ_lemma ] , we get , by standard large deviation estimates , that @xmath505 for some @xmath500 , as claimed .",
    "the following lemma is a major ingredient in our rough isometry construction .",
    "[ waiting_time_for_red_match ] let @xmath506 be i.i.d . @xmath438 random variables , termed _",
    "gaps_. let @xmath507 , @xmath508 and @xmath509 be given integers .",
    "we consider the @xmath510 as representing minimal required gap lengths and the @xmath511 as representing inter - gap distances .",
    "say that a position @xmath260 is _ valid _ if @xmath512 , @xmath513 , @xmath514 . if we let @xmath452 be the minimal valid position , then , for any @xmath515 and @xmath516 , @xmath517    let @xmath518 be the event that @xmath260 is a valid position",
    ". then @xmath519 for a given position @xmath260 , let us denote by @xmath520 the _ comb at position @xmath260 _ and say that two positions @xmath521 overlap if their combs intersect , that is , if @xmath522 ( see figure [ combs_on_gap_sequence ] ) .",
    "note that if @xmath523 is a subset of positions , no two of which overlap , then @xmath524 are independent .",
    "fixing an integer @xmath105 , to bound @xmath525 , we wish to choose a large collection of positions @xmath526 , no two of which overlap . we note that a given comb @xmath527 may only intersect at most @xmath528 other combs @xmath529 since each overlapping position @xmath262 uniquely determines a pair of coordinates @xmath530 , @xmath531 , such that the @xmath104th coordinate of @xmath527 is equal to the @xmath368th coordinate of @xmath529 by , say , the smallest element of @xmath532 .",
    "hence , we can find such a collection @xmath203 with , say , @xmath533 , by means of a greedy algorithm .",
    "thus , we obtain the bound @xmath534 and the claim follows by taking @xmath535 .",
    "[ stopping_time_valid_pos_remark ] we point out that in the notation of the previous lemma , the position @xmath536 is a stopping time for the process @xmath537 .",
    "a major part of the construction of the rough isometry between @xmath23 and @xmath24 will be constructing a rough isometry between a block of @xmath23 and the beginning of a blue segment of @xmath24 or , alternatively , constructing a rough isometry between the beginning of a blue segment of @xmath23 and a block of @xmath24 .",
    "the following theorem gives conditions under which this is possible with high probability .",
    "[ block_mapping_theorem ] fix integers @xmath538 satisfying @xmath539 and .",
    "let @xmath540 , @xmath541 and @xmath542 , where @xmath372 is random , with @xmath543 independent . construct the segment @xmath544 by concatenating @xmath545 and  @xmath444 .",
    "there then exists a random integer @xmath546 which is a stopping time for @xmath547 conditioned on @xmath548 .",
    "that is , the event @xmath549 is measurable with respect to @xmath548 and @xmath550 , satisfying the conditions that if @xmath551 , then :    @xmath552 for some @xmath242 ;    on the event @xmath231 , there exists a markov rough isometry @xmath164 from @xmath548 to @xmath553 $ ] with constants @xmath204 such that the last point of @xmath548 is mapped to @xmath554 and it is the only point mapped to @xmath554 ;    on the event @xmath231 , there exists a markov rough isometry @xmath165 from @xmath553 $ ] to @xmath548 with constants @xmath204 such that @xmath554 is mapped to the last point of @xmath548 and it is the only point mapped to the last point of @xmath548 .",
    "let us show how to prove theorem [ main_thm ] using theorem [ block_mapping_theorem ] .",
    "we first require the following definition .    for a given integer @xmath555 ,",
    "a sorted infinite sequence @xmath556 is said to be distributed as a _",
    "bernoulli percolation with @xmath134 initial short gaps _ if the rooted sequence @xmath557 is distributed as a rooted bernoulli percolation on @xmath20 conditioned to have its first @xmath134 gaps short and its next gap long .",
    "the proof is by induction : for each stage @xmath558 , we shall have an event @xmath559 denoting whether or not the @xmath368th stage was successful , with @xmath560 for @xmath561 and @xmath562 . conditioned on @xmath563 , the following random variables are defined :    two positions @xmath564 and @xmath565 , with @xmath566 ;    a markov rough isometry @xmath567\\to b\\cap [ 0,p_j^b]$ ] with constants @xmath204 satisfying @xmath568 , with @xmath569 being the only source of @xmath570 ;    two numbers @xmath571 and @xmath572 , with @xmath573 and @xmath574 .",
    "also , conditioned on all of these random variables , the distribution of @xmath575 is that of a bernoulli percolation with @xmath571 initial short gaps and , independently , the distribution of @xmath576 is that of a bernoulli percolation with @xmath572 initial short gaps .",
    "this implies theorem [ main_thm ] since if all events @xmath577 occur , then @xmath578\\to b\\cap[0,p_n^b]$ ] is a markov rough isometry with constants @xmath204 and @xmath579 , and hence , by proposition [ markov_ri_restriction_prop ] , we know that its restriction to the first @xmath1 points of @xmath23 is a markov r.i . to some initial segment of @xmath24 with constants @xmath204 , as the theorem requires .",
    "the probability that @xmath580 occur is at least @xmath581 for large enough @xmath1 , as required .    .",
    "in this example , @xmath582    let us show the above induction ( see figure [ block_squeezed_into_blue_pic ] ) . for @xmath583 , the event @xmath584 [ recall ( [ k_short_gaps_event_def ] ) ] , @xmath585 , @xmath586 is just defined on @xmath41 by @xmath587 and , on the event @xmath588",
    ", we let @xmath589 be the length of the first blue segment of @xmath23 and @xmath590 be the length of the first blue segment of @xmath24 . it is easy to see that all of the properties stated above hold .    now",
    ", suppose that @xmath591 have occurred and that we have already constructed the above random variables up to stage @xmath592 with the above properties .",
    "we condition on @xmath593 and @xmath594 .",
    "there are two cases to consider :    1 .",
    "@xmath595 [ note that this also implies @xmath596 , by property ( iii ) above ] .",
    "let @xmath597 , @xmath598 . by the induction assumption ,",
    "the segment @xmath599 $ ] translated to start at @xmath57 is distributed @xmath600 and the segment @xmath601 $ ] translated to start at @xmath57 is distributed @xmath602 .",
    "let @xmath569 denote the end of the red segment which follows @xmath603 $ ] , that is , @xmath604 and let @xmath571 be the number of short gaps of @xmath23 after @xmath569 , that is , @xmath605 note that , by definition of @xmath569 , we have @xmath606 .",
    "we now invoke theorem [ block_mapping_theorem ] with the following parameters : @xmath545 is the segment @xmath599 $ ] translated to start at @xmath57 , @xmath444 is the segment @xmath607 $ ] translated to start at @xmath57 and @xmath547 is the segment @xmath601 $ ] translated to start at @xmath57 ( @xmath548 is then @xmath608 $ ] translated to start at @xmath57 ) .",
    "the theorem gives us @xmath609 , which is a stopping time for @xmath547 conditioned on @xmath545 and @xmath444 .",
    "let @xmath559 be the event @xmath231 of that theorem , that is , @xmath610 according to part ( ii ) of that theorem , on the event @xmath559 , we have a markov rough isometry @xmath611 $ ] with constants @xmath204 .",
    "let @xmath612 and @xmath613 , and note that , on the event @xmath559 , @xmath614 . finally , to construct @xmath615 we `` concatenate '' @xmath616 and @xmath617 , that is , @xmath618 note that @xmath615 is indeed a markov rough isometry with constants @xmath204 since @xmath616 and @xmath619 are , and since there is a unique preimage to @xmath620 . also note that by lemma [ stopping_time_prop_for_blue_lemma ] , we have that , conditioned on @xmath559 and @xmath609",
    ", the distribution of @xmath621 is that of a bernoulli percolation with @xmath572 initial short gaps .",
    "hence , @xmath559 , @xmath569 , @xmath570 , @xmath615 , @xmath622 and @xmath623 satisfy the requirements of the induction step .",
    "2 .   @xmath624 .",
    "the induction step in this case is performed in the same way as in the first case , but with the roles of @xmath23 and @xmath24 interchanged and using part ( iii ) of theorem [ block_mapping_theorem ] instead of part ( ii ) .",
    "all that remains is to prove theorem [ block_mapping_theorem ] , which we now do .",
    "proof of theorem [ block_mapping_theorem ] we divide the proof into several parts :    1 .",
    "first , consider @xmath545 . applying the algorithm of lemma [ division_to_subsegments_lemma ] to @xmath545 with @xmath625",
    ", we obtain a division of @xmath545 into @xmath7 subsegments .",
    "denote these by @xmath626 .",
    "if we let @xmath627 , then , by lemma [ division_to_subsegments_lemma ] , there exists a @xmath500 such that @xmath628 2 .",
    "now , consider @xmath444 .",
    "let @xmath6 be the number of long gaps in @xmath444 and let @xmath462 be their lengths .",
    "let @xmath629 and @xmath630 . then , by lemma [ red_segment_prop_lemma ] , for some @xmath463 , @xmath631\\\\[-8pt ] \\mathbb{p}(\\omega_3^c)&\\le & o \\biggl(\\frac{1}{n^{1+\\gamma } } \\biggr).\\nonumber\\end{aligned}\\ ] ] 3 .",
    "we continue to consider @xmath444 .",
    "let @xmath632 be the starting points of the long gaps in @xmath444 ( @xmath633 ) , that is , @xmath634 for all @xmath104 .",
    "they divide @xmath444 into @xmath635 subsegments , @xmath636 , \\ldots , v^{x-1}:=v\\cap[s(z_{x-1}),z_x]$ ] . by the ( structure )",
    "lemma [ block_structure_lemma ] , we know that each subsegment conditioned on its length and translated to start at @xmath57 is distributed as a blue segment of that length .",
    "let us again employ the algorithm of lemma [ division_to_subsegments_lemma ] with @xmath625 to each of these subsegments to divide them further into `` sub - subsegments . ''",
    "let @xmath637 be the number of sub - subsegments in the division of @xmath638 and denote them by @xmath639 ( for each @xmath368 , @xmath640 ) .",
    "let @xmath641 . to bound @xmath642",
    ", we consider the blue segment @xmath643 obtained from @xmath444 by deleting all of its long gaps and translating to start at @xmath57 .",
    "more precisely , write @xmath644 , where @xmath645 is the number of gaps in @xmath638 , let @xmath646 and then define @xmath647 @xmath643 is a blue segment as a concatenation of many independent blue segments .",
    "we also apply the algorithm of lemma [ division_to_subsegments_lemma ] to @xmath643 with @xmath625 to divide it into @xmath648 subsegments .",
    "it is clear from the algorithm that @xmath649 , but since , in the passage from @xmath444 to @xmath643 , we only removed @xmath6 long gaps , one must also check that @xmath650 we recall that @xmath372 is the number of gaps in @xmath444 and note that by the ( structure ) lemma [ block_structure_lemma ] , @xmath651 .",
    "we wish to show that @xmath652 for this , we divide the problem into three cases : * @xmath653 .",
    "this implies that @xmath654 , which we know , by ( [ red_segment_estimates ] ) , to have probability at most @xmath655 . *",
    "applying lemma [ division_to_subsegments_lemma ] , we have @xmath657 * @xmath658 . on this event , we certainly must have @xmath659 , + and ( [ tilde_y_prob_estimate ] ) follows . using ( [ red_segment_estimates ] ) , ( [ sum_of_ys_bound ] ) and ( [ tilde_y_prob_estimate ] ) , we deduce , for large enough @xmath1 , that @xmath660 4 .",
    "we now consider the gap sequence @xmath661 of @xmath547 and the sequence @xmath662 ( @xmath7 was defined in the first item of the proof ) , where we have extended the sequence to be infinite by concatenating an i.i.d .",
    "sequence @xmath663 of @xmath438 random variables , independent of everything else .",
    "we apply lemma [ waiting_time_for_red_match ] to @xmath664 with the parameters @xmath665 ( recall that @xmath462 are the lengths of the long gaps of @xmath444 ) and @xmath666 , to obtain @xmath452 , the first valid position along @xmath664 ( `` valid position '' was defined in the lemma ) .",
    "let @xmath667 .",
    "let @xmath668 and choose @xmath669 .",
    "then , by the lemma , @xmath670 since , on the events @xmath671 and @xmath672 , we have @xmath673 , we obtain , for large enough @xmath1 , @xmath674 hence , @xmath675 .",
    "5 .   finally , we construct the required time @xmath609 , event @xmath231 and markov rough isometries @xmath164 and @xmath165 .",
    "we define @xmath676 we note that , just as in remark [ stopping_time_valid_pos_remark ] , conditioned on @xmath548 [ in particular , on @xmath677 and @xmath678 , the time @xmath609 is a stopping time for @xmath547 .",
    "we define the event @xmath679 note that , by the previous calculations , @xmath680 for some @xmath242 . on the event @xmath681",
    ", we have @xmath682 hence the event @xmath231 of the theorem satisfies @xmath683 . on the event @xmath231 , we now construct @xmath164 ( see figure [ mapping_of_block_to_blue_segment_pic ] ) .",
    "@xmath165 is constructed +   and @xmath684 . when mapping @xmath545 to @xmath547 , we start mapping points one - to - one rather than many - to - one , starting from subsegment @xmath685 . ]",
    "+ analogously , using the fact that @xmath686 .",
    "first , we define @xmath164 on the points of @xmath545 in such a way that @xmath687 .",
    "note that , on the event @xmath231 , @xmath688\\\\[-8pt ] & \\ge & l_1 - \\max\\biggl(\\frac { k}{2},\\frac{l_1}{\\sqrt{\\log_2 n } } \\biggr ) + z\\ge z\\nonumber\\end{aligned}\\ ] ] since @xmath689 .",
    "we start mapping the points of @xmath545 to @xmath547 according to the subsegment @xmath690 that the point of @xmath545 is in .",
    "more precisely , we consider all of the points of @xmath545 in order and if a point @xmath691 , then we define @xmath692 ( where @xmath693 is defined to be @xmath57 ) . by the definition of the subsegments @xmath694 , for all @xmath368 , we will have @xmath695 , as required . furthermore , since @xmath696 for all @xmath104 and @xmath697 , we will not expand or contract any distance by more than @xmath310 .",
    "we stop mapping in this way when we reach a point @xmath698 belonging to @xmath699 which satisfies @xmath700 .",
    "such a point must be reached for some @xmath701 , by ( [ l_1_y_and_z_estimate ] ) . from this point on , we map the points sequentially as follows : @xmath702 for @xmath703 . as before , no distances are expanded or contracted by more than @xmath310 . + we continue to define @xmath164 at the points of @xmath548 which follow @xmath704 ( the translated points of @xmath444 ) . recalling that @xmath632 are the starting points of the long gaps in @xmath444 ( the corresponding points of @xmath548 are @xmath705 )",
    ", we construct the remainder of the mapping @xmath164 by induction on @xmath706 .",
    "note that since @xmath633 , we have already defined @xmath707 .",
    "define further @xmath708 ; this is the @xmath709 stage .",
    "note that by the definition of @xmath452 , we did not contract the gap of @xmath548 by more than @xmath310 ( and , of course , we did not expand it since we mapped to a short gap ) .",
    "+ for @xmath710 , let @xmath711 .",
    "suppose that we have already constructed the mapping @xmath164 to be a markov rough isometry with constants @xmath204 from @xmath712 $ ] to @xmath713 $ ] in such a way that @xmath714 and that it is the only source of @xmath715 .",
    "recall that we have divided the subsegment @xmath716 into sub - subsegments @xmath717 and consider a point @xmath718 $ ] .",
    "there then exists some @xmath262 such that @xmath719 .",
    "define @xmath720 .",
    "note that this is consistent with the definition of @xmath721 , that @xmath722 , that by the choice of the sub - subsegments for each point @xmath723 $ ] , we have @xmath724 , and that since we are mapping gaps not larger than @xmath310 to gaps of size between @xmath233 and @xmath310 , no distance was expanded or contracted by more than @xmath310 ( whenever two points are mapped to different images ) . finally , define @xmath725 .",
    "again , by the choice of @xmath452 , this mapping did not contract the gap of @xmath548 by more than @xmath310 ( and , of course , we did not expand it since we mapped to a short gap ) . continuing this procedure until @xmath726 completes the construction of the map @xmath727 $ ] , as required .",
    "i would like to thank itai benjamini for introducing me to the problem and encouraging me to work on it , and ori gurel - gurevich and gady kozma for suggesting ways to attack the problem similar to the ones i have here employed .",
    "i would also like to thank gideon amir , steve evans and yuval peres for useful conversations and discussions concerning this problem , and mikls abrt for useful discussions on the history of the problem and its general version .",
    "finally , i wish to thank guillaume obozinsky and nicholas crawford for noticing and correcting an error in a previous version of figure [ monotone_non_monotone_l_example ] ."
  ],
  "abstract_text": [
    "<S> intuitively , two metric spaces are rough isometric ( or quasi - isometric ) if their large - scale metric structure is the same , ignoring fine details . </S>",
    "<S> this concept has proven fundamental in the geometric study of groups . </S>",
    "<S> abrt , and later szegedy and benjamini , have posed several probabilistic questions concerning this concept . in this article </S>",
    "<S> , we consider one of the simplest of these : are two independent poisson point processes on the line rough isometric almost surely ? </S>",
    "<S> szegedy conjectured that the answer is positive .    </S>",
    "<S> benjamini proposed to consider a quantitative version which roughly states the following : given two independent percolations on @xmath0 , for which constants are the first @xmath1 points of the first percolation rough isometric to an initial segment of the second , with the first point mapping to the first point and with probability uniformly bounded from below ? </S>",
    "<S> we prove that the original question is equivalent to proving that absolute constants are possible in this quantitative version . </S>",
    "<S> we then make some progress toward the conjecture by showing that constants of order @xmath2 suffice in the quantitative version . </S>",
    "<S> this is the first result to improve upon the trivial construction which has constants of order @xmath3 . </S>",
    "<S> furthermore , the rough isometry we construct is ( weakly ) monotone and we include a discussion of monotone rough isometries , their properties and an interesting lattice structure inherent in them .    .    </S>"
  ]
}