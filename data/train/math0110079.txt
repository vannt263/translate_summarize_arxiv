{
  "article_text": [
    "projection maps appeared independently in the theory of buildings developed by tits   and in the theory of oriented matroids  .",
    "given the importance of these maps in either theory , it is reasonable to try to formulate them axiomatically .",
    "the close connection between these maps and the notion of shellability was first observed by bjrner  . in this paper",
    ", we study projection maps axiomatically keeping the viewpoint of  .",
    "this leads us to the notion of many `` compatible '' shellings rather than a single shelling . to complete the picture",
    ", we also consider restriction maps that are useful to keep track of a shelling . for ideas closely related to this paper ,",
    "the main result of this paper ( theorem  [ t : axiom ] ) may be informally stated as @xmath2    thus far , people seem to be interested in the question `` is a complex shellable ? ''",
    "the next question that should be asked is `` how do we study the space of all shellings of a complex ? ''",
    "as explained in the previous paragraph , projection maps give us an approach to this hard problem .",
    "we mention that though compatible shellings form a fairly large class of shellings , they are far from giving all possible shellings of a complex .    for a labelled shellable complex @xmath3",
    ", bjrner   gives a simple geometric interpretation of the flag @xmath0 vector . in our case , @xmath3 has many `` compatible '' shellings rather than a single shelling .",
    "this gives us a dual interpretation of the flag @xmath0 vector which is easier to visualise .",
    "it is particularly nice when the projection maps satisfy some commutativity relations .",
    "these relations are related to the uniformity of the stationary distribution of certain random walks introduced by bidigare , hanlon and rockmore  . in this context",
    ", we generalise a result on uniform stationary distributions obtained in  .",
    "next we formalise the notion of duality by adding an `` opposite '' axiom to our axiomatic setup .",
    "it is strong enough to imply the dehn - sommerville equations . and",
    "as one expects , this axiom can hold only for a simplicial complex homotopy equivalent to a sphere . from the viewpoint of shellings ,",
    "the relevant concept is that of shelling reversal , i.e. , when is the reverse of a shelling again a shelling ?",
    "the solomon - tits theorem says that a ( thick ) spherical building @xmath3 has the homotopy type of a ( non - trivial ) wedge of spheres .",
    "hence by the observation in the previous paragraph , @xmath3 can not satisfy the opposite axiom .",
    "however @xmath3 has a remarkable duality which can be expressed in terms of the flag @xmath0 vector ( theorem  [ t : duality ] ) .",
    "this may be regarded as a @xmath1-analogue of the dehn - sommerville equations .",
    "the next two sections provide basic definitions and motivating examples .",
    "the axiomatic theory involving projections maps , shellings and restriction maps is presented in section  [ s : axiom ] and later in a more intuitive metric setup in section  [ s : metric ] . in section  [ s : tss ]",
    "we explain the connection with the flag @xmath0 vector .",
    "the connection with random walks is explained in section  [ s : comm ] . in the next two sections ,",
    "we study the notion of duality first for thin complexes and then for buildings . in the final section",
    ", we outline some problems for further study .",
    "in this section , we give four examples of the mini - theory that we will present in section  [ s : axiom ] .",
    "we will return to these examples again in section  [ s : metric ] , where we will show that they are indeed examples of our theory .",
    "terms like gallery connected , convex , etc .",
    "that we freely use here are also explained in that section . for",
    "now , we present the examples from the viewpoint of projection maps .",
    "they fit into the framework of lrbs ( non - associative in general ) as indicated in the table .",
    "+    [ cols=\"^,^\",options=\"header \" , ]     the question marks say that a building - like analogue for the more general case of hyperplane arrangements is unknown . though lrbs in general are not examples of our theory they come quite close as we will see in section  [ s : lrb ] ; and hence can potentially give more examples .",
    "keeping this in mind , we start with a brief review of lrbs .",
    "let @xmath4 be a semigroup ( finite , with identity ) .",
    "a _ left - regular band _ , or lrb , is a semigroup @xmath4 that satisfies the identities @xmath5 for all @xmath6 .",
    "we call ( d ) the `` deletion property '' , because it admits the following restatement : whenever we have a product @xmath7 in  @xmath4 , we can delete any factor that has occurred earlier without changing the value of the product .    alternatively , one can say that @xmath4 is a _ lrb _",
    "if there are a lattice @xmath8 and a surjection @xmath9 satisfying @xmath10 and @xmath11 here @xmath12 denotes the join operation ( least upper bound ) in @xmath8 .",
    "a good reference for lrbs is .",
    "it explains the equivalence of the above two definitions and also contains plenty of examples .",
    "more information about lrbs can be found in .",
    "early references to the identity @xmath13 are .",
    "we can also define a partial order on a lrb by setting @xmath14    we now switch to a slightly different notation which we will be using for the most part .",
    "we denote a lrb by @xmath15 and call elements of @xmath15 as faces .",
    "a face @xmath16 is a _ chamber _ if @xmath17 for all @xmath18 , or equivalently , if it is maximal in the partial order on @xmath15 specified by equation  .",
    "the set of chambers , which we denote @xmath19 , is an ideal in @xmath15 .",
    "this gives us a map @xmath20 that maps @xmath21 to @xmath22 .",
    "we call @xmath22 the _ projection _ of @xmath16 on @xmath23 . in this paper",
    ", we are mainly interested in these projection maps rather than the full product in @xmath15 .    [ e : hfs ] hyperplane arrangements : the motivating example of a lrb is the poset of regions of a central hyperplane arrangement ( or more generally of an oriented matroid ) .",
    "a good reference for this example is .",
    "more details can be found in .",
    "briefly , a finite set of linear hyperplanes ( i.e. hyperplanes passing through the origin ) in a real vector space @xmath24 divides @xmath24 into regions called _",
    "chambers_. these are polyhedral sets , which have _ faces_. the totality @xmath15 of all the faces is a poset under the face relation .",
    "less obviously , @xmath15 admits a product , making it a lrb .",
    "the lattice @xmath8 is the intersection lattice of the arrangement ( or more generally the underlying matroid ) .",
    "the product can be described combinatorially by encoding faces using sign sequences .",
    "in fact one way to axiomatize an oriented matroid is in terms of sign sequences and this product .",
    "the deletion property @xmath25 for @xmath15 can be checked directly .",
    "the product in @xmath15 can also be described geometrically .",
    "for instance , the projection @xmath22 is the chamber closest to @xmath16 having @xmath23 as a face .",
    "the case that is directly relevant to our theory is that of _ simplicial _ hyperplane arrangements , i.e. , the chambers are simplicial cones and hence @xmath15 is a simplicial complex . as an interesting example , we mention coxeter complexes which arise from reflection arrangements",
    ".    now let @xmath26 be a convex set of chambers and let @xmath27 be the set of faces of all the chambers in @xmath28 . then using the geometric description of the product in @xmath15 , for instance",
    ", one can check that @xmath27 is also a lrb .",
    "we now give a concrete example of this type .",
    "distributive lattices : a good reference for this example is .",
    "we will soon see that it generalises to the case of modular lattices ( example  [ e : modular ] ) .",
    "we start with the basic example of the boolean lattice @xmath29 of rank @xmath30 consisting of all subsets of an @xmath30-set ordered under inclusion .",
    "its flag ( order ) complex @xmath31 is the coxeter complex of type @xmath32 and corresponds to the braid arrangement .",
    "hence the set of faces of @xmath31 is a lrb . moreover the product can be described entirely using the lattice structure ( meets and joins ) of @xmath29 .",
    "more generally , the set of faces @xmath15 of the flag ( order ) complex @xmath33 of any distributive lattice @xmath34 is also a lrb . a simple way to verify",
    "this is to appeal to the well - known fact that @xmath34 can be embedded as a sublattice of the boolean lattice .",
    "more geometrically , abels   has described a way of constructing an embedding which makes the set of chambers in  @xmath33 ( i.e. , the maximal chains in  @xmath34 ) correspond to a convex set of chambers in @xmath31 , the complex of the braid arrangement .",
    "as one may expect , these are the same as lrbs except that we no longer require associativity .",
    "however , we do require that @xmath35 be well - defined for all @xmath36 ; that is , @xmath37 . with this restriction , the deletion property makes sense .",
    "in the non - associative setting , the second definition of lrbs involving a lattice @xmath8 does not make much sense and we omit it .",
    "also transitivity of the relation @xmath38 defined by equation   is no longer automatic .",
    "so we have two choices ; either to take transitive closure of the relation or simply to impose transitivity as an additional condition .",
    "in the two examples that we consider , transitivity of the relation @xmath38 is in fact automatic and hence we do not pursue this issue further .    to avoid confusion later , we mention that the term lrb always means an associative lrb .",
    "whenever we want to include the non - associative case , we will say so explicitly .",
    "buildings : a good reference for this example is ; also see  .",
    "some of the terminology used here is explained at the beginning of section  [ s : metric ] .",
    "also the building of type @xmath32 is described briefly in example  [ e : dbuild ] in section  [ s : dbuild ] .",
    "let @xmath39 be a coxeter group and @xmath40 its coxeter complex .",
    "roughly a building @xmath3 of type @xmath39 is a union of subcomplexes @xmath41 ( called _ apartments _ ) which fit together nicely .",
    "each apartment @xmath41 is isomorphic to @xmath40 .",
    "for any two simplices in @xmath3 , there is an apartment @xmath41 containing both of them . as a simplicial complex",
    ", @xmath3 is pure , labelled and gallery connected .",
    "also each apartment is convex .",
    "there is a @xmath39-valued distance function @xmath42 that generalises the gallery distance .",
    "furthermore for any apartment @xmath41 and chamber @xmath43 , there is a retraction @xmath44 satisfying @xmath45 for any @xmath46 .",
    "we denote the set of faces by @xmath15 . for @xmath47 , we choose an apartment @xmath41 containing @xmath23 and @xmath48 and define @xmath49 to be their product in @xmath41 . since @xmath41 is a coxeter complex , we know how to do this ( example  [ e : hfs ] ) . furthermore it can be shown that the product does not depend on the choice of @xmath41 .",
    "hence this defines a product on the set of faces @xmath15 of @xmath3 . and",
    "it is compatible with the retraction @xmath50 , namely , @xmath51 for any face @xmath23 of @xmath3 .",
    "[ e : modular ] modular lattices : a good reference for this example is where you can find proofs of all the facts that we state here .",
    "the flag ( order ) complex @xmath33 of a modular lattice @xmath34 is a labelled simplicial complex .",
    "a face of @xmath3 is a chain in @xmath34 . as usual , we denote the set of faces by @xmath15 .",
    "the chambers @xmath19 of @xmath3 are the maximal chains in @xmath34 .",
    "we define the map @xmath20 as follows . for @xmath52 and @xmath43 , define @xmath22 to be the unique chamber containing @xmath23 that is contained in the sublattice generated by @xmath23 and @xmath16 .",
    "more generally , for @xmath47 , the face @xmath49 is the chain in @xmath34 obtained by refining the chain @xmath23 by the chain @xmath48 ( using meets and joins as in a jordan  hlder product ) .",
    "an interesting subclass of modular lattices is that of distributive lattices that we discussed earlier . another",
    "interesting fact is that in a modular lattice , the sublattice generated by any two chains is distributive ; see . hence modular lattices may be regarded as generalisations of buildings of type @xmath32 , with these distributive lattices playing the role of apartments ( and their convex subsets ) .",
    "it may be possible to generalise this example in various directions .",
    "for example , one may consider more general lattices like supersolvable lattices  .",
    "it is also a challenge to find analogues of modular lattices that generalise buildings of types other than @xmath32 .    for buildings",
    ", while there is always an apartment containing two given chambers , there may not be an apartment containing three given chambers . similarly for modular lattices , the sublattice generated by three chains may not be distributive .",
    "this is the basic reason why the product in buildings and modular lattices is not associative .",
    "we do not know of any algebraic tools relevant to the study of non - associative lrbs .",
    "all four examples that we discussed share some common geometric properties .",
    "the lrb @xmath15 ( non - associative in the last two examples ) is a simplicial ( or polyhedral ) complex .",
    "( later in the paper , we will call such a @xmath15 , a _ simplicial lrb_. ) furthermore @xmath15 is pure and gallery connected .",
    "geometrically the projection @xmath22 is the chamber closest to @xmath16 having @xmath23 as a face .",
    "also @xmath53 for @xmath47 .",
    "let @xmath3 be a finite pure @xmath54-dimensional simplicial complex . the term _ pure _ means that all maximal simplices have the same dimension .",
    "we will call the maximal simplices as chambers .",
    "let @xmath15 be the set of all faces of @xmath3 and let @xmath19 be the set of chambers of @xmath3 .",
    "also let @xmath55 be the simplicial subcomplex of @xmath3 consisting of all faces of the faces that contain @xmath23 .",
    "similarly @xmath56 stands for the set of chambers of @xmath55 .",
    "let the partial order @xmath38 denote the face relation ; that is , @xmath57 if @xmath23 is a face of @xmath48 .",
    "we say that @xmath3 is _ shellable _ if there is a linear order @xmath58 on the set of chambers @xmath19 of @xmath3 such that for every @xmath46 except the first in the linear order , we have @xmath59 is pure @xmath60-dimensional ; that is , the intersection of @xmath61 with the chambers that came before it in the linear order @xmath58 is a non - empty union of certain facets of @xmath61 .",
    "less formally , a shelling gives a systematic way to build @xmath3 by adding one chamber at a time . and",
    "the subcomplex obtained at each stage ( and in particular the entire complex @xmath3 ) is gallery connected .",
    "c@c    to a shelling @xmath58 , we can associate a _ restriction map _ @xmath62 with @xmath63 defined to be the face of @xmath61 spanned by those vertices @xmath64 of @xmath61 for which @xmath65 . here @xmath66 is the facet of @xmath61 that does not contain the vertex @xmath64 .",
    "figure  [ residue ] shows two cases that can arise in the rank 3 case",
    ". the facets of @xmath61 that are shown by dark lines indicate the intersection of @xmath61 with the chambers that came before it in the shelling order .",
    "observe that @xmath67 .",
    "this shows that @xmath15 can be expressed as a disjoint union    @xmath68    compare this statement with the restriction axiom @xmath69 in section  [ subs : axioms ] .",
    "also note that @xmath70 , the empty face of @xmath3 , if and only if @xmath61 is first in the linear order @xmath58 .",
    "to summarise , the restriction map @xmath71 gives us the local data at every chamber associated with the shelling @xmath58 .",
    "it does not have enough information however to allow us to reconstruct @xmath58 .",
    "this is because the essence of a shelling is really a partial order .",
    "here is what we can do .",
    "we can define a partial order @xmath72 on @xmath19 as the transitive closure of the relation : @xmath73 observe that the chamber @xmath16 by which we indexed our partial order is the one that occurred first in @xmath58 .",
    "the motivation for this notation will be more clear when we study the shelling axioms in section  [ subs : axioms ]",
    ". one can show directly that any linear extension of @xmath72 is a shelling of @xmath3 ( compare this statement with the shelling axiom @xmath74 ) and the shelling @xmath58 that we started with is one of them .",
    "we can also define a more refined partial order @xmath75 on @xmath19 as the transitive closure of the relation : @xmath76 we will show ( lemma  [ l : comp ] ) that for a thin complex , the partial orders @xmath72 and @xmath75 on @xmath19 are identical .",
    "the term _ thin _ means that every facet is contained in exactly 2 chambers .",
    "now suppose instead that we start not with a shelling order @xmath58 but only with a map @xmath62 that satisfies equation  .",
    "then can we say that @xmath71 is the restriction map of a shelling ? we know only a partial answer .",
    "the first thing to do is to define a relation @xmath72 using equation  .",
    "( the chamber @xmath16 is the unique chamber satisfying @xmath77 if the relation @xmath72 happens to be a partial order then it follows that any linear extension of @xmath72 is a shelling of @xmath3 and the restriction map of any of these is @xmath71 .",
    "the above statements will be justified in the course of proving theorem  [ t : axiom ] . for future use , we record three useful results about shellable complexes .",
    "[ l : sh ] let @xmath23 be any face of @xmath78 and let @xmath58 be a shelling of @xmath78 .",
    "then this linear order when restricted to @xmath56 is a shelling of @xmath79 . in other words ,",
    "the link @xmath80 of any face @xmath23 in a shellable complex @xmath3 is again shellable with the induced order .",
    "let @xmath58 be a shelling of @xmath3 and let @xmath81 be its restriction to @xmath56 . by the definition of a shelling we have @xmath82 where @xmath83 is a subset of the set of facets of @xmath61 .",
    "let @xmath84 be the subset of @xmath83 consisting of those facets that contain @xmath23 .",
    "the lemma follows from the following claim .",
    "claim : for @xmath85 , we have @xmath86",
    ". + note that if @xmath61 is not the first element in @xmath81 then @xmath87 . in that case",
    "the set @xmath84 will be non - empty as required .",
    "+ proof of the claim .",
    "@xmath88 let @xmath89 . by equation @xmath90 , there is a @xmath91 such that @xmath92 .",
    "since @xmath93 , it follows that @xmath94 and hence @xmath95 .",
    "+ @xmath96 let @xmath97 .",
    "we may assume that @xmath98 .",
    "since otherwise we may replace @xmath99 by the face spanned by @xmath23 and @xmath99 which still belongs to the lhs .",
    "applying @xmath90 , there is a @xmath100 such that @xmath101 .",
    "so @xmath89 .",
    "hence @xmath102 .",
    "[ l : comp ] let @xmath3 be a thin shellable complex with shelling @xmath58 and restriction map @xmath71 .",
    "let @xmath72 and @xmath75 be the partial orders on @xmath19 defined by equations   and   respectively",
    ". then the partial orders @xmath72 and @xmath75 on @xmath19 are identical .",
    "we only need to show that @xmath103 , or equivalently , @xmath104 implies @xmath105 .",
    "we do this by constructing a gallery from @xmath106 to @xmath61 such that for consecutive chambers @xmath107 and @xmath108 in the gallery , we have @xmath109 .    by lemma  [ l : sh ] , the shelling @xmath58 restricts to a shelling @xmath81 of @xmath110 .",
    "hence @xmath110 is gallery connected at every stage of the shelling @xmath81 .",
    "and @xmath106 is the starting chamber of the shelling .",
    "this allows us to choose a gallery from @xmath106 to @xmath61 in @xmath110 consistent with the shelling @xmath81 .",
    "this automatically implies consistency with the original shelling @xmath58 .",
    "let @xmath107 and @xmath108 be two consecutive chambers in the gallery such that @xmath111 . since @xmath3 is thin , the common facet of @xmath107 and @xmath108 appears for the first time in the shelling @xmath112 when we adjoin @xmath107 .",
    "hence we get @xmath109 .",
    "this is exactly what we wanted to show .",
    "hence the partial orders @xmath72 and @xmath113 are identical .",
    "[ p : shell ] a finite @xmath54 dimensional shellable complex @xmath3 is homotopy equivalent to a wedge of @xmath54-spheres .",
    "the number of these spheres is given by @xmath114 , where @xmath71 is the restriction map associated with any shelling of @xmath3 .",
    "note that if @xmath115 then the unique chamber @xmath61 for which @xmath116 is the one that gets shelled in the end .",
    "in this section we provide an axiomatic setup that relates projection maps , shellings and restriction maps .",
    "motivation for some of the axioms was given in the previous two sections .",
    "the axioms are somewhat abstract and you may want to simply glance at them now .",
    "they are split into three categories .",
    "the first two axioms in each of the three categories really deal with a fixed chamber @xmath43 .",
    "as we vary @xmath43 , it is natural to impose some _ compatibility _ condition .",
    "this is the content of the third ( compatibility ) axiom .",
    "it is easiest to swallow in the shelling case .",
    "we do not know of any way to make it more palatable in the other two cases .",
    "the main result of this section ( theorem  [ t : axiom ] ) says that for a pure simplicial complex , the different sets of axioms are equivalent .",
    "the way to pass from one set of axioms to another is explained immediately after the statements of all the axioms .",
    "the examples mentioned in section  [ s : proj ] are discussed from this axiomatic viewpoint in section  [ s : metric ] .",
    "it is a good idea to read that section before reading the proof of theorem  [ t : axiom ] .",
    "apart from serving as motivation , it will unable you to understand the geometric content of every step in the proof .",
    "let @xmath3 be a finite pure simplicial complex .",
    "let @xmath15 be the set of all faces of @xmath3 and let @xmath19 be the set of chambers of @xmath3 .",
    "we always consider the empty face @xmath117 to be a face of @xmath3 .",
    "let the partial order @xmath38 denote the face relation ; that is , @xmath57 if @xmath23 is a face of @xmath48 . also let @xmath118 stand for the cover relation ; that is , @xmath119 if @xmath48 is a codimension @xmath120 face of @xmath61 .",
    "if @xmath61 is a chamber and @xmath119 then @xmath48 is a facet of @xmath3 .",
    "before we state the projection axioms , we need a definition .",
    "given a map @xmath20 , we say that @xmath61 and @xmath106 are _ weakly @xmath16 adjacent _ if they have a common face @xmath23 such that @xmath121 .",
    "we may write this as @xmath122 .",
    "note that this is not a symmetric relation .",
    "also we do not require @xmath23 to be a facet .",
    "in fact , @xmath23 could also be the empty face .",
    "this explains the term `` weakly adjacent '' .",
    "a _ weak @xmath16 gallery _ is a sequence of chambers @xmath123 such that consecutive chambers are weakly @xmath16 adjacent .",
    "we write this as @xmath124 .",
    "if more precision is required then we write @xmath125 where @xmath126 is a sequence of faces such that , @xmath127 and @xmath128 .",
    "c@c    it will be seen from axiom @xmath129 that @xmath130 .",
    "hence @xmath16 can always be tagged on as the first element of any weak @xmath16 gallery .",
    "for every @xmath18 , there is a projection map @xmath132 which we write @xmath133 that satisfies    * \\(i ) if @xmath121 then @xmath134 .",
    "+ ( ii ) if @xmath135 then @xmath136 .",
    "+ ( iii ) if @xmath121 and @xmath137 then @xmath138 . * if @xmath134 and @xmath138 for all @xmath139 then @xmath121 . as a special case when @xmath140",
    ", we get : if @xmath138 for all @xmath119 then @xmath141 . as another special case , when @xmath142 , the second condition holds vacuously and we get @xmath143 . * if @xmath121 and @xmath144 is any weak @xmath16 gallery from @xmath145 to @xmath61 then @xmath146 .",
    "axiom @xmath129 says that @xmath140 acts as the identity on @xmath19 .",
    "also note that it is a special case of axiom @xmath147 obtained by setting @xmath140 and @xmath141 . in figure",
    "[ gallery ] , if @xmath23 is such that @xmath121 then axiom @xmath148 says that @xmath146 .      for every @xmath43 , there is a restriction map @xmath150",
    "that satisfies    * for any @xmath151 , we have @xmath152 and @xmath153 . * for any @xmath43 , we have @xmath154 . * if @xmath155 then @xmath156 .    the symbol @xmath157 in axiom @xmath69 stands for disjoint union . also for simplicity of notation and suggestiveness",
    ", we will write the set of inequalities in the `` if part '' of axiom @xmath158 as @xmath159 . we will refer to this diagram as a sequence of @xmath16 inequalities . in proving the equivalence of the axioms",
    ", we will see that a sequence of @xmath16 inequalities is indeed a weak @xmath16 gallery ( and extremal in a certain sense ) .",
    "the ambiguity in notation will then disappear .      for every @xmath43",
    ", there is a partial order @xmath72 on @xmath19 that satisfies    * for any @xmath18 , the partial order @xmath72 restricted to @xmath56 has a unique minimal element . for the empty face @xmath140 ,",
    "this unique minimal element is @xmath16 itself . *",
    "every linear extension of @xmath72 is a shelling of @xmath78 .",
    "* there exists a linear extension of @xmath72 that is a shelling of @xmath78 . *",
    "the partial orders are compatible in the sense that if @xmath161 then @xmath162 .",
    "axiom @xmath74 clearly implies axiom @xmath163 .",
    "in the course of proving theorem  [ t : axiom ] , we will see that we can drop axiom @xmath74 altogether and replace it by the weaker axiom @xmath163 .",
    "hence the two axioms can be used interchangeably .",
    "we first explain the basic idea .",
    "projection maps on @xmath3 give rise to many shellings of @xmath3 .",
    "in fact we get a partial order ( shelling ) @xmath72 for every @xmath164 as follows .",
    "we say @xmath165 if there is a common face @xmath23 of the chambers @xmath61 and @xmath106 such that @xmath166 .",
    "this is illustrated in figure  [ connect ] . to be technically correct ,",
    "the partial order @xmath72 is the transitive closure of the above relation .",
    "c@c    to put in words , among all chambers that contain @xmath23 , the chamber that is smallest in the partial order @xmath72 is the chamber @xmath22 . and",
    "this is true for every @xmath18 .",
    "the restriction map @xmath167 associated to @xmath72 can be defined as follows .",
    "the face @xmath168 is the smallest face @xmath23 of @xmath61 such that @xmath121 .",
    "we now record the above idea a little more formally .",
    "it is this formal connection between the axioms that we will use to prove theorem  [ t : axiom ] .",
    "going from    @xmath131 to @xmath149 : for every @xmath43 , we define a map @xmath169 . for @xmath46 , we let @xmath168 be the face spanned by those vertices @xmath64 of @xmath61 which satisfy @xmath170 .",
    "@xmath149 to @xmath160 : for every @xmath43 , we define a partial order @xmath72 to be the transitive closure of the relation : @xmath165 if @xmath171 .",
    "( compare with equation  . )",
    "@xmath160 to @xmath131 : for @xmath18 and @xmath43 , define @xmath22 to be the unique minimal element in @xmath56 with respect to the partial order @xmath72 . here we used axiom @xmath172 .",
    "in section  [ s : proj ] we discussed some examples from the viewpoint of projection maps .",
    "now we consider an example that is more natural from the point of view of shellability .",
    "it remains to be seen whether this approach can be formalised to get more examples .",
    "c@c    let @xmath3 be a simplicial complex of rank @xmath173 that triangulates a circle ; see figure  [ circle ] . for every @xmath43",
    ", we define the partial order @xmath72 to be the total order on @xmath19 that shells @xmath3 in the clockwise direction starting at @xmath16 .",
    "the shelling axioms are easily checked .",
    "note that there is a transitive action of @xmath174 on @xmath3 , where @xmath30 is the number of edges in @xmath3 . and",
    "this action is in some sense compatible with the partial orders @xmath72 .    using the connections between the three sets of axioms sketched above ,",
    "we now describe the restriction and projection maps .",
    "note that @xmath175 and @xmath176 , where @xmath106 is the chamber adjacent to @xmath16 in the anticlockwise direction .",
    "for any other chamber",
    "@xmath61 , @xmath168 is the vertex of @xmath61 that is further from @xmath16 in the clockwise direction . for the projection maps ,",
    "the only non - trivial case is when @xmath23 is a vertex . if @xmath135 then @xmath136 . if not then we define @xmath22 to be the projection of @xmath16 on @xmath23 in the clockwise direction .",
    "note that @xmath22 is not necessarily the closest chamber to @xmath16 that contains @xmath23 . in this sense @xmath3 is a non - metrical example .",
    "it is a good exercise to directly check the projection and restriction axioms .    in the examples that we gave in section  [ s : proj ]",
    ", we always had a map @xmath177 . in our axiomatic setting",
    ", we may define such a map by using the projection maps @xmath132 .",
    "for example , we can set @xmath53 for @xmath47 .",
    "however it is not clear what this would imply .",
    "for instance , we may ask whether we always get a lrb ( non - associative included ) . in the example above , if we try to extend the projection maps to a product @xmath177 , then @xmath3 is at best a non - associative lrb .",
    "we now prove the main result of this paper .",
    "[ t : axiom ] let @xmath78 be a finite pure simplicial complex .",
    "then @xmath78 satisfies @xmath131 @xmath178 @xmath78 satisfies @xmath149 @xmath178 @xmath78 satisfies @xmath160 .",
    "we show @xmath179 using the connections between the axioms that we have already outlined .",
    "the proof is fairly routine .",
    "there is no particular reason why we choose this circle of implications .",
    "for instance , as an exercise , you may try to show @xmath180 directly .",
    "we verify axioms @xmath182 , @xmath69 and @xmath158 .",
    "this is immediate from the definition of @xmath167 and axiom @xmath129 .",
    "let @xmath48 be any facet of @xmath61 .",
    "then by the definition of @xmath167 , we have @xmath183 . now by axiom @xmath184 , we get @xmath185 . in fact",
    "@xmath168 is the unique smallest face of @xmath61 with this property .",
    "this follows from axiom @xmath147 and the above `` if and only of '' statement .",
    "hence @xmath186 .",
    "axiom @xmath69 is immediate from this description .",
    "a sequence of @xmath16 inequalities @xmath187 is in fact a weak @xmath16 gallery .",
    "this is due to the fact that @xmath188 .",
    "also @xmath168 is such that @xmath185 . hence applying axiom @xmath148 to the above weak @xmath16 gallery with @xmath189",
    ", we get @xmath190 .",
    "since @xmath191 is the smallest face @xmath23 such that @xmath192 , we get @xmath156 .",
    "we first show that @xmath72 is a partial order .",
    "for this we will use all three restriction axioms .",
    "the only thing to check is antisymmetry . expanding out the definition of @xmath72 that we have given ,",
    "@xmath194 if we have a sequence of @xmath16 inequalities @xmath159 . to check antisymmetry",
    ", we show that a ( non - trivial ) sequence as above can not close in on itself .",
    "suppose not , then we have a minimal circular sequence , @xmath195 which is shown schematically in figure  [ contradict ] . then by axiom @xmath158 , we have @xmath196 .",
    "however by axiom @xmath182 we also have @xmath197 .",
    "since @xmath198 , this contradicts axiom @xmath69 .",
    "this shows that @xmath72 is a partial order .",
    "c@c    in terms of projection maps , @xmath199 is forced to be both @xmath145 and @xmath200 , which shows why the situation in figure  [ contradict ] never occurs .",
    "now we verify axioms @xmath172 , @xmath74 and @xmath201 .",
    "@xmath172 . by axiom @xmath69 , for any @xmath18",
    ", there is a unique chamber @xmath61 such that @xmath202 . for any other chamber @xmath106",
    "containing @xmath23 , we have @xmath203 . hence by definition of @xmath72",
    ", we have @xmath204 .",
    "this shows that @xmath61 is the unique minimal element for @xmath72 when restricted to @xmath56 .",
    "let @xmath58 be any linear extension of @xmath72 .",
    "since @xmath152 , we know that @xmath16 is the unique smallest element in the partial order @xmath72 . to show that @xmath58 is a shelling , it is enough to prove the following . + claim . for any @xmath46 such that @xmath205",
    ", we have @xmath206 . note",
    "that the rhs is a non - empty union of certain facets of @xmath61 as required in the shelling condition .",
    "+ proof of the claim.@xmath88 since @xmath207 for @xmath208 , we see by axiom @xmath69 that @xmath209 for some @xmath210 . now since @xmath171",
    ", we have @xmath92 .",
    "thus @xmath106 is a chamber such that @xmath211 and @xmath92 as required .",
    "+ @xmath96 we show that if @xmath23 is a face of @xmath61 such that @xmath212 then @xmath213 . if @xmath212 then @xmath214 . hence if @xmath215 for any @xmath216 then @xmath217 , that is , @xmath218 .",
    "hence @xmath213 .    @xmath201 .",
    "if @xmath161 then we have a sequence of @xmath16 inequalities @xmath219 .",
    "then axiom @xmath158 implies that @xmath220 is a sequence of @xmath61 inequalities .",
    "note that we have replaced @xmath16 by @xmath61 .",
    "so @xmath162 .",
    "now we verify axioms @xmath222 , @xmath184 and @xmath148 . for this we will use the weaker axiom @xmath163 instead of @xmath74 .",
    "( i ) this follows directly from the definition of the product .",
    "+ ( iii ) here we assume that @xmath121 and @xmath137 .",
    "the first assumption says that @xmath61 is the unique minimal element in the partial order @xmath72 restricted to @xmath56 . since @xmath137",
    ", it follows that @xmath61 is also the unique minimal element in the partial order @xmath72 restricted to @xmath223 . hence @xmath138 . as mentioned before",
    ", axiom @xmath129 is a special case of @xmath147 .",
    "using axiom @xmath224 , we choose a linear extension @xmath58 of @xmath72 which is a shelling of @xmath78 . by lemma  [ l : sh ] , this linear order when restricted to @xmath56",
    "gives a shelling of @xmath79 , and similarly of @xmath225 for all @xmath139 .",
    "our assumption @xmath138 for all @xmath139 says that for all such @xmath48 , the shelling order restricted to @xmath223 has @xmath61 as the first element .",
    "if we assume that @xmath226 then @xmath61 is not the first element in the shelling order restricted to @xmath56 . hence @xmath227 is a non - empty union of certain facets of @xmath61 .",
    "this implies that there is a facet @xmath119 for which the shelling of @xmath225 did not start with @xmath61 .",
    "this is a contradiction",
    ". therefore @xmath121 .",
    "@xmath148 . if @xmath61 and @xmath106 are weakly @xmath16 adjacent then @xmath228 . hence if @xmath144 is a weak @xmath16 gallery then @xmath229 .",
    "let @xmath23 be such that @xmath230 . now if @xmath231 then @xmath232",
    ". therefore @xmath233 .",
    "applying axiom @xmath201 , we get @xmath234 for all @xmath235 .",
    "hence @xmath146 .",
    "from now on , if @xmath3 is a pure simplicial complex that satisfies @xmath131 , or equivalently , @xmath149 or @xmath160 then we will simply say that @xmath3 satisfies our axioms .",
    "the purpose of this section is to identify a potential source of examples that satisfy our axioms . in section  [ s : axiom ] the poset @xmath15 was the face lattice of a simplicial complex @xmath3 .",
    "it is natural to consider a more general situation , where instead of @xmath3 , we just have a poset @xmath15 with the maximal elements playing the role of @xmath19 .",
    "the projection axioms still make sense though the role they now play is not exactly clear . an interesting case to consider",
    "is when @xmath15 is a lrb .",
    "we will show that a lrb satisfies axioms @xmath222 and @xmath148",
    ". however it can easily violate axiom @xmath184 .",
    "we first discuss this situation .",
    "c@c      to see what goes wrong , consider the following example .",
    "let @xmath236 and @xmath237 be any two lrbs . consider the lrb @xmath4 shown in figure  [ lrb ] ( on the left ) with @xmath238 and @xmath239 for @xmath240 and @xmath241 .",
    "we first check that @xmath4 is indeed a lrb . then by definition @xmath242 for @xmath243 . however @xmath244 .",
    "hence @xmath4 violates axiom @xmath184 .    to give a concrete example that illustrates the same problem , consider the _ free _ lrb with identity on @xmath30 generators , denoted @xmath245 .",
    "the elements of @xmath245 are sequences @xmath246 of distinct elements of the set @xmath247=\\{1,\\dots , n\\}$ ] , @xmath248 .",
    "we multiply two such sequences by @xmath249 where the hat means `` delete any element that has occurred earlier '' . for example , @xmath250 figure  [ lrb ] ( on the right ) shows the hasse diagram of @xmath251 , the free lrb on @xmath252 generators .",
    "check that @xmath245 violates axiom @xmath184 .",
    "also note that every chamber has only one facet .",
    "these examples show that a lrb is not a geometric object in any sense of the term .",
    "a natural question that comes up is whether a simplicial lrb always satisfies axiom @xmath184 .",
    "we do not know the answer .",
    "for the lrbs that we considered in section  [ s : proj ] , the answer is yes . in other words , the lrb associated to any hyperplane arrangement satisfies axiom @xmath184 ( and hence the same holds for flag ( order ) complex @xmath33 of a distributive lattice @xmath34 ) .",
    "it is an easy and illuminating exercise to check this directly using the definition of the product involving sign sequences .",
    "axiom @xmath222 follows directly from the definition of a lrb and axiom @xmath148 holds by the following proposition .",
    "it is a good exercise to check axiom @xmath148 directly for the free lrb .",
    "let @xmath15 be a poset with an associative product @xmath177 .",
    "let @xmath19 , the set of maximal elements of @xmath15 , be a left ideal in @xmath15 .",
    "also assume that @xmath15 satisfies axiom @xmath222 with the additional property that @xmath253 for any @xmath254 .",
    "then @xmath15 satisfies axiom @xmath148 .",
    "though our setting is somewhat abstract , it would help to keep in mind the picture in figure  [ gallery ] .",
    "let @xmath255 be a weak @xmath16 gallery ; that is , @xmath127 and @xmath128 .",
    "we want to show that if @xmath256 then @xmath192 . for notational consistency",
    ", we put @xmath257 .",
    "let @xmath258 .",
    "we need to show that @xmath259 .",
    "we first note three easy consequences of parts @xmath260 , @xmath261 and @xmath262 respectively of axiom @xmath222 .    @xmath263 . if @xmath264 and @xmath265 for some @xmath216 then @xmath266",
    ".    @xmath267 . for @xmath268",
    ", we have @xmath269 .",
    "this is because @xmath270 .",
    "if @xmath272 then @xmath273 .",
    "we now claim that @xmath274 for @xmath275 .",
    "+ proof of the claim .",
    "we do a reverse induction on the index @xmath276 .",
    "clearly @xmath277 . to do one more step , note that @xmath278 .",
    "this is because @xmath279 by our additional assumption and @xmath280 follows from @xmath281 and axiom @xmath222 .",
    "now assume that @xmath274 for some @xmath276 .",
    "we show that @xmath282 .",
    "using @xmath271 we get @xmath283 .",
    "rewriting this as @xmath284 and using @xmath267 , we get @xmath285 which we write as @xmath286 .",
    "note that @xmath287 .",
    "hence we apply @xmath263 with @xmath288 and @xmath289 to conclude that @xmath290 .",
    "this completes the induction step and the claim is proved .",
    "from the claim we get @xmath291 . using @xmath271",
    "we have @xmath292 which is same as @xmath293 .",
    "this is exactly what we wanted to show .",
    "the discussion in this section shows that the lrbs in section  [ s : proj ] satisfy the projection axioms and hence are examples of our theory . in the next section",
    ", we again consider these examples ( including the non - associative ones ) but from a more intuitive and geometric perspective .",
    "in this section we show that if a chamber complex @xmath3 satisfies the gate property then it satisfies our axioms .",
    "this is essentially an axiomatic restatement of a result of scharlau ; see the proposition in  .",
    "( he states it in terms of shellings . also he does not consider the compatibility axiom . ) furthermore in this special situation , the maps of section  [ s : axiom ] have a geometric meaning . to make this clear we first need some definitions .",
    "let @xmath3 be a pure simplicial complex .",
    "the maximal simplices are called _",
    "chambers_. we say two chambers are _ adjacent _ if they have a common codimension @xmath120 face .",
    "a _ gallery _ is a sequence of chambers such that consecutive chambers are adjacent .",
    "we say that @xmath3 is _ gallery connected _ if for any two chambers @xmath16 and @xmath61 , there is a gallery from @xmath16 to @xmath61 . for any @xmath151",
    ", we then define the gallery distance @xmath294 to be the minimal length of a gallery connecting @xmath16 and @xmath61 . and",
    "any gallery which achieves this minimum is called a _ geodesic gallery _ from @xmath16 to @xmath61 .",
    "another relevant metric notion is the following .",
    "_ gate property .",
    "_ for any face @xmath18 and chamber @xmath43 , there exists a chamber @xmath295 such that @xmath296 for any @xmath231 .",
    "furthermore @xmath297 .",
    "the gate property implies that @xmath3 is _ strongly connected _ ; that is , @xmath56 is gallery connected for all @xmath18 .",
    "in fact it implies that @xmath56 is a _ convex _",
    "subset of @xmath19 ; that is , if @xmath61 and @xmath106 are any two chambers in @xmath56 then any geodesic gallery from @xmath61 to @xmath106 lies entirely in @xmath56 .",
    "c@c      we now use the above metric notions to define the maps that played a role in the axiomatic setup of section  [ s : axiom ] .",
    "let @xmath3 be a _",
    "chamber complex_. it is by definition a gallery connected pure simplicial complex . for every @xmath43 , we define a partial order @xmath72 .",
    "we say that @xmath204 if there is a geodesic gallery from @xmath16 to @xmath106 that passes through @xmath61 . with this definition of the partial orders @xmath72 , we analyse the shelling axioms .",
    "we first note that axiom @xmath201 is a consequence of our definition .",
    "if @xmath161 then we have a geodesic gallery @xmath298 as shown in figure  [ compatible ] .",
    "this restricts to a geodesic gallery @xmath299 , which implies @xmath162 .",
    "now we look at axiom @xmath172 .",
    "it says that for any @xmath43 and @xmath300 there is a unique chamber @xmath85 such that @xmath228 ; that is , such that there is a geodesic gallery @xmath301 .",
    "this is equivalent to saying that @xmath3 has the gate property .",
    "next we claim that a chamber complex @xmath3 with the partial orders @xmath72 as defined above satisfies the shelling axioms @xmath160 if and only if it has the gate property . from what we have",
    "so far , we only need to show that the gate property implies axiom @xmath74 .",
    "this can be checked directly .",
    "however we will prove this using the projection axioms .",
    "if @xmath302 is the coxeter complex associated to a coxeter group @xmath39 then @xmath72 coincides with the weak bruhat order on @xmath39 , after we choose @xmath16 as the fundamental chamber and identify chambers of @xmath41 with elements of @xmath39 .",
    "now we assume that @xmath3 has the gate property .",
    "we show that this implies the projection axioms . using the gate property",
    ", we define @xmath303 to be the chamber containing @xmath23 that is closest to @xmath16 .",
    "axiom @xmath222 follows .",
    "the gate property further says that a weak @xmath16 gallery @xmath304 can be extended to a geodesic gallery @xmath305 .",
    "axiom @xmath148 now follows . to show axiom @xmath184",
    ", we proceed by contradiction .",
    "let @xmath306 .",
    "choose a geodesic gallery @xmath307 .",
    "let @xmath48 be the facet of @xmath61 that is crossed by this gallery in the final step .",
    "then @xmath308 , which is a contradiction .",
    "to summarise , @xmath3 satisfies the projection axioms @xmath131 ( with the closest chamber definition ) if and only if it satisfies the gate property .    to complete the story",
    "we now describe the restriction maps .",
    "recall from section  [ subs : ca ] that @xmath168 is the face of the chamber @xmath61 spanned by vertices @xmath64 such that @xmath309 .",
    "it can be equivalently described as the face of the chamber @xmath61 spanned by vertices @xmath64 which have the following property .",
    "there is a minimal gallery from @xmath16 to @xmath61 that passes through the facet @xmath66 in the final step .",
    "we refer to the second description as @xmath310 .",
    "the equivalence of the two descriptions says that @xmath311 .",
    "the terminology @xmath310 is again motivated by the theory of coxeter groups .",
    "@xmath310 is the face of @xmath61 spanned by `` the descent set of @xmath61 with respect to @xmath16 '' . for an explanation ,",
    "see the appendix by tits to solomon s paper   or the more elaborate exposition in .",
    "we have proved the following theorem .",
    "[ t : maxiom ] let @xmath3 be a chamber complex . also let the partial orders @xmath72 , the restriction maps @xmath167 and the projection maps be as defined in this section .",
    "then @xmath3 satisfies our axioms if and only if it satisfies the gate property .",
    "hyperplane arrangements , buildings and modular lattices are all examples of chamber complexes that satisfy the gate property . hence by theorem  [ t : maxiom ] we have established that they indeed satisfy our axioms .    for oriented matroids ( in particular , central hyperplane arrangements ) ,",
    "the gate property is due to bjrner and ziegler and for buildings it is due to tits  .",
    "the gate property for modular lattices ( in particular , distributive lattices ) was proved by abels , see  .",
    "alternatively , for distributive lattices , we can deduce the gate property by combining the following facts .",
    "if @xmath3 satisfies the gate property then so does any subcomplex @xmath312 spanned by a convex subset of chambers .",
    "the flag ( order ) complex @xmath33 of a distributive lattice @xmath34 corresponds to a convex set of chambers in @xmath31 , the complex of the braid arrangement .",
    "_ more on example 1_. the metric notions that we described in this section can be made very explicit for this example .",
    "we prefer to restrict to the simplicial case though all statements except the last make sense and hold in general . a minimal gallery from @xmath16 to @xmath61 crosses exactly those hyperplanes that separate @xmath16 and @xmath61 .",
    "consequently the gallery distance @xmath294 is given by the number of hyperplanes separating @xmath16 and @xmath61 .",
    "we have @xmath204 if and only if the hyperplanes that separate @xmath16 and @xmath61 also separate @xmath16 and @xmath106 .",
    "the chamber @xmath22 is the unique chamber containing @xmath23 for which no hyperplane passing through @xmath23 separates @xmath16 from @xmath22 .",
    "also @xmath168 is the face of @xmath61 whose support is the intersection of those walls of @xmath61 that do not separate @xmath61 from @xmath16 .",
    "rigorous proofs of these unjustified facts can be found in any of the references cited earlier or you may accept them as `` intuitively obvious '' .",
    "many results of this section are well - known and in greater generality than what we present here . for example , see  .",
    "even then we give a self - contained treatment mainly because our approach is different and uses projection maps .",
    "also we will use some of these ideas to motivate the discussion in the next three sections .",
    "a _ labelling _ of a pure simplicial complex @xmath3 by a set @xmath313 is a function which assigns to each vertex an element of @xmath313 , in such a way that the vertices of every chamber are mapped bijectively onto @xmath313 .",
    "a labelled simplicial complex is also sometimes called `` numbered '' or `` balanced '' .",
    "let @xmath3 be a labelled simplicial complex and let @xmath314 be its _ type selected _ subcomplex consisting of faces whose label set or _",
    "type _ is contained in @xmath315 .",
    "we further assume that @xmath3 satisfies our axioms .",
    "we first study the connection between the homotopy type of @xmath314 and the flag @xmath0 vector . to get this far , we do not really need the compatibility axiom .",
    "so we fix a chamber @xmath43 , assume the first two axioms ( in each category ) for @xmath16 and work from there .",
    "however in section  [ ss : h_ddesc ] , we make full use of the compatibility axiom to look at the dual picture for the flag @xmath0 vector .",
    "the fact that this viewpoint is useful can be seen from the example that we present later in section  [ ss : example ] .",
    "we also consider the unlabelled case briefly in section  [ ss : unlabelled ] .",
    "we start with the following result of bjrner that generalises proposition  [ p : shell ] .",
    "[ p : type ] for a labelled shellable complex @xmath3 , the type selected subcomplex @xmath314 is shellable and homotopy equivalent to a wedge of @xmath316-spheres .",
    "the number of these spheres is given by @xmath317 , where @xmath71 is the restriction map associated with the shelling .",
    "the proposition is proved by showing that the shelling order for @xmath3 `` induces '' a shelling order for @xmath314 .",
    "this raises the following question .",
    "suppose we assume that @xmath3 satisfies our axioms with @xmath167 as the restriction maps .",
    "also let @xmath318 be the maps for @xmath314 induced by @xmath167 .",
    "then what kind of restriction axioms do the induced maps @xmath318 satisfy for @xmath314 ? the axioms need to be suitably generalised because there is more than one restriction map for every chamber in @xmath314 .",
    "the proposition applies to our situation because of axiom @xmath74 which implies that @xmath3 is shellable .",
    "the restriction map @xmath71 in the proposition is the map @xmath167 for us , where @xmath16 is the chamber that we have fixed .",
    "recall that @xmath168 is the unique smallest face @xmath23 of @xmath61 such that @xmath121 .",
    "next define @xmath319 we will show that the vector @xmath320 coincides with the `` flag @xmath0-vector '' defined below .",
    "first we define the _ flag @xmath321-vector _ of @xmath3 by setting @xmath322 equal to the number of simplices of type  @xmath315 .",
    "the _ flag @xmath0-vector _ is then obtained by writing @xmath323 or , equivalently , @xmath324    [ p : beta ] let @xmath3 be as above and let @xmath313 be the set of types of vertices . then for any @xmath325 , @xmath326    let @xmath327 be the set of simplices of type @xmath315 .",
    "there is a 11 map @xmath328 , given by @xmath329 , where @xmath16 is fixed .",
    "it is 11 because we can recover @xmath23 from @xmath22 as the face of type  @xmath315 .",
    "its image is the set of chambers @xmath61 for which the type of @xmath168 is contained in  @xmath315 .",
    "hence @xmath330 the proposition now follows from .",
    "the above argument is due to ken brown  .",
    "he states this proposition for coxeter complexes .",
    "also he works with descent sets rather than restriction maps .",
    "we know from the discussion in section  [ s : metric ] that in the metric setup , @xmath311 .",
    "now we assume that @xmath3 satisfies all three axioms .",
    "in other words , we are now allowed to vary @xmath43 and have the compatibility axiom .",
    "note that @xmath331 does not depend on the choice of the chamber @xmath16 .",
    "for example , from proposition  [ p : type ] , we know that @xmath331 counts the number of spheres in @xmath3 and hence is independent of the choice of @xmath16 . also from proposition  [ p : beta ] , we know that it coincides with the flag @xmath0 vector of @xmath3 .",
    "we also see that @xmath332 .",
    "this gives geometric interpretations of the flag @xmath0 vector , one for every @xmath43 .",
    "now we make full use of the compatibility axiom by turning the picture around . for the map @xmath20 that maps @xmath21 to @xmath121 , we fix @xmath61 and vary @xmath16 .",
    "more precisely , we let @xmath333 .",
    "similarly let @xmath334 be the number of chambers @xmath16 such that @xmath121 , where @xmath23 is the face of @xmath61 of type  @xmath315 .",
    "this can be rewritten as @xmath335 .",
    "now observe that @xmath336    the numbers @xmath334 and @xmath337 do in general depend on @xmath61 .",
    "if we average them over all @xmath46 then we recover the usual flag vectors . to see this ,",
    "let @xmath338 be the sum of all faces of type @xmath315 .",
    "in particular , @xmath339 is the sum of all chambers .",
    "note that @xmath340 . by counting the total number of terms involved , we get @xmath341 .",
    "this along with and says that @xmath342 .",
    "note that it is not obvious from the definition that the right hand side is an integer .",
    "the numbers @xmath337 give us a different way to understand the flag @xmath0 vector .",
    "a natural question that arises is : when is @xmath343 for all @xmath46 ?",
    "we will address this in more detail in section  [ s : comm ] .",
    "if @xmath3 is not labelled then we work with the ordinary @xmath321 and @xmath0 vectors rather than the flag vectors .",
    "let @xmath3 be a simplicial complex of rank @xmath30 that satisfies our axioms .",
    "as before , we will need the compatibility axiom only when we pass to the dual picture .",
    "we define @xmath344 .",
    "the unlabelled version of proposition  [ p : type ] is as follows .    for a shellable complex @xmath3 of rank @xmath30 , the @xmath345-skeleta @xmath346 is shellable and homotopy equivalent to a wedge of @xmath345-spheres .",
    "the number of these spheres is given by @xmath347    the fact that shellability is inherited by @xmath348-skeleta appears as corollary 10.12 in  .",
    "also see the references cited therein .",
    "the formula for the number of spheres was told to me by bjrner .",
    "as before , we can show that the vector @xmath349 coincides with the `` @xmath0-vector '' defined below .",
    "first we define the _ @xmath321-vector _ of @xmath3 by setting @xmath350 equal to the number of simplices of rank  @xmath351 .",
    "the @xmath0-vector is then obtained by writing @xmath352    [ p : ubeta ] let @xmath3 be as above .",
    "then for any @xmath353 , @xmath354    let @xmath355 be the set of simplices of rank @xmath351 . as before , we consider the map @xmath356 , given by @xmath329 , where @xmath16 is fixed .",
    "recall that for a fixed @xmath16 and @xmath61 , @xmath186 .",
    "this says that the image of the above map is the set of chambers @xmath61 for which the rank of @xmath168 is less than or equal to  @xmath351 . however this map is no longer 11 .",
    "the number of times a fixed chamber @xmath61 occurs in the image is @xmath357 .",
    "this is the number of faces of @xmath61 of rank @xmath351 that contain @xmath168 ( whose rank we set equal to @xmath348 ) .",
    "this gives @xmath358 and the proposition now follows .    to get the dual picture ,",
    "let @xmath359 .",
    "similarly let @xmath360 .",
    "as in the proof of proposition  [ p : ubeta ] , @xmath361 . now if we let @xmath362 be the sum of all faces of rank @xmath351 then @xmath363 .",
    "this gives @xmath364 and then @xmath365 .",
    "for a labelled complex , we have @xmath366 and @xmath367 .",
    "so in this case , the results for the @xmath321 and @xmath0 vector follow from the corresponding result for the flag vectors .",
    "for instance , using the first two equations , one can recheck that equation   reduces to equation  .",
    "let @xmath3 be a simplicial hyperplane arrangement .",
    "we now give a description of the flag @xmath0 vector in this case . the dual description in section  [ ss : h_ddesc ] that involves",
    "@xmath337 is easier to visualise and more useful than the one in section  [ ss : h_desc ] .",
    "recall that in this situation , @xmath168 is the face of @xmath61 whose support is the intersection of those walls of @xmath61 that do not separate @xmath61 from @xmath16 ; see the description at the end of section  [ s : metric ] .",
    "using this description , in the labelled case , @xmath337 is the cardinality of the set of chambers that , among the walls of @xmath61 , lie onside exactly those that contain the face of type @xmath315 of @xmath61 .",
    "c@c    in figure  [ schema ] only the three walls of the chamber @xmath61 have been drawn .",
    "the only chamber that is not seen in the picture is the one directly opposite to @xmath61 . the flag @xmath0 vector for @xmath61 is represented by the 8 regions into which the three walls divide the sphere .",
    "we have indicated the regions that correspond to @xmath368 and @xmath369 .    in the unlabelled case ,",
    "@xmath370 is the cardinality of the set of chambers that lie offside exactly @xmath351 of the @xmath30 walls of @xmath61 . in figure",
    "[ schema ] , for example , @xmath371 counts the chambers that lie in the three regions adjacent to @xmath61 along its facets .",
    "next we give a tiny application of this description .",
    "let @xmath372 be the coxeter complex of the reflection arrangement @xmath373 , where @xmath374 .",
    "in fact figure  [ schema ] as drawn corresponds to the case @xmath375 .",
    "observe that @xmath376 . from our interpretation , it is clear that for any other simplicial arrangement @xmath3 of rank @xmath30 , we get @xmath377 for all @xmath46 and hence @xmath378 .",
    "now consider the barycentric subdivision @xmath379 of @xmath3 .",
    "then @xmath380 corresponds to the coxeter arrangement of type @xmath381 , namely , @xmath382 and @xmath373 , where @xmath383 .",
    "however in general , @xmath379 is not a hyperplane arrangement .",
    "it is just a labelled simplicial complex .",
    "hence we can not directly conclude that @xmath384 ( which is known to be true ) .",
    "this raises an important question .",
    "if @xmath3 satisfies our axioms then what can we say about its barycentric subdivision @xmath379 ? for a positive result in this direction , see which says that if @xmath3 is shellable then so is @xmath379 .",
    "in this section , we return to the question : when is @xmath385 for all @xmath46 ? this can be rephrased as a commutativity problem . recall that @xmath338 ( resp .",
    "@xmath362 ) is the sum of all faces of type @xmath315 ( resp .",
    "rank @xmath351 ) .",
    "also @xmath337 and @xmath386 are the local and global versions of the flag @xmath0 vector of @xmath3 . and @xmath370 and @xmath387 are the corresponding versions of the @xmath0 vector of @xmath3 .    [",
    "p : equi ] let @xmath3 be a simplicial lrb ( possibly non - associative ) that satisfies our axioms .",
    "then + ( labelled case ) @xmath343 for all @xmath46 and for all subsets @xmath388 @xmath178 @xmath389 for all subsets @xmath388 .",
    "+ ( unlabelled case ) @xmath390 for all @xmath46 and for all @xmath353 @xmath178 @xmath391 for all @xmath353 .",
    "we do only the labelled case .",
    "the unlabelled case is similar .",
    "suppose that @xmath389 for all subsets @xmath388 .",
    "counting the number of times a fixed chamber @xmath61 occurs on both sides of the equality , we get @xmath392 , or equivalently , @xmath343 .    in the proposition above , a concrete case to keep in mind",
    "is that of simplicial hyperplane arrangements .",
    "also we required @xmath3 to satisfy our axioms because we only defined @xmath337 in that situation .",
    "and we required @xmath3 to be a lrb so as to make sense of the product @xmath393 .",
    "of course , we only needed to use that @xmath17 for @xmath43 and @xmath18 .",
    "if @xmath3 is a finite coxeter complex or a finite ( spherical ) building associated with a bn - pair then there is a type and product preserving group action on @xmath3 and it is transitive on @xmath19 . hence the commutativity condition in proposition  [ p : equi ] is automatic .",
    "this raises the following question : let @xmath3 be a thin labelled chamber complex of rank greater than 3 such that @xmath389 for all subsets @xmath388 .",
    "then is it true that @xmath3 is a coxeter complex ?",
    "bidigare , hanlon , and rockmore found a natural family of random walks associated with hyperplane arrangements .",
    "these walks were studied further by brown and diaconis   and generalised to lrbs by brown  .",
    "one reason this development is exciting is that the walks admit a rather complete theory .",
    "we now describe the walk .    using the projection operators , define the following walk on the chambers @xmath19 of @xmath3 : if the walk is in chamber @xmath16 , choose a face @xmath23 of rank @xmath351 at random and move to the projection @xmath394 .",
    "( we assume here that the faces of rank @xmath351 are chosen uniformly . )",
    "note that this random walk on chambers has a uniform stationary distribution if and only if @xmath391 .",
    "here @xmath30 is the rank of @xmath3 .",
    "more generally , we can run a random walk on @xmath19 using a probability distribution @xmath395 on @xmath15 , the faces of @xmath3 . also if the complex is labelled then we can define the walk by choosing instead a face @xmath23 of type @xmath315 at random .",
    "then the walk on chambers has a uniform stationary distribution if and only if @xmath389 .",
    "however for the rest of the section , we will restrict to the unlabelled case .",
    "motivated by the above discussion , we look at a more general commutativity problem .",
    "we work with a graded lrb .",
    "all known examples of lrbs are graded .",
    "however we do not know whether this follows from the definition .",
    "for now , we do not make any further assumptions .",
    "let @xmath4 be a _ lrb _",
    ", @xmath8 its associated lattice and @xmath396 the support map .",
    "for any @xmath397 , let @xmath398 then one can check that @xmath399 is also a lrb whose associated lattice is the interval @xmath400 $ ] in  @xmath8 . here",
    "@xmath401 is the support of the identity of @xmath4 and hence the minimum element of @xmath8 .",
    "also the set of chambers @xmath19 consists precisely of those elements of @xmath4 whose support is @xmath402 , the maximum element of @xmath8 .",
    "we say that a lrb satisfies the commutativity condition for @xmath276 and @xmath351 if @xmath403 similarly we say that it satisfies the uniformity condition @xmath404 if for any i , j the number of times a chamber occurs in the product @xmath405 does not depend on the chamber we choose . loosely speaking",
    ", these conditions may be thought of as certain symmetry conditions on the lrb .",
    "we have already given some motivation for the condition @xmath406 .",
    "the motivation for condition @xmath404 becomes clear from the following proposition .",
    "let @xmath4 be a lrb such that @xmath399 satisfies the uniformity condition @xmath404 for all @xmath397",
    ". then @xmath4 ( and hence all @xmath399 ) satisfies the commutativity condition @xmath406 for all @xmath407 .",
    "we first observe that @xmath408 .",
    "in particular , for @xmath409 , we have @xmath410 .",
    "hence the coefficient of @xmath411 in @xmath405 remains unchanged if we replace @xmath4 by the subsemigroup @xmath412 .",
    "this shows that if @xmath4 satisfies @xmath406 then so does @xmath399 for all @xmath397 .",
    "now we show that @xmath4 ( and hence all @xmath399 ) satisfies @xmath406 for all @xmath407 .",
    "we first check that for any @xmath46 , the coefficient of @xmath61 in @xmath405 is same as the coefficient of @xmath61 in @xmath413 . since we assume that @xmath4 satisfies @xmath404 , we simply need to check that @xmath414 .",
    "this is true since @xmath49 is a chamber @xmath178 @xmath415 is a chamber .",
    "this is because of our earlier observation that @xmath416 .",
    "to do the general case , we need to check that for any @xmath417 , the coefficient of @xmath411 in @xmath405 is same as the coefficient of @xmath411 in @xmath413 . to do this computation ,",
    "we replace @xmath4 by @xmath412 .",
    "note that @xmath411 is a chamber in @xmath412 and by our assumption @xmath412 satisfies @xmath404 .",
    "hence we now apply the previous argument and the proposition is proved .",
    "if @xmath4 is the coxeter complex of type @xmath32 or @xmath381 , then @xmath4 satisfies @xmath406 for all @xmath407 .",
    "the uniformity condition @xmath404 is automatic for a coxeter complex @xmath41 because the coxeter group acts transitively on the chambers of @xmath41 .",
    "however to apply the above proposition , we require @xmath404 to hold for all @xmath399 . for types",
    "@xmath32 or @xmath381 , given any @xmath397 , @xmath399 is again isomorphic to a coxeter complex of the same type but now with a smaller value of @xmath30 .",
    "hence the coxeter complex of type @xmath32 or @xmath381 satisfies @xmath404 for all @xmath399 and we can apply the proposition .    for types",
    "@xmath32 and @xmath381 , the semigroups and the underlying lattices can be made combinatorially explicit  .",
    "the fact about @xmath399 being a coxeter complex for types @xmath32 or @xmath381 that we used in the proof above is then quite elementary . for the case when @xmath418 is a hyperplane ( wall ) , this problem has been treated in general for any coxeter complex by abramenko  .",
    "a completely different proof of this corollary can be given using the language of card shuffles  .",
    "we also note that for @xmath4 , the coxeter complex of type @xmath419 , the subcomplexes @xmath399 are not even coxeter complexes .",
    "this is the primary reason why the complex of type @xmath419 fails the commutativity condition in general .",
    "we have checked by explicit computation that the coxeter complex of type @xmath420 does not satisfy @xmath406 for all @xmath407 .",
    "in contrast to the previous subsection , we get a less restrictive result if we work with low ranks .",
    "let @xmath4 be an oriented matroid of rank @xmath252",
    ". then @xmath4 satisfies @xmath421 @xmath178 @xmath4 satisfies @xmath422 @xmath178 @xmath4 satisfies @xmath423 @xmath178 @xmath4 is simplicial .",
    "a part of this theorem , namely , @xmath4 satisfies @xmath422 @xmath178 @xmath4 is simplicial occurs as proposition 1 in  .",
    "it says that the random walk on @xmath19 driven by a uniform probability distribution on the vertices of @xmath4 has a uniform stationary distribution iff @xmath4 is simplicial ( see the discussion in section  [ ss : rw ] ) . here",
    "we will prove that @xmath4 satisfies @xmath421 @xmath178 @xmath4 is simplicial .",
    "the other cases are simpler and we leave them out .",
    "the spirit of the computation is as in  .",
    "let @xmath64,@xmath424 and @xmath321 be the number of vertices , edges and faces respectively in @xmath4 .",
    "we need to look at @xmath425 .",
    "note that a vertex can never occur in either product . and",
    "the number of times an edge appears on either side is the same .",
    "( this is because we can restrict to the support of that edge , which is just a pseudoline . )",
    "so the non - trivial case is that of chambers .",
    "we fix a chamber @xmath61 .",
    "denote the chamber exactly opposite to @xmath61 by @xmath426 .",
    "we count the number of times that either @xmath61 or @xmath426 occurs in @xmath427 and @xmath428 .",
    "( it will be evident from the computation as to why we group @xmath61 and @xmath426 together .",
    "note that due to the antipodal symmetry of the arrangement , we do not lose anything essential by doing this . )",
    "c@c    if @xmath61 is a @xmath348-gon then consider the @xmath348 walls of @xmath61 ( and hence @xmath426 ) .",
    "we call an edge of @xmath4 an _ interior _ edge if it does not lie on any of these @xmath348 walls",
    ". figure  [ pentagon ] illustrates the case when @xmath429 .",
    "one of the walls has been highlighted .",
    "the only chamber that is not seen in the picture is the pentagon @xmath426 .",
    "it is on the backside bounded by the five segments that bound the figure .",
    "we first look at @xmath427 and count the number of times that either @xmath61 or @xmath426 occurs in this product ; that is , @xmath430 .",
    "we use the geometry of the arrangement as illustrated in the figure . note that @xmath23 must be a vertex of @xmath61 or @xmath426 .",
    "we consider two cases . in the first case ,",
    "let @xmath48 be an interior edge or an edge of either @xmath61 or @xmath426 .",
    "then there are @xmath431 choices for @xmath23 .",
    "the individual contributions of @xmath61 or @xmath426 depend on the location of the edge @xmath48 , however the net contribution is always @xmath431 . in the second case ,",
    "@xmath48 lies on one of the @xmath348 walls but is not a face of either @xmath61 or @xmath426 .",
    "now there are @xmath432 choices for @xmath23 .",
    "hence the required count is @xmath433 .",
    "now we look at @xmath428 .",
    "we want to count @xmath434 .",
    "the only @xmath48 s that we need consider are the edges of @xmath61 and @xmath426 .",
    "given a wall @xmath411 of @xmath61 ( and @xmath426 ) , the edge of @xmath61 that lies on @xmath411 and its opposite edge ( which is an edge of @xmath426 ) together can pair with all vertices except the ones that lie on @xmath411 .",
    "summing up over all the @xmath348 walls , we get the count to be @xmath435 .",
    "now we compare the counts for @xmath427 and @xmath428 .",
    "since the no . of vertices",
    "is same as the no . of edges on each wall ( since it is a pseudoline ) , we get @xmath436 . the last equality holds if and only if the arrangement is made entirely of @xmath348-gons .",
    "however , by levi s theorem  ) , any arrangement must have at least one triangle .",
    "hence we get @xmath437 .",
    "let @xmath3 be a simplicial complex of rank @xmath30 . under suitable hypotheses on @xmath3 ( for example",
    ", if @xmath3 triangulates a sphere ) , the @xmath0 vector of @xmath3 satisfies the linear relations @xmath438 for @xmath439 .",
    "similarly if @xmath3 is a labelled simplicial complex with label set @xmath313 then under suitable hypotheses the flag @xmath0 vector of @xmath3 satisfies the linear relations @xmath440 , for @xmath441 .",
    "the former are called the _ dehn - sommerville _ equations and the later the _ generalised dehn - sommerville _ equations . from now on , we will just write them as ds for short . for more information see and the references therein .",
    "the ds equations are a form of alexander duality .",
    "our goal for this section is to formulate an axiom relevant to this notion of duality . as motivation",
    "we begin with a result that introduces the concept of shelling reversal .",
    "[ t : dual ] let @xmath3 be a shellable complex such that every facet lies in at least 2 chambers . then @xmath3 is thin @xmath442 @xmath443 @xmath178 @xmath3 is homotopy equivalent to a sphere .",
    "if @xmath3 is thin then it satisfies the ds equations .    the first part is proved in  .",
    "we prove the second part .",
    "also we assume that @xmath3 is labelled . if it is not then the same proof gives us the ds equations instead of the generalised ds equations .",
    "the proof is based on the idea of shelling reversal .",
    "let @xmath58 be a shelling order of @xmath3 , and let @xmath444 be the reverse order defined by @xmath445 ; that is , the linear order on @xmath19 specified by @xmath444 is exactly reverse to that of @xmath58 .",
    "assume for the moment that @xmath444 also gives a shelling of @xmath3 .",
    "now if we let @xmath71 ( resp . ) be the restriction map of @xmath58 ( resp .",
    "@xmath444 ) then it follows that @xmath446 this along with the fact that @xmath447 gives us the generalised ds equations and proves the second part .",
    "c@c    hence we only need to show that @xmath444 gives a shelling of @xmath3 .",
    "we assumed that @xmath58 is a shelling of @xmath3 .",
    "this says that @xmath448 , where @xmath83 is a subset of the set of facets of @xmath61 .",
    "now let @xmath84 be the set of those facets of @xmath61 that are not in @xmath83 .",
    "we will be done once we show the following .",
    "claim : @xmath449 .",
    "+ proof of claim .",
    "@xmath88 this is clear .",
    "+ @xmath96 let @xmath23 be a face of @xmath61 such that @xmath212 .",
    "we show that @xmath213 .",
    "let @xmath94 such that @xmath450 .",
    "we need to show that @xmath92 . to put in words , we need to show that among all the chambers in @xmath55 , @xmath61 is the last chamber to be shelled by the order @xmath58 . by lemma  [ l : sh ] , we know that @xmath55 , or equivalently @xmath80 , is shellable with the induced order from @xmath58 .",
    "the chambers of @xmath80 are in 11 correspondence with the chambers of @xmath3 that contain @xmath23 .",
    "since we assume that @xmath3 is thin , it follows that @xmath80 is also thin .",
    "let @xmath451 be the restriction map of the induced shelling on @xmath80 .",
    "let @xmath452 be the chamber of @xmath80 that corresponds to @xmath61 .",
    "we need to show that @xmath452 is the last chamber to be shelled in @xmath80 .",
    "since @xmath80 is thin , applying the first part of the theorem , we need to show that @xmath453 ; also see comment after proposition  [ p : shell ] .",
    "however this follows by our assumption that @xmath212 , which says that every facet of @xmath61 that contains @xmath23 belongs to @xmath83 .",
    "this proves the claim .    for a sketch of the same argument in the context of polytopes ,",
    "see  . also for the first part of the theorem",
    ", we do not know whether thinness is equivalent to the other two conditions .",
    "let @xmath3 be a thin shellable complex .",
    "let @xmath16 and @xmath61 be the first and last elements of a shelling @xmath58 of @xmath3 .",
    "then @xmath16 and @xmath61 are the unique elements satisfying @xmath454 and @xmath455 , where @xmath71 is the restriction map of @xmath58 .",
    "as we saw in the proof of theorem  [ t : dual ] , the shelling @xmath58 is reversible and for the reverse shelling @xmath444 , the roles of @xmath16 and @xmath61 get interchanged .",
    "hence we would like to think of @xmath16 and @xmath61 as chambers opposite to each other .",
    "motivated by this discussion , we add an _ opposite _ axiom to the axiomatic setup of section  [ s : axiom ] .",
    "of course , the main case of interest is when @xmath3 is thin .",
    "we give three equivalent definitions which correspond to the projection , restriction and shelling cases respectively .",
    "their equivalence will be proved in theorem  [ t : opposite ] .",
    "c@c    let @xmath456 be a map such that    * for any facet @xmath48 of @xmath3 and any @xmath43 , we have @xmath457 . * for all @xmath458 , we have type of @xmath459 type of @xmath460 . * for all @xmath43 , the partial orders @xmath72 and @xmath461 are dual to each other .",
    "if @xmath3 is not labelled then axiom @xmath462 is to be interpreted as saying that @xmath168 and @xmath460 are complementary faces of @xmath61 .",
    "if @xmath3 is thin then axiom @xmath463 says that for a facet @xmath48 , @xmath464 and @xmath465 are the two distinct chambers containing @xmath48 .",
    "each of these axions implies that @xmath456 is an involution of @xmath3 .",
    "also , using these axioms , @xmath466 , `` the chamber opposite to @xmath16 '' , can be characterised as follows in the three cases .",
    "* @xmath467 is the unique chamber such that @xmath468 for any @xmath469 .",
    "* @xmath467 is the unique chamber satisfying @xmath470 .",
    "* @xmath467 is the unique maximal element in the partial order @xmath72 .",
    "recall that @xmath333 . we claim that if @xmath3 satisfies the opposite axiom then @xmath471 .",
    "this is because by axiom @xmath462 , if @xmath16 contributes to @xmath337 then its opposite @xmath467 contributes to @xmath472 .",
    "now averaging over all @xmath46 leads to the generalised ds equations .",
    "( of course , we already knew from theorem  [ t : dual ] that @xmath3 satisfied the generalised ds equations . )",
    "hence we may regard @xmath471 as a finer version of these equations . in the unlabelled case ,",
    "the same reasoning gives a finer version of the ds equations instead of the generalised ds equations .",
    "[ t : opposite ] let @xmath3 be a thin chamber complex that satisfies our ( previous ) axioms",
    ". then @xmath78 satisfies @xmath463 @xmath178 @xmath78 satisfies @xmath462 @xmath178 @xmath78 satisfies @xmath473 .",
    "the complex @xmath3 is shellable since it satisfies our earlier axioms . and",
    "a shellable complex is automatically gallery connected .",
    "so really the only additional assumption on @xmath3 is that of thinness . to go from one set of axioms to another",
    ", we again use the formal connections outlined in section  [ subs : ca ] .",
    "let @xmath46 .",
    "apply axiom @xmath463 to every facet of @xmath61 . by the definition of @xmath167 and @xmath475",
    ", we get that the type of @xmath459 type of @xmath460 .      for a thin shellable complex",
    ", lemma  [ l : comp ] gives a simpler description of @xmath72 .",
    "it is the transitive closure of the relation : @xmath165 if @xmath106 is adjacent to @xmath61 and @xmath171 .",
    "let @xmath61 and @xmath106 be adjacent chambers and @xmath477 .",
    "let @xmath48 be the common facet .",
    "by thinness of @xmath3 and axiom @xmath69 , either @xmath478 or @xmath479 .",
    "this implies that either @xmath480 or @xmath481 .    in order to prove axiom @xmath473",
    ", we need to show that @xmath482 .",
    "we show that @xmath483 .",
    "the other implication follows by symmetry .",
    "suppose that @xmath61 and @xmath106 are adjacent and @xmath217 . then by axiom @xmath462",
    ", we have @xmath484 .",
    "hence @xmath481 which implies @xmath485 .",
    "let @xmath48 be any facet of @xmath3 .",
    "since @xmath3 is thin , there are exactly two chambers in @xmath225 .",
    "axiom @xmath172 says that for any @xmath43 , the partial order @xmath72 restricted to @xmath223 has a minimum .",
    "so the two chambers in @xmath225 get ordered by @xmath72 .",
    "now axiom @xmath473 says that the order obtained using @xmath461 is reverse of the one got using @xmath72 and hence axiom @xmath463 follows by the definition of projection maps .",
    "a simplicial hyperplane arrangement clearly satisfies axiom @xmath463 .",
    "axiom @xmath462 can also be checked directly using the discussion in section  [ ss : example ] .",
    "we record this formally as a simple corollary .",
    "a simplicial hyperplane arrangement satisfies the opposite axioms @xmath463 , @xmath462 and @xmath473 .",
    "in the previous section , we axiomatized duality in a way that was relevant to thin chamber complexes .",
    "now we prove a somewhat isolated result on duality in buildings and illustrate it with the building of type @xmath32 .",
    "a suitable generalisation of the opposite axiom to buildings may be possible .",
    "an appropriate setting may be gated chamber complexes of spherical type  . also the duality result on",
    "buildings ( theorem  [ t : duality ] ) may generalise to moufang complexes  .",
    "we first set up some notation .",
    "let @xmath3 be a finite ( spherical ) building and @xmath487 be the complete set of apartments of @xmath3 . for chambers @xmath488 ,",
    "we denote by @xmath489 ( resp .",
    "@xmath490 ) the set of apartments in @xmath487 that contain @xmath16 ( resp . @xmath16 and @xmath61 ) . also , for a chamber @xmath16 , let @xmath491 denote the set of all chambers that are opposite to @xmath16 .",
    "observe that there is a bijection between the sets @xmath491 and @xmath489 as follows .",
    "we associate to @xmath492 , the apartment @xmath493 , which is the convex hull of @xmath16 and @xmath467 .",
    "now let @xmath494 .",
    "observe that the bijection between @xmath489 and @xmath491 restricts to a bijection between the sets @xmath490 and @xmath495 .",
    "also we let @xmath496 denote the usual retraction .",
    "[ l : duality ] let @xmath16 and @xmath467 be a pair of opposite chambers in @xmath3 and let @xmath61 be any chamber in the apartment determined by @xmath16 and @xmath467",
    ". then @xmath497    c@c    let @xmath498 be the @xmath39-valued distance function on @xmath19 , where @xmath39 is the coxeter group of @xmath3 .",
    "since @xmath3 is spherical the coxeter group @xmath39 is finite .",
    "denote the longest word in @xmath39 by @xmath499 .",
    "let @xmath488 and @xmath467 be as in the statement of the lemma .",
    "also let @xmath500 and @xmath501 .",
    "then @xmath502 since @xmath16 and @xmath467 are opposite and @xmath488 and @xmath467 lie in the same apartment .",
    "note that @xmath503 .",
    "this is because @xmath504 .",
    "we now define a bijection @xmath505 as follows . if @xmath506 and @xmath507 then @xmath508 again because @xmath504 .",
    "hence @xmath106 and @xmath509 are opposite .",
    "so we map @xmath510 to the unique apartment containing @xmath106 and @xmath509 .",
    "the map is clearly a bijection .",
    "let @xmath3 be a finite _ irreducible _ moufang building . by irreducible , we mean that the coxeter group @xmath39 associated to @xmath3 is irreducible .",
    "we will not state the moufang condition here ; see  .",
    "we only mention that all buildings of rank greater or equal to 3 are moufang .",
    "hence it is a restriction only when @xmath511 . by a theorem of tits  ,",
    "if @xmath3 is irreducible and moufang then it is the building of an algebraic group @xmath48 over a finite field @xmath512 .",
    "the group @xmath513 acts by simplicial type - preserving automorphisms on @xmath3 . also the action is transitive on pairs @xmath514 consisting of an apartment @xmath515 and a chamber @xmath516 .",
    "in particular , the stabiliser of a fixed chamber @xmath16 , which we denote @xmath517 acts transitively on @xmath489 .",
    "it follows from the properties of buildings that for @xmath518 , @xmath519 for any chamber @xmath46 .",
    "it is known that for any chamber @xmath16 of @xmath3 , the number of chambers adjacent to @xmath16 along a fixed facet is a power of @xmath1 . here",
    "@xmath1 is the cardinality of the finite field @xmath512 .",
    "it follows that for chambers @xmath488 , the number @xmath520 ( and also @xmath521 ) is a power of @xmath1 .",
    "using this fact , @xmath386 , the flag @xmath0 vector of @xmath3 , defined in section  [ s : tss ] can be written as a polynomial in @xmath1 . in the course of proving theorem  [ t : duality ] , we will recall the definition of @xmath386 and give a precise definition of this polynomial . to emphasize the dependence on @xmath1",
    ", we write @xmath522 instead of @xmath386 .",
    "it will also follow that if @xmath41 is any apartment of @xmath3 then @xmath523 .",
    "the geometric significance of @xmath386 was explained in propositions  [ p : type ] and  [ p : beta ] .",
    "it counts the number of spheres in the homotopy type of @xmath314 , the type selected subcomplex of @xmath3 .",
    "now we prove the main result of this section .",
    "it gives the precise relation between the homotopy types of @xmath314 and @xmath524 .",
    "[ t : duality ] let @xmath3 be a finite , irreducible and moufang building . then with the notation as above @xmath525 .",
    "we start with a philosophical comment .",
    "`` as @xmath526 , the building @xmath3 degenerates to a single apartment @xmath41 .",
    "the equation of the theorem then reduces to the generalised ds equation @xmath527 . ''",
    "hence to prove the theorem , we will go in the opposite direction .",
    "we will start with the relation @xmath527 .",
    "then for a fixed pair of opposite chambers @xmath528 , we will use the retractions @xmath529 and @xmath530 to generalise this relation to @xmath3 .",
    "we now start with the formal proof .",
    "we fix an apartment @xmath41 and a chamber @xmath16 that lies in it . recall that @xmath168 is the smallest face @xmath23 of @xmath61 such that @xmath121 ( section  [ subs : ca ] ) .",
    "now set @xmath531 .",
    "hence by definition , the cardinality of this set is @xmath386 .",
    "similarly let @xmath532 .",
    "we make a few observations .",
    "the restriction map @xmath167 for @xmath3 when restricted to the apartment @xmath41 gives the restriction map for @xmath41 .",
    "this follows , for example , from the fact that the projection maps for @xmath3 are defined using the projection maps for the apartments .",
    "hence the cardinality of @xmath533 is @xmath534 .",
    "next note that @xmath41 is a coxeter complex and hence corresponds to a simplicial hyperplane arrangement .",
    "so it satisfies the opposite axiom @xmath462 ; see the corollary to theorem  [ t : opposite ] and the preceding comments . hence applying axiom @xmath462 to it ,",
    "we get @xmath535 .",
    "this is a more precise set theoretic version of the generalised ds equation .",
    "the cardinalities of the two sets are @xmath534 and @xmath536 respectively and do not depend on @xmath16 and @xmath467 .",
    "we next claim that @xmath537 to see this , note that @xmath538 for any face @xmath23 of @xmath3 .",
    "hence @xmath539 which proves the claim .",
    "let @xmath467 be the chamber opposite to @xmath16 in @xmath41 .",
    "then @xmath540 , the set of chambers opposite to @xmath16 .",
    "also note that @xmath541 with @xmath467 as the only element of @xmath542 .",
    "applying the claim for @xmath543 , we get @xmath544 the number of spheres in the homotopy type of @xmath545 .",
    "we now have the following identities .",
    "@xmath546    @xmath547    the first equality is clear .",
    "for the second equality we apply tits theorem to get a group @xmath513 associated to @xmath3 .",
    "the group serves two purposes .",
    "it gives us the number @xmath1 and it acts nicely on @xmath3 . as already noted @xmath517 ( resp .",
    "@xmath548 ) acts transitively on @xmath489 ( resp .",
    "@xmath549 ) and is compatible with the retraction @xmath529 ( resp .",
    "@xmath530 ) . this along with the fact @xmath550 gives us the second equality .",
    "the formulas show that @xmath522 can be written as a polynomial in @xmath1 as claimed earlier . furthermore due to the group action",
    ", it does not depend on the choice of @xmath41 and @xmath16 .",
    "it is also clear that if @xmath41 is any apartment of @xmath3 then @xmath523 .",
    "recall that @xmath551 .",
    "now if we replace @xmath1 by @xmath552 in the second equation and multiply by @xmath553 , we get    @xmath554 the theorem now follows from lemma  [ l : duality ] .",
    "[ e : dbuild ] building of type @xmath32 : let @xmath24 be the @xmath30-dimensional vector space @xmath555 , where @xmath512 is the field with @xmath1 elements .",
    "let @xmath556 be the lattice of subspaces of @xmath24 under inclusion .",
    "also let @xmath29 be the boolean lattice .",
    "note that the flag ( order ) complex @xmath31 is the coxeter complex of type @xmath32 and corresponds to the braid arrangement .",
    "also note that a choice of a basis for @xmath24 gives an embedding of @xmath29 into @xmath556 .",
    "the building of type @xmath32 over @xmath512 is defined simply as the flag ( order ) complex @xmath557 .",
    "the subcomplexes @xmath31 , for various embeddings @xmath558 , play the role of apartments .",
    "the algebraic group @xmath513 in this case can be taken to be @xmath559 or @xmath560 .",
    "for any chamber @xmath61 , one may directly check that @xmath561 .",
    "now fix an apartment @xmath41 corresponding to a basis @xmath562 of @xmath24 .",
    "let @xmath563 < [ e_{1},e_{2 } ] < \\ldots < [ e_{1},\\ldots , e_{n}]$ ] .",
    "then the chamber opposite to @xmath16 in @xmath41 , namely @xmath564 < [ e_{n},e_{n-1 } ] < \\ldots < [ e_{n},\\ldots , e_{1}]$ ] .",
    "if we let @xmath565 < [ e_{i_1},e_{i_2 } ] < [ e_{i_1},\\ldots , e_{i_n}]$ ] be any chamber in @xmath41 then a simple counting argument shows that @xmath566 @xmath567 hence we can see directly that @xmath497 this proves lemma  [ l : duality ] for this example . to unwind theorem  [ t : duality ] , we need to understand how retractions work .",
    "we leave that out and instead just give some explicit computations that illustrate the theorem .",
    "for type @xmath568 , @xmath569 , @xmath570 , @xmath571 , @xmath572 , @xmath573 , @xmath574 .",
    "we mention that these polynomials can also be described using descent sets without any reference to retractions , see .",
    "in this paper we presented a theory of projection maps and compatible shellings .",
    "we now suggest some problems for future study .",
    "as we saw , compatible shellings on a complex @xmath3 consist of compatible partial orders @xmath72 , one for every chamber @xmath16 of @xmath3 . using this information",
    ", we may construct a geometric object @xmath575 containing a lot of shelling information about @xmath3 .",
    "it would be worthwhile to make this idea precise since the object @xmath575 would be important for studying the space of all shellings of @xmath3 . in the example of section  [ e : nmetric ] , a candidate for @xmath575 is a line with vertices at the integer points .",
    "the group @xmath576 acts on @xmath575 by translations .",
    "the complex @xmath3 is a quotient of @xmath575 by the subgroup @xmath577 of @xmath576 whose generator shifts a vertex @xmath30 units to the right .    in this regard",
    ", the following formalism could be useful .",
    "let @xmath3 be a pure simplicial complex that satisfies our axioms .",
    "let @xmath578 be the space of all partial orders on @xmath19 that extend @xmath72 for some @xmath43 .",
    "then @xmath578 is a poset with the order relation given by extension with the partial orders @xmath72 as the minimal elements .",
    "we also think of @xmath19 as a poset with the trivial partial order",
    ". then @xmath578 and @xmath19 are posets related by a galois connection .",
    "denote a typical element of @xmath578 by @xmath58 .",
    "we are slightly abusing notation because in our earlier usage , @xmath58 was always a linear order .",
    "the map @xmath579 sends @xmath58 to the chamber that appears first in @xmath58 .",
    "and the map @xmath580 sends @xmath16 to @xmath72 .",
    "in contrast to the situation in section  [ s : metric ] , a shelling of a simplicial complex @xmath3 may have nothing to do with its gallery metric ; see the example of section  [ e : nmetric ] .",
    "we ask for other non - metrical examples of @xmath3 that satisfy our axioms .    while we explained some tiny applications and connections of our theory to the flag @xmath0 vector , random walks and buildings , other applications of this circle of ideas",
    "still remain to be seen . as a possibility",
    ", we suggest that a general framework to study solomon s descent algebra   would be to start with a labelled simplicial complex @xmath3 that satisfies our axioms .",
    "if @xmath3 is a coxeter complex then we would recover the usual descent algebra ; see   for more information on this geometric way of thinking .    as shown by the examples in section  [ s : proj ] our theory",
    "is closely related to lrbs .",
    "we ask if this connection can be clarified . for example",
    ", we may ask the converse question to the discussion in section  [ s : lrb ] . given a simplicial complex that satisfies our axioms ,",
    "how close is it to being a simplicial lrb ( see the remark in section  [ e : nmetric ] ) ?",
    "more examples of the theory that we presented may be possible .",
    "a possibility already mentioned is that of shellable complexes with group actions .",
    "another possibility is that of simplicial polytopes equipped with a suitable class of shellings like line shellings .",
    "however a better alternative seems to be to generalise the theory itself .",
    "we conclude by suggesting some approaches through examples .",
    "@xmath260 recall that in the metric setup , @xmath22 was the chamber containing @xmath23 closest to @xmath16 .",
    "what happens if there is no closest chamber ?",
    "we present a building - like example where this occurs .",
    "the petersen graph @xmath3 : consider a node @xmath64 with 5 labelled leaves .",
    "this corresponds to the empty face of @xmath3 . to get the rest of @xmath3",
    ", we do a `` blowup '' at @xmath64 .",
    "the trees of the form ( resp . ) are the vertices ( resp",
    ". edges ) of @xmath3 .",
    "the 5 leaves of each tree are labelled @xmath581 and @xmath582 in some order .",
    "define an apartment to be the subcomplex made of those edges ( chambers ) that have the form for a fixed @xmath407 .",
    "there are 10 apartments , 15 chambers and every chamber lies in exactly 4 apartments .",
    "furthermore each apartment is an hexagon and given two chambers , there is always an apartment @xmath41 containing them .",
    "so we may first define projection maps in @xmath41 as usual and then try to extend them to @xmath3 .",
    "however , in some cases , there are two apartments containing a face @xmath23 and a chamber @xmath16 and the products are not always consistent .",
    "this happens exactly when @xmath23 and @xmath16 are opposite to each other in some pentagon as shown in figure  [ petersen ] .",
    "then there are exactly two apartments containing @xmath23 and @xmath16 one of which is indicated in the figure . and",
    "the two candidates for @xmath22 are indeed the two chambers containing @xmath23 that are closest to @xmath16 .",
    "@xmath261 in  , bjrner constructs many examples of shellable complexes @xmath3 . for example",
    ", he shows that all finite semimodular and supersolvable lattices are shellable . as a very special example",
    ", we would also like to mention the whitehead poset which has found an application to group theory .",
    "in all these examples , it is clear that @xmath3 has many shellings",
    ". it would be worthwhile to understand the precise compatibility relations among these shellings .",
    "@xmath262 new examples from old : let @xmath3 be a labelled simplicial complex that satisfies our axioms",
    ". then what can be said about its type selected subcomplex @xmath314 or its @xmath348-skeleta @xmath583 ( if @xmath3 is not labelled ) ?",
    "we may ask the same question for the barycentric subdivision @xmath379 .",
    "these complexes again have many shellings but they do not directly give us new examples .",
    "however they might point to an appropriate generalisation of the theory .",
    "@xmath584 finally , we mention non - simplicial examples like polytopes and hyperplane arrangements . the second situation may be easier to handle since we already have projection maps in that case .",
    "the other non - simplicial examples to consider are lrbs as explained in section  [ s : lrb ] .",
    "we mention that there is a notion of shelling for a poset .",
    "it is called a recursive coatom ordering",
    ". this would be the relevant shelling concept in this generality .",
    "i would like to thank my advisor ken brown for his encouragement , sharing of his insights and patient reading of earlier versions of this paper .",
    "i would also like to thank h. abels , p. abramenko , m. aguiar , l. billera , a. bjrner , r. forman , j. meier , b. mhlherr and g. ziegler for useful discussions , comments and correspondence .",
    "t.  patrick bidigare , phil hanlon , and daniel  n. rockmore , _ a combinatorial description of the spectrum for the tsetlin library and its generalization to hyperplane arrangements _ , duke math .",
    "j. * 99 * ( 1999 ) , no .  1 , 135174 .            anders bjrner , michel las  vergnas , bernd sturmfels , neil white , and gnter  m. ziegler , _ oriented matroids _",
    ", encyclopedia of mathematics and its applications , vol .",
    "46 , cambridge university press , cambridge , 1993 .",
    "richard  p. stanley , _ enumerative combinatorics",
    ". vol . 1 _ , cambridge studies in advanced mathematics , vol .  49 , cambridge university press , cambridge , 1997 , with a foreword by gian - carlo rota , corrected reprint of the 1986 original"
  ],
  "abstract_text": [
    "<S> projection maps which appear in the theory of buildings and oriented matroids are closely related to the notion of shellability . </S>",
    "<S> this was first observed by bjrner  . in this paper , we give an axiomatic treatment of either concept and show their equivalence . </S>",
    "<S> we also axiomatize duality in this setting . as applications of these ideas , </S>",
    "<S> we prove a duality theorem on buildings and give a geometric interpretation of the flag @xmath0 vector . </S>",
    "<S> the former may be regarded as a @xmath1-analogue of the dehn - sommerville equations . </S>",
    "<S> we also briefly discuss the connection with the random walks introduced by bidigare , hanlon and rockmore  . </S>"
  ]
}