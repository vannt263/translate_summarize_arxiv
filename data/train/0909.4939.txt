{
  "article_text": [
    "it is an old mathematical idea to reduce a study of a particular class of objects to a certain single `` universal '' object .",
    "it is hoped that this object may then be used to study the given ( infinite ) set of individual problems in a more systematic and perhaps even efficient way .",
    "for example the universal object may have interesting additional properties ( such as symmetries and ultrahomogeneity ) which in turn can be used to classify the finite problems .",
    "a good example of this is the classification of ramsey classes of structures via the classification program of generic structures @xcite . in this paper",
    "we deal with universal objects from the homomorphism point of view .",
    "we define and study homomorphism - universal ( shortly hom - universal @xcite ) objects and show their relationship to embedding - universal ( shortly universal ) objects .    given a class @xmath0 of countable structures ,",
    "an object @xmath1 is called _ hom - universal _ ( or _ universal _ ) if for every object @xmath2 there exists a homomorphism ( or an embedding ) @xmath3 .",
    "the characterization of those classes @xmath0 which have an universal ( or , more recently , hom - universal ) object is a well known open problem which was studied intensively , see e.g. @xcite .",
    "the whole area was inspired by the negative results ( see @xcite ) : for example the class of graphs not containing @xmath4 ( = cycle of length @xmath5 ) fails to be universal for any @xmath6 . for universal structures",
    "the strongest results in the positive direction were obtained by cherlin , shelah and shi in @xcite .",
    "particularly , they proved the following ( as consequence of theorem 4 @xcite ) :    [ 1thm ] for every finite set @xmath7 of finite connected graphs the class @xmath8 has an universal object .",
    "here @xmath9 denotes the class of all graphs ( and more generally relational structures ) @xmath10 for which there is no homomorphism @xmath11 for every @xmath12 .",
    "formally @xmath13 .",
    "( in this paper the structures are denoted by bold letters .",
    "this applies also to graphs . but",
    "a cycle of length @xmath5 is still denoted by @xmath4 and complette graph on @xmath14 vertices by @xmath15 . ) similarly by @xmath16 we denote the class of all graphs ( and more generally relational structures ) @xmath10 for which there is no embedding @xmath11 for every @xmath12 .",
    "( note that the @xcite proves a stronger result : the universal graph exists for any class with finite algebraic closure and , moreover , that the existence of @xmath17-categorical universal graph is equivalent to this condition .",
    "this result was extended to relational structures in @xcite .",
    "our motivation comes from study of graph homomorphisms and thus in this paper we are interested in this weaker version of their result as presented by theorem [ 1thm ] . )",
    "the proof of theorem [ 1thm ] given in @xcite is based on techniques of model theory and it is possible to say that no explicit universal object is constructed `` in any very explicite way '' ( @xcite ) . in this paper",
    "we give such a proof .",
    "homomorphism universal structures lead to a very different area of constraint satisfaction problems .",
    "clearly every universal object is also hom - universal .",
    "this however does not hold conversely as shown by examples of classes all with of graphs bounded chromatic numbers .",
    "another example is provided by the class of all planar graphs : @xmath18 is hom - universal for the class of planar graphs by virtue of the @xmath19-color theorem while no universal graph exists @xcite .",
    "of special interest are classes @xmath9 which have finite hom - universal graph .",
    "such universal graphs are called _ duals _ and in this context the classes with finite hom - universal objects were characterized @xcite as follows ( for general finite relational structures )    @xmath9 has a finite hom - universal object ( i.e. dual ) if and only if all structures @xmath20 are ( relational ) trees .    in this paper",
    "we give a new construction of duals ( corollary [ nasdual ] ) .",
    "it is the aim of this paper to investigate both universal and hom - universal objects in the context of a ( seemingly much more restricted ) class of generic objects .",
    "main result ( theorem [ univthm ] ) proves theorem [ 1thm ] by means of _ shadows ( reducts ) _ and _ lifts ( expansions ) _ of a generic ( i.e. ultrahomogeneous universal ) structure .",
    "these classical model theoretic notions will be , for the sake of completeness , briefly reviewed now ( see e.g. @xcite ) :    a _ structure _ @xmath21 is a pair @xmath22 where @xmath23 ( i.e. @xmath24 is a @xmath25-ary relation on @xmath26 ) .",
    "the finite family @xmath27 is called the _ type _ @xmath28 .",
    "the type is usually fixed and understood from the context .",
    "( note that we consider relational structures only , and no function symbols . )",
    "if set @xmath26 is finite we call _ @xmath29 finite structure_. a _ homomorphism _ @xmath30 is a mapping @xmath31 satisfying for every @xmath32 , @xmath33 .",
    "if @xmath34 is 1 - 1 , then @xmath34 is called an _ embedding_. the class of all ( countable ) relational structures of type @xmath28 will be denoted by @xmath35 .",
    "the class @xmath36 , @xmath37 finite , is fixed throughout this paper . unless otherwise stated all structures @xmath38 belong to @xmath35 .",
    "now let @xmath39 be a type containing type @xmath28 .",
    "( by this we mean @xmath40 and @xmath41 for @xmath33 . ) then every structure @xmath42 may be viewed as structure @xmath43 together with some additional relations @xmath44 for @xmath45 . to make this more explicite these additional relations",
    "will be denoted by @xmath46 .",
    "thus a structure @xmath42 will be written as    @xmath47 and , by abuse of notation , briefly as : @xmath48    we call @xmath49 a _ lift _ of @xmath21 and @xmath21 is called the _ shadow _ ( or _ projection _ ) of @xmath49 . in this sense",
    "the class @xmath50 is the class of all lifts of @xmath35 .",
    "conversely , @xmath35 is the class of all shadows of @xmath50 .",
    "note that a lift is also in the model theoretic setting called an _ expansion _ and a shadow",
    "is often called a _",
    "reduct_. ( our terminology is motivated by a computer science context , see @xcite . )",
    "we will use letters @xmath51 for shadows ( in @xmath35 ) and letters @xmath52 for lifts ( in @xmath53 .    for lift @xmath54",
    "we denote by @xmath55 the relational structure @xmath21 i.e. its shadow .",
    "( @xmath56 is called the _ forgetful functor_. ) similarly , for a class @xmath57 of lifted objects we denote by @xmath58 the class of all shadows of structures in @xmath57 .",
    "as it is well known , an universal object may be constructed by an iterated amalgamation of finite objects and this leads to a stronger notion of _ @xmath0-generic object _ :",
    "for a class @xmath0 we say that an object @xmath59 is @xmath0-generic if it is both @xmath0-(embedding ) universal and it is _",
    "ultrahomogeneous_. the later notion means the following : every isomorphism @xmath60 between two finite substructures @xmath61 and @xmath62 of @xmath59 may be extended to an automorphism of @xmath59 .",
    "the notion of ultrahomogeneous structure is one of the key notions of modern model theory and it is the source of the well known classification programme @xcite .",
    "the ultrahomogeneous structures are characterized by the properties of finite substructures .",
    "denote by @xmath63 the class of all finite substructures of @xmath59 . by a following classical result @xcite structure @xmath59",
    "is ultrahomogeneous iff @xmath64 is a countable class with the following three properties :    1 .",
    "( hereditary property ) for every @xmath2 and an induced substructure @xmath61 of @xmath21 we have @xmath65 ; 2 .",
    "( joint embedding property ) for every @xmath66 there exists @xmath67 such that both @xmath62 contains @xmath21 and @xmath61 as induced substructures ; 3 .",
    "( amalgamation property ) for @xmath68 and @xmath60 embedding of @xmath62 into @xmath21 , @xmath69 embedding of @xmath62 into @xmath61 , there exists @xmath70 and embeddings @xmath71 and @xmath72 such that @xmath73",
    ". see figure [ amalgamfig ] .",
    "+   and @xmath61 over @xmath62 . ]",
    "any class @xmath0 satisfying the three conditions @xmath74 is called an _",
    "amalgamation class_. in this case we denote by @xmath75 the ( up to isomorphism uniquely determined ) generic object @xmath59 .",
    "@xmath76 is called the _ limit _ of @xmath0 .    in this paper",
    "we show that universal object for classes @xmath77 may be constructed as a shadow ( reduct ) of a generic object of an explicitly defined lifted class .",
    "the following is the principal result of this paper :    [ univthm ]    for every finite family @xmath78 of finite connected relational structures of type @xmath28 there exists a type @xmath79 containing @xmath28 and a finite family @xmath80 of finite structures of type @xmath79 such that :    * @xmath81 is amalgamation class whose shadow is @xmath77 , * the shadow @xmath59 of the generic @xmath82 is universal structure for @xmath77 .    among others",
    "this implies that @xmath83 is ultrahomogeneous and @xmath59 is @xmath17-categorical ( of course @xmath17-categoricity for universal objects for classes @xmath77 was proved in @xcite as well . )",
    "note that , for lifted objects we have to consider forbidden - embedding classes @xmath81 ( and not just classes @xmath84 ) .",
    "this is necessary as we show in lemma [ stupne ] .",
    "we prove theorem [ univthm ] in three steps : first we prove that there is a class @xmath85 of lifted objects which is an amalgamation class ( theorem [ mainthm ] ) and then we define @xmath85 by a set of forbidden rooted substructures ( theorem [ reprezent ] ) and finally by the set of forbidden embeddings ( theorem [ reprezent2 ] )",
    ".    thus we can get universal objects for classes @xmath77 in a particularly efficient way as shadow of a limit of certain ( explicitly defined ) lifted class @xmath81 .",
    "theorem [ univthm ] and its combinatorial proof have several other consequences .",
    "for example , we can prove , that many classes @xmath77 are weakly indivisible . in the another direction we show that in the case that all @xmath86 are relational trees it suffices to consider only a class of monadic lifts ( i.e. all relations @xmath87 for @xmath45 are monadic ; this case corresponds to structures endowed with a coloring of its vertices ) .",
    "this is stated in section [ monadic ] .",
    "consequently , in this case the generic structure @xmath83 has not only the universal shadow @xmath59 but in fact this shadow @xmath59 has a finite core @xmath88 which is thus a finite hom - universal structure and thus a dual .",
    "this is stated as corollary [ nasdual ] . in this way we reprove",
    "the finite duality theorem @xcite .",
    "this is particularly pleasing : ( in this sense ) duals are generic objects and this indicates yet another context of hom - dualities .    in section [ urysohnsection ]",
    "we include further corollaries of our method to metric spaces ( which can be treated analogously to forbidding cycles ) . in section",
    "[ bounded ] we solve a related extremal problem : we show that our method lead to the optimal arities of added lifts .",
    "this is based on a non - trivial ramsey - type result ( lemma [ sets ] ) .",
    "let us add a few more definitions .",
    "for a structure @xmath89 the _ gaifman graph _ ( in combinatorics often called _ 2-section _ ) is the graph @xmath90 with vertices @xmath26 and all those edges which are a subset of a tuple of a relation of @xmath21 : @xmath91 where @xmath92 iff @xmath93 and there exists tuple @xmath94 such that @xmath95 .",
    "a _ cut _ in @xmath21 is a subset @xmath96 of @xmath26 such that the gaifman graph @xmath90 is disconnected by removing set @xmath96 ( i.e. if @xmath96 is graph theoretic cut of @xmath90 ) . by a _",
    "minimal cut _ we always mean an inclusion minimal cut .",
    "if @xmath96 is a set of vertices then @xmath97 will denote a tuple ( of length @xmath98 ) from all elements of @xmath96 .",
    "alternatively , @xmath97 is arbitrary linear ordering of @xmath96 .",
    "the following is our basic notion which resembles decomposition techniques standard in graph theory and thus we adopted similar terminology .    for a relational structure @xmath21 and minimal cut @xmath100 in @xmath21 , a _ piece _ of relational structure @xmath29",
    "is pair @xmath101 . here",
    "@xmath102 is structure induced on @xmath21 by union of @xmath100 and vertices of some connected component of @xmath103 .",
    "tuple @xmath104 consist of the vertices of cut @xmath100 in a ( fixed ) linear order",
    ".    note that from the inclusion - minimality of the cut @xmath100 follows that all pieces of a connected structure are connected structures .",
    "it follows that for connected structure @xmath21 the pieces of @xmath21 determined by any minimal cut @xmath96 cover the whole @xmath21 .",
    "all pieces are considered as rooted structures : a piece @xmath105 is a structure @xmath102 rooted at @xmath104 .",
    "accordingly , we say that pieces @xmath106 and @xmath107 are _ isomorphic _ if there is function @xmath108 that is isomorphism of structures @xmath109 and @xmath110 and @xmath60 restricted to @xmath111 is the monotone bijection between @xmath111 and @xmath112 ( we denote this @xmath113 ) .",
    "[ petersoni ]        observe that for relational trees , pieces are equivalent to rooted branches .",
    "fig [ petersoni ] shows all pieces of the petersen graph .",
    "let @xmath106 be a piece of structure @xmath29 and @xmath107 a piece of @xmath109 .",
    "if @xmath114 , then @xmath115 is also a piece of @xmath29 .",
    "[ kousky ]    denote by @xmath116 connected component of @xmath117 that produces @xmath118 ( i.e. @xmath119 ) .",
    "denote by @xmath120 component of @xmath121 that produces @xmath115 ( i.e. @xmath122 ) . as @xmath114 one can check that then @xmath120 is contained in @xmath116 and every vertex of @xmath21 connected by tuple to any vertex of @xmath120 is contained in @xmath109 .",
    "thus @xmath120 is also connected component of @xmath21 created after removing vertices of @xmath123 .",
    "let @xmath78 be a fixed countable set of finite relational structures of ( finite ) type @xmath28 .",
    "for construction of universal structure of @xmath77 we use special lifts , called @xmath78-lifts .",
    "let @xmath124 be all pieces of all relational structures @xmath86 .",
    "notice that there are only finitely many pieces .",
    "this enumeration of pieces is fixed throughout this section .",
    "relational structure @xmath125 is called _",
    "@xmath78-lift _ of relational structure @xmath29 when the arities of relations @xmath126 , correspond to @xmath127 .    for relational structure @xmath29",
    "we define _ canonical lift @xmath128 _ by putting @xmath129 iff there is homomorphism @xmath60 from @xmath130 to @xmath26 such that @xmath131    denote by @xmath85 the class of all induced substructures of lift @xmath132 , @xmath133 .    for @xmath134",
    "we denote by @xmath135 a structure @xmath136 such that structure @xmath49 is induced on @xmath137 by @xmath132 .",
    "@xmath135 is called a _",
    "witness _ of the fact that @xmath49 belongs to @xmath85 .",
    "[ mainthm ] let @xmath78 be a finite set of finite connected relational structures .",
    "the class @xmath85 is an amalgamation class .",
    "consequently , there is a generic structure @xmath59 in @xmath85 and its shadow @xmath138 is a universal structure for class @xmath77 .",
    "[ mainth ]        by definition the class @xmath85 is hereditary , isomorphism closed , has a joint embedding property .",
    "@xmath85 is countable , because there are only countably many structures in @xmath77 ( because type @xmath28 is finite ) and thus also countably many lifts . to show that @xmath85 is amalgamation class it remains to verify that @xmath85 has the amalgamation property .",
    "consider @xmath139 .",
    "assume that structure @xmath140 is substructure induced by both @xmath49 and @xmath141 on @xmath142 and without loss of generality assume that @xmath143 .",
    "put @xmath144 @xmath145 @xmath146    because @xmath85 is closed under isomorphism , we can still assume that @xmath21 and @xmath61 are vertex disjoint with exception of vertices of @xmath62 .",
    "let @xmath88 be free amalgam of @xmath21 and @xmath61 over vertices of @xmath62 : vertices of @xmath88 are @xmath147 and there is @xmath148 iff @xmath149 or @xmath150 .",
    "we claim that the structure @xmath151 is ( not necessarily free ) amalgam of @xmath152 over @xmath140 and thus also amalgam of @xmath153 over @xmath140 .",
    "first we show that the substructure induced by @xmath154 on @xmath26 is @xmath132 and that the substructure induced by @xmath154 on @xmath155 is @xmath156 . in the other words no new tuples to @xmath152 ( and thus also to @xmath49 and to @xmath141 )",
    "were introduced .",
    "assume the contrary that there is a new tuple @xmath157 and among all tuples and possible choices of @xmath14 choose one with the minimal number of vertices of the corresponding piece @xmath158 .",
    "such @xmath158 is fixed throughout this proof . by symmetry",
    "we can assume that @xmath159 .",
    "explicitely , we assume that there is homomorphism @xmath60 from @xmath160 to @xmath88 such that @xmath161 .",
    "the set @xmath162 of vertices of @xmath160 mapped to @xmath132 is nonempty , because it contains all vertices of @xmath163 .",
    "@xmath164 is nonempty because there is no homomorphism @xmath69 from @xmath160 to @xmath21 such that @xmath165 ( otherwise we would have @xmath166 .",
    "@xmath167 is also non empty as there are no edges from vertices @xmath168 to vertices @xmath169 in @xmath170 and because pieces are connected .",
    "moreover the vertices of @xmath167 form a cut of @xmath160 .",
    "denote by @xmath171 all connected components of substructure induced on @xmath172 by @xmath173 . for each component @xmath174",
    ", @xmath175 there is vertex cut @xmath176 of @xmath173 constructed by all vertices of @xmath162 connected to @xmath177 .",
    "this cut is always contained in @xmath167 .    because @xmath158 is a piece of some @xmath178 and because @xmath179 are pieces of @xmath173 , by lemma [ kousky ]",
    ", they are also pieces of @xmath180 . we denote by @xmath181 all pieces isomorphic to pieces @xmath182 via isomorphisms @xmath183 .",
    "now we use the minimality of the piece @xmath158 .",
    "all the pieces @xmath184 have smaller size than @xmath158 ( as @xmath167 is a cut of @xmath185 .",
    "thus we have that tuple @xmath186 of @xmath187 is as well a tuple of @xmath132 .",
    "thus there exists homomorphism @xmath188 from @xmath174 to @xmath170 such that @xmath189 for every @xmath190 .",
    "in this situation we define @xmath191 as follows :    1 .",
    "@xmath192 when @xmath193 for some @xmath190 .",
    "@xmath194 .",
    "it is easy to see that @xmath195 is homomorphism from @xmath173 to @xmath132 .",
    "this is a contradiction .",
    "it remains to verify that @xmath196 .",
    "we proceed analogously .",
    "assume that @xmath60 is homomorphism of a @xmath86 to @xmath88 . because @xmath197 , @xmath60 must use vertices of @xmath62 and @xmath167 forms cut of @xmath198 .",
    "denote by @xmath199 a minimal cut contained in @xmath167 .",
    "@xmath200 must contain tuples corresponding to all pieces of @xmath198 having @xmath199 as roots in @xmath140 .",
    "this is a contradiction with @xmath201 .",
    "in theorem [ mainthm ] we found an amalgamation class @xmath202 of lifted objects such that the shadow of the limit of @xmath85 is universal object of @xmath77 . in this section",
    "we further refine this result by giving an explicit description of the amalgamation class @xmath85 in terms of forbidden substructures .",
    "we prove that @xmath85 is equivalent to a class @xmath81 for an explicitly defined class of lifts @xmath80 ( derived from the class @xmath78 ) .",
    "first we show a more explicit construction of a witness .",
    "[ enumerace ] for a piece @xmath203 such that @xmath204 is @xmath205-tuple and for an @xmath205-tuple @xmath206 of vertices of @xmath21 we denote by @xmath207 relational structure created as disjoint union of @xmath21 and @xmath130 identifying vertices of @xmath208 along @xmath206 ( i.e. @xmath209 is free amalgamation over @xmath210 ) .",
    "we put @xmath211 where @xmath212 .",
    "finally we put @xmath213 .",
    "we will call @xmath214 the _ universal witness _ of @xmath215 .",
    "now we develop alternative and more explicite description of the class @xmath85 ( introduced in section 2 ) .",
    "we preserve all the notation introduced there .",
    "[ uwlem ] lift @xmath215 belongs to @xmath85 iff @xmath216 and @xmath215 is induced on @xmath137 by @xmath217 ( in the other words @xmath216 is a witness of @xmath49 ) .",
    "assume that @xmath134 .",
    "@xmath144 @xmath218    it follows from the construction that there exists a homomorphism @xmath219 which is identity on @xmath49 .",
    "if there was homomorphism @xmath69 from some @xmath198 to @xmath214 then by composing with @xmath60 , there exists also a homomorphism from @xmath198 to @xmath135 .",
    "this is not possible , since @xmath21 is witness .",
    "let us assume now that @xmath49 is not induced by @xmath156 on @xmath137 . from the construction of @xmath156 we have",
    "trivially that for each @xmath220 , there is also @xmath221 .",
    "assume that there is some @xmath221 consisting only from vertices of @xmath49 such that @xmath222 .",
    "let @xmath69 be the homomorphism @xmath223 such that @xmath224 .",
    "again by composing with @xmath60 we obtain homomorphism @xmath225 , a contradiction with @xmath222 . thus @xmath49 is induced by @xmath226 on @xmath156 .    in the reverse direction if @xmath214 was witness , then @xmath134 .",
    "the conditions listed in the lemma are precisely the conditions on @xmath214 being witness .",
    "[ roothomo ] for rooted structure @xmath227 we define @xmath228-rooted homomorphism @xmath229 as a homomorphism @xmath230 such that @xmath231 iff @xmath232 .    for relational structure @xmath21 and @xmath49 sublift of @xmath132",
    ", we say that @xmath215 is _ @xmath21-covering _ iff there is homomorphism @xmath233 .",
    "similarly for piece @xmath203 and @xmath49 a sublift of @xmath234 such that @xmath235 , we say that @xmath215 is _ @xmath203-covering _ iff @xmath137 contains all roots of @xmath208 and there is homomorphism @xmath236 such that @xmath34 is identity on @xmath208 .",
    "our first characterization of classes @xmath85 is in the form of rooted homomorphism and coverings .",
    "[ reprezent ] for fixed @xmath78 , class @xmath85 ( defined above before theorem [ mainthm ] ) satisfies :    @xmath134 if and only if    1 .",
    "there is no homomorphism @xmath237 , for @xmath141 being @xmath198-covering for some @xmath86 ; 2 .   for every @xmath238 and every @xmath203-covering @xmath140",
    "there is no @xmath228-rooted homomorphism @xmath239 .",
    "( up to isomorphisms and permutations of roots ) , inclusion minimal @xmath240-covering sublifts , and inclusion minimal @xmath118-covering and @xmath115-covering sublifts .",
    "roots are denoted by dotted line . ]",
    "conditions @xmath241 and @xmath242 holds for every @xmath134 .",
    "fix @xmath134 .",
    "assume that @xmath241 does not hold for some @xmath141 that is @xmath198-covering for @xmath243 .",
    "since there is homomorphism @xmath244 and a homomorphism @xmath245 we also have homomorphism @xmath246 , a contradiction with lemma [ uwlem ] .",
    "@xmath242 is a rooted analogy of the same proof .",
    "take lift @xmath49 such that @xmath247 . by lemma [ uwlem ]",
    "we have one of the following cases :    * @xmath49 is not induced by @xmath248 on @xmath49 .",
    "+ in this case we have some homomorphism of @xmath249 such that @xmath250 .",
    "assume that @xmath228 is chosen such that number of vertices of @xmath130 is minimal .",
    "+ denote by @xmath141 maximal ( non - induced ) sublift of @xmath234 such that @xmath34 is also homomorphism from @xmath141 to @xmath49 .",
    "we need to show that @xmath141 is @xmath203-covering to get contradiction with @xmath242 .",
    "+ denote by @xmath251 components of @xmath252 .",
    "now denote by @xmath253 pieces corresponding to these components and by @xmath254 homomorphisms @xmath255 mapping non - roots of @xmath256 to the corresponding component and roots to vertices of @xmath141 .",
    "+ because @xmath257 is homomorphism @xmath258 we have from minimality of counterexample @xmath259 and thus also @xmath260 .",
    "this holds for every @xmath261 and thus we have also @xmath262 such that it is identity on @xmath263 .",
    "this prove that @xmath141 is @xmath203-covering .",
    "* there is a homomorphism @xmath34 of some @xmath243 to @xmath214 .",
    "+ assume that @xmath264 is empty .",
    "in this case there is @xmath228 such that @xmath265 is contained in vertices of copy of @xmath203 in @xmath266 . in this case lift @xmath49",
    "is covering , because it contains tuple in @xmath267 . a contradiction .",
    "+ denote by @xmath141 maximal ( non - induced ) sublift of @xmath268 so @xmath34 is also a homomorphism @xmath245 . because there is non - empty intersection of @xmath265 and @xmath137 , @xmath263 is nonempty .",
    "we can show that @xmath141 is covering by same argument as in @xmath37 getting contradiction with @xmath241 too .",
    "observe that properties @xmath241 and @xmath242 directly translate to the family @xmath80 with the desired property that the shadow of @xmath81 is @xmath77 .",
    "this leads to the desired explicit characterization of the class @xmath85 .",
    "[ reprezent2 ] let @xmath80 be a class of @xmath78-lifts satisfying the following :    1 .",
    "@xmath269 for every lift @xmath49 such that there is @xmath198-covering lift @xmath141 for some @xmath86 together with a surjective homomorphism @xmath245 , 2 .",
    "@xmath269 for every structure @xmath49 such that there is @xmath270 and @xmath203-covering rooted structure @xmath271 together with a surjective @xmath228-rooted homomorphism @xmath245 , 3 .",
    "@xmath80 contains no other structures .",
    "then we have :    1 .",
    "@xmath80 is a finite family ; 2 .",
    "@xmath272 and thus @xmath81 is amalgamation class .",
    "the shadows @xmath59 of the generic @xmath82 is universal structure for @xmath77 .",
    "@xmath80 is necessarily finite , because number of vertices of lifts @xmath273 is bounded by number of vertices of structures @xmath274 . from construction above",
    "it follows that @xmath81 is precisely class of structures satisfying conditions @xmath241 and @xmath242 .",
    "we used notion of rooted homomorphisms ( and thus classes @xmath81 ) to define our lifted classes .",
    "it is easy to see that classes @xmath84 are not powerful enough to extend the expressive power .",
    "[ stupne ] assume that there is a class @xmath78 and a lifted class @xmath80 such that @xmath84 contains a generic object whose shadow is universal graph of class @xmath77 .",
    "then the class @xmath77 itself contains a generic object .",
    "observe that all classes @xmath84 are monotonous .",
    "that is for any @xmath275 a relational structures @xmath141 created from @xmath49 by removing some of its edges also belongs to @xmath84 .    in particular @xmath84",
    "is closed for constructing shadows and thus @xmath77 may be thought as subclass of @xmath84 ( modulo the signature of relational structures ) .",
    "now take any @xmath276 and their lifts @xmath277 such that they contain no new edges .",
    "these lifts are in class @xmath84 .",
    "now consider @xmath278 amalgam of @xmath49 and @xmath141 over @xmath140 and its shadow @xmath88 .",
    "@xmath88 is amalgam of @xmath21 and @xmath61 over @xmath62 .",
    "the expressive power of lifts can be limited in several ways .",
    "for example , it is natural to restrict arities of the newly added relations .",
    "it follows from the above proof that the arities of new relations in our lifted amalgamation class @xmath85 depend on the size of maximal inclusion minimal cut of the gaifman graph of the forbidden structure .    in this section",
    "we completely characterize the minimal arity of ultrahomogeneous lifts of classes @xmath77 .",
    "this involves a non - trivial ramsey type statement stated bellow as lemma [ sets ] . as a warm up",
    ", we first show that generic universal graph for the class @xmath279 can not be constructed by finite monadic lifts :    consider , for contradiction , a monadic lift @xmath83 which is both a generic relational structure and whose shadow @xmath59 is universal for the class @xmath279 . since all extended relations are monadic , we can view them as finite coloring of vertices .",
    "for @xmath280 we will denote by @xmath281 the color of @xmath282 or , equivalently , set of all extended relations @xmath283 such that @xmath284 .",
    "since graphs in @xmath279 have unbounded chromatic number , we know that chromatic number of @xmath59 is infinite .",
    "consider decomposition of @xmath59 implied by @xmath285 .",
    "since the range of @xmath285 is finite , one of the graphs in this decomposition has infinite chromatic number .",
    "denote this subgraph by @xmath286 .",
    "in fact is suffices that @xmath286 is not bipartite .",
    "thus @xmath286 contains an odd circle .",
    "the shortest odd cycle has length @xmath287 and thus @xmath286 contains induced path of length 3 formed by vertices @xmath288 .",
    "additionally there is a vertex @xmath282 of degree at least 2 . because the graph is triangle free , the vertices @xmath289 and @xmath290 connected to @xmath282 are not connected by an edge .    from genericity of @xmath59",
    "we know that the partial isomorphism mapping @xmath291 and @xmath292 can be extended to an automorphism @xmath60 of @xmath83 .",
    "the vertex @xmath293 is connected to @xmath294 and @xmath295 and thus together with @xmath296 contains either triangle or @xmath297-cycle .",
    "it follows that generic @xmath83 can not be defined by monadic lifts of @xmath77 .    in this section",
    "we prove that there is nothing special here about arity 2 and about the pentagon .",
    "one can determine the minimal arity of the ultrahomogeneous lifts for general classes @xmath77 . towards this end",
    "we shall need a ramsey type statement which we formulate after introducing the following :    let @xmath298 be finite set with partition @xmath299 . for @xmath300",
    "we denote by @xmath301 the index @xmath228 such that @xmath302 .",
    "similarly , for a tuple @xmath303 of elements of @xmath298 we denote by @xmath304 the tuple @xmath305 .",
    "we make use of the following :    [ sets ] for every @xmath306 , @xmath307 and @xmath308 integers there is relational structure @xmath309 , with vertices @xmath310 ( sets @xmath311 are mutually disjoint ) and single relation @xmath312 of arity @xmath313 with the following properties :    1 .",
    "every @xmath314 , @xmath315 , @xmath316 satisfies @xmath317 2 .   for every @xmath318",
    ", @xmath319 , @xmath320 and @xmath321 has at most @xmath322 common vertices .",
    "3 .   for every coloring of tuples on @xmath298 of size @xmath322",
    "using @xmath308 colors there is tuple @xmath323 such that every two tuples @xmath324 consisting of vertices of @xmath320 such that @xmath325 have same color .",
    "this statement follows from results obtained by neetil and rdl @xcite .",
    "although not stated explicitely , this is `` partite version '' of the main result of @xcite .",
    "it can be also obtained directly by means of amalgamation method , see @xcite . in this paper",
    "this result plays auxiliary role only and we omit the proof .",
    "given a relational structure @xmath309 with relation @xmath312 of arity @xmath313 and rooted relational structure @xmath326 of type @xmath28 with @xmath327 , we denote by @xmath328 the following relational structure @xmath61 of type @xmath28 :    the vertices of @xmath155 are equivalence classes of equivalence @xmath329 on @xmath330 generated by the following pairs :    @xmath331 @xmath332 @xmath333    denote by @xmath334 $ ] the equivalence class of @xmath329 containing @xmath335 .",
    "we put @xmath336 iff @xmath337,[\\vec{u},v_2],\\ldots [ \\vec{u},v_t])$ ] for some @xmath338 and @xmath339 .",
    "this construction is commonly used in the graph homomorphism context as _ indicator construction _ , see @xcite .",
    "it essentially means replacing every tuple of @xmath312 by disjoint copy of @xmath21 with roots @xmath104 identified with vertices of the tuple .",
    "for given vertex @xmath282 of @xmath328 such that @xmath340 $ ] ( or @xmath341 $ ] ) we will call vertex @xmath342 ( or @xmath343 respectively ) _ the vertex corresponding to @xmath282 in @xmath286_. note that this gives correspondence between vertices of @xmath286 and @xmath328 restricted to vertices @xmath334 $ ] and @xmath344 $ ] .",
    "[ hconstruct ]        finite family finite relational structures is called _ minimal _ iff there all structures in @xmath78 are cores and there is no homomorphism in between two structures in @xmath78 .",
    "the following is the main result of this section .",
    "[ aritythm ] denote by @xmath78 minimal family of finite connected relational structures .",
    "there is lift of class @xmath77 that contains new relations of arity at most @xmath322 that is amalgamation class iff all minimal cuts of @xmath86 consist of at most @xmath322 vertices .",
    "construction of lifted class @xmath85 in proof of theorem @xmath345 adds relations of arities corresponding to the sizes of minimal cuts of @xmath86 so one direction of theorem [ aritythm ] follows directly from the proof of theorem @xmath345 .    in the opposite direction fix class @xmath78 , @xmath346 and a relational structure @xmath86 containing minimal cut @xmath347 of size @xmath348 .",
    "assume , for contradiction , that there exists lift @xmath0 of class @xmath77 such that @xmath0 is an amalgamation class and contains new relations of arities at most @xmath322 .",
    "denote by @xmath308 the number of different relational structures on @xmath322 vertices appearing in @xmath0 .    for the brevity",
    ", assume that @xmath349 has only two connected components .",
    "denote by @xmath106 and @xmath107 the pieces generated by @xmath96 such that @xmath350 .",
    "( for 3 and more pieces we can proceed analogously . )",
    "now we construct relational structure @xmath351 as follows : @xmath352 and put @xmath353 @xmath354 with no other tuples .",
    "in other words , @xmath351 is disjoint union of @xmath109 and @xmath110 .",
    "we will consider @xmath351 rooted by tuple @xmath355    take relational structure @xmath286 from lemma [ sets ] and put @xmath356 .",
    "this construction for the two pieces of 5-cycle is shown at figure [ hconstruct ] .",
    "for vertex @xmath300 denote by @xmath357 the vertex of @xmath88 corresponding to @xmath282 ( if it exists ) or arbitrary vertex of @xmath88 otherwise .",
    "denote by @xmath34 mapping @xmath358\\mapsto a$ ] for @xmath359 and @xmath360\\mapsto a$ ] for @xmath361 .",
    "it is easy to check that @xmath34 is homomorphism @xmath362 .",
    "additionally for @xmath363 put @xmath364 observe that for vertex @xmath363 such that @xmath365 , @xmath366 may contain multiple tuples , while for all other vertices @xmath366 contains precisely one tuple .",
    "assume , to the contrary , that there is homomorphism @xmath367 . by composition",
    "we have that @xmath368 is homomorphism @xmath369 . because @xmath198 is core , we also know that @xmath368 is automorphism of @xmath198 .",
    "it follows that @xmath60 is injective @xmath370 .",
    "for @xmath371 denote by @xmath366 the set @xmath372 where @xmath373 is uniquely defined by @xmath374 .",
    "it follows that for @xmath375 , @xmath366 consists of single tuple . for tuple @xmath376 , there is tuple @xmath377 iff sets @xmath378 have nonempty intersection ( i.e. all belongs to single copy of some piece @xmath130 ) and thus also sets @xmath379 have nonempty intersection .    as relational systems",
    "@xmath380 are connected , it follows that all @xmath381 are equivalent singleton sets .",
    "denote by @xmath382 tuple such that @xmath383 for @xmath384 and by @xmath385 tuple such that @xmath386 for @xmath387 . because copies of pieces in @xmath88 corresponding to single tuple @xmath388 are not connected , we have @xmath389 . finally because every vertex in @xmath96 is connected to @xmath390 by some tuple ( from minimality of cut @xmath96 ) , we have @xmath391 for every @xmath392 and analogously @xmath393 for every @xmath392 .",
    "it follows that sets @xmath382 and @xmath385 overlaps on whole @xmath96 .",
    "this @xmath382 and @xmath206 overlaps on @xmath322 or more vertices that is a contradiction with construction of relational system @xmath286 .",
    "it follows that there is no homomorphism @xmath394 .",
    "there is also no homomorphism @xmath395 for any @xmath396 because composing such homomorphism with @xmath34 would lead to homomorphism @xmath397 that does not exist .",
    "it follows that @xmath196 .",
    "take generic lift @xmath398 .",
    "every embedding @xmath399 ( @xmath138 is shadow of @xmath59 ) imply @xmath308 coloring of @xmath322-tuples from elements of @xmath400 ( colors are defined by the additional relations of @xmath59 ) and thus also @xmath308 coloring of @xmath322-tuples of @xmath286 .",
    "subsequently , using lemma [ sets ] , there is tuple @xmath401 , such that @xmath402 and the relations added by lift @xmath0 are equivalent on @xmath403 and @xmath404 .",
    "thus @xmath59 induce on both sets @xmath405 and @xmath406 same lift @xmath49 .",
    "( @xmath49 is lift of relational structure induced by @xmath198 on @xmath96 . )",
    "subsequently there is partial isomorphism of @xmath59 mapping @xmath407 .",
    "from genericity of the @xmath59 this partial isomorphism extends to automorphism @xmath408 of @xmath59 . from the construction of relational system",
    "@xmath88 this mapping @xmath408 sends a root of image of piece @xmath118 to corresponding roots of image of piece @xmath115 and thus shadow of @xmath59 contains copy of @xmath86 , a contradiction .",
    "by theorem [ aritythm ] it follows that only minimal classes of finite relational structures @xmath78 such that class @xmath77 has monadic lift that forms an amalgamation class are precisely classes @xmath78 such that all minimal vertex cuts of their gaifman graph have size 1 .",
    "examples forming an amalgamation class include graphs with all its blocks being complete graphs .",
    "consider even more restricted classes @xmath78 of structures consisting from ( relational ) trees only ( relational trees are defined bellow ) . in this case",
    "we can claim a much stronger result : there exists a finite universal object @xmath88 which is a retract of an universal structure @xmath59 .",
    "a constraint satisfaction problem ( csp ) is the following decision problem :    instance : a finite structure @xmath21    question : does there exists a homomorphism @xmath409 ?",
    "we denote by @xmath410 the class of all finite structures @xmath21 with @xmath409 .",
    "it is easy to see that class @xmath410 coincides with a particular instance of lifts and shadow .",
    "a _ finite duality _ ( for structures of given type ) is any equation @xmath411 where @xmath78 is s finite set @xcite .",
    "@xmath88 is called _ dual of @xmath78_. we also write @xmath412 for dual of @xmath78 ( it is easy to see that @xmath412 is up to homomorphism equivalence uniquely determined ) .",
    "the pair @xmath413 is called _ dual pair_. in a sense duality is a simple constraint satisfaction problem : the existence of homomorphism into @xmath88 ( i.e. a @xmath88-coloring ) is equivalently characterized by a finite set of forbidden substructures .",
    "dualities play a role not only in the complexity problems but also in logic , model theory , partial orders and categories .",
    "particularly it follows from @xcite and @xcite that dualities coincide with those first order definable classes which are homomorphism closed .",
    "finite dualities for monadic lifts include all classes @xmath414 .",
    "we formulate this as follows :    [ prop21 ] for a class @xmath0 of structures the following two statements are equivalent :    1 .",
    "@xmath415 for finite @xmath351 .",
    "2 .   there exists a class @xmath57 of monadic lifts such that 1 .",
    "shadow of @xmath57 is @xmath0 .",
    "2 .   @xmath416 where @xmath80 is a finite set of monadic covering lifts of edges ( i.e. every @xmath417 contains at most one non - unary tuple . ) while every vertex belongs to a unary lifted tuple .",
    "obviously imply 2 .    in the opposite direction",
    "construct @xmath351 as follows : let @xmath418 be lift with vertex for every consistent combination of new relations @xmath419 and relations @xmath420 empty .",
    "now construct lift @xmath351 on same vertex set as @xmath418 with @xmath421 .",
    "put tuple @xmath422 iff the structure induced by @xmath206 is on @xmath418 with @xmath206 added to @xmath423 is in @xmath84 .    in the language of dualities",
    "this amounts to saying that the classes @xmath410 are just classes described by shadow dualities of the simplest kind : forbidden lifts are just vertex colored edges .",
    "a ( relation ) tree can be defined as follows : the _ incidence graph _ @xmath424 of relational structure @xmath21 is the bipartite graph with parts @xmath26 and @xmath425 and edges @xmath426 $ ] such that @xmath427 .",
    "( here we write @xmath428 when there exists an index @xmath14 such that @xmath429 ; @xmath430 is a multigraph . )",
    "@xmath21 is called a _ tree _ when @xmath424 is a graph tree ( see e.g. @xcite ) .",
    "the definition of relational trees by the incidence graph @xmath424 allows us to use graph terminology for relation trees .",
    "finite dualities are characterized ( see @xcite )    for every type @xmath28 and for every set @xmath78 of relational trees there exists a dual @xmath28-structure @xmath412 . up",
    "to homomorphism equivalence there are no other dual pairs .",
    "[ dualpairs ] given @xmath78 various constructions of structure duals are known @xcite .",
    "it follows from this section that we have a yet another approach to this problem :    [ nasdual ] let @xmath78 be a set of finite tree - structures , then there exists finite set of lifted structures @xmath80 with the following properties :    * @xmath81 is amalgamation class ( and thus there is universal @xmath431 ) , * all lifts in @xmath81 are monadic , * @xmath432 is universal for @xmath0 , * @xmath83 has a finite retract @xmath433 and consequently @xmath434 is a dual of @xmath78 .    observe that the inclusion minimal cuts of a relational tree are all having arity 1 .",
    "thus for fixed family @xmath78 of finite relational trees our theorem [ mainthm ] establishes the existence monadic lift that give an generic structure @xmath83 whose shadow is ( homomorphism ) universal for @xmath77 .",
    "this structure @xmath83 is countable . to get a dual , we find finite @xmath435 which is retract of @xmath83 and still there is homomorphism @xmath436 iff there is homomorphism @xmath437 .",
    "the set @xmath80 is given by construction in theorem @xmath438 .",
    "observe that every inclusion minimal covering set of every piece of tree is induced by single tuple and thus the class @xmath85 is defined by forbidden ( rooted ) homomorphism of structures covered by single tuple .",
    "this means that the generic graph @xmath83 has finite retract defined by all consistent combinations of new relations of its vertices .",
    "note that it is also possible to construct @xmath412 in a finite way without using the limit : for every possible combination of new relations on single vertex create single vertex of @xmath412 and then keep adding tuples as long as possible so @xmath412 is still in @xmath85 .",
    "finally , let us remark that one can prove that @xmath439 has a finite presentation in the sense of @xmath440 .",
    "[ aplikace ]    the situation of course changes if we consider more complicated ( non - monadic and non - trees ) lifted classes @xmath81 and in fact it has been proved in @xcite that any np language is polynomally equivalent to a class @xmath441 for a finite set @xmath80 set of lifted structures . as these structures may be supposed to be connected ( by adding dummy edges ) we have the following corollary of theorem [ univthm ] :    [ npu ] every np problem is polynomally equivalent to membership problem for a class @xmath63 where @xmath59 is shadow of an ultrahomogeneous structure @xmath439 .    constraint satisfaction problems @xmath414 for countable templates @xmath351 were investigated in @xcite and it has been shown there that the basic results of so called `` algebraic method '' @xcite hold also for @xmath442-categorical templates @xcite .",
    "recently , @xcite proved that @xmath414 for general countable template @xmath351 encodes any problem in np .",
    "it is not known whether @xmath351 may be chosen @xmath442-categorical .",
    "corollary [ npu ] complements this : lifts and shadows enable to code any np language by membership problem for ages of shadows of ultrahomogeneous structures .",
    "we turn briefly our attention to binary lifts .",
    "this relates some of the earliest results on universal graphs with recently intensively studied urysohn spaces :    [ urysohnsection ] we will consider a finite family @xmath78 consisting of graphs of odd cycles of lengths @xmath443 . as shown by @xcite",
    "( see also @xcite ) those families have universal graphs in @xmath444 and as shown by @xcite those are the only classes defined by forbidding a finite set of cycles .",
    "these classes also form especially easy families of pieces .",
    "in fact each piece is an undirected path of length at most @xmath5 , where @xmath5 is the length of longest cycle in @xmath78 with both ends of the patch being roots .",
    "this allows particularly easy description of the lifted structure .",
    "we use the following definition which is motivated by metric spaces .",
    "when specialized to graphs , this definition is analogous to ( corrected form ) of an @xmath445-structure @xcite .",
    "however this approach also gives new easy description ( i.e. finite presentation ) of the urysohn space @xcite .",
    "[ evenoddp ] pair @xmath446 is considered to be _ even - odd pair _",
    "if @xmath447 is even non - negative integer or @xmath17 and @xmath448 is odd non - negative integer or @xmath17 .    for even - odd pairs",
    "@xmath446 and @xmath449 we say that @xmath450 iff @xmath451 and @xmath452 .",
    "consider @xmath453 and @xmath454 .",
    "put : @xmath455    for a set @xmath298 , function @xmath456 from @xmath298 to even - odd pairs is called _ even - odd distance function on @xmath298 _ if following conditions are satisfied :    1 .   @xmath457 if and only if @xmath458 ; 2 .   @xmath459 ; 3 .   @xmath460 .    finally pair @xmath461 where @xmath456 is even - odd distance function for @xmath298 is called _ even - odd metric space_.    note that the even - odd metric spaces differ from usual notion of metric space primarily by the fact that the ordering of values of distance function is not linear , but forms a 2-dimensional partial order .",
    "some basic results about metric spaces are valid even in this setting .",
    "even - odd metric space can form a stronger version of the distance metric on the graph . for graph",
    "@xmath10 we can put @xmath462 where @xmath447 is length of the shortest walk of even length connecting @xmath226 and @xmath463 , while @xmath448 is the length of shortest walk of odd length .",
    "the even - odd distance metric specify length of all possible walks : for a graph @xmath10 and a even - odd distance metric @xmath456 we now have a walk connecting @xmath226 and @xmath463 of length @xmath447 iff @xmath464 such that @xmath465 for @xmath447 even or @xmath466 for @xmath447 odd .",
    "it is well known that universal and homogeneous metric space exists for several classes of metric spaces @xcite .",
    "analogously we have :    [ ulema ] there exists a generic even - odd metric space @xmath59 .",
    "we prove that class @xmath467 of all even - odd metric spaces is an amalgamation class .    to show that @xmath467 has the amalgamation property ,",
    "take a free amalgam @xmath88 of even - odd metric spaces @xmath21 , @xmath61 over @xmath62 .",
    "this amalgam is not even - odd metric space , since some distances are not defined .",
    "we can however define a walk from @xmath289 to @xmath468 of length @xmath5 in @xmath88 as a sequence of vertices @xmath469 and distances @xmath470 such that @xmath471 and @xmath472 is present in the even - odd pair @xmath473 for @xmath474 .",
    "we produce even - odd metric space @xmath59 on same vertex set as @xmath88 where distance of some vertices @xmath475 is even - odd pair @xmath476 such that @xmath5 is the smallest even value such that there exists walk joining @xmath447 and @xmath448 of length @xmath5 in @xmath88 .",
    "@xmath477 is the smallest odd value such that there exists walk from @xmath447 to @xmath448 of length @xmath477 .",
    "it is easy to see that @xmath59 is even - odd metric space ( every triangular inequality is supported by the existence of a walk ) and other properties of amalgamation class follows from definition .    the graphs omitting odd cycles up to length @xmath5 can be axiomatized by simple condition on their even - odd distance metric :",
    "there are no vertices @xmath478 such that @xmath462 where @xmath479 . denote by @xmath480 the class of all countable even - odd metric spaces such that there are no vertices @xmath478 such that @xmath462 with @xmath479 .",
    "the existence of universal and homogeneous even - odd metric space @xmath481 for class @xmath480 is simple consequence of lemma [ ulema ] .",
    "in fact @xmath482 is a subspace of @xmath59 induced by all those vertices @xmath282 of @xmath59 satisfying @xmath483 and @xmath484 .    for metric space @xmath481 denote by @xmath485 a graph on vertex set @xmath486 where @xmath487 iff @xmath488 .    for every choice of odd integer @xmath489",
    ", @xmath490 is universal graph for class of all graphs omitting odd cycles of length at most @xmath5 .",
    "graph @xmath490 is omitting odd cycles up to length @xmath5 from the fact that any two vertices @xmath478 on a odd cycle of length @xmath14 have distance @xmath462 where @xmath491 is at most @xmath5 .",
    "now consider any countable graph @xmath492 omitting odd cycles of length at most @xmath5 .",
    "construct corresponding even - odd distance metric space @xmath493 . by universality argument @xmath493",
    "is subspace of @xmath482 and thus also @xmath10 subgraph of @xmath490 .",
    "the explicit construction of the urysohn space , without using limit argument , is described in @xcite and same technique can be carried to even - odd metric .",
    "this is captured by the following definition .",
    "[ defu ] the vertices of @xmath494 are functions @xmath34 such that :    1 .",
    "the domain @xmath495 of @xmath34 is finite ( possibly empty ) set of functions and @xmath496 .",
    "2 .   the range of @xmath34 are even - odd pairs .",
    "3 .   for every @xmath497 and @xmath498 , we have @xmath499 .",
    "4 .   @xmath495 using metric @xmath500 defined bellow forms a even - odd metric space .",
    "@xmath34 defines an extension of even - odd metric space on vertices @xmath495 by adding a new vertex .",
    "this means that @xmath501 and for every @xmath502 we have @xmath503 and @xmath504 .",
    "the metric @xmath505 is defined by :    1 .   if @xmath506 then @xmath507 2 .   if @xmath508 then @xmath509 3 .   if @xmath497 then @xmath510 4 .",
    "if none of above holds then @xmath511 + minimum is taken elementwise on the pairs .",
    "[ generic ] @xmath512 is the generic even - odd metric space .    this may be seen as yet another incarnation of kattov functions @xcite , see also @xcite .",
    "we call pair @xmath513 a _ partition of structure _ @xmath514 if @xmath26 and @xmath155 are disjoint sets of vertices of @xmath514 and @xmath515 . we denote by @xmath21 the structure induced on @xmath26 by @xmath514 and by @xmath61 the structure induced on @xmath155 by @xmath514 .",
    "the structure @xmath514 is _ weakly indivisible _ if for every partion @xmath513 of @xmath100 for which some finite induced substructure of @xmath514 does not have copy in @xmath21 , there exists copy of @xmath514 in @xmath61 .    for finite minimal family of finite structures @xmath78",
    ", we call structure @xmath21 a _ minimal homomorphic image _ of @xmath86 iff @xmath21 is homorphic image of @xmath198 and every proper substructure of @xmath21 is in @xmath77 .          the construction of universal structures as shadows of ultrahomogeneous makes this result particularly easy to apply to obtain indivisibility results for universal structures for classes @xmath77 .",
    "this leads to the following partial classification of classes @xmath78 that do admit weakly indivisible structure universal for @xmath77 .      1 .",
    "the class @xmath77 contains universal structure that is weakly indivisible if every vertex minimal cut @xmath96 of every homomorphic image @xmath21 of @xmath86 is of size at least 2 and additionally the structure induced by @xmath21 on @xmath96 is connected and has no cuts of size 1 .",
    "all universal structures @xmath59 are divisible if there is a structure @xmath21 which is a minimal homomorphic image of @xmath86 such that @xmath21 contains cut @xmath96 of size 1 .    to prove @xmath516 , fix @xmath21 , a minimal homomorphic image of @xmath86 with vertex cut @xmath96 of size 1 .",
    "denote by @xmath517 all pieces of @xmath21 generated by cut @xmath96 .",
    "fix @xmath59 , universal structure for @xmath77 .",
    "denote by @xmath518 , @xmath519 set of all vertices @xmath282 of @xmath59 such that there is rooted homomorphism of @xmath203 to @xmath59 mapping root of @xmath203 to @xmath520 .",
    "structure induced on @xmath518 on @xmath59 is not universal as it does not contains a homomorphic image of @xmath130 .",
    "similarly structure induced on @xmath521 is not universal since there is no homomorphic image of @xmath109 . as a result @xmath59",
    "is divided to finitely many substructures such that none is universal resulting in divisibility of @xmath59 .",
    "@xmath522 follows from weak indivisibility of class @xmath85 . to apply theorem [ sauerthm ] we only need to show that class @xmath85 admits free vertex amalgamation",
    "this follows directly from the construction of amalgam in proof of theorem @xmath523 : the amalgam constructed is not free in general , every new tuple added has the property that there is homomorphism from the structure induced by cut generating the corresponding piece into the vertices of tuple .",
    "but since we have free amalgam of the shadow and since all cuts of all homomorphic images do not have cuts of size 1 , we have free vertex amalgamation property .    99 a. atserias : on digraph coloring problems and tree with duality . in : lics05 , ieee ( 2005 ) , 106115 .",
    "m. bodirsky , m. grohe : non - dichotomies in constraint satisfaction complexity ( in preparation ) .",
    "m. bodirsky , j. neetil : constraint satisfaction with countable homogeneous templates , ( m. baaz , j. a. makowsky , ed . ) computer science logic , 2003 , 4457 .",
    "a. bulatov , p. jeavons , a. krokhin : classifying the complexity of constraints using finite algebras .",
    "siam j. comput .",
    "34 ( 2005 ) , 720742 .",
    "j.  cameron : the random graph , in : the mathematics of paul erds ( ed .",
    "r.  l.   graham , j.  neetil ) , springer verlag ( 1998 ) , 333351 .",
    "g.  cherlin , s.  shelah , n.  shi : universal graphs with forbidden subgraphs and algebraic closure , advances in applied mathematics 22 ( 1999 ) , 454491 .",
    "g.  cherlin , n.  shi : graphs omitting a finite set of cycles , j. graph theory , 21 ( 1996 ) , 351355 .",
    "g.  cherlin , n .",
    "shi : forbidden subgraphs and forbidden substurctures , j. symbolic logic , 66(3 ) ( 2203 ) , 13421352 .",
    "g.  cherlin , n.  shi : graphs omitting sums of complete graphs , j. graph theory , 24 ( 1997 ) , 237247 .",
    "g.  cherlin , p.  komjth : there is no universal countable pentagon free graph , j. graph theory , 18 ( 1994 ) , 337341 .",
    "d. delhomm , c. laflamme , m. pouzet , w. sauer : divisibility of countable metric spaces , european j. combin .",
    "28 ( 6 ) ( 2007 ) , 17461769 .",
    "r. frass ' e : th ' eorie des relations , , north holland , 1986 .",
    "j.  foniok , j.  neetil , c.  tardif : generalised dualities and finite maximal antichains , graph - theoretic concepts in computer science ( f.v .",
    "fomin , ed . ) , lecture notes in comput .",
    "( 4271 ) , 2736 .",
    "a. hajnal , j. pach : monochromatic paths in infinite graphs , finite and infinite sets , coll .",
    "j. bolyai , 37 ( 1984 ) , ( eger , hungary , 1981 ) , 359369 .",
    "p. hell , j. neetil : graphs and homomorphisms , oxford university press ( 2004 ) .",
    "w.  hodges : model theory , _ cambridge university press _ , 1993 .",
    "j. hubika , j. neetil : finite presentation of homogeneous graphs , posets and ramsey classes , israel j. math 149 ( 2005 ) , 2144 a. s. kechris , v. g. pestov , s. todorcevic : frass ' e limits , ramsey theory , and topological dynamics of automorphism groups .",
    ", 15 ( 2005 ) , 106 - 189 .",
    "p. komjth , a. mekler , j. pach : some universal graphs , israel j. math .",
    "64(1988 ) , 158168 .",
    "komjth : some remarks on universal graphs , discrete math . 199 ( 1999 ) , 259265 .",
    "g.  kun , j.  neetil : np by means of lifts and shadows , mfcs07 , lecture notes in computer science 4708 , springer ( 2007 ) , 171181 .",
    "a. h. lachlan : on countable stable structures which are homogeneous for finite relational language , israel j. math .",
    "( 1984 ) , 69153 .",
    "a.  h.  lachlan , r.  e.  woodrow : countable ultrahomogeneous undirected graphs , trans .",
    "262 ( 1980 ) , 5194 .",
    "j. matouek , j. neetil : invitation to discrete mathematics , oxford univ .",
    "press 1998 , 2nd edition 2007 .",
    "j. neetil : for graphs there are only four types of hereditary ramsey classes , j. comb .",
    "b , 46(2 ) , ( 1989),127132 . j. neetil : ramsey theory . in : handbook of combinatorics ( ed .",
    "r. l. graham , m. gr \" otschel , l. lov ' asz ) , elsevier , 1995 , 13311403 .",
    "j. neetil j. hubika : a finite presentation of the rational urysohn space , topology and applications 155 ( 14 ) ( 2008 ) , 14831492 .",
    "j.  neetil , a.  pultr : on classes of relations and graphs determined by subobjects and factorobjects , discrete math . 22",
    "( 1978 ) , 287300 .",
    "j. neetil , v. rdl : chromatically optimal rigid graphs , j. comb .",
    "b , 46(2 ) , ( 1989 ) , 133141",
    ". j.  neetil , v.  rdl : simple proof of the existence of restricted ramsey graphs by means of a partite construction , combinatorica 1 ( 2 ) , ( 1981 ) 199202 . j.  neetil , v.  rdl : strong ramsey theorem for steiner systems , trans .",
    "( 1987 ) , 183192 .",
    "j.  neetil , c. tardif : duality theorems for finite structures ( characterizing gaps and good characterizations ) , j. comb .",
    "b , 80 , ( 2000 ) , 8097 . j.  neetil , c. tardif : short answers to exponentially long questions : extremal aspects of homomorphism duality , siam j. discrete math . 19 , no . 4 ( 2005 ) , 914920 . l. nguyen van th : thorie de ramsey structurale des espaces mtriques et dynamique topologique does groupes disomtries , universit paris 7 , 2006",
    ". b. rossman : existential positive types and preservation under homomorphisms . in : lics05 , ieee ( 2005 ) , 467476 .",
    "n. sauer : age and weak indivisibility , european j. combin . , submitted .",
    "v. v. uspenskij : on subgroups of minimal topological groups , topology and its applications 155 ( 14 ) ( 2008 ) , 15801606 ."
  ],
  "abstract_text": [
    "<S> this paper unifies problems and results related to ( embedding ) universal and homomorphism universal structures . on the one side we give a new combinatorial proof of the existence of universal objects for homomorphism defined classes of structures ( thus reproving a result of @xcite ) and on the other side this leads to the new proof of the existence of dual objects ( established by @xcite ) . </S>",
    "<S> our explicite approach has further applications to special structures such as variants of the rational urysohn space . </S>",
    "<S> we also solve a related extremal problem which shows the optimality ( of the used lifted arities ) of our construction . </S>",
    "<S> our method also relates to weakly indivisible homomorphism defined classes of structures . </S>"
  ]
}