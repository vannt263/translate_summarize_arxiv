{
  "article_text": [
    "geo - localization is the problem of determining the real - world geographic location ( gps coordinates ) of _ each pixel _ of a query image .",
    "it plays a key role in a wide range of real - world applications such as target tracking , change monitoring , navigation , etc .",
    "traditional geo - localization approaches deal with satellite and aerial imagery that usually involve different image sensing platforms and require accurate sensor modeling and pixel - wise geo - reference image , digital ortho - quad ( doq ) , @xcite and digital elevation map ( dem ) .",
    "recently , image geo - localization methods have been devised for coarse image level geo - localization instead of pixel - wise geo - localization pursued in traditional geo - localization methods .",
    "in particular , this problem has attracted considerable attention due to the availability of ground - level geo - tagged imagery @xcite . in these methods , the geo - location of a query image",
    "is obtained by finding its matching reference images from the same view ( ground - level google street view images ) , based on the assumption that a reference dataset consisting of geo - tagged images is available . however",
    ", such geo - tagged reference data may not be available .",
    "for example , ground - level images of some geo - graphical locations do not have geo - location information .",
    "an alternative is to predict the geo - location of a query image by finding its matching reference images from some other views .",
    "for example , predict the geo - location of a query street view image based on a reference database of bird s eye view images ( see figure  [ fig : cross_match ] ) .",
    "this becomes a cross - view image matching problem , which is very challenging because of the following reasons .",
    "1 ) images taken from different viewpoints are visually different .",
    "2 ) the images may be captured with different lighting conditions and during different seasons .",
    "3 ) the mapping from one viewpoint to the other may be highly non - linear and very complex .",
    "4 ) traditional low - level features like sift , hog , etc . may be very different for cross - view images as shown in figure  [ fig : sift_match ] .",
    "historically , viewpoint invariance has been an active area of research in computer vision .",
    "some of this work was inspired by classic work of biederman on recognition - by - components theory @xcite .",
    "it explains how humans are able to recognize objects by separating them into geons , which are based on 3d - shape like cylinders and cones .",
    "one important factor of this theory is view - invariance properties of edges curvature , parallel lines , co - termination , symmetry and co - linearity . in computer vision , over the years it has been demonstrated that directly detecting 3d shapes from 2d images is a very difficult problem .",
    "however , some of the view - invariance properties scale and affine invariance have been successfully used in local descriptors work of lowe @xcite and mikolajczyk @xcite . however , as illustrated in figure  [ fig : sift_match ] , sift point matching in high oblique view fails . in this paper",
    ", we investigate deep learning approaches for this problem and present a new cross - view image matching framework for geo - localization by automatically detecting , representing and matching the semantic information in cross - view images . instead of matching local features sift and hog , we perform cross - view matching based on buildings , which are semantically more meaningful and robust to viewpoints .",
    "therefore , we first employ the faster r - cnn @xcite to detect buildings in the query and reference images . then , for each building in the query image , we retrieve the @xmath0 matching nearest neighbors ( nns ) from the reference buildings using a siamese network @xcite trained on both positive and negative matching image pairs .",
    "the network learns a feature representation that transfers the original cross - view images to a lower dimensional feature space . in this learned feature space ,",
    "matching image pairs are close to each other and unmatched image pairs are far apart .",
    "to predict the geo - location of the query image , taking the location of the first nearest neighbor in reference images may not be optimal because in most cases the first nearest neighbor does not correspond to the correct match . since the gps locations of the detected buildings in the query image is close",
    ", the gps locations of their matched buildings in reference images should be close as well .",
    "therefore , besides local matching ( matching individual buildings ) , we also enforce a global consistency constraint in our geo - localization approach . to solve this problem instead of relying on the first nearest neighbor ,",
    "we employ multiple nearest neighbors and develop an efficient multiple nearest neighbors matching method based on dominant sets @xcite .",
    "the nodes in dominant sets form a coherent and compact set in terms of pairwise similarities .",
    "the final geo - localization result is obtained by taking the mean gps location of the selected reference buildings in the dominant set .",
    "the main contributions of this paper are three - fold :    @xmath1 we present a new image geo - localization framework by matching a query street view ( or bird s eye view ) image to a database of geo - tagged bird s eye view ( or street view ) images .",
    "in contrast to the existing works , which either match street - view imagery with street - view imagery or street view queries to aerial imagery , we consider both directions to comprehensively evaluate our approach .",
    "@xmath1 we develop an efficient multiple nearest neighbors matching method based on dominant sets , which is fast and scalable to large scale .",
    "@xmath1 we introduce a new large scale dataset which consists of pairs of annotated street view and bird s eye view images collected from three different cities in the united states .",
    "the large collections of geo - tagged images on the internet have fostered the research in geo - localization using ground - level imagery street view images @xcite .",
    "one assumption is that there is a reference dataset consisting of geo - tagged images .",
    "then , the problem of geo - locating a query image boils down to image retrieval .",
    "the geo - locations of the matching references are utilized to determine the location of the query image .",
    "schindler  @xcite explored geo - informative features on specific locations of a city to build vocabulary trees for city - scale geo - localization .",
    "hays and efros @xcite proposed the im2gps method to characterize geo - graphical information of query images as probability distributions over the earth s surface by leveraging millions of gps - tagged images .",
    "zamir and shah @xcite extracted both local and global appearance features from images and employed the generalized minimum clique problem ( gmcp ) @xcite for features matching between query and reference street - view images .",
    "recently , weyand @xcite introduced planet , a deep learning model that integrates several cues from images , for photo geo - localization and demonstrated superior performance over im2gps @xcite .",
    "although ground - level image - to - image matching approaches have achieved promising results , however , due to the fact that only small number of cities in the world are covered by ground - level imagery , it has not been feasible to scale up this approach to global level . on the other hand , a more complete coverage for overhead reference data such as satellite / areial imagery and digital elevation model ( dem )",
    "has spurred a growing interest in cross - view geo - localization @xcite .",
    "lin  @xcite proposed a cross - view image geo - localization approach using a training triplet including query ground - level images , the corresponding reference aerial images and land cover attribute maps to learn the feature translation between cross - view images .",
    "bansal  @xcite developed a method for matching facade imagery from different viewpoints relying on the structure of self - similarity of patterns on facades .",
    "a scale - selective self - similarity descriptor was proposed for facade extraction and segmentation .",
    "given all labeled descriptors in the bird s eye view database , facade matching of the street - view queries was done in a bayesian classification framework .",
    "lin  @xcite investigated the deep learning method for cross - view image geo - localization . a deep siamese network @xcite was used to learn feature embedding for image matching . one important limitation of this method is that it requires scale and depth meta data for street - view query images during testing , which is unrealistic .",
    "workman @xcite used existing cnns to transfer ground - level image feature representation to aerial images via a cross - view training procedure .",
    "vo  @xcite explored several cnn architectures with a new distance based logistic loss for matching ground - level query images to overhead satellite images .",
    "rotational invariance and orientation regression were incorporated during training to improve geo - localization accuracy .    in general , our method differs from the existing cross - view image matching approaches in three main aspects :    @xmath1 we propose to use buildings as the reference objects to perform image matching .",
    "such semantic information is more meaningful and robust to changes in viewpoint than local appearance - based features .",
    "@xmath1 we perform geo - localization by multiple nearest neighbors matching .",
    "moreover , unlike the existing cross - view image matching approaches which find the corresponding match reference images for the ( single ) query image , our method extends to multiple queries ( buildings in a query image ) matching , which provides a more flexible and accurate solution by taking the global consistency into account .",
    "@xmath1 finally , we do not require depth map or other meta data in our approach .",
    "the pipeline of the proposed method for cross - view geo - localization is shown in figure  [ fig : pipeline ] . in the following subsections ,",
    "we describe each step of our approach .",
    "to find the matching image or images in the reference database for a query image , we resort to match buildings between cross - view images since the semantic information of images is more robust to viewpoint variations than appearance features .",
    "therefore , the first step is to detect buildings in images .",
    "we employ the faster r - cnn @xcite to achieve this goal due to its state - of - the - art performance for object detection and real - time execution .",
    "faster r - cnn effectively unifies the convolutional region proposal network ( rpn ) with the fast r - cnn @xcite detection network by sharing image convolutional features .",
    "the rpn is trained end to end in an alternating fashion with the fast r - cnn network to generate high - quality region proposals . in our application ,",
    "the detected buildings in a query image serve as query buildings for retrieving the matching buildings in the reference images .      for a query building detected from the previous building detection phase ,",
    "the next step is to search for its matches in the reference images with known geo - locations .",
    "our goal is to find a good feature representation for cross - view images so that we can accurately retrieve the matched reference images for a query image .",
    "the siamese network @xcite has been utilized in image matching @xcite , tracking @xcite and retrieval @xcite .",
    "we adopt this network structure to learn deep representations in order to distinguish matched and unmatched building pairs in cross - view images .",
    "let @xmath2 and @xmath3 denote the street view and bird s eye view image training sets respectively .",
    "a pair of building images @xmath4 and @xmath5 are used as input to the siamese network which consists of two deep cnns sharing the same architecture . @xmath6 and",
    "@xmath7 can be a matched pair or a unmatched pair .",
    "the objective is to automatically learn a feature representation , @xmath8 , that effectively maps @xmath6 and @xmath7 from two different views to a feature space , in which matched image pairs are close to each other and unmatched image pairs are far apart . in order to train the network towards this goal",
    ", the euclidean distance of the matched pairs in the feature space should be small ( close to 0 ) while the distance of the unmatched pairs should be large .",
    "we employ the contrastive loss @xcite : @xmath9 where @xmath10 indicates if @xmath6 and @xmath7 is a matched pair , @xmath11 is the euclidean distance between the two feature vectors @xmath12 and @xmath13 , and @xmath14 is the margin parameter",
    ".      a simple approach for geo - localization will be , for each detected building in the query image , take the gps location of its nearest neighbor in reference images , according to building matching",
    ". however , this will not be optimal .",
    "in fact , in most cases the nearest neighbor does not correspond to the correct match .",
    "therefore , besides local matching ( matching individual buildings ) , we introduce a global constraint to help make better geo - localization decision . in a given query image , typically there are multiple buildings and their gps locations should be close . therefore , the gps locations of their matched buildings should be close as well .",
    "this is our global constraint during geo - localization .        for each detected building in the query image , @xmath0 nearest neighbors",
    "are selected from reference images based on building matching scores .",
    "the nearest neighbors for each query building form a cluster as shown in figure [ fig : geolocalization ] . an undirected edge - weighted graph @xmath15 with no self - loops",
    "is built using all the selected reference buildings .",
    "here , @xmath16 represents the set of nodes , one for each selected reference building .",
    "@xmath17 represents the edges .",
    "every pair of nodes which are not in the same cluster are connected by an edge .",
    "a weight is associated with each edge , reflecting similarity between pairs of linked nodes .",
    "let the graph @xmath18 be represented by an @xmath19 non - negative symmetric matrix @xmath20 , where elements of this matrix are populated by @xmath21 when node @xmath22 and node @xmath23 are connected by an edge , @xmath24 denotes the edge weight which measures the similarity between reference buildings @xmath22 and @xmath23 .",
    "@xmath25 is the distance between @xmath22 and @xmath23 s gps locations ( obtained from their corresponding images ) in cartesian coordinates , which is a global measure .",
    "@xmath26 is the similarity between query building and reference building @xmath22 based on their building matching score , which is a local measure .",
    "therefore edge weights incorporate both local matching information and gps - based global constraint .",
    "the goal of geo - localization is to select at most one reference building from each of the cluster , such that the total weight is maximized .",
    "we use dominant sets @xcite to solve this problem . for",
    "a non - empty subset @xmath27 , @xmath28 and @xmath29 , define @xmath30 which measures the relative similarity between nodes @xmath22 and @xmath23 , with respect to the average similarity between node @xmath22 and its neighbors in @xmath31 .",
    "then a weight defined recursively as following is assigned to each node @xmath28 : @xmath32 @xmath33 measures the overall similarity between node @xmath22 and the nodes of @xmath34 , with respect to the overall similarity among the nodes in @xmath34 . if @xmath33 is positive , adding node @xmath22 into its neighbors in @xmath31 will increase the internal coherence of the set . on the contrary , if @xmath33 is negative , the internal coherence of the set will be decreased if @xmath22 is added to its neighbor . finally , the total weight of @xmath31 is defined as @xmath35 a non - empty subset of nodes @xmath27 such that @xmath36 for any non - empty @xmath37 , is said to be a dominant set if    * @xmath38 , for all @xmath28 .",
    "* @xmath39 , for all @xmath40 .",
    "we use replicator dynamics algorithm to select a dominant set @xcite .",
    "the nodes in a dominant set form a coherent set both in terms of global and local measures .",
    "the final geo - localization result is obtained by taking the mean gps location of selected reference buildings in the dominant set .    in our dataset , four street view images and four bird s eye view images are taken at each gps location .",
    "each set of four images correspond to camera heading directions of @xmath41 , @xmath42 , @xmath43 and @xmath44 . when only one image is used as query ,",
    "the number of query buildings is usually small .",
    "typically , @xmath45 query buildings are used for multiple nearest neighbors matching in figure [ fig : geolocalization ] . to improve geo - localization accuracy , we propose to use a set of four images with different camera heading directions as query .",
    "figure [ fig:4views ] shows an example set of street view images with different heading directions . when they are used as query , more query buildings ( @xmath46 in this example )",
    "are detected and used for matching , thus improving the geo - localization accuracy .",
    "to explore the geo - localization task using cross - view image matching , we have collected a new dataset of street view and bird s eye view image pairs around downtown pittsburg , orlando and part of manhattan . for this dataset",
    "we use the list of gps coordinates from google street view dataset @xcite .",
    "the sampled gps locations in the three cities are shown in figure   [ fig : gps ] .",
    "there are @xmath47 , @xmath48 and @xmath49 gps locations in pittsburg , orlando and manhattan , respectively .",
    "we utilize dualmaps to generate side - by - side street view and bird s eye view images at each gps location with the same heading direction .",
    "the street view images are from google and the overhead @xmath50 bird s eye view images are from bing . for each gps location , four image pairs are generated with camera heading directions of @xmath41 , @xmath42 , @xmath43 and @xmath44 . in order to learn the deep network for building matching , we annotate corresponding buildings in every street view and bird s eye view image pair , which took roughly 300 hour of work .",
    "previous work on geo - localization by cross - view image matching have proposed several datasets .",
    "however , they are not suitable for our task . in the datasets presented in @xcite and @xcite , a large portion of the images do not contain any building .",
    "lin @xcite focus on matching cross - view buildings .",
    "however , the images in their collected dataset are aligned such that each image contains exactly one building .",
    "we explore geo - localization problem in urban environments by matching cross - view buildings . in our dataset ,",
    "no careful image alignment is applied and every image usually contains multiple buildings .      to evaluate how the proposed approach generalizes to unseen city , we hold out all images from manhattan exclusively for testing .",
    "part of images from pittsburg and orlando are used for training .",
    "since the sampled gps locations are dense , one building may appear in multiple images with similar gps coordinates .",
    "especially , the bird s eye view images cover a relatively large area and may overlap with each other .",
    "therefore , we divide images from pittsburg and orlando into training and test set based on the gps coordinates .",
    "we take approximately one fifth of the images as training set and the rest as test set .",
    "the train - test split is shown in figure  [ fig : gps ] .    in order to train building detectors , we annotate all buildings in around @xmath51 image pairs from training set .",
    "this results in @xmath52 annotated buildings in street view and @xmath53 annotated buildings in bird s eye view .",
    "a separate building detector is trained for street view and bird s eye view .",
    "we note that the building detectors generate high - accuracy results without the need to annotate buildings in the whole training set .    to learn the siamese network , we annotate corresponding buildings in all the street view and bird s eye view image pairs from the training set .",
    "one siamese network is learned by combining training data in pittsburg and orlando .",
    "positive building pairs come from annotation and negative building pairs are randomly generated by pairing unmatched buildings .",
    "@xmath54 positive building pairs are annotated for training . for both training and test sets ,",
    "the number of negative building pairs is @xmath55 times more than that of positive building pairs .",
    "the geo - localization experiments are performed on a mixed test set of pittsburgh and orlando .      to train the building detectors , the default setup of faster r - cnn @xcite",
    "is employed .",
    "two building detectors are learned for street view images and bird s eye view images respectively . for the siamese network , the two sub - networks share the same architecture and weights .",
    "alexnet @xcite is used for the sub - networks .",
    "the learning rate of the last fully connected layer is set to @xmath56 and the learning rates of all the other layers are set to @xmath57 .",
    "we use batch size of @xmath58 .",
    "the image features obtained by the two sub - networks are fed into an l2 normalization layer separately before they are used to compute contrastive loss .",
    "the l2 normalization layer normalizes the two feature vectors to the same scale and make the network easier to learn . the euclidean distance between two feature vectors is thus upper - bounded by @xmath59 .",
    "the margin in the contrastive loss is set to @xmath60 .",
    "we use the cnn trained on imagenet @xcite as pre - trained model and fine - tune it on our dataset .    for dominant sets , @xmath61 is set to @xmath62 and @xmath63 is set to @xmath64 when defining edge weights in graph @xmath18 .      * building detection . * figure  [ fig : building_detection ] shows examples of the building detection results in both street view and bird s eye view images .",
    "each detected bounding box is assigned a score .",
    "as evident from the figure , faster r - cnn can achieve very good building detection results for both street view and bird s eye view images .",
    "even for crowded scene where buildings occlude each other , faster r - cnn is able to detect them successfully .",
    "* building matching .",
    "* to evaluate the building matching performance , we show the precision - recall curves on test image pairs in figure  [ fig : building_match ] .",
    "our fine - tuned model achieves average precision ( ap ) of @xmath65 compared that of @xmath66 for the pre - trained model .",
    "we also present visual examples of cross - view image matching in figure  [ fig : building_match_visual ] .",
    "the top 8 matched reference images are shown in the ranking order for each query image .",
    "* number of selected nearest reference neighbors ( @xmath0 ) .",
    "* we compare the geo - localization result by varying the number of selected nearest reference neighbors , @xmath0 in figure [ fig : comparek ] .",
    "street view images usually contain less buildings compared to bird s eye view images .",
    "therefore , in order to achieve reasonable geo - localization results , more reference nearest neighbors should be considered when the query image is from street view . in our experiments , @xmath0 is set to @xmath67 when the query image is from street view while @xmath0 is set to @xmath68 when the query image is from bird s eye view .",
    "figure  [ fig : geolocalization_results ] compares the geo - localization results by using sift matching , random selection , building matching employing @xmath60 view query image and building matching using @xmath45 views query images ( as shown in ( figure  [ fig:4views ] ) ) . for the approach of random image selection , we take the gps of a randomly selected reference image as the final result for each query image .",
    "it is obvious that geo - localization by building matching , which leverages the power of deep learning , outperforms that by matching hand - crafted local feature sift .",
    "also , our proposed approach outperforms random selection by a large margin . moreover , query with @xmath45 images of four directions at one location improves the geo - localization accuracy by a large margin compared to using only @xmath60 image as a query .",
    "* building matching vs. full image matching . * to demonstrate the advantage of using building matching for cross - view image geo - localization , we conduct an experiment by training a siamese network to match full images directly , which was used in the existing methods such as @xcite . no building detection is applied to images .",
    "pairs of images taken at the same gps location with the same camera heading direction are used as positive training pairs to siamese network .",
    "negative training image pairs are randomly sampled .",
    "the network structure and setup is the same as the siamese network for building matching . during testing",
    ", the gps location of a query image is determined by its best match and no multiple nearest neighbors matching process is necessary .",
    "experiments using @xmath60 image as query and @xmath45 views as query images are performed and the results are illustrated in figure [ fig : geolocalization_results ] .",
    "geo - localization by full image matching performs worse compared to building matching using @xmath45 views query images .    * dominant sets vs. gmcp @xcite . * to demonstrate the efficiency and effectiveness of using dominant sets for multiple nearest neighbors matching , we compare it with gmcp in terms of both runtime and performance .",
    "the runtime comparison is illustrated in figure  [ fig : runtime ] .",
    "the runtime of gmcp increases intensively by increasing either the number of clusters @xmath69 or the number of nearest neighbors @xmath0 . while dominant set is very efficient .",
    "furthermore , we compare the geo - localization results by using dominant set and gmcp in figure [ fig : gmcpvsds ] . since the computational complexity of gmcp increases extremely fast when @xmath69 or @xmath0 increases , and using gmcp to solve our problem is infeasible when @xmath69 or @xmath0 is large , we conduct the experiment using @xmath60 bird s eye view image as query and set @xmath0 to @xmath68 . for almost all the error thresholds ,",
    "dominant set achieves better geo - localization accuracies than gmcp . in summary , using dominant set for multiple nearest neighbors matching in our geo - localization framework gives more accurate geo - localization results while being computationally efficient .",
    "view of bird s eye view image as query and @xmath0 is set to @xmath68 . ]      in this section , we verify if the proposed method can generalize to unseen cities .",
    "specifically , we use images from the city of pittsburgh and orlando to train the model ( building detection and building matching ) and test it on images of the manhattan area in new york city .    as can be seen by the gps locations in manhattan area in figure [ fig : gps ] , this geo - localization experiment works on city scale .",
    "in addition , tall and crowded buildings are common in manhattan images , making the geo - localization task very challenging .",
    "the geo - localization results in the manhattan area are shown in figure [ fig : manhattan_results ] .",
    "the curves for manhattan images are lower than those in figure [ fig : geolocalization_results ] because the test area in this experiment is much larger .",
    "the fact that our geo - localization results are still much better than the baseline method - sift matching demonstrate the ability of generalization of our proposed approach to unseen cities .",
    "in this paper we propose an effective framework of cross - view image matching for geo - localization , which localizes a query image by matching it to a database of geo - tagged images in the other view .",
    "our approach utilizes deep learning based techniques for building detection and cross - view building matching .",
    "the final geo - localization results are achieved by matching multiple query buildings using dominant sets .",
    "in addition , we introduce a new large scale cross - view dataset consisting of pairs of street view and bird s eye view images . on this dataset ,",
    "the experiments show that our method outperforms other approaches for cross - view geo - localization . in our future work",
    ", we are going to extend our approach to areas that may not contain any building by exploring matching other objects and semantic information , road structure , water reservoirs , etc .",
    "in that case , the idea of buildings matching can be generalized to multiple attributes matching ."
  ],
  "abstract_text": [
    "<S> in this paper , we address the problem of cross - view image geo - localization . specifically , we aim to estimate the gps location of a query street view image by finding the matching images in a reference database of geo - tagged bird s eye view images , or vice versa . to this end </S>",
    "<S> , we present a new framework for cross - view image geo - localization by taking advantage of the tremendous success of deep convolutional neural networks ( cnns ) in image classification and object detection . </S>",
    "<S> first , we employ the faster r - cnn @xcite to detect buildings in the query and reference images . </S>",
    "<S> next , for each building in the query image , we retrieve the @xmath0 nearest neighbors from the reference buildings using a siamese network trained on both positive matching image pairs and negative pairs . to find the correct nn for each query building </S>",
    "<S> , we develop an efficient multiple nearest neighbors matching method based on dominant sets . </S>",
    "<S> we evaluate the proposed framework on a new dataset that consists of pairs of street view and bird s eye view images . </S>",
    "<S> experimental results show that the proposed method achieves better geo - localization accuracy than other approaches and is able to generalize to images at unseen locations . </S>"
  ]
}