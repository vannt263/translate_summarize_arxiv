{
  "article_text": [
    "a catalan problem is any enumerative problem that produces the catalan sequence of numbers or one of its many @xmath3-analogs .",
    "stanley  @xcite provides a catalog of @xmath4 catalan problems .",
    "interestingly , many of the generating functions that arise from these problems can be given as a continued fraction with a simple yet elegant form .",
    "two of these generating functions are reproduced below and a third we derive anew .",
    "our intent is to show that the first two continued fractions are special instances of the third with the implication that many others are as well .",
    "we begin with the three catalan problems and their corresponding generating functions .",
    "* problem 1*. a @xmath0 pattern ( respectively , a @xmath5 pattern ) in a permutation @xmath6 of length @xmath7 is a triple @xmath8 of indices for which @xmath9 ( respectively , @xmath10 ) . let @xmath11 denote the number of permutations @xmath6 of length @xmath7 that have no @xmath0 patterns and exactly @xmath12 @xmath5 patterns .",
    "recently , robertson , wilf and zeilberger  ( @xcite ) derived the generating function    @xmath13    in which the @xmath14th numerator is @xmath15 ( @xmath14 is for _ level _ in anticipation of problem 3 ) .    *",
    "problem 2*. the number of lattice paths from @xmath16 to @xmath17 with steps @xmath18 and @xmath19 that never rise above the line @xmath20 is a catalan number .",
    "let @xmath21 be such a path , @xmath22 the area under the path ( and above the @xmath23-axis ) , and let @xmath24 .",
    "then a generating function is given by ( see exercise 6.34 in stanley  @xcite and replace the @xmath23 therein with @xmath25 )    @xmath26    in which the @xmath14th numerator is @xmath27 .",
    "* problem 3*. the number of ordered trees ( also known as plane trees ) on @xmath7 edges is a catalan number .",
    "the _ level _ of a vertex is the number of edges on the unique path from the root to the vertex .",
    "thus , the root is the unique vertex at level zero and the vertices at level one are adjacent to the root .",
    "let @xmath28 be the number of ordered trees that have @xmath29 vertices at level @xmath30 and let @xmath31 , @xmath32 , be indeterminates .",
    "the generating function @xmath33 that enumerates ordered trees by the number of vertices at each level is defined as    @xmath34 the first few terms ( number of edges @xmath35 ) of @xmath33 are @xmath36 that @xmath33 can be written as a continued fraction that subsumes the previous continued fractions is our main result .",
    "it is simple , yet has some interesting applications .",
    "[ t : main ] the generating function that enumerates ordered trees by the number of vertices at each level is @xmath37    we exploit the natural recursive property of ordered trees to obtain a recursion for @xmath33 .",
    "the recursion immediately leads to the continued fraction .",
    "any ordered tree on more than one vertex can be constructed from a collection of others ( the subtrees ) by joining the roots of these subtrees to a new vertex .",
    "the new vertex becomes the root of the tree under construction .",
    "note that the level of a vertex in a subtree _ increases by one _ after the new root is inserted .",
    "the function @xmath38 enumerates the choices for a subtree and each of these choices contributes a factor of @xmath39 because of the level changes .",
    "the factor of @xmath40 is present because the root of the subtree becomes a vertex at level one .",
    "thus , the trees with @xmath1 subtrees ( of the root ) are enumerated by @xmath41 . the generating function",
    "satisfies @xmath42 iteration of the last functional recursion produces the continued fraction .",
    "an immediate application is obtained by replacing each indeterminate @xmath31 with @xmath43 denoted simply as @xmath44 .",
    "the resulting function enumerates ordered trees by the number of edges and is @xmath45 the well - known solution of the above generates the catalan numbers and is @xmath46 .",
    "the more challenging applications are the evaluations needed to produce the continued fractions of permutations ( equation  [ e : gen1 ] of problem 1 ) and lattice paths ( equation  [ e : gen2 ] of problem 2 ) .",
    "both applications require that we map their respective problems to an ordered - tree problem .",
    "these mappings are of interest in their own right and we explore them now .",
    "we begin with the lattice path problem because it is simpler and the mapping is already known .",
    "we draw our ordered trees with the root at the top and proceed downward to the leaves .",
    "the first leaf is the leftmost leaf in the drawing and the remaining leaves are referred to by their positions in a left - to - right order . a preorder ( depth - first ) traversal of the ordered tree provides a well - known correspondence with a lattice path . when an edge of the tree is traversed downward away from the root",
    "we take a @xmath18 ( east ) step in the lattice , otherwise we take a @xmath19 ( north ) step . in this manner ,",
    "an ordered tree with @xmath7 edges corresponds to a unique lattice path from @xmath16 to @xmath17 .",
    "if the path @xmath21 corresponds to the tree @xmath33 , then we need to determine what statistic of the tree corresponds to the area @xmath22 under the path .",
    "we let @xmath47 be this statistic of the tree and claim that it depends only on the vertex levels .",
    "[ l : paths ] if @xmath33 is an ordered tree on @xmath7 edges , then @xmath48 where @xmath49 is the level of vertex @xmath50 .",
    "let @xmath51 be the rightmost leaf of the tree @xmath33 .",
    "our immediate interest is to calculate the area under the east step that arises in the lattice path by traversing the last edge to this leaf downward away from the root .",
    "this area is equal to the height that the east step has in the lattice path and is equal to the number of north steps that have occurred prior to the east step .",
    "there are a total of @xmath7 north steps in the lattice path ( one for each edge of the tree ) and @xmath52 remaining north steps after the east step .",
    "hence , the east step is at height @xmath53 in the lattice .",
    "if we now delete the leaf @xmath51 from the tree @xmath33 , then the resulting tree has a lattice path with area @xmath53 less than that of @xmath33 .",
    "a formal inductive argument on the number of edges provides the result .",
    "we use the lemma to prove the following continued - fraction result .",
    "the result is the same as that given in equation  [ e : gen2 ] .",
    "[ t : area ] if @xmath54 enumerates the set of ordered trees on @xmath7 edges by the area under their corresponding lattice paths , then @xmath55 in which the @xmath14th numerator is @xmath27 .",
    "let @xmath33 be an ordered tree on @xmath7 edges and assign to every nonroot vertex at level @xmath56 the value @xmath27 .",
    "the product of all these values is then @xmath57 .",
    "summing over all ordered trees on @xmath7 edges we have by the lemma @xmath58 the sum of these over all @xmath59 then enumerates ordered trees and the generating function is given by the continued fraction of theorem  [ t : main ] with @xmath60 .",
    "the previous problem used an existing bijection between the set of ordered trees and the set of lattice paths to get the desired result . we seek a similar approach for ordered trees and permutations .",
    "there are many ways to map a permutation onto a tree ( often an unordered tree ) but none of these serve our needs .",
    "the mapping we introduce appears to be new .",
    "let @xmath33 be an ordered tree on @xmath7 edges .",
    "we use a preorder traversal of @xmath33 to label the nonroot vertices in decreasing order with the integers @xmath61 .",
    "thus , the first vertex visited gets the label @xmath7 and the last receives @xmath62 .",
    "we now construct a permutation written as a word by _ reading _ the labeled tree in _ postorder_. we again traverse the tree from left to right and record the label of a vertex when we last visit it .",
    "in catalan fashion , the five ordered trees and their corresponding permutations are shown in figure  [ f : one ] . note that the only permutation missing from those of length three is @xmath63 . the ( 132 ) pattern has been avoided .",
    "also note that there is exactly one permutation with a ( 123 ) pattern ( the first permutation shown ) .",
    "thus , recalling the definition of @xmath11 given in the introduction we have @xmath64 , @xmath65 , and @xmath66 .",
    "we generalize these observations after introducing some useful notation .",
    "if @xmath33 is an ordered tree on @xmath7 edges , then we let @xmath67 be its corresponding permutation written as a word on the numbers @xmath68 .",
    "we let @xmath69 be the same permutation except we use the corresponding numbers @xmath70 . for example , the first tree shown in the figure has @xmath71 and @xmath72 . for emphasis",
    ", we denote the concatenation of two words @xmath6 and @xmath73 as @xmath74 ( instead of the usual @xmath75 ) .",
    "the following lemma describes how the permutation of a tree can be constructed from those of its subtrees .",
    "note that @xmath78 is the total number of vertices to be labeled , that @xmath81 is the total number of vertices to be labeled after those of the subtree @xmath82 , and so on .",
    "since the vertices of @xmath33 are labeled in decreasing order using a preorder traversal , @xmath83 implies that all vertices of @xmath84 receive labels greater than those of @xmath85 .",
    "since @xmath67 is constructed by reading these labels in postorder , @xmath83 implies that the vertex labels in @xmath84 appear in @xmath67 before any of those in @xmath85 .",
    "thus , @xmath67 begins as @xmath86 with each number incremented by @xmath81 , i.e. , as @xmath87 .",
    "the root of this subtree is the first vertex visited in the preorder traversal and receives the label @xmath88 .",
    "it is read last among the vertices of @xmath82 in postorder , however , so that @xmath67 begins as @xmath89 .",
    "the general case follows similarly .",
    "note that the lemma also provides the means to prove that the mapping @xmath90 is injective . that it is onto the set of all @xmath0-pattern avoiding permutations",
    "is proved in the next theorem . before proceeding to this theorem we present another lemma which enables us to count @xmath5 patterns and their generalization .",
    "an _ increasing _ pattern of _ length _",
    "@xmath1 , @xmath32 , in a permutation @xmath6 of length @xmath7 is a @xmath1-tuple @xmath91 of indices for which @xmath92 .",
    "[ l : increase ] let @xmath33 be an ordered tree on @xmath7 edges and @xmath93 a subset of @xmath1 vertices , @xmath94 , none of which are the root , then the labels of these vertices provide an increasing pattern of length @xmath1 in @xmath67 if and only if they lie along a path from the root to some leaf .",
    "we induct on @xmath7 . if @xmath95 , then @xmath96 and the lemma is obvious .",
    "in fact , this is the case for all @xmath7 whenever @xmath96 .",
    "we assume that the lemma is true for any ordered tree on @xmath7 or fewer edges , @xmath97 , and let @xmath33 be a tree on @xmath98 edges .",
    "suppose that @xmath67 contains an increasing pattern of length @xmath99 .",
    "we let @xmath100 be the vertex in @xmath33 that provides the @xmath101 in such a pattern , @xmath102 .",
    "then @xmath31 must receive a larger label than @xmath40 implies that the subtree containing @xmath31 precedes or is the same as that of @xmath40 ( see the proof of lemma  [ l : perm ] ) .",
    "however , the label of @xmath31 must be read after that of @xmath40 implies that its subtree must follow or be the same as that of @xmath40 .",
    "the conclusion is that they are in the same subtree .",
    "a similar argument applies to @xmath100 and @xmath40 , @xmath103 , so that all the vertices must be in the same subtree , say @xmath84 .",
    "thus , the increasing pattern of length @xmath1 lies entirely within @xmath104 .",
    "recall that it is the root of the subtree that receives the label @xmath105 .",
    "if the root of the subtree is one of the vertices providing the increasing pattern , then it must be @xmath31 .",
    "we must consider two cases depending on whether the subtree root is @xmath31 or not .",
    "if it is not , then the pattern lies entirely within @xmath106 and corresponds uniquely to an increasing pattern of length @xmath1 in @xmath107 . by the inductive hypothesis , the vertices @xmath108 must lie along some path from the root of the subtree to a leaf . necessarily",
    ", this is also a path from the root of @xmath33 to a leaf as required by this lemma .",
    "if the root of the subtree is @xmath31 , then @xmath109 provide the labels for an increasing pattern of length @xmath110 in @xmath106 .",
    "this pattern corresponds to a unique increasing pattern of length @xmath110 in @xmath107 and again by hypothesis the vertices @xmath109 must lie along a path from the root of the subtree to some leaf of the subtree .",
    "this path together with the root of the subtree provides the needed path of this lemma .",
    "conversely , if @xmath111 is a subset of nonroot vertices of @xmath33 , where we may assume the label of @xmath100 is less than that of @xmath112 whenever @xmath83 , and the vertices lie along a path from the root to a leaf , then @xmath100 lies below @xmath112 on this path whenever @xmath83 .",
    "thus , when the labels are read in postorder , the label of @xmath100 is read prior to that of @xmath112 , @xmath83 .",
    "the vertices then provide an increasing pattern of length @xmath1 in @xmath67 .",
    "the two previous lemmas enable us to prove the following interesting combinatorial theorem .",
    "its corollary establishes a continued fraction as the generating function of @xmath0-avoiding permutations by number of increasing patterns of length @xmath1 .",
    "[ t : perm ] a permutation @xmath6 avoids the @xmath0 pattern if and only if @xmath113 for some tree @xmath33 .",
    "if this is the case , then the number of increasing patterns of length @xmath1 depends only on the levels of the vertices in the tree and is given by @xmath114 .",
    "suppose that @xmath67 contains a @xmath0 pattern and that @xmath33 is among the smallest such trees .",
    "we let @xmath115 be a vertex in @xmath33 that provides the @xmath116 in such a pattern and let @xmath117 be the vertices that provide the corresponding @xmath62 and @xmath118 , respectively .",
    "then @xmath115 must receive a larger label than @xmath40 implies that the subtree containing @xmath115 precedes or is the same as that of @xmath40 ( see the proof of lemma  [ l : perm ] ) .",
    "however , the label of @xmath115 must be read after that of @xmath40 implies that its subtree must follow or be the same as that of @xmath40 .",
    "the conclusion is that they are in the same subtree .",
    "a similar argument applies to @xmath119 and @xmath40 so that all three vertices must be in the same subtree , say @xmath84 .",
    "also note that none of them can be the root of the subtree since the root receives the largest label among the vertices of the tree and , hence , can not be @xmath40 or @xmath119 .",
    "its label appears later in @xmath67 than the others in the subtree implies that the root can not be @xmath115 .",
    "thus , the @xmath0 pattern lies entirely within @xmath106 which implies that @xmath107 itself must have a @xmath0 pattern contradicting our choice of @xmath33 . since the number of @xmath0-pattern avoiding permutations of length @xmath7 and the number of ordered trees on @xmath7 edges are the same catalan number , the mapping @xmath120 is a bijection between these sets .",
    "it is an instructive exercise to construct @xmath33 from a @xmath0-pattern avoiding permutation .",
    "it remains to determine the number of increasing patterns of length @xmath1 in @xmath121 . as a result of lemma  [ l : increase ]",
    "it is only necessary to count the number of vertex subsets of size @xmath1 , none of which are the root , such that the vertices lie along a path from the root to a leaf .",
    "we claim this number is @xmath122 as stated . to see this ,",
    "let @xmath50 be any vertex of @xmath33 and choose @xmath123 .",
    "there are @xmath124 nonroot vertices other than @xmath50 along the unique path from the root to @xmath50 . from these we select any @xmath110 of them , which together with @xmath50 , form the required subset .",
    "it is clear that every subset with the required properties arises this way and we are done .",
    "we now use the theorem to write a generating function as a continued fraction .",
    "we let @xmath125 denote the number of permutations of length @xmath7 that have no @xmath0 pattern and exactly @xmath12 increasing patterns of length @xmath1 .",
    "the case @xmath2 is that considered by robertson , wilf and zeilberger  @xcite .",
    "[ c : perm ] the generating function that enumerates @xmath0-pattern avoiding permutations of length @xmath7 by number of increasing patterns of length @xmath1 is @xmath126 in which the @xmath14th numerator @xmath127 is @xmath128 .",
    "let @xmath33 be an ordered tree on @xmath7 edges and assign to every nonroot vertex at level @xmath56 the value @xmath129 .",
    "the product of all these values is then @xmath130 and the result follows from the previous theorem and theorem  [ t : main ] ."
  ],
  "abstract_text": [
    "<S> we find a generating function expressed as a continued fraction that enumerates ordered trees by the number of vertices at different levels . </S>",
    "<S> several catalan problems are mapped to an ordered - tree problem and their generating functions also expressed as a continued fraction . among these problems is the enumeration of @xmath0-pattern avoiding permutations that have a given number of increasing patterns of length @xmath1 . </S>",
    "<S> this extends and illuminates a result of robertson , wilf and zeilberger for the case @xmath2 . </S>"
  ]
}