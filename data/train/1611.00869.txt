{
  "article_text": [
    "current real - time video applications , such as video teleconferencing , the ippp video encoding structure is widely used to satisfy stringent delay constraints .",
    "the first frame of the video sequence is intra - coded , and each of the other frames is encoded by using the immediately preceding frame as the reference for motion compensated prediction .",
    "when transmitted in a lossy channel , a packet loss affects not only the corresponding frame but also the subsequent frames , which is called error propagation . to deal with packet losses , macroblock ( mb )",
    "intra refresh @xcite may be used , where some mbs of each frames are intra - coded .",
    "this can alleviate the error propagation at the expense of lower coding efficiency .    in this paper , we consider that the video destination feeds back the packet loss information to the video encoder to trigger the insertion of an instantaneous decoding refresh ( idr ) frame @xcite , which is intra - coded , so that the subsequent frames are free of error propagation .",
    "this is one of the reactive packet loss mitigation methods used in webrtc @xcite .",
    "specifically , the packet loss information can be sent by the receiver via an rtp control protocol ( rtcp ) @xcite packet containing the index of the frame to which the lost packet belongs . after receiving this information",
    ", the video encoder decides whether the packet loss creates a new error propagation interval .",
    "if the index of the frame to which the lost packet belongs is less than the index of the last idr frame , the video encoder will do nothing . in this case , the packet loss occurs during an existing error propagation interval , and a new idr frame has already been generated which will stop the error propagation .",
    "otherwise , the packet loss creates a new error propagation interval , and the video encoder encodes the current frame in the intra mode to stop the error propagation .",
    "the duration of error propagation depends on the feedback delay , which is at least a round trip time ( rtt ) between the video encoder and decoder .",
    "another approach to alleviating error propagation is recurring idr frame insertion @xcite , where a frame is intra - coded after every fixed number of p frames , which is not considered in this paper .    in ieee",
    "802.11 mac , when a transmission is not successful , a retransmission will be performed until the retry limit is exceeded .",
    "the retry limit is the maximum number of transmission attempts for a packet @xcite , and a packet that could not be transmitted after this many attempts is discarded by the mac .",
    "the ieee 802.11 standard defines two retry limits : short retry limit for the packets with a length less than or equal to the rts / cts threshold , and long retry limit for the packets with a length greater than the rts / cts threshold @xcite . in this paper , the use of rts / cts is disabled as is often seen in practice , and we only consider the short retry limit , which is denoted by @xmath0 .",
    "the importance of a video packet depends on not only the type of frames that a video packet carries but also the events that have happened in the network .",
    "network events include packet losses or excessive delays .",
    "for example , for a given p frame , being the second lost packet may not have as much impact as being the first lost packet .",
    "the dynamic nature of network events makes the importance of a video packet also dynamic .",
    "the impact of network events on the video quality is often overlooked in most of the existing resource allocation algorithms . as a result ,",
    "packet differentiation is static and depends only on the video encoding structure , such as recurring idr frame insertion and scalable video coding ( svc ) @xcite .",
    "for instance , svc separates video packets into different substreams based on which layer a video packet belongs to , and conveys the priority level information of the substreams to the network , which then allocates more resources to the substreams with higher priorities .",
    "the prioritization based on svc is static , as the priority of a video packet is determined at the time of video encoding and fixed throughout the lifetime of the video packet .",
    "we propose a mac layer optimization method that adapts the retry limit to both video frame types and the network events . according to the importance of the video packets , we dynamically assign retry limits ; less important video packets are assigned a lower retry limit , and the saved retransmission opportunities or the earned credit is shifted to the more important video packets without increasing the total contention to the competing traffic .",
    "this idea is reminiscent of the one in @xcite , where the secondary spectrum users earn credit by assisting the transmission of the primary spectrum users and consume the credit in accessing the spectrum at a later time .",
    "we also present an analytic model to evaluate the performance of our proposed method . in the literature ,",
    "model - based throughput analyses for the ieee 802.11 standard are proposed in @xcite-@xcite . in this paper , our focus is on the impact on the video quality resulting from our proposed mac layer optimization method . considering the transmission of cross traffic , a compatibility condition is also required to guarantee that cross traffic will not be negatively affected . by using simulations ,",
    "we show that the throughput of cross traffic remains almost the same compared to that for the scenario where mac layer optimization is not used .",
    "the proposed method and the analytic model are investigated under the assumption that no forward error correction ( fec ) is performed .",
    "however , as we show , it is not difficult to modify the proposed method to be compatible with fec .",
    "the remainder of this paper is organized as follows .",
    "section [ sec : motivation ] gives the motivation of our proposed method .",
    "section [ sec : prop_method ] describes our proposed method .",
    "section [ sec : model ] presents an analytic model .",
    "section [ sec : simu ] gives the simulation results .",
    "section [ sec : conl ] concludes this paper .",
    "in video teleconferencing , one of the most important communication networks is that the video sender connects through wifi to the core internet , and eventually connects to the video receiver , as illustrated in fig .",
    "[ fig : topo_s ] . considering",
    "that packet losses occur most likely in the wifi link , optimization in the wifi link may improve the video receiver s quality of experience ( qoe ) significantly .",
    "modification at the wifi access point ( ap ) is difficult to implement , and often affects other users performance in the same wifi network .",
    "thus , in this paper , our objective is to design a mac layer optimization at the video sender to improve the qoe at the video receiver .",
    "there are qoe models in the literature @xcite-@xcite .",
    "these models are essential to qoe - driven network resource allocation @xcite-@xcite . however , most of the qoe models assume the availability of qos parameters such as the video bit rate , frame rate and packet loss probability .",
    "these parameters are not suitable for our mac layer optimization , because the video bit rate and frame rate are controlled by the video teleconferencing applications , and the packet loss probability is determined by the wireless channel condition and the cross traffic from other users in the same wifi network .",
    "instead , our proposed method tries to reduce the number of frozen frames to achieve better qoe . to avoid visual artifacts ,",
    "some video teleconferencing applications , such as facetime @xcite , hangouts @xcite and skype @xcite , choose to present the most recent error - free frame instead of erroneous frames .",
    "the video receiver freezes the video during an error propagation period , which is called a frozen interval , and the frames presented during this period are called frozen frames . in this paper , we consider the freeze time as the performance metric .",
    "given a constant frame rate , calculating the freeze time is equivalent to counting the number of frozen frames .",
    "it is desirable to establish the relationship between the fraction of frozen frames to the mean opinion score ( mos ) , where the frozen frames occur in groups , each lasing for a time period equal to the packet loss feedback delay .",
    "therefore , we perform a subjective experiment to characterize how the fraction of frozen frames affects the qoe . we adopt the single stimulus absolute category rating with hidden reference ( acr - hr ) method to obtain the quality scores @xcite .",
    "ten observers are first asked to watch a training session , containing two basketball passing video sequences with no frozen frames and the most frozen frames , respectively .",
    "then , with the training session in mind , the observers view five video sequences in a random order , all of which are the foreman sequences but with the fraction of frozen frames varying from @xmath1 to approximately @xmath2 .",
    "these video sequences are generated from the packet losses obtained in the opnet simulations in section [ sec : simu ] . at the end of each video sequence ,",
    "the observers are asked to rate the video according to the itu five - point quality scale , where the scores 1 to 5 stand for the following quality levels : very annoying , annoying , slightly annoying , perceptible but not annoying and imperceptible , respectively . with hidden reference removal @xcite , the difference mean",
    "opinion score ( dmos ) is obtained by subtracting the observer s rating of the reference video ( i.e. , the video with no frozen frames ) from the observer s rating of other videos , and 5 is added to the dmos to make it nonnegative . in fig .",
    "[ fig : dmos ] , we show the average dmos of video sequences with different fractions of frozen frames as well as the @xmath3 confidence intervals . clearly , by decreasing the fraction of frozen frames , we improve the viewer s subjective experience , especially when the fraction of frozen frames is less than @xmath4 , which is the motivation of our proposed method .",
    "similar subjective test results are also presented in @xcite . in @xcite , it is claimed that videos with higher rebuffering frequency or longer rebuffering duration have worse qoes compared to those with fewer rebufferings or shorter durations . in @xcite , it shows that the qoe decreases as the packet lost rate increases , where the packet loss is the cause of frozen frames .",
    "confidence intervals , scaledwidth=60.0% ]",
    "in the ieee 802.11 standard , the retry limits are the same for all packets .",
    "this is not optimal for video teleconferencing traffic . to illustrate",
    ", we use the foreman video sequence to show a special property of the ippp encoded video sequences in the presence of packet losses in fig .",
    "[ fig : psnr ] .",
    "the video quality is measured by psnr , the widely used objective video quality metric .",
    "note that the use of psnr here is only for the purpose of illustration .",
    "we understand that generally psnr does not correlate well with qoe .",
    "however , a drop of as much as 10db in psnr does mean a significant drop in qoe . later in the paper",
    ", we will evaluate the video quality by the video freeze time , which highly correlates with qoe as we have shown in fig .",
    "[ fig : dmos ] .",
    "the loss of frame 5 causes all the subsequent decoded p frames to be erroneous until the next idr frame , and the video quality stays low regardless of whether the subsequent frames are received successfully .",
    "thus , the transmission of these frames is less important to the video quality , and we may consider lowering the retry limit for them . in our proposed method",
    ", we classify the video frames into three priority categories , and assign retry limit @xmath5 for the video frames with priority",
    "@xmath6 @xmath7 , where priority 1 is the highest priority and @xmath8 .",
    "first , an idr frame and subsequent frames are assigned retry limit @xmath9 , until a frame is lost or the compatibility constraint ( to be discussed in detail later ) is violated . after generating an idr frame ,",
    "we want the decoded video sequence at the receiver to be error - free as long as possible .",
    "otherwise , if the network drops a frame shortly after the idr frame , the video quality will decrease dramatically and remain poor until a new idr frame is generated , which will take at least 1 rtt .",
    "the benefit of an idr frame that is quickly followed by a packet loss will then be limited to a few video frames .",
    "therefore , we prioritize not only the idr frame but also the frames subsequent to the idr frame .",
    "when the mac layer discards a packet because it has reached the retry limit , the subsequent frames are assigned the smallest retry limit @xmath10 until a new idr frame is generated , because a higher retry limit would not improve the video quality anyway .",
    "all the other frames are assigned retry limit @xmath11 , which is the same as the one in the original ieee 802.11 standard .",
    "the reason behind this setting is to simplify the analytic model and the implementation .",
    "indeed , it is interesting to find out in the analytic model that very few frames are assigned with the retry limit @xmath11 .",
    "notice that the proposed method can be also implemented with fec to improve video quality .",
    "however , with fec , when a packet is discarded by the mac layer , the receiver may still be able to decode the video frame because of the redundant fec packets , and thus , the mac layer does not have to lower the retry limit of the subsequent frames .",
    "instead , the mac layer only reduces the retry limit of the subsequent frames when the video frame can not be successfully decoded by the receiver . in order to decide whether a video frame is decodable",
    ", the mac layer has to know how the fec packets are generated , such as the beginning of each fec code block and fec rate @xcite .",
    "this information can be placed in the extended rtp header as outlined in @xcite .",
    "the mac layer then reads the information by deep packet inspection . in case of encryption , this information is still transmitted in plaintext in the optional srtp extension field @xcite .",
    "the proposed method can be easily generalized to the case when fec is performed , and the analytic model is similar . for convenience , in the following sections , we only discuss the proposed method without fec .",
    "to facilitate the adoption of our proposed method , we impose a compatibility constraint on our design . in order to make sure that the performance of other access categories ( acs ) is not negatively affected by optimizing the retry limits for the video packets",
    ", we try to maintain the same total number of transmission attempts of a video sequence before and after our proposed method is applied . in our study , instead of monitoring the actual number of transmission attempts , we estimate the average number of transmission attempts for the video packets as follows .",
    "let @xmath12 be the collision probability of a single transmission attempt at the mac layer of the video sender when our proposed method is used .",
    "we adopt the assumption in @xcite-@xcite that @xmath12 is a constant and independent for every packet , regardless of the number of retransmissions . in our proposed optimization method ,",
    "the probability @xmath12 is monitored at the mac layer , and then used as an approximation of collision probability when only the unmodified ieee 802.11 standard is used .",
    "the probability that a transmission still fails after @xmath13 attempts is @xmath14 . for a packet with retry limit @xmath0 ,",
    "the average number of transmission attempts is given by @xmath15 where @xmath16 is the probability that a packet is successfully transmitted after @xmath13 attempts , and @xmath17 in the second term on the left hand side is the probability that the transmission still fails after @xmath0 attempts . for convenience ,",
    "let @xmath18 for @xmath19 , where @xmath20 is the packet loss rate when the retry limit is @xmath5 . since @xmath21 , we have that @xmath22 .",
    "let @xmath23 be the total number of video packets received by the mac layer up to now for the case where all stations and the access point ( ap ) use the unmodified ieee 802.11 standard , and then the average number of transmission attempts for the video sequence is given as @xmath24where @xmath25 is the collision probability when the unmodified ieee 802.11 standard is used at the video sender and @xmath26 .",
    "let @xmath27 @xmath28 be the total number of video packets received by the mac layer with retry limit @xmath5 when our proposed method is used at the video user .",
    "given the maximum transmission unit ( e.g. , the maximum msdu size for wifi is 2304 bytes @xcite ) , the video packets corresponding to a video frame received at the mac layer have the same sizes except the last one .",
    "then it is reasonable to assume that for every video packets , every single transmission attempt has the same channel occupancy time . to guarantee that our proposed method does not increase the total channel occupancy , we require that the total number of transmission attempts does not increase after we adjust packet retry limits , i.e. ,",
    "@xmath29 however , when our proposed method is used , both @xmath25 and @xmath23 are unavailable .",
    "instead , we consider the following constraint @xmath30        our proposed method is implemented at the mac layer of the video sender with a linear computational complexity , and can be summarized as follows ( see fig .",
    "[ fig : frame_priority ] ) : the idr frames are always assigned priority 1 . for a subsequent frame ,",
    "if its preceding frames are transmitted successfully , it will be assigned priority 1 as long as the compatibility requirement ( [ eqn : compa_ineqn_alg ] ) is satisfied .",
    "when the compatibility requirement is violated , the mac assigns priority 2 to the current frame and the subsequent frames until a packet is dropped because of exceeding the retry limit .",
    "when a packet with priority 1 or 2 is dropped , the subsequent frames will be assigned priority 3 until the next idr frame .",
    "the number of consecutive frames with priority 3 is determined by the duration of error propagation , which is at least 1 rtt .",
    "the details of the algorithm are shown in algorithm [ alg1 ] . the accumulative number of packets @xmath27 are calculated from the beginning of the video sequence . however ,",
    "when the video duration is large , we may count the accumulative number of packets during a certain time period .    ; [ pckt_come ] ; ; ; ; [ step6 ] ; ; [ step8 ] ; ; [ lin : update_m ] ; [ lin:12 ]    notice that according to steps [ step6]-[step8 ] in algorithm [ alg1 ] , a frame is assigned priority 2 only when the previous frame was assigned priority 2 or inequality ( [ eqn : compa_ineqn_alg ] ) is violated . hence , when inequality ( [ eqn : compa_ineqn_alg ] ) is always satisfied , no frame will be assigned priority 2 . in section [ sec :",
    "model ] , we will use this property to show that after the beginning of the video sequence , all frames are assigned priority 1 or 3 .",
    "although increasing the retry limit for the packets with high priority may also increase the video latency , it only increases the actual number of transmission attempts for very few packets , which failed in the previous @xmath0 transmission attempts .",
    "moreover , as we show in lemma [ lem : pckt ] , our proposed method reduces the total packets transmitted , and eventually reduces the packet delay , which is confirmed later by the simulation results presented in section [ sec : simu ] .",
    "assume that for every idr and non - idr video frame , @xmath31 and @xmath32 packets with the same size are transmitted by the mac layer of the video sender , respectively , where @xmath33 .",
    "let @xmath34 be the total number of frames encoded thus far , and @xmath35 be the expected number of packets when the unmodified ieee 802.11 standard is used at the video sender .",
    "for fair comparison , we consider the same number @xmath34 of video frames for the case where our proposed method is used .",
    "using our proposed method , we assign one of the three priorities to a frame , and denote by @xmath36 the expected number of packets with priority @xmath6 .",
    "notice that @xmath35 and @xmath37 are not necessarily equal , because the numbers of idr frames in these two scenarios may be different . in the following analysis ,",
    "we are only interested in the case where @xmath34 is large enough and consider the expected number of packets . the inequality ( [ eqn : compa_ineqn_ori ] ) and ( [ eqn : compa_ineqn_alg ] ) can be approximated by the following inequalities : @xmath38    considering a constant frame rate , we suppose that @xmath39 is the number of frames sent during a feedback delay . when a packet is lost in transmission , the packet loss information is received at the video source a feedback delay after the packet was sent . then a new idr frame is generated immediately , which is the @xmath39-th frame after the frame to which the lost packet belongs .",
    "@xmath40 frames are affected by error propagation . even when the feedback delay is short , at least the frame to which the lost packet belongs is erroneous , so we assume that @xmath41 , and call the interval containing the @xmath39 frozen frames the frozen interval .",
    "we assume that the packet loss probability @xmath42 is so small that in each frozen interval , there is only one packet loss ( the very first one ) , when the unmodified ieee 802.11 standard is used at the video user .",
    "then , the number of independent frozen intervals is equal to the number of lost packets , which is @xmath43 in an @xmath35-packet video sequence .",
    "thus , the total expected number of erroneous frames , i.e. , frozen frames , is given by @xmath44    using our proposed method , every frozen interval begins with an erroneous frame with priority 1 or 2 , which is followed by @xmath40 frames with priority 3 .",
    "the numbers of lost packets with priority 1 and 2 are @xmath45 and @xmath46 , respectively .",
    "so , when our proposed method is used , the total expected number of frozen frames is @xmath47    notice that the frames with priority 3 only appear in frozen intervals , and each is encoded into @xmath32 packets .",
    "each frozen interval contains @xmath39 frames , @xmath40 of which are assigned priority 3 .",
    "thus , the total expected number of packets with priority 3 is given by @xmath48 when @xmath49 ( corresponding to very short feedback delays ) , only one frame ( the frame to which the lost packet belongs ) is transmitted in the frozen interval , and the next frame is an idr frame which stops the frozen interval .",
    "in this case , no frame is assigned priority 3 , and @xmath50 .    denote by @xmath51 the number of packets which belong to idr frames , when our proposed method is used . notice that except for the first idr frame , other idr frames appear only after the ends of frozen intervals , and each is encoded into @xmath31 packets .",
    "thus , the total number of packets belonging to idr frames is given by @xmath52    before presenting the main theorem , we first introduce the following lemmas .",
    "[ lem : pckt ] if @xmath53 , when our proposed method is used at the video sender , the expected number of packets is less than that when the original ieee 802.11 standard is used at the video sender , i.e. , @xmath54    [ lem : comp1 ] when @xmath53 , we have @xmath55 furthermore , when the following condition @xmath56 is also satisfied , we have @xmath57    the proofs of lemma [ lem : pckt ] and [ lem : comp1 ] can be found in appendix [ appen : a ] and [ appen : b ] , respectively . in the above lemmas , we assume that @xmath53 , and we want to show that the assumption is sound .",
    "consider two scenarios , where the unmodified ieee 802.11 standard and our proposed method are used , respectively .",
    "we assume that at the beginning of the video transmission , the collision probabilities are the same , i.e. , @xmath58 .",
    "let @xmath59 and @xmath60 be the collision probabilities measured at the end of time interval @xmath61 for the two scenarios , respectively , where a time interval is the duration between two consecutive packet loss probability updates ( see line [ lin:12 ] of algorithm [ alg1 ] ) and should not be confused for the time slot defined in the ieee 802.11 standard .",
    "similarly , we define @xmath62 and @xmath63 which are the numbers of packets in the two scenarios , respectively , measured at the end of time interval @xmath61 , where @xmath19 . since @xmath62 and @xmath63 are all random variables and difficult to be modeled , we take their expected values @xmath64 and @xmath65 , for @xmath19 as an approximation by the method of mean - field approximation @xcite .",
    "as long as the number of packets is large , the approximation is accurate .    during the first time interval , the collision probability @xmath58 , and then , according to lemma [ lem : comp1 ] , we have @xmath66which implies that the expected number of transmission attempts in the first scenario is not less than that in the second scenario . thus",
    ", at the end of the first time interval , the collision probability in the first scenario is also not less than that in the second scenario , i.e. , @xmath67 . as a result , in the second time interval , the expected number of transmission attempts in the first scenario is also not less than that in the second scenario , i.e. @xmath68 the same reasoning holds for the future time intervals .",
    "thus , in our proposed method , the expected number of transmission attempts is always not greater than that in the original ieee 802.11 standard at all time intervals , and at the end of each time interval , the collision probabilities satisfy @xmath69 .",
    "note that it is also consistent with the simulation results presented in section [ sec : simu ] .",
    "now we are ready to present the main result as follows . by comparing the performance of the ieee 802.11 standard and that of our proposed method , we prove that the expected number of frozen frames is reduced when our proposed method is used .",
    "[ thm : main ] if @xmath53 and ( [ eqn : cod ] ) are satisfied , when our proposed method is used , the expected number of frozen frames is upper bounded by @xmath70p_0 + 1}\\right\\ } \\label{eqn : result}\\end{aligned}\\ ] ]    the proof of theorem [ thm : main ] contains two parts .",
    "we want to show that @xmath71 is upper bounded by the two elements on the right hand side of ( [ eqn : result ] ) . in the remainder of this section ,",
    "we prove them in the following two lemmas .",
    "if @xmath53 , when our proposed method is used , the expected number of frozen frames is smaller than that when the ieee 802.11 standard is used at the video user , i.e. , @xmath72    denote by @xmath73 and @xmath74 the numbers of idr frames when the ieee 802.11 standard and our proposed method is used at the video user , respectively . as we assume",
    "that every idr frame and non - idr frame are encoded into @xmath31 and @xmath32 packets , respectively , the total numbers of packets when the ieee 802.11 standard is used is given by @xmath75 similarly , when our proposed method is used , the total number of packets is @xmath76 by lemma [ lem : pckt ] , we know that @xmath77 . from the above two equations , we have @xmath78 .",
    "notice that every frozen interval triggers the generation of an idr frame , and except the first idr frame , which is the first frame of the video sequence , idr frame only appears immediately after a frozen interval .",
    "then , we have @xmath79 consequently , the number of frozen frames when our proposed method is used is smaller than that when the unmodified ieee 802.11 standard is used , i.e. , @xmath80    if @xmath53 and ( [ eqn : cod ] ) are satisfied , when our proposed method is used , the expected number of frozen frames is upper bounded by @xmath81p_0 + 1}\\label{eqn : bound2}\\end{aligned}\\ ] ]    in the proof of lemma [ lem : comp1 ] , we obtain @xmath82\\nonumber\\end{aligned}\\ ] ] where the right hand side of the above inequality is a positive increasing function of @xmath83 .",
    "as the number of packets is increasing , the lower bound of the left hand side of the above inequality is also increasing and remains positive .",
    "notice that @xmath35 and @xmath36 are the expected values of random variables @xmath23 and @xmath27 .",
    "when the left hand side of the above inequality is large enough , the compatibility condition ( [ eqn : compa_ineqn_alg ] ) is always satisfied .",
    "it implies that according to algorithm [ alg1 ] , no frame with priority 2 will be generated after the beginning of the video sequence . as discussed above , except the beginning of the video sequence , no frame is assigned priority 2 .",
    "hence , a frame with priority 1 is followed by another frame with priority 1 , when all packets of the former are transmitted successfully .",
    "notice that according to algorithm [ alg1 ] , the priority does nt change within a frame .",
    "even if a packet of a frame with priority 1 is dropped , the remaining packets of the same frame still have the same priority and the packets of the subsequent frame are then assigned priority 3 .",
    "each frozen interval contains @xmath40 subsequent frames with priority 3 , each of which is encoded into @xmath32 packets .",
    "the first @xmath84 packets are followed by another packet with priority 3 with probability 1 , and the last one is followed by a packet with priority 1 , which belongs to the next idr frame , with probability 1 .",
    "this process can be modeled by the discrete - time markov chain shown in fig .",
    "[ fig : markov ] .",
    ", @xmath85 and @xmath86 represent the states for the @xmath6-th packet of an idr frame , a non idr frame and a frame with priority 3 , respectively.,scaledwidth=60.0% ]    in fig .",
    "[ fig : markov ] , the states in the last row represent the @xmath87 packets with priority 3 in each frozen interval .",
    "the states in the first two rows represent the @xmath31 and @xmath32 packets of an idr frame and a non - idr frame with priority 1 , respectively , where the state @xmath88 is for the @xmath6-th packet of the idr frame , and the state @xmath89 is for the @xmath90-th packet of the non - idr frame with priority 1 . after a frozen interval",
    ", it is followed by @xmath31 packets of an idr frame with priority 1 .",
    "if all these @xmath31 packets are transmitted successfully , they are followed by @xmath32 packets of a non - idr frame , and otherwise , they initialize a new frozen interval . after the transmission of a non - idr frame , it is followed by another non - idr frame unless the transmission fails .",
    "suppose that @xmath91 and @xmath92 are the probabilities that the transmissions of an idr frame and a non - idr frame with priority 1 are successful , respectively .",
    "the transmission of an idr frame is successful if and only if all the @xmath31 packets of the idr frame are transmitted successfully .",
    "for each packet , the packet loss rate is @xmath93 , since it has priority 1 .",
    "thus , we have @xmath94 for the non - idr frames , notice that they also have priority 1 .",
    "then , the probability @xmath92 is given by @xmath95    when @xmath49 , no frame is assigned priority 3 , and then , we do nt have the states in the last row in fig .",
    "[ fig : markov ] .",
    "if any frame is dropped in transmission , it will be followed immediately by another idr frame . in this case , the discrete - time markov chain becomes the model in fig .",
    "[ fig : markovd1 ] .",
    "the following derivation is based on the model in fig .",
    "[ fig : markov ] .",
    "however , it is also suitable when @xmath49 .    ,",
    "scaledwidth=60.0% ]    let @xmath96 , @xmath97 and @xmath98 , for @xmath99 , @xmath100 and @xmath101 , be the stationary distribution of the markov chain .",
    "notice that @xmath102 , @xmath103 and @xmath104 .",
    "furthermore , we have @xmath105 from the above equations , we derive that @xmath106 considering the normalization condition @xmath107 it is not difficult to obtain that @xmath108(1-p_b)+p_ad'}.\\end{aligned}\\ ] ]    let @xmath109 be the probability that a packet belongs to an idr frame , which is given by @xmath110(1-p_b)+p_ad'}.\\ ] ] in a video sequence containing @xmath37 packets , the expected number of packets which belong to an idr frame is obtained by @xmath111 from ( [ eqn : pkt_idr ] ) , we have @xmath112(1-p_b)+p_ad'}\\\\ & < & \\frac{d(1-p_b)n}{[d+(d-1)d'](1-p_b)+p_ad'}\\label{eqn : result1 } % & = & \\frac{n_f}{1+(d-1)d'p_1},\\label{eqn : result}\\end{aligned}\\ ] ] where the last inequality follows from the fact that @xmath113 .    by taylor s theorem ,",
    "the probability @xmath91 can be rewritten as @xmath114 where @xmath115 .",
    "thus , we have @xmath116 similarly , we obtain that @xmath117 then , applying the above bounds , inequality ( [ eqn : result1 ] ) can be rewritten as @xmath118(d'p_1-\\frac{d'(d'-1)}{2}p_1 ^ 2)+(1-dp_1)d'}\\nonumber\\\\ & = & \\frac{dp_1n}{[d+(d-1)d'](p_1-\\frac{d'-1}{2}p_1 ^ 2)-dp_1 + 1}\\nonumber\\\\ & = & \\frac{dp_0n}{[d+(d-1)d'](p_0-\\frac{d'-1}{2}p_0p_1)-dp_0+\\frac{p_0}{p_1}}\\nonumber\\\\ & = & \\frac{dp_0n}{[(d+(d-1)d')(1-\\frac{d'-1}{2}p_1)-d]p_0+\\frac{p_0}{p_1}}\\nonumber\\\\ % & < & \\frac{n_f}{[d+(d-1)d'](p_0-\\frac{(d'-1)}{2}p_0p_1)-dp_0 + 1}\\\\ & < & \\frac{n_f}{[(d+(d-1)d')(1-\\frac{d'-1}{2}p_1)-d]p_0 + 1}\\nonumber % & = & \\frac{dp_0n}{[d+(d-1)d']p_0+\\frac{p_0}{p_1}}\\\\ % & < & \\frac{dp_0n}{[d+(d-1)d']p_0 + 1}\\\\ % & = & \\frac{n_f}{[d+(d-1)d']p_0 + 1 } , % \\label{eqn : result_appen}\\end{aligned}\\ ] ] where the last inequality follows from the fact that @xmath119 and @xmath120 .    from the result above , we have the following observations : the expected freeze time for our proposed method is always reduced compared to the unmodified ieee 802.11 standard ; the longer the frozen interval @xmath39 , the greater the gain compared to the unmodified ieee 802.11 standard . as shown in fig .",
    "[ fig : comparison ] , for the case of the unmodified ieee 802.11 standard , after a packet loss , the video receiver shows frozen frames until the next idr frame , regardless of whether the frames before the idr frame are received successfully .",
    "however , for the case of our proposed method , priority 3 is assigned to the frames following a packet loss , and more packets are dropped during the error propagation . as a compensation , the frames from the next idr frame have a higher retry limit , and as a result , a lower packet loss probability is achieved for these frames and the total number of frozen frames is reduced . by increasing the retry limit for the high priority packet",
    ", our proposed method concentrates the packet losses into small segments of the entire video sequence to improve the video quality .",
    "our proposed scheme is evaluated using the network topology in fig . [",
    "fig : net_topo ] , which contains a video teleconferencing session with our proposed qoe - based optimization ( vi-1 and vi-2 ) and other cross traffic , including a voice session , an ftp session , and a video teleconferencing session without our proposed qoe - based optimization ( vi-3 and vi-4 ) . in the simulations , we only consider one - way video transmission from vi-1 to vi-2 , while the video teleconferencing between vi-3 and vi-4 are two - way . vi-1 and vi-3 are in the same wlan with the ftp client and the voice user vo-1 .",
    "the access point ap-1 communicates with vi-2 , vi-4 , the ftp server , and the voice user vo-2 through the internet , with a one - way delay of 100 ms in either direction .",
    "the h.264 video codec is implemented for vi-1 and vi-2 .    without our proposed qoe - based optimization , the retry limit @xmath0 for all packets",
    "is set to 7 , the default value in the ieee 802.11 standard .",
    "three levels of video priority are assigned in video teleconferencing sessions with our proposed qoe - based optimization , and the corresponding retry limits are @xmath121 , where as we discuss before , we set @xmath122 because it leads to a tractable analytic model and makes the implementation easier . since larger retry limit may cause longer delay to certain packets , we only increase the retry limit @xmath9 by 1 . meanwhile , no matter whether the packets with priority 3 are received successfully or not , their corresponding frames will be frozen , so we assign the retry limit @xmath123 for them . at the video sender ,",
    "a packet is discarded when its retry limit is exceeded . in our proposed scheme , the video receiver detects a packet loss when it receives the subsequent packets or it does not receive any packets for a time period .",
    "then it sends the packet loss information to the video sender through rtcp , and a new idr frame is generated after the rtcp feedback is received by the video sender . from the time of the lost frame until the next idr frame",
    "is received , the video receiver only presents frozen frames .",
    "two test video sequences are transmitted from vi-1 to vi-2 .",
    "one is the low motion foreman sequence , which has a frame rate 30 frames / sec and a duration of approximately 10 seconds , containing 295 frames .",
    "the other one is the high motion basketball passing sequence .",
    "its frame rate is 60 frames / sec , and the duration is 5 second , containing 300 frames .",
    "all the cross traffic is generated by opnet 17.1 .",
    "for the cross video session from vi-3 to vi-4 , the frame rate is 30 frames / sec , and the outgoing and incoming stream frame sizes are both 8500 bytes . for the tcp session between the ftp client and server , the receive buffer",
    "is set to 8760 bytes .",
    "all the numerical results in this section are averaged over 100 seeds , and for each seed , the data is collected in the durations of the video sequences . to make the network performance comparable to those reported in  @xcite , we also introduce another wlan to increase the error probability @xmath12 .",
    "it consists of an ap and two stations shown as wlan 2 in fig .",
    "[ fig : net_topo ] .",
    "both of these two ieee 802.11n wlans operate on the same channel .",
    "the data rates are 13 mbps , and the transmit powers are 5 mw . the buffer sizes at the aps are 1 mbits .",
    "the numbers of spatial streams are set to 1 .",
    "the distances of the aps and the stations are set to enable the hidden node problem . in the simulations ,",
    "the distance between the two aps is 300 meters , and the distances between vi-1 and ap-1 , and between ap-2 and vi-5 , are both 350 meters . a video teleconferencing session is initiated between vi-5 and vi-6 through ap-2 .",
    "the frame rate is 30 frames / sec , and both the incoming and outgoing stream frame sizes are used to adjust the packet loss rate of the video teleconferencing session with our proposed method operating at vi-1 .",
    "network events affect the behavior of the video encoder , and vice versa . the former is often ignored in simulation based studies by feeding a pre - determined video sequence to the network @xcite . in our simulation study",
    ", we dynamically generate the video frames to be fed into the network according to the network events in the network .",
    "specifically , we capture the dynamic idr frame insertion that is triggered by reception of the packet loss feedback conveyed by rtcp packets in opnet .",
    "the details are as follows : let @xmath124 , @xmath125 , be the video sequence beginning from frame @xmath35 , where frame @xmath35 is an idr frame and all the subsequent frames are p - frames until the end of the video sequence .",
    "we start from the transmission of video sequence @xmath126 , and suppose that rtcp feedback is received when we are transmitting frame @xmath127 .",
    "after the transmission of the current frame , we switch to the video sequence @xmath128 , which causes the idr frame insertion at frame @xmath6 , and use frame @xmath6 and the subsequent frames of @xmath128 to feed the video sender simulated in opnet . in fig.[fig : opnet ] , we depict the video sequence , where rtcp feedback is received when frame-@xmath129 and frame-24 are transmitted .",
    "note that in the opnet simulation it is the size rather than the content of each packet that is of interest .",
    "we encode all possible video sequences @xmath124 , @xmath125 , which is a one - time effort , and store the size of every packet of all video sequences .",
    "then , in the simulations , when we receive an rtcp feedback , we switch to the appropriate video sequence .         of a single transmission attempt using the ieee 802.11 standard and our proposed method for 100 seeds , scaledwidth=60.0% ]    in fig . [",
    "fig : collision_prob ] , we present the collision probabilities @xmath12 for 100 seeds , when the ieee 802.11 standard and our proposed method are used at the video user , respectively .",
    "the average collision probabilities are 0.350 and 0.339 for the ieee 802.11 standard and our proposed method , respectively , which confirms the assumption @xmath53 . comparing these two values",
    ", it is reasonable to use the collision probability from our proposed method as an approximation of collision probability when only the ieee 802.11 standard is applied .            in fig .",
    "[ fig : num_frm_plr ] , the average fractions of frozen frames using the ieee 802.11 standard and our proposed qoe - based optimization are presented , where the foreman sequence is transmitted . for different application layer load configurations",
    ", we tune the cross traffic between vi-5 and vi-6 to obtain different packet loss rates , when the ieee 802.11 standard is used at the video user .",
    "the packet loss rates are 0.0023 , 0.0037 , 0.0044 , 0.0052 and 0.0058 , for scenarios 1 to 5 , respectively .",
    "then , we run the simulations using our proposed method with the same cross traffic configurations .",
    "we also show the upper bound for our proposed method in ( [ eqn : result ] ) , where the parameters @xmath39 , @xmath31 , @xmath32 and @xmath42 are averaged from the simulation results , and it is confirmed that ( [ eqn : cod ] ) is satisfied . in fig . [",
    "fig : num_frm_plr_bskt ] , we also present the average fractions of frozen frames of basketball passing video for the same configurations .",
    "we observe that the average fraction of frozen frames of our proposed method is strictly less than the upper bound . as the packet loss rate increases ,",
    "the average fraction of frozen frames increases regardless of whether our proposed method is used or not , and the performance of our method remains strictly better than that of the corresponding value of the ieee 802.11 standard .            in fig .",
    "[ fig : num_frm_rtt ] , we show the average fractions of frozen frames for different rtts between video sender and receiver , when the application layer load configuration 3 is applied .",
    "the foreman sequence is transmitted .",
    "notice that the feedback delay is at least 1 rtt between video sender and receiver . as the rtt increases , the feedback delay increases , the duration of every frozen interval increases ,",
    "more frames are affected by each packet loss , and the fraction of frozen frames increases . from the upper bound in ( [ eqn : result ] ) , we infer that the gain of our proposed method compared to the ieee 802.11 standard increases , when a larger rtt is applied and this is consistent with the numerical results in fig . [",
    "fig : num_frm_rtt ] .",
    "when the rtt is 100 ms , the average fraction of frozen frames using our proposed method is @xmath130 less , compared to that using the ieee 802.11 standard . when the rtt is 400 ms , the gain increases to @xmath131 .",
    "moreover , the average fractions of frozen frames using the proposed method are always less than the upper bound in ( [ eqn : result ] ) .",
    "similar results are also observed for basketball passing video in fig .",
    "[ fig : num_frm_rtt_basket ] .        in fig .",
    "[ fig : delay ] , we present the cdf of the packet end - to - end delay between the video sender and receiver , when the application layer load configuration 3 is applied and the rtt is 100 ms . for our proposed method , because of lemma [ lem : pckt ] , less packets are generated than the original ieee 802.11 standard . as a result , the end - to - end delay may be well reduced when our proposed method is used , which is corroborated by the results in fig .",
    "[ fig : delay ] .    [ cols=\"^,^,^,^,^,^ \" , ]     [ tab : simu4 ]    in tables",
    "[ tab : simu1 ] and [ tab : simu3 ] , we list the average throughputs for cross traffic in wlan 1 , when foreman sequence is sent with the application layer load configurations 2 and 5 applied , respectively .",
    "in addition , the standard deviations for these two scenarios are listed in tables [ tab : simu2 ] and [ tab : simu4 ] , respectively .",
    "we can observe that the throughput results for the proposed method are almost the same compared to those for the ieee 802.11 standard .",
    "we proposed a qoe - based mac layer enhancement for wifi that dynamically assigned different retry limits to video packets based on the packet loss events in the network subject to a compatibility design constraint . effectively , our proposed method concentrated the packet losses into small segments of the video sequence",
    "the number of frozen frames was reduced compared to the original ieee 802.11 standard .",
    "additionally simulation results showed that cross traffic was not negatively affected .",
    "the authors would like to thank dr .",
    "anantharaman balasubramanian of interdigital labs for helping develop the joint video - opnet simulation , and dr .",
    "rahul vanam and dr .",
    "louis kerofsky for helping set up the subjective experiment .",
    "using the original ieee 802.11 standard , every lost packet will trigger a new idr frame and the first frame of the video sequence is an idr frame .",
    "so the expected total number of the idr frames is @xmath132 .",
    "the expected total number of packets is given as @xmath133d',\\end{aligned}\\ ] ] which yields @xmath134    with our proposed method , every lost packet with priority 1 or 2 will cause the generation of a new idr frame . similar to the case with the original ieee 802.11 standard , the expected total number of packets is given as @xmath135d',\\end{aligned}\\]]which yields @xmath136    let @xmath137 . from ( [ eqn : numfrm_ori ] ) and ( [ eqn : numfrm_prop ] ) , we have @xmath138 notice that @xmath139 , and then , we have @xmath140 where the equality follows from ( [ eqn : numpkt ] ) , and the last inequality follows from the fact that @xmath141 . since @xmath142 , we have @xmath143",
    ". then , it follows from ( [ ineq1 ] ) that @xmath144where the first inequality follows from the fact that @xmath145 is generally very small and @xmath146 is then less than 1 . from the above inequality",
    ", we have that @xmath77 , i.e. , for the same number of video frames , the expected number of packets when the unmodified ieee 802.11 standard is used at the video user is greater than that when our proposed method is used .        considering the compatibility condition ( [ eqn : compat ] )",
    ", we have @xmath149(\\delta d-1)+p_3n_3}{1-p}\\\\ & \\geq&0\\end{aligned}\\ ] ] the first inequality follows from the fact that @xmath53 .",
    "the equation is obtained by substituting ( [ eqn : numpkt2 ] ) .",
    "the second inequality follows from the facts that @xmath148 , @xmath150 and @xmath151 , and the equality holds when @xmath152 and @xmath50 .",
    "h. schwarz , d. marpe , and t. wiegand , `` overview of the scalable video coding extension of the h.264/avc standard , '' _ ieee tran .",
    "circuits syst .",
    "video technol .",
    "9 , pp . 1103 - 1120 , sept .",
    "2007 .",
    "a. khan , l. sun , e. jammeh , and e. ifeachor , `` quality of experience - driven adaptation scheme for video applications over wireless networks , '' _ iet communications special issue on `` video communications over wireless networks , '' _ vol .",
    "1337 - 1347 , 2010 .",
    "t. jiang , h. wang , and a. v. vasilakos , `` qoe - driven channel allocation schemes for multimedia transmission for priority - based secondary users over cognitive radio networks , '' _",
    "ieee j. sel .",
    "areas commun .",
    "7 , pp . 1215 - 1224 , aug .",
    "l. zhou , z. yang , y. wen , h. wang , and m. guizani , `` resource allocation with incomplete information for qoe - driven multimedia communications , '' _ ieee tran .",
    "wireless commun .",
    ", _ vol . 12 , no . 8 , pp . 3733 - 3745 , aug .",
    "y. feng , z. liu , and b. li , `` gestureflow : qoe - aware streaming for multi - touch gestures in interactive multimedia applications , '' _ ieee j. sel .",
    "areas commun .",
    "1281 - 1294 , aug ."
  ],
  "abstract_text": [
    "<S> in ieee 802.11 , the retry limit is set the same value for all packets . in this paper </S>",
    "<S> , we dynamically classify video teleconferencing packets based on the type of the video frame that a packet carries and the packet loss events that have happened in the network , and assign them different retry limits . </S>",
    "<S> we consider the ippp video encoding structure with instantaneous decoder refresh ( idr ) frame insertion based on packet loss feedback . </S>",
    "<S> the loss of a single frame causes error propagation for a period of time equal to the packet loss feedback delay . to optimize the video quality , </S>",
    "<S> we propose a method to concentrate the packet losses to small segments of the entire video sequence , and study the performance by an analytic model . </S>",
    "<S> our proposed method is implemented only on the stations interested in enhanced video quality , and is compatible with unmodified ieee 802.11 stations and access points in terms of performance . </S>",
    "<S> simulation results show that the performance gain can be significant compared to the ieee 802.11 standard without negatively affecting cross traffic .    </S>",
    "<S> qoe , packet priority , video teleconferencing , ieee 802.11 , retry limit </S>"
  ]
}