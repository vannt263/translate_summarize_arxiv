{
  "article_text": [
    "with the development of wireless communication technologies , mobile ad hoc networks ( manets ) have become an appealing candidate for many critical applications , such as emergency rescue , disaster relief , coverage extension for cellular networks , etc . @xcite .",
    "although lots of work has been done to facilitate the commercialization of manets , understanding their fundamental delay performance has been a critical research issue for them to support various applications with different quality of service ( qos ) requirements @xcite .",
    "end - to - end ( e2e ) delay , the time that a packet takes to reach its destination after it is generated by its source , serves as the most fundamental delay metric .",
    "the available theoretical studies on e2e delay of manets mainly focus on deriving its upper bound or approximation . regarding the delay upper bound of manets , neely _",
    "@xcite derived some useful results for a cell - partitioned manet with the two - hop relay ( 2hr ) routing scheme and i.i.d mobility model .",
    "later , gamal _ et al .",
    "_ @xcite and sharma _ et al .",
    "_ @xcite extended the results of @xcite to the continuous network model and general mobility model , respectively .",
    "inspired by these works , extensive research activities have been devoted to the study of delay upper bound for manets under various network scenarios , such as under the motioncast in @xcite , under the cognitive networks in @xcite , under the packet redundancy in @xcite , under the multi - hop back - pressure routing in @xcite , and under the power control in @xcite . regarding the delay approximation , jindal _ et al . _",
    "@xcite explored recently the e2e delay approximation for manets with multi - hop relay routing , and liu _ et al .",
    "_ studied the e2e delay approximation for manets with probing - based 2hr routing @xcite and limited packet redundancy @xcite .",
    "in addition to the studies on delay upper bound or approximation for manets , neely _",
    "_ @xcite also applied the queueing theory to derive the exact expression for e2e delay .",
    "following this line , recently some results have been reported on the modeling of really achievable e2e delay in manets .",
    "@xcite explored the manets with aloha mac protocol and determined the corresponding exact e2e delay there under the continuous network model .",
    "for a cell - partitioned manet with broadcast - based routing scheme , gao _ et al . _",
    "@xcite proposed a new theoretical framework for the analysis of its exact e2e delay based on the theory of quasi - birth - and - death process .",
    "it is notable that the common limitation of above studies is that to simplify their analysis of e2e delay , they assume the relay buffer of a node , which is used for temporarily storing packets of other nodes , has an infinite buffer size . in a practical manet ,",
    "however , the buffer size of a mobile node is usually limited due to both its storage space limitation and computing capability limitation .",
    "thus , for the practical delay performance study of manets , the constraint on buffer space should be carefully addressed .",
    "notice that the e2e delay modeling with practical limited - buffer constraint still remains a technical challenge .",
    "this is mainly due to the lack of a general theoretical framework to efficiently characterize the highly dynamic behaviors in such networks , like the complicated buffer occupancy states of a relay buffer , as well as the highly dynamic queuing process and delivery process of a packet .    as a step towards the modeling of real achievable e2e delay for the practical manets with buffer constraint , we focus on a class of important 2hr manets with",
    "limited shared relay buffer and propose a general theoretical framework for the e2e delay modeling there .",
    "the main contributions of this paper are summarized as follows .",
    "* for the concerned manet , we first combine the theories of fixed - point ( fp ) , quasi - birth - and - death ( qbd ) process and embedded markov chain ( emc ) to construct an analytical model to fully depict the complicated occupancy behaviors of a relay buffer with limited buffer size .",
    "* based on the above modeling of relay buffer occupancy behaviors , we then apply the absorbing markov chain ( amc ) theory to characterize the packet delivery process , such that a complete theoretical framework is developed for the e2e delay modeling in the concerned buffer - limited manets .",
    "this framework is general in the sense that it can be applied to conduct e2e delay analysis for a 2hr manet with any mobility model that leads to the uniform distribution of the locations of nodes , such as the i.i.d mobility model @xcite , the random walk model @xcite , the random way - point model @xcite , etc .. * to demonstrate the application of the proposed framework , case studies are further provided under two network scenarios , i.e. , the cell partitioned networks with local scheduling - based mac protocol ( ls - mac ) @xcite and equivalent - class based mac protocol ( ec - mac ) @xcite , to show how the e2e delay can be analytically determined for a given network scenario by applying our framework . finally , extensive simulation and numerical results are provided to validate the efficiency of the proposed e2e delay model and also to illustrate the impacts of network parameters on delay performance .",
    "the remainder of this paper is organized as follows .",
    "section  [ section : preliminaries ] introduces preliminaries involved in this paper .",
    "the complicated relay buffer occupancy behaviors are analyzed in section  [ section : relay_buffer_analysis ] .",
    "we derive the queuing delay , delivery delay and e2e delay in section  [ section : delay ] , and conduct case studies in section  [ section : case_studies ] .",
    "the simulation results and corresponding discussions are provided in section  [ section : simulation ] .",
    "finally , section  [ section : conclusion ] concludes this paper .",
    "in this section , we first present some basic assumptions and the buffer constraint , and then introduce the routing scheme and some critical definitions involved in this study .",
    "we consider the following minimal set of assumptions :    1 .",
    "the ad hoc network is time - slotted and consists of @xmath0 mobile nodes .",
    "the packet generating process in each source node is independent and assumed to be a bernoulli process , where a packet is generated by its source node with probability @xmath1 in a time slot .",
    "the widely - used permutation traffic model @xcite is adopted . with this traffic model ,",
    "there are @xmath0 unicast traffic flows in the network , each node is the source of one traffic flow and also the destination of another traffic flow .",
    "we denote by @xmath2 the destination node of the traffic flow originated from node @xmath3 , then the source - destination pairs are matched in a way that the sequence @xmath4 is just a derangement of the set of nodes @xmath5 .",
    "4 .   during a time slot the total amount of data that can be transmitted from a transmitter to its corresponding receiver is fixed and normalized to one packet .",
    "we consider the mobility model that leads to the uniform distribution of the locations of nodes in steady state , which covers many typical mobility models such as the i.i.d mobility model , the random walk model , the random way - point model , etc .. more formally , we denote by @xmath6 the location of @xmath3th node at time slot @xmath7 and assume the process @xmath8 is stationary and ergodic with stationary distribution uniform on the network area ; moreover , the trajectories of different nodes are independent and identically distributed .          as illustrated in fig .",
    "[ fig : buffer_constraint ] , each node in the manet maintains @xmath9 individual queues , one source queue for storing the packets that are locally generated at this node , and @xmath10 parallel relay queues for storing packets of other flows ( one queue per flow ) .",
    "all these queues follow the fifo ( first - in - first - out ) discipline .",
    "similar to the available studies on buffer - limited wireless networks @xcite , we consider the following practical buffer constraint that all the @xmath10 relay queues of a node share a common relay buffer with the limited buffer size of @xmath11 packets , while the buffer size of source queue is unlimited .",
    "we adopt this buffer constraint here mainly due to the following reasons .",
    "first , the mathematical tractability of this assumption allows us to gain important insights into the structure of e2e delay analysis .",
    "second , the analysis under this assumption provides a meaningful theoretical result in the limit of infinite source buffer .",
    "third , in a practical wireless network , each node usually prefers to reserve a much larger buffer space for storing its own packets than that for storing packets of other flows .",
    "also , even in the case that the buffer space of source queue is not enough when bursty traffic comes , the congestion control in the upper layer can be executed to avoid the loss of locally generated packets @xcite .      regarding the routing scheme , we focus on the 2hr scheme , because it is simple yet efficient and thus serves as a class of attractive routing protocols for manets @xcite . to avoid unnecessary packet loss and support the efficient operation of the concerned buffer - limited manets , we introduce a handshake mechanism with negligible overhead into the 2hr scheme such that the packet dropping will not happen even in the case of relay buffer overflow .",
    "once a node ( say @xmath12 ) gets access to the wireless channel in a time slot , it executes the new handshake - based 2hr ( h2hr for short ) routing scheme summarized in algorithm  [ algorithm : h2hr ] .",
    "@xmath12 executes * procedure *  [ procedure : s - d ] . with equal probability",
    ", @xmath12 selects one node as the receiver .",
    "@xmath12 executes * procedure *  [ procedure : s - r ] or * procedure *  [ procedure : r - d ] equally with the receiver .",
    "@xmath12 transmits the head - of - line ( hol ) packet in its source queue to @xmath13 .",
    "@xmath12 removes the hol packet from its source queue .",
    "@xmath12 moves ahead the remaining packets in its source queue .",
    "@xmath12 remains idle .",
    "@xmath12 * initiates a handshake with the receiver to check whether the relay buffer of receiver is full or not . *",
    "the receiver dynamically allocates a new buffer space to the end of the corresponding relay queue .",
    "@xmath12 transmits the hol packet in its source queue to the receiver .",
    "@xmath12 removes the hol packet from its source queue .",
    "@xmath12 moves ahead the remaining packets in its source queue .",
    "@xmath12 remains idle .",
    "@xmath12 transmits the hol packet in its corresponding relay queue to the receiver .",
    "@xmath12 removes the hol packet from this relay queue .",
    "@xmath12 moves ahead the remaining packets in this relay queue .",
    "this relay queue releases one buffer space to the common relay buffer of @xmath12 .",
    "@xmath12 remains idle .",
    "here we introduce some important definitions involved in this study .",
    "* relay - buffer overflowing probability ( rop ) * : for the concerned manet with a given packet generating rate @xmath1 in each node , the relay - buffer overflowing probability @xmath14 of a node is defined as the probability that the relay buffer of this node overflows ( i.e , the relay buffer is full ) .    *",
    "queuing delay * : the queuing delay is defined as the time it takes a packet to move to hol in the source queue ( i.e. , the source node starts to deliver it ) after it is generated by its source .",
    "* delivery delay * : the delivery delay is defined as the time it takes a packet to reach its destination after its source starts to deliver it .    * end - to - end delay * : the end - to - end delay is defined as the time it takes a packet to reach its destination after it is generated by its source , which is the sum of its queuing delay and delivery delay .",
    "in this section , we first introduce three basic probabilities . based on these probabilities",
    ", we then apply the qbd process modeling and emc technique to depict the occupancy behaviors of a relay buffer .",
    "finally , we construct a self - mapping function for the rop @xmath14 ( i.e. , @xmath14 is the fixed - point of this function ) to determine the limiting distribution of the occupancy states , which will help us conduct delay analysis in section  [ section : delay ] .    due to the symmetry of nodes and traffic flows , we only focus on one node @xmath12 in the following analysis .",
    "we denote by @xmath15 , @xmath16 and @xmath17 the probabilities that in a time slot @xmath12 gets access to the wireless channel and decides to execute * s - d * , * s - r * and * r - d * transmission respectively , and executing a transmission does nt mean that @xmath12 will successfully transmit a packet in this time slot . ] .",
    "these probabilities can be determined under a given network scenario and the derivation of them will be elaborated in case studies .",
    "regarding the source queue of @xmath12 , it can be modeled as a bernoulli / bernoulli queue @xcite with packet arrival rate @xmath1 and service rate @xmath18 , where @xmath18 is given by @xmath19 due to the reversibility of bernoulli / bernoulli queue , the packet departure process of source queue is also a bernoulli process with rate @xmath1 .    regarding the relay buffer of @xmath12 , we adopt a two - tuple @xmath20 to define its state at time slot @xmath7 , where @xmath21 denotes the number of packets occupying the relay buffer , and @xmath22 denotes the number of relay queues which are not empty , here @xmath23 , @xmath24 when @xmath25 , and @xmath26 when @xmath27 .    as illustrated in fig .",
    "[ fig : transition_cases ] , suppose that the relay buffer of @xmath12 is in state @xmath28 at the current time slot , only one of the following transitions may happen in the next time slot :    1 .",
    "@xmath29 , a packet enters the relay buffer , and this packet is destined for a destination same as one of packet(s ) already in relay queues .",
    "@xmath29 , a packet enters the relay buffer , and the destination of this packet is different from all packet(s ) already in relay queues .",
    "@xmath30 , a packet in one of the relay queues is delivered to its destination , and there still exist other packet(s ) in this relay queue .",
    "@xmath30 , a packet in one of the relay queues is delivered to its destination , and there is no remaining packet in this relay .",
    "no packet enters into or departs from the relay queues .",
    ".,width=240 ]    to facilitate our discussion , we call the subset of states @xmath31 level @xmath3 , @xmath32 level @xmath33 , and state @xmath28 that the relay buffer is in level @xmath3 and phase @xmath34 . notice that when the relay buffer is in some state of level @xmath3 at a time slot , the next state after one - step state transitions could only be some state in the same level or its adjacent levels .",
    "thus , as time evolves , the state transitions of the relay buffer of @xmath12 form a two - dimensional qbd process @xmath35 @xcite . according to the transition cases in fig .",
    "[ fig : transition_cases ] , the overall transition diagram of the qbd process is summarized in fig .",
    "[ fig : state_machine ] .",
    "there are in total @xmath36 states for the qbd process , and we arrange all these states in a low - to - high level and low - to - high phase way as follows : @xmath37",
    ". then the corresponding state transition matrix @xmath38 of the qbd process can be determined as @xmath39 ,    \\label{eq : qbd_matrix}\\ ] ] where the sub - matrix @xmath40 is of size @xmath41 ( @xmath42 , @xmath43 and @xmath44 are of size @xmath45 ) , denoting the transition probabilities from the states of level @xmath3 to the states of level @xmath46 .",
    "it is notable that in our qbd process of relay buffer , different levels have different number of phases , and the transition probabilities of one state depend on its level , thus the qbd process is level - dependent and it is very difficult to solve its limiting distribution by determining its critical matrices and conducting recursive algorithm @xcite . to address this issue",
    ", we adopt a markov chain - collapsing technique @xcite to convert the two - dimensional qbd process to a one - dimensional emc in the next subsection .          for the qbd process of fig .",
    "[ fig : state_machine ] , we integrate all states of a level into only one state , then the two - dimensional qbd process is collapsed to a one - dimensional embedded markov chain ( emc ) . as illustrated in fig .",
    "[ fig : emc ] , one state @xmath47 of the emc corresponds to one level @xmath3 of the qbd process , and @xmath48 denotes the one - step transition probability from state @xmath47 to state @xmath49 in the emc . according to the emc theory @xcite , the state transition probability of the emc is the phase - averaged state transition probability of the qbd process , then we have @xmath50 where @xmath51 denotes the transition probability from state @xmath28 to the states of level @xmath46 , and @xmath52 denotes the conditional probability that the relay buffer is in phase @xmath34 given that it is in level @xmath3 . based on formula  ( [ eq : phase_average ] ) as well as the ergodic and uniform features of the distribution of node location , we have the following lemma regarding the transition probabilities of the emc .",
    "[ lemma : emc_transition ] the one - step transition probability @xmath48 of the emc is determined as @xmath53 where @xmath54 .",
    "see appendix  [ appendix : emc_transition ] for the proof .",
    "we arrange all the states of emc in a low - to - high level way as follows : @xmath55 .",
    "then the corresponding state transition matrix @xmath56 can be determined as @xmath57 .",
    "\\label{eq : emc_matrix}\\ ] ]      with the help of transition matrix @xmath56 , we then construct a self - mapping function for @xmath14 , i.e. , @xmath14 is the fixed - point of this function @xcite , such that @xmath14 as well as the limiting distribution of the occupancy states of a relay buffer can be determined .    from the the state machine of emc in fig .",
    "[ fig : emc ] and the transition matrix @xmath56 , we can see that : 1 ) the emc is irreducible ; 2 ) each state @xmath47 is recurrent ; 3 ) the period of each state @xmath47 is @xmath58 , so each state is aperiodic . based on these properties",
    ", we can conclude that the emc is ergodic , thus its limiting distribution @xmath59 $ ] exists and is unique , and is same as its stationary distribution @xcite .",
    "then we have @xmath60 where @xmath61 is a column vector of size @xmath62 with all elements being @xmath58 , and equation ( [ eq : normalization_equation ] ) follows from the normalization property of a probability vector . combining ( [ eq : balance_equation ] ) with ( [ eq : normalization_equation ] ) we have @xmath63 where @xmath64 .",
    "it is notable that the relay buffer overflows when it is in level @xmath11 , then the critical self - mapping function for @xmath14 is constructed as @xmath65    given a packet generating rate @xmath1 , the self - mapping function does nt contain any unknown parameters except @xmath14 .",
    "thus by solving equation ( [ eq : rop ] ) , we can determine the rop @xmath14 corresponding to a given @xmath1 , and the limiting distribution of the emc can be recursively determined as @xmath66 the limiting distribution @xmath67 $ ] of the qbd process can be further determined as @xmath68 where @xmath69 is given by formula ( [ eq : conditional_pro ] ) in appendix  [ appendix : emc_transition ] .",
    "notice that if we do nt apply the handshake mechanism , we can also develop the corresponding theoretical framework in the same way to model the relay buffer occupancy process , where the rop @xmath14 derived in ( [ eq : rop ] ) just corresponds to the packet dropping probability .",
    "with the help of rop and limiting distribution of occupancy states of a relay buffer , in this section we analyze the delay performance for the concerned buffer - limited manet .",
    "we denote by @xmath70 , @xmath71 and @xmath72 the queuing delay , delivery delay and e2e delay of a packet respectively .",
    "the e2e delay of a packet will be derived by computing its queuing delay and delivery delay respectively .",
    "the queuing delay will be obtained by analyzing the queuing process of the source queue , while the delivery delay will be derived by modeling the packet delivery process as an amc and analyzing the time the chain takes to enter the absorbing state .    before presenting our main results on the delay performance ,",
    "we first provide the following lemma regarding the per node throughput capacity , which is the maximal packet generating rate the manet can stably support , and the corresponding delay can then be determined .",
    "[ lemma : throughput_capacity ] for the considered manet , its per node throughput capacity @xmath73 is given by @xmath74    see appendix  [ appendix : throughput_capacity ] for the proof .",
    "considering a given packet generating rate @xmath1 ( @xmath75 ) , the corresponding rop @xmath14 can be obtained by solving equation ( [ eq : rop ] ) , and the service rate of source queue @xmath18 can be further determined by formula ( [ eq : mu_s ] ) .",
    "thus , in the following analysis , we use @xmath76 and @xmath77 to represent @xmath14 and @xmath18 respectively if there is no ambiguous .",
    "notice that the source queue is a bernoulli / bernoulli queue , thus its average queue length @xmath78 is given by @xcite @xmath79 according to the little s law @xcite , the average delay of a packet in its source queue @xmath80 is given by @xmath81 then , the expected queuing delay @xmath82 is determined as @xmath83      we present the following theorem regarding the expected e2e delay of the concerned buffer - limited manet .",
    "[ theorem : delay ] ( * main result * ) for the concerned manet with number of nodes @xmath0 , relay buffer size @xmath11 and packet generating rate @xmath1 ( @xmath75 ) , the expected delivery delay @xmath84 and the expected e2e delay @xmath85 of a packet are determined as @xmath86 where @xmath87 .",
    "we focus on a packet @xmath88 which is the hol packet of the source queue at time slot @xmath7 , then in the next time slot , @xmath88 will be delivered to its destination with probability @xmath15 , be forwarded to a relay node with probability @xmath89 , and still stay in the source queue with probability @xmath90 .",
    "thus , the delivery process of packet @xmath88 can be modeled as an absorbing markov chain as illustrated in fig .",
    "[ fig : absorbing_markov ] , where @xmath91 , @xmath92 and @xmath71 denote the states that @xmath88 is in source queue , forwarded to a relay , and delivered to its destination , respectively .",
    "we denote by @xmath93 and @xmath94 the average transition times from the transient states @xmath91 and @xmath92 to the absorbing state @xmath71 , respectively",
    ". then we have @xmath95        we denote by a probability vector @xmath96 the steady state distribution of the corresponding relay queue of @xmath88 in a relay node @xmath97 , where each element @xmath98 denotes the probability that when @xmath88 enters the relay queue , there are @xmath3 packets already in this queue . notice that the location of each node is stationary and ergodic with stationary distribution uniform on the network area , thus when @xmath97 conducts the * r - d * transmission with probability @xmath17 in a time slot , it will deliver a packet for each of the @xmath10 traffic flows with equal probability .",
    "thus , if there are @xmath3 packets already in the relay queue of @xmath88 , the expected time elapsed for @xmath88 to be delivered to its destination is @xmath99 . then we have @xmath100 where ( [ eq : x_r_3 ] ) follows from the normalization property of a probability vector , and @xmath101 is the average queue length of a relay queue , under the condition that the relay buffer is not full .",
    "we denote by @xmath102 the limiting distribution of the level of a relay buffer , under the condition that the relay buffer is not full , then we have @xmath103 and the corresponding conditional average number of packets occupying the relay buffer @xmath104 is given by @xmath105 since these buffered packets are destined to each of the @xmath10 destinations with equal probability , then we have @xmath106    substituting the results of ( [ eq : x_r_4 ] ) , ( [ eq : conditional_level ] ) and ( [ eq : conditional_relay_queue_length ] ) into ( [ eq : x_s ] ) , the average transition times from the transient state @xmath91 to the absorbing state @xmath71 is determined as @xmath107 notice that @xmath108 , the result ( [ eq : delivery_delay ] ) follows , and then the result ( [ eq : end - to - end_delay ] ) follows from @xmath109 .",
    "similar to the two - hop scenario , in the multi - hop manets the packet delivery process and occupancy behaviors of a relay buffer can be also modeled as an amc and a qbd process respectively , so it is expected that our proposed theoretical framework for e2e delay modeling of two - hop manets can be also helpful for that of the multi - hop scenarios .",
    "it is notable , however , the state transition matrix of the qbd process will be different under the two scenarios , and also that with the multi - hop network scenarios there will be multiple transient states in the amc .",
    "based on theorem  [ theorem : delay ] , we can further extend our delay results to the buffer - unlimited scenario ( i.e. , @xmath110 ) , which is shown in the following corollary .",
    "[ corollary : infinite ] considering the relay buffer size tends to infinity ( @xmath110 ) , then @xmath84 and @xmath85 are determined as @xmath111    see appendix  [ appendix : infinite ] for the proof .",
    "notice that when @xmath112 , the results of lemma  [ lemma : throughput_capacity ] and corollary  [ corollary : infinite ] are coincident with the capacity and delay derived in @xcite , where the relay buffer size is assumed to be infinite .",
    "in this section , we conduct case studies to illustrate the application of our theoretical framework for the e2e delay modeling in buffer - limited manets . as illustrated in fig .  [",
    "fig : framework ] , for a given network scenario , the corresponding @xmath15 , @xmath16 and @xmath17 should be determined first , then with the inputs of these probabilities , by sequentially executing the relay buffer analysis module and delay analysis module , this framework finally returns the delay results .",
    "the details of the application of our framework under specific network scenarios are shown in the following subsections .",
    "we first consider a cell - partitioned manet with local scheduling based mac protocol ( ls - mac ) @xcite .",
    "the whole network area is partitioned into @xmath113 non - overlapping cells of equal size . in a time slot",
    ", each cell can support only one pair of nodes for packet transmission , concurrent transmissions in different cells will not interference with each other , and nodes within different cells can not communicate . at the beginning of each time slot , all nodes in a cell contends for the wireless channel access using a dcf - style mechanism @xcite .",
    "in addition to these network settings , the manet also meets the set of assumptions described in section  [ subsection : assumption ] .    with the detailed information of network settings , we then determine the corresponding probabilities @xmath15 , @xmath16 and @xmath17 , provided in the following lemma .",
    "[ lemma : probabilities_ls ] for the concerned cell - partitioned manet with ls - mac , the probabilities @xmath15 , @xmath16 and @xmath17 are given by @xmath114 @xmath115    see appendix  [ appendix : basic_probabilities ] for the proof .",
    "given the number of nodes @xmath0 and relay buffer size @xmath11 , substituting formulas  ( [ eq : p_sd_ls ] ) and ( [ eq : p_sr_ls ] ) into formula  ( [ eq : throughput_capacity ] ) , we first determine the throughput capacity @xmath73 of such a manet .",
    "then with any packet generating rate @xmath75 , we substitute formulas  ( [ eq : p_sd_ls ] ) and ( [ eq : p_sr_ls ] ) into equation  ( [ eq : rop ] ) to determine the corresponding rop @xmath76 , and @xmath77 can be further determined by formula  ( [ eq : mu_s ] ) .",
    "substituting @xmath1 , @xmath76 and @xmath77 into formulas  ( [ eq : queuing_delay ] ) , ( [ eq : delivery_delay ] ) and ( [ eq : end - to - end_delay ] ) , we finally obtain the results of queuing delay , delivery delay and e2e delay respectively for the concerned buffer - limited manet .",
    "we then consider a more general cell - partitioned manet which applies the power control and equivalent - class based mac protocol ( ec - mac ) @xcite . as",
    "shown in fig .",
    "[ fig : power_control ] , the transmission range of a transmitter @xmath116 covers a set of cells which have a horizontal and vertical distance of no more than @xmath117 cells away from its own cell .",
    "meanwhile , as illustrated in fig .",
    "[ fig : ec_mac ] , all cells are divided into different ecs , where any two cells in the same ec have a horizontal and vertical distance of some multiple of @xmath118 cells .",
    "thus , the manet contains in total @xmath119 ecs and ecs are activated alternatively as time evolves .",
    "suppose that at time slot @xmath7 , a transmitter @xmath120 in an active cell will transmit a packet to its receiver @xmath121 , in order to ensure the transmission successful , according to the protocol model @xcite it should satisfy that @xmath122 where @xmath123 denotes a concurrent transmitter in any one of the other active cells , @xmath124 denotes the distance between nodes @xmath3 and @xmath34 , and @xmath125 is a guard factor .",
    "thus we have @xmath126 and @xmath118 should be set as @xmath127    regarding the corresponding probabilities @xmath15 , @xmath16 and @xmath17 of this type of manets , we have the following lemma .",
    "[ lemma : probabilities_ec ] for the concerned manet with power control and ec - mac , the probabilities @xmath15 , @xmath16 and @xmath17 are given by @xmath128 @xmath129 where @xmath130 .",
    "see appendix  [ appendix : basic_probabilities ] for the proof .    by applying the same operations of our theoretical framework as the previous subsection",
    ", we can obtain the delay results for the concerned manets .",
    "notice that to apply our theoretical framework for the e2e delay modeling , it only needs to determine the inputs of the framework , i.e. , the probabilities @xmath15 , @xmath16 and @xmath17 .",
    "thus , this framework also has the great potential to be applied to many other network scenarios .",
    "for example , for the manets where the 2hr routing scheme is administered by cell @xcite ( not by each node in our case ) , and the ratio between * s - r * and * r - d * transmission can be changed @xcite ( we fix the ratio as @xmath131 ) , these probabilities can be determined .",
    "recently , chen  _ et al . _",
    "@xcite has reported that how to compute these probabilities for a manet under the continuous network model and the aloha mac protocol , then with these probabilities as the inputs of our framework , the corresponding delay analysis under the practical buffer constraint can be conducted .",
    "in this section , we first conduct simulations to validate our theoretical framework for the e2e delay modeling in buffer - limited manets , then provide discussions about the impacts of network parameters on delay performance .      for the validation of our theoretical framework and delay results",
    ", a specific c++ simulator was developed to simulate the packet generating , queuing and delivery processes in a cell - partitioned manet @xcite , where the network settings , including relay buffer size @xmath11 , number of nodes @xmath0 , partition parameter @xmath132 , packet generating rate @xmath1 and the mobility model can be flexibly adjusted to simulate the network performance under various scenarios .",
    "for the network scenario with power control and ec - mac , we set @xmath133 and @xmath134 @xcite . the duration of each task of simulation is set to be @xmath135 time slots , and we only collect data from the last @xmath136 of the time slots in each task ( the system will be in the steady state with high probability ) , to ensure the accuracy of simulated results .      first , we provide plots of the theoretical and simulated rop performance under two network scenarios in fig .  [",
    "fig : rop_simulation ] , and for each scenario we consider two cases ( case 1 : @xmath137 , and case 2 : @xmath138 ) and two mobility models ( the i.i.d mobility model and the random walk model ) .",
    "the workload is defined as @xmath139 .",
    "we can see from fig .  [",
    "fig : rop_simulation ] that the simulation results match nicely with the theoretical ones for all the cases , which indicates that our framework is highly efficient in depicting the occupancy behaviors of the relay buffer in buffer - limited manets .    then , with the same network settings , we provide plots of the theoretical and simulated e2e delay results in fig .",
    "[ fig : delay ] .",
    "it is observed from fig .",
    "[ fig : delay ] that all the simulation results can match the corresponding theoretical curves very nicely , indicating that : 1 ) our theoretical framework is highly efficient for the e2e delay modeling in buffer - limited manets ; 2 ) the framework is very general since it can be applied to various network scenarios .",
    "another observation of fig .",
    "[ fig : delay ] is that the packet e2e delay increases sharply as the packet generating rate @xmath1 approaches a specific value ( e.g. , under ls - mac and case 1 , the value is around 0.038 ) , which serves as an intuitive impression of its corresponding throughput capacity @xmath73 .    to further validate our framework on throughput capacity , fig .",
    "[ fig : throughput ] summarizes the simulation results on the achievable per node throughput , where two network scenarios with different throughput capacity ( ls - mac : @xmath140 ) and ( power control and ec - mac : @xmath141 ) are presented .",
    "we can see that for each network scenario there , the per node throughput first monotonously increases before the workload reaches @xmath58 , and then remains a constant which is just the corresponding throughput capacity when the workload exceeds @xmath58 .",
    "thus , it indicates that the proposed framework is also efficient in depicting the per node throughput capacity behavior of the buffer - limited manet .    .",
    "power control and ec - mac : @xmath142.,width=288 ]      with the help of our theoretical framework for the e2e delay modeling , we explore how the network parameters affect the the delay performance of a buffer - limited manet . without loss of generality , we consider here a cell - partitioned manet with ls - mac .    ) under different settings of relay buffer size .",
    "@xmath143.,width=288 ]    we first summarize in fig .  [",
    "fig : delivery_delay ] that how the expected delivery delay @xmath84 varies with the workload .",
    "a very interesting observation is that under the buffer - limited scenarios ( @xmath144 and @xmath145 ) , as workload increases , @xmath84 first increases to a maximum and then decreases .",
    "this is due to the reason that the effects of workload on @xmath84 are two folds . on one hand",
    ", a larger workload will lead to a longer relay queue length , which further leads to a higher delay in the relay queue ; on the other hand , a larger workload will lead to a higher rop , which further leads to a lower probability that a packet to be delivered by a two - hop way , such that @xmath84 decreases . since the latter effect , the delivery delay under a small relay buffer is lower than that under a large one .     under different settings of relay buffer size .",
    "@xmath143.,width=288 ]    .,width=288 ]    fig .",
    "[ fig : end - to - end_delay_vs_lambda ] shows the relationship between the expected e2e delay @xmath85 and packet generating rate @xmath1 .",
    "we can see that under buffer - limited scenarios , as @xmath1 increases , @xmath85 does nt increase all the time because the delivery delay will decrease when @xmath1 exceeds a specific value , however when @xmath1 approaches the corresponding throughput capacity , @xmath85 increases sharply because the queuing delay tends to infinity .",
    "it also can be seen that when @xmath1 is small , @xmath85 under @xmath144 is smaller than that under @xmath145 , since both of the queuing delay under two settings are small , but a small relay buffer can lead to a small delivery delay .",
    "however , with @xmath1 getting larger and larger , @xmath85 under @xmath144 finally exceeds that under @xmath145 , and tends to infinity earlier .",
    "it indicates that increasing the relay buffer size can ensure the e2e delay limited for a larger region of packet generating rate .",
    "we illustrate in fig .",
    "[ fig : end - to - end_delay_vs_buffer ] how @xmath85 varies @xmath11 under the settings of @xmath146 .",
    "according to formula  ( [ eq : throughput_capacity ] ) , @xmath147 when @xmath148 , and @xmath73 increases as @xmath11 increases . thus , for @xmath149 which is much smaller than @xmath150 , @xmath85 increases as @xmath11 increases and finally tends to a constant @xmath151 which can be determined by formula  ( [ eq : end - to - end_delay_infinite ] ) . while for @xmath152 which is very close to the @xmath73 under @xmath148 , @xmath85 under @xmath148 is very large . with @xmath11 increasing , the corresponding @xmath73 increases , leading to the @xmath85 first decreases ,",
    "then increases and finally tends to a constant @xmath153 .     and number of nodes @xmath0 .",
    "@xmath144.,width=288 ]     and number of nodes @xmath0 .",
    "@xmath152.,width=288 ]    we further illustrate in two 3d figures ( fig .  [",
    "fig : delay_lambda_node ] and fig .",
    "[ fig : delay_buffer_node ] ) that how @xmath85 is influenced by @xmath154 and @xmath155 , respectively ( the ratio of @xmath0 to the number of cells keeps as @xmath156 ) .",
    "we can see that the variations of @xmath85 with @xmath0 are complicated , but in general @xmath85 increases as @xmath0 increases .",
    "a more careful observation is that when @xmath0 increases , @xmath85 first increases almost linearly when @xmath1 is much smaller than @xmath73 , then increases quickly when @xmath1 approaches @xmath73 . for example",
    ", these behaviors can be found in fig .",
    "[ fig : delay_lambda_node ] under @xmath157 and in fig .",
    "[ fig : delay_buffer_node ] under @xmath148 .",
    "this paper represents a significant step towards the exact end - to - end delay modeling of practical buffer - limited manets . with the help of the theories of fixed - point , qbd process , emc and amc",
    ", a novel theoretical framework has been developed to efficiently depict the highly dynamics in such networks .",
    "this framework is general in the sense that it can be applied to the manets with any mobility model that leads to the uniform distribution of the locations of nodes , and any mac protocol as long as the probabilities @xmath15 , @xmath16 and @xmath17 there can be determined .",
    "also , it is expected the framework can shed light on the e2e delay modeling for multi - hop manets .",
    "extensive simulations have been conducted to validate the efficiency and applicability of our framework , and some interesting theoretical findings about the impacts of network parameters on delay performance have been discussed .",
    "notice that our e2e delay modeling for buffer - limited manets is based on the 2hr routing and relay buffer constraint , so one of the future research directions is to extend our study to the e2e delay modeling for manets with multi - hop routing schemes and more practical buffer constraint on both source buffer and relay buffer .",
    "another appealing direction is to explore the delay modeling for the concerned manets with the consideration of more practical network settings ( such as the wireless channel fading ) and apply the well - known ns-2 network simulator for model validation .",
    "we denote by @xmath158 the packet arrival rate at the relay buffer in @xmath12 . due to the ergodic and uniform properties of node mobility , for node @xmath12 ,",
    "each of the remaining @xmath10 nodes ( except @xmath13 ) is likely to serve as its relay with equal probability . due to the symmetry of nodes and traffic flows , for @xmath12 serving as a relay ,",
    "all the other @xmath10 nodes are likely to forward packets to its relay buffer .",
    "notice that the packet departure process of source queue is a bernoulli process with rate @xmath1 , and from ( [ eq : mu_s ] ) we can see the ratio of * s - r * transmission to the whole packet departure is @xmath159 , then we have @xmath160    regarding the transition probability from state @xmath28 to the states in its adjacent upper level @xmath161 , we have the following equation @xmath162 combining ( [ eq : lambda_r ] ) with ( [ eq : lambda_r_1 ] ) we have @xmath163 substituting ( [ eq : p_ij_i+1 ] ) into ( [ eq : phase_average ] ) we have @xmath164    regarding the transition probability from state @xmath28 to the states in its adjacent lower level @xmath165 , when @xmath12 conducts a * r - d * transmission with probability @xmath17 , due to the ergodic and uniform features of node mobility , it will choose one of the other @xmath10 nodes as its receiver with equal probability .",
    "then we have @xmath166    to determine the conditional probability @xmath52 , we utilize the following occupancy technique @xcite . considering the relay buffer on level @xmath3 , where each of these @xmath3 buffered packets may be destined for any one of the other @xmath10 nodes ( except @xmath12 and @xmath13 ) , the number of all possible cases @xmath167 is determined as @xmath168 considering the condition that these @xmath3 packets are destined for only @xmath34 different nodes , then the number of possible cases @xmath169",
    "is determined as @xmath170 due to the ergodic and uniform features of node mobility , each of these cases occurs with equal probability . according to the _ classical probability _",
    ", @xmath52 is then determined as @xmath171 it can be easily verified that @xmath172 . combining ( [ eq : p_ij_i-1 ] ) , ( [ eq : conditional_pro ] ) and ( [ eq : phase_average ] ) we have @xmath173",
    "since the relay buffer is limited , it is always stable .",
    "thus , we only need to consider the stability of source queue .",
    "the source queue is a bernoulli / bernoulli queue with packet generating rate @xmath1 and a corresponding service rate @xmath18 .",
    "based on the queuing theory , the source queue is stable ( resp .",
    "unstable ) when @xmath174 ( resp .",
    "@xmath175 ) .    as @xmath1 increases , @xmath14 increases since the network is more congested , and @xmath18 decreases according to formula ( [ eq : mu_s ] ) . thus",
    ", from the definition of throughput capacity , @xmath73 should satisfy that @xmath176 it is notable that when @xmath1 approaches @xmath177 , @xmath178 , and from ( [ eq : rop ] ) we have @xmath179 then @xmath73 is determined by substituting ( [ eq : rop_mu ] ) into ( [ eq : mu_s ] ) .",
    "we denote by @xmath180 , @xmath181 the sums of infinite series @xmath182 and @xmath183 , respectively . notice that @xmath180 is the taylor series expansion from @xmath184",
    ", then we have @xmath185 further we have @xmath186 and @xmath187 where ( [ eq : po_infinite ] ) is obtained by utilizing the lhpital s rule recursively .    substituting ( [ eq : level_infinite ] ) and ( [ eq : po_infinite ] ) into theorem  [ theorem : delay ] , we can obtain ( [ eq : delivery_delay_infinite ] ) and ( [ eq : end - to - end_delay_infinite ] ) directly .",
    "for a cell - partitioned manet with ls - mac , the event that node @xmath12 conducts a * s - d * ( resp . * s - r * or *",
    "r - d * ) transmission in a time slot can be divided into the following sub - events : ( 1 ) @xmath13 is ( resp . is not ) in the same cell with @xmath12 ; ( 2 ) other @xmath188 out of @xmath10 nodes are in the same cell with @xmath12 , while the remaining @xmath189 nodes are not in this cell ; ( 3 ) @xmath12 contends for the wireless channel access successfully .",
    "thus we have @xmath190 and @xmath191              j.  andrews , s.  shakkottai , r.  heath , n.  jindal , m.  haenggi , r.  berry , d.  guo , m.  neely , s.  weber , s.  jafar , and a.  yener , `` rethinking information theory for mobile ad hoc networks , '' _ ieee commun . mag .",
    "_ , vol .",
    "46 , no .  12 , pp . 94101 , 2008 .",
    "a.  goldsmith , m.  effros , r.  koetter , m.  medard , and l.  zheng , `` beyond shannon : the quest for fundamental performance limits of wireless ad hoc networks , '' _ ieee commun . mag .",
    "_ , vol .",
    "49 , no .  5 , pp . 195205 , 2011 .",
    "j.  gao , j.  liu , x.  jiang , o.  takahashi , and n.  shiratori , `` throughput capacity of manets with group - based scheduling and general transmission range , '' _ ieice trans .",
    "_ , vol .",
    "96 , no .  7 , pp . 17911802 , 2013 .",
    "j.  liu , x.  jiang , h.  nishiyama , n.  kato , and x.  shen , `` end - to - end delay in mobile ad hoc networks with generalized transmission range and limited packet redundancy , '' in _ proc .",
    "ieee wcnc _ , 2012 , pp .",
    "17311736 .      j.  gao and x.  jiang , `` delay modeling for broadcast - based two - hop relay manets , '' in _",
    "11th international symposium on modeling and optimization in mobile , ad hoc and wireless networks ( wiopt ) , ieee _ , 2013 , pp .",
    "357363 .",
    "d.  ciullo , v.  martina , m.  garetto , and e.  leonardi , `` impact of correlated mobility on delay - throughput performance in mobile ad hoc networks , '' _ ieee / acm trans .",
    "_ , vol .  19 , no .  6 , pp .",
    "17451758 , 2011 ."
  ],
  "abstract_text": [
    "<S> this paper focuses on a class of important two - hop relay mobile ad hoc networks ( manets ) with limited - buffer constraint and any mobility model that leads to the uniform distribution of the locations of nodes in steady state , and develops a general theoretical framework for the end - to - end ( e2e ) delay modeling there . </S>",
    "<S> we first combine the theories of fixed - point , quasi - birth - and - death process and embedded markov chain to model the limiting distribution of the occupancy states of a relay buffer , and then apply the absorbing markov chain theory to characterize the packet delivery process , such that a complete theoretical framework is developed for the e2e delay analysis . with the help of this framework , we derive a general and exact expression for the e2e delay based on the modeling of both packet queuing delay and delivery delay . to demonstrate the application of our framework , case studies are further provided under two network scenarios with different mac protocols to show how the e2e delay can be analytically determined for a given network scenario . </S>",
    "<S> finally , we present extensive simulation and numerical results to illustrate the efficiency of our delay analysis as well as the impacts of network parameters on delay performance .    mobile ad hoc networks ( manets ) , </S>",
    "<S> limited buffer , end - to - end delay , performance modeling </S>"
  ]
}