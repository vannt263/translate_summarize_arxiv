{
  "article_text": [
    "the still growing global electricity demand , greenhouse gas emissions from fossil fuel power plants , and climate change have given rise to an increasing combination of renewable energy sources such as solar and wind into the grid . by integrating renewable energy generators at the user level , the demand of individual users can be met locally , which effectively reduces both the carbon dioxide emissions of fossil fuel based power plants and the transmission losses from power plants to the end - users .",
    "moreover , demand response ( dr ) capability of users helps smooth out the inherently variable power output from fluctuating renewable energy resources and improve the system reliability @xcite . specifically , dr can adjust users power consumption over time to match the power generation of their individual renewable energy generators as closely as possible .",
    "this reduces the need of purchasing power from the grid , especially during the peak - demand period where the electricity price is high , which in fact reduces the need for peak power plants on the generation side .    in practice",
    ", dr may not be sufficient to alleviate the intermittent and stochastic nature of renewable energy generators , since users have also `` must - run '' loads such as lighting that can not be deferred . in this case , energy storage systems ( esss )",
    "can be deployed to help users by being charged whenever there is renewable energy surplus and discharged in case of energy deficit .",
    "thanks to the technology advances , integrating esss at the user level , e.g. , residential and commercial users , has become viable @xcite .",
    "however , due to high upfront investment cost ( especially for the large number of users and without sufficient government funding ) as well as the space limitation , installing distributed esss for individual users may not be feasible in all circumstances . consequently",
    ", the concept of _ shared ess _ has become appealing @xcite , by which the surplus renewable energy of some users can be charged into a shared ess , and then be discharged by others upon their renewable energy deficit . in general , the shared ess can be considered as a third party , where users can sell / buy energy to / from it when needed , but at lower costs compared to the tariffs offered by the grid .    in this paper ,",
    "a system with multiple _ self - interested _ users , each with renewable energy generation , fixed and controllable loads , and one ess shared among all users is considered .",
    "it is assumed that renewable energy generation at all users can be perfectly predicted . in practice , each user needs to be motivated to sell / buy energy to / from the shared ess . to do so",
    ", an iterative algorithm is proposed by which a central controller coordinates the energy charged / discharged to / from the shared ess such that users individual energy costs reduce simultaneously as compared to the case where they do not trade energy with the shared ess .",
    "the proposed algorithm works based on only limited information received from each user and thus preserves their privacy .",
    "next , given the optimized charging / discharging values , each user independently optimizes the energy consumption of its controllable loads and that purchased from the grid . for performance benchmark , the case of _ cooperative _",
    "users that all belong to the same entity or different entities with common interests is also studied . in this case , all users seek a common goal , e.g. , minimization of the total energy cost , and thus share all the required information with the central controller . finally , the performance of the proposed algorithms for the cases of self - interested and cooperative users are evaluated using simulations based on realistic system data of california , us @xcite .",
    "the energy management problem for users with esss has been well studied in the literature .",
    "however , most of the previous works , e.g. , @xcite , assume that either each user owns an ess that is not shared with others or all users have common interests and cooperate to follow a common goal , e.g. , minimizing the total energy cost , where their individual energy costs and privacy issues are not considered .",
    "on the other hand , the idea of a shared ess among users and network operator was introduced in @xcite , and interesting preliminary results were reported . the proposed policy for charging / discharging and satisfying the demand responsive loads in @xcite makes decisions heuristically and based on only the hourly electricity prices offered by the grid operator , while other practical considerations are neglected .",
    "moreover , users are considered to be cooperative ; thus , the cost reduction of individual user in using the shared ess is not discussed .",
    "recently , @xcite solved the cost minimization problem for energy consumers with demand response capability with no renewable energy integration .",
    "their proposed distributed algorithm aims at minimizing the total energy cost of all users and the resulting benefit in cost reduction is then fairly shared among users according to their flexibility in load shifting .    in this paper",
    ", we design an algorithm by leveraging convex optimization techniques to solve the energy management problem of self - interested users sharing a common ess while exchanging only limited information with the central controller .",
    "in contrast to the prior works on the management of users with a shared ess @xcite , our proposed algorithm always guarantees that energy costs of individual users reduce concurrently compared to the case of no energy trading with the shared ess , which motivates users to participate in the energy trading program in practice .",
    "as shown in fig . [ fig : systemmodel ] , we consider a system of @xmath0 users , indexed by @xmath1 , @xmath2 , each of which can be a single energy consumer ( residential , commercial , or industrial ) or a group of consumers controlled by an aggregator .",
    "specifically , we consider that users have their own renewable energy generators supplying a part or all of their loads over time .",
    "the users loads are divided into two main types ; fixed and controllable , where fixed loads need to be satisfied at the instant requested , while controllable loads can be satisfied within given desired time periods .",
    "an energy storage system ( ess ) is shared among all users , where they charge / discharge to / from it whenever necessary .",
    "the users receive / pay money when charging / discharging to / from the shared ess , with a priori known prices .",
    "we consider a central controller coordinates the use of the shared ess based on the information received from users , and optimizes the energy charged / discharged to / from the shared ess by all users such that their energy costs decrease at the same time compared to the case that they operate independently without charging / discharging to / from the shared ess .",
    "furthermore , we consider that users are all connected to the grid , which consists of conventional fossil fuel based power plants , and can draw energy from it in case of renewable energy deficit .",
    "last , for our convenience , we use a time - slotted system with slot index @xmath3 , @xmath4 , with @xmath5 denoting the total number of scheduling times slots , where the duration of each slot is normalized to a unit time and power and energy are thus used interchangeably in this paper . in the following , we define each system component in detail .",
    "+      let @xmath6 denote the energy drawn from the grid by user @xmath1 at time slot @xmath3 , where its corresponding cost for the user is modelled by @xmath7 .",
    "we assume that @xmath8 is a convex and monotonically increasing function over @xmath6 .",
    "note that our proposed grid energy cost model is time - varying in general .",
    "let @xmath9 and @xmath10 denote the energy charged / discharged to / from the shared ess by user @xmath1 at time slot @xmath3 , respectively , where @xmath11 and @xmath12 are the maximum charging and discharging rates of the shared ess , respectively .",
    "the energy losses during the charging and discharging processes are specified by charging and discharging efficiency parameters , denoted by @xmath13 and @xmath14 , respectively .",
    "we denote @xmath15 as the available energy in the shared ess at the beginning of time slot @xmath3 , which can be derived recursively as follows : @xmath16 furthermore , practical ess has a finite capacity and can not be fully discharged to avoid deep discharging .",
    "we thus have the following constraints for the states of the shared ess : @xmath17 where @xmath18 and @xmath19 are the minimum and maximum allowed states of the shared ess , respectively .",
    "we set @xmath20 by default .",
    "intuitively , it is not optimal for users to charge / discharge to / from the shared ess at the same time due to the energy loss in charging / discharging processes ; hence , for each user we consider @xmath21 and @xmath22 satisfying @xmath23 last , we assume that users receive / pay money when charging / discharging to / from the shared ess , with known prices .",
    "let @xmath24 and @xmath25 , denote the selling / buying prices of user @xmath1 to / from the shared ess at time slot @xmath3 , which are set lower than the price offered by the grid at the same time slot .",
    "this motivates the energy trading with the shared ess .",
    "let @xmath26 denote the number of controllable loads of user @xmath1 , indexed by @xmath27 , @xmath28 .",
    "specifically , controllable load @xmath27 of user @xmath1 requires @xmath29 amount of energy to complete its task over the given time slots @xmath30 , with @xmath31 and @xmath32 denoting the starting and termination time slots , respectively . for convenience ,",
    "we define @xmath33 .",
    "let @xmath34 denote the energy allocated to controllable load @xmath27 of user @xmath1 at time slot @xmath3 .",
    "due to practical considerations , over time slots @xmath35 , @xmath36 should be higher ( lower ) than a given minimum ( maximum ) threshold @xmath37 ( @xmath38 ) .",
    "however , over time slots @xmath39 , @xmath40 , since the load should be satisfied just within its given scheduling time period @xmath41 . by default , we set @xmath42 , to ensure that controllable load @xmath27 of user @xmath1 is practically schedulable . to summarize ,",
    "we have the following constraints for all controllable loads of user @xmath1:@xmath43      let @xmath44 and @xmath45 denote the renewable energy generation and the aggregate fixed loads of user @xmath1 at time slot @xmath3 , respectively .",
    "we then define @xmath46 , @xmath47 , as the _ net energy profile _ of user @xmath1 over time .",
    "generally , @xmath48 s are all stochastic due to the randomness in the renewable energy generation , but can be predicted with finite errors .",
    "however , in this paper , we assume that @xmath48 s are perfectly known to individual users prior to the scheduling , e.g. , day - ahead energy management .",
    "last , since the user @xmath1 needs to satisfy its combined load , i.e. , sum of fixed and controllable load , over each time slot @xmath3 , we consider the following energy neutralization constraints : @xmath49    in the following , we formulate the energy management problem for self - interested users .",
    "let @xmath50^t$ ] and @xmath51^t$ ] , with @xmath52^t$ ] and @xmath53^t$ ] , denote the charging and discharging vectors .",
    "given any charging and discharging vectors @xmath54 and @xmath55 satisfying the practical constraints of the shared ess given in ( [ eq : storage ] ) and ( [ const : zerocd ] ) , the minimum energy cost of user @xmath1 , denoted by @xmath56 , is derived as @xmath57 where @xmath58 denotes the set of all decision variables for ( p1@xmath59 m ) .",
    "it can be readily verified that @xmath56 is jointly convex over @xmath54 and @xmath55 @xcite .",
    "define @xmath60^t$ ] and @xmath61^t$ ] , where @xmath62^t$ ] and @xmath63^t$ ] . given",
    "any charging and discharging vectors @xmath54 and @xmath55 , the energy costs of all users can be decreased simultaneously , compared to the case of no shared ess , if and only if there exists sufficiently small @xmath64 and @xmath65 with @xmath66 and @xmath67 satisfying @xmath68 , @xmath69 , ( [ eq : storage ] ) , and ( [ const : zerocd ] ) such that @xmath70 , @xmath71 . in the following , we first characterize the effect of changing the charging and discharging vectors @xmath54 and @xmath55 to @xmath66 and @xmath67 on the cost of each individual user @xmath1 , i.e. , @xmath72 , by investigating the dual problem of ( p1@xmath59 m ) .",
    "next , we search for desirable @xmath64 and @xmath65 that can decrease the energy costs of all users simultaneously .",
    "let @xmath73 be the lagrange dual variables corresponding to constraints in ( [ const_neut ] ) .",
    "the lagrangian of ( p1@xmath59 m ) is given by @xmath74 the dual function of ( p1@xmath59 m ) is then given by @xmath75 the dual problem of ( p1@xmath59 m ) is thus expressed as @xmath76 denote @xmath77 as the optimal solution to ( d1 ) , where @xmath78 is the set of all optimal dual variables .",
    "accordingly , @xmath72 is given by the following lemma .",
    "[ derivatives ] under any given @xmath64 and @xmath65 , the change in the energy cost of user @xmath1 by adjusting the energy charged / discharged to / from the shared ess is given by @xmath79 where @xmath80 and @xmath81 are sufficiently small , @xmath82 and @xmath83 are derivatives of @xmath84 with respect to @xmath85 and @xmath86 , respectively .",
    "note that @xmath84 may not be differentiable in @xmath85 and @xmath86 .",
    "however , it follows from @xcite that the left and right - partial derivatives of @xmath84 with respect to @xmath85 and @xmath86 still exist , which can be given as follows : @xmath87    given the partial derivatives in ( [ eq_derivative_c ] ) and ( [ eq_derivative_d ] ) , @xmath84 can be approximated as follows is differentiable , @xmath88 is unique ; thus , right - partial and left - partial derivatives are equal . ] : @xmath89^+ + \\frac{\\partial f_m(\\cdot)}{\\partial d_{mn}^+}[\\delta d_{m , n}]^+}\\nonumber\\\\ & -\\sum_{n=1}^{n } { \\frac{\\partial f_m(\\cdot)}{\\partial c_{mn}^-}[-\\delta c_{m , n}]^+-\\frac{\\partial f_m(\\cdot)}{\\partial d_{mn}^-}[-\\delta d_{m , n}]^+}. \\end{aligned}\\ ] ] where @xmath90^+\\triangleq \\max(0,x)$ ] .    given proposition [ derivatives ] , we seek for sufficiently small @xmath64 and @xmath91 , with @xmath68 and @xmath92 satisfying the constraints in ( [ eq : storage ] ) and ( [ const : zerocd ] ) , such that @xmath70 , @xmath71 .",
    "we investigate the existence of such @xmath64 and @xmath93 by solving the following feasibility problem . ) ; hence , @xmath94 and @xmath95 are jointly optimized in ( f1 ) . ]",
    "@xmath96 where @xmath97 is a small step size .",
    "particularly , the constraints in ( [ const_feasibility_small ] ) restricts each @xmath64 and @xmath65 to take small steps , since ( [ eq : first_order_app ] ) is only valid in proximity of @xmath54 and @xmath55 .",
    "the constraints in ( [ const_feasibility_1])-([const_feasibility_2 ] ) present practical considerations of the shared ess .",
    "last , the constraints in ( [ const_feasibility_5 ] ) ensure that energy costs of all users decrease simultaneously when @xmath54 and @xmath55 are changed to @xmath66 and @xmath67 .",
    "note that ( f1 ) is a non - convex optimization problem due to constraints ( [ const_feasibility_2 ] ) and ( [ const_feasibility_5 ] ) .",
    "however , constraints ( [ const_feasibility_small])-([const_feasibility_4 ] ) specify a convex set over @xmath98 and @xmath99 .",
    "to solve ( f1 ) , we search over the set specified by constraints ( [ const_feasibility_small])-([const_feasibility_4 ] ) to find @xmath98 and @xmath99 that satisfy ( [ const_feasibility_2 ] ) and ( [ const_feasibility_5 ] ) . our algorithm to design the charging and discharging vectors @xmath54 and @xmath55 is summarized in table i , as algorithm @xmath100 .",
    "is of no concern . ]    ' '' ''    * algorithm 1 *    ' '' ''    * initialize @xmath101 , @xmath102 , and flag@xmath103 . * * while * @xmath104 * do * : * * given the charging and discharging vectors @xmath54 and @xmath55 , each user @xmath1 computes @xmath82 and @xmath83 using ( [ eq_derivative_c ] ) and ( [ eq_derivative_d ] ) , respectively .",
    "derivatives are then sent to the central controller . *",
    "* given the received derivatives from all @xmath1 users , the central controller then searches for @xmath94 and @xmath95 via solving the feasibility problem in ( f1 ) .",
    "if ( f1 ) is infeasible , flag@xmath105 is set . otherwise , the charging and discharging vectors @xmath54 and @xmath55 are updated as @xmath66 and @xmath67 , respectively . *",
    "the central controller announces @xmath94 and @xmath95 to each user @xmath1 as the final decision for charging and discharging .",
    "given the optimized @xmath94 and @xmath95 , each user then independently solves ( p1-m ) to obtain @xmath106 and @xmath107 .    ' '' ''    [ table : algorithm ]",
    "in this section , we consider that all users either belong to the same entity or different entities with common interests and are willing to share all the required information ( including their renewable energy generation , information of controllable loads , etc . ) with the central controller .",
    "given the provided information , the central controller minimizes the _ total _ energy cost of all users by jointly optimizing the energy charged / discharged to / from the shared ess , that drawn from the grid , and that consumed by controllable loads .",
    "we thus have the following optimization problem for _ cooperative _ users : @xmath108 where @xmath109 denotes the set of all decision variables for ( p2 ) .",
    "it can be easily verified that ( p2 ) is a convex optimization problem and can be solved using standard convex optimization techniques such as the interior point method @xcite .",
    "herein , we do not provide the optimal closed - form solution to ( p2 ) for brevity and leave it for the journal version of this work .",
    "note that constraints in ( [ const : zerocd ] ) are not explicitly included in ( p2 ) ; however , it can be shown that the optimal solution to ( p2 ) always satisfies these constraints .    in the energy management for cooperate users , users need to share all the required information with the central controller ( e.g. , the net energy profiles , requirements of controllable loads , etc .",
    ", over the scheduling period ) .",
    "however , algorithm 1 proposed for self - interested users can be implemented by only knowing the partial derivatives of users energy costs @xmath84 s with respect to @xmath85 and @xmath86 , @xmath110 , @xmath111 ( i.e. , @xmath112 scalars in each iteration ) ; hence , the privacy of users is preserved .",
    "in addition , algorithm 1 minimizes energy costs of users simultaneously such that all achieve lower energy costs compared to the case of no charging / discharging to / from the shared ess , which is a motivation for self - interested users to trade energy with the shared ess .",
    "+    in this section , we consider a system of three users @xmath113 based on the real data available from california , us , over one day , 5 january , 2006 @xcite .",
    "we model user 1 as a building with residential consumers , user 2 as a medium - size office , and user 3 as a restaurant @xcite .",
    "we assume that each user has its own renewable energy generators , including both solar and wind , with profiles shown in fig .",
    "[ fig : users_re ] @xcite .",
    "+    .users controllable loads parameters [ cols=\"^,^,^,^,^,^ \" , ]     table [ table : re_omit ] shows the increment in the total energy cost resulting from eliminating the renewable energy generators in one user , either 1 , 2 , or 3 , compared to the case that all have renewable energy generation .",
    "it is observed that eliminating renewable energy sources of one user in the case that they do not share an ess results in a lower energy cost increase percentage compared to the other two cases of cooperative and self - interested users with a shared ess .",
    "this is because when users do not share an ess , they operate independently ( can not have energy sharing via the shared ess ) and zero energy generation of each user will affect only that specific user .",
    "in contrast , the cases of cooperative and self - interested users have energy cooperation via the shared ess and the lack of renewable energy generation of one user affects the total system energy cost more substantially .",
    "in this paper , we have studied the energy management problem for self - interested users with renewable energy integration , dr capability , and a shared ess .",
    "we proposed an iterative algorithm that gradually updates the energy charged / discharged to / from the shared ess by all users to reduce their individual energy costs simultaneously compared to the case of no energy trading with the shared ess while sharing only limited information with the central controller .",
    "our simulation results show that by deploying our proposed energy management algorithm , all users can achieve much lower energy costs compared to the case of no energy trading with the shared ess and the total energy cost in this case performs fairly close to the lower bound derived from the energy management of fully cooperative users .",
    "our model is useful in practical systems where installing individual ess for each user is either very costly or requires space that is not available .",
    "note that this paper does not provide algorithms for the real - time energy management of the self - interested users in the presence of stochastic renewable energy generation .",
    "devising efficient online algorithms is a possible future direction of this work .",
    "i. atzeni , l. g. ordonez , g. scutari , d. p. palomar , and j. r. fonollosa , `` demand - side management via distributed energy generation and storage optimization , '' _ ieee trans . smart grid _ ,",
    "866 - 876 , june 2013 .",
    "m. r. v. moghadam , r. zhang , and r. t. b. ma , `` demand response for contingency management via real - time pricing in smart grids , '' _ in proc .",
    "smart grid communications ( smartgridcomm ) _ , pp .",
    "632 - 637 , nov . 2014 .",
    "k. rahbar , c. c. chai , and r. zhang , `` real - time energy management for cooperative microgrids with renewable energy integration , '' _ in proc .",
    "ieee smartgridcomm _ ,",
    "25 - 30 , nov .",
    "y. zhang , n. gatsis , and g. b. giannakis , `` robust energy management for microgrids with high - penetration renewables , '' _ ieee trans . sustainable energy _ , vol .",
    "944 - 953 , oct . 2013 .",
    "k. paridari , a. parisio , h. sandberg , and k. h. johansson , `` demand response for aggregated residential consumers with energy storage sharing , '' in _ proc .",
    "ieee conf .",
    "decision and control ( cdc ) _ , pp .",
    "2024 - 2030 , dec . 2015 .",
    "open energy information , `` commercial and residential hourly load profiles for all tmy3 locations in the united states , '' available online at http://en.openei.org/datasets/dataset?sectors=buildings&page=2 , aug .",
    "2016 .",
    "office of energy efficiency @xmath114 renewable energy , `` products @xmath114 technologies , energy - efficient products , '' available online at http://energy.gov/eere/femp/purchasing-energy-efficient-commercial-dishwashers , aug .",
    "2016 . kemet engineering center , `` sodium - sulfur batteries and supercapacitors , '' available online at http://www.kemet.com , aug . 2016 ."
  ],
  "abstract_text": [
    "<S> this paper investigates the energy management problem for multiple self - interested users , each with renewable energy generation as well as both the fixed and controllable loads , that all share a common energy storage system ( ess ) . </S>",
    "<S> the self - interested users are willing to sell / buy energy to / from the shared ess if they can achieve lower energy costs compared to the case of no energy trading while preserving their privacy e.g. sharing only limited information with a central controller . under this setup </S>",
    "<S> , we propose an iterative algorithm by which the central controller coordinates the charging / discharging values to / from the shared ess by all users such that their individual energy costs reduce at the same time . for performance benchmark , the case of cooperative users that all belong to the same entity </S>",
    "<S> is considered , where they share all the required information with the central controller so as to minimize their total energy cost . </S>",
    "<S> finally , the effectiveness of our proposed algorithm in simultaneously reducing users energy costs is shown via simulations based on realistic system data of california , us </S>",
    "<S> .    [ section ] [ section ] [ section ] [ section ] [ section ] [ section ] [ section ] [ section ] </S>"
  ]
}