{
  "article_text": [
    "from tiny ants to large elephants , legged locomotion is the dominant method that animals use to move on the ground . although the leg structures are vastly different across species , the mechanisms for walking , jumping or running obey strikingly similar principles .",
    "these similarities are captured by mathematical models such as the spring - loaded inverted pendulum ( slip ) model , see @xcite , and the lateral leg spring ( lls ) model in @xcite .",
    "the lls model describes motion in the horizontal plane and the slip model describes motion in the sagittal ( vertical ) plane .",
    "we use the lls model in this paper in designing curve tracking control in the horizontal plane ; the runner is modeled as a rigid body with two weightless springs attached to a point in the body called the center of pressure ( cop ) .",
    "each spring represents legs on one side of the body .",
    "the cop is usually not coincident with the center of mass ( com ) .",
    "legged locomotions can be self - stabilized ",
    "the running or walking gaits stay close to being periodic under disturbances  without feedback control .",
    "as indicated by a recent review @xcite , the self - stabilized walking and running happen when the runner moves along a straight line .",
    "there are many interests in engineering practice to design and build legged robots which are versatile on rough and uneven terrains .",
    "legged robots are greatly appreciated in applications such as searching and rescuing missions and planet exploration . in most missions",
    ", the robots must be able to move along an arbitrary path .",
    "feedback control is needed for tracking curved path as well as stabilizing the periodic gaits .    in this paper",
    ", we develop feedback control law for the lls model so that the com follows a curved path . the legged locomotion modeled by the lls model",
    "is a hybrid system .",
    "correspondingly , the tracking control contains a discrete tracking algorithm which guarantees convergence to the desired curve and a continuous law to control the leg parameters of the lls model .",
    "we also develop an optimal control law to stabilize the posture of the rigid body .",
    "section [ sec : com ] serves as an introduction to the lls model .",
    "the discrete tracking algorithm is developed in section [ sec : tr ] . in section [ sec :",
    "model ] , control laws are developed for the leg parameters to enable the discrete tracking algorithm .",
    "the constraints on the parameters and the effects on the tracking behavior are discussed in section [ sec : constraint ] and a modified continuous control law is introduced to handle the constraints .",
    "we then develop an optimal control law to achieve desired posture for the rigid body in section [ sec : rigid ] .",
    "we provide simulation results in section [ sec : sim ] .",
    "in the horizontal plane , motion generated by the lls model starts when the free end of one spring ( or leg ) is placed at a touchdown point @xmath0 . at this",
    "starting moment , the spring is at its free length @xmath1 .",
    "if the com has a non - zero initial velocity @xmath2 that is not perpendicular to the spring , then the spring will be first compressed to a minimum length and later be restored to its free length .",
    "this process , starting and ending with the spring at its free length @xmath1 , is called a _ stance phase _ or simply a _ stance_.",
    "the com moves from the starting position to an ending position after a stance .",
    "suppose that mechanical energy is conserved during each stance , then the starting and ending speed of a stance is identical .",
    "as shown in figure [ fig : bugfigure1 ] , the end of one stance serves as the beginning of the next stance with the touchdown point @xmath0 shifted from one side to the other .",
    "this allows us to distinguish left stances from right stances based on which leg is supporting the body .",
    "the rigid body moves forward as a result of switching between left and right stances .",
    "as shown in figure [ fig : bugfigure1 ] , we use @xmath3 , @xmath4 to denote the position of the com in a lab fixed coordinate frame at the beginning of the @xmath5th stance .",
    "we use @xmath6 to denote the angle between the velocity @xmath7 and the spring at rest . for a right stance , the angle is measured counter - clockwise from the spring to the velocity vector . for a left stance , the angle is measured clockwise from the spring to the velocity vector . under this convention for measuring angles , @xmath6 has to be within the interval @xmath8 to generate forward locomotion .    we can view @xmath3 as points on a curve @xmath9 which is formed by straight line segments that connects @xmath10 with @xmath11 for all @xmath5 .",
    "this curve @xmath9 is not the actual trajectory of the com , but it intersects with the trajectory of the com at the points @xmath3 .",
    "we then let @xmath12 and define @xmath13 .",
    "we also define an angle @xmath14 as the angle between the vector @xmath15 and the horizontal axis of the lab frame , measured counter - clockwise from the axis .",
    "this angle describes the direction of curve @xmath9 for the @xmath5th stance .",
    "the motion of the com can now be described by a discrete system [ equ : dsys ] _",
    "i+1 = _ i + [ q_i _ i , q_i _",
    "next , we develop a boundary tracking algorithm for this discrete system .",
    "suppose at the position @xmath3 , the runner is able to detect a segment of a boundary curve from sensor information , c.f . ,",
    "@xcite and @xcite .",
    "suppose the runner is also able to estimate a point on the boundary curve that has the minimum distance to the com .",
    "we call this point the closest point @xmath16 shown in figure [ fig : bugfigure2 ] . by selecting two extra points on the boundary near @xmath16",
    ", the runner can estimate the tangent vector to the boundary curve @xmath17 and the curvature of the boundary curve @xmath18 using algorithms summarized in @xcite . here",
    "we suppose all estimates are perfect .",
    "we let @xmath19 represent the distance between the com at @xmath3 and the closest point at @xmath20 .",
    "we also let _",
    "i = be the unit vector in the direction of @xmath15 .",
    "we can then define two right handed frames  one at @xmath3 and the other at @xmath16by defining two unit normal vectors @xmath21 and @xmath22 as shown in figure [ fig : bugfigure2 ] .",
    "the angle @xmath23 between @xmath24 and @xmath17 is defined by letting _",
    "i = _ i _ c_i _ i=- _ i _ c_i .    in figure",
    "[ fig : bugfigure2 ] , the closest point on the boundary moves from @xmath16 to @xmath25 during a stance .",
    "we then assume that each stance is short enough so that the curvature of the boundary curve detected during this period can be approximated by a finite constant @xmath18 . from figure",
    "[ fig : bugfigure2 ] , we observe = - _ i. therefore , according to the cosine law , we have [ equ : dist ] ( _ i+1+)^2 = ( _ i+)^2 - 2(_i+ ) q_i _ i + q_i^2 . we can view @xmath19 as state variables and consider @xmath26 as the control over step size and @xmath23 as steering control .",
    "equation ( [ equ : dist ] ) describes the controlled relative motion between the com and the detected boundary curve .",
    "suppose that the step size @xmath26 has been determined .",
    "we need to find @xmath23 such that @xmath19 converges to a desired value @xmath27 as @xmath28 . if we can find a feedback control law @xmath29 such that [ equ : ri ] _",
    "i+1 -_i = f_i(_i-_c ) , then we can choose the function @xmath29 so that @xmath30 .",
    "for example , we may let f_i(_i-_c ) = -k_i(_i-_c ) where @xmath31 .",
    "observe that _",
    "i+1 -_i = _",
    "i+1-_c -(_i -_c ) , and this leads to _ i+1-_c = ( 1-k_i ) ( _ i-_c ) . since @xmath32 , it is true that @xmath33 as @xmath28 .",
    "we now define @xmath34 . in order to achieve ( [ equ : ri ] )",
    ", we replace @xmath35 with @xmath36 in ( [ equ : dist ] ) . from ( [ equ : dist ] )",
    ", we can solve for @xmath37 as [ equ : control ] _ i & = & & = & - - .",
    "when @xmath38 , the solution is @xmath39 .",
    "this corresponds to the runner running parallel to the boundary curve .",
    "note that when @xmath40 , then @xmath41 .",
    "the limit of equation ( [ equ : control ] ) is [ equ : straight ] _",
    "i = - which is equivalent to @xmath42 .",
    "this equation indeed describes the relative motion between the com and a straight line . therefore , all the results that will be obtained from ( [ equ : control ] ) are applicable to ( [ equ : straight ] ) by letting @xmath41 .",
    "a solution exists for @xmath23 in equation ( [ equ : control ] ) if and only if @xmath43 $ ] or @xmath44 $ ] .",
    "a solution exists for @xmath23 if and only if [ equ : ineq1 ] 1 and [ equ : ineq2 ] -1 .    from ( [ equ : ineq1 ] )",
    "we have , f_i^2 + 2 _",
    "i f_i - ( q_i^2 - 2_i q_i ) 0 which is equivalent to ( f_i+(2_i - q_i))(f_i+q_i ) 0 .",
    "this inequality is satisfied if and only if [ equ : con1 ] f_i \\{-q_i , q_i-2_i } f_i \\{-q_i , q_i-2_i}.    from ( [ equ : ineq2 ] ) we have , f_i^2 + 2 _ i f_i - ( q_i^2 + 2_i q_i ) 0 which is equivalent to ( f_i+(2_i+q_i))(f_i - q_i ) 0 .",
    "this inequality is satisfied if and only if [ equ : con2 ] -(2_i+q_i ) f_i q_i .",
    "therefore , combining ( [ equ : con1 ] ) and ( [ equ : con2 ] ) , we have found the necessary and sufficient condition for the existence of solution for @xmath23 as [ equ : condition1 ] -(2_i+q_i)f_i \\{-q_i , q_i-2 _ i } or [ equ : condition2 ]",
    "\\{-q_i , q_i-2_i } f_i q_i .",
    "[ pro : lm2 ] suppose @xmath45 .",
    "let @xmath46 .",
    "there exists @xmath47 such that ( [ equ : condition2 ] ) is satisfied and @xmath23 in ( [ equ : control ] ) has a solution .",
    "if @xmath48 , we may let @xmath49 be any value in the interval @xmath50 and ( [ equ : condition2 ] ) is satisfied .",
    "if @xmath51 , we may let [ eq : kk ] 0<k_i < \\{2 , , } which satisfies ( [ equ : condition2 ] ) .",
    "the condition @xmath52 in lemma [ pro : lm2 ] indicates that each step size should not be too big .",
    "if the curve has large curvature i.e. small turning radius , then the runner must reduce its step size when being close to the curve . for a straight line , since @xmath53 is arbitrarily large , there is no constraints on the step size @xmath26 .",
    "[ pro : t1 ] suppose the step size @xmath26 satisfy @xmath54 .",
    "let @xmath46 .",
    "select @xmath47 such that @xmath23 in ( [ equ : control ] ) has a solution . then under the control @xmath26 and @xmath23 , we have @xmath33 as @xmath55 .    under the selection of @xmath26 , @xmath56 and @xmath49",
    ", we have _",
    "i+1 -_c = ( 1-k_i ) ( _ i-_c ) for all @xmath5 .",
    "since @xmath32 , the convergence is proved .",
    "once @xmath23 is determined from ( [ equ : control ] ) , we can compute the direction of @xmath15 in the lab frame .",
    "this is because [ equ : angle1 ] _ i = _ i - _ i where @xmath57 is the angle between the horizontal axis of the lab frame and the vector @xmath58 , measured counter clockwise from the horizontal axis . knowing @xmath26 and @xmath14 allows us to compute the position of the com for the next stance from the discrete system given by equation ( [ equ : dsys ] ) .",
    "in order to generate desired @xmath26 and @xmath14 to control the com movement , the runner needs to change its leg placements or the elasticity of the legs .",
    "we investigate the dynamics during each stance to establish the relations between the com motion and the leg parameters .",
    "leg parameters for a right stance and a left stance often differ only by the sign .",
    "since a right stance is always followed by a left stance and vice versa , _ we use the convention that the stance @xmath59 is always a right stance and stance @xmath60 is always a left stance_. therefore , stance @xmath61 must be a right stance , etc . in the following , we will only show detailed derivation for a right stance ; similar results for a left stance will be listed directly .",
    "we set up a polar coordinate system at the touchdown point @xmath62 with the horizontal @xmath63-axis parallel to the horizontal @xmath64-axis of the fixed lab frame .",
    "let @xmath65 be the polar coordinates of the com in this frame and let @xmath66 describe the orientation of the rigid body .",
    "then the total energy is [ equ : energy ] e = m ^2 + m",
    "^2 ^2 + i ^2 + v ( ) where we assume the spring has potential energy @xmath67 which depends only on its length . during each stance , the dynamics can be described as a continuous nonlinear hamiltonian system ; the hamilton equations are developed in @xcite .",
    "the system is not integrable when the distance between the com and the cop is nonzero . in this case",
    "numerical methods are necessary to compute the trajectory of the com from knowledge of the states @xmath68 .    to illustrate analytical insights for the tracking problem , it is much easier to study the case when the cop and com coincide .",
    "this is because the corresponding system is integrable .",
    "the hamilton equations for the dynamics of the com are [ equ : lls ] p_&= & m p_&= & m ^2 p_&= & p_^2 - p_&= & 0 .    we plot one right stance in figure [ fig : bugfigure3 ] .",
    "let @xmath69 be the velocity of the com at the beginning of the @xmath59th stance .",
    "this @xmath69 provides initial value for the states @xmath70 and @xmath71 of the system ( [ equ : lls ] ) .",
    "because mechanical energy is conserved , the speed @xmath72 satisfies @xmath73 .",
    "we let @xmath74 represent the angle measured from the leg to the velocity @xmath69 at the moment of touchdown , and we call @xmath74 _ the leg placement parameter_. we use @xmath75 to measure the direction of velocity in the lab frame . by using simple geometric relationships in figure [ fig : bugfigure3 ]",
    ", we have --_k= _ k -_k .",
    "therefore , using equation ( [ equ : angle1 ] ) , [ equ : alpha ] _ k",
    "-_k-_k = -_k- .",
    "note that @xmath76 is the relative angle between @xmath69 and @xmath77 : the tangent vector to the boundary curve at the closest point .",
    "we know @xmath78 is the angle between vector @xmath79 and the same tangent vector @xmath77 .",
    "therefore , @xmath80 is the angle between @xmath69 and @xmath79 .",
    "from ( [ equ : alpha ] ) , we see that changing @xmath74 will change the direction of the com movement @xmath79 .",
    "this is also true for a left stance where we have [ equ : alpha2 ] _ k+1- _",
    "k+1-_k+1= - ( -_k+1- ) .",
    "another relationship we can derive from figure [ fig : bugfigure3 ] is [ equ : qphi ] q_k = 2 _ k where @xmath81 represents the leg length at the moment of touchdown .    in ( [ equ : qphi ] ) and ( [ equ : alpha ] ) , @xmath82 is the distance the runner wants to travel in one stance , the angle @xmath78 can be solved from ( [ equ : control ] ) , and the angle @xmath76 is known .",
    "we want to solve for the leg parameters @xmath74 and @xmath81 , but @xmath83 is still unknown .",
    "this unknown can be solved from the continuous system equations ( [ equ : lls ] ) .    at the starting position of the @xmath59th stance @xmath84 and the ending position of the @xmath59th stance @xmath85 , by conservation of the angular momentum , we have p__k+1= p__k = _ k^2 = _ k v_k _ k. using the method of integration by quadrature , c.f .",
    "@xcite , we can compute the center swing angle @xmath83 for each stance as [ equ : constraints ] _ k = 2 _ _ k^_min d where @xmath86 is the shortest length of the spring during the stance .",
    "when @xmath87 , we have @xmath88 .",
    "thus we can solve @xmath86 from 2 e - - 2v(_min)=0 .",
    "explicit formulas can be derived for @xmath83 when we use the linear spring potential @xmath89 where @xmath90 is the spring constant for the @xmath59th stance .",
    "these formulas require the use of elliptic functions @xcite .",
    "since @xmath83 is now a known function of @xmath74 , @xmath81 , and @xmath90 , we can solve for any two of @xmath74 , @xmath81 , and @xmath90 from ( [ equ : alpha ] ) and ( [ equ : qphi ] ) when keeping the other parameter constant .",
    "for a runner , controlling @xmath74 means to find the appropriate angle between its leg and the direction of the com motion . on the other hand , as reported by jindrich and full in @xcite , the cockroaches control the length @xmath81 by stretching or compressing their legs when turning .",
    "we see that changing @xmath81 will affect both @xmath91 and @xmath92 .",
    "this changes @xmath83 and hence controls @xmath80 .",
    "another means of steering is to change the potential energy @xmath92 , e.g. , change the spring constant @xmath90 , which also controls @xmath83 .",
    "if the conditions in theorem [ pro : t1 ] are satisfied , equation ( [ equ : control ] ) always has a solution for @xmath23 . the equations ( [ equ : alpha ] ) , ( [ equ : qphi ] ) and ( [ equ : constraints ] ) can be solved to implement the control @xmath23 .",
    "we call this method _ the inverse method_. note that finding solutions for @xmath74 and @xmath81 often requires numerical methods because @xmath83 is not a simple function of @xmath74 and @xmath81 .",
    "for every stance , the lls model generates the com movement @xmath79 by controlling parameters such as @xmath74 , @xmath93 and @xmath90 . in practice",
    ", these parameters all have to be bounded . these bounds post constraints on the possible @xmath79 that can be generated by the lls model . in this section ,",
    "we first discuss the constrained com movement and investigate the constrained tracking behavior when a runner is running along a curve path .",
    "we then derive a new control law with proved convergence under the constraints .      to generate forward locomotion ,",
    "the relative angle @xmath74 between the leg and the com velocity @xmath69 should be bounded within the interval @xmath94 .",
    "figure [ fig : bugfigure4 ] illustrates the possible @xmath79 that can be produced by changing @xmath74 for a right stance when @xmath81 and @xmath90 are held constant .",
    "the parameters for the plotted lls model are @xmath95 , @xmath96 , @xmath97 and @xmath98 which are typical for a cockroach . when @xmath99 and @xmath100 , we have @xmath101 . therefore , in order to move forward effectively , the angle @xmath74 must be within an interval @xmath102 $ ] with @xmath103 and @xmath104 . the solid segment in figure [ fig : bugfigure4 ]",
    "illustrates the possible @xmath79 between @xmath105 and @xmath106 .",
    "we also plot the length @xmath82 as a function of the leg placement angle @xmath74 in figure [ fig : bugfigure5 ] .",
    "there the maximum @xmath82 is @xmath107 .",
    "when @xmath74 is within @xmath108 $ ] , the minimum @xmath82 is @xmath109 .",
    "the changes in @xmath82 is not big for a wide range of @xmath74 .",
    "this is typical for lls models .",
    "the above example suggests that it is possible to keep @xmath81 , @xmath82 and @xmath83 constant for each stance .",
    "we control the spring constant @xmath90 and the leg placement angle @xmath74 .",
    "the advantage of this strategy is that the distance traveled by the com is identical for every stance .",
    "this fact can help us analyze the tracking behavior later .",
    "for the lls model plotted in figure [ fig : bugfigure4 ] and [ fig : bugfigure5 ] , in order to keep @xmath110 , we plot the spring constant @xmath90 as a function of the leg placement angle @xmath74 in figure [ fig : bugfigure6 ] . for @xmath111",
    "$ ] , @xmath90 lies between @xmath112 and @xmath113 .",
    "this range is not difficult to implement .    with @xmath82 constant for each stance",
    ", the possible movement of the com can be depicted by a cone @xmath114 .",
    "the two edges of the cone correspond to @xmath115 and @xmath116 .",
    "the length of both edges are @xmath82 .",
    "figure [ fig : bugfigure7 ] illustrates cone @xmath117 and cone @xmath114 .",
    "@xmath117 grows from the end point of @xmath79 which lies in the circular arc of @xmath114 .",
    "we found that @xmath117 is the mirror image of @xmath118 with @xmath79 being the axis of symmetry .",
    "this is because the velocity vector @xmath119 and @xmath69 are symmetric with respect to @xmath79 , which can be proved by solving equations ( [ equ : lls ] ) .",
    "therefore , as the runner moves forward , the cone will flip from side to side .",
    "we use the index @xmath5 for all right and left stances . when running parallel to a desired curved path , the com movement satisfies @xmath120 for all @xmath5 .",
    "therefore , we have @xmath38 in equation ( [ equ : control ] ) .",
    "the following conditions are necessary :    * @xmath121 ; * @xmath122 .",
    "condition a1 requires that the com movement belongs to the cone that is feasible for the constrained model .",
    "condition a2 requires that @xmath15 is parallel to the desired curve .",
    "if the desired curve is a straight line segment , then @xmath123 in condition a2 . as the runner moving forward , the cone @xmath124 will be flipping side to side with respect to the straight line . in this case",
    "we have @xmath125 .",
    "the robustness of this behavior is determined by the size of the cone and the value of @xmath6 .",
    "if we choose the value of @xmath6 so that the com movement @xmath79 is always in the middle of the cone , then the tracking behavior is the most robust .",
    "see the middle figure in figure [ fig : bugfigure7 ] .    if the desired curve is convex with positive curvature , then @xmath126 . to find out @xmath23 ,",
    "we study the @xmath59th and @xmath127th stance , i.e. , a right stance followed by a left stance . for convenience we let _",
    "k = 2 ^-1 . from equation ( [ equ : theta2 ] ) in appendix [ apxa ] and",
    "using the fact that @xmath128 , we know that @xmath78 and @xmath129 satisfies [ equ : theta3 ] _ k+1 -_k = -(_k+1 -_k ) + _ k. this relation can also be observed from figure [ fig : bugfigure2 ] .",
    "condition a2 implies that @xmath130 .",
    "therefore , when running along a convex curve , @xmath131 should be satisfied .",
    "we have similar relation for stance @xmath60 and @xmath61 , i.e. , a left stance followed by a right stance : @xmath132 .",
    "we can then write @xmath133 for all stances .",
    "this equation requires that @xmath134 must be less than @xmath135 .",
    "this implies that @xmath53 , the instantaneous radius of the curve must satisfy _ i > .",
    "this condition is stricter than @xmath136 required by lemma [ pro : lm2 ] .",
    "hence the constraint on @xmath6 puts a tighter restriction on the curvature of the curve that can be traced .",
    "we divide @xmath124 into two sub - cones .",
    "let @xmath137 be the cone for @xmath138 $ ] .",
    "let @xmath139 be the cone for @xmath140 $ ] . because @xmath124 flips and @xmath141 , if @xmath15 belongs to @xmath142 , then @xmath143 belongs to @xmath144 . now consider a right stance @xmath59 followed by a left stance @xmath127 .",
    "when running along a convex curve in the counter clockwise ( ccw ) direction , the runner must have @xmath145 and @xmath146 , see figure [ fig : bugfigure8 ] .",
    "when running in the clockwise ( cw ) direction , the runner must have @xmath147 and @xmath148 .    to increase the robustness of the tracking behavior",
    ", we should let the com movement @xmath15 be close to the middle of @xmath124 . in the case of convex curves ,",
    "the best choice is to let @xmath15 and @xmath143 be symmetric with respect to the middle line of @xmath124 .",
    "the middle lines of @xmath137 and @xmath139 are symmetric with respect to the middle line of @xmath124 .",
    "the angle between the middle lines of @xmath137 and @xmath139 is @xmath134 .",
    "if the curve has constant curvature , then @xmath149 is constant for all @xmath5 .",
    "this implies that the middle lines of @xmath137 and @xmath150 are symmetric with respect to the middle line of @xmath124 .",
    "therefore , we may choose @xmath15 to be the middle line of either @xmath137 or @xmath139 for maximum robustness",
    ". if the curve has a changing positive curvature , then @xmath134 can be different from stance to stance .",
    "this `` middle line '' strategy can not be enforced . in this case",
    "one can choose @xmath15 to be as close to the middle lines as possible .",
    "if the desired curve is not convex , the tracking behavior can be viewed as switching between tracking a locally convex curve in the ccw direction and in the cw direction .",
    "the switching depends on how the curve changes from locally convex to locally concave .",
    "no general conclusions can be drawn regarding which part of the cone @xmath124 is used for a stance . in this case",
    "the tracking behavior is not a `` steady state '' .",
    "the inverse method fails when constrained solutions from ( [ equ : alpha ] ) , ( [ equ : qphi ] ) and ( [ equ : constraints ] ) do not exist .",
    "we design a new control law that is able to find leg parameters that satisfies all constraints .",
    "the control law also guarantees convergence to the desired curve from generic initial conditions .",
    "we call this method the _ approximation method_.    we investigate the lls model satisfying @xmath151 for all @xmath5 where @xmath152 is a positive constant . to keep @xmath151 , the runner controls both the leg placement angle @xmath6 and the spring parameter @xmath153 .",
    "we assume that the desired curve path is either a straight line or a circle i.e. @xmath18 is constantly @xmath154 for all @xmath5 .",
    "this assumption can be relaxed to convex curves with slowly varying curvature .",
    "we further assume that the step size @xmath152 is much smaller than the radius of the curve path . under these assumptions , @xmath155 , and equation ( [ equ : control ] )",
    "can be simplified to [ equ : simsys ] _",
    "i-_c + - q _ i where @xmath156 .",
    "we then view @xmath37 as the second state variable other than @xmath157 .",
    "it satisfies [ equ : simtheta ] _",
    "i = ( _ i -_i ( -_i- ) ) . when all the angles are mapped to the interval @xmath158 .",
    "we can apply the backstepping technique for discrete systems c.f .",
    "@xcite to the system described by ( [ equ : simsys ] ) and ( [ equ : simtheta ] ) .",
    "let @xmath159 . according to theorem [ pro : t1 ] ,",
    "we can select @xmath49 such that ( [ equ : control ] ) can be solved for @xmath23 .",
    "we let this solution be @xmath160 i.e. _ i & = & & = & - - .",
    "using the fact that f_i^2=(_i+1-_i)^22(_i+)= 2_i , we have [ theta4 ] q _",
    "i = - f_i .",
    "note that @xmath160 is different from the state variable @xmath23 in ( [ equ : simsys ] ) and ( [ equ : simtheta ] ) . here",
    "@xmath160 is a function of @xmath19 and can be viewed as the desired value for the state @xmath23 .",
    "we can then solve for the term @xmath161 from ( [ theta4 ] ) and substitute this term in the right hand side of ( [ equ : simsys ] ) .",
    "this yields [ theta5 ] _ i+1-",
    "i-_c + f_i - q ( _ i-_i ) . we define _ i+1",
    "_ i-_c + f_i= ( 1-k_i ) ( _ i-_c ) .",
    "this @xmath162 can be viewed as the desired value for the state @xmath163 . with the help of @xmath160 and @xmath162 ,",
    "we rewrite ( [ theta5 ] ) as [ equ : sthk3 ] _ i+1-",
    "_ c-_i+1 = -q ( _ i-_i ) .",
    "we design @xmath164 as a feedback law so that the right hand side of ( [ equ : simtheta ] ) satisfies [ equ : slcontrol ] ( _ i -_i ( -_i- ) ) = _ i + ( _ i-_c- _ i ) where @xmath165 is a scalar which will be determined later . thus ( [ equ : simtheta ] ) becomes [ equ : simthk2 ] _",
    "i -_i = ( _ i-_c- _ i ) .",
    "we show that the closed loop system given by ( [ equ : sthk3 ] ) and ( [ equ : simthk2 ] ) converges to the state where @xmath166 and @xmath167 .",
    "[ pro : tm2 ] consider the system given by ( [ equ : simsys ] ) and ( [ equ : simtheta ] ) .",
    "let @xmath49 and @xmath165 be such that @xmath168 and @xmath169",
    ". suppose ( [ equ : slcontrol ] ) has a solution for @xmath164 .",
    "then as @xmath55 , we must have @xmath170 and @xmath171 .    if ( [ equ : slcontrol ] ) has a solution for @xmath164 , then ( [ equ : sthk3 ] ) and ( [ equ : simthk2 ] ) hold . therefore _ i-_i = -k_i ( _ i-1-_i-1 ) . since @xmath169 , it is true that @xmath172 as @xmath28 .",
    "meanwhile , from ( [ equ : sthk3 ] ) , we conclude @xmath173 as @xmath55 .",
    "this implies that @xmath174 . since @xmath168",
    ", we conclude @xmath175 as @xmath55 .",
    "if we allow @xmath176 to be arbitrary large then ( [ equ : slcontrol ] ) always has solutions for @xmath164 . by selecting proper value for @xmath165 , we can find a solution that satisfies the constraints for @xmath164 .",
    "however , lemma [ pro : tm2 ] requires that @xmath177 to achieve asymptotic convergence .",
    "we want to find out when ( [ equ : slcontrol ] ) fails to have a solution for @xmath164 if @xmath178 .",
    "if we can find @xmath179 $ ] such that @xmath180 . then we can let @xmath181 and a solution for @xmath6 exists .",
    "this is exactly the inverse method .    if we can not find a constrained @xmath164 such that @xmath182 , then let [ equ : mi ] m_i = _ _ i\\{|_i-_i| } .",
    "we let [ equ : tki ] k_i = .",
    "if [ equ : rhok ] |_i-_c- _ i| > m_i q is true , then @xmath177 .",
    "equation ( [ equ : slcontrol ] ) becomes @xmath183 , and a solution for @xmath164 can be found .",
    "therefore , when a solution for @xmath164 can not be found for @xmath165 given in ( [ equ : tki ] ) , we must have [ equ : rhok2 ]    the runner and the desired path becomes sufficiently small as @xmath55 .",
    "we define @xmath184 .",
    "since @xmath185 regardless of the value of @xmath186 and @xmath187 , it is true that @xmath188 .",
    "the following theorem claims that the controlled movement of the com converges to a small neighborhood of the desired curve .",
    "[ pro : cor1 ] consider the system given by ( [ equ : simsys ] ) and ( [ equ : simtheta ] ) controlled by the approximation method .",
    "suppose the gain @xmath49 is constantly @xmath189 for all @xmath5 and @xmath190 .",
    "we determine the value for leg placement angle @xmath164 by solving ( [ equ : slcontrol ] ) . for every @xmath5 , we let @xmath165 be given by ( [ equ : tki ] )",
    ". then we must have @xmath191 .",
    "if @xmath169 for all @xmath5 , lemma [ pro : tm2 ] claims that the system converges to @xmath167",
    ". then @xmath192 .",
    "if for some time indices @xmath193 , @xmath194 , then condition ( [ equ : rhok2 ] ) must be true .",
    "we must have |_j-_c- _",
    "j| m_j q m q this implies that [ equ : tt1 ]    @xmath5 where @xmath177 , equation ( [ equ : sthk3 ] ) implies that |_i-_c| |1-k||_i-1-_c| + |_i-1-_i-1| q since @xmath195 is given by ( [ equ : tki ] ) , we must have @xmath196 .",
    "this implies that ( [ equ : tt1 ] ) is satisfied for indices @xmath5 .",
    "therefore ( [ equ : tt1 ] ) is satisfied for all @xmath5 and @xmath193 .",
    "because @xmath190 , we conclude that @xmath197 .    from theorem [ pro : cor1 ]",
    ", we conclude that larger step size ( bigger @xmath152 ) and faster convergence rate in relative distance ( bigger @xmath189 ) may cause larger tracking error .",
    "this agrees with intuition .",
    "the theorem is conservative because we can make @xmath49 adaptive .",
    "when @xmath198 small , we can let @xmath49 to be close to @xmath199 to reduce the possible tracking error . also , @xmath200 does not have to be the supremum of @xmath201 for all @xmath5 .",
    "instead , we can let @xmath5 be larger than any finite time .",
    "this may reduce @xmath200 .",
    "another observation is that by increasing @xmath202 , we can reduce @xmath200 , hence reduce the tracking error .",
    "this also agrees with intuition .",
    "equation ( [ equ : mi ] ) is used to compute @xmath6 that minimizes the difference between @xmath23 and @xmath160 .",
    "this is why the method is called the approximation method .",
    "such a method can be devised heuristically without applying the backstepping technique .",
    "but the backstepping technique helps to justify convergence .",
    "one can also derive other convergent method which have different performance than the current one .",
    "but from the proof of lemma [ pro : tm2 ] we conclude that the approximation method gives the fastest convergence rate among all such methods derived from the backstepping procedure .",
    "unlike stable running along a straight line , the rigid body angular momentum @xmath203 should not be zero for stable running along a curve ; otherwise no turning can happen . since our goal is to control the runner to the desired curve ,",
    "even if the final stable running is along a straight line , the runner need to turn in order to move to that line from an arbitrary initial position .",
    "the lls model dynamics for the rigid body is [ equ : sigmacon ] p_&= & i p_&= & where @xmath204 represents the torque to produce turning for the rigid body .",
    "runners can produce this torque by using muscles connecting legs and body or by changing force distribution over multiple legs .",
    "as indicated in figure [ fig : bugfigure9 ] , the angle between the body axis and the velocity of the com is @xmath205 . for stable",
    "running , we want to achieve the following gaits : after the @xmath59th stance , the ending angle @xmath206 differs from the starting @xmath205 only by the sign ; accordingly , the direction of the angular momentum will be reversed , i.e. , @xmath207 .",
    "this stable running requires that as @xmath208 , [ equ : goal1 ] _",
    "k-_k c_1 p__k c_2 for right stances and [ equ : goal2 ] _",
    "p__k+1 -c_2 for left stances where @xmath209 and @xmath210 are pre - selected constants .    for right stances , we let [ equ : bodyconv1 ] & & _",
    "k+1-_k+1+c_1=(1-k_4 ) ( _ k-_k - c_1 ) & & p__k+1+c_2=(1-k_5)(p__k - c_2 ) where @xmath211 . for left stances",
    ", we may let [ equ : bodyconv2 ] & & _",
    "k+2-_k+2-c_1=(1-k_4 ) ( _ k+1-_k+1+c_1 ) & & p__k+2-c_2=(1-k_5)(p__k+1+c_2 ) .",
    "note that @xmath75 and @xmath212 are known from ( [ eq : phi1 ] ) and ( [ eq : phi2 ] ) in appendix [ apxa ] .",
    "it is not difficult to see that the discrete systems ( [ equ : bodyconv1 ] ) and ( [ equ : bodyconv2 ] ) achieve the desired convergence specified by ( [ equ : goal1 ] ) and ( [ equ : goal2 ] ) .",
    "therefore , for the @xmath59th stance , we want to design the control torque @xmath204 so that starting from @xmath213 and @xmath214 , the runner will reach the state @xmath215 and @xmath216 given by [ equ : ns ] p__k+1&=&(1-k_5 ) p__k+(2-k_5)c_2 _ k+1&=&(1-k_4)_k+k_4 _ k+ & & -_k-2_k+(2-k_4)c_1 .",
    "we formulate an optimal control problem with the starting state given by @xmath217 and ending state given by @xmath218 in equation ( [ equ : ns ] ) .",
    "the ending state should be achieved within the duration @xmath219 for the @xmath59th stance with the cost function @xmath220 minimized .",
    "the solution for @xmath221 for the @xmath59th stance can be obtained by applying the maximum principle . we have _",
    "k(t ) = ( a_2_k - t ) where @xmath222 $ ] , @xmath223 is the moment of inertia , and [ equ : ns2 ] a_1_k&=&(_k+1-_k)- ( p__k+1+p__k ) a_2_k&= & ( _ k+1-_k)- p__k+1- p__k .",
    "the detail of this derivation is included in appendix [ apxb ] .",
    "the duration @xmath219 can be computed in the similar way as @xmath83 in ( [ equ : constraints ] ) as t_k = 2 _ _ k^_min d .    in equations ( [ equ : ns ] ) and ( [ equ : ns2 ] ) ,",
    "although @xmath221 is open - loop control during each stance for @xmath222 $ ] , feedback is achieved through @xmath213 and @xmath214 when switching from one stance to another .",
    "we present simulation results to demonstrate tracking a circle centered at the origin with radius @xmath224 m .",
    "the parameters for the lls model are the same as in section [ sec : constraint ] .",
    "the desired distance to the circle is @xmath225 m .",
    "initially , the runner start from @xmath226 outside the circle .",
    "the speed of the com is @xmath227 m/s .",
    "the initial direction of the velocity is @xmath228 .",
    "the leg placement angle @xmath6 are constrained to be within the interval @xmath229 .",
    "we change the spring constant @xmath90 so that @xmath26 is always equal to @xmath230 cm , which is @xmath231 of the leg length at rest.the gain @xmath49 is selected to be @xmath232 .",
    "when @xmath23 can not be achieved by @xmath6 , we simply use the value for @xmath6 that will minimize the differences between desired @xmath160 and achievable @xmath23 ; hence implemented the approximation method .",
    "the trajectory of the com and the distance between the com and the circle are plotted in figure [ fig : bugfigure10 ] .",
    "we see that the convergence is achieved after @xmath233 stances which take less than one second .",
    "we have analyzed the control of lls model and designed a hybrid curve tracking control law for legged locomotion . using measurements of the curve for feedback , the discrete algorithm guarantees convergence to the desired curve path . during each stance , the controlled continuous dynamics is analyzed .",
    "the parameters of the lls model is determined to implement the discrete algorithm at the beginning of each stance .",
    "we have also investigated the effects of parameter constraints .",
    "these constraints limited tracking ability . for straight lines and convex curves",
    ", a steady state can be reached .",
    "the robustness of these steady states depends on the range for the parameters .",
    "interesting results regarding wall following behaviors of cockroaches are reported by camhi and johnson in @xcite . when its antenna touches the wall , a cockroach turns away from the wall but keeps the antenna in contact with the wall for a certain time period .",
    "the experiments there are performed near a raffled piecewise linear wall , not a smooth curved wall .",
    "using a smooth curved wall with convex shape will also be interesting since a steady state can be reached .",
    "recently , a wall following wheeled robot using antenna like tactile sensor was reported in @xcite ; curve tracking for atomic force microscope is discussed in @xcite ; a general boundary tracking control law is derived for newtonian particles in @xcite .",
    "our work , although intended for legged locomotion , may be adapted to handle other cases regarding curve tracking for platforms with hybrid motion dynamics .",
    "10 [ 1]#1 url@rmstyle [ 2]#2    r.  full and d.  e. koditschek , `` templates and anchors : neuralmechanical hypothesis of legged locomotion on land , '' _ journal of experimental biology _ ,",
    "83 , pp . 33253332 , 1999 .",
    "j.  schmitt and p.  holmes , `` mechanical models for insect locomotion : dynamics and stability in the horizontal plane i. theory , '' _ biological cybernetics _ , vol .",
    "501515 , 2000 .",
    " , `` mechanical models for insect locomotion : dynamics and stability in the horizontal plane ii . applications , '' _ biological cybernetics _ , vol .",
    "517527 , 2000 .",
    " , `` mechanical models for insect locomotion : stability and parameter studies , '' _ physica d _ , vol . 156 , pp . 139168 , 2001 .",
    "j.  schmitt , m.  garcia , r.  razo , p.  holmes , and r.  j. full , `` dynamics and stability of legged locomotion in the horizonatoal plane : a test case using insects , '' _ biological cybernetics _ , vol .",
    "86 , pp . 343353 , 2002 .",
    "r.  m. ghigliazza , r.  altendorfer , p.  holmes , and d.  koditschek , `` a simply stablized running model , '' _ siam review _ , vol .",
    "47 , no .  3 , pp .",
    "519549 , 2005 .",
    "f.  zhang , a.  oconnor , d.  luebke , and p.  s. krishnaprasad , `` experimental study of curvature - based control laws for obstacle avoidance , '' in _ proceedings of 2004 ieee international conference on robotics and automation _ , new orleans , la , 2004 , pp .",
    "38493854 .",
    "a.  g. lamperski , o.  y. loh , b.  l. kutscher , and n.  j. cowan , `` dynamical wall - following for a wheeled robot using a passive tactile sensor , '' in _ proc .",
    "of 2005 ieee international conference on robotics and automation _ , barcelona , spain , 2005 , pp .",
    "38383843 .",
    "v.  arnold , _ _ mathematical methods of classical mechanics 2nd ed.__1em plus 0.5em minus 0.4emnew york : springer , 1989 .",
    "d.  jindrich and r.  j. full , `` many legged maneuverability : dynamics of turning in hexapods , '' _",
    "journal on experimental biology _ ,",
    "16031623 , 1999 .",
    "r.  ordez and k.  m. passino , `` control of discrete time nonlinear systems with a time - varying structure , '' _ automatica _ , vol .",
    "39 , no .  3 , pp .",
    "463470 , 2003 .",
    "j.  m. camhi and e.  n. johnson , `` high - frequency steering maneuvers mediated by tactile cues : antennal wall - following in the cockroach , '' _ journal of experimental biology _ , vol .",
    "202 , pp . 631643 , 1999 .",
    "s.  b. andersson and j.  park , `` tip steering for fast imaging in afm , '' in _ proceedings of 2005 american control conference _ ,",
    "portland , or , june 6 - 10 , 2005 , pp .",
    "24692474 .    f.  zhang , e.  justh , and p.  s. krishnaprasad , `` boundary following using gyroscopic control , '' in _ proc . of 43rd ieee conference on decision and control",
    "_ , atlantis , paradise island , bahamas , 2004 , pp",
    ". 52045209 .",
    "the feasible @xmath78 and @xmath129 that can be generated from the lls model parameters must satisfies ( [ equ : alpha ] ) and ( [ equ : alpha2 ] ) . equation ( [ equ : alpha ] ) subtract ( [ equ : alpha2 ] ) yields [ equ : thetak1 ] _ k+1 -_k & = & ( _ k+1-_k+1)-(_k-_k)+- & & ( _ k+_k+1)- . the angle @xmath76 is measured between the com velocity vector and the tangent vector of the desired curve . in a similar fashion , we find [ equ : thetak2 ] _",
    "k+2 -_k+1 & = & ( _ k+2-_k+2)-(_k+1-_k+1)-+ & & ( _ k+2+_k+1)+ .",
    "we now establish a difference equation which describes the change of @xmath76 .    comparing the com velocity @xmath69 and @xmath119",
    ", we notice that they are reflectively symmetric to each other with @xmath79 as the axis of symmetry , as shown in figure [ fig : bugfigure7 ] .",
    "this can be proved from the solution of equations ( [ equ : lls ] ) . from figure",
    "[ fig : bugfigure3 ] , we conclude that [ eq : phi1 ] _ k+1 - _ k = 2 ( --_k ) from a right stance to a left stance and [ eq : phi2 ] _ k+2 - _ k+1 = -2 ( --_k+1 ) from a left stance to a right stance . from figure",
    "[ fig : bugfigure2 ] , we can derive the change of @xmath234 as [ eq : zeta1 ] _ k+1 - _ k = _ k. the angle @xmath235 can be determined using the sine law = .",
    "we use @xmath236 and @xmath237 to obtain _",
    "k = _ k. from ( [ eq : phi1 ] ) and ( [ eq : zeta1 ] ) , we obtain [ eq : zeta2 ] ( _ k+1 -_k+1)-(_k-_k ) = _ k - ( - _ k -2_k ) .",
    "similarly , [ eq : zeta3 ] ( _ k+2 -_k+2)-(_k+1-_k+1 ) = _ k+1 + ( - _ k+1 -2_k+1 ) .    using ( [ eq : zeta2 ] ) and ( [ equ : thetak1 ] ) , we deduce that [ equ : theta2 ] _",
    "k+1 -_k = -(_k+1 -_k ) - + _ k. using ( [ eq : zeta3 ] ) and ( [ equ : thetak2 ] ) , we have [ equ : theta4 ] _ k+2 -_k+1 = ( _ k+2 -_k+1 ) + + _ k+1 . equations ( [ equ : theta2 ] ) and ( [ equ : theta4 ] ) must be satisfied for all feasible @xmath78 , @xmath129 , and @xmath238 .",
    "the system equations for the rigid body dynamics is & = & p_&= & .",
    "we want to minimize the cost function @xmath239 . applying the maximum principle , we define the controlled hamiltonian as h _ , & = & _ 1 + _ 2 p_- ^2 & = & _ 1 + _ 2 -^2 where @xmath240 and @xmath241 are the adjoint variables .",
    "the optimal control @xmath204 that minimizes @xmath242 is computed by letting @xmath243 .",
    "this yields @xmath244 .",
    "the hamiltonian for the system under this control is h_= _ 1 + _ 2 ^ 2 .",
    "this hamiltonian induces the following hamilton s equations : & = & p_&= & _ 1 & = & 0 _ 2 & = & - _ 1 . from these equations we first observe that @xmath245",
    ". then we can solve for @xmath241 as _",
    "2(t ) = _ 2(0 ) -t . in order to determine @xmath246 and @xmath247",
    ", we integrate p_= ( _ 2(0)- t ) from @xmath248 to @xmath219 .",
    "this yields [ equ : psigma ] p__k+1 = p__k+ _ 2(0 ) t_k - t_k^2 .",
    "we then integrate = =( p__k+ _ 2(0 ) t - t^2 ) .",
    "this gives us [ equ : sigma ] _",
    "k+1 = _ k + p__k t_k + _ 2(0 ) t_k^2 - _ 1(0 ) t_k^3 .",
    "from ( [ equ : psigma ] ) and ( [ equ : sigma ] ) we can solve for @xmath246 and @xmath247 .",
    "one can verify that @xmath249 and @xmath250 , where @xmath251 and @xmath252 are given in ( [ equ : ns2 ] ) , are the solutions ."
  ],
  "abstract_text": [
    "<S> we derive a hybrid feedback control law for the lateral leg spring ( lls ) model so that the center of mass of a legged runner follows a curved path in horizontal plane . </S>",
    "<S> the control law enables the runner to change the placement and the elasticity of its legs to move in a desired direction . </S>",
    "<S> stable motion along a curved path is achieved using curvature , bearing and relative distance between the runner and the curve as feedback . </S>",
    "<S> constraints on leg parameters determine the class of curves that can be followed . </S>",
    "<S> we also derive an optimal control law that stabilizes the orientation of the runner s body relative to the velocity of the runner s center of mass . </S>"
  ]
}