{
  "article_text": [
    "in this paper we give the first bijective proofs of several equidistribution results due to armstrong @xcite and armstrong and rhoades @xcite .",
    "the sets underlying these results are regions of hyperplane arrangements related to ",
    "shi / ish duality \" .",
    "we begin by defining these arrangements .",
    "the coxeter arrangement @xmath7 of type a@xmath8 ( otherwise known as the braid arrangement ) is the linear arrangement of hyperplanes in @xmath9 given by @xmath10 where @xmath11 are the standard coordinate functions on @xmath9 .",
    "recall that the regions of a hyperplane arrangement @xmath12 in @xmath9 are the connected components of the complement @xmath13 .",
    "the regions of @xmath7 biject naturally with permutations in the symmetric group @xmath14 by letting a permutation @xmath15 correspond to the region of @xmath7 defined by the coordinate inequalities @xmath16 .",
    "the shi arrangement @xmath0 of type a@xmath8 is the affine hyperplane arrangement in @xmath9 given by @xmath17 the arrangement @xmath0 was introduced by j .- y .",
    "shi @xcite to study the kazhdan - lusztig cells of the affine symmetric group @xmath18 and has received a great deal of attention in algebraic and enumerative combinatorics .",
    "shi proved that the number of regions of @xmath0 is the famous expression @xmath19 .",
    "the shi arrangement is a deformation of the coxeter arrangement in the sense of postnikov and stanley @xcite , i.e. , the hyperplanes of @xmath0 are parallel to the hyperplanes of @xmath7 .",
    "the arrangement @xmath20 is shown on the left in figure  [ shiishthree ] .",
    "the ish arrangement @xmath1 is a different deformation of the coxeter arrangement in @xmath9 .",
    "the hyperplanes of @xmath1 are given by @xmath21 as with the shi arrangement , the initial motivation for the ish arrangement was representation theoretic .",
    "armstrong defined @xmath1 to obtain an interpretation of the bounce statistic of haglund as a statistic on the type a root lattice and develop a connection between hyperplane arrangements and diagonal harmonics .",
    "the arrangement @xmath22 is shown on the right in figure  [ shiishthree ] .",
    "armstrong proved the following enumerative symmetry of the shi and ish arrangements .",
    "( armstrong ) [ shi - ish - basic - count ] the arrangements @xmath0 and @xmath1 have the same number of regions .",
    "armstrong proved theorem  [ shi - ish - basic - count ] by using the finite fields method of crapo and rota @xcite to show that the characteristic polynomial @xmath23 of the ish arrangement is given by @xmath24 .",
    "headley @xcite proved that the characteristic polynomial @xmath25 of the shi arrangement is also equal to @xmath26 .",
    "it follows from zaslavsky s theorem @xcite that @xmath0 and @xmath1 both have @xmath19 regions .",
    "armstrong posed the following problem .",
    "( armstrong ) [ basic - problem ] find a bijection between the regions of @xmath0 and @xmath1 .",
    "theorem  [ shi - ish - basic - count ] and problem  [ basic - problem ] inspired armstrong and rhoades @xcite to study the combinatorics of the shi and ish arrangements more deeply .",
    "their analysis starts with the basic observation that the non - linear hyperplanes of @xmath0 and @xmath1 are in the following bijective correspondence : @xmath27 for @xmath28 .",
    "this correspondence is referred to as ",
    "shi / ish duality \" and preserves a remarkable amount of combinatorial information . in order to state these equidistribution results",
    ", we will need some definitions .",
    "let @xmath5 denote the complete graph on the vertex set @xmath29 : = \\{1 , 2 , \\dots , n\\}$ ] .",
    "for any graph @xmath30",
    "\\choose 2}$ ] on @xmath29 $ ] ( which we identify with its edge set ) , we define the deleted shi and ish arrangements @xmath2 and @xmath3 to have hyperplanes @xmath31 when @xmath32 we recover the standard shi and ish arrangements : @xmath33 and @xmath34 . when @xmath35 is the graph with no edges , we have @xmath36 .",
    "the arrangement @xmath2 was first considered by athanasiadis and linusson ( and should not be confused with the ` @xmath4-shi arrangements ' of duval , klivans , and martin ) .",
    "figure  [ shiishrestrict ] shows the arrangements @xmath2 and @xmath3 when @xmath37 and @xmath4 is the  path \" @xmath38 .",
    "we describe two statistics ",
    " degrees of freedom \" and  ceiling partitions \" ",
    "defined on the regions of the arrangements @xmath2 and @xmath3 .",
    "given any hyperplane arrangement @xmath12 in @xmath9 and any region @xmath39 of @xmath12 , the recession cone @xmath40 of @xmath39 is @xmath41 since @xmath39 is convex , it follows that @xmath40 is a cone ( i.e. , closed under nonnegative linear combinations ) .",
    "if @xmath42 , we say that @xmath39 has @xmath43 degrees of freedom . since @xmath39 is bounded if and",
    "only if @xmath44 , the degrees of freedom statistic measures the failure of a region to be bounded .",
    "figure  [ shiishrestrict ] shows the regions of @xmath2 and @xmath3 labeled by the degrees of freedom statistic .",
    "( since the figure shows 2-dimension projections of 3-dimensional arrangements , each region has an additional orthogonal degree of freedom . )",
    "if @xmath12 is any hyperplane arrangement in @xmath9 and @xmath39 is any region of @xmath12 , the hyperplanes in @xmath12 decompose the topological closure @xmath45 into faces of various dimensions .",
    "a facet of @xmath39 is a face of codimension @xmath46 .",
    "a non - linear hyperplane @xmath47 is a ceiling of @xmath39 if @xmath48 is the affine span of a facet of @xmath39 and @xmath48 does not separate @xmath39 from the origin .",
    "let @xmath12 be one of @xmath2 or @xmath3 and let @xmath39 be a region of @xmath12 .",
    "the ceilings of @xmath39 can be used to define a set partition of @xmath29 $ ] called the ceiling partition of @xmath39 . in particular , if @xmath49 ( resp .",
    "@xmath3 ) , the ceiling partition of @xmath39 is the set partition of @xmath29 $ ] generated by @xmath50 if @xmath51 ( resp .",
    "@xmath52 ) is a ceiling of @xmath39 .",
    "since ceiling partitions are defined using affine hyperplanes , it follows that every edge in the arc diagram of the ceiling partition of @xmath39 is contained in the graph @xmath4 .",
    "for example , if @xmath39 is the region of @xmath20 in figure  [ shiishthree ] marked @xmath53 , then the ceiling of @xmath39 is @xmath54 and the ceiling partition is @xmath55 .",
    "also , if @xmath56 is the region of @xmath22 in figure  [ shiishthree ] marked @xmath57 , then the ceilings of @xmath56 are @xmath58 and @xmath59 and the ceiling partition of @xmath56 is @xmath60 .    finally , recall that a region @xmath39 of a hyperplane arrangement containing @xmath7 is called dominant if the coordinate inequalities @xmath61 are satisfied on @xmath39 .",
    "the dominant regions are shaded in figures  [ shiishthree ] and [ shiishrestrict ] .",
    "it is well known that the number of dominant regions of @xmath0 is the catalan number @xmath62 .",
    "armstrong proved that the number of dominant regions of @xmath1 is also given by @xmath63 . more generally , armstrong and rhoades proved the following result @xcite .",
    "( armstrong - rhoades ) [ dominance - result ] let @xmath30 \\choose 2}$ ] be a graph on the vertex set @xmath29 $ ] and let @xmath64 be a set partition of @xmath29 $ ] . the arrangements @xmath2 and @xmath3 have the same number of total regions with ceiling partition @xmath64 and dominant regions with ceiling partition @xmath64",
    ".    it may be tempting to guess that theorem  [ dominance - result ] generalizes to state that for any permutation @xmath65 and any set partition @xmath64 of @xmath29 $ ] , the arrangement @xmath2 and @xmath3 have the same number of regions @xmath39 on which the coordinate inequalities @xmath16 are satisfied and have ceiling partition @xmath64 . however , this generalization is false .",
    "indeed , there are @xmath66 regions of @xmath20 and @xmath67 regions of @xmath22 which satisfy @xmath68 .",
    "theorem  [ dominance - result ] was proven by labeling the regions of @xmath3 with certain combinatorial objects called  ish ceiling diagrams \" and relating this labeling to ( a slight modification of ) a labeling of @xmath2 due to athanasiadis and linusson @xcite . using these labels ,",
    "one derives an explicit product formula for the number of regions of @xmath2 or @xmath3 with a fixed ceiling partition . while enumerative , this proof is not bijective .",
    "[ dominance - problem ] ( armstrong - rhoades ) let @xmath30 \\choose 2}$ ] be a graph on the vertex set @xmath29 $ ] . give a bijection between the regions of @xmath2 and @xmath3 which preserves ceiling partitions and dominance .    by combining degrees of freedom and ceiling partitions ,",
    "one obtains a different equidistribution result .",
    "( armstrong - rhoades ) [ freedom - result ] let @xmath30 \\choose 2}$ ] be a graph on the vertex set @xmath29 $ ] and let @xmath64 be a set partition of @xmath29 $ ] . fix @xmath69 .",
    "the arrangements @xmath2 and @xmath3 have the same number of regions with ceiling partition @xmath64 and @xmath43 degrees of freedom .",
    "the reader may wonder whether the statements of theorems  [ dominance - result ] and [ freedom - result ] could be unified to state that @xmath2 and @xmath3 have the same number of dominant regions with a fixed ceiling partition and degrees of freedom . however , this statement is also false .",
    "for example , there are @xmath66 dominant regions of @xmath20 and @xmath67 dominant regions of @xmath22 with @xmath46 degree of freedom . as with theorem",
    "[ dominance - result ] , the proof of theorem  [ freedom - result ] is enumerative , but not bijective .",
    "[ freedom - problem ] ( armstrong - rhoades ) let @xmath30 \\choose 2}$ ] be a graph on the vertex set @xmath29 $ ] . give a bijection between the regions of @xmath2 and @xmath3 which preserves ceiling partitions and degrees of freedom .    in this paper",
    "we will give bijections which solve problems  [ basic - problem ] , [ dominance - problem ] , and [ freedom - problem ] .",
    "the maps which accomplish this are given in the following ( noncommutative ) diagram , where all arrows are bijections ( and we postpone the definitions of the maps and intermediate objects until later sections ) .",
    "the middle composition @xmath70 will solve problem  [ basic - problem ] , the bottom composition @xmath71 will induce a bijection ( for an arbitrary subgraph @xmath4 ) solving problem  [ dominance - problem ] , and the top composition @xmath72 will induce a bijection solving problem  [ freedom - problem ] .",
    "( of course , a bijection solving either problem  [ dominance - problem ] or problem  [ freedom - problem ] automatically solves problem  [ basic - problem ] . )    the map @xmath73regions of @xmath74 is ( the inverse of ) a labeling of regions of the shi arrangement by parking functions .",
    "this is a minor modification of a labeling due to athanasiadis and linusson @xcite .",
    "the maps @xmath75 and @xmath76 give closely related ways to encode regions of @xmath1 in terms of rook placements on certain boards @xmath77 and @xmath78 . for any subgraph @xmath30",
    "\\choose 2}$ ] , there are  restrictions \" of @xmath75 and @xmath76 which encode the regions of @xmath3 as rook placements on certain subboards @xmath79 and @xmath80 .",
    "when the subboard @xmath79 is rook - equivalent to a ferrers board , one can use a product formula of goldman , joichi , and white @xcite to obtain an expression for the number of regions of @xmath3 .",
    "the map @xmath81 associates a parking function to any maximal rook placement on @xmath77 .",
    "while this map is simple to define , it is the most destructive bijection in the diagram and does not preserve any of the statistics of interest .",
    "the set @xmath82 of  rook words of size @xmath6 \" is our new ish analog of parking functions .",
    "the composition @xmath83 labels ish regions with rook words just as @xmath84 labels shi regions with parking functions .",
    "we will see that every orbit in the action of @xmath85 on the set of words @xmath86^n$ ] contains a unique rook word and a unique parking function .",
    " cycle lemma \" results of this kind are ubiquitous in combinatorics .",
    "we have a canonical bijection @xmath87 obtained by sending a rook word to the unique parking function in its orbit .",
    "in addition to solving problem  [ dominance - problem ] , our cycle lemma method gives combinatorial intuition as to why the shi / ish duality @xmath88 preserves so much information .",
    "namely , we have the following heuristic .    _",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _  shi / ish duality consists of making two choices of distinguished orbit representatives in the action of @xmath85 on @xmath86^n$ ] . \" _",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    the map @xmath89 which solves problem  [ freedom - problem ] is the most complicated bijection in the diagram and labels ish regions by parking functions , thought of as labeled dyck paths .",
    "the remainder of the paper is organized as follows . in * section  [ background ] * we recall basic definitions related to words and set partitions and explain how to label shi and ish regions by shi and ish ceiling diagrams . in * section  [ parking functions and rook words ] * we recall the athanasiadis - linusson labeling @xmath84 of regions of @xmath0 by parking functions , introduce rook words , and give the cycle lemma bijection @xmath87 . in * section  [ rook placements and the ish arrangement ] *",
    "we describe the maps @xmath75 and @xmath76 which label regions of the ish arrangement by rook placements . in * section  [ a bijection between the regions ] *",
    "we describe the map @xmath81 which completes the bijection @xmath70 that solves problem  [ basic - problem ] . in * section  [ dominance section ] * , we describe the map @xmath90 that completes the bijection @xmath71 which solves problem  [ dominance - problem ] . in * section  [ bounded section ] * , we use a prime version of our cycle lemma to give a bijection between the relatively bounded regions of shi and ish which preserves ceiling partitions . in * section  [ freedom section ] * , we describe the map @xmath89 that completes the bijection @xmath72 which solves problem  [ freedom - problem ]",
    ". we close in * section  [ closing remarks ] * with a proposed improvement on our solution to problem  [ freedom - problem ] .",
    "given a set partition @xmath64 of @xmath29 $ ] , the arc diagram of @xmath64 is obtained by drawing the numbers @xmath91 in a line and drawing an arc between @xmath92 and @xmath93 if @xmath94 and there exists a block @xmath95 of @xmath64 such that @xmath92 and @xmath93 are consecutive elements of @xmath95 .",
    "the arc diagram of the set partition @xmath96 of @xmath97 $ ] is shown in figure  [ setpartition ] .",
    "we will refer to arcs in the arc diagram of a set partition @xmath64 as the  arcs of @xmath64 \" .",
    "if @xmath64 is a set partition of @xmath29 $ ] and @xmath65 is a permutation , we let @xmath98 denote the set partition of @xmath29 $ ] whose blocks are @xmath99 .    a set partition @xmath64 of @xmath29 $ ] is called nonnesting if there do not exist indices @xmath100 such that @xmath101 and @xmath102 are both arcs of @xmath64",
    ". that is , the partition @xmath64 is nonnesting if and only if there are no pairs of nested arcs of @xmath64 .",
    "the set partition in figure  [ setpartition ] is not nonnesting , but the set partition @xmath103 of @xmath104 $ ] is nonnesting .",
    "there are @xmath63 nonnesting partitions of @xmath29 $ ] .    to study the degrees of freedom statistic",
    ", it will be useful to break up set partitions into connected components .",
    "if @xmath64 is a set partition of @xmath29 $ ] , there exists a unique finest partition of @xmath29 $ ] of the form @xmath105 ( for some indices @xmath106 ) such that @xmath64 refines @xmath107 .",
    "we call the restrictions of @xmath64 to the blocks of @xmath107 the connected components of @xmath64 .",
    "the partition @xmath64 is said to be connected if it has a single connected component .",
    "for example , the partition shown in figure  [ setpartition ] is connected and the set partition @xmath108 has @xmath67 connected components .      let @xmath30 \\choose 2}$ ] be a graph .",
    "we recall a labeling of the regions of @xmath2 appearing in @xcite ( which is a minor modification of a labeling of the regions of @xmath2 due to athanasiadis and linusson @xcite ) .",
    "let @xmath39 be a region of @xmath2 .",
    "we associate to @xmath39 a pair @xmath109 as follows , where @xmath65 is a permutation and @xmath64 is a nonnesting partition of @xmath29 $ ] .",
    "we let @xmath110 be the unique element of @xmath14 such that the coordinate inequalities @xmath16 hold on @xmath39 .",
    "we let @xmath64 be the set partition of @xmath29 $ ] generated by @xmath50 whenever @xmath111 is a ceiling of the region @xmath39 .",
    "the partition @xmath64 is necessarily nonnesting .",
    "we call the pair @xmath109 the shi ceiling diagram of @xmath39 and visualize it by writing the one - line notation @xmath112 from left to right and drawing an arc between @xmath113 and @xmath114 whenever @xmath50 in @xmath64 .    figure  [ shidiagram ] shows an example of a shi ceiling diagram when @xmath115 . the pair @xmath109 is given by @xmath116 and @xmath117 .",
    "the ceilings of the region @xmath39 corresponding to this diagram are @xmath118 , @xmath119 , @xmath120 , and @xmath121 .",
    "the ceiling partition of @xmath39 is therefore @xmath122 .",
    "observe that this ceiling partition is the image of @xmath98 of the set partition @xmath64 under the permutation @xmath123 .",
    "the left of figure  [ shiishthree ] shows the regions of the full shi arrangement @xmath20 labeled by their shi ceiling diagrams .",
    "the following proposition characterizes which pairs @xmath109 arise as ceiling diagrams for shi regions .",
    "[ shi - ceiling - diagram - characterization ] ( armstrong - rhoades , athanasiadis - linusson ) the map @xmath124 associating a region of @xmath2 to its shi ceiling diagram bijects regions of @xmath2 with pairs @xmath109 where    * @xmath123 is a permutation in @xmath14 and @xmath64 is a nonnesting set partition of @xmath29 $ ] , * for every block @xmath125 of @xmath64 we have @xmath126 , and * for every block @xmath125 of @xmath64 and every @xmath127 , we have that @xmath128 is an edge in @xmath4 .    moreover , if @xmath109 is the shi ceiling diagram of a region @xmath39 of @xmath2 and @xmath64 has @xmath43 connected components , then @xmath39 has @xmath43 degrees of freedom . also , the ceiling partition of @xmath39 is the image @xmath98 of the partition @xmath64 under the permutation @xmath123 .",
    "for example , the shi ceiling diagram in figure  [ shidiagram ] labels a region of @xmath2 if and only if @xmath4 contains the edges @xmath129 , @xmath130 , @xmath131 , and @xmath132 . in this case",
    ", the region labeled by this diagram has @xmath67 degrees of freedom .",
    "athanasiadis and linusson considered a version of shi ceiling diagrams where  floors \" are used instead of ceilings .",
    "the advantage of our labeling is that it makes the degrees of freedom statistic more visible . in what follows",
    ", we will identify shi regions with their shi ceiling diagrams .",
    "this identification gives rise to an embedding @xmath133regions of @xmath134regions of @xmath135 .",
    "we will consider regions of @xmath2 as regions of @xmath0 without comment .",
    "let @xmath30 \\choose 2}$ ] be a graph .",
    "while regions of @xmath2 are labeled by permutations decorated with arcs , regions of @xmath3 are labeled by permutations decorated with dots .",
    "let @xmath39 be a region of @xmath3 .",
    "we associate to @xmath39 a pair @xmath136 as follows , where @xmath65 is a permutation and @xmath137 is a length @xmath6 sequence of nonnegative integers .",
    "we let @xmath110 be the unique permutation such that the coordinate inequalities @xmath16 hold on @xmath39 .",
    "we define @xmath138 by @xmath139 if @xmath140 is a ceiling of the region @xmath39 and @xmath141 otherwise .",
    "the pair @xmath136 is the ish ceiling diagram of @xmath39 and is visualized by drawing the one - line notation @xmath110 and placing @xmath142 dots on top of @xmath114 for all @xmath143 .",
    "figure  [ ishdiagram ] gives an example of an ish ceiling diagram in the case @xmath115 .",
    "we have that @xmath136 is given by @xmath144 and @xmath145",
    ". the ceilings of the region @xmath39 corresponding to this diagram are @xmath146 , @xmath59 , @xmath147 , and @xmath148 .",
    "the ceiling partition of @xmath39 is the set partition @xmath149 .",
    "the right of figure  [ shiishthree ] shows the regions of the full ish arrangement @xmath22 labeled by their ish ceiling diagrams .",
    "the ish analog of proposition  [ shi - ceiling - diagram - characterization ] is as follows . roughly speaking ,",
    "regions of @xmath3 are labeled by permutations @xmath110 decorated by dot accumulation sequences @xmath138 such that at most @xmath150 dots are on top of @xmath92 , all positive dot accumulations appear to the right of @xmath46 and are strictly increasing from left to right , and whenever we have a positive dot accumulation of @xmath92 dots on top of @xmath93 , we have that @xmath151 is an edge in @xmath4 .",
    "[ ish - ceiling - diagram - characterization ] ( armstrong - rhoades ) the map @xmath152 associating a region of @xmath3 to its ish ceiling diagram bijects regions of @xmath3 with pairs @xmath136 where    * @xmath123 is a permutation in @xmath14 and @xmath153 is a length @xmath6 sequence of nonnegative integers , * if @xmath94 and @xmath154 , then @xmath155 , * if @xmath156 , then @xmath157 , * @xmath158 for @xmath159 , and * if @xmath156 , we have that @xmath160 is an edge in @xmath4 .    moreover , if @xmath136 is the ish ceiling diagram associated to a region @xmath39 of @xmath3 and @xmath161 is the largest index @xmath162 such that @xmath163 , then @xmath39 has @xmath164 degrees of freedom ( where we take @xmath165 if @xmath153 is the zero sequence ) . also , the ceiling partition of @xmath39 is the set partition of @xmath29 $ ] generated by @xmath166 , where @xmath159 is such that @xmath156 .",
    "for example , the ish ceiling diagram of figure  [ ishdiagram ] labels a region of @xmath3 if and only if @xmath4 contains the edges @xmath167 , @xmath168 , @xmath169 , and @xmath170 .",
    "assuming @xmath4 contains these edges , the number of degrees of freedom is @xmath171 .",
    "note that we could also calculate degrees of freedom by merging the letters of @xmath123 between @xmath46 and the rightmost dotted letter into a single symbol @xmath172 and counting the number of objects in the resulting sequence . in this example",
    ", we obtain the sequence @xmath173 , which contains @xmath67 objects as desired .      given a word @xmath174 ( with letters in some alphabet ) , we obtain a set partition @xmath175 of @xmath176 $ ] by the rule @xmath50 if and only if @xmath177 .",
    "for example , we have that @xmath178 .",
    "we call @xmath175 the position partition of the word @xmath179 .    given @xmath180 , the set @xmath181^k$ ] of length @xmath161 words in the alphabet @xmath181 $ ] carries a free action of the cyclic group @xmath182 generated by @xmath183 , where letters are interpreted modulo @xmath184 .",
    "this action preserves position partitions and partitions @xmath181^k$ ] into @xmath185 orbits , each of size @xmath184 . in the case @xmath186 and @xmath187 we will study two distinguished choices of orbit representatives called parking functions and rook words . in the case @xmath188 and @xmath187 will study two other distinguished choices of orbit representatives called prime parking functions and prime rook words .",
    "a word @xmath189 with letters in @xmath29 $ ] is called a parking function of size @xmath6 if the nondecreasing rearrangement @xmath190 of the letters in @xmath189 satisfies @xmath191 for all @xmath92 .",
    "spaces and @xmath6 cars which wish to park in the lot .",
    "car @xmath92 prefers to park in the spot @xmath192 . at stage @xmath92 of the parking process",
    ", car @xmath92 will park in the first available spot @xmath193 if any such spots are available .",
    "otherwise , car @xmath92 leaves the lot .",
    "the preference sequence @xmath189 is a parking function if and only if every driver can park . ]",
    "we denote by @xmath194 the set of parking functions of size @xmath6 .",
    "for example , we have that @xmath195    parking functions were introduced by konheim and weiss @xcite in the context of a hashing problem in computer science , but have since received a great deal of attention in algebraic combinatorics .",
    "most famously , haiman @xcite proved that the action of the symmetric group @xmath14 on @xmath194 given by @xmath196 is isomorphic to the action of @xmath14 on the space @xmath197 of diagonal harmonics .",
    "the number of parking functions of size @xmath6 is given by @xmath198 .",
    "after shi proved that @xmath0 has @xmath19 regions , it became natural to ask for a labeling of the regions of @xmath0 by parking functions .",
    "the first such labeling was given by a recursive procedure of pak and stanley @xcite where one labels the ` fundamental alcove ' defined by @xmath199 and @xmath200 by the parking function @xmath201 and modifies this parking function appropriately as one crosses the hyperplanes of @xmath0 .",
    "athanasiadis and linusson @xcite gave a more direct bijection as follows .",
    "let @xmath30 \\choose 2}$ ] be a graph . given a region @xmath39 of @xmath2 with shi ceiling diagram @xmath109",
    ", we will obtain a parking function @xmath202 .",
    "for @xmath159 , suppose that @xmath92 belongs to the block @xmath203 of the set partition @xmath98 ( where @xmath204 is a block of @xmath64 ) .",
    "we let @xmath205 . in other words , we let @xmath192 be the minimal position in the block of @xmath64 which is decorated by the letter @xmath92 in the permutation @xmath123 . for example , if @xmath39 is the region whose shi ceiling diagram is given in figure  [ shidiagram ] , the associated parking function is @xmath206 .",
    "the next proposition is essentially due to athanasiadis and linusson .",
    "[ parking - shi - characterization ] let @xmath30 \\choose 2}$ ] be a graph . the procedure in the last paragraph bijects regions @xmath39 of @xmath2 with parking functions @xmath202 such that every arc in the position partition of the word @xmath189 is an edge in the graph @xmath4 .",
    "in particular , the ceiling partition of @xmath39 equals the position partition of @xmath189 .",
    "we denote by @xmath207 the bijection @xmath208regions of @xmath135 given by proposition  [ parking - shi - characterization ] . for any graph",
    "@xmath30 \\choose 2}$ ] , the bijection @xmath207 restricts to a bijection from the set of parking functions @xmath189 such that the arcs of the position partition of @xmath189 are contained in @xmath4 to the set of regions of @xmath2 .",
    "we are ready to define our new ish analog of parking functions .",
    "a word @xmath209 with letters in @xmath29 $ ] is called a rook word if all of the integers in the closed interval @xmath210 $ ] appear among the letters of @xmath179 .",
    "for example , the word @xmath211 is a rook word but @xmath212 and @xmath213 are not .",
    "we denote by @xmath82 the set of rook words of size @xmath6 .",
    "for example , @xmath214    observe that words can be both parking functions and rook words ; indeed , the difference @xmath215 contains the single element @xmath216 and @xmath217 contains the single element @xmath218 .",
    "the authors do not have a conjecture for the cardinality of @xmath219 . as is typical for ish combinatorics ,",
    "the defining condition of rook words treats the first letter @xmath220 differently from the other letters . as a result ,",
    "rook words are less  symmetric \" than parking functions : the set @xmath82 does not carry an action of the full symmetric group @xmath14 by letter permutation , but only the parabolic subgroup @xmath221 of permutations @xmath65 satisfying @xmath222 .",
    "rook words will ultimately be used to label regions of the ish arrangement . by proposition",
    "[ parking - shi - characterization ] , to relate the regions of shi and ish , we will want to relate parking functions and rook words .",
    "this will be accomplished by the following cycle lemma ( which also shows that @xmath223 ) .",
    "cycle lemmas play an important role in enumerative combinatorics .",
    "when one wants to enumerate a finite set @xmath224 of combinatorial objects , one finds a superset @xmath225 carrying a free action of a cyclic group @xmath226 such that every orbit in the action of @xmath226 on @xmath227 contains a unique element of @xmath224 .",
    "this reduces the problem of finding @xmath228 to the problem of finding @xmath229 and @xmath230 . among other things",
    ", this basic technique can be used to count dyck paths of size @xmath6 , their narayana and kreweras refinements , and their fuss and rational generalizations .",
    "[ cycle ] ( cycle lemma ) every orbit of the action of @xmath85 on @xmath86^n$ ] contains a unique parking function and a unique rook word , so that the number of parking functions or rook words is @xmath19 .",
    "let @xmath209 be a word in @xmath86^n$ ] .",
    "pollak proved that the @xmath85-orbit of @xmath179 contains a unique parking function using the following beautiful argument .",
    "consider a circular parking lot with @xmath231 parking spaces circularly labeled with @xmath232 and @xmath6 cars which want to park in the lot .",
    "interpret @xmath209 as a driver preference sequence .",
    "since the lot is circular , the parking process will be successful and result in a single empty space .",
    "the preference sequence @xmath179 is a parking function if and only if this empty space is the ` additional ' space @xmath231 and the action of the cyclic group @xmath85 rotates this empty space .",
    "we want to show that the @xmath85-orbit of @xmath179 also contains a unique rook word . to do this , choose @xmath233 in the @xmath85-orbit of @xmath179 with @xmath234 maximal such that every integer in the interval @xmath235 $ ] appears as a letter of @xmath236 .",
    "the maximality of @xmath234 implies that @xmath231 does not appear among the letters of @xmath236 , so @xmath236 is a rook word .",
    "it is clear that @xmath236 is also the unique rook word in the @xmath85-orbit of @xmath179 .",
    "for example , the unique parking function in the @xmath237-orbit @xmath238 of @xmath239 is @xmath240 .",
    "lemma  [ cycle ] gives a canonical bijection @xmath241 which preserves position partitions .",
    "for example , we have @xmath242 .",
    "this bijection is at the heart of solving problem  [ dominance - problem ] and gives the following isomorphism of @xmath243-sets ( where we identify @xmath244 ) : @xmath245    we also have a ` prime ' version of the cycle lemma which keeps track of relatively bounded regions .",
    "we recall the notion of a prime parking function and introduce the notion of a prime rook word .",
    "a word @xmath209 with letters in @xmath246 $ ] is called a prime parking function of size @xmath6 if the nondecreasing rearrangement @xmath190 of @xmath179 satisfies the inequalities @xmath247 , @xmath248 , @xmath249 .",
    "we denote by @xmath250 the set of prime parking functions of size @xmath6 .",
    "for example , we have @xmath251 .",
    "a word @xmath209 with letters in @xmath246 $ ] is called a prime rook word of size @xmath6 if @xmath252 .",
    "a prime rook word is automatically a rook word .",
    "we denote by @xmath253 the set of prime rook words of size @xmath6 .",
    "for example , we have @xmath254 .    the following prime version of the cycle lemma is well known in the case of prime parking functions and trivial in the case of prime rook words .",
    "[ cycle - prime ] ( prime cycle lemma ) every orbit in the action of @xmath255 on @xmath246^n$ ] contains a unique prime parking function and a unique prime rook word , so that the number of prime parking functions or prime rook words is @xmath256 .",
    "we denote by @xmath257 the bijection induced by lemma  [ cycle - prime ] .",
    "for example , we have @xmath258 . as with @xmath259 , the bijection @xmath260 preserves position partitions .",
    "in order to give our bijections between the regions of the shi and ish arrangements , we will reinterpret ish ceiling diagrams in terms of rook placements .",
    "a board @xmath95 is a finite subset of the integer lattice @xmath261 .",
    "a rook placement on @xmath95 is a placement of non - attacking rooks on the squares of @xmath95 . a rook placement on @xmath95",
    "is called maximal if it is maximal among the collection of all rook placements , where we identify rook placements with subsets of @xmath95 .",
    "we will focus on rook placements on two families of boards .    for @xmath262",
    "we let @xmath78 be the  bottom justified \" board with column heights from left to right given by @xmath263 and @xmath77 be the bottom justified board with left - to - right column heights @xmath264 .",
    "we define the coordinates of @xmath78 and @xmath77 as follows : @xmath265 the boards @xmath78 and @xmath77 naturally decompose into a lower rectangular part below the line @xmath266 and an upper triangular part above the line @xmath266 .",
    "we will refer to the squares in these parts as being below the bar or above the bar , respectively .",
    "the boards @xmath267 and @xmath268 are shown in figure  [ ishrook ] . ",
    "the bar \" is bold and blue .",
    "as shown in figure  [ ishrook ] , we label the columns of @xmath78 and @xmath77 by their @xmath269-coordinates and the rows of @xmath78 and @xmath77 by either their @xmath270-coordinates or their @xmath270-coordinates minus @xmath6 , depending on whether these rows are above or below the bar .    if @xmath271 \\choose 2 } $ ] is a graph , we denote by @xmath80 ( resp .",
    "@xmath79 ) the subset of @xmath78 ( resp .",
    "@xmath77 ) obtained by deleting the squares @xmath272 above the bar for which @xmath151 is not an edge of @xmath4 . at the extremes , if @xmath32 is the complete graph we have @xmath273 and @xmath274 and if @xmath35 is the empty graph we have that @xmath275 is the rectangular board @xmath276 and @xmath277 is the rectangular board @xmath278 .",
    "let @xmath30 \\choose 2}$ ] be a graph . given a region @xmath39 of @xmath3 with ish ceiling diagram @xmath136 ,",
    "we define rook placements @xmath279 and @xmath280 on @xmath78 and @xmath77 as follows .",
    "write @xmath110 and @xmath138 .",
    "the rook placement @xmath279 on @xmath78 consists of @xmath6 rooks , one in every column . for @xmath159 , rook @xmath92",
    "is placed as follows .    * if @xmath281 ( i.e. , if there are no dots above @xmath92 in the ish ceiling diagram of @xmath39 ) , then rook @xmath92 is placed below the bar in position @xmath282 . *",
    "if @xmath283 ( i.e. , if there are dots above @xmath92 in the ish ceiling diagram of @xmath39 ) , then rook @xmath92 is placed above the bar in position @xmath284 .",
    "the rook placement @xmath280 on @xmath77 is just the restriction of @xmath279 from @xmath78 to @xmath77 ( so that @xmath280 contains @xmath285 rooks ) .",
    "either of two rook placements contains the same information as the ish ceiling diagram .",
    "the left of figure  [ ishrook ] shows the rook placement @xmath280 for the region @xmath39 whose ish ceiling diagram is shown in figure  [ ishdiagram ] .",
    "the right of figure  [ ishrook ] shows the rook placement @xmath279 .",
    "[ same - information ] the rook placement @xmath279 is determined by the rook placement @xmath280 . the ish ceiling diagram @xmath136 of @xmath39 is determined by either @xmath280 or @xmath279 .",
    "if @xmath153 is the zero vector ( i.e. , if @xmath123 has no dots above it ) , the fact that @xmath280 determines @xmath279 is just the statement that @xmath286 is determined by @xmath287 .",
    "otherwise , proposition  [ ish - ceiling - diagram - characterization ] states that @xmath286 is less than every value of @xmath93 for which @xmath288 .",
    "this means that the unique rook in @xmath289 must be in the lowest row which is unoccupied in @xmath280 .",
    "the rook placement @xmath279 describes the positions and values of the undotted letters in the permutation @xmath110 as well as the values and number of dots above the dotted letters of @xmath123 . since positive accumulations of dots increase from left to right in an ish ceiling diagram ,",
    "this also determines the positions of the dotted letters of @xmath123 .",
    "we conclude that @xmath279 determines the full ish ceiling diagram @xmath136",
    ".    it will be useful to characterize the rook placements @xmath280 and @xmath279 which come from regions @xmath39 of @xmath3 .",
    "the proof of the following reformulation of proposition  [ ish - ceiling - diagram - characterization ] is left to the reader .",
    "we call a maximal rook placement on @xmath80 valid if every row below the rook in column 1 contains a rook .",
    "[ rook - reformulation ] let @xmath30 \\choose 2}$ ] be a graph . the map @xmath290 bijects regions of @xmath3 with maximal rook placements on @xmath79 . the map @xmath291 bijects regions of @xmath3 with valid rook placements on @xmath80 .",
    "lemma  [ rook - reformulation ] implies that the number of regions of @xmath3 equals the number of maximal rook placements on @xmath79 . in the special case @xmath32",
    ", we have that @xmath292 and we see immediately that @xmath1 has @xmath19 regions ( there are @xmath293 choices for the rook in the first column of @xmath77 , then @xmath294 choices for the rook in the second column , then @xmath295 choices for the rook in the third column , etc . , leading to @xmath231 choices for each of the @xmath285 columns of @xmath77 ) . at the other extreme @xmath35 , the obvious bijection between",
    "maximal rook placements on the below the bar portion of @xmath77 and permutation matrices recovers the fact that @xmath7 has @xmath296 regions .    more generally , for any graph @xmath30",
    "\\choose 2}$ ] and @xmath162 ,",
    "let @xmath297 denote the number of set partitions @xmath64 of @xmath29 $ ] with exactly @xmath161 blocks such that every arc of @xmath64 is an edge of @xmath4 .",
    "when @xmath32 is the complete graph , the number @xmath298 is the classical stirling number of the second kind counting set partitions of @xmath29 $ ] with exactly @xmath161 blocks . at the other extreme , we have @xmath299 .    a maximal rook placement on the board @xmath79 consists of @xmath285 rooks .",
    "if @xmath161 of these rooks are above the bar , then the rooks above the bar correspond to the arcs of a set partition counted by @xmath300 ( where an above the bar rook in position @xmath272 corresponds to the arc @xmath151 ) .",
    "if we fix the positions of the @xmath161 rooks above the bar , we are left with @xmath301 choices for how to place the @xmath302 rooks below the bar .",
    "summing up over @xmath161 , we have that the total number of maximal rook placements on @xmath79 ( or the number of regions of @xmath3 ) is @xmath303 using similar reasoning , one can show that if @xmath64 is a partition of @xmath29 $ ] counted by @xmath300 , then the number of regions of @xmath3 with ceiling partition @xmath64 equals @xmath304 this is equivalent to the ish statement of ( * ? ? ?",
    "* theorem 5.1 ( 1 ) ) .",
    "equation  [ region - enumeration ] also follows from an expression for the characteristic polynomial @xmath305 $ ] of the arrangement @xmath3 contained in @xcite .",
    "namely , in ( * ? ? ?",
    "* theorem 3.2 ) it is shown that @xmath306 evaluating equation  [ ish - characteristic - polynomial ] at @xmath307 and applying zaslavsky s theorem shows that the number of regions of @xmath3 is given by equation  [ region - enumeration ] .",
    "finally , if @xmath95 is any board and @xmath308 , the rook number @xmath309 counts the number of ways to place @xmath184 rooks on @xmath95 . by the same reasoning used to derive equation  [ region - enumeration ] , we have that @xmath310 for @xmath311 .",
    "the numbers @xmath312 count equivalence classes of regions of @xmath3 corresponding to ways to complete an @xmath184-rook placement to a maximal rook placement .",
    "the role non - maximal rook placements play in shi / ish theory is unclear .",
    "we are ready to solve problem  [ basic - problem ] by giving a bijection between the regions of @xmath0 and @xmath1 . this will be the easiest of our bijections to state , but will not preserve dominance , ceiling partitions , or degrees of freedom and will not in general restrict to a bijection between the regions of @xmath2 and @xmath3 for arbitrary subgroups @xmath4 .",
    "we define a map @xmath313maximal rook placements on @xmath314 as follows .",
    "if @xmath75 is a maximal rook placement on @xmath77 , fire lasers rightward from every rook of @xmath75 to the right side of the board @xmath77 .",
    "figure  [ horizontalrook ] shows an example of this construction .",
    "we define a word @xmath315^n$ ] by the rule @xmath316 by the cycle lemma for parking functions , there exists a unique parking function @xmath189 in the @xmath85-orbit of @xmath317 .",
    "we set @xmath318 . in the case of figure  [ horizontalrook ] ,",
    "the word @xmath319 is given by @xmath320 and @xmath189 is given by @xmath321 .",
    "[ basic - theorem ] the composition @xmath70 is a bijection from the set of regions of @xmath1 to the set of regions of @xmath0 .    by proposition  [ parking - shi - characterization ] and lemma  [ rook - reformulation ] , it is enough to show that the map @xmath81 is a bijection . in terms of the intermediate words",
    "@xmath317 used to define @xmath322 for a maximal rook placement @xmath75 on @xmath77 , this reduces to showing that every word in @xmath86^{n-1}$ ] arises as @xmath323 for some rook placement @xmath75 .",
    "given a word @xmath324^{n-1}$ ] , we construct this rook placement @xmath75 on @xmath77 as follows .    * place rook @xmath46 in column @xmath66 at height @xmath325 and fire a laser rightward from rook @xmath46 to the right side of @xmath77 . * for @xmath326 ,",
    "having placed and fired rooks @xmath327 , place rook @xmath92 at the unique height in column @xmath328 such that there are @xmath329 non - laser squares weakly below rook @xmath92 .",
    "it can be checked that the ` intermediate word ' in the construction of @xmath322 is @xmath330 , as desired .",
    "continuing with our example , if @xmath39 is the region of @xmath331 whose ish ceiling diagram is shown in figure  [ ishdiagram ] , we calculated that @xmath332 .",
    "we conclude that the composition @xmath333 is the region of @xmath334 whose shi ceiling diagram is @xmath109 , where @xmath335 and @xmath336 .",
    "the ceiling partition of this shi region is @xmath337 , which does not agree with the ceiling partition of the ish region @xmath39 .",
    "moreover , the region @xmath39 has @xmath67 degrees of freedom while the shi region @xmath333 has @xmath66 degrees of freedom .",
    "let @xmath30 \\choose 2}$ ] be a graph . by working a little harder than in the last section",
    ", we can get a bijection between regions of @xmath2 and @xmath3 which preserves ceiling partitions and dominance .",
    "we again exploit proposition  [ parking - shi - characterization ] and lemma  [ rook - reformulation ] to recast this problem in terms of rook placements .",
    "observe that any bijection between the regions of @xmath0 and @xmath1 which preserves ceiling partitions and dominance restricts to a bijection between the regions of @xmath2 and @xmath3 which preserves ceiling partitions and dominance . without loss of generality , we restrict to the case @xmath32 .",
    "we define a map @xmath338valid rook placements on @xmath339 as follows .",
    "let @xmath76 be a valid rook placement on @xmath78 .",
    "as with the map @xmath81 of the last section , the first step is to fire lasers from the rooks of @xmath76 .",
    "in contrast to the map @xmath81 , the lasers defining @xmath90 will be fired down rather than to the right , will not in general reach the end of the board , and will only be fired from rooks above the bar .    more precisely , let rooks @xmath91 be the rooks in columns @xmath91 .",
    "we read across @xmath78 from left to right . if rook @xmath93 is above the bar with coordinates @xmath272 , fire a laser downwards from rook @xmath93 with lower endpoint given as follows ( where we use the fact that @xmath94 ) .    *",
    "if rook @xmath92 is below the bar , the laser from rook @xmath93 ends in the row of rook @xmath92 . *",
    "if rook @xmath92 is above the bar , the laser from rook @xmath93 ends in the same row as the laser fired down from rook @xmath92 .",
    "this vertical laser construction is shown in figure  [ verticalrook ] .",
    "we let @xmath340 , where @xmath341 for @xmath159 . in the case of figure  [ verticalrook ]",
    ", we have that @xmath342 .    for the map @xmath90 to be well defined ,",
    "we need to check that @xmath340 is a rook word for every valid rook placement @xmath76 on @xmath78 .",
    "since every rook above the bar fires a laser that ends below the bar , we have that @xmath343 for all @xmath92 .",
    "the first paragraph of the proof of lemma  [ same - information ] implies that every integer in the interval @xmath210 $ ] appears as a letter in @xmath189 .",
    "we conclude that @xmath344 , as desired .",
    "[ dominance - theorem ] let @xmath30 \\choose 2}$ ] be a graph .",
    "the composition @xmath71 induces a bijection from the regions of @xmath3 to the regions of @xmath2 which preserves ceiling partitions and dominance .",
    "as mentioned above , we immediately reduce to the case @xmath32 , @xmath345 , and @xmath346 .",
    "we begin by showing that @xmath90 is a bijection . by proposition",
    "[ parking - shi - characterization ] , the cycle lemma , and lemma  [ rook - reformulation ] , this will show that the given composition is a bijection .",
    "if @xmath189 is a rook word , we form a valid rook placement @xmath76 on @xmath78 as follows .",
    "we call the rooks in this rook placement rooks @xmath91 .    * place rook @xmath46 in column @xmath46 at height @xmath220 ( and hence below the bar ) . * for @xmath347 ,",
    "assume inductively that we have placed rooks @xmath348 in columns @xmath349 and fired lasers down from those rooks placed above the bar .",
    "if position @xmath93 of @xmath189 contains the first occurrence of the letter @xmath350 , then place rook @xmath93 in column @xmath93 below the bar at height @xmath350 .",
    "otherwise , let @xmath92 be the maximal position @xmath351 such that @xmath177 .",
    "place rook @xmath93 in column @xmath93 above the bar at height @xmath352 .",
    "if @xmath161 is the minimal position such that @xmath353 , fire a laser down from rook @xmath93 ending in the row containing rook @xmath161 .    since @xmath189 is a rook word , the rook placement @xmath76 is valid .",
    "it follows that @xmath340 , so @xmath338valid rook placements on @xmath354 is a bijection .",
    "next , we check that the given composition preserves ceiling partitions .",
    "let @xmath39 be a region of @xmath1 . by the construction of the map @xmath90",
    ", the ceiling partition of @xmath39 equals the position partition of the rook word @xmath355 .",
    "since the cycle lemma map @xmath259 preserves position partitions and the map @xmath207 of proposition  [ parking - shi - characterization ] maps position partitions to ceiling partitions , we conclude that the composition @xmath71 preserves ceiling partitions .    finally , we check that the given composition preserves the dominance of regions .",
    "let @xmath39 be a dominant region of @xmath1 .",
    "this means that every rook in the valid placement @xmath279 is either above the bar or on the diagonal @xmath356 . in turn",
    ", this implies that the rook word @xmath355 is componentwise @xmath357 .",
    "this forces @xmath355 to be a parking function and fixed by @xmath259 , so that @xmath358 .",
    "moreover , the word @xmath359 has the property that for all @xmath92 occurring in @xmath355 , the first occurrence of @xmath92 is at position @xmath92 .",
    "the fact that positive accumulations of dots increase from left to right and occur to the left of @xmath46 in ish ceiling diagrams implies that the position partition of @xmath355 is nonnesting .",
    "we conclude that the shi ceiling diagram @xmath109 of @xmath360 has permutation @xmath361 , as desired .",
    "continuing the example given by figures  [ ishdiagram ] and [ verticalrook ] , if @xmath39 is the ish region whose ceiling diagram is shown in figure  [ ishdiagram ] , we computed that @xmath362 .",
    "the unique parking function in the @xmath363-orbit of @xmath364 is @xmath365 .",
    "we conclude that @xmath366 .",
    "computing the image of this parking function under @xmath207 shows that the composition in theorem  [ dominance - theorem ] sends the ish region @xmath39 to the shi region whose shi ceiling diagram is @xmath109 , where @xmath367 and @xmath368 .",
    "it can be checked that the bijection @xmath71 restricts to a bijection from ish to shi regions with @xmath6 degrees of freedom . on the level of ceiling diagrams ,",
    "this bijection is just the inverse map @xmath369 on @xmath14 .",
    "let @xmath30 \\choose 2}$ ] be a graph .",
    "a region @xmath39 of a hyperplane arrangement @xmath12 is relatively bounded if the number of degrees of freedom of @xmath39 is minimal among the regions of @xmath12 .",
    "( if @xmath12 is an essential arrangement , this is equivalent to @xmath39 being bounded . ) by slightly modifying the reasoning of the last section",
    ", we can solve a weaker version of problem  [ freedom - problem ] by giving a bijection between the relatively bounded regions of @xmath2 and @xmath3 which preserves ceiling partitions . the full bijective solution to problem  [ freedom - problem ] , presented in the next section",
    ", will restrict to this bijection on relatively bounded regions .",
    "since this more general bijection is much more complicated , we will present this special case first .    without loss of generality , assume that @xmath4 is nonempty ( if @xmath35 , then @xmath370 ) .",
    "this means that the relatively bounded regions of @xmath2 or @xmath3 have @xmath46 degree of freedom . in terms of ceiling diagrams",
    ", this means that a shi ceiling diagram @xmath109 corresponds to a relatively bounded region if and only if @xmath64 is connected and an ish ceiling diagram @xmath136 corresponds to a relatively bounded region if and only if @xmath222 and @xmath371 . in terms of parking functions and rook words , we have the following lemma .",
    "[ prime - reformulation ] the map @xmath207 of proposition  [ parking - shi - characterization ] restricts to a bijection from the set @xmath250 of prime parking functions to the set of relatively bounded regions of @xmath0 .",
    "the map @xmath372 restricts to a bijection from the set of relatively bounded regions of @xmath1 to the set @xmath373 of prime rook words .",
    "if @xmath109 is the ceiling diagram of a relatively bounded shi region , then the set partition @xmath64 is connected .",
    "this means that for every initial segment @xmath374 $ ] of @xmath29 $ ] with @xmath375 , the number of blocks of @xmath64 containing at least one of the elements in @xmath374 $ ] is strictly less than @xmath92 .",
    "this implies that @xmath207 sends prime parking functions to relatively bounded shi regions .",
    "a region @xmath39 of @xmath1 is relatively bounded if and only if the ish ceiling diagram @xmath136 of @xmath39 satisfies @xmath222 and @xmath371 . in terms of rook placements",
    ", this means that the rook in column 1 of @xmath279 is in row 1 and that there are no rooks in row @xmath6 of @xmath279 .",
    "this means that the rook word @xmath355 is prime .",
    "the fact that every prime rook word corresponds to a relatively bounded ish region is proven using the same line of reasoning as in the proof of theorem  [ dominance - theorem ] .",
    "lemma  [ prime - reformulation ] implies the following proposition .",
    "[ bounded - proposition ] let @xmath30 \\choose 2}$ ] be a graph .",
    "the composition @xmath376 induces a bijection from the relatively bounded regions of @xmath3 to the relatively bounded regions of @xmath2 which preserves ceiling partitions .    without loss of generality , we assume that @xmath32 . by lemma  [ prime - reformulation ] and the prime cycle lemma , the given composition is a bijection which preserves ceiling partitions .",
    "the bijection in proposition  [ bounded - proposition ] does _ not _ preserve dominance because the prime cycle map @xmath260 does not preserve dominance at the level of words .",
    "indeed , this bijection could not preserve dominance because @xmath20 has @xmath66 dominant relatively bounded regions and @xmath22 has @xmath67 dominant relatively bounded regions .",
    "in order to solve problem  [ freedom - problem ] , we will need to think of parking functions in a different way . a dyck path of size @xmath6 is a lattice path in @xmath377 starting at @xmath378 , ending at @xmath379 , consisting of north steps @xmath380 and east steps @xmath381 , and staying weakly above the diagonal @xmath382 .",
    "figure  [ dyckparking ] shows a dyck path of size @xmath383 .    a vertical run in a dyck path @xmath384 is a maximal contiguous sequence of north steps .",
    "a labeled dyck path is a dyck path @xmath384 of size @xmath6 with the north steps labeled by letters in @xmath29 $ ] such that every letter appears exactly once as a label and the labels increase going up vertical runs .",
    "a labeled dyck path of size @xmath383 is shown in figure  [ dyckparking ] .",
    "there is a standard bijection between labeled dyck paths of size @xmath6 and @xmath194 obtained by letting a labeled dyck path @xmath384 correspond to the parking function @xmath189 , where @xmath192 is one plus the @xmath269-coordinate of the column in which @xmath92 appears .",
    "for example , the labeled dyck path in figure  [ dyckparking ] corresponds to the parking function @xmath385 . under this correspondence ,",
    "the position partition of a parking function is the set partition of @xmath29 $ ] defined by @xmath50 if and only if @xmath92 and @xmath93 label the same vertical run of @xmath384 .",
    "a return of a ( labeled ) dyck path @xmath384 is a diagonal point @xmath386 on @xmath384 other than @xmath378 or @xmath379 .",
    "the labeled dyck path in figure  [ dyckparking ] has @xmath66 returns .",
    "we call @xmath384 prime if it has no returns .",
    "more generally , we call the prime dyck paths defined by the returns of @xmath384 the prime components of @xmath384 . the labeled dyck path in figure  [ dyckparking ] has @xmath67 prime components . the relationship between prime components and degrees of freedom is as follows .",
    "[ prime - dyck ] let @xmath387 and let @xmath384 be the corresponding labeled dyck path .",
    "if @xmath207 is the map of proposition  [ parking - shi - characterization ] , the number of degrees of freedom of @xmath388 equals the number of prime components of @xmath384 .",
    "the proof of lemma  [ prime - dyck ] is left to the reader .",
    "we will identify parking functions and labeled dyck paths from now on .",
    "viewing parking functions as labeled dyck paths , we will define a bijection @xmath389regions of @xmath390 which preserves ceiling partitions and degrees of freedom ( and hence restricts appropriately to subgraphs @xmath4 of @xmath5 ) .",
    "it will be easier to describe the inverse map @xmath391regions of @xmath392 ; we denote this map by @xmath393 .",
    "let @xmath384 be a parking function of size @xmath6 , thought of as a labeled dyck path . to construct the ish diagram @xmath394",
    ", we will perform a recursive procedure using the prime components of @xmath384 .",
    "the prime component containing the label @xmath46 will be treated in a special way .",
    "let @xmath395 be the prime components of @xmath384 listed so that the prime component @xmath396 contains the label @xmath46 and the prime components are cyclically listed from left to right .",
    "let @xmath397 be the size of the dyck path underlying the prime component @xmath398 .",
    "the map @xmath393 will treat the component @xmath396 differently from the other components .",
    "we initialize the image @xmath394 to be the empty word .",
    "we start with the prime component @xmath396 .",
    "if @xmath396 only contains the label @xmath46 ( i.e. , if the dyck path underlying @xmath396 has size @xmath46 ) , we update @xmath394 by setting @xmath399 . otherwise , the prime component @xmath396 has labels other than @xmath46 . starting at the column of @xmath396 containing @xmath46 , moving cyclically to the right within @xmath396 , and ignoring the final ( necessarily empty ) column of @xmath396 , we write either the lowest label in that column or a diamond ( ` @xmath400 ' ) if that column has no labels .",
    "this gives a word of length @xmath401 . in the case of figure  [ dyckparking ] , this word is @xmath402 @xmath403 .",
    "we replace @xmath394 by this word with a single additional @xmath400 at the end . at this point ,",
    "the word @xmath394 has length @xmath404 .",
    "in the case of figure  [ dyckparking ] we have @xmath405 @xmath403 @xmath400 .",
    "next we look at the prime component @xmath406 .",
    "we build a word of length @xmath407 as follows . reading the columns of @xmath406 from right to left ,",
    "we record either the lowest label in that column or a @xmath400 if that column has no labels . in figure  [ dyckparking ] , the word so obtained is given by @xmath66 @xmath408 @xmath400 .",
    "unlike in the case of @xmath396 , there is no ` cycling ' involved in writing down this word ; we start at the leftmost column of @xmath406 and move right .",
    "we replace @xmath394 by the word obtained by inserting the size @xmath407 word for @xmath406 just after the first letter of @xmath394 . at this point @xmath394",
    "has length @xmath409 . in the case of figure  [ dyckparking ]",
    ", we have that @xmath399 @xmath66 @xmath408 @xmath410 @xmath403 @xmath400 .    at stage @xmath92 for @xmath375 , we start with a word @xmath394 of length @xmath411 .",
    "we build a word of length @xmath397 from the component @xmath398 by reading the lowest labels in the columns of @xmath398 from left to right , or a @xmath400 if that column has no labels .",
    "we replace @xmath394 by the word of length @xmath412 formed by placing this word of length @xmath397 just after the @xmath413 position of @xmath394 . in the case of figure  [ dyckparking ] , this gives the word @xmath399",
    "@xmath66 @xmath414 @xmath408 @xmath410 @xmath403 @xmath400 .",
    "at this point , the first @xmath43 letters of @xmath394 are not diamonds and give labels in the @xmath43 prime components of @xmath384 , starting with @xmath46 read cyclically from left to right .",
    "we replace @xmath394 with the word obtained by cyclically rotating these first @xmath43 letters to the left by one position . in the example of figure  [ dyckparking ]",
    ", we have that @xmath415 and @xmath416 @xmath414 @xmath46 @xmath408 @xmath410 @xmath403 @xmath400 .    at this stage , we know that @xmath46 occurs in position @xmath43 of @xmath394 .",
    "we cyclically rotate the _ entire _ word @xmath394 to the left until the only entries occurring before @xmath46 in @xmath394 label prime components to the left of @xmath46 in @xmath384 . in figure",
    "[ dyckparking ] , this gives @xmath417 @xmath46 @xmath408 @xmath410 @xmath403 @xmath400 @xmath66 .",
    "finally , we replace @xmath394 with the unique ish ceiling diagram @xmath136 such that @xmath65 agrees with @xmath394 in the non - diamond positions and the ceiling partition of @xmath136 agrees with the ceiling partition of @xmath384 . in the case of figure  [ dyckparking ] , this yields @xmath418 , where @xmath419 and @xmath420 .",
    "the following result solves problem  [ freedom - problem ] .",
    "[ freedom - theorem ] the map @xmath393 is invertible and its inverse @xmath389regions of @xmath421 has the property that @xmath72 is a bijection from regions of @xmath1 to regions of @xmath0 which preserves ceiling partitions and degrees of freedom .",
    "therefore , if @xmath30 \\choose 2}$ ] is a graph , the composition @xmath72 restricts to a bijection from regions of @xmath3 to regions of @xmath2 which preserves ceiling partitions and degrees of freedom .",
    "let @xmath422 be a parking function thought of as a labeled dyck path with @xmath43 prime components .",
    "in the construction of the ish ceiling diagram @xmath394 , the diamonds will ultimately be replaced by letters with dots over them .",
    "after the length of @xmath394 reaches @xmath6 and the first @xmath43 letters are cycled , the distance between @xmath46 and the final diamond of @xmath394 is @xmath423 .",
    "this distance is preserved by the overall cyclic shift of @xmath394 that follows . by lemma  [ prime - dyck ]",
    ", it follows that the final ish ceiling diagram @xmath394 has @xmath43 degrees of freedom , so that @xmath393 preserves the degrees of freedom statistic .",
    "the map @xmath393 preserves ceiling partitions by construction .",
    "we are reduced to showing that @xmath393 is a bijection .",
    "the inverse map @xmath89 of @xmath393 is defined by running the algorithm defining @xmath393 in reverse .",
    "we will describe how to construct the image @xmath424 , where @xmath39 is the image @xmath394 of the labeled dyck path of figure  [ dyckparking ] and leave it to the reader to check that @xmath89 is a well defined inverse of @xmath393 .",
    "let @xmath39 be the region of @xmath1 whose ish ceiling diagram is @xmath136 , where @xmath419 and @xmath420 . to construct @xmath424 ,",
    "we first make note of the ceiling partition of @xmath39 ( in this case @xmath425 ) and the number of degrees of freedom of @xmath39 ( in this case @xmath67 ) .",
    "next , we initialize a word @xmath179 by replacing every entry @xmath113 of @xmath123 with @xmath156 with a @xmath400 . in this case , we have the word @xmath426 @xmath46 @xmath408 @xmath410 @xmath403 @xmath400 @xmath66 .",
    "since @xmath46 never has dots above it in an ish ceiling diagram , the number @xmath46 necessarily appears among the symbols of @xmath179 . if the region @xmath39 has @xmath43 degrees of freedom , we cycle the word @xmath179 to the right until the number @xmath46 is in position @xmath43 .",
    "we keep track of the number of times we needed to cycle to do this ; call this number in @xmath427 the cycle index . in our case , we cycle right once to get a word with @xmath46 in position @xmath67 , yielding @xmath428 @xmath414 @xmath46 @xmath408 @xmath410 @xmath403 @xmath400 and the cycle index is @xmath46 .",
    "since the number of degrees of freedom of an ish region is @xmath231 minus ( the number of entries weakly between @xmath46 and the last dotted entry in the corresponding ish ceiling diagram ) , this cycling procedure never cycles any @xmath400 symbols around the end of @xmath179 and results in a word whose first @xmath43 symbols are numbers rather than diamonds . in our case",
    ", these symbols are the prefix @xmath66 @xmath414 @xmath46 .",
    "the next step is to rotate the first @xmath43 entries of @xmath179 one unit to the right ( while leaving the remaining entires in @xmath179 unaltered ) . at this point ,",
    "the word @xmath179 starts with @xmath46 and the first @xmath43 positions in @xmath179 are numbers . in our case , we have @xmath429 @xmath66 @xmath414 @xmath408 @xmath410 @xmath403 @xmath400 .    using the word @xmath179",
    ", we will construct the prime components @xmath430 of the labeled dyck path @xmath424 ( with indices in that order ) , together with the _ cyclic _ order in which they appear from left to right .",
    "the _ linear _ order of these prime components ( and hence @xmath424 itself ) will be determined by the cycle index after the prime components are constructed .",
    "the construction of the final component @xmath396 will be different from the construction of the other prime components @xmath431 .    by construction ,",
    "the numbers appearing in @xmath179 are precisely the minimal elements in the blocks of the ceiling partition of @xmath39 . above every number in @xmath179 ,",
    "draw a vertical run with steps labeled by elements of the corresponding ceiling partition block , together with a single east step . above every diamond ,",
    "draw a single east step . in our case ,",
    "we obtain the following figure .    to form the first prime component @xmath432 , start at the @xmath433 position in this figure ( which must necessarily contain a nonempty vertical run over a number ) .",
    "read from right to left , building up a labeled lattice path starting on @xmath382 along the way , until one returns to the line @xmath382 .",
    "the labeled lattice path so obtained is the prime component @xmath432 .",
    "delete the symbols involved with @xmath432 from the word @xmath179 . in our case ,",
    "( where @xmath415 ) the prime component @xmath434 and the new word @xmath179 so obtained are shown below .",
    "to form the second prime component @xmath435 , start at the @xmath436 position in this figure ( which must necessarily contain a nonempty vertical run over a number ) . as with the component @xmath432 , to form",
    "@xmath435 read the lattice path above @xmath179 from left to right until one returns to the diagonal .",
    "delete the symbols involved in @xmath435 from @xmath179 . in our example , the prime components @xmath434 and @xmath406 and the new word @xmath179 so obtained are as follows .    for @xmath437 , to construct @xmath398 ( having constructed @xmath438 and updated @xmath179 appropriately ) , start at the @xmath439 position in @xmath179 ( which contains a number ) .",
    "read the lattice path from left to right until it returns to the diagonal .",
    "this gives the prime component @xmath398 .",
    "delete the symbols involved in @xmath398 from @xmath179 .",
    "the construction of @xmath396 is different .",
    "if the word @xmath179 has length @xmath46 at this stage , then @xmath179 consists of the single letter @xmath46 . in this case , we let @xmath396 be the dyck path of size @xmath46 labeled by @xmath46 .",
    "if the word @xmath179 has length @xmath440 , then @xmath179 starts with @xmath46 and ends in @xmath400 .",
    "delete the final @xmath400 from @xmath179 .",
    "there exists a unique cyclic rotation of the lattice path components above this shortened word which is of the form of a prime dyck path missing its final east step .",
    "this cyclic rotation ( together with its labels and final east step ) is the component @xmath396 .    at this point , we have obtained the prime components @xmath430 .",
    "suppose that the cycle index is @xmath441 .",
    "the labeled dyck path @xmath424 is defined to be the left - to - right concatenation @xmath442 . in our example",
    ", the cycle index is @xmath46 , so we have that @xmath424 is the left - to - right concatenation @xmath443 .",
    "this is precisely the labeled dyck path in figure  [ dyckparking ] .",
    "in this paper , we constructed bijections between the regions of the shi and ish arrangements which preserved certain properties and statistics . while the bijection preserving dominance in theorem  [ dominance - theorem ] was reasonably transparent and involved an application of the cycle lemma , the bijection preserving degrees of freedom in theorem  [ freedom - theorem ] was more involved and ad hoc . a possible method for obtaining a more conceptual proof of theorem  [ freedom - theorem ] ( and a better understanding of shi / ish duality ) would be to find a rook word analog of a factorization property of parking functions .",
    "more precisely , if @xmath444 , @xmath445 , and @xmath446 is a two - block ordered set partition of @xmath447 $ ] with @xmath448 and @xmath449 , we obtain a new parking function @xmath450 by the rule that the restriction of @xmath451 to the positions in @xmath452 is @xmath453 and the restriction of @xmath451 to the positions in @xmath454 is @xmath455 .",
    "( this is closely related to the ` shuffle product ' in a hopf algebra structure on the set of parking functions due to novelli and thibon @xcite . ) using the map @xmath207 of proposition  [ parking - shi - characterization ] to define the ` degrees of freedom ' of a parking function , we see that the degrees of freedom of @xmath456 is the sum of the degrees of freedom of @xmath457 and the degrees of freedom of @xmath458 .    on the other hand , given any parking function @xmath387 with @xmath43 degrees of freedom , there exists a unique ordered set partition @xmath459 of @xmath29 $ ] and unique prime parking functions @xmath460 such that @xmath461 .",
    "for example , if @xmath462 is the parking function whose labeled dyck path is shown in figure  [ dyckparking ] , then @xmath415 , @xmath463 , @xmath464 , @xmath465 , and @xmath466 .",
    "the parking function factorization @xmath461 also respects position partitions .",
    "namely , the position partition of @xmath179 is the partition @xmath64 of @xmath29 $ ] which refines the ( unordered ) set partition @xmath467 such that the restriction of @xmath64 to @xmath468 is order isomorphic to the position partition of @xmath469 .",
    "solving the following problem would give a new proof of theorem  [ freedom - theorem ] and an ish analog of the parking function factorization .",
    "[ factorization ] let @xmath470 .",
    "give a bijection @xmath471 $ } } { { \\sf{rook}}}'_{|b_1| } \\times \\dots \\times { { \\sf{rook}}}'_{|b_d|}\\ ] ] such that if @xmath472 and @xmath473 corresponds to @xmath474 , then    * @xmath179 has @xmath43 degrees of freedom and * the position partition of @xmath179 is the unique partition @xmath64 of @xmath29 $ ] such that @xmath64 refines @xmath475 and the restriction of @xmath64 to @xmath468 order isomorphic to the position partition of @xmath469 .",
    "here we define the  degrees of freedom \" of a rook word to be the degrees of freedom of the corresponding ish region ( via the map @xmath83 ) .    in solving problem  [ factorization ] , it may be useful to have an intrinsic notion of the degrees of freedom of a rook word .",
    "define the tail of a rook word @xmath476 to be the maximal set of integers of the form @xmath477 $ ] for @xmath478 such that every integer in @xmath477 $ ] appears as a letter of @xmath179 .",
    "we leave it to the reader to check that the number of degrees of freedom of @xmath179 is @xmath220 plus the number of integers in the tail of @xmath179 .",
    "for example , @xmath479 has tail @xmath480 and @xmath481 degrees of freedom .",
    "the authors thank drew armstrong and igor pak for helpful conversations .",
    "e. leven was partially supported by nsf grant dge-1144086 .",
    "b. rhoades was partially supported by nsf grant dms-1068861 .",
    "a. t. wilson was partially supported by the department of defense , air force office of scientific research , national defense science and engineering graduate ( ndseg ) fellowship , 32 cfr 168a ."
  ],
  "abstract_text": [
    "<S> the shi hyperplane arrangement @xmath0 was introduced by shi to study the kazhdan - lusztig cellular structure of the affine symmetric group . </S>",
    "<S> the ish hyperplane arrangement @xmath1 was introduced by armstrong in the study of diagonal harmonics . </S>",
    "<S> armstrong and rhoades discovered a deep combinatorial similarity between the shi and ish arrangements . </S>",
    "<S> we solve a collection of problems posed by armstrong @xcite and armstrong and rhoades @xcite by giving bijections between regions of @xmath0 and @xmath1 which preserve certain statistics . </S>",
    "<S> our bijections generalize to the ` deleted arrangements ' @xmath2 and @xmath3 which depend on a subgraph @xmath4 of the complete graph @xmath5 on @xmath6 vertices . </S>",
    "<S> the key tools in our bijections are the introduction of an ish analog of parking functions called rook words and a new instance of the cycle lemma of enumerative combinatorics . </S>"
  ]
}