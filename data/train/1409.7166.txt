{
  "article_text": [
    "ower grid analysis is an indispensable step in modern chip simulation and verification . due to the @xmath0 and @xmath1 voltage drops ,",
    "the actual voltages applied to the logic gates and other circuit elements are smaller than wished , which not only increases the delay of the logic gates but may also result in logic errors .",
    "as the ever decreasing supply voltages and threshold voltages make the problem worse , power grid analysis becomes an indispensable step in the simulation flow .    to capture the worst - case voltage drop and place decoupling capacitors ( if necessary )",
    ", dc analysis and/or transient analysis of the power grid should be performed .",
    "frequency - domain analysis is not appropriate as the vital voltage drop in the time domain may be lost in the frequency - domain analysis .",
    "both dc analysis and transient analysis ( using forward / backwardcan be finally reduced to a linear solving problem    traditional power grid analysis only considers the @xmath0 voltage drop . as the operation frequency of chips is increasing rapidly , the @xmath1 voltage drop should not be neglected .",
    "thus , the power grid model should consist inductors besides resistors and capacitors .",
    "the existence of inductors changes the state - space model from order-1 to order-2 , hence introduces new difficulties to the transient analysis and its topology - based algorithms .",
    "it was proved in @xcite that the system matrix of the rlc model could be still positive definite , which had been thought to be impossible before the paper .",
    "however , some of its details are inaccurate . the right formulation will be proposed in section [ sec_rlccon ] , which is the basis to prove the convergence of the topology - based iterative algorithm in section [ sec_rlcalg ] .    in this paper ,",
    "a new topology - based algorithm is proposed .",
    "the nodal analysis is adopted to analyze the netlist and generate positive semi - definite system model .",
    "then a purely topology - base iterative method is introduced to solve the power grid analysis without constructing the system matrices . the convergence is proved and the complexity is analyzed .",
    "power grids are usually modeled as rlc circuits , or simpler rc circuits .",
    "the current sources attached to the nodes of the power grid represent the currents drawn from the logic gates or other devices . hence prior to the simulation of the power grid ,",
    "the current pattern of the gates and devices should be obtained and modeled as piecewise linear ideal current sources . the capacitors in parallel with the currents sources can be either parasitic capacitors or decoupling capacitors .",
    "the inductors most possibly appear at the vias connecting different layers and the metal layer connecting the power grid to external power supply .",
    "in many models the inductors can be neglected .",
    "first consider the simpler rc power grid model , which can be depicted as a state - space model @xcite @xmath2 where @xmath3 is the vector of nodal voltages , @xmath4 is the vector of current sources , @xmath5 is vector of dimension @xmath6 with all its values equal to @xmath5 .",
    "@xmath7 is a diagonal matrix whose @xmath8 element is the capacitance between node @xmath9 and ground .",
    "@xmath10 is the conductance matrix with its diagonal @xmath8 element being the total conductance connected to node @xmath9 and off - diagonal @xmath11 element being the opposite number of the conductance between node @xmath9 and node @xmath12 ( it is zero if node @xmath9 and node @xmath12 are unconnected ) .",
    "@xmath13 is a diagonal matrix with its @xmath8 element being the conductance between node @xmath9 and source ( if node @xmath9 is connected to a source ) or @xmath14 ( if node @xmath9 is not connected to any source ) . to simplify the notation",
    ", @xmath15 is used to represent @xmath16 . using backward euler method , ( [ eqn_rc ] )",
    "can be approximated as @xmath17 where @xmath18 represents the time step .",
    "thus given the initial condition @xmath19 , we can calculate all the @xmath20 after @xmath14 .",
    "note that @xmath21 is always invertible if the system is stable .",
    "the reason is that stability implies that all the eigenvalues of the matrix pencil @xmath22 distribute in the left half complex plane and the positive real value @xmath23 can not be an eigenvalue of @xmath22 .",
    "if we use system matrix @xmath24 to denote @xmath21 and @xmath25 to denote @xmath26 , ( [ eqn_rctran ] ) can be reduced to @xmath27 in dc analysis , @xmath28 and @xmath25 .      although straightforward in theory , eq . ( [ eqn_rctran ] )",
    "are difficult to solve due to the extremely large size . in a standard power grid analysis problem ,",
    "the number of nodes @xmath6 can be hundreds of thousands or even millions , thus the dimension of the matrices can be up to millions .",
    "this causes problems owing to the limited speed and memory of computers .",
    "direct methods based on lu decomposition requires @xmath29 time for the decomposition of the system matrix ( @xmath10 or @xmath24 ) and @xmath30 time for forward and backward substitution .",
    "the memory required is @xmath30 even if @xmath10 or @xmath24 is sparse as the resulting matrices @xmath31 may become dense",
    ". therefore direct methods are not applicable for extremely large problems .",
    "alternative methods include traditional iterative methods , the widely used pcg ( preconditioned conjugate gradient ) method and the monte - carlo - like random walk method , etc .",
    "pcg method , although converges fast , may be not applicable to extremely large problems as preconditioned system matrix may become dense and thus requires prohibiting @xmath30 memory .",
    "random walk algorithm is most suitable in the case that we only want to calculate the voltages at some specific nodes , but it may be inefficient for the full - circuit analysis , which is indispensable to find the worst - case voltage drop .",
    "an iterative method was introduced in @xcite , which can be regarded as an efficient implementation of the traditional gauss - seidel iteration method and sor ( successive over - relaxation ) method .",
    "the convergence of this method in the dc analysis has been proven in @xcite .",
    "the advantage of this method is that it is topology - based and no matrix construction is needed . hence it requires much less memory than pcg method .",
    "it is also shown that the method is faster than random walk in @xcite .    in the next sections",
    ", we will extend this sor - like method to the transient analysis of rc and rlc power grid models and prove their convergence . in the rlc model analysis part , we will first show that the proof of positive definiteness in @xcite is inaccurate and then give the right version .",
    "in the analysis of rlc circuits the most commonly used method is mna ( modified nodal analysis ) .",
    "it can be guaranteed that these system models are passive @xcite by introducing extra variables for currents flowing through voltage sources and inductors , it can generate compact state - space models efficiently . however , when we perform transient analysis on such mna models , the system matrix is not positive definite . as a result , many iterative algorithms ( such as preconditioned conjugate gradient ) can not be applied since their convergence requires positive definiteness of the system matrix .    in @xcite ,",
    "a new na ( nodal analysis ) method was proposed to perform transient analysis on rlc circuits .",
    "it was proved in @xcite that the resulting system matrix is guaranteed to be positive definite .",
    "although the idea in the paper is novel and inspiring , its formulations is inaccurate .",
    "the key equation ( equation ( 8) in @xcite ) is incorrect due to a wrong sign in equation ( 6 ) . from another perspective , in equation",
    "( 8) , the current state of the nodal voltages only depends on the state of the previous step , which is impossible for a second - order system . in a second - order system like rlc circuits ,",
    "the required initial conditions involve both @xmath19 and @xmath32 . in the discretized form ,",
    "the state @xmath33 should depend on both @xmath20 and @xmath34 , which is not the case in @xcite .",
    "besides , the analysis in @xcite did not consider voltage sources .",
    "although norton equivalent was used to convert voltages sources to current sources , we still wish to involve voltages sources from the beginning of the deduction , as norton equivalent does not work for ideal voltage sources which we may want to include in the power grid model",
    ". we will give the correct deduction considering ideal voltage sources in the next subsection .      to simplify the deduction ,",
    "assume that all the negative terminals of the voltage sources are connected to ground , which is just the case in the power grid analysis ( it can be extended to ground network analysis straightforwardly ) .",
    "assume that there are @xmath6 nodes that are neither ground nor positive terminals of voltage sources in the power grid model ( called trivial nodes ) , numbered from @xmath35 to @xmath6 , together with @xmath36 nodes being the positive terminals of voltage sources ( called source nodes ) , numbered from @xmath35 to @xmath36 .",
    "besides , assume there are @xmath37 branches not through voltage sources , numbered from @xmath35 to @xmath37 . define the @xmath37 by @xmath6 modified incidence matrix @xmath24 as @xmath38    similarly , define the @xmath37 by @xmath36 source incidence matrix @xmath39 as @xmath40    the advantage of splitting the traditional incidence matrix to the modified incidence matrix and the source incidence matrix is that no extra current variables through the voltage sources needs to be introduced , which facilities the nodal analysis and is the basis of the positive definiteness to be proved next . by grouping the branches with resistors , inductors , capacitors and current sources together we obtain @xmath41 , { a_s } = \\left [ { \\begin{array}{*{20}{c } }     { { a_{gs } } }   \\\\     { { a_{cs } } }   \\\\     { { a_{ls } } }   \\\\     { { a_{is } } }   \\\\ \\end{array } } \\right ] , { v_b } = \\left [ { \\begin{array}{*{20}{c } }     { { v_g } }   \\\\     { { v_c } }   \\\\     { { v_l } }   \\\\     { { v_i } }   \\\\ \\end{array } } \\right ] , { i_b } = \\left [ { \\begin{array}{*{20}{c } }     { { i_g } }   \\\\     { { i_c } }   \\\\     { { i_l } }   \\\\     { { i_i } }   \\\\ \\end{array } } \\right],\\ ] ] where @xmath42 is the vector of branch currents , @xmath43 is the vector of branch voltages , @xmath44 , @xmath45 , @xmath46 , @xmath47 represent resistors , capacitors , inductors and current sources respectively .",
    "applying kirchoff s current and voltage laws , we obtain @xmath48 where @xmath49 is the vector of nodal voltages ( other than the nodes being the terminals of voltage sources ) and @xmath50 is the ( constant ) vector of voltage sources .    besides , the branch currents and branch voltages follow the following branch equations ( grouped by branch elements ) @xmath51 where @xmath52 , @xmath53 , @xmath54 are diagonal matrices with its diagonal elements being the value of corresponding branch resistance , capacitance and inductance , @xmath55 is the vector of branch current sources",
    ".    combine ( [ eqn_kir ] ) and ( [ eqn_branch ] ) , we obtain @xmath56 equations of @xmath56 variables .",
    "substitute the second equation of ( [ eqn_kir ] ) to ( [ eqn_branch ] ) and then substitute the new ( [ eqn_branch ] ) to the first equation of ( [ eqn_kir ] ) , we have @xmath57 here @xmath58 , @xmath59 , @xmath60 .",
    "use backward euler law to discretize ( [ eqn_simp ] ) ,    @xmath61    here @xmath18 is the selected time step length . rewrite the first equation of ( [ eqn_discrete ] ) at time @xmath62 and subtract it from the original equation , then substitute the second equation of ( [ eqn_discrete ] ) to it we obtain    @xmath63    here @xmath64 , @xmath65 .",
    "@xmath54 is a diagonal matrix with all its diagonal elements being nonzero , hence it is invertible .",
    "@xmath66 is called system matrix .      in the rlc power grid model analysis ,",
    "some assumptions on the topology are made as summarized below .    1 .",
    "all the voltage sources have their negative terminals as ground ; 2 .",
    "any trivial node is connected to other non - ground nodes by one or more branches and such branches can not be all current sources .",
    "3 .   for any pair of trivial nodes @xmath9 and @xmath12 , there exists at least one path from @xmath9 to @xmath12 and the path passes through trivial nodes only ( it does not pass through source nodes ) .",
    "the first assumption is straightforward and just the case in power grid models .",
    "the second assumption is also true since every node in the power grid model is connected to other non - ground nodes by at least one resistor ( or capacitor , or inductor ) .",
    "the third assumption may be not satisfied for some special cases .",
    "however , in these cases the power grid can be separated to several sub - circuits which are independent of each other .",
    "consider the case in fig .",
    "( [ pic_special ] ) .",
    "the circuit can be divided to two independent parts , sub - circuit 1 and sub - circuit 2 . in the analysis of each sub - circuit , the third assumption is satisfied .",
    "[ lem_pos ] under the topological assumptions for the circuits , the resulting system matrix @xmath67 is positive definite .",
    "it is obvious that @xmath68 is symmetric . and",
    "according to the definition of @xmath69 , @xmath70 is the sum of conductances connected to trivial node @xmath9 , @xmath71 is the sum of conductances connected to trivial node @xmath9 and not connected to source nodes . hence @xmath72 .",
    "the same is true for @xmath7 and @xmath73 , which indicates the system matrix is weakly diagonally dominant with nonnegative diagonal elements .",
    "besides , according to the topological assumption , any two trivial nodes are connected by a path crossing only trivial nodes .",
    "this results in the system matrix to be irreducible .",
    "use the well - known theorem in @xcite , we conclude that the system matrix @xmath68 is positive definite .",
    "consider a representative node in the rlc power grid model , as shown in fig .",
    "[ pic_rlcnode ] . applying kirchoff s current law at node @xmath9 we have @xmath74 here",
    "@xmath75 is the current from node @xmath9 to node @xmath12 , @xmath76 is the conductance between node @xmath9 and node @xmath12 , @xmath77 ( @xmath78 ) is the set of indices of nodes connected to node @xmath9 by a resistor ( inductor ) .",
    "note that @xmath79 may be nonempty .",
    "take derivative on both sides of ( [ eqn_rlckir0 ] ) and substitute the branch equations through inductors into it , we obtain @xmath80    @xmath81    here @xmath82 denotes the inductance between node @xmath9 and node @xmath12 . using backward euler method , ( [ eqn_rlckir2 ] ) can be discretized to ( [ eqn_rlcnode ] ) , as shown below ( ?",
    "? in the next page ? ?",
    "write ( [ eqn_rlcnode ] ) more compactly as @xmath83 where @xmath84 represents the coefficient of @xmath85 and @xmath86 is a known value corresponding to currents at @xmath87 and nodal voltages @xmath88 . based on ( [ eqn_rlcnodecomp ] )",
    ", we can use an iterative method to solve the power grid model . in each iteration , update the nodal voltage at node @xmath9 by @xmath89 here @xmath90 is defined as the set of indices that satisfy ( i ) the corresponding nodes are connected to node @xmath9 and ( ii ) they are smaller ( larger ) than @xmath9 .",
    "@xmath91 denotes the iteration number .      as it can be seen from ( [ eqn_systemeqn ] ) and ( [ eqn_rlcupdate ] ) , the nodal voltages at @xmath92 depend on the circuit states at both @xmath62 and @xmath93 , which is the requirement of the `` second - order '' characteristic of the circuit .",
    "if the initial conditions @xmath94 and @xmath95 are given , we can calculate @xmath96 at any time after @xmath14 by iteratively updating nodal voltages using ( [ eqn_rlcupdate ] ) .",
    "given the initial conditions @xmath97 and @xmath95 , @xmath97 and @xmath98 can be calculated in three steps .    1 .",
    "treat capacitors as voltage sources whose voltages are @xmath94 , inductors as current sources whose currents are @xmath95 .",
    "perform iterative dc analysis as @xcite at time @xmath14 , obtain @xmath97 , @xmath99 and @xmath100 ; 2 .",
    "calculate @xmath101 and @xmath102 according to @xmath103 , @xmath104 ; 3 .",
    "perform iterative dc analysis at time point @xmath18 and obtain @xmath98 .",
    "after the three steps we obtain the voltages of trivial nodes ( @xmath97 and @xmath98 ) , which are the basis of the topology - based transient analysis algorithm in the next subsection .",
    "the topology - based algorithm is proposed as algorithm [ alg_rlc ] . no matrix construction or manipulation",
    "is required in the algorithm , which dramatically reduces the storage memory and computation time . in the algorithm ,",
    "dc analysis is performed first to obtain the initial conditions .",
    "then , the nodal voltages at each time step is solved iteratively , based on the information at the previous two time steps .",
    "the vectors @xmath105 and @xmath106 represent the nodal voltages and current sources at time @xmath107 . the convergence and computational complexity of the proposed algorithm are discussed in section [ sec_rlccon ] .",
    "[ alg_rlc ]    calculate @xmath108 and @xmath109 using iterative dc analysis ; @xmath110 ; @xmath111 ; @xmath112 update @xmath113 using equation ( [ eqn_rlcupdate ] ) ; @xmath114      [ thm_conv ] the solution @xmath105 ( @xmath115 ) of algorithm [ alg_rlc ] converges to the accurate nodal voltages @xmath116 .",
    "compare ( [ eqn_rlcnodecomp ] ) and ( [ eqn_rlcupdate ] ) with ( [ eqn_systemeqn ] ) , we can see that algorithm [ alg_rlc ] is equivalent to the gauss - seidel iterative solution of the matrix equation ( [ eqn_systemeqn ] ) . because the system matrix is symmetric positive definite",
    ", the gauss - seidel iteration converges ( refer to theorem 10.2.1 of @xcite ) . therefore algorithm [ alg_rlc ]",
    "is guaranteed to converge .",
    "we can employ the sor ( successive over - relaxation ) method to accelerate the convergence of algorithm [ alg_rlc ] .",
    "using the sor - like method , the nodal voltage updating formula ( [ eqn_rlcupdate ] ) is adapted to @xmath117 here @xmath118 is the updated voltage calculated through ( [ eqn_rlcupdate ] ) .",
    "@xmath119 is called relaxation parameter . using ( [ eqn_sor ] ) to update the nodal voltage , we obtain a new algorithm ( named as algorithm 2 ) . if @xmath120 , algorithm 2 is guaranteed to converge . with appropriately chosen @xmath119",
    ", the convergence procedure can be accelerated .",
    "we refer the readers to @xcite , @xcite for the optimal choice of @xmath119 .",
    "a topology - base power grid transient analysis algorithm has been proposed .",
    "nodal analysis has been adopted to analyze the topology which is mathematically equivalent to iteratively solving a positive semi - definite linear equation .",
    "the convergence of the method has been proved .",
    "y.  wang , c .- u .",
    "lei , g.  k. pang , and n.  wong , `` mfti : matrix - format tangential interpolation for modeling multi - port systems , '' in _ proceedings of the 47th design automation conference_.1em plus 0.5em minus 0.4em acm , 2010 , pp . 683686 .",
    "lei , y.  wang , q.  chen , and n.  wong , `` on vector fitting methods in signal / power integrity applications , '' in _ proceedings of the international multiconference of engineers and computer scientists 2010 , imecs 2010 _ , vol .",
    "2.1em plus 0.5em minus 0.4emnewswood limited . , 2010 , pp .",
    "14071412 .",
    "y.  wang , z.  zhang , c .- k .",
    "koh , g.  k. pang , and n.  wong , `` peds : passivity enforcement for descriptor systems via hamiltonian - symplectic matrix pencil perturbation , '' in _ proceedings of the international conference on computer - aided design_.1em plus 0.5em minus 0.4emieee press , 2010 , pp .",
    "800807 .",
    "y.  wang , z.  zhang , c .- k .",
    "koh , g.  shi , g.  k. pang , and n.  wong , `` passivity enforcement for descriptor systems via matrix pencil perturbation , '' _ computer - aided design of integrated circuits and systems , ieee transactions on _ , vol .",
    "31 , no .  4 , pp .",
    "532545 , 2012 ."
  ],
  "abstract_text": [
    "<S> in the design flow of integrated circuits , chip - level verification is an important step that sanity checks the performance is as expected . </S>",
    "<S> power grid verification is one of the most expensive and time - consuming steps of chip - level verification , due to its extremely large size . </S>",
    "<S> efficient power grid analysis technology is highly demanded as it saves computing resources and enables faster iteration . in this paper , </S>",
    "<S> a topology - base power grid transient analysis algorithm is proposed . </S>",
    "<S> nodal analysis is adopted to analyze the topology which is mathematically equivalent to iteratively solving a positive semi - definite linear equation . </S>",
    "<S> the convergence of the method is proved .    </S>",
    "<S> wang : an efficient topological - based power grid analysis algorithm using nodal analysis    power grid , topology , nodal analysis , positive semi - definite </S>"
  ]
}