{
  "article_text": [
    "the central object of gromov - witten theory is the virtual fundamental class ( vfc ) of the moduli space of stable maps . in the algebraic geometry context",
    ", the virtual fundamental class was constructed soon after the subject began .",
    "it is difficult to extend the construction to the symplectic category , in large part because the methods of geometric analysis are ill - suited to apply to maps from families of degenerating curves .",
    "the issue was originally addressed in the late 1990s ( @xcite , @xcite , @xcite , @xcite , @xcite ) .",
    "as the subject has developed , there has been an increasing need for an approach that is rigorous and also easy to use . in recent years",
    "major efforts have been made to define a virtual fundamental class using kuranishi structures @xcite , @xcite , @xcite , and polyfolds @xcite .",
    "this article presents an alternative approach , building on ideas of cieliebak - mohnke @xcite and paying attention to the functorial aspects of the vfc .",
    "the strategy of the proof is to observe that existing results give a virtual fundamental class for a set of especially nice almost complex structures ( which we call super - fine and generic ) and successively enlarge the space of parameters on which the vfc is defined . to fully exploit functoriality , we consider collections of gromov - witten categories .    here is the general context . in symplectic gromov - witten theory ,",
    "each moduli space is part of a family parameterized by the space @xmath1 of tame almost complex structures on @xmath2 .",
    "one must also specify the type of domain curve and type of target .",
    "the choices involved can be phrased as follows .",
    "a _ gw moduli problem _ for a symplectic manifold @xmath2 , or more generally a symplectic pair @xmath3 , consists of    1 .   a choice of a category of families of complex curves , 2 .   a choice of a ( possibly empty ) normal crossing divisor @xmath4 , 3 .   a choice of a set @xmath5 of that parameterizes a set of pseudo - holomorphic maps .    from this data one constructs a gw family @xmath6 of moduli spaces over @xmath5 whose fiber @xmath7 over @xmath8 is the ( compact ) set of all isomorphism classes of @xmath0-holomorphic maps from curves of the specified type .",
    "we will assume that ( a ) is a category of curves with @xmath9 marked points and a deligne - mumford space @xmath10 ; then there is an stabilization - evaluation map for the family : [ 0.1 ] * meta - theorem * : every fiber of @xmath11 carries a virtual fundamental class @xmath12^{vir}\\in h_*(\\om^j(x))$ ] .",
    "+ the existence of a virtual fundamental class immediately gives the gromov - witten invariants @xmath13 , which are defined by @xmath14^{vir}.\\ ] ]    the purpose of this paper is to make this meta - theorem precise , to give a proof , and to describe some functorial and uniqueness properties of the virtual fundamental class .",
    "the following examples emphasize the fact that there is not one , but many gw theories , depending on the choices ( a )  ( c ) .",
    "it is standard to consider the moduli spaces of stable @xmath0-holomorphic maps from a genus @xmath15 @xmath9-marked curve to @xmath2 that represent @xmath16 .",
    "these give a diagram ( [ 0.1 ] ) where se : _ a , g , n(x)_g , n x^n .    [ ex.add.g ]",
    "one can also consider maps with decorated domains .",
    "one example , described in section  2 , is obtained by fixing a finite group @xmath17 and considering curves with twisted @xmath17-covers .",
    "again , there is a space of stable maps , a universal curve and a stabilization - evaluation map se : ^g_a , g , n(x)^g_g , n x^n",
    ".    one can also decorate the target by choosing a normal crossing divisor @xmath4 and making two modifications : a ) restrict the parameter space @xmath5 to the subspace @xmath18 of @xmath19-compatible almost complex structures , and ( b ) mark all the points in the inverse image of @xmath19 , and decorate them with a vector @xmath20 that records contact multiplicities to the various branches of @xmath19 . using the relative stable map compactification ,",
    "one obtains moduli spaces of relatively stable maps and a refined @xmath21 map se_v : _ a , g , n , s(x , v)_g , n+(s ) x^n_s ( nv ) as described in section  [ section7 ] .",
    "there is also a decorated version of this : se_v : _ a , g , n , s^g(x , v)_g , n+(s)^g x^n_s ( nv )    thus in the most general situation we consider families of moduli spaces [ 1.ms ] parameterized by some manifold @xmath22 of almost complex structures or gromov - type perturbations ( see section  3.1 ) .",
    "each has an @xmath21 map as above .",
    "these families are related by functorial maps of several types :    a.   an inclusion @xmath23 of submanifolds of @xmath22 yields a diagram [ iota ] b.   forgetting the twisted @xmath17-cover induces a map [ 1.phig ] _ g : ^g_a , g , n , s(x , v)_a , g , n , s(x , v ) . over the space @xmath24 of parameters that do not depend on the @xmath17-structure . c.   forgetting a component of a normal crossing divisor @xmath25 together with the corresponding marked points , and collapsing unstable components induces a map [ 1.phivmap ] _ w : _ a , g , n , s , s(x , vw ) _ a , g , n , s(x , v ) over @xmath26 .",
    "a parameter @xmath27 is called _ regular _ if the linearized cauchy - riemann operator is surjective , stratum by stratum , for every @xmath0-holomorphic map @xmath28 .",
    "two classes of regular @xmath0 are especially easy to work with : a regular @xmath0 is _ domain - stable _ if the domain of every @xmath29 in the moduli space is a stable curve , and is _ domain - fine _ if each domain is a stable curve with no non - trivial automorphisms .",
    "ideally , there will be a class of sufficiently nice @xmath0 s for which the moduli spaces @xmath30 over @xmath0 is a manifold .",
    "for such @xmath0 , one expects that the restriction of ( [ 1.phig ] ) to @xmath0 to be a map @xmath31 of degree @xmath32 .",
    "similarly , one expects that ( [ 1.phivmap ] ) restricts to be a map @xmath33 of degree @xmath34 when @xmath35 and all maps into @xmath36 are constant . in section  8",
    "we show that this property holds provided @xmath36 is `` sufficiently positive '' in a specific sense ( equation [ st .",
    "ineq.v ] ) depending on @xmath37 and @xmath15 .",
    "each @xmath38 determines a moduli space @xmath39 over @xmath40 .",
    "as shown in section  [ section4 ] , the family ( [ 1.ms ] ) has a metric space topology making @xmath11 a proper map to @xmath22 with its @xmath41 topology .",
    "one can then pass to homology , using the `` compact homology '' theory @xmath42 of massey @xcite , @xcite with rational coefficients , which is defined for all metric spaces and is equal to rational cech homology for compact metric spaces .",
    "[ 1.defnvfc ]    a _ virtual fundamental class _ associates to each moduli space @xmath43 over a path - connected manifold @xmath44 an element @xmath45^{vir}\\in { \\check{\\mathrm{h}}}_*(\\om^q ; \\q)\\ ] ] for each @xmath38 satisfying a regularity axiom and three naturality axioms :    * if @xmath27 is a regular and @xmath46 is a topological manifold , then @xmath47^{vir}$ ] is the fundamental class @xmath47 $ ] * an inclusion @xmath48 induces @xmath49^{vir}\\ = \\ [ \\om^r]^{vir}$ ] .",
    "* under ( [ 1.phig ] ) ,   @xmath50^{vir}\\ = \\ [ \\om^q]^{vir}$ ] .",
    "* whenever @xmath51 is a normal crossing extension of @xmath19 with @xmath36 sufficiently positive then , under ( [ 1.phivmap ] ) , @xmath52^{vir } \\ = \\   [ \\om_{a , g , n , s}^q(x , v)]^{vir}\\ ] ] for @xmath53 .    with this terminology ,",
    "our main result can be stated simply :    [ vfcfinecase ] there is a unique virtual fundamental class associated to @xmath54 . in particular",
    ", for each @xmath55 , there is a class [ 0.vfcmain ] [ _ a , g , n , s^j(x , v)]^vir  _ * ( _ a , g , n , s^j(x , v ) ; ) .",
    "the image of the virtual fundamental class ( [ 0.vfcmain ] ) under the @xmath21 map is called the _ gromov - witten class _ of @xmath56 .",
    "[ 1.gwcor ] the gromov - witten class @xmath57^{vir } \\in h_*(\\om_{g , n}\\ti x^n)\\ ] ] depends only on the deformation class of the symplectic structure represented by @xmath58 .    two tame structures @xmath59 and @xmath60 are deformation equivalent if they lie in a path @xmath61 in @xmath1 .",
    "let @xmath62 and @xmath63 be the inclusions . then by axiom a2 @xmath64^{vir } = se_*\\iota_{1*}[\\ov\\m_{a , g , n}^{j_1}(x , v)]^{vir}= se_*[\\ov\\m_{a , g , n}^{p}(x)]^{vir}.\\ ] ]    theorem  [ vfcfinecase ] is proved by repeatedly applying three moves : ( i ) introducing @xmath17-structures and stabilizing divisors , and passing to the associated moduli spaces , ( ii ) enlarging the space of almost complex structures and ( iii ) applying the continuity property of cech homology .",
    "stabilizing divisors are analogs of the very ample line bundles used to construct the virtual fundamental class in algebraic geometry .",
    "we follow cieliebak and mohnke s approach @xcite of using divisors from donaldson s theorem , and also include ideas from siebert @xcite and mcduff - wehrheim @xcite .",
    "gromov - witten moduli spaces @xmath6 are families of pseudo - holomorphic maps . to understand them",
    ", one must first understand the case where @xmath2 is a single point . in this case",
    ", @xmath6 is a family of curves with an appropriate topology .",
    "thus it is not enough to consider curves in isolation ; one must consistently work with families of curves and maps between such families .",
    "this viewpoint , reviewed in this section , is standard in algebraic geometry , but its power has not been fully used in the geometric analysis literature on gromov - witten theory",
    ".    for our purposes , a _ family of genus @xmath15 @xmath9-marked curves over @xmath65 _ is a proper surjective map of complex analytic spaces with sections @xmath66 [ 1.1 ] whose fibers @xmath67 are closed , connected curves of arithmetic genus @xmath15 and that has the following structure .",
    "there is an nodal set @xmath68 such that ( i ) @xmath11 is a locally trivial fibration in the complement of each neighborhood of @xmath69 and ( ii ) for each point @xmath70 there are coordinates @xmath71 on a neighborhood of @xmath72 and @xmath73 on a neighborhood of @xmath74 in which @xmath11 is given by @xmath75 .",
    "finally , the images of the sections @xmath76 are disjoint and disjoint from @xmath69 .    maps between families are given by the obvious commutative square ; this gives a notion of isomorphisms and automorphisms of families .",
    "the pullback of a family ( [ 1.1 ] ) along a map @xmath77 is a family @xmath78 over @xmath79 .",
    "one can then envision a _",
    "universal curve _ : a family @xmath80 over some space @xmath81 such that any family ( [ 1.1 ] ) is isomorphic to the pullback along a unique map @xmath82 .",
    "[ 1.2 ]    in this generality , universal curves do not exist .",
    "the key impediment is the existence of families that contain a fiber @xmath83 with non - trivial automorphisms .",
    "if the map @xmath84 to @xmath81 is to be unique , then the pullback must be @xmath85 instead of @xmath83 .",
    "worse , if @xmath86 contains a subgroup isomorphic to @xmath87 then @xmath81 can not exist as a hausdorff space .",
    "thus the usual approach is to :    1 .   restrict to _ stable families _ : a curve @xmath88 is _ stable _ if @xmath89 is finite and a family is stable if its fibers are all stable .",
    "2 .   require only the weaker universal property that there is a unique map @xmath84 as in ( [ 1.2 ] ) so that the pullback family is a finite quotient of @xmath90 .",
    "property ( ii ) makes @xmath81 a `` course moduli space '' and necessitates working with orbifolds .",
    "( alternative approaches using artin stacks are not well - suited for use with geometric analysis . )    * deligne - mumford spaces . *",
    "consider genus @xmath15 curves @xmath88 with @xmath9 distinct marked points @xmath91 , none of which is a node .",
    "the @xmath92 , together with the nodes , are called the special points of @xmath88 .",
    "smooth curves of this sort are stable if @xmath93 ; in general @xmath88 is stable if each irreducible component with genus @xmath94 has at least 3 special points , and each with genus 1 has at least one special point . for @xmath93 families of stable curves modulo",
    "automorphisms are classified by maps into the deligne - mumford space @xmath95 ( see @xcite for a nice survey of this ) .",
    "deligne , mumford and knutsen proved ( see @xcite ) :    * @xmath96 is a projective , complex analytic orbifold ; * the locus @xmath97 parametrizing singular curves is a normal crossing divisor in the orbifold sense .",
    "the universal curve @xmath98 is given by @xmath99 where @xmath100 is the map that forgets the extra marked point @xmath101 .",
    "each stable genus @xmath15 curve @xmath88 with @xmath9 marked points has a unique stable model @xmath102\\in \\ov\\m_{g , n}$ ] and a unique map @xmath103 that fits in the commutative diagram [ iota.gr ] ( @xmath104 is defined by @xmath105 for non - special points @xmath106 and extended by unique continuation ) .",
    "however , the fiber over a stable curve @xmath107\\in \\ov\\m_{g , n}$ ] is isomorphic to @xmath108 and the classifying map @xmath104 is not injective if @xmath109 ( thus @xmath95 is only a `` coarse moduli space '' ) .    [ r.ext.dm.unstable]diagram ( [ iota.gr ] ) also applies to prestable curves in the stable range @xmath93 and we further extend it into the unstable range by _ formally _ defining @xmath110 to be the topological space @xmath111 obtained by adding the minimum number of marked points needed to stabilize .",
    "thus we define @xmath112 , @xmath113 and @xmath114 all to be @xmath115 , which is a single point , and define @xmath116 to be @xmath117 .    in the unstable range",
    ", these spaces must be used cautiously : for them , the fiber of the universal curve ( [ iota.gr ] ) is a point and the classifying map @xmath104 is only defined modulo @xmath118 , which is a lie group of positive dimension",
    ".    we can also consider families of curves with additional structure . by defining a decorated curve to be a curve @xmath88 together with a map",
    "@xmath119 we can include extra marked points , a principal @xmath17-bundle , a divisor or log structure , etc .",
    "morphisms and automorphisms of decorated curves are defined by the obvious commutative square .",
    "again , a decorated curve is called stable if its group of automorphisms is finite .    in the examples we will use , decorations",
    "have the form @xmath120 where @xmath121 is another curve . for each such example",
    ", there are moduli spaces @xmath122 that classify isomorphism classes of stable pairs @xmath123 where @xmath88 is a genus @xmath15 nodal curve with @xmath9 marked points .",
    "these decorated moduli spaces come with a universal curve @xmath124 and forgetful maps with the following properties :    a.   @xmath125 and @xmath126 are complex projective orbifolds .",
    "b.   for each stable decorated curve @xmath127 there is a classifying map @xmath104 and a stabilization map @xmath128 such that @xmath129 whose image is a fiber isomorphic to @xmath130 : [ iota.gr.2 ] c.   the maps ( [ iota.gr.2 ] ) are natural with respect to `` forget decorations '' maps @xmath131 and @xmath132 and `` forget marked point '' maps @xmath100 : [ u.m.graph.dec ]    given a curve @xmath88 with @xmath9 marked points @xmath133 , the operation of `` adding @xmath134 additional marked points '' can be viewed as the choice of a degree 1 holomorphic map @xmath135 where @xmath121 has @xmath136 marked points @xmath137 with @xmath138 for @xmath139 . then @xmath140 is @xmath141 .    similarly , @xmath142 could be a configuration of @xmath134 unordered , non - special points on @xmath88 ( or equivalently an effective divisor on @xmath88 ) ; then @xmath143 is the @xmath134-fold configuration space @xmath144 .",
    "we could also consider the relative hilbert scheme @xmath145 .",
    "these two spaces are homeomorphic , but have a different smooth ( orbifold ) structure ; the second is a smooth resolution of the first .",
    "( e.g. in the case @xmath146 , @xmath147 ) .",
    "log - stable curves are also examples of decorated curves ( we will not use these ) .    in these examples ,",
    "@xmath123 is stable whenever @xmath121 is , even if @xmath88 is not stable .",
    "thus these decorations can be used to stabilize curves , as was done in remark  [ r.ext.dm.unstable ] .",
    "given that automorphisms cause problems , and that decorated curves have fewer automorphisms , one should ask : is there a choice of decorations that completely eliminates automorphisms ? more specifically , is there a category , whose objects are families of decorated curves , in which no object has non - trivial automorphisms ?",
    "the resulting moduli space would then be a _ fine _",
    "moduli space : every family would be the pullback of a classifying map , unique up to isomorphism , that is an isomorphism on each fiber .    the existence of fine moduli spaces of curves was unknown until the 2003 work of abramovich , corti and vistoli @xcite .",
    "they constructed moduli spaces @xmath148 of stable twisted @xmath17-covers for finite groups @xmath17 .",
    "these are @xmath17-covers @xmath149 ( possibly ramified , but only over special points of @xmath88 ) where @xmath150 has marked points with stacky structure recording the ramification order of the cover , and that are also `` balanced '' ( satisfy a matching condition at the nodes ) .",
    "they also showed that there exists certain finite groups @xmath17 such that @xmath148 is a fine moduli space .",
    "their results are our final example .",
    "[ ex.g ] in genus zero @xmath151 is already a fine moduli space whenever @xmath152 . for any finite group @xmath17 the moduli spaces @xmath153 of stable twisted @xmath17 covers have the properties ( a ) , ( b ) and ( c ) above plus the following extra properties ( cf .",
    "@xcite ) :    1 .   there is a natural @xmath17-action on @xmath154 whose quotient map is the forgetful map @xmath155 .",
    "the universal curve @xmath156 is an open and closed subset of @xmath157 .",
    "3 .   for each @xmath15 there",
    "exits a finite group @xmath17 such that for all @xmath158 , @xmath154 and @xmath159 are smooth complex projective manifolds and @xmath160 is a fine moduli space .",
    "note that ( f ) implies the remarkable fact that _ the moduli space @xmath110 is a global quotient orbifold _  the quotient of a compact khler manifold by a finite group ( this was first proved by looijenga @xcite ) . for later use ,",
    "also note that the map @xmath132 in ( d ) induces a map in rational homology t _ * : _ * ( ^g_g , n ; ) _ * ( _ g , n ; ) that relates the rational fundamental classes : [ deg.t ] 1|g| t_*[^g_g , n]= [ _ g , n ] .",
    "let @xmath2 be a closed symplectic manifold and let @xmath161 denote the space of tame structures @xmath162 on @xmath2 , consisting of an almost complex structure @xmath0 and a symplectic form @xmath163 , with the @xmath41 topology .",
    "for each pair @xmath164 the moduli space @xmath165 consists of equivalence classes of stable maps @xmath166 from a nodal marked domain @xmath88 into @xmath2 that are solutions to the @xmath0-holomorphic map equation _",
    "such a map is _ stable _ if the automorphism group @xmath167 is finite , and two such maps are equivalent if they are related by pre - composition by an isomorphism of the domain . in particular ,",
    "if @xmath88 is a stable curve then any map @xmath166 is stable .",
    "in fact , the stability condition on @xmath166 is topological : there are no unstable domain components that represent 0 in homology .",
    "the moduli space has components @xmath168 indexed by the homology class @xmath169\\in h_2(x , \\z)$ ] , the arithmetic genus @xmath15 and number of marked points @xmath9 of @xmath88 , and is stratified by the topological type of the domain as explained in the appendix .",
    "each map has an energy e(f ) = 12 _ c |df|^2 d vol_c calculated using the riemannian metric @xmath170 $ ] . for @xmath0-holomorphic maps",
    "the energy is the cohomological pairing [ 3.weinequality ] e(f)=(f_*[c])=(a ) .",
    "when compactness is important , we will restrict attention to the portion of the moduli space _ below energy level @xmath171 _ , written and defined as @xmath172 for @xmath164 in @xmath1 .",
    "occasionally we may need to use a separate upper bound @xmath173 for @xmath174 than the bound @xmath175 for @xmath176 , in which case @xmath177 . + as @xmath164 varies in @xmath1 , the moduli spaces @xmath178 fit together in an universal family @xmath179 over @xmath1 .",
    "this comes with several natural maps : the projection @xmath180 whose fiber at a fixed structure @xmath0 is the moduli space @xmath178 and , for each @xmath181 , a stabilization - evaluation map @xmath21 [ 3.m.diag ] whose first component takes the equivalence class of @xmath166 to the stabilization @xmath182 in the deligne - mumford space @xmath95 and whose second component evaluates @xmath29 at the @xmath9 marked points ( for @xmath183 we define @xmath182 as in remark [ r.ext.dm.unstable ] ) .    to incorporate maps with decorated domains , let @xmath184 be the space of equivalence classes @xmath185 $ ] where @xmath186 is @xmath0-holomorphic map in @xmath187 and @xmath142 is a decoration on @xmath88 .",
    "the equivalence relation is given by diagrams [ 3.decequivalence ] as before , @xmath185 $ ] is stable if @xmath188 is finite or , equivalently , if the restriction of @xmath189 to every irreducible component of @xmath88 either has finite automorphism group or represents a nontrivial homology class in @xmath2 .",
    "decorated moduli space come with a forgetful map @xmath190 that forgets the decorations and which is natural with respect to the diagram ( [ 3.m.diag.dec ] ) , so there are maps [ 3.m.diag.dec ] of moduli spaces over @xmath1 .",
    "restrict now to maps decorated by a twisted @xmath17-cover of their domains as in example [ ex.g ] ( @xmath17 could be the trivial group ) , and let @xmath191 denote their moduli space that fits in the diagram ( [ 3.m.diag.dec ] ) .",
    "a map @xmath166 whose domain is stable with @xmath192 has a graph @xmath193 defined by @xmath194 where @xmath104 is the map in ( [ iota.gr ] ) from @xmath88 to a fiber of the universal curve . more generally , if @xmath166 is a map whose domain is a stable twisted @xmath17-cover @xmath149 ( possibly with @xmath195 ) then the `` graph '' of @xmath29 is defined using diagram ( [ iota.gr.2 ] ) by [ graph.constr ] f=_(f ) : c^g_g , nx .",
    "this also extends to the case when @xmath196 is not necessarily stable as in remark [ r.ext.dm.unstable ] , in which case @xmath197 factors through the stable model @xmath198 .",
    "observe that if @xmath199 then @xmath200 , and therefore @xmath197 , is an embedding .",
    "next recall that the universal curve @xmath201 is projective ; denote it by @xmath202 and fix an embedding @xmath203 .",
    "for each fixed @xmath0 , let @xmath204 be the space sections of the bundle @xmath205 over @xmath206 ( i.e such that @xmath207 ) .",
    "each @xmath208 defines a deformation @xmath209 of the product almost complex structure on @xmath210 by writing [ 3.j.nu ] j_= jj ( -j)=  (    j&0 + -j & j    )    [ def3.2 ]",
    "let @xmath211 denote the space of smooth almost complex structures @xmath209 in the form ( [ 3.j.nu ] ) ; its elements can be written as pairs @xmath212 with @xmath213 and @xmath214 as above .",
    "the equation @xmath215 on the graph @xmath216 or equivalently [ del = nu ] _",
    "j f(z)=(z , f(z ) ) on the map @xmath166 will be called a _ gromov - type perturbation _ of the @xmath0-holomorphic map equation . in the case of @xmath17-decorated maps ,",
    "the corresponding equation on the pair @xmath217 is [ del = nu.dec ] _ j ( z)=(_(z ) , ( z ) ) .",
    "note that the map @xmath218 gives a fibration with a section @xmath219 : [ forget.nu ] there is a corresponding extension of the universal moduli space @xmath220 over @xmath211 with a diagram ( [ 3.m.diag.dec ] ) where @xmath1 is replaced by @xmath211 .",
    "note that @xmath211 , and therefore the perturbed pseudo - holomorphic map equation depends on the type of decorations used .",
    "the graph construction allows us to extend the space of allowable deformations ( perturbations ) of the pseudo - holomorphic map equation in a _ very specific way to domain dependent ones _ , defined by pullback from @xmath221 via the graph construction .",
    "as we will later see , the graph construction , combined with a fixed embedding @xmath222 has several other nice analytical consequences .",
    "the topology of the universal moduli spaces @xmath223 is constrained by the requirement that the maps used in gromov - witten theory be continuous .",
    "these constraints lead directly to a metric space topology on moduli space with all the desired properties  see theorem  [ 3.toptheorem ] .",
    "moreover , this topology is the same as the gromov topology commonly used in the literature ( see the appendix ) .",
    "everything in this section applies to the moduli spaces @xmath224 , but for simplicity we will often omit the @xmath17 from the notation .    to topologize @xmath1 , fix a riemannian metric on @xmath2 and use the sobolev @xmath225 norms with @xmath226 and @xmath227 , although all that is needed is a topology stronger than @xmath41 .",
    "[ 4.jtopology ] the space @xmath228 of tame @xmath225 pairs @xmath164 on @xmath2 and the space @xmath229 of triples @xmath230 with @xmath214 as in definition  [ def3.2 ] are smooth separable banach manifolds .",
    "let @xmath19 be the banach space all @xmath225 @xmath231-forms that satisfy @xmath232 weakly .",
    "the equation @xmath233 defines a fiber bundle @xmath197 that is a submanifold of @xmath234 .",
    "let @xmath235 be the completion of the space of smooth sections of @xmath197 in the @xmath236 norm . because of the sobolev embedding @xmath237 for @xmath238 , @xmath235 ( or the completion in any norm stronger than @xmath41 ) is a smooth banach manifold @xcite .",
    "then @xmath228 is an open set ( determined by the tame condition and the non - degeneracy of @xmath163 ) of the manifold @xmath239 and hence is a manifold .",
    "to topologize the ( universal ) moduli space @xmath240 recall that @xmath241 is the set of isomorphism classes of triples @xmath242 where @xmath88 is a ( not necessarily stable ) genus @xmath15 curve with @xmath9 marked points , @xmath243 denotes a triple @xmath244 , and @xmath186 is a @xmath212-holomorphic map .",
    "this set comes with several natural maps : ( i ) a projection @xmath11 to the space of parameters @xmath245 , ( ii ) stabilization - evaluation maps maps @xmath21 , ( iii ) the energy function @xmath174 , ( iv ) forgetful maps @xmath246 and @xmath247 that forget the last @xmath248 marked points or the decorations @xmath17 and contract those components that become unstable .",
    "all of these maps are invariant under reparametrization and therefore descend to the moduli spaces , giving commutative diagrams : [ 3.naturalmaps ] these maps respect the action of the symmetric group @xmath249 permuting the marked points , and when the domains are twisted @xmath17-curves also respect the @xmath17 action .",
    "the maps in ( [ 3.naturalmaps ] ) induce another important collection of maps .",
    "first , each @xmath250 is continuous , so its `` graph '' ( cf .",
    "( [ graph.constr ] ) ) [ 3.defgammaf ] _ f = image ( f)= se_0(_1 ^ -1(f))_g , n+1^gx is a compact subset of @xmath251 .",
    "thus @xmath252 defines a map [ 3.graphmap ] : _ a , g , n^g(x ) subsets_c(_g , n+1^gx ) where @xmath253 denotes the set of compact subsets of @xmath254 .",
    "similarly , for each @xmath255 there is a `` multi - point graph map '' @xmath256 defined by @xmath257 using ( [ 3.naturalmaps ] ) .",
    "[ 3.very-rough ] a topology on the collection of all moduli spaces @xmath258 is called _ natural _ if ( i ) the energy function and all the maps @xmath11 , @xmath21 , @xmath247 , @xmath246 and @xmath259 above are continuous , and ( ii ) the actions of @xmath17 and @xmath249 are continuous .",
    "the following theorem gives the key topological properties of gromov - witten moduli spaces , extending theorem 5.6.6 of @xcite .",
    "recall that a map is _ perfect _ if it is continuous , surjective , closed and all fibers are compact .",
    "[ 3.toptheorem ] there is a natural topology on the universal moduli spaces @xmath260 that is metrizable and for which    a.   each map @xmath261 is proper .",
    "b.   the maps @xmath246 in ( [ 3.naturalmaps ] ) are proper and perfect .    the proof is given in the appendix .",
    "theorem  [ 3.toptheorem ] shows that the universal moduli space is hausdorff .",
    "statement ( a ) is a version of the gromov compactness theorem ; it implies that the fiber @xmath262 over each @xmath263 is compact .",
    "the appendix also contains a proof of the fact ( corollary  [ a.cor ] ) that the topology in theorem  [ 3.toptheorem ] is , in fact , the usual gromov topology defined in the literature .",
    "this section shows how standard results imply the existence of virtual fundamental classes for one very nice class of moduli spaces : the `` domain - fine '' moduli spaces defined below .",
    "these are especially easy to work with because the stabilization map takes their domain isomorphically to a fiber of the universal deligne - mumford curve , and because gluing theorems apply without complications .",
    "the following two terms will be used repeatedly in this and later sections .",
    "[ defstablemap ] a stable map @xmath186    * is _ domain - stable _ ( ds ) if @xmath88 is a stable curve , and * is _ domain - fine _ ( df ) if in addition , @xmath264 .    a moduli space @xmath265",
    "is called domain - stable ( resp .",
    "domain - fine ) over @xmath266 if , for every @xmath267 , each map in @xmath178 is domain - stable ( resp .",
    "domain - fine ) .    both properties",
    "are preserved under adding decorations : if @xmath268 is domain - fine or domain - stable , then so is @xmath269 for any @xmath270 and any finite group @xmath17 .",
    "* examples . *    1 . : :    for the trivial class @xmath271 , the moduli space    @xmath272 is domain - stable over all of    @xmath273 .",
    "2 . : :    for genus @xmath274 , all domain - stable maps are domain - fine .",
    ": :    if @xmath2 is a curve of genus @xmath275 , all    stable maps @xmath186 are domain - stable ( those of    positive degree have @xmath276 , and degree    0 stable maps have stable domains ) .",
    "[ jstableopenlemma ] for fixed topological data @xmath277 , the sets [ j.st.a ] _ ds^=\\ { j  |   ^j_a , g , n(x ) } _ df^= \\ { j",
    "|  ^j_a , g , n(x ) } are open in the @xmath41 topology on @xmath228 .",
    "the spaces @xmath278 and @xmath279 , defined similarly , are also open .    under gromov convergence ,",
    "the order of the automorphism group is upper semi - continuous and limits of unstable domain components are unstable .",
    "thus each @xmath280 ( resp .",
    "@xmath281 ) map @xmath29 has a neighborhood with the same property . for @xmath282 ( or @xmath283 )",
    "these open sets cover the moduli space @xmath284 , and hence by compactness cover the moduli spaces @xmath285 for an open neighborhood @xmath286 of @xmath0 .",
    "the same argument applies to @xmath278 and @xmath279 .",
    "the next theorem describes the structure of moduli spaces of domain - fine perturbed @xmath0-holomorphic maps for each fixed topological information @xmath277 .",
    "it summarizes some standard analysis facts , and the well - known gluing construction for holomorphic maps .",
    "we include a sketch of the proof ; for details see @xcite or chapter 10 of @xcite in the case of genus zero ; also see http://arxiv.org/pdf/0811.3711v3.pdf[@xcite ] . as in these papers ,",
    "a parameter @xmath287 is called _ regular _ if the linearized cauchy - riemann operator is surjective , stratum by stratum , for every @xmath0-holomorphic map @xmath288 .",
    "[ ruan - tian ] if @xmath289 is both domain - fine and regular for @xmath277 then @xmath290 is a compact oriented topological manifold ( stratified smooth ) of dimension [ dim.mx ] = 2c_1(x)a + ( _ x-6)(1-g)+2n . furthermore , over a regular path in @xmath291 the moduli space is a compact oriented topological cobordism .",
    "finally , the set of regular @xmath0 is open and dense in @xmath291 , while the set of regular paths is open and dense in the set of paths in @xmath291 .    for domain - fine maps",
    ", one can use the variation in @xmath214 to show that the linearization of the equation ( [ del = nu ] ) in @xmath212 is onto ( essentially because the graph @xmath197 of @xmath29 is an embedding , thus somewhere injective ) .",
    "standard results then imply that there is a dense set of regular values in @xmath292 over which each stratum of @xmath293 is smooth with dimension equal to the index of the linearization .",
    "the top stratum has dimension ( [ dim.mx ] ) and is oriented by the determinant line bundle as in @xcite .",
    "the compactness statements follow from theorem  [ 3.toptheorem]a .",
    "finally , the gluing theorem in @xcite shows that the strata fit together to form a topological manifold over each regular @xmath0 and also each regular path .",
    "( the situation is much more complicated without the assumption that all domains are stable with only trivial automorphisms ) .",
    "this can be used to define the virtual fundamental class for the moduli spaces @xmath168 which are the fibers of [ 5.mtoj ] : _ a , g , n(x ) _ df^over the domain - fine @xmath279 as follows . using theorem  [ 3.toptheorem ] ,",
    "the moduli space ( [ 5.mtoj ] ) is a space with two metric topologies : one induced from the @xmath294 topology on @xmath295 and a `` rough topology '' induced by the @xmath41 topology on @xmath279 .",
    "fix @xmath296 . by lemma  [ jstableopenlemma ]",
    "there is a @xmath41 ball @xmath297 containing @xmath298 that lies in @xmath279 .",
    "theorem  [ ruan - tian ] then shows that for a dense set of regular @xmath299 in @xmath286 the moduli space over @xmath299 has a fundamental class [ 5.firstfundamentalclass ] [ _ a , g , n^j,(x)]h _ ( _ a , g , n^j,(x ) , ) and that moreover , for a dense set of regular paths @xmath300 in @xmath286 with endpoints @xmath301 and @xmath302 , the images under the map induced by the inclusion [ 5.1.firstfundamentalclass ] [ _ a , g , n^j_0,_0(x)]= [ _ a , g , n^j_1,_1(x ) ] h _ ( _ a , g , n^(x ) , ) are equal in the homology of the moduli space @xmath303 over the path @xmath300 .    for such finite dimensional topological manifolds all versions of homology",
    "are naturally isomorphic , but in what follows it will be more convenient to use cech homology with rational coefficients , because it satisfies the following continuity axiom : [ cech.cont ] _ i _ * ( y_i ; ) = _ * ( y ; ) for any @xmath304 inverse system of compact metric spaces with limit @xmath305 ( cf .",
    "@xcite ) . cech homology with integer coefficients",
    "does not satisfy the exactness axiom for a pair , but with rational coefficients it does .",
    "[ 5.cechcyclelemma ] fix @xmath277 and @xmath306 as in ( [ j.st.a ] ) . the fundamental class ( [ 5.firstfundamentalclass ] ) extends uniquely to a cech homology class [ vfc.j ] [ _ a , g , n^j(x)]^vir _ * ( _ a , g , n^j(x ) , ) defined for every domain fine @xmath307 with the property that for any smooth path @xmath300 in @xmath306 from @xmath308 to @xmath309 the images under the maps induced by the inclusion [ vfc.ga ] [ _ a , g , n^j_0(x)]^vir= [ _ a , g , n^j_0(x)]^vir _ * ( _ a , g , n^(x ) , ) are equal",
    ". in particular , the gw class [ 5.firstgw ] gw_a , g , n(x)=^ ( ) _ * [ _ a , g , n^j(x)]^virth_*(_a , g , n x^n , ) is independent of @xmath0 on each path - component of @xmath310 .    for simplicity",
    "we write @xmath0 to mean a pair @xmath299 . for each @xmath307 , consider the balls @xmath311 consisting of all @xmath312 whose distance from @xmath0 in the @xmath236 norm is less than @xmath313 . by lemma  [ jstableopenlemma ] , @xmath314 lies in @xmath306 for large @xmath248 . furthermore",
    ", each @xmath314 is path connected , contains a dense set of regular values @xmath0 for which ( [ 5.firstfundamentalclass ] ) holds , and any two regular values are connected by a regular path for which ( [ 5.1.firstfundamentalclass ] ) holds .",
    "r0.35     choose a sequence @xmath315 of regular points converging in @xmath41 to @xmath0 and regular paths @xmath316 from @xmath317 to @xmath318 .",
    "for each @xmath319 @xmath320 is compact , and @xmath321 is a sequence of nested compact metric spaces ( cf .",
    "theorem  [ 3.toptheorem ] ) whose intersection is the compact space @xmath322 .",
    "for each regular value @xmath323 the images under the inclusions @xmath324 determine a rational cech homology class [ 5.cechdata ] vfc_m=^ [ _ a , g , n^j_k(x)]_(_m , ) .",
    "as in ( [ 5.firstfundamentalclass ] ) and ( [ 5.1.firstfundamentalclass ] ) , this class is independent of @xmath248 , and these homology classes are consistently related by the inclusions @xmath325 for @xmath326 .",
    "the continuity axiom of rational cech homology then shows that there is a well - defined limit ^vir=_m vfc_m _ m _ * ( _ m , ) = _ * ( ^j_a , g , n(x ) , ) at each point @xmath307 . if @xmath327 is another such broken path , we can find regular paths between @xmath317 and @xmath328 inside @xmath314 as shown in the figure .",
    "then ( [ 5.1.firstfundamentalclass ] ) shows that the two classes @xmath329 are compatible in the homology of the moduli space over @xmath330 .",
    "relation ( [ vfc.ga ] ) follows the same way by joining broken paths with different limit points in the same path component of @xmath310 .",
    "finally , observe that the rational classes ( [ 5.firstgw ] ) are locally constant in @xmath0 , so are constant on path connected components of @xmath310 .",
    "the construction of the previous section gave a virtual fundamental class defined over the elements of @xmath229 with domain - fine moduli spaces .",
    "we next extend the construction to the larger class of domain - stable moduli spaces by decorating their domains with twisted @xmath17-covers .",
    "as described after ( [ 3.m.diag ] ) , an element of @xmath331 is an isomorphism class of data @xmath332 where @xmath135 is a @xmath17-twisted curve and @xmath333 .",
    "the @xmath17-structures define a lifted graph map ( [ graph.constr ] ) into @xmath334 and an enlarged space of perturbations @xmath335 ; these perturbations depend on both @xmath29 and @xmath142 . over @xmath336 ( but not over @xmath337 ! ) the map @xmath338 that forgets the twisted @xmath17-cover defines a map @xmath132 that appeared in ( [ 3.naturalmaps ] ) and that fits into the diagram [ 6.diagram1 ] equivalently , @xmath132 is the quotient map for the action of @xmath17 on @xmath220 by @xmath339=[f , g\\rho]$ ] .",
    "there is also a @xmath17-action on @xmath335 induced from the action on universal curve @xmath340 , but the righthand vertical map in ( [ 6.diagram1 ] ) is not @xmath17-invariant . in this context",
    ", the results of section  [ section5 ] hold on the set @xmath341 of @xmath342 for which the moduli space @xmath343 is domain - fine :    [ 6.ruan-tian2 ] fix @xmath344 and a finite group @xmath17",
    ". then theorems  [ ruan - tian ] and [ 5.cechcyclelemma ] hold for the moduli spaces @xmath345 over @xmath341 .",
    "hence there is a well - defined virtual fundamental class [ 6.vfcondf ] [ ^g , j_a , g , n(x)]^vir    a pair @xmath217 is @xmath212-holomorphic is the same as its graph @xmath197 is @xmath209-holomorphic . because of the domain - fine assumption , @xmath346 and hence @xmath197 is embedding into the manifold @xmath206 .",
    "mcduff and salamon show ( chapter 3 of @xcite ) that generic perturbations of @xmath209 on @xmath347 give regularity for somewhere injective maps . from their proof",
    ", one sees that it is enough to use perturbations of the form ( [ 3.j.nu ] ) . as in theorem  [ ruan - tian ] ,",
    "regular domain - fine moduli spaces carry a virtual fundamental class .",
    "the proof of theorem  [ 5.cechcyclelemma ] then applies without change .",
    "note that , for regularity , the relevant linearization to the perturbed equation is obtained by varying @xmath348 through _ @xmath17-invariant _ maps .",
    "this variation is determined by the variation in @xmath29 because the set of equivalence classes of twisted @xmath17-covers @xmath135 over a fixed @xmath88 is finite .",
    "( the linearization of the @xmath0-holomorphic map equation for the map @xmath349 is a different operator with a different index ) .",
    "we next verify that the classes ( [ 6.vfcondf ] ) are consistently defined when one replaces @xmath17 by a larger group .",
    "given an extension @xmath350 of @xmath351 by @xmath17 , there is an action of @xmath17 on the space of @xmath352-twisted maps whose quotient induces a map [ 6.hkmap ] t:_a , g , n^k(x ) _ a , g , n^h(x ) defined over @xmath1 and more generally over @xmath353 where @xmath354 is the map @xmath355 induced by the map @xmath356 at the level of universal curves .    [ 6.lemma2 ] assume @xmath213 is domain - fine for both @xmath357 and @xmath358",
    ". then the virtual fundamental classes of ( [ 6.hkmap ] ) are defined and related by [ 6.vfc.g ] [ _ a , g , n^h , j(x)]^vir  =   t _ * [ _ a , g , n^k , j(x)]^vir _ * ( _ a , g , n^h , j(x ) , )    since the domain - fine is an open condition , there exists a sufficiently small @xmath41 neighborhood @xmath286 of @xmath0 in @xmath353 over which both moduli spaces remain domain - fine . by lemma  [ 6.ruan-tian2 ]",
    "there is an open dense set of regular @xmath359 in @xmath360 and for these the moduli space @xmath361 is a compact oriented topological manifold . for the pullback @xmath312 to @xmath362",
    "the moduli space @xmath363 is by assumption also domain - fine , so the @xmath17 action on it is free and therefore the linearized operator for the space of @xmath352-twisted maps ( described in the proof of lemma  [ 6.ruan-tian2 ] ) is also regular .",
    "thus @xmath364 is also a compact oriented topological manifold and the quotient by the @xmath17-action gives the map @xmath365 which has virtual degree @xmath366 .",
    "thus ( [ 6.vfc.g ] ) holds for an open dense set of @xmath367 , and hence for all @xmath368 by the continuity construction of theorem  [ 5.cechcyclelemma ] .",
    "consider next a moduli space @xmath369 which is only domain stable , and therefore @xmath370 will also be domain stable for any finite group @xmath351 .",
    "let @xmath17 be any finite group with property ( f ) of example [ ex.g ] , and consider the moduli space @xmath371 of twisted @xmath372-structures , which is then domain - fine , and therefore lemma [ 6.ruan-tian2 ] applies to it .",
    "referring to diagram ( [ 6.hkmap ] ) , define [ 6.vfc.gh ] [ _ a , g , n^h , j(x)]^vir  =   t _ * [ _ a , g , n^hg , j(x)]^vir _ * ( _ a , g , n^h , j(x ) , ) .",
    "[ 6.maintheorem ] the moduli spaces @xmath373 over the space of domain - stable @xmath336 admit a virtual fundamental class ( [ 6.vfc.gh ] ) that    1 .",
    "is independent of the @xmath17 used in its definition , 2 .",
    "is consistent under the quotient map as in ( [ 6.vfc.g ] ) , 3 .   for @xmath374",
    "it extends the one over the domain - fine @xmath375 defined by theorem  [ 5.cechcyclelemma ] .",
    "define the virtual fundamental class by ( [ 6.vfc.gh ] ) . if @xmath376 , @xmath377 are two finite groups that satisfy condition ( f ) of example [ ex.g ] , then so does @xmath378 . applying lemma  [ 6.lemma2 ] to the diagram @xmath379",
    "shows that the virtual fundamental class ( [ 6.vfc.gh ] ) induced by @xmath376 and @xmath377 are both equal to the one induced by @xmath378 so ( i ) holds .",
    "part ( ii ) follows in a similar fashion from lemma  [ 6.lemma2 ] .",
    "part ( iii ) follows by taking @xmath374 in lemma  [ 6.lemma2 ] .    a little more work extends the virtual fundamental class of theorem  [ 6.maintheorem ] over the space @xmath335 in diagram  [ 6.diagram1 ] .",
    "for each @xmath380 , @xmath17 acts on the moduli space @xmath381}(x)$ ] over the orbit @xmath382 $ ] . for a dense set of generic @xmath299 , the action of @xmath17 on @xmath299 will be free and the moduli space @xmath381}(x)/g $ ] will be regular . applying the limiting argument of theorem  [ 5.cechcyclelemma ]",
    "then extends the vfc over @xmath383 and defines [ _ a , g , n^j(x)]^vir  =  1|g|_0 [ _ a , g , n^g , j , [ ] ( x)/g ] _ * ( _ a , g , n^j(x ) , ) . for all @xmath384",
    "the complete set of moduli spaces @xmath385 extends to moduli spaces relative a divisor @xmath4 . for @xmath195 ,",
    "this was done in the @xcite for smooth divisors , and was recently generalized in @xcite to normal crossing divisors .",
    "this section reviews those aspects of the theory that are needed later .",
    "a smooth divisor @xmath19 is an embedded codimension 2 submanifold of @xmath2 that is @xmath0-holomorphic for some tame pair @xmath386 .",
    "more generally , a normal crossing divisor @xmath19 in @xmath2 is the union of closed immersed codimension 2 submanifolds that are @xmath0-holomorphic for some @xmath386 and are in general position ( see definition 1.3 in @xcite for precise details ) . for each pair",
    "@xmath3 there is a stratification of @xmath2 whose depth @xmath270 strata @xmath387 correspond to points in @xmath2 where at least @xmath248 different local branches of @xmath19 meet . moreover , for each integer @xmath388 there is an associated deformation space @xmath389 over the polydisk whose total space @xmath390 is a subset of a finite dimensional manifold . for smooth divisors @xmath19 , the generic fiber of @xmath390 is diffeomorphic to @xmath2 and the central fiber is @xmath391 , obtained by attaching @xmath319 copies of the compactified normal bundle @xmath392 , identifying the zero section of one to the infinity section of the next . for general normal crossing divisors @xmath19 there is a similar deformation space whose central fiber @xmath393 is a level @xmath319 `` building '' constructed from the strata of @xmath19 . in all cases , there is also a map @xmath394 that collapses all copies of @xmath395 to @xmath19 .",
    "the relative moduli spaces are constructed in much the same way as the usual moduli spaces @xmath187 with three main differences ( see @xcite and @xcite for details ) :    1 .",
    "one restricts @xmath396 to be in the subspace @xmath397 of triples that satisfy a condition ( `` @xmath19-adapted '' ) on the 1-jet of @xmath0 along @xmath19 .",
    "in particular , this implies that @xmath19 is @xmath0-holomorphic , and thus some @xmath0-holomorphic maps into @xmath2 can have components mapped into @xmath19 .    1 .   for each map @xmath398 with no components or nodes mapped to @xmath19 , one marks all the points in @xmath399 and records their intersection multiplicities @xmath20 with the various branches of @xmath19 to obtain an open set @xmath400 of maps with extra @xmath401 marked points and contact data @xmath20 .",
    "2 .   for each @xmath20",
    ", there is a compactification @xmath402 as described in @xcite .    as a set , @xmath402 consists of equivalence classes of certain type of maps @xmath403 where maps are equivalent if they are related by an isomorphism of their domains and the rescaling of their target @xmath393 induced by the @xmath87 action on each positive level @xmath395 .",
    "while all these @xmath29 are stable as maps into @xmath393 , their projections @xmath404 to @xmath2 may have unstable components that are mapped to a point of @xmath19 .",
    "each such component , called a _ trivial component _ , has its image in a fiber of @xmath395 and its domain is an unstable rational curve with precisely two marked points .",
    "when @xmath19 is smooth , the maps @xmath29 in the compactification have no nontrivial components in the total divisor of @xmath393 , thus all nontrivial components of @xmath29 have well - defined contact data to the total divisor and @xmath29 satisfies a matching condition along the singular divisor of @xmath393 ( cf .",
    "@xcite ) . when @xmath19 has normal crossings , trivial components of @xmath29 in the singular divisor can not be avoided , but then the nontrivial components satisfy an enhanced matching condition ( cf .",
    "this matching can be expressed in terms of the inverse image of a certain diagonal @xmath405 under an evaluation map @xmath406 which fits in the diagram [ rel.pr.st.ev ] se : _ a , g , n , s(x ) ( x , v ) ( _ g , n+(s ) x^n ) n_sv and which is a lift of the usual evaluation map .",
    "( as described in @xcite , @xmath406 keeps track of the multiplicities @xmath20 as well as of the leading coefficients of @xmath29 at the extra @xmath401 contact points to @xmath19 . )",
    "such a map @xmath29 is called _ relatively stable _ if its automorphism group is finite , or equivalently if @xmath29 has at least one nontrivial domain component in each positive level .",
    "the relative moduli spaces come with several functorially - defined maps .",
    "there is a diagram [ 7.pi.to.x ] where @xmath407 is the map that takes @xmath29 to the map @xmath408 obtained from @xmath409 after collapsing all the trivial domain components of its domain : [ contr ] here @xmath410 is called the _ contracted domain _ of @xmath29 .",
    "it is different from the stable model @xmath411 , which is obtained by contracting all unstable domain components , not just the trivial ones .",
    "the normal crossing divisors in @xmath2 form a directed system , partially ordered by inclusion ; the smallest element is the empty divisor . there is a corresponding directed system of moduli spaces .",
    "whenever @xmath412 there is a diagram generalizing ( [ 7.pi.to.x ] ) [ 7.vdirectedsystem ] that forgets some components and that is compatible with the map ( [ rel.pr.st.ev ] ) .    in the special case of diagram  [ 7.pi.to.x ]",
    "when @xmath413 , the projection @xmath414 induces a map [ pi.to.v ] except when @xmath415 , @xmath274 and @xmath416 . in this context ,",
    "we enlarge the definition of `` trivial component '' of @xmath29 to include unstable genus zero curves whose image under @xmath417 is a constant .",
    "[ r.ext.m.unstable ] as discussed in remark [ r.ext.dm.unstable ] , it is convenient to extend the definition of the moduli space @xmath418 into the unstable range @xmath271 , @xmath419 by defining @xmath420 to be the topological space @xmath421 . with this definition ,",
    "the map ( [ pi.to.v ] ) extends to the unstable range .",
    "most of the discussion in the previous sections extends to the relative case .",
    "the next several paragraphs describe the minor modifications needed .",
    "* a. the topology of moduli space . *",
    "the refined gromov convergence described in @xcite similarly induces a metrizable topology on the relative moduli space .",
    "this topology is the same as the one obtained by regarding the relative moduli space as a subset of @xmath422 ( with the images of all maps landing in the fibers of @xmath423 ) .",
    "a sequence @xmath424 of relatively stable maps in @xmath425 converge if there exists an @xmath319 and a sequence of rescaling parameters @xmath426 of the target such that the rescaled maps @xmath427 , regarded as maps from @xmath428 into the fiber of @xmath423 over @xmath429 converge to a relatively map @xmath430 into the central fiber of @xmath431 over @xmath432 .",
    "this now involves a choice of local trivialization / identification of both the domains and targets of the maps away from their singular locus .    with the topology of lemma  [ 4.jtopology ] ,",
    "the bottom map in ( [ 7.pi.to.x ] ) is a continuous injection .",
    "we first give the relative moduli space @xmath433 the topology induced by pullback by the map @xmath407 in ( [ 7.pi.to.x ] ) from the gromov topology on the absolute moduli space @xmath179 .",
    "the graph maps into @xmath434 similarly induce the metric topology on @xmath435 .",
    "* b. domain - stable and domain - fine . * definition  [ defstablemap ] extends to relatively stable maps as follows .",
    "[ d.super-st ] a map @xmath436 is _ domain - stable _ ( resp . _",
    "domain - fine _ ) if @xmath408 is domain - stable ( resp .",
    "domain - fine ) .    with this definition",
    "a moduli space @xmath437 is domain - fine iff its image in @xmath438 under the map ( [ 7.pi.to.x ] ) is domain - fine .    * c. twisted @xmath17-structures .",
    "* in the decorated version of the relative theory , the moduli space @xmath439 consists of equivalence classes @xmath440 $ ] where @xmath149 is a twisted @xmath17-cover and @xmath403 is a smooth map in a level @xmath319 building as before .",
    "the equivalence relation is now up to isomorphisms of the twisted @xmath17-covers @xmath441 as well as the @xmath442 rescaling action on the target @xmath393 .",
    "the moduli space @xmath439 comes with a natural @xmath17-action whose quotient @xmath443 is the original undecorated relative moduli space .",
    "* d. gromov - type perturbations .",
    "* in diagram  [ 7.pi.to.x ] , the image of @xmath444 in @xmath445 may not contain any regular @xmath0 .",
    "thus we will enlarge @xmath444 to space @xmath446 of perturbations using the construction of section  [ section3.1 ] .",
    "note , however , that this new space @xmath446 does _ not _ embed in the space @xmath229 of section  [ section3.1 ] .",
    "regarding relatively stable maps as maps into the fibers of @xmath423 , there is a graph map @xmath447 as in ( [ graph.constr ] ) with @xmath448 .",
    "again , we fix an embedding @xmath449 .",
    "let @xmath446 be the space of tame pairs @xmath450 on @xmath434 where @xmath209 , generalizing ( [ 3.j.nu ] ) , preserves the fibers of both the universal curve @xmath202 and of @xmath423 , and also satisfies the @xmath19-compatibility condition ( see definition 3.2 of @xcite and its extension @xcite ) .",
    "note that the graph map factors through @xmath451 , so trivial components remain trivial under these perturbations .    diagram ( [ 6.diagram1 ] ) similarly extends to the relative case .",
    "* e. twisted decorated relative moduli spaces . * to describe a smooth model of the relative stable map compactification @xmath452 for domain - fine maps , we also need to include a choice of roots of the leading coefficients of @xmath29 at all the contact points with the total divisor ( see @xcite and @xcite ) . adding a choice of these roots defines another resolution @xmath453 of the relative moduli space and more generally @xmath454 of the decorated relative moduli spaces for any finite group @xmath17 .",
    "these fit as the top row in the diagram : [ msg.to.ms ] the moduli spaces in the top row come a natural action of @xmath455 , the product of the cyclotomic groups of roots of unity at each one of the contact points to @xmath19 , whose quotient gives rise to the moduli spaces in the bottom row , while the moduli spaces in the left column come with a natural @xmath17 action whose quotient are the spaces in the right column .",
    "there is of course also a symmetric group action @xmath456 reordering the contact points to @xmath19 .    for a fixed nodal",
    "marked curve @xmath457 , the relative moduli space @xmath458 is the space of admissible covers constructed by mumford - harris , and while its resolution @xmath459 is the moduli space of twisted ( balanced ) covers constructed by abramovich - vistoli .",
    "when @xmath460 , the space of twisted @xmath17-covers of @xmath457 considered in @xcite is a particular example of the relative moduli space @xmath459 of twisted covers @xmath149 .    when @xmath195 and @xmath19 is smooth , the boundary strata of @xmath461 consisting of maps into a level 1 building @xmath462 can then be described in terms of its resolution [ resolution ] ^s(x , v ) _ ^s(_v , v_v_0)(x , v ) obtained by ( a ) ordering the marked points corresponding to the nodes along the singular locus @xmath463 , and ( b ) choosing a root of the leading coefficients of @xmath29 at these nodes .",
    "the local model of the relative moduli space near @xmath29 is [ la = mu ] = a_1b_1 _ 1^s_1= ",
    "= a_b__^s _ where @xmath464 , @xmath465 are the leading coefficients of @xmath29 at the node @xmath92 .",
    "the zero locus of equation ( [ la = mu ] ) is not smooth at the origin when @xmath466 .",
    "one obtains a smooth resolution of ( [ la = mu ] ) by a base change after replacing the variables @xmath467 with @xmath468 where @xmath469 and @xmath470 .",
    "the antidiagonal @xmath471 action preserves the @xmath472 and gives rise to the balancing condition .",
    "there is also a symmetric group action @xmath456 that reorders the @xmath134 nodes .    with this set - up",
    ", the results of @xcite and @xcite ( including the gluing theorem and the local model of the moduli space that describes how the strata fit together ) then imply :    [ 7.ruan-tianlemma ] for a baire set of @xmath473 , called `` generic @xmath0 '' , the relative moduli space @xmath474 is a compact oriented manifold of dimension [ 7.dim.mx ] = 2c_1(x)a -2va + ( _ x-6)(1-g)+2(n+(s ) ) .",
    "furthermore , the statements in theorem  [ ruan - tian ] about generic paths also hold in this context .    with this lemma ,",
    "the constructions of sections  [ section5 ] and [ section6 ] apply , yielding a virtual fundamental cycle .    [ 7.maintheorem ] the collection of moduli spaces in diagram ( [ msg.to.ms ] ) admit compatible vfcs over @xmath475 , and for any path between @xmath308 and @xmath309 in @xmath475 the vfc over @xmath308 and @xmath309 have the same image under the inclusion maps as in ( [ vfc.j ] ) .",
    "in particular ^vir=1|_s||g| _ * [ _ a , g , n^g , s , j(x , v ) ] ^vir _ * ( _ a , g , n , s^j(x , v ) ; ) extends the one of that appears in ( [ 6.vfc.gh ] ) when @xmath476 .",
    "[ r.symms ] the symmetric group @xmath456 acts on the extra @xmath477 contact points to @xmath19 inducing an action on the moduli space @xmath478 over @xmath1 . in the arguments that follow , it will be convenient to also consider the quotient by this @xmath456 action , in which case the resulting relative moduli space [ symmetrizedms ] _ [ s]^j(x , v)= .",
    "_ s^j(x , v)/s_(s ) will be called the _",
    "symmetrized relative moduli space _ and the subscript @xmath20 will change to @xmath479 $ ] .",
    "it has a corresponding vfc ^vir= 1 ( s ) ! _ * [ _ a , g , n,[s]^j(x , v ) ] ^vir _ * ( _ a , g , n,[s]^j(x , v ) ; ) defined as the pushforward by the quotient map @xmath480}(x , v)$ ] over @xmath336 . with this definition , the symmetrized relative @xmath481 invariant corresponds to an unordered sequence of @xmath134 multiplicities @xmath479 $ ] and is equal to gw_[s]= 1 !",
    "gw_sh_*(x^n(_g , n+v^)/ s _ ; )",
    "the upshot of this discussion is that the symmetrized relative moduli space @xmath482}(x , v)$ ] also has smooth representatives constructed by breaking the symmetry and turning on a generic ( non - equivariant ) perturbation . to fully break the symmetry",
    ", one needs to order the marked points and the components of the domain , add a suitable group @xmath17 for genus @xmath483 , and finally also add the roots of the leading coefficients .",
    "this section introduces the notion of a stabilizing divisor for a pair @xmath484 where @xmath19 is a normal crossing divisor in a closed symplectic manifold @xmath2 .",
    "stabilizing divisors will be crucial in the next two sections . here",
    "we present some of their important properties and show that donaldson s theorem implies that stabilizing divisors exist in abundance on any symplectic manifold .    to start , we fix @xmath2 , a normal crossing divisor @xmath19 and a subset @xmath485 of @xmath24 . to enumerate the strata of moduli spaces , let @xmath486 be the collection of all triples @xmath487 with @xmath488 such that :    a.   @xmath489 ( `` energy less than @xmath171 '' )",
    ". b.   for some @xmath490 , @xmath37 is represented by a @xmath0-holomorphic map from a genus @xmath15 curve into the stratum @xmath387 of @xmath484 with depth @xmath270 ( including the top stratum @xmath491 ) .",
    "a smooth codimension 2 submanifold @xmath492 is an _ @xmath171-stabilizing divisor for @xmath493 on @xmath485 _ if    a.   @xmath36 is transverse to @xmath19 and there exists @xmath494 in @xmath485 such that @xmath36 is @xmath312 holomorphic .",
    "b.   @xmath36 is sufficiently positive in the sense that [ st .",
    "ineq.v ] d a c_1(v^k)a+_v^k + 2g+1 ( a , g , k)_e , b where @xmath495 is the smooth resolution of the closed stratum @xmath387 of @xmath19 ( cf .",
    "@xcite ) .    if @xmath36 is a stabilizing divisor for @xmath484 we let @xmath496 be the set of all @xmath497 such that @xmath36 is @xmath0-holomorphic .",
    "[ m.s - stable.v ] suppose that @xmath36 is an @xmath171-stabilizing divisor for @xmath484 at the point @xmath498 in @xmath18 .",
    "then there is a @xmath41 ball @xmath286 around @xmath485 in @xmath499 such that for an open dense and path - connected set @xmath500 of @xmath267 :    1 .",
    "the only @xmath0-holomorphic genus @xmath15 maps into @xmath36 with @xmath501 are constant ; 2 .",
    "the relative moduli spaces @xmath502 with @xmath503 are domain - stable ;    statements ( a ) and ( b ) remain true in generic 1-parameter families @xmath504 in @xmath286 .",
    "this follows by a standard dimension count argument ; note that both conditions ( a ) and ( b ) are @xmath41-open conditions on @xmath0 .",
    "for simplicity , we first prove this for the case @xmath476 , in which case ( [ st . ineq.v ] ) becomes [ st . ineq ] d a c_1(x)a+ _ x+2g+1 ( a , g)_e , j_0 first notice that ( [ st . ineq ] ) is a topological condition on what kind of strata appear in the moduli space @xmath505 below energy level @xmath171 . by lemma [ l.top.not.jumps ] ,",
    "there is a @xmath41-ball @xmath286 around @xmath308 with @xmath506 , so the inequality ( [ st . ineq ] ) holds for all non - trivial @xmath0-holomorphic maps with @xmath267 .",
    "assume next that @xmath507 ( the result is trivially true otherwise ) .",
    "then below energy level @xmath171 , the expected dimension of the moduli space @xmath508 is _ _ a , g , 0(d)&=&c_1(d)a+ ( _ d-3)(1-g ) + & = & c_1(x ) a - da+2g-3 + _ d- ( _ d -1)g + & & - _ x+ _ d-3- ( _ d -1)g  <  -1 where for the first inequality we used ( [ st . ineq ] ) for any @xmath267 .",
    "the standard transversality argument at a somewhere injective map @xcite implies that for generic @xmath0 in @xmath286 there are no simple smooth @xmath0-holomorphic maps into @xmath36 , and thus no multiple covers either , and this is true in a generic 1-dimensional family of @xmath0 s",
    ". therefore the only @xmath0-holomorphic curves in @xmath36 below energy level @xmath171 are constants , and these have stable domains .",
    "furthermore , in the relative moduli space @xmath509 we see only multiple covers of the fiber ( relative both @xmath94 and @xmath510 ) and these all have stable domain except for the trivial covers .",
    "similarly , in @xmath511 we see only multiple covers of the fiber relative @xmath510 only , and these have stable domain unless @xmath274 , @xmath512 and @xmath513 , i.e. are trivial components .",
    "next , by ( [ st . ineq ] ) the expected dimension of the relative moduli space @xmath514 is _ _ a , g , n , s(x , d)&=&c_1(x ) a + ( _ x-3)(1-g)+n+(s)- d a + & = & c_1(x ) a -da + 2g-2+n+(s ) + ( _ x-1)(1-g ) + & & -_x + ( s)+n-3 + ( _ x-1)(1-g ) if the domain is unstable , that is @xmath515 and @xmath516 , this gives _ _ a , g , n , s(x , d)<-1 .",
    "thus for generic @xmath267 ( even in a generic path ) there are no simple , smooth maps with unstable domain in @xmath517 , and therefore there are no multiple covers other than the constants ( below energy level @xmath171 ) .",
    "recalling the first part of the argument , we conclude that for generic @xmath0 all maps in @xmath518 have stable domains , and the same remains true in generic paths of @xmath0 s .",
    "this proves ( b ) .",
    "next consider the general case when @xmath19 is a normal crossing divisor in @xmath2 .",
    "then the proof follows the same outline as above , except that now @xmath19 induces a stratification of @xmath2 : the depth @xmath248 piece @xmath387 is where at least @xmath248 branches of @xmath19 meet ( here @xmath270 includes @xmath491 ) ; @xmath387 is smooth away from higher depth stratum and comes with a smooth resolution @xmath519 . because we are now restricted to @xmath520 , to get transversality for the first part of the argument we need to work separately with simple maps into each stratum @xmath521 which are not contained in any higher depth stratum .",
    "any such @xmath0-holomorphic map lifts to a map in the resolution @xmath495 , with image not contained in the higher depth stratum of @xmath495 .",
    "furthermore , if @xmath37 denotes its homology class , then @xmath522 .",
    "the dimension count then shows that the only maps into @xmath36 below energy level @xmath171 are constants . for the second part of the argument , for each smooth , simple map @xmath523 consider its projection @xmath524 to @xmath461 under the map that collapses all the levels over @xmath36 , but not those over @xmath19 .",
    "there are two possibilities for this projection .",
    "if @xmath524 is a map into @xmath36 , then by the first part of the argument it is constant ; thus @xmath29 is a map into a fiber of @xmath525 ; these all have stable domains except for the trivial maps .",
    "otherwise @xmath524 is a map into one of the strata @xmath387 that does not lie entirely in the higher depth stratum of @xmath51 ; then @xmath524 has a lift to a map in a relative moduli space @xmath526 , where @xmath527 is the resolution of the lift of the divisor @xmath528 to @xmath495 .",
    "the dimension of this moduli space is @xmath529 which is similarly negative by ( [ st .",
    "ineq.v ] ) if the domain is unstable .",
    "finally , note that ( a ) and ( b ) in the statement of the proposition are both open conditions , thus the subset @xmath500 of @xmath286 on which they hold is open and dense set .",
    "moreover , since @xmath286 is path connected and properties ( a ) and ( b ) hold for generic path in @xmath286 then @xmath500 is also path connected .",
    "the arguments in the next section require a very controlled statement for the existence of stabilizing divisors .",
    "the following lemma shows that stabilizing divisors exist for a dense set of tame pairs @xmath164 in the spaces @xmath1 and @xmath18 .",
    "below we work in @xmath41-balls @xmath530 in space of pairs @xmath531 adapted to @xmath19 .",
    "since @xmath532 are compatible , for @xmath533 small such balls would consists of _ tamed , but not necessarily compatible pairs_.    [ exist.don.div ] fix an energy level @xmath171 and a compatible structure @xmath534 and let @xmath530 denote @xmath41-ball around @xmath535 as above .",
    "then there exists an @xmath536 such that , for any @xmath537 ,    a.   there exists an @xmath171-stabilizing divisor @xmath36 for @xmath2 on @xmath538 .",
    "b.   if @xmath19 is a normal crossing divisor for @xmath539 , there exists an @xmath171-stabilizing divisor @xmath36 for @xmath484 on @xmath540 . c.   given @xmath541 and normal crossing divisors @xmath542 in @xmath543 ,",
    "there is a path @xmath544 of @xmath171-stabilizing divisors for @xmath2 on @xmath530 whose endpoints @xmath545 are @xmath171-stabilizing divisors for @xmath546 on @xmath547 .",
    "all three statements follow from donaldson s theorems @xcite @xcite and its extensions by auroux @xcite ; related statements were also proved in @xcite .",
    "we include here an outline of the proof for the specific form stated above .",
    "first , by lemma [ l.top.not.jumps ] there exits an @xmath536 such that the @xmath41 closed ball @xmath548 centered at @xmath549 and of radius @xmath550 satisfies @xmath551 .",
    "furthermore , there is a lower bound @xmath552 for all @xmath553 thus after shrinking @xmath550 we may assume that [ 8.walowerbound ] ( a)_0 > 0 for all @xmath554 and @xmath555 in the finite set @xmath556 .",
    "now fix a @xmath41 ball @xmath557 about the compatible pair @xmath532 with @xmath558 , sufficiently small so that all @xmath490 are tamed by all the @xmath559 s in @xmath485 ( being a tamed pair is an open condition ) .",
    "choose a compatible pair @xmath560 in a ball @xmath561 with @xmath562 representing a rational cohomology class .",
    "donaldson s theorem implies that there exists constants @xmath563 such that for any @xmath564 , there exists a smooth divisor @xmath565 representing @xmath566 and which is @xmath567-@xmath312-holomorphic .",
    "hence for sufficiently large @xmath319 :    * there exists an almost complex structure @xmath568 on @xmath569 such that @xmath570 ( see appendix ) and therefore @xmath571 .",
    "* @xmath565 satisfies ( [ st . ineq ] ) on @xmath485 because @xmath572 by ( [ 8.walowerbound ] ) .",
    "therefore @xmath565 is an @xmath171-stabilizing divisor for @xmath2 on @xmath485 , as statement ( a ) asserts .",
    "next , given a normal crossing divisor @xmath19 in @xmath573 , similarly we can find a compatible pair @xmath560 in @xmath574 such that @xmath575 is rational and @xmath312 is adapted to @xmath19 ( so @xmath576 ) . for any @xmath577 small similarly by the results of donaldson and auroux ,",
    "there exists constants @xmath578 , @xmath579 ( which depend also on @xmath580 ) such that for each @xmath564 there is a smooth divisor @xmath565 with the following properties : ( i ) @xmath565 is poincar dual to @xmath566 ( ii ) @xmath565 is @xmath581-@xmath312 holomorphic and ( iii ) @xmath565 is @xmath580-transverse to every stratum of @xmath19 . as above ,",
    "@xmath565 satisfies ( [ st . ineq ] ) on @xmath485 for all large @xmath319 .",
    "then we can construct a @xmath568 within @xmath582 in @xmath41 from @xmath308 ( cf appendix ) such that @xmath568 is @xmath583 adapted .",
    "therefore @xmath565 is an @xmath171-stabilizing divisor for @xmath484 on @xmath540 .",
    "note that the construction in the appendix gives rise to a @xmath568 which is tamed by @xmath584 for @xmath533 small but perhaps not compatible .",
    "the proof of ( c ) is similar . for @xmath585 we can similarly find @xmath586-adapted , compatible pairs @xmath587 with the same rational @xmath562 , and a path @xmath588 of compatible pairs in @xmath589 between them . applying donaldson s theorem to",
    "the path @xmath588 shows that , for each @xmath577 small enough , and each large @xmath319 , there is a family @xmath590 of smooth divisors with the following properties : ( i ) they are poincare dual to @xmath566 ( ii ) @xmath590 are @xmath567-@xmath591-holomorphic and ( iii ) at the endpoints @xmath592 are @xmath580-transverse to @xmath586 for @xmath585 .",
    "again , ( [ 8.walowerbound ] ) also implies that ( iv ) @xmath590 satisfy ( [ st .",
    "ineq ] ) on @xmath485 for all @xmath593 .",
    "then the construction in the appendix produces a perturbed path @xmath594 of almost complex structures on @xmath2 still within @xmath582 of @xmath308 ( thus tamed by @xmath595 ) such that @xmath594 is adapted to @xmath596 for all @xmath132 and moreover at the endpoints @xmath597 is adapted to @xmath598 .",
    "therefore @xmath590 is a path of @xmath171-stabilizing divisors with the properties stated in ( c ) .    by first deforming @xmath599 to a rational form and then using auroux s generalization @xcite of donaldson s theorem , we can similarly find stabilizing divisors representing the poincare dual of @xmath600 for any @xmath601 and @xmath602 sufficiently large .",
    "the case @xmath603 is useful in certain applications .",
    "when @xmath36 is an @xmath171-stabilizing divisor for a normal crossing divisor @xmath484 it is useful to define a space of `` weakly compatible '' almost complex structures : we let @xmath604 denote the subspace of @xmath18 consisting of all @xmath0 such that [ defjvvd ]    a.   @xmath36 is @xmath0-complex ; b.   all @xmath0-holomorphic maps @xmath29 into @xmath36 with @xmath605 and @xmath606 are constant .    here ( b ) replaces part of the definition of @xmath51-compatibility , the 1-jet condition on @xmath0 along @xmath36 in definition  3.2 of @xcite .",
    "this 1-jet condition was used only to prove that the linearized normal operator @xmath607 is complex linear ( lemma  3.3 of @xcite ) .",
    "but conditions ( a ) and ( b ) above also imply complex linearity because @xmath607 is complex linear for constant maps . thus all results in @xcite hold for weakly compatible @xmath0",
    ".    for the remainder of this section , fix a normal crossing divisor @xmath19 in @xmath2 and a compatible pair @xmath608 in @xmath18 . then fix topological data @xmath609 and an energy level @xmath171 with @xmath610 .",
    "thirdly , fix a @xmath41 ball @xmath611 centered at @xmath308 and small enough that lemma  [ exist.don.div ] applies .",
    "let @xmath36 be an @xmath171-stabilizing divisor for @xmath3 on @xmath485 , which exists by lemma  [ exist.don.div]b .",
    "the proof of theorem [ 7.maintheorem ] combines with the discussion above to give the following :    assume @xmath36 be an @xmath171-stabilizing divisor for @xmath3 on @xmath485 , and @xmath503 .",
    "then for each @xmath612 there exists a virtual fundamental cycle [ vfc.vd ] [ _ a , g , n , s^j(x , vd ) ] ^vir _ * ( _ a , g , n , s^j(x , vd ) ; ) which is independent of @xmath0 , that is for any path @xmath300 between @xmath613 the image under the inclusions are equal : [ vfc.vd.ind ] [ _ a , g , n , s^j_0(x , vd ) ] ^vir = [ _ a , g , n , s^j_1(x , vd ) ] ^vir _ * ( _ a , g , n , s^(x , vd ) ; )    applying proposition  [ m.s - stable.v ] at each point of the non - empty path - connected set @xmath614 and taking the union shows that there is an open , dense path - connected subset @xmath615 of @xmath614 so that    a.   @xmath616 and b.   @xmath617 is domain - stable for all @xmath618 and all @xmath619 .",
    "theorem [ 7.maintheorem ] then gives a well defined vfc on @xmath500 .",
    "this then extends by continuity to the entire @xmath620 with the fact that @xmath500 is open , dense and path connected subset of @xmath621 , and that any path in @xmath621 can be approximated by a path in @xmath500 ( the set of paths in @xmath500 are dense in the set of all paths in @xmath621 ) .",
    "now consider the component of the moduli space in ( [ vfc.vd ] ) with @xmath622 $ ] , that is , the compactification of the space of stable maps that intersect @xmath19 with multiplicity vector @xmath20 and intersect @xmath36 at @xmath623 unordered points each with multiplicity 1 . as in diagrams",
    "( [ 3.naturalmaps ] ) and ( [ 7.pi.to.x ] ) there is a projection [ 9.projection ] where @xmath624 is the composition of the map in diagram ( [ 7.vdirectedsystem ] ) that forgets the branch @xmath36 with the map that also forgets the marking of the contact points to @xmath36 .",
    "[ 9.defnvfc.1 ] if @xmath36 is any @xmath171-stabilizing divisor for @xmath3 on @xmath485 , for any @xmath625 the image of the homology class ( [ vfc.vd ] ) under @xmath624 defines a class vfc^j_d=^def _ d * [ _ a , g , n , s^j(x , vd ) ] ^vir _ * ( _ a , g , n , s^j(x , v ) ; )    here @xmath626 $ ] means that we first divide by the symmetric group action reordering the contact points to @xmath36 as described in remark [ r.symms ] .",
    "as defined @xmath627 depends on the choice of @xmath36 ( as well as @xmath19 and @xmath628 which are assumed fixed in the discussion below ) .",
    "the remainder of this section is devoted to showing that @xmath629 is independent of @xmath36 in an appropriate sense .",
    "the next step is to prove that these virtual fundamental classes are consistent for different choices of @xmath36 .",
    "we start with the following preliminary result which is a simple consequence of another result which is proved in a separate , independent section 11 .    [ 9.differentd ] if @xmath36 and @xmath630 are @xmath171-stabilizing divisors for @xmath19 on @xmath485 then for any @xmath631 ( if one exists ) [ vfc.d = vfc.d ] vfc_d^j= vfc_d^j _ * ( ^j_a ,",
    "g , n , s(x , v ) , ) .    by a slight modification of proposition  8.2",
    ", there is an open dense and path connected subset @xmath500 of @xmath632 on which both ( a ) the moduli spaces @xmath633}(x , v\\cup d)$ ] and @xmath633}(x , v\\cup d')$ ] are domain - stable and ( b ) there are no @xmath0-holomorphic maps into @xmath36 or @xmath630 other than constants with energy less or equal to @xmath634 .",
    "the assumptions of proposition  [ p.relv=relvd ] then apply for any @xmath635 to give : vfc_d^j= vfc_dd^j= vfc_d^j for all @xmath635 which then extends by continuity to all @xmath631 .",
    "[ cor.d = d ] assume @xmath36 and @xmath630 are @xmath171-stabilizing divisors for @xmath484 on @xmath485 .",
    "then for any @xmath636 and @xmath637 there exists a path @xmath300 in @xmath638 from @xmath0 to @xmath312 such that vfc_d^j= vfc_d^j _ * ( ^_a , g , n , s(x , v ) , ) after inclusion .    for simplicity ,",
    "set @xmath639 .",
    "use lemma 8.3 ( c ) to find a path @xmath544 of @xmath171-stabilizing divisors on @xmath485 for @xmath484 and whose endpoints are @xmath171-stabilizing divisors for @xmath640 and respectively @xmath641 on @xmath485 thus @xmath642 and @xmath643 . since @xmath644 is path connected , we can therefore find a path @xmath645 such that @xmath646 and with endpoints @xmath647 and @xmath648 .",
    "the @xmath649 is well defined and becomes constant in @xmath132 after inclusion in @xmath650    moreover , since the endpoints @xmath647 and @xmath651 then proposition [ 9.differentd ] applies to give vfc_d^j_0=",
    "vfc_dd_0^j_0= vfc_d_0^j_0 vfc_d^j_1= vfc_dd_1^j_1= vfc_d_1^j_1 next , @xmath652 is path connected , so we can find a path @xmath653 in @xmath652 from @xmath0 to @xmath308 on which the @xmath654 is well defined and moreover vfc_d^j=vfc_d^j_0 after inclusion in @xmath655 .",
    "similarly , we can find a path @xmath656 in @xmath657 from @xmath309 to @xmath312 such that after inclusion in @xmath658 vfc_d^j_1=vfc_d^j now let @xmath300 denote the concatenation of the path @xmath659 , which is a path in @xmath638 from @xmath0 to @xmath312 .",
    "after inclusion into @xmath660 , combining the last 3 displayed equation above then gives the desired equality vfc_d^j = vfc_d^j_0 = vfc_d_0^j_0 = vfc_d_1^j_1= vfc_d^j_1= vfc_d^j in @xmath660 .",
    "we can now , at last , complete the proof of theorem  [ vfcfinecase ] by defining a virtual fundamental class for any pair @xmath3 .",
    "the context remains the same : @xmath2 is a closed symplectic manifold and @xmath4 is a ( possibly empty ) normal crossing divisor for some compatible structure @xmath661 on @xmath2 .",
    "we will also fix an energy level @xmath171 and work with data @xmath609 below energy @xmath171 .",
    "[ main.thm ] let @xmath19 and @xmath662 be as above .",
    "then as long as @xmath503 :    a.   for any shrinking sequence @xmath663 of @xmath41 balls in @xmath18 centered at @xmath531 there exists stabilizing divisors @xmath545 for @xmath3 on @xmath663 and a sequence @xmath664 such that a.   for generic @xmath665 with @xmath666 and @xmath667 , the symmetrized relative moduli spaces @xmath668}(x , v\\cup d_i)\\ ] ] are domain - stable smooth global quotient orbifolds .",
    "b.   after forgetting @xmath545 , their actual fundamental cycles pass to the limit to define a rational cech homology element [ pass.lim ] _ i_d_i * [ ^j_i,_i_a , g , n , s_v(x , vd_i ) ] _ * ( ^j_a , g , n , s_v(x , v ) ; )",
    ". b.   the class ( [ pass.lim ] ) is independent of the choices made in ( a ) and is invariant under deformations of the compatible pair @xmath531 inside @xmath18 .    .",
    "for this argument we are working in the neighborhood of a fixed moduli space @xmath669 ; in particular @xmath670 will be fixed , where @xmath503 .",
    "consider the sequence of @xmath41-balls @xmath671 .",
    "for each @xmath9 , by lemma 8.3 ( b ) there exits an @xmath171-stabilizing divisor @xmath672 for @xmath484 on @xmath673 thus @xmath674 .",
    "pick @xmath675 and consider the class @xmath676 defined in definition [ 9.defnvfc.1 ] .",
    "now use theorem  [ cor.d = d ] to construct paths @xmath677 in @xmath673 from @xmath678 to @xmath679 , and let @xmath680 be the union of @xmath308 with the paths @xmath677 for all @xmath681 , as in the proof of theorem [ 5.cechcyclelemma ] . then under the inclusion @xmath682",
    ": vfc_d_n^j_n = vfc_d_m^j_m_*(m_m , ) for all @xmath681 , where @xmath683 is the moduli space @xmath461 over @xmath680 .",
    "this means that the vfc passes to the limit to give a class in @xmath684 .",
    "independence of the sequence @xmath685 is proven by the ladder argument : if @xmath686 and @xmath687 are two such sequences , theorem [ cor.d = d ] provides paths @xmath688 in @xmath689 that together with the original paths form the ladder .",
    "this shows that ( [ pass.lim ] ) is well defined , independent of choices made .",
    "this class is invariant under deformations of @xmath531 in the sense that for any smooth path @xmath300 of compatible pairs @xmath690 the two vfc have equal inclusions into the cech homology of the moduli space over the path : vfc_j_0=vfc_j_1 _ * ( _ a , g , n , s^b(x , v ) ; ) this follows from a similar continuity argument using the fact that @xmath300 is compact , by taking @xmath673 a finite cover of it with balls of radius @xmath691 centered at points in @xmath300 .    with @xmath692 and @xmath693 as above , consider a shrinking sequence @xmath663 of @xmath41 balls around @xmath531 in @xmath18 , and pick @xmath171-stabilizing divisors @xmath545 for @xmath484 on @xmath663 .    _",
    "the virtual fundamental class _ of @xmath694 is the rational cech homology class [ d.virx=virxd ] [ _ a , g , n , s ^j(x , v)]^vir=^def _ i_d_i * [ _ a , g , n , s(x , vd_i)]^vir_*(^j(x , v ) ; ) and the corresponding _ relative gw invariant _ is [ 10.gwdef ] gw_a , g , n , s ( x , v)=se_*[_a , g , n , s ^j(x , v)]^virh_*(_g , n+(s ) n_s v )    by proposition  [ d.virx=virxd]b , the virtual fundamental class is well defined , independent of the choices made in its construction .",
    "thus we have completed the proof of theorem  [ vfcfinecase ] of the introduction . in particular , in terms of gw invariants , we have the following :    [ t.gw=semipos ] the relative invariant ( [ 10.gwdef ] ) is well - defined and invariant under deformations .",
    "when @xmath2 is semi - positive and @xmath19 is empty , it agrees with the invariant @xmath695 defined in @xcite , and when @xmath19 is smooth it agrees with the relative invariant of @xmath696 defined in @xcite .",
    "it remains to prove equality ( [ vfc.d = vfc.d ] ) . to that end",
    ", we will prove theorem  [ p.relv=relvd ] , which immediately implies ( [ vfc.d = vfc.d ] ) .",
    "the proof uses some results that were first proved in the algebraic geometric context ; we give independent proofs by symplectic methods in section  12 .",
    "[ p.relv=relvd ] assume @xmath36 is a stabilizing divisor for a normal crossing divisor @xmath19 in @xmath662 such that ( a ) the moduli space @xmath697 is domain - stable and ( b ) there are no @xmath0-holomorphic maps into @xmath36 other than constants with energy less or equal to @xmath634",
    ". then [ vfc.v = vfc.vd ] [ _ a , g , n , s_v^j(x , v)]^vir= _ d * [ _ a , g , n , s_v^j(x , vd)]^vir _ * ( ^j_a , g , n , s_v(x , v ) ; ) where @xmath698 is the map in diagram ( [ 9.projection ] ) .",
    "this follows from a very simple case of the symplectic sum formula and a calculation of the resulting correction terms .",
    "assume for simplicity that @xmath19 is empty and consider the trivial decomposition [ triv.decomp ] x&= & ( x , d ) # _ d = d _ ( _d , d _ ) . the symplectic sum formula , as proved in @xcite , relates the absolute moduli spaces of @xmath2 to the relative moduli spaces of @xmath699 , @xmath700 and their overlap @xmath525 .",
    "it was proved in @xcite _ under the assumption _ that the moduli spaces involved are domain - stable ( or more generally `` irreducible '' ) ; this is precisely the context in which it will be used in this section .",
    "assumption ( b ) implies that each @xmath0-holomorphic curve in @xmath701 represents 0 when projected to @xmath36 , so is a multiple cover of a fiber of @xmath702 .",
    "the moduli space @xmath703 of maps representing @xmath704 times the fiber class @xmath197 is a ( singular ) fibration over @xmath36 [ 9.fibration ] _",
    "df(_d , d_)^d whose fiber is the relative moduli space @xmath705 associated to the principal @xmath87-bundle of the normal bundle to @xmath36 . this allows us to calculate its vfc as in @xcite , and ultimately show that all correction terms in the sum formula vanish .",
    "more precisely , by assumption , all moduli spaces are domain - stable ( or otherwise cut transversely except at ghost maps ) and thus the sum formula of @xcite applies . after pushing forward by @xmath624 ,",
    "all the terms lie in @xmath706 and the sum formula gives ^vir&= & _ s _ d* ( ^ * ( _ ) ^vir ^vir ) + [ sum.vfc.x=d ] & = & _ s ^ * ( _ ) _ d * [ _ s(x , d)]^vir _ d * [ _ s(_d , d_)]^vir where the second equality holds because the poincare dual @xmath707 of the diagonal is pulled back from @xmath36 .",
    "relation ( [ sum.vfc.x=d ] ) can be regarded as an expansion where the leading term is the trivial contribution ^vir&= & _ d * [ _ a , g , n , [ 1](x , d)]^vir + while the correction terms can come , in this case , only from contributions of multiple covers of the fibers of @xmath702 .",
    "in fact , all the correction terms vanish as follows .",
    "first , equation ( 2 ) in @xcite , which is reproved in lemma [ lemma12.1 ] below , implies that [ m.p = c.top ] [ _ df(_d , d_)]^vir= c_top ( etd ) ^vir _ where @xmath171 is the hodge bundle , @xmath708 is the relative obstruction theory of the fibration @xmath709 , and where the virtual class has been extended to the unstable range as described in remark [ r.ext.m.unstable ]",
    ". therefore [ push.p = obs ] _",
    "d*[_df(_d , d_)]^vir= c_top ( etd ) _",
    "d*[_df(_d , d_)]^vir _ and , from section 1.2 of @xcite , [ push.p = ramif ] _ d * [ _ df(_d , d_)]^vir_= _ * [ _ d(^1 , ) ] ^vir . on the other hand ,",
    "equation ( 9 ) of @xcite shows that the `` 1-point ramification cycle '' [ 1-pt - ramif ] _ * [ _ d , g , n , s(^1 , ) ] ^virth_*(_g , n+(s ) ) vanishes except when @xmath710 , which corresponds to a degree 1 trivial component ; in this case the corresponding class is equal to @xmath711\\in h_{*}(\\ov\\m_{0 , 1})= h_{0}(pt)$ ] .",
    "together , the last three displayed equations give ( [ vfc.v = vfc.vd ] ) in the case where @xmath19 is empty .",
    "this argument extends for the case of a normal crossing divisor @xmath51 in which case ( [ triv.decomp ] ) is replaced by the decomposition [ triv.decomp.v ] ( x , v)&= & ( x , vd ) # _ d = d _",
    "( _d , f_vd _ ) coming from an iterated symplectic sum as in @xcite . after pushing forward by @xmath624 ,",
    "the sum formula ( [ sum.vfc.x=d ] ) similarly becomes [ sum = de.v ] [ ( x , v)]^vir= _ s ^*(__d ) (_d*[_s(x , vd)]^vir _ d*[_s(_d , f_vd_)]^vir ) under the domain - stable assumption , extending ( [ sum.vfc.x=d ] ) .",
    "the calculation of the correction terms and their subsequent vanishing proceeds along the same lines .",
    "for completeness , we will give independent proofs of ( [ m.p = c.top ] ) and ( [ push.p = ramif ] ) , which were proved in @xcite in the algebraic geometry context using virtual localization .",
    "this method has not yet been fully extended to the symplectic setting , so we can not directly quote their result .",
    "instead , we will use the fibration structure ( [ 9.fibration ] ) and an application of taubes obstruction bundle to give a purely symplectic proof .",
    "let @xmath712 be a complex line bundle over a smooth symplectic manifold .",
    "its compactification @xmath713 is a @xmath714 bundle @xmath715 with an infinity section @xmath716 . in this section",
    "we calculate the virtual fundamental classes of the relative moduli spaces [ 12.1 ] _ df , g , n , s(_d , d _ ) of maps @xmath717 that represent multiples of the fiber class @xmath197 in @xmath718 and have contact multiplicity @xmath20 along the infinity section @xmath716 .",
    "fix an almost khler structure @xmath719 on @xmath702 for which the fibers are @xmath0-holomorphic .",
    "the maps in ( [ 12.1 ] ) are @xmath0-holomorphic maps into @xmath702 that project to constants into @xmath36 , and thus are multiple covers of a fiber relative the point on the infinity divisor . in particular , the fiber of [ 12.diag.pi ] : _ df , g , n , s^j(_d , d_)d at @xmath720 is the relative moduli space @xmath721 of the fiber @xmath722 of @xmath723 .",
    "each fiber is isomorphic to @xmath705 , but not in a canonical fashion because of the automorphisms of @xmath724 , and ( [ 12.diag.pi ] ) is in fact the @xmath705-bundle associated to @xmath712 .",
    "this fits in the diagram [ 12.intermediate.2 ] of spaces over @xmath36 .",
    "our goal is to prove the following result ( and its generalization to the relative context ) :    [ contrib=0 ] the space @xmath725 has a well - defined virtual fundamental class and it satisfies _ d * [ _ df , g , n , s^j(_d , d_)]^vir   =     [ d ] h_*((d ) ) & + 0 &    the proof is obtained from the decomposition of the vfc induced by the diagram ( [ 12.intermediate.2 ] ) .    the space @xmath725 has a well - defined virtual fundamental class and it satisfies [ lemma12.1 ] [ vfc.split ] _",
    "d*[_df^j(_d , d_)]^vir= c_top ( etd ) _",
    "d*[_df^j(_d , d_)]^vir_h_*(_g , n+d ) where ^vir_h_*(_df^j(_d , d _ ) ) is the relative vfc associated to the family of maps into fibers of @xmath11 parametrized by @xmath36 , induced by the fibration @xmath11 in ( [ 12.intermediate.2 ] ) .",
    "moreover [ vfc.push-st ] _ d * [ _ df(_d , d_)]^vir_= _ * [ _ d(^1 , ) ] ^vir h_*(_g , n+d ) where @xmath726^{vir } \\in h_*(\\ov\\m_{g , n+\\ell})$ ] is the vfc of the relative moduli space of degree @xmath704 maps into @xmath714 relative one point @xmath510 .",
    "its pushforward ( [ 1-pt - ramif ] ) vanishes unless @xmath727 .    whenever @xmath728 all the moduli spaces in ( [ 12.intermediate.2 ] ) are domain stable ( for any @xmath0 ! ) .",
    "theorem  [ 7.maintheorem ] therefore shows that these moduli spaces have a well - defined vfc obtained by turning on a generic gromov - type perturbation @xmath214 to obtain a smooth orbifold model for the virtual fundamental cycle . in the leftover cases @xmath274 and @xmath729 the moduli spaces are in fact already smooth thus they also have a well defined vfc .",
    "the compatible riemannian metric on @xmath702 splits the tangent bundle t_d= vert^ * td into the vertical subspace and a horizontal subspace identified with @xmath730 .",
    "a general gromov - type perturbation @xmath731 can be uniquely decomposed as a sum @xmath732 with @xmath733 and @xmath734 . to prove the splitting formula ( [ vfc.split ] ) , we turn on @xmath214 in two stages . for the first stage , consider the space of solutions to the perturbed equation [ 12.del=vert ] f=^vert for any such solution @xmath29",
    ", the projection @xmath735 is @xmath0-holomorphic ( it satisfies @xmath736 ) and represents 0 in homology , so is a constant map .",
    "therefore ( [ 12.del=vert ] ) can be regarded as a family version of relative moduli spaces into the fibers @xmath737 of @xmath701 .",
    "this family problem is a different problem than the one we started with .",
    "it has a different linearization and index : the variation in the map @xmath29 stays in the fiber direction , and this moduli problem is then cut transversely for generic perturbation @xmath738 .",
    "thus the results of sections  [ section5 ] and [ section7 ] extend to this set - up to show that for generic @xmath738 the moduli space of solutions of ( [ 12.del=vert ] ) is an orbifold of dimension _",
    "1= d + ( ^1 , ) that defines a vfc relative to the fibration @xmath11 : [ _ df(_d , d_)]^vir_h__1(_df(_d , d _ ) ) moreover , ( [ vfc.push-st ] ) holds because this is a family version of relative moduli spaces .",
    "next consider the horizontal part of the problem .",
    "start first with maps into @xmath36 .",
    "for the moduli space @xmath739 of constant maps into @xmath36 , taubes obstruction argument applies to define and compute its vfc .",
    "this moduli space is an orbifold ( independent of @xmath0 ! ) , but is not cut transversely for @xmath740 ; the obstruction bundle @xmath741 is constant rank and is isomorphic to @xmath742 ( where @xmath171 is the hodge bundle ) .",
    "standard results imply that for generic gromov - type perturbation @xmath743 on @xmath36 the projection @xmath744 of @xmath743 is a generic section of the obstruction bundle @xmath745 .",
    "moreover the moduli space @xmath746 is an orbifold of dimension _ 2= _",
    "g , n+ + ( 1-g ) d cobordant to the zero locus of @xmath747 , and thus it defines the vfc [ _ 0 , g , n+(d)]^vir = pd(c_top ( etd))h__2(_0 , g , n+(d))=h__2(_g , n+d )    finally consider the moduli space of solutions to the combined problem : [ 12.del=all ] f=^vert + t^*^d where @xmath748 is a real parameter , and @xmath738 and @xmath743 are generic vertical and respectively horizontal perturbations . for generic @xmath132 , the space of solutions to ( [ 12.del=all ] ) is cut transversally , and it cobordant as @xmath748 to the subset of solutions of the vertical equation ( [ 12.del=vert ] ) constrained by the condition that their projection onto @xmath749 lies in the zero locus of the section @xmath747 , and therefore [ str.of.contrib ] [ _ df^j(_d , d_)]^vir=_d ^vir _ where @xmath750 is the poincare dual of the vfc class the moduli space of maps into @xmath36 .",
    "this implies ( [ vfc.split ] ) and completes the proof of ( [ vfc.split ] ) .",
    "finally , the one point ramification cycle @xmath751^{vir}\\in h_*(\\ov \\m_{g , n+\\ell})$ ] vanishes whenever @xmath752 by equivariant localization ( see @xcite ) , completing the proof of the lemma .",
    "the same proof shows @xmath753=0 $ ] except for the trivial contribution and therefore the propagator ( cf .",
    "section 11 of @xcite ) is the identity .",
    "more generally , let @xmath712 be a holomorphic line bundle on a smooth symplectic manifold @xmath36 with a normal crossing divisor @xmath19 , and consider its compactification @xmath715 with its zero divisor @xmath36 and normal crossing divisor @xmath754 over the inverse image of @xmath19 .",
    "the projection @xmath723 induces a map at the level of moduli spaces ( before turning on perturbations ) .",
    "the proof above extends to this setting to give :    the space @xmath755 has a well - defined virtual fundamental class that satisfies _ d * [ _ df , g , n , s(_d , df_v)]^vir   =     [ d ] & + 0 &",
    "this appendix establishes several facts used in previous sections that do not appear in the literature .",
    "these are basic facts about the topology of the moduli space of @xmath0-holomorphic maps and the existence of @xmath19-compatible almost complex structures .",
    "several facts about the topology of the moduli space are stated in theorem  [ 3.toptheorem ] .",
    "the proof is presented below , organized into four steps .",
    "along the way , two general facts about metric spaces and maps @xmath756 are used repeatedly :    a.   if @xmath757 is a metric space , then @xmath756 induces a pseudo - metric @xmath758 on @xmath2 ; this defines a topology on @xmath2 for which @xmath29 is continuous .",
    "b.   a metric on @xmath2 induces a metric @xmath759  the hausdorff distance  on the set @xmath760 of its non - empty compact subsets that is compact whenever @xmath761 is compact .",
    "using facts  ( i ) and ( ii ) , define an initial topology on @xmath168 by pulling back the metrics on @xmath1 , @xmath95 and @xmath762 by @xmath763 .",
    "more precisely , define the pseudo - metric @xmath764 by setting [ 3.hdist ] d_0((c , f , j ) , ( c,f,j ) )  =  d_(j , j )  +   d__g , n((c),(c ) )  +  d_h(_f , _",
    "f ) with @xmath765 as in ( [ 3.defgammaf ] ) .",
    "[ l.d0=0]assume @xmath766 are stable ( perturbed ) pseudo - holomorphic maps with same topological data @xmath277 . if @xmath767 , then @xmath768",
    "if and only if @xmath29 and @xmath769 differ by a reparametrization .    one direction is clear because @xmath764 is reparametrization invariant .",
    "conversely , assume @xmath768 .",
    "then @xmath770 , @xmath771 and @xmath772 .",
    "by assumption , the graph @xmath765 is an embedded nodal curve in @xmath773 . because @xmath774 is already stable with @xmath767 and @xmath775 so we can assume , after precomposing @xmath29 by an isomorphism , that @xmath774 is obtained from @xmath776 by collapsing the unstable rational components @xmath777 of @xmath776 ; moreover , @xmath778 is canonically isomorphic to the fiber of the universal curve over @xmath779\\in \\ov\\m_{g , n}$ ] . since @xmath780 then the restrictions of @xmath29 and @xmath769 to the stable part @xmath774 of their domain must now be equal .",
    "the energies then satisfy @xmath781 where @xmath782 is the restriction of @xmath769 to @xmath783 . on the other hand , @xmath784 because @xmath29 and @xmath769 represent the same homology class . since @xmath769 is a stable map , @xmath785 since otherwise @xmath786 .",
    "we conclude that @xmath29 and @xmath769 have the same domain and @xmath787 .",
    "assume by contradiction that @xmath790 such that @xmath791 for all @xmath248 but @xmath29 is not a reparametrization of @xmath769 .",
    "we can then add a finite collection of marked points @xmath792 to the domain of @xmath29 to ensure that its domain is stable with trivial automorphism group .",
    "then @xmath793 , and so @xmath794 for some collection @xmath795 of marked points .",
    "but then by the previous lemma @xmath796 and @xmath797 must differ by a reparametrization , contradiction .",
    "after symmetrizing the metric by the actions of the finite groups @xmath17 and @xmath249 , we may assume that @xmath704 is invariant under the action of @xmath798 .",
    "it follows that all maps @xmath11 , @xmath21 , @xmath246 and @xmath259 above are continuous .",
    "[ a.gct ] every sequence @xmath799 of @xmath678-holomorphic maps with fixed arithmetic genus , uniformly bounded energy , and with @xmath800 in @xmath228 has a subsequence that converges in @xmath41 up to reparameterization to a @xmath0-holomorphic map @xmath186 .",
    "because @xmath41 convergence implies the convergence of the graphs @xmath801 , this immediately shows that @xmath802 is proper .",
    "the maps @xmath246 in ( [ 3.naturalmaps ] ) are also proper because their fibers are closed subsets of @xmath803 .",
    "furthermore , @xmath246 is perfect : it is continuous , surjective and , by an observation of palais @xcite , a proper continuous map to a metric space is closed",
    ". thus all parts of theorem  [ 3.toptheorem ] hold .",
    "rather surprisingly , convergence in the metric of theorem  [ 3.toptheorem ] implies convergence in the gromov topology with higher regularity . for a precise statement ,",
    "a brief diversion is necessary to clarify what convergence with higher regularity means in the present context .",
    "suppose @xmath804 satisfies @xmath805 .",
    "then , as in the proof of lemma [ a.dmetric ] we can add marked points to the domain of @xmath806 to obtain an @xmath807-marked stable curve @xmath808 with @xmath809 .",
    "the assumption that @xmath810 then means that one can choose @xmath248 marked points to make the domain of each @xmath811 an @xmath807 curve @xmath812 . by the semicontinuity properties used in the proof of lemma  [ jstableopenlemma ] , the @xmath812 are stable with @xmath813 for large @xmath319 .",
    "we can then regard the maps @xmath811 and @xmath806 as maps defined on fibers of the universal curve over an open neighborhood @xmath286 of @xmath814 $ ] in @xmath815 .",
    "now for each compact set @xmath352 in @xmath816 we can find a fiber - preserving biholomorphic map @xmath817 where @xmath818 is the portion of the universal curve over @xmath286 and outside a fixed open neighborhood of the nodal set @xmath819 .",
    "then @xmath820 is a sequence of maps with the same domain .",
    "elliptic regularity results now apply .",
    "in particular , if @xmath821 is a sequence of @xmath568-holomorphic maps from @xmath352 to @xmath2 with @xmath822 in @xmath41 and @xmath823 in @xmath225 for @xmath227 and @xmath824 , then @xmath822 in @xmath225 @xcite .",
    "this applies for all @xmath227 and all compact sets .    letting @xmath825 denote the space @xmath826 of smooth tame structures on @xmath2 ,",
    "we conclude that if @xmath827 in @xmath294 then @xmath822 in @xmath41 , in hausdorff distance and in @xmath294 on every compact set @xmath828 , which is the standard definition of gromov convergence used in the literature .",
    "thus we have :            a.   each irreducible component @xmath831 of @xmath88 is labelled by its genus , number of marked points , automorphism group , and the homology class @xmath832 $ ] .",
    "b.   the isomorphism type of @xmath833 and its induced action by reordering on the connected components and marked points of its resolution @xmath834 .    for the @xmath17-decorated relative moduli spaces",
    "@xmath835 , one also keeps track of the contact information to @xmath19 as well as the topological information about the twisted @xmath17-cover @xmath196 ( e.g. in the form of local or global monodromies ) .",
    "each graph type @xmath132 defines a closed stratum @xmath836 of the universal moduli space .",
    "fix @xmath171 and let @xmath837 denote the collection of all topological types that are represented by maps @xmath29 in the universal moduli space @xmath838 over @xmath839 with energy @xmath840 and with @xmath841 .",
    "gromov compactness implies @xmath842 is finite for any @xmath286 with compact closure in @xmath41 .",
    "it also implies the following fact :    [ l.top.not.jumps ] each @xmath213 has a @xmath41 neighborhood @xmath286 in which t_u , e= t_j , e in particular , every triple @xmath277 represented by a map in @xmath843 is already represented by one in @xmath844 .",
    "the inclusion @xmath845 is obvious .",
    "for the other inclusion , assume by contradiction that there is a @xmath41-convergent sequence @xmath846 and @xmath317-holomorphic stable maps @xmath847 below energy level @xmath171 whose topological type @xmath132 is not represented by a map in @xmath844 .",
    "then the inequality @xmath848 gives a uniform bound on the topological type of @xmath849 .",
    "we also have a uniform a priori bound on the energy of the maps @xmath850 as well as a uniform lower bound @xmath851 on the energy of each non constant @xmath317-holomorphic sphere .",
    "since @xmath850 is a stable map then this gives an uniform upper bound on the number of unstable rational component of @xmath852 .",
    "the only way we could have unstable genus 1 components of @xmath852 would be if @xmath852 were smooth genus 1 without any marked points .",
    "either way , this implies there are finitely many topological types possible for @xmath852 , and the same is true for the homology classes represented by each component of @xmath852",
    ". moreover , there can be only finitely many types of automorphisms groups of the curves @xmath852 .",
    "therefore after passing to a subsequence , we can assume that ( a ) @xmath852 have same topological type i.e. are homeomorphic with the same nodal riemann surface @xmath853 ; fix such a homeomorphism for each @xmath852 ( b ) @xmath852 have the same automorphism group , with the same action on @xmath853 ( c ) for each component of @xmath853 , the images under @xmath850 of the corresponding component of @xmath852 represent the same homology class in @xmath2 .",
    "assume for simplicity that @xmath853 is smooth ( otherwise we need to restrict on each connected component of the domain or more precisely on the union of connected components of the domain that are in the same orbit under the action of the automorphism group ) .",
    "the map @xmath850 are @xmath317-holomorphic , all representing the same fixed data @xmath277 independent of @xmath248 and whose domains have the same automorphism group .",
    "gromov compactness then implies that after reparametrization , a subsequence of @xmath850 has a @xmath0-holomorphic stable limit @xmath854 ; in particular @xmath808 is a possibly nodal genus @xmath15 surface with @xmath9 marked points with possibly larger automorphism group and its image represents @xmath37 in homology .",
    "but that contradicts the assumption that the closed status @xmath836 was empty for the initial @xmath0 .",
    "in section  8 we introduced a stabilizing divisor @xmath36 and replaced the normal crossing divisor @xmath19 with @xmath51 and replaced @xmath0 by a nearby @xmath312 that is compatible with the enlarged divisor @xmath51 .",
    "this subsection explains how to find such a @xmath312 .",
    "it begins at the level of linear algebra .",
    "fix a vector space @xmath855 of dimension @xmath856 with a hermitian structure @xmath857 .",
    "the grassmann manifold @xmath858 of codimension  @xmath859 subspaces of @xmath855 is compact and has a canonical riemannian metric on @xmath858 induced by the metric @xmath15 on @xmath855 .",
    "furthermore , the subset @xmath860 of the @xmath0-invariant subspaces is a submanifold .",
    "similarly , an ordered configuration @xmath862 of @xmath248 codimension 2 linear subspaces of @xmath855 is a point in the product @xmath863 and @xmath19 is @xmath533-holomorphic if it lies in the @xmath533-neighborhood of the submanifold [ a.grassmannproduct ] g^j_k(w )  =  gr^j_2gr^j_2  g_k(w ) of @xmath0-invariant configurations .",
    "it is also useful to consider the singular variety @xmath864 of configurations not in general position , and say that @xmath19 is _ @xmath865-general _ if @xmath866 .",
    "observe that , because @xmath867 is a submanifold , there are constants @xmath868 so that if @xmath19 is an @xmath533-holomorphic configuration with @xmath558 then there is a @xmath0-invariant configuration @xmath869 within distance @xmath870 of @xmath19 , and in fact @xmath19 is also @xmath559-symplectic .",
    "moreover , if @xmath19 is @xmath871-general and @xmath533 is sufficiently small ( depending on @xmath871 ) then the complex configuration @xmath869 is @xmath872-general .",
    "let @xmath862 be a configuration of @xmath248 codimension 2 subspaces of @xmath855 in general position and with common intersection @xmath873 .",
    "an _ adapted splitting _ of @xmath19 is @xmath874 together with a set of @xmath248 2-dimensional complementary subspaces @xmath875 such that [ v.split ] w= v_all_i n_i and for any @xmath876 , [ split.w ] _ ii v_i  =  ( _ iii v_i)_jin_j .    adapted splittings always exist .",
    "for example , one can choose an invertible linear transformation @xmath877 such that @xmath878 is the standard configuration @xmath879 of the first @xmath248 complex coordinate hyperplanes @xmath880 in @xmath881 and take @xmath875 to be the inverse image of the complex line in the @xmath882 direction ( these complex lines form the standard splitting @xmath883 of @xmath879 ) . an adapted splitting ( [ v.split ] )",
    "is called @xmath0-invariant if @xmath874 and each @xmath875 are @xmath0-invariant ; it follows that each @xmath586 and all intersections ( [ split.w ] ) are @xmath0-invariant .",
    "thus there is a dual perspective : given a general point @xmath884 in the grassmann @xmath885 we obtain a configuration @xmath886 where [ a.constructvi ] v_i  =  v_all n_j . again",
    "@xmath887 contains a submanifold @xmath888 of @xmath0-invariant subspaces and a variety @xmath889 of splittings not in general position , and we say @xmath890 is @xmath533-holomorphic if it lies in the @xmath533 neighborhood of @xmath888 and is @xmath865-general if it lies outside the @xmath865-neighborhood of @xmath889 .    [ etatrans - ephololemma ] fix a hermitian vector space @xmath891 and @xmath851 .",
    "then there exist constants @xmath892 and @xmath536 with the following property : for every @xmath871-general and @xmath533-holomorphic configuration @xmath893 with @xmath558 , there exists a @xmath19-adapted splitting @xmath894 that is @xmath895-general and @xmath896-holomorphic .",
    "whenever @xmath19 is @xmath871-general we can find a linear transformation @xmath897 that takes @xmath19 into the standard configuration @xmath879 with norms @xmath898 and @xmath899 bounded by a constant @xmath900 depending on @xmath871 but independent of @xmath19 . pulling back the standard splitting @xmath883 gives an adapted splitting @xmath901 for @xmath19 that is @xmath895-general for a constant @xmath895 independent of @xmath19 . if @xmath19 is @xmath0-invariant , we can find a complex linear transformation @xmath897 that pulls back @xmath883 to a @xmath0-invariant @xmath895-general splitting @xmath902 .",
    "finally , if @xmath19 is only @xmath533 @xmath0-holomorphic , for @xmath533 sufficiently small ( depending on @xmath871 ) homotoping @xmath19 to the nearby @xmath0-invariant @xmath869 gives a path @xmath903 of linear transformations of length @xmath870 and so a homotopy from the splitting @xmath902 to a @xmath0-invariant one @xmath904 of length @xmath905 .",
    "now consider a compact manifold @xmath906 with an almost khler structure @xmath857 and a topological normal crossing divisor @xmath886 , that is , assume that @xmath19 satisfies definition  1.3 of @xcite without the requirement that @xmath19 be @xmath0-holomorphic .",
    "in particular , the branches of @xmath19 are in general position and each intersection @xmath907 is a submanifold . also fix an adapted splitting @xmath902 ( this is called the `` normal bundle to @xmath19 '' in @xcite ) .",
    "the local model of @xmath2 near a point @xmath908 is then described via a local diffeomorphism sending the branches @xmath586 into the @xmath909 coordinate planes in @xmath881 as in @xcite , but without any compatibility conditions with @xmath531 .",
    "along each depth @xmath248 stratum @xmath910 where @xmath248 branches of @xmath19 meet , the restriction of the configuration @xmath902 to @xmath910 defines a smooth section of the grassmann bundle @xmath911 over @xmath910 that lies in the subbundle @xmath912 at each point @xmath908 where the configuration @xmath902 and therefore @xmath19 is @xmath0-holomorphic .",
    "in fact , using the local models , we can extend the splitting ( [ v.split ] ) over a neighborhood of @xmath910 ( by extending smoothly and then projecting ) , making the extension agree with the existing splitting on those strata @xmath913 whose closure contains @xmath910 .",
    "this gives sections @xmath914 defined on a neighborhood of @xmath910 for each @xmath915 , and these are compatible : if @xmath916 then @xmath917 lies in the closure of @xmath913 , and on the intersection of their tubular neighborhoods there is a forgetful map ( that forgets the branches @xmath586 for @xmath882 in @xmath918 ) [ a.gkcompatible ] g_|i|(tx ) g_|i|(tx ) which takes @xmath919 to @xmath920 .",
    "[ 0-jetlemma ] assume @xmath921 and @xmath851 is fixed .",
    "then there exist constants @xmath922 with the following property : for any @xmath558 and any topological normal crossing divisor @xmath923 in @xmath2 that is @xmath871-general and @xmath533-holomorphic there is an almost complex structure @xmath924 on @xmath2 with @xmath925 such that        for any @xmath19 which is @xmath533-holomorphic and @xmath871-general , we can deform each section @xmath914 to a section @xmath926 of the complex configurations space @xmath927 and , by further deformations , make the @xmath928 compatible under the inclusions @xmath929 corresponding to ( [ a.gkcompatible ] ) . because for @xmath533 small these deformations take place in a small tubular neighborhood of @xmath930 in @xmath931 ( away from the singular locus @xmath65 of non transverse configurations ) , the deformation is unique up to homotopy and @xmath932 for some uniform constant @xmath933 ( independent of @xmath533 and @xmath19 ) , using the canonical metric on @xmath931 induced by the metric @xmath15 on @xmath2 .    at each point @xmath100 in a neighborhood of @xmath19",
    ", the section @xmath84 corresponds to a @xmath0-complex configurations @xmath934 in @xmath935 that is close to @xmath902 in the sense that the @xmath15-orthogonal projection [ a.piphiproj ] _ :",
    "n_vn_satisfies @xmath936 . here",
    "@xmath937 is defined by taking @xmath938 and each @xmath875 , for @xmath939 onto the corresponding subspaces of @xmath934 , therefore is well defined on @xmath940 . in particular , @xmath937 is an isomorphism for small @xmath533 .",
    "define @xmath924 by @xmath941 then @xmath924 is an almost complex structure on a neighborhood of @xmath19 which preserves @xmath902 , and therefore preserves @xmath19 , and @xmath942 with @xmath933 independent of @xmath533 and @xmath19 .",
    "finally , we can also achieve statement ( b ) by successively modifying @xmath924 , beginning with the deepest stratum @xmath874 .",
    "the needed @xmath19-compatibility condition along a stratum @xmath910 requires that the nijenhuis tensor @xmath943 of @xmath924 at @xmath908 satisfy @xmath944 for every @xmath945 and every @xmath946 in the normal bundle to @xmath910 , which is @xmath947 .",
    "this can be achieved by applying the proof of theorem  a.2 of @xcite , parallel transporting in directions inside @xmath948 along @xmath910 and merging into the existing @xmath0 .",
    "this yields a new @xmath924 that is now @xmath19-compatible in a neighborhood of @xmath910 ( and preserves the fact that @xmath923 is @xmath924-holomorphic everywhere ) .",
    "one then repeats the process along the lower strata inductively to construct the required @xmath19-compatible @xmath924 .",
    "[ 0-jetlemma.d ] suppose that @xmath19 is a @xmath0-holomorphic normal crossing divisor in @xmath949 and fix @xmath577 .",
    "then there exists constants @xmath950 with the following property : for each donaldson divisor @xmath36 that is @xmath533-holomorphic for @xmath558 and @xmath580-transverse to @xmath19 ( in the sense of @xcite ) , @xmath51 is a symplectic normal crossing divisor for some @xmath312 with @xmath951 .    by compactness",
    ", @xmath19 is @xmath871-general for some @xmath851 .",
    "similarly , because @xmath36 is @xmath952-transverse to @xmath19 , @xmath51 is a topological normal crossing divisor that is @xmath871-general for some @xmath953 independent of @xmath36 .",
    "lemma [ etatrans - ephololemma ] applies pointwise to produce an adapted splitting @xmath954 for @xmath51 that is @xmath955-general and @xmath956-holomorphic with constants @xmath955 and @xmath957 independent of @xmath533 and @xmath36 .",
    "proposition [ 0-jetlemma ] then applies provided @xmath533 was sufficiently small ( less than an @xmath550 depending on @xmath580 ) , yielding a @xmath51 compatible almost complex structure @xmath958 with @xmath951 for a constant @xmath959 independent of @xmath533 and @xmath36 .      ,",
    "_ estimated transversality in symplectic geometry and projective maps , _ in `` symplectic geometry and mirror symmetry '' , proceedings of the 4th kias international conference , seoul ( 2000 ) , world scientific , singapore , 2001 , 1 - 30 .",
    "k. fukaya , y .- g .",
    "oh , h. ohta and k. ono , _ lagrangian intersection floer theory : anomaly and obstruction _ ams / ip studies in advanced mathematics 46 , ams , providence , ri ; international press , somerville , ma , 2009 .",
    "j. li and g. tian , _ virtual moduli cycles and gromov - witten invariants of general symplectic manifolds _ , topics in symplectic 4-manifolds ( irvine , ca , 1996 ) , 47 - 83 , first int",
    ". press lect .",
    ", i , internat . press , cambridge , ma , 1998 .",
    "j. milnor , _ on the steenrod homology theory _ , novikov conjectures , index theorems and rigidity , vol .",
    "1 ( oberwolfach , 1993 ) , 79 - 96 , london math .",
    "lecture note ser . ,",
    "* 226 * , cambridge univ . press , cambridge , 1995 ."
  ],
  "abstract_text": [
    "<S> we prove that the gromov - witten moduli space of a compact symplectic manifold carries a unique virtual fundamental class that satisfies certain naturality conditions . </S>",
    "<S> the theorem also applies to moduli spaces of relative @xmath0-holomorphic maps . </S>",
    "<S> the virtual fundamental class is constructed using only gromov - type perturbations by introducing stabilizing divisors and systematically applying the naturality conditions .    </S>",
    "<S> .2 in </S>"
  ]
}