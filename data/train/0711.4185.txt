{
  "article_text": [
    "in proving the fermionic formula , the combinatorial bijection called the kirillov  schilling  shimozono ( kss ) bijection @xcite plays the central role .",
    "the kss bijection is a natural generalization of the original bijection of kerov  kirillov ",
    "reshetikhin @xcite , and gives elaborated combinatorial one to one correspondences between the set of rigged configurations and elements of tensor products of the kirillov  reshetikhin crystals @xmath2 which we call _ paths _ : @xmath3 here , we are focusing on the @xmath4 case , and the kirillov  reshetikhin crystals are crystals for irreducible finite dimensional modules over quantum affine algebras @xcite indexed by dynkin node @xmath5 and @xmath6 . under the kss bijection ,",
    "the statistics called cocharge is preserved and hence it gives proof of the so called @xmath7 identity .",
    "here @xmath8 is called fermionic formula , and @xmath9 is the generating function of energy functions over paths . in the case we are considering , @xmath9 contains the kostka polynomial @xcite as special case .",
    "reviews by okado @xcite and schilling @xcite give excellent introduction to the subject .",
    "the reader can find an alternative approach for the problem in section 8 of the paper @xcite .",
    "recently , a remarkable new feature of the kss bijection was discovered . in the paper @xcite ,",
    "the kss bijection is identified as the inverse scattering formalism for the celebrated example of ultradiscrete integrable systems called the box - ball systems @xcite , and as an outcome of the result , algebraic alternative procedure for the calculation of the map @xmath10 from the rigged configurations to the paths of the form @xmath11 is discovered @xcite .",
    "the latter formalism is used to derive explicit piecewise linear formula for @xmath10 in this case as well as general solutions for the box - ball systems @xcite .",
    "these formulas are written in terms of the ultradiscrete limit of the tau functions . here , the tau functions are common apparatus in algebraic structure theory of solitons ( see , e.g. , @xcite for textbook treatments ) and they satisfy the hirota bilinear form .",
    "interestingly , although these tau functions come from the kp hierarchy @xcite , its expression contains the cocharge that appear in the fermionic formula .",
    "this reveals unexpected link between the @xmath7 identities and the soliton theory .",
    "it is also interesting to note that if we restrict these tau functions to the paths with periodicity ( the periodic box - ball systems @xcite ) , we obtain ultradiscrete limit of the classical riemann theta functions @xcite .",
    "so it is natural to ask what the representation theoretical origin of the kss bijection is . as seen previously , for the case @xmath10 the problem is settled in @xcite if the paths are elements of @xmath11 , and the result has already brought many insights . in this paper , we consider the case @xmath12 in full generality , i.e. , we consider all elements of @xmath13 . as the result ,",
    "the kss map @xmath12 is reformulated by algebraic language such as combinatorial @xmath0 and energy function of the crystal bases .",
    "in particular , it seems that the result of @xcite do not admit straightforward generalizations , therefore our result gives alternative approach to the problem beyond the theory given in @xcite .",
    "let us explain our result in more details .",
    "consider an element @xmath14 .",
    "assume that @xmath15 is an element of an affine crystal .",
    "then we consider the following isomorphism ( see the end of section 2.1 for notations ) @xmath16\\otimes b_1[0]\\otimes\\cdots\\otimes b_l[0 ] \\simeq b_1'[-e_1]\\otimes\\cdots\\otimes b_l'[-e_l]\\otimes u_l^\\ast [ e_l]\\ ] ] under the isomorphism of affine combinatorial @xmath0 . here",
    "@xmath17 is the highest element and @xmath18 .",
    "we remark that this isomorphism is nothing but time evolution of the box - ball systems @xcite . then our main result ( theorem [ th : main ] )",
    "states that by taking differences of these @xmath19 or @xmath20 s , we can derive alternative algorithm of the map @xmath12 .",
    "this is a generalization of the procedure given in @xcite where the case @xmath21 is treated .",
    "the key to derive such a result is formula connecting @xmath19 in the above and shapes of young diagrams of the rigged configuration ( proposition [ prop : e = q ] ) .",
    "note that by virtue of the yang ",
    "baxter relation , we have @xmath22 if @xmath15 and @xmath23 are isomorphic under the classical part of the combinatorial @xmath0 . therefore our scheme naturally explains why young diagrams of rigged configuration do not change for two isomorphic paths @xmath24 .",
    "this is a part of result @xcite ( see theorem [ th : kss ] ) , which gives foundation for the inverse scattering formalism in @xcite . from more technical point of view , the original combinatorial description of the map @xmath12 uses combinatorial notions such as the singular strings .",
    "however , in our scheme , these combinatorial procedures are precisely rephrased in computation of the energy function eq.([def : epsilon ] ) .",
    "therefore we can say that our scheme simplifies the rather mysterious concept of the kss map @xmath12 .",
    "since our scheme is purely algebraic , it will be a very interesting future problem to give an algebraic alternative reformulation of the theory given in @xcite .",
    "the organization of this paper is as follows . in section 2 ,",
    "we recall basic facts about the kirillov  reshetikhin crystals , especially explicit description of the combinatorial @xmath0 and energy function following shimozono @xcite . in section 3 , we give our main result ( theorem [ th : main ] ) . in section 4",
    ", we give a formula which translates the kss bijection into the energy function . in section 5 ,",
    "we prove theorem [ th : main ] . in appendix",
    ", we collect necessary facts from the kss bijection including its definition .",
    "let @xmath25 be a @xmath26 kirillov  reshetikhin module , where we shall consider the case @xmath27 .",
    "the module @xmath25 is indexed by a dynkin node @xmath5 and @xmath6 . as a @xmath28-module , @xmath25 is isomorphic to the irreducible module corresponding to the partition @xmath29 . for arbitrary",
    "@xmath30 and @xmath31 , the module @xmath25 is known to have a crystal base @xcite , which we denote by @xmath2 . as a set , @xmath2 contains all the column strict semi - standard young tableaux of depth @xmath30 and width @xmath31 over the alphabet @xmath32 .",
    "actions of the kashiwara operators @xmath33 , @xmath34 for @xmath35 coincide with the one described in @xcite , and actions of @xmath36 , @xmath37 are determined by using the promotion operator @xcite . since we do not use explicit forms of these operators , we omit the details .",
    "see @xcite for complements of this section .    for two crystals @xmath38 and @xmath39 , one can define the tensor product @xmath40 . on the tensor product ,",
    "actions of the kashiwara operators have simple form .",
    "namely , the operators @xmath41 act on @xmath42 by @xmath43 here we set @xmath44 and @xmath45 .",
    "we assume that @xmath46 and @xmath47 as @xmath48 .",
    "then it is known that there is a unique crystal isomorphism @xmath49 .",
    "we call this map ( classical ) combinatorial @xmath0 and usually write the map @xmath0 simply by @xmath50 .",
    "let us consider the affinization of the crystal @xmath38 .",
    "as the set , it is @xmath51\\ , |\\ , b\\in b,\\ , d\\in\\mathbb{z}\\}.\\ ] ] for the tensor product @xmath52\\otimes b'[d']\\in \\mathrm{aff}(b)\\otimes\\mathrm{aff}(b')$ ] , we can lift the ( classical ) combinatorial @xmath0 to affine case as follows : @xmath53\\otimes b'[d']\\stackrel{r}{\\simeq } \\tilde{b}'[d'-h(b\\otimes b')]\\otimes \\tilde{b}[d+h(b\\otimes b')],\\ ] ] where @xmath54 is the isomorphism of ( classical ) combinatorial @xmath0 .",
    "the function @xmath55 is called the energy function",
    ". we will give explicit forms of the combinatorial @xmath0 and energy function in the subsequent sections . before closing this subsection , we note the following important property .",
    "[ prop : ybeq ] the following yang ",
    "baxter equation holds on @xmath56 : @xmath57      in order to give the explicit form of the combinatorial @xmath0 and energy function , we recall the schensted bumping algorithm @xcite . consider the semi - standard young tableau @xmath58 and positive integer @xmath59",
    ". then the insertion @xmath60 is obtained by the following steps :    1 .",
    "insert @xmath59 in the first row of @xmath58 either by displacing the leftmost smallest number which is strictly larger than @xmath59 , or if no number is larger than @xmath59 , by adding @xmath59 on the right of the first row .",
    "2 .   if @xmath59 displaced a number from the first row , then insert this number in the second row either by displacing the leftmost smallest number which is strictly larger than it or by adding it on the right of the second row .",
    "3 .   repeat this process row by row until some number is added on the right of a row . here , we assume that there is an empty row on the bottom of @xmath58 .",
    "we give an example of this procedure : @xmath61 here , the numbers with asterisks are the displaced ones .",
    "we denote the successive applications of the row insertions by @xmath62 and so on .",
    "we can easily infer the inverse of the bumping procedure @xmath60 .",
    "namely , starting from the node @xmath63 , we do inverse of row insertions until @xmath59 is ejected from @xmath58 .",
    "elementary steps in the inverse procedure are as follows : start from integer @xmath64 and insert it to row @xmath65 just above @xmath64 .",
    "denote by @xmath66 the rightmost integer of @xmath65 that is strictly smaller than @xmath64 , then new row @xmath67 is the row which is obtained by displacing @xmath66 by @xmath64 .",
    "insert @xmath66 to the upper row and repeat until the top row .",
    "we give the explicit description of the combinatorial @xmath0 and the energy function on @xmath68 .",
    "we begin with a few terminologies on young tableaux .",
    "denote rows of a young tableau @xmath58 by @xmath69 from top to bottom .",
    "then row word @xmath70 is defined by concatenating rows as @xmath71 .",
    "let @xmath72 and @xmath73 be two partitions",
    ". then concatenation of @xmath59 and @xmath64 is the partition @xmath74 .",
    "[ prop : shimozono ] @xmath75 is mapped to @xmath76 under the combinatorial @xmath0 , i.e. , @xmath77 if and only if @xmath78 moreover , the energy function @xmath55 is given by the number of nodes of @xmath79 outside the concatenation of partitions @xmath29 and @xmath80 .    in order to describe the algorithm for finding @xmath81 and @xmath82 from the data @xmath79",
    ", we introduce a terminology .",
    "let @xmath58 be a tableau , and @xmath83 be a subset of @xmath58 such that @xmath83 is also a tableau .",
    "consider the set theoretic subtraction @xmath84 . if the number of nodes contained in @xmath85 is @xmath30 , and if the number of nodes of @xmath85 contained in each row is always 0 or 1 , then @xmath85 is called vertical @xmath30-strip .    given a tableau @xmath86 , let @xmath83 be the upper left part of @xmath58 whose shape is @xmath29 .",
    "we assign numbers from 1 to @xmath87 for each node contained in @xmath84 by the following procedure .",
    "let @xmath88 be the vertical @xmath89-strip of @xmath85 as upper as possible .",
    "for each node in @xmath88 , we assign numbers 1 through @xmath89 from bottom to top .",
    "next we consider @xmath90 , and find the vertical @xmath89 strip @xmath91 by the same way .",
    "continue this procedure until all nodes of @xmath85 are assigned numbers up to @xmath87 .",
    "then we apply inverse bumping procedure according to the labeling of nodes in @xmath85 .",
    "denote by @xmath92 the integer which is ejected when we apply inverse bumping procedure starting from the node with label 1 .",
    "denote by @xmath93 the tableau such that @xmath94 .",
    "next we apply inverse bumping procedure starting from the node of @xmath93 labeled by 2 , and obtain the integer @xmath95 and tableau @xmath96 .",
    "we do this procedure until we obtain @xmath97 and @xmath98 . finally , we have @xmath99    consider the following tensor product : @xmath100 from @xmath15 , we have @xmath101 , hence we have @xmath102 here subscripts of each node indicate the order of inverse bumping procedure .",
    "for example , we start from the node @xmath103 and obtain @xmath104 next we start from the node @xmath105 of @xmath93 . continuing in this way",
    ", we obtain @xmath106 and @xmath107 . since @xmath108 , we obtain @xmath109 note that the energy function is derived from the concatenation of shapes of @xmath15 and @xmath110 , i.e. , @xmath111 .",
    "in this section , we present a procedure to obtain the image of the kirillov  schilling  shimozono ( kss ) bijection by using the energy function and combinatorial @xmath0 .",
    "necessary facts about the kss bijection are summarized in appendix .",
    "let us consider the element @xmath112 , which we call path .",
    "considering @xmath113 as tableau , we denote each column of it by @xmath114 .",
    "then we define the subsets of the tableau @xmath115 .",
    "we express the isomorphism of the combinatorial @xmath0 @xmath116 by the following vertex diagram :    ( 4,4 ) ( 0,2.0)(1,0)3.2 ( 1.6,1.0)(0,1)2 ( -0.6,1.8)@xmath117 ( 1.4,0)@xmath110 ( 1.4,3.2)@xmath15 ( 3.4,1.8)@xmath118 ( 4.1,1.7 ) .",
    "successive applications of the combinatorial @xmath0 are depicted by concatenating these vertices .",
    "let @xmath119 be the highest weight element and define @xmath120 by the following diagram .",
    "@xmath121 we call @xmath120 _ carrier _ following terminology used in the box - ball systems . here",
    "the highest weight element @xmath122 is the tableau whose @xmath123-th row is occupied by integers @xmath123 .",
    "for example , @xmath124 . in the above diagram",
    ", let us write @xmath125 .",
    "then we define operator @xmath126 by @xmath127 , which is called _ time evolution operator of the box - ball systems . _    associated with each vertex in ( [ def : t_l ] ) , we define @xmath128 we set @xmath129 , @xmath130 and @xmath131 .",
    "[ def : led ] local energy distribution ( or energy spectrum ) is the collection of tables such that the @xmath132-th row and the @xmath133-th column of the @xmath117-th table @xmath134 for @xmath135 is given by @xmath136 here we assume that the numbering of the columns @xmath133 is according to the lexicographic ordering , i.e. , @xmath137 if @xmath138 and @xmath139 if @xmath140 .    [ rem : meaning ] the meaning of column coordinates @xmath133 in the above definition is that @xmath141 specify the corresponding tensor factor @xmath113 and @xmath142 specify each column of tableau @xmath113 .",
    "we will explain this in more detail by the following diagram .",
    "( 29,13.5 ) ( 0,8)(3,0)2(0,1)2 ( 0,8)(0,2)2(1,0)3 ( 1.2,8.7)@xmath143 ( 3.5,8.8)@xmath144 ( 4.8,8)(3,0)2(0,1)2 ( 4.8,8)(0,2)2(1,0)3 ( 6.0,8.7)@xmath145 ( 8.3,8.8)@xmath146 ( 11.7,7)(10,0)2(0,1)4 ( 11.7,7)(0,4)2(1,0)10 ( 16.3,11.7)@xmath147 ( 16.3,13)@xmath113 ( 12,8.8)@xmath148 ( 13.3,7)(0,1)4 ( 13.7,8.7)(0.5,0)9@xmath149 ( 18.3,7)(1.7,0)2(0,1)4 ( 20.5,8.7)@xmath150 ( 18.8,8.7)@xmath151 ( 22.3,8.8)@xmath146 ( 25.5,8)(3,0)2(0,1)2 ( 25.5,8)(0,2)2(1,0)3 ( 26.6,8.7)@xmath152 ( 0,0)(29,0)2(0,1)4 ( 0,0)(0,4)2(1,0)29 ( 20.85,6.9)(-3,-1)8.2 ( 19.5,6.9)(-2,-1)5.5 ( 12.8,6.9)(3,-1)8.2 ( 14.6,6.3)(0.5,0)8@xmath149 ( 15.3,4.3)(0.5,0)8@xmath149 ( 3.9,0)(0,1)4 ( 3.9,4.2)(0,0.4)10(0,1)0.2 ( 8.4,0)(0,1)4 ( 8.4,4.2)(0,0.4)10(0,1)0.2 ( 10.8,0)(0,1)4 ( 10.8,4.2)(0,0.4)10(0,1)0.2 ( 11.1,1.7)@xmath153 ( 13.3,0)(0,1)4 ( 13.5,1.7)@xmath154 ( 15.6,0)(0,1)4 ( 20.0,0)(0,1)4 ( 20.2,1.7)@xmath155 ( 22.7,0)(0,1)4 ( 22.7,4.2)(0,0.4)10(0,1)0.2 ( 25.0,0)(0,1)4 ( 25.0,4.2)(0,0.4)10(0,1)0.2 ( 15.9,1.8)(0.5,0)8@xmath149    in the above diagram , the first line shows the path @xmath156 and the second line shows the corresponding table for local energy distribution .",
    "columns of the local energy distributions are labeled by @xmath157 , @xmath158 , @xmath159 , @xmath158 , @xmath160 , @xmath158 , @xmath161 from left to right . in other words ,",
    "the local energy distribution is divided into @xmath162 regions corresponding to @xmath143 , @xmath145 , @xmath158 , @xmath152 from left to right .",
    "now let us look at @xmath113 in more details . recall that we named columns of tableau @xmath113 by @xmath114 , and defined @xmath115 . as we see in eq.([def : epsilon ] ) , @xmath163 is defined by taking difference between @xmath142 and @xmath164 . in other words ,",
    "we consider difference between two tableaux @xmath165 and @xmath166 . in this",
    "meaning , @xmath133-th column corresponds to the column @xmath167 . note that @xmath167 is the @xmath142-th column of @xmath113 from right , on the other hand",
    ", @xmath133 is the @xmath142-th column of the local energy distribution ( to be more specific , sub - region of it corresponding to @xmath113 ) from left . in this sense ,",
    "left and right are reversed within the region of the local energy distribution corresponding to @xmath113 .    given @xmath15 , consider the following procedure from step 1 to 5 .    1 .",
    "draw the local energy distribution for @xmath15 .",
    "we do the following steps independently with respect to the @xmath117-th table ( @xmath168 ) .",
    "2 .   starting from the rightmost strictly positive integer of the top row , choose strictly positive integers successively as follows .",
    "assume that we have already chosen the one in the @xmath132-th row , @xmath142-th column .",
    "take the set of all strictly positive integers of the @xmath169-th row that are located between the @xmath142-th column and the right end of the table . + as an explanation , we give a schematic diagram . in the following diagram ,",
    "rectangular frame represent the local energy distribution and we denote the chosen letter at @xmath123-th row by @xmath20 .",
    "especially , the letter @xmath170 is at @xmath132-th row , @xmath142-th column .",
    "all other letters are suppressed for simplicity .",
    "then we consider the set of all strictly positive integers contained in the gray strip at @xmath169-th row .",
    "+ ( 20,10.5 ) ( 0,0)(0,10)2(1,0)20 ( 0,0)(20,0)2(0,1)10 ( 3,9)@xmath171 ( 4,8)@xmath172 ( 5,7)(0.5,-0.5)7@xmath149 ( 8.6,3.4)@xmath170 ( 8.4,1.9 ) +    ' '' '' + ( 8.8,4)(0,0.4)16(0,1)0.2 ( 8.6,10.4)@xmath142 ( -0.2,3.6)(0.4,0)22(1,0)0.2 ( -2,3.4)@xmath132 ( -0.2,2.4)(0.4,0)22(1,0)0.2 ( -2,2.2)@xmath173 + if the set is empty , then stop . otherwise choose the rightmost element of the set and continue until stop .",
    "this procedure enables us to make the rightmost possible successive group consisting of strictly positive integers .",
    "for example , in the above diagram , letters on the right of @xmath20 of the @xmath123-th row are all 0 .",
    "write the position of the lastly picked integer as @xmath174-th row , @xmath175-th column .",
    "continue the previous grouping procedure from right to left . to be more precise , after making a group , we subtract @xmath176 from all letters in the group and get new table",
    ". then we apply step 2 to this new table again to get the next group .",
    "we continue this grouping procedure until all elements of the @xmath117-th table become @xmath48 . from lower endpoints of thus obtained groups ,",
    "we obtain the following sequence : @xmath177 4 .",
    "calculate integers @xmath178 , @xmath179 , @xmath158 , @xmath180 as follows :",
    "@xmath181 in other words , summation of @xmath182 runs over all entries of upper left rectangular region of the local energy distribution whose lower right corner is @xmath183-th row , @xmath184-th column .",
    "5 .   from the shape of @xmath15",
    ", we extract the data @xmath185 as follows .",
    "we set @xmath186 as the initial condition .",
    "then , proceeding from the left end of @xmath15 to right , we add @xmath187 to @xmath188 if there is a factor of shape @xmath189 .",
    "finally , we obtain the following data : @xmath190    the following is the main result of this paper .",
    "[ th : main ] given the path @xmath112 , we obtain integers @xmath187 , @xmath191 according to the above procedure from step 1 to 5 . then the result coincides with the image of the kss bijection @xmath12 : @xmath192    \\(a ) if we start from non - highest weight element @xmath15 , the above theorem is true if we replace the  rigged configuration \" by the  unrestricted rigged configuration \" ( see the latter part of section [ app : facts ] for explanation ) .",
    "( b ) in the local energy distribution , the entries are given by 0 or strictly positive integers ( as we will see at the beginning of the proof ) , and the number of non - zero entries is finite , which will be evaluated in proposition [ prop : e = q ] .",
    "[ rem : ist ] it is known that the time evolution operator @xmath126 can be linearized by the kss bijection @xcite .",
    "when @xmath193 is given by @xmath194 then @xmath195 is given by @xmath196 in this sense , the groups obtained in theorem [ th : main ] represent solitons contained in a path .",
    "the proof of this property uses theorem [ th : kss ] .",
    "for the tensor products of the form @xmath11 , these solitons actually identified with those arise in the kp hierarchy @xcite .",
    "[ ex : led ] let us consider the following path : @xmath197 note that we give calculation according to the original combinatorial procedure in example [ ex : kss ] .",
    "if we compare example [ ex : kss ] with the data given in the following , the reader will find that if we remove a box from @xmath132-th column of @xmath198 then there is 1 at @xmath132-th row of the corresponding column of @xmath117-th table of the local energy distribution ( see remark [ rem : meaning ] for the correspondence of columns of the path and the local energy distribution ) .    now",
    "the local energy distribution ( definition [ def : led ] ) for @xmath15 takes the following forms .",
    "@xmath199 + @xmath200 + @xmath201 + @xmath202 we classify the strictly positive integers contained in the above tables as follows : @xmath203 + @xmath204 + @xmath205 + @xmath206 here , according to the grouping procedure in steps 2 and 3 in theorem [ th : main ] , labellings of each group are given from right to left , and letters with asterisks show lower end points of each group .    in the @xmath207-st table ,",
    "we recognize one group of cardinality 3 ( labeled by 1 ) whose end point is at 3-rd row , @xmath208-th column . according to eq.([eq : rigging2 ] ) , we have @xmath209 where the first term in the middle shows the contribution from ( 1111 ) ( i.e. , @xmath210 ) . according to eq.([eq : rigging3 ] ) , we have ( the contribution from @xmath211 @xmath212 hence we have @xmath213 . here , the parentheses @xmath214 represent tensor factors from the left one to right , and the integers inside represent @xmath215 where @xmath216 is the cardinality of the corresponding group . recall that @xmath215 is sum of integers within the first @xmath216 rows of @xmath133-th column of the local energy distribution .    in the @xmath217-nd table , we recognize two groups of cardinalities 3 and 1 ( labeled by 1 and 2 , respectively ) .",
    "let us start from the right group whose end point is at 3-rd row , @xmath208-th column .",
    "then we have @xmath218 hence we have the rigging @xmath219 .",
    "the left group has end point at 1-st row , @xmath220-st column , and we have @xmath221 hence we have the rigging @xmath219 .    in the @xmath222-rd table , we recognize two groups of cardinalities 2 and 1 ( labeled by 1 and 2 , respectively ) .",
    "let us start from the right group whose end point is at 2-nd row , @xmath223-th column .",
    "then we have @xmath224 hence we have the rigging @xmath219 .",
    "next , we consider the left group whose end point is at 1-st row , @xmath220-th column .",
    "then we have @xmath225 hence we have the rigging @xmath219 .    finally , in the @xmath226-th table , we recognize one group whose end point is 1-st row , @xmath223-th column .",
    "then we have @xmath227 hence we have the rigging @xmath219 .    as the result",
    ", we obtain the following rigged configuration :    ( 26,6 ) ( 1,4 ) ( ) ( 2.5,5.5)@xmath228 ( 7,1 ) ( ) ( 10.2,1.1)1 ( 8,2.5)@xmath229 ( 7,4 ) ( ) ( 8.5,5.5)@xmath230 ( 13,0 ) ( , ) ( 14.2,0.1)0 ( 16.2,1.1)0 ( 14,2.5)@xmath231 ( 13,4 ) ( ) ( 13.5,5.5)@xmath232 ( 19,0 ) ( , ) ( 20.2,0.1)0 ( 21.2,1.1)0 ( 19.5,2.5)@xmath233 ( 24,1 ) ( ) ( 25.2,1.1)0 ( 24,2.5)@xmath234    here we put the riggings on the right of the corresponding rows .    when the path is not a highest weight element , we can use the same procedure . consider the following path : @xmath235    then its local energy distribution takes the following forms . @xmath236 +",
    "@xmath237 + @xmath238 we classify the strictly positive integers into groups in the following way : @xmath239 + @xmath240 + @xmath241 from these data , we obtain the following unrestricted rigged configuration :    ( 22,10 ) ( 0,8 ) ( ) ( 0.5,9.5)@xmath228 ( 4,1 ) ( , , ) ( 6.2,1.2)@xmath242 ( 6.2,2.2)@xmath242 ( 8.2,3.2)@xmath242 ( 5.5,4.5)@xmath229 ( 4,6 ) ( , , ) ( 6,9.5)@xmath230 ( 11,0 ) ( , , , ) ( 13.3,0.2)@xmath48 ( 13.3,1.2)@xmath48 ( 15.3,2.2)@xmath48 ( 15.3,3.2)@xmath48 ( 12.5,4.5)@xmath231 ( 11,7 ) ( , ) ( 12.5,9.5)@xmath232 ( 18,2 ) ( , ) ( 20.3,2.2)@xmath243 ( 21.3,3.2)@xmath244 ( 19,4.5)@xmath233",
    "consider a path @xmath112 .",
    "the goal of this section is to show the following property .",
    "[ prop : e = q ] we have @xmath245 where we write @xmath246 , and @xmath247 is defined in eq.([def : q ] ) .",
    "the meaning of the above quantity @xmath248 is as follows .",
    "let us assume that @xmath15 is an element of a tensor product of affine crystals . then from eq.([eq : affiner ] ) , we have @xmath249\\otimes b\\simeq t_l^{(a)}(b)\\otimes",
    "u^\\ast [ e_l^{(a)}].\\ ] ]    @xmath248 is a generalization of conserved quantities of the box - ball systems introduced by fukuda ",
    " yamada @xcite .",
    "their result stems from the yang ",
    "baxter relation ( proposition [ prop : ybeq ] ) .",
    "we begin with basic lemmas about the energy function .",
    "the following is the immediate consequence of the definition in proposition [ prop : shimozono ] .",
    "[ lem_vacuum*vacuum ] consider the highest elements @xmath250 and @xmath251 for arbitrary @xmath252 .",
    "then we have @xmath253    furthermore , we have the following property .    [",
    "lem : energy_conservation ] for any path @xmath15 and any @xmath254 , @xmath255 we have @xmath256    * proof . * from lemma [ lem_vacuum*vacuum ]",
    ", we have the equality between the first and the third quantities .",
    "therefore it is enough to show @xmath257 for arbitrary @xmath258 .",
    "denote the rows of @xmath259 as @xmath260 from top to bottom . since @xmath259 is semi - standard , the letters of @xmath261 are greater than or equal to @xmath123 .",
    "consider the insertion @xmath262 . since letters of @xmath263 are greater than or equal to 1 , and since @xmath264 is a non - decreasing integer sequence , we have @xmath265 assuming that @xmath266 , we insert the row @xmath267 into this @xmath262 .",
    "since @xmath259 is semi - standard , we have @xmath268 .",
    "therefore , if we insert @xmath269 , @xmath270 is bumped down and come to the next to the row @xmath271 .",
    "insertion of @xmath272 is quite similar , i.e. , @xmath273 is bumped down and come to the next to the row @xmath274 . continuing in this way , we can show that the resulting tableau takes the following shape . if @xmath275 , we have @xmath276 and if @xmath277 , we have @xmath278 in both cases , the shape of @xmath279 coincides with the concatenation of shapes of @xmath280 and @xmath259 . by proposition",
    "[ prop : shimozono ] the corresponding energy is 0 .    ' '' ''    [ lem : red_of_combr ] consider the following four elements : @xmath281 where @xmath282 and @xmath283 .",
    "the upper rows of @xmath284 @xmath285resp . @xmath286 coincide with the highest elements @xmath287 @xmath285resp .",
    "the bottom rows satisfy @xmath289 .",
    "the relationship between @xmath290 is given by @xmath291 under the isomorphism @xmath292 .",
    "\\(1 ) if @xmath293 , we have @xmath294    \\(2 ) we have @xmath295 in other words , the combinatorial @xmath0 and energy function for @xmath296 essentially coincide with the @xmath21 type ones if we replace @xmath297 and @xmath298 of @xmath299 with @xmath176 and @xmath300 , respectively .",
    "* proof . *",
    "( 1 ) we use the similar argument given in lemma [ lem : energy_conservation ] . in order to show the isomorphism of the combinatorial @xmath0 , one can directly compute @xmath301 and @xmath302 and show that resulting two tableaux coincide .",
    "\\(2 ) during the computation of @xmath303 , we arrive at the following intermediate diagram : @xmath304 as the final step of @xmath303 , we insert the row @xmath305 into this diagram .",
    "if we insert 1 , we see that @xmath143 is bumped , and we have to calculate the insertion of @xmath143 into the bottom row @xmath306 . continuing in this way",
    ", we see that the calculation essentially coincides with that for @xmath307 , hence we finish the proof .    ' '' ''      we reduce the proof of proposition [ prop : e = q ] to the @xmath21 case by invoking analogous trick described in section 2.7 of @xcite .",
    "these kinds of arguments are reformulation of color separation scheme of the box - ball systems @xcite from point of view of the kss bijection . given a path @xmath112 ,",
    "let the corresponding rigged configuration be @xmath308 we consider the following modification of this rc : @xmath309 we take @xmath310 ( @xmath311 is arbitrary ) , and integers @xmath312 are chosen sufficiently large according to the procedure described in the following .",
    "we apply @xmath10 on this rc@xmath313 in the following two different ways .",
    "first , we remove @xmath314 , @xmath158 , @xmath315 from the quantum space , and then remove the rest of the quantum space @xmath316 by the same way to obtain @xmath15 from rc .",
    "this is possible since the change of the vacancy number induced by the extra @xmath317 is canceled by the shift of riggings .",
    "finally , we are left with the rigged configuration @xmath318 and the calculation of @xmath10 on it becomes trivial .",
    "therefore , the resulting path @xmath81 takes the following form : @xmath319    next , we remove whole @xmath320 before removing other part of the quantum space .",
    "the integers @xmath312 are taken to be large enough such that no rows of @xmath321 ( @xmath322 ) become singular until entire removal of @xmath323 .",
    "the necessity of the addition @xmath324 is clarified from the following observation .",
    "let us compare the actual situation on @xmath325 with the following @xmath326 rigged configuration @xmath327 then the vacancy numbers for @xmath325 are increased by the presence of @xmath328 , and therefore their increment from eq.([eq : a11reduction ] ) are at most @xmath329 . recall that in @xmath325 , the riggings for @xmath330 are increased by @xmath331 , and also that we took @xmath332 .",
    "thus , for each row @xmath333 of @xmath325 , the value of the corigging ( see the end of the first paragraph of section [ subsec : kss ] ) is smaller than that for the corresponding row of eq.([eq : a11reduction ] ) .",
    "note that the coriggings are always non - negative , and if it is zero , then the row is singular and can be removed by @xmath10 . in other words ,",
    "smaller coriggings means much easier to be removed . since all boxes of @xmath334 of eq.([eq : a11reduction ] )",
    "are removed with @xmath335 , we deduce that whole of @xmath336 of @xmath325 is removed with @xmath335 . as the result , we obtain the path which we denote by @xmath337 , and the rest of the rigged configuration takes the following form : @xmath338 since @xmath198 ( @xmath339 ) do not become singular during this procedure , each tensor factor of @xmath337 have special property : as a tableau , the upper @xmath340 rows are equal to the highest element , and the bottom row consists of letters @xmath341 and @xmath342 . in this sense , @xmath337 is obtained by the @xmath326 like kss bijection .",
    "next , we remove whole @xmath343 in a similar manner .",
    "we denote the resulting path @xmath344 .",
    "we repeat the procedure until whole rc@xmath313 is removed .",
    "then , in general , tensor factors of @xmath345 have the following form : @xmath346 where the bottom row consisting of @xmath347 .",
    "finally , we obtain the path @xmath348 since the difference between these two ways of removal is order of removing rows of the quantum space , these two paths are isomorphic @xmath349 due to theorem [ th : kss ] .",
    "* proof of proposition [ prop : e = q ] . * from lemma [ lem : energy_conservation ]",
    ", we have @xmath350 .",
    "since we have isomorphism @xmath351 , we have @xmath352 thanks to the yang  baxter relation ( proposition [ prop : ybeq ] ) . to see this , for",
    "the isomorphism @xmath353 with @xmath354 , let us assign the diagram    ( 5,5)(0,-0.5 ) ( 0,0)(1,1)4 ( 4,0)(-1,1)4 ( 1.8,2.4)@xmath355 ( -0.3,4.3)@xmath59 ( 3.8,4.3)@xmath64 ( -0.3,-0.8)@xmath356 ( 3.7,-0.8)@xmath357    then for tensor product @xmath358 , the yang  baxter relation takes the following expression :    ( 20,8 ) ( 0,0)(1,1)8 ( 8,0)(-1,1)8 ( 4,0)(-1,1)3 ( 4,8)(-1,-1)3 ( 1,3)(0,4)(1,5 ) ( 1.8,6.5)@xmath117 ( 3.8,4.5)@xmath15 ( 1.8,2.5)@xmath23 ( 9.5,3.8)(0,0.4)2(1,0)1 ( 12,0)(1,1)8 ( 20,0)(-1,1)8 ( 16,0)(1,1)3 ( 16,8)(1,-1)3 ( 19,3)(20,4)(19,5 ) ( 17.8,6.5)@xmath359 ( 15.8,4.5)@xmath355 ( 17.8,2.5)@xmath360    in particular , we can show @xmath361 ( see after eq.(4.14 ) of section 4.3 of @xcite for more details ) .",
    "if we put @xmath362 , we obtain @xmath363 where @xmath364 .",
    "more general case can be deduced inductively from this case .",
    "now let us evaluate @xmath365 . from lemma [ lem : red_of_combr ]",
    "( 1 ) , we have @xmath366 . here",
    ", we use the following observation .",
    "since integer @xmath367 is large enough , right part of @xmath368 consists of a large number of highest elements .",
    "therefore , due to lemma [ lem : red_of_combr ] ( 2 ) , the carrier ( see eq.([def : t_l ] ) and the comments following it ) becomes the highest element @xmath369 , hence we can ignore @xmath345 , @xmath158 , @xmath337 . by construction , each @xmath370",
    "is obtained from @xmath325 by @xmath10 on the quantum space @xmath371 and configuration @xmath372 .",
    "if we compare this with the genuine @xmath21 type kss bijection on @xmath373 the difference is the change of the vacancy numbers due to the presence of other @xmath321 .",
    "however these changes are constant during construction of @xmath370 .",
    "thus such differences can be absorbed into the change of riggings .",
    "in particular , in calculation of @xmath247 , we can ignore such differences . from this observation and lemma [ lem : red_of_combr ]",
    "( 2 ) , we see that if we want to evaluate @xmath374 , it is enough to consider @xmath326 type rigged configuration ( [ eq : a11rc ] ) with @xmath375 .",
    "therefore , we have to check proposition [ prop : e = q ] in @xmath21 case .",
    "this can be done by a direct calculation using time evolution of the box - ball systems . leaving precise arguments for lemma 4.1 of @xcite",
    ", we explain here main ideas of the proof .",
    "let @xmath376 be an arbitraly tensor product of @xmath326 crystals and consider the path @xmath377 , where @xmath378 is sufficiently large integer .",
    "note that we have @xmath379 ( see eq.([eq : v*u=0 ] ) ) .",
    "consider time evolution @xmath380 where @xmath31 and @xmath381 are sufficiently large integers . from the inverse scattering method for the box - ball systems ( see remark [ rem : ist ] ) , we can show that @xmath382 has very simplified structure .",
    "this enables us to compute @xmath383 directly .",
    "again by use of the yang  baxter relation ( see theorem 3.2 of @xcite ) , we can show @xmath384 .",
    "hence we complete the proof of proposition [ prop : e = q ] .    ' '' ''    part of this section is based on joint work with a. kuniba ( april 2007 , unpublished ) .",
    "to begin with , we have to settle some combinatorial property concerning the calculation of @xmath10 . given a path",
    ", we regard each semi - standard young tableau ( i.e. , tensor factor of the path ) as collection of columns .",
    "we shall examine in details the construction of these columns from the given rigged configuration . recall that @xmath10 recursively constructs tensor factors of the path from right to left , and within each tensor factor",
    ", it recursively constructs columns of tableau from left to right .",
    "therefore , without loss of generality , we look at the leftmost column of the rightmost tensor factor of the path .",
    "we denote this column by @xmath385 , and denote the number of nodes of @xmath385 by @xmath297",
    ". then the construction of @xmath385 starts by removing a box from @xmath316 ( we name the box @xmath386 ) . in the box removing procedure of @xmath10 , starting from the box @xmath386 , we remove other boxes ( say @xmath387 , @xmath388 , and so on ) simultaneously .",
    "then we add a box to the first column of @xmath389 , which we call @xmath390 .",
    "the next step starts from @xmath390 and do the similar procedure .",
    "let us summarize the situation in figure [ fig : phi ] .",
    "( 40,28)(0,-2 ) ( 0,0)(0,14)2 ( 0,0)(10,0)4 ( 0,0)(0,1)10 ( 0,10)(1,0)8 ( 0,0)(6,4)(8,10 ) ( 3,11)@xmath391 ( 13,11)@xmath198 ( 23,11)@xmath392 ( 33,11)@xmath393 ( 3,25)@xmath389 ( 13,25)@xmath316 ( 23,25)@xmath394 ( 33,25)@xmath395 ( 0,13)@xmath390 ( 11,16)@xmath386 ( 24,4.5)@xmath64 ( 36,7.5)@xmath396 ( 0,-2)(0,0.2)10(0,1)0.07 ( 8,-2)(0,0.2)60(0,1)0.07 ( 3.5,-1.8)0 ( 10,-2)(0,0.2)10(0,1)0.07 ( 13.8,-2)(0,0.2)26(0,1)0.07 ( 18,-2)(0,0.2)60(0,1)0.07 ( 11.1,-1.8)@xmath397 ( 15.5,-1.8)@xmath48 ( 20,-2)(0,0.2)10(0,1)0.07 ( 21.1,-2)(0,0.2)14(0,1)0.07 ( 24.0,-2)(0,0.2)27(0,1)0.07 ( 26.5,-2)(0,0.2)44(0,1)0.07 ( 28,-2)(0,0.2)60(0,1)0.07 ( 20.3,-1.8)@xmath48 ( 21.8,-1.8)@xmath398 ( 24.5,-1.8)@xmath397 ( 27,-1.8)@xmath48    here , integers below the diagrams show change of the vacancy numbers caused by the removal of @xmath386 , @xmath64 , @xmath396 , @xmath158 , and the addition of @xmath390",
    ". we can determine these changes by comparing number of boxes corresponding to each term of definition eq.([def : vacancy ] ) before and after the operation in the previous sentence .",
    "let us denote the column coordinate of a box @xmath65 in @xmath321 ( or @xmath399 ) by @xmath400 .",
    "then the vacancy number for each row of @xmath198 whose rightmost box @xmath65 satisfies @xmath401 increases by 1 , and those for the other region do not change . in the same way ,",
    "the vacancy numbers for the region @xmath402 of @xmath392 decrease by 1 , those for the region @xmath403 are increased by 1 , and those for the other region do not change .    in the following lemma , we will use these settings such as the column @xmath385 is the leftmost column of the rightmost tensor factor of the path . in other words ,",
    "the column @xmath385 is the first column constructed by the procedure @xmath10 .",
    "[ lem : evaluation_of_rigging ] let us exclusively consider the procedure @xmath10 during construction of the column @xmath385 .",
    "assume that boxes of some row , say @xmath404 of @xmath321 @xmath405 are removed during construction of the column @xmath385 .",
    "then the vacancy number for the row @xmath404 evaluated when its rightmost box ( i.e. , the firstly removed box of the row ) is removed is equal to the one evaluated before the construction of @xmath385 .",
    "* proof . *",
    "construction of the column @xmath385 under @xmath10 begins with removal of the box @xmath386 .",
    "assume that we have removed boxes @xmath386 , @xmath64 , @xmath396 , @xmath158 and added @xmath390",
    ". see figure [ fig : phi ] , especially change of the vacancy numbers summarized there .",
    "let us examine which boxes can be removed from @xmath198 , @xmath392 , @xmath158 if we remove @xmath390 .",
    "first we consider @xmath198 . in @xmath198",
    ", there is no singular row within the region whose vacancy numbers are increased by removal of @xmath386 , @xmath64 , @xmath396 , @xmath158 and addition of @xmath390",
    ". therefore rows @xmath65 of @xmath198 that satisfy @xmath406 are the candidate for removal .",
    "we see that the vacancy numbers for the rows @xmath65 of @xmath198 satisfying @xmath406 do not change from those evaluated before removing @xmath386 .",
    "assume that we can remove some row of @xmath198 , then the next removal , if possible , will be a row of @xmath392 .",
    "recall that by definition of @xmath10 , column coordinates of simultaneously removed boxes are non decreasing integer sequence ( from left to right ) .",
    "thus we see that the next candidates for removal are within the region of @xmath392 whose column coordinates are greater than or equal to @xmath407 .",
    "here we used the fact that we have removed a box of @xmath198 whose column coordinate is greater than or equal to @xmath407 ( see the end of the previous paragraph ) . note that the row to which the box @xmath64 was originally belonged is now shorter than @xmath407 since its length is shortened by 1 due to the removal of the box @xmath64 .",
    "note also that the vacancy numbers for rows @xmath65 of @xmath392 that satisfy @xmath403 are increased by 1 by removal of @xmath386 , @xmath64 , @xmath396 , @xmath158 and addition of @xmath390 .",
    "therefore we see that candidates for removal exist in the region of @xmath392 whose column coordinates are greater than or equal to @xmath408 . in conclusion , the vacancy number for the row of @xmath392 that can be removed simultaneously with @xmath390 remains the same as that evaluated before removing @xmath386 .",
    "we can continue the similar arguments for @xmath393 , @xmath409 , @xmath158 . to state the result for general case ,",
    "let us consider @xmath410 for some @xmath411 .",
    "we divide the argument into the following two cases .    1 .",
    "assume that some row of @xmath412 was removed with @xmath386 .",
    "let us call this removed box of @xmath412 by @xmath9 .",
    "then the situation essentially coincides with the case of @xmath392 in place of @xmath410 .",
    "namely , if we remove @xmath390 , we can simultaneously remove , if possible , a row of @xmath410 whose column coordinate is greater than or equal to @xmath413 . in such case , the vacancy number for the row of @xmath410 that is removed with @xmath390 is the same as that evaluated before removing @xmath386 .",
    "2 .   on the other hand",
    ", if boxes of @xmath412 were not removed with @xmath386 , then we see that the boxes of @xmath410 will not be removed with @xmath390 . to see this ,",
    "let @xmath414 be the minimal integer satisfying @xmath415 such that the boxes of @xmath412 were not removed with @xmath386 .",
    "if @xmath416 , then we remove only one box @xmath386 from @xmath316 and add a box @xmath390 at the first column of @xmath389 .",
    "thus the vacancy numbers for all rows of @xmath198 are increased by 1 .",
    "therefore we can not remove a box from @xmath198 simultaneously with removal of @xmath390 . in the following ,",
    "we assume that @xmath417 .",
    "let us denote the removed box of @xmath410 by @xmath9 .",
    "1 .   after removing @xmath386 , @xmath64 , @xmath396 , @xmath158 , @xmath9 ,",
    "the vacancy numbers for the rows of @xmath410 longer than or equal to @xmath413 are increased by 1 .",
    "therefore we can not remove rows of @xmath410 longer than or equal to @xmath413 .",
    "2 .   on the other hand",
    ", we can apply the above case 1 to @xmath418 to see that , if we remove a row of @xmath418 with @xmath390 , then the removed row is longer than or equal to @xmath413",
    ". therefore if we remove a box from @xmath410 with @xmath390 , we have to remove a row that is longer than or equal to @xmath413 . recall that by definition of @xmath10 , column coordinates of simultaneously removed boxes has to be non - decreasing sequence from left to right .",
    "+ combining these two mutually contradicting conditions , we conclude that we can not remove a box from @xmath410 with @xmath390 .",
    "this is nothing but the column strict semi - standard property of the column @xmath385 .    to summarize , the vacancy numbers for all rows that are removed simultaneously with @xmath390 are the same with those evaluated before we remove @xmath386 .",
    "more general case corresponding to all @xmath419 can be shown inductively .",
    "namely , we replace @xmath386 and @xmath390 with @xmath419 and @xmath420 , respectively , to show the statement for @xmath420 case from the assumption for @xmath419 .    ' '' ''    in order to connect the original procedure of @xmath10 with the local energy distribution , we introduce a table which record the process of @xmath10 .",
    "more precisely , we prepare array of @xmath341 tables whose @xmath117-th table records the history of @xmath198 as follows . recall that in the calculation of @xmath10 , we remove a box from the quantum space , say @xmath399 and , at the same time , remove several boxes from @xmath421 s .",
    "then we add a box to @xmath422 and do the similar procedure .",
    "we do these procedures for several times ( in this case , @xmath423 times ) , then we obtain one column of a semi - standard young tableau of path .",
    "every time we add a column ( say @xmath385 ) to tableau of the path , we add one column to the @xmath117-th table ( from right to left according to @xmath10 ) .",
    "the column in this @xmath117-th table contains the following information : if we remove total of @xmath424 boxes at @xmath142-th column of @xmath198 during the construction of @xmath385 , we put @xmath424 at the @xmath142-th row of the column in the @xmath117-th table . furthermore ,",
    "we draw curves on the table which join entries of the table row by row if they belong to the same row of @xmath198 . thus if an entry is @xmath424 , then there are @xmath424 curves run through the position of @xmath424 .    as a result",
    ", we obtain a table whose entries are joined by curves",
    ". then , in general , these curves have crossing with each other :    ( 20,10 ) ( 0,10)(1,7)(4,5 ) ( 4,5)(7,3)(15,3 ) ( 16.5,3)(18,3)(18,3 ) ( 18,3 ) ( 4,10)(4.5,8)(7,7 ) ( 7,7)(10,6)(12,3.5 ) ( 12.7,2.5)(14,1)(14,1 ) ( 14,1 ) ( 6,10)(6.2,8.5)(7,7.5 ) ( 7.8,6.2)(8.7,4.8)(9,3.8 ) ( 9.2,3)(9.2,3)(9.4,2 ) ( 9.4,2 ) ( 10,10)(12,5)(20,0 ) ( 20,0 )    here parities of crossings ( i.e. , which line crosses over the other line ) are not important . note that by construction of the curves joining entries of table , these curves always go rightwards and/or downwards , and never go leftwards and/or upwards when we start from the top end . in order to detect each lower end point @xmath425",
    ", we start from the rightmost strictly positive integer in the top row .",
    "we always go to weakly right of lower rows ( do not go to left ) , and choose positive integers row by row . if we encounter the crossing , we resolve it as follows :    ( 14,5 ) ( 0,5)(0,5)(2,3 ) ( 3,2)(3,2)(5,0 ) ( 2.3,3)(2.3,3)(2.7,2 ) ( 1.5,5)(1.5,5)(2.3,3 ) ( 2.7,2)(3.5,0)(3.5,0 ) ( 6,2.5)(1,0)2 ( 9,0 ) ( 0,5)(2,3)(2,3 ) ( 2,3)(2.5,2.5)(2.7,2)(3.3,2)(3.3,2)(5.3,0 ) ( 3.3,2)(2.9,2.4)(2.6,3)(1.8,5)(1.8,5)(2.6,3 ) ( 2.7,2)(3.5,0)(3.5,0 )    in other words , if we have more than two non - zero positive integers in the lower row which are located weakly right to the chosen integer of the upper row , then we always choose the rightmost one , and proceed .",
    "in this way , we arrive at one of the end points .",
    "we subtract 1 from the chosen positive integers , and choose the next group . continuing in this way , we can always detect all the end points .",
    "* proof of theorem [ th : main ] . *",
    "first , let us show the equivalence between the local energy distribution and the above table recording the process of @xmath10 . from proposition [ prop : e = q ] ,",
    "we give interpretation of differences of @xmath426 of eq.([def : e_ljk ] ) as follows .",
    "as before , consider the path @xmath427 , and denote the columns of tableau @xmath113 as @xmath114 , and set @xmath115 .",
    "consider the path @xmath428}=b_1\\otimes b_2\\otimes\\cdots\\otimes b_{j-1 } \\otimes b_{j , k}$ ] and apply proposition [ prop : e = q ] .",
    "then we see that @xmath429}).\\ ] ] therefore we have @xmath430})- ( q_l^{(a)}\\mbox { for the path } b_{[k-1]}).\\ ] ] by comparing with the procedure of @xmath10 , the meaning for the right hand side is clear .",
    "namely , it represents the number of boxes removed from the first @xmath132 columns of @xmath198 during construction of the column @xmath167 under @xmath10 .",
    "note that @xmath247 represents , by definition , the number of boxes contained in the first @xmath132 columns of @xmath198 . therefore taking difference once more , @xmath431 it represents the number of boxes removed from @xmath132-th column of @xmath198 corresponding to the column @xmath167 of a path under @xmath10 .",
    "therefore , the table introduced just before the proof is equivalent to the local energy distribution . from this fact",
    ", it also follows that entries of the local energy distribution are non - negative .",
    "furthermore , the end points detected in the arguments before the proof correspond to the rightmost box of each row of partitions @xmath198 .",
    "this follows from the fact that process of @xmath10 proceeds from right to left in the table .",
    "hence we see that steps 2 and 3 of the procedure given in theorem [ th : main ] certainly extract the data @xmath198 @xmath432 .",
    "finally , it remains to show that eq.([eq : rigging1 ] ) to eq.([eq : rigging3 ] ) in step 4 really give the riggings .",
    "consider the arbitrary end point appearing in the local energy distribution , say at @xmath433-th row and @xmath133-th column .",
    "as before , consider the path @xmath434 .",
    "then the end point we are considering means that the corresponding row @xmath433 is removed for the first time when we are constructing the column @xmath167 of the factor @xmath113 under @xmath10 . by definition of @xmath10 ,",
    "the rigging is equal to the corresponding vacancy number when the row @xmath433 is removed , and by lemma [ lem : evaluation_of_rigging ] , it is enough to evaluate the vacancy number at the time when we begin to construct @xmath167 .",
    "this means that it is enough to consider the path @xmath434 , and evaluate the vacancy number for the corresponding rigged configuration .",
    "then @xmath435 of eq.([eq : rigging2 ] ) counts the contribution from the quantum space ( the first term of the right hand side of eq.([def : vacancy ] ) ) .",
    "@xmath436 in the expression eq.([eq : rigging2 ] ) reflects the fact that only the contribution from @xmath389 appear in the vacancy number , and the second term reflects the fact that we are considering the truncated path @xmath434 .",
    "the @xmath182 of eq.([eq : rigging3 ] ) counts the contribution from @xmath391 , @xmath198 and @xmath392 of the truncated path ( the last three terms of the right hand side of eq.([def : vacancy ] ) ) .",
    "we see that steps 1 to 5 appearing in the procedure described by our theorem permit to recover the rigged configuration we are considering .",
    "this proves the theorem .    ' '' ''",
    "in this appendix , we collect necessary facts about the kirillov  schilling  shimozono ( kss ) bijection @xcite . the reader should consult review @xcite for more details .",
    "the kss bijection gives one to one correspondences between elements of tensor products @xmath437 ( which we call _ paths _ ) and combinatorial objects called the rigged configurations .",
    "the original theory deals with the highest weight elements , and we first consider such situation .",
    "let us define the @xmath4 rigged configurations .",
    "consider the following set of data : @xmath308 here , @xmath187 and @xmath433 are positive integer sequences .",
    "now we describe the conditions imposed on this rc .",
    "denote the number of boxes contained in the first @xmath132 columns of the young diagrammatic expression of @xmath198 by @xmath247 , i.e. , @xmath438 then , corresponding to the length @xmath132 row of @xmath198 , we define the _ vacancy number _ by the following formula : @xmath439 where the first term in the right hand side gives the number of boxes contained in the first @xmath132 columns of @xmath389 , and we set @xmath440 . the integer @xmath441 associated with @xmath433",
    "is called the _ rigging associated with _",
    "@xmath433 if it satisfies the condition @xmath442    then the above rc is called the _ rigged configuration _ if all the vacancy numbers are non - negative : @xmath443 and if all integers @xmath441 are the riggings associated with @xmath433 .",
    "we usually call @xmath316 of rc the _ quantum space _ , and @xmath198 of rc the _ configuration_.      by the kss bijection , each path @xmath15 is mapped to the rigged configuration rc : @xmath444 below we describe how to calculate @xmath10 rather than @xmath12",
    ". the calculation of @xmath10 consisting of array of recursive procedures , which are described by box removing processes . in order to describe which box of @xmath198 to be removed , we use the following notion :",
    "if the row @xmath433 satisfies the condition @xmath445 i.e. , the rigging and the corresponding vacancy number coincide , then the row @xmath433 is called _",
    "singular_. the value @xmath446 is called _",
    "corigging_.    the calculation of @xmath10 starts by choosing which row of @xmath316 @xmath447 we are going to remove .",
    "hence the map @xmath10 is a function of such choice ( see theorem [ th : kss ] below ) .",
    "we choose row , say @xmath187 , to be removed . from the row @xmath187",
    ", we obtain an element of the crystal @xmath189 by the following procedure .    1 .",
    "let us denote the rightmost box of the row @xmath187 by @xmath386 ( see figure [ fig : phi ] in the main text ) .",
    "starting from @xmath386 , we choose rows of @xmath392 , @xmath393 , @xmath158 , by the following recursive rule .",
    "assume that we have chosen a row of @xmath421 .",
    "then we choose a row of @xmath448 which is the shortest singular row among the rows of @xmath448 not shorter than the chosen row of @xmath421 , and proceed to @xmath449 .",
    "if there are more than one such row , choose one arbitrarily .",
    "if there is not such a row , then stop .",
    "if we can choose a row from @xmath450 , and can not choose in @xmath451 , we obtain integer @xmath452 as the output .",
    "2 .   we remove all the rightmost boxes of chosen rows simultaneously , and add a length 1 row to @xmath389 which we call @xmath390 . after removal and addition , we calculate the new vacancy numbers .",
    "new riggings are determined as follows .",
    "if the corresponding row is not removed , choose the same rigging as before .",
    "on the other hand , if the corresponding row is removed , then choose the new rigging equal to the new vacancy number for the corresponding row .",
    "3 .   repeat the above step 1 and step 2 starting from @xmath390 , and obtain @xmath453 as an output .",
    "we do this until @xmath454 is removed .",
    "then we put @xmath452 , @xmath158 , @xmath455 , @xmath456 to the leftmost empty column of @xmath457 young diagram as follows : @xmath458 4 .",
    "repeat the above step 1 through step 3 for the rest of @xmath187 box by box ( from right to left ) until entire row is removed .",
    "then we obtain an element of the crystal @xmath189 .",
    "we repeat the above step 1 through step 4 by choosing rows of the quantum space arbitrarily until all boxes of the quantum space are removed .",
    "we take tensor products of these tableaux from right to left .",
    "it is known that the above procedure is well - defined , and the inverse map @xmath12 admits similar description @xcite .",
    "in fact , the procedure for @xmath12 is obtained by just reversing the above procedure .",
    "( 26,6 ) ( 1,4 ) ( ) ( 2.5,5.5)@xmath228 ( 7,1 ) ( ) ( 6.3,1.1)1 ( 10.2,1.1)1 ( 8,2.5)@xmath229 ( 7,4 ) ( ) ( 8.5,5.5)@xmath230 ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)1 ( 14.2,0.1)0 ( 16.2,1.1)0 ( 14,2.5)@xmath231 ( 13,4 ) ( ) ( 13.5,5.5)@xmath232 ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 19.5,2.5)@xmath233 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0 ( 24,2.5)@xmath234    here we put the riggings ( resp . vacancy numbers ) on the right ( resp",
    ". left ) of the corresponding rows .",
    "as the first step , let us remove @xmath230 .",
    "then calculation goes as follows ( we put @xmath459 to the box to be removed ) :    ( 26,5 ) ( 1,4 ) ( ) ( 7,1 ) ( ) ( 6.3,1.1)1 ( 10.2,1.1)1 ( 7,4 ) ( ) ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)1 ( 14.2,0.1)0 ( 16.2,1.1)0 ( 13,4 ) ( ) ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0      ( 26,5 ) ( 1,3 ) ( , ) ( 7,1 ) ( ) ( 6.3,1.1)2 ( 10.2,1.1)1 ( 7,4 ) ( ) ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)1 ( 14.2,0.1)0 ( 16.2,1.1)0 ( 13,4 ) ( ) ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0      ( 26,5 ) ( 1,4 ) ( ) ( 7,1 ) ( ) ( 6.3,1.1)1 ( 10.2,1.1)1 ( 7,4 ) ( ) ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)1 ( 14.2,0.1)0 ( 16.2,1.1)0 ( 13,4 ) ( ) ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0      ( 26,5 ) ( 1,3 ) ( , ) ( 7,1 ) ( ) ( 6.3,1.1)2 ( 10.2,1.1)1 ( 7,4 ) ( ) ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)0 ( 14.2,0.1)0 ( 16.2,1.1)0 ( 13,4 ) ( ) ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0      ( 26,5 ) ( 1,4 ) ( ) ( 7,1 ) ( ) ( 6.3,1.1)1 ( 10.2,1.1)1 ( 7,4 ) ( ) ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)0 ( 14.2,0.1)0 ( 16.2,1.1)0 ( 13,4 ) ( ) ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0      ( 26,5 ) ( 1,3 ) ( , ) ( 7,1 ) ( ) ( 6.3,1.1)1 ( 10.2,1.1)1 ( 7,4 ) ( ) ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)0 ( 14.2,0.1)0 ( 15.2,1.1)0 ( 13,4 ) ( ) ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0      ( 26,5 ) ( 1,4 ) ( ) ( 7,1 ) ( ) ( 6.3,1.1)1 ( 9.2,1.1)1 ( 7,4 ) ( ) ( 13,0 ) ( , ) ( 12.3,0.1)0 ( 12.3,1.1)0 ( 14.2,0.1)0 ( 15.2,1.1)0 ( 13,4 ) ( ) ( 19,0 ) ( , ) ( 18.3,0.1)0 ( 18.3,1.1)0 ( 20.2,0.1)0 ( 21.2,1.1)0 ( 24,1 ) ( ) ( 23.3,1.1)0 ( 25.2,1.1)0                  [ th : kss ] take two rows from the quantum space of the rigged configuration arbitrarily , and denote them by @xmath470 and @xmath471 .",
    "when we remove successively these two rows as @xmath470 at first and next @xmath471 under @xmath10 , then we obtain two tableaux , which we denote by @xmath472 and @xmath143 , respectively .",
    "next , on the contrary , we first remove @xmath471 and second @xmath470 @xmath285keeping the order of other removal invariant@xmath473 and we get @xmath145 and @xmath474",
    ". then we have @xmath475 under the isomorphism of the combinatorial @xmath0 .",
    "recently , the original kss bijection was extended to include non - highest weight elements @xcite .",
    "the combinatorial procedures for @xmath12 and @xmath10 are the formal extension of the original ones . for arbitrary element @xmath476",
    ", we obtain @xmath193 as an extension of the rigged configuration , which we call _ unrestricted rigged configurations_. characterization for the set of the unrestricted rigged configurations is given in these papers , however we omit it since we do not use it . for our purpose , it is enough to start from arbitrarily given path , and use the prescription given in section 7.1 of @xcite . in the prescription",
    "given there , we put suitable prefix to the path , and the effect of such modification of path on the level of the rigged configuration is explicitly estimated . as the result , many apparatus ( like theorem [ th : kss ] ) holds for the case of the unrestricted rigged configuration . in particular , our procedure given in theorem [ th : main ] does not depend on whether the path is highest or non - highest .    * acknowledgements : * the author is grateful to atsuo kuniba for collaboration at an early stage of the present study , and to yasuhiko yamada for careful reading of the manuscript .",
    "he is a research fellow of the japan society for the promotion of science .",
    "m.  sato and y.  sato , soliton equations as dynamical systems on infinite dimensional grassmann manifold , _ nonlinear pde in applied science , u.s .- japan seminar , tokyo , 1982 _ , lecture notes in num . appl .",
    "anal . * 5 * ( 1982 ) 259271 ."
  ],
  "abstract_text": [
    "<S> the kirillov  schilling  shimozono ( kss ) bijection appearing in theory of the fermionic formula gives an one to one correspondence between the set of elements of tensor products of the kirillov  reshetikhin crystals ( called paths ) and the set of rigged configurations . </S>",
    "<S> it is a generalization of kerov  kirillov  reshetikhin bijection and plays inverse scattering formalism for the box - ball systems . in this paper </S>",
    "<S> , we give an algebraic reformulation of the kss map from the paths to rigged configurations , using the combinatorial @xmath0 and energy functions of crystals . </S>",
    "<S> it gives a characterization of the kss bijection as an intrinsic property of tensor products of crystals .    </S>",
    "<S> @xmath1     +   +   +   +   + </S>"
  ]
}