{
  "article_text": [
    "photolithography is a key step in the production of integrated circuits .",
    "we provide a brief description of the process and refer the reader to a more detailed readable account in @xcite .",
    "integrated circuits are created in layers . the circuit layout in each layer is made by first treating the substrate with a photo - resist . a pattern in transferred to the photo - resist using ultraviolet ( uv ) light and a mask .",
    "the uv light , diffracted by the mask , selects a pattern on the photo - resist that is to be removed .",
    "once the pattern is removed , the substrate without the photo - resist is then etched .",
    "the mask can be viewed as an opaque screen with cut - outs .",
    "uv light from a source goes through a system of lenses and is diffracted by the mask .",
    "the diffracted light creates an image on the photo - resist which is placed at the focal distance from the lenses .",
    "the photo - resist is light sensitive .",
    "parts that are exposed to image intensity greater than some threshold can be removed .    for the purpose of this work ,",
    "we call the pattern we wish to remove the ` target pattern ' . for a given mask ,",
    "the exposed pattern is the set of points on the photo - resist where the uv light intensity is greater than some threshold .",
    "the inverse problem in photolithography is the problem of finding the mask that produces an exposed pattern that is as close to the target pattern as possible .",
    "such an inverse problem can be thought of as a shape design problem .",
    "the mask is a set , and it may be represented by its characteristic function @xmath1 , that is by a binary function .",
    "let @xmath2 be the light intensity on the photo - resist plane for a given mask @xmath1 .",
    "the exposed region is given by @xmath3 where @xmath4 is the threshold .",
    "thus @xmath5 is the suplevel set of the real valued function @xmath6 at level @xmath4 .",
    "such a thresholding operation , besides being highly nonlinear , is not stable for instance with respect to variations of the threshold value @xmath4 , in particular from the topological point of view , whenever @xmath4 is close to a critical value for @xmath6 .",
    "notice that in order to describe @xmath7 we can use again its characteristic function , namely @xmath8 where @xmath9 is the heaviside function .",
    "the fact that @xmath9 is not differentiable is another issue that has to be taken into account for the numerics .",
    "finally , the operator that maps the mask to the corresponding light intensity on the photo - resist plane is smoothing , therefore a perfect agreement with the target pattern might be impossible , especially if it has some corners .",
    "this is the reason why we set the problem as an optimal design problem .",
    "cobb @xcite was the first to tackle this problem from the point of view of optimal design , using a physically - based model .",
    "this approach was further developed first by using a level set method , @xcite , and then by a variational method , @xcite . in @xcite a different computational method , where the mask is modelled as a pixelated binary image ,",
    "is proposed .",
    "our starting point is the variational approach developed in @xcite by two of the authors . given a desired circuit @xmath10 we wish to find a mask @xmath1 minimizing the distance , in a suitable sense , of @xmath5 from @xmath10 . in order for the mask to be constructed in a relatively easy way",
    ", we require it to be not too irregular , therefore we add a perimeter penalization on the mask @xmath1 . in @xcite a suitable approximation , in the sense of @xmath0-convergence , of the resulting functional was proposed .",
    "such an approximation was amenable to computation using , for example , finite difference approximations on structured grids and steepest descent for minimization , and was based on approximating binary functions @xmath1 by so - called phase - field functions @xmath11 taking values in @xmath12 $ ] and extending the intensity functional @xmath6 to be defined on phase - field and not only binary functions .",
    "the approximation of the perimeter penalization used there was the one developed in this phase - fields framework by modica and mortola , @xcite .",
    "we recall here that the same idea lies in the approximation of the mumford - shah functional due to ambrosio and tortorelli .",
    "furthermore , also the heaviside function was replaced by a smooth approximation .    in order to apply the analysis in @xcite ,",
    "a crucial point is that the threshold @xmath4 is not a critical value of the intensity . in @xcite",
    "this was obtained by imposing suitable technical restrictions to the model used .",
    "instead in this paper we greatly improve the results in @xcite because we allow an extremely general model , that includes the one usually used in the industry which is based on the so - called hopkins aerial intensity representation .",
    "in fact we are able to carry over the analysis by a adding a further penalization term , the main theoretical novelty of this work .",
    "such a regularization term , which we call @xmath13 and that it is applied to the intensity @xmath6 , has the aim to penalize critical points at values close to the threshold and has two important effects . from the theoretical point of view",
    ", it allows the development of the analysis , and , from the practical point of view , it allows the reconstruction to be more stable , especially from the topological point of view , with respect to variations of the threshold , that is with respect to errors in the evaluation of the threshold value .    using the approximation developed in @xcite for the distance , the perimeter penalization and the heaviside function , and devising a suitable approximation for the regularization term @xmath13",
    ", we construct an approximated functional which is still amenable to computation .",
    "we compute its gradient , at least in a discretised version of it , and we test it by numerical experiments .",
    "the tests show that the method performs rather well , leading to reconstructed circuits that are good approximations of the desired ones .",
    "the plan of the paper is the following .",
    "after a brief discussion of the mathematical preliminaries , section  [ prelsec ] , we introduce the inverse photolithography problem and develop our variational approach , section  [ model ] .",
    "in section  [ numsec ] we present our numerical experiments .",
    "final comments and conclusions are in section  [ conclusionsec ] .",
    "the following notation will be used . for every @xmath14 , we shall set @xmath15 , where @xmath16 and @xmath17 . for every @xmath14 and @xmath18 , we shall denote by @xmath19 the open ball in @xmath20 centered at @xmath21 of radius @xmath22 .",
    "usually we shall write @xmath23 instead of @xmath24 . for any set @xmath25 ,",
    "we denote by @xmath26 its characteristic function , and for any @xmath18 , @xmath27 .    for any @xmath28 , the space of tempered distributions , we denote by @xmath29 its _ fourier transform _ ,",
    "which , if @xmath30 , may be written as @xmath31 we recall that @xmath32 , that is , when also @xmath33 , @xmath34    for any function @xmath35 defined on @xmath20 and any positive constant @xmath36 , we denote @xmath37 , @xmath38 . we note that @xmath39 and @xmath40 , @xmath41 .    by @xmath42",
    "we denote the @xmath43-dimensional hausdorff measure and by @xmath44 we denote the @xmath45-dimensional lebesgue measure .",
    "we recall that , if @xmath46 is a smooth curve , then @xmath42 restricted to @xmath47 coincides with its arclength . for any borel @xmath48 we denote @xmath49 .",
    "let @xmath50 be a bounded open set contained in @xmath20 , with boundary @xmath51 .",
    "we say that @xmath50 has a _ lipschitz boundary _ if for every @xmath52 there exist a lipschitz function @xmath53 and a positive constant @xmath22 such that for any @xmath54 we have , up to a rigid transformation , @xmath55    we note that @xmath50 has a finite number of connected components , whereas @xmath51 is formed by a finite number of rectifiable jordan curves , therefore @xmath56 .    for any integer @xmath57 , any @xmath58 , @xmath59 , and any positive constants @xmath22 and @xmath60 , we say that a bounded open set @xmath61 is @xmath62 _ with constants _",
    "@xmath22 _ and _ @xmath60 if for every @xmath63 there exists a @xmath62 function @xmath53 , with @xmath62 norm bounded by @xmath60 , such that for any @xmath54 , and up to a rigid transformation , ( [ lipdomain ] ) holds",
    ". we note that we shall often use the notation _ lipschitz _ instead of @xmath64 .",
    "let us fix three positive constants @xmath22 , @xmath60 and @xmath65 .",
    "for any integer @xmath57 and any @xmath58 , @xmath59 , we denote with @xmath66 the class of all bounded open sets , contained in @xmath67 , which are @xmath62 with constants @xmath22 and @xmath60 .",
    "we recall some basic properties of functions of bounded variation and sets of finite perimeter . for a more comprehensive treatment of these subjects see , for instance , @xcite .    given a bounded open set @xmath68 ,",
    "we denote by @xmath69 the banach space of _ functions of bounded variation_. we recall that @xmath70 if and only if @xmath71 and its distributional derivative @xmath72 is a bounded vector measure .",
    "we endow @xmath69 with the standard norm as follows .",
    "given @xmath70 , we denote by @xmath73 the total variation of its distributional derivative and we set @xmath74 .",
    "we say that a sequence of @xmath69 functions @xmath75 _ _ weakly__@xmath76 _ converges _ in @xmath69 to @xmath70 if and only if @xmath77 converges to @xmath11 in @xmath78 and @xmath79 weakly@xmath76 converges to @xmath72 in @xmath50 , that is @xmath80 we recall that if a sequence of @xmath69 functions @xmath75 is bounded in @xmath69 and converges to @xmath11 in @xmath78 , then @xmath70 and @xmath77 converges to @xmath11 weakly@xmath76 in @xmath69 .",
    "we say that a sequence of @xmath69 functions @xmath75 _ strictly converges _ in @xmath69 to @xmath70 if and only if @xmath77 converges to @xmath11 in @xmath78 and @xmath81 converges to @xmath82 . indeed , for any @xmath83",
    ", @xmath84 is a distance on @xmath69 inducing the strict convergence .",
    "we also note that strict convergence implies weak@xmath76 convergence .",
    "we recall that if @xmath50 is a bounded open set with lipschitz boundary , then for any @xmath85 the set @xmath86 is a compact subset of @xmath78 .",
    "let @xmath87 be a bounded borel set contained in @xmath67 .",
    "we shall denote by @xmath26 its characteristic function .",
    "we notice that @xmath87 is compactly contained in @xmath88 , which we shall denote by @xmath89 .",
    "we say that @xmath87 is a _ set of finite perimeter _ if @xmath26 belongs to @xmath90 and we call the number @xmath91 its _ perimeter_. let us finally remark that the intersection of two sets of finite perimeter is still a set of finite perimeter .",
    "moreover , whenever @xmath87 is open and @xmath92 is finite , then @xmath87 is a set of finite perimeter .",
    "in particular a bounded open set @xmath50 with lipschitz boundary is a set of finite perimeter and its perimeter @xmath93 coincides with @xmath94 .",
    "we conclude this preliminary section by describing a classical @xmath0-convergence approximation of the perimeter functional due to modica and mortola , @xcite . for the definition and properties of @xmath0-convergence we refer to @xcite . throughout the paper , for any @xmath95 , @xmath96",
    ", we shall denote its conjugate exponent by @xmath97 , that is @xmath98 .",
    "[ mod - morteo ] let us fix @xmath99 .",
    "let @xmath100 and @xmath101 be a continuous function such that @xmath102 if and only if @xmath103 .",
    "let @xmath104 .",
    "for any @xmath105 we define the functional @xmath106 $ ] as follows @xmath107    let @xmath108 $ ] be such that @xmath109    then @xmath110 with respect to the @xmath111 norm .",
    "we observe that @xmath112 if @xmath113 where @xmath87 is a set of finite perimeter contained in @xmath114 and @xmath115 otherwise .",
    "furthermore , we note that the result does not change if in the definition of @xmath116 we set @xmath117 whenever @xmath11 does not satisfy the constraint @xmath118 actually , in the numerics we shall always implicitly impose such a constraint .    also the following result ,",
    "due to modica , @xcite , will be useful .",
    "[ compactnessoss ] let us consider any family @xmath119 such that , for some positive constant @xmath120 and for any @xmath121 , @xmath122 , we have @xmath123 almost everywhere and @xmath124 .",
    "then @xmath119 is precompact in @xmath111 .",
    "kirchhoff approximation is presently favored as a modeling tool for the optical phenomena in photolithography .",
    "this is due to the fact that kirchhoff approximation can be very efficiently computed and it is relatively accurate .",
    "it is true however that more accurate optical modeling may be needed in the future . under this approximation ,",
    "the open portions of the mask acts as light sources ; the amplitude of light at the mask opening is that of the incident field from the light source .",
    "propagation through the lenses can be calculated using fourier optics .",
    "it is further assumed that the image plane , in this case the plane of the photo - resist , is at the focal distance of the optical system .",
    "if there were no diffraction , a perfect image of the mask would be formed on the image plane .",
    "diffraction , together with partial coherence of the light source , acts to distort the formed image .    the mask , which consists of cut - outs , is represented as a binary function , the characteristic function of the cut - outs @xmath125 . namely the mask is given by @xmath126 the light intensity on the image plane",
    "is given by @xcite @xmath127 in the above expression the kernel @xmath128 is called the _ coherent point spread function _ and describes the optical system .",
    "the function @xmath129 is called the _ mutual intensity function_. if the illumination is fully coherent then @xmath130 but in practice illumination is never fully coherent .",
    "the equation ( [ hopkins ] ) is often referred to as the hopkins aerial intensity representation .",
    "we assume that @xmath131 is a complex valued function such that for a constant @xmath58 , @xmath133 , we have @xmath134 .",
    "furthermore , we assume that @xmath135 converges to @xmath136 uniformly as @xmath137 , that is for any @xmath105 there exists @xmath18 such that for any @xmath38 with @xmath138 we have @xmath139 .",
    "we assume that @xmath132 is the fourier transform of a function @xmath140 such that @xmath141 and @xmath142 almost everywhere in @xmath20 .",
    "in particular @xmath132 is a continuous complex valued function .",
    "a typical model for @xmath131 and @xmath132 is the following .",
    "for an optical system with a circular aperture , once the wavenumber of the light used , @xmath143 , has been chosen , the kernel depends on a single parameter called the numerical aperture , @xmath144 .",
    "notice that the wavelength is @xmath145 .",
    "let us recall that the so - called jinc function is defined as @xmath146 where @xmath147 is the bessel function of order 1 .",
    "we notice that in the fourier space@xmath148    if we denote by @xmath149 , then the kernel is usually modeled as follows @xmath150 therefore @xmath151 if @xmath144 goes to @xmath152 , that is @xmath153 , then @xmath154 converges pointwise to @xmath43 , thus @xmath131 approximates in a suitable sense the dirac delta",
    ".    the mutual intensity function @xmath129 is parametrized by a _",
    "coherency coefficient _ @xmath155 .",
    "a typical model for @xmath132 is @xmath156 thus , @xmath157 that , as @xmath158 , converges , in a suitable sense , to the dirac delta .",
    "therefore full coherence is achieved for @xmath158 .",
    "in fact , if @xmath158 , @xmath132 converges to @xmath43 uniformly on any compact subset of @xmath20 .",
    "the photo - resist material responds to the intensity of the image .",
    "when intensity at the photo - resist goes over a certain threshold , it is then considered exposed and can be removed .",
    "therefore , the exposed pattern , given a mask @xmath159 , is @xmath160 where @xmath161 is the exposure threshold .",
    "clearly , @xmath7 depends on the mask function @xmath159 , which we recall is given by the characteristic function of @xmath125 representing the cut - outs , that is @xmath162 .",
    "in photolithography , we have a desired exposed pattern @xmath10 which we wish to achieve .",
    "the inverse problem is to find a mask that achieves this desired exposed pattern , that is to find @xmath125 such that @xmath163 .",
    "mathematically , this can not , in general , be done .",
    "therefore , the inverse problem must be posed as an optimal design problem .",
    "let us fix @xmath99 .",
    "we assume that @xmath10 is a bounded open set compactly contained in @xmath114 such that @xmath10 is a set of finite perimeter .",
    "suppose the desired pattern is given by @xmath10 .",
    "we pose the minimization problem @xmath164 for what concerns the distance function @xmath165 and the admissible set @xmath166 , we shall choose the following .",
    "we set @xmath167 and for any @xmath168 we denote by @xmath169 its perimeter and we notice that @xmath170 where , for any function @xmath171 , @xmath172 is defined in ( [ pdef ] ) . with a slight abuse of notation we shall identify sets with their characteristic functions , so that @xmath173 may also denote @xmath174    about the distance",
    "we shall choose @xmath175 where @xmath176 is a positive tuning parameter .",
    "we recall that in ( * ? ? ?",
    "* section  3.3 ) the choice of the distance has been thoroughly discussed .",
    "we shall add to ( [ design_prob ] ) two regularization terms .",
    "the first one is on the independent variable @xmath125 , that is on the mask . to ensure manufacturing of the mask",
    ", the optimal mask may not be too irregular , therefore we shall add a perimeter penalization on the mask .",
    "the second regularization term allows us to stabilize the optimization procedure .",
    "in fact , the thresholding operation that , given the intensity , determines the target domain is not stable .",
    "for instance , if @xmath4 is a critical value of the intensity @xmath6 , a very small modification of the mask might lead to a change in the topology of the reconstructed circuit . in order to avoid this",
    ", we shall discard masks such that @xmath4 is close to a critical value of the corresponding intensity @xmath6 .",
    "we shall achieve this aim by adding a second penalization term @xmath13 which we describe later in this section .",
    "let us set up the regularized minimization problem .",
    "we denote @xmath177 let us define the following operator @xmath178 such that for any @xmath179 we have @xmath180 let us note that if @xmath181 for a mask @xmath182 , then @xmath183 coincides with the intensity @xmath6 as defined in ( [ hopkins ] ) .    in the next proposition",
    "we describe some of the properties of @xmath184 .",
    "[ regularityprop ] under our assumptions on @xmath131 and @xmath132 , the following holds .    1 .   [ part1 ] for any @xmath179",
    ", @xmath183 is a real valued function such that @xmath185 in @xmath20 . obviously , if @xmath11 is identically equal to zero , then also @xmath183 is identically equal to zero . 2 .",
    "[ part2 ] for any @xmath179 , @xmath186 and , for any @xmath187 , there exists @xmath85 such that @xmath188 3 .",
    "[ part3 ] for any @xmath187 , @xmath184 is uniformly continuous with respect to the @xmath189 norm on @xmath190 and the @xmath191 norm on @xmath192 .",
    "[ part4 ] @xmath183 converges to @xmath136 uniformly as @xmath137 , uniformly with respect to @xmath179 , that is for any @xmath105 there exists @xmath18 such that for any @xmath38 with @xmath138 and any @xmath179 we have @xmath193 .",
    "for any @xmath179 , we define @xmath194 as follows @xmath195 then we define @xmath196 in the following way @xmath197 we notice that @xmath198 where @xmath199 denotes convolution , in this particular case in @xmath200 .    therefore , parts ( [ part2 ] ) , ( [ part3 ] ) and ( [ part4 ] ) follow immediately from standard properties of convolutions",
    "for what concerns ( [ part1 ] ) , this requires a little more care .",
    "we call @xmath201 , where again @xmath199 denotes convolution , in this case in @xmath20",
    ". then , for any @xmath202 , we denote @xmath203 for any @xmath14 .",
    "then , fixed @xmath38 , we define the function @xmath204 clearly @xmath205 is nonnegative for any @xmath206 , therefore it would be enough to show that @xmath207 and this follows simply by fubini theorem.@xmath208    [ other_assumptions ] we may replace the assumptions on @xmath132 by the following one and still the previous proposition and all the next results hold . we may assume that @xmath132 is the fourier transform of a tempered distribution @xmath140 such that @xmath140 has compact support and it is semipositive definite , that is @xmath209 for any @xmath210 such that @xmath211 everywhere in @xmath20 .",
    "we notice that again @xmath132 is a continuous complex valued function , therefore the proof of parts ( [ part2 ] ) , ( [ part3 ] ) and ( [ part4 ] ) is exactly the same .",
    "the argument for proving ( [ part1 ] ) is slightly more involved in this case and we leave the details to the reader .",
    "we denote by @xmath212 the heaviside function such that @xmath213 for any @xmath214 and @xmath215 for any @xmath216 . for any positive constant @xmath4 we set @xmath217 for any @xmath218 .",
    "then , fixed the threshold @xmath161 , we define @xmath219 as follows @xmath220 clearly , for any @xmath179 , @xmath221 is the characteristic function of an open set , which we shall call @xmath222 .",
    "that is @xmath223 in other words , @xmath224 .",
    "whenever @xmath113 , where @xmath87 is a measurable subset of @xmath114 , we shall denote @xmath225 .    in order to define the regularization term @xmath13 , we need a few auxiliary functions .",
    "let us fix a positive constant @xmath226 .",
    "let @xmath227 $ ] be a continuous function satisfying the following properties    a.   @xmath35 is identically equal to @xmath152 on @xmath228 $ ] ; b.   @xmath35 is decreasing ; c.   @xmath35 is identically equal to zero on @xmath229 ; d.",
    "the following behaviour at @xmath136 holds @xmath230    let @xmath53 be a @xmath231 function such that    a.   @xmath232 ; b.   @xmath233 is increasing before @xmath4 and decreasing after @xmath4 ; c.   @xmath234 .",
    "we notice that we can find positive constants @xmath235 and @xmath236 such that @xmath233 is greater than or equal to @xmath236 on @xmath237 $ ] and @xmath238 .",
    "for example , we may choose @xmath239 with @xmath240 on @xmath228 $ ] and @xmath241 on @xmath229 , and @xmath242 for suitable positive constants @xmath176 and @xmath243 .",
    "for instance , if we pick @xmath83 and @xmath226 , @xmath244 , such that @xmath245 , then we may take @xmath246 provided @xmath243 satisfies @xmath247 .",
    "[ regularizationdefin ] let us define @xmath248 $ ] as follows @xmath249    to get a sense of the behavior of the regularization term @xmath13 , consider a point @xmath21 for which @xmath250 .",
    "this means that @xmath251 . if @xmath252 is small",
    ", then @xmath253 .",
    "the penalty term is zero if @xmath254 is away from @xmath4 .",
    "therefore , the term @xmath13 does not allow the critical values of @xmath183 to be close to @xmath4 .",
    "[ tilderremark ] all the theoretical results we are going to prove remain valid if we replace @xmath13 with @xmath255 $ ] defined as follows @xmath256    [ reglemma ] under the previous notation and assumptions , we have that the functional @xmath248 $ ] is continuous , with respect to the @xmath189 convergence in @xmath190 .    before proving proposition  [ reglemma ] , we need the following .",
    "[ domainlemma ] under the previous notation and assumptions , there exist positive constants @xmath22 , @xmath60 and @xmath257 such that , for any @xmath179 satisfying @xmath258 , and for any @xmath259 $ ] , we have that @xmath260 is either empty or it belongs to @xmath261 .    proof .",
    "since @xmath183 decays to zero at infinity , uniformly with respect to @xmath179 , we observe that there exists @xmath257 such that the following properties hold .",
    "first @xmath262 for any @xmath179",
    ". moreover , if we denote @xmath263 we have that @xmath264 , hence @xmath265 , for any @xmath14 with @xmath266 and any @xmath179 .",
    "fixed @xmath179 , let us define @xmath267 as before . by the continuity of @xmath267 and the properties of @xmath35 ,",
    "if @xmath268 is finite then @xmath269 must be nonnegative for every @xmath14 .",
    "this would be enough for the proof of this lemma , but actually we have that there exists a positive constant @xmath121 , depending on @xmath11 , such that @xmath270 for every @xmath14 .",
    "since this property is crucial in the proof of proposition  [ reglemma ] , we sketch its proof here .",
    "since @xmath264 for any @xmath21 outside @xmath271 , it would be enough to prove that @xmath272 for any @xmath14 .",
    "we argue by contradiction and we assume that @xmath273 for some @xmath274 .    then , since @xmath267 is hlder continuous with exponent @xmath58 , @xmath133 , on the closure of @xmath275 , we infer that for any @xmath276 in a neighbourhood of @xmath21 we have that @xmath277 , therefore by using polar coordinates centered at @xmath21 we obtain , for some @xmath278 , @xmath279 since the right - hand side is @xmath152 by our assumptions on @xmath35 , the claim is proved .",
    "if @xmath280 is the minimum of @xmath233 on @xmath237 $ ] , since @xmath281 , we infer that @xmath282.\\ ] ]    then the conclusion immediately follows by the uniform @xmath191 regularity of @xmath183 proved in proposition  [ regularityprop ] and the implicit function theorem.@xmath208    proof of proposition  [ reglemma ] .",
    "let @xmath283 , @xmath284 , converge to @xmath11 in @xmath189 as @xmath285 .",
    "clearly @xmath179 as well .",
    "we begin by considering the case in which @xmath268 is finite . in the previous lemma we proved that there exists a positive constant @xmath121 such that @xmath270 for any @xmath14 .",
    "since @xmath286 converges to @xmath183 locally in @xmath231 as @xmath285 , by the dominated convergence theorem we easily deduce that @xmath287 converges to @xmath268 as @xmath285 .    by the previous lemma , for any @xmath179 such that @xmath258 we have that latexmath:[$|\\{h-\\delta",
    "< \\mathcal{i}(u ) < h+\\delta\\}|=    convergence of @xmath286 to @xmath183 as @xmath285 , and the dominated convergence theorem , we obtain that @xmath289 converges to @xmath290 as @xmath285 .",
    "therefore we immediately conclude that also @xmath291 is continuous at any @xmath179 such that @xmath258 .    if @xmath292 , then there exists @xmath21 such that @xmath293 .",
    "consequently , if @xmath294 is the corresponding function related to @xmath295 , we conclude that @xmath296 goes to zero as @xmath285 .",
    "therefore @xmath297 and the proposition is proved.@xmath208    let @xmath298 with @xmath299 as in lemma  [ domainlemma ] .",
    "we notice that the functional @xmath13 may be equivalently defined as @xmath300    for any positive constant @xmath120 , let us denote @xmath301    [ firstlemma ] for any @xmath85 , the map @xmath302 is uniformly continuous with respect to the @xmath189 norm on @xmath303 and the distance @xmath304 on @xmath305 .    proof . by lemma  [ domainlemma ]",
    ", we recall that , for any @xmath306 , @xmath307 where @xmath222 is either empty or it belongs to @xmath261 .",
    "then , there exists a constant @xmath308 such that @xmath309 for any @xmath11 and @xmath310 .",
    "there exists a function @xmath311 , which is nondecreasing and such that @xmath312 , such that for any @xmath11 and @xmath313 belonging to @xmath190 we have @xmath314    we need the following claim .",
    "[ claim1 ] there exists a function @xmath315 , which is continuous , increasing and such that @xmath316 , satisfying the following property . for any @xmath306",
    "such that @xmath222 is not empty , for any @xmath105 and any @xmath14 we have @xmath317    to prove this claim , we recall that for a positive constant @xmath236 we have @xmath318 for any @xmath319 , where as usual @xmath320 is the outer normal to @xmath222 .",
    "the @xmath191 regularity of @xmath183 on @xmath321 , which is uniform with respect to @xmath179 , allows us to conclude the proof of the claim .",
    "we conclude that there exists a positive constant @xmath322 such that if @xmath11 and @xmath310 satisfy @xmath323 , then @xmath222 is empty if and only if @xmath324 is .",
    "if they are both empty , then @xmath325 .",
    "therefore , we are interested only in the case in which they are both not empty .",
    "we follow some of the arguments developed in ( * ? ? ?",
    "* theorem  4.2 ) which we briefly sketch for the convenience of the reader .",
    "let us now assume that @xmath11 and @xmath310 satisfy @xmath323 , and @xmath222 and @xmath324 are not empty .",
    "fixed @xmath105 , we can find @xmath326 such that if @xmath327 , then @xmath328 .",
    "let us now take @xmath329 , that is @xmath14 such that @xmath330 .",
    "we infer that @xmath331 , therefore by the claim we deduce that @xmath332 .",
    "that is @xmath333 . by symmetry ,",
    "we conclude that the hausdorff distance @xmath334 between @xmath335 and @xmath336 is bounded by @xmath121 .",
    "it has been shown in section  3.3 in @xcite that there exist positive constants @xmath337 and @xmath338 such that for any @xmath222 and @xmath324 belonging to @xmath261 we have @xmath339 therefore the thesis immediately follows.@xmath208    we are now in the position to set up our optimization problem . under the previous definitions and assumptions ,",
    "let us define the functional @xmath340 $ ] such that @xmath341 where @xmath342 is the functional defined in ( [ pdef ] ) , and @xmath176 , @xmath243 and @xmath343 are positive tuning parameters .",
    "we notice that @xmath344 where @xmath304 is the strict convergence distance in @xmath305 given in ( [ d_st ] ) .",
    "we look for the solution to the following minimization problem @xmath345    by the direct method , we have that @xmath346 admits a minimum on @xmath190 . however , in order to make the minimization problem meaningful we shall need the following .",
    "we assume that there exists @xmath347 such that @xmath348 is finite and @xmath349 .    by these assumptions",
    ", we exclude that the function @xmath350 is a minimizer of @xmath346 and we guarantee that for any minimizer @xmath11 of @xmath346 we have that @xmath222 is not empty . in fact , if @xmath179 is such that @xmath222 is empty , we have that @xmath351    let us notice that if instead we replace @xmath13 with @xmath291 as in remark  [ tilderremark ] , we just need to assume that there exists @xmath347 such that @xmath348 is finite .",
    "in fact , if @xmath179 is such that @xmath222 is empty , we have that @xmath352 and consequently @xmath353 .",
    "this follows by this simple argument .",
    "if @xmath268 is finite , then the maximum of @xmath183 is either strictly greater that @xmath354 , thus @xmath222 is not empty , or strictly smaller than @xmath355 , thus @xmath352 , see the proof of lemma  [ domainlemma ] .    moreover , the function @xmath347 satisfying the previous assumption is the characteristic function of a set of finite perimeter and might be considered a natural choice as an initial guess for any iterative method .",
    "hopefully , the target set @xmath10 may provide such an initial guess , that is it would be desirable that the previous assumption be satisfied by @xmath356 . as we shall show in the numerical tests ,",
    "actually in practice it is not always convenient to use as an initial guess the target itself or a small perturbation of it .",
    "we conclude that , under this assumption , if @xmath11 is a minimizer of @xmath346 , then @xmath113 where @xmath87 is a set of finite perimeter and @xmath357 is not empty .",
    "such a set @xmath87 should be chosen as the optimal mask and @xmath357 would be the optimal reconstructed circuit .",
    "the minimization of @xmath346 presents several challenges from a numerical point of view .",
    "therefore we approximate , in the sense of @xmath0-convergence , the functional @xmath346 with a family of functional @xmath358 which are easier to compute with .",
    "we recall that @xmath161 is the fixed threshold .",
    "we take a @xmath359 function @xmath360 such that @xmath361 is nondecreasing , @xmath362 for any @xmath363 and @xmath364 for any @xmath365 . for",
    "any @xmath326 let @xmath366    for any @xmath326 , let @xmath367 be defined as @xmath368    let us summarize the properties of such a function @xmath369 .",
    "[ uniformcontprop ] for any @xmath326 , let @xmath367 be defined as in ( [ phidefin ] ) .",
    "we have that @xmath369 is uniformly continuous with respect to the @xmath189 norm on @xmath190 and the @xmath191 norm on @xmath370 .",
    "furthermore , for any @xmath85 , @xmath369 converges , as @xmath371 , uniformly to @xmath372 on @xmath303 with respect to the distance @xmath304 on @xmath305 , that is for any @xmath105 there exists @xmath373 such that , for any @xmath374 , @xmath375 , we have @xmath376    proof . the fist part is an easy consequence of proposition  [ regularityprop ] .",
    "the second and more important part may be proved in an analogous way as proposition  5.1 in @xcite.@xmath208    furthermore , for any @xmath377 , let us define @xmath378 $ ] satisfying the following properties .",
    "first , @xmath379 is lower semicontinuous , with respect to the @xmath189 convergence in @xmath190 .",
    "second , for any @xmath179 and any @xmath380 , we have @xmath381 let us denote , for consistency , @xmath382 .",
    "we shall use the following result .",
    "[ r_epsilon ] for any @xmath284 , let @xmath283 and @xmath383 be such that , as @xmath285 , @xmath295 converges to @xmath179 in @xmath189 and @xmath384 is a nonincreasing sequence converging to @xmath136 .",
    "then we have that @xmath385    proof .",
    "let us fix @xmath386 .",
    "then for any @xmath387 we have @xmath388 by the semicontinuity of @xmath389 and the continuity of @xmath13 , we infer that for any @xmath386 @xmath390 letting @xmath391 go to infinity we easily conclude the proof.@xmath208    the main example of such a family of operators @xmath379 is given by substituting in the definition of @xmath13 in ( [ newr ] ) the function @xmath35 with a function @xmath392 $ ] , that is to define @xmath393 in order to have the required properties on the family of operators @xmath379 it is enough that @xmath394 is continuous on @xmath395 and , for any @xmath396 and any @xmath380 , we have @xmath397 the main advantage is that in this way we may choose @xmath394 which is smooth and real valued everywhere .",
    "we are now in the position of describing the approximating functionals and proving the @xmath0-convergence result .",
    "let us a fix a constant @xmath398 , @xmath399 , and a continuous function @xmath101 such that @xmath102 if and only if @xmath103 .",
    "let us denote by @xmath116 , @xmath105 , the functional defined in ( [ modmordef ] ) with @xmath400 and the double - well potential @xmath401 .",
    "we recall that the functional @xmath342 is defined in ( [ pdef ] ) .",
    "then , for any @xmath105 , let us define @xmath402 $ ] such that @xmath403 where @xmath404 is a continuous , increasing function such that @xmath405 and @xmath406 is a continuous , nondecreasing function such that @xmath407 . notice that here we may also assume @xmath47 identically equal to zero .",
    "let us observe that , for any @xmath179 , @xmath408    by the direct method , each of the functionals @xmath409 , @xmath105 , admits a minimum over @xmath190 .",
    "we now state the @xmath0-convergence result .",
    "[ gammaconvteo ] as @xmath410 , @xmath409 @xmath0-converges to @xmath346 on @xmath190 with respect to the @xmath189 norm .    proof .",
    "let us fix @xmath411 , @xmath284 , such that @xmath412 converges to @xmath136 as @xmath285 .",
    "let @xmath413 and let @xmath179 . without loss of generality we may assume that @xmath412 is decreasing with respect to @xmath284 .",
    "we begin with the @xmath0-@xmath414 inequality .",
    "let @xmath283 , @xmath284 , be such that @xmath295 converges to @xmath11 in @xmath189 . without loss of generality , we may assume that @xmath415 , @xmath284 , is uniformly bounded by a constant @xmath120 . then by lemma  [ r_epsilon ] , and by the continuity of @xmath13 , we infer that @xmath11 and @xmath295 , for any @xmath284 large enough , belong to @xmath303 .",
    "as @xmath285 , the first term of the right - hand side converges to @xmath136 by proposition  [ uniformcontprop ] , whereas the second converges to @xmath136 by lemma  [ firstlemma ] . therefore the @xmath0-@xmath414 inequality immediately follows by the @xmath0-convergence of @xmath116 to @xmath342 and lemma  [ r_epsilon ] .    for what concerns the recovery sequence , without loss of generality",
    "we may restrict ourselves to the case in which @xmath417 is finite .",
    "the @xmath0-convergence of @xmath116 to @xmath342 allows us to find @xmath283 , @xmath284 , such that @xmath295 converges to @xmath11 in @xmath189 and @xmath418 converges to @xmath172 . by lemma  [ r_epsilon ] . and a reasoning analogous to the one developed for the @xmath0-@xmath414 inequality",
    ", we immediately conclude that @xmath415 converges to @xmath417.@xmath208    [ equicoerciveprop ] there exist @xmath419 and a compact subset @xmath420 of @xmath190 such that for any @xmath121 , @xmath122 , we have @xmath421    proof . by the @xmath0-convergence result , in particular by the construction of the recovery sequence applied to a minimizer of @xmath346 , we infer that there exist @xmath419 and a positive constant @xmath308 such that for any @xmath121 , @xmath122 , we have @xmath422 .",
    "let @xmath423 , @xmath424 , be such that @xmath425 .",
    "then we observe that the set @xmath426 satisfies the properties of proposition  [ compactnessoss ] for some constant @xmath120 .",
    "therefore @xmath426 is precompact in @xmath111 and the proof is concluded.@xmath208    using theorem  [ gammaconvteo ] and proposition  [ equicoerciveprop ] , we apply the fundamental theorem of @xmath0-convergence to conclude with the following result .",
    "[ finalteo ] we have that @xmath346 admits a minimum over @xmath190 and @xmath427    let @xmath412 , @xmath428 , be a sequence of positive numbers converging to @xmath136 .",
    "for any @xmath284 , let @xmath413 .",
    "if @xmath429 is a sequence contained in @xmath190 which converges , as @xmath285 , to @xmath179 in @xmath189 and satisfies @xmath430 , then @xmath11 is a minimizer of @xmath346 on @xmath190 , that is @xmath11 solves the minimization problem ( [ min0 ] ) .",
    "we notice that if @xmath429 is a sequence contained in @xmath190 such that @xmath430 , then , again by proposition  [ compactnessoss ] , we have that , up to a subsequence , @xmath295 converges , as @xmath285 , to a function @xmath179 in @xmath189 , where @xmath11 is a minimizer of @xmath346 on @xmath190 .",
    "finally , we point out the following remark that may be of use in the numerical computation of the minimizers .",
    "[ distoss ] all the results remain valid also with the following modifications .",
    "since we are dealing only with @xmath305 functions whose values are between @xmath136 and @xmath43 , we may replace , in the definition of @xmath346 and @xmath409 , @xmath105 , the distance @xmath304 with the following distance - like function @xmath431 , for any @xmath95 , @xmath432 , defined as follows @xmath433).\\ ] ] moreover , we may allow in all cases the parameter @xmath176 to be equal to @xmath136 .",
    "for some positive @xmath121 we shall minimize the functional @xmath409 defined in ( [ fepsilondefin ] ) , with @xmath304 replaced by @xmath434 ( see remark  [ distoss ] ) and where the tuning parameter @xmath176 is allowed to be @xmath136 .",
    "let @xmath7 be the computational domain , that for simplicity we choose as a square centered in the origin .",
    "we assume that @xmath11 is always a real valued function on @xmath7 and is extended to zero outside @xmath7 .",
    "following @xcite , we use the kernel @xmath131 defined in ( [ kdefin ] ) and approximate the mutual intensity function @xmath132 defined in ( [ jdef ] ) and ( [ jdefstar ] ) by @xmath435 where @xmath436    correspondingly , the intensity function can be approximated as follows @xmath437 where @xmath438 here @xmath439 is the hopkins transmission cross coefficients ( tcc ) function .",
    "the advantage of using the hopkins model is that the tcc function is independent of the mask function @xmath1 , therefore , given an optical system , the tcc function only needs to be computed once .    in the discrete formulation",
    "we subdivide @xmath7 into @xmath440 squares with sides of length @xmath441 .",
    "setting @xmath442 , @xmath443 and @xmath444 , with @xmath445 , @xmath446 , @xmath447 , we have @xmath448 where @xmath11 is an @xmath440 real valued matrix , whereas @xmath439 is here a @xmath449 matrix .",
    "we notice that for any @xmath440 matrix @xmath450 we shall always assume that @xmath451 for any @xmath452 such that @xmath453 .",
    "analogously we are assuming that @xmath454 for any @xmath455 such that either @xmath456 or @xmath457 , that is we are introducing here another approximation since we are dropping @xmath439 to zero outside @xmath458 .",
    "following the arguments in @xcite , we notice that @xmath439 is a positive , semi - definite hermitian matrix and we decompose @xmath439 through a singular value decomposition , actually through the following eigenfunction expansion @xmath459 where @xmath460 are the nonnegative eigenvalues , which we assume to be decreasing with respect to @xmath461 , and @xmath462 are the corresponding eigenfunctions . in general ,",
    "due to the fast decay of its eigenvalues , we can approximate @xmath439 by its dominant eigenvectors , that is we may further approximate our intensity functional by using instead of @xmath439 @xmath463 for a suitably low number @xmath464 .",
    "this leads to a further improvement on the computational efficiency of the aerial intensity .",
    "moreover , similar to the tcc function , the eigenvalues and eigenvectors are pre - computable when the optical system is fixed .",
    "since @xmath464 is usually small , using @xmath465 instead of @xmath439 decreases the computational cost of repeated intensive calculations in the inverse problem .    finally , the discrete approximated intensity functional @xmath6 we shall use instead of @xmath184 is @xmath466 for any real valued @xmath440 matrix @xmath11 .",
    "we notice that @xmath199 denotes the discrete convolution of matrices and we recall that any @xmath440 matrix is extended to zero on any index @xmath452 such that @xmath453 .    in order to use a gradient method for our numerical computations",
    "we need to compute differentials with respect to @xmath11 of functionals applied to @xmath467 . for simplicity , we set for the time being @xmath468 .",
    "given @xmath11 , a real valued @xmath440 matrix , and the variation @xmath313 , another real valued @xmath440 matrix , we have that @xmath469=2\\re\\left ( \\sum_{n=1}^{n_0}\\sigma_n(v_n\\ast u)\\overline{(v_n\\ast v ) } \\right).\\ ] ]    let us begin with the following simpler case .",
    "let @xmath470 for some real valued function @xmath35 .",
    "we need to compute @xmath471 .",
    "we remark that , if @xmath472 is the matrix which is one in @xmath473 and zero elsewhere , then @xmath474 $ ] . using the same argument as before ,",
    "we obtain @xmath475= 2\\re \\left(\\sum_{n=1}^{n_0}\\sigma_n\\left ( \\sum_{k}f'(i(u))(k )   ( v_n\\ast u)(k)\\overline{(v_n\\ast e_{i_1,i_2})}(k ) \\right)\\right).\\ ] ] but @xmath476 , with @xmath442 .",
    "let us call @xmath477 .",
    "then summing upon @xmath391 we have @xmath478 in conclusion @xmath479 let us notice that , assuming our computational domain is centered in @xmath136 , we can easily compute @xmath480 through the matlab command @xmath481 .",
    "let now @xmath482 where @xmath483 is a real valued function defined on @xmath20 and @xmath484 , @xmath485 , are partial derivatives with respect to the two variables , in any finite differences sense .",
    "again we need to compute @xmath486 .",
    "we denote @xmath487 the partial derivative of @xmath483 with respect to the first variable and @xmath488 the partial derivative of @xmath483 with respect to the second variable .",
    "then similarly we have @xmath489 where @xmath477 , @xmath490 , @xmath491 and @xmath492    let us now investigate @xmath493 .",
    "we have that @xmath494 therefore @xmath495= 2\\re\\left(\\sum_{n=1}^{n_0}\\sigma_n\\left[(\\partial_{x_1}v_n\\ast u)\\overline{(v_n\\ast v)}+ ( \\partial_{x_1}v_n\\ast v)\\overline{(v_n\\ast u)}\\right ] \\right).\\ ] ]    finally , for a real valued function @xmath267 defined on @xmath20 , let @xmath496 we denote with @xmath497 the partial derivative of @xmath267 with respect to the first variable and with @xmath498 the partial derivative of @xmath267 with respect to the second variable .",
    "a completely similar computation leads to @xmath499 where , for @xmath485 , @xmath500 @xmath501 @xmath502    with these results we can compute the gradient for any term of our functional to be minimized . for example , the discretised version of our regularization functional @xmath379 may be expressed as @xmath503 that is @xmath504 where @xmath505 , hence @xmath506 and @xmath507 .    in our numerical experiments",
    "we shall use the following common parameters .",
    "the computational domain is @xmath508 and , since we take @xmath509 , it is subdivided into @xmath510 squares , each of them with sides of length @xmath511 .",
    "we use the first @xmath512 eigenvalues in @xmath465 and consider the optical system with the following physical parameters @xmath513 these correspond to the parameters used in @xcite even if our notation is slightly different . actually in the numerical computation we use the eigenvalues @xmath460 and eigenfunctions @xmath462 computed in @xcite .    about the perimeter approximation @xmath116 defined in ( [ modmordef ] ) we choose @xmath514 and @xmath515 for any @xmath516 . since in our computation",
    "we are dropping in @xmath116 the constant @xmath517 , in this section the parameter @xmath243 actually corresponds to @xmath518 in the notation of the previous section .",
    "we choose @xmath394 to be an approximation from below of @xmath35 , where @xmath35 is defined as in ( [ fdefinition ] ) with @xmath519 and @xmath233 is as in ( [ varphidefin ] ) .",
    "normalizing the threshold @xmath4 to be equal to @xmath43 and the length of the pixel @xmath520 to be equal to @xmath43 as well , the term @xmath379 penalizes critical values of the intensity @xmath467 close to @xmath43 , namely the worst situation is when the triple @xmath521 is equal to @xmath522 .",
    "if we call @xmath523 the distance between @xmath521 and @xmath522 , in the euclidean norm , that is @xmath524 the aim of @xmath379 is not to let @xmath523 go to zero at any point , actually we wish to avoid the case in which @xmath523 , in this normalized setting , is of the order of @xmath525 or less",
    ". therefore we choose @xmath379 in such a way that it strongly penalizes the case in which @xmath523 is less than or equal to @xmath525 and has no effect whatsoever when @xmath523 is above @xmath526 .",
    "we keep this property fixed for any @xmath47 and we let the values of @xmath394 , thus the value of @xmath379 , increase as the positive parameter @xmath47 goes to @xmath136 .",
    "we start with an initial value of @xmath121 , @xmath374 and @xmath47 , namely @xmath527 , @xmath528 , and @xmath529 , and its corresponding functional @xmath530 , and a suitable initial guess @xmath531 . by a gradient method , namely a standard steepest descent ,",
    "we look for @xmath532 , a minimizer of @xmath530 , using @xmath533 iterations .",
    "then we update the parameters @xmath121 , @xmath374 and @xmath47 , by dividing their previous values by the corresponding decrease rate given by @xmath534 , @xmath535 and @xmath536 respectively .",
    "we use the computed minimizer @xmath532 of @xmath530 as the initial guess and try to minimize the functional @xmath409 with the updated parameters .",
    "we repeat the procedure after any @xmath533 iterations .",
    "this allows us to have at the beginning a fast convergence to a reasonably good mask , no matter what the initial guess is , and a refinement of the optimal mask later on .",
    "the numerical experiments show that in general it is better to keep these decrease rates rather close to @xmath43 .",
    "after we have decreased the parameters a fixed number of times , we consider the computed minimizer of the last final functional @xmath409 as our final optimal phase - field function @xmath11 .",
    "the final optimal mask is obtained from this numerical solution of the phase - field variable @xmath11 by taking the set where @xmath537 . actually , as we shall show in our tests , due to the presence of the modica - mortola functional , on most occasions the final optimal phase - field function @xmath11 is already binary taking values @xmath136 and @xmath43 only , therefore it coincides with the final optimal mask .",
    "we recall that , given a phase - field function @xmath11 , which is a function on the computational domain with values in @xmath12 $ ] , its outcome pattern is the region where the light intensity is over the threshold value @xmath4 .",
    "the threshold in our tests equals @xmath538 percent of the maximum value of @xmath539 , where @xmath539 is the intensity when the mask is exactly the target pattern , that is , @xmath540 .",
    "we now describe the outcome of our numerical tests .",
    "we shall use two different types of targets , shown in figure [ fig : targets ] .",
    "the first target pattern , target 1 , is composed of two features . the smallest width of the outside feature is 10 pixels , the width of the inside vertical bar is 13 pixels , two features are at least 12 pixels apart from each other .",
    "the second target pattern , target 2 , is more complicated , consists of four features , with width as small as 8 pixels and distance between two different features as small as 6 pixels .",
    "we first briefly discuss tests regarding target @xmath43 , then we move to the more interesting target @xmath45 .      in these tests",
    "we use the following parameters .",
    "the weight of the term containing the difference between the two perimeters , or more precisely the two total variations , in the distance function @xmath434 is @xmath541 ; the weight of the modica - mortola term @xmath542 is @xmath543 .",
    "the weight of the regularization term @xmath379 is @xmath544 .",
    "moreover we set @xmath545 , @xmath546 and @xmath547 and we perform @xmath548 iterations in total , that is we decrease @xmath549 times our parameters .",
    "correspondingly , at the end we compute the minimizer of the final functional @xmath409 corresponding to the parameters @xmath550 , @xmath551 , and @xmath552 .",
    "we use two different initial guesses . in the _ test n.1",
    "_ we consider an initial guess which is a smooth perturbation of the target itself , in _",
    "test n.2 _ the initial guess is much more diffuse and has nothing to do with the target itself .",
    "the results are presented in figure  [ fig : target1 ] .",
    "let us notice that for initial guesses and masks , the value @xmath136 is depicted in black , whereas the value @xmath43 is in white . concerning the output , we show the difference between the exposed pattern and the target .",
    "namely , in white we have the part of the exposed pattern which is outside the target and in black the part of the target that is not contained in the exposed pattern .",
    "the black line is the profile of the target .",
    "first of all we have that in both cases we converge to a binary function , due to the effect of the modica - mortola functional .",
    "the mask so obtained is very diffuse , even with an initial guess which is not . actually , the reconstruction is better when the initial guess is more diffuse .",
    "in fact the difference between the exposed pattern and the target pattern is 61 pixels in _",
    "test n.1 _ and 44 pixels in _ test n.2 _ and the output is also visibly better .",
    "we also notice that the two masks are rather different in shape , this may be due to the fact that the original functional @xmath346 may have several local minima and different initial guesses or different choices of the parameters may therefore lead to quite different masks .    since , in both cases , the intensity corresponding to the phase - fields during the iterations has never reached a critical point with value near to the threshold , the result does not change even if we add the regularization term @xmath379 ( we have tested it with its coefficient @xmath343 varying from to @xmath553 to @xmath554 ) , in accord to the theory .                            in order to verify that having a diffuse mask with lot of assist features is an advantage , we took the initial guess of _",
    "test n.1 _ but we impose our phase - fields during our iterations ( and consequently our final mask ) to be kept to zero outside a fixed neighbourhood of the target .",
    "the outcome is worse , the difference in pixels from the target being 66 , see figure  [ fig : target1cut ] .              in the first two tests we use the same parameters as for target @xmath43 ,",
    "namely the weight of the difference between the perimeters in the distance function is @xmath541 ; the weight of the modica - mortola term @xmath542 is @xmath543 .",
    "the weight of the regularization term @xmath379 is @xmath544 .",
    "moreover we set @xmath555 , @xmath556 and @xmath557 and we perform @xmath548 iterations in total .",
    "we first investigate two tests with different initial guesses . in the _ test n.1 _ we consider an initial guess which is a smooth perturbation of the target itself , in _ test n.2 _",
    "the initial guess is much more diffuse and has nothing to do with the target , it is actually the same as in _",
    "test n.2 _ for target 1 .",
    "the results are presented in figure  [ fig : target2 ] and the conclusions are similar to those discussed for target 1 .",
    "notice that the difference between exposed pattern and target is 233 for _ test n.1 _ and 227 for _ test n.2_. hence , we use the diffuse initial guess of _",
    "test n.2 _ in all the following tests .",
    "we shall discuss in detail the effect of the regularization term @xmath558 , the main theoretical novelty of the paper .",
    "since it penalizes critical points at values close to the threshold value @xmath4 , its effect should be the one to make the reconstruction more stable with respect to perturbations of @xmath4 , especially from a topological point of view .",
    "we consider the following two cases . in the first case",
    "we keep the parameters of _ test n.2 _ except the value of the coefficient @xmath343 of @xmath379 .",
    "test n.3 _ is equal to _",
    "( @xmath559 ) whereas for _ test n.4 _ we set @xmath560 and for _ _ test n.5 _ _ we set @xmath561 , that is we steadily increase the coefficient of @xmath379 .",
    "notice that here sometimes the final optimal phase - field function @xmath11 is not binary , however the number of pixels where @xmath11 is different from @xmath136 and @xmath43 is very limited .",
    "we conjecture that when this happens we are most likely stuck near a local minimum of the final functional @xmath409 .",
    "we remark that there seems to be not much difference in the masks ( which are not shown ) and the outputs ( the error in pixels is 227 for _ test n.3 _ , 225 for _ test n.4 _ and 227 again for _ test n.5 _ ) .",
    "however , @xmath379 prevents the threshold from being a critical value .",
    "in fact , the minimal value of the function @xmath523 defined above in ( [ d_defin ] ) goes from 1.27% in _ test n.3 _ to 2.24% in _",
    "test n.4 _ and finally to 4.35% in _",
    "test n.5_. the benefit of the penalty is stability with respect to the changes of the threshold @xmath4 as we shall shortly see .",
    "we change the value of the threshold by a percentage value of @xmath562 .",
    "the outcome is shown in figure  [ fig : change_c1 ] .",
    "on the top we have _ test n.3 _ ( with @xmath559 ) , in the center we have _ test n.4 _ ( @xmath563 and on the bottom we have _ test n.5 _ ( @xmath561 ) . from left to right",
    "we see how the reconstruction changes if we vary the value of threshold .",
    "on left the threshold is @xmath4 ( corresponding to @xmath564 ) , in the middle it is @xmath565 ( @xmath566 ) , and on the right it is @xmath567 ( @xmath568 ) . even if the improvement by increasing the parameter @xmath343 is not that striking from the point of view of the error in pixels , from a topological point of view it is actually remarkable .    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "test n.5 _ ( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "test n.5 _ ( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "test n.5 _ ( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "bottom : _ test n.5 _ ( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "test n.5 _ ( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 .",
    ", scaledwidth=100.0% ]    ) .",
    "( @xmath560 ) .",
    "test n.5 _ ( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "test n.5 _ ( @xmath561 ) .",
    "left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 . ,",
    "scaledwidth=100.0% ]    ) .",
    "test n.4 _ ( @xmath560 ) .",
    "test n.5 _ ( @xmath561 ) . left : @xmath564 .",
    "middle : @xmath566 .",
    "right : @xmath568 . , scaledwidth=100.0% ]    this is even more striking in this other example where we decrease @xmath121 , @xmath374 and @xmath47 faster , by using @xmath569 , @xmath570 and @xmath571 , and we perform @xmath572 iterations in total . keeping all the other parameters fixed , we call _ test n.6 _ the one with @xmath559 , _",
    "test n.7 _ the one with @xmath560 and , finally , _ test n.8 _ the one with @xmath561 .",
    "the outcome is shown in figure  [ fig : change_c2 ] .",
    "on the top we have _ test n.6 _",
    "( with @xmath559 ) , in the center we have _ test n.7 _ ( @xmath560 ) and on the bottom we have _ test n.8 _ ( @xmath561 ) . from left",
    "to right we see how the reconstruction changes if we vary the value of threshold . on the left",
    "the threshold is @xmath573 ( @xmath574 ) , in the middle it is @xmath4 ( @xmath564 ) , and on the right it is @xmath575 ( @xmath576 ) .    in _",
    "test n.6 _ , without the regularization term @xmath379 , the hole appears even if we take a threshold lower than @xmath4 .",
    "the hole is not present for threshold @xmath4 if we add @xmath379 with a small coefficient and it is not present for a considerably higher value of the threshold ( @xmath577 ) if the coefficient of @xmath379 is slightly bigger .    )",
    ". center : _ test n.7 _ ( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) . left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.7 _ ( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) . left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.7 _ ( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) . left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.7 _ ( @xmath560 ) .",
    "( @xmath561 ) . left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) . left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.7 _ ( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) .",
    "left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.7 _ ( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) . left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "test n.7 _ ( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) .",
    "left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    ) .",
    "( @xmath560 ) .",
    "test n.8 _ ( @xmath561 ) . left : @xmath574 .",
    "middle : @xmath564 .",
    "right : @xmath576 .",
    ", scaledwidth=100.0% ]    so far we have kept the coefficient @xmath176 equal to @xmath136 .",
    "in fact , in our experiments we see that the term containing the difference between the perimeters in the definition of the distance function @xmath434 actually does not play a big role and in general does not improve the reconstruction .",
    "however for completeness we show the outcome of an experiment where the full functional is used , namely we modify _",
    "test n.4 _ above by changing the parameter @xmath176 from @xmath136 to @xmath578 .",
    "the error in pixels is 232 in this case and the outcome is illustrated in figure  [ fig : perimeter ] .    , @xmath579 ) .",
    "left : mask .",
    "right : output.,scaledwidth=100.0% ]    , @xmath579 ) . left : mask .",
    "right : output.,scaledwidth=100.0% ]      from our numerical experiments we can draw the following general conclusions .    1 .",
    "the outcome mask is very diffuse and is not at all close to target . while the optimal mask has shapes much more complicated than the target , the exposed region is close to the target .",
    "the main reason for these two facts is the high nonlocality of the image intensity .",
    "the final shape of the mask strongly depends on the initial guess , since the functional @xmath346 is nonconvex therefore may have several absolute and local minimizers .",
    "the presence of several local minima , in this case of the approximated functional @xmath409 , has also the effect that sometimes we do not have convergence to a perfectly binary function .",
    "however , the discrepancy with a binary function is limited to very few pixels .",
    "we observed that the reconstruction is in general better when the parameters decrease slowly and uniformly .",
    "the effect of the term containing the difference between the two perimeters in the definition of the distance @xmath434 does not have a pronounced influence on the optimal mask .",
    "this can be understood from the fact that this term is the difference between two numbers which are not very local .",
    "in this paper we studied the inverse problem of photolithography , which can be viewed as an optimal shape design problem .",
    "a main novelty of the paper is the regularization term @xmath13 , which has both theoretical and practical value . in solving the inverse problem",
    ", the penalty term has a desirable stabilizing influence .",
    "when the threshold @xmath4 is not close to a critical value of the intensity , the penalty term has no effect .",
    "this is what happens when we performed the computation using target 1 . for target 2 ,",
    "the intensity has a local minimum inside the biggest feature with a local minimum value very close to the threshold .",
    "this is why a hole may appear in the reconstruction for small perturbations of the threshold . in this case",
    "the term @xmath523 defined in ( [ d_defin ] ) is very small at this local minimum point , therefore @xmath580 , the minimum value of @xmath523 , is very close to @xmath136 .",
    "it happens that the term @xmath379 raises the value of @xmath580 , essentially by pushing away , and actually up , the local minimum value from the threshold value . as a practical effect , the hole will not show up even at a higher perturbation of the threshold .",
    "therefore we greatly improve the topological stability of the reconstruction by adding the term @xmath13 .",
    "the authors thank hande tzel for providing the codes to compute the hopkins aerial intensity .",
    "is partly supported by universit degli studi di trieste through fondo per la ricerca di ateneo  fra 2012 and by gnampa , indam .",
    "the research of f.s . is funded in part by nsf award dms-1211884 .",
    "this research was started at the institute for mathematics and its applications ( i m a ) when z.w .",
    "was a postdoctoral fellow .",
    "the i m a receives funding from the nsf under award dms-0931945 ."
  ],
  "abstract_text": [
    "<S> photolithography is a process in the production of integrated circuits in which a mask is used to create an exposed pattern with a desired geometric shape . in the inverse problem of photolithography , </S>",
    "<S> a desired pattern is given and the mask that produces an exposed pattern which is close to the desired one is sought . </S>",
    "<S> we propose a variational approach formulation of this shape design problem and introduce a regularization strategy . </S>",
    "<S> the main novelty in this work is the regularization term that makes the thresholding operation involved in photolithography stable . </S>",
    "<S> the potential of the method is demonstrated in numerical experiments .    * keywords * photolithograpy , shape optimization , inverse problem , calculus of variations , sets of finite perimeter , @xmath0-convergence . </S>"
  ]
}