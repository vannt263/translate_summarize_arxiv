{
  "article_text": [
    "nowadays , renewable power producers , such as wind farms and solar plants , are being rapidly integrated to the power system . in @xmath2 ,",
    "investment on renewables sets a record of @xmath3 billion dollars , more than double the amount for fossil fuels  @xcite .",
    "renewables are attractive in that they are clean , free ( except capital and maintenance cost ) , and inexhaustible .",
    "integration of renewables into the power system and particularly in the electricity market , however , is challenging since their generation is uncontrollable , intermittent , and unpredictable . a promising approach to facilitate the renewable integration and hedge against the uncertainty ,",
    "is to equip the renewable plants with the giant energy storage systems  @xcite .",
    "some examples are the storage stations at southern california ( with capacity of @xmath4mwh ) , south korea ( @xmath5mwh ) , and germany ( @xmath6mwh )  @xcite .    in several existing electricity markets ,",
    "renewable power producers receive guaranteed feed - in tariffs , _",
    "e.g. _ , `` take - all - wind '' policy in california s electricity market  @xcite .",
    "`` take - all - wind '' policy guarantees that the market absorbs the entire renewable supply at favorable fixed prices .",
    "this policy is feasible since the current market share of the renewables is not significant , at most @xmath7 , on average around the world , in @xmath2  @xcite .",
    "the extra - market treatment policy , however , is not viable in future .",
    "recently , the deployment cost of the renewables is dropping rapidly , _ e.g. _ , the price of solar panel has fallen by @xmath8 from @xmath9 to @xmath10  @xcite .",
    "this reduction in price along with the environmental concerns pushes rapid penetration of the renewables , _",
    "e.g. _ , in denmark , the plan is to achieve @xmath11 and @xmath12 renewable generation in @xmath13 and @xmath14 , respectively @xcite .",
    "hence , in eventual market with the considerable renewables market share , it is inevitable to treat renewable producers the same as other traditional generation companies  @xcite .",
    "several electricity markets such as nyiso  @xcite , caiso  @xcite , and nord pool  @xcite operate in a multi - settlement manner and settle transactions at multiple timescales , _",
    "i.e. _ , day - ahead , hour - ahead  @xcite , and real - time . considering the uncertainty of renewable output , srgencotends to participate in short - term market , specifically hour - ahead market , without suffering profit reduction caused by long - term forecasting errors @xcite .",
    "in reality , caiso s participating intermittent resource program ( pirp @xcite ) is already requiring wind power plants to bid into their hour - ahead market . in hour - ahead market operation , the generation companies including renewable producers submit their _ offers _ ( including offering price and offering volume ) for selling the electricity in the next hour ( see sec .  [",
    "sec : hour ] for more details on the hour - ahead market operation ) .",
    "this work focuses on designing offering strategies , _",
    "i.e. _ , the strategies that determine the offering price and volume , for storage - assisted renewable generation company ( srgenco ) that participates in hour - ahead market .    as depicted in fig .",
    "[ fig : scenario ] , we consider a scenario in which an srgenco , like other traditional generation companies , participates in hour - ahead market by ( 1 ) submitting the offer . after receiving the offers ,",
    "( 2 ) the market operator matches the offers with the bids from the demand - side and announces a market clearing price .",
    "if the offering price of srgencois less than the clearing price , ( 3 ) its offering volume is considered as the _ commitment _ to the market for the next hour . in turn , srgencois paid according to the clearing price .",
    "finding profit maximization offering strategy for a renewable producer without storage , is nontrivial due to the inherent uncertainty of the renewables and dynamics in the market clearing price . in the presence of storage ,",
    "the offering strategy is even more challenging because of the additional design space enabled by the storage .",
    "more specifically , at first , srgencocan use the storage to compensate for the slots that the renewable output can not fulfill the commitment .",
    "in addition , the storage can potentially offer another economic advantage .",
    "that is , it can shift the energy through absorbing the renewable output during low price periods , and then discharge it during the high price periods . in this way , designing profit maximization offering strategy in the presence of storage comes with wider design space than those without the storage and potentially can bring more profit for srgenco .    to design the offering strategy",
    ", this paper casts an optimization problem with the objective of maximizing the long - term profit of srgencosubject to the storage capacity constraints .",
    "the inputs to the problem , _",
    "i.e. _ , the renewable output and the clearing price , however , are unknown for srgencowhen submitting offer .",
    "this emphasizes the need for online solution design which is challenging , since the problem is coupled across time due to the evolution of the storage .",
    "we note that some similar problems have been studied in literature using offline  @xcite and stochastic optimization approaches  @xcite .",
    "we refer to sec .",
    "[ sec : prob ] for details .    by introducing the system model and problem formulation in sec .",
    "[ sec : sys ] , this work tackles the profit maximization offering strategy problem following online competitive algorithm design  @xcite and makes the following contributions :    1 .   in sec .",
    "[ sec : sol ] , we study a basic setting where the exact values of renewable output and the clearing price for the next slot are known to srgencobefore submitting the offer . even under this idealized setting , solving the problem is still challenging since the input to problem is still unknown for future slots beyond the next one .",
    "we propose , a simple online offering strategy , in which the offering volume is calculated through a piecewise exponential / constant function of the renewable output and the current storage level , as well as the clearing price of the next slot .",
    "our analysis demonstrates that achieves the best possible competitive ratio of @xmath15 , where @xmath1 is the ratio between the maximum and minimum clearing prices .",
    "2 .   in sec .",
    "[ sec : online_nostep1 ] , we study the case where the clearing price is unknown and propose . in , srgencosubmits multiple offers , each of which conveys a portion of the total offering volume , at different offering prices .",
    "our analysis shows that the competitive ratio of converges to the ratio of as the number of offers grows .",
    "moreover , in sec .",
    "[ sec : online_nostep2 ] , our approach is extended to the case where srgencoknows renewable output with forecasting error .",
    "we propose as the generalized offering strategy and characterize the competitive ratio as a function of the maximum forecasting error .",
    "3 .   in sec .",
    "[ sec : exp ] , by extensive numerical experiments based on real - world traces , we show that our online offering strategies can achieve satisfactory performance as compared to the offline optimum . in addition , with @xmath16 forecasting error improves the profit of srgencoby @xmath17 as compared to the baseline scenario without storage .",
    "as notable observations , our experiments demonstrate that when the market clearing price is unknown , submitting @xmath18 offers is sufficient to achieve almost the same performance as the case that the market price is known",
    ". moreover , forecasting error of more than @xmath19 significantly degrades the performance results . in summary ,",
    "our observations demonstrate that , while the uncertainty in market price can be effectively handled by multiple offer submissions , accurate short - term renewable forecasting is vital for to obtain a desired profit .",
    "we conclude the paper in sec .",
    "[ sec : con ] . due to space limitation ,",
    "all proofs are included in our technical report  @xcite .",
    "@xmath20 & index of one - hour time slot + @xmath21 & the number of time slots , @xmath22 + @xmath23 & set @xmath24 + @xmath25 & market clearing price at @xmath20 , @xmath26 + @xmath1 & the ratio between the maximum and the minimum clearing prices , @xmath27 + @xmath28 & the renewable output of srgencoat @xmath20 + @xmath29 & the capacity of storage system + @xmath30 & the maximum charging rate of storage system + @xmath31 & the maximum discharging rate of storage system + @xmath32 & the storage level at the beginning of @xmath20 , see eq .",
    "+ @xmath33 & * optimization variable * , offering price of srgencoat @xmath20 + @xmath34 & * optimization variable * , offering volume of srgencoat @xmath20 + @xmath35 & commitment volume of srgencoat @xmath20 , see eq .",
    "+ @xmath36 & over - commitment volume of srgencoat @xmath20 , see eq .",
    "+ @xmath37 & the net profit of srgencoat @xmath20 , see eq .",
    "+      the hour - ahead market operates in hourly basis or @xmath38 minutes ahead . for real examples we refer to california iso  @xcite and nord pool markets  @xcite . for a survey of electricity markets",
    ", we refer to  @xcite . ] and along with other generation companies submits its offer , including the offering price and the offering volume ( see sec .",
    "[ sec : offer2 ] for details ) , for the forthcoming hour shortly before the operation time .",
    "the market operator ( usually known as independent system operator , iso ) matches the offers collected from the generation companies with the received bids from the demand - side , _",
    "e.g. _ , utility companies .",
    "then , using a well - established double auction mechanism  @xcite it determines the market clearing price for the next hour .",
    "the generation companies with the offering prices less than the clearing price are successful and the offering volume of electricity is considered as their _ commitment _ to be sold on the market at the clearing price .",
    "thus , successful offers sell at price at least as high as what they offered .",
    "all the remaining offers fail since their offering prices are greater than the clearing price .",
    "formally , we consider a time - slotted model , such that the time horizon @xmath21 is chopped into multiple slots with equal length , _",
    "e.g. _ , @xmath39 hour , each of which is indexed by @xmath20 . shortly before slot @xmath20 ,",
    "srgencoalong with other participants submits its offer , for the next slot .",
    "the iso determines the clearing price @xmath25 shortly after the participants submit their offers and bids .",
    "we assume @xmath26 , and parameter @xmath1 is defined as the ratio between the maximum and the minimum clearing prices , _ i.e. _ , @xmath40 .",
    "we later use @xmath1 to analyze our algorithms .",
    "there is a storage - assisted renewable generation company ( srgenco ) that produces electricity from the renewable sources such as wind farm or solar plant . at the same time",
    "srgencois equipped with the storage systems to store the electricity for future commitment with potentially higher price . on the other hand , the storage could be discharged to compensate for the shortage of renewable output when the commitment to the market is beyond the renewable output .",
    "the renewable output of at slot @xmath20 is denoted by @xmath28 and we do not rely on any specific stochastic model of @xmath28 . in general ,",
    "we assume that srgencodoes not know the exact amount of @xmath28 when submitting the offer .",
    "note that @xmath28 could be ( i ) directly committed to the market , ( ii ) be committed to the market partially while the residual is stored on the storage , or ( iii ) entirely be stored on the storage for future usage .      by offering strategy we mean the way that srgencodetermines its offer that includes :    a.   * offering price * denoted as @xmath41}$ ] , _ i.e. _ , the minimum price at which srgencodesires to commit electricity to the market . b.   * offering volume * denoted as @xmath42 , _",
    "i.e. _ , the amount of electricity in mwh at which srgencooffers to the market at slot @xmath20 . because we assume that the market is big enough to absorb the offering volume of srgencoentirely . ]",
    "we distinguish between the offering volume and the _ commitment volume_. after the clearing price @xmath25 is revealed , srgenco s offer may or may not be successful . if the offer is successful the offering volume is considered as the commitment volume .",
    "otherwise , there would be no commitment .",
    "more specifically , we define @xmath35 as the commitment volume of srgencoat slot @xmath20 as @xmath43 the goal of this study is to design an offering strategy for srgencoto submit both offering price @xmath33 and offering volume @xmath34 so as to maximize its long - term profit .",
    "we denote the maximum capacity of storage system of srgencoby @xmath29 and let @xmath30 and @xmath31 be its maximum charging and discharge rates , respectively .",
    "in addition , let @xmath44 $ ] be the storage level at the _ beginning _ of slot @xmath20 .",
    "given the renewable output @xmath28 and the commitment volume @xmath35 , the evolution of the storage level of srgencois given by @xmath45_{\\mathcal{c}},\\ ] ] where @xmath46^+\\big\\},\\ ] ] is the charging amount of the storage at slot @xmath20 , @xmath47^+\\big\\},\\ ] ] and @xmath48 is the discharging amount of the storage at slot @xmath20 .",
    "moreover , @xmath49^+$ ] and @xmath49_{\\mathcal{c}}$ ] define the projections onto the positive orthant and set @xmath50 $ ] , respectively .",
    "since srgencois empowered by the storage , the commitment volume @xmath35 might be either greater , less , or equal to the renewable output @xmath28 .",
    "the evolution of the storage for each case is as follows : ( i ) @xmath51 : in this case the entire renewable output is committed to the market and there is no change on the storage level , _",
    "i.e. _ , @xmath52 .",
    "\\(ii ) @xmath53 : in this case , @xmath54 represents the amount of the surplus in the renewable output .",
    "ideally , this surplus must be charged into the storage for the forthcoming commitments .",
    "however , because of the charging rate @xmath30 it may not be possible , which is indeed captured in eq .  .",
    "\\(iii ) @xmath55 : in this case not only the entire renewable output is committed , but also the storage should contribute in fulfilling the residual commitment , _",
    "i.e. _ , @xmath56 . again , given the storage level @xmath32 , and the discharge rate @xmath31 , the residual commitment may not be satisfied .",
    "recall that srgencodoes not know the exact renewable output @xmath28 when submitting the offer , hence , it may fail to fulfill its commitment , which we refer to as the over - commitment .",
    "let us denote @xmath36 as the over - commitment volume at @xmath20 expressed as @xmath57^+.\\ ] ] note that the maximum amount that srgencocan provide to the market in operation time @xmath20 is the aggregation of the renewable output @xmath28 and the maximum amount that could be discharged from the storage , _",
    "i.e. _ , @xmath58 .",
    "since @xmath28 is unknown to srgencowhen submitting the offer , the commitment volume @xmath35 might be greater than the amount that srgencocan really output , _",
    "i.e. _ , @xmath59 .      by committing @xmath35 , the profit obtained by srgencois @xmath60 .",
    "the consequence of over - commitment is captured in profit model by augmenting a penalty term .",
    "we adopt the penalty model in @xcite , in which the unit penalty payment in over - commitment is linearly proportional to the spot price @xmath25 in the form of @xmath61 , where @xmath62 are constants .    concluding above , the net profit obtained by srgencoat slot @xmath20 , denoted by @xmath37 , is expressed as total profit subtracted by the ( potential ) penalty of the over - commitment , _",
    "i.e. _ , @xmath63      the objective is to maximize the cumulative profit obtained by srgencoover time horizon @xmath23 .",
    "the profit maximization offering strategy problem ( ha - csp ) is formally casted as @xmath64 , \\hat{x}(t ) \\geq 0 , t\\in\\mathcal{t}. \\ ] ] in offline scenario , in which the values of @xmath28 and @xmath25 as the time - varying inputs to the problem are known ahead of time , the problem is a linear one which is easy to solve .",
    "we refer to @xcite as the related works that study related problems in offline settings .",
    "we note that in the offline scenario , the clearing prices are known to srgenco , hence it is not require to submit the offering price anymore .",
    "consequently , the offering strategy reduces to announcing the commitment volume directly . in this way",
    ", the problem could be reformulated in an equivalent form with simpler structure .",
    "in real - world , however , neither the renewable output @xmath28 nor the clearing price @xmath25 are revealed to srgencowhen submitting the offer .",
    "hence the focus in this paper is to tackle the problem in online setting , so , we formulate the problem in a way that srgencosubmits both offering price and offering volume . solving ha - cspin online",
    "setting is challenging , since the problem is coupled over the time in the presence of the storage system . recall that an important advantage of incorporating storage towards profit maximization is to ( fully or partially ) store the renewable supply in the storage when that market price is low , and discharge it when the market price is high . without knowing the future values of @xmath25 and @xmath28 , finding a profit maximization offering strategy , that implicitly determines how renewable supply and the stored electricity in the storage must be consumed is challenging .",
    "finally , we note that in  @xcite , following markov decision process and approximate dynamic programming , different offering strategies are proposed given a particular probabilistic model of the clearing price and the renewable output . in these approaches ,",
    "the solution is obtained in the sense of probabilistic expectation . in practice , however , real values might deviate from the underlying probabilistic models .",
    "our general approach as explained in sec .",
    "[ sec : ocad ] has no assumptions on the stochastic modeling of the unknown time - varying inputs .",
    "our approach in this study is to follow competitive online algorithm design and propose online offering strategies in which the decision is made based on _ only the current information _ , and without any assumptions on the stochastic model on the renewable output and the clearing price .",
    "for the performance analysis , we use _ competitive ratio _  @xcite which is a well - established metric to evaluate",
    "how good is the online solution .",
    "when the underlying problem is a profit maximization one , for an online algorithm @xmath65 , its competitive ratio ( cr ) is defined as the maximum ratio between offline optimum and the profit obtained by @xmath65 , over all inputs , _",
    "@xmath66 where @xmath67 refers to an instance of the online input parameters as @xmath68_{t\\in\\mathcal{t}},\\ ] ] and @xmath69 is the set of all input instances .",
    "moreover , @xmath70 and @xmath71 are the profits earned by the optimal offline solution and the online algorithm @xmath65 respectively , when the input is @xmath72 .    by this definition ,",
    "the smaller the competitive ratio , the better the performance is , since it guarantees no matter what the input is , the online optimal strategy obtains the profit close to the offline optimum .",
    "in this section , we propose online competitive algorithms for a simplified version of ha - csp , in which the accurate data for the next slot is available for both the renewable supply and the clearing price . later in sec .",
    "[ sec : online_nostep ] , based on the insights from result of this section on the simplified scenario , we tackle the general case and propose online algorithms with neither the renewable supply nor the clearing price known to srgencowhen submitting the bids .      for the sake of simplification in design , we first assume that both @xmath25 and @xmath28 values for the next slot are revealed to srgenco , perhaps by accurate short - term forecasting tools . in this way ,",
    "ha - cspis largely simplified in two ways :    a.   since @xmath25 is known , the offering strategy reduces to finding just the commitment amount @xmath35 .",
    "we relax this assumption in sec.[sec : online_nostep1 ] .",
    "b.   since @xmath28 is known , all the inputs and variables in eq .",
    "are known to srgencowhen submitting the offer , hence the over - commitment never happens , thereby the penalty term in the objective of ha - cspvanishes .",
    "we relax this assumption in sec .",
    "[ sec : online_nostep2 ] .    since in the new setting the price",
    "@xmath25 is known for the next slot , and to be consistent with the general formulation , we set @xmath73 and following eq .  , we get @xmath74",
    ". then , given the above assumptions , the only optimization variable would be the commitment amount @xmath35 .",
    "now , we cast the simplified offering strategy problem as @xmath75_{\\mathcal{c}},\\\\ & \\mathrm{var } : & x(t)\\geq 0 , t\\in\\mathcal{t},\\end{aligned}\\ ] ] where the first constraint ensures that over - commitment never happens .",
    "and the second constrain involves the evolution of the storage level , where @xmath76 and @xmath48 defined in eqs .",
    "- represent the charging and discharging amounts at time @xmath20 .",
    "* remarks . *",
    "( 1 ) even though is simplified , it is still challenging and non - trivial in online setting .",
    "that is , for the forthcoming values for two inputs @xmath77 and @xmath78 for @xmath79 are unknown , thereby the problem is still online , and again it can not be decomposed across the time because of the evolution of the storage .",
    "\\(2 ) is closely related to the classical _ time series search _ and _ one - way trading _ problems  @xcite . as compared to these classical problems , can be characterized as a generalized version in two aspects : ( i ) introduces another exogenous parameter @xmath28 in addition to the clearing price @xmath25 , this means that the adversary has more freedom to choose the worst - case input , this makes the competitive analysis more challenging ; ( ii ) introduces the capacity constraint associated with the storage system .",
    "putting together both differences , our investigations ( see sec .",
    "[ sec : function_design ] ) demonstrate that neither _ fixed - threshold _ policy , _",
    "i.e. _ , the policy that finds a fixed exchange rate and will accept the rates above that , nor the competitive analysis approach proposed in  @xcite yields the optimal solution for in this paper .",
    "instead , the optimal strategy for admits an _ adaptive - threshold - based _ policy that achieves the optimal competitive ratio as a logarithmic function of @xmath1 , whose details are stated in the next section .      in this section",
    ", we propose a simple online offering strategy ( ) to solve .",
    "then we analyze its competitiveness and show that achieves the best competitive ratio .",
    "intuitively , a proper offering strategy must consider two issues in decision making :    a.   the clearing price @xmath25 for the incoming slot @xmath20 , the higher the price , the more the srgencois willing to commit , b.   the storage level @xmath32 , if the storage level is almost full , srgencowould be more interested to commit to have more capacity for the forthcoming slots to store the electricity .",
    "on the other hand , if the storage level is almost unoccupied , srgencomight keep this electricity to commit with higher price in future slots .    putting together both clearing price and the storage level",
    ", we design our algorithm following an _ adaptive threshold - based _ strategy , since it adaptively changes the offering volume based on the current storage level and the clearing price .",
    "the main idea is to construct a function @xmath80 \\rightarrow [ p_{\\min } , p_{\\max}]$ ] .. however , for simplicity we drop the slot index @xmath20 for @xmath32 . ]",
    "the input to function @xmath81 is the aggregation of the incoming renewable supply @xmath28 and the current storage level @xmath32 , projected into the capacity of the storage , _",
    "i.e. _ , @xmath82 .",
    "the output of @xmath81 is the _ candidate offering price _",
    "@xmath33 for srgencoat slot @xmath20 .",
    "note that since we assume that srgencoknows clearing price @xmath25 , it calculates its candidate offering price @xmath33 and then based on the comparison between these two values decides how to submit its offer .",
    "the function @xmath81 should be decreasing , _",
    "i.e. _ , with the increase in the current storage level , the offering price would be decreased ( see intuition ( ii ) above ) . given function @xmath83 , designing is rather straightforward and is summarized as algorithm  [ alg:1 ] .",
    "at slot @xmath20 , first , calculates candidate offering price @xmath33 based on the given @xmath83 .",
    "then , it calculates the offering volume , whose details is explained in sec .",
    "[ sec : offer ] . in line",
    "[ algline:5 ] , the offering price is set to @xmath73 to ensure that @xmath34 is committed to market anyway . in",
    "next , we explain how to design function @xmath83 .    @xmath84 @xmath85 ; see eqs .   and for the optimal design of @xmath83 calculate @xmath34 according to @xmath33 , see eq .   and",
    "the following analysis for the optimal design [ algline:7 ] @xmath86[algline:5 ] submit offer @xmath87 ;        first , we highlight that @xmath83 plays a critical role in , and the competitive ratio can be improved by optimizing function @xmath83 .",
    "to illustrate the impact of @xmath83 , we investigate the behavior of under different structures of function @xmath83 .",
    "\\(i ) @xmath88 , where @xmath89 $ ] , is a constant value as shown in fig .",
    "[ fig : a ] .",
    "if @xmath90 , for the extreme case where @xmath91 , it could be easily shown that the profit obtained by the is always @xmath92 , thereby the competitive ratio would be @xmath93 .",
    "on the other hand , @xmath94 , the competitive ratio is upper bounded by @xmath95 , which is not intriguing , since srgencoalways commits the electricity to the market regardless of the clearing price and , it loses the opportunity of utilizing the potentials of storage in obtaining more profit .",
    "consequently , an intelligent function design aims to improve the competitiveness by reserving the storage for forthcoming slots with higher clearing price .",
    "this goal can be achieved by adopting a decreasing function .",
    "\\(ii ) @xmath96 , where @xmath97 , as depicted in fig .",
    "[ fig : b ] . again , under the extreme case , @xmath98 if @xmath99 .",
    "note that this linear structure for @xmath83 is one example and any strictly decreasing function with @xmath100 and @xmath101 behaves similarly in the worst case .",
    "( iii ) another smart alternative is a piece - wise function as depicted in fig .",
    "[ fig : c ] .",
    "function @xmath83 again is decreasing initially .",
    "however , after the storage level reaches to a threshold value @xmath102 , @xmath83 changes to a constant function , _",
    "i.e. _ , @xmath103    now , finding the optimal function @xmath83 reduces to finding @xmath104 and @xmath102 . in the next , we introduce this function .",
    "moreover in sec .",
    "[ sec : ca ] , we analyze the competitiveness of the algorithm and prove that the proposed function achieves the optimal cr .",
    "the following theorem summarizes our main contribution in this section .",
    "[ thm : cr ] by setting @xmath104 in eq .   as @xmath105 and @xmath102 as @xmath106 _",
    "_ achieves the optimal competitive ratio for _ _ as @xmath107    the proof is given as the competitive analysis in sec .",
    "[ sec : ca ] .    * remark .",
    "* the theorem shows that the competitive ratio is proportional to a logarithmic function of @xmath1 as the ratio between the maximum and minimum clearing prices . in practice",
    ", the scale of @xmath1 varies from @xmath108 to @xmath109 in different markets , _",
    "e.g. _ , the clearing prices in pjm  @xcite and nyiso  @xcite in july , 2015 is in @xmath110 $ ] and @xmath111 $ ] per mwh . given @xmath112 ,",
    "the competitive ratio is around @xmath113 .",
    "our experimental results depict much lower empirical ratios using the real prices in different markets . for details",
    "we refer to table  [ tbl : comp ] .     when @xmath114 .",
    ", scaledwidth=25.0% ]      given the optimal function @xmath83 in theorem  [ thm : cr ] , we can finally find the offering volume @xmath34 as follows .",
    "@xmath115^+ , &   \\!\\!\\!\\!\\textrm{if $ \\hat{p}(t ) \\!>\\ !",
    "p(t)$},\\\\ \\!\\!z(t)\\!+\\!u(t ) \\!-\\ !",
    "\\min\\{c^{\\mathsf{th}},z(t)\\!+\\!\\rho_{c}\\ } , &   \\!\\!\\!\\!\\textrm{if $ \\hat{p}(t ) \\!=\\ !",
    "p(t ) \\!=\\ ! p_{\\min}$},\\\\ \\!\\!z(t ) \\!+\\ !",
    "u(t ) \\!- \\!\\min\\{\\hat{g}^{-1}(p(t)),z(t)\\!+\\!\\rho_{c}\\ } , &   \\!\\!\\!\\!\\textrm{if $ \\hat{p}(t ) \\!<\\ !",
    "p(t)$},\\\\ \\end{array } \\right .",
    "\\end{split}\\ ] ] where @xmath116 is well - defined since @xmath104 defined in eq .",
    "is monotonically decreasing . more specifically ,",
    "when @xmath117 , srgencostores the renewable supply as much as it can , considering the charging rate constraint @xmath30 , then , the residual is committed to the market .",
    "if @xmath118 , it means that the storage level exceeds the threshold level @xmath102 , so , srgencooffers the minimum price @xmath119 . since the market price is also @xmath119 it commits the electricity until the storage level reaches the threshold @xmath102 or @xmath120 , _ i.e. _ , @xmath121 .",
    "finally , the last situation is @xmath122 , and @xmath123 . in this case , we are in the exponential part of function @xmath83 and @xmath34 is calculated as the total supply @xmath124 subtracted by @xmath125 .",
    "an illustration of the offering volume in this case when @xmath126 is depicted in fig .",
    "[ fig:_bidding_amount ] .",
    "finally , to capture the maximum discharge rate of the storage , it suffices to modify offering volume as @xmath127      our goal in this section is to design function @xmath83 ( especially @xmath104 and @xmath102 in eq .  )",
    "so as to minimize the competitive ratio . by doing so we prove the result in theorem  [ thm : cr ] .",
    "to simplify our explanation in this section and without loss of generality , we quantize the energy - related variables @xmath35 and @xmath32 and the input parameters @xmath28 and @xmath29 to take the integer values . more specifically , considering that @xmath29 is a real number",
    ", we can define discretized capacity @xmath128 as @xmath129 where @xmath130 is the unit of electricity . in this way",
    ", @xmath128 belongs to integer numbers . to avoid notation complexity , however , in our analysis in this section , we abuse notation @xmath29 to denote the discretized @xmath128 .",
    "similarly , we abuse @xmath131 , and @xmath28 as their discretized versions .",
    "finally , we assume that initially the storage is full .",
    "an immediate consequence of the above discretization is that function @xmath83 could be considered as a step function .",
    "we assume that there are @xmath132 steps for @xmath83 , each of which indexed by @xmath133 , and @xmath134 .",
    "generally , the length of each step could be different , hence , let us denote by @xmath135 as the length of step @xmath133 .",
    "we can characterize the threshold value @xmath136 defined in eq .   as the storage capacity subtracted by the length of the last step , _",
    "i.e. _ , @xmath137 moreover , we define @xmath138 as the cumulative length until step @xmath133 .",
    "since @xmath139 $ ] we get @xmath140 . finally , we denote @xmath141 as the threshold price when the storage level is @xmath142 under function @xmath81 . by this definition ,",
    "we get @xmath143 and @xmath144 .    by @xmath145",
    ", we denote the storage level at slot @xmath20 under , and a particular instance @xmath72 as defined in eq .  .",
    "let us denote the minimum storage level that reaches under @xmath72 as @xmath146 , _",
    "i.e. _ , @xmath147 . then",
    ", using this definition , we can partition the universal set of input instances @xmath69 to multiple subsets as follows @xmath148 where @xmath149    in particular , subset @xmath150 represents the coalition of all input instances that results in the minimum storage level @xmath151 upon executing the deterministic online algorithm @xmath152 .",
    "[ def : lcr ] define the local competitive ratio @xmath153 of @xmath154 under the subset of input instances @xmath155 as @xmath156    given definition  [ def : lcr ] , we can redefine @xmath157 as follows .",
    "define as the maximum of @xmath158 over all subsets @xmath159 , _",
    "i.e. _ , @xmath160    the following lemma characterizes a closed - form of @xmath161 for @xmath162 .",
    "[ lem : lcr ] for _ _ , if @xmath163 and @xmath164 , then we have : @xmath165 otherwise , @xmath166    through the proof of [ lem : lcr ] , we can justify that the competitive ratio takes maximum value only among the subsets with @xmath167 , @xmath168 , _",
    "i.e. _ , @xmath169    using the result in lemma [ lem : lcr ] , we get the global competitive ratio of @xmath152 under universal set of instances as follows @xmath170 our goal is to achieve the minimum possible value for @xmath157 . our design space toward this goal is to find : ( i ) the optimal value for @xmath171 which directly characterizes function @xmath83 , recall that by definition @xmath172 , and ( ii ) @xmath173 as the length of the last step in function which characterizes the threshold level @xmath136 , recall that we have @xmath174 .",
    "the following lemma states that the minimum global competitive ratio is achieved when the value of local competitive ratios are all equal .",
    "[ lem : nes_con ] given a fixed @xmath175 , @xmath176 minimizes only if the following expression holds : @xmath177    using the result in lemma  [ lem : nes_con ] and by straightforward calculations , we can express @xmath135 as @xmath178 given @xmath179 , and combining with , we get @xmath180    [ lem : pn ] when @xmath181 , the competitive ratio of takes the minimum value only if @xmath182 .    recall that @xmath29 is the discretized version of the original storage capacity , and @xmath183 could be achieved if we choose sufficiently small unit of electricity @xmath130 as in eq .  .",
    "given the results in lemma  [ lem : nes_con ] and lemma  [ lem : pn ] , we have @xmath184 it can be verified that the above equation achieves the minimum value when @xmath185 , @xmath186 , and @xmath187 .",
    "now , if @xmath188 , we have @xmath189 where the second - to - the - last equality holds since the difference between @xmath190 and @xmath191 would be arbitrarily small when @xmath185 and @xmath187 .",
    "note that when @xmath192 and @xmath193 , solving the above equation we get the following closed - form for @xmath83 @xmath194    moreover , according to eq .",
    ", we have @xmath195 and the closed form for @xmath173 is @xmath196    putting together the results in eqs .  ,  , and",
    ", the result in theorem  [ thm : cr ] is proved .",
    "in sec .  [ sec : online_nostep1 ] , we first extend the previous result to the case that the clearing price @xmath25 is unknown to srgencowhen submitting the offer , however , the renewable output @xmath28 is known accurately .",
    "second , in sec .",
    "[ sec : online_nostep2 ] , we extend the result to the general case that the renewable output is known to srgencowith forecasting error .      our general approach in this scenario is to use the potentials of submitting",
    "_ multiple offers _ which is allowed in the current markets , _",
    "e.g. _ , at most 10 offers are permitted for srgencoin pjm market  @xcite .",
    "our approach in this case is to calculate total feasible commitment volume , and then partition this total amount into multiple offers , each of which conveying a portion of the offering volume , in different prices . in algorithm  [ alg:2 ] , we summarize the detail of , as the multiple version of . in , we denote @xmath197 as the set of multiple offers submitted by the srgenco , where @xmath198 is the maximum number of offers that is permitted by the market operator . in ,",
    "if @xmath199 , it means that the current storage level @xmath32 plus the chargeable renewable supply , _",
    "@xmath200 , exceeds the threshold value @xmath136 , so , we can safely submit the surplus amount with the minimum price ( line  [ algline2:3 ] ) , and partition the remaining amount equally in @xmath201 offers ( lines  [ algline2:4]-[algline2:8 ] ) .",
    "otherwise , we submit the excessive energy @xmath202^+$ ] at price @xmath119 and partition the residual equally into @xmath201 offers ( lines  [ algline2:10]-[algline2:15 ] ) .",
    "declare @xmath203 as the set of offers [ algline2:2 ] @xmath204[algline2:3 ] @xmath205[algline2:4 ] @xmath206 @xmath207 [ algline2:8 ] @xmath208^+,p_{\\min}\\!)\\right\\}$][algline2:10 ] @xmath209/(m-1)$ ] @xmath210 @xmath207 [ algline2:15 ] submit @xmath211    theorem  [ thm:2 ] characterizes the competitive ratio of as a function of cr ( ) and the number of submitted offers @xmath198 .",
    "[ thm:2 ] the competitive ratio of _ _ is bounded by @xmath212    note that @xmath213 as @xmath214 . in experiments ,",
    "we evaluate the impact of the number of offers on the performance of .      finally , we release the accurate forecasting assumption of the renewable output , and assume that the error of power generation in the forthcoming slot is bounded in a particular region . namely the input to this algorithm",
    "is @xmath215 as the predicted value and @xmath216 as the maximum error , such that @xmath217,~0\\leq e(t)\\leq e_{\\max}.\\ ] ] our algorithm is a simple extension of , with replacing @xmath28 with @xmath218 as the minimum possible value for the renewable output .",
    "we skip the other details since they are the same as .",
    "note that with this input , the algorithm behaves in the most conservative way , such that the over - commitment never happens .",
    "extending the algorithm to the more aggressive cases that takes into account the risk of over - commitment is part of our future work . in following theorem",
    "we characterizes the competitive ratio of .",
    "[ thm:3 ] assuming @xmath219 , the competitive ratio of _ _ is bounded by @xmath220    the proof for theorem [ thm:3 ] is very simple .",
    "it s obvious that the amount of committed energy by is always larger than @xmath221 for any @xmath222 .    clearly , as @xmath223 , we get @xmath224 . in experiments ,",
    "we investigate the impact of forecasting error on the result of .",
    "in this section , we evaluate the performance of our online strategies using the real - word traces for the renewable output and electricity market prices .",
    "our objective is two - fold : ( i ) to compare the performance against the optimal offline , a comparison algorithm  @xcite , and a baseline in which there is no storage , and ( ii ) to investigate the impact of the system model and algorithm parameters .",
    "we use the wind generation data from pjm energy market  @xcite with the capacity of @xmath225mw . we note that this is a wind farm in moderate size and the world largest has an operational capacity of @xmath226mw  @xcite .",
    "the hourly electricity price data are from pjm market for most of the experiments .",
    "we also demonstrated our results for nord pool  @xcite and nyiso  @xcite markets in table  [ tbl : comp ] .",
    "we note that the prices exhibit severe seasonal patterns . in particular ,",
    "the prices are highly volatile , _ e.g. _ , in summer the peak price reaches as high as @xmath227mwh , in @xmath2 .",
    "for this reason we evaluate the performance of our algorithms in different seasons as well .              unless otherwise specified , the storage capacity is set to @xmath228mwh . the maximum charge and",
    "discharge rates are @xmath225mw . in reality ,",
    "large scale compressed air energy storage ( caes ) with similar parameters has been developed to cope with renewable uncertainty  @xcite .      unless otherwise specified , for and , the default value for the number of offers is @xmath225 .",
    "this is the common practice in pjm market  @xcite .",
    "moreover , the maximum forecasting error @xmath229 in is set to @xmath16 .",
    "finally , we note that each data point in figures is the average results of @xmath230 different runs of the algorithms with @xmath231 hours .",
    "we compare the performance of our algorithm with three other alternatives : ( 1 ) , the optimal offline solution that is implemented as the benchmark to obtain the empirical competitive ratio ; ( 2 ) , the optimal offline cost when there is no storage .",
    "this is used to evaluate the economic advantage of integrating the storage ; ( 3 ) , another simple online algorithm with a fixed threshold price . specifically ,",
    "we follow the approach in  @xcite and set the threshold of this simple online algorithm fixed at @xmath232 , regardless of the storage level . in this algorithm , srgencocommits all the electricity whenever the price is not smaller than this threshold .",
    "the acronyms for all the algorithms are summarized in table  [ tbl : comp_alg ] .",
    "[ tbl : comp_alg ]     & * our algorithms * + & simplified online offering strategy ; @xmath25 and @xmath28 are known + & with multiple submissions ; @xmath25 is unknown , @xmath28 is known + & generalized ; @xmath25 is unknown , @xmath28 is known with error + & * comparison algorithms * + & optimal offline solution with storage + & optimal offline solution without storage + & simple online algorithm with fixed threshold price  @xcite +        in this experiment we report the profit obtained by different algorithms in different seasons as well as the whole year .",
    "the result is depicted in fig .",
    "[ fig : seasonalchange ] .",
    "the main observations are : ( 1 ) achieves @xmath8 of the offline optimum , which shows that it is close to optimal .",
    "( 2 ) outperforms by @xmath17 , which signifies the substantial economic benefit of incorporating the storage .",
    "( 3 ) outperforms by @xmath233 , which depicts the superiority of our online algorithms as compared to other `` storage - level - oblivious '' online alternatives .",
    ".summary of theoretical and empirical competitive ratios on different electricity markets [ cols=\"^,^,^,^\",options=\"header \" , ]      the electricity price in the deregulated electricity market exhibits large fluctuation .",
    "theoretically , large price volatility will degrade the performance of the online algorithm , as the competitive ratio is an increasing function of @xmath234 . in this experiment",
    ", we present the result under different values of @xmath1 . as shown in fig .",
    "[ fig : pricerange ] , is robust to price fluctuation with less than @xmath235 increment , even though the theoretical competitive ratio increases by @xmath236 .",
    "meanwhile , we note that the empirical competitive ratio of decreases slightly as the @xmath1 increases . however , it is on average @xmath237 larger than that of , which further signifies the superiority of .",
    "in addition , we report the result of for the prices in different markets in table  [ tbl : comp ] .",
    "the result signifies that the larger the price volatility , the large theoretical and empirical competitive ratios .",
    "storage capacity planning is an important issue that srgenco s owner needs to consider , since the storage is still expensive with the current technology . in this experiment",
    ", we vary the storage capacity from @xmath38 to @xmath109mwh to investigate its impact on the profit of srgenco . fig .",
    "[ fig : batterycapacity ] and fig .",
    "[ fig : batterycapacity_profit ] show the empirical competitive ratios and the obtained profits , respectively . as the storage capacity increases , an increase in profit of both online algorithms is observed .",
    "however , the increase in is smaller ( @xmath238 ) than that of ( @xmath237 ) .",
    "this is mainly because is completely oblivious to the storage level , and with the increase in capacity , there would be more room to mitigate this unawareness .",
    "meanwhile , the empirical competitive ratio of increases with large storage capacity ( from @xmath239 to @xmath240 ) .",
    "this result depicts that when the capacity is in the order of the renewable capacity ( say , @xmath241 to @xmath242 ) , is close - to - optimal .",
    "however , when the storage capacity is much higher than the renewable capacity ( say , @xmath243 ) , perhaps more sophisticated algorithms are required .      in the last set of experiments we investigate the impact of the number of offers in ( in fig .",
    "[ fig_numofbids ] ) and the forecasting error in ( in fig .",
    "[ fig : preerror ] ) . in , we relaxed the assumption of and extend it to the case that the clearing price @xmath25 is unknown .",
    "we proposed to submit multiple offers to alleviate its negative impact . to investigate how many offers are sufficient for to achieve the same performance level as , in fig .",
    "[ fig_numofbids ] , we vary the number of offers from @xmath39 to @xmath6 .",
    "the notable observation is that submitting @xmath39 or @xmath108 offers is not sufficient .",
    "however , with @xmath18 or more offers the performance is quite similar to in which the price is known in advance . in the last experiment , we increase the maximum error of renewable output @xmath229 and calculate the profit of .",
    "the result shows that is robust to forecasting error that belows @xmath19 , and the obtained profit decreases rapidly as error increases beyond @xmath19 . concluding above",
    ", these experiments demonstrate that the negative impact of the uncertainty in the clearing price can be effectively mitigated by multiple offer submissions .",
    "however , accurate short - term renewable forecasting is vital for srgencoto obtain a desired profit , since the errors higher than @xmath19 can severely degrade the performance .",
    "this paper proposes competitive offering strategies for maximizing the profit of a renewable power producer with storage in hour - ahead market .",
    "the underlying problem is coupled over time and the input to the problem is revealed in an online fashion , both of which make the problem challenging .",
    "we first tackle a basic setting and propose algorithm for it . and in two successive steps we relax the basic assumptions and generalize our solutions and analysis to the realistic scenario .",
    "our analytical results characterize competitive ratios for all the proposed algorithms .",
    "finally , trace - driven evaluations demonstrate the close - to - optimal performance of our algorithms .",
    "assume there s a time slot that @xmath248 under some worst case @xmath244 .",
    "if @xmath249 , we just construct another worst case which replaces the @xmath250 input @xmath251 with the following input sequence : @xmath252 where @xmath253 . in this way , the profit earned by decreases while that of keep unchanged .",
    "this contradicts the assumption at the beginning .",
    "then we complete the proof .",
    "we adopt a worst - case analysis approach to prove lemma [ lem : lcr ] .",
    "we assume the state of storage under online algorithm reaches the minimum value @xmath254 at time @xmath255 and keeps unchanged until time @xmath256 .",
    "if there s no injection into the storage during @xmath257 $ ] , according to lemma [ lem : mp ] , the maximum market clearing price @xmath258 $ ] is @xmath259 and the maximum profit earned by during @xmath258 $ ] is @xmath260 .",
    "the minimum profit earned by the online algorithm is @xmath261 , so it s immediate that the maximum profit ratio is @xmath262 .",
    "\\(a ) if there s energy stored into the battery during @xmath257 $ ] , we can assume the last time interval with energy stored is @xmath263\\subset [ 1,t_{2}]$ ] . during @xmath264 ,",
    "the state of storage under will keep increasing or unchanged .",
    "then the off - line algorithm will commit @xmath265 amount of energy before @xmath266 with lower price than @xmath259 .",
    "moreover , we assume at time @xmath267 , the state of storage under reaches @xmath268 for the last time during @xmath257 $ ] .",
    "then the committed energy during @xmath269 $ ] by is equal to that by .",
    "\\(b ) if thereis energy committed by during @xmath275 $ ] under the worst case , we can assume the period with energy committed during @xmath275 $ ] by is @xmath276 $ ] . and",
    "assume the time that the state of battery first reaches @xmath277 at time @xmath278 .",
    "it s easy to verify that , at time @xmath279 and @xmath278 , the state of storage under is @xmath92 .",
    "so the committed energy by algorithm during @xmath280 $ ] , denoted by @xmath281 is equal to that by . during @xmath282 ,",
    "the profit earned by online algorithm is at least @xmath283 , and the maximum profit earned by the is @xmath284 .",
    "thus , for the worst case , if the maximum profit ratio within the case set @xmath287 satisfies @xmath288 for @xmath274 , there s no energy committed during @xmath275 $ ] by , and the maximum profit gained by the off - line algorithm is @xmath289 .              by partially dualizing on the first set of non - equality constrains , we can get the following lagrangian function : @xmath294 where @xmath295 are the dual variables associated with the non - equality constraints .",
    "note that @xmath297 , @xmath298 and @xmath299 for @xmath300 .",
    "then by above equation , we can derive that @xmath301 .",
    "moreover , according to the complementary slackness condition : @xmath302 we can get that the followings always hold : @xmath303 or @xmath304 then we complete the proof .",
    "if @xmath305 for the optimal @xmath83 , we can assume there s another function @xmath306 which contains @xmath307 steps .",
    "we let @xmath308 for @xmath309 and @xmath310 .",
    "according to lemma [ lem : lcr ] , easily we can get that the competitive ratio with @xmath306 under the subsets satisfy the followings : @xmath311        following similar lines with lemma [ lem : nes_con ] and [ lem : mp ] , we can find that the worst instance for is similar to .",
    "for any worst instance @xmath312 , if @xmath313 , it can be verified that @xmath314 must hold according to the algorithm rules .",
    "so the cumulative profit difference between @xmath315 and @xmath152 at time slot @xmath20 is bounded by @xmath316 under @xmath312 .",
    "so we have : @xmath317"
  ],
  "abstract_text": [
    "<S> a promising approach to hedge against the inherent uncertainty of renewable generation is to equip the renewable plants with energy storage systems . </S>",
    "<S> this paper focuses on designing profit maximization offering strategies , _ </S>",
    "<S> i.e. _ , the strategies that determine the offering price and volume , for a storage - assisted renewable power producer that participates in hour - ahead electricity market . </S>",
    "<S> designing the strategies is challenging since ( i ) the underlying problem is coupled across time due to the evolution of the storage level , and ( ii ) inputs to the problem including the renewable output and market clearing price are unknown when submitting offers . following the competitive online algorithm design approach , we first study a basic setting where the renewable output and the clearing price are known for the next hour . </S>",
    "<S> we propose , a simple online offering strategy that achieves the best possible competitive ratio of @xmath0 , where @xmath1 is the ratio between the maximum and the minimum clearing prices . </S>",
    "<S> then , we consider the case where the clearing price is unknown . by exploiting the idea of submitting multiple offers to combat price uncertainty , </S>",
    "<S> we propose , and demonstrate that the competitive ratio of converges to that of as the number of offers grows . finally , we extend our approach to the scenario where the renewable output has forecasting error . we propose as the generalized offering strategy and </S>",
    "<S> characterize its competitive ratio as a function of the forecasting error . </S>",
    "<S> our trace - driven experiments demonstrate that our algorithms achieve performance close to the offline optimal and outperform a baseline alternative significantly . </S>"
  ]
}