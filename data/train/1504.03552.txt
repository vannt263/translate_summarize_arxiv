{
  "article_text": [
    "forward - starting options are path dependent put / call financial contracts characterized by having a strike price expressed in terms of a pre - specified percentage @xmath0 of the asset price taken at a contractually fixed intermediate date @xmath1 $ ] , @xmath2 being the option maturity .",
    "the time @xmath3 is known as _ strike - determination time_. the payoff of a forward starting call is therefore @xmath4 these products represent the fundamental component of the so - called cliquets ( see @xcite ) , which are indeed equivalent to a series of forward starting at - the - money options , activated along a sequence of intermediate dates , upon payment of an initial premium .",
    "cliquets are often employed to buy protection against downside risk , though preserving an upside potential , for instance in pension plans in order to hedge the guarantees attached to embedded equity linked products .",
    "wilmott in @xcite showed that these products are particularly sensitive to the model that one chooses for the dynamics of the underlying s price .",
    "in this paper we study a generalization of forward starting options allowing for random strike - determination times .",
    "that is to say , we hypothesize that we are making the forward starting option worth , if some future random event happens during the life of the contract with positive probability .",
    "the value of the asset at this random time is then compared at maturity with the final value of the underlying , so the call s payoff ( [ fspay ] ) is replaced by @xmath5 for some appropriate random time @xmath6 , where we denoted by @xmath7 . the pricing methodology we will present is an extension of rubinstein s approach ( see @xcite ) , and it can be applied to several existing option models .",
    "it is easy to imagine a promising application of this type of contracts in several situations , as we show with the following examples .    * a first example with a speculative goal ,",
    "could be represented by a call written ( with @xmath8 ) on the manchester united stock ( nyse:*manu * ) , starting the beginning day of the premiere league ( pl ) soccer tournament and ending the closing day of the tournament .",
    "the call is triggered by the first time , @xmath6 , the united will eventually lead the tournament with at least three points more than all other teams . if this event happens , then the united will increase its chances to take part to the next champions league ( cl ) tournament , an event which generates substantial additional cash - flows .",
    "if , at the end of pl tournament , the united will get the right to play cl , the share value @xmath9 of * manu * at that date will probably be larger than @xmath10 and an investor in the call contract could pocket the difference . *",
    "another possible context we may imagine is when a firm expects an adverse market scenario that might cause a downgrading of the firm s rating in the near future .",
    "so the firm s owner offers a contract of this type to a smart manager ( hired in the past ) , as an incentive to convince him / her to remain within the firm and to work to improve the firm s position before maturity . as an example",
    ", the firm s owner offers this contract to the manager on january , 1st 2015 with maturity @xmath11 year ( with @xmath8 ) . if the event @xmath12 happens , for instance on june , 6th 2015 , then the manager has time until maturity to make the firm s value rise again above @xmath13 and pocket the payoff , otherwise no reward is gained .",
    "the manager is therefore interested in assessing the correct current value of the incentive .",
    "+ in this context , it is also interesting to consider the counterparty credit risk aspects of this type of contract from the point of view of the manager : if the firm ( the counterparty ) does not recover from the adverse market scenario , it might default a short time after the downgrading event or default could even happen before downgrading .",
    "this leads to the problem of computing unilateral credit value adjustment ( * cva * ) for this kind of option , since the manager needs to evaluate this further risk of the contract in order to assess correctly the value of the firm s offer . *",
    "lastly , it is also possible to consider contracts depending on more than one single random event : for example a cliquet call option could be triggered by the first time the underlying asset reaches a pre - specified upper barrier @xmath14 until the asset reaches , if before maturity @xmath2 , a new barrier level @xmath15 , at that time a second call option with strike @xmath16 and expiring at maturity gets activated .",
    "in general , depending on the characteristics of the financial product , one can imagine to construct cliquet type options along some increasing sequence of random times .",
    "the literature on classical forward starting options is wide in terms of underlying s dynamics model and evaluation techniques .",
    "we shortly review the main contributions , since we will use these results as starting point in our analysis    rubinstein ( 1991 ) ( see @xcite ) was the first to consider the pricing problem of a forward - start option in the black and scholes model .",
    "later , valuation of forward starting options in stochastic volatility models was addressed by several authors .",
    "lucic ( 2003 ) ( see @xcite ) wrote an evaluation formula by employing the asset s price at determination time as numeraire , transforming those options in plain vanilla ones , giving a closed formula for the heston s model .",
    "kruse and ngel ( 2005 ) ( see @xcite ) , followed the same approach , but they developed a pricing formula exploiting the distributional properties of the heston s model ; they remarked the importance of such an extension ( w.r.t .",
    "the black - scholes environment ) since forward starting options are particularly sensitive to volatility changes .",
    "further , guo and hung ( 2008 ) ( see @xcite ) derived quasi - analytic pricing formulas in general stochastic volatility / stochastic interest rates models , presenting jumps in both the asset s price and the volatility .",
    "this was important , since , in contrast to the plain vanilla case , the value of a forward - starting option may not always increase with maturity .",
    "it depends on the current term structure of interest rates . in the same context , ahlip and rutkowski ( 2009 ) ( see @xcite ) chose a heston s stochastic volatility model and a cir dynamics for the interest rates , with volatility and short rate both correlated with the dynamics of the stock returns .",
    "the main result is an analytic formula for the call case , derived by using the probabilistic approach combined with the fourier inversion technique , as developed in carr and madan ( 1999 ) ( see @xcite ) .",
    "van haastrecht and pelsser ( 2011 ) , ( @xcite ) , exploiting fourier inversion of characteristic functions , developed a quantitative analysis of the pricing of forward starting options under stochastic volatility and stochastic interest rates ( with ornstein - uhlenbeck dynamics ) , confirming that these not only depend on future smiles , but are also very sensitive to model specifications such as volatility , interest rate and correlation movements , concluding that it is of crucial importance to take all these factors into account for a correct valuation and risk management of these securities .",
    "more recently , ramponi ( 2012 ) ( see @xcite ) extended this fourier analysis to regime switching models for the asset price .",
    "finally , in 2006 chicago board options exchange introduced options on its implied volatility index ( vix ) , enhancing the interest in forward starting options to forecast future volatility .",
    "albanese , lo and mijatovic ( @xcite ) proposed a spectral method to evaluate numerically the joint distribution between the stock price and its realized variance , which gave a way of pricing consistently european , general accrued variance payoffs , forward - starting and vix options .    to evaluate our generalization of fs options to random determination time",
    ", we exploit the techniques developed in a number of papers ( refer to @xcite and to @xcite for a general exposition ) to deal with default time in credit derivatives .",
    "the main tool we employ is the so called assumption ( h ) , that guarantees that all martingales remain as such when adding the information generated by the default time . in other words",
    ", this means that the no - arbitrage structure is not altered by the introduction of the random time .",
    "this leads to the so called key lemma , that allows to switch from the global information ( generated by the asset s price and the random time ) to the information generated only by the observable prices .    following the intensity based approach",
    ", we give a general expression of the pricing formula either in conditions of independence or not . under independence between the asset s price and the random time , we specialize and explicit our prices in several computable models ( black & scholes , heston , variance gamma ) and we suggest an affine dependency structure for the intensity when the independence assumption is dropped ,",
    "showing it is still possible to recover a partially easily computable formula .    finally , keeping in mind the second example presented above",
    ", we focus on computing the credit value adjustment , due to counterparty risk , required by these products , when in presence of a further default time ( for a general reference see brigo and chourdakis ( 2009 ) , @xcite ) .",
    "the paper is organized as follows .",
    "section [ sec1a ] gives the set up , in section [ sec2a ] we present a general approach to the evaluation of this kind of product , in section [ sec3a ] we develop some explicitly computable cases under independence . section [ sec4a ] provides some numerical implementation of the derived pricing formulas , finally section [ sec5a ] treats briefly the counterparty risk implied by this product , when a default time for the issuer might occur .",
    "we consider a time interval @xmath17 $ ] , with @xmath2 denoting the maturity of the contracts .",
    "we assume that the market is made up of a single asset and a bond living in a probability space @xmath18 , with a filtration @xmath19 , made complete and right continuous to satisfy the _ usual hypotheses _",
    "( see @xcite ) .",
    "moreover , we assume we are in absence of arbitrage opportunity and that @xmath20 is a risk neutral measure selected by some criterion .    before formalizing mathematically the new contract previously described ,",
    "we need to recall briefly the evaluation of classical forward - start options .    denoting by @xmath21 the discounting process , the price of a forward - start call with percentage @xmath0 and strike - determination time @xmath22 is given by @xmath23,\\qquad 0\\le t\\le   t.\\ ] ] in market models where the price of a plain vanilla call option is represented by a deterministic homogeneous function of degree @xmath24 in two spatial variables @xmath25 , that is @xmath26 applied to the given pair @xmath27 , the price of a classical ( call ) forward - start option is @xmath28|\\cf_t]={\\mathbf{e}}^p[b(t , u ) call(u , s_u , s_u\\alpha , t)|\\cf_t]\\\\ \\nonumber\\!\\!\\!&=&\\!\\!\\!{\\mathbf{e}}^p[b(t , u)call(u , \\gamma 1 , \\gamma \\alpha , t)\\big |_{\\gamma = s_u } |\\cf_t]={\\mathbf{e}}^p[b(t , u)(\\gamma call(u , 1 , \\alpha , t))\\big |_{\\gamma = s_u } |\\cf_t]\\\\ \\label{hom}\\!\\!\\!&=&\\!\\!\\ ! { \\mathbf{e}}^p[b(t , u)s_u call(u,1,\\alpha , t ) |\\cf_t].\\end{aligned}\\ ] ] scale - invariant models ( see @xcite ) certainly hold this property . furthermore ,",
    "if the call price is a deterministic function of the current price of the underlying and it does not include any additional stochastic factor , we may conclude that the price of the forward - start option verifies @xmath29 = { \\mathbf{e}}^p[b(t , u)s_u|\\cf_t ] call(u,1,\\alpha , t ) = s_t \\ call(u,1,\\alpha , t),\\ ] ] where in the last equality we used the martingale property of the discounted asset price .",
    "notice that in such a case the portfolio having @xmath30 units of the stock  replicates \" the @xmath31-value of the forward - start option .",
    "sometimes an analogous result may be achieved also in presence of stochastic factors via change of numeraire arriving at a formula of the type @xmath32 = s_t{\\mathbf{e}}^{\\bar p}[call(u,1,\\alpha , t)|\\cf_t]\\ ] ] for some proper equivalent measure @xmath33 .",
    "we want to generalize these contracts allowing the strike - determination time to be random , thus we need to consider a market model ( and hence a probability space ) where the asset price @xmath34 lives together with a random time @xmath6 .",
    "we therefore assume that there exists a @xmath35algebra @xmath36 containing @xmath37 and a filtration @xmath38 , satisfying the usual hypotheses , that makes @xmath39 and @xmath40 adapted processes ( that is to say that @xmath6 is stopping time w.r.t .",
    "@xmath41 ) and that we may extend the probability @xmath20 to a new probability measure @xmath42 on the measure space @xmath43 . hence , referring to the previous notation , we have @xmath44 for all @xmath45 and from now on we will assume @xmath46 where @xmath47 .",
    "we recall that the filtration stopped at the stopping time @xmath6 will be denoted @xmath48 and it means @xmath49 besides we introduce the classical and fundamental hypothesis    * ( h)*every @xmath50martingale remains a @xmath51martingale .",
    "this assumption , known as the h - hypothesis , is widely used in the credit risk literature ( see e.g. @xcite and references therein ) . with this hypothesis , we may conclude that @xmath52 remains in general a @xmath53semimartingale and @xmath54 a martingale under the extended probability @xmath42 .",
    "so we can replace the arbitrage free pricing formula ( [ deterministic ] ) by the more general expression @xmath55.\\ ] ]    from now on , this product will be called a * random time forward starting * option and we will refer to it as * rtfs * options .",
    "notice that the payoff remains @xmath56measurable .",
    "in what follows we treat only the call case as , under hypothesis ( h ) , a natural extension of the put - call parity holds for these products @xmath57- { \\mathbf{e}}^{q}[b(t , t)(\\alpha s_{\\tau\\wedge t}- s_t)^+|\\cal g_t ] = s_t - \\alpha s_{\\tau\\wedge t } b(t , \\tau\\wedge t).\\ ] ]    lastly we remark that for @xmath8 , these options are worth something only if the random occurrence happens before maturity , in a sense we could say they are triggered by the random time .",
    "in this section we want to understand how to make formula ( [ random ] ) more explicitly computable .    as a general consideration , let us notice that @xmath58\\\\ \\nonumber & = & { \\mathbf{e}}^{q}[b(t , t)(s_t-\\alpha s_{\\tau})^+\\mathbf 1_{\\{0 < \\tau\\le t\\}}|\\cal g_t]+(1-\\alpha ) { \\mathbf{e}}^{q}[b(t , t)s_t \\mathbf 1_{\\ { \\tau > t\\}}|\\cal g_t]\\\\ \\nonumber & = & { \\mathbf{e}}^{q}[b(t , t)(s_t-\\alpha s_{\\tau})^+|\\cal g_t]\\mathbf 1_{\\{0 < \\tau\\le t\\}}+ { \\mathbf{e}}^{q}[b(t , t)(s_t-\\alpha s_{\\tau})^+\\mathbf 1_{\\{t < \\tau\\le t\\}}|\\cal g_t]\\\\ & + & ( 1-\\alpha)s_t\\mathbf 1_{\\{t<\\tau\\}}- ( 1-\\alpha){\\mathbf{e}}^{q}[b(t , t)s_t\\mathbf 1_{\\ { t < \\tau\\le t\\}})|\\cal g_t].\\end{aligned}\\ ] ] having written @xmath59 as @xmath60 .    for the first term",
    "there is not much to say , there @xmath61 and it behaves as a call price with strike price @xmath62 , which is completely known at time @xmath31 .",
    "the third term represents the guaranteed payoff of this contract , so we have to study the remaining terms .",
    "hypothesis ( h ) is going to help us for the last one .",
    "we know that @xmath63 is a martingale under @xmath36 and that the event @xmath64 ( since for any @xmath65 , @xmath66 ) , so conditioning internally w.r.t .",
    "@xmath67 , we obtain @xmath68={\\mathbf{e}}^{q}[{\\mathbf{e}}^q(b(t , t)s_t\\mathbf 1_{\\ { t < \\tau\\le t\\}}|\\cg_\\tau)|\\cal g_t]\\\\ & = & { \\mathbf{e}}^{q}[{\\mathbf{e}}^{q}(b(t , t)s_t|\\cal g_\\tau)\\mathbf 1_{\\ { t",
    "< \\tau\\le t\\}}|\\cal g_t]={\\mathbf{e}}^{q}(b(t,\\tau)s_\\tau\\mathbf 1_{\\ { t < \\tau\\le t\\}}|\\cal g_t],\\end{aligned}\\ ] ] where we used the optional sampling theorem , assuming enough integrability of the asset price process , as @xmath69 almost surely .",
    "the second term may be rewritten as @xmath70={\\mathbf{e}}^{q}[{\\mathbf{e}}^q(b(t , t)(s_t-\\alpha s_{\\tau})^+\\mathbf 1_{\\ { t < \\tau\\le t\\}}|\\cg_\\tau)|\\cal g_t]\\\\ & = & { \\mathbf{e}}^{q}[b(t,\\tau){\\mathbf{e}}^{q}(b(\\tau , t)(s_t-\\alpha s_{\\tau})^+|\\cal g_\\tau)\\mathbf 1_{\\ { t < \\tau\\le t\\}}|\\cal g_t]={\\mathbf{e}}^q[b(t,\\tau ) c(\\tau,\\tau , t)\\mathbf 1_{\\ { t",
    "< \\tau\\le t\\}}|\\cal g_t],\\end{aligned}\\ ] ] with @xmath71 defined w.r.t . @xmath72 as in ( [ deterministic ] ) , where we extended the definition to include also @xmath73 .    to proceed with our evaluation we have two possibilities .",
    "either @xmath74 , i.e. @xmath75 is an @xmath50stopping time , or not . in the first case , some computable situations may occur .",
    "for instance , if @xmath76 is a hitting time ( choosing the barrier level @xmath77 ) , we have @xmath78\\mathbf 1_{\\{0 < \\tau \\le t\\}}+ { \\mathbf{e}}^{q}[b(t , t)(s_t-\\alpha h)^+\\mathbf 1_{\\{t < \\tau \\le t\\}}|\\cf_t]\\\\ & + & ( 1-\\alpha)s_t\\mathbf 1_{\\{t<\\tau\\}}- ( 1-\\alpha){\\mathbf{e}}^{q}[b(t , t)s_t\\mathbf 1_{\\ { t",
    "< \\tau\\le t\\}})|\\cf_t].\\end{aligned}\\ ] ] summarizing @xmath79+(1-\\alpha)s_t\\mathbf 1_{\\{t<\\tau\\}},\\end{aligned}\\ ] ] where  barrier price \" denotes the price of a barrier call option with strike price @xmath80 which is activated as soon as the threshold @xmath81 is reached by the asset price .",
    "if this event does not happen before maturity @xmath2 , at maturity the contract is not going to pay zero to the holder as in standard barrier contracts , but @xmath82-percent of the terminal asset price @xmath9 , since the first three pieces of the formula are zero . therefore , if @xmath83 , this random starting forward option differs from a plain vanilla barrier option by a specific non negative value , never exceeding @xmath84 .",
    "other situations may be more or less complex to evaluate , depending upon the definition of the stopping time @xmath6 .    in general",
    ", since the observable is the asset s price process , it would be interesting to be able to write the pricing formula in terms of @xmath85 , rather than @xmath86 . for that we have the following key lemma ( see @xcite , @xcite ) .",
    "[ key ] for any integrable @xmath87measurable r.v .",
    "@xmath88 , the following equality holds @xmath89=q(\\tau > t|\\cg_t)\\frac{{\\mathbf{e}}^q\\big[\\mathbf 1_{\\{\\tau > t\\}}y|\\cf_t\\big]}{q(\\tau > t|\\cf_t)}.\\ ] ]    applying this lemma to the second and fourth term of ( [ general ] ) , respectively with @xmath90 and remembering that @xmath91 is @xmath51measurable , we obtain @xmath92&=&\\mathbf 1_{\\{\\tau > t\\ } } \\frac{{\\mathbf{e}}^q[b(t,\\tau)c(\\tau,\\tau , t)\\mathbf 1_{\\{t < \\tau\\le t\\}}|\\cf_t]}{q(\\tau > t|\\cf_t)}\\\\ \\label{key2 } { \\mathbf{e}}^q[b(t,\\tau)s_\\tau\\mathbf 1_{\\{t < \\tau\\le t\\}}|\\cal g_t]&=&\\mathbf 1_{\\{\\tau > t\\ } } \\frac{{\\mathbf{e}}^q[b(t,\\tau)s_\\tau\\mathbf 1_{\\{t <",
    "\\tau\\le t\\}}|\\cf_t]}{q(\\tau > t|\\cf_t)}.\\end{aligned}\\ ] ] the above may be rewritten following the hazard process approach .",
    "let us denote the conditional distribution of the default time @xmath6 given @xmath85 as @xmath93 and let us notice that for @xmath94 , @xmath95 .",
    "in order to apply the so called intensity based approach , we need to assume that @xmath96 for all @xmath97 ( which automatically excludes that @xmath98 ) to well define the so called risk or hazard process @xmath99 with this notation , we rewrite ( [ key1 ] ) and ( [ key2 ] ) as @xmath100=(1-h_t){\\mathbf{e}}^q[b(t,\\tau)c(\\tau,\\tau , t)(h_t - h_t)\\mathrm e^{\\gamma_t}|\\cf_t]\\\\ \\label{key4 } & & { \\mathbf{e}}^q[b(t,\\tau)s_\\tau\\mathbf 1_{\\{t < \\tau\\le t\\}}|\\cal g_t=(1-h_t){\\mathbf{e}}^q[b(t,\\tau)s_\\tau(h_t - h_t)\\mathrm e^{\\gamma_t}|\\cf_t],\\end{aligned}\\ ] ] but by proposition 5.1.1 ( ii ) page 147 of @xcite these conditional expectations may be written as @xmath101&=&{\\mathbf{e}}^q[\\int_t^t b(t , u)c(u , u , t ) df_u|\\cf_t]\\\\ \\label{key6 } { \\mathbf{e}}^q[b(t,\\tau)s_\\tau(h_t - h_t)|\\cf_t]&=&{\\mathbf{e}}^q[\\int_t^t b(t , u)s_udf_u|\\cf_t].\\end{aligned}\\ ] ] if we have the additional hypotheses @xmath102 for all @xmath31 and    ( ind ) : :    @xmath103 and @xmath104 are independent ,    then @xmath75 is independent of @xmath85 , hypothesis ( h ) is automatically satisfied and @xmath105 is deterministic , so the previous formula becomes @xmath106={\\mathbf{e}}^q[\\int_t^t b(t , u)c(u , u , t ) df_u|\\cf_t]\\\\ \\nonumber&=&\\int_t^t{\\mathbf{e}}^q [ { \\mathbf{e}}^q(b(t , t)(s_t-\\alpha s_u)^+|\\cf_u)|\\cf_t]df_u=\\int_t^t{\\mathbf{e}}^q [ b(t , t)(s_t-\\alpha s_u)^+|\\cf_t ] df_u\\\\ & = & \\int_t^tc(t , u , t)df_u\\end{aligned}\\ ] ] and the other is treated similarly .",
    "we can summarize the above results in the following    [ gener1 ] with the above notation , we have    1 .   under hypothesis @xmath107 the price of a * rtfs * call option is given by @xmath108\\mathbf 1_{\\{0",
    "< \\tau\\le t\\}}+(1-\\alpha)s_t\\mathbf 1_{\\{\\tau > t\\}}\\\\ & + & \\mathbf 1_{\\{\\tau > t\\}}{\\mathbf{e}}^q[\\int_t^t b(t , u)c(u , u , t)\\mathrm e^{-(\\gamma_u-\\gamma_t)}d\\gamma_u|\\cf_t]\\\\ & -&(1-\\alpha)\\mathbf 1_{\\{\\tau > t\\ } } { \\mathbf{e}}^q[\\int_t^t b(t , u)s_u \\mathrm e^{-(\\gamma_u- \\gamma_t)}d\\gamma_u|\\cf_t]\\end{aligned}\\ ] ] 2 .   under hypothesis @xmath109 the price of a * rtfs * call option is given by @xmath110\\mathbf 1_{\\{0 < \\tau\\le t\\}}\\\\ & + & \\mathbf 1_{\\{\\tau >",
    "t\\}}\\big [ \\int_t^tc(t , u , t)\\mathrm e^{-(\\gamma_u- \\gamma_t)}d\\gamma_u+(1-\\alpha)s_t\\mathrm e^{-(\\gamma_t-\\gamma_t ) } \\big ] \\end{aligned}\\ ] ]    part ( a ) is only the assembling of the various pieces previously presented . as for part ( b ) , because of independence , @xmath111 is deterministic and it gets pulled out of the expectation . since @xmath42 is a martingale measure , the integrands of the last two terms verify the martingale property w.r.t .",
    "@xmath85 under @xmath42",
    ".    [ rem1 ] if we assume that @xmath112 is absolutely continuous w.r.t .",
    "the lebesgue measure , that is to say @xmath113 for some @xmath50adapted and non negative process @xmath114 called intensity ( see @xcite ) , then also @xmath115 is absolutely continuous and if we denote by @xmath116 its density , necessarily we have @xmath117    in this case we have    1 .   under hypothesis @xmath107 the price of a * rtfs *",
    "call option is given by @xmath118\\mathbf 1_{\\{0 < \\tau\\le t\\}}+(1-\\alpha)s_t\\mathbf 1_{\\{\\tau > t\\}}\\\\ \\nonumber & + & \\mathbf 1_{\\{\\tau > t\\}}{\\mathbf{e}}^q[\\int_t^t b(t , u)c(u , u , t ) \\lambda_u\\mathrm e^{-\\int_t^u\\lambda_s ds}du|\\cf_t]\\\\   \\nonumber & -&(1-\\alpha)\\mathbf 1_{\\{\\tau > t\\ } } { \\mathbf{e}}^q[\\int_t^t b(t , u)s_u \\lambda_u\\mathrm e^{-\\int_t^u\\lambda_s ds}du|\\cf_t]\\end{aligned}\\ ] ] 2 .   under hypothesis @xmath109 the price of a * rtfs *",
    "call option is given by @xmath119\\mathbf 1_{\\{0 < \\tau\\le t\\}}\\\\ \\nonumber&+&\\mathbf 1_{\\{\\tau > t\\}}\\big [ \\int_t^tc(t , u , t ) \\lambda_u\\mathrm e^{-\\int_t^u\\lambda_s ds}du+(1-\\alpha)s_t\\mathrm e^{-\\int_t^t\\lambda_s ds } \\big ] \\end{aligned}\\ ] ]    the above formulas , either in presence of independence or not , rely on the knowledge of the model and of the conditional distribution of the default time",
    ". hence , deriving an explicit or implementable formula for the pricing will depend heavily on the modelling choices we are going to make .    of course , the independent case is much easier than the other and we focus on it in the next section , to show that there are some interesting treatable cases .",
    "we will always take @xmath8 .",
    "when we no longer assume independence of @xmath75 and @xmath34 , we need to resort to formula ( [ hazard1 ] ) and a reasonable choice is to make the hazard rate depend also on the price process . as a first attempt one may try an affine model , so we decide that @xmath120 where @xmath121 are deterministic , positive and bounded functions , while @xmath122 is a positive @xmath51adapted process independent of @xmath85 , @xmath123 .    by using the optional projection theorem ( see @xcite theorem vi.57 ) , we may arrive at the pricing formula @xmath124\\mathbf",
    "1_{\\{0 < \\tau\\le t\\}}\\\\ \\!\\!\\!&+&\\!\\!\\!\\int_t^t a(u)call(u,1,\\alpha , t){\\mathbf{e}}^q [   b(t , u)s_u^2\\mathrm e^{-\\int_t^u   a(s ) s_sds}|\\cf_t]{\\mathbf{e}}^q[\\mathrm e^{-\\int_t^u",
    "b(s ) z_sds}]du\\\\ \\!\\!\\!&+&\\!\\!\\!\\int_t^t b(u)call(u,1,\\alpha , t){\\mathbf{e}}^q [    b(t , u)s_u\\mathrm e^{-\\int_t^u   ( a(s ) s_sds}|\\cf_t]{\\mathbf{e}}^q[z_u\\mathrm e^{-\\int_t^u   b(s ) z_sds}]du\\\\ \\!\\!\\!&+&\\!\\!\\!(1-\\alpha){\\mathbf{e}}^q[b(t ,",
    "t)s_t\\mathrm e^{-\\int_t^t a(s ) s_sds}|\\cf_t]{\\mathbf{e } } [ \\mathrm e^{-\\int_t^t b(s ) z_sds}]\\big \\},\\end{aligned}\\ ] ] where all the above expectations are of the same type .",
    "if not explicitly computable , the expectations can be evaluated via monte carlo or transform methods , once a grid of points @xmath125 in order to approximate the time integrals has been fixed .",
    "more precisely , one applies the monte carlo approach to the inner expectations by generating @xmath126 independent paths of the processes @xmath34 and @xmath122 at the grid points .",
    "we now show some examples where the above formulas for the rtfs options can be explicitly computed , of course the first case to analyze is the black and scholes model .",
    "* pricing in the black & scholes market *    in the classical bs market with constant risk - free rate @xmath127 and volatility @xmath128 , the price of a plain vanilla european call with maturity @xmath2 and strike @xmath129 will be denoted by @xmath130 , while the price of of a forward - start option with maturity @xmath2 , strike - determination time @xmath3 and percentage @xmath8 ( see @xcite ) is simply @xmath131 where @xmath132 @xmath133 hence in formula ( [ fs_pricebs ] ) we have @xmath134 .",
    "let us notice that @xmath135 is always true .    henceforth , under ( ind ) , the price of a ( * rtfs * ) option is given by @xmath136 the valuation of ( [ gfspricebs ] ) can be found in closed form in some simple cases . if @xmath137 , @xmath138 under @xmath42 , then for the second term we obtain @xmath139,\\ ] ] where @xmath140 and it is clear that @xmath141 for all values of the parameters .",
    "the above integrals specialize depending on the choice of the parameters . if @xmath142 we have three cases .",
    "if @xmath143 then these integrals can be explicitly computed exploiting integration by parts and the gaussian density , obtaining ( keeping in mind that @xmath144 ) @xmath145.\\end{aligned}\\ ] ] when @xmath146 ( hence @xmath147 ) , then the above formulas reduce to @xmath148\\end{aligned}\\ ] ] and for @xmath149 we lose the gaussian integral and we arrive at @xmath150\\\\ \\label{case3a2 } \\!\\!\\!\\!\\!\\!a_2(t , t)\\!\\!\\ ! & = & \\!\\!\\ ! \\frac \\lambda{\\lambda\\!-\\ !",
    "\\big \\{\\mathrm e^{-r(t\\!-t)}\\cn ( c_2\\sqrt{t\\!\\!-\\!t})\\!- \\!\\mathrm e^{-\\lambda(t\\!-t ) } \\big [ \\frac 12 + \\!\\frac{c_2}{\\sqrt{2\\lambda\\!-\\!c_1 ^ 2}}\\ ! \\int^{\\sqrt{(2\\lambda\\!- c_1 ^ 2)(t\\!-t)}}_0\\!\\ ! \\frac{\\mathrm e^{\\frac{z^2}2}}{\\sqrt{2\\pi}}dz\\big ] \\big \\}.\\end{aligned}\\ ] ] if instead condition @xmath151 holds , we arrive in any case to an explicit formula with @xmath152 the same as in ( [ case1a1 ] ) and @xmath153 given by @xmath154.\\ ] ]    * ( the merton market model ) *    the above results can be extended with moderate computational effort to the merton jump - diffusion market model ( see e.g. @xcite ) @xmath155 where @xmath156 is a brownian motion , @xmath157 a poisson process with jump - arrival intensity @xmath158 , @xmath159 all independent of each other , @xmath160 - 1 $ ] is the jump - size expectation , @xmath128 is the volatility and @xmath127 is the risk - free rate .    under ( ind ) , for @xmath8 and under the martingale @xmath42 , if @xmath161 , with @xmath162 , the price of a ( * rtfs * ) option is given by @xmath163 where @xmath164 , @xmath165 and @xmath166 are given as in ( [ a1a2bs ] ) for appropriate sets of parameters varying with @xmath167 .",
    "the explicit formula is available from the authors , upon request .",
    "* pricing with fourier transform : the variance gamma model *    here we assume that the price dynamics is of the form @xmath168 , where @xmath169 is a lvy process .",
    "fourier transform is a well established computational tool for derivative pricing , first introduced in @xcite and then further developed by several authors ( e.g. see @xcite or @xcite and the references therein ) .",
    "different ways of applying this technique lead to different representation formulas for the risk neutral price of a plain vanilla call option , we choose to consider @xmath170 for @xmath171 and @xmath172 , with @xmath173 $ ] the generalized characteristic function of @xmath174 .",
    "because of the independence of the increments , @xmath175 does not depend on @xmath52 , so the model is scale - invariant and , applying ( [ scale ] ) , we may conclude that the price of the standard forward starting option with determination time @xmath3 is @xmath176 by inserting this fourier representation of the forward starting call price into the formulas of proposition 1.1 or remark [ rem1 ] , we get a double integral representation of our rtfs call price .    as usual , under hypothesis ( ind ) ,",
    "setting @xmath8 , we obtain @xmath177\\mathbf 1_{\\{0 < \\tau\\le t\\ } } \\\\   & + & \\mathbf 1_{\\{\\tau > t\\ } }   \\frac{s_t}{2 \\pi } \\int_{\\mathrm{i } \\nu - \\infty}^{\\mathrm{i } \\nu + \\infty } \\frac 1{\\mathrm{i } z - z^2 } \\big [ \\int_t^t \\mathrm{e}^{- r(t - u)(1 + \\mathrm{i } z ) } \\phi_{x_t- x_u}(-z ) \\lambda_u\\mathrm",
    "e^{-\\int_t^u\\lambda_s ds}du \\big ] dz.\\end{aligned}\\ ] ] in some cases the inner integral can be solved in closed form . as a matter of fact ,",
    "if we choose a variance gamma model for the price dynamics @xmath178 with @xmath156 a standard brownian motion and @xmath179 a gamma process independent of @xmath156 , with parameters 1 and @xmath180 and @xmath181 ( see @xcite ) , we have @xmath182 where @xmath183 , with @xmath184 and @xmath185 , denotes the principal complex logarithm .",
    "taking also ( for ease of computation ) a constant hazard rate @xmath186 , we may conclude @xmath187\\mathbf 1_{\\{0 < \\tau\\le t\\ } }   \\nonumber \\\\ \\!\\!\\ ! & + & \\!\\!\\!\\mathbf 1_{\\{\\tau > t\\ } }   \\frac{s_t}{2 \\pi}\\lambda \\mathrm{e}^{-\\lambda(t - t ) } \\int_{\\mathrm{i } \\nu - \\infty}^{\\mathrm{i } \\nu + \\infty}\\frac 1{\\mathrm{i } z - z^2}\\ ; \\frac { 1 -   \\mathrm{e}^{-[r ( 1+\\mathrm{i } z)+\\frac 1\\mu\\ln ( 1-\\mathrm{i}b\\mu z + c^2 \\mu \\frac{z^2}2 ) - \\lambda](t- t)}}{r ( 1+\\mathrm{i } z)+\\frac 1\\mu\\ln ( 1-\\mathrm{i}b\\mu z + c^2 \\mu \\frac{z^2}2 ) - \\lambda}dz,\\end{aligned}\\ ] ] leading to a computable formula .",
    "it is reasonable that the same arguments might be extended to tempered stable distributions as well as to the carr - geman - madan - yor model ( see @xcite ) .",
    "* pricing in the heston stochastic volatility market . *    assuming independence , we can arrive to an explicit formula also in the heston stochastic volatility model , given ( under the risk neutral measure ) by @xmath188 where @xmath127 is a constant interest rate . here",
    "@xmath85 has to be the natural filtration generated by the couple @xmath189 , which is jointly a bidimensional markov process , hence the final pricing formula will depend only upon the initial values of both @xmath34 and @xmath128 .    as before , we start from the expression @xmath190\\mathbf",
    "1_{\\{0 < \\tau\\le t\\}}\\\\ & + & \\mathbf 1_{\\{\\tau >",
    "t\\}}\\big [ \\!\\int_t^t\\!\\!c_h(t , u , t , s_t , \\sigma_t ) \\lambda_u\\mathrm e^{-\\int_t^u\\lambda_s ds}du+(1\\!-\\alpha)s_t\\mathrm e^{-\\int_t^t\\lambda_s ds } \\big ] .\\end{aligned}\\ ] ] by employing the results in @xcite ( or @xcite ) , we can find an explicit formula for the forward start option .",
    "indeed by virtue of the scale invariant property verified also by this model , we have @xmath191 where @xmath192 is the standard price of a call option in the heston model ( for details see for instance @xcite lemma 2.1 ) and @xmath193 and @xmath194 is a modified bessel function of the first kind .    the previous method can be adapted to cover also the case of affine stochastic interest rate market model proposed in @xcite , where the interest rate follows a hull and white model and the stochastic volatility is a ornstein - uhlenbeck process .",
    "in this section we report the results of the numerical implementation of some of the models presented before : the black & scholes , the variance gamma and the heston models , with a random time @xmath195 with parameter @xmath162 . in all experiments we set @xmath8 , @xmath196 and",
    "we assume the independent hypothesis ( ind ) .",
    "analytical or closed - form prices , eventually requiring numerical quadrature , are compared with standard monte carlo approximations of the arbitrage free pricing formula ( [ random ] ) .",
    "sample paths of the underlying dynamics are evaluated at the random time @xmath6 and the corresponding payoffs are collected to estimate ( [ random ] ) . in our experiments we simulated @xmath197 samples / paths and remark [ rem1 ] can be easily designed . ] .    adaptive gauss - lobatto quadrature was used to approximate representation integrals ( vg and heston models ) , which required the evaluation of extended fourier transforms involving multivalued functions , such as the complex logarithm . to avoid the well - known numerical instabilities due to a wrong formulation of the characteristic function",
    ", we used the so - called _ rotation count algorithm _ by kahl and jckel ( see e.g. @xcite ) .",
    "all routines were coded and implemented in matlab , version 8.0 ( r2012b ) on an intel core i7 2.40 ghz machine running under windows 7 with 8 gb physical memory .",
    "for each model we report the closed - form ( cf ) and the mc prices for different values of @xmath186 , fixing the other model parameters . in parenthesis",
    "we report the absolute error w.r.t .",
    "the cf price , followed by the corresponding length of the @xmath198 confidence interval . without loss of generality we set @xmath199 , @xmath200 and @xmath201 .    in",
    "the black & scholes model the rtfs price is given by formulas ( [ gfspricebs])-([case4a2 ] ) .",
    "exact simulations of the geometrical brownian motion with @xmath202 at the random time @xmath6 are used to estimate the pricing formulas .",
    ".*black & scholes * model for different values of @xmath186 . [ cols=\"^,^,^,^\",options=\"header \" , ]     lastly , we choose the random time @xmath195 with varying @xmath203 in order to compare at time @xmath196 , the rtfs price and the price of a fs option with determination time @xmath204 . in other words",
    "we compare @xmath205 with @xmath206 , see figure ( [ figall1 ] ) . in all the instances prices decrease as @xmath3 increases",
    ", moreover we notice that : i ) for @xmath207 ( i.e. @xmath208 ) fs and rtfs prices both tend to the price of an atm plain vanilla call ; ii ) for @xmath209 ( i.e. @xmath210 ) the fs value trivially goes to @xmath211 , while the value of a rtfs option stays positive since @xmath212 .    .",
    "[ figall1],width=680,height=226 ]",
    "in this section we are interested in computing the credit value adjustment ( cva ) for a rtfs option , when one of the parties is subject to a possibly additional default time .",
    "the interest lies in the fact that those products would be otc and knowing that the cva is computable might be convenient .",
    "we first recall what the cva is for an additive cashflow .",
    "let us denote by @xmath213 the discounted value of the cashflow between time @xmath31 and @xmath2 ; this value has to be additive , which means that for times @xmath214 it holds @xmath215 all european contingent claims with integrable , @xmath56measurable payoff @xmath216 , trivially verify ( [ additive ] ) since @xmath217 .",
    "we call net present value of @xmath218 @xmath219 we now look into unilateral counterparty credit risk . let us suppose that the cashflow is between two parties @xmath220 ( buyer ) and the counterparty @xmath221 , that is subject to default , with default time @xmath222",
    ". then , the discounted value of the cashflow has to be adjusted by subtracting from the defaultless case the quantity @xmath223 where @xmath224 represents a deterministic recovery rate ( see @xcite ) .    in the case of classical forward start options with fixed strike - determination time @xmath3 ,",
    "it is possible to compute directly the cva .",
    "we denote by @xmath225 the filtration generated by the process @xmath226 and by @xmath227 . under independence between @xmath228 and @xmath225 , taking for granted that @xmath54 remains a martingale in the enlarged filtration @xmath229 w.r.t .",
    "a risk neutral probability measure @xmath230 which extends the risk neutral probability @xmath20 , we have @xmath231 where the key lemma and the same notation as in section 1 were used , under the assumption that @xmath232 .    to extend the previous formula to the case of the rtfs options we need to consider two random times : the strike - determination time @xmath75 and the counterparty default time @xmath222 .",
    "hence we need to extend the original filtration @xmath228 with both @xmath233 and @xmath234 , obtaining @xmath235 accordingly , we assume there exists an extension of the risk neutral probability @xmath20 to a common probability space @xmath236 that we still denote by @xmath42 and we set the corresponding key assumption    * ( hc)*every @xmath85 martingale remains a @xmath72 martingale .",
    "taking @xmath8 for simplicity , we have that the price of a defaultable rtfs call option is @xmath237.\\ ] ] so , in presence of a recovery rate @xmath238 , we obtain that the cva for this product has to be @xmath239= ( 1\\!-\\!r ) { \\mathbf{e}}^{q}[\\mathbf 1_{\\{t<\\tau_c\\le t\\}}b(t , t)(s_t - s_{\\tau\\wedge t})^+|\\cal g_t].\\end{aligned}\\ ] ] we may decompose the expectation as @xmath240\\\\ \\!\\!\\!&=&\\!\\!\\!{\\mathbf{e}}^{q}[\\mathbf 1_{\\{t<\\tau_c\\le t\\}}\\mathbf",
    "1_{\\{\\tau > t\\}}b(t , t)(s_t\\!-\\!s_{\\tau\\wedge t})^+|\\cal g_t]\\!+{\\mathbf{e}}^{q}[\\mathbf 1_{\\{t<\\tau_c\\le t\\}}\\mathbf 1_{\\{\\tau\\le t\\}}b(t , t)(s_t\\!-\\!s_{\\tau\\wedge t})^+|\\cal g_t]\\\\ \\!\\!\\!&=&\\!\\!\\!{\\mathbf{e}}^{q}[\\mathbf 1_{\\{t<\\tau_c\\le t\\}}\\mathbf 1_{\\{t<\\tau\\le t\\}}b(t , t)(s_t - s_{\\tau})^+|\\cal g_t ] + \\mathbf 1_{\\{\\tau\\le t\\}}{\\mathbf{e}}^{q}[\\mathbf 1_{\\{t<\\tau_c\\le t\\}}b(t , t)(s_t - s_{\\tau})^+|\\cal g_t],\\end{aligned}\\ ] ] where the last equality is justified by the fact that the first term in the first passage is equal to 0 . in the second equality",
    "the crucial term is the first , as the second reduces to the cva of a standard forward start option , for which formula ( [ cvafs ] ) applies .",
    "we may handle the first term under condition of independence between @xmath222 and @xmath241 . denoting by @xmath242 ,",
    "we have @xmath243 and applying the key lemma to @xmath72 and @xmath244 we obtain @xmath245\\\\ & = & q(\\tau_c > t|\\cg_t)\\frac{{\\mathbf{e}}^{q}[\\mathbf 1_{\\{t<\\tau_c\\le t\\}}\\mathbf 1_{\\{t < \\tau\\le t\\}}b(t , t)(s_t - s_{\\tau})^+|\\cf^h_t]}{q(\\tau_c > t|\\cf^h_t)}.\\end{aligned}\\ ] ] the independence of @xmath246 from the remaining factors gives @xmath245\\\\ & = & q(\\tau_c > t|\\cg_t)\\frac",
    "{ q(t < \\tau_c\\le t)}{q(\\tau_c > t)}{\\mathbf{e}}^{q}[\\mathbf 1_{\\{t < \\tau\\le t\\}}b(t , t)(s_t - s_{\\tau})^+|\\cf^h_t]\\end{aligned}\\ ] ] and if @xmath247 , the above reduces to @xmath248=q(t < \\tau_c\\le t ) { \\mathbf{e}}^{q}[\\mathbf 1_{\\{t < \\tau\\le t\\}}b(t , t)(s_t - s_{\\tau})^+|\\cf^h_t]\\ ] ] which is the weighted value of a rtfs option , exactly as it happened with the standard fs option .",
    "summarizing we have    under hypothesis ( hc ) and the condition that @xmath249 , if @xmath222 is independent of @xmath241 , then the cva of a defaultable rtfs call option of price @xmath250 , with recovery rate @xmath251 $ ] , is given by @xmath252 .",
    "lastly we remark that if the two random times coincide , @xmath253 , then we may conclude that @xmath254 which implies that the defaultable price is @xmath255 .",
    "the authors thank prof . c. chiarella for useful suggestions at an early stage of this work .",
    "d. brigo , k .chourdakis , _ counterparty risk for credit default swaps : impact of default volatility and spread correlation _ , international journal of theoretical and applied finance , vol .",
    "12 , no . 7 , 1007 - 1029 , ( 2009 ) .",
    "g. h. cheang , c. chiarella , _ a modern view on merton s jump - diffusion model _ , in `` stochastic processes , finance and control : a festschrift in honor of robert j. elliott '' , samuel n. cohen , dilip madan , tak kuen siu and hailiang yang ( eds . ) , pg 217 - 234 , world scientific , ( 2012 ) .",
    "a. van haastrecht , a. pelsser _",
    "accounting for stochastic interest rates , stochastic volatility and a general correlation structure in the valuation of forward starting options _ , journal of futures markets , vol .",
    "31 , no . 2 , 103 - 125 ( 2011 ) .",
    "a. ramponi , _ on fourier transform methods for regime - switching jump - diffusions and the pricing of forward starting options _ , international journal of theoretical and applied finance , vol .",
    "15 , no . 5 , ( 2012 )"
  ],
  "abstract_text": [
    "<S> we introduce a natural generalization of the forward - starting options , first discussed by m. rubinstein ( @xcite ) . </S>",
    "<S> the main feature of the contract presented here is that the strike - determination time is not fixed ex - ante , but allowed to be random , usually related to the occurrence of some event , either of financial nature or not . </S>",
    "<S> we will call these options * random time forward starting ( rtfs)*.    we show that , under an appropriate  martingale preserving \" hypothesis , we can exhibit arbitrage free prices , which can be explicitly computed in many classical market models , at least under independence between the random time and the assets prices . </S>",
    "<S> practical implementations of the pricing methodologies are also provided . </S>",
    "<S> finally a credit value adjustment formula for these otc options is computed for the unilateral counterparty credit risk .    * keywords * : random times , forward - starting options , cva .    * jel classification * : g13 </S>"
  ]
}