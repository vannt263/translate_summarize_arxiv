{
  "article_text": [
    "two approaches have become popular in the field of computer design for scientific calculations : special or general purpose computers .",
    "lattice monte carlo in quantum field theory and statistical mechanics requires large computational power in relatively general purpose computers and the processing can often be parallelized .",
    "various groups have developed their own parallel machines for those simulations  @xcite  @xcite  @xcite  @xcite .",
    "those general purpose computers require continuous technological upgrading and investment to obtain competitive results . on the other hand",
    ", special purpose computers can approach very specific problems , achieving better performance than general computers .",
    "the emergence in the market of complex programmable logic devices ( cpld ) makes it possible to design dedicated machines with low cost and high performance . in this paper",
    "we describe a cpld - based machine , dedicated to three - dimensional spin glass models with variables belonging to @xmath0 and couplings to first neighbours , and report on the reliability tests which have been carried out .    our machine is called sue , for spin updating engine , because its task is to generate sets of updated spin configurations in the monte carlo simulation . in a previous work  @xcite",
    ", we presented the prototype for the two - dimensional model , and introduced the first ideas about the final version . after checking that the 2d version worked properly ,",
    "we have designed , constructed and tested the 3d version , which differs in some aspects from the 2d version as we will see below .",
    "the performance of the 3d machine is improved due to the fact that it can run more than a single model : the lattice size or the action of the physical model can be easily changed using the on - board reprogrammability of the cplds . a device devoted to generate",
    "a 32-bit random number has been developed and included in every sue board .",
    "this device ( described below ) enables sue to operate with both canonical and microcanonical algorithms .    at present , spin glass models  @xcite are a progressing area of statistical mechanics .",
    "they are related to neural networks , spin models , some high @xmath1 superconductivity models , etc .",
    "there is large activity in the 3d models because of the uncertainty in the vacuum structure at low temperature .",
    "monte carlo simulations of spin glass systems have been used to study the phase transition , the ultrametric structure and the dynamics out of equilibrium  @xcite . only sizes up to @xmath2 have been simulated  @xcite@xcite@xcite , due to the slow dynamics of the systems and the strong slowing - down as the size grows . yet , those simulations requiring very simple calculations , they are easily implementable in a dedicated machine . that way the computational power needed to obtain results in larger lattices is obtained .",
    "a standard way of studying spin glasses is the use of independent lattices with the same quenched couplings , called _",
    "replicas_. the overlap between two _ replicas _ acts as the order parameter in that model .",
    "a great improvement on the usual monte carlo scheme is the parallel tempering method  @xcite .",
    "the basic idea is to move in temperature space : the system changes its temperature , goes up to the paramagnetic phase and eventually goes back to lower temperature . with high probability in its motion through temperature",
    "the system will visit new local minima .",
    "that scheme has been implemented in sue : _ replicas _ at different temperatures are simulated , and systems running at adjacent levels can be swapped according to an appropriate probability distribution .    an essential tool for the analysis of results is finite size scaling  @xcite , which requires the use of different volumes . in that sense , sue is capable of working with different lattice sizes by reprogramming its cpld devices .",
    "the main differences with respect to the 2d prototype presented in  @xcite are :    * larger and faster devices . * multi - layer instead of double - layer printed circuits .",
    "* on - board reprogrammability . * dedicated device for 32-bit random number generation . * demon and heat bath algorithm support . *",
    "parallel tempering implementation . * driver and software development for easy ( transparent ) use .    at present",
    "we have built 12 boards and tested them using the demon and heat bath algorithms in different lattice sizes .",
    "each board simulates 8 lattices , updating 8 spins every @xmath3 cycle .",
    "the update speed of a single board is therefore @xmath4 .",
    "the cost of each board is 2400 euros ( 500 for pcb and mounting , and 1900 for components . )",
    "the summary of this paper is as follows : we start introducing the physical model in the next section . in section  [ operation ]",
    "we describe the electronic architecture of sue , design considerations and software support .",
    "the development process is outlined in section  [ development ] .",
    "last section is devoted to discuss the performance .",
    "we want to simulate the 3d edwards - anderson model with first neighbour couplings ( see  @xcite for a detailed description of the model ) .",
    "the action of this model is given by @xmath5 where the value of the ising spins @xmath6 can be @xmath7 or @xmath8 , and the couplings @xmath9 are random variables taking the values @xmath10 with equal probability . for a fixed set of couplings @xmath11",
    "the partition function is @xmath12    we study the existence of phase transitions using as order parameter the overlap between two independent systems ( _ replicas _ ) with the same set of couplings @xmath9 .",
    "we should finally average over different realizations of the disorder ( @xmath9 ) to obtain physical results about the system .    to calculate ( [ partition ] ) we must sum over @xmath13 possible configurations , where @xmath14 is the volume of the lattice , which is a very large number for any computer .",
    "the standard way to compute the partition function is to run an algorithm that selects only a representative set of configurations .",
    "there are different appropiate algorithms , see for instance the chapter by sokal in  @xcite . for pure spin systems ( all @xmath9 equal to @xmath7 ) some _ cluster",
    "_ algorithms are very efficient , but for a general spin glass model only local algorithms achieve good efficiency .    typically , we must run the algorithm and generate millions of different representative configurations in order to obtain accurate results .",
    "the _ autocorrelation time _",
    "@xmath15 is a measure of the correlation between configurations : a run of length @xmath16 provides only @xmath17 effectively independent samples . near the critical point",
    ", @xmath15 diverges as @xmath18 , where @xmath19 is the size of the system and @xmath20 , the _ dynamical critical exponent _ , has been found to be around @xmath21 ( while in the pure ising model it is close to @xmath22 ) .",
    "this strong slowing - down , due to the existence of many pure and metastable states , and the absence of non local algorithms , makes this problem really hard from a computational point of view .",
    "two different updating algorithms have been implemented in our design , one microcanonical ( demon ) and one canonical ( heat bath ) .",
    "the demon algorithm  @xcite@xcite keeps the sum of the lattice energy and a demon energy constant . in order to generate the representative set of samples , we start from a spin configuration with an action @xmath23 and a demon energy equal to zero .",
    "now we use the algorithm to change the spins to generate new configurations ( one for every @xmath14 updates ) .",
    "the update of a spin is as follows : if the flip lowers the spin energy , the demon takes that energy and the flip is accepted . on the other hand , if the flip increases the spin energy , the change is only made if the demon energy is sufficient to transfer that energy to the system .",
    "the conservation of the total energy ( lattice plus demon ) , has been useful in the programming / test stage , allowing fast tests of proper function .    in the heat bath algorithm",
    "@xcite , the new spin value for each site @xmath24 is independent from the old one , and its probability distribution is that of a single ising spin @xmath24 in the effective magnetic field produced by the fixed neighbouring spins @xmath25 : @xmath26    the drawback of this canonical algorithm is the necessity of a random number to decide the acceptance of the new spin .    the algorithms being local , to update a spin only the nearest neighbours are needed .",
    "because of simplicity in the electronic design , we use helicoidal boundary conditions . let us consider a lattice of side @xmath19 and volume @xmath27 with sites labelled in the standard way : the site @xmath28 $ ] ( with @xmath29 ) gets the index @xmath30",
    "we will call @xmath31 ( @xmath32 , @xmath33 ) the neighbour in the positive direction along the @xmath34 ( @xmath35 , @xmath20 ) axis . with our helicoidal boundary conditions",
    "the neighbours of the site @xmath16 are simply : @xmath36    we define in an analogous manner the remaining neighbours @xmath37 ,",
    "@xmath38 and @xmath39 .    0.3 cm",
    "the sue machine is connected to a host computer ( hc ) running under linux .",
    "sue performs the update of the configurations , but the measurements and analysis are made by the hc .",
    "sue is set up with initial spin configurations , couplings and several simulation parameters .",
    "then sue is started and simulation begins .",
    "after a certain number of iterations , sue is stopped to download the configuration to the hc and sue keeps the updating process . in this sense , sue and the hc work in parallel : while sue is updating the system the hc processes the previously read configurations .    fig .",
    "[ suefig ] shows a simple diagram of the whole machine which consists of the hc and @xmath16 sue boards ( the figure is for @xmath40 , but the final system consists of 12 processing modules ) .",
    "they are connected to the hc through a pci data acquisition card .",
    "every processing module contains the hardware to store and update eight lattices in parallel .",
    "note that there are two degrees of parallelism : inside the processing module and between the modules .",
    "every clock cycle , the random number generator device included in each board provides a pseudo - random number which is shared for the update of the eight lattices , so the _ replicas _ ( systems with the same couplings @xmath9 ) must be simulated in different boards .",
    "we can then think of each pair of boards as a unit , allowing us to simulate eight pairs of _ replicas _ ( corresponding to eight realizations of disorder @xmath9 ) .",
    "periodically , the configurations are read and the relevant measurements carried out and stored .",
    "parallel tempering requires the simulation of pairs of _ replicas _ with the same couplings at different values of @xmath41 . with 12 boards we could then simulate _ replicas _ corresponding to eight sets of couplings at 6 values of @xmath41 at once .",
    "parallel tempering requires more temperature levels , so each time the configuration is read the @xmath41 is changed ( the corresponding probability table is loaded ) , and the configuration to be updated is loaded onto the board ( in the meantime it was stored in the hc ) .",
    "different temperatures are then sequentially simulated .",
    "the hc controls this mechanism , and is responsible for deciding whether the configurations being simulated at adjacent temperatures are interchanged .",
    "given the configurations @xmath42 at temperature @xmath41 and @xmath43 at temperature @xmath41 , we compute @xmath44 and use a metropolis like test : if @xmath45 we accept the change , otherwise we swap the configurations with probability @xmath46 .    by processing 8 spins in parallel on 12 modules ( 96 spins in total ) within one clock cycle ( clock period of 48  mhz ) , we obtain an update speed of 217 _ ps / spin_. the time spent reading , writing and processing ( meassurement and paralell tempering ) the configurations is around 4% of the computation time in the smallest simulable lattice ( @xmath47 ) , and decreases steeply with size ( it is less than 1% of the total time for @xmath48 ) .",
    "let us describe the main characteristics of a sue board .",
    "devices used are listed in table [ comp ] , apart from passive components ( resistors , diodes , capacitors , leds , etc . ) .",
    "the main electronic devices are the altera 10k cplds  @xcite .",
    ".active components in sue [ cols=\"^,<,<,<\",options=\"header \" , ]",
    "in this section we present some preliminary results obtained with sue .",
    "we have run an @xmath47 lattice in @xmath49 boards at @xmath50 mhz",
    ". we have simulated @xmath51 sets of @xmath52 , with @xmath22 _ replicas _ at @xmath53 different values of @xmath41 , which previously have been controlled to have a correct transfer probability between them with the parallel tempering method .",
    "we measure every @xmath54 sweeps , collecting @xmath55 measurements .",
    "these results have been obtained in @xmath56 days .",
    "the errors are plotted only at the simulations points .",
    "we are working around the critical region , as we reach high values for @xmath57 .",
    "the extrapolated lines connect properly and the different values evolve smoothly for different @xmath58 values , as corresponds to a good thermalization and a high transition probability from parallel tempering .    at the moment of writing , we are running @xmath47 in 12 boards and almost finished the runs .",
    "afterwards we will start the simulation in the @xmath48 system , and estimate that the time needed to obtain good results is around one year ."
  ],
  "abstract_text": [
    "<S> the use of last generation programmable electronic components makes possible the construction of very powerful and competitive special purpose computers . </S>",
    "<S> we have designed , constructed and tested a three - dimensional spin glass model dedicated machine , which consists of 12 identical boards . </S>",
    "<S> each single board can simulate 8 different systems , updating all the systems at every clock cycle . </S>",
    "<S> the update speed of the whole machine is 217ps / spin with 48  mhz clock frequency . a device devoted to fast </S>",
    "<S> random number generation has been developed and included in every board . </S>",
    "<S> the on - board reprogrammability permits us to change easily the lattice size , or even the update algorithm or the action . </S>",
    "<S> we present here a detailed description of the machine and the first runs using the heat bath algorithm .    ,    ,    ,    ,    and    .    </S>",
    "<S> ising model , spin - glass , + /-j , 3d , special purpose machine , programmable logic .    </S>"
  ]
}