{
  "article_text": [
    "_ notation : an @xmath3-pointed curve @xmath10 is a reduced , connected , complete , one - dimensional scheme of finite - type over an algebraically closed field , together with a collection of @xmath3 points @xmath11 .",
    "the marked points need not be smooth nor distinct .",
    "we say that a point on @xmath12 is _ distinguished _ if it is marked or singular , and that a point on the normalization @xmath13 is _ distinguished _ if it lies above a distinguished point of @xmath12 . if @xmath12 is any curve and @xmath14 is a proper subcurve , we call @xmath15 _ the complement of @xmath16_. _ +      one of the most beautiful and influential theorems in modern algebraic geometry is the construction of a modular compactification @xmath0 for the moduli space of smooth curves @xcite .",
    "the key point in this construction is the identification of a suitable class of singular curves , namely _ deligne - mumford stable curves _",
    ", with the property that every incomplete one - parameter family of smooth curves has a unique limit contained in this class .",
    "while the class of stable curves gives a natural modular compactification of the space of smooth curves , it is not unique in this respect .",
    "there exist two alternate compactifications in the literature , the moduli space of pseudostable curves @xcite , in which cusps arise , and the moduli space of weighted pointed curves , in which sections with small weight are allowed to collide @xcite . in light of these constructions ,",
    "it is natural to ask    can we classify all possible stability conditions for curves , i.e. classes of singular marked curves which are deformation - open and satisfy the property that any one - parameter family of smooth curves contains a unique limit contained in that class .    stable , pseudostable , and weighted stable curves all have the property that every rational component of the normalization has at least three distinguished points . in general",
    ", we say that an @xmath3-pointed curve with this property is _",
    "prestable_. the main result of this paper classifies stability conditions on prestable curves , i.e. we give a simple combinatorial description of all deformation - open classes of prestable curves with the unique limit property .",
    "stability conditions on curves correspond to open proper substacks of the moduli stack of all curves .",
    "to make this precise , let @xmath2 be the functor from schemes to groupoids defined by @xmath17 note that we always allow the total space @xmath18 of a family to be an algebraic space . in appendix b",
    ", it is shown that @xmath2 is an algebraic stack , locally of finite - type over @xmath19 .",
    "let @xmath20 denote the open substack corresponding to families of smooth curves .",
    "since @xmath1 is irreducible , there is a unique irreducible component @xmath8 containing @xmath1 .",
    "the points of @xmath9 correspond to smoothable curves , while the generic point of every extraneous component of @xmath2 parametrizes a non - smoothable curve .",
    "since we are interested in irreducible compactifications of @xmath1 , we work exclusively in @xmath9 .",
    "a _ modular compactification of @xmath1 _ is an open substack @xmath21 , such that @xmath22 is proper over @xmath23    since the definition of a modular compactification is topological , the set of modular compactifications of @xmath1 does not depend on the stack structure of @xmath9 . in the absence of a functorial description for @xmath9",
    ", we simply define the stack structure by taking the stack - theoretic image in @xmath2 of the inclusion @xmath24 , where @xmath25 is the interior of @xmath9 , i.e. @xmath26    the long - term goal of this project is to classify all modular compactifications of @xmath1 .",
    "this paper takes the first step by classifying all _ stable modular compactifications of @xmath1_. if @xmath27 is an @xmath3-pointed curve , we say that @xmath27 is _ prestable _ ( resp .",
    "_ presemistable _ ) if every rational component of the normalization @xmath13 has at least three ( resp .",
    "two ) distinguished points .",
    "we then define the restricted class of stable ( resp .",
    "semistable ) modular compactifications as follows .",
    "a modular compactification @xmath21 is _ stable _ ( resp .",
    "_ semistable _ ) if every geometric point @xmath28",
    "\\in \\x$ ] is prestable ( resp .",
    "presemistable ) .",
    "it is by no means obvious that there should exist strictly semistable modular compactifications of @xmath1 .",
    "after all , if a nodal curve @xmath10 contains a smooth rational subcurve with only two distinguished points , then @xmath29 is not proper ; in particular , @xmath30 can not be contained in any proper substack of @xmath2 . a similar argument",
    "( see section [ ss : genuszero ] ) shows that every modular compactification of @xmath31 is stable , so the methods of this paper give a classification of _ all _ modular compactifications of @xmath31 .",
    "by contrast , the author has constructed a sequence of strictly semistable modular compactifications of @xmath32 @xcite .",
    "thus , for @xmath7 , our classification of stable compactifications does not tell the whole story .",
    "we should observe that a stable modular compactification @xmath22 necessarily has quasi - finite diagonal .",
    "in particular , @xmath22 admits an irreducible coarse moduli space @xmath33 , which gives a proper ( though not necessarily projective ) birational model of @xmath34 @xcite .    if @xmath22 is a stable modular compactification , then @xmath22 has quasi - finite diagonal .",
    "we must show that if @xmath30 is a prestable curve over an algebraically closed field @xmath35 , the group scheme @xmath36 has finitely many @xmath35-points .",
    "let @xmath37 be the set of distinguished points of @xmath13 .",
    "any @xmath35-automorphism of @xmath30 induces a @xmath35-automorphism of @xmath13 mapping the set @xmath38 to itself . since each rational component of @xmath13",
    "has at least three distinguished points , and each elliptic component has at least one distinguished point , the set of such automorphisms is finite .",
    "now let us describe the combinatorial data that goes into the construction of a stable modular compactification .",
    "if @xmath10 is a deligne - mumford stable curve , we may associate to @xmath30 its _ dual graph _ @xmath39 .",
    "the vertices of @xmath39 correspond to the irreducible components of @xmath12 , the edges correspond to the nodes of @xmath12 , and each vertex is labeled by the arithmetic genus of the corresponding component as well as the marked points supported on that component .",
    "the dual graph encodes the topological type of @xmath10 , and for any fixed @xmath40 , there are only finitely many isomorphism classes of dual graphs of @xmath3-pointed stable curves of genus @xmath4",
    ".    we write @xmath41 if there exists a stable curve @xmath42 over the spectrum of a discrete valuation ring with algebraically closed residue field , such that the geometric generic fiber has dual graph @xmath39 and the special fiber has dual graph @xmath43 . if @xmath44 is a vertex of @xmath39 , and we have @xmath41 , we say that @xmath41 induces @xmath45 to indicate that the limit of the irreducible component corresponding to @xmath44 is the union of the irreducible components corresponding to @xmath46 ( see figure [ f : graphspecialization ] ) .",
    "more precisely , if @xmath47 is a one - parameter family witnessing the specialization @xmath41 , then ( possibly after a finite base - change ) we may identify the irreducible components of the geometric generic fiber with the irreducible components of @xmath18 .",
    "in particular , @xmath44 corresponds to an irreducible component @xmath48 , and the limit of @xmath44 is simply the collection of irreducible components in the special fiber of @xmath49 .",
    "now we come to the key definition of this paper .",
    "[ d : assignment ] let @xmath50 be an enumeration of dual graphs of @xmath3-pointed stable curves of genus @xmath4 , up to isomorphism , and consider an assignment @xmath51 where @xmath52 is a subset of the vertices of @xmath53 .",
    "we say that @xmath54 is an _ extremal assignment over @xmath55 _ if it satisfies the following three axioms .    * for any dual graph @xmath39 , @xmath56 . * for any dual graph @xmath39 ,",
    "@xmath57 is invariant under @xmath58 . * for every specialization @xmath41 , inducing @xmath45 , we have @xmath59    axiom 2 in definition [ d : assignment ] implies that an extremal assignment @xmath54 determines , for each stable curve @xmath30 , a certain subcurve @xmath60 indeed , we may chose an isomorphism of the dual graph of @xmath30 with @xmath61 for some @xmath62 , and then define @xmath63 to be the collection of irreducible components of @xmath12 corresponding to @xmath52 under this isomorphism . by axiom 2 , @xmath63 does not depend on the choice of isomorphism .",
    "given an extremal assignment @xmath54 , we say that a curve is _",
    "@xmath54-stable _ if it can be obtained from a deligne - mumford stable curve @xmath64 by replacing each connected component of @xmath65 by an isolated curve singularity whose contribution to the arithmetic genus is the same as the subcurve it replaces .",
    "we make this precise in definitions [ d : genus ] and [ d : zstable ] below .",
    "[ d : genus ] let @xmath66 be a point on a curve , and let @xmath67 denote the normalization of @xmath12 at @xmath68 .",
    "the @xmath69-invariant @xmath70 and the number of branches @xmath71 are defined by following following formulae : @xmath72 and we define the _ genus",
    "_ @xmath73 by @xmath74 we say that a singularity @xmath66 has _ type _",
    "@xmath75 if @xmath76 and @xmath77 .",
    "[ d : zstable ] a smoothable @xmath3-pointed curve @xmath10 is _",
    "@xmath54-stable _ if there exists a stable curve @xmath78 and a morphism @xmath79 satisfying    1 .",
    "@xmath80 is surjective with connected fibers .",
    "2 .   @xmath80 maps @xmath81 isomorphically onto its image .",
    "if @xmath82 are the connected components of @xmath83 , then @xmath84 satisfies @xmath85 and @xmath86 .    for any extremal assignment @xmath54",
    ", we define @xmath87 to be the set of points corresponding to @xmath54-stable curves .",
    "the following theorem is our main result .",
    "[ t : main ]    *   * if @xmath54 is an extremal assignment over @xmath88 , then @xmath87 is a stable modular compactification of @xmath1 . * if @xmath21 is a stable modular compactification , then @xmath89 for some extremal assignment @xmath54 .",
    "see theorems [ t : construction ] and [ t : classification ] .    since the definition of an extremal assignment is purely combinatorial , one can ( in principal ) write down all extremal assignments over @xmath88 for any fixed @xmath4 and @xmath3 .",
    "thus , we obtain a complete classification of the collection of stable modular compactifications of @xmath1 . before proceeding ,",
    "let us consider some examples of extremal assignments , and describe the corresponding stability conditions .",
    "[ e : firstassignments ] consider the assignment defined by @xmath90 if we call an subcurve @xmath14 satisfying @xmath91 and @xmath92 an _ elliptic tail _ , we may say that the assignment @xmath54 is defined by picking out all unmarked elliptic tails of @xmath10 .",
    "this defines an extremal assignment over @xmath88 provided that @xmath93 or @xmath94 .",
    "the case @xmath95 is forbidden because an unmarked genus two curve may be the union of two elliptic tails . assuming @xmath96 , axioms 1 and 2 are obvious . for axiom 3 , simply note that if @xmath97 corresponds to an elliptic tail , then any specialization of dual graphs @xmath41 necessarily induces a specialization @xmath98 , where @xmath99 is also an elliptic tail .",
    "thus , @xmath100 as required .",
    "now let us consider the associated @xmath54-stability condition . by definition ,",
    "an @xmath3-pointed curve @xmath10 is @xmath54-stable if there exists a map from a stable curve @xmath101 which is an isomorphism away from the locus of elliptic tails , and contracts each elliptic tail of @xmath102 to a singularity of type @xmath103 .",
    "it is elementary to check that the unique curve singularity of type @xmath103 is a cusp @xmath104 .",
    "thus , an @xmath3-pointed curve @xmath10 is _",
    "@xmath54-stable _ for this assignment iff it satisfies :    * @xmath12 has only nodes and cusps as singularities .",
    "* the marked points @xmath105 are smooth and distinct . *",
    "each rational component of @xmath13 has at least three distinguished points . * if @xmath106 is an unmarked arithmetic genus one subcurve , @xmath107 .    when @xmath108 , this is precisely the definition of _ pseudostability _ introduced in @xcite and further studied in @xcite .",
    "( destabilizing rational tails ) consider the assignment defined by @xmath109",
    "if we call a subcurve @xmath14 satisfying @xmath110 and @xmath92 a _ rational tail _",
    ", we may say that the assignment @xmath54 is defined by picking out all rational tails of @xmath10 with @xmath111 marked points .",
    "this defines an extremal assignment over @xmath88 provided that @xmath112 or @xmath113 .",
    "the case @xmath5 and @xmath114 is forbidden because such stable curves may be the union of two rational tails with @xmath111 marked points . if @xmath112 or @xmath113 , axioms 1 and 2 are easily verified .",
    "axiom 3 is also obvious , bearing in mind that we do not require a rational tail @xmath14 to be irreducible .",
    "now let us consider the associated @xmath54-stability condition .",
    "an @xmath3-pointed curve @xmath10 is @xmath54-stable if there exists a map from a stable curve @xmath101 which is an isomorphism away from the locus of rational tails with @xmath111 points , and contracts each such rational tail to a point of type ( 0,1 ) on @xmath12 .",
    "it follows directly from the definition that the unique ` singularity ' of type ( 0,1 ) is a smooth point .",
    "thus , an @xmath3-pointed curve @xmath10 is @xmath115-stable for this assignment iff it satisfies :    * @xmath12 has only nodes as singularities . * the marked points @xmath105 are smooth , and up to @xmath35 points may coincide . *",
    "each rational component of @xmath13 has at least three distinguished points . * if @xmath14 is a rational tail , then @xmath116 .",
    "this is equivalent to the definition of @xmath117-stability introduced in @xcite with symmetric weights @xmath118 .",
    "[ e : crazyassignment ] ( destabilizing all unmarked components ) consider the assignment defined by @xmath119 as long as @xmath120 , this assignment clearly satisfies axioms 1 - 3 of definition [ d : assignment ] .",
    "the corresponding @xmath54-stable curves have all manner of exotic singularities .",
    "in fact , for any pair of integers @xmath121 , there exists @xmath122 such that @xmath3-pointed stable curves of genus @xmath4 contain unmarked subcurves @xmath14 satisfying @xmath123 and @xmath124 .",
    "it follows that every smoothable curve singularity of type @xmath121 appears on a @xmath54-stable curve for @xmath125 the corresponding moduli spaces @xmath126 have no counterpart in the existing literature .",
    "+      in this section , we describe several significant consequences of theorem [ t : main ] .",
    "first , we will show that the number of extremal assignments over @xmath88 is a rapidly increasing function of both @xmath4 and @xmath3 by explaining how @xmath127-nef line - bundles on the universal curve @xmath128 induce extremal assignments .",
    "we deduce the existence of many new stability conditions which have never been described in the literature .",
    "next , we explain why @xmath54-stability nevertheless fails to give an entirely satisfactory theory of stability conditions for curves .",
    "we will see , for example , that there is no @xmath54-stability condition picking out only curves with nodes @xmath129 , cusps @xmath130 , and tacnodes @xmath131 , and indicate how a systematic study of semistable compactifications might remedy this deficiency .",
    "finally , we will show that @xmath54-stability _ does _ give a satisfactory theory of stability conditions in the case @xmath5 .",
    "we will see that every modular compactification of @xmath31 must be stable , so our result actually gives a complete classification of modular compactifications of @xmath31 .",
    "let @xmath88 denote the moduli stack of stable curves over an algebraically closed field of characteristic zero , and let @xmath128 denote the universal curve .",
    "the following lemma shows that numerically - nontrivial @xmath127-nef line - bundles on @xmath18 induce extremal assigments .",
    "( in this context , to say that @xmath132 is @xmath127-nef and numerically - nontrivial simply means that @xmath132 has non - negative degree on every irreducible component of every fiber of @xmath127 and positive degree on the generic fiber . )",
    "[ l : nefassignments ] let @xmath132 be a @xmath127-nef , numerically non - trivial line - bundle on @xmath18 .",
    "then @xmath132 induces an extremal assignment by setting : @xmath133 for each stable curve @xmath134 \\in \\sm_{g , n}$ ] .",
    "we must check that the assignment @xmath54 satisfies axioms 1 - 3 in definition [ d : assignment ] .",
    "for axiom 1 , observe that since @xmath132 is @xmath127-nef and numerically non - trivial , @xmath132 must have positive degree on some irreducible component of each geometric fiber of @xmath127 . for axiom 2 , recall that @xmath135 is generated by line - bundles whose degree on any irreducible component of a fiber of @xmath127 depends only on the dual graph of the fiber @xcite . for axiom 3 , consider any specialization @xmath41 induced by a one - parameter family of stable curves @xmath136 .",
    "we have a cartesian diagram @xmath137 \\ar[r]^{f}&\\c \\ar[d]\\\\ \\delta \\ar[r ] & \\sm_{g , n } , } \\ ] ] and after a finite base - change , we may assume that the irreducible components of @xmath138 are in bijective correspondence with the irreducible components of the geometric generic fiber , i.e. we have @xmath139 with each @xmath140 having smooth generic fiber .",
    "now @xmath141 has degree zero on the generic fiber of @xmath140 iff it has degree zero on every irreducible component of the special fiber .",
    "this is precisely the statement of axiom 3 .",
    "translated into the language of higher - dimensional geometry , this lemma says that every face of the relative cone of curves @xmath142 gives rise to a stable modular compactification of @xmath1 . in appendix",
    "a , we give an explicit definition of @xmath142 as a closed polyhedral cone in @xmath135 , and describe the stability conditions corresponding to each extremal face in the cases @xmath143 .",
    "in general , since @xmath142 is a full polyhedral cone in a vector space of dimension @xmath144 , it is clear that the number of extremal faces of @xmath142 ( and hence the number of extremal assignments over @xmath88 ) is a rapidly increasing function of both @xmath4 and @xmath3 .",
    "while lemma [ l : nefassignments ] shows that there exist many stability conditions for curves , it does not provide much insight into the following natural question : given a deformation - open class of curve singularities , is there a stability condition which picks out curves with precisely this class of singularities ?",
    "we have already seen that the anwer is yes if the class consists of nodes or nodes and cusps . in general , however , one can not always expect an affirmative answer using only stability conditions on prestable curves . indeed , corollaries [ c:1 ] and [ c:2 ] below show that the collection of stable modular compactifications of @xmath1 is severely constrained by two features : the necessity of compactifyng the moduli of attaching data of a singularity ( a local obstruction ) and the presence of symmetry in dual graphs of stable curves ( a global obstruction ) .",
    "let us say that a given curve singularity _ arises in a modular compactification @xmath22 _ if @xmath22 contains a geometric point @xmath145",
    "\\in \\x$ ] such that @xmath12 possesses this singularity .",
    "[ c:1 ] let @xmath22 be a stable modular compactification of @xmath1 .",
    "if one singularity of type @xmath121 arises in @xmath22 , then every singularity of type @xmath121 arises in @xmath22 .",
    "we have @xmath89 for some extremal assignment @xmath54 .",
    "if a singularity of type @xmath121 appears on some @xmath54-stable curve , there exists a stable curve @xmath78 and a connected component @xmath146 such that @xmath147 and @xmath124 .",
    "since the definition of @xmath54-stability allows @xmath16 to be replaced by any singularity of type @xmath121 , it follows that _ all _ singularities of type @xmath121 arise in @xmath22 .",
    "this corollary precludes the existence of a stability condition on prestable curves picking out precisely nodes , cusps , and tacnodes . indeed ,",
    "one easily checks that the spatial singularity obtained by passing a smooth branch through the tangent plane of a cusp , i.e. @xmath148/((x , y ) \\cap ( z , y^2-x^3)),\\ ] ] has the same genus ( 1 ) and number of branches ( 2 ) as the tacnode .",
    "thus , any stability condition on prestable curves which allows tacnodes must allow this spatial singularity as well .",
    "the geometric phenomenon responsible for this implication is the existence of moduli of ` attaching data ' for a tacnode . unlike nodes or cusps ,",
    "the isomorphism class of a tacnodal curve @xmath12 is not uniquely determined by its pointed normalization @xmath149 ; one must also specify an element @xmath150 .",
    "as @xmath151 or @xmath152 , the tacnodal curve degenerates into a cusp with a transverse branch ( see figure [ f : attachingdata ] ) .",
    "note , however , that in a semistable compactification , one may compactify moduli of attaching data by sprouting additional rational components ( see figure [ f : attachingdata ] ) .",
    "indeed , this alternate method of compactification is used in @xcite to construct strictly semistable modular compactifications of @xmath32 for every deformation - open class of genus - one gorenstein singularities .",
    "since one can not use stability conditions on prestable curves to pick out arbitrary deformation - open classes of singularities , let us consider the weaker question : does every curve singularity appear on some stable modular compactification of @xmath1 for suitable @xmath4 and @xmath3 ?",
    "surprisingly , the answer is ` yes ' if @xmath153 , but ` no ' if @xmath108 .",
    "in fact , the following corollary shows that a ramphoid cusp @xmath154 can never arise in a stable modular compactification of @xmath155 .",
    "[ c:2 ]    1 .    2 .",
    "every smoothable curve singularity arises in some stable modular compactification of @xmath156 for @xmath122 .",
    "no singularity of genus @xmath157 arises in any stable modular compactification of @xmath155 .    for ( 1 ) ,",
    "see example [ e : crazyassignment ] . for ( 2 ) , it suffices to prove that an extremal assignment @xmath54 over @xmath158 can never pick out a genus two subcurve .",
    "if @xmath102 is an unmarked stable curve and @xmath146 is a connected component of genus two , we obtain a contradiction as follows : first , specialize @xmath102 so that @xmath16 splits off an elliptic bridge .",
    "second , smooth all nodes external to the elliptic bridge .",
    "finally , specialize to a ring of elliptic bridges ( see figure [ f : nogenus2tail ] ) .",
    "applying axiom 3 of definition [ d : assignment ] to this sequence of specializations , we conclude that if @xmath159 is a ring of @xmath160 elliptic bridges , then @xmath161 is non - empty .",
    "if @xmath39 is the dual graph of @xmath159 , then @xmath58 acts transitively on the vertices of @xmath39 , so axiom 2 implies that @xmath162 .",
    "but this contradicts axiom 1 .",
    "we conclude that an extremal assignment over @xmath158 can never pick out a genus two subcurve .      in the previous section",
    ", we saw that @xmath54-stability does not give an entirely satisfactory theory of stability conditions for curves . in this section",
    ", we will see that @xmath54-stability _ does _ give a satisfactory theory of stability conditions when @xmath5 .",
    "in particular , we will see that every modular compactification of @xmath31 is automatically stable , so theorem [ t : main ] actually classifies _ all _ modular compactifications of @xmath31 .",
    "the starting point of our analysis is the following classification of genus zero singularities .",
    "it turns out that any genus zero singularity with @xmath163 branches is analytically isomorphic to the union of @xmath163 coordinate axes in @xmath164 , and we call such singularities _ rational @xmath163-fold points_.    let @xmath12 be a curve over an algebraically closed field @xmath35 .",
    "we say that @xmath66 is a _ rational @xmath163-fold point _ if @xmath165/(x_ix_j : 1 \\leq i < j \\leq m).\\ ] ]    [ p : genuszerosingularities ]    *     1 .",
    "if @xmath66 is a singularity with genus zero and @xmath163 branches , then @xmath68 is a rational @xmath163-fold point .",
    "the rational @xmath163-fold point is smoothable .",
    "\\(1 ) is elementary . for ( 2 ) , one can realize a smoothing of the rational @xmath163-fold point by taking a pencil of hyperplane sections of the cone over the rational normal curve of degree @xmath163 .",
    "both statements are proved in @xcite .",
    "[ c : genuszerosmoothability ] every reduced connected curve of arithmetic genus zero is smoothable , i.e. @xmath166 .    a complete reduced curve is smoothable iff its singularities are smoothable ( i.6.10 , @xcite ) .",
    "the only singularities on a reduced curve of arithmetic genus zero curve are rational @xmath163-fold points , so all such curves are smoothable .",
    "next , we study automorphisms of genus zero singular curves . if @xmath10 is an @xmath3-pointed curve of arithmetic genus zero over an algebraically closed field @xmath35 , it is convenient to define @xmath167 to be the subgroup of the automorphisms which fix each component and each singular point of @xmath12",
    ". then we have    [ l : aut ] let @xmath10 be an @xmath3-pointed curve of arithmetic genus zero , and let @xmath67 be the normalization of @xmath12 .",
    "let @xmath168 be the points of @xmath13 lying above @xmath105 , and let @xmath38 be the points lying above the singular locus of @xmath12 , and consider @xmath169 as an @xmath170 pointed curve .",
    "then the natural map @xmath171 is an isomorphism .",
    "clearly , an automorphism @xmath172 induces an automorphism @xmath173 .",
    "conversely , an automorphism @xmath173 descends to an automorphism of @xmath10 iff the natural map @xmath174 preserves the subsheaf of functions pulled - back from @xmath12 , i.e. if @xmath175 .",
    "since the only singularities of @xmath12 are rational @xmath163-fold points , @xmath176 is simply the @xmath35-subalgebra generated by all functions vanishing at @xmath38 , and this is clearly preserved .",
    "[ c : genuszerostability ] every modular compactification of @xmath31 is stable .",
    "let @xmath22 be a modular compactification of @xmath31 , and let @xmath28 \\in \\x$ ] be a geometric point over an algebraically closed field @xmath35 .",
    "since @xmath22 is proper over @xmath19 , the automorphism group @xmath177 must be proper over @xmath35 .    if @xmath13 contains an irreducible component with one or two distinguished points , then lemma [ l : aut ] implies @xmath178 contains a factor which is isomorphic to @xmath179 or @xmath180 , neither of which is proper .",
    "we conclude that each irreducible component of @xmath13 must have at least three distinguished points .    in light of these remarks , we obtain the following corollary of our main result .    [",
    "t : genuszero ]    *   * if @xmath181 is any open proper substack , then @xmath182 for some extremal assignment @xmath54 .",
    "* @xmath22 is an algebraic space .",
    "\\(1 ) follows from corollary [ c : genuszerostability ] , corollary [ c : genuszerosmoothability ] , and theorem [ t : main ] . for ( 2 ) , it suffices to show that if @xmath145 \\in \\smzero(\\z)$ ] is any geometric point , then @xmath183 is trivial . since every component of @xmath13 has at least three distinguished points , we have @xmath184 , so we only need to see that every automorphism of a prestable genus zero curve fixes the irreducible components and singular points .",
    "this is an elementary combinatorial consequence of the fact that every component of @xmath30 has at least three distinguished points .      in this section ,",
    "we give a detailed outline of the proof of theorem [ t : main ] , which occupies sections 2 - 4 of this paper .    in section [",
    "s : preliminaries ] , we establish several fundamental lemmas , which are used repeatedly throughout . in section [ s : extendingfamilies ] , we prove that a birational map between two generically - smooth families of curves over a normal base is automatically stein ( lemma [ l : normality ] ) .",
    "we also prove that , after an alteration of the base , one can birationally dominate any family of prestable curves by a family of stable curves ( lemma [ l : extendingcurves ] ) .",
    "taken together , these lemmas allow us to analyze deformations and specializations of prestable curves by studying the deformations and specializations of the stable curves lying over them .    in section [ s : birationalmaps ] , we define a _ contraction morphism of curves _ to be a surjective morphism with connected fibers , which contracts subcurves of genus @xmath4 to singularities of genus @xmath4 .",
    "the motivation for this definition is lemma [ l : birationalbasechange ] , which says that a birational contraction @xmath185 between two irreducible families of generically smooth curves induces a contraction of curves on each geometric fiber .",
    "finally , in section [ s : zstability ] , we define the stability condition associated to an extremal assignment @xmath54 : an @xmath3-pointed curve is _",
    "@xmath54-stable _ if there exists a stable curve @xmath186 and a contraction @xmath187 with @xmath188",
    ". an important consequence of the axioms for an extremal assignment is that the existence of a single contraction @xmath187 with @xmath188 implies that @xmath188 for _ any _ contraction from a stable curve ( corollary [ c : independence ] ) .    in section [ s : openness ]",
    ", we prove that the locus of @xmath54-stable curves is open in @xmath9 , the main component of the moduli stack of all curves . given a generically - smooth family of curves @xmath189 over an irreducible base @xmath190",
    ", we must show that the set @xmath191 is open in @xmath190 .",
    "it is sufficient to prove that @xmath192 is open after any proper surjective base - change @xmath193 .",
    "thus , using the results of section 2.1 , we may assume there exists a stable curve over @xmath190 birationally dominating @xmath18 , i.e. we have a diagram @xmath194^{\\phi } \\ar[dr]^{\\pi^s } & & \\c \\ar[dl]_{\\pi}\\\\ & t   \\ar@/^1pc/[lu]^{\\{\\sigma^s_i\\}_{i=1}^{n } } \\ar@/_1pc/[ru]_{\\sigman } & } \\ ] ] by section 2.2 , the fibers of @xmath80 are contractions of curves .",
    "thus , the fiber @xmath195 is @xmath54-stable if and only if @xmath196 .",
    "thus , it suffices to prove that @xmath197 is open in @xmath190 .",
    "this is an immediate consequence of axiom 3 in the definition of an extremal assignment .    in section [ s : properness ]",
    ", we prove that @xmath54-stable curves satisfy the unique limit property . to prove that @xmath54-stable limits exist",
    ", we use the classical stable reduction theorem and artin s criterion for the contractibility of 1-cycles on a surface . given a family of smooth curves over the punctured disc @xmath198",
    ", we may complete it to a stable curve @xmath199 .",
    "using artin s criterion , we construct a birational morphism @xmath200 with @xmath201 , where @xmath202 is the special fiber .",
    "the restriction of @xmath80 to the special fiber induces a contraction of curves @xmath203 with @xmath204 .",
    "thus , @xmath12 is the desired @xmath54-stable limit .    to prove that @xmath54-stable limits are unique",
    ", we show that if @xmath205 and @xmath206 are two @xmath54-stable families with smooth isomorphic generic fiber , then there exists a stable curve @xmath199 and birational maps @xmath207^{\\phi_2 } \\ar[ld]_{\\phi_1}&\\\\ \\c_1&&\\c_2\\\\ } \\ ] ] since @xmath208 and @xmath209 induce contraction morphisms on the special fiber , the hypothesis that @xmath49 and @xmath210 are @xmath54-stable implies that @xmath211 and @xmath212 .",
    "in particular , @xmath213 .",
    "since @xmath208 and @xmath209 are stein morphisms , we conclude that the rational map @xmath214 extends to an isomorphism .",
    "section [ s : classification ] is devoted to the proof that any stable modular compactification @xmath21 takes the form @xmath89 for some extremal assignment @xmath54 over @xmath88 .",
    "given a stable modular compactification @xmath215 , lemma [ l : diagram ] produces a diagram @xmath216^{\\pi^{s } } \\ar[rr]^{\\phi}&&\\c \\ar[dl]_{\\pi}\\\\ & t \\ar[dl]_{p } \\ar[dr]^{q } \\ar@/_1pc/[ru]_{\\sigman }   \\ar@/^1pc/[lu]^{\\{\\sigma_i^{s } \\}_{i=1}^{n}}&\\\\ \\sm_{g , n}&\\u \\ar@{^{(}->}[r ] \\ar@{_{(}->}[l]&\\x\\\\ } \\ ] ] satisfying    * @xmath217 is an open dense substack , * @xmath190 is a normal scheme , * @xmath68 and @xmath218 are representable proper dominant generically - tale morphisms , * @xmath219 and @xmath127 are the families induced by @xmath68 and @xmath218 respectively , * @xmath80 is a birational morphism .    for any graph @xmath39 , set @xmath220 ,",
    "i.e. @xmath221 is the locally - closed subscheme over which the fibers of @xmath222 have dual graph isomorphic to @xmath39 .",
    "in addition , for any @xmath223 , let @xmath224 denote the dual graph of the fiber @xmath225 .",
    "we wish to associate to @xmath22 an extremal assignment @xmath54 by setting @xmath226 for some choice of @xmath227 and some choice of isomorphism @xmath228 .",
    "the key point is to show that the subgraph @xmath229 does not depend on these choices ( proposition [ p : exceptionallocus ] ) .",
    "we then show that @xmath54 satisfies axioms 1 - 3 in definition [ d : assignment ] .",
    "axiom 1 is an immediate consequence of the fact that @xmath80 can not contract an entire fiber of @xmath219 .",
    "axiom 2 is forced by the separatedness of @xmath22 . for axiom 3 , consider a one - parameter family of stable curves @xmath230 inducing a specialization of dual graphs @xmath41 . since @xmath231 is proper , we may lift the natural map @xmath232 to @xmath190 , and consider the induced birational morphism of families over @xmath233 : @xmath234 \\ar[rr]^{\\phi } & & \\c \\ar[dl]\\\\ & \\delta&\\\\ } \\ ] ] after a finite base - change , we may assume that @xmath235 , where each @xmath140 is a flat family of curves with smooth generic fiber , and axiom 3 follows from the fact that @xmath236    once we have established that @xmath54 is a well - defined extremal assignment , the fact that @xmath80 induces a contraction of curves over each geometric point @xmath223 implies that each fiber @xmath195 is @xmath54-stable for this assignment .",
    "since @xmath237 is surjective , we conclude that each geometric point of @xmath22 corresponds to a @xmath54-stable curve . thus , the open immersion @xmath238 factors through @xmath126 . the induced map @xmath239 is proper and dominant , so @xmath89 as desired",
    ".      the following notation will be in force throughout : an _ @xmath3-pointed curve _ consists of a pair @xmath10 , where @xmath12 is a reduced connected complete one - dimensional scheme of finite - type over an algebraically closed field , and @xmath105 is an ordered set of @xmath3 marked points of @xmath12 .",
    "the marked points need not be smooth nor distinct .",
    "we say that a point on @xmath12 is _ distinguished _ if it is marked or singular , and that a point on the normalization @xmath13 is _ distinguished _ if it lies above a distinguished point of @xmath12 .",
    "a curve @xmath30 is _ prestable _ ( resp .",
    "_ presemistable _ ) if every rational component of @xmath13 has at least three ( resp .",
    "two ) distinguished points .",
    "a curve @xmath10 is _ smooth _",
    "if @xmath12 is smooth and the points @xmath105 are distinct .",
    "a curve @xmath30 is _ nodal _ if the only singularities of @xmath12 are ordinary nodes and the marked points of @xmath12 are smooth and distinct .",
    "we say that @xmath30 is _ stable _ ( resp .",
    "_ semistable _ ) if @xmath30 is nodal and prestable ( resp .",
    "presemistable ) .",
    "all these definitions extend to general bases in the usual way : given a scheme @xmath190 , an _ @xmath3-pointed curve over @xmath190 _ consists of a flat proper finitely - presented morphism @xmath240 , together with a collection of sections @xmath241 , such that the geometric fibers are @xmath3-pointed curves .",
    "we say that a curve over @xmath190 is _ prestable _ , _ presemistable _ , _ nodal _ , _ stable _ , or _ semistable _ if the corresponding conditions hold on geometric fibers .",
    "families are typically denoted in script , while geometric fibers are denoted in regular font .",
    "note that we always allow the total space of a family of curves to be an algebraic space . whenever we consider",
    "a morphism @xmath242 between two families of @xmath3-pointed curves , say @xmath243 and @xmath244 , we always assume that @xmath245 for all @xmath62 .",
    "@xmath233 will always denote the spectrum of a discrete valuation ring @xmath246 with algebraically closed residue field @xmath35 and field of fractions @xmath247 .",
    "we make constant use of the fact that if @xmath248 are two points of any noetherian scheme ( or deligne - mumford stack ) with @xmath249 , then there exists a map @xmath250 sending @xmath251 , @xmath252 .",
    "when we speak of a finite base - change @xmath253 , we mean that @xmath254 is the spectrum of a discrete valuation ring @xmath255 with field of fractions @xmath256 , where @xmath257 is a finite separable extension .",
    "we use the notation @xmath258 for the closed point , generic point , and geometric generic point respectively .",
    "thus , @xmath259 and @xmath260 denote the special fiber , generic fiber , and geometric generic fibers of @xmath47 and @xmath261 respectively .",
    "sometimes we omit the subscript ` 0 ' , and denote the special fibers of @xmath47 or @xmath261 by @xmath12 or @xmath262 . also , we let @xmath263 denote the generic point of any irreducible stack or scheme @xmath22 .",
    "@xmath88 will denote the moduli stack ( over @xmath19 ) of @xmath3-pointed stable curves of genus @xmath4 . recall that @xmath88 admits a stratification by topological type , i.e. @xmath264 where the union runs over all isomorphism classes of dual graphs of @xmath3-pointed stable curves of genus @xmath4 , and @xmath265 is the locally - closed substack parametrizing stable curves whose dual graph is isomorphic to @xmath39 .    while the language of stacks is employed throughout , everything we do",
    "is essentially topological .",
    "we use little more than the definition of the zariski topology for an algebraic stack , and the various valuative criteria for specialization and properness , for which we refer the reader to @xcite . + * acknowledgements . *",
    "joe harris offered countless suggestions and insights throughout the course of this project , and it is a pleasure to acknowledge his great influence .",
    "i would also like to thank jarod alper , maksym fedorchuk , jack hall , brendan hassett , sean keel , matthew simpson , and fred van der wyck , for many helpful conversations , by turns mathematical , whimsical , or therapeutic .",
    "i am especially indebted to fred van der wyck , whose work on moduli of crimping data hovers in the background ( carefully hidden ! ) of several parts of this paper .",
    "in this section , we present two key lemmas , which will be used repeatedly .",
    "lemma [ l : normality ] says that a birational map between two generically - smooth families of curves over a normal base is automatically stein .",
    "lemma [ l : extendingcurves ] says that , after an alteration of the base , one can dominate any family of prestable curves by a family of stable curves .",
    "( recall that an alteration is proper , surjective , generically - tale morphism . ) taken together , these two lemmas allow us to reduce questions about families of prestable curves to questions about stable curves .",
    "[ l : normality ]    1 .",
    "suppose that @xmath266 is an irreducible , normal , noetherian scheme , and that @xmath267 is a curve over @xmath266 with smooth generic fiber .",
    "then @xmath18 is normal .",
    "2 .   suppose that @xmath266 is an irreducible , normal , noetherian scheme , and that @xmath268 and @xmath269 are curves over @xmath266 with smooth generic fiber . if @xmath242 is a birational morphism over @xmath266 , then @xmath270 .    for ( 1 )",
    ", first observe that since @xmath267 is smooth in the generic fiber and has isolated singularities in every fiber , @xmath18 must be regular in codimension one . furthermore",
    ", since @xmath267 is a flat morphism with both base and fibers satisfying serre s condition @xmath271 , @xmath18 satisfies @xmath272 as well @xcite . by serre s criterion , @xmath18 is normal .    for ( 2 ) ,",
    "@xmath273 is a proper birational morphism of normal noetherian algebraic spaces . since a finite birational morphism of normal algebraic spaces is an isomorphism @xcite , @xmath80 is equal to its own stein factorization ,",
    "i.e. @xmath270 .    [ l : extendingcurves ]    * let @xmath190 be an integral noetherian scheme , and @xmath189 an @xmath3-pointed curve over @xmath190 with smooth generic fiber .",
    "there exists an alteration @xmath274 , and a diagram @xmath275^{\\phi } \\ar[dr ] & & \\tilde{\\c } \\ar[dl]\\\\ & \\tilde{t }   \\ar@/^1pc/[lu]^{\\{\\sigma^s_i\\}_{i=1}^{n } } \\ar@/_1pc/[ru]_{\\{\\tilde{\\sigma}_i\\}_{i=1}^{n } } & } \\ ] ] where @xmath276 is a stable curve , @xmath277 is the @xmath3-pointed curve induced by base - change , and @xmath80 is a birational map over @xmath278 .",
    "* we may choose the alteration @xmath274 so that @xmath278 is normal , and the open subset @xmath279 defined by @xmath280 contains every geometric point @xmath281 such that the fiber @xmath282 is prestable .",
    "the moduli stack @xmath88 admits a finite generically - etale cover by a scheme , say @xmath283 ( @xcite , 2.24 ) .",
    "let @xmath284 and consider the cartesian diagram @xmath285 \\ar[r]&m \\ar[d]\\\\ u \\ar[r ] & \\sm_{g , n}\\\\ } \\ ] ] let @xmath286 be any irreducible component of @xmath287 dominating @xmath288 , and define @xmath278 to be the closure of the image of @xmath286 in @xmath289 then @xmath274 is an alteration satisfying the conclusion of ( 1 ) .",
    "next , we claim that we may choose the alteration @xmath274 , so that there exists a diagram    @xmath290^{\\phi_2 } \\ar[ld]_{\\phi_1}&\\\\ \\c^{s } \\ar@{-->}[rr]^{\\phi}\\ar[dr]^{\\pi_1 } & & \\tilde{\\c } \\ar[dl]_{\\pi_2}\\\\ & \\tilde{t } \\ar@/^1pc/[lu]^{\\{\\sigma^s_i\\}_{i=1}^{n } } \\ar@/_1pc/[ru]_{\\{\\tilde{\\sigma}_i\\}_{i=1}^{n } } & } \\ ] ] satisfying    1 .",
    "@xmath278 is a normal noetherian scheme , 2 .",
    "@xmath291 is a nodal curve , 3 .",
    "@xmath208 and @xmath209 are regular birational maps over @xmath278 .    to see this , start by taking @xmath274 as in ( 1 ) .",
    "after blowing - up @xmath278 further , we may assume that there exists a flat projective morphism @xmath292 of relative dimension one , admitting regular birational maps to both @xmath138 and @xmath293 .",
    "( apply chow s lemma and the flattening results of @xcite to the graph of @xmath80 . )",
    "let @xmath294 denote the pure codimension - one subscheme obtained by taking the strict transform of the sections @xmath295 on @xmath33 . by a theorem of de jong ( @xcite , 2.4 )",
    ", we may alter @xmath296 to a nodal curve , i.e. there exists an alteration @xmath297 with @xmath298 a normal noetherian scheme , a nodal curve @xmath299 , and a commutative diagram @xmath300 \\ar[r ] & x \\ar[d]\\\\ \\tilde{t } ' \\ar[r ] & \\tilde{t}\\\\ } \\ ] ] such that the induced map @xmath301 is an isomorphism over the generic point of @xmath298 .",
    "in particular , @xmath302 admits regular birational maps to both @xmath303 and @xmath304 , so @xmath305 gives the desired alteration .",
    "now fix an alteration @xmath274 and a diagram satisfying ( 1)-(3 ) above .",
    "since @xmath306 is proper , the set @xmath280 is open in @xmath278 .",
    "we must show that if @xmath281 is any point such that the fiber @xmath307 is prestable , then @xmath308 . by lemma [ l : normality ]",
    ", we have @xmath309 and @xmath310 .",
    "thus , it suffices to show that if @xmath311 is any irreducible component contracted by @xmath208 , then @xmath312 is also contracted by @xmath209 . by the uniqueness of stable reduction",
    ", we have @xmath313 thus , if @xmath314 is not contracted by @xmath315 , its image is a rational component of @xmath307 with fewer than three distinguished points .",
    "this is a contradiction , since @xmath307 is prestable .      in lemma [ l : birationalbasechange ]",
    ", we will see that birational contractions between generically - smooth families of curves have the effect of replacing arithmetic genus @xmath4 subcurves by isolated singularities of genus @xmath4 .",
    "this motivates the following definition .",
    "[ d : birationalmap ] if @xmath316 is a morphism of curves , let @xmath317 denote the union of those irreducible components @xmath106 which are contracted to a point @xmath318 .",
    "we say that @xmath80 is a _ contraction _ if it satisfies    * @xmath80 is surjective with connected fibers , * @xmath80 is an isomorphism on @xmath319 , * if @xmath16 is any connected component of @xmath317 , then the point @xmath320 satisfies @xmath321 and @xmath322 , where @xmath73 and @xmath71 are the genus and number of branches of @xmath68 , as in definition [ d : genus ] .",
    "[ r : normalize ] if @xmath12 is a nodal curve and @xmath323 is a contraction , then we have a decomposition @xmath324 where @xmath325 are the connected components of @xmath317 , and @xmath326 is the normalization of @xmath327 at @xmath328 .",
    "this is immediate from the fact that if @xmath12 is nodal , the points of @xmath329 lying above @xmath330 are smooth .",
    "[ e : birat ] let @xmath331 be a nodal curve with an elliptic bridge ( see figure [ f : birationalmap ] ) . then there exist contraction morphisms contracting @xmath312 to a tacnode @xmath332 or to a planar cusp with a smooth transerverse branch @xmath333 , since both these singularities have two branches and genus one .",
    "by contrast , the map contracting @xmath312 to an ordinary node is not a contraction because the genus of an ordinary node is zero .",
    "in fact , the map contracting @xmath312 to a node is the stein factorization of the given contractions .",
    "[ p : contractions ] let @xmath233 be the spectrum of a discrete valuation ring , and @xmath334 a generically - smooth , nodal curve over @xmath233 .",
    "if @xmath335 is a proper subcurve of the special fiber , then there exists a diagram @xmath336^{\\phi } \\ar[dr]&&\\c \\ar[dl]\\\\ & \\delta & } \\ ] ] such that    * @xmath80 is proper , birational , @xmath337 , and @xmath338 . *",
    "@xmath47 is a flat family of geometrically reduced connected curves .",
    "* the restriction of @xmath80 to the special fiber induces a contraction of curves .",
    "we claim that it is sufficient to produce a birational morphism @xmath339 such that @xmath338 . indeed , after taking the stein factorization",
    ", we may assume that @xmath80 satisfies ( 1 ) .",
    "by lemma [ l : normality ] , @xmath302 is normal , so @xmath18 is as well .",
    "in particular , the special fiber @xmath12 is cohen - macaulay and therefore has no embedded points . since each component of @xmath12 is the birational image of an irreducible component of @xmath102 , no component of @xmath12 can be generically non - reduced .",
    "it follows that the special fiber is reduced and connected .",
    "in addition , @xmath47 is flat since the generic point of @xmath18 maps to the generic point of @xmath233 .",
    "this shows that @xmath47 satisfies ( 2 ) .",
    "finally condition ( 3 ) is a consequence of the more general statement proved in lemma [ l : birationalbasechange ] below .",
    "it remains to show that there exists a birational morphism @xmath339 with @xmath338 .",
    "there exists a minimal resolution of singularities @xmath340 such that @xmath341 is still a nodal curve @xcite , and it is sufficient to produce a birational contraction @xmath342 with @xmath343 .",
    "thus , we may assume that the total space @xmath302 is regular to begin with .",
    "now @xmath302 is a regular algebraic space over an excellent dedekind ring , so there is a necessary and sufficient condition for the existence of a contraction . if @xmath344 are the irreducible components of the @xmath16 , then the intersection matrix @xmath345 must be negative - definite @xcite . in fact , it is easy to see that any proper subcurve of the special fiber must have negative - definite intersection matrix .    to see this ,",
    "let @xmath346 be the irreducible components of the special fiber , and @xmath347 the class of the fiber .",
    "let @xmath348 be an arbitrary cycle supported on the special fiber .",
    "we will prove by induction on @xmath35 that @xmath349 , with equality iff @xmath16 is a multiple of the entire fiber .",
    "let us consider first the case when @xmath16 is effective .",
    "after reordering , we may assume that @xmath350 .",
    "since @xmath351 , we have @xmath352 the latter two terms are obviously non - positive and by induction the first term is non - positive as well .",
    "@xmath353 iff each term is zero which evidently forces @xmath354 and @xmath355 .",
    "if @xmath16 is not effective , then we may write @xmath356 , where @xmath357 and @xmath358 are effective with no common components",
    ". then we have @xmath359 with equality iff @xmath357 and @xmath358 are multiples of the entire fiber .",
    "this completes the proof .",
    "[ l : birationalbasechange ] let @xmath266 be an irreducible , normal , noetherian scheme , and let @xmath360 and @xmath361 be two curves over @xmath266 .",
    "suppose that @xmath306 is nodal , and that @xmath306 and @xmath362 are generically smooth . if we are given a birational morphism over @xmath266 @xmath363^{\\phi } \\ar[rd]_{\\pi_1 } & & y \\ar[dl]^{\\pi_2}\\\\ & s & } \\ ] ] then the induced map @xmath364 is a contraction , for each geometric point @xmath365 .    by lemma [ l : normality ] , we have @xmath366 . using this , we will show that @xmath367 satisfies conditions ( 1)-(3 ) of definition [ d : birationalmap ] .",
    "by zariski s main theorem , @xmath80 has geometrically connected fibers , so @xmath367 satisfies ( 1 ) .",
    "furthermore , @xmath80 is an isomorphism when restricted to the complement of the positive - dimensinal fibers of @xmath80 , so @xmath367 satisfies ( 2 ) .",
    "it remains to verify that @xmath367 satisfies ( 3 ) .    without loss of generality",
    ", we may assume that @xmath368 is connected , and we must show that @xmath369 is a singularity of genus @xmath4 . since the number of branches of @xmath370 is , by definition , the number of points lying above @xmath68 in the normalization , we have @xmath371 to obtain @xmath372 , note that @xmath373 the first equality is just the definition of @xmath69 since @xmath374 is the normalization of @xmath375 at @xmath68 .",
    "the second equality follows from the fact that @xmath376 and @xmath375 occur in flat families with the same generic fiber , and the third equality is just the additivity of euler characteristic on exact sequences .",
    "since @xmath377 is supported on @xmath16 , we have @xmath378 which gives the desired equality .      in this section ,",
    "we define the stability condition associated to a fixed extremal assignment @xmath54 . using the definition of a contraction ( definition [ d : birationalmap ] )",
    ", we can recast our original definition of @xmath54-stability ( definition [ d : zstable ] ) as follows :    [ d : zstable ] a smoothable @xmath3-pointed curve @xmath30 is _",
    "@xmath54-stable _ if there exists a stable curve @xmath379 and a contraction @xmath380 such that @xmath188 .",
    "we will make frequent use of the following observation : if @xmath10 is @xmath54-stable , and @xmath381 is _ any _ contraction from a stable curve , then @xmath201 .",
    "( the definition of @xmath54-stability asserts the existence of a single contraction with this property . ) in order to prove this , we need the following lemma which gives an explicit description of the set of stable curves admitting contractions to a fixed prestable curve .    [",
    "l : mapping ] let @xmath30 be an @xmath3-pointed prestable curve , and let @xmath382 be the set of points which satisfy one of the following conditions :    * @xmath383 is non - nodal singularity , * @xmath384 is a node , and at least one marked point is supported at @xmath384 , * @xmath384 is a smooth point , and at least two marked points are supported at @xmath384 .    as in definition [ d : genus ] , set @xmath385 , @xmath386 , and let @xmath387 denote the number of marked points supported at @xmath383 .",
    "there exists a map @xmath388 with the property that a stable curve @xmath78 admits a contraction to @xmath30 iff it lies in the image of @xmath4 .    in order to define @xmath4 ,",
    "let us relabel the marked points of @xmath12 : @xmath389 where @xmath390 is the set of marked points supported at @xmath383 , and the points @xmath391 are distinct smooth points of @xmath12 .",
    "let @xmath392 denote the normalization of @xmath12 at @xmath393 , and let @xmath394 denote the set of points on @xmath13 lying above @xmath384 .",
    "the assumption that @xmath30 is prestable implies that each connected component of @xmath395 is stable .",
    "thus , we may define @xmath4 by sending @xmath396 where @xmath13 and @xmath397 are glued by identifying @xmath398 .",
    "if @xmath78 is in the image of @xmath4 , then we can write @xmath399 and we may define a contraction @xmath400 by collapsing @xmath325 to @xmath401 , and mapping @xmath13 birationally onto @xmath12 .",
    "conversely , we claim that if @xmath402 is any contraction , then @xmath78 is in the image of @xmath4 . first , let us show that @xmath403 . since a stable curve has no points satisfying ( 1 ) ,",
    "( 2 ) , or ( 3 ) , it is clear that @xmath404 .",
    "conversely , if @xmath405 does not satisfy ( 1 ) , ( 2 ) , or ( 3 ) , then @xmath406 is either an unmarked node , a marked smooth point , or an unmarked smooth point . in either case , since the genus of a node or a smooth point is zero , @xmath407 must be a reduced , connected , arithmetic genus zero curve with only two distinguished points .",
    "but this is impossible , since @xmath78 is stable .    now ,",
    "if @xmath402 is any contraction , then we have ( see remark [ r : normalize ] ) @xmath408 where @xmath409 , and @xmath13 is the normalization of @xmath12 at @xmath401 . if @xmath384 is a singularity with @xmath410 branches , then @xmath411 meets @xmath412 at @xmath410 points .",
    "if @xmath383 supports @xmath387 marked points , then @xmath413 supports the same set of marked points .",
    "thus , if we mark points of attachment in the usual way , we may consider @xmath411 as an @xmath414-pointed stable curve of genus @xmath415 , for each @xmath416 .",
    "this shows that @xmath186 is in the image of @xmath4 .",
    "[ c : independence ] let @xmath30 be a @xmath54-stable curve , and suppose that @xmath417 is any contraction from a stable curve @xmath78",
    ". then @xmath201 .    by lemma [ l : mapping ]",
    ", there exists a map @xmath418 such that @xmath78 admits a contraction to @xmath10 iff @xmath419 the pull - back of the universal curve @xmath420 via @xmath4 decomposes as @xmath421 where @xmath422 is the pull - back of the universal curve over @xmath423 via the @xmath424 projection @xmath425 . for any geometric point @xmath426 ,",
    "let @xmath427 denote the fiber @xmath428 .",
    "then @xmath427 decomposes as @xmath429 and there exists a contraction @xmath430 with @xmath431 .    the hypothesis that @xmath10 is @xmath54-stable implies that _ there exists _ a geometric point @xmath432 such that @xmath433 . to prove the corollary",
    ", we must show @xmath434 for _ every _ geometric point @xmath435 this follows easily from two applications of the one - parameter specialization property for extremal assignments : first , let @xmath436 be the generic point , and consider a map @xmath437 sending @xmath438 , @xmath252 . applying definition [ d : assignment ] ( 3 ) to the induced family over @xmath233 ,",
    "we conclude @xmath439 next , let @xmath440 be an arbitrary geometric point , and consider a map @xmath437 sending @xmath441 . applying definition [ d : assignment ] ( 3 ) to the induced family over @xmath233 , we see that @xmath442",
    "throughout this section , we fix an extremal assignment @xmath54 over @xmath88 .",
    "let @xmath443 be the universal curve over @xmath9 , the main component in the stack of all curves ( section [ s : mainresult ] ) .",
    "we define @xmath87 as the collection of points @xmath444 such that the geometric fiber @xmath445 is @xmath54-stable .",
    "the first main theorem of this paper is    [ t : construction ] @xmath446 is a stable modular compactification of @xmath1 .    in section [ s : openness ]",
    ", we will show that @xmath446 is zariski - open .",
    "thus , @xmath126 inherits the structure of an algebraic stack , locally of finite - type over @xmath19 .",
    "since a @xmath54-stable curve has no more irreducible components than an @xmath3-pointed stable curve of arithmetic genus @xmath4 , the moduli problem of @xmath54-stable curves is bounded ( see corollary [ c : stackgne ] ) .",
    "thus , @xmath126 inherits the structure of an algebraic stack of finite - type over @xmath19 , and we may use the valuative criterion to check that @xmath126 is proper over @xmath19 .",
    "this is accomplished in section [ s : properness ] .",
    "it follows that @xmath126 is a modular compactification of @xmath1 . to see that @xmath126 is a stable modular compactification , simply observe that any @xmath54-stable curve is obviously prestable , since it is obtained as a contraction from a stable curve .",
    "[ l : rigidity ] suppose we have a diagram @xmath194^{\\phi } \\ar[dr]&&\\c \\ar[ld]\\\\ & t \\ar@/^1pc/[lu]^{\\{\\sigma^s_i\\}_{i=1}^{n } } \\ar@/_1pc/[ru]_{\\{\\sigma_i\\}_{i=1}^{n } } & } \\ ] ] satsifying :    * @xmath190 is a noetherian scheme . *",
    "@xmath447 is a stable curve , and @xmath189 an arbitrary curve .",
    "* @xmath200 is a birational morphism .",
    "then the set @xmath448 is open in @xmath190 .",
    "since @xmath190 is noetherian , it suffices to prove that @xmath266 is constructible and stable under generalization .",
    "first , we show that @xmath266 is constructible",
    ". there exists a finite stratification of @xmath190 into locally - closed subschemes over which the dual graph of the fibers of @xmath127 are constant , i.e. we have @xmath449 where @xmath450 we will prove that @xmath190 is a finite union of the subschemes @xmath221 by showing that @xmath451 there exists a finite surjective map @xmath452 , such that @xmath453 where each @xmath454 is a smooth proper curve , and it is enough to prove that @xmath455 where @xmath456 is the birational morphism induced by @xmath80 .",
    "since each @xmath454 is smooth and proper , the rigidity lemma implies that @xmath457 on the other hand , since the dual graph of the fibers of @xmath458 is constant , we have @xmath459 it follows that @xmath460 as desired .    next , we show that @xmath266 is stable under generization . if @xmath461 satisfy @xmath462 , there exists a map @xmath463 , sending @xmath464 , @xmath465 , inducing a diagram @xmath216\\ar[rr]^{\\phi } & & \\c \\ar[ld]\\\\ & \\delta&\\\\ } \\ ] ] we wish to show that @xmath466 as with step 1 , this is an elementary application of the rigidity lemma . after a finite base - change",
    ", we may assume that the irreducible components of @xmath138 , say @xmath467 are in bijective correspondence with the irreducible components of @xmath468 . by definition",
    "[ d : assignment ] ( 3 ) , we have @xmath469 on the other hand , since each @xmath140 is flat and proper with irreducible generic fiber , the rigidity lemma implies that @xmath470 we conclude that @xmath471 as desired .",
    "@xmath446 is an open substack .",
    "since @xmath472 is an algebraic stack , irreducible and locally of finite - type over @xmath19 , there exists a smooth atlas @xmath473 , where @xmath190 is a scheme , irreducible and locally of finite - type over @xmath19 .",
    "if @xmath189 denotes the corresponding @xmath3-pointed curve over @xmath190 , then the required statement is that @xmath191 is open in @xmath190 .",
    "since this is local on @xmath190 , we may assume that @xmath190 is irreducible and of finite - type over @xmath19 .",
    "note that if @xmath474 is any proper surjective morphism of schemes , and @xmath475 is the family obtained by pull - back , then it is sufficient to show that @xmath476 is open in @xmath278 . by lemma",
    "[ l : extendingcurves ] , there exists an alteration @xmath274 , and a diagram @xmath477 \\ar[dr ] & & \\tilde{\\c } \\ar[dl]\\\\ & \\tilde{t }   \\ar@/^1pc/[lu]^{\\{\\sigma^s_i\\}_{i=1}^{n } } \\ar@/_1pc/[ru]_{\\{\\tilde{\\sigma}_i\\}_{i=1}^{n } } & } \\ ] ] satisfying    1 .",
    "@xmath278 is a normal noetherian scheme .",
    "2 .   @xmath478 is a stable curve .",
    "3 .   @xmath80 is regular over the locus @xmath479 .    in particular",
    ", since every @xmath54-stable curve is prestable , @xmath480 is contained in the open set @xmath481    thus , we may replace @xmath278 by @xmath288 and assume that @xmath80 is regular . by lemma [ l : birationalbasechange ] ,",
    "the restriction of @xmath80 to each fiber is a contraction of curves .",
    "thus , by corollary [ c : independence ] , @xmath482 by lemma [ l : rigidity ] , this set is open .      to show that @xmath126 is proper , it suffices to verify the valuative criterion for discrete valuation rings with algebraically closed residue field , whose generic point maps into the open dense substack @xmath483 ( @xcite , chapter 7 ) .",
    "let @xmath233 be the spectrum of a discrete valuation ring with algebraically closed residue field .    *",
    "( existence of @xmath54-stable limits ) if @xmath484 is a smooth @xmath3-pointed curve over @xmath485 , there exists a finite base - change @xmath253 , and a @xmath54-stable curve @xmath486 , such that @xmath487 * ( uniqueness of @xmath54-stable limits ) suppose that @xmath488 and @xmath489 are @xmath54-stable curves with smooth generic fiber .",
    "then any isomorphism over the generic fiber @xmath490 extends to an isomorphism over @xmath233 : @xmath491    to prove existence of limits , start by applying the stable reduction theorem to @xmath484 .",
    "there exists a finite base - change @xmath253 , and a deligne - mumford stable curve @xmath492 such that @xmath493 for notational simplicity , we will continue to denote our base by @xmath233 . by proposition [ p : contractions ]",
    ", there exists a birational morphism over @xmath233 : @xmath194^{\\phi } \\ar[dr]&&\\c \\ar[dl]\\\\ & \\delta & } \\ ] ] such that    1 .",
    "@xmath42 is a flat family of @xmath3-pointed curves , 2 .",
    "@xmath80 is proper birational with @xmath494 , 3 .",
    "@xmath495 is a contraction of curves",
    ".    properties ( 2 ) and ( 3 ) imply that the special fiber @xmath496 is @xmath54-stable , so @xmath42 is the desired @xmath54-stable family . + to prove uniqueness of limits , we must show that a rational isomorphism @xmath490 between two families of @xmath54-stable curves extends to an isomorphism over @xmath233 .",
    "it suffices to check that the rational map @xmath497 extends to an isomorphism after a finite base - change .",
    "thus , applying semistable reduction to the graph of this rational map , we may assume there exists a nodal curve @xmath498 and a diagram @xmath499^{\\phi ' } \\ar[ld]_{\\phi } & \\\\",
    "( \\c,\\sigman ) & & ( \\c ' , \\sigmanprime ) } \\ ] ] where @xmath80 and @xmath500 are proper birational morphisms over @xmath233 .",
    "in fact , we may further assume that @xmath498 is stable .",
    "indeed , any rational component @xmath501 with only one or two distinguished points must be contracted by both @xmath80 and @xmath500 since @xmath502 and @xmath503 are both prestable .",
    "thus , @xmath80 and @xmath500 both factor through the stable reduction @xmath504 , and we may replace by @xmath302 by @xmath138 .    now consider the restriction of @xmath80 and @xmath500 to the special fiber .",
    "by lemma [ l : birationalbasechange ] , @xmath495 and @xmath505 are both contractions of curves .",
    "furthermore , since @xmath506 and @xmath507 are both @xmath54-stable , corollary [ c : independence ] implies that @xmath508 . since @xmath18 and @xmath509 are normal ( lemma [ l : normality ] ) , this implies @xmath510 as desired .",
    "in this section , we prove the following theorem .    [ t : classification ] suppose @xmath21 is a stable modular compactification of @xmath1",
    ". then there exists an extremal assignment @xmath54 over @xmath88 , such that @xmath89 .    the starting point for the proof of theorem [ t : classification ] is the following lemma , which allows us to compare an arbitrary stable modular compactification to @xmath88 by regularizing the rational map between their respective universal curves .",
    "[ l : diagram ] suppose that @xmath21 is a stable modular compactification of @xmath1 .",
    "then there exists a diagram @xmath216^{\\pi^{s } } \\ar[rr]^{\\phi}&&\\c \\ar[dl]_{\\pi}\\\\ & t \\ar[dl]_{p } \\ar[dr]^{q } \\ar@/_1pc/[ru]_{\\sigman }   \\ar@/^1pc/[lu]^{\\{\\sigma_i^{s } \\}_{i=1}^{n}}&\\\\ \\overline{m } \\ar[d]_{i}&u\\ar[d ] \\ar@{^{(}->}[r ] \\ar@{_{(}->}[l]&x \\ar[d]^{j}\\\\ \\sm_{g , n}&\\u \\ar@{^{(}->}[r ] \\ar@{_{(}->}[l]&\\x\\\\ } \\ ] ] satisfying    * @xmath33 , @xmath288 , @xmath511 , and @xmath190 are irreducible normal schemes , of finite - type over @xmath19 . *",
    "@xmath68 and @xmath218 are proper birational morphisms , @xmath62 and @xmath512 are generically - tale finite morphisms , @xmath513 and @xmath240 are the families induced by @xmath514 and @xmath515 respectively .",
    "* @xmath516 is an open dense substack of @xmath22 and @xmath1 .",
    "the lower squares are cartesian , and the unlabelled arrows are open immersions . * the rational map @xmath80 , induced by the natural isomorphism between @xmath138 and @xmath18 over the generic point of @xmath190 , is regular .",
    "since @xmath517 is a ( non - separated ) algebraic stack of finite - type over @xmath19 with quasi - finite diagonal , there exists a representable , finite , generically - tale , surjective morphism @xmath518 , where @xmath266 is a scheme ( @xcite , theorem 2.7 ) .",
    "we may assume that @xmath266 is irreducible since @xmath517 is .",
    "define @xmath33 , @xmath511 , and @xmath288 as the normalizations of the fiber products @xmath519 , @xmath520 , and @xmath521 respectively . finally , define @xmath190 to be the normalization of the closure of the image of the diagonal immersion @xmath522 .",
    "this gives a diagram satisfying ( 1 ) , ( 2 ) , and ( 3 ) , but not necessarily ( 4 ) , i.e. the induced rational map @xmath523 may not be regular .",
    "since the geometric fibers of @xmath189 are prestable , lemma [ l : extendingcurves ] gives an alteration @xmath524 such that the rational map @xmath525 is regular .",
    "now define @xmath526 and @xmath527 to be the finite morphisms appearing in the stein factorizations of @xmath528 and @xmath529 respectively .",
    "replacing @xmath33 , @xmath511 , @xmath190 by @xmath530 , @xmath531 , @xmath532 , and @xmath288 by @xmath533 gives the desired diagram .",
    "for the remainder of this section , we fix a stable modular compactification @xmath22 , and a diagram as in lemma [ l : diagram ] .",
    "we also use the following notation : for any geometric point @xmath223 , let @xmath224 be the dual graph of the fiber @xmath534 , so that @xmath535 determines a subgraph @xmath536 . also , we set @xmath537 , i.e. @xmath538 is the locally closed subscheme in @xmath190 over which the geometric fibers of @xmath222 have dual graph isomorphic to @xmath39 .",
    "we wish to associate to @xmath22 an extremal assignment @xmath54 by setting @xmath226 for some choice of @xmath227 and some choice of isomorphism @xmath228 .",
    "the key point is to show that the subgraph @xmath229 does not depend on these choices .",
    "more precisely , we will show :    [ p : exceptionallocus ]    *   * for any two geometric points @xmath539 , there exists an isomorphism @xmath540 such that @xmath541 * for any geometric point @xmath227 , and any automorphism @xmath542 , we have @xmath543 , i.e. @xmath535 is @xmath544-invariant .    before proving this proposition ,",
    "let us use it to prove theorem [ t : classification ] .",
    "if @xmath39 is any dual graph of an @xmath3-pointed stable curve of genus @xmath4 , we define a subgraph @xmath229 by the recipe @xmath226 for any choice of @xmath227 and isomorphism @xmath228 . by proposition",
    "[ p : exceptionallocus ] , the subgraph of @xmath229 does not depend on the choice of @xmath227 or the choice of isomorphism @xmath228 .",
    "we claim that the assignment @xmath545 defines an extremal assignment over @xmath88 , and that @xmath89 .    to prove that @xmath54 is an extremal assignment",
    ", we must show that it satisfies axioms 1 - 3 of definition [ d : assignment ] . for axiom 1 ,",
    "suppose that @xmath546 for some dual graph @xmath39 .",
    "then there exists a point @xmath223 such that @xmath547 .",
    "since @xmath190 is connected , and the locus @xmath548 is both open and closed in @xmath190 , it must follow that @xmath547 _ for every _ @xmath223 .",
    "but this is impossible since @xmath80 is an isomorphism over the generic point of @xmath190 .",
    "we conclude that @xmath56 for every dual graph @xmath39 .",
    "axiom 2 is immediate from proposition [ p : exceptionallocus ] ( b ) .    finally , for axiom 3",
    ", suppose that @xmath41 is an arbitrary specialization of dual graphs .",
    "let @xmath549 be the generic point of @xmath550 , let @xmath551 be a closed point of @xmath552 , and let @xmath223 be any point lying over @xmath553 . since @xmath554 , there exists a diagram @xmath555 \\ar[r]^{\\tilde{u}}&t \\ar[d]\\\\ \\delta \\ar[r]^{u } & \\sm_{g , n } } \\ ] ] satisfying @xmath556 , @xmath557 , @xmath558 .",
    "since @xmath231 is proper , this diagram fills in ( possibly after a finite base - change ) to give map @xmath559 , and we may consider the induced morphism of families pulled back from @xmath190 : @xmath234 \\ar[rr]^{\\phi } & & \\c \\ar[dl]\\\\ & \\delta&\\\\ } \\ ] ] since our definition of @xmath54 does not depend on the choice of @xmath223 , we have @xmath560 and @xmath561 . after a finite base - change , we may assume that @xmath235 , where each @xmath140 is a flat family of curves with smooth generic fiber , and it suffices to show that @xmath236 but this is an immediate consequence of the rigidity lemma .",
    "this completes the proof that @xmath54 is an extremal assignment over @xmath88 .    since @xmath54 is an extremal assignment , theorem [ t : construction ] gives a stable modular compactification @xmath87 , and we wish to show that @xmath562 by lemma [ l : birationalbasechange ] , the map @xmath563 is a contraction for any geometric point @xmath223 .",
    "since @xmath196 by the definition of @xmath54 , every geometric fiber of @xmath564 is @xmath54-stable .",
    "since @xmath237 is surjective , we conclude that every geometric point of @xmath22 is contained in @xmath126 .",
    "since @xmath126 and @xmath22 are open in @xmath9 , the natural inclusion @xmath215 is an open immersion .",
    "furthermore , this inclusion is proper over @xmath19 , since both @xmath22 and @xmath126 are .",
    "a proper dominant morphism is surjective , so @xmath565 as desired .",
    "it remains to prove proposition [ p : exceptionallocus ] .",
    "the major difficulty comes from the fact that the subscheme @xmath538 may have several connected components .",
    "the following lemma , used in conjunction with the valuative criterion for @xmath22 , will allow us to relate the exceptional loci of the contractions @xmath566 , even as @xmath567 ranges over different connected components of @xmath221 .",
    "[ l : liftablemap ] given @xmath231 as in lemma [ l : diagram ] , let @xmath549 be any geometric point , and let @xmath568 be the connected components of the fiber @xmath569 .",
    "then there exists a diagram    @xmath570\\\\ \\delta \\ar[rr]^{\\,\\,\\,\\,u } \\ar[urr]^{\\{\\tilde{u}_i\\}_{i=1}^{k } } & & \\sm_{g , n } } \\ ] ] such that    * @xmath571 , @xmath572 , * @xmath573 , @xmath574 for each @xmath416 ,    where @xmath575 and @xmath576 are the generic points of @xmath88 and @xmath190 respectively .",
    "let @xmath577 be the fiber of @xmath578 over @xmath553 .",
    "by zariski s main theorem , the geometric fibers of @xmath579 are connected , so the connected components @xmath580 are simply the fibers of @xmath579 over @xmath581 .",
    "let @xmath582 be any map sending @xmath583 and @xmath584 .",
    "let @xmath266 be any irreducible component of the fiber product @xmath585 which dominates both @xmath511 and @xmath233 .",
    "since @xmath586 is generically etale , we may assume , after a finite base - change , that the generic fiber is contained in a union of sections @xmath587 .",
    "furthermore , since the generic fiber of @xmath586 is dense in @xmath266 , each point of the special fiber @xmath588 is equal to @xmath589 for some section @xmath590 . reordering if necessary , we may assume that @xmath591 for @xmath416 .",
    "the sections @xmath592 induces lifts of @xmath593 to @xmath511 , i.e we have a diagram    @xmath594\\\\ \\delta \\ar[rr]^{\\,\\,\\,\\,u } \\ar[urr]^{\\{u_i\\}_{i=1}^{k } } & & \\sm_{g , n } } \\ ] ] where @xmath595 and @xmath596 for @xmath416 .",
    "since @xmath579 is proper and an isomorphism over the generic point , each map @xmath597 lifts uniquely to a map @xmath598 satisfying @xmath599 and @xmath600    *     *     we will prove the statement in two steps .",
    "first , we show that if a pair of points @xmath601 is contained in a single connected component of @xmath221 , then there exists an isomorphism @xmath540 such that @xmath602 .",
    "second , we will show that if a pair of points @xmath603 is contained in the fiber @xmath569 over a geometric point @xmath549 , then there exists an isomorphism @xmath540 such that @xmath602 .",
    "it is easy to see that these two statements suffice : indeed , given two arbitrary geometric points @xmath539 mapping to @xmath604 , let @xmath605 be an irreducible component of @xmath221 dominating @xmath550 , and let @xmath606 be two geometric points lying above @xmath607 and @xmath608 respectively . by the second claim",
    ", there exist isomorphisms @xmath609 thus , @xmath610 satisfies @xmath611 , as desired .",
    "+ to prove the first claim , let @xmath266 be any connected component of @xmath221 and consider the induced diagram @xmath216 \\ar[rr]^{\\phi } & & \\c \\ar[ld]\\\\ & s & } \\ ] ] after a finite surjective base - change , we may assume that @xmath612 where each @xmath613 is proper and smooth .",
    "note that this isomorphism induces an obvious identification of dual graphs @xmath614 for any two geometric points @xmath615 .",
    "furthermore , since one geometric fiber of @xmath616 is contracted by @xmath80 if and only if _ every _ geometric fiber @xmath617 is contracted by @xmath80 , we have @xmath618 .",
    "+ to prove the second claim , let @xmath549 be any geometric point and let @xmath619 be the connected components of @xmath569 . given the first claim , it suffices to prove that there exist points @xmath620 for each @xmath416 , and isomorphisms @xmath621 identifying @xmath622 .    by lemma [ l : liftablemap ]",
    ", there exists a commutative diagram @xmath570\\\\ \\delta \\ar[rr]^{\\,\\,\\,\\,u } \\ar[urr]^{\\{\\tilde{u}_i\\}_{i=1}^{k } } & & \\sm_{g , n } } \\ ] ] satisfying    * @xmath571 , @xmath572 .",
    "* @xmath573 , @xmath574 for each @xmath416 .",
    "set @xmath623 for each @xmath416 , and let @xmath624^{\\phi_i } \\ar[dr]&&\\c_{i } \\ar[dl]\\\\ & \\delta & } \\ ] ] be the diagram induced by the morphism @xmath598 .",
    "note that , since the compositions @xmath625 are identical when restricted to the generic point @xmath626 , we obtain a commutative diagram of isomorphisms over @xmath485 : @xmath627^{\\simeq }   \\ar[d]^{(\\phi_1)_{\\eta } } & ( \\c^{s}_2)_{\\eta } \\ar[r]^{\\simeq } \\ar[d]^{(\\phi_2)_{\\eta } } & \\cdots \\ar[r]^{\\simeq } & ( \\c^{s}_k)_{\\eta } \\ar[d]^{(\\phi_k)_{\\eta } } \\\\",
    "( \\c_1)_{\\eta } \\ar[r]^{\\simeq } & ( \\c_2)_{\\eta } \\ar[r]^{\\simeq } & \\cdots \\ar[r]^{\\simeq}&(\\c_k)_{\\eta}\\\\ } \\ ] ] since @xmath88 is proper over @xmath19 , each isomorphism @xmath628 extends uniquely to an isomorphism @xmath629 .",
    "similarly , since @xmath22 is proper over @xmath19 , each isomorphism @xmath630 extends uniquely to an isomorphism @xmath631 .",
    "thus , we obtain a commutative diagram over @xmath233 : @xmath632^{\\simeq }   \\ar[d]^{\\phi_1 } & \\c^{s}_2 \\ar[r]^{\\simeq } \\ar[d]^{\\phi_2 } & \\cdots \\ar[r]^{\\simeq } & \\c^{s}_k \\ar[d]^{\\phi_k } \\\\",
    "\\c_1 \\ar[r]^{\\simeq } & \\c_2 \\ar[r]^{\\simeq } & \\cdots \\ar[r]^{\\simeq } & \\c_k\\\\ } \\ ] ] restricting to the top row of isomorphisms to the special fiber , we obtain isomorphisms @xmath633 identifying @xmath634 , as desired .",
    "+    it remains to prove proposition [ p : exceptionallocus ] ( b ) . from proposition [ p : exceptionallocus ]",
    "( a ) , it already follows that every curve parametrized by @xmath22 is obtained by contracting some subcurve of a stable curve @xmath635 , and that this subcurve depends only on the dual graph of @xmath102 .",
    "we will show that the separatedness of @xmath22 forces the subcurve @xmath636 to be invariant under automorphisms of the dual graph .",
    "the idea is simple : if @xmath62 is an automorphism of the dual graph of @xmath102 such that @xmath637 , then contracting @xmath636 or @xmath638 in a one - parameter smoothing of @xmath102 gives two distinct limits in @xmath22 . to make this precise , we need two preliminary lemmas .",
    "[ l : lastlemma ] suppose that @xmath30 admits a contraction from a stable curve @xmath639 .",
    "suppose that there exists @xmath223 and an isomorphism @xmath640 satisfying @xmath641 . then the same holds true for _ any _ contraction from a stable curve to @xmath30 , i.e given _ any _ contraction @xmath642 with @xmath643 stable , there exists @xmath223 and an isomorphism @xmath644 satisfying @xmath645 .    by lemma [ l : mapping ] , there exists a map @xmath646 with the property that a stable curve admits a contraction to @xmath30 iff it lies in the image of @xmath647 .",
    "set @xmath648 , let @xmath649 be an irreducible component of the fiber product @xmath650 which dominates @xmath651 , and consider the induced birational morphism of families over @xmath649 : @xmath194^{\\phi } \\ar[dr]&&\\c \\ar[dl]\\\\ & t_{c}&\\\\ } \\ ] ] since the family @xmath652 is pulled back from @xmath651 , it decomposes as @xmath653 where @xmath654 is pulled back from the universal curve over @xmath655 via the @xmath424 projection .",
    "our hypothesis implies that there exists a point @xmath656 such that @xmath657 is precisely the union of fibers @xmath658 . by the rigidity lemma , @xmath659 for _ all _ @xmath656 .",
    "since @xmath660 is surjective , this implies that if @xmath661 is any contraction from a stable curve to @xmath30 , there exists @xmath662 and an isomorphism @xmath663 such that @xmath645 .",
    "[ l : twistingx ] let @xmath664 be a contraction from a stable curve @xmath186 to a smoothable curve @xmath665 .",
    "suppose that there exists @xmath223 and an isomorphism @xmath666 satisfying @xmath641 . then @xmath667 \\in \\x$ ] .    since @xmath665 is smoothable , we may consider a generic smoothing @xmath668 .",
    "since the fibers of @xmath669 are prestable , we may apply lemma [ l : extendingcurves ] ( 2 ) to obtain ( after finite base - change ) a birational morphism : @xmath670^{\\psi } \\ar[dr]&&\\d \\ar[dl]\\\\ & \\delta&\\\\ } \\ ] ] where @xmath671 is a stable curve . by lemma [ l : birationalbasechange ] ,",
    "the restriction of @xmath672 to the special fiber is a contraction morphism @xmath673 , though not necessarily the one given in the hypothesis of the lemma .",
    "nevertheless , by lemma [ l : lastlemma ] , there exists a geometric point @xmath223 and an isomorphism @xmath674 satisfying @xmath675 .",
    "the stable curve @xmath671 induces a map @xmath232 , and we let @xmath676 denote an irreducible component of @xmath677 which dominates @xmath233 . by proposition [ p : exceptionallocus ] ( a ) , we may assume that the given point @xmath223 lies in @xmath676 , so the isomorphism @xmath663 determines a lift of the closed point @xmath678 to @xmath676 , i.e. we have a diagram @xmath679 \\ar[r]&t \\ar[d]&\\\\ \\spec k \\ar[r ] \\ar[ur ] & \\delta \\ar[r ] & \\sm_{g , n } \\\\ } \\ ] ] since the projection @xmath680 is generically - tale , we may assume ( after finite base - change ) that there exists a section @xmath681 whose image contains the given @xmath35-point .",
    "this section induces a lifting @xmath463 , and we may consider the birational morphism of families pulled back from @xmath190 : @xmath194^{\\phi } \\ar[dr]&&\\c \\ar[dl]\\\\ & \\delta&\\\\ } \\ ] ] by construction , the natural isomorphism @xmath682 identifies @xmath317 with @xmath683 .",
    "since @xmath18 and @xmath684 are normal , there is an induced isomorphism @xmath685 .",
    "thus , the isomorphism class of the curve @xmath686 appears as a fiber of the family @xmath687 , i.e. @xmath667 \\in \\x$ ] as desired .",
    "now we can prove proposition [ p : exceptionallocus ] ( b ) .",
    "suppose there exists a dual graph @xmath39 and a geometric point @xmath227 such that @xmath535 fails to be @xmath58-invariant . by proposition [ p : exceptionallocus](a ) ,",
    "_ every _ geometric point @xmath227 has the property that @xmath535 fails to be @xmath58-invariant . in particular , since @xmath688 is surjective , we may choose a geometric point @xmath227 with the property that the induced map @xmath689 is surjective .",
    "( simply choose a curve @xmath690 \\in \\m_{g}$ ] with the property that each of its components have identical moduli , and take @xmath227 to be a point lying over @xmath690 $ ] . )",
    "now we will derive a contradiction to the separatedness of @xmath22 .",
    "let @xmath691 be a smoothing of the curve @xmath692 . by our choice of @xmath692 , there exist two distinct subcurves of the special fiber @xmath693 and isomorphisms @xmath694 satisfying @xmath695 , @xmath696 . by proposition",
    "[ p : contractions ] , there exist birational contractions @xmath697^{\\phi_2 } \\ar[dl]_{\\phi_1}&\\\\ \\c_1\\ar[dr]&&\\c_2 \\ar[dl]\\\\ & \\delta&\\\\ } \\ ] ] with @xmath698 , @xmath699",
    ". since the restriction of @xmath208 and @xmath209 to the special fiber are contractions , lemma [ l : twistingx ] implies that the special fibers of @xmath700 and @xmath701 both lie in @xmath22 . since @xmath21 is open , the maps @xmath702 induced by @xmath700 and @xmath701 both factor through @xmath22 . since @xmath703 , the rational morphism @xmath704 does not extend to an isomorphism , and we conclude that @xmath22 is not separated , a contradiction .",
    "in this appendix , we give an explicit definition of the relative nef cone @xmath706 and cone of curves @xmath142 as rational closed convex polyhedral cones in @xmath135 and @xmath707 . in the special cases",
    "@xmath143 , we enumerate the extremal faces of @xmath142 and describe the corresponding @xmath54-stability conditions , as guaranteed by lemma [ l : nefassignments ] .",
    "to begin , let @xmath128 denote the universal curve over the moduli stack of stable curves over an algebraically closed field of characteristic zero . in this setting ,",
    "the @xmath708-picard group of @xmath88 is well - known : we have natural line - bundles @xmath709 , where @xmath710 , @xmath711 , and @xmath712 is the line - bundle corresponding to the reduced irreducible cartier divisor @xmath713 . of course , if @xmath714 ( resp .",
    "@xmath4 ) , then we must have @xmath715 ( resp .",
    "@xmath716 ) .",
    "since we have a natural identification @xmath717 , we may define elements @xmath718 by the formulae : @xmath719 \\\\\\ e_{i , s}:&=\\delta_{i , s \\cup \\{n+1\\}}. & & i \\in [ 0,g ] , s \\subset [ 1,n]\\end{aligned}\\ ] ] one should think of @xmath720 as the relative dualizing sheaf of @xmath127 , @xmath590 as the line - bundle corresponding to the divisor @xmath721 , and @xmath722 as the line - bundle corresponding to the irreducible component of @xmath723 whose fibers over @xmath724 are curves of genus @xmath62 , marked by the points of @xmath266 .",
    "whenever we write @xmath725 , we consider the index @xmath62 to run between @xmath726 and @xmath3 , and whenever we write @xmath727 we consider @xmath728 to run over a set of indices representing each irreducible component of the boundary of @xmath88 once , excluding @xmath729 and @xmath730 .",
    "[ l : relativepic ] the classes @xmath720 , @xmath725 , and @xmath727 generate @xmath135 .",
    "moreover , we have    * if @xmath731 , these classes freely generate , i.e. @xmath732 * if @xmath733 , then the classes @xmath725 and @xmath727 freely generate , i.e. @xmath734 * if @xmath5 , then the classes @xmath720 and @xmath727 freely generate , i.e. @xmath735    this follows from the generators and relations for @xmath736 described in @xcite .",
    "now let us recall how these generators intersect irreducible components of fibers of @xmath127 ( see , for example , @xcite ) .",
    "let @xmath379 be a fiber of the universal curve @xmath737 , and let @xmath39 be the dual graph of @xmath379 . if @xmath738 is an irreducible component , corresponding to the vertex @xmath97 , then we have    @xmath739    where we say that _ @xmath44 has an edge of type-@xmath728 _ if @xmath44 meets an edge corresponding to a node that disconnects the curve into pieces of type @xmath728 and @xmath740 , and @xmath44 lies on the piece of type @xmath740 . given a @xmath708-line bundle",
    "@xmath741 @xmath132 is nef iff , for every dual graph @xmath39 and every vertex @xmath97 , we have @xmath742 where @xmath743 , @xmath744 , @xmath745 are defined by the expressions above .",
    "we then define the relative nef cone @xmath746 to be the intersection of this finite collection of half - spaces .",
    "the fact that @xmath720 is positive on every stable curve implies that these half - spaces have non - empty intersection , hence determine a piecewise - linear closed convex cone .",
    "of course , the _ relative cone of curves _ is simply defined to be the dual cone @xmath747 .",
    "let us see how this works in practice by computing the relative cone of curves for @xmath748 , @xmath749 , and @xmath750 , and describe the stability condition corresponding to each face : already , in these low - genus examples , one sees many new stability conditions that have no counterpart in the existing literature . throughout the following examples , we will make repeated use of the observation that to determine whether a line - bundle is @xmath127-nef , it is sufficient to intersect it against those fibers of @xmath127 which are maximally - degenerate , i.e. those which correspond to zero strata in @xmath88 .",
    "[ e : m2 ] by lemma [ l : relativepic ] , the relative @xmath708-picard group of the universal curve @xmath751 is given by @xmath752 thus , any numerically non - trivial @xmath127-nef line bundle on @xmath18 is ample , and induces the trivial extremal assignment @xmath753 .",
    "in fact , it is easy to verify that there are no non - trivial extremal assignments over @xmath748 directly from the axioms",
    ". let @xmath754 , @xmath755 be dual graphs corresponding to thee two zero - strata pictured in figure [ f : zerostrata ] . by axiom 2 , any extremal assignment which picks out one vertex from @xmath754 ( or @xmath755 ) must pick out both vertices , which contradicts axiom 1 .",
    "we conclude that @xmath756 . by axiom 3",
    ", @xmath54 must be the trivial extremal assignment . in sum",
    ", @xmath748 is the unique stable modular compactification of @xmath757 .",
    "[ e : m3 ] by lemma [ l : relativepic ] , the relative @xmath708-picard group of the universal curve @xmath758 is given by @xmath759 where @xmath760 is the divisor of elliptic tails in the universal curve .",
    "intersecting the divisor @xmath761 ( @xmath762 ) with the irreducible components of vital stratum ( 1 ) in figure [ f : zerostrata ] , we deduce the inequalities @xmath763 and @xmath764 .",
    "one easily checks that any divisor whose coefficients satisfy these two inequalities automatically satisfies the inequalities arising from the irreducible components in strata ( 2)-(4 ) .",
    "thus , the nef cone @xmath765 is defined by @xmath766 thus , the relative cone of curves has two extremal faces , namely @xmath767 and @xmath768 .",
    "one easily checks that the nef divisor @xmath769 has degree zero on an irreducible component of a fiber of the universal curve @xmath758 iff this component is contained in the divisor @xmath312 ( i.e. if it is an elliptic tail ) . thus , the extremal assignment induced by this divisor coincides with example [ e : firstassignments ] ( 2 ) , and the corresponding moduli space replaces elliptic tails by cusps .    on the other hand ,",
    "one easily checks that @xmath770 has degree zero on a fiber of @xmath758 iff it has the form @xmath771 , where @xmath246 is a smooth rational curve attached to three distinct elliptic tails @xmath772 , @xmath773 , and @xmath774 .",
    "since the unique singularity of type @xmath775 is the rational triple point ( i.e. the union of the 3 coordinate axes in @xmath776 ) , such curves are replaced in @xmath777 by curves of the form @xmath778 where the three elliptic tails meet in a rational triple point .",
    "[ e : m21 ] by lemma [ l : relativepic ] , the relative @xmath708-picard group of the universal curve @xmath779 is given by @xmath780 where @xmath781 is the universal section , and @xmath782 is the divisor of unmarked elliptic tails in the universal curve .",
    "intersecting the divisor @xmath783 ( @xmath784 ) with the three irreducible components of vital strata ( 1)-(3 ) in figure [ f : zerostrata ] , we deduce the following inequalities for the nef cone : @xmath785 one easily checks that this intersection of half - spaces is simply the polyhedral cone generated by the vectors @xmath786 .",
    "thus , the nef cone @xmath787 is defined by @xmath788 it follows that the cone of curves @xmath789 has eight extremal faces : the codimension - one faces are given by @xmath790 , while the codimension - two faces are given by @xmath791 .",
    "the irreducible components of the vital strata ( 1)-(3 ) contained in these faces are displayed in figure [ f : m_2,1graphs ] .",
    "in addition , we have indicated the singular curves that arise in the alternate moduli functors associated to these faces : for example , associated to @xmath792 , we see only nodal curves , but the marked point is allowed to pass through the node . associated to @xmath768 , we see the same phenomenon as well as elliptic tails replaced by cusps . associated to @xmath793 , we see genus - one bridges being replaced by the two isomorphism classes of singularities of type ( 1,2 ) , namely tacnodes and a planar cusp with a smooth transverse branch .",
    "finally , associated to @xmath794 , we see both an unmarked rational curve replaced by a rational triple point and a marked rational curve replaced by a marked node .",
    "the purpose of this appendix is to prove that the moduli stack of curves is algebraic .",
    "the statement is well - known to experts and appears in ( * ? ? ?",
    "* proposition 2.3 ) , but it seems worthwhile to give a self - contained proof which does not rely on the theory of artin approximation . in addition , corollaries [ c : stackgn ] and [ c : stackgne ] are used in the main body of the paper and do not appear elsewhere in the literature . throughout this appendix",
    ", we follow the notations and terminology of @xcite .",
    "let @xmath795 denote the category of affine @xmath266-schemes .",
    "if @xmath796 , we write simply @xmath797 .",
    "we define a category @xmath798 , fibered in groupoids over @xmath797 , whose objects are flat , proper , finitely - presented morphisms of relative dimension one @xmath799 , where @xmath18 is an algebraic space and @xmath266 is an affine scheme , and whose arrows are cartesian diagrams : @xmath800 \\ar[d ] & \\c \\ar[d ] \\\\ s ' \\ar[r ] & s}\\ ] ] clearly , @xmath798 is a stack over @xmath19",
    ". we will prove        1 .",
    "the diagonal @xmath802 is representable , quasi - compact , and separated .",
    "this is done in section b.1 .",
    "2 .   there is an algebraic space @xmath288 , locally of finite type over @xmath19 , together with a smooth , surjective 1-morphism @xmath803 .",
    "this is done in section b.2 .",
    "let @xmath2 ( resp .",
    "@xmath804 ) be the stack of flat , proper , finitely presented morphisms @xmath805 , together with @xmath3 sections , whose geometric fibers are reduced , connected curves of arithmetic genus @xmath4 ( resp . with no more than @xmath806 irreducible components ) .          throughout this appendix",
    ", we make free use of the fact that @xmath798 is limit - preserving .",
    "since any ring can be written as an inductive limit of finitely - generated @xmath801-algebras , this allows one to check properties of @xmath798 using test schemes which are of finite type over @xmath801 ( in particular , noetherian ) .      by @xcite ,",
    "the category of finitely - presented algebraic spaces over affine base - schemes is a limit - preserving stack over @xmath797 .",
    "the fact that a proper , flat , relative - dimension one morphism over @xmath810 is induced from a proper , flat , relative - dimension one morphism over some @xmath811 , then follows from ( * ? ? ? *",
    "iv.3.1 ) , @xcite , and @xcite respectively .      in this section",
    ", we prove that the diagonal morphism @xmath812 is representable , finitely presented and separated .",
    "equivalently , we must show that if @xmath813 , @xmath814 are two objects of @xmath798 , then the sheaf @xmath815 is representable by an algebraic space , finitely presented and separated over @xmath266 .",
    "recall that if @xmath816 and @xmath817 are proper finitely - presented morphisms over an affine scheme @xmath266 ( not necessarily curves ) , then @xmath818 and @xmath815 are the sheaves over ( /s ) whose sections over @xmath819 are given by @xmath190-morphisms ( resp .",
    "@xmath190-isomorphisms ) @xmath820",
    ".    also recall that if @xmath267 is proper and finitely - presented , the hilbert functor @xmath821 is the sheaf over @xmath795 whose sections over @xmath819 are given by closed subschemes @xmath822 , flat and finitely - presented over @xmath266",
    ". if @xmath267 is projective , then @xmath823 is representable by an @xmath266-scheme of the form @xmath824}h_{p(t)}$ ] , where @xmath825 is a projective scheme over @xmath266 parametrizing families with hilbert polynomial @xmath826 .",
    "we will show that objects @xmath805 of @xmath798 are tale - locally projective ( lemma [ l : fppfprojective ] ) and the representability of @xmath827 will be deduced from the representability of the hilbert scheme for finitely presented projective morphisms .",
    "[ l : fppfprojective ] let @xmath828 be a proper , finitely presented morphism of algebraic spaces .",
    "let @xmath829 be a closed point such that @xmath830 , then there is an tale neighbourhood @xmath831 of @xmath832 such that @xmath833 is projective .",
    "the statement is local on @xmath266 for the tale topology and by the standard limit methods we reduce immediately to the following situation : @xmath834 , where @xmath246 is an excellent , strictly henselian local ring and @xmath365 is the unique closed point .",
    "first , we asume that @xmath12 is a scheme . take @xmath835 to denote the special fiber of @xmath836 . since @xmath837 is proper and of dimension 1 over a field , it is manifestly projective",
    ". let @xmath838 be an ample bundle on @xmath837 , then by ( * ? ? ?",
    "* proposition 4.1 ) , we may lift it to a line bundle @xmath839 on @xmath12 . by ( * ? ? ?",
    "* theoreme 4.7.1 ) , one concludes that @xmath839 is ample for @xmath840 and thus , @xmath836 is projective .",
    "next , assume that @xmath12 is a reduced , normal algebraic space , then by ( * ? ? ?",
    "16.6.2 ) , there is an isomorphism of algebraic spaces @xmath841\\to c$ ] , where @xmath262 is a scheme and @xmath39 is a finite group acting freely on @xmath262 . by the above",
    ", @xmath262 is a projective and since the quotient of a finite group acting freely on a projective scheme is projective , one concludes @xmath12 is projective .    take @xmath12 to be general , then the usual exponential sequence , coupled with basic facts about the tale site on @xmath12 , implies that if @xmath842 is the normalization of the reduction of @xmath12 , the pullback @xmath843 is surjective .",
    "since @xmath266 is excellent , @xmath844 is proper and satisfies the hypotheses of the previous paragraph and is consequently projective . lifting an ample line bundle of @xmath842 to @xmath12 ,",
    "we conclude that this lift is ample ( @xmath845 is finite ) and hence @xmath836 is projective .",
    "[ c : repdiagonalstep][c : repdiagonal ] suppose that @xmath813 , @xmath814 are objects of @xmath798 , then the sheaves @xmath818 and @xmath827 are both representable by finitely presented and separated algebraic @xmath266-spaces .    by lemma [ l : fppfprojective ] , there is an tale surjection @xmath846 such that for @xmath847 , @xmath848 , the pullbacks , @xmath849 , are projective , flat and finitely presented .",
    "the inclusions @xmath850 are representable by finitely - presented open immersions .",
    "is limit preserving , so we may assume that @xmath190 is noetherian .",
    "the assertion for the second inclusion follows from the first .",
    "indeed , this inclusion is given by the graph homomorphism and those families of closed subschemes of @xmath851 which are graphs are precisely those families for which projection onto the first factor is an isomorphism .",
    "the first inclusion is covered by ( * ? ? ?",
    "4.6.7(ii ) ) . ] from the existence of the hilbert scheme for finitely presented projective morphisms , we make the following two observations :    1 .",
    "@xmath852 is representable by a separated and locally of finite type @xmath266-scheme . in particular , the morphism @xmath853 is tale and surjective .",
    "the map @xmath854 is a quasicompact , closed immersion .",
    "indeed , this is simply the locus where two separated morphisms of schemes agree .    putting these together ,",
    "one concludes ( by the definition of an algebraic space ) that @xmath818 is representable by a separated and locally of finite type algebraic @xmath266-space .",
    "since finitely presented open immersions are local for the tale topology , we deduce the corresponding result for @xmath815 .",
    "all that remains to check is that @xmath855 is quasicompact .",
    "taking a segre embedding of the product @xmath856 into some fixed projective space @xmath857 , an application of ( * ? ? ?",
    "* theorem b.7 ) allows one to conclude that graphs of morphisms @xmath858 all have the same hilbert polynomial and consequently , @xmath855 is quasi - projective and in particular , quasi - compact .      in this section , we prove that @xmath798 admits a smooth surjective cover by a scheme @xmath859 .",
    "the key point is that if @xmath12 is a proper one - dimensional scheme over an algebraically closed field , then @xmath12 admits an embedding @xmath860 such that the natural map from embedded deformations to abstract deformations is smooth and surjective ( lemma [ l : defsurjective ] ) at @xmath861 $ ] .",
    "thus , we may build our atlas as a disjoint union of open subschemes of hilbert schemes .",
    "the key lemma is well - known in the local complete intersection case , but we need the statement for an arbitrary one - dimensional scheme , and this requires the cotangent complex . throughout this section ,",
    "@xmath35 denotes an algebraically closed ground field . if @xmath862 are @xmath35-schemes , we let @xmath863 and @xmath864 denote the functor of abstract and embedded deformations respectively .",
    "( for the basic definitions of deformation theory , the reader may consult @xcite ) .",
    "we must show that for any small extension @xmath869 with square - zero kernel , the map @xmath870 is surjective . consider a diagram @xmath871   \\ar[d ]   & y_{a}:=y \\times_{\\spec k } \\spec a \\ar[d ] \\\\",
    "x_{a ' } \\ar@{-->}[r ] & y_{a'}:=y \\times_{\\spec k }   \\spec a'\\\\    } \\ ] ] where @xmath872   \\in \\def_{x}(a')$ ] and @xmath873 \\in \\def_{x \\subset y}(a)$ ] each restrict to @xmath874 \\in \\def_{x}(a)$ ] .",
    "we must show that there exists a map @xmath875 ( any such map is automatically a closed embedding ) .",
    "let us abuse notation by writing @xmath876 ( resp .",
    "@xmath877 ) for @xmath810 ( resp .",
    "@xmath878 ) . the triple @xmath879 gives a distinguished triangle of complexes ( * ? ? ? *",
    "ii.2.1.2 ) : @xmath880 &   l_{x_a / a ' } \\ar[r ] &   l_{x_a / y_{a'}}},\\ ] ] and the long exact sequence associated to @xmath881 gives : @xmath882   & \\ar[r ]    \\ext^1_{x_a}(l_{x_a / a'},\\o_{x_a } ) &    \\ext^1_{x_a}(f^*l_{y_{a'}/a'},\\o_{x_a})}.\\ ] ] we claim that @xmath883 .",
    "since @xmath884 is smooth , @xmath885 and @xmath886 ( * ? ? ?",
    "* iii.3 ) .",
    "since @xmath887 is flat over @xmath810 and @xmath888 , @xmath889 by ( * ? ? ?",
    "* exercise iii.11.8 ) .    by (",
    "* iii.1.2 ) , @xmath890 and @xmath891 , so we obtain a surjection : @xmath892 &    \\exal_{\\o_{a'}}(\\o_{x_a},\\o_{x_a } ) \\ar[r ] & 0 } .\\ ] ] thus , there is an @xmath893-extension of @xmath894 by @xmath894 mapping to @xmath872 \\in \\exal_{\\o_{a'}}(\\o_{x_a},\\o_{x_a}).$ ] in particular , there is a map of sheaves @xmath895 and consequently a morphism @xmath896 extending @xmath897 .",
    "given a geometric point @xmath907",
    "\\in \\u$ ] , consider any embedding @xmath908 such that @xmath909 . by cohomology and base - change (",
    "* theorem 12.11 ) , there exists a zariski - open affine neighborhood @xmath910 \\in u_{x } \\subset hilb(\\p^{n})\\ ] ] such that the restriction of the universal embedding @xmath911 to @xmath912 satisfies @xmath913 for every @xmath914}$ ] . by lemma",
    "[ l : defsurjective ] , the induced map @xmath915 is formally smooth",
    ". also , since the diagonal @xmath916 is representable and of finite presentation ( corollary [ c : repdiagonal ] ) , the map @xmath917 is representable and finitely - presented .",
    "since @xmath798 is limit - preserving , it suffices to check the smoothness of @xmath917 on noetherian test schemes , and we conclude that @xmath917 is smooth by ( * ? ? ? * theorem 17.14.2 ) .",
    "now let @xmath918 be the hilbert scheme ( over @xmath19 ) of curves of genus @xmath4 and degree @xmath806 in @xmath919 , and let @xmath920 be the open subscheme parametrizing curves @xmath921 $ ] with @xmath909 .",
    "then @xmath288 is locally of finite type over @xmath19 , and the arguments of the preceding paragraph show that @xmath922 is smooth and surjective .",
    "if @xmath267 is an object of @xmath798 , the set @xmath923 is open in @xmath266 by @xcite .",
    "it follows that @xmath924 , the stack whose objects are flat proper finitely - presented morphisms of relative dimension one with geometrically connected reduced fibers of arithmetic genus @xmath4 , is an open substack of @xmath798 .",
    "now observe that the morphism @xmath925 obtained by forgetting a section is representable , finitely - presented , and proper . indeed ,",
    "if @xmath926 is any morphism from an affine scheme , corresponding to a family @xmath267 , then the fiber product @xmath927 is naturally isomorphic to @xmath928 , which is represented by @xmath18 itself .",
    "it follows that @xmath929 is an algebraic stack , locally of finite type over @xmath19 . since @xmath930",
    "we conclude that @xmath2 is an algebraic stack , locally of finite - type over @xmath19 .",
    "( with smyth , vakil , and van der wyck)[l : boundedness ] there exists integers @xmath931 and @xmath932 depending only on @xmath4 and @xmath933 such that any reduced curve of arithmetic genus @xmath4 with no more than @xmath933 irreducible components admits a degree @xmath806 embedding into @xmath919 with @xmath934 and @xmath935    first , we show there exists an integer @xmath932 such that any reduced curve of arithmetic genus @xmath4 with no more than @xmath933 irreducible components admits a degree @xmath934 embedding into some projective space . given such a curve @xmath12 with normalization @xmath67 ,",
    "let @xmath14 be an effective cartier divisor whose support meets the smooth locus of every irreducible component of @xmath12 .",
    "since @xmath12 has no more than @xmath933 irreducible components , we may assume that @xmath936 let @xmath937 .",
    "it suffices to exhibit an integer @xmath938 , depending only on @xmath4 and @xmath933 , such that @xmath939 is very ample on @xmath12 .",
    "indeed , we may take @xmath940 .    to show that @xmath939 separates points and tangent vectors ,",
    "it is sufficient to show that , for any @xmath66 , @xmath941 clearly , the latter vanishing implies the former .",
    "given @xmath66 , let @xmath942 and let @xmath70 denote the @xmath69-invariant of @xmath68 .",
    "we have an exact sequence @xmath943 &   \\pi_*\\o_{\\tilde{c}}(-2\\delta(p)(p_1+\\ldots+p_r ) )    \\ar[r ] &   m_{p}^2 \\ar[r ] &   \\mathscr{e}\\ar[r ] & 0},\\ ] ] where @xmath944 is a coherent sheaf supported at @xmath68 .",
    "twisting by @xmath939 and taking cohomology , we obtain @xmath945 &   h^1(c ,    \\l^{m } \\otimes m_{p}^2 ) \\ar[r ] &   0}.\\ ] ] by the projection formula , we have @xmath946 which vanishes as soon as @xmath947 . since @xmath948 and @xmath949 , we may take @xmath950 .",
    "next , we must bound the ambient dimension of the projective space . given a degree @xmath806 embedding @xmath908 , let @xmath951 and @xmath952 denote the secant and tangent varieties of @xmath12 respectively . as long as @xmath953 , we may obtain a lower - dimensional embedding by projection .",
    "the dimension of @xmath951 is at most 3 , and the dimension of @xmath952 is bounded by the maximum embedding dimension of any singular point on @xmath12 .",
    "thus , it suffices to exhibit an integer @xmath954 such that any singularity of @xmath66 has embedding dimension at most @xmath955 .",
    "suppose first that @xmath66 is a unibranch singularity , so @xmath956 is a finitely - generated subalgebra of the power series ring @xmath957 $ ] .",
    "choose a set of generators for @xmath956 , say @xmath958 , and let @xmath959 .",
    "clearly we may choose our generators such that the residues of @xmath960 modulo @xmath955 are all distinct .",
    "in particular , we have @xmath961 since @xmath962 , we have the bound @xmath963 for the unibranch case .",
    "if @xmath66 has @xmath964 branches , then we have @xmath965\\oplus \\ldots \\oplus k[[t_r]]$ ] .",
    "the restriction of @xmath956 to each branch is generated by at most @xmath966 elements , and there are at most @xmath967 branches , so altogether @xmath956 must be generated by at most @xmath968 elements .",
    "thus , we may take @xmath969 .",
    "the stack @xmath804 is an open substack of @xmath2 by @xcite[12.2.1 ( xi ) ] .",
    "it only remains to see that we can cover @xmath804 by a scheme of finite - type over @xmath19 .",
    "since the hilbert schemes of curves in @xmath919 of arithmetic genus @xmath4 and degree @xmath806 is of finite - type , this follows immediately from lemma [ l : boundedness ] .",
    "6 e. arbarello and m. cornalba , _ calculating cohomology groups of moduli spaces of curves via algebraic geometry _ , inst .",
    "hautes etudes sci .",
    "publ , math .",
    "88 , 97 - 129 ( 1999 ) .",
    "m. artin , _ algebraization of formal moduli ii : existence of modifications _ ann . of math .",
    "( 2 ) 91 1970 ( 88 - 135 ) . duke math .",
    "j. 85 ( 1996 ) , no .",
    "1 , 160 . b. conrad and a.j .",
    "dejong , _ approximation of versal deformations _",
    ", journal of algebra , 255 ( 2002 ) , no . 2 , 489 - 515 .",
    "de jong , _ families of curves and alterations _ , ann .",
    "fourier ( grenoble ) 47 ( 1997 ) , no.2 , 599 - 621 .",
    "a.j . de jong , _ smoothness , semi - stability , and alterations _ , publications mathematiques i.h.e.s . , 83 ( 1996 ) ,",
    "p. deligne .",
    "_ cohomologie tale_. sminaire de gomtrie algbrique du bois - marie sga 4@xmath970 .",
    "avec la collaboration de j. f. boutot , a. grothendieck , l. illusie et j. l. verdier .",
    "lecture notes in mathematics , vol .",
    "springer - verlag , berlin - new york , 1977 .",
    "p. deligne and d. mumford , _ the irreducibility of the space of curves of given genus _ , inst . hates tudes sci .",
    "publ . math .",
    "( 1969 ) no .",
    "36 , 75 - 109 .",
    "dejong , x. he , j. starr , _ families of rationally simply connected varieties over surfaces and torsors for semisimple groups _ , arxiv:0809.5224 . j. dieudonn and a. grothendieck , _ lments de gomtrie algbrique iii _ , pub .",
    "hautes tudes sci . , 1961- .",
    "j. dieudonn and a. grothendieck , _ lments de gomtrie algbrique iv _",
    "hautes tudes sci . , 1965- .",
    "d. edidin , b. hassett , a. kresch , and a. vistoli , _",
    "brauer groups and quotient tacks _ , american journal of mathematics , 123 ( 2001 ) , no.4 , 761 - 777 . b. fantechi , l. gttsche , l. illusie , s. l. kleiman , n. nitsure , a. vistoli , _ fundamental algebraic geometry .",
    "grothendieck s fga explained _ , mathematical surveys and monographs , 123 .",
    "american mathematical society , providence , ri , 2005 .",
    "isbn : 0 - 8218 - 3541 - 6 b. hassett , _ moduli spaces of weighted pointed curves _ , advances in mathematics 173 ( 2003 ) , no . 2 , 316 - 352 .",
    "b. hassett , d. hyeon , _ log canonical models of the moduli space of curves : the first contraction _ , submitted .",
    "j. harris , i. morrison , _ moduli of curves _ , springer - verlag , new york , 1998 .",
    "r. hartshorne , _ algebraic geometry _ , springer - verlag , new york , 1977 .",
    "l. illusie _",
    "complexe cotangent et dformations _ lecture notes in mathematics , 239 , springer - verlag , berlin - new york ( 1971 ) .",
    "s. keel and s. mori , _",
    "quotients by groupoids _ , ann . of math .",
    "( 2 ) 145 ( 1997 ) , no . 1 , 193 - 213 . j. kollr , _ rational curves on algebraic varieties _ , springer - verlag , berlin ( 1999 ) .",
    "d. knutson , _ algebraic spaces _ , lecture notes in mathematics , springer ( 1971 ) .",
    "j. lipman , _ rational singularities _",
    "36 ( 1969 ) .",
    "g. laumon and l. moret - bailly , _ champs algbraique _ , ergebnisse der mathematik und ihrer grenzgebiete , 39 .",
    "springer - verlag , berlin ( 2000 ) .",
    "m. raynaud and l. gruson , critres de platitude et de projectivit , techniques de platification dun module , inventiones mathematicae 13 , 1 - 89 ( 1971 ) .",
    "d. schubert , _ a new compactification of the moduli space of curves _ , compositio math .",
    "78 ( 1991 ) , no . 3 , 297 - 313 .",
    "edoardo sernesi , _ deformations of algebraic schemes _ , springer , 2006 .",
    "m. simpson , _ on log canonical models of the moduli space of stable pointed genus zero curves _ , ph.d .",
    "thesis , rice university ( 2008 ) .",
    "d. smyth , _ modular compactifications of @xmath32 i : construction of @xmath971 _ , submitted .",
    "j. stevens , _ on the classification of reducible curve singularities _ , in algebraic geometry and singularities , progr . math . 134 , birkhauser ( 1996 ) , 383 - 407 ."
  ],
  "abstract_text": [
    "<S> the moduli space of smooth curves admits a beautiful compactification @xmath0 by the moduli space of stable curves . in this paper , we undertake a systematic classification of alternate modular compactifications of @xmath1 . </S>",
    "<S> let @xmath2 be the ( non - separated ) moduli stack of all @xmath3-pointed reduced , connected , complete , one - dimensional schemes of arithmetic genus @xmath4 . when @xmath5 , @xmath6 is irreducible and we classify all open proper substacks of @xmath6 . </S>",
    "<S> when @xmath7 , @xmath2 may not be irreducible , but there is a unique irreducible component @xmath8 containing @xmath1 . </S>",
    "<S> we classify open proper substacks of @xmath9 satisfying a certain stability condition . </S>"
  ]
}