{
  "article_text": [
    "cieliebak  mundet i riera  salamon  @xcite formulate the definition of branched submanifold of @xmath5 in connection with their discussion of multivalued sections , and use it to represent the euler class of certain @xmath6-bundles ( where @xmath6 is a compact lie group ) .",
    "in definition  [ def : brman ] we propose an intrinsic definition of a weighted branched manifold @xmath0 generalizing that in salamon  @xcite .",
    "it is obtained from the usual definition of orbifold groupoid simply by relaxing the properness condition and adding a weighting .",
    "proposition  [ prop : fclass ] states that if @xmath0 is compact , finite dimensional and oriented , then @xmath0 carries a fundamental class @xmath1 $ ] .",
    "our point of view allows us to deal with a few technical issues that arise when branched submanifolds are not embedded in a finite dimensional ambient space .",
    "our other main result can be stated informally as follows .",
    "( for a formal statement , see propositions  [ prop : resol ] and [ prop : fclass ] . )",
    "[ thm ] any compact oriented orbifold @xmath7 has a resolution \" @xmath8 by a branched manifold that is unique up to a natural equivalence relation .",
    "moreover @xmath9)$ ] is the fundamental class of @xmath7 .    on the level of groupoids ,",
    "the resolution is constructed from an orbifold groupoid by refining the objects and also throwing away some of the morphisms ; cf .",
    "example  [ ex : tear ] .",
    "one can think of resolutions as trading orbifold singularities for branching .",
    "one application is to give a simple description of the ( poincar dual of the ) euler class of a bundle over an orbifold as a homology class represented by a branched manifold ; see proposition  [ prop : euler ] and   [ ss : euler ] .",
    "we work in finite dimensions but , as the discussion below indicates , the result also applies in certain infinite dimensional situations .",
    "we give two proofs of theorem  [ thm ] .",
    "the first ( in  [ ss : resol ] ) is an explicit functorial construction that builds @xmath0 from a set of local uniformizers of @xmath7 .",
    "it is a groupoid version of liu  tian s construction of the virtual moduli cycle in  @xcite .",
    "( also see lu - tian  @xcite . )",
    "the second ( in  [ ss : multi ] ) constructs @xmath0 as the graph of a multisection of a suitable orbibundle @xmath10 .",
    "it therefore relates to the construction of the euler class in  @xcite and to hofer , wysocki and zehnder s new polyfold approach to constructing the virtual moduli cycle of symplectic field theory .",
    "the situation here is the following .",
    "the generalized cauchy  riemann ( or delbar ) operator is a global fredholm section @xmath11 of a polyfold bundle @xmath10 , and if it were transverse to the zero section one would define the virtual moduli cycle to be its zero set .",
    "however , in general @xmath11 is not transverse to the zero section .",
    "moreover , because @xmath7 is an orbifold rather than a manifold , one can achieve transversality only by perturbing @xmath11 by a multivalued section @xmath12 .",
    "hence the virtual moduli cycle , which is defined to be the zero set of @xmath13 , is a weighted branched submanifold of the infinite dimensional groupoid @xmath14 : see  ( * ? ? ?",
    "* ch  7 ) . since",
    "@xmath12 is chosen so that @xmath13 is fredholm ( in the language of  @xcite it is an sc@xmath15-section ) , this zero set is finite dimensional .",
    "although one can define the multisections @xmath12 fairly explicitly , the construction in  @xcite gives little insight into the topological structure of the corresponding zero sets .",
    "this may be understood in terms of a resolution @xmath8 .",
    "the pullback by @xmath8 of an orbibundle @xmath10 is a bundle @xmath16 and we show in lemma  [ le : multi1 ] that its ( single valued ) sections @xmath12 push forward to give multivalued sections @xmath17 of @xmath10 in the sense of  @xcite .",
    "proposition  [ prop : sect ] shows that if @xmath10 has enough _ local _ sections to achieve transversality one can construct the resolution to have enough _ global _ sections to achieve transversality .",
    "hence one can understand the virtual moduli cycle as the zero set of a ( single valued ) section of @xmath18 .",
    "in particular , its branching is induced by that of @xmath0 .",
    "this paper is organized as follows .",
    " 2 sets up the language in which to define orbifolds in terms of groupoids .",
    "it is mostly but not entirely review , because we treat the properness requirements in a nonstandard way . in  3 , we define weighted nonsingular branched groupoids and branched manifolds and establish their main properties .",
    " 4 gives the two constructions for the resolution .",
    "the relation to the work of cieliebak  mundet i riera ",
    "salamon  @xcite is discussed in   [ ss : euler ] .",
    "i wish to thank kai cieliebak , eduardo gonzalez , andr haefliger , helmut hofer and ieke moerdijk for some very pertinent questions and comments on earlier versions of this paper .",
    "orbifolds ( or @xmath19-manifolds ) were first introduced by satake  @xcite .",
    "the idea of describing them in terms of groupoids and categories is due to haefliger  @xcite .",
    "our presentation and notation is based on the survey by moerdijk  @xcite .",
    "thus we shall denote the spaces of objects and morphisms of a small topological category @xmath20 by the letters @xmath21 and @xmath22 respectively .",
    "the source and target maps are @xmath23 and the identity map @xmath24 is @xmath25 .",
    "the composition map @xmath26 has domain equal to the fiber product @xmath27 .",
    "we denote the space of morphisms from @xmath28 to @xmath29 by @xmath30 .      throughout this paper",
    "we shall work in the smooth category , by which we mean the category of finite dimensional second countable hausdorff manifolds .",
    "if the manifolds have boundary , we assume that all local diffeomorphisms respect the boundary .",
    "similarly , if they are oriented , all local diffeomorphisms respect the orientation .",
    "[ def : orb ] an * ( oriented ) sse groupoid * @xmath20 is a small topological category such that the following conditions hold .    *",
    "( groupoid ) * all morphisms are invertible . more formally there is a structure map @xmath31 that takes each @xmath32 to its inverse @xmath33 .    *",
    "( smooth tale ) * the spaces @xmath21 of objects and @xmath22 of morphisms are ( oriented ) manifolds ( without boundary ) , and all structure maps ( @xmath34 ) are ( oriented ) local diffeomorphisms .    * ( stable ) * for each @xmath35 the set of self - morphisms @xmath36 is finite .",
    "groupoids that also satisfy the properness condition stated below will be called * ep groupoids * , where the initials ep stand for tale proper \" .    *",
    "( properness ) * the map @xmath37 that takes a morphism to its source and target is proper .",
    "the * orbit space * @xmath38 of @xmath20 is the quotient of @xmath21 by the equivalence relation in which @xmath39 iff @xmath40 .",
    "further , @xmath20 is called    @xmath41 * nonsingular * if all stabilizers @xmath42 are trivial .",
    "@xmath41 * effective * if for each @xmath35 and @xmath43 each neighborhood @xmath44 of @xmath45 contains a morphism @xmath46 such that @xmath47 ( i.e. the action of @xmath45 is locally effective . )    @xmath41 * connected * if @xmath38 is path connected .    unless there is specific mention to the contrary , all groupoids @xmath20 considered in this paper are sse groupoids , understood in the sense defined above , and all functors are smooth , i.e. they are given by smooth maps on the spaces of objects and morphisms .- polyfolds and sc - diffeomorphisms .",
    "haefliger  @xcite and moerdijk ",
    "mrun  @xcite consider lie groupoids in which the space @xmath22 of morphisms is allowed to be a nonhausdorff manifold in order to accommodate examples such as the groupoid of germs of diffeomorphisms .",
    "foliation groupoids also need not be proper . thus they also develop considerable parts of the theory of tale groupoids without assuming properness , though in the main they are interested in very different manifestations of nonproperness . ]",
    "many authors call ep groupoids * orbifold groupoids*. note that stability is a consequence of properness , but we shall often assume the former and not the latter .",
    "salamon  @xcite use the stability condition to show that in any sse groupoid every point @xmath35 has an open neighborhood @xmath48 such that each morphism @xmath43 extends to a diffeomorphism of @xmath48 onto itself .",
    "extends to a local diffeomorphism @xmath49 of @xmath21 in the following way .",
    "let @xmath19 be a neighborhood of @xmath45 in @xmath22 on which the source and target maps @xmath12 and @xmath50 are injective .",
    "then @xmath49 maps @xmath51 to @xmath52 by @xmath53 .",
    "thus the point of robbin ",
    "salamon s argument is to show that we may assume that @xmath54 .",
    "] however , in general there could be many other morphisms with source and target in @xmath48 .",
    "their corollary 2.10 states that @xmath20 is proper iff @xmath48 can always be chosen so that this is not so , i.e. so that @xmath55 .",
    "thus properness is equivalent to the existence of local uniformizers in the sense of definition  [ def : atl ] below .",
    "another well known consequence of properness is that the orbit space @xmath38 is hausdorff .",
    "the next lemma shows that @xmath38 is hausdorff iff the equivalence relation on @xmath21 is closed , i.e. the subset @xmath56 is closed .",
    "[ le : haus ] let @xmath20 be an sse groupoid . then :    \\(i ) the projection @xmath57 is open .",
    "\\(ii ) @xmath38 is hausdorff iff @xmath58 has closed image .",
    "let @xmath59 be open .",
    "we must show that @xmath60 is open in the quotient topology , i.e. that @xmath61 is open in @xmath21 .",
    "but @xmath62 is open in @xmath22 since @xmath12 is continuous and @xmath50 is an open map because it is a local diffeomorphism .",
    "this proves ( i ) .",
    "now suppose that @xmath63 is closed and let @xmath64 be any two distinct points in @xmath38 . choose @xmath65 and @xmath66 .",
    "then @xmath67 and so there is a neighborhood of @xmath68 of the form @xmath69 that is disjoint from @xmath63 .",
    "then @xmath70 and @xmath71 are open in @xmath38 by ( i ) . if @xmath72 there is @xmath73 such that @xmath74 .",
    "then there is @xmath75 such that @xmath76 and @xmath77 such that @xmath78 .",
    "therefore by transitivity @xmath79 , i.e. @xmath69 meets @xmath63 , a contradiction .",
    "hence @xmath70 and @xmath71 are disjoint neighborhoods of @xmath64 , and @xmath38 is hausdorff .",
    "the proof of the converse is similar .",
    "hence ( ii ) holds .",
    "[ rmk : i](i ) the properness condition is essential to distinguish orbifolds from branched manifolds .",
    "for example , it is easy to define a ( nonproper ) sse groupoid @xmath80 with orbit space @xmath81 equal to the quotient of the disjoint union @xmath82 by the equivalence relation @xmath39 for @xmath83 ; cf .",
    "[ fig0 ] and example  [ ex : brorb ] ( i ) .",
    "note that @xmath81 is nonhausdorff , but can be made hausdorff by identifying the points @xmath84 and @xmath85 ; cf .",
    "lemma  [ le : maxh ] .",
    "the transverse holonomy groupoid of the reeb foliation ( cf .",
    "haefliger  @xcite ) is also of this kind .     for a nonproper groupoid , width=192 ]    \\(ii ) to say that @xmath58 is a closed map is different from saying that its image is closed .",
    "for example , one could define a noneffective groupoid @xmath20 with objects @xmath86 and with @xmath87 but such that @xmath22 has infinitely many components .",
    "such @xmath20 can be stable , for example if @xmath88 where each element in @xmath89 has order @xmath90 and @xmath91 .",
    "then the image of @xmath58 is the diagonal in @xmath92 and so is closed . but the map @xmath58 is not closed .",
    "( if @xmath93 , @xmath94 is closed but its image under @xmath58 is not .",
    ") note that , even when @xmath20 is proper , the fibers of the projection @xmath57 need not be finite .",
    "\\(iii ) if an ep groupoid @xmath20 is nonsingular , then the orbit space @xmath38 is a manifold .",
    "the groupoid in ( ii ) above has the awkward property that , despite being connected , some of its points have effective stability groups and some do not .",
    "the following lemmas show that this can not happen in the proper case .",
    "though they are well known , we include them for the sake of completeness .",
    "[ le : red1 ] suppose that @xmath20 is a connected ep groupoid .",
    "suppose further that for some @xmath35 every element of the stabilizer group @xmath95 acts effectively .",
    "then @xmath20 is effective .",
    "if every element of @xmath95 acts effectively and @xmath96 , then the elements of @xmath97 act effectively . therefore we may partition @xmath38 into two disjoint sets @xmath98 and @xmath99 , the first being the image of points where @xmath95 acts effectively and the second the image of points where the action of @xmath95 is not effective .",
    "the set @xmath99 is always open as it is the image of the open subset @xmath100 under the composite @xmath101 , which is open by lemma  [ le : haus](i ) .",
    "if @xmath20 is proper , then @xmath99 is also closed . for if not",
    ", there is a convergent sequence @xmath102 whose limit @xmath103 choose @xmath65 and a sequence @xmath104 with limit @xmath28 . for each @xmath105",
    "there is @xmath106 that acts as the identity near @xmath107 . since the sequence @xmath108 converges to @xmath109 , properness of the map",
    "@xmath58 implies that the @xmath110 have a convergent subsequence ( also called @xmath110 ) with limit @xmath45 .",
    "then @xmath43 and hence has finite order . on the other hand it extends to a local diffeomorphism near @xmath28 that equals the identity near the @xmath107",
    "this is possible only if @xmath111 .",
    "but this is impossible since @xmath112 for all @xmath105 and the set of identity morphisms is open in @xmath22 . since @xmath38 is assumed connected and @xmath98 is nonempty by hypothesis , we must have @xmath113 .    [",
    "le : red2 ] suppose that @xmath20 is a connected ep groupoid .",
    "then :    \\(i ) the isomorphism class of the subgroup @xmath114 of @xmath97 that acts trivially on @xmath21 is independent of @xmath115 ;    \\(ii ) there is an associated effective groupoid @xmath116 with the same objects as @xmath20 and where the morphisms from @xmath28 to @xmath29 may be identified with the quotient @xmath117 .",
    "given @xmath118 denote by @xmath119 the component of @xmath22 containing @xmath45 .",
    "then , by properness , the image of @xmath120 is the component @xmath121 of @xmath21 containing @xmath29 .",
    "moreover , as in the previous lemma , @xmath87 on @xmath119 .",
    "since this holds for all @xmath118 , the groups @xmath122 all have the same number of elements .",
    "moreover , they are isomorphic because the operation of composition takes @xmath123 to @xmath124 .",
    "statement ( i ) now follows because @xmath38 is connected , and the groups @xmath114 are isomorphic as @xmath29 varies in a fiber of @xmath57 .    to prove ( ii ) , define an equivalence relation on @xmath22 by setting @xmath125 iff the morphisms @xmath126 are such that @xmath127 .",
    "it is easy to check that these equivalence classes form the morphisms of the category @xmath116 .",
    "the following definitions are standard .",
    "[ def : refin ] let @xmath128 be sse groupoids .",
    "a functor @xmath129 is said to be * smooth * if the induced maps @xmath130 are smooth .",
    "the pair @xmath131 is said to be a * refinement * of @xmath20 if    \\(i ) the induced map @xmath132 is a ( possibly nonsurjective ) local diffeomorphism that induces a homeomorphism @xmath133 ;    \\(ii ) for all @xmath134 , @xmath135 induces an isomorphism @xmath136 .",
    "two sse groupoids are * equivalent * if they have a common refinement .",
    "[ rmk : refin]if @xmath131 refines @xmath20 then the morphisms in @xmath137 are determined by the map @xmath138 . indeed for any pair @xmath139 of components of @xmath140 the space @xmath141 of morphisms with source in @xmath142 and target in @xmath19 is @xmath143 for short , we will say that the morphisms in @xmath137 are pulled back from those in @xmath20 .",
    "moreover @xmath138 can be any local diffeomorphism whose image surjects onto @xmath38 .",
    "in particular , if @xmath144 is any collection of open subsets of @xmath21 that projects to a covering of @xmath38 , there is a unique refinement @xmath137 of @xmath20 with objects @xmath145 .",
    "it follows that any category @xmath146 with the same objects as @xmath20 but fewer morphisms is significantly different from @xmath20 ; cf .",
    "example  [ ex : tear ] .",
    "later we will see that under certain conditions the corresponding functor @xmath147 has the structure of a layered covering ; cf .",
    "lemma  [ le : tame ] .",
    "the proof that the above notion of equivalence is an equivalence relation on sse groupoids is based on the fact that if @xmath148 are two refinements of @xmath20 their fiber product @xmath149 refines both @xmath137 and @xmath146 .",
    "here we use the so - called weak fiber product of moerdijk ",
    "mrun  @xcite ( see also  @xcite ) with objects ] this definition is useful only when one of the maps @xmath150 is surjective ; for a general equivalence , the above space might be empty .",
    "we also can not use the fiber product @xmath151 since this is only guaranteed to be a manifold if one of the projections @xmath152 is a local submersion . ]",
    "given by the homotopy pullback @xmath153 morphisms @xmath154 are pairs @xmath155 , where @xmath156 , such that the following diagram commutes : @xmath157 thus @xmath158 .",
    "[ le : weak ] let @xmath159 be sse groupoids and @xmath160 be smooth functors .",
    "\\(i ) if @xmath137 is nonsingular and @xmath161 is injective on each group @xmath162 then @xmath149 is nonsingular .",
    "\\(ii ) @xmath161 is an equivalence iff the projection @xmath163 is an equivalence .    this is straightforward , and is left to the reader .",
    "[ ss : orb ]    [ def : orbstr ] an * orbifold structure * on a paracompact hausdorff space @xmath164 is a pair @xmath165 consisting of an ep groupoid @xmath20 together with a homeomorphism @xmath166 .",
    "two orbifold structures @xmath165 and @xmath167 are equivalent if they have a common refinement , i.e. if there is a third structure @xmath168 and refinements @xmath169 such that @xmath170 .",
    "an * orbifold * @xmath7 is a second countable paracompact hausdorff space @xmath164 equipped with an equivalence class of orbifold structures .",
    "an * orbifold map * @xmath171 is an equivalence class of functors @xmath172 , where @xmath165 and @xmath173 are orbifold structures on @xmath3 and @xmath174 , respectively .",
    "the equivalence relation is generated by the obvious notion of refinement of functors .",
    "thus if @xmath175 and @xmath176 are refinements , @xmath177 is said to refine @xmath178 if there is a natural transformation between the two functors @xmath179 .    each orbifold map @xmath171 induces a well defined continuous map @xmath180 on the spaces @xmath181 underlying @xmath182 .",
    "note that it is possible for different equivalence classes of functors to induce the same map @xmath183 . for more details , see moerdijk  @xcite . as pointed out by lerman  @xcite ,",
    "one really should take a more sophisticated approach to defining orbifolds and orbifold maps in order for them to form some kind of category .",
    "since the focus here is on defining a new class of objects , we shall not deal with these subtleties .",
    "[ ex : tear]*the teardrop orbifold and its resolution . *",
    "the teardrop orbifold has underlying space @xmath184 and one singular point @xmath185 at the north pole of order @xmath105 .",
    "cover @xmath164 by two open discs @xmath186 of radius @xmath187 that intersect in the annulus @xmath188 and are invariant by rotation about the north / south poles .",
    "denote by @xmath189 the @xmath105-fold covering map given in polar coordinates by @xmath190 and by @xmath191 rotation through the angle @xmath192 .",
    "an orbifold structure on @xmath164 is provided by the proper groupoid @xmath20 whose space of objects @xmath21 is the disjoint union @xmath193 , with morphisms @xmath194 here @xmath84 acts as the identity and @xmath195 denotes the morphism with target @xmath196 and source @xmath197 in @xmath198 .",
    "further the pair @xmath199 is the unique morphism with source @xmath200 and target @xmath201 , by definition @xmath202 thus @xmath203 where @xmath196 is identified with @xmath204 and @xmath198 is attached to @xmath205 over @xmath94 by a @xmath105 to @xmath84 map .",
    "when @xmath206,width=336 ]    by way of contrast , consider the groupoid @xmath80 formed from @xmath20 by omitting the morphisms @xmath207 .",
    "this groupoid is nonsingular , but is no longer proper since the restriction of @xmath208 to the component of morphisms @xmath209 is not proper .",
    "note that @xmath81 is a branched manifold : @xmath105 ( local ) leaves come together along the boundary @xmath210 .",
    "further , if one weights the leaves over @xmath211 by @xmath212 the induced map @xmath213 represents the fundamental class of @xmath214 .",
    "we call @xmath80 the resolution of @xmath164",
    ".    often it is convenient to describe an orbifold structure on @xmath7 in terms of local charts .",
    "here are the relevant definitions .",
    "[ def : atl ] a * local uniformizer * @xmath215 for an ( orientable ) orbifold @xmath7 is a triple consisting of a connected open subset @xmath216 , a finite group @xmath217 that acts by ( orientation preserving ) diffeomorphisms of @xmath218 and a map @xmath219 that factors through a homeomorphism from the quotient @xmath220 onto an open subset @xmath221 of @xmath164 .",
    "moreover , this uniformizer determines the smooth structure of @xmath7 over @xmath221 in the sense that for one ( and hence any ) orbifold structure @xmath222 on @xmath7 the projection @xmath223 lifts to a local diffeomorphism @xmath224 .",
    "a * good atlas * for @xmath7 is a collection @xmath225 of local uniformizers whose images @xmath226 form a locally finite covering of @xmath164 .",
    "it is shown in moerdijk ",
    "pronk  ( * ? ? ?",
    "* corollary  1.2.5 ) that every effective orbifold has such an atlas .",
    "the argument works equally well in the general case since it is based on choosing an adapted triangulation of @xmath38 .",
    "in fact , one can also assume that the @xmath218 and their images @xmath221 are contractible and that the @xmath221 are closed under intersections .",
    "here we assume as always that @xmath38 is finite dimensional .",
    "the arguments of  @xcite do not apply in the infinite dimensional case .",
    "however robbin ",
    "salamon  ( * ? ? ?",
    "* lemma  2.10 ) show that in any category an orbifold has a good atlas .",
    "they start from a groupoid structure @xmath222 on @xmath7 and construct for each @xmath35 a local uniformizer @xmath227 that embeds in @xmath20 in the sense that @xmath59 and the full subcategory of @xmath20 with objects @xmath142 is isomorphic to @xmath228 .",
    "let @xmath229 , be a locally finite cover of @xmath230 by such uniformizers , and denote by @xmath137 the full subcategory of @xmath20 with objects @xmath145 .",
    "since this is a refinement of @xmath20 , it is another orbifold structure on @xmath7 .",
    "observe that the morphisms in @xmath137 with source and target @xmath218 can be identified with @xmath231 .",
    "in this situation we say that @xmath137 is * constructed from the good atlas * @xmath229 .",
    "many interesting orbifolds , for example the ep polyfold groupoids considered in  @xcite , are constructed in this way .",
    "the following definition will be useful .",
    "[ def : sm ] let @xmath20 be an ep groupoid .",
    "a point @xmath232 is said to be smooth if for one ( and hence every ) point @xmath233 every element @xmath43 acts trivially near @xmath28 .",
    "thus when @xmath20 is effective @xmath185 is smooth iff @xmath234 for all @xmath65 .",
    "note that for any local uniformizer @xmath235 the fixed point set of each @xmath236 is either the whole of @xmath142 or is nowhere dense in @xmath142 .",
    "it follows that the smooth points @xmath237 form an open and dense subset of @xmath38 .",
    "we now show that if @xmath7 is effective its orbifold structure is uniquely determined by the charts in any good atlas ; there is no need for further explication of how these charts fit together .",
    "this result is well known : cf .",
    "we include a proof to clarify ideas .",
    "it is particularly relevant in view of the work of chen ",
    "ruan  @xcite and chen  @xcite on orbifold gromov ",
    "witten invariants , that discusses orbifolds from the point of view of charts .",
    "note that the argument applies to orbifolds in any category , and in particular to polyfold groupoids .",
    "[ le : red3 ] an effective orbifold @xmath7 is uniquely determined by the charts @xmath238 of a good atlas .",
    "here is an outline of the proof .",
    "we shall construct an orbifold structure @xmath222 on @xmath7 , such that @xmath20 is a groupoid whose objects @xmath21 are the disjoint union of the sets @xmath239 and whose morphisms with source and target in @xmath218 are given by @xmath217 .",
    "the construction uses the fact that @xmath7 has an effective orbifold structure @xmath240 , but the equivalence class of @xmath222 is independent of the choice of @xmath240 .",
    "it follows that @xmath222 and @xmath240 are equivalent , and that the orbifold structure of @xmath7 is determined by the local charts .",
    "we described above the objects in @xmath20 and some of the morphisms . to complete the construction",
    ", we must add to @xmath22 some components @xmath241 of morphisms from @xmath242 to @xmath218 for all @xmath243 such that @xmath244 . for smooth points",
    "@xmath245 the set @xmath30 has at most one element and is non empty iff @xmath246 .",
    "hence the given data determine the set @xmath247 of all morphisms whose source or target is smooth .",
    "we shall see that there is a unique way to complete the morphism space @xmath22 .    to begin , fix @xmath248 such that @xmath249 .",
    "given @xmath250 denote by @xmath251 the connected component of @xmath252 that contains @xmath29 .",
    "the key point is that for any point @xmath253 with @xmath254 there is a local diffeomorphism @xmath255 from a neighborhood @xmath256 of @xmath29 in @xmath242 to a neighborhood @xmath257 of @xmath28 in @xmath218 such that @xmath258 .",
    "this holds because there is an orbifold structure @xmath240 on @xmath164 .",
    "namely , choose @xmath259 so that @xmath260 . shrinking @xmath256 and @xmath257 if necessary",
    ", we may suppose that there is a neighborhood @xmath261 of @xmath262 in @xmath263 such that @xmath264 . since @xmath265 is a local chart for @xmath266 ,",
    "there is a local diffeomorphism @xmath267 such that @xmath268 .",
    "moreover , since @xmath269 is given by quotienting by the action of @xmath217 there is @xmath270 such that @xmath271 . denoting by @xmath272 the similar map for @xmath250 , we may take @xmath273 .",
    "since @xmath255 is determined by its restriction to the dense open set of smooth points , it follows that there are precisely @xmath274 such local diffeomorphisms , namely the composites @xmath275 .",
    "these local diffeomorphisms form the local sections of a sheaf over @xmath276 , whose stalk at @xmath29 consists of the @xmath274 elements @xmath277 .",
    "the existence and uniqueness properties of the @xmath255 imply that each local section is the restriction of a unique , but possibly multivalued , global section @xmath278 of this sheaf .",
    "we may identify the graph of @xmath278 ( which is a manifold ) with a component @xmath279 of the space of morphisms from @xmath242 to @xmath218 . since @xmath274 is finite",
    ", the source map @xmath280 is a surjective and finite - to - one covering map .",
    "the set @xmath281 of all such global sections ( for different choices of @xmath282 ) is invariant under the action of @xmath283 by precomposition and of @xmath217 by postcomposition .",
    "we define the space of morphisms in @xmath20 from @xmath242 to @xmath218 to consist of the @xmath284 components @xmath285    this defines the morphisms in @xmath20 from @xmath242 to @xmath218 .",
    "we then complete @xmath22 by adding the inverses to these elements and all composites .",
    "the resulting composition operation is associative because its restriction to the smooth elements is associative .",
    "thus @xmath20 is an sse lie groupoid .",
    "since the atlas is locally finite , the projection @xmath286 is finite to one .",
    "moreover , the induced map @xmath287 is a homeomorphism .",
    "hence @xmath20 is proper because @xmath164 is hausdorff .",
    "( see also  ( * ? ? ?",
    "* cor  2.11 ) . )",
    "hence @xmath20 is an ep groupoid .",
    "moerdijk  mrun prove that @xmath288 and @xmath20 are equivalent by looking at the corresponding groupoids of germs of diffeomorphisms .",
    "alternatively , define @xmath289 to be the refinement of @xmath288 with objects @xmath290 , where @xmath291 is large enough that the sets @xmath292 , cover @xmath164 . for",
    "each @xmath293 choose one of the corresponding local diffeomorphisms @xmath294 and call it @xmath295 .",
    "then define @xmath296 by setting @xmath297 where @xmath298 and @xmath299 .",
    "then @xmath135 is an equivalence , as required .",
    "[ rmk : nonred0 ] this lemma is false when @xmath7 is not effective . to see this ,",
    "let @xmath300 be the cyclic group @xmath301 and consider two groupoids @xmath302 both with objects @xmath303 .",
    "we assume in both cases that at all objects the stabilizer group is @xmath300 and that there are no other morphisms .",
    "this implies that @xmath87 .",
    "we define @xmath288 to be topologically trivial , with @xmath304 ( i.e. three copies of @xmath303 ) and @xmath87 equal to the projection @xmath305 . on the other hand , we define @xmath22 to be the disjoint union of two copies of @xmath303 . in this case , @xmath306 is the identity on one circle ( the one corresponding to the identity morphisms ) and is a double cover on the second .",
    "it is easy to check that these groupoids are not equivalent .",
    "( one way to see this is to notice that their classifying spaces is the realization of the nerve of the category , and is denoted @xmath307 in  @xcite . ]",
    "@xmath308 are not homotopy equivalent . )",
    "however they have the same local uniformizers over any proper open subset of @xmath303 .",
    "these groupoids @xmath302 are totally noneffective . according to henriques ",
    "metzler  @xcite , the best way to understand their structure is to think of them as a special kind of gerbe .",
    "[ ss : fnorb ] we now summarize known facts about homology and cobordism in the context of orbifolds , since we will later generalize them to the branched case . note first that if a compact space @xmath164 admits the structure of an oriented @xmath309-dimensional orbifold ( without boundary ) there is a distinguished @xmath309-dimensional cycle @xmath310 $ ] in the singular chain complex of @xmath164 that we will call the * fundamental cycle * of @xmath164 .",
    "one way to see this is to give @xmath164 an adapted triangulation as in moerdijk ",
    "pronk  @xcite .",
    "in such a triangulation the open simplices of dimensions @xmath309 and @xmath311 lie in the smooth is oriented its nonsmooth points have codimension at least @xmath90 since the fixed point submanifold of an orientation preserving linear transformation of @xmath5 has codimension at least @xmath90 . ]",
    "part @xmath312 of @xmath164 , and @xmath310 $ ] is represented by the sum of the @xmath309-simplices .",
    "another way to define @xmath310 $ ] is to interpret the inclusion @xmath313 as a pseudocycle : see schwarz  @xcite or zinger  @xcite .",
    "these definitions imply that the fundamental cycle of the orbit space @xmath38 of @xmath20 is the same as that of its reduction @xmath116 .",
    ", not the stringy cohomology defined by chen  ruan  @xcite ( cf also chen ",
    "hu  @xcite ) . ]",
    "a smooth map of an orbifold @xmath7 to a manifold @xmath314 is a map @xmath315 such that for one ( and hence every ) groupoid structure @xmath20 on @xmath7 the induced map @xmath316 is smooth . given two such maps @xmath317 , one can perturb @xmath318 to be transverse to @xmath319 .",
    "this means that there are adapted triangulations on @xmath320 that meet transversally .",
    "in particular , if @xmath164 and @xmath321 are oriented and have complementary dimensions , their images in @xmath314 intersect in smooth points and the intersection number @xmath322)\\cdot \\phi'_*([y'])$ ] is defined .",
    "further , if @xmath323 is a @xmath309-form on @xmath314 that is poincar dual to the class @xmath324)$ ] then @xmath325)\\cdot \\phi'_*([y ' ] ) = \\int_y\\phi^*({{\\alpha } } ) : =   \\int_{y^{sm } }   \\phi^*({{\\alpha}}).\\ ] ]    suppose now that @xmath326 is an ep groupoid in the category of oriented @xmath327-dimensional manifolds with boundary .",
    "then @xmath326 has a well defined boundary groupoid @xmath328 .",
    "if in addition @xmath329 is compact and connected , the fundamental cycle of @xmath329 generates @xmath330 .",
    "we may therefore make the usual definition of cobordism for orbifolds .",
    "we say that two @xmath309-dimensional oriented orbifolds @xmath331 are * cobordant * if there is a @xmath327-dimensional groupoid @xmath326 whose boundary @xmath328 is the union of two disjoint oriented groupoids @xmath332 , that represent @xmath333 respectively .",
    "( here @xmath334 denotes the groupoid formed from @xmath20 by reversing the orientation of @xmath21 . ) as usual , if there is a class @xmath335 whose restriction to @xmath336 is @xmath337 , where @xmath338 , then @xmath339 ) = { { \\alpha}}_2([y_2 ] ) .",
    "we saw in remark  [ rmk : i](ii ) above that the category of nonproper sse groupoids contains some rather strange objects , not just branched objects such as the teardrop but also groupoids that are not effective in which the trivially acting part @xmath340 of the stabilizer subgroups is not locally constant . in order to get a good class of branched groupoids that carries a fundamental cycle we need to impose a weighting condition and to ensure that the groupoids are built by assembling well behaved pieces called local branches .",
    "definition  [ def : brorb ] adapts salamon  ( * ? ? ?",
    "* def  5.6 ) to the present context ; it is also very close to the definition in cieliebak ",
    "mundet i riera ",
    "salamon  @xcite of a branched submanifold of euclidean space . for the sake of simplicity",
    ", we shall restrict to the nonsingular and oriented case .",
    "we shall use the concept of the * maximal hausdorff quotient * @xmath341 of a nonhausdorff topological space @xmath164 .",
    "this is a pair @xmath342 that satisfies the following conditions :    \\(i ) @xmath343 is a surjection and @xmath341 has the corresponding quotient topology ,    \\(ii ) @xmath341 is hausdorff ,    \\(iii ) any continuous surjection @xmath344 with hausdorff image factors through @xmath11 .",
    "[ le : maxh ] every topological space @xmath164 has a maximal hausdorff quotient @xmath342 .    to construct @xmath341 , denote by @xmath94 the set of all equivalence classes of pairs @xmath345 where @xmath346 is a hausdorff topological space and @xmath347 is a continuous surjection .",
    "( two such pairs are equivalent if there is a homeomorphism @xmath348 such that @xmath349 . )",
    "the product @xmath350 is hausdorff in the product topology and there is a continuous map @xmath351 .",
    "define @xmath352 with the subspace topology @xmath353",
    ". then conditions ( ii ) and ( iii ) above hold , and there is a continuous surjection @xmath343 . we must show that ( i ) holds , i.e. that @xmath353 coincides with the quotient topology @xmath354 . since the identity map @xmath355 is continuous , @xmath356 is hausdorff .",
    "therefore by ( iii ) , the map @xmath357 factors through @xmath358 .",
    "thus the identity map @xmath359 is also continuous ; in other words , the topologies @xmath353 and @xmath354 coincide .    if @xmath80 is a nonproper sse groupoid , then @xmath81 may not be hausdorff ; cf .",
    "lemma  [ le : haus ]",
    ". it will be useful to consider the hausdorff quotient @xmath360 . if @xmath80 is proper .",
    "] we shall denote by @xmath361 the projection @xmath362 and by @xmath363 the projection @xmath364 .",
    "further @xmath365 denotes the image of @xmath366 in @xmath360 .",
    "[ def : brorb ] a * weighted nonsingular branched groupoid * ( or * wnb groupoid * for short ) is a pair @xmath367 consisting of an oriented , nonsingular sse lie groupoid together with a weighting function @xmath368 that satisfies the following compatibility conditions . for each @xmath369",
    "there is an open neighborhood @xmath370 of @xmath185 in @xmath360 , a collection @xmath371 of disjoint open subsets of @xmath372 ( called * local branches * ) and a set of positive weights @xmath373 such that :    * ( covering ) * @xmath374 the projection latexmath:[$\\pi_{{\\mbox{\\it\\tiny h } } } : u_i\\to     closed subset of @xmath370 ; * ( weighting ) * for all @xmath376 , @xmath377 is the sum of the weights of the local branches whose image contains @xmath378 : @xmath379    the tuple @xmath380 is said to form a * local branching structure * at @xmath185 .",
    "sometimes we denote it by @xmath381 to emphasize the dependence on @xmath185 .",
    "@xmath80 is called * compact * if its hausdorff orbit space @xmath360 is compact .",
    "the points @xmath369 that have more than one inverse image in @xmath81 will be called * branch points*.        [ ex : brorb](i ) the groupoid @xmath80 of remark  [ rmk : i](i ) has a weighting in which @xmath382 on the image of @xmath383 $ ] in @xmath360 and @xmath384 on the rest of @xmath360 .",
    "there is one branch point at the image @xmath385 of @xmath84 , and the weighting condition implies that the weights satisfy kirchoff s law at this branch point .",
    "moreover we may take the local branches at @xmath385 to be the two components of @xmath386 each weighted by @xmath387 .",
    "similarly , the groupoid @xmath288 defined in example  [ ex : tear ] has a weighting function in which @xmath382 on the closure @xmath388 of @xmath389 and @xmath390 elsewhere on @xmath391 .",
    "the branch locus is formed by the boundary of @xmath389 .",
    "\\(ii ) if @xmath367 is compact and zero dimensional , then it is necessarily proper",
    ". hence @xmath392 consists of a finite number of equivalence classes @xmath185 of the relation @xmath393 , each with a label @xmath394 .",
    "since the morphisms in @xmath80 preserve orientation , all the points @xmath395 in the equivalence class @xmath185 have the same orientation .",
    "therefore , @xmath185 has a second label @xmath396 consisting of a sign @xmath397 that describes its orientation . and",
    " [ ss : euler ] . ]    thus the * number of points * in @xmath80 may be defined as @xmath398 .",
    "\\(iii ) in both of the above cases @xmath399 is induced by a weighting function @xmath400 defined on the components of @xmath386 . however , there are wnb groupoids for which such a function @xmath400 is not uniquely defined by @xmath399 : see remark  [ rmk : brorb0 ] ( ii ) .",
    "the following remark explains some of the technicalities of the above definition .",
    "[ rmk : brorb ] ( i ) the local branches usually do not comprise the whole of the inverse image of @xmath401 , but it is important that they map onto the full inverse image of @xmath370 in @xmath81 .",
    "this condition , together with the fact that each branch injects into @xmath360 , implies that the projection @xmath362 is finite - to - one .",
    "\\(ii ) the local regularity condition rules out the trivial example of an arbitrary nonsingular sse groupoid @xmath80 with connected object space @xmath386 ( weighted by @xmath84 ) and with @xmath402 .",
    "note that requiring the @xmath218 to inject into @xmath360 is considerably stronger than requiring that they inject into @xmath81 .",
    "for example , consider the groupoid @xmath403 in which @xmath386 is the disjoint union of two copies @xmath404 of @xmath405 and the nonidentity morphisms consist of two components each diffeomorphic to the open unit disc @xmath406 in @xmath407 , one corresponding to a smooth embedding @xmath318 of @xmath406 onto a precompact subset of @xmath408 and the other corresponding to @xmath409 .",
    "this groupoid can be weighted by setting @xmath410 if @xmath411 intersects both @xmath407 and @xmath408 and @xmath384 otherwise .",
    "taking @xmath412 with local branches @xmath404 one finds that all the other conditions of definition  [ def : brorb ] are satisfied",
    ". however the map @xmath413 is injective iff @xmath318 extends to a homeomorphism of the closure @xmath414 onto its image in @xmath408 . in this example , because @xmath415 is precompact , it is enough to assume only the injectivity of @xmath413 .",
    "however , in general , to avoid pathologies we must assume that this map is a homeomorphism onto its image .",
    "\\(iii ) the other part of regularity is that the branches have closed image in @xmath370 .",
    "this is an essential ingredient of the proof of lemma  [ le : brstr ] and of the proof in proposition  [ prop : approx ] that @xmath399 is continuous on a dense open subset of @xmath360 . to see it at work ,",
    "consider the groupoid @xmath80 whose objects are the disjoint union of the plane @xmath405 and the unit disc ( each weighted by @xmath416 ) with two components of nonidentity morphisms given by the inclusion @xmath417 and its inverse",
    ". then @xmath418 and all conditions except for properness are satisfied if we set @xmath382 on @xmath419 and @xmath384 elsewhere .",
    "since @xmath80 does not accord with our intuitive idea of a branched manifold ( for example , if compactified to @xmath420 it does not carry a fundamental class ) , it is important to rule it out .",
    "\\(iv ) because we do not require the local branches to be connected , local branching structures @xmath421 behave well under restriction of @xmath370 : if @xmath422 is a local branching structure at @xmath185 then , for any other neighborhood @xmath423 of @xmath185 , the sets @xmath424 are the local branches of a branching structure over @xmath425 .",
    "thus each point in @xmath360 has a neighborhood basis consisting of sets that support a local branching structure .",
    "note also that , because @xmath426 is assumed closed in @xmath370 , @xmath218 is closed in @xmath401 and so is a union of components of @xmath401 .",
    "\\(v ) we have chosen to impose rather few regularity conditions in order to make the definition of a wnb groupoid as simple and general as possible . however , in order for the quotient space @xmath360 to have a reasonable smooth structure ( so that , for instance , one can integrate over it ) one needs more control over the morphisms ; cf .",
    "the tameness conditions of definition  [ def : tame ] .",
    "we now explain the structure of the hausdorff quotient @xmath360 for wnb groupoids . for general spaces",
    "@xmath164 it seems very hard to give a constructive definition of its maximal hausdorff quotient @xmath341 .",
    "however , the covering and local regularity conditions are so strong that the quotient map @xmath364 has the following explicit description .",
    "we define @xmath427 to be the equivalence relation on @xmath386 generated by setting @xmath428 if @xmath429 do not have disjoint open neighborhoods in @xmath81 .",
    "in particular , if @xmath39 ( i.e. @xmath430 ) then @xmath431 .    [",
    "le : approx ] let @xmath432 be a wnb groupoid .",
    "then the fibers of @xmath433 are the equivalence classes of @xmath434 .",
    "since @xmath360 is hausdorff , any two points in @xmath81 that do not have disjoint neighborhoods must have the same image in @xmath360 .",
    "hence the equivalence classes of @xmath427 are contained in the fibers of @xmath363 .",
    "therefore there is a continuous surjection @xmath435 , where @xmath436 denotes the quotient of @xmath386 by the relation @xmath427 , and it suffices to show that @xmath436 is hausdorff . because of the covering property of the local branches , it suffices to work locally in subsets @xmath437 of @xmath386 of the form @xmath438 , where @xmath421 is a local branching structure .",
    "we show below that for each such @xmath437 , the quotient @xmath439 is hausdorff .",
    "this will complete the proof .",
    "consider any pair of distinct local branches @xmath440 and the set @xmath441 of morphisms from @xmath218 to @xmath242 .",
    "since @xmath440 inject into @xmath81 both maps @xmath442 are injective and hence are diffeomorphisms onto their images . call these @xmath443 and @xmath444 .",
    "denote by @xmath445 the closure of @xmath446 in @xmath218 .",
    "since @xmath447 is relatively closed in @xmath448 is contained in @xmath447 . hence , because @xmath363 is a homeomorphism on each @xmath218 , the diffeomorphism @xmath449 extends to a homeomorphism @xmath450 .",
    "define the @xmath451 branch set as @xmath452 then @xmath453 is closed in @xmath218 .",
    "further there is a homeomorphism @xmath454 .",
    "now observe that if @xmath455 then there is a unique @xmath456 such that @xmath457 , namely @xmath458 .",
    "conversely , if @xmath282 and @xmath457 then either @xmath459 or there are convergent sequences @xmath460 with limits @xmath461 such that @xmath462 .",
    "the morphism @xmath45 from @xmath463 to @xmath28 extends to a neighborhood of @xmath463 and so transports ( the tail of ) the sequence @xmath464 to a sequence @xmath465 that converges to @xmath28 .",
    "similarly , we may suppose that @xmath466 .",
    "hence @xmath467 .",
    "let us write in this case that @xmath468 .",
    "the equivalence relation @xmath427 therefore has the following description on @xmath437 .",
    "given @xmath469 , @xmath470 iff either @xmath471 or there is a finite sequence @xmath472 of indices ( with @xmath473 ) and elements @xmath474 for @xmath475 such that @xmath476 note that we may assume that all the indices in this chain are different .",
    "for , because the maps @xmath477 are injective and constant on equivalence classes , if @xmath478 for some @xmath479 then @xmath480 so that the intermediate portion of the chain can be omitted .",
    "it follows that the number of nonempty chains of this form is bounded by a number depending only on @xmath284 , the number of local branches .",
    "moreover , for each such chain @xmath481 the map that takes its initial point to its endpoint is a homeomorphism @xmath482 from a subset @xmath483 to a subset @xmath484 , where @xmath485 is the restriction of @xmath486 .",
    "note that @xmath487 and @xmath488 are closed in @xmath489 and @xmath490 respectively .",
    "for each @xmath491 , let @xmath492 be the set of chains from @xmath493 to @xmath105 , and consider the set @xmath494 of all points in @xmath218 that are equivalent to a point in @xmath495 .",
    "the above remarks imply that this is closed in @xmath218 .",
    "we now return to the quotient @xmath439 . to see this is hausdorff , note first that each equivalence class @xmath496 contains at most one element from each @xmath218 .",
    "hence we may write @xmath497 , where @xmath498 and @xmath499",
    ". suppose that @xmath500 .",
    "then @xmath501 for all @xmath493 .",
    "we construct disjoint @xmath427-saturated - saturated if it is a union of equivalence classes . ]",
    "neighborhoods @xmath502 as follows .",
    "suppose first that @xmath503 by renumbering we may suppose that @xmath504 . choose disjoint open neighborhoods @xmath505 of @xmath506 in @xmath507 and define @xmath508 to be their saturations under @xmath427",
    ". then @xmath509 . to see this note that any point @xmath510 is equivalent to some point in @xmath511 and some point in @xmath512 .",
    "since @xmath262 is equivalent to at most one point in @xmath507 this implies that @xmath513 , a contradiction .",
    "we now enlarge @xmath508 to make them open . to this end , consider the smallest integer @xmath493 such that either @xmath514 or @xmath515 is not open .",
    "then @xmath516 by construction , and for every @xmath517 the disjoint sets @xmath518 , @xmath519 are relatively open in the closed set @xmath520",
    ". therefore we may construct open disjoint neighborhoods @xmath521 of @xmath514 and @xmath522 of @xmath515 by adding points in @xmath523 .",
    "now consider the sets @xmath524 and @xmath525 , where @xmath526 denotes the saturation of @xmath94 .",
    "these sets are disjoint as before . moreover , their intersections with the @xmath527 are open .",
    "hence after a finite number of similar steps we find suitable disjoint open @xmath528 and @xmath529 .",
    "next suppose that @xmath530 and @xmath531 are disjoint . if @xmath532 then @xmath533 for any @xmath534 .",
    "therefore the set @xmath535 is an open neighborhood of @xmath496 in @xmath536 .",
    "since @xmath537 is saturated under @xmath427 by construction , it projects to an open neighborhood of @xmath496 in @xmath439 .",
    "finally note that @xmath537 is disjoint from the similarly defined open set @xmath538 this completes the proof .",
    "[ prop : approx ] ( i ) for all @xmath369 , any open neighborhood in @xmath81 of the fiber over @xmath185 contains a saturated open neighborhood @xmath329 .",
    "\\(ii ) @xmath360 is second countable and locally compact .",
    "\\(iii ) the branch points form a closed and nowhere dense subset of @xmath360 .",
    "\\(iv ) the weighting function @xmath399 is locally constant except possibly at branch points .    to prove ( i ) let @xmath539 be a local branching structure at @xmath185 , and @xmath540 be any open neighborhood of the fiber at @xmath185 .",
    "then @xmath541 is open in @xmath221 .",
    "if @xmath542 denotes the corresponding open subset of @xmath218 , the set @xmath543 satisfies the requirements .",
    "each open set @xmath370 that supports a local branching structure is a finite union of locally compact closed sets @xmath426 , and hence is locally compact .",
    "moreover , the @xmath426 are second countable in the induced topology .",
    "hence so is @xmath370 .",
    "since we assumed @xmath386 has a countable dense subset , the same is true for @xmath360 .",
    "therefore , @xmath360 is the union of countable many open sets @xmath544 and so is itself second countable .",
    "this proves ( ii ) .",
    "denote by @xmath545 the set of branch points in @xmath360 . to prove ( iii )",
    "it suffices to show that for any @xmath370 as above the intersection @xmath546 is closed and nowhere dense in @xmath370 .",
    "it follows from the proof of lemma  [ le : approx ] that @xmath547 we saw earlier that for each @xmath493 the set of branch points @xmath548 in @xmath218 is relatively closed .",
    "it is nowhere dense by construction .",
    "since @xmath426 is closed in @xmath370 , and @xmath218 is homeomorphic to @xmath426 , @xmath549 is closed in @xmath370 for all @xmath493 .",
    "since there are a finite number of local branches , ( iii ) holds .",
    "consider @xmath550 , the set of points in @xmath81 on which @xmath361 is not injective , and denote by @xmath551 the open set @xmath552 .",
    "( iv ) will follow if we show that for each connected component @xmath553 of @xmath554 and each local branch @xmath218 over @xmath370 either @xmath555 or @xmath556 .",
    "but @xmath221 is open in @xmath551 by lemma  [ le : haus ] .",
    "its intersection with @xmath554 is also closed since it is the inverse image of the relatively closed subset @xmath557 of @xmath554 .",
    "hence @xmath558 is a union of components of @xmath554 , as required .",
    "there are two useful kinds of functors for wnb groupoids , those that induce homeomorphisms on the orbit space @xmath360 and those that simply induce surjections on the orbit space . in the first case we require",
    "@xmath399 to be preserved while in the second we expect the induced map @xmath559 to push @xmath560 forward to @xmath399 .",
    "in other words we expect the identity @xmath561 to hold at all points @xmath369 .",
    "[ def : brref ] let @xmath367 and @xmath562 be wnb groupoids .",
    "a refinement @xmath563 is said to be * weighted * if @xmath564 .",
    "a smooth functor @xmath563 is said to be a * layered covering * if    * ( covering ) * @xmath135 is a local diffeomorphism on objects and induces a surjection @xmath565 ,    * ( properness ) * the induced map @xmath566 is proper .",
    "* ( weighting ) * @xmath567 .",
    "two wnb groupoids are * equivalent * if they have a common weighted refinement .",
    "they are * commensurate * if they have a common layered covering .",
    "finally , two compact wnb groupoids @xmath432 and @xmath562 ( without boundary ) are * cobordant * if there is a compact @xmath327-dimensional wnb groupoid with boundary @xmath568 .",
    "has @xmath402 , the values of @xmath560 are marked.,width=384 ]    [ rmk : brorb0 ] ( i ) any wnb groupoid @xmath367 is equivalent to a wnb groupoid @xmath562 in which all local branches needed to describe its branching structure are unions of components of @xmath569 . to see this ,",
    "choose a locally finite cover @xmath570 of @xmath360 by sets that support local branching structures and let @xmath571 , be the corresponding set of local branches . then define @xmath572 to be the refinement of @xmath80 with objects @xmath573 as in remark  [ rmk : refin ] .",
    "then @xmath574 and @xmath575 , and so we may define @xmath576 .",
    "\\(ii ) the condition that @xmath577 is surjective does not follow from the other conditions for a layered covering . consider for example the wnb groupoid @xmath578 with objects two copies of @xmath303 and morphisms @xmath579 , where @xmath580 identifies one circle with the other except over @xmath581 and @xmath582 .",
    "then @xmath583 and we give it weight @xmath402 .",
    "the functor @xmath584 that identifies both copies of @xmath303 to the same component of @xmath585 satisfies all conditions for a layered covering except that the induced map @xmath586 is not surjective .",
    "this wnb groupoid also illustrates the fact that the local weights @xmath587 on the local branches @xmath218 need not be uniquely determined by @xmath399 , and hence that @xmath399 may not lift to a well defined function on @xmath588 .",
    "\\(iii ) if @xmath135 is a layered covering then although the induced map @xmath565 is surjective , the induced map on objects need not be surjective . also , the properness requirement is important . otherwise , given any wnb groupoid @xmath432 define @xmath562 as in ( i ) above and then consider @xmath589 , where @xmath590 has the same objects as @xmath572 but only identity morphisms .",
    "then @xmath591 and we may define @xmath592 on @xmath593 .",
    "the inclusion @xmath594 satisfies all the conditions for a layered covering except for properness .",
    "since we want commensurate wnb groupoids to have the same fundamental class , we can not allow this behavior .",
    "our next aim is to show that layered coverings have the expected functorial properties . in particular , commensurability is an equivalence relation .",
    "for this we need some preparatory lemmas .",
    "we shall say that a local branching structure @xmath595 at @xmath185 is * minimal * if the fiber @xmath596 over @xmath185 is a collection of distinct points @xmath597 , where @xmath498 .",
    "thus in this case there is a bijective correspondence between the local branches and the points of the fiber .",
    "let @xmath367 be a wnb groupoid .",
    "then every point @xmath369 has a minimal local branching structure .",
    "choose any local branching structure @xmath421 at @xmath185 .",
    "for each point @xmath598 , let @xmath599 be the set of indices @xmath493 such that @xmath600 .",
    "for each such @xmath323 , choose one element @xmath601 , and define @xmath602 each @xmath603 is open .",
    "hence @xmath604 is an open neighborhood of the fiber @xmath605 and so by proposition  [ prop : approx ] it contains a saturated open neighborhood @xmath606 .",
    "define @xmath607 .",
    "then @xmath608 is a minimal local branching structure at @xmath185 .",
    "we shall say that two ( possibly disconnected ) open subsets @xmath609 of the space of objects @xmath21 of an sse groupoid @xmath20 are @xmath20-*diffeomorphic * if there is a subset @xmath610 of @xmath611 such that the maps @xmath612 and @xmath613 are both diffeomorphisms .",
    "in this situation we also say that there is a diffeomorphism @xmath614 in @xmath20 .",
    "if the @xmath218 both inject into @xmath38 , there is such @xmath318 iff @xmath615 suppose that @xmath616 is a layered covering .",
    "let @xmath369 and denote the points in @xmath617 by @xmath618 .",
    "then there are minimal local branching structures @xmath619 that are compatible in the sense that each @xmath620 is @xmath80-diffeomorphic to some local branch @xmath621 .",
    "moreover @xmath621 is unique .",
    ". choose minimal local branching structures @xmath623 at @xmath185 and @xmath624 at @xmath625 for @xmath626 .",
    "since @xmath627 is hausdorff , we may suppose that the @xmath628 are pairwise disjoint .",
    "moreover , because @xmath629 is proper , the union @xmath630 is a neighborhood of @xmath185 in @xmath360 .",
    "( otherwise , there would be a sequence of points @xmath631 lying outside @xmath632 but such that @xmath633 converges to @xmath185 , which contradicts properness . )",
    "fix @xmath323 , and for each @xmath634 denote by @xmath635 the point in @xmath636 that projects to @xmath625 ; this exists by minimality .",
    "since @xmath637 , for each branch @xmath636 there is a morphism @xmath638 with source @xmath639 and target in some local branch , say @xmath640 , at @xmath185 . by minimality at @xmath185 ,",
    "the index @xmath641 is unique .",
    "this morphism extends to a diffeomorphism @xmath642 from an open subset @xmath643 of @xmath620 onto an open subset @xmath644 of @xmath621 . since @xmath645 is a neighborhood in @xmath646 of the fiber over @xmath625 , so is the open set @xmath647 .",
    "hence , by proposition  [ prop : approx](i ) , there is an open neighborhood @xmath648 of @xmath625 such that @xmath649 . by shrinking the sets @xmath650",
    "we may therefore suppose that @xmath651 , i.e. that @xmath652 is a local branching structure at @xmath625 .",
    "we also shrink the @xmath653 so that they remain @xmath80-diffeomorphic to the sets @xmath643 , @xmath654 .",
    "now observe that because @xmath655 is surjective , latexmath:[\\[(|\\pi|_{{\\mbox{\\it\\tiny h}}})^{-1}(p)\\;\\;\\subset\\;\\ ; |w| : =   \\bigcap_{{{\\alpha}},\\;j\\in j_{{\\alpha } } }    @xmath329 is open since both @xmath135 and the map @xmath657 are open .",
    "hence it contains a set of the form @xmath658 for some neighborhood @xmath659 of @xmath185 . shrinking the sets @xmath648 and @xmath650 further as necessary",
    ", we may suppose that @xmath660 . then the local branching structures @xmath652 and @xmath661 satisfy all requirements .",
    "[ prop : commen ] let @xmath662 be wnb groupoids . then :    \\(i ) if @xmath616 and @xmath663 are layered coverings so is the composite @xmath664 .",
    "\\(ii ) if @xmath616 and @xmath665 are layered coverings , the ( weak ) fiber product @xmath666 of @xmath667 and @xmath578 over @xmath80 is a wnb groupoid and the induced functors @xmath668 are layered coverings .",
    "\\(iii ) any two compact and commensurate wnb groupoids are cobordant through a wnb groupoid .",
    "the proof of ( i ) is straightforward , and is left to the reader . as for (",
    "ii ) , observe first that @xmath288 is a nonsingular sse lie groupoid with objects @xmath263 contained in the product @xmath669 .",
    "is nonsingular , we may identify @xmath263 with the strict fiber product @xmath670 .",
    "however , later on we will apply this construction to certain nonsingular @xmath80 , and so it is convenient to retain more general language here . ] the orbit space @xmath671 is the ( strict ) fiber product @xmath672 .",
    "it follows easily that @xmath391 is the fiber product @xmath673 , since the latter space has the requisite universal property .",
    "hence @xmath674 observe that the projections of @xmath391 to @xmath627 and @xmath675 push @xmath676 forward to @xmath677 and @xmath678 respectively .",
    "hence ( ii ) will follow once we show that @xmath288 has the requisite local branching structures .    given @xmath679 ,",
    "let @xmath680 .",
    "applying lemma  [ le : brstr ] first to @xmath681 and then to @xmath682 and then restricting as in remark  [ rmk : brorb](iv ) , we can find minimal local branching structures @xmath683 , @xmath684 and @xmath623 satisfying the following compatibility conditions : for each @xmath685 there are unique @xmath686 and local diffeomorphisms @xmath687 in @xmath80 such that @xmath688    we now show that there is a local branching structure over @xmath689 . by minimality , for each point @xmath690 , there is a unique pair of local branches @xmath691 such that @xmath692 .",
    "since @xmath693 , the corresponding indices @xmath686 coincide .",
    "hence there is an open set @xmath694 it remains to observe that the collection of all such sets , with weights @xmath695 forms a local branching structure over @xmath261 .",
    "this proves ( ii ) .    to prove ( iii )",
    ", it suffices by ( ii ) to consider the case when there is a layered covering @xmath696 .",
    "define @xmath326 by setting @xmath697 $ ] and @xmath698\\bigr)\\;\\sqcup \\;\\bigl((b_0')_\\pm\\times ( 1/4,3/4)\\bigr),\\ ] ] where @xmath699 denotes a morphism from @xmath700 to @xmath701 and @xmath702 is its inverse .",
    "the nonsingularity of @xmath703 implies that @xmath326 is a nonsingular groupoid in the category of oriented manifolds with boundary .",
    "in fact , its boundary @xmath328 projects to @xmath704 under the obvious projection @xmath705 , where @xmath706 is the category with objects @xmath707 $ ] and only identity morphisms . further @xmath328",
    "may obviously be identified with @xmath708 .",
    "therefore @xmath326 is a cobordism from @xmath572 to @xmath80 .",
    "it remains to check that @xmath326 is a wnb groupoid . since @xmath709\\bigr),\\ ] ] we define @xmath710 to be the pullback of @xmath711 on @xmath712 and the pullback of @xmath713 on @xmath714 $ ] .",
    "it is obvious that @xmath715 has local branching structures at all points of @xmath716 except possibly for @xmath717 . but here one constructs suitable local branches as in the proof of ( ii ) , using lemma  [ le : brstr ] as before .",
    "[ def : brman ] a * branched manifold structure * on a topological space @xmath718 consists of a wnb groupoid @xmath367 together with a homeomorphism @xmath719 .",
    "two such structures @xmath720 and @xmath721 are * equivalent * if they have a common weighted equivalence , i.e. if there is a third structure @xmath722 and weighted equivalences @xmath723 such that @xmath724 .",
    "a * branched manifold * @xmath725 is a pair , consisting of topological space @xmath718 together with a function @xmath726 , in which @xmath718 is equipped with an equivalence class of branched manifold structures that induce the function @xmath676 .",
    "two @xmath309-dimensional branched manifolds @xmath725 and @xmath727 are * commensurate * if they have commensurate branched manifold structures .",
    "they are * cobordant * if there is a @xmath327-dimensional branched manifold @xmath728 in the category of smooth manifolds with boundary whose ( oriented ) boundary decomposes into the disjoint union @xmath729 .",
    "proposition  [ prop : commen ] implies that if @xmath725 and @xmath727 are commensurate any pair of branched manifold structures on them have a common layered covering .",
    "further any pair of commensurate branched manifolds are cobordant via a branched manifold .",
    "we now consider maps from branched manifolds to orbifolds .",
    "these are induced by smooth functors @xmath730 where @xmath20 is an ep groupoid .",
    "it is convenient to consider @xmath20 as a weighted but _ singular _ branched groupoid with weighting function that is identically equal to @xmath84 . in this case",
    "@xmath731 and every point @xmath185 has a local branch structure with one branch , namely any open set containing a point @xmath65 .",
    "this groupoid satisfies all conditions of definition  [ def : brorb ] , except that it is singular and the local branches do not inject into @xmath38 .",
    "the following definition is motivated by the example of the inclusion @xmath732 of example  [ ex : tear ] , where @xmath20 is the teardrop groupoid and @xmath733 is as in example  [ ex : brorb](i ) .",
    "we want to consider this as some kind of equivalence , but note that @xmath135 does not push @xmath676 forward to @xmath734 at all points .",
    "rather @xmath735 except at the singular point of @xmath38 where it equals @xmath212 .",
    "the fact that this is the unique nonsmooth point in the sense of definition  [ def : sm ] motivates the following definition .",
    "[ def251 ] let @xmath432 be a wnb groupoid and @xmath20 an ep groupoid .",
    "a functor @xmath730 is said to be a * resolution * of @xmath20 if the following conditions hold :    * ( covering ) * @xmath135 is a local diffeomorphism on objects ,    * ( properness ) * the induced map @xmath736 is proper .",
    "* ( weighting ) * @xmath737 at all smooth points of @xmath38 .",
    "similarly , a map @xmath738 from a branched manifold to an orbifold is called a * resolution of @xmath739 * if it is induced by a resolution @xmath740 where @xmath741 is a branched manifold structure on @xmath742 and @xmath743 is an orbifold structure on @xmath739 . here",
    "we require that the diagram @xmath744 commute .",
    "note that for any resolution @xmath745 the induced map @xmath746 is surjective ; its image is closed by the properness assumption , and is dense by the weighting property and the fact that the smooth points are dense in @xmath38 .",
    "moreover , the following analog of lemma  [ le : brstr ] holds .",
    "[ le : brstr1 ] for any resolution @xmath745 each @xmath35 has a neighborhood @xmath142 that is evenly covered by @xmath135 in the sense that for all @xmath747 there are local branching structures @xmath748 at @xmath625 such that @xmath749 for all @xmath750 .",
    "moreover each set @xmath620 is @xmath20-diffeomorphic to @xmath142 .",
    "since @xmath751 is proper , it is finite to one , and also open ( because @xmath38 is locally compact and normal ) . in particular",
    ", there are a finite number of points @xmath625 . for",
    "each @xmath625 choose @xmath648 so that it supports a local branching structure at @xmath625 .",
    "choose a connected neighborhood @xmath142 of @xmath28 so that @xmath752 , and then define @xmath753",
    ". then @xmath754 is closed in @xmath755 since @xmath756 is closed in @xmath628 and @xmath629 is proper .",
    "but @xmath754 is also open in @xmath755 , since it is the image of @xmath636 under the composite of the two open maps @xmath757 and @xmath57 .",
    "hence @xmath758 since @xmath755 is connected .",
    "this proves the first statement .",
    "since there are only finitely many pairs @xmath759 and @xmath20 is sse , one can now restrict @xmath142 further so that the second statement holds .",
    "[ le : comm ] ( i ) if @xmath760 and @xmath761 are resolutions of the ep groupoid @xmath20 then the ( weak ) fiber product @xmath762 of @xmath667 and @xmath578 over @xmath20 may be given the structure of a wnb groupoid , and the induced functors @xmath668 are layered coverings .",
    "\\(ii ) if @xmath745 is a resolution and @xmath763 is an equivalence then @xmath764 is a wnb groupoid .",
    "moreover the induced functor @xmath765 is a resolution , while @xmath766 is an equivalence .",
    "the proof of ( i ) is very similar to that of proposition  [ prop : commen ] ( ii ) , using lemma  [ le : brstr1 ] instead of lemma  [ le : brstr ] .",
    "its details will be left to the reader .    to see that @xmath572 in ( ii ) is a wnb groupoid one need only choose the set @xmath142 of lemma  [ le : brstr1 ] so small that it is @xmath20-diffeomorphic to a subset of @xmath767 .",
    "then it can be lifted into @xmath137 , and the rest of the proof is clear .",
    "note that the diagram @xmath768 considered in lemma  [ le : comm](ii ) does _ not _ in general commute strictly , but only up to homotopy \" .",
    "in particular , the map @xmath769 is always surjective , while @xmath757 may not be ; cf .",
    "remark  [ rmk : multi](i ) .",
    "the following result restates the main assertion of theorem  [ thm ] .",
    "[ prop : resol ] every ep groupoid @xmath20 has a resolution that is is unique up to commensurability and hence up to cobordism .",
    "the uniqueness statement follows immediately from lemma  [ le : comm ] and proposition  [ prop : commen ] .",
    "we give two proofs of the existence statement in  [ sec : resol ] .",
    "the first gives considerable control over the branching structure of the resolution , while the second , which constructs the resolution as a multisection of a bundle @xmath770 , is perhaps more direct .",
    "however , it gives a resolution as defined above only when @xmath20 acts effectively on @xmath771 .",
    "[ rmk : nonred]one might argue that the above definition of resolution is not the most appropriate for groupoids that are not effective ; cf .",
    "the example in remark  [ rmk : resol ] ( ii ) .",
    "we are mostly interested in resolutions because they give easily understood representatives for the fundamental class of an orbifold .",
    "but we have defined the fundamental class of @xmath20 so that it is the same as that of @xmath116 ; see  [ ss : fnorb ] .",
    "therefore we could define a resolution of @xmath20 simply to be a resolution @xmath772 of @xmath116 .",
    "the information about the trivially acting part @xmath340 of the stabilizer groups @xmath95 of @xmath20 would then be recorded in the ( strict ) pullback , but this is somewhat larger . ]",
    "@xmath773 of the fibration @xmath774 by @xmath135 . here",
    "@xmath572 has the same objects , orbit space and weighting function as @xmath80 .",
    "but the morphisms in @xmath572 from @xmath28 to @xmath29 equal the set @xmath775 if there is a morphism in @xmath80 from @xmath28 to @xmath29 , and equal the empty set otherwise . if composition is defined by pull back from @xmath20 , one readily checks that @xmath572 is a groupoid . since the morphisms in @xmath572 act trivially on the objects , one can easily extend the definition of wnb groupoid to include this case .",
    "hence @xmath773 may also be considered as a kind of resolution of @xmath20 .",
    "we now show that each compact branched manifold @xmath742 of dimension @xmath309 carries a fundamental class @xmath1\\in h_d(z,{{\\mathbb r}})$ ] which is compatible with resolutions ; that is , if @xmath776 is any resolution , then @xmath777 ) = [ y]$ ] , where @xmath310 $ ] is the fundamental class of the orbifold @xmath7 discussed in ",
    "[ ss : fnorb ]",
    ". we shall define @xmath1 $ ] as a singular cycle using triangulation , but also show in proposition  [ prop : fclass ] that in nice \"",
    "( i.e. tame ) cases , one can integrate over @xmath1 $ ] . in order to construct a suitable integration theory we shall need to consider smooth partitions of unity .",
    "[ def : smooth ] let @xmath742 be a branched manifold and @xmath314 a smooth manifold .",
    "a map @xmath778 is smooth iff for one ( and hence any ) branched manifold structure @xmath779 on @xmath0 the composite @xmath780 is smooth .",
    "this is equivalent to saying that @xmath781 is induced by a smooth functor @xmath782 , where @xmath783 is the category with objects @xmath314 and only identity morphisms .",
    "a * smooth partition of unity subordinate to the covering * @xmath784 of @xmath718 is a family @xmath785 of smooth functions @xmath786 such that    \\(i ) @xmath787 for all @xmath105 ,    \\(ii ) for each @xmath788 only finitely many of the @xmath789 are nonzero , and    \\(iii ) @xmath790 .",
    "the above smoothness condition is quite strong .",
    "for example , if @xmath791 in the example of remark  [ rmk : brorb](ii ) does not extend to a smooth function near @xmath792 , there is no smooth function @xmath793 that is injective over the image of @xmath407 .",
    "we shall deal with these problems by introducing the notion of tameness .",
    "let @xmath794 be a precompact open subset of @xmath795 .",
    "it is said to have * piecewise smooth boundary * if for every @xmath796 there is a neighborhood @xmath48 of @xmath28 and smooth functions @xmath797 such that    \\(i ) @xmath798 for all @xmath799 ;    \\(ii ) @xmath800 for at least one @xmath493 ;    \\(iii ) let @xmath796 and write @xmath801 .",
    "then the set of vectors @xmath802 is linearly independent .",
    "moreover , @xmath794 is said to have * piecewise smooth boundary * over an open set @xmath803 if the above conditions hold for every @xmath804 .",
    "note the following facts about domains @xmath794 with piecewise smooth boundary .",
    "@xmath41 any smooth function defined on the closure @xmath805 has a smooth extension to @xmath795 ;    @xmath41 the boundary @xmath806 has zero measure ;    @xmath41 the intersection @xmath807 of a generic finite collection @xmath808 of such domains also has piecewise smooth boundary .",
    "more precisely , suppose that each @xmath809 is contained in the interior of the ball @xmath810 of radius @xmath811 .",
    "then the set of diffeomorphisms @xmath812 of @xmath810 such that @xmath813 has piecewise smooth boundary has second category in the group @xmath814 .",
    "sets @xmath808 with this property will be said to be in * general position * or to * intersect transversally*.    [ def : tame ] a @xmath309-dimensional wnb groupoid @xmath815 is said to be * tame * iff if it has local branching structures @xmath816 such that the following conditions are satisfied .",
    "\\(i ) @xmath817 .",
    "\\(ii ) for each local branch @xmath818 there is an injective smooth map @xmath819 onto the interior of a compact domain @xmath820 in @xmath795 with piecewise smooth boundary such that the composite @xmath821 extends to an injection @xmath822 the set @xmath823 has piecewise smooth boundary and the transition map @xmath824 extends smoothly to a local diffeomorphism defined on a neighborhood of this set .",
    "if @xmath80 is a groupoid in the category of manifolds with boundary we replace @xmath795 in the above by the half space @xmath825 and require that all sets meet @xmath826 transversally .",
    "the main point of this definition is to ensure that that the branch locus is piecewise smooth and hence has zero measure .",
    "[ le : tame0 ] every weighted refinement of a tame wnb groupoid may be further refined to be tame .",
    "suppose that @xmath367 is tame . since @xmath360 is unchanged under refinement , the branching locus of any refinement @xmath827 is piecewise smooth .",
    "if we use the pullback local branching structures on @xmath572 , then the taming condition ( ii ) may not be preserved because it concerns the objects rather than the morphisms of @xmath572 .",
    "nevertheless it is easy to see that there is a further refinement @xmath828 for which it holds .",
    "then ( iii ) also holds .    in view of the above lemma",
    ", we shall say that the * branched manifold @xmath829 is tame * if its structure may be represented by a tame wnb groupoid .    in the following lemma we write @xmath830 to mean that the closure @xmath831 of @xmath19 is contained in @xmath142 .",
    "[ le : tame ] every wnb groupoid @xmath832 has a layered covering that is tame .",
    "choose a locally finite cover of @xmath360 by sets @xmath833 , as in definition  [ def : brorb ] .",
    "for each @xmath105 let @xmath834 be the corresponding local branches .",
    "without loss of generality we may suppose that each local branch @xmath818 is identified with a subset of @xmath795 . since @xmath360 is normal we may choose open subsets @xmath835 of @xmath836 such that the @xmath837 cover @xmath360 and @xmath838 since @xmath839 is a homeomorphism for each @xmath493 , it follows that @xmath840    we now construct a sequence of commensurate wnb groupoids @xmath841 and sets @xmath842 such that , for all @xmath843 , @xmath844 is tame over @xmath845 and also @xmath846 over @xmath847",
    ". then @xmath848 will be the desired tame groupoid .",
    "( we weight all these groupoids by pulling back @xmath849 .",
    "further to say that @xmath844 is tame over @xmath850 means that its full subcategory with objects in @xmath851 is tame . )",
    "we define @xmath852 to be the full subcategory of @xmath80 with objects @xmath853 because the sets @xmath854 cover @xmath360 , the inclusion @xmath855 is a weighted equivalence .",
    "the next step is to correct the morphisms over @xmath856 .",
    "let @xmath857 order the sets in @xmath858 by inclusion .",
    "starting with a maximal @xmath859 and then working down , choose sets @xmath860 satisfying the following conditions for all @xmath861 :    @xmath41 @xmath862 ;    @xmath41 @xmath863 ;    @xmath41 for one ( and hence every ) @xmath864 the subset @xmath865 of @xmath866 has piecewise smooth boundary over @xmath867 .",
    "@xmath41 @xmath868 for all @xmath493 .    for all @xmath869 and @xmath870 set @xmath871 .",
    "then define @xmath872 to be the subcategory of @xmath852 with the same objects , labelled for convenience as @xmath873 instead of @xmath818 , and with morphisms determined by the identities @xmath874 then @xmath872 is a wnb groupoid commensurate to @xmath852 .",
    "( note that the inclusion @xmath875 is proper because we did not change the morphisms near the boundary @xmath876 . )",
    "now choose @xmath877 so that @xmath878 and so that for each @xmath879 its pullback @xmath880 has piecewise smooth boundary and is transverse to the sets @xmath881 for all @xmath859 .",
    "then , @xmath872 is tame over @xmath877 .",
    "we next repeat this cleaning up process over @xmath882 , making no changes to the morphisms lying over a neighborhood of @xmath883 and taming the morphisms over @xmath884 .",
    "we then choose a suitable set @xmath885 to obtain a groupoid @xmath886 that is tame over @xmath887 .",
    "continuing this way we construct the @xmath844 and hence @xmath888 .",
    "[ le : part ] let @xmath367 be a tame wnb groupoid and let @xmath889 be any open cover of @xmath360",
    ". then @xmath360 has a smooth partition of unity subordinate to @xmath889 .    by remark  [ rmk : brorb](iv )",
    ", we may suppose that @xmath889 consists of sets of the form @xmath854 , where @xmath623 are local branching structures .",
    "pick out a countable subset @xmath94 such that the sets @xmath890 form a locally finite covering of @xmath360 .",
    "since @xmath360 is normal by proposition  [ prop : approx ] , there are open sets @xmath891 such that @xmath892 is an open cover of @xmath360 . for each @xmath893",
    "we shall construct a smooth function @xmath894 $ ] that equals @xmath84 on @xmath659 and has support in @xmath895 .",
    "then @xmath896 is everywhere positive and smooth . hence the functions @xmath897 form the required partition of unity .    for each @xmath185",
    ", we construct @xmath898 inductively over its subsets @xmath899 , where @xmath900 are the local branches at @xmath185 . to begin , choose a smooth function @xmath901 $ ] that equals @xmath84 on @xmath902 and has support in @xmath903 this exists because the map @xmath904 is proper .",
    "since @xmath905 injects into @xmath854 , we may define @xmath906 for @xmath907 by @xmath908 by the tameness hypothesis , the pullback by @xmath363 of @xmath909 to @xmath910 ( which is defined over @xmath911 ) may be extended over @xmath910 to a smooth function @xmath912 that equals @xmath84 on @xmath913 and has support in @xmath903 now extend @xmath909 over @xmath914 by setting it equal to the pushdown of @xmath912 over @xmath915 .",
    "continuing in this way , one extends @xmath909 to a function on the whole of @xmath854 that equals @xmath84 on @xmath916 and has support in @xmath903    it remains to check that @xmath917 is smooth .",
    "its pull back to any local branch @xmath593 is smooth by construction .",
    "consider any other point @xmath395 such that @xmath918 .",
    "then there is some point @xmath919 such that @xmath459 by the covering property of the local branches .",
    "hence there is a local diffeomorphism @xmath920 of a neighborhood of @xmath28 to a neighborhood of @xmath29 and so @xmath921 is smooth near @xmath28 because it is smooth near @xmath29 .",
    "let @xmath779 be a compact tame @xmath309-dimensional branched manifold structure on @xmath725 . choose a smooth partition of unity @xmath922 on @xmath360 that is subordinate to a covering by sets @xmath854 that support local branching structures @xmath623 . if @xmath923 is any smooth map into a manifold , and @xmath924 is a closed @xmath309-form on @xmath314 ( where @xmath925 ) , we define @xmath926 as we explain in more detail below , the reason why this is well defined and independent of choices is that , because @xmath80 is tame , its branching locus is a finite union of piecewise smooth manifolds of dimension @xmath311 and so has zero measure .",
    "\\(i ) the number @xmath927 defined above is independent of the choice of partition of unity .",
    "\\(ii ) if @xmath781 is bordant to @xmath928 by a bordism through a tame wnb groupoid , then @xmath929 . in particular",
    ", it is independent of the choice of @xmath367 .",
    "first suppose that the partitions of unity @xmath930 are subordinate to the same covering and consider the product groupoid @xmath931 where @xmath706 has objects @xmath932 $ ] and only identity morphisms and @xmath933 .",
    "there is a partition of unity @xmath934 on @xmath931 that restricts on the boundary to the two given partitions of unity and is subordinate to the cover @xmath935 .",
    "hence by stokes theorem , it suffices to show that @xmath936 where @xmath937 and @xmath938 is the projection .",
    "let @xmath939 be a component of the complement of the branching locus , and let @xmath940 be the constant value of @xmath399 on @xmath19 ( cf .",
    "proposition  [ prop : approx ] ) . because the branching locus in each @xmath593 has zero measure it suffices to show that the sum of the integrals over @xmath941 vanishes for each @xmath19 .",
    "but @xmath942 is diffeomorphic to @xmath943 for every @xmath493 for which the intersection is nonempty .",
    "hence , because @xmath944 , it makes sense to integrate over @xmath19 and @xmath945 , and we find that @xmath946 which vanishes because @xmath947 .",
    "the proof of proposition  [ prop : commen ] shows that any two covers that support local branching structures have a common refinement that supports a local branching structure .",
    "hence to prove ( i ) it suffices to show that if @xmath922 is subordinate to @xmath948 and the cover @xmath949 refines @xmath948 then there is some partition of unity subordinate to @xmath949 for which the two integrals are the same .",
    "the previous paragraph shows that the first integral may be written as @xmath950 and so this statement holds by the standard arguments valid for manifolds .    to prove ( ii ) , note that if @xmath951 is a tame cobordism from @xmath367 to @xmath562 then every partition of unity on its boundary extends to a partition of unity on the whole groupoid .",
    "moreover we can construct the extension to be subordinate to any covering that extends those on the boundary .",
    "the rest of the details are straightforward , and are left to the reader .",
    "[ prop : fclass ] let @xmath725 be a compact @xmath309-dimensional branched manifold with boundary .",
    "then the singular homology group @xmath952 contains an element @xmath1 $ ] called the fundamental class with the following properties :    \\(i ) if the weights of all the branches of @xmath718 are rational then @xmath1\\in h_d(z;{{\\mathbb q}})$ ] .",
    "\\(ii ) if @xmath953 is any layered covering , @xmath954 ) = [ z].$ ]    \\(iii ) the image of @xmath1 $ ] under the boundary map @xmath955 is @xmath956 $ ] .",
    "\\(iv ) if @xmath957 is any resolution of the orbifold @xmath7 , then @xmath777 ) = [ y]\\in h_d(y;{{\\mathbb r}})$ ] .",
    "\\(v ) suppose further that @xmath0 is tame .",
    "then for any smooth map @xmath778 of @xmath718 into a smooth manifold @xmath314 and any closed @xmath309-form @xmath924 on @xmath314 , @xmath958(g_*([z ] ) ) = \\int_{z } g^*(\\mu).\\ ] ]    by lemma  [ le : tame ] we may assume that @xmath725 is commensurate with a branched manifold @xmath959 with structure given by the tame nonsingular wnb groupoid @xmath832 .",
    "the tameness condition implies that @xmath360 may be triangulated in such a way that both the branching locus @xmath545 and the boundary of @xmath360 are contained in the @xmath960-skeleton .",
    "more precisely , we can arrange that any ( open ) @xmath960-simplex that intersects this @xmath961 is entirely contained in this set , and that no open @xmath309-simplex meets it . by first triangulating the boundary we may assume that similar statements ( with @xmath309 replaced by @xmath311 ) hold for its branching locus .",
    "then , @xmath713 is constant on each open @xmath309-simplex @xmath278 in the triangulation @xmath962 . to simplify",
    "the proof below we will refine @xmath962 until each of its @xmath960-simplices @xmath963 lies in the support @xmath854 of a local branching structure such that @xmath854 contains all the @xmath309-simplices that meet @xmath963 .",
    "suppose that @xmath80 has no boundary .",
    "then we claim that the singular chain defined on @xmath360 by @xmath964\\ ] ] is a cycle . to see this , consider an open @xmath960-simplex @xmath963 .",
    "if @xmath963 lies in @xmath965 then it is in the boundary of precisely two oppositely oriented @xmath309-simplices with the same weights .",
    "hence it has zero coefficient in @xmath966 .",
    "suppose now that @xmath963 lies in the branching locus .",
    "choose a local branching structure @xmath967 such that @xmath963 and all the @xmath309-simplices that meet it are contained in @xmath854 .",
    "each simplex @xmath278 whose boundary contains @xmath963 lies in a component of @xmath965 and so , for each @xmath493 , latexmath:[${{\\sigma}}\\cap    @xmath278 .",
    "moreover , @xmath969 hence @xmath970 $ ] is the pushforward of the chain @xmath971\\quad\\mbox{on } b_0.\\ ] ] because the simplices in @xmath972 cancel each other out in pairs in the usual way , @xmath963 again makes no contribution to @xmath966 .",
    "we now define @xmath973 $ ] to be the singular homology class represented by @xmath974 , and @xmath1 $ ] to be its pushforward by @xmath975 .",
    "note that if @xmath0 and hence @xmath80 has boundary , then ( iii ) holds for the cycles @xmath973 $ ] and @xmath1 $ ] by our choice of triangulation .",
    "any two triangulations of @xmath360 can be considered as a triangulation of @xmath976 and then extended over @xmath977 $ ] . applying ( iii ) to @xmath978 $ ] where @xmath979 , one easily sees that @xmath1 $ ] is independent of the choice of triangulation .",
    "a similar argument shows that @xmath1 $ ] is independent of the choice of representing groupoid @xmath832 , since any two such groupoids are cobordant by proposition  [ prop : commen](iii ) .",
    "therefore the singular homology class @xmath1\\in h_d(z)$ ] is independent of all choices . it satisfies ( i ) by definition .",
    "the other statements follow by standard arguments .",
    "in particular ( ii ) holds by a cobordism argument and ( v ) holds because we can assume that both the triangulation and the partition of unity are subordinate to the same covering @xmath948 .",
    "hence each @xmath309-dimensional simplex in @xmath962 lies in some component @xmath19 of @xmath965 and so we can reduce this to the usual statement for manifolds .    above we explained the class @xmath980)$ ] for a smooth map @xmath778 in terms of integration .",
    "however , it can also be understood in terms of intersection theory .",
    "in fact , because @xmath1 $ ] is represented by the singular cycle @xmath981 , the number @xmath982(g_*([z]))$ ] may be calculated by counting the signed and weighted intersection points of the cycle @xmath983 with any singular cycle in @xmath314 representing the poincar dual to @xmath982 $ ] ; cf .",
    "example  [ ex : brorb](ii ) .",
    "detailed proofs of very similar statements may be found in  @xcite .",
    "[ sec : resol ] our first aim in this section is to show that every orbifold @xmath3 has a resolution .",
    "we then discuss the relation between resolutions and the ( multi)sections of orbibundles .",
    "although we shall assume that @xmath3 is finite dimensional , many arguments apply to orbifolds in any category .",
    "[ ss : resol ] let @xmath7 be a ( possibly not effective ) orbifold . choose a good atlas @xmath984 for @xmath7 and use it to construct an orbifold structure @xmath20 on @xmath7 with objects @xmath985 ; cf .",
    "the discussion after definition  [ def : atl ] . for each finite subset @xmath986 , we denote @xmath987 we shall not assume that the sets @xmath988 are connected , although it would slightly simplify the subsequent argument to do so .",
    "we shall identify the countable set @xmath94 with a subset of @xmath989 , and shall write @xmath990 as @xmath991 , where @xmath992 .",
    "the length of @xmath990 is @xmath993 .",
    "we now define some sets @xmath994 . if @xmath995 we set @xmath996 . when @xmath997 we define @xmath994 to be the set of composable tuples @xmath998 of morphisms , where @xmath999 since @xmath12 and @xmath50 are local diffeomorphisms , @xmath994 is a manifold .",
    "consists of morphisms rather than being the corresponding fiber product of the @xmath218 over @xmath988 , since that is not a manifold in general .",
    "for example , suppose that @xmath1000 and @xmath1001 acting by @xmath1002 and that each @xmath218 maps to @xmath1003 by the obvious projection .",
    "then @xmath1004 can be identified with the two disjoint lines @xmath1005 and @xmath1006 . on the other hand ,",
    "the fiber product @xmath1007 consists of two lines that intersect at @xmath1008 .",
    "thus this step reformulates liu ",
    "tian s concept of desingularization in the language of orbifolds : see @xcite . ]",
    "further , @xmath994 supports an action of the group @xmath1009 via : @xmath1010 the action of @xmath1009 is not in general free . indeed if @xmath1011 the stabilizer of @xmath998 is a subgroup of @xmath1009 isomorphic to @xmath95 .",
    "( for example , given @xmath1012 and @xmath1013 there is a unique @xmath1014 such that @xmath1015 . ) on the other hand , for each @xmath1016 the group @xmath1017 does act freely on @xmath994 .",
    "the obvious projection @xmath1018 identifies the quotient @xmath1019 with @xmath988 .",
    "note that each component of @xmath994 surjects onto a component of @xmath988 .",
    "the resolution is a groupoid with objects contained in the sets @xmath994 and morphisms given by certain projections @xmath1020 that we now explain . for each @xmath1021",
    "there is a projection @xmath1022 defined as @xmath1023 if @xmath1024 and @xmath1025 we define a projection @xmath1026 as follows : @xmath1027 this map is equivariant with respect to the actions of @xmath1009 and @xmath1028 , and identifies the image @xmath1029 as the quotient of @xmath994 by a free action of @xmath1030 . if @xmath1031 is an arbitrary subset of @xmath990 with @xmath1032 we define @xmath1020 as a composite of these basic projections .",
    "if @xmath1033 we define @xmath1034",
    ". clearly @xmath1035 , whenever @xmath1036 .",
    "if @xmath1037 is @xmath667-compatible , the * @xmath1037-resolution * @xmath1043 of @xmath20 is a nonsingular groupoid defined as follows .",
    "its set of objects is @xmath1044 where @xmath1045 and @xmath990 is any subset of @xmath94 .",
    "for @xmath1046 the space of morphisms with source @xmath1047 and target @xmath1048 is given by the restriction of @xmath1020 to @xmath1049 .",
    "when @xmath1050 these are identity maps . the category is completed by adding the inverses of these morphisms .",
    "the projection from the space of objects of @xmath1043 to its hausdorff orbit space is denoted @xmath1051 .",
    "observe that we do not need to add the composites of the form @xmath1055 , for such morphisms would be defined over the intersection @xmath1056 which is nonempty only if @xmath1057 or @xmath1058 . in the former case",
    "this composite is @xmath1059 while in the latter it is @xmath1060 .",
    "hence in either case it is already in the category .",
    "[ prop : weigh ] let @xmath1061 and @xmath1037 satisfy the conditions in definition  [ def : resol ] , and form @xmath1043 as above . then there is a weighting function @xmath1062 such that @xmath1063 is a wnb groupoid .",
    "moreover @xmath1063 is commensurate with @xmath20 .",
    "we shall check ( ii ) for @xmath1077 .",
    "( the other cases are similar . )",
    "then the element @xmath1078 of @xmath1079 acts on @xmath994 via the maps @xmath1080 if the source and target of this map lie in the same component of @xmath1047 then the morphisms @xmath1081 and @xmath1082 lie in the same component of @xmath22 for each @xmath493 . in particular , @xmath1083 and @xmath1084 lie in the same component of @xmath22 . hence composing with @xmath1085",
    "we see that @xmath1086 is isotopic to an identity map .",
    "but because @xmath25 is a section of the local covering map @xmath1087 the set of identity morphisms form a connected component of @xmath22 in any groupoid @xmath20 .",
    "hence we must have @xmath1088 . repeating this argument",
    "we see that @xmath1089 for all @xmath493",
    ". this proves ( ii ) .",
    "* proof of proposition  [ prop : weigh ] . * without loss of generality we assume that @xmath20 is connected and define @xmath1091 to be the order of the stabilizer of a generic point in @xmath21 .",
    "thus @xmath1092 iff @xmath20 is effective .",
    "we first investigate the relation of @xmath1043 to @xmath20 . to this end , define the functor @xmath1093 on objects as the projection @xmath1094 the morphisms given by @xmath1020 are taken to identities if @xmath1095 . if not , the projection @xmath1075 with source @xmath998 is taken to the composite @xmath1096 where @xmath1097 is the smallest element in @xmath1098 .      since @xmath38 is hausdorff , the induced map @xmath1102 factors through @xmath1103 . for each @xmath1104 , let @xmath1105 ( resp .",
    "@xmath1106 ) be the subset of minimal length such that @xmath1107 ( resp .",
    "@xmath1108 ) .",
    "( see fig .",
    "[ fig:5 ] . ) note that @xmath1109 because @xmath1037 is @xmath667-compatible . for each @xmath284",
    "such that @xmath1110 , @xmath1111 has precisely @xmath1112 preimages @xmath28 in @xmath1113 , where @xmath1114 denotes the isomorphism class of the stabilizer groups @xmath95 . if @xmath1115 and @xmath1116 , then each such @xmath28 lies in @xmath1117 .",
    "( here we identify @xmath1118 with @xmath1119 . ) by lemma  [ le : wt ] , each @xmath28 has @xmath1120 preimages in @xmath1121 , each lying in a different component .",
    "thus @xmath1111 has @xmath1122 preimages in @xmath1121 : cf .",
    "moreover the minimality of @xmath1123 implies that @xmath1111 has @xmath1124 preimages in @xmath1125 . on the other hand , if @xmath1126 two such preimages map to distinct elements in @xmath1127 iff the corresponding elements of @xmath1048 map to distinct elements of @xmath994 under the projection @xmath1075 .",
    "hence @xmath1111 has @xmath1128 preimages @xmath185 in @xmath1127 .    now consider @xmath1129 and let @xmath1130 .",
    "define @xmath1131 by setting @xmath1132 where @xmath1105 is as above . then , because @xmath1111 has @xmath1128 preimages @xmath185 in @xmath1127 , @xmath1133 provided that @xmath1134 , i.e. provided that @xmath1111 is smooth . hence @xmath135 is a layered equivalence , provided that @xmath1135 is a branched manifold .",
    "thus it remains to check that the conditions of definition  [ def : brorb ] hold for @xmath1136 . in the following construction ,",
    "each local branch at @xmath185 lies in a component of @xmath1048 , where @xmath1106 as defined above .",
    "they will all be assigned the same weight @xmath1137 .",
    "the remarks in the preceding paragraph give rise to the following characterization of the fiber in @xmath1125 over @xmath1129 .",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ define @xmath1138 as above , where @xmath1139 . since @xmath1140 there is a convergent sequence @xmath1141 of elements in @xmath1142 .",
    "lift this sequence to @xmath1047 and choose @xmath1143 to be one of its limit points .",
    "then the points in the fiber over @xmath185 in @xmath1125 are in bijective correspondence with the @xmath1144 distinct elements in @xmath1048 that are taken to @xmath378 by @xmath1075 .",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    in particular , the elements in the fiber over @xmath185 lie in different components of @xmath1145 .",
    "it follows that for any @xmath300 each component of @xmath1146 maps bijectively onto a closed subset of the inverse image @xmath1147 of @xmath1148 in @xmath1127 .",
    "( note that each component of @xmath1146 injects into @xmath1125 because @xmath1043 is nonsingular . )    to construct the local branches at @xmath185 , first suppose that @xmath1149 .",
    "this hypothesis implies that @xmath1150 for some component @xmath1064 of @xmath1065 , but that @xmath1151 for any @xmath1152 .",
    "take @xmath1153 and choose a single local branch @xmath507 equal to the inverse image of @xmath854 in any component of @xmath1154 .",
    "( note that each component of @xmath1154 surjects onto the connected set @xmath1155 since the components of @xmath994 surject onto those of @xmath988 . )",
    "as mentioned above , we set @xmath1156 . since @xmath1157 equals @xmath1158 at all points of @xmath854 , the conditions are satisfied in this case .",
    "( this is possible because of the local finiteness of @xmath1037 and the fact that two sets in @xmath1037 intersect iff their closures intersect . )",
    "now define @xmath1166 to be the _ maximal _ set @xmath1162 such that @xmath1163 .",
    "choose @xmath1167 and a lift @xmath1168 of @xmath1169 , i.e. so that @xmath1170",
    ". then by lemma  [ le : wt](iii ) there are precisely @xmath1171 components of @xmath1121 whose image by @xmath1172 contains @xmath1173 .",
    "choose their intersections with @xmath1174 to be the local branches at @xmath185 , where @xmath1175 is the obvious projection .",
    "then the covering and local regularity properties of definition  [ def : brorb ] hold by the above discussion of the fibers of the map @xmath1176 .",
    "the weighting condition also holds at @xmath185 since @xmath185 lies in the image of each local branch .",
    "it remains to check the weighting condition at the other points @xmath1177 in @xmath370 .",
    "define @xmath1178 , the minimal index set @xmath300 such that @xmath1179 . condition ( ii ) for @xmath370 implies that @xmath1180 and hence that @xmath1181 . on the other hand , because @xmath1182 the minimality of @xmath1183 implies that @xmath1184 . by lemma",
    "[ le : wt](iii ) there are precisely @xmath1185 components of @xmath1121 whose image in @xmath1127 meets @xmath1186 near @xmath1177 . since these correspond bijectively to the local branches that intersect @xmath1187 the weighting condition holds for all @xmath1188 .",
    "this completes the proof .",
    "[ le : cov ] let @xmath164 be a normal topological space with an open cover @xmath1190 such that each set @xmath218 meets only finitely many other @xmath242",
    ". then there are open subsets @xmath1191 and @xmath1192 with the following properties :          first choose an open covering @xmath1198 of @xmath164 such that @xmath1199 for all @xmath493 . for each @xmath493",
    ", choose @xmath1200 so that @xmath1201 for all @xmath1031 such that @xmath1202",
    ". then choose for @xmath1203 open subsets @xmath1204 , @xmath1205 of @xmath218 such that @xmath1206 and set @xmath1207 for @xmath1208 .",
    "then , if @xmath1209 define @xmath1210 we claim that this covering satisfies all the above conditions . for example , to see that @xmath1211 , observe that the element @xmath1212 lies in @xmath1213 , where @xmath300 is a set of maximal length such that @xmath1214 . to prove ( iii ) first consider the case when @xmath1215 where @xmath1216 , but @xmath1217 .",
    "then @xmath1218 ; but this is impossible because @xmath1219 is cut out of @xmath1038 , which implies that @xmath1220 does not intersect @xmath1221 .",
    "the rest of the proof is similar and is left to the reader .",
    "* proof i of proposition  [ prop : resol ] .",
    "* we must show that every orbifold @xmath7 is commensurate with a tame branched manifold .",
    "let @xmath20 be a groupoid structure on @xmath7 constructed as before from an atlas . by applying lemma  [ le : cov ] to the covering of @xmath38 by the charts @xmath221 of this atlas",
    ", we may find a covering @xmath1222 of @xmath214 that satisfies the conditions in definition  [ def : resol ] .",
    "we may also choose the @xmath1223 so that for one ( and hence every ) @xmath864 the pullback @xmath1224 has piecewise smooth boundary in @xmath218 . now consider the corresponding wnb groupoid @xmath1225 constructed in proposition  [ prop : weigh ] .",
    "this is commensurate to @xmath20 , and its branch locus is piecewise smooth .",
    "therefore as in lemma  [ le : tame0 ] it has a tame refinement .",
    "@xmath1189    [ rmk : resol](i )",
    "if @xmath20 itself is nonsingular , then the projection @xmath1226 is an equivalence .",
    "indeed @xmath1043 is just the refinement of @xmath20 corresponding to the covering @xmath1037 of @xmath38 .",
    "\\(ii ) consider the two noneffective groupoids @xmath1227 of remark 2.14 .",
    "cover @xmath1228 by three open arcs @xmath1229 , whose triple intersection is empty",
    ". then if we choose the same covering @xmath1037 in both cases , the groupoids @xmath1043 and @xmath1230 are isomorphic .",
    "see fig . 7 . thus if one wants to preserve information about the topological structure of the trivially acting morphisms it might be better to define the resolution of a noneffective groupoid using the approach discussed in remark 3.17 .     and ( b ) the covering @xmath1037 , in which the @xmath542 are represented by solid arcs and the @xmath1231 by dashed arcs .",
    "( c ) is the resolution @xmath1232 .",
    "the arc is tripled over the parts of the circle not covered by the @xmath542 since each set @xmath1233 has three components.,width=384 ]    * compatibility with operations in sft . * in hofer ",
    "zehnder  @xcite , it is important that all constructions are compatible with the natural operations of symplectic field theory . these arise from the special structure of the groupoids they consider , which live in a category of manifold - like objects called polyfolds with boundary and corners .",
    "though polyfolds are infinite dimensional , their corners have finite codimension .",
    "moreover , each groupoid @xmath20 has a finite formal dimension ( or index ) , and its boundary is build up inductively from pieces of lower index .",
    "for example , in the simplest situation where there is a boundary but no corners , the boundary @xmath1234 of @xmath20 decomposes as a disjoint union of products @xmath1235 of ep groupoids @xmath1236 of lower index ( and without boundary ) .",
    "hence it is important that the operation of constructing a resolution is compatible with taking products and also extends from the boundary of @xmath20 to @xmath20 itself .",
    "we now discuss these questions in the context of finite dimensional manifolds .",
    "first consider products .",
    "the construction of the resolution @xmath1226 is determined by the choice of good atlas @xmath667 ( together with an ordering of the set @xmath94 of charts ) and the choice of a subcovering @xmath1037 . if @xmath1237 is an atlas for @xmath1236 , where @xmath1238 , then there is a product atlas @xmath1239 for @xmath1235 with charts @xmath1240 where @xmath1241 .",
    "but the product covering by sets @xmath1242 is not @xmath1239-compatible since there will be nonempty intersections of the form @xmath1243 where @xmath1244 and @xmath1245 . that is symmetric in @xmath323 is less serious , since one could define the resolution without using such an order .",
    "for example , the objects of the new resolution would contain @xmath1246 copies of @xmath1047 , one associated to each possible ordering of the index set @xmath990 .",
    "] hence our construction does not commute with taking the product . on the other hand",
    ", the following lemma shows that we can take the resolution of a product to be the product of resolutions of the factors .",
    "we now show how to extend a resolution from @xmath1234 to @xmath20 .",
    "note that @xmath1234 has collar neighborhood in @xmath20 that is diffeomorphic are diffeomorphic if there is a functor @xmath1249 that is a diffeomorphism on objects and morphisms . ] to the product @xmath1250 , where @xmath1251 denotes the trivial groupoid with objects @xmath1252 $ ] as in proposition  [ prop : commen](iii ) .",
    "further @xmath20 is diffeomorphic to the groupoid @xmath137 obtained by extending the collar neighborhood of @xmath1234 by @xmath1253 , where @xmath706 is the trivial groupoid with objects @xmath707 $ ] .",
    "construct a resolution @xmath1226 .",
    "as in proposition  [ prop : commen](iii ) there is a layered covering @xmath1256 that restricts to @xmath1257 over @xmath1258 and to @xmath1259 over @xmath1260 .",
    "now take @xmath572 to be the union of @xmath1043 with @xmath326 and define @xmath1261 to be the induced functor @xmath1262      [ ss : multi ] we now show how branched manifolds arise as multivalued sections of ( unbranched ) orbibundles .",
    "this is a groupoid version of the constructions in cieliebak ",
    "mundet i riera ",
    "salamon  @xcite and hofer  wysock ",
    "zehnder  @xcite .",
    "recall from moerdijk  @xcite that an * orbibundle * @xmath10 over an orbifold @xmath7 is given by an equivalence class of functors @xmath1263 , where @xmath20 is a orbifold structure on @xmath164 and @xmath771 is a groupoid constructed as follows .",
    "the objects @xmath1264 of @xmath771 form a vector bundle @xmath1265 and its space @xmath1266 of morphisms arise from a right action of @xmath20 on @xmath1264 . in other words",
    ", @xmath1266 is the fiber product @xmath1267 , the target map is @xmath1268 and the source map @xmath1269 satisfies the obvious identities : namely the diagram @xmath1270 commutes ( here @xmath1271 ) , the identities @xmath1272 act by the identity and composition is respected , i.e. @xmath1273 .",
    "this construction applies when given any sse groupoid @xmath20 and any vector bundle @xmath1274 that supports a right action of @xmath20 .",
    "we shall call @xmath1263 a vector bundle over @xmath20 .",
    "clearly , @xmath771 is an ep groupoid if @xmath20 is .",
    "also , if @xmath1275 is a weighted branched manifold , we can pull @xmath399 back to give a weighting on @xmath771 . hence @xmath771 is a wnb groupoid if @xmath20 is .",
    "[ ex : bund ] ( i ) let @xmath1276 , the tangent bundle of @xmath21 .",
    "then @xmath20 acts on @xmath1264 in the obvious way .",
    "the resulting bundle @xmath1277 is called the tangent bundle . note",
    "that @xmath20 acts effectively on @xmath1278 iff @xmath20 is effective .",
    "\\(ii ) every bundle @xmath770 has an effective reduction @xmath1279 where @xmath137 is the quotient of @xmath20 by the subgroup of @xmath1280 that acts trivially on @xmath1264 .",
    "( for notation , see lemma  [ le : red2 ] . )",
    "thus the functor @xmath774 factors through @xmath137 .",
    "a * section * of the bundle @xmath1281 is a smooth functor @xmath1282 such that @xmath1283 . in particular",
    ", the restriction of each such functor to the space of objects is a ( smooth ) section @xmath1284 of the vector bundle @xmath1285 .",
    "the conditions imposed by requiring that @xmath1284 extend to a functor imply that @xmath1284 must descend to a section of @xmath1286 .",
    "we denote by @xmath1287 the space of all such sections @xmath278 .",
    "since each section @xmath278 is determined by the map @xmath1288 , we may identify @xmath1287 with a subset @xmath1289 of the space @xmath1290 of smooth sections of this bundle with the usual frchet topology .",
    "are noncompact , we take the topology given by uniform @xmath1291-convergence on compact sets for all @xmath843 .",
    "the induced topology on @xmath1287 is not very satisfactory , but it is good enough for the present purposes . ] let us now suppose that @xmath20 is compact . by replacing @xmath20 by an equivalent groupoid if necessary , we may suppose that @xmath21 and @xmath22 have finitely many components .",
    "hence the subset @xmath1289 is defined by a finite number of smooth compatibility conditions and so is a submanifold of @xmath1290 .",
    "[ def : trans ] a section @xmath1282 is said to be * transverse to the zero section * if its image @xmath1292 intersects the zero set transversally and if for each intersection point @xmath35 the induced map @xmath1293 is surjective , where @xmath1294 is the fiber of @xmath1274 at @xmath28 and @xmath1295 is the composite of the derivative of @xmath278 with evaluation at @xmath28 .",
    "we just sketch the proof since the techniques are standard .",
    "the idea is the following .",
    "consider an open set @xmath1297 with local branches @xmath571 as in definition  [ def : brorb ] .",
    "as in lemma  [ le : part ] , the tameness condition allows one to construct enough sections to prove the result for the restriction of @xmath771 to @xmath1298 , the full subcategory of @xmath80 with objects @xmath571 . but any section with compact support in @xmath1298 extends uniquely to a section of @xmath1296 . the result follows .",
    "if @xmath80 is a wnb groupoid , @xmath771 is oriented and the section @xmath1299 is transverse to the zero section , then the zero set @xmath1300 of @xmath278 inherits a natural structure as a wnb groupoid .",
    "standard arguments shows that its cobordism class is independent of the section chosen .",
    "in particular , if the fiber dimension of @xmath771 equals @xmath1301 the euler number @xmath1302 can be calculated as the number of zeros of a generic section of @xmath1296 , or equivalently as the number of points in the zero - dimensional wnb groupoid @xmath1300 ; cf example  [ ex : brorb](ii ) . for example , the tangent bundle @xmath1303 of the resolution of the teardrop orbifold described in example  [ ex : tear ] has a section with one positively oriented zero in each of @xmath1304 .",
    "it follows that @xmath1305 .",
    "[ def : euler ] the * ( homology ) euler class * of a @xmath309-dimensional bundle @xmath1296 over an @xmath1306-dimensional wnb groupoid is the singular homology class @xmath1307 represented by the image in @xmath360 of the fundamental class @xmath1308   \\in h_{n - d}(|z|_{{\\mbox{\\it\\tiny h } } } ; { { \\mathbb r}})$ ] of the zero set @xmath1300 of a generic section .    this definition has the expected functorial properties and is consistent with standard definitions ; cf .",
    "proposition  [ prop : euler ] and the discussion in ",
    "[ ss : euler ] below . moreover , if @xmath80 has rational weights then @xmath1309    [ rmk : trans ] the condition on @xmath1295 in definition  [ def : trans ] ensures the existence of enough local deformations of @xmath278 to have a good transversality theory , e.g. one in which the zero sets of two generic sections intersect transversally . as an example , consider the tangent bundle @xmath1277 of the teardrop orbifold .",
    "every section of this bundle vanishes at the singular point @xmath185 , and so no section is transverse in the sense of the above definition .",
    "one way to deal with the lack of sections over singular @xmath20 is to consider multivalued sections . in cieliebak ",
    "mundet i riera ",
    "salamon  @xcite and hofer  wysock ",
    "zehnder  @xcite these are defined by means of the characteristic function of their graph .",
    "the following definition is a mild adaptation of that in  @xcite .",
    "although one could define multisections of bundles over wnb groupoids we shall be content here with the case when the base is unbranched .",
    "further , to be compatible with  @xcite we assume from now on that all weighting functions take rational values .",
    "[ def : multi ] let @xmath1263 be a bundle over an ep groupoid and denote by @xmath1310 the category with objects the nonnegative rational numbers and only identity morphisms .",
    "a * multisection * of @xmath770 is a smooth functor @xmath1311 that has the following local description : for each point @xmath35 there is an open neighborhood @xmath142 and a finite nonempty set of smooth local sections @xmath1312 with positive rational weights @xmath1313 such that for all @xmath1314 @xmath1315 where by convention the sum over the empty set is @xmath581 .",
    "the triple @xmath1316 is called a * local section structure for @xmath1317 . *",
    "we denote by @xmath1318 the set of all multisections of @xmath770 .",
    "the first condition implies that for each @xmath35 there are a finite number of elements @xmath1319 such that @xmath1320 .",
    "the set of such elements @xmath1321 is called the * support * of @xmath1317 .",
    "the second condition is equivalent to requiring that @xmath1322 and implies that @xmath1317 has total weight @xmath84 .",
    "the sum of two multisections @xmath1323 is given by the convolution product : @xmath1324 similarly , @xmath1325 for @xmath1326 .",
    "hence multisections form a @xmath1327-vector space .",
    "note also that because @xmath1317 is a functor it takes the same value on all equivalent objects in @xmath1264 and so descends to a function on @xmath1328 .",
    "hence when counting the number of zeros of a multisection , one should count the equivalence classes @xmath1329 lying in the zero section , each weighted by the product @xmath1330 , where @xmath1331 is the orientation ( cf .",
    "example  [ ex : brorb ] ( ii ) ) .",
    "we say that @xmath1317 is * single valued * if there is just one local section @xmath1332 over each open set @xmath142 . in this case",
    "the support of @xmath1317 is the image of a single valued section @xmath1288 that extends to a functor @xmath1282 , i.e. a section as we defined it above .",
    "however , if @xmath116 is singular the values of single valued sections at nonsmooth points are restricted .",
    "for example , they must vanish at @xmath35 if every point of @xmath1294 is moved by some element of @xmath95 .",
    "we now show that the support of a multisection @xmath1317 is ( under a mild hypothesis ) the image of a wnb groupoid .",
    "we begin with a preliminary lemma that explains the relation between two different local section structures .    [",
    "le : locsec ] consider two local section structures @xmath1333 for @xmath1317 , and let @xmath1334 for each pair @xmath1335 define @xmath1336 .",
    "then for all @xmath493 there is @xmath1337 such that @xmath1338 .",
    "if not , there is an open neighborhood @xmath1339 of @xmath28 in @xmath386 such that @xmath1340 for all @xmath1337 .",
    "but @xmath1341 and each set @xmath1342 is relatively closed in @xmath19 . since there are only finitely many @xmath1337 , at least one intersection @xmath1342 must have nonempty interior .",
    "but @xmath1343 since @xmath19 is open , so this contradicts the hypothesis .",
    "\\(i ) the support of any multisection @xmath1311 is the image of an sse groupoid @xmath1344 by a functor @xmath1345 such that @xmath1317 pulls back to a ( single valued ) section @xmath1346 of the bundle @xmath1347 , where @xmath1348 , @xmath1349 \\ar[r ] & { { \\mathcal e}}\\ar[d]_{\\rho}\\\\ { { \\mathcal y}}_s \\ar@/^1.1pc/[u]^{{{\\sigma}}_s}\\ar[ur]^{{{\\sigma}}_s\\!\\!}\\ar[r]^{\\,\\,\\,f_s}&{{{\\mathcal x}}}. } \\ ] ]        to see this , choose a locally finite covering of @xmath21 by sets @xmath1352 with the properties of definition  [ def : multi ] , and then define @xmath1344 to be the category whose space of objects is the disjoint union of copies of the sets @xmath1353 , with one copy @xmath1354 of @xmath1353 for each section @xmath1355 .",
    "these sections give a smooth immersion @xmath1356 that is injective on each component of the domain .",
    "we define the morphisms in @xmath1344 to be the pullback by @xmath1357 of the morphisms in the _ interior _ of the full subcategory of @xmath771 with objects @xmath1358 .",
    "( for example , if two local sections agree at an isolated point we ignore the corresponding morphism .",
    "we define @xmath877 to be the set of all such ignored morphisms . )",
    "then @xmath1344 is an sse groupoid .",
    "the rest of ( i ) is clear , as is ( ii ) .",
    "because @xmath1359 is hausdorff , the functor @xmath1357 induces a continuous map @xmath1360 it is injective over the open dense set @xmath1361 ( where @xmath12 denotes the source map ) because the restriction of @xmath1357 to the full subcategory of @xmath1344 with objects @xmath1362 is a bijection onto a full subcategory of @xmath771 .",
    "if @xmath1344 is nonsingular , we define the local branches over the points in @xmath1363 to be the sets @xmath218 with weights @xmath587 , and define @xmath1364 it is now straightforward to check that @xmath1365 is a wnb groupoid .",
    "in particular each @xmath1366 injects into @xmath1367 because the composite @xmath1368 is injective .    to see that @xmath1369 is a resolution ,",
    "note first that the covering property is immediate and that the weighting property holds because @xmath1370 . to see that @xmath1371 is proper",
    ", it suffices to show that every sequence @xmath1372 in @xmath1367 whose image by @xmath1371 converges has a convergent subsequence .",
    "since the covering @xmath1366 of @xmath1373 is locally finite , we may pass to a subsequence of @xmath1372 ( also called @xmath1372 ) whose elements all lie in the same set @xmath1374 . then , for each @xmath105 , there is @xmath1375 such that @xmath1376 .",
    "now choose @xmath1377 so that @xmath1378 and @xmath1379 is the limit of @xmath1380 .",
    "if @xmath1381 , then , because the map @xmath1382 is a diffeomorphism , the sequence @xmath1383 converges in @xmath1384 to the point @xmath1385 corresponding to @xmath463 . hence @xmath1372 has the limit @xmath1386 as required .    otherwise , choose a local section structure @xmath1387 for @xmath1317 near @xmath463 .",
    "then @xmath1388 , and we may suppose that @xmath1389 for all @xmath105 . by applying lemma  [ le : locsec ] to each point @xmath1390 and passing to a further subsequence , we may suppose that there is @xmath1337 such that @xmath1391 for all @xmath105 , where @xmath1392 therefore for each @xmath105 there is @xmath1393 such that @xmath1394 .",
    "it now follows from lemma  [ le : approx ] that @xmath1395 .",
    "but now @xmath1396 has a limit in @xmath1397 .",
    "hence @xmath1372 does too .",
    "this completes the proof .",
    "conversely , suppose that @xmath1398 is a resolution of an ep groupoid , and let @xmath770 be a bundle .",
    "then any ( single valued ) section @xmath1399 of the pullback bundle pushes forward to a functor @xmath1400 .",
    "note that its image is not in general the support of a multisection in the sense of definition  [ def : multi ] since it need not contain entire equivalence classes .",
    "however , because @xmath771 is proper the induced map @xmath1401 factors through @xmath1402 .",
    "[ le : multi1 ] let @xmath770 be a bundle over the ep groupoid @xmath20 and @xmath1403 be a resolution . each section @xmath1399 of the pullback bundle gives rise to a multisection @xmath1404 where @xmath1405 and @xmath1406 is the composite of @xmath1346 with the push forward @xmath1407 .",
    "[ rmk : multi](i ) the above construction of a multisection @xmath1317 of @xmath770 from a section @xmath1346 of @xmath1410 may be described more formally as follows .",
    "consider the ( weak ) fiber product @xmath1411 .",
    "this is a wnb groupoid by lemma  [ le : comm ] ( ii ) , and there is a layered equivalence @xmath1412 . consider the diagram @xmath1413 the section @xmath1399 pulls back to a section @xmath1414 that gives rise to a functor @xmath1415 whose image is precisely the support of @xmath1317 .",
    "( the effect of passing to @xmath572 is to saturate the image of @xmath1357 under @xmath393 .",
    "note that the two functors @xmath1416 and @xmath1417 do not coincide , because the diagram only commutes up to homotopy . )",
    "thus the two approaches give rise to essentially the same multisections .",
    "to distinguish them , we shall call @xmath1357 a * wp multisection*.    one might think of @xmath1357 as a stripped down version of @xmath1317 , with inessential information removed .",
    "for example , in the case of the teardrop with resolution @xmath745 , the pushforward of a section of @xmath1410 is single valued over each component of @xmath21 , while the corresponding @xmath1317 is multivalued over @xmath198 .",
    "\\(ii ) suppose that @xmath1418 give rise as above to the wnb groupoids @xmath1419 and @xmath1420 .",
    "then it is not hard to check that their sum @xmath1421 gives rise to the fiber product @xmath1422 . on the other hand , if @xmath1423 there is a simpler summing operation given by adding the corresponding sections @xmath1424 of @xmath1425 .",
    "we say that a multisection @xmath1317 of @xmath1426 is * tranverse to the zero section * if it is made from local sections @xmath1427 that are transverse to the zero section .",
    "it is easy to check that this is equivalent to saying that the corresponding single valued section @xmath1346 of @xmath1425 is transverse to the zero section .",
    "hence the intersection of @xmath1346 with the zero section has the structure of a wnb groupoid @xmath1428 as in the discussion after lemma  [ le : sect0 ] .",
    "[ def : euler1 ] let @xmath1426 be a @xmath309-dimensional vector bundle @xmath1426 over an @xmath1306-dimensional ep groupoid . if @xmath771 is effective , we define its * ( homology ) euler class * to be the singular homology class @xmath1429 represented by the image under the composite map @xmath1430 of the fundamental class @xmath1431\\in h_{n - d}(|z_s|_{{\\mbox{\\it\\tiny h}}})$ ] of the zero set of a generic multisection @xmath1317 . in general , we define @xmath1429 to be the euler class of the corresponding effective bundle @xmath1432 ( cf .",
    "example  [ ex : bund ] ( ii ) ) .",
    "it is not hard to prove that any two wnb groupoids @xmath1433 constructed in this way from multisections @xmath1418 are cobordant since the pullbacks of @xmath1346 and @xmath1434 to @xmath1422 are homotopic .",
    "the next result states that definitions  [ def : euler ] and  [ def : euler1 ] are consistent .",
    "[ prop : euler ] let @xmath1398 be any resolution of the @xmath1306-dimensional ep groupoid @xmath20 and let @xmath1435 be any @xmath309-dimensional bundle .",
    "then @xmath1436 moreover , if @xmath713 takes rational values , this equality holds in @xmath1437 .",
    "we conclude this section with some constructions .",
    "first we explain how to construct enough \" wp multisections using the resolution @xmath1226 .",
    "we shall explain this in the context of fredholm theory and so shall think of the fibers of @xmath1274 as infinite dimensional .",
    "we start from a fredholm section @xmath1438 such that over each chart @xmath1439 there is a ( possibly finite dimensional ) space @xmath1440 of local sections @xmath1441 that is large enough to achieve transversality over @xmath218 .",
    "we then construct a vector space @xmath1442 of wp multisections with controlled branching that is large enough for global transversality .",
    "it is finite dimensional if the @xmath1440 are .",
    "this is an adaptation of a result in liu ",
    "tian  @xcite and was the motivation for their construction of the resolution .",
    "[ prop : sect ] let @xmath20 be an ep groupoid with a finite good atlas @xmath1443 , and choose an @xmath667-compatible cover @xmath1444 of @xmath38 as in lemma  [ le : cov ] .",
    "let @xmath1445 be the ( tame ) resolution constructed in proposition  [ prop : weigh ] , and let @xmath770 be an orbibundle . then :      \\(ii ) let @xmath1438 be a section .",
    "suppose that for each @xmath1450 there is a space @xmath1440 of sections of the vector bundle @xmath1451 such that @xmath1452 is transverse to the zero section over @xmath218 for sufficiently small generic @xmath1453 .",
    "then there is a corresponding space @xmath1442 of sections of the pullback bundle @xmath1454 such that @xmath1455 is transverse to the zero section for sufficiently small generic @xmath1456 .",
    "suppose given a section @xmath1457 .",
    "if @xmath1458 , we define @xmath1459 on the object @xmath1460 to be @xmath1461 . otherwise , @xmath1462 is disjoint from the support @xmath1463 of @xmath12 by construction of @xmath1037 , and we set @xmath1464 .",
    "it follows immediately from the definitions that @xmath1448 is compatible with the morphisms in @xmath1043 and so extends to a functor @xmath1465 .",
    "this proves ( i ) .    to prove ( ii ) , choose a smooth partition of unity @xmath1466 on @xmath1043 , which exists by lemma  [ le : part ] .",
    "then define @xmath1442 to be the vector space generated by the sections @xmath1467 it is easy to check that it has the required properties .",
    "the previous result used the existence of a resolution to construct multisections .",
    "this procedure can be reversed .",
    "the following argument applies to any @xmath20 that acts effectively on some vector bundle @xmath1274 .",
    "is closely related to the presentation problem discussed in  @xcite . ]    * proof ii of proposition  [ prop : resol ] for effective groupoids @xmath20 .",
    "* let @xmath770 be the tangent bundle of @xmath20 ; cf .",
    "example  [ ex : bund](i ) .",
    "then , because @xmath20 is effective , the set @xmath1468 is nowhere dense .",
    "( in fact , @xmath1264 may be triangulated in such a way that @xmath1468 is a union of simplices of codimension @xmath1469 . )",
    "each point @xmath1470 has a neighborhood @xmath142 with a smooth compactly supported section @xmath1471 that is nonzero at @xmath1472 and satisfies the condition in proposition  [ prop : constr](ii ) , i.e. no open subset of @xmath1473 is contained in @xmath1468 .",
    "if @xmath142 is part of a local chart @xmath227 for @xmath20 , then , as explained in  @xcite , we may extend @xmath1474 to a multisection @xmath1317 as follows . over @xmath1475",
    ", @xmath1317 is the characteristic function of the zero section , i.e. @xmath1476 for @xmath1477 and @xmath1478 , while if @xmath1314 , @xmath1479 now choose a good atlas @xmath1480 for @xmath20 and a subordinate partition of unity @xmath1481 .",
    "choose for each @xmath493 and @xmath1482 a ( non compactly supported ) section @xmath1483 whose intersection with the nonsmooth set @xmath1468 has no interior points .",
    "then the sections @xmath1484 for any @xmath1485 have the same property over the support of @xmath1481 , at least , since @xmath1468 consists of lines @xmath1486 .",
    "now construct @xmath1487 as above from the section @xmath1488 , where @xmath1489 and then define @xmath1490 . consider the corresponding groupoid @xmath1344 as defined in proposition  [ prop : constr ] .",
    "this will be nonsingular for generic choice of the constants @xmath1491 and hence a wnb groupoid .",
    "we can tame it by lemma  [ le : tame ] . @xmath1189",
    "[ rmk : hwz]we end with some remarks about the * infinite dimensional case .",
    "* there are quite a few places in the above arguments where we used the local compactness of @xmath38 .",
    "for example we required that layered coverings @xmath696 give rise to proper maps @xmath559 , and used this to obtain the even covering property of lemmas  [ le : brstr ] and [ le : brstr1 ] . in the infinite dimensional context the notion of layered covering must be formulated in such a way that these lemmas hold .    both constructions for the resolution of an ep groupoid work in quite general contexts .",
    "for example , the construction of @xmath1043 works for groupoids in any category in which lemma  [ le : cov ] holds .",
    "similarly , the above construction of @xmath1344 works as long as there are enough local sections of @xmath770 .",
    "in particular we need partitions of unity .",
    "zehnder  @xcite define a notion of properness that yields a concept of ep polyfold groupoid @xmath20 that has all expected properties .",
    "in particular , these groupoids admit smooth partitions of unity since they are modelled on @xmath314-polyfolds built using hilbert rather than banach spaces .",
    "the fredholm theory developed in @xcite implies that a vector bundle @xmath770 equipped with a fredholm section @xmath11 has a good class of fredholm multisections @xmath1492 that perturb @xmath11 and meet the zero section transversally . since the kernel of the linearization of the operators @xmath13 has a well defined orientation , provided that one consider a class of multisections whose intersections with the zero set carry a natural orientation ; cf .",
    "the definition of @xmath6-moduli problem in  ( * ? ? ? * def .",
    "this intersection can be given the structure of a finite dimensional ( oriented ) wnb groupoid @xmath288 .",
    "since any two such multisections are cobordant in the sense that they extend to the pullback bundle over @xmath1493 , the cobordism class of @xmath288 is independent of choices , as is the fundamental class @xmath1 $ ] defined in proposition  [ prop : fclass ] .",
    "first , we sketch a proof that the homological euler class of definition  [ def : euler1 ] is poincar dual to the usual euler class for orbibundles . as haefliger points out in  @xcite",
    ", one can define cohomology characteristic classes for orbifolds by adapting the usual constructions for manifolds .",
    "for example , if @xmath1494 is an oriented @xmath309-dimensional orbibundle , choose the representing functor @xmath770 so that the vector bundle @xmath1495 is trivial over each component of @xmath21 .",
    "each trivialization of this bundle defines a functor @xmath1496 , where @xmath1497 is the topological category with one object and morphisms @xmath1498 corresponding to the group @xmath1498 of matrices of positive determinant .",
    "then the classifying space @xmath1499 is a model for the classifying space @xmath1500 of oriented @xmath309-dimensional bundles , and so carries a universal bundle .",
    "the euler class @xmath1501 of @xmath770 is defined to be the pullback by @xmath1502 of the euler class of this universal bundle .",
    "since the projection @xmath1503 induces an isomorphism on rational homology we may equally well think of @xmath1501 as an element in @xmath1504 . as such , it depends only on @xmath1494 and so may also be called @xmath1505 .",
    "we claim that the homology euler class @xmath1429 of definition  [ def : euler1 ] is poincar dual to @xmath1501 .",
    "one way to prove this is as follows . in what follows",
    "we assume for simplicity that @xmath20 is effective .",
    "note that @xmath1501 may be represented on the orbifold @xmath38 in terms of de rham theory by @xmath1506 , where @xmath1507 is the inclusion of the zero section and @xmath1508 is a compactly supported smooth form that represents the thom class .",
    ", @xmath1509 pulls back under the map @xmath1510 to a generator of the image of @xmath1511 in @xmath1512 . ]",
    "therefore it suffices to show that for each smooth @xmath1513-form @xmath1466 on @xmath38 , @xmath1514 where the tame branched manifold @xmath1515 represents @xmath1516 and the right hand integral is defined by equation   ( [ eq : int ] ) .",
    "this holds by adapting standard arguments from the smooth case . for example",
    ", we may choose a smooth triangulation of @xmath38 so that the singular points lie in the codimension @xmath90 skeleton , and then choose the multisection @xmath1317 so that its zero set @xmath1517 is transverse to this triangulation",
    ". then @xmath237 and @xmath1518 are both pseudocycles in @xmath38",
    ". then the left hand integral above equals the integral of @xmath1519 over @xmath1520 .",
    "but the pseudocycle @xmath1520 is cobordant to the weighted pseudocycle given by the image of the multisection @xmath1317 .",
    "( this is just the image of the fundamental class of @xmath1344 under @xmath1521 . )",
    "we now perturb the latter cycle straightening it out near the zero set @xmath1522 so that its intersection with a neighborhood @xmath1523 of @xmath1520 is precisely @xmath1524 ( with the obvious rational weights . )",
    "we may then choose @xmath1509 so that it vanishes outside @xmath142 .",
    "then @xmath1525    finally , we compare our approach to that of cieliebak ",
    "mundet i riera  salamon .",
    "although they work in the category of hilbert manifolds , we shall restrict attention here to the finite dimensional case .",
    "they consider an orbifold to be a quotient @xmath1526 , where @xmath6 is a compact lie group acting on a smooth manifold @xmath314 with finite stabilizers .",
    "hence , for them an orbibundle is a @xmath6-equivariant bundle @xmath1527 , where again @xmath6 acts on @xmath1528 with finite stabilizers .",
    "their proposition 2.7 shows that there is a homology euler class @xmath1529 for such bundles that lies in the equivariant homology group @xmath1530 and has all the standard properties of such a characteristic class , such as naturality , the expected relation to the thom isomorphism , and so on .        given such a quotient",
    "one can define a corresponding ep groupoid @xmath20 by taking a complete set of local slices for the @xmath6 action ; cf .",
    "the discussion at the beginning of  3 in moerdijk  @xcite . in the other direction , given an ep groupoid @xmath20 one takes @xmath314 to be the orthonormal frame bundle of @xmath38 with respect to some riemannian metric on its tangent bundle .",
    "the group @xmath6 is either @xmath1531 or @xmath1532 , where @xmath1533 .",
    "similarly , every orbibundle @xmath770 can be identified with a @xmath6-equivariant bundle @xmath1527 .",
    "the equivariant homology @xmath1534 is , by definition , the homology of the homotopy quotient @xmath1535 ( where @xmath1536 is the universal @xmath6-bundle , i.e. @xmath6 acts freely on @xmath1537 ) .",
    "because @xmath6 acts with finite stabilizers , the natural quotient map is an orbifold structure on @xmath1526 , then @xmath1535 can be identified with the classifying space @xmath1538 ( denoted @xmath307 in  @xcite ) , and the projection @xmath1539 can be identified with the natural map @xmath1503 . ] @xmath1539 induces an isomorphism on _ rational _ homology .",
    "hence , in this case , their euler class may be considered to lie in @xmath1540 .    in",
    "@xcite the euler class is constructed as the zero set of a multivalued section of the orbibundle @xmath1541 , much as above . however , the definitions in @xcite are all somewhat different from ours",
    ". for example the authors do not give an abstract definition of a weighted branched manifold but rather think of it as a subobject of some high dimensional manifold @xmath314 on which the compact lie group @xmath6 acts .",
    "they also treat orientations a little differently , in that they do not assume the local branches are consistently oriented but rather incorporate the orientation into a signed weighting function on the associated oriented grassmanian bundle ; cf .",
    "their definitions  9.1 and  9.11 . as pointed out in their remark  9.17 , their euler class can be defined in the slightly more restrictive setting in which the orientation is given by a consistent orientation of the branches . hence below",
    "we shall assume this , since that is the approach taken here .",
    "a third difference is that their definition  9.1 describes the analog of a weighted branched groupoid , i.e. they do not restrict to the nonsingular case as we did above . to have completely arbitrary orbifold structures .",
    "this problem is avoided in  @xcite because in this case the local orbifold structures are determined by the global @xmath6 action . ]",
    "however to check that the two euler classes are the same , it suffices to check that the multivalued sections used in their definition can be described by functors @xmath1317 as in definition  [ def : multi ] .",
    "here is the definition of a multivalued section given in ( * ? ? ?",
    "10.1 ) in the oriented case .",
    "[ def : crs ] consider an oriented finite dimensional locally trivial bundle @xmath1527 over an oriented smooth finite dimensional manifold @xmath314 .",
    "assume that a compact oriented lie group @xmath6 acts smoothly , preserving orientation and with finite stabilizers on @xmath1528 and @xmath314 , and that @xmath963 is @xmath6-equivariant .",
    "then a * multivalued section * of @xmath1528 is a function @xmath1542 such that      * ( local structure ) * for each @xmath1545 there is an open neighborhood @xmath142 of @xmath1472 and finitely many smooth sections @xmath1546 with weights @xmath1547 such that @xmath1548 where by convention the sum over the empty set is @xmath581 .    to see that every such multisection can be described in terms of a functor @xmath1317 we argue as follows .",
    "choose a locally finite covering of @xmath314 by sets @xmath1353 that have local section structures in the sense of definition  [ def : multi ] .",
    "by  @xcite proposition 9.8(i ) , the sets @xmath1353 and the sections @xmath1549 are locally @xmath6-invariant . in other words , we may assume that each @xmath1353 is the image of a finite to one map @xmath1550 , where @xmath1551 is a local slice for the @xmath6 action and @xmath1552 is a neighborhood of the identity in @xmath6 .",
    "we may use the local slices @xmath1553 , with their induced orientations , to build an ep groupoid @xmath20 representing @xmath1526 with objects @xmath1554 and morphisms induced by the @xmath6 action .",
    "there is a similar groupoid @xmath771 representing @xmath1555 with objects @xmath1556 .",
    "then , because @xmath278 is @xmath6-invariant , we may define a functor @xmath1557 by setting @xmath1558 this clearly satisfies the conditions of definition  [ def : multi ] .",
    "it is now straightforward to check that the definition of euler class in @xcite is consistent with the one given here ."
  ],
  "abstract_text": [
    "<S> cieliebak , mundet i riera and salamon recently formulated a definition of branched submanifold of euclidean space in connection with their discussion of multivalued sections and the euler class . </S>",
    "<S> this note proposes an intrinsic definition of a weighted branched manifold @xmath0 that is obtained from the usual definition of oriented orbifold groupoid by relaxing the properness condition and adding a weighting . </S>",
    "<S> we show that if @xmath0 is compact , finite dimensional and oriented , then it carries a fundamental class @xmath1 $ ] . </S>",
    "<S> adapting a construction of liu and tian , we also show that the fundamental class @xmath2 $ ] of any oriented orbifold @xmath3 may be represented by a map @xmath4 , where the branched manifold @xmath0 is unique up to a natural equivalence relation . </S>",
    "<S> this gives further insight into the structure of the virtual moduli cycle in the new polyfold theory recently constructed by hofer , wysocki and zehnder . </S>"
  ]
}