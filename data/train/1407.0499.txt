{
  "article_text": [
    "stochastic optimal control theory is largely applied in economics , finance , physics and management problems . since its development , numerical methods for stochastic control problems have also been largely investigated . for the markovian control problem , the value function",
    "can usually be characterized by hamilton ",
    "bellman ( hjb ) equations , then many numerical methods are also given as numerical schemes for pdes . in this context , a powerful tool to prove the convergence is the monotone convergence of viscosity solution method of barles and souganidis @xcite .    in the one - dimensional case ,",
    "the explicit finite difference scheme can be easily constructed and implemented , and the monotonicity is generally guaranteed under the courant  friedrichs  lewy ( cfl ) condition . in two dimensional cases , bonnans , ottenwaelter and",
    "zidani @xcite proposed a numerical algorithm to construct monotone explicit schemes .",
    "debrabant and jakobsen @xcite gave a semi - lagrangian scheme which is easily constructed to be monotone but needs finite difference grid together with interpolation method for the implementation . in general , these methods may be relatively efficient in low dimensional cases ; while in high dimensional cases , a monte carlo method is preferred if possible .    as a generalization of the feynman ",
    "kac formula , the backward stochastic differential equation ( bsde ) opens a way for the monte carlo method for optimal control problems ; see , for example , bouchard and touzi @xcite , zhang @xcite",
    ". generally speaking , the bsde covers the controlled diffusion processes problems of which only the drift part is controlled .",
    "however , it can not include the general control problems when the volatility part is also controlled .",
    "this is one of the main motivations of recent developments of second order bsde ( 2bsde ) by cheridito , soner , touzi and victoir @xcite and soner , touzi and zhang @xcite .",
    "motivated by the 2bsde theory in @xcite , and also inspired by the numerical scheme of bsdes , fahim , touzi and warin @xcite proposed a probabilistic numerical scheme for fully nonlinear parabolic pdes . in their scheme , one needs to simulate a diffusion process and estimate the value function as well as the derivatives of the value function arising in the pde by conditional expectations , and then compute the value function in a backward way on the discrete time grid .",
    "the efficiency of this monte carlo scheme has been shown by several numerical examples , and we refer to fahim , touzi and warin @xcite , guyon and henry - labordre @xcite and tan @xcite for the implemented examples .    however , instead of probabilistic arguments",
    ", the convergence of this scheme is proved by techniques of monotone convergence of viscosity solution of barles and souganidis @xcite . moreover ,",
    "their scheme can be only applied in the markovian case when the value function is characterized by pdes .",
    "the main contribution of this paper is to give a probabilistic interpretation to the monte carlo scheme of fahim , touzi and warin @xcite for fully nonlinear pdes , which allows one to generalize it to the non - markovian case for a general stochastic optimal control problem .",
    "one of the motivations for the non - markovian generalization comes from finance to price the path - dependent exotic derivative options in the uncertain volatility model .",
    "our general convergence result is obtained by weak convergence techniques in spirit of kushner and dupuis @xcite .",
    "in contrast to @xcite , where the authors define their controlled markov chain in a descriptive way , we give our controlled discrete - time semimartingale in an explicit way using the cumulative distribution functions .",
    "moreover , we introduce a canonical space for the control problem following el karoui , huu nguyen and jeanblanc @xcite , which allows us to explore the convergence conditions on the reward functions .",
    "we also provide a convergence rate using the invariance principle techniques of sakhanenko @xcite and dolinsky  @xcite . compared to the scheme in @xcite in the context of @xmath0-expectation ( see , e.g. , peng  @xcite for @xmath0-expectation )",
    ", our scheme is implementable using simulation - regression method .",
    "the rest of the paper is organized as follows . in section",
    "[ sec : numscheme ] , we first introduce a general path - dependent stochastic control problem and propose a numerical scheme .",
    "then we give the assumptions on the diffusion coefficients and the reward functions , as well as the main convergence results , including the general convergence and a rate of convergence .",
    "next in section  [ sec : proba_interp ] , we provide a probabilistic interpretation of the numerical scheme , by showing that the numerical solution is equivalent to the value function of a controlled discrete - time semimartingale problem",
    ". then we complete the proofs of the convergence results in section  [ sec : conv_proof ] .",
    "finally , in section  [ sec : implem_scheme ] , we discuss some issues about the implementation of our numerical scheme , including a simulation - regression method .    _",
    "notation_. we denote by @xmath1 the space of all @xmath2 matrices , and by @xmath3 the space of all positive symmetric @xmath4 matrices . given a vector or a matrix @xmath5 , then @xmath6 denotes its transposition .",
    "given two @xmath7 matrix @xmath5 and @xmath8 , their product is defined by @xmath9 and @xmath10 .",
    "let @xmath11 , \\r^d)$ ] be the space of all continuous paths between @xmath12 and @xmath13 , denote @xmath14 is a fixed compact polish space , we denote @xmath15 \\times\\om^d \\times e.\\ ] ] suppose that @xmath16 is a process defined on the discrete time grid @xmath17 of @xmath18 $ ] with @xmath19 and @xmath20 .",
    "we usually write it as @xmath21 , and denote by @xmath22 its linear interpolation path on @xmath18 $ ] . in the paper , @xmath23 is a constant whose value may vary from line to line .",
    "let @xmath24 be a complete probability space containing a @xmath25-dimensional standard brownian motion @xmath26 , @xmath27 be the natural brownian filtration .",
    "denote by @xmath11 , \\r ^d)$ ] the space of all continuous paths between @xmath12 and @xmath13 .",
    "suppose that @xmath28 is a compact polish space with a complete metric @xmath29 , @xmath30 are bounded continuous functions defined on @xmath31 \\times\\om^d \\times e$ ] taking value in @xmath32 .",
    "we fix a constant @xmath33 through out the paper . then given a @xmath34-progressively measurable @xmath28-valued process @xmath35 , denote by @xmath36 the controlled diffusion process which is the strong solution to @xmath37 to ensure the existence and uniqueness of the strong solution to the above equation ( [ eq : sde ] ) , we suppose that for every progressively measurable process @xmath38 , the processes @xmath39 and @xmath40 are progressively measurable . in particular , @xmath41 and @xmath42 depend on the past trajectory of @xmath43 .",
    "further , we suppose that there is some constant @xmath23 and a continuity module @xmath44 , which is an increasing function on @xmath45 satisfying @xmath46 , such that @xmath47 \\\\[-8pt ] \\nonumber & & \\qquad\\le c \\bigl|\\mathbf{x}_1^{t_1 } - \\mathbf{x}_2^{t_2}\\bigr| + \\rho\\bigl(|t_1 - t_2|+d_e(u_1 , u_2)\\bigr),\\end{aligned}\\ ] ] where for every @xmath48 \\times\\om^d$ ] , we denote @xmath49}(s ) + \\mathbf{x}_t 1_{(t , t]}(s)$ ] .",
    "let @xmath50 and @xmath51 be the continuous reward functions , and denote by @xmath52 the collection of all @xmath28-valued @xmath34-progressively measurable processes , the main purpose of this paper is to approximate numerically the following optimization problem : @xmath53.\\ ] ] similarly to @xmath41 and @xmath42 , we suppose that for every progressively measurable process @xmath38 , the process @xmath54 is progressively measurable .",
    "moreover , to ensure that the expectation in ( [ eq : v ] ) is well defined , we shall assume later that @xmath55 and @xmath56 are of exponential growth in @xmath57 and discuss their integrability in proposition [ prop : y_integ ] .      in preparation of the numerical scheme , we shall fix , through out the paper , a progressively measurable function @xmath58 \\times \\om^d \\to s_d$ ] such that @xmath59 \\times\\om^d,}\\end{aligned}\\ ] ] and with @xmath60 , @xmath61 for every @xmath48 \\times\\om^d$ ] .",
    "denote @xmath62 \\\\[-8pt ] \\nonumber a^{t,\\mathbf{x}}_u&:= & \\sigma\\sigma^{\\top}(t , \\mathbf{x } , u ) - a^{t,\\mathbf{x}}_0 , \\qquad b^{t,\\mathbf{x}}_u:= \\mu(t , \\mathbf{x},u).\\end{aligned}\\ ] ] then we define a function @xmath0 on @xmath18 \\times\\om^d \\times s_d \\times\\r^d$ ] by @xmath63 which is clearly convex in @xmath64 as the supremum of a family of linear functions , and lower - semicontinuous in @xmath65 as the supremum of a family of continuous functions",
    ". let @xmath66 denote the time discretization by @xmath20 and @xmath67 .",
    "let us take the standard @xmath25-dimensional brownian motion @xmath26 in the complete probability space @xmath24 .",
    "for simplicity , we denote @xmath68,@xmath69 , @xmath70 and @xmath71:= \\e [ \\cdot| \\fc^w_k]$ ]",
    ". then we have a process @xmath72 on the discrete grid @xmath73 defined by @xmath74 where @xmath75 denotes the linear interpolation process of @xmath76 on interval @xmath18 $ ] .",
    "then , for every time discretization @xmath77 , our numerical scheme is given by @xmath78 + h g\\bigl(t_k , \\widehat{x}{}^0_{\\cdot } , \\gamma^h_k , z^h_k \\bigr),\\ ] ] with terminal condition @xmath79 where @xmath0 is defined by ( [ eq : functiong ] ) and @xmath80,\\\\   z^h_k&:= & \\e^w_k \\biggl [ y^h_{k+1 } \\bigl(\\sigma_{0,k}^{\\top } \\bigr)^{-1 } \\frac{\\delta w_{k+1}}{h } \\biggr],\\end{aligned}\\ ] ] with @xmath81 .    by its definition",
    ", @xmath82 is a measurable function of @xmath83 .",
    "we shall show later in proposition [ prop : y_integ ] that the function @xmath84 is of exponential growth in @xmath85 under appropriate conditions , and hence the conditional expectations in ( [ eq : numschem ] ) are well defined .",
    "therefore , the above scheme ( [ eq : numschem ] ) should be well defined .",
    "[ rem : markovscheme ] in the markovian case , when the function @xmath86 [ resp . ,",
    "@xmath87 , @xmath88 and @xmath89 only depends on @xmath90 ( resp . , @xmath91 ) , so that the function @xmath92 only depends on @xmath91 and the value function of the optimization problem ( [ eq : v ] ) can be characterized as the viscosity solution of a nonlinear pde @xmath93 then the above scheme reduces to that proposed by fahim , touzi and warin  @xcite .",
    "our main idea to prove the convergence of the scheme ( [ eq : numschem ] ) , ( [ eq : numtermcond ] ) is to interpret it as an optimization problem on a system of controlled discrete - time semimartingales , which converge weakly to the controlled diffusion processes .",
    "therefore , a reasonable assumption is that @xmath56 and @xmath55 are bounded continuous on @xmath94 [ i.e. , @xmath95 , or they belong to the completion space of @xmath96 under an appropriate norm .",
    "we shall suppose that @xmath56 ( resp . , @xmath55 )",
    "is continuous in @xmath97 [ resp . , @xmath98 , and there are a constant @xmath23 and continuity modules @xmath99 , @xmath100 such that for every @xmath101 and @xmath102 , @xmath103\\times \\om^d$ ] and @xmath104 , @xmath105 where @xmath106 and @xmath107 .",
    "denote @xmath108 and @xmath109 where @xmath110 , @xmath111 and @xmath112 are defined in ( [ eq : note_a_u ] ) . clearly , @xmath113 .",
    "[ assum : g ] for every @xmath101 , we have @xmath114 further , the constants @xmath115 and @xmath116 .",
    "[ rem : positive_density ] assumption [ assum : g ] is almost equivalent to assumption f of @xcite in the context of the control problem , and it implies that the drift @xmath41 and @xmath42 are uniformly bounded , as assumed at the beginning of section  [ subsec : contrpb ] . in particular , it follows that when @xmath117 , we have @xmath118 moreover , since @xmath119 is supposed to be nondegenerate , the assumption implies that @xmath120 is nondegenerate for all @xmath101",
    ". the nondegeneracy condition may be inconvenient in practice ( see , e.g. , example [ exam : uvm ] ) , we shall also provide more discussions and examples in section  [ subsec : implem_g_expec ] .",
    "when @xmath121 uniformly for some @xmath122 , we get immediately @xmath115 since @xmath123 is uniformly bounded .",
    "when @xmath124 degenerates , @xmath125 implies that @xmath126 lies in the image of @xmath124 .",
    "[ prop : y_integ ] suppose that the reward functions @xmath55 and @xmath56 satisfy ( [ eq : condphi1 ] ) , then the optimal value @xmath127 in ( [ eq : v ] ) is finite .",
    "suppose in addition that assumption [ assum : g ] holds true .",
    "then for every fixed @xmath66 ( @xmath20 ) and every @xmath128 , as a function of @xmath129 , @xmath130 is also of exponential growth in @xmath131 . and",
    "hence @xmath82 is integrable in ( [ eq : numschem ] ) , the numerical scheme ( [ eq : numschem ] ) is well defined .",
    "the proof is postponed until section  [ subsec : technique_lemma ] after a technical lemma .",
    "our main results of the paper are the following two convergence theorems , whose proofs are left in section  [ sec : conv_proof ] .",
    "[ theo : convergence ] suppose that @xmath55 and @xmath56 satisfy ( [ eq : condphi1 ] ) and assumption [ assum : g ] holds true .",
    "then @xmath132    to derive a convergence rate , we suppose further that @xmath28 is a compact convex subset of @xmath133 , and for every @xmath134 , @xmath135 \\\\[-8pt ] \\nonumber \\sigma(t , \\mathbf{x},u ) & = & \\sigma(t , \\mathbf{x},a , b ) = a^{1/2}.\\end{aligned}\\ ] ] moreover , we suppose that @xmath136 for some continuous function @xmath137 \\times\\om^d \\to s_d \\times\\r^d$ ] and that there exists a constant @xmath138 such that for every couple @xmath139 , @xmath140 \\\\[-8pt ] \\nonumber & & \\qquad\\le c \\bigl ( |t_1 - t_2| + \\bigl|\\mathbf{x}^{t_1}_1 - \\mathbf { x}^{t_2}_2\\bigr| + |\\mathbf{x}_1 - \\mathbf{x}_2| \\bigr ) \\exp \\bigl ( c\\bigl(|\\mathbf{x}_1| + | \\mathbf{x}_2| \\bigr)\\bigr).\\end{aligned}\\ ] ]    [ theo : convergence_rate ] suppose that @xmath55 and @xmath56 satisfy conditions ( [ eq : condphi1 ] ) and ( [ eq : condphi2 ] ) , the set @xmath141 is compact and convex , functions @xmath41 and @xmath42 satisfy ( [ eq : conduplus ] ) , and assumption [ assum : g ] holds true .",
    "then for every @xmath122 , there is a constant @xmath142 such that @xmath143 if , in addition , @xmath55 and @xmath56 are bounded , then there is a constant @xmath23 such that @xmath144    in the markovian context as in remark [ rem : markovscheme ] , fahim , touzi and warin @xcite obtained a convergence rate @xmath145 for one side and @xmath146 for the other side using krylov s shaking coefficient method .",
    "then their global convergence rate is @xmath146 .",
    "we get a rate @xmath147 in this path - dependent case under some additional constraints . when there is no control on the volatility part , the bsde method in bouchard and touzi @xcite and zhang @xcite gives a convergence rate of order @xmath148",
    ". our current technique can not achieve this rate in the bsde context .",
    "when the covariance matrix @xmath149 is diagonal dominated , kushner and dupuis @xcite gave a systematic way to construct a convergent finite difference scheme .",
    "however , the construction turns to be not easy when the matrix is not diagonal dominated ; see , for example , bonnans , ottenwaelter and zidani  @xcite .",
    "our scheme relaxes this constraint .",
    "moreover , our scheme implies a natural monte carlo implementation , which may be more efficient in high dimensional cases , see numerical examples in fahim , touzi and warin @xcite , guyon and henry - labordre  @xcite and tan @xcite .",
    "before giving the proofs of the above convergence theorems , we first provide a probabilistic interpretation to scheme ( [ eq : numschem ] ) , ( [ eq : numtermcond ] ) in the spirit of kushner and dupuis @xcite .",
    "namely , we shall show that the numerical solution is equivalent to the value function of a controlled discrete - time semimartingale problem .    for finite difference schemes , the controlled markov chain interpretation given by kushner and dupuis",
    "@xcite is straightforward , where their construction of the markov chain is descriptive . for our scheme ,",
    "the probabilistic interpretation is less evident as the state space is uncountable .",
    "our main idea is to use the inverse function of the distribution functions .",
    "this question has not been evoked in the markovian context of @xcite since they use the monotone convergence of a viscosity solution technique , where the idea is to show that the terms @xmath150 and @xmath151 defined below ( [ eq : numtermcond ] ) are good approximations of the derivatives of the value function .",
    "given a fixed @xmath152 , let us simplify further the notation in ( [ eq : note_a_u ] ) , @xmath153 denote @xmath154 it follows by ( [ eq : defmg ] ) that for every @xmath152 and @xmath155 , @xmath156 \\\\ & & \\qquad\\ge h m_g.\\end{aligned}\\ ] ] then under assumption [ assum : g ] , one can verify easily ( see also remark [ rem : positive_density ] ) that when @xmath157 for @xmath158 given by ( [ eq : defh0 ] ) , @xmath159 is a probability density function on @xmath160 , that is , @xmath161    [ lemma : proba_density ] let @xmath162 and @xmath163 be a random vector with probability density @xmath159 . then for all functions @xmath164 of exponential growth , we have @xmath165= \\e \\biggl [ g(\\sigma_0 w_h ) \\biggl ( 1 + h b_u \\cdot\\bigl(\\sigma_0^{\\top } \\bigr)^{-1 } \\frac{w_h}{h } \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & & \\hspace*{108pt}{}+ \\frac{1}{2 } h a_u \\cdot\\bigl(\\sigma_0^{\\top}\\bigr)^{-1 } \\frac{w_h w^{\\top}_h - h i}{h^2 } \\sigma_0^{-1 } \\biggr ) \\biggr],\\end{aligned}\\ ] ] where @xmath166 is a @xmath25-dimensional gaussian random variable with distribution @xmath167 . in particular , it follows that there exists a constant @xmath168 independent of @xmath169 \\times q_t$ ] such that @xmath170 & = & b_u h , \\qquad\\operatorname{var } [ r ] = ( a_u + a_0 ) h - b_u b_u^{\\top } h^2 \\quad\\mbox{and } \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber \\e\\bigl[|r|^3\\bigr ] & < & c_1 h^{3/2},\\end{aligned}\\ ] ] where @xmath171 $ ] means the covariance matrix of the random vector @xmath172 .",
    "moreover , for any @xmath173 , @xmath174 \\le e^{c_2 h } ( 1 + c_2 h),\\ ] ] where @xmath175 is independent of @xmath176 and is defined by @xmath177    first , it is clear that @xmath178 is the density function of @xmath179 . then by ( [ eq : denstiy1 ] ) , @xmath180\\\\   & & \\hspace*{-4pt}\\qquad = \\int_{\\r^d } f_h(t , \\mathbf{x } , u , x ) g(x ) \\,dx \\\\ & & \\hspace*{-4pt}\\qquad= \\int_{\\r^d } \\frac{1}{(2\\pi h)^{d/2 } |\\sigma_0|^{1/2 } } \\exp \\biggl(- \\frac{1}{2 } h^{-1 } x^{\\top } a_0^{-1 } x \\biggr ) \\\\ & & \\hspace*{-4pt}\\hspace*{27pt}\\qquad{}\\times g(x ) \\biggl(1 - \\frac{1}{2 } a_u \\cdot a_0^{-1 } + b_u \\cdot a_0^{-1 } x + \\frac{1}{2 } h^{-1 } a_u \\cdot a_0^{-1 } x x^{\\top } \\bigl(a_0^{\\top}\\bigr)^{-1 } \\biggr ) \\,dx \\\\ & & \\hspace*{-4pt}\\qquad= \\e \\biggl [ g(\\sigma_0 w_h ) \\biggl ( 1 + h b_u \\cdot\\bigl(\\sigma_0^{\\top } \\bigr)^{-1 } \\frac{w_h}{h } + \\frac{1}{2 } h a_u \\cdot\\bigl(\\sigma_0^{\\top}\\bigr)^{-1 } \\frac{w_h w^{\\top}_h - h i}{h^2 } \\sigma_0^{-1 } \\biggr ) \\biggr].\\end{aligned}\\ ] ] hence ( [ eq : propr1 ] ) holds true .    in particular ,",
    "let @xmath181 or @xmath182 , it follows by direct computation that the first two equalities of ( [ eq : propr ] ) hold true .",
    "further , letting @xmath183 , we get from ( [ eq : propr1 ] ) that @xmath184\\\\ & & \\qquad = h^{3/2 } \\e \\bigl [ | \\sigma_0 n |^3 \\bigl ( 1 + \\sqrt{h } b_u \\cdot \\bigl(\\sigma_0^{\\top}\\bigr)^{-1 } n + \\tfrac{1}{2 } a_u \\cdot\\bigl(\\sigma _ 0^{\\top } \\bigr)^{-1 } \\bigl(n n^{\\top } - i\\bigr ) \\sigma_0^{-1 } \\bigr ) \\bigr],\\end{aligned}\\ ] ] where @xmath185 is a gaussian vector of distribution @xmath186 . and",
    "hence ( [ eq : propr ] ) holds true with @xmath187,\\end{aligned}\\ ] ] which is clearly bounded and independent of @xmath188 .    finally , to prove inequality ( [ eq : proprexp ] ) , we denote @xmath189 for every @xmath157 .",
    "then @xmath190\\\\   & & \\qquad= \\e \\biggl [ e^ { c^{\\top } \\sigma_0 w_h } \\biggl ( 1 + h b_u \\cdot\\bigl(\\sigma_0^{\\top } \\bigr)^{-1 } \\frac{w_h}{h } + \\frac{1}{2 } h a_u \\cdot\\bigl(\\sigma_0^{\\top}\\bigr)^{-1 } \\frac{w_h w^{\\top}_h - h i_d}{h^2 } \\sigma _ 0^{-1 } \\biggr ) \\biggr ] \\\\ & & \\qquad= \\e \\biggl [ e^ { c^{\\top } \\sigma_0 n \\sqrt{h } } \\biggl ( 1 + \\sqrt { h } b_u \\cdot \\bigl(\\sigma_0^{\\top}\\bigr)^{-1 } n + \\frac{1}{2 } a_u \\cdot\\bigl(\\sigma _ 0^{\\top } \\bigr)^{-1 } \\bigl ( n n^{\\top } - i_d \\bigr ) \\sigma_0^{-1 } \\biggr ) \\biggr ] \\\\ & & \\qquad= e^{({c^{\\top } a_0 c}/{2 } ) h } \\e \\biggl [ 1 + \\sqrt{h } b_u \\cdot \\bigl ( \\sigma_0^{\\top}\\bigr)^{-1 } n_h + \\frac{1}{2 } a_u \\cdot\\bigl(\\sigma_0^{\\top } \\bigr)^{-1 } \\bigl ( n_h n_h^{\\top } - i_d \\bigr ) \\sigma_0^{-1 } \\biggr ] \\\\ & & \\qquad= e^{({c^{\\top } a_0 c}/{2 } ) h } \\biggl ( 1 + \\biggl(b_u \\cdot c + \\frac { 1}{2 } c^{\\top } a_u c \\biggr ) h \\biggr ) \\\\ & & \\qquad \\le e^{c_2 h } ( 1 + c_2 h),\\end{aligned}\\ ] ] where @xmath191 is bounded and independent of @xmath192 .    [ rem : ab_positive ] since the random vector @xmath163 does not degenerate to the dirac mass , it follows by ( [ eq : propr ] ) that under assumption [ assum : g ] , @xmath193    with this technical lemma , we can give the proof of proposition [ prop : y_integ ] .",
    "proof of proposition [ prop : y_integ ] for the first assertion , it is enough to prove that latexmath:[$\\sup_{\\nu\\in\\uc } \\e [ \\exp(c    that @xmath41 and @xmath42 are uniformly bounded .",
    "when @xmath195 , @xmath36 is a continuous semimartingale whose finite variation part and quadratic variation are both bounded by a constant @xmath196 for every @xmath197 .",
    "it follows by dambis",
    "schwarz s time change theorem that @xmath198 \\le e^{c r_t } \\e \\exp \\bigl(c \\sup_{0 \\le t \\le",
    "r_t } |b_t| \\bigr ) < \\infty,\\ ] ] where @xmath8 is a standard one - dimensional brownian motion .",
    "when @xmath199 , it is enough to remark that for @xmath200 , @xmath201 ; and we then conclude the proof of the first assertion applying the cauchy  schwarz inequality .",
    "we prove the second assertion by backward induction .",
    "given @xmath202 , @xmath203 , we denote by @xmath204 the linear interpolation path of @xmath205 ; denote also @xmath206 for the terminal condition , it is clear that @xmath207 is of exponential growth in @xmath208 by condition ( [ eq : condphi1 ] ) . now , suppose that @xmath209",
    ". then it follows by ( [ eq : numschem ] ) and lemma [ lemma : proba_density ] that @xmath210 \\\\[-8pt ] \\nonumber & & \\hspace*{45pt}\\quad\\qquad{}\\times \\biggl ( 1 + h b^{t_k,\\widehat{x}}_u \\cdot\\bigl ( \\sigma_0^{\\top } \\bigr)^{-1 } \\frac{w_h}{h}\\\\ & & \\hspace*{98pt } { } + \\frac{1}{2 } h a^{t_k,\\widehat{x}}_u \\cdot \\bigl ( \\sigma_0^{\\top}\\bigr)^{-1 } \\frac{w_h w_h^{\\top } - h i}{h^2 } \\sigma_0^{-1 } \\biggr ) \\biggr ] \\biggr\\}\\nonumber \\\\ & & \\qquad= \\sup_{u \\in e } \\bigl\\ { h l_k(x_0 , \\ldots , x_k , u ) + \\e \\bigl [ y^h_{k+1 } ( x_0 , \\ldots , x_k , x_k + r_u ) \\bigr ] \\bigr\\}. \\nonumber\\end{aligned}\\ ] ] therefore by ( [ eq : condphi1 ] ) and ( [ eq : proprexp ] ) , @xmath211 \\\\ & & \\qquad\\le e^{c_2 h } ( 1 + c_2 h ) ( c_{k+1 } + ch ) \\exp \\bigl ( ( c_{k+1 } + ch ) \\max_{0 \\le",
    "i \\le k}|x_i| \\bigr),\\end{aligned}\\ ] ] where @xmath23 is the same constant given in ( [ eq : condphi1 ] ) , and the constant @xmath175 is from ( [ eq : proprexp ] ) depending on @xmath212 .",
    "we then conclude the proof .      in this section",
    ", we shall interpret the numerical scheme ( [ eq : numschem ] ) as the value function of a controlled discrete - time semimartingale problem . in preparation , let us show how to construct the random variables with density function @xmath159 .",
    "let @xmath213 $ ] be the cumulative distribution function of a one - dimensional random variable , denote by @xmath214 \\to\\r$ ] its generalized inverse function . then given a random variable @xmath215 of uniform distribution @xmath216)$ ] ,",
    "it is clear that @xmath217 turns to be a random variable with distribution @xmath218 . in the multi - dimensional case",
    ", we can convert the problem to the one - dimensional case since @xmath219 is isomorphic to @xmath220 $ ] , that is , there is a one - to - one mapping @xmath221 $ ] such that @xmath222 and @xmath223 are both borel measurable ; see , for example , proposition 7.16 and corollary 7.16.1 of bertsekas and shreve @xcite .",
    "define @xmath224 it is clear that @xmath225 is the distribution function of random variable @xmath226 where @xmath163 is a random variable of density function @xmath159 .",
    "denote by @xmath227 the inverse function of @xmath228 and @xmath229 then given a random variable @xmath215 of uniform distribution on @xmath220 $ ] , @xmath230 has the same distribution of @xmath226 and @xmath231 is of distribution density @xmath232 . in particular",
    ", it follows that the expression ( [ eq : y_h_ppd ] ) of numerical solution of scheme ( [ eq : numschem ] ) turns to be @xmath233 \\\\[-8pt ] \\nonumber & & \\qquad= \\sup_{u \\in e } \\e \\bigl[h l_k(x_0 , \\ldots , x_k , u )   + y^h_{k+1 } \\bigl(x_0 , \\ldots , x_k , x_k + h_h(t_k , \\widehat{x } , u , u ) \\bigr ) \\bigr],\\end{aligned}\\ ] ] where @xmath204 is the linear interpolation function of @xmath234 on @xmath235 $ ] .",
    "now , we are ready to introduce a controlled discrete - time semimartingale system .",
    "suppose that @xmath236 are i.i.d .",
    "random variables with uniform distribution on @xmath220 $ ] in the probability space @xmath24 .",
    "let @xmath237 denote the collection of all strategies @xmath238 , where @xmath239 is a universally measurable mapping from @xmath240 to @xmath28 .",
    "given @xmath241 , @xmath242 is defined by @xmath243 and @xmath244 we then also define an optimization problem by @xmath245.\\ ] ]    the main result of this section is to show that the numerical solution given by  ( [ eq : numschem ] ) is equivalent to the value function of optimization problem ( [ eq : vh0 ] ) on the controlled discrete - time semimartingales @xmath242 .",
    "it is clear that in the discrete - time case , every process is a semimartingale .",
    "when @xmath246 and @xmath215 is of uniform distribution on @xmath220 $ ] , the random variable @xmath231 is centered , and hence @xmath242 turns to be a controlled martingale .",
    "this is also the main reason we choose the terminology `` semimartingale '' in the section title .",
    "[ theo : proba_interp ] suppose that @xmath55 and @xmath56 satisfy ( [ eq : condphi1 ] ) and assumption [ assum : g ] holds true .",
    "then for @xmath247 with @xmath158 defined by ( [ eq : defh0 ] ) , @xmath248    the above theorem is similar to a dynamic programming result .",
    "namely , it states that optimizing the criteria globally in ( [ eq : vh0 ] ) is equivalent to optimizing it step by step in ( [ eq : y_h_ppd2 ] ) . with this interpretation",
    ", we only need to analyze the `` distance '' of the controlled semimartingale @xmath242 in ( [ eq : defxh ] ) and the controlled diffusion process @xmath36 in ( [ eq : sde ] ) to show this convergence of @xmath249 to @xmath127 in order to prove theorems [ theo : convergence ] and [ theo : convergence_rate ] . before providing the proof ,",
    "let us give a technical lemma .",
    "[ lemma : g_mesurable ] for the function @xmath0 defined by ( [ eq : functiong ] ) and every @xmath250 , there is a universally measurable mapping @xmath251 such that for all @xmath252 , @xmath253    this follows from the measurable selection theorem ; see , for example , theorem 7.50 of bertsekas and shreve @xcite or section  2 of el karoui and tan  @xcite .",
    "proof of theorem [ theo : proba_interp ] first , following ( [ eq : y_h_ppd2 ] ) , we can rewrite @xmath82 as a measurable function of @xmath254 , and @xmath255,\\end{aligned}\\ ] ] where @xmath204 is the linear interpolation function of @xmath234 on @xmath235 $ ] , @xmath256 is of uniform distribution on @xmath220 $ ] and @xmath257 is defined by ( [ eq : defl_k ] ) .",
    "next , for every control strategy @xmath241 and @xmath242 defined by ( [ eq : defxh ] ) , we denote @xmath258 and @xmath259,\\ ] ] which is clearly a measurable function of @xmath260 and satisfies @xmath261.\\end{aligned}\\ ] ] then by comparing @xmath262 with @xmath263 and the arbitrariness of @xmath241 , it follows that @xmath264    for the reverse inequality , it is enough to find , for any @xmath122 , a strategy @xmath265 with @xmath266 as defined in ( [ eq : defxh ] ) using @xmath267 such that @xmath268 + n \\eps.\\ ] ] let us write @xmath269 and @xmath270 defined below ( [ eq : numschem ] ) as a measurable function of @xmath271 , and @xmath272 be given by lemma [ lemma : g_mesurable ] , denote @xmath273 then by the tower property , the semimartingale @xmath266 defined by ( [ eq : defxh ] ) with @xmath267 satisfies ( [ eq : xh_eps ] ) .",
    "with the probabilistic interpretation of the numerical solution @xmath263 in theorem [ theo : proba_interp ] , we are ready to give the proofs of theorems [ theo : convergence ] and [ theo : convergence_rate ] .",
    "intuitively , we shall analyze the `` convergence '' of the controlled semimartingale @xmath242 in ( [ eq : defxh ] ) to the controlled diffusion process @xmath36 in  ( [ eq : sde ] ) .",
    "the main tool we use to prove theorem [ theo : convergence ] is the weak convergence technique due to kushner and dupuis @xcite .",
    "we adapt their idea in our context .",
    "we shall also introduce an enlarged canonical space for control problems following el karoui , huu nguyen and jeanblanc @xcite , in order to explore the convergence conditions .",
    "then we study the weak convergence of probability measures on the enlarged canonical space .      in dolinsky , nutz and soner @xcite",
    ", the authors studied a similar but simpler problem in the context of @xmath0-expectation , where they use the canonical space @xmath11 , \\r^d)$ ] .",
    "we refer to stroock and varadhan @xcite for a presentation of basic properties of canonical space @xmath94 .",
    "however , we shall use an enlarged canonical space introduced by el karoui , huu nguyen and jeanblanc @xcite , which is more convenient to study the control problem for the purpose of numerical analysis .",
    "[ [ an - enlarged - canonical - space-1 ] ] an enlarged canonical space + + + + + + + + + + + + + + + + + + + + + + + + + + +    let @xmath274 \\times e)$ ] denote the space of all finite positive measures @xmath275 on @xmath18 \\times e$ ] such that @xmath276 \\times e ) = t$ ] , which is a polish space equipped with the weak convergence topology .",
    "denote by @xmath277 the collection of finite positive measures @xmath278\\times e)$ ] such that the projection of @xmath275 on @xmath18 $ ] is the lebesgue measure , so that they admit the disintegration @xmath279 , where @xmath280 is a probability measure on @xmath28 for every @xmath281 $ ] , that is , @xmath282\\times e\\bigr ) \\dvtx m(dt , du ) = m(t , du ) \\,dt \\mbox { s.t . }",
    "\\int_e m(t , du ) = 1 \\biggr\\}.\\ ] ] in particular , @xmath283 is a measure - valued process .",
    "the measures in space @xmath277 are examples of young measures and have been largely used in deterministic control problems .",
    "we also refer to young @xcite and valadier @xcite for a presentation of young measure as well as its applications .",
    "clearly , @xmath277 is closed under weak convergence topology and hence is also a polish space .",
    "we define also the @xmath42-fields on @xmath277 by @xmath284 \\times e ) \\}$ ] , where @xmath285 .",
    "then @xmath286 turns to be a filtration .",
    "in particular , @xmath287 is the borel @xmath42-field of @xmath277 . as defined above ,",
    "@xmath288 , \\r^d)$ ] is the space of all continuous paths between @xmath12 and @xmath13 equipped with canonical filtration @xmath289 .",
    "we then define an enlarged canonical space by @xmath290 , as well as the canonical process @xmath43 by @xmath291 , @xmath292 , and the canonical filtration @xmath293 with @xmath294 .",
    "denote also by @xmath295 the collection of all probability measures on @xmath296 .",
    "[ [ four - classes - of - probability - measures ] ] four classes of probability measures + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    a controlled diffusion process as well as the control process may induce a probability measure on @xmath296 .",
    "further , the optimization criterion in ( [ eq : v ] ) can be then given as a random variable defined on @xmath296 .",
    "then the optimization problem ( [ eq : v ] ) can be studied on @xmath296 , as the quasi - sure approach in soner , touzi and zhang @xcite . in the following ,",
    "we introduce four subclasses of @xmath295 .",
    "let @xmath297 , we consider a particular strategy @xmath298 of the form @xmath299 for every @xmath300 $ ] , where @xmath301 , @xmath302 , @xmath303 is the controlled process given by ( [ eq : sde ] ) with strategy @xmath304 , and @xmath305 is a continuous function . clearly , @xmath306 is an adapted piecewise constant strategy .",
    "denote by @xmath307 the collection of all strategies of this form for all @xmath297 .",
    "it is clear that @xmath308 .",
    "given @xmath309 in the probability space @xmath24 , denote @xmath310 .",
    "then @xmath311 can induce a probability measure @xmath312 on @xmath296 by @xmath313 for every bounded measurable function @xmath314 defined on @xmath296 .",
    "in particular , for any bounded function @xmath315 with arbitrary @xmath316 , @xmath317 $ ] , @xmath318 \\times e \\to\\r $ ] bounded , @xmath319 then the first and the second subsets of @xmath295 are given by @xmath320    now , let @xmath321 and @xmath241 , denote @xmath322}(dt)$ ] , and @xmath323 be the discrete - time semimartingale defined by ( [ eq : defxh ] ) .",
    "it follows that @xmath324 induces a probability measure @xmath325 on @xmath296 as in ( [ eq : defpb ] ) .",
    "then the third subset of @xmath326 we introduce is @xmath327    finally , for the fourth subset , we introduce a martingale problem on @xmath296 .",
    "let @xmath328 be a functional operator defined by @xmath329 then for every @xmath330 , a process @xmath331 is defined on @xmath296 by @xmath332 denote by @xmath333 the collection of all probability measures on @xmath334 under which @xmath335 a.s . and",
    "@xmath336 is a @xmath337-martingale for every @xmath330 . in @xcite , a probability measure in @xmath333",
    "is called a relaxed control rule .",
    "[ rem : relaxmartprob ] we denote , by abuse of notation , the random processes in @xmath296 @xmath338 which are clearly adapted to the filtration @xmath339 .",
    "it follows that @xmath336 defined by ( [ eq : defm_phi ] ) is equivalent to @xmath340 therefore , under any probability @xmath341 , since @xmath342 is nondegenerate , there is a brownian motion @xmath343 on @xmath334 such that the canonical process can be represented as @xmath344    moreover , it follows by it s formula as well as the definition of @xmath312 in ( [ eq : defpb ] ) that @xmath345 for every @xmath309 . in resume ,",
    "we have @xmath346 .    [ [ a - completion - space - of - c_bombd ] ] a completion space of @xmath347 + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    now , let us introduce two random variables on @xmath296 by @xmath348 and @xmath349 where @xmath350 for every @xmath351 given the discretization parameter @xmath20 .",
    "it follows by the uniform continuity of @xmath55 that @xmath352 where @xmath99 is the continuity module of @xmath55 in @xmath353 given before ( [ eq : condphi1 ] ) .",
    "moreover , optimization problems ( [ eq : v ] ) and ( [ eq : vh0 ] ) are equivalent to @xmath354 \\quad\\mbox{and}\\quad v_0^h = \\sup_{\\pb\\in\\pcb_h } \\e^{\\pb } [ \\psi_h ] .\\ ] ]    finally , we introduce a space @xmath355 of random variables on @xmath296 .",
    "let @xmath356 and defined a norm @xmath357 for random variables on @xmath296 by @xmath358 denote by @xmath355 the completion space of @xmath347 under the norm @xmath359 .      we first give a convergence result for random variables in @xmath355 .",
    "then we show that @xmath360 defined by ( [ eq : defpsi ] ) belongs to @xmath355 . in the end , we provide two other convergence lemmas .",
    "[ lemma : l1starconv ] suppose that @xmath361 , @xmath362 is a sequence of probability measures in @xmath363 such that @xmath364 converges weakly to @xmath365 .",
    "then @xmath366 \\to \\e^{\\pb } [ \\xi].\\ ] ]    for every @xmath122 , there is @xmath367 such that @xmath368   \\le \\eps$ ] .",
    "it follows that @xmath369 - \\e^{\\pb } [ \\xi ] \\bigr| \\\\ & & \\qquad\\le \\limsup_{n \\to\\infty } \\bigl [ \\e^{\\pb_n } \\bigl [ | \\xi - \\xi _ { \\eps } | \\bigr ] + \\bigl| \\e^{\\pb_n } [ \\xi_{\\eps } ] - \\e ^{\\pb } [ \\xi _ { \\eps}]\\bigr | + \\e^{\\pb}\\bigl [ | \\xi_{\\eps } - \\xi | \\bigr ] \\bigr ] \\\\ & & \\qquad\\le 2 \\eps.\\end{aligned}\\ ] ] therefore , ( [ eq : weak_conv_l1 ] ) holds true by the arbitrariness of @xmath370 .",
    "the next result shows that the random variable @xmath360 defined by ( [ eq : defpsi ] ) belongs to  @xmath355 , when @xmath55 and @xmath56 satisfy ( [ eq : condphi1 ] ) .",
    "[ lemma : l1star ] suppose that assumption [ assum : g ] holds true , and @xmath56 and @xmath55 satisfy  ( [ eq : condphi1 ] ) .",
    "then the random variable @xmath360 defined by ( [ eq : defpsi ] ) lies in @xmath355 .",
    "we first claim that for every @xmath371 @xmath372 < \\infty,\\ ] ] which implies that",
    "@xmath373 < \\infty$ ] is uniformly bounded in @xmath77 and in @xmath241 .",
    "let @xmath374 such that @xmath375 , @xmath376 .",
    "then @xmath377 is a submartingale , and hence for every @xmath378,@xmath379 is also a submartingale .",
    "therefore , by doob s inequality , @xmath380 & \\le & e^{d c_0 t } \\e \\bigl [ \\sup_{0 \\le k \\le n } e^{c_1 |x^{h,\\phi}_k - c_0 t_k | } \\bigr ] \\\\",
    "& \\le & 2 e^{2 d c_0 t } \\sqrt { \\e \\bigl [ e^{2c_1 |x^{h,\\phi}_n| } \\bigr]},\\end{aligned}\\ ] ] where the last term is bounded uniformly in @xmath77 and @xmath381 by the claim ( [ eq : claim_exp_bound ] )",
    ". with the same arguments for the continuous - time case in spirit of remark [ rem : relaxmartprob ] , it follows by  ( [ eq : condphi1 ] ) and ( [ eq : defpsi ] ) that @xmath382\\le \\infty.\\ ] ] similarly , we also have @xmath383 \\le\\infty$ ] for @xmath384    let @xmath106 , @xmath385 and @xmath386 then @xmath387 is bounded continuous in @xmath388 , that is , @xmath389 .",
    "it follows by the cauchy ",
    "schwarz inequality that @xmath390 } \\frac{1}{\\sqrt{n } } \\to 0,\\end{aligned}\\ ] ] where the last inequality is from @xmath391 $ ] . and",
    "hence @xmath392 .",
    "therefore , it is enough to justify claim ( [ eq : claim_exp_bound ] ) to complete the proof .    by lemma [ lemma : proba_density ] , for every random variable @xmath163 of density function @xmath393 and every @xmath173 , we have @xmath394 \\le e^{c_2 h } ( 1 + c_2 h),\\ ] ] where @xmath395 .",
    "it follows by taking conditional expectation on @xmath396 that @xmath397 \\le c_0(c):= \\sup _ { h \\le h_0 } e^{c_2 t } ( 1 + c_2h)^{t / h } < \\infty.\\ ] ] let @xmath398 be the vectors of the form @xmath399 , and we can easily conclude that @xmath400 is uniformly bounded for all @xmath401 and @xmath402 with @xmath403 . furthermore , in spirit of remark [ rem : relaxmartprob ] and by the same arguments as ( [ eq : v_bounded ] ) in the proof of proposition [ prop : y_integ ] , @xmath404 )",
    ".    finally , we finish this section by providing two convergence lemmas , but leave their proofs in .",
    "[ lemma : weakcvg ] let @xmath405 be a sequence of probability measures such that @xmath406 . then @xmath405 is precompact , and any cluster point belongs to @xmath333 .",
    "let @xmath407 .",
    "then we can construct a sequence of probability measures @xmath405 such that @xmath408 and @xmath409 as @xmath410 .",
    "[ lemma : equiv_ws ] suppose that assumptions [ assum : g ] holds true , and @xmath56 and @xmath55 satisfy  ( [ eq : condphi1 ] ) . then @xmath411 = \\sup _ { \\pb\\in\\pcb _ r } \\e ^{\\pb } [ \\psi].\\ ] ]      finally , we are ready to give the proof of theorem [ theo : convergence ] .",
    "proof of theorem [ theo : convergence ] since @xmath412 by lemma [ lemma : l1star ] , then in spirit of lemma [ lemma : l1starconv ] , we get from ( i ) of lemma [ lemma : weakcvg ] that @xmath413 \\le   \\sup_{\\pb\\in\\pcb_r } \\e^{\\pb } [ \\psi].\\ ] ] moreover , it follows by ( ii ) of lemma [ lemma : weakcvg ] that @xmath414 \\ge   \\sup_{\\pb\\in\\pcb_{s_0 } } \\e^{\\pb } [ \\psi].\\ ] ] we hence conclude the proof of the theorem by lemma [ lemma : equiv_ws ] and ( [ eq : err_psi_psih ] ) , ( [ eq : equiv_v_vh_relax ] ) .",
    "the proof of theorem [ theo : convergence_rate ] is similar to dolinsky  @xcite , where the author uses the invariance principle technique of sakhanenko  @xcite to approximate the discrete - time martingales . in our context",
    ", we shall approximate discrete - time semimartingales .",
    "the next result is similar to lemmas 4.2 and 4.3 of dolinsky @xcite , which states that a continuous martingale can be approximated by its discrete - time version .    in ( [ eq : conduplus ] ) ,",
    "we assume that @xmath28 is a convex compact subset in @xmath133 and @xmath415 , @xmath416 for every @xmath417 . given a strategy @xmath418 as well as a discrete time grid @xmath419 ( @xmath420 , @xmath421 ) , let us define the following discrete - time processes : @xmath422,}\\end{aligned}\\ ] ] @xmath423 with @xmath424 , @xmath425 where @xmath426:= \\e [ \\cdot| \\fc^\\pi_k]$ ] for @xmath427 .",
    "we notice that by remark  [ rem : ab_positive ] , the matrix @xmath428 defined by ( [ eq : defdeltam ] ) is strictly positive for every @xmath429 under assumption [ assum : g ] and hence @xmath430 is well defined .",
    "we denote also @xmath431 = \\e_k^\\pi \\biggl [ \\int _ { t_k}^{t_{k+1 } } a_s \\,ds \\biggr ] - \\delta b_{k+1}^{\\pi,\\nu } \\bigl(\\delta b_{k+1}^{\\pi,\\nu } \\bigr)^{\\top}.\\ ] ] similarly , for every @xmath432 , a  discrete - time version of function @xmath360 in ( [ eq : defpsi ] ) can be given by @xmath433 where @xmath434 is the linear interpolation function of @xmath435 .",
    "now we introduce a discrete - time version of optimization problem ( [ eq : v ] ) , @xmath436\\qquad \\mbox{with } \\nu^{\\pi,\\nu}_k:= \\biggl ( \\frac { 1}{h } \\delta a^{\\pi,\\nu}_k , \\frac{1}{h } \\delta b^{\\pi,\\nu}_k \\biggr).\\ ] ]    the definition of @xmath437 in ( [ eq : defdeltam ] ) uses a perturbation version of  @xmath438 . the main purpose is to adapt the biased term appearing in the variance term of  ( [ eq : propr ] ) . in particular",
    ", it follows that @xmath439 almost surely for @xmath440    [ lemma : error_discretsemimart ] there is a constant @xmath23 independent of @xmath441 such that @xmath442 it follows that under conditions ( [ eq : condphi1 ] ) and ( [ eq : condphi2 ] ) , there is a constant @xmath23 such that @xmath443    given a control @xmath444 , denote @xmath445 then it is clear that @xmath446 .",
    "since @xmath447 is uniformly bounded , there is a constant @xmath23 independent of @xmath448 such that @xmath449 and @xmath450 moreover , it follows by lemmas 4.2 of dolinsky @xcite that @xmath451   \\le c \\frac { 1}{\\sqrt{n}}.\\ ] ] therefore , by the fact that @xmath452 , we prove ( [ eq : error_discretsemimart ] ) .",
    "\\(ii ) for the second assertion , we remark that by ( [ eq : condphi2 ] ) , for every @xmath309 , @xmath453 with similar arguments as used at the beginning of the proof of proposition [ prop : y_integ ] , we have @xmath454 < + \\infty\\qquad \\mbox{for every } c > 0.\\ ] ] finally , it follows by ( [ eq : vd ] ) , ( [ eq : error_discretsemimart ] ) together with the cauchy  schwarz inequality that  ( [ eq : error_discretv ] ) holds true .      let @xmath455 be a semimartingale on the discrete time grid @xmath456 in the probability space @xmath24 .",
    "we have also characteristics @xmath457 and @xmath458 defined by decomposition with respect to the natural filtration of @xmath455 , let @xmath459 , @xmath460 be the conditional increment terms as @xmath461 , @xmath462 defined at the beginning of section  [ subsubsec : disc_semimart ] .",
    "suppose in addition that there is a constant @xmath374 such that @xmath463 and @xmath464 a.s .",
    ", where @xmath465 is defined in ( [ eq : defeh ] ) .",
    "let @xmath466 \\to\\r^d$ ] be a measurable mapping such that for every @xmath467 and random variable @xmath215 with uniform distribution on @xmath220 $ ] , @xmath468   \\\\[-8pt ]   \\nonumber    \\e \\bigl|h(a , b , u)\\bigr|^3 & < & c_h\\end{aligned}\\ ] ] for a constant @xmath469",
    ".    now , on another probability space @xmath470 equipped with @xmath471 and @xmath472 which are i.i.d . with uniform distribution on @xmath220 $ ] , we can approximate the distribution of @xmath43 in @xmath473 by sums of random variables of the form @xmath474 in @xmath475 .",
    "[ lemma : xd_xh ] there is a constant @xmath23 such that for every @xmath476 , we can construct two semimartingales @xmath477 and @xmath478 on @xmath479 as well as @xmath480 and @xmath481 such that @xmath482 in @xmath470 has the same distribution as that of @xmath483 in @xmath484 .",
    "moreover , @xmath485 \\\\[-8pt ] \\nonumber \\pb \\bigl ( \\max_{1 \\le k \\le n } \\bigl| \\xb^\\pi_k - \\xb^h_k \\bigr| > \\theta",
    "\\bigr ) & \\le & c \\frac{c_h",
    "n } { \\theta^3}.\\end{aligned}\\ ] ]    we refer to lemma 3.2 of dolinsky @xcite for a technical proof , where the main idea is to use the techniques of invariance principle of sakhanenko @xcite .",
    "the process @xmath478 is defined in ( [ eq : xd_xh ] ) by characteristics of @xmath477 , with @xmath486 as well as function @xmath487 .",
    "if we stay in the general stochastic control problem context , @xmath487 is a function depending on @xmath97 , it follows then that the process @xmath478 is constructed by using functions of the form @xmath488 , which may not be an admissible controlled semimartingale defined in ( [ eq : defxh ] ) .",
    "this is the main reason for which we need to suppose that @xmath487 is independent of @xmath97 in ( [ eq : conduplus ] ) to deduce the convergence rate in theorem [ theo : convergence_rate ] .",
    "[ rem : ch_value ] with @xmath489 given by ( [ eq : defhh ] ) , set @xmath490 since @xmath491 for every @xmath467 , then function ( [ eq : hequalfh ] ) above is well defined . moreover , it follows by lemma [ lemma : proba_density ] that @xmath487 satisfies ( [ eq : proph ] ) with @xmath492 , for @xmath493 independent of @xmath448 . in particular , let @xmath494 , and then @xmath495 for another constant @xmath168 independent of @xmath448 ( or equivalently of @xmath496 ) .      by theorem [ theo : proba_interp ] and lemma [ lemma : error_discretsemimart ]",
    ", we only need to prove separately that @xmath497 and @xmath498    [ [ first - inequality - eqfirstineqrate ] ] first inequality ( [ eq : firstineqrate ] ) + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    for every @xmath309 as well as the discrete - time semimartingale @xmath499 defined at the beginning of section  [ subsubsec : disc_semimart ] , we can construct , following lemma [ lemma : xd_xh ] , @xmath500 and @xmath478 in a probability space @xmath470 with @xmath501 as in remark [ rem : ch_value ] , such that the law of @xmath500 under @xmath502 is the same as @xmath503 in @xmath24 , and  ( [ eq : xd_xh ] ) holds true for every @xmath504 .",
    "fix @xmath505 , and denote @xmath506 denote also @xmath507 by the same arguments we used to prove claim ( [ eq : claim_exp_bound ] ) , we know that@xmath508 $ ] is bounded by a constant independent of @xmath309 .",
    "it follows by the definition of @xmath509 in ( [ eq : defpsi_h ] ) as well as ( [ eq : condphi1 ] ) and ( [ eq : condphi2 ] ) that for every @xmath122 , there is a constant @xmath142 independent of @xmath309 such that @xmath510\\nonumber \\\\ & & \\qquad\\le c \\e^{\\pb } \\bigl [ \\exp \\bigl(c\\bigl(\\bigl|\\widehat{\\xb}{}^{\\pi}_{\\cdot}\\bigr| + \\bigl | \\widehat{\\xb}{}^h_{\\cdot}\\bigr|\\bigr ) \\bigr)\\bigl | \\widehat { \\xb}{}^\\pi_{\\cdot } - \\widehat{\\xb}{}^h_{\\cdot } \\bigr| \\bigr ] \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & & \\qquad\\le c_{\\eps } \\bigl ( h^{1/8 } + \\pb(\\mathcal{e})^{1/(1 - 8\\eps ) } \\bigr ) \\\\ & & \\qquad\\le c_{\\eps } h^{1/8 - \\eps},\\nonumber\\end{aligned}\\ ] ] where the second inequality follows from hlder s inequality and remark  [ rem : ch_value ] .",
    "next , we claim that @xmath511 = \\e^{\\pb } \\biggl [ \\sum_{k=0}^{n-1 } h l \\bigl ( t_k , \\widehat{\\xb}{}^h_{\\cdot } , \\nub^\\pi _ { k+1 }",
    "\\bigr ) + \\phi\\bigl(\\widehat{\\xb}{}^h_{\\cdot}\\bigr ) \\biggr ]   \\le v_0^h.\\ ] ] then by the arbitrariness of @xmath309 , it follows by the definition of @xmath512 in ( [ eq : vd ] ) that  ( [ eq : firstineqrate ] ) holds true .",
    "hence we only need to prove the claim ( [ eq : claim_rate ] ) .",
    "we can use the randomness argument as in dolinsky , nutz and soner @xcite for proving their proposition 3.5 . by the expression of @xmath478 in ( [ eq : xd_xh ] ) , using regular conditional probability distribution",
    ", there is another probability space @xmath513 together with independent uniformly distributed random variables @xmath514 , @xmath515 and measurable functions @xmath516^k \\times [ 0,1]^k \\to e_h$ ] such that with @xmath517 and @xmath518 the distribution of @xmath519 in @xmath520 equals to @xmath521 in @xmath470 . denote for every @xmath522^{n}$ ] , @xmath523 since @xmath487 is given by ( [ eq : hequalfh ] ) , it follows by the definition of @xmath465 in ( [ eq : defeh ] ) as well as that of @xmath249 in ( [ eq : vh0 ] ) that , with strategy @xmath524 , @xmath525\\le v^h_0.\\ ] ] and hence , @xmath526 & = & \\e \\bigl [ \\psi_d\\bigl ( \\tilde x^{\\tilde u ' } , \\tilde \\nu^{\\tilde u'}\\bigr ) \\bigr ] \\\\ & = & \\int_{[0,1]^{n } } \\e \\bigl [ \\psi_\\pi\\bigl ( \\tilde x^u , \\tilde\\nu^u\\bigr ) \\bigr ]",
    "\\,du \\le v^h_0.\\end{aligned}\\ ] ] therefore , we proved the claim , which completes the proof of inequality  ( [ eq : firstineqrate ] ) .",
    "[ [ second - inequality - eqsecondineqrate ] ] second inequality ( [ eq : secondineqrate ] ) + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    let @xmath527 denote the distribution function of the random variable @xmath528 , where @xmath166 is of gaussian distribution @xmath529 .",
    "denote also by @xmath530 the inverse function of @xmath531 .",
    "then for every @xmath242 with @xmath241 , we can construct @xmath478 as in ( [ eq : xd_xh ] ) with @xmath532 such that its distribution is closed to that of @xmath242 . by the same arguments as in the proof of ( [ eq : firstineqrate ] ) , we can prove ( [ eq : secondineqrate ] ) .",
    "[ [ third - inequality - eqthirdineqrate ] ] third inequality ( [ eq : thirdineqrate ] ) + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    when @xmath56 and @xmath55 are both bounded , we can improve the estimations in ( [ eq : rate_interm1 ] ) to @xmath533 h^{1/8 } \\le c h^{1/8}.\\end{aligned}\\ ] ] and all the other arguments in the proof of ( [ eq : firstineqrate ] ) and ( [ eq : secondineqrate ] ) hold still true .",
    "we hence complete the proof of ( [ eq : thirdineqrate ] ) .",
    "we shall discuss some issues for the implementation of the scheme ( [ eq : numschem ] ) .",
    "the numerical scheme ( [ eq : numschem ] ) demands that @xmath534 for every @xmath535 in assumption [ assum : g ] , which implies that the volatility part should be all nondegenerate . however , many applications are related to degenerate cases .    [",
    "exam : uvm ] let @xmath536 , and @xmath537 $ ] , @xmath246 and @xmath538 for @xmath539 .",
    "a concrete optimization problem is given by @xmath540 introducing @xmath541 , the above problem turns to be @xmath542 which can be considered in the framework of ( [ eq : v ] ) .",
    "however , the volatility matrix of the controlled process @xmath543 is clear degenerate .",
    "the above example is the case of variance option pricing problem in uncertain volatility model in finance .",
    "[ exam : ov ] an typical example of variance option is the option `` call sharpe '' where the payoff function is given , with constants @xmath544 and @xmath545 , by @xmath546    to make numerical scheme ( [ eq : numschem ] ) implementable in the degenerate case , we can perturb the volatility matrix . concretely , given an optimization problem ( [ eq : v ] ) with coefficients @xmath41 and @xmath42 , we set @xmath547 \\\\[-8pt ] \\nonumber   a^{\\eps}(t,\\mathbf{x},u)&:= & \\sigma^{\\eps } \\bigl(\\sigma^{\\eps } \\bigr)^{\\top}(t,\\mathbf{x},u).\\end{aligned}\\ ] ] clearly , @xmath548 is nondegenerate .",
    "given @xmath309 , let @xmath549 be the solution to sde @xmath550 then a new optimization problem is given by @xmath551,\\ ] ] which is no longer degenerate .",
    "a similar idea was also illustrated in guyon and henry - labordre @xcite as well as in jakobsen @xcite for degenerate pdes .",
    "we notice in addition that by applying ito s formula on the process @xmath552 , then taking expectations and using classical method with gronwall s lemma , we can easily get the error estimation @xmath553 it follows that when @xmath55 and @xmath56 satisfy conditions ( [ eq : condphi1 ] ) and ( [ eq : condphi2 ] ) , we have @xmath554      to make scheme ( [ eq : numschem ] ) implementable , a natural technique is to use the simulation - regression method to estimate the conditional expectations arising in the scheme .",
    "first , given a function basis , we propose a projection version of scheme ( [ eq : numschem ] ) .",
    "next , replacing the @xmath555-projection by least - square regression with empirical simulations of @xmath72 , it follows an implementable scheme .",
    "the error analysis of the simulation - regression method has been achieved by gobet , lemor and warin @xcite in the context of bsde numerical schemes . in this paper",
    ", we shall just describe the simulation - regression method for our scheme and leave the error analysis for further study .      in practice",
    ", we usually add new variables in the optimization problem and make the dynamic of @xmath72 [ given by ( [ eq : defx0 ] ) ] markovian .",
    "suppose that for @xmath556 , there are functions @xmath557 , @xmath558 and @xmath559 for every @xmath560 such that @xmath561 and @xmath562 .",
    "then @xmath563 is a markovian process from  ( [ eq : defx0 ] ) .",
    "suppose further that there are functions @xmath564 and @xmath565 such that @xmath566 then it is clear that the numerical solution @xmath82 of ( [ eq : numschem ] ) can be represented as a measurable function of @xmath567 , where the function @xmath0 in ( [ eq : functiong ] ) turns to be @xmath568    in finance , when we consider the payoff functions of exotic options such as asian options and lookback options , we can usually add the cumulative average , or cumulative maximum ( minimum ) to make the system markovian .      to simplify the notation , let us just give the scheme for the case @xmath569 ,",
    "although , in general , this case can be easily deduced ; we also omit the superscript @xmath77 for @xmath570 .",
    "let @xmath571 be a family of basis functions where every @xmath572 is function defined on @xmath573 so that @xmath574 is a convex subclass of @xmath575 . a projection operator @xmath576 is defined by @xmath577 similarly , with basis functions @xmath578 and @xmath579",
    ", we can define @xmath580 , @xmath581 as well as the projections operators @xmath582 , @xmath583 .",
    "inspired by @xcite , we propose the following two projection schemes : with the same terminal condition @xmath584    [ [ first - scheme ] ] first scheme + + + + + + + + + + + +    @xmath585    [ [ second - scheme ] ] second scheme + + + + + + + + + + + + +    @xmath586 \\bigl ( \\sigma_0^{\\top } \\bigr)^{-1 } \\frac{\\delta w_{k+1}}{h } \\biggr ) , \\vspace*{2pt } \\cr \\displaystyle\\hat\\gamma_k = \\pc^{\\gamma}_k \\biggl ( \\biggl [ \\hat y_t + \\sum_{i = k+1}^{n-1 } h \\gb\\bigl(t_k , x^0_k , s^0_k , \\hat\\gamma_i , \\hat z_i\\bigr ) \\biggr ] \\bigl ( \\sigma_0^{\\top}\\bigr)^{-1}\\vspace*{2pt}\\cr \\hspace*{113pt}\\displaystyle{}\\times \\frac{\\delta w_{k+1}^{\\top } \\delta w_{k+1 } - h i_d}{h^2 } \\sigma_0^{-1 } \\biggr ) . } \\ ] ]    we note that the numerical solutions are of the form @xmath587 , @xmath588 and @xmath589 with functions @xmath590 .",
    "the simulation - regression scheme consists of simulating @xmath591 empirical processes by ( [ eq : defx0 ] ) , denoted by @xmath592 , and then replacing the projection of ( [ eq : defpcy ] ) by empirical least square method to estimate functions @xmath593 , @xmath594 and @xmath595 .",
    "concretely , with the simulation - regression method , the first scheme turns to be @xmath596 where @xmath597 and @xmath598 , @xmath599 are also given by the corresponding least square method .",
    "similarly , we can easily get an empirical regression scheme for the second projection scheme .    finally , we finish by remarking that in error analysis as well as in practice , we usually need to use truncation method in formula ( [ eq : yzgamma ] ) with the a priori estimations of @xmath600 .",
    "we shall give here the proofs of lemmas [ lemma : weakcvg ] and [ lemma : equiv_ws ] .",
    "the arguments are mainly due to section  8 of kushner @xcite , we adapt his idea of proving his theorems 8.1 , 8.2 and 8.3 in our context .",
    "we first recall that given @xmath601 , @xmath602 is defined by ( [ eq : defxh ] ) and@xmath603 for @xmath604 $ ] .",
    "denote @xmath605 for @xmath606 $ ] and @xmath607:= \\e[\\cdot| \\fc _ k^{h,\\phi_h}]$ ] for @xmath608 .",
    "then for every @xmath330 , it follows by taylor expansion that @xmath609 - \\varphi \\bigl(x^{h,\\phi_h}_k\\bigr ) \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & & \\qquad= \\e^{h,\\phi_h}_k \\biggl [ \\int_{t_k}^{t_{k+1 } } \\lc^{s , \\widehat{x}{}^{h,\\phi_h } , \\phi^h_s } \\varphi\\bigl(\\widehat{x}{}^{h,\\phi_h}_s\\bigr ) \\,d s \\biggr ] + \\eps_h,\\end{aligned}\\ ] ] where @xmath610 , and @xmath44 is the continuity module of @xmath41 and @xmath42 in @xmath353 given by ( [ eq : cond_mu_sigma ] ) , with a constant @xmath23 depending on @xmath611 but independent of @xmath612 .",
    "proof of lemma [ lemma : weakcvg ] ( i ) first , let @xmath613 be the sequence of probability measures on @xmath334 given in the lemma .",
    "suppose that @xmath614 is induced by @xmath615 with @xmath601 , then by ( [ eq : propr ] ) , and it is clear that there is a constant @xmath616 such that for all @xmath617 , @xmath618 = \\sup _ { 0 < h",
    "\\le h_0 } \\e \\bigl [ \\bigl| \\widehat{x}_t{}^{h,\\phi _ h } - \\widehat{x}_s{}^{h,\\phi_h}\\bigr |^3 \\bigr ]   \\le c_3 |t - s|^{3/2},\\ ] ] and hence it follows the precompactness of @xmath619 .",
    "further , since @xmath28 is supposed to be a compact polish space , it follows by prokhorov s theorem that @xmath274 \\times e)$ ] ( the space of all positive measures @xmath275 on @xmath18 \\times e$ ] such that @xmath276 \\times e ) = t$ ] ) is compact under the weak convergence topology . then @xmath277 is also compact as a closed subset of @xmath274 \\times e)$ ] .",
    "it follows that the class of probability measures @xmath620 on @xmath277 is precompact ( still by prokhorov s theorem ) . therefore , @xmath621 is precompact .",
    "suppose that @xmath502 is a limit measure of @xmath613 , we shall show that @xmath341 .",
    "it is enough to show that for every @xmath330 ,",
    "@xmath622 \\to0 \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\eqntext{\\mbox { as } h \\to0}\\end{aligned}\\ ] ] for arbitrary @xmath623 , @xmath624 , @xmath625 , @xmath626 \\times e)$ ] and bounded continuous function @xmath627 , where the process @xmath331 is defined by ( [ eq : defm_phi ] ) . since @xmath614 is induced by @xmath628 with @xmath601 , then @xmath629 \\\\ & & \\qquad= \\e \\biggl [ f \\biggl ( \\widehat{x}{}^{h,\\phi_h}_{s_i } , \\int _ 0^{s_i } \\psi _ j\\bigl ( \\phi^h_r\\bigr ) \\,dr , i\\le i , j\\le j \\biggr)\\\\ & & \\hspace*{11pt}\\qquad\\quad{}\\times \\biggl [ \\varphi\\bigl(\\widehat { x}{}^{h,\\phi _ h}_t\\bigr ) - \\varphi\\bigl ( \\widehat{x}{}^{h,\\phi_h}_s\\bigr )   -\\int_s^t \\lc^{s , \\widehat{x}{}^{h,\\phi_h } , \\phi^h_s } \\varphi\\bigl ( \\widehat { x}{}^{h,\\phi _ h}_r\\bigr ) \\,dr \\biggr ] \\biggr],\\end{aligned}\\ ] ] which turns to @xmath12 as @xmath410 by taking conditional expectations and using  ( [ eq : mh_martingale ] ) .",
    "\\(ii ) suppose that @xmath630 is induced by a controlled process @xmath303 and the control @xmath631 is of the form @xmath632 , where @xmath633 when @xmath634 $ ] for functions @xmath635 and a constant @xmath297 .",
    "let @xmath636 be the probability measure on @xmath94 induced by @xmath303 , which is clearly the unique probability measure on @xmath94 under which @xmath335 a.s . and",
    "@xmath637 is a @xmath638-martingale for every @xmath330 , where @xmath43 is the canonical process of @xmath94 , and @xmath639 is defined by ( [ eq : deflc ] ) .",
    "now , for every @xmath157 , let us consider the strategy @xmath640 defined by @xmath641 denote by @xmath642 the probability measure induced by @xmath242 on @xmath94 , it follows by the same arguments as in proving ( [ eq : mphi_martingale ] ) , together with the uniqueness of solution to the martingale problem associated to ( [ eq : martpbo ] ) , that @xmath643 .",
    "moreover , since under @xmath636 , @xmath644 is continuous , it follows that @xmath645 , where @xmath646 denotes the probability measure on @xmath475 induced by @xmath324 .    in preparation of the proof for lemma [ lemma : equiv_ws ]",
    ", we shall introduce another subset of @xmath295 .",
    "let @xmath297 , we consider the strategy @xmath647 for @xmath648 $ ] , where @xmath649 are measurable functions defined on @xmath650 , \\r^d)$ ] .",
    "denote by @xmath651 the collection of all probability measures induced by @xmath652 as in ( [ eq : defpb ] ) , with @xmath306 of this form .",
    "then it is clear that @xmath653    proof of lemma [ lemma : equiv_ws ] first , by almost the same arguments as in section  4 of el karoui , huu nguyen and jeanblanc @xcite ( especially that of theorem 4.10 ) that for every @xmath341 , there is a sequence of probability measures @xmath364 in @xmath651 such that @xmath654 , where the main idea is using fleming s chattering method to approximate a measure on @xmath18 \\times e$ ] by piecewise constant processes .",
    "we just remark that the uniform continuity of @xmath41 and @xmath42 w.r.t .",
    "@xmath655 in ( [ eq : cond_mu_sigma ] ) is needed here , and the `` weak uniqueness '' assumption in their paper is guaranteed by lipschitz conditions on @xmath41 and @xmath42",
    ". then we conclude by the fact that we can approximate a measurable function @xmath656 defined on @xmath650 , \\r^d)$ ] by functions @xmath657 which is continuous ( we notice that in theorem 7.1 of kushner @xcite , the author propose to approximate a measurable function @xmath649 by functions @xmath658 which are constant on rectangles ) .",
    "we are grateful to nizar touzi , j. frdric bonnans , nicole el karoui and two anonymous referees for helpful comments and suggestions ."
  ],
  "abstract_text": [
    "<S> we give a probabilistic interpretation of the monte carlo scheme proposed by fahim , touzi and warin [ _ ann . </S>",
    "<S> appl . </S>",
    "<S> probab . _ * 21 * ( 2011 ) 13221364 ] for fully nonlinear parabolic pdes , and hence generalize it to the path - dependent ( or non - markovian ) case for a general stochastic control problem . a general convergence result is obtained by a weak convergence method in the spirit of kushner and dupuis [ _ numerical methods for stochastic control problems in continuous time _ ( 1992 ) springer ] . </S>",
    "<S> we also get a rate of convergence using the invariance principle technique as in dolinsky [ _ electron . </S>",
    "<S> j. probab . _ </S>",
    "<S> * 17 * ( 2012 ) 15 ] , which is better than that obtained by viscosity solution method . finally , by approximating the conditional expectations arising in the numerical scheme with simulation - regression method </S>",
    "<S> , we obtain an implementable scheme . </S>"
  ]
}