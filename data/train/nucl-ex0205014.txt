{
  "article_text": [
    "the solenoidal tracker at rhic ( star ) is a large detector , designed to study relativistic heavy ion collisions at center of mass energies up to @xmath1gev per nucleon , for nuclei ranging from protons to gold@xcite .",
    "the main purpose of the experiment is to search for signals of the quark - gluon plasma ( qgp ) .",
    "a wide variety of qgp signatures have been proposed .",
    "star is optimized to study produced hadrons over a large fraction of phase space .",
    "this imposes many requirements on the central time projection chamber ( tpc ) that is the central detector for star and on its front end electronics ( fee ) .",
    "the tpc must track and identify particles over as large an acceptance as possible .",
    "because central heavy ion collisions produce high - multiplicity final states , it must have good pattern recognition and reconstruction capabilities in regions that are densely packed with tracks .",
    "the tracking must be efficient at finding and identifying low - momentum particles , and have good momentum resolution for high - momentum ones",
    ". it must be able to accurately point tracks back to the primary vertex and be able to detect secondary and tertiary vertices such as @xmath2 , @xmath3 , @xmath4 and @xmath5 decays .",
    "it must be able to identify particles by @xmath0 below the relativistic rise . in order to measure the source size via hanbury - brown twiss correlations",
    ", it must have excellent two - track separation .",
    "in addition to the search for the qgp , rhic will also study collisions of polarized protons and also ultra - peripheral electromagnetic interactions involving heavy ions .",
    "the star tpc is a 4 meter long cylinder surrounding the beam pipe@xcite .",
    "the tpc covers from 50 cm to 200 cm in radius .",
    "the gas is 90% argon , 10% methane ( p-10 ) at 1 atmosphere ; 50% helium , 50% ethane is a possible upgrade to reduce multiple scattering .",
    "the electronics is designed to accommodate either gas .",
    "electrons from ionized gas drift toward the nearest endcap , where they are read out .",
    "the tpc readout is divided into 24 sectors , 12 at each end .",
    "each sector is divided into inner and outer subsectors . as fig .",
    "[ ftpcrd ] shows , the readout chambers have 3 wire planes : a gated grid , ground plane , and anode wires .",
    "the inner and outer sector geometries are somewhat different , to emphasize 2-track separation at small radii , and good @xmath0 and moderate channel count at large radii .",
    "table i compares the inner and outer sector characteristics .    the gated grid is normally closed , minimizing buildup of positively charged ions in the drift volume . when a trigger is received , the voltages are switched and it becomes transparent . the ground plane , anode wires and tpc pad plane form a multi - wire proportional chamber .",
    "electrons drift to the wire where they initiate an avalanche , leaving a cloud of positively charged ions remaining around the wire .",
    "the 136,608 pads on the tpc pad plane image this charge ; this image charge goes to the electronics .",
    "the size and shape of the ion cloud depends on the number of primary ions , drift distance and diffusion , and gas gain .",
    "these factors are quite different for the inner and outer sectors .",
    "the signal @xmath6 reaching the electronics depends on the capacitative coupling @xmath7 between the ion cloud and the pad : @xmath8 where @xmath9 is the geometry - dependent number of primary electrons , @xmath10 is the gas gain , and @xmath11 accounts for the convolution of the diffusion - spreading with the preamplifier shaping .",
    "the value 0.63 is the convolution of a gaussian distribution for a 2 meter drift distance with the actual amplifier response function .",
    "table 1 compares the other values for the inner and outer sectors .",
    "the gas gains depend on the wire voltages @xmath12 .",
    "these gas gains were measured in chamber prototypes using an @xmath13 source .",
    "the inner ( @xmath14 ) and outer ( @xmath15 ) sector gains may be parameterized @xmath16 } & \\ \\ \\ \\ \\ \\ \\ \\ &   g_o = \\exp{[0.009341(v-628.7)]}.\\end{aligned}\\ ] ] since the signal has a long tail as the ions drift away from the wire , the measured gain depends on the shaping time used in the amplifier .",
    "the quoted gains are for the 200 ns fwhm shaper used in star .    to minimize the charge deposited on the wires , and maximize the chamber lifetime ,",
    "the anode wires are operated at the lowest possible gain consistent with a 20:1 signal to noise ratio : about 3770 in the inner sectors , and only 1230 in the outer sectors .",
    "since the noise levels are very similar , the two geometries produce similarly sized minimum ionizing particle signals , about 22,000 electrons .",
    "the width of the signals depends on both the diffusion and on the response of the wire chamber . in p-10 gas in the full 0.5 t magnetic field , the transverse and longitudinal diffusion are 185 @xmath17 and 320 @xmath18 respectively . after a typical 1 meter drift , an electron cloud measures 1.8 mm transversely by 3.2 mm longitudinally .",
    "this cloud is further broadened by the track dip angle and crossing angles .",
    "the tpc resolution is roughly given by the diffusion divided by @xmath19 where @xmath9 is the number of primary electrons , typically 100 .",
    "after accounting for the dip and crossing angles and averaging over chamber position , the resolution is about 350 @xmath20 m transversely by 700 @xmath20 m longitudinally .",
    "the tpc tpc pads have widths far larger than this transverse resolution .",
    "because of this , a multi - pad fit is required to reach the diffusion limit .",
    "the star system@xcite is similar to the design used for the eos@xcite and na-49@xcite tpc electronics .",
    "in fact , na-49 and star share the sca / adc chip design . however , the star system has a larger dynamic range , lower noise , and a much faster readout rate . a slightly modified version of this electronics is also used for the 22,000 pads in the 2 star forward tpcs ( ftpcs)@xcite .",
    "because of the high probability of multiple hits on a single tpc pad , each pad must be read out with a waveform digitizer .",
    "if the system takes several samples for each ionization cluster reaching the pad , then a 3-point fit can be used to localize the hit to within a fraction of a time sample . for a 3-point fit ,",
    "calculations show that the contribution of the electronics noise to the resolution is comparable to the intrinsic chamber resolution when the signal to noise ratio is 20:1 .",
    "this requires that the electronics noise must be less than 1,000 electrons .",
    "noise decreases with increasing shaping time ; the electronics is best matched to the tpc if the shaping time is comparable to the width of the signals . with p-10 ,",
    "the drift velocity is about 5.5 cm/@xmath20s ( 36@xmath20s total ) , so signals are about 200 ns fwhm .",
    "helium - ethane has a much slower , 2.5 cm/@xmath20s drift velocity ( 80@xmath20s total ) , but less diffusion , so the change in signal length is moderate . to accommodate the variation ,",
    "a shaper with a adjustable shaping time was chosen .",
    "it should be noted that the chamber resolution could be improved slightly by increasing the signal to noise ratio further .",
    "the other significant analog challenge came from the wire response function .",
    "the signals have a long - lived ( @xmath21s ) tail due to the time it takes for the positive ion cloud to disperse from around the wire .",
    "this tail is different for p-10 and helium - ethane .",
    "this tail is removed with an electrically adjustable tail cancellation circuit .",
    "the response was fine tuned by using digitized waveforms of the actual chamber wire response function .",
    "the number of digitized samples is set by the diffusion spreading and two - track resolution .",
    "if the signal is spread over 3 buckets , then the arrival time can be found to @xmath22 of a bucket ; this requires about 500 time samples .",
    "the electronics accepts a maximum of 512 samples ( with an option to upgrade to 1024 ) .",
    "in the summer 2000 run about 380 time - buckets were filled . the multi - pad and multi - time sample fits used to find",
    "the position of the ionization clusters impose fairly stringent requirements on channel to channel gain variation ( @xmath23% ) and crosstalk ( @xmath24% ) .",
    "the dynamic range is set by the energy loss ( @xmath0 ) of produced particles .",
    "the maximum ionization expected was from a 200 mev / c proton , which produces a signal that is 10 times minimum ionizing .",
    "we allow a further factor of 4 to account for non - zero dip angles ( which increase the path length ) and landau fluctuations . with the 20:1 signal to noise ratio",
    ", this leads to an 800:1 dynamic range , or 10 bits .",
    "finally , the system must work in a 0.5 t magnetic field .",
    "cooling considerations and the need to maintain the pad plane at a constant temperature ( for @xmath0 stability ) limit the power consumption to less than 100 mw / channel .",
    "the system must be read out in 10 msec .",
    "although star will write less than 100 events / second to tape , the faster readout rate will allow a larger event sample to be examined by the level 3 trigger .",
    "the ftpc fee requirements were similar to those for the main tpc .",
    "however , the signals were considerably slower , and so the signal shaping required a fwhm of about 400 ns .",
    "the longer shaping time reduced both the signal slewing rates and the preamplifier noise .",
    "only 256 time - buckets were needed in the system . however , because of the limited cooling available , power consumption was a problem .",
    "because of the slower rise times , we were able to run the sas preamplifiers and output buffers at considerably lower currents than in the main tpc , 40 mw / channel .",
    "figure [ foverview ] shows how the system is divided into two components .",
    "small , 32-channel fee cards plug into the tpc pad plane , and contain all of the circuitry for amplification , shaping and analog to digital conversion .",
    "the fee cards are supported by larger readout boards , which provide power and control signals , read out the data , and send it to the data acquisition system .",
    "the fee card contains two custom chips : a star preamplifier / shaper ( sas ) chip and a switched capacitor array / adc chip ( sca / adc ) ; each chip contains 16 channels .",
    "the sas contains low noise integrating preamplifiers , 2-pole shapers and buffers to drive the sca chip .",
    "the sca / adc includes 512 time - bin switched capacitor arrays and 12-bit wilkinson adc s , plus an output buffer and multiplexer .",
    "both chips are implemented in a 1.2@xmath20 m 2-poly , 2-metal cmos process .",
    "a key attribute of this process was the ability to make high - quality ( good dielectric ) capacitors for the sca .",
    "up to 36 fee cards are controlled and read out by a readout board ( rdo ) .",
    "the board multiplexes the digital signals from the fee cards and sends the data to the data acquisition system ( daq ) on a 1.2 gbit / sec fiber optical link .",
    "a trigger system initiates events , including several types of calibrations , and distributes the sca acquisition clocks .",
    "the readout board also includes a 1-event memory for event storage ( mostly for debugging ) , a slow controls link that can turn parts of the system on and off and monitor temperatures and voltages .",
    "it also includes voltage regulators for itself and the fee cards .    in the ftpcs , the fee cards each read out 64 channels ;",
    "a single fee card is connected to a cable . by using smaller chip packages ,",
    "the ftpc fee cards are about the same size as their main tpc counterparts , despite the increased channel count .",
    "[ fsas ] shows a block diagram of the sas chip@xcite .",
    "the input is a folded cascode integrator with a switched reset .",
    "the input fet capacitance is about 10 pf , optimized to match the tpc pad capacitance .",
    "the fet measures 7200 @xmath20 m by 1.2@xmath20 m , and runs with 2.9 ma drain current .",
    "this gives it a noise of 560 electrons + 14 electrons per pf of input capacitance .",
    "the typical input capacitance was about 25 pf , from the pad , connecting trace and connector .",
    "this led to a typical noise level of 910 electrons .",
    "the integration capacitor @xmath25 is 1.6 pf , big enough to handle a maximum input charge of 1.1 pc , or 300 minimum ionizing particles .",
    "a resistive discharge was considered for the integrator , but was abandoned because of the difficulty of obtaining consistent , appropriately high resistance .",
    "when a trigger occurs , the reset switch opens in parallel with the tpc gating grid , so no data is lost due to the opening time .",
    "the chip includes input protection diodes for protection against sparking .",
    "although the fee cards include a place for external protection diodes for additional protection , external diodes were not installed .",
    "if an anode wire sparks to a pad , damage will usually be limited to that channel , with some chance of destroying the entire 16-channel sas chip .",
    "this was considered an acceptable risk , compared to the problems of leakage currents in the external diodes .",
    "the two - pole shaper and tail correction are both electrically adjustable to accommodate either p-10 or helium - ethane gas .",
    "the shaper peaking time is adjustable from 60 to 150 ns .",
    "the tail correction timing is similarly adjustable .",
    "the tail correction is adjustable so that , for either p-10 or he - eth , after @xmath26s , the remaining uncorrected tail is less than 1% of the maximum input .",
    "the resistors are implemented with mosfets biased in their linear region .",
    "the resistances are adjustable by changing the gate voltage ; these voltages are externally adjustable .",
    "the drawback of this approach is that the resistors are only linear over a limited range , usually @xmath27 volt .",
    "so , the resistors were implemented with 4 mosfets in series . with this circuit , the width changes by @xmath28 going from small signals to full scale . the chip - to - chip variation in timing constants and chip gain",
    "are both less than 4% .",
    "unfortunately , the chip - to - chip gain variation is largely correlated with the variation in pulse width , so that the integrated output voltage varies by a larger factor , up to 8% .",
    "the shaper amplifier uses the  cold resistor  technique for differentiation .",
    "this reduces the noise referred to the input . in the sas ,",
    "almost all of the noise comes from the input fet .",
    "the overall chip gain is 16 mv / fc , so a minimum ionizing signal is about 40 mv ; the maximum output voltage is 2 volts .",
    "the crosstalk specification is @xmath29 0.36% .",
    "this required using very heavy metallization .",
    "the chip includes a charge - injection calibration system .",
    "charge can be injected into each input through a capacitor connected to an external voltage .",
    "a serially loaded shift register determines which channel(s ) are pulsed .",
    "the output buffer is designed to drive a 50 pf load ( 2 sca s ) .",
    "the reason for this is that the fee card includes an option to add 2 additional sca / adc chips to the back of the board , to expand the system to 1024 time samples .",
    "the sas die measures 2.6 mm by 3.6 mm and was packaged in an 68 pin plcc .",
    "the yield was about 70% , in accord with expectations based on the die size .",
    "dice were also mounted in an tqfp80 package for use in the ftpc readout .      as fig .",
    "[ fsca ] shows , each channel of the sca / adc chip is made up of a 512-capacitor array which serves as an analog storage unit@xcite , and a 12 bit adc@xcite . during sampling",
    ", each capacitor is connected to the chip input in turn , by a switch .",
    "the 512 switches are closed in turn by a shift register .",
    "the sca performance is dependent on the process used to make the chip .",
    "we used a 1.2 @xmath20 m cmos process ; the 0.7 pf capacitors are made from two metal layers separated by a polysilicon dielectric .",
    "this gives them a low dielectric loss angle .",
    "the adc is a conventional 12-bit wilkinson rundown adc ; star uses only 10 bits . in star , it counts on both edges of a 90 mhz clock signal .",
    "counting takes about 6@xmath20s , with an additional @xmath30 @xmath20s allowed for the op amp settling and switching between capacitors . running 16 converters in parallel introduces significant economies of scale .",
    "each individual channel requires only a comparator and a latch .",
    "a single voltage ramp feeds all 16 comparators and a single 12-bit counter feeds all 16 latches .",
    "the 12-bit counter is implemented as 3 4-bit grey code counters .",
    "this design was a tradeoff between circuit complexity and minimizing the number of transitions on any given clock edge . during sca testing",
    ", the chips are tested with a slow ramp .",
    "any problems in the grey code counter will show up as non - monotonic behavior on the ramp , and the chip will be rejected .",
    "the 16 latches are read out by a double - buffer , a 16:1 multiplexer , a grey code to binary converter , and an output buffer .",
    "the buffer was designed to allow analog to digital conversion to proceed during readout of the preceding time samples .",
    "we do not use this feature because it introduces considerable additional noise .",
    "the system has a dynamic range of up to 4 volts ; we use a 2 volt range because it offers improved linearity , @xmath31% .",
    "one adc count corresponds to 2 mv .",
    "the sca noise is about 1 mv , relatively independent of operating condition .",
    "this noise is probably due to charge injection in the switches .",
    "the pedestal varies by about 4 mv from time - bin to time - bin ; this pedestal is subtracted on - line by the data acquisition system .",
    "the analog performance of the sca / adc was studied with a variety of methods .",
    "the dynamic linearity was studied with fast ( 5 mhz ) triangle waves , and was found to match the static behavior . the effective aperture time",
    "was studied with an input step function .",
    "the phase of the step with respect to the sample clock was adjusted in 1 ns steps , and the changing output monitored .",
    "the measured rise time was about 5 ns , comparable to the rise time of the input step .",
    "this was more than satisfactory for star needs .",
    "crosstalk was observed only between adjacent channels , but most of this is probably external to the chip .",
    "the biggest chip - to - chip variation was in the sca / adc gain , about @xmath32 .",
    "the channel - to - channel gain variation within a chip was small , typically less than 0.4% .",
    "the larger chip - to - chip gain variation was likely in the adc ramp generator .",
    "the chip - to - chip gain exceeded our specifications , so we sorted the chips by gain , into 6 different classes .",
    "a different external resistor was used in the ramp generator for each class , to greatly reduce the gain variation .",
    "because of the daq zero suppresion design , all pedestals were required to be less than 256 adc counts ( 512 mv)@xcite .",
    "most pedestals were in the range of 125 - 175 adc counts . within a channel ,",
    "each time - bin had a slightly different pedestal ; typical variation was a few mv .",
    "these pedestals were determined and subtracted by the data acquisition system .",
    "the pedestals have been very constant with time , varying by a small fraction of an adc count .",
    "if the system is dormant for too long ( 10 s of seconds ) , leakage allows the voltages on the sca capacitors to drift , eventually reaching saturation .",
    "when they reach saturation , a single readout cycle may not be enough to fix the capacitors to the correct input voltage .",
    "because of this , we do not accept the first event after the sytem has been halted or paused . during operations ,",
    "we generate fake triggers as needed to avoid saturation .",
    "the sca die measures 5 mm by 8 mm and was packaged in an 84 pin plcc .",
    "the yield was about 30% .",
    "chips used in the forward tpc ( ftpc ) readout were mounted in pqfp100 packages .",
    "[ ffeephoto ] shows a photo of the fee card .",
    "the large chips are the sas and sca s .",
    "the card also includes a 90 mhz adc clock and a 2:1/4:1 multiplexer .",
    "signals are read out over a 50-pin ribbon cable .",
    "most of the control signals are distributed over this cable , along with regulated @xmath33 vdc .",
    "control voltages for the sas and sca are also distributed on this cable , but with on - board buffers for the nodes with significant current draw .",
    "the 90 mhz adc digitization clock is generated on the fee card , to avoid high - frequency signal distribution .",
    "in addition to the pad signals , the 44-pin fee connector also provides an 8 bit geographical address . these addresses",
    "are etched into the pad plane , and uniquely identify each of the 181 fee cards in a sector .",
    "these identifiers can be read out to the data acquisition system through a geographical address event .",
    "these geographical events make it easy to identify cabling errors .",
    "since the tpc pad plane must be maintained to @xmath34 c to keep the wire gain constant and maintain the @xmath0 calibration , the fee cards needed to be water cooled .",
    "the cards are cooled through a mounting bracket which is glued and screwed to the back of the card .",
    "this bracket mounts to a 3/8  square aluminum cooling channel which has water running through it .",
    "this connection to the cooling channel also serves as a ground .    because the ftpc signals are slower , the ftpc system can be run at lower currents .",
    "both the sas input current and sas buffer current are significantly reduced .",
    "this allows the ftpc fee cards to be air cooled .      besides the sas , noise comes from 3 sources : dielectric losses in the tpc pad plane , charge injection noise in the sca , and quantization noise in the adc .",
    "the g-10 pad plane is a poor dielectric , with a loss angle @xmath35 .",
    "the capacitance with a g-10 dielectric acts as a noise source , generating noise equivalent to a resistor with resistance given by the real part of the capacitance , @xmath36 . for the star geometry and shaping ,",
    "the noise is about 300 electrons .",
    "the sca charge injection noise of 1 mv is equivalent to 420 electrons .",
    "the sca quantization noise is @xmath37 adc counts , or about 250 electrons .",
    "all of the noise sources are independent , so the total noise is their quadrature sum of 1075 electrons ( for a relatively high capacitance , 25 pf pad ) .",
    "[ ffeenoise ] shows a histogram of the noise on the 5682 installed channels in one sector .",
    "the mean is 1.3 counts , or 990 electrons , meeting the specifications ; there is no significant additional noise due to inadequate grounding , pickup , or other external sources .",
    "figure [ frdo ] shows a block diagram of the readout board .",
    "its main function is as a multiplexer , reading data from the fee cards and sending it to the data acquisition system over a 1.2 gbit / sec fiber optic link .",
    "digitization on the fee card proceeds synchronously with data transmission , so there is little buffering on the readout board .    as fig .",
    "[ frdophoto ] shows , the fee cards are divided into groups of 4 , 2 boards on each of 2 cables .",
    "each group is controlled by its own field programmable gate array ( fpga ) , a xilinx 4008 .",
    "each group also has its own positive and negative voltage regulators , and can be turned on and off via the star control system .",
    "each fpga is also connected to a 40-bit wide 15 mhz tristate bus which transfers the data to the serializer chip and laser diode .",
    "the fpgas contain state machines which control the 4 boards , and buffers to synchronize the fee card readout with the data readout bus cycle .",
    "the data are sent to daq in an order that simplies the eventual on - line reconstruction .",
    "the ordering matches the requirements of the data acquisition system , but is essentially arbitrary from the fee standpoint .",
    "this required ordering complicates the state machine .    the 40 bit wide bus feeds a 2:1 multiplexer / level shifter / latch which itself feeds a hp g - link serializer which sends the data to a finnisar optical transmitter",
    ". the g - link serializer runs at 60 mhz , so that the data is sent to the daq system at 1.2 ghz ; the link actually runs at 1.44 ghz after manchester encoding .",
    "because the daq system is less than 100 meters from the detector , we use relatively inexpensive 50@xmath20 m diameter multi - mode fiber for the transmission .",
    "the readout board also has a 1 mword 10-bit wide memory that can store the data from a single event .",
    "this memory is intended mainly for diagnostic purposes , allowing the same event to be sent multiple times .",
    "it can also be written to and read out from the slow controls link discussed below .",
    "data collection , digitization and readout is controlled by a trigger bus , an 8 pair differential pecl bus that runs at 5 times the rhic crossing frequency ( about 50 mhz ) ; one cable drives an entire sector of 6 readout boards .",
    "every 105 ns ( each rhic crossing ) , the trigger transmits a 4-bit trigger action word , a 12-bit trigger token and a 4-bit daq action word .",
    "the trigger action word can initiate readout , abort the readout of an event in process ( if it is rejected by a higher level trigger ) , initiate calibration readout with the sas pulser , and write events to or read events from the event memory .",
    "the token uniquely identifies each event , insuring that , during event building , there is no mixing of pieces from different triggers .",
    "the daq word can be used to control daq functionality to allow for different type of processing for different types of triggers .",
    "the readout boards are monitored and controlled by a hardware controls link@xcite .",
    "the system can monitor voltages , currents ( via the voltage drop in the power cables ) , and temperatures .",
    "thermistors for temperature measurement are placed on the pad plane itself .",
    "it can also independently control power to each group of 4 fee cards .",
    "finally , it can be used to read out the event memory . because this readout takes 40 seconds / sector , is mainly for diagnostic purposes .",
    "the link is based on the high - level data link control ( hdlc ) protocol@xcite .",
    "the physical link is rs-485 running at 1 mbit / second .",
    "on the readout board , the protocol is implemented in a plug - in card holding a motorola 68302 communications processor , memory , and interface logic .",
    "the off - detector end is a commercial vme module . because of some limitations on the commercial modules , the system includes looped back timing , giving a system that behaves closer to rs-422 .",
    "each sector of 6 readout boards is fed by a single hdlc cable .",
    "the same hardware and protocol is used by several other star subsystems .",
    "the readout board is powered by @xmath38 v and @xmath39 v ferroresonant power supplies .",
    "a fully populated readout board consumes about 15 amps at both @xmath38 v and @xmath39 v ; each readout board is powered a by kepco series c 300 watt power supply .",
    "ferroresonant supplies were chosen for their reliability , moderate regulation and lack of switching noise .",
    "they regulate output voltage to within 0.7 v ( for 25% to 100% load changes ) ; linear regulators on the readout board provide better regulation , but the initial regulation reduces the on - detector power dissipation .",
    "the power cables are part of the system ; @xmath38 v , ground and @xmath39 v are each carried by two 12-gauge wires .",
    "the ground lead current is small because the positive and negative current consumption are quite closely matched .",
    "the voltages are monitored at the supply and on the readout board ; the voltage drop ( typically about 1v ) is proportional to the current consumption . to avoid ground loops ,",
    "the cable grounds are not grounded at the power supplies .",
    "the readout boards are water cooled , using a similar setup as with the fee cards .",
    "there is no zero suppression on the readout boards .",
    "the introduction of relatively inexpensive , fast fiber optic links , together with uncertainties about the algorithm for selecting non - zero sequences , led star to implement zero suppression in the data acquisition system .    as fig .",
    "[ frdophoto ] shows , physically , the readout boards are split into master and slave pieces .",
    "the master contains all of the unique parts of the circuitry : fiber driver , trigger interface , event memory and slow controls interface , along with 5 fpga fee - card controllers , enough to control 20 fee cards .",
    "the slave board contains 2 , 3 or 4 fee - card controllers , to control 8 , 12 or 16 fee cards .",
    "this multiple - sizing matches the readout boards to the number of nearby fee cards and available physical space . on the inner sectors ,",
    "the master and slave boards are physically separated by a 20 cm cable .",
    "the readout boards also have geographical addresses .",
    "these are set via programmed connectors which are physically tied to the cooling structure .",
    "the tight space constraints on the ftpc led to some design changes in the readout board .",
    "readout boards were mounted some distance from the fee cards , with cables up to 2 meters long , and connected with small ( 0.025  ) pitch cables . to avoid digital crosstalk ,",
    "the fee cards were read out at half the speed of the main tpc .",
    "the optical link speed was maintained with the use of double buffering .",
    "a single board layout was used , instead of the master / slave setup for the main tpc .",
    "although the readout boards operate quite independently , the sca signal acquisition must be synchronous across the entire detector to simplify the event reconstruction",
    ". the sca acquisition frequency must be adjustable to account for changing gas mixtures , tpc cathode voltages , and possibly pressure . at the same time , acquisition must begin at a fixed phase with respect to the collision that causes the trigger .",
    "this is currently done by using the 10.5 mhz rhic beam - crossing clock as the sca clock . at this speed",
    ", the full drift time corresponds to about 380 time - buckets .    in the future",
    ", a programmable clock may be used . an analog prototype based on a delay - locked",
    "loop was built , but it proved to be overly temperature sensitive . a programmable clock would allow the frequency to be adjusted to make use of all 512 sca time buckets",
    ". the clock will also be necessary if helium - ethane gas is ever used .",
    "the system required 10,000 sas and sca chips , mounted on 5,000 fee cards . with the yields , 15,000 sas chips and 30,000 sca chips had to best tested .",
    "testing was thus a substantial fraction of the total effort .",
    "we developed a modular tester system , with similar circuitry used to test both chips and the fee cards .",
    "similar circuitry was used for both chip and board debugging and for production testing .",
    "we focus here on the production testing .",
    "only a chip / board specific test card was different for each component .",
    "the testers were implemented on pc s with national instruments lab - windows .",
    "the pc communicated with the tester via a 12-channel mio-16 analog board , with 12 inputs , each digitized to 12 bits , and 2 dac outputs . digital communication was via a 96 channel dio-96 digital interface board .",
    "much of the ciruitry for the testers was common to all 3 designs .",
    "the common circuitry included a programmable signal generator to produce dc levels , pulses , and a sawtooth .",
    "control signals were generated by fpgas .",
    "the testers were all double socketed . the chip or board plugged into a socket mounted on a small replaceable pc board , which plugged into a socket on the tester .",
    "this allowed for quick changes when the socket wore out .    to keep track of the large number of chips and boards , each chip and each fee board was labelled with an individual bar code .",
    "all testing stations were equipped with bar code readers , allowing for automatic identification and easy establishment of a test database .",
    "test results were stored in an excel spreadsheet compatible format .",
    "we decided to test the chips after they were packaged , eliminating the difficult problem of probing the bare wafers .",
    "the large chip count required automated testers .",
    "to speed the measurements , all 3 tests sequences began with measurements of dc currents and voltages , to quickly eliminate obviously bad components .",
    "the sas - specific board included a peak detector to measure the amplitudes of output pulses , a peaking time detector to measure the pulse rise time , a zero - crossing time detector to measure the fall time ( and check on the tail - correction circuitry ) , and a stair - case generator to generate different sized input pulses .",
    "the analog outputs were fed to the mio-16 board through a 16:1 multiplexer .",
    "after the dc measurements , the tester checked for dead channels and measured cross - talk by injecting pulses into each channel , and observing the output in that channel and the two adjacent channels .",
    "the rms noise was measured , followed by the peaking and zero - crossing times , and the signal width found .",
    "finally , the channel gains and linearities were measured .",
    "the complete test sequence for a good chip took about 1 minute .",
    "the sca tester included a board to inject signals into the sca at adjustable times , to test different time buckets .",
    "after dc tests , the tester checked for dead channels and crosstalk by injecting pulses into each channel at different times .",
    "the tester looked for a correctly timed signal in the pulsed channel and no signals ( i.e. crosstalk ) in all of the other channels .",
    "next , the rms noise of the pedestal was calculated , and all channels and time - buckets scanned for glitches ( as from a single bad storage capacitor ) .",
    "the gains and linearity were then tested by injecting 10 dc levels into the sca .",
    "this test was used to classify the scas into groups based on their gain . to keep the sca gains within a narrow ( 5% ) range ,",
    "the groups were used with different sca ramp currents .",
    "the ramp current was adjusted by selecting one resistor on the fee card .",
    "finally , saw - tooth waveforms were injected into the sca , and the results displayed on the pc monitor , for a final visual inspection by the operator .",
    "the fee card testing was quite similar to the sca testing .",
    "dc currents and voltages were measured first .",
    "these voltages and currents were measured through a 10-pin test connector mounted on the fee card .",
    "channel functionality and cross - talk were checked .",
    "linearity / gain were measured for 10 different amplitude inputs ; the signals were checked at 3 different points on the waveform .",
    "the rms noise was measured , and another glitch test performed .",
    "finally , the pedestals were read out and displayed on the pc monitor , for operator inspection .",
    "we have designed , built and commissioned a 136,608 channel 6 - 12 mhz 10-bit waveform digitization system to read out the star time projection chamber .",
    "the electronics was installed on the tpc in 1998 - 99 , and has been exercised extensively on cosmic rays and during the summer , 2000 run .",
    "the system is working as designed and demonstrating excellent stability ; over 99% of the channels are working within specifications .",
    "we thank our star colleagues for their support .",
    "the gas gain measurements were done by wayne betts .",
    "sergei panitkin provided fig .",
    "[ ffeenoise ] .",
    "the sas chip was designed by eric beuville , the sca primarily by stuart kleinfelder and the adc by oren milgrome .",
    "this work was supported in part by the division of nuclear physics of the office of high energy and nuclear physics of the u. s. department of energy under contract no .",
    "de - ac-03 - 76sf00098 .",
    ".inner and outer sector parameters .",
    "the number of primary electrons @xmath9 is the number of electrons hitting the pad with the largest signal , and depends on the geometry , drift , and pad size . [",
    "cols=\"<,>,>\",options=\"header \" , ]"
  ],
  "abstract_text": [
    "<S> -.2 in    we describe the readout electronics for the star time projection chamber . </S>",
    "<S> the system is made up of 136,608 channels of waveform digitizer , each sampling 512 time samples at 6 - 12 mega - samples per second . </S>",
    "<S> the noise level is about 1000 electrons , and the dynamic range is 800:1 , allowing for good energy loss ( @xmath0 ) measurement for particles with energy losses up to 40 times minimum ionizing . </S>",
    "<S> the system is functioning well , with more than 99% of the channels working within specifications .    </S>",
    "<S> -.2 in </S>"
  ]
}