{
  "article_text": [
    "as illustrated in fig .",
    "[ fig : coupled_resonators ] , our system comprises optical ring microresonators that support degenerate clockwise and counter - clockwise modes , restricted to one pair per resonator .",
    "we consider these modes as two components of a pseudo - spin , i.e. , clockwise ( @xmath0 , or psuedo - spin down ) and counter - clockwise ( @xmath1 , pseudo - spin up ) circulation .",
    "resonators are evanescently coupled to each other and have been studied in the context of 1d crow @xcite , where the coupling leads to a tight - binding model for photons and the corresponding photonic band structure . by coupling these modes in a two - dimensional arrangement , as we show below under appropriate conditions , the dynamics of such photonic system is described by a hamiltonian for charged bosons on a square lattice ( tight - binding ) , but with the addition of a perpendicular , spin - dependent effective magnetic field :    @xmath2    where @xmath3 is the tunneling rate of optical modes and @xmath4 is the photon creation operator at resonator at site ( x , y ) with different spin componenets ( @xmath5 ) .",
    "specifically , photons acquire a @xmath6 phase when they go around a plaquette  equivalent to having @xmath7 quanta of magnetic flux penetrating each unit plaquette @xcite .",
    "and m is an integer .",
    "( b ) a magnetic tight - binding model can be implemented in a 2d lattice of coupled resonators .",
    "only the waveguide phase differences are shown .",
    "( c ) by introducing scatterer in resonators and waveguides , one can induce in - plane magnetic field ( zeeman ) and spin - flip hopping terms , in analogy to quantum spin hall models.[fig : coupled_resonators],scaledwidth=90.0% ]    first , we show how the description of our system using such a hamiltonian is derived .",
    "we start by considering two coupled resonators ( fig .",
    "[ fig : coupled_resonators](a ) ) , focusing only on the counter - clockwise modes inside each resonator .",
    "the length of connecting waveguides is chosen such that photons destructively ( constructively ) interfere inside the waveguide loop ( resonator ) , respectively , and therefore , they will be confined in the resonators rather than waveguides . moreover , the lengths of the upper and lower branches of the waveguide differ from each other , so when a photon hops from the left to the right resonator , it acquires a different phase than when it hops in the opposite direction .",
    "this can be formally verified using the standard input - output formalism @xcite . in particular",
    ", the boundary condition at the left resonator can be written as @xmath8 where @xmath9 s are waveguide field operators at the vicinity of the @xmath10-th resonator and @xmath11 is the resonator field operator , as shown in fig .",
    "[ fig : coupled_resonators](a ) .",
    "the resonator field equation of motion is : @xmath12 , and similarly for the right resonator .",
    "photons propagate freely between the resonators , so for the upper branch we have @xmath13 , and similarly for the lower branch . by eliminating the waveguide fields , the left and right resonator fields dynamics",
    "will be given by @xmath14 , consistent with tunneling between resonators .",
    "therefore , the effective hamiltonian of the two resonators takes the form : @xmath15    the above analysis for counter - clockwise modes ( pseudo - spin up @xmath16 ) in the resonators shows that , in the absence of backscattering , they are decoupled from their time - reversed counterpart , i.e. , the clockwise mode of the resonator ( pseudo - spin down @xmath17 ) .",
    "at the same time , the pseudo - spin down component will experience a magnetic field similar to the pseudo - spin up component , where only the sign of magnetic field is changed ( @xmath18 . now , by connecting resonators in a lattice structure and tuning the phase of the connecting waveguides , we can arrange the acquired phase around each plaquette to be uniform and equal to @xmath19 .",
    "the phase can be tuned either by changing the length ( or the index of refraction ) of the connecting waveguides or by coupling ring resonators to the sides of the waveguides ( similar to a mach - zender configuration @xcite ) . the implementation of a landau - type gauge is shown in fig .",
    "[ fig : coupled_resonators](b ) where the corresponding hamiltonian is the form of equation ( [ eq : magnetic_tight_binding ] ) .",
    "indeed , this is the trivial form of hamiltonians with qshe in an analogy to time - reversal invariant spin - orbit interactions in solid state systems @xcite , where the magnetic field has opposite orientations for the two pseudo - spin components .",
    "furthermore , one can control the coupling between different pseudo - spin component and exploit a wider class of qshe hamiltonians on a square lattice .",
    "in particular , semi - transparent scatterers inside the resonators or the connecting waveguides can be engineered to mix different pseudo - spin components with each other .",
    "to illustrate this mixing , we consider the addition of a pair of scatterers in every vertical connecting waveguide as shown in fig .",
    "[ fig : coupled_resonators](c ) . for simplicity",
    ", we assume the scatterer is weak and loss - less .",
    "we characterize the strength of the scatterer by a parameter @xmath20 , where the transmission coefficient is near unity @xmath21 and the reflection coefficient is @xmath22 .",
    "as shown in the supplementary information ( si ) , the corresponding hamiltonian of a single vertical array of resonators will be : @xmath23 the diagonal terms are identical to the tight - biding terms of equation ( [ eq : magnetic_tight_binding ] ) and the off - diagonal terms represent hopping between two adjacent sites while undergoing a spin - flip , i.e. , the scatterers couple clockwise to counter - clockwise photons ( fig .",
    "[ fig : coupled_resonators](c ) ) .",
    "this spin - flip hopping is similar to the rashba term in the context of spin - orbit interaction@xcite .",
    "similarly , if we consider a pair of weak scatterers inside the resonators , then corresponding hamiltonian takes the form :    @xmath24    the first term is the usual tight - binding form and the second term represents the in - plane magnetic field which is enhanced by the finesse of the resonators ( i.e. , number of photon round trips @xmath25 ) .",
    "if these vertical arrays replace the vertical arrays of fig .",
    "[ fig : coupled_resonators](b ) , then the overall hamiltonian of the system encompasses both an in - plane zeeman term , perpendicular to the synthetic magnetic field ( due to on - site scatters ) and a hopping - spin flip term ( similar to rashba interaction ) .",
    "we now show how optical spectroscopy measurements can be harnessed to analyze the transport properties of our photonic system . in particular , as shown in fig .",
    "[ fig : coupled_resonators](b ) , by coupling two waveguides to the lattice edges , we evaluate the transmission and the reflection of an input light field and study their properties in connection with the magnetic states of the system ( localized states and edge states ) .",
    "we first consider a trivial case of quantum spin hall effect where pseudo - spin - flip terms are absent . in this regime",
    ", we have two decoupled copies of regular quantum hall states for opposite pseudo - spin components .",
    "we restrict our analysis to a single spin component , and for brevity , we drop the spin index .",
    "this choice enables us to examine in detail methods for probing the system and determining its response to errors and disorders , without the additional complexity of spin hall physics .    using a formalism similar to the quantum scattering theory",
    ", we investigate the problem of scattering of light field in optical waveguides connected to our photonic system and evaluate transmission and reflection coefficient under various conditions .",
    "the waveguides only couple to co - propagating modes in the resonators ( counter - clockwise in fig .  [ fig : coupled_resonators](b ) ) , and thus under our assumption , the reflection in the input channel and also transmission in the output channel is zero ( i.e. , @xmath26 shown in fig .  [",
    "fig : coupled_resonators](b ) ) .",
    "the input - output probing waveguides are coupled to two resonators in the systems denoted by @xmath27 and @xmath28 , respectively .",
    "as shown in si , the self - energy of these resonators can be written as @xmath29 , where the coupling strength is defined as @xmath30 . using lippman - schwinger equation",
    ", one can deduce different reflection / transmission coefficients @xcite .",
    "in particular , the reflection coefficient is given by    @xmath31    which means an appreciable reflection should be observed when the frequency of an incoming photon becomes resonant with the energy of a photonic state inside the system .",
    "note that if the photonic system is a single resonator , equation ( 6 ) reduces to the familiar form of : @xmath32 .",
    "the energy spectrum of the hamiltonian of equation ( [ eq : magnetic_tight_binding ] ) for an _ infinite _ lattice is the well - known hofstadter butterfly @xcite .",
    "we consider a @xmath33 lattice with torus boundary condition ( i.e. , coupling top - bottom and left - right edge together ) to simulate the effect of an infinite lattice . according to hofstadter spectrum , for rational magnetic fluxes ( @xmath34 ) ,",
    "each magnetic band has many states ( @xmath35-fold ) , which is the reminiscent of the landau degeneracy in the continuum .",
    "the result of our numerical solution is shown in fig .",
    "[ fig : hofstadter - butterfly ] where the reflectivity @xmath36 is evaluated for different frequencies and magnetic field ( @xmath7 ) , by the formalism described above .",
    "high reflectivity occurs when the lower waveguide light is coupled to the system and completely transferred to the reflection output channel ( the second waveguide ) , similar to a channel drop filter .",
    "we can readily see that the energy spectrum of the uncoupled system ( hofstadter butterfly ) can be obtained by measuring the system reflectivity .",
    "we note that in order to to resolve different energy levels in the spectrum , @xmath30 should be chosen to be sufficiently narrow ( @xmath37 ) .    .",
    "the green line shows the spectrum at the magnetic field of interest ( @xmath7 ) for the rest of the figures in the article.,scaledwidth=50.0%,scaledwidth=40.0% ]",
    "in a direct analogy to 2d electrons in a magnetic field ( quantum hall physics ) @xcite , we recognize quasi - one dimensional states that are localized at the perimeter of the system which carry current and are immune to disorders in form of random potential .",
    "in contrast to toroidal boundary conditions where only magnetic bands are present , in a finite square lattice , there exist states between magnetic bands which are known as `` edge states '' .",
    "these edge states carry a chiral current around the system perimeter , as shown in fig .",
    "[ fig : prob - current : pure / impure](a ) . for each edge state",
    ", there is a similar edge state with an opposite chirality which has the same energy magnitude but with the opposite sign .",
    "so far we have considered a perfect system . to illustrate the robustness of the system to disorder",
    ", we consider a resonator that is detuned from its neighbors provides a model for `` non - magnetic '' disorder .",
    "this disorder can be readily characterized by an on - site potential at that site ( @xmath38 ) .",
    "the main source of such frequency mismatch is small variations of the waveguide widths and the perimeters of the microrings during the fabrication process .",
    "such imperfections are a common problem in photonics and prevents coupling large number of resonators @xcite .    in electronic quantum hall systems ,",
    "the edge states are immune to disorder @xcite .",
    "we find that such robustness applies to our photonics system .",
    "in particular , when such a disorder is located ` inside ' the edge state , the edge state is obviously not affected . however , when the disorder is located on the edge , the edge state routes around it , as shown in fig .  [",
    "fig : prob - current : pure / impure](b ) .",
    "more precisely , scattering which would reverse the current is prevented due to the lack of additional states with appropriate energy and momentum .    .",
    "( c ) shows the dispersion relation , a wave number is evaluated for each energy eigenstate at the lower ( red ) and upper edge ( blue ) , i.e. , @xmath39 is the phase difference between two consecutive resonator at the edges .",
    "magnetic bands state do not have well - defined wavenumber and are shown in the yellow area .",
    "the dashed line shows the state corresponding to ( a ) . in these plots , a 10x10 square lattice with @xmath40",
    "is considered .",
    "[ fig : prob - current : pure / impure],scaledwidth=50.0% ]",
    "the transport properties of edge states provide a robust alternative to conventional crow in photonic delay lines .",
    "in particular , we compare the transport properties of our photonic quantum hall system to crow , as illustrated in fig .",
    "[ fig : transport ] . in the quantum hall system",
    ", there is a robust transfer band provided by edge states which carry photons from the input waveguide to the output waveguide ( fig .",
    "[ fig : transport ] inset ) , in a direct analogy to electronic edge state in the context of the integer quantum hall effect @xcite .    in both systems ,",
    "the operational bandwidth is given by smooth , linear part of the dispersion relation .",
    "in the quantum hall system , the edge state band ( fig .",
    "[ fig : prob - current : pure / impure ] ) , is located between two hofstadter bands ( fig .",
    "[ fig : hofstadter - butterfly ] ) , while in the crow configuration , the operational bandwidth is in the middle of the tight - binding dispersion to avoid the group velocity dispersion @xcite .",
    "moreover , in both systems , the delay time is proportional to the number of resonators involved in the transport . in the quantum hall system ,",
    "the transport can be either performed along the long or short edge of the system , depending on the input frequency , as shown schematically in fig .",
    "[ fig : transport ] inset .",
    "therefore , in both systems in the absence of disorder , the bandwidth - delay product increases by the length ( perimeter ) of the system .",
    "however , in the presence of disorder , crow and edge state behave differently as the system size increases . in particular , in 1d systems ( e.g. crow ) the disorder leads to localization @xcite and therefore , the transmission is impeded .",
    "in contrast , the transport of edge states is topologically protected against disorder @xcite and the transmission is not affected ( as discussed above for fig .",
    "[ fig : prob - current : pure / impure ] ) .     for 500 realizations ) . while the transport is quite noisy in the magnetic bands and crow ( tight - binding band ) , the edge state bands exhibit noiseless transport with delays comparable to crow .",
    "depending on the input frequency , different edge states participate in the transport which leads to shorter or longer delays , as shown in the insets . in the presence of magnetic disorder (",
    "the strength is a gaussian with a width @xmath41 and the phase is random @xmath42 ) and loss ( @xmath43 ) , the transport properties are more degraded for crow than edge state bands . while the counter - clockwise modes of the resonators is excited through an input field , the onsite scatterers backscatter photons in the clockwise modes .",
    "these modes leak out into @xmath44 and @xmath45 channels which are non - zero in these plots .",
    "the coupling between input - output waveguides and the system is chosen to optimize the transport ( for edge states @xmath46 and for crow @xmath47 ) . in the quantum hall system ,",
    "the input and output waveguides are coupled to ( @xmath48 ) and ( @xmath49 ) resonators , respectively.[fig : transport ] ]    ) is evaluated at the center frequency @xmath50 ( @xmath51 ) , where the group velocity dispersion is minimum , respectively .",
    "a gaussian disorder is assumed with a width @xmath52 and the transmission is averaged over an ensemble of 500 realizations .",
    "gray shades show the standard deviation . by increasing the bandwidth - delay product ( x - axis ) , the transmission for 1d crow decreases and the noise increases , while both the transmission and the noise in the 2d quantum hall system remains constant . ]    to confirm that our edge states provide a robust transport , we numerically study the effect of disorder , by assigning a random frequency mismatch to the resonators . taking average over many different disorder realizations , we observe that by increasing the size of the system and consequently the bandwidth - delay product , the transmission in crow decreases while the transmission with edge states is unaffected , as shown in fig .",
    "[ fig : localization ] .",
    "furthermore , we observe that while magnetic band states and crow depend sensitively on the disorder ( position / strength ) , from one realization to another , the edge states are insensitive to the specific parameters , as shown in the standard deviation of the reflectivity and delay time in fig .",
    "[ fig : transport](a , b ) .",
    "the effect of the disorder on edge states is simply a shift of energies , which is manifested in a frequency shift in the edge states transfer band .",
    "we note that as time - reversal symmetry is not broken in our system , we can not utilize such edge states as a one - way waveguide similar to ref.@xcite .",
    "more precisely , when we input a light field in the backward direction into the system ( by swapping the input and output channel ) , the waveguides couple to the opposite rotating field in the resonators ( opposite pseudo - spin ) and experience a magnetic field with an opposite sign .",
    "therefore , the system is reciprocal and the transport properties of the forward and backward feed are identical to each other .",
    "finally , we investigate the effect of loss in the resonators and other imperfections .",
    "loss can be represented by a non - hermitian term in the hamiltonian : @xmath53 where the dissipation rate is given as the product of loss per roundtrip , number of roundtrips per decay time and the photon decay rate ( @xmath54 ) ( see si ) .",
    "the photonic loss can attenuate the reflection in the edge state transfer band due to the propagation around perimeter ( fig .",
    "[ fig : transport](c ) ) .",
    "silicon - on - insulator technology , where up to 100 micro - ring resonators have been successfully coupled to each other @xcite , is a promising candidate for implementation of our scheme ( see si for experimental relevant parameters )",
    ".    other types of imperfection such as surface roughness can cause undesired backscattering which mixes pseudo - spin up and down , acting as `` magnetic disorder '' .",
    "as show in the si , these imperfections can be modeled by a magnetic disorder hamiltonian . the backscattering effect manifests in the reduction of signal in @xmath55 channels and some leakage in @xmath56 channels .",
    "[ fig : transport](c ) shows different transport coefficients .",
    "we observe that although the transport properties of magnetic bands states are affected by such magnetic disorder , edge state transport is robust , which is due the suppression of backscattering events . in particular , the scattering of a forward - going spin - up into forward ( backward ) -going spin - down is inhibited due to energy ( momentum ) mismatch .",
    "optical signals might be a promising alternative to electronic signals in the future circuits @xcite .",
    "one of the key requirements is the ability to filter and slow down light on - chip over a large bandwidth ( several gbps ) for various time - domain processing such as optical buffering and multiplexing @xcite .",
    "however , the effect of disorder in the millimeter size footprint is detrimental , e.g. unwanted signal modulation in transmission spectrum @xcite .",
    "our system provides a platform to realize photonic system immune to disorder .",
    "potentially , one can envisage using other types of topological properties to improve photonic technologies .",
    "in addition , our photonic system enables a new approach for exploration of various fundamental quantum hall phenomena .",
    "this photonic system not only enables investigations of quantum hall physics by simulating different types of hamiltonians at room temperature , but it also taps into topological features to provide robust devices for photonics . in the non - interacting regime ( which was the topic of this article ) , one can explore the hofstadter butterfly of photons , and photonic edge states as delay lines immune to disorders and also localization in 2d for non - interacting particles @xcite .",
    "furthermore , with the addition of interaction between photons , this system opens up exciting prospects for exploring many - body topological state of light .",
    "although the ground state properties of such systems have been extensively studied , the suitable characterization and measurement of strongly interacting photons is still an open question . in particular ,",
    "the chemical energy is absent for photons and the relevant conditions to study photons involves an externally driven system which leads to non - equilibrium situations @xcite .",
    "another advantage of photons is their flexibility to form various system topologies ( torus with different genera ) by simply connecting waveguides to each other and manipulate such states for topological quantum computation . intriguing additional applications of these ideas",
    "await further exploration .",
    "51 natexlab#1#1bibnamefont # 1#1bibfnamefont # 1#1citenamefont # 1#1url # 1`#1`urlprefix[2]#2 [ 2][]#2    , * * , ( ) .",
    ", , , * * , ( ) .    , , , , , , , , * * , ( ) .    , , , , eds . , _ _ ( , ) .    , , , _ _ ( , )",
    ".    , * * , ( ) .    , , , , , , , , , , * * , ( ) .    , * * , ( ) .    , , , , , * * , ( ) .    ,",
    "( ) .    , * * , ( ) .    , , , ( ) .    , , , , * * , ( ) .    , , , , , * * , ( ) .    , , , , * * , ( ) .",
    ", , , , * * , ( ) .    , * * , ( ) .    , * * , ( ) .    , * * , ( ) .    , , , ,",
    "* * , ( ) .    ,",
    "* * , ( ) .    , * * , ( ) .    , * * , ( ) .    , , , , , * * , ( ) .    , , , * * , ( ) .    ,",
    "* * , ( ) .",
    ", , , , , , * * , ( ) .    , , , , * * , ( ) .    ,",
    "* * , ( ) .    , , , , * * , ( ) .    , * * , ( ) .    , , , , , ,",
    "* * , ( ) .    , , , * * , ( ) .    , * * , ( ) .    , * * , ( ) .    , , , , * * , ( ) .    , , , , * * , ( ) .    , , , , * * , ( ) .",
    "_ _ ( , ) , chap .",
    ".    , * * , ( ) .    , * * , ( ) .",
    ", , , , , ( ) .    , , , , * * , ( ) .    ,",
    "_ _ ( , ) .    , , , , * * , ( ) .    , , , , * * , ( ) .    , , , , , , * * , ( ) .    , , ,",
    ", * * , ( ) .    , , ,",
    "* * , ( ) .",
    ", , , * * , ( ) .    , * * , ( ) .",
    "the authors wish to thank glenn solomon , edo waks and shanhui fan for helpful discussions .",
    "this research was supported by the u.s .",
    "army research office muri award w911nf0910406 , nsf , afosr quantum simulation muri , aro - muri on atomtronics , packard , darpa quest , darpa ole and harvard - mit cua .    supplementary information",
    "here we derive the magnetic tight - biding model which is presented in the main text as equation ( 1 ) . in contrast to the toy model of two coupled resonators , presented in the main text , we consider an infinite array of coupled resonators similar to crow @xcite .",
    "our system consists of an array of coupled resonator and waveguides which is periodic and linear .",
    "therefore , the transfer matrix formalism and bloch s theorem are suitable to treat the system dynamics @xcite , in contrast to the input - output formalism presented in the main text .",
    "we use the transfer matrix formalism for a 1d array of coupled resonators . as shown in fig.[fig:1d - array ] , the fields at the right edge of the @xmath57-th resonator and the @xmath57-th waveguide are respectively characterized by :    @xmath58    such that the electric field inside the resonators is :    e_n(,)=f ( ) a_n+d_n , & for @xmath59 + b_n+c_n , & for @xmath60    where @xmath61 is the radial coordinate , @xmath62 is the azimuthal angle relative to the counter - clockwise propagation direction and @xmath63 is the radial dependence of the electric field .    , scaledwidth=60.0% ]    we assume the resonators have length @xmath64 and the total length of the connecting waveguides is @xmath65 , as shown in fig.[fig:1d - array ] . therefore , transfer matrices corresponding to free propagation inside resonators and waveguides are :    @xmath66    respectively , where the wave number is @xmath67 and @xmath68 is the light frequency .",
    "we assume that the clockwise and counter - clockwise modes , i.e. , forward and backward fields , are decoupled from each other , which sets the off - diagonal elements in @xmath69 and @xmath70 to be zero .",
    "the regime where this coupling between forward and backward fields becomes important is discussed in the main text and also in sec.[sec : back - scattering ] of this supplemental information ( si ) .",
    "we further assume that the coupling regions are long enough ( compared to the wavelength of light ) so that the coupling between clockwise and counter - clockwise photons ( e.g. the coupling between @xmath71 and @xmath72 fields ) can be ignored .",
    "in other words , a single coupling region couples only @xmath73 to @xmath74 and @xmath75 to @xmath72 . therefore , a loss - less coupling region can be characterized by two parameters @xmath76 and @xmath77 , which represent the amount of transmission into and reflection off of the adjacent element , respectively , as shown in fig.[fig:1d - array ] .",
    "note that these coefficients obeys the conditions : @xmath78 and @xmath79 .",
    "one can easily find the transfer matrix elements of such coupling regions for @xmath73 and @xmath74 , by setting @xmath80 and @xmath81 , and similarly for coupling between @xmath75 and @xmath72 .",
    "therefore , the transfer matrix of a single coupling region which couples @xmath73 to @xmath74 and @xmath75 to @xmath72 can be written as : @xmath82    in this notation , the field amplitudes in the right edge of the waveguide can be obtained from that of the adjacent resonator : @xmath83 .",
    "the transfer matrix of the building block of such system ( @xmath84 ) is a product of the above matrices @xmath85 . using bloch s theorem , the dispersion relation is written as : @xmath86=0,\\label{eq : bloch - theorem}\\ ] ] where @xmath87 is the bloch quasi - momentum and @xmath88 is the unit spacing .",
    "first we solve the case where the phase imbalance between waveguide arms is zero ( @xmath89 ) .",
    "we define the detuning from the resonator frequency as @xmath90 .",
    "we consider a configuration where resonators are separated by @xmath91 where @xmath92 is a non - zero integer and @xmath93 is the resonant wavelength . in this configuration ,",
    "photon reflections off the resonators interfere destructively with each other , and therefore , photons spends most of their time in the resonators rather than the waveguides .",
    "we are primarily interested in relatively high quality factor resonators .",
    "therefore , we evaluate the above expression to the first order in @xmath94 , which is proportional to the inverse of the resonators finesse @xmath95 . by assuming @xmath77 to be real and @xmath96 for resonators length , eq.([eq : bloch - theorem ] )",
    "gives a dispersion relation : @xmath97 , where @xmath3 characterizes the cavity field decay rate from on side of the resonator into the waveguides , i.e. , the photon decay is @xmath98 .",
    "this decay is the extrinsic desirable decay , in contrast to intrinsic loss ( @xmath99 ) which we discuss in sec.v .",
    "note that the sign of the tunneling amplitude depends on the parity of @xmath92 , which we assume to be odd ( @xmath100 in fig.1a of the main text ) , so that we get the conventional minus sign in the tight - binding hamiltonian .",
    "alternatively , one can also diagonalize the transfer matrix of a cell and study its eigenvalues as propagating waves . under the above assumption ,",
    "the diagonalized form of the transfer matrix of a unit cell will be of the following form :    @xmath101    we can infer : @xmath102 , which is equivalent to the aforementioned dispersion relation .",
    "again , this shows that the propagating wave only exists when @xmath103 . note that in this situation , we have two modes with the same dispersion relation , which corresponds to clockwise and counter - clockwise photons inside the resonators .",
    "furthermore , we consider the situation where there is a @xmath19 phase imbalance between waveguide arms . in this case , the diagonalized form of the transfer matrix takes the form :    @xmath104    from eq.([eq : bloch - theorem ] ) one can easily see that the above transfer matrix corresponds to two dispersion relations : @xmath105 , which is the same dispersion of the tight - binding hamiltonian in 1d with a magnetic field : @xmath106 in particular , the mode corresponding to ( c , d ) fields in the resonators ( pseudo - spin up ) experiences a magnetic field ( @xmath107 ) , while the mode corresponding to ( a , d ) field ( pseudo - spin down ) experiences an opposite magnetic field @xmath108 . in a 2d arrangement , by choosing these imbalances to be a function of rows @xmath109 , spin - up ( spin - down ) photons experience a uniform magnetic field corresponding to @xmath110 flux per plaquette , respectively .",
    "in this section , we show that by implanting a scatterer in the system , one can achieve a photonic version of different quantum spin hall hamiltonians .",
    "in particular , the presence of a scatterer in each resonator leads to an effective `` in - plane magnetic field '' and the presence of scatterer in each connecting waveguides leads to a `` spin - flip hopping '' term .",
    "below , we consider these effects .      here ,",
    "we study of the effect of scatterers in the connecting waveguides . in particular , we position two scatterers symmetrically in the middle of each waveguide , as shown in fig.1(c ) of the the main text .",
    "therefore , the transfer matrix of the scatterer which couples ( a , d ) and ( b , c ) field together ( as defined in eq.[eq : fields ] ) , is given by :    @xmath111    in this situation , the transfer matrix of the unit cell is given by :    @xmath112    we assume the scatterer is weak so we can write the transmission / reflection coefficients in the following form :    @xmath113    in the absence of the scatterer , ( a , b ) and ( c , d ) modes couple to each other independently , i.e. @xmath114 couples to @xmath115 and @xmath116 couples to @xmath117 .",
    "as we discussed , these decoupled manifolds form an identical tight - biding hamiltonian for two pseudo - spin components which we call ( @xmath118 ) . however",
    ", the scatterer couples these two manifolds to each other .",
    "it turns out that a proper basis in the presence of the scatterer is a hadamard rotated basis , i.e. @xmath119 and @xmath120 .",
    "this can be verified by using a degenerate perturbative method to find eigenvalues of the transfer matrix .",
    "therefore , one finds out that the basis which diagonalizes m in the subspace of ( a , c ) or ( b , d ) is the x - basis i.e .",
    "the eigenvalues of the system to the zeroth order in inverse of resonator finesse @xmath122 ) are :    @xmath123    these eigenstates have magnitude equal to one .",
    "since each pair of eigenvalues are complex conjugate of each other , the four eigenvalues of system can be written in form of bloch waves:@xmath124 this leads to two dispersion relations to the first order in @xmath20 :    @xmath125\\end{aligned}\\ ] ]    which can be simply written as :    @xmath126.\\end{aligned}\\ ] ]    now , we want to write this hamiltonian in the second quantized form using the original pseudo - spin components in z - basis ( @xmath118 ) .",
    "note that the above dispersion relation is written in the hadamard rotated basis @xmath127 where @xmath121 .",
    "therefore , we have :    @xmath128    the hamiltonian in the original basis takes the conventional hopping flip term :    @xmath129    while the direct hopping amplitude is @xmath3 , the spin - flip hopping amplitude is @xmath130 .",
    "we note the above hamiltonian is only valid when the scatters are positioned symmetrically in the middle of waveguides .",
    "if we move the scatterers symmetrically along the waveguides , we arrive at the same form of hamiltonian with a modified strength of spin - flip term .",
    "we now evaluate the effect of having a scatterer in every resonator rather than the waveguides . as we show , this model results in an in - plane magnetic field term in the hamiltonian .    in this case",
    "the transfer matrix of the unit cell is : @xmath131 .",
    "writing again the transfer matrix in the x - basis , we perturbatively find the eigenvalues to the zeroth order in @xmath132 and the first order in @xmath133 :    @xmath134    therefore , the dispersion relations will be    @xmath135.\\end{aligned}\\ ] ]    the corresponding hamiltonian in the x - basis @xmath127 is :    @xmath136    where the finesse of the resonators @xmath137 , characterizes the average number of photon round trip before leaving the resonator . the above hamiltonian",
    "show that the scatterer inside the resonator lifts degeneracy and splits the modes .",
    "the splitting is proportional the strength of the scatterer and the number of photon round trips inside the resonator . in the original z - basis @xmath138",
    ", the hamiltonian takes the form :",
    "@xmath139    this means that the presence of the scatterer inside the resonators result in an in - plane magnetic field .",
    "the amplitude of this in - plane magnetic field is given by the strength of the scatterer and the number of photon round trips inside the resonator .",
    "similar to the spin - flip term , the strength of this terms can modified by symmetrically moving the scatterers long the resonators .    in the end",
    ", we note that the backscattering can also occur in the waveguides",
    ". however , in contrast to the resonator case , where the scattering was enhanced by the finesse of the resonators , the backscattering effect in the waveguides is not enhanced due the off - resonant nature of the waveguide loops .",
    "we now consider the effects of coupling `` probe '' waveguides to the system .",
    "when the system and probe waveguides are not coupled to each other the hamiltonian is given by @xmath140 the first term corresponds to the system which we want to probe and the the second term corresponds to free propagating light in the probing waveguide , i.e. , @xmath141 where @xmath142 represents the state of one photon in the waveguide with wave number k. we note that since the system is linear and we are interested in the linear response , we treat the system in the first quantized representation and do not use creation and annihilation operators .",
    "on the other hand , the resonator fields are coupled to the forward- and backward - going field of the probing waveguides represented by the following coupling to the tight - binding hamiltonian :    @xmath143    @xmath27 ( @xmath28 ) represents the photonic state of the resonator which is coupled to the input- ( or output- ) waveguide .",
    "we assume that resonators to be large enough so that each resonator mode couples to single running wave in the probing waveguides .",
    "for instance , ccw mode of the resonators is coupled to forward- ( backward- ) going light field at the input ( output ) probing waveguides , respectively ( fig.1(b ) of the main text ) .",
    "therefore , only positive ( negative ) momentum terms have non - zero coefficient in input ( output ) hamiltonian terms .",
    "@xmath144 is the length of the waveguides which enters as a normalization factor .",
    "now , we want to study the scattering of an incoming plane wave @xmath142 which is sent into the probing waveguide .",
    "the effect of system - probe coupling is manifested in the output light field ( @xmath145 ) which leaves the system in the probing waveguides .",
    "since the system is linear , one can also look at this process from a single - photon picture : a photon comes from the input waveguide , while the system is initially in the vacuum state .",
    "then , the photon interacts with system and eventually gets scattered into different output channels .",
    "the photon leaves through the probing waveguides and the system returns to original vacuum state .    in order to study such transport effects ,",
    "we follow the formalism introduced in refs.@xcite to investigate our system .",
    "we start by lippmann - schwinger equation:@xmath146 which can be solved through iteration :    @xmath147    in other words , the t - matrix which characterizes the scattering amplitudes into different output channels can be written as :    @xmath148    since the total system is linear , each photon should be exchanged an even number of times between the waveguide and the system to have a non - zero contribution in the output field .",
    "therefore , only even powers in the above expression have non - zero contribution to the t - matrix .",
    "in other words ,    @xmath149    where the green s function is defined as : @xmath150 and @xmath151 is the uncoupled green s function of the system ( probe ) , respectively . indices ( m ,",
    "n ) sums over different system eigenmodes , i.e. , without the probing waveguides .",
    "the perturbative series can be summed to yield the exact green s function in the form :    @xmath152    where the self - energy of the coupled system is given by : @xmath153",
    "we assume that the group velocity of the waveguide ( in the absence of the coupling to the system ) is smooth around the resonators frequency . in this limit",
    ", the interaction coefficient can be written as :    @xmath154    where @xmath155 is the coupling coefficient at the wave vector corresponding to the resonant frequency of the ring resonators ( i.e. @xmath156 ) .",
    "we transform the momentum sum of the self - energy expression into an integral .",
    "the real part of the integral corresponds to a constant energy shift which can be absorbed in the energy definition .",
    "the imaginary part of the self - energy corresponding to input channel is : @xmath157 , which shows that the field inside the input resonator will decay into the input waveguide at a rate @xmath158 , where @xmath159 is the group velocity at the resonator frequency .",
    "similarly , one can evaluate the output self - energy terms .",
    "the self - energy for the total system can be written as    @xmath160    note that the green s function in eq.([eq : greens - function ] ) , can be also written as @xmath161 , which can be represented as a @xmath162 matrix and easily evaluated numerically .",
    "now , having the green s function of the coupled system , we return to the evaluation of the scattered field .",
    "we start by evaluating the wavefunction of the transmitted field in the same input channel ( as shown in fig.(1)b in the main text ) , which can be defined as @xmath163 and the input field is @xmath142 with @xmath164 .",
    "one can write the transmission coefficient in terms of the t - matrix : @xmath165 by using the t - matrix expression in eq.([eq : t - matrix ] ) , and the green s function , we can formally write the wavefunction of the transmitted field . the first term in the t - matrix gives the trivial unperturbed wavefunction @xmath166 .",
    "the second term can be written as :    @xmath167    again by transforming the momentum sum into an integral and performing the contour integral , the pre - factor before the resonator summation simply reduces to @xmath168 .",
    "therefore , the transmission coefficient for a given frequency will become :    @xmath169    similarly , one can obtain the other transport coefficients :    @xmath170",
    "the presence of scatterers in the system leads to mixing of pseudo - spin up and spin down , acting as a `` magnetic disorder '' .",
    "if this coupling is done in a controllable fashion , we arrive at the spin coupling hamiltonians discussed earlier . however , in a experimental realization undesired backscatterings ( e.g. , due to surface roughness ) lead to a similar coupling between spin - up and -down components . in most cases",
    ", this coupling is negligible .",
    "this has been the case for coupled resonators system @xcite .",
    "however , in very high - q resonators , the mode coupling ( e.g. , due to surface roughness ) is usually greater than the resonator decay rate . in this case , the resonator enhances of the backscattering effect , and a mode splitting occurs @xcite .",
    "we note that as long as the interest is in the linear regime ( as in this article ) , very high - q resonators are not required . nevertheless for completeness , we study the backscattering effect by first characterizing it and then evaluating its effects .",
    "as we show below , the effect of backscattering is more pronounced in the resonators and can be modeled by a magnetic disorder hamiltonian . before showing the derivation of the magnetic disorder hamiltonian , we present the result of such model .",
    "in particular , we consider a case where at the resonator ( @xmath171 ) , a scatterer is present and characterized by transmission ( reflection ) coefficient as @xmath172 ( @xmath173 ) , respectively .",
    "the corresponding perturbation will be : @xmath174 where @xmath62 depends on the position of the scatterer inside the resonator .",
    "the effect of such term can be understood in the following way : if we consider a forward - going spin - up wave , the disorder ( to the first order in @xmath20 ) scatters the photon current into forward- and backward - going spin - down wave .",
    "similar effects occur for other spin currents .",
    "this is in direct analogy to a `` magnetic disorder '' in the context of electronic qshe , where electronic spin currents are not immune to magnetic impurities .",
    "since our system is bosonic such impurities does not break the time reversal symmetry .",
    "however , their presence has a similar effect to magnetic impurities in fermionic qshe . in particular ,",
    "if we excite the system in spin - up modes , due to backscattering , spin - down modes will be also populated . however , since spin - up and -down are coupled to different output channels ( i.e. , @xmath175 and @xmath176 , respectively ) , the backscattering effect will be manifested in the reduction of signal in @xmath177 channels and some leakage in @xmath178 channels . fig.4 in the main text shows different transport coefficients where we have assumed the backscattering is as strong as the dissipative loss .",
    "we observe that although the transport properties of magnetic bands states are affected by such magnetic impurities , edge state transport is robust , which is due the suppression of backscattering events .",
    "in particular , the scattering of a forward - going spin - up into forward ( backward ) -going spin - down is inhibited due to energy ( momentum ) mismatch .    here",
    "we show that the effect of having an scatterer in a resonator can be modeled by a simple perturbation in our hamiltonian formalism . the scatterer inside the resonator back - scatters the photon in the opposite mode , which in our spin language means that the spin - up photons can be scattered into spin down photons , vice verse . in particular , we consider the following scenario : a spin - up forward propagating photon current , in the presence of a back - scatterer in a resonator on its way , can get back - scattered into forward- and backward - going spin - down current ( fig.[fig : backscattering - si ] )",
    "we first study this scenario in the physical system of a 1d array of resonators by transfer matrix formalism to evaluate the forward- and backward - going spin - down field amplitudes .",
    "then , we study a model hamiltonian and evaluate the scattered field amplitudes . by comparing the physical system and the model hamiltonian",
    ", we argue that the physical system can be faithfully modeled by our proposed hamiltonian .",
    "first , we consider a 1d array of resonators and locate a disorder inside a single resonator and evaluate the transport properties of the a traveling spin wave off that disorder . in the absence of disorder",
    "the system possesses four modes , corresponding to clockwise and counter - clockwise modes of the resonators where each can propagate forwards or backwards .",
    "therefore , at each site the photonic field can be represented by a 4 dimensional vector .",
    "we work in the basis of this four modes : so for example @xmath179 represents the forward spin - up photons and similarly for the three other modes .",
    "in this basis , as discussed in the sec.i of this si , the transfer matrix of each cell is diagonalized in the following form :    @xmath180    where @xmath181 and @xmath103 .",
    "now , we consider that there is a cell with a disorder located at site zero ( @xmath182 ) .",
    "the propagation of a free travelling spin wave can be deduced by application of the transfer matrix @xmath183 ) . in particular , we are interested in the reflected ( @xmath184 ) and the transmitted field @xmath185 . however , these output field are not readily available in the transfer matrix , and we have to use the s - matrix .",
    "more precisely , @xmath186 , while for s - matrix : @xmath187 . in our case",
    ", we deal with two forward- and two backward - modes , so the m - matrix is characterized by 2x2 blocks as : @xmath188 , therefore , the corresponding s - matrix will be given by @xmath189 .",
    "we consider a situation where the disorder is in the middle of the resonator in the upper arm . therefore",
    ", the transfer matrix of two cells with a disorder in between will be @xmath190 .",
    "the corresponding s - matrix to the first order in the disorder strength ( @xmath20 ) and the zeroth order in the inverse of the finesse ( @xmath191 ) , will be :    @xmath192    where the first part simply represents the free propagation over two cells , and the second part represents the scattering into the other modes due backscattering . note that as the scatterer is in the resonator , its strength is enhanced by the finesses of the resonator .",
    "now , we consider a travelling spin - up wave which goes forward . for convenience , we assume the phase of this wave is such that it is zero at the site with the disorder",
    ". therefore , our input will be : @xmath193 since we are considering the propagation over two cells , in the absence of the scatterer , the output field should be : @xmath194 however , in the presence of the scatterer , we will have : @xmath195 the second ( forth ) row terms correspond to spin - down forward- ( backward- ) going amplitudes .",
    "now , we consider a tight - binding model with a disorder and show that it has the same behavior as our photonic system . in particular , we assume that the hamiltonian of the system to be:@xmath196 where the first term corresponds to a simple spin - conserving hopping hamiltonian and the second terms corresponds to a magnetic disorder at site zero which rotates the pseudo - spin along the x - axis at the specific site .",
    "we assume the disorder to be weak ( @xmath197 ) . since the system is linear , the dynamics of the system can be studied by considering a single excitation .",
    "therefore , a general state of the system can be captured in a two - component wavefunction as a function of sites : @xmath198 in particular , since we are interested in the scattering of a forward - going spin - up excitation off a disorder positioned at site m=0 , the wavefunction of the entire system can be described as :    _ ( m ) = e^ikm+r_e^-ikm & @xmath199 + _ ( 0 ) & @xmath200 + t_e^+ikm & @xmath201    _ ( m ) = r_e^-ikm & @xmath199 + _ ( 0 ) & @xmath200 + t_e^+ikm & @xmath201    where @xmath202 ( @xmath203 ) , corresponds to the transmitted amplitude of the spin - up ( -down ) component .",
    "similarly , @xmath204 ( @xmath205 ) , corresponds to the reflected amplitude of the spin - up ( -down ) component .",
    "now , using the above ansatz , we solve the schrodinger equation : @xmath206 , for @xmath207 and @xmath208 , which leads to seven independent equations :    @xmath209    we can solve the above equations for an arbitrary value of @xmath210 .",
    "however , since we are only interested in weak impurities , we present the solutions to the first order in @xmath210 :    @xmath211    these results mean that a forward - going spin - up wave scatters into forward- and backward - going spin - down wave .",
    "this is identical to the perturbative result of our physical system ( i.e. resonators and waveguides ) .",
    "in particular , if we set @xmath212 and @xmath213 , then the model hamiltonian in eq.[eq : mag - hamiltonian ] and eq .",
    "[ eq : model - scattering ] are equivalent to each other and they describe the scattering inside the resonator .",
    "we note the the above derivations can be also reproduced for scattering of a spin - down wave propagating in the forward or backward direction .",
    "moreover , we note that where the scatterer is not positioned in the middle of the resonator the effective hamiltonian is no longer an in - plane magnetic field in the x - direction . for a general position",
    ", the model hamiltonian takes the form :    @xmath214    where the scattering terms corresponds to a magnetic field pointing in a random direction in the system plane .",
    "furthermore , we note that one might be tempted to try an educated guess based on the spin hall hamiltonian presented in sec.[sec : spin - hall ] , without performing the above calculations .",
    "however , due the high symmetry of the system considered in sec.[sec : spin - hall ] ( symmetric positioning of the scatterers ) , we can not arrive at a rigorous approach to find the exact form and the coefficients of eq.([eq : model - scattering ] ) .",
    "in particular , varying the position of the scatterer in the single disorder case leads to a magnetic field pointing in any direction in the plane , while in the spin hall model of sec.[sec : spin - hall ] , symmetrically varying the position of the scatterers leads to only a strength modification of the in - plane magnetic field .",
    "here we discuss the effect of photonic loss which leads to leakage of photons out of the system .",
    "the loss can occur both in resonators and in the connecting waveguides . in most system , propagation and bending losses",
    "dominate the light attenuation and one can ignore losses due to coupling regions @xcite .",
    "we characterize the propagation loss and the bending loss at @xmath215 turns by a single quantity @xmath216 which is the field attenuation in a roundtrip inside the resonator . by assuming moderate quality factor for resonators and using transfer matrix formalism , one can easily show that the dispersion relation of a 1d array of resonators takes the form :    @xmath217    this loss can be also represented by a non - hermitian term in the hamiltonian : @xmath218 where the dissipation rate is given as the product of loss per roundtrip , number of roundtrips per decay time and the photon decay rate ( @xmath54 ) .",
    "fig.4(c ) of the main text shows the reflection spectrum in the presence of such loss . in the edge state transfer band",
    ", the reflection is slightly attenuated due to the attenuation of the light field during the propagation around the system perimeter @xmath219 .",
    "we note that the numerical results corroborate with this estimate .",
    "we next consider experimental issues involving the realization and detection of the magnetic photonic states .",
    "although our formalism is general and can be applied to various photonic systems , here , we focus on silicon - on - insulator ( soi ) technology where it has been shown that up to 100 micro - ring resonators can be successfully coupled to each other operating at 1.5@xmath220 @xcite .",
    "we consider a 10x10 lattice and take the unit cell as 20@xmath220 . since for a typical ring of a few microns , bending losses ( @xmath221db / turn ) are typically larger than propagation losses over a wavelength ( @xmath222db / cm)@xcite , using waveguides with different lengths to connect the resonators might be experimentally more accessible than coupling rings as in a mach - zender configuration @xcite . using the experimental parameter in ref .",
    "@xcite , we find that the extrinsic decay is @xmath223 , which is half of the bandwidth of the tight - binding model .",
    "the intrinsic loss is @xmath224 and the standard deviation of individual resonances is @xmath225 . in numerical simulations for fig.4 and 5 of the main text , we use these parameters and assume that the backscattering strength is @xmath41 ."
  ],
  "abstract_text": [
    "<S> phenomena associated with topological properties of physical systems are naturally robust against perturbations . </S>",
    "<S> this robustness is exemplified by quantized conductance and edge state transport in the quantum hall and quantum spin hall effects . here </S>",
    "<S> we show how exploiting topological properties of optical systems can be used to implement robust photonic devices . </S>",
    "<S> we demonstrate how quantum spin hall hamiltonians can be created with linear optical elements using a network of coupled resonator optical waveguides ( crow ) in two dimensions . </S>",
    "<S> we find that key features of quantum hall systems , including the characteristic hofstadter butterfly and robust edge state transport , can be obtained in such systems . as a specific application </S>",
    "<S> , we show that the topological protection can be used to dramatically improve the performance of optical delay lines and to overcome limitations related to disorder in photonic technologies .    </S>",
    "<S> particles in two - dimensional structures with a magnetic field exhibit a remarkable variety of macroscopic quantum phenomena , including integer @xcite and fractional @xcite quantum hall and quantum spin hall effects @xcite , and predicted regimes of fractional or non - abelian statistics @xcite . </S>",
    "<S> a hallmark of these systems is the presence of edge states , whose transport properties are robust against disorder and scattering , leading to quantized conductance sufficient to provide a resistance standard @xcite . </S>",
    "<S> natural robustness of topological states is actively explored in quantum computation @xcite . </S>",
    "<S> recently , approaches to observing similar quantum hall behavior in bosonic systems including ultra - cold gases ( for a review see ref.@xcite ) and photons @xcite have been suggested .    our method for realization of topological protected photonic devices makes use of two dimensional arrays of coupled resonator optical waveguides ( crow ) to simulate a 2d magnetic tight - binding hamiltonian with degenerate clockwise and counter - clockwise modes . </S>",
    "<S> this approach does not require explicit time - reversal symmetry breaking @xcite , but the degenerate modes time - reversed pairs behave analogously to spins with spin - orbit coupling in the electronic quantum spin hall effect ( qshe ) @xcite , and experience a spin - dependent magnetic field ( fig .  </S>",
    "<S> [ fig : coupled_resonators ] ) . </S>",
    "<S> when the clockwise and counter - clockwise modes are decoupled , we can selectively drive each mode and observe quantum hall behaviors without breaking the time - reversal symmetry in the tight binding hamiltonian . in a direct analogy to the electronic integer quantum hall effect </S>",
    "<S> , we show that photonic edge states carry light at the perimeter of the system , while being insensitive to disorder , and therefore forms a basis for robust photonic devices . in particular , in comparison to state - of - the - art 1-d crow systems , </S>",
    "<S> our approach can be dramatically more resistant to scattering disorders and fabrication errors . </S>"
  ]
}