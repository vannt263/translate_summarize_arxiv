{
  "article_text": [
    "parallel server networks in the halfin  whitt regime have been very actively studied in recent years .",
    "many important insights have been gained in their performance , design and control .",
    "one important question that has mostly remained open is optimal control under the long - run average expected cost ( ergodic ) criterion .",
    "since it is prohibitive to exactly solve the discrete state markov decision problem , the plausible approach is to solve the control problem for the limiting diffusion in the halfin ",
    "whitt regime and use this as an approximation .",
    "however , the results in the existing literature for ergodic control of diffusions ( see a good review in @xcite ) can not be directly applied to the class of diffusion models arising from the parallel server networks in the halfin ",
    "whitt regime .",
    "recently , @xcite and @xcite have developed the basic tools needed to tackle this class of ergodic control problems .",
    "given an optimal solution to the control problem for the diffusion limit , the important task that remains is to show it gives rise to a scheduling policy for the network and establish that any sequence of such scheduling policies is asymptotically optimal in the halfin  whitt regime .",
    "under the discounted cost criterion , this task has been accomplished in @xcite for the multiclass _ v - model _ ( or _ v - network _ ) , which consists of multiple customer classes that are catered by servers in a single pool , and in @xcite for multiclass multi - pool networks with certain tree topologies . under the ergodic criterion ,",
    "the problem becomes much more difficult because it is intertwined with questions concerning the ergodicity of the diffusion - scaled state process under the scheduling policies .",
    "this relates to various open questions on the stochastic stability of parallel server networks in the halfin ",
    "whitt regime .",
    "r[0pt]2.0 in     stability of the multiclass v - model in the halfin ",
    "whitt regime is well treated in @xcite .",
    "@xcite has recently proved the tightness of the stationary distributions of the diffusion - scaled state process for the so - called _ n - network _ ( or _ n - model _ ) , depicted in figure  [ n - model - plot ] , with no abandonment under a static priority policy . for the v - network , @xcite",
    "have shown that a sequence of scheduling policies constructed from the optimal solution to the diffusion control problem under the ergodic criterion is asymptotically optimal . in this construction ,",
    "the state space is divided into a compact subset with radius in the order of the square root of the number of servers around the steady state , and its complement .",
    "an approximation to the optimal control for the diffusion is used inside this set , and a static priority policy is employed in its complement .",
    "it follows from the results of @xcite that under this sequence of scheduling policies the state process is geometrically ergodic .",
    "the proof of asymptotic optimality takes advantage of the fact that , under the static priority scheduling policy , the state process of the v - model in the halfin ",
    "whitt regime is geometrically ergodic .",
    "in fact , such a static priority policy for the v - model also corresponds to a constant markov control , under which the limiting diffusion is geometrically ergodic .    however , for multiclass multi - pool networks , although the optimal control problem for the limiting diffusion has been thoroughly solved in @xcite , the lack of sufficient understanding of the stochastic stability properties of the diffusion - scaled state process has been the critical obstacle to establishing asymptotic optimality .",
    "it is worth noting that this difficulty is related to the so - called `` joint work conservation '' ( jwc ) condition which plays a key role in the study of multiclass multi - pool networks as shown in @xcite .",
    "although the jwc condition holds for the limiting diffusions over the entire state space , it generally holds only in a bounded subset of the state space for the diffusion - scaled process , whose radius is in the order of the number of servers around the steady state .",
    "thus , an optimal control derived from the limiting diffusion does not translate well to a scheduling policy which is compatible with the controlled dynamics of the network on the entire state space . at the same time , although as shown in @xcite there exists a constant markov control under which the limiting diffusion of multiclass multi - pool networks is geometrically ergodic , it is unclear if this is also the case for the diffusion - scaled state processes under the corresponding static priority scheduling policy .",
    "therefore , the limiting diffusion does not offer much help in the synthesis of a suitable scheduling policy on the part of the state space where the jwc condition does not hold , and as a result constructing stable policies for multiclass multi - pool networks is quite a challenge .    in this paper ,",
    "we address these challenging problems for the n - network .",
    "we study three ergodic control problems : ( p1 ) minimizing the queueing ( and idleness ) cost , ( p2 ) minimizing the queueing cost while imposing a dynamic constraint on the idleness of each server pool ( e.g. , the long - run average idleness can not exceed a specified threshold ) , and ( p3 ) minimizing the queueing cost while requiring fairness on idleness ( e.g. , the average idleness of the two server pools satisfies a fixed ratio condition ) .",
    "the running cost can be any nontrivial nonnegative convex functions having at most polynomial growth .",
    "under its usual parameterization , the control specifies the number of customers from each class that are scheduled to each server pool , and we refer to it as a `` scheduling '' policy .",
    "however , the control can be also parameterized in a way so as to specify which class of customers should be scheduled to server pool  @xmath0 if it has any available servers ( `` scheduling '' control ) , and which of the server pools should class-@xmath1 customers be routed to , if both pools have available servers (  routing \" control ) .",
    "the optimal control problems for the limiting diffusion corresponding to ( p1)(p3 ) are well - posed and in the case of p1)(p2 ) the solutions can be fully characterized via hjb equations , following the methods in @xcite .",
    "the dynamic programming characterization for ( p3 ) is more difficult .",
    "this is one of those rare examples in ergodic control where the running cost is not bounded below or above , and there is no blanket stability property . in this paper , we establish the existence of a solution to the hjb equation , and the usual characterization of optimality for this problem .",
    "we first present a markov scheduling policy , for the n - network under which the diffusion - scaled state processes are geometrically ergodic in the halfin ",
    "whitt regime ( see section  [ s3.2 ] ) . unlike the v - model , this scheduling policy is a state - dependent priority ( sdp ) policy , i.e. , priorities change as the system state varies  yet it is simple to describe .",
    "this result is significant since it indicates that the ergodic control problems for the diffusion - scaled processes in the halfin ",
    "whitt regime have finite values .",
    "moreover , it can be used as a scheduling policy outside a bounded subset of the state space where the jwc property might fail to hold . on the other hand ,",
    "it follows from the theory in @xcite that the controlled diffusion limit is geometrically ergodic under some constant markov control . in this paper",
    "we show that a much stronger result applies for the n - network ( lemma [ l4.1 ] ) : as long as the scheduling control is a constant markov control with pool  @xmath0 prioritizing class @xmath0 over @xmath1 , the controlled diffusion limit is geometrically ergodic , uniformly over all routing controls ( e.g. , class-@xmath1 customers prioritizing server pool @xmath1 over @xmath0 , or a state - dependent priority policy , or even a non - stationary one ) .",
    "the main results of the paper center around the proof of convergence of the value functions , which is accomplished by establishing matching lower and upper bounds ( see theorems  [ t - lbound][t - ubound ] ) . to prove the lower bound , the key is to show that as long as the long - run average first - order moment of the diffusion - scaled state process is finite , the associated mean empirical measures are tight and converge to an ergodic occupation measure corresponding to a stationary stable markov control for the limiting diffusion ( lemma [ l6.1 ] ) .",
    "in fact , we can show that for the n - network , under any admissible ( working conserving ) scheduling policy , the long - run average @xmath2 ( @xmath3 ) moment of the diffusion - scaled state process is bounded by the long - run average @xmath2 moment of the diffusion - scaled queue under that policy ( lemma [ l6.3 ] ) .",
    "the lower bounds can then be deduced from these observations .",
    "it is worth noting that in order to establish asymptotic optimality for the fairness problem ( p3 ) , we must relax the equality in the constraint and show instead that the constraint is asymptotically feasible .    in order to establish the upper bound ,",
    "a markov scheduling policy is synthesized which is the concatenation of a markov policy induced by the solution of the ergodic control problem for the diffusion limit , and which is applied on a bounded subset of the state space where the jwc condition holds , and the sdp policy , which is applied on the complement of this set .",
    "the proof involves the following key components .",
    "first , we apply the spatial truncation approximation technique developed in @xcite and @xcite for the ergodic control problem for the diffusion limit .",
    "this provides us with an @xmath4-optimal continuous precise control .",
    "second , we show that under the concatenation of the markov scheduling policy induced by this @xmath4-optimal control and the sdp policy , the diffusion - scaled state processes are geometrically ergodic ( lemma [ l6.4 ] ) .",
    "then we prove that the mean empirical measures of the diffusion - scaled process and control , converge to the ergodic occupation measure of the diffusion limit associated with the @xmath4-optimal precise control originally selected ( lemma [ l6.2 ] ) .",
    "uniform integrability implied by the geometric ergodicity takes care of the rest .      in a certain way",
    ", the n - network has been viewed as the benchmark of multiclass multi - pool networks , mainly because it is simple to describe , yet it has complicated enough dynamics .",
    "there are several important studies on stochastic control of parallel server networks , focusing on n - networks .",
    "@xcite studied the markovian single - server n - network and showed that a threshold scheduling policy is optimal under the expected discounted and long - run average linear holding cost , utilizing a markov decision process approach . in the conventional ( single - server ) heavy - traffic regime ,",
    "the n - network with two single severs , was first studied in @xcite , under the assumption of poisson arrivals and deterministic services , and a ",
    "discrete - review \" policy is shown to be asymptotically optimal under an infinite horizon discounted linear queueing cost .",
    "the n - model with renewal arrival processes and general service time distributions was then studied in @xcite , as a brownian control problem under an infinite horizon discounted linear queueing cost , and a threshold policy is shown to be asymptotically optimal .",
    "@xcite studied the n - network with renewal arrival processes , general service time distributions and exponential patience times , and showed a two - threshold scheduling policy is asymptotically optimal via a brownian control problem under an infinite horizon discounted linear queueing cost .",
    "brownian control models for multiclass networks were pioneered in @xcite and have been extended to many interesting networks ; see @xcite for an extensive review of that literature .    in the many - server halfin ",
    "whitt regime , @xcite pioneered the study of multiclass multi - pool networks with abandonment ( of a certain tree topology ) via the corresponding control problems for the diffusion limit under an infinite - horizon discounted cost .",
    "@xcite have studied queue - and - idleness - ratio controls for multiclass multi - pool networks ( including the n - network ) in the halfin ",
    "whitt regime by establishing a state - space - collapse property , under certain assumptions on the network structure and the system parameters .",
    "the n - network with many - server pools and abandonment has been recently studied in @xcite , where a static priority policy is shown to be asymptotically optimal in the halfin ",
    "whitt regime under a finite - time horizon cost criterion . in @xcite ,",
    "some blind fair routing policies are proposed for some multiclass multi - pool networks ( including the n - network ) , where the control problems are formulated to minimize the average queueing cost under a fairness constraint on the idleness .    on the other hand , most of the existing results on the stochastic control of multiclass multi - pool networks in the halfin ",
    "whitt regime have only considered either discounted cost criteria ( @xcite ) or finite - time horizon cost criteria ( @xcite ) .",
    "there is only limited work of multiclass networks under ergodic cost criteria .",
    "@xcite have recently studied the multiclass v - model under ergodic cost in the halfin ",
    "whitt regime .",
    "the inverted v - model is studied in @xcite , and it is shown that the fastest - server - first policy is asymptotically optimal for minimizing the steady - state expected queue length and waiting time .",
    "for the same model , @xcite showed that a threshold policy is asymptotically optimal for minimizing the steady - state expected queue length and waiting time subject to a  fairness \" constraint on the workload division .",
    "@xcite has recently studied a multiclass multi - pool network with  help \" under an ergodic cost criterion , where each server pool has a dedicated stream of a customer class , and can help with other customer classes only when it has idle servers .",
    "the n - network does not belong to the class of models considered in @xcite .",
    "for general multiclass multi - pool networks , @xcite have thoroughly studied ergodic control problems for the limiting diffusion . however , as mentioned earlier , asymptotic optimality has remained open .",
    "this work makes a significant contribution in that direction , by studying the n - network .",
    "the fairness problem we study fills , in some sense ( our formulation is more general ) , the asymptotic optimality gap in @xcite , where the associated approximate diffusion control problems are studied via simulations .",
    "we also feel that this work contributes to the understanding of the stability of multiclass multi - pool networks in the halfin ",
    "whitt regime . in this topic ,",
    "in addition to the stability studies of the v and n - networks in @xcite and @xcite , it is worthwhile mentioning the following relevant work .",
    "@xcite studied the stability of multiclass multi - pool networks under a load balancing scheduling and routing policy ,  longest - queue freest - server \" ( lqfs - lb ) .",
    "they showed that the fluid limit may be unstable in the vicinity of the equilibrium point for certain network structures and system parameters , and that the sequence of stationary distributions of the diffusion - scaled processes may not be tight in both the underloaded regime and the halfin ",
    "whitt regime .",
    "they also provided positive answers to the stability and exchange - of - limit results in the diffusion scale for one special class of networks .",
    "@xcite proved the tightness of the sequence of stationary distributions of multiclass multi - pool networks under a _ leaf activity priority _",
    "policy ( assigning static priorities to the activities in the order of sequential  elimination \" of the tree leaves ) in the scale @xmath5 ( @xmath6 is the scaling parameter ) for all @xmath7 , which was extended to the diffusion scale @xmath8 in @xcite .",
    "the stability / recurrence properties for general multiclass multi - pool networks under other scheduling policies remain open .",
    "the notation used in this paper is summarized in section  [ s1.3 ] .",
    "a detailed description of the n - network model is given in section  [ sec - model ] .",
    "we define the control objectives in section  [ s3.1 ] and present a state - dependent priority policy that is geometrically stable in section  [ s3.2 ] .",
    "we state the corresponding ergodic control problems for the limiting diffusion , as well as the results on the characterization of optimality in section  [ s4 ] .",
    "the asymptotic optimality results are stated in section  [ s5 ] .",
    "we describe the system dynamics and an equivalent control parameterization in section  [ s6 ] . in section  [ s7 ]",
    ", we establish convergence results for the mean empirical measures for the diffusion - scaled state processes .",
    "we then prove the lower and upper bounds in sections  [ s8 ] and  [ s9 ] , respectively .",
    "the proof of geometric stability of the sdp policy is given in appendix  [ app1 ] , and appendix  [ app2 ] is concerned with the proof of theorem  [ t4.3 ] .",
    "the following notation is used in this paper .",
    "the symbol @xmath9 , denotes the field of real numbers , and @xmath10 , @xmath11 , and @xmath12 denote the sets of nonnegative real numbers , natural numbers , and integers , respectively .",
    "given two real numbers @xmath13 and @xmath14 , the minimum ( maximum ) is denoted by @xmath15 ( @xmath16 ) , respectively .",
    "define @xmath17 and @xmath18 .",
    "the integer part of a real number @xmath13 is denoted by @xmath19 .",
    "we also let @xmath20 .    for a set @xmath21",
    ", we use @xmath22 , @xmath23 , and @xmath24 to denote the closure , the complement , and the indicator function of @xmath25 , respectively . a ball of radius @xmath26 in @xmath27 around a point @xmath28",
    "is denoted by @xmath29 , or simply as @xmath30 if @xmath31 .",
    "the euclidean norm on @xmath27 is denoted by @xmath32 , @xmath33 , denotes the inner product of @xmath34 , and @xmath35 .    for a nonnegative function @xmath36 we let @xmath37 denote the space of functions @xmath38 satisfying @xmath39 .",
    "we also let @xmath40 denote the subspace of @xmath37 consisting of those functions @xmath41 satisfying @xmath42 abusing the notation , @xmath43 and @xmath44 occasionally denote generic members of these sets .",
    "we let @xmath45 denote the set of smooth real - valued functions on @xmath46 with compact support . given any polish space @xmath47 ,",
    "we denote by @xmath48 the set of probability measures on @xmath47 and we endow @xmath48 with the prokhorov metric . for @xmath49 and a borel measurable map @xmath50",
    ", we often use the abbreviated notation @xmath51 the quadratic variation of a square integrable martingale is denoted by @xmath52 . for any path @xmath53 of a cdlg process , we use the notation @xmath54 to denote the jump at time @xmath55 .",
    "all stochastic variables introduced below are defined on a complete probability space @xmath56 . the expectation w.r.t .",
    "@xmath57 is denoted by @xmath58 .",
    "consider an n - network with two classes of jobs ( or customers ) and two server pools , as depicted in figure  [ n - model - plot ] .",
    "jobs of each class arrive according to a poisson process with rates @xmath59 , @xmath60 .",
    "there are two server pools , each of which have multiple statistically identical servers , and servers in pool  @xmath1 can only serve class-@xmath1 jobs , while servers in pool  @xmath0 can serve both classes of jobs .",
    "let @xmath61 be the number of servers in pool  @xmath62 , @xmath63 .",
    "the service times of all jobs are exponentially distributed , where jobs of class  @xmath1 are served at rates @xmath64 and @xmath65 by servers in pools  @xmath1 and @xmath0 , respectively , while jobs of class  @xmath0 are served at a rate @xmath66 by servers in pool  @xmath0 . throughout the paper we set @xmath67 , and @xmath68 .",
    "jobs may abandon while waiting in queue , with an exponential patience time with rate @xmath69 for @xmath60 .",
    "we study a sequence of such networks indexed by an integer @xmath6 which is the order of the number of servers and let @xmath70 .    throughout the paper",
    "we assume that the parameters satisfy the following conditions .",
    "whitt regime@xmath72 [ as - para ] as @xmath73 , the following hold : @xmath74 also , we have @xmath75    note that implies that class-@xmath1 jobs are overloaded for server pool  @xmath1 , class-@xmath0 jobs are underloaded for server pool  @xmath0 , and the overload of class-@xmath1 jobs can be served by server pool  @xmath0 so that both server pools are critically loaded .",
    "this assumption is referred to as the _ complete resource pooling _ condition ( @xcite ) .",
    "let @xmath76 be a constant matrix @xmath77 0 \\quad & \\frac{\\lambda_2}{\\mu_{22 } \\nu_2 }   \\end{bmatrix } \\,.\\ ] ] the quantity @xmath78 can be interpreted as the steady - state fraction of service allocation of pool  @xmath62 to class-@xmath79 jobs in the fluid scale .",
    "define @xmath80 and @xmath81 by @xmath82 @xmath83 0 \\quad & \\frac{\\lambda_2}{\\mu_{22 } }   \\end{bmatrix }    \\,.\\ ] ] then @xmath84 can be interpreted as the steady - state total number of class-@xmath79 jobs , and @xmath85 can be interpreted as the steady - state number of class-@xmath79 jobs receiving service in pool  @xmath62 , in the fluid scale .",
    "it is easy to check that @xmath86 , where @xmath87 .    for each @xmath88",
    "let @xmath89 and @xmath90 be the total number of class-@xmath79 jobs in the system and in the queue , respectively . for each @xmath63 ,",
    "let @xmath91 be the number of idle servers in server pool  @xmath62 .",
    "for @xmath92 , let @xmath93 be the number of class-@xmath79 jobs being served in server pool  @xmath62 , and note that @xmath94 .",
    "the following fundamental balance equations hold : @xmath95 x^{n}_2(t)&\\;=\\;q_2^{n}(t ) + z_{22}^{n}(t)\\ , , \\end{aligned } \\qquad \\begin{aligned } n_1^{n}&\\;=\\;y_1^{n}(t ) + z_{11}^{n}(t)\\ , ,   \\\\[5pt ] n_2^{n}&\\;=\\;y_2^{n}(t ) + z_{21}^{n}(t ) +   z_{22}^{n}(t)\\ , , \\end{aligned}\\\\[5pt ] & \\mspace{0mu } x^{n}_i(t ) \\,\\ge\\ , 0\\ , , \\quad q_i^{n}(t ) \\,\\ge\\ , 0\\ , , \\quad y_j^{n}(t ) \\,\\ge\\ , 0\\ , , \\quad z_{ij}^{n}(t ) \\,\\ge\\ , 0\\,,\\quad i , j = 1,2\\ , , \\end{split}\\ ] ] for each @xmath96 . we let @xmath97 , @xmath98 , and analogously define @xmath99 and @xmath100 .",
    "we only consider work conserving policies that are non - anticipative and preemptive .",
    "work conservation requires that the processes @xmath99 and @xmath100 satisfy @xmath101 in other words , no server will idle if there is any job in a queue that the server can serve .",
    "service preemption is allowed , that is , jobs in service at pool  @xmath0 can be interrupted and resumed at a later time in order to serve jobs from the other class .",
    "let @xmath102 q_2(x , z ) & \\;{:=}\\ ; x_2 - z_{22}\\qquad & y_2(x , z)\\,=\\,y_2^n(x , z ) & \\;{:=}\\ ; n_2^n   - z_{12 } - z_{22}\\ , .",
    "\\end{aligned}\\ ] ] we define the action set @xmath103 as @xmath104    define the @xmath105-fields @xmath106 \\mathcal{g}^{n}_t & \\;{:=}\\ ; \\sigma \\bigl\\ { \\delta\\tilde{a}^{n}_i(t , r),\\ ; \\delta \\tilde{s}^{n}_{ij}(t , r),\\ ; \\delta\\tilde{r}^{n}_i(t , r)\\;\\colon\\ , i , j = 1,2 , \\ ;",
    "r \\ge 0 \\bigr\\ } \\,,\\end{aligned}\\ ] ] where @xmath107 is the collection of all @xmath57-null sets , and @xmath108 \\tilde{s}^{n}_{ij}(t ) & \\;{:=}\\ ; s^{n}_{ij } \\left(\\mu_{ij}^{n } \\int_0^t z_{ij}^{n}(s)\\,{\\mathrm{d}}{s } \\right ) ,   & \\quad \\delta \\tilde{s}^{n}_{ij}(t , r ) & \\;{:=}\\ ; s^{n}_{ij } \\left ( \\mu_{ij}^{n}\\int_0^t z_{ij}^{n}(s)\\,{\\mathrm{d}}{s } + \\mu_{ij}^{n } r \\right ) - \\tilde{s}^{n}_{ij}(t ) \\,,\\\\[5pt ] \\tilde{r}^{n}_i(t ) & \\;{:=}\\ ; r_i^{n } \\left(\\gamma_i^{n } \\int_0^t q^{n}_i(s)\\,{\\mathrm{d}}{s } \\right)\\ , ,   & \\quad \\delta \\tilde{r}^{n}_i(t , r ) & \\;{:=}\\ ; r_i^{n } \\left(\\gamma_i^{n } \\int_0^t q^{n}_i(s)\\ , { \\mathrm{d}}{s } + \\gamma_i^{n } r \\right ) -   \\tilde{r}^{n}_i(t ) \\,.\\end{aligned}\\ ] ] the processes @xmath109 , @xmath110 and @xmath111 are all rate-1 poisson processes and mutually independent , and also independent of the initial condition @xmath112 .",
    "note that quantities with subscript @xmath113 , @xmath114 are all equal to zero .",
    "the filtration @xmath115 represents the information available up to time @xmath55 , and the filtration @xmath116 contains the information about future increments of the processes .",
    "we say that a scheduling policy @xmath117 is _ admissible _ if    1 .",
    "@xmath118 for all @xmath96 ; 2 .",
    "@xmath119 is adapted to @xmath120 ; 3 .",
    "@xmath120 is independent of @xmath121 at each time @xmath122 ; 4 .   for each @xmath123 , and for each @xmath122 , the process @xmath124 agrees in law with @xmath125 , and the process @xmath126 agrees in law with @xmath127 .",
    "we denote the set of all admissible scheduling policies @xmath128 by @xmath129 . abusing the notation",
    "we sometimes denote this as @xmath130 .",
    "following @xcite , we also consider a stronger condition , _ joint work conservation _ ( jwc ) , for preemptive scheduling policies .",
    "specifically , we let @xmath131 denote the set of all possible values of @xmath132 for which there exists a rearrangement @xmath133 of jobs in service such that there is either no job in queue or no idling server in the system , i.e. , @xmath134 note that the set @xmath131 may not include all possible scenarios of the system state @xmath135 for finite @xmath6 at each time @xmath122 .",
    "we quote a result from @xcite , which is used later .",
    "[ l - jwc ] there exists a constant @xmath136 such that , the collection of sets @xmath137 defined by @xmath138 satisfies @xmath139 for all @xmath140 .",
    "moreover , for any @xmath141 satisfying @xmath142 and @xmath143 , we have @xmath144 0 \\quad & x_2 - q_2 \\end{bmatrix } \\;\\in\\ ; { { \\mathcal{z}^n}}(x)\\,.\\ ] ]    we need the following definition .",
    "[ dejwc ] we fix some open ball @xmath145 centered at the origin , such that @xmath146 for all @xmath140 , and a constant @xmath147 .",
    "we define @xmath148 , and @xmath149 \\breve{{\\mathfrak{z}}}^n & \\;{:=}\\ ; \\bigl\\{z^{n}\\in{{\\mathfrak{z}}}^n \\,\\colon\\ , z^n(t)\\in{{\\breve{\\mathcal{z}}^n}}\\bigl(x^n(t)\\bigr ) \\;\\;\\;\\forall\\ , t\\ge0\\bigr\\}\\,,\\\\[5pt ] \\boldsymbol{{\\mathfrak{z}}}&\\;{:=}\\;\\{z^{n}\\in\\breve{{\\mathfrak{z}}}^n\\,,~n\\in{\\mathds{n}}\\}\\ , .",
    "\\end{split}\\ ] ]    the ball @xmath145 is fixed in definition  [ dejwc ] only for convenience .",
    "we could instead adopt a more general definition of @xmath150 , without affecting the results of the paper .",
    "let @xmath151 be a collection of domains which covers @xmath152 and satisfies @xmath153 , and @xmath154 for all @xmath140 .",
    "then we redefine @xmath155 using definition  [ dejwc ] and replacing @xmath156 with @xmath157 and define @xmath150 analogously .",
    "if @xmath158 , then , in the diffusion scale , jwc holds on an expanding sequence of domains which cover @xmath152 . for this reason we refer to the policies in @xmath150 as",
    "_ eventually jointly work conserving _",
    "the ejwc condition plays a crucial role in the derivation of the controlled diffusion limit .",
    "therefore , convergence of mean empirical measures of the diffusion - scaled state process and control , and thus , also the lower and upper bounds for asymptotic optimality are established for sequences @xmath159 .",
    "we define the diffusion - scaled processes @xmath160 , @xmath161 , and analogously for @xmath162 and @xmath163 , by @xmath164 \\hat{q}^{n}_i(t ) & \\;{:=}\\ ; \\frac{1}{\\sqrt{n } } q_i^{n}(t ) \\ , , \\end{aligned } \\qquad \\begin{aligned } \\hat{z}^{n}_{ij}(t ) & \\;{:=}\\ ; \\frac{1}{\\sqrt{n } } ( z_{ij}^{n}(t ) - n z^*_{ij})\\,,\\\\[5pt ] \\hat{y}^{n}_j(t ) & \\;{:=}\\ ; \\frac{1}{\\sqrt{n } } y_j^{n}(t ) \\ , , \\end{aligned}\\ ] ] where @xmath165 and @xmath166 are defined in .",
    "we consider three control objectives , which address the queueing ( delay ) and/or idleness costs in the system : ( i ) _ unconstrained problem _ , minimizing the queueing ( and idleness ) cost and ( ii ) _ constrained problem _ , minimizing the queueing cost while imposing a constraint on idleness , and ( iii ) _ fairness problem _ , minimizing the queueing cost while imposing a constraint on the idleness ratio between the two server pools .",
    "the running cost is a function of the diffusion - scaled processes , which are related to the unscaled ones by . for simplicity , in all three cost minimization problems , we assume that the initial condition @xmath167 is deterministic and @xmath168 as @xmath169 . let @xmath170 be defined by @xmath171 where @xmath172 is a strictly positive vector and @xmath173 is a nonnegative vector . in the case @xmath174 , only the queueing cost is minimized . in ( p1 ) below , idleness may be added as a penalty in the objective .",
    "we denote by @xmath175 the expectation operator under an admissible policy @xmath117 .    *",
    "( _ unconstrained problem _ ) the running cost penalizes the queueing ( and idleness ) .",
    "let @xmath176 be the running cost function as defined in .",
    "given an initial state @xmath167 , and an admissible scheduling policy @xmath177 , we define the diffusion - scaled cost criterion by @xmath178\\,.\\ ] ] the associated cost minimization problem becomes @xmath179 * ( _ constrained problem _ ) the objective here is to minimize the queueing cost while imposing idleness constraints on the two server pools . let @xmath180 be the running cost function corresponding to @xmath181 in with @xmath182 .",
    "the diffusion - scaled cost criterion @xmath183 is defined analogously to with running cost @xmath184 , that is , @xmath185\\,.\\\\ \\intertext{also define } j_{\\mathsf{c},j}\\bigl(\\hat{x}^{n}(0 ) , z^{n}\\bigr ) & \\;{:=}\\;\\limsup_{t \\to \\infty}\\;\\frac{1}{t}\\ ; \\operatorname{\\mathbb{e}}^{z^n }",
    "\\left[\\int_{0}^{t } \\bigl(\\hat{y}^{n}_j(s)\\bigr)^{\\tilde{m}}\\,{\\mathrm{d}}{s}\\right]\\,,\\qquad j=1,2\\,,\\end{aligned}\\ ] ] with @xmath186 .",
    "the associated cost minimization problem becomes @xmath187 \\text{subject to}\\quad j_{\\mathsf{c},j}\\bigl(\\hat{x}^{n}(0 ) , z^{n}\\bigr ) & \\;\\le\\ ; \\updelta_j \\ , , \\quad j = 1,2 \\,,\\label{constraint - ds}\\end{aligned}\\ ] ] where @xmath188 is a positive vector .",
    "* ( _ fairness _ ) here we minimize the queueing cost while keeping the average idleness of the two server pools balanced .",
    "let @xmath189 be a positive constant and let @xmath190 .",
    "the associated cost minimization problem becomes @xmath191 \\text{subject to}\\quad j_{\\mathsf{c},1}\\bigl(\\hat{x}^{n}(0 ) , z^{n}\\bigr ) & \\;=\\;\\uptheta j_{\\mathsf{c},2}\\bigl(\\hat{x}^{n}(0 ) , z^{n}\\bigr)\\ , .",
    "\\ ] ]    we refer to @xmath192 , @xmath193 and @xmath194 as the diffusion - scaled optimal values for the @xmath195 system given the initial state @xmath167 , for ( p1 ) , ( p2 ) and ( p3 ) , respectively .",
    "we choose running costs of the form mainly to simplify the exposition .",
    "however , all the results of this paper still hold for more general classes of functions .",
    "let @xmath196 be a convex function satisfying @xmath197 for some @xmath198 and constants @xmath199 and @xmath200 , and @xmath201 , @xmath202 , @xmath60 , be convex functions that have at most polynomial growth .",
    "then we can choose @xmath203 for the unconstrained problem , and @xmath204 as the functions in the constraints in ( with @xmath205 ) .",
    "for the problem ( p3 ) we require in addition that @xmath206 and they are in @xmath207 .",
    "the analogous running costs can of course be used in the corresponding control problems for the limiting diffusion , which are presented later in section  [ s4.2 ] .",
    "we introduce a markov scheduling policy for the n - network that results in geometric ergodicity for the diffusion - scaled state process , and also implies that the diffusion - scaled cost in the ergodic control problem ( p1 ) is bounded , uniformly in @xmath140 .",
    "let @xmath208 and @xmath209 .",
    "note that @xmath210 .",
    "[ dcheckz ] for each @xmath6 , we define the scheduling policy @xmath211 , @xmath212 , by @xmath213 \\quad \\check{z}^n_{12}(x ) & \\;=\\ ; \\begin{cases } ( x_1 - n_1^n)^+ \\wedge n_{12}^n & \\text{if~ } x_2\\ge n_{22}^n\\\\[3pt ] ( x_1 - n_1^n)^+ \\wedge ( n_2^n - x_2)&\\text{otherwise , } \\end{cases } \\label{ge - zn12}\\\\[5pt ] \\quad \\check{z}^n_{22}(x ) & \\;=\\ ; \\begin{cases } x_2 \\wedge n_{22}^n & \\text{if~ } x_1\\ge n_1^n+ n_{12}^n\\\\[3pt ] x_2\\wedge",
    "\\bigl(n_{2}^n - ( x_1- n_{1}^n ) ^+\\bigr ) & \\text{otherwise . } \\end{cases } \\label{ge - zn22}\\end{aligned}\\ ] ]    note that the scheduling policy @xmath214 is state - dependent , and can be interpreted as follows .",
    "class-@xmath1 jobs prioritize server pool  @xmath1 over @xmath0 .",
    "server pool  @xmath0 prioritizes the two classes of jobs depending on the system state .",
    "whenever @xmath215 , server pool  @xmath0 allocates no more than @xmath216 servers to class-@xmath0 jobs , while whenever @xmath217 , it allocates no more than @xmath218 servers to class-@xmath1 jobs .",
    "it is easy to check that this policy @xmath214 is work conserving .",
    "the resulting queue length and idleness @xmath219 and @xmath220 can be obtained by the balance equations : for @xmath212 , @xmath221 \\check{y}^n_1(x ) & = n^n_1 -   \\check{z}^n_{11}(x)\\ , , & \\check{y}^n_2(x ) & = n^n_2 -   \\check{z}^n_{12}(x ) -    \\check{z}^n_{22}(x ) \\ , .",
    "\\end{aligned}\\ ] ]    for each @xmath222 , define @xmath223   \\hat{x}\\;=\\;\\hat{x}^{n}(x)&\\;{:=}\\ ; \\frac{\\tilde{x}}{\\sqrt n}\\ , .",
    "\\end{split}\\ ] ] where @xmath165 is given in .",
    "also define @xmath224    for @xmath225 and @xmath226 , we let @xmath227    we have the following .    [ pcheckz ] let @xmath228 denote the diffusion - scaled state process under the scheduling policy @xmath229 in definition  [ dcheckz ] , and @xmath230 be its generator . for any @xmath231",
    ", there exists @xmath232 , such that @xmath233 for some positive constants @xmath234 , @xmath235 , and @xmath236 , which depend on @xmath237 and @xmath238 . as a consequence , for any @xmath239",
    ", there exists @xmath240 such that @xmath241 \\;<\\ ; \\infty\\,,\\ ] ] and the same holds if we replace @xmath242 with @xmath243 or @xmath244 in .",
    "see appendix  [ app1 ] .",
    "we remark that given for @xmath242 , the same property may not hold for @xmath243 or @xmath244 .",
    "it always holds if a scheduling policy satisfies the jwc condition ( by the balance equation ) . otherwise , that property needs to be verified under the given scheduling policy .",
    "it can easily checked that if the property holds for any two processes of @xmath242 , @xmath243 and @xmath244 , then it also holds for the third .",
    "if the action space is @xmath155 , or equivalently @xmath245 , the convergence in distribution of the diffusion - scaled processes @xmath242 to the limiting diffusion @xmath246 in is shown in proposition  3 in @xcite .",
    "for the class of multiclass multi - pool networks , the drift of the limiting diffusion is given implicitly via a linear map in proposition  3 of @xcite .",
    "for the n - network , the drift can be explicitly expressed as we show below in . in @xcite",
    ", a leaf elimination algorithm has been developed to provide an explicit expression for the drift of the limiting diffusion of general multiclass multi - pool networks .",
    "the expression in below follows from that algorithm ; see lemma  4.3 and section  4.2 in @xcite .",
    "the limit process @xmath246 is an @xmath0-dimensional diffusion satisfying the it equation @xmath247 with initial condition @xmath248 and the control @xmath249 , where @xmath250 the process @xmath251 is a @xmath0-dimensional standard wiener process independent of the initial condition @xmath252 .",
    "the drift @xmath253 takes the form @xmath254 with @xmath255 and @xmath256 defined by @xmath257 the covariance matrix is given by @xmath258 .",
    "the control process @xmath259 lives in the compact set @xmath260 in , and @xmath261 is jointly measurable in @xmath262 .",
    "moreover , it is _ non - anticipative _ : for @xmath263 , @xmath264 is independent of @xmath265 let @xmath266 be the set of all such controls , referred to as _",
    "admissible _ controls .",
    "we remark that can be regarded as a piecewise - linear controlled diffusion .",
    "note that the matrix @xmath267 is an @xmath268-matrix .",
    "however , there is an additional term @xmath269 in the drift , which differs from the class of piecewise - linear controlled diffusions discussed in section  3.3 of @xcite .",
    "we refer to as the _ limiting diffusion _ , or the _ diffusion limit_.    the associated limit processes @xmath270 , @xmath271 , and @xmath272 satisfy the following balance equations : @xmath273   x_2 ( t ) & \\;=\\ ; q_2(t ) + z_{22}(t ) \\ , , \\end{aligned } \\quad \\begin{aligned } y_1(t ) + z_{11}(t ) & \\;=\\ ; 0 \\ , , \\\\[5pt ] y_2(t ) + z_{12}(t ) + z_{22}(t ) & \\;=\\ ; 0 \\ , , \\end{aligned } \\end{split}\\ ] ] with @xmath274 , @xmath275 , @xmath276 .",
    "note that these ` balance ' conditions imply that jwc always holds at the diffusion limit , i.e. , @xmath277      we state the three problems which correspond to ( p1)(p3 ) in section  [ s3.1 ] for the controlled diffusion in .",
    "let @xmath278 be defined by @xmath279 with the same @xmath181 in , that is , @xmath280^m \\sum_{i=1}^{2 } \\xi_i ( u^c_i)^m +   [ ( e\\cdot x)^{-}]^m \\sum_{j=1}^{2 } \\zeta_j ( u^s_j)^m , \\quad m\\ge 1\\,,\\ ] ] for the given @xmath281 and @xmath173 in .",
    "let the ergodic cost associated with the controlled diffusion @xmath246 and the running cost @xmath282 be defined as @xmath283 \\;{:=}\\ ; \\limsup_{t \\to \\infty}\\;\\frac{1}{t}\\;\\operatorname{\\mathbb{e}}_x^u \\left [ \\int_{0}^{t } r(x_t , u_t)\\,{\\mathrm{d}}{t } \\right]\\ , , \\quad u \\in { \\mathfrak{u}}\\,.\\ ] ]    * ( _ unconstrained problem _ ) the running cost function @xmath284 is as in .",
    "the ergodic control problem is then defined as @xmath285 \\,.\\ ] ] * ( _ constrained problem _ ) the running cost function @xmath286 is as in with @xmath174 . also define @xmath287^{\\tilde{m}}\\,,\\quad j=1,2\\,,\\ ] ] with @xmath186 , and let @xmath288 be a positive vector .",
    "the ergodic control problem under idleness constraints is defined as @xmath289\\\\[5pt ] \\text{subject to}\\quad j_{x , u}[r_{j } ] & \\;\\le\\ ; \\updelta_j\\,,\\quad j = 1,2\\ , .",
    "\\end{split}\\ ] ] * ( _ fairness _ ) the running costs @xmath290 , @xmath291 and @xmath292 are as in ( p2@xmath293 ) .",
    "let @xmath189 be a positive constant , and @xmath190 .",
    "the ergodic control problem under idleness fairness is defined as @xmath294\\\\[5pt ] \\text{subject to}\\quad j_{x , u}[r_{1 } ] & \\;=\\ ; \\uptheta\\ , j_{x , u}[r_{2}]\\ , .",
    "\\end{split}\\ ] ]    the last problem enforces fairness of idleness allocation among the two server pools .",
    "also note that penalizing only the queueing cost in ( p1 ) , raises a well - posedness question , which was resolved in corollaries  4.14.2 of @xcite .",
    "the quantities @xmath295 , @xmath296 and @xmath297 are called the optimal values of the ergodic control problems ( p1@xmath293 ) , ( p2@xmath293 ) and ( p3@xmath293 ) , respectively , for the controlled diffusion process @xmath246 with initial state @xmath28 .",
    "note that as is shown in section  3 of @xcite and sections  3 and  5.4 of @xcite , the optimal values @xmath295 , @xmath296 and @xmath297 do not depend on @xmath298 , and thus we remove their dependence on @xmath28 in the statements below .",
    "recall that a control is called _ markov _ if @xmath299 for a measurable map @xmath300 , and it is called _ stationary markov _",
    "if @xmath301 does not depend on @xmath55 , i.e. , @xmath302 .",
    "let @xmath303 denote the set of stationary markov controls .",
    "recall also that a control @xmath304 is called _ stable _ if the controlled process is positive recurrent .",
    "we denote the set of such controls by @xmath305 , and let @xmath306 denote the unique invariant probability measure on @xmath307 for the diffusion under the control @xmath308 .",
    "we also let @xmath309 , and @xmath310 denote the set of ergodic occupation measures corresponding to controls in @xmath305 , that is , @xmath311 where @xmath312 is the controlled extended generator of the diffusion @xmath246 , @xmath313 with @xmath314 and @xmath315 and @xmath316 .",
    "the restriction of the ergodic control problem with running cost @xmath282 to stable stationary markov controls is equivalent to minimizing @xmath317 over all @xmath318 .",
    "if the infimum is attained in @xmath310 , then we say that the ergodic control problem is _ well posed _ , and we refer to any @xmath319 that attains this infimum as an _ optimal ergodic occupation measure_.    we define the class of admissible controls @xmath320 , and we also let @xmath321 we have the following lemma .    [ l4.1 ] let @xmath322 be as in . there exist positive constants @xmath234 and @xmath235 depending only on @xmath238 and @xmath323 , such that @xmath324    by we have @xmath325 -\\bigl(\\mu_{11 } u_1^s + \\mu_{12 } u_2^s\\bigr ) x_1 - ( \\mu_{11}-\\mu_{12})u_1^s\\ , x_2 + \\ell_1 & \\text{otherwise , } \\end{cases}\\\\[5pt ] b_2\\bigl(x ,",
    "u\\bigr ) & \\;=\\ ; - \\mu_{22 } x_2 + \\ell_2\\qquad \\forall\\,x\\in{\\mathds{r}}^2\\,.\\end{aligned}\\ ] ] the result follows by the upper diagonal structure of the drift .",
    "as shown in corollary  4.2 of @xcite , for any @xmath326 , there exists a constant @xmath327 such that any solution @xmath328 of with @xmath329 satisfies @xmath330 \\;\\le\\ ; c{\\lvertx_{0}\\rvert}^k+ ct + c \\operatorname{\\mathbb{e}}^u_x \\biggl[\\int_{0}^{t } \\bigl((e\\cdot x_t)^+\\bigr)^k\\,{\\mathrm{d}}{t}\\biggr ] \\qquad \\forall\\ , u\\in{\\mathfrak{u}}\\,,\\quad\\forall\\,t>0\\,.\\ ] ] this property plays a crucial role in solving ( p1@xmath293)(p3@xmath293 ) .",
    "the characterization of the optimal solutions to the ergodic control problems ( p1@xmath293)(p3@xmath293 ) has been thoroughly studied in @xcite and @xcite .",
    "we review some results that are used in the sections which follow to construct asymptotically optimal scheduling policies and prove asymptotic optimality .",
    "we first introduce some notation .",
    "let @xmath331\\,.\\ ] ] for @xmath332 , let @xmath333    for @xmath334 and @xmath335 define the running cost @xmath336 by @xmath337    we say that the vector @xmath338 is _ feasible _ ( or that the constraints in are feasible ) if there exists @xmath339 such that @xmath340 .",
    "the following is contained in theorem  5.2 of @xcite .    for the ergodic control problem in ,",
    "there exists a unique solution @xmath341 , satisfying @xmath342 , to the associated hjb equation : @xmath343 \\;=\\;\\varrho^{*}\\,.\\ ] ] moreover , a stationary markov control @xmath344 is optimal if and only if it satisfies @xmath345    the following is contained in lemmas  3.33.5 , and theorems  3.13.2 of @xcite .",
    "[ t4.2 ] suppose that @xmath346 is feasible for the ergodic control problem under constraints in , i.e. , there exists @xmath339 such that @xmath347 .",
    "then the following hold .",
    "* there exists @xmath348 such that @xmath349 * if @xmath350 attains the infimum of @xmath351 in @xmath352 , then @xmath353 , and @xmath354 * there exists @xmath355 satisfying @xmath356 \\;=\\ ; \\uppi^{*}(g_{\\updelta,\\uplambda^ { * } } ) = \\varrho^*_{\\mathsf{c}}\\,,\\quad x\\in{\\mathds{r}}^{2}\\,.\\ ] ] * a stationary markov control @xmath357 is optimal if and only if it satisfies @xmath358 where @xmath359 is defined in with @xmath282 replaced by @xmath360 . *",
    "the map @xmath361 is continuous at any feasible point @xmath362 .    for uniqueness of the solutions @xmath363",
    "see theorem  3.2 in @xcite .",
    "we now turn to the constrained ergodic control problem in .",
    "lemma  [ l4.1 ] implies that assumption  5.1 in @xcite holds , and consequently the solution of ( p3@xmath293 ) follows by theorem  5.8 in the same paper .",
    "however , the lagrangian in ( p3@xmath293 ) is not bounded below in @xmath152 , and since no details were provided in @xcite on the existence of solutions to the hjb equation , we provide a proof in appendix  [ app2 ] .",
    "[ t4.3 ] for any @xmath364 the constraint in is feasible .",
    "all the conclusions of theorem  [ t4.2 ] hold , provided we replace @xmath336 with @xmath365",
    "in this section , we present the main results on asymptotic optimality .",
    "we show that the values of the three ergodic control problems in the diffusion scale converge to the values of the corresponding ergodic control problems for the limiting diffusion , respectively .",
    "the proofs of the lower and upper bounds are given in sections  [ s8 ] and [ s9 ] , respectively .",
    "recall the definitions of @xmath366 , @xmath367 , @xmath368 , @xmath369 , and @xmath370 in ( p1)(p3 ) , and the definitions of @xmath371 , @xmath372 , and @xmath373 in ( p1@xmath293)(p3@xmath293 ) .",
    "[ t - lbound ] @xmath71lower bounds@xmath72 let @xmath374 as @xmath375 .",
    "the following hold :    * for any sequence @xmath376 the diffusion - scaled cost in satisfies @xmath377 * suppose that under a sequence @xmath376 the constraint in is satisfied for all sufficiently large @xmath140",
    ". then @xmath378 and as a result we have that @xmath379 * there exists a continuous function @xmath380 , with @xmath381 , such that if a sequence @xmath376 satisfies @xmath382 for some @xmath383 , and all sufficiently large @xmath140 , then @xmath384    the proof of the theorem that follows relies on the fact that @xmath282 and also @xmath385 for @xmath386 , are convex functions of @xmath387 .",
    "[ t - ubound ] @xmath71upper bounds@xmath72 let @xmath374 as @xmath375 .",
    "the following hold :    * @xmath388 . * for any @xmath383 , there exists a sequence @xmath376 such that the constraint in is feasible for all sufficiently large @xmath6 , and @xmath389 consequently , we have that @xmath390 . * for any @xmath383 , there exists a sequence @xmath376 such that holds for all sufficiently large @xmath140 , and @xmath391",
    "the processes @xmath392 can be represented via rate-@xmath1 poisson processes : for each @xmath60 and @xmath122 , we have @xmath393 recall that the processes @xmath109 , @xmath110 and @xmath111 are all rate-1 poisson processes and mutually independent , and independent of the initial quantities @xmath112 .    by and ,",
    "we can write @xmath394 and @xmath395 as @xmath396 + \\hat{m}^{n}_{a , 1 } ( t ) - \\hat{m}^{n}_{s , 11}(t )   - \\hat{m}^{n}_{s , 12}(t ) - \\hat{m}^{n}_{r , 1}(t)\\ , , \\end{gathered}\\ ] ] @xmath397 where for @xmath88 and @xmath398 @xmath399   \\hat{m}^{n}_{s , ij}(t ) & \\;{:=}\\ ; \\frac{1}{\\sqrt{n}}\\left ( s^{n}_{ij }   \\left ( \\mu_{ij}^{n}\\int_0^t z_{ij}^{n}(s ) { \\mathrm{d}}{s } \\right )   - \\mu_{ij}^{n}\\int_0^t z_{ij}^{n}(s ) { \\mathrm{d}}{s}\\right ) \\,,\\\\[5pt ] \\hat{m}^{n}_{r , i}(t ) & \\;{:=}\\;\\frac{1}{\\sqrt{n } } \\left(r_i^{n } \\left(\\gamma_i^{n } \\int_0^t q^{n}_i(s ) { \\mathrm{d}}{s } \\right ) -\\gamma_i^{n } \\int_0^t q^{n}_i(s ) { \\mathrm{d}}{s } \\right)\\,,\\end{aligned}\\ ] ] and @xmath400 is defined by @xmath401 with @xmath85 as in .",
    "it is easy to see that under the assumptions on the parameters in assumption  [ as - para ] , @xmath402 as @xmath70 , where @xmath403 is defined in .",
    "the processes @xmath404 , @xmath405 and @xmath406 are square integrable martingales w.r.t . the filtration @xmath407 with quadratic variations @xmath408    by  , , and",
    ", we obtain the balance equations @xmath409 \\hat{x}^{n}_2(t ) & \\;=\\ ; \\hat{q}_2^{n}(t ) +   \\hat{z}^{n}_{22}(t ) \\ , , \\end{aligned } \\qquad \\begin{aligned } \\hat{y}^{n}_1(t ) + \\hat{z}^{n}_{11}(t ) & \\;=\\ ; 0 \\ , , \\\\[5pt ]   \\hat{y}^{n}_2(t ) + \\hat{z}^{n}_{12}(t ) + \\hat{z}^{n}_{22}(t ) & \\;=\\ ; 0\\ , , \\end{aligned } \\end{split}\\ ] ] for all @xmath122 . the work and joint conservation conditions translate to the following : @xmath410 and @xmath411 , @xmath412 , respectively .      by , we obtain @xmath413 and therefore the jwc condition is equivalent to @xmath414    [ d6.1 ] we define the processes @xmath415 and @xmath416 , @xmath96 , by @xmath417 and @xmath418 and let @xmath419 .",
    "the process @xmath420 represents the proportion of the total queue length in the network at queue @xmath79 at time @xmath55 , while @xmath421 represents the proportion of the total idle servers in the network at station @xmath62 at time @xmath55 .",
    "the control @xmath422 means that server pool  @xmath0 gives strict static priority to class-@xmath0 jobs , while the control @xmath423 means that class-@xmath1 jobs strictly prefer service in pool  @xmath1 .",
    "given @xmath177 , the process @xmath424 is uniquely determined via and  and lives in the set @xmath260 in .",
    "it follows by and that , under jwc , we have that for each @xmath122 , @xmath425 also , by , under the jwc condition , we have @xmath426 0 \\quad & \\hat{x}_2^n -   ( e\\cdot\\hat{x}^n)^{+ } u^{c , n}_2   \\end{bmatrix } \\,.\\ ] ]",
    "for the process @xmath427 under a scheduling policy @xmath117 , and with @xmath259 as in definition  [ d6.1 ] , we define the mean empirical measures @xmath428\\ ] ] for borel sets @xmath429 and @xmath430 .",
    "recall definition  [ dejwc ] .",
    "the lemma which follows provides a sufficient condition under which the mean empirical measures @xmath431 are tight and converge to an ergodic occupation measure corresponding to some stationary stable markov control for the limiting diffusion control problem .",
    "the condition simply requires a finite long - run average first - order moment of the diffusion - scaled state process under an ejwc scheduling policy .",
    "this lemma is used in section  [ s8 ] to prove the lower bounds in theorem  [ t - lbound ] .",
    "[ l6.1 ] suppose that under some sequence @xmath376 we have @xmath432\\;<\\,\\infty\\,.\\ ] ] then any limit point @xmath433 of @xmath431 , defined in , as @xmath434 satisfies @xmath318 .",
    "let @xmath435 , and define @xmath436 by applying it s formula ( see , e.g. , theorem  26.7 in @xcite ) and using the definition of @xmath431 in and @xmath228 in  , we obtain @xmath437 -   \\operatorname{\\mathbb{e}}\\bigl[f(\\hat{x}^{n}(0))\\bigr]}{t }        \\;=\\ ;   \\int_{{\\mathds{r}}^2 \\times { { \\mathbb{u } } } } \\mathcal{a}^{n}f(\\hat{x},u)\\ , \\phi^{z^n}_{t } ( { \\mathrm{d}}{\\hat{x } } , { \\mathrm{d}}{u } ) + \\frac{1}{t}\\;\\operatorname{\\mathbb{e}}\\biggl [ \\sum_{s\\le t}\\mathscr{d } f(\\hat{x}^n , s)\\biggr]\\,,\\end{gathered}\\ ] ] with @xmath438 .",
    "define @xmath439 { { \\mathcal{a}}}_{2,1}^{n}(\\hat{x},u ) & \\;{:=}\\ ; -   \\mu_{22}^{n } ( \\hat{x}_2 - ( e\\cdot \\hat{x})^+ u_2^c ) - \\gamma^{n}_2 ( e\\cdot \\hat{x})^{+ } u^c_2 + \\ell^{n}_2\\,,\\\\[5pt ] { { \\mathcal{a}}}_{1,2}^{n}(\\hat{x},u ) & \\;{:=}\\ ; \\frac{1}{2}\\biggl(\\frac{\\lambda^{n}_{1}}{n } + \\mu_{11}^{n}z^*_{11 } + \\mu_{12}^{n}z^*_{12 }   + \\frac{1}{\\sqrt{n}}\\,\\mu_{12}^{n } \\bigl(\\hat{x}_1 - ( e\\cdot \\hat{x})^+ u_1^c\\bigr)\\\\ & \\mspace{150mu }   + \\frac{1}{\\sqrt{n}}\\ , ( \\mu_{11}^{n } - \\mu_{12}^{n } ) ( e\\cdot \\hat{x})^{- } u_1^s + \\frac{1}{\\sqrt{n}}\\,\\gamma^{n}_1 ( e\\cdot \\hat{x})^{+ } u^c_1 \\biggr)\\ , , \\\\[5pt ] { { \\mathcal{a}}}_{2,2}^{n}(\\hat{x},u ) & \\;{:=}\\ ; \\frac{1}{2}\\biggl(\\frac{\\lambda^{n}_{2}}{n } + \\mu_{22}^{n}z^*_{22 } + \\frac{1}{\\sqrt{n}}\\,\\mu_{22}^{n } \\bigl(\\hat{x}_2 - ( e\\cdot \\hat{x})^+ u_2^c \\bigr ) + \\frac{1}{\\sqrt{n}}\\,\\gamma^{n}_2 ( e\\cdot \\hat{x})^{+ } u^c_2 \\biggr)\\ , .",
    "\\end{split}\\ ] ] since @xmath440 , the operator @xmath441 takes the form @xmath442    by taylor s formula , using also the fact that the jump size is @xmath443 , we obtain @xmath444 for some constant @xmath445 that does not depend on @xmath140 .",
    "let @xmath446 \\bar{\\mathcal{x}}^n_2(t ) & \\;{:=}\\ ; \\frac{\\lambda^{n}_2}{n } + \\frac{1}{n } \\mu^{n}_{22 } z^{n}_{22}(t ) + \\frac{1}{n } \\gamma^{n}_2 q^{n}_2(t ) \\end{split}\\ ] ] for @xmath96 . since independent poisson processes have no simultaneous jumps w.p.1 .",
    ", we have @xmath447 \\;\\le\\;\\frac{1}{t}\\;\\operatorname{\\mathbb{e}}{\\biggl\\lvert\\int_{0}^{t } \\bigl(\\bar{\\mathcal{x}}^n_1(s ) + \\bar{\\mathcal{x}}^n_2(s ) \\bigr ) \\,{\\mathrm{d}}{s}\\biggr\\rvert}\\,,\\ ] ] and that the right hand side is uniformly bounded over @xmath140 and @xmath448 by .",
    "thus , we have @xmath449 \\;\\le\\ ; \\frac{\\kappa { \\lvertf\\rvert}_{{\\mathcal{c}}^{3}}}{t\\sqrt{n } } \\operatorname{\\mathbb{e}}\\biggl[\\int_{0}^{t}\\sum_{i , i'=1}^{2 } { \\bigl\\lvert\\delta\\hat{x}^{n}_{i}(s)\\delta \\hat{x}^{n}_{i'}(s)\\,\\bigr\\rvert}{\\mathrm{d}}{s}\\biggr ] \\;\\to\\ ; 0\\,,\\ ] ] as @xmath450 .",
    "therefore , taking limits in , we obtain @xmath451    note that for @xmath60 , @xmath452 tends to the drift of the limiting diffusion @xmath453 , while @xmath454 tends to to @xmath455 as @xmath73 , uniformly over compact sets in @xmath456 .",
    "let @xmath457 any sequence along which @xmath458 converges to some @xmath433 .",
    "thus , by and a standard triangle inequality , we obtain @xmath459 where @xmath460 \\,.\\ ] ] this completes the proof .    before stating the second lemma",
    ", we first introduce a canonical construction of scheduling policies from the optimal control @xmath461 for the diffusion control problems .",
    "[ d6.2 ] let @xmath462 be a measurable map defined by @xmath463 for any precise control @xmath344 , define the maps @xmath464 $ ] and @xmath465 $ ] on @xmath466 by @xmath467(x ) \\;{:=}\\ ; \\varpi \\bigl((e\\cdot\\tilde{x})^{+ } v^c(\\nicefrac{\\tilde{x}}{\\sqrt{n}})\\bigr ) \\",
    ", , \\qquad y^{n}[v](x ) \\;{:=}\\ ; \\varpi\\bigl((e \\cdot \\tilde{x})^{- } v^s(\\nicefrac{\\tilde{x}}{\\sqrt{n } } ) \\bigr)\\,,\\ ] ] where @xmath468 is as defined in , and define the map ( markov scheduling policy ) @xmath469 $ ] on @xmath137 by @xmath470(x ) \\;{:=}\\ ; \\begin{bmatrix } n_1^n - y^{n}_1[v](x ) \\quad & x_1 - q^{n}_1[v](x ) -   ( n_1^n - y^{n}_1[v](x ) ) \\\\[5pt ] 0 \\quad & x_2 - q^{n}_2[v](x ) \\end{bmatrix } \\,.\\ ] ]    [ l - xn ] for any precise control @xmath344 we have @xmath471(x ) \\wedge e \\cdot y^n[v](x)=0 $ ] and @xmath469(x)\\in{{\\mathcal{z}^n}}(x)$ ] for all @xmath472 , i.e. , the jwc condition is satisfied in @xmath137 .",
    "this follows from lemma [ l - jwc ] and the definition of the maps @xmath473 $ ] , @xmath474 $ ] and @xmath469 $ ] .",
    "the lemma which follows asserts that if a sequence of ejwc scheduling policies is constructed using any precise stationary stable markov control in a way that the long - run average moment condition in lemma  [ l6.1 ] is satisfied , then any limit of the mean empirical measures of the diffusion scaled processes agrees with the ergodic occupation measure of the limiting diffusion corresponding to that control .",
    "this lemma is used in the proof of upper bounds in theorem  [ t - ubound ] .",
    "recall definition  [ dejwc ] .",
    "[ l6.2 ] let @xmath308 be a continuous precise control , and @xmath475 be any sequence of admissible scheduling policies such that each @xmath117 agrees with the markov scheduling policy @xmath469 $ ] given in definition  [ d6.2 ] on @xmath476 .",
    "suppose that holds .",
    "for @xmath477 we define @xmath478 ( x ) & \\;{:=}\\ ; \\begin{cases } \\frac{\\hat{q}^{n}[v](x)}{e\\cdot \\hat{q}^{n}[v](x ) } & \\text{if~ } e\\cdot \\hat{q}^{n}[v](x)>0\\,,\\\\[5pt ] v^c(x ) & \\text{otherwise,}\\end{cases } \\intertext{and }   u^{s , n}[v](x ) & \\;{:=}\\ ; \\begin{cases } \\frac{\\hat{y}^{n}[v](x)}{e\\cdot \\hat{y}^{n}[v](x ) } & \\text{if~ } e\\cdot \\hat{y}^{n}[v](x)>0\\,,\\\\[5pt ] v^s(x ) & \\text{otherwise.}\\end{cases}\\end{aligned}\\ ] ] for the process @xmath427 under the scheduling policy @xmath117 , define the mean empirical measures @xmath479\\bigl(\\hat{x}^{n}(t)\\bigr)\\bigr)\\,{\\mathrm{d}}{t}\\biggr]\\ ] ] for borel sets @xmath480 and @xmath430",
    ". then any limit point of @xmath481 as @xmath434 agrees with @xmath482 , the ergodic occupation measure of the controlled diffusion in corresponding to @xmath301 .",
    "it follows by corollary  [ l - xn ] that @xmath483 . also , by the continuity of @xmath301 we have @xmath484(\\hat{x}^{n})-v(\\hat{x}^{n})\\rvert}\\;\\to\\ ; 0\\qquad\\text{as}~n\\to\\infty\\,,\\ ] ] uniformly over @xmath28 in compact sets .",
    "also , for any @xmath435 , it holds that @xmath485\\bigl(\\hat{x}^{n}(t)\\bigr)\\bigr)\\,{\\mathrm{d}}{t}\\right]\\,,\\ ] ] for all sufficiently large @xmath6 . therefore , if @xmath486 is any limit point of @xmath481 as @xmath487 , and we disintegrate @xmath486 as @xmath488 then we have @xmath489(x)\\bigr)\\ , \\nu^{n}({\\mathrm{d}}{x})\\,.\\ ] ] let @xmath490 be any increasing sequence such that @xmath491 . to simplify the notation ,",
    "let @xmath492(x))$ ] .",
    "we have @xmath493 it follows by that @xmath494 , uniformly as @xmath73 , which implies that the first term on the right hand side of converges to @xmath495 .",
    "the second term does the same by the convergence of @xmath496 to @xmath497 . by lemma  [ l6.1 ]",
    "we have @xmath498 as @xmath73 . therefore",
    ", we obtain @xmath499 and this means that @xmath497 in an invariant probability measure for the diffusion associated with the control @xmath301 .",
    "in this section , we prove the lower bounds in theorem  [ t - lbound ] .",
    "the following lemma which applies to the diffusion - scaled process , is analogous to lemma  3.1  ( c ) for the diffusion limit in @xcite .",
    "[ l6.3 ] there exist constants @xmath500 and @xmath501 independent of @xmath6 such that @xmath502 \\;\\le\\ ; c_{1}+c_{2 } j_{\\mathsf{o } } \\bigl(\\hat{x}^{n}(0),\\hat{z}^{n}\\bigr)\\qquad\\forall\\,n\\in{\\mathds{n}}\\,,\\ ] ] for any sequence @xmath503 , where @xmath198 is as in .",
    "let @xmath504 , @xmath505 , where @xmath506 is a positive constant to be determined later , and @xmath507 for @xmath198 . by applying it s formula on @xmath508 , with @xmath438",
    ", we obtain from that for @xmath122 , @xmath509 \\;=\\ ; \\operatorname{\\mathbb{e}}\\bigl[\\mathscr{v}(\\hat{x}^{n}(0 ) ) \\bigr ] + \\operatorname{\\mathbb{e}}\\biggl[\\int_{0}^{t } \\mathscr{a } \\mathscr{v } \\bigl(\\hat{x}^{n}(s ) , \\hat{z}^{n}(s)\\bigr)\\,{\\mathrm{d}}{s } \\biggr ]   + \\operatorname{\\mathbb{e}}\\biggl[\\sum_{s\\le t } \\mathscr{d } \\mathscr{v}(\\hat{x}^n , s ) \\biggr]\\,,\\ ] ] where @xmath510 is defined as in , @xmath511 and @xmath512 \\mathscr{a}^{n}_{2,1}\\bigl(\\hat{x } , \\hat{z}\\bigr)&\\;{:=}\\ ; \\ell^{n}_{2 } - \\mu^{n}_{22 } \\hat{z}_{22}-\\gamma^{n}_{2 } \\bigl(\\hat{x}_2 - \\hat{z}_{22}\\bigr)\\,,\\\\[5pt ] \\mathscr{a}^{n}_{1,2}\\bigl(\\hat{x } , \\hat{z}\\bigr)&\\;{:=}\\ ; \\frac{1}{2}\\biggl[\\frac{\\lambda^{n}_{1}}{n } + \\bigl ( \\mu_{11}^{n } z_{11}^ * +   \\mu_{12}^{n }   z_{12}^ * \\bigr )   + \\frac{1 } { \\sqrt{n } } \\bigl(\\mu_{11}^{n } \\hat{z}_{11 } + \\mu_{12}^{n } \\hat{z}_{12 } \\bigr )   + \\frac{\\gamma^{n}_1 } { \\sqrt{n } } \\bigl (   \\hat{x}_1-   \\hat{z}_{11 } -    \\hat{z}_{12 }   \\bigr ) \\biggr]\\ , ,   \\\\[5pt ] \\mathscr{a}^{n}_{2,2}\\bigl(\\hat{x } , \\hat{z}\\bigr)&\\;{:=}\\ ; \\frac{1}{2}\\biggl[\\frac{\\lambda^{n}_{2}}{n } + \\mu_{22}^{n } z_{22}^ * + \\frac{1 } { \\sqrt{n } } \\mu_{22}^{n }   \\hat{z}_{22 }    + \\frac{\\gamma^{n}_2 } { \\sqrt{n } } \\bigl (   \\hat{x}_2 - \\hat{z}_{22 }    \\bigr ) \\biggr]\\ , ,   \\end{aligned}\\ ] ] for @xmath513 , and @xmath514 for @xmath515 and @xmath166 defined in .",
    "we also use the nonnegative variables @xmath516 and @xmath517 , @xmath60 , which are defined as functions of @xmath518 and @xmath519 via the balance equations , keeping in mind that the work conservation condition holds for these .    define @xmath520 \\bar{\\mathscr{a}}_{2,1}\\bigl(x , z\\bigr ) & \\;{:=}\\ ; \\ell_{2 } - \\mu_{22 } z_{22}-\\gamma_{2 } \\bigl(x_2-   z_{22}\\bigr)\\,,\\end{aligned}\\ ] ] for @xmath521 and @xmath522 .    by the convergence of the parameters in assumption",
    "[ as - para ] , we have that for @xmath60 , @xmath523 for some constant @xmath524 as @xmath73 .",
    "let @xmath525 .",
    "we claim that if @xmath526 then @xmath527 , @xmath528 by the work conservation condition . indeed since @xmath529 for @xmath60",
    ", then @xmath526 implies that @xmath528 , which in turn implies that @xmath530 .",
    "this of course implies that @xmath527 .    if @xmath531 , then by the balance equations we have @xmath532 , @xmath533 , and @xmath534 . on the other hand , if @xmath535 , then we obtain @xmath536 , @xmath537 , and @xmath538 . hence when @xmath539 we have @xmath540{100 } & \\begin{aligned } \\bar{\\mathscr{a}}_{1,1}(\\hat{x},\\hat{z } ) & \\;=\\ ;   - \\mu_{12 } \\hat{x}_1 + ( \\mu_{11 } - \\mu_{12})\\,\\hat\\xi + \\ell_1\\\\[5pt ] \\bar{\\mathscr{a}}_{2,1}(\\hat{x},\\hat{z } ) & \\;=\\ ; -   \\mu_{22 } ( \\hat{x}_2 - \\hat{q}_2 ) - \\gamma_2 \\hat{q}_2 + \\ell_2 \\end{aligned } & & \\qquad \\text{if~ } \\hat{y}_1<\\hat{q}_2\\ , ,    \\\\[7pt ] & \\begin{aligned } \\bar{\\mathscr{a}}_{1,1}(\\hat{x},\\hat{z } ) & \\;=\\ ;   - \\mu_{11 } \\hat{x}_1 + ( \\mu_{11 } - \\mu_{12})\\ , ( \\hat\\xi- \\hat{x}_2 ) + \\ell_1\\\\[5pt ] \\bar{\\mathscr{a}}_{2,1}(\\hat{x},\\hat{z } ) & \\;=\\ ; -   \\mu_{22 } ( \\hat{x}_2 -   \\hat\\xi ) -",
    "+ \\ell_2 \\end{aligned } & & \\qquad \\text{if~ }   \\hat{y}_1\\ge\\hat{q}_2\\ , .",
    "\\end{alignedat } \\end{split}\\ ] ] and when @xmath541 , we can use the parameterization @xmath542 and @xmath543 and to obtain @xmath544{100 } & \\begin{aligned } \\bar{\\mathscr{a}}_{1,1}(\\hat{x},\\hat{z } ) & \\;=\\ ;   - \\mu_{12 } \\hat{x}_1 + ( \\mu_{12 } - \\gamma_1)\\,\\hat{q}_1 + \\ell_1\\\\[5pt ] \\bar{\\mathscr{a}}_{2,1}(\\hat{x},\\hat{z } ) & \\;=\\ ; -   \\mu_{22 } ( \\hat{x}_2 - \\hat{q}_2 ) - \\gamma_2 \\hat{q}_2 + \\ell_2 \\end{aligned } & & \\qquad \\text{if~ } ( e\\cdot \\hat{x})^+>0\\ , , \\\\[7pt ] & \\begin{aligned } \\bar{\\mathscr{a}}_{1,1}(\\hat{x},\\hat{z } ) & \\;=\\ ;     - ( \\mu_{12}(1- u_1^s)+\\mu_{11 } u_1^s ) \\hat{x}_1 - ( \\mu_{11 } - \\mu_{12})\\ , \\hat{x}_2\\,u^s_1 + \\ell_1 \\\\[5pt ] \\bar{\\mathscr{a}}_{2,1}(\\hat{x},\\hat{z } ) & \\;=\\ ; -   \\mu_{22 } \\hat{x}_2 + \\ell_2 \\end{aligned } & & \\qquad \\text{if~ }   ( e\\cdot \\hat{x})^- \\ge 0\\ , .",
    "\\end{alignedat } \\end{split}\\ ] ]    it follows by the above analysis that @xmath545 hence we have @xmath546 .",
    "thus , by and  , and also using the fact that @xmath547 and young s inequality , we can choose @xmath226 and positive constants @xmath548 and @xmath549 such that @xmath550    for the jumps in , we first note that by the definition of @xmath551 , since there exists a positive constant @xmath552 such that @xmath553 since also the jump size is of order @xmath443 , then by taylor s expansion we obtain latexmath:[\\[\\delta\\mathscr{v}_{i}\\bigl(\\hat{x}^{n}(s)\\bigr ) -\\mathscr{v}_{i}'\\bigl(\\hat{x}^{n}(s-)\\bigr)\\cdot\\delta\\hat{x}^{n}_{i}(s ) \\;\\le\\ ; \\frac{1}{2 } \\sup_{|y - \\hat{x}^{n}_i(s-)| \\le 1 } \\ ;    @xmath60 .",
    "recall the definitions of @xmath555 and @xmath556 in .",
    "thus , for @xmath60 , using also , we obtain @xmath557   & \\le\\ ; \\operatorname{\\mathbb{e}}\\biggl [ \\sum_{s\\le t } c_3 \\bigl(1+{\\lvert\\hat{x}^{n}_{i}(s-)\\rvert}^{m-1 } \\bigr ) \\bigl(\\delta\\hat{x}^{n}_{i}(s)\\bigr)^2 \\biggr ] \\nonumber\\\\[5pt ] & \\le\\ ; c_3 \\operatorname{\\mathbb{e}}\\biggl [ \\int_0^t \\bigl(1 + { \\lvert\\hat{x}^{n}_{i}(s)\\rvert}^{m-1 } \\bigr ) \\bar{\\mathcal{x}}^n_i(s ) \\,{\\mathrm{d}}{s } \\biggr ] \\nonumber\\\\[5pt ] & \\le\\ ; c_4\\operatorname{\\mathbb{e}}\\biggl [ \\int_0^t \\bigl(1 + { \\lvert\\hat{x}^{n}_{i}(s)\\rvert}^{m-1 } \\bigr ) \\bigl(1+n^{-\\nicefrac{1}{2}}({\\lvert\\hat{x}^{n}(s)\\rvert}+{\\lvert\\hat{q}^{n}(s)\\rvert}\\bigr)\\,{\\mathrm{d}}{s } \\biggr]\\ , , \\end{aligned}\\ ] ] for some positive constant @xmath558 . therefore , by , , and , we can choose positive constants @xmath559 and @xmath560 such that @xmath561 \\;\\le\\ ; \\operatorname{\\mathbb{e}}\\bigl[\\mathscr{v}(\\hat{x}^{n}(0))\\bigr ] + c_6 t - c_5 \\operatorname{\\mathbb{e}}\\biggl [ \\int_0^t{\\lvert\\hat{x}^{n}(s)\\rvert}^{m}\\,{\\mathrm{d}}{s }   \\biggr ] + c_6 \\operatorname{\\mathbb{e}}\\biggl [ \\int_0^t { \\lvert\\hat{q}^{n}\\rvert}^{m}\\,{\\mathrm{d}}{s}\\biggr]\\,.\\ ] ] dividing by @xmath55 and taking limits as @xmath562 , establishes .",
    "we are now ready to prove theorem  [ t - lbound ] .",
    "let @xmath130 , @xmath140 , be an arbitrary sequence of scheduling policies in @xmath150 , and let @xmath563 as defined in . without loss of generality",
    "we assume that along some increasing sequence @xmath564 , we have @xmath565 ; otherwise there is nothing to prove .",
    "by lemmas  [ l6.1 ] and [ l6.3 ] , the sequence of mean empirical measures @xmath566 is tight and any subsequential limit as @xmath567 is in @xmath310 .",
    "select any subsequence @xmath568 , with @xmath569 , as @xmath570 , and such that @xmath571 and @xmath572 for all @xmath573 , and extract any further subsequence , also denoted as @xmath574 , along which @xmath575 .",
    "since @xmath282 is nonnegative , taking limits as @xmath570 we obtain @xmath576 this proves part  ( i ) .",
    "we next show the lower bound ( ii ) for the constrained problem . repeating the same argument as in part  ( i ) ,",
    "suppose that @xmath577 along some increasing sequence @xmath564 . as in the proof of part  ( i ) , let @xmath578 be a limit of @xmath579 as @xmath434 . recall the definition of @xmath385 in .",
    "since @xmath385 is bounded below , taking limits , we obtain @xmath580 , @xmath63 .",
    "therefore @xmath581 , and by optimality we must have @xmath582 .",
    "similarly , we obtain , @xmath583 this proves part  ( ii ) .    the result in part  ( iii ) for",
    "the fairness problem follows along the same lines as part  ( ii ) . with @xmath584 as in part  ( ii )",
    ", we have @xmath585 also by the uniform integrability of @xmath586\\,,\\qquad j=1,2\\,,\\ ] ] and , we obtain @xmath587 the result then follows by  and theorem  [ t4.2](e ) .",
    "this completes the proof .",
    "in this section , we prove the upper bounds in theorem  [ t - ubound ] . we need the following lemma .",
    "[ l6.4 ] let @xmath322 be as in .",
    "suppose @xmath308 is such that for some positive constants @xmath234 ,",
    "@xmath235 , @xmath506 and @xmath225 , it holds that @xmath588 let @xmath228 denote the diffusion - scaled state process under the scheduling policy @xmath589 $ ] in definition  [ d6.2 ] , and @xmath230 be its generator .",
    "then , there exists @xmath590 such that @xmath591 for some positive constants @xmath592 and @xmath593 , and for all @xmath594",
    ".    see appendix  [ app1 ] .",
    "we first prove part  ( i ) for the unconstrained problem .",
    "recall the definition in .",
    "let @xmath595 . by theorems  5.5 in @xcite and",
    "lemma  [ l4.1 ] , there exists a a continuous precise control @xmath596 which is @xmath4-optimal for ( p1@xmath293 ) and satisfies @xmath597 for any @xmath598 defined in , and for some positive constants @xmath548 , @xmath549 which depend on @xmath506 .",
    "recall definition  [ dejwc ] .",
    "the scheduling policy that we apply to the @xmath599 system is as follows : inside the ball @xmath600 we apply the markov policy in definition  [ d6.2 ] @xmath601 $ ] , while outside this ball we apply the markov policy @xmath214 in definition  [ dcheckz ] .",
    "let @xmath117 denote this concatenated policy . by proposition",
    "[ pcheckz ] and lemma  [ l6.4 ] there exist positive constants @xmath234 , @xmath235 , @xmath506 , and @xmath236 , such that @xmath602 let @xmath603 as defined in .",
    "we define @xmath604 \\hat{y}(\\hat{x } ) & \\;{:=}\\ ; \\bigl ( - z^n_{11}(\\hat{x})- z^n_{12}(\\hat{x } ) ,   - z^n_{22}(\\hat{x})\\bigr)\\,,\\end{aligned}\\ ] ] by we have @xmath605 , and by birkhoff s ergodic theorem for each @xmath594 there exists @xmath606 , such that @xmath607 for all @xmath608 and @xmath609 . by the sequence @xmath610 can be selected so as to also satisfy @xmath611 without loss of generality we assume that @xmath612 .",
    "hence , by uniform integrability which is implied by , together with for any @xmath613 there exists a ball @xmath614 such that @xmath615 for all @xmath608 and @xmath609 .    by jwc on @xmath616 , we have @xmath617 and @xmath618 for all @xmath619 , and for all large enough @xmath6 by corollary  [ l - xn ] . on the other hand , @xmath620 converges , as @xmath434 , to @xmath621 in @xmath622 by lemma  [ l6.2 ] .",
    "therefore @xmath623{}\\ ; \\int_{b_{\\eta}\\times{{\\mathbb{u } } } } r(x , u)\\,\\uppi_{v_\\epsilon}({\\mathrm{d}}{x},{\\mathrm{d}}{u})\\,.\\ ] ] by  we obtain @xmath624 since @xmath625 and @xmath4 are arbitrary , this completes the proof of part ( i ) .",
    "we next show the upper bound for the constrained problem .",
    "let @xmath383 be given . by theorem  5.7 in @xcite and",
    "lemma  [ l4.1 ] , there exists a continuous precise control @xmath626 and constants @xmath627 , @xmath63 , satisfying @xmath628 , and @xmath629 , @xmath60 , and holds .",
    "let @xmath117 be the markov policy constructed in part ( i ) by concatenating @xmath601 $ ] and @xmath214 .",
    "following the proof of part ( i ) and choosing @xmath625 small enough ,",
    "i.e. , @xmath630 , we obtain @xmath631 \\limsup_{n\\to\\infty}\\;j_{\\mathsf{c},j}\\bigl(\\hat{x}^{n}(0 ) , z^{n}\\bigr ) & \\;\\le\\ ; \\frac{1}{2}(\\updelta_j+\\updelta^{\\epsilon}_j ) \\",
    ", , \\quad j = 1,2\\,.\\end{aligned}\\ ] ] this completes the proof of part ( ii ) .",
    "the proof of the upper bound for the fairness problem is analogous to part ( ii ) . by theorem  5.7 and remark  5.1 in @xcite , for any @xmath383 , there exists a continuous precise control @xmath626 for ( p3@xmath293 ) satisfying @xmath632 since @xmath633 is tight , and @xmath634 is strictly positive on an open subset of @xmath267 , it follows by the harnack inequality for the density of the invariant probability measure of the diffusion that @xmath635 arguing as in part ( ii ) , we obtain @xmath636 \\lim_{n\\to\\infty}\\ ; j_{\\mathsf{c},j}\\bigl(\\hat{x}^{n}(0 ) , z^{n}\\bigr ) & \\;=\\ ; \\uppi_{v_{\\epsilon}}(r_{j})\\,,\\qquad j \\;=\\;1,2\\ , . \\end{split}\\ ] ] the result then follows by  , thus completing the proof .",
    "we have proved asymptotic optimality for the n - network in the halfin - whitt regime . the analysis results in a good understanding of the stability of the diffusion - scaled state processes under certain scheduling policies and the convergence properties of the associated mean empirical measures .",
    "the state - dependent priority scheduling policy constructed not only gives us a better understanding of the n - network , but also plays a key role in proving the upper bound .",
    "in addition we have identified some important properties of the diffusion - scaled state processes that concern existence of moments , and the convergence of the mean empirical measures .",
    "the methodology we followed should help to establish asymptotic optimality for more general multiclass multi - pool networks in the halfin - whitt regime .",
    "if this is done , it will nicely complement the results on ergodic control of the limiting controlled diffusion in @xcite . for more general networks ,",
    "the main difficulty lies in discovering simple ( state - dependent ) scheduling policies under which the diffusion - scaled state process is geometrically stable .",
    "that may depend critically upon the network topology and/or parameter assumptions .",
    "in these proofs we use the fact that the quantities @xmath637 are in @xmath638 .",
    "this is straightforward to verify using assumption  [ as - para ] .    simplifying the notation in definition  [ dcheckz ] we let @xmath639 , and analogously for @xmath220 and @xmath219 .",
    "fix @xmath640 .    under the scheduling policy definition  [ dcheckz ] ,",
    "the resulting process @xmath392 is markov with generator @xmath641    recall the definition of @xmath518 in .",
    "define @xmath642 for some positive constant @xmath506 , to be determined later . if we show that @xmath643 for some positive constants @xmath234 and @xmath235 , and for all @xmath594 , then by scaling with a factor of @xmath644 we obtain .",
    "given , we easily obtain that @xmath645 - f_n(x^{n}(0 ) )   & \\;=\\ ; \\operatorname{\\mathbb{e}}\\left [ \\int_{0}^{t } { { \\mathscr{l}}}_n f_n(x^{n}(s))\\,{\\mathrm{d}}{s } \\right ] \\\\[5pt ] & \\;\\le\\ ; c_1 n^{\\nicefrac{k}{2 } } t - c_2 \\operatorname{\\mathbb{e}}\\left [ \\int_{0}^{t } f_n(x^{n}(s))\\,{\\mathrm{d}}{s } \\right ] \\,,\\end{aligned}\\ ] ] which implies that @xmath646 \\;\\le\\ ; c_1 + \\frac{1}{t } { { \\mathcal{v}}}_{k,\\beta}\\bigl(\\hat{x}^{n}_i(0)\\bigr ) - \\frac{1}{t}\\;\\operatorname{\\mathbb{e}}\\bigl [ { { \\mathcal{v}}}_{k,\\beta}\\bigl(\\hat{x}^{n}_i(t)\\bigr ) \\bigr ] \\,.\\ ] ] by letting @xmath647 , this implies that holds .",
    "we now focus on proving .",
    "note that @xmath648 recall @xmath468 in .",
    "then by , we have @xmath649 & \\mspace{50mu } + ( \\mu_{11}^{n } z^{n}_{11 } + \\mu_{12}^{n } z^{n}_{12 } ) \\,\\bigl ( -k \\tilde{x}_1 \\ , { \\lvert\\tilde{x}_1\\rvert}^{k-2 }   + { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-2}\\bigr ) \\bigr ) \\nonumber\\\\[5pt ] & \\mspace{100mu } +   \\beta \\mu_{22}^{n}z^{n}_{22}\\ , \\bigl ( -k \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 }   + { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_2\\rvert}^{k-2}\\bigr ) \\bigr ) \\nonumber\\\\[5pt ] & \\mspace{150mu } + \\gamma_1^{n } q^{n}_1\\ , \\bigl ( - k \\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } + { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-2}\\bigr)\\bigr)\\nonumber\\\\[5pt ] & \\mspace{200mu } + \\beta \\gamma_2^{n } q^{n}_2\\ , \\bigl ( - k \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } + { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_2\\rvert}^{k-2}\\bigr)\\bigr)\\ , .",
    "\\end{aligned}\\ ] ]    let @xmath650 and @xmath651 then @xmath652    we first study @xmath653 .",
    "it is easy to observe that for each @xmath654 and @xmath655 , @xmath656 thus , we obtain @xmath657 & = \\ ;   \\bigl(\\lambda_1^{n } + \\gamma^{n}_1 ( n x_{1}^ { * } + \\tilde{x}_1 ) \\bigr ) { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-2 } \\bigr ) + \\beta \\bigl(\\lambda_2^{n } + \\gamma^{n}_2 ( n x_{2}^ { * } + \\tilde{x}_2 ) \\bigr ) { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigr )   \\nonumber \\\\ &",
    "\\mspace{50mu } + \\bigl(\\mu_{11}^{n } + \\mu_{12}^{n }   \\bigr)(n x_{1}^ { * } + \\tilde{x}_1 ) { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-2 } \\bigr ) +   \\beta \\mu_{22}^{n } ( n x_{2}^ { * } + \\tilde{x}_2 ) { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigr )   \\nonumber \\\\[5pt ] & \\le\\ ;   \\sum_{i=1}^2   \\bigl({{\\mathscr{o}}}(n ) { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_i\\rvert}^{k-2}\\bigr ) + { { \\mathscr{o}}}\\bigl({\\lvert\\tilde{x}_i\\rvert}^{k-1 } \\bigr ) \\bigr)\\,,\\end{aligned}\\ ] ] where the last inequality follows from assumption  [ as - para ] .",
    "we next focus on @xmath658 .",
    "we consider four cases :    _ case  1 _ : @xmath659 and @xmath217 .",
    "then @xmath660    we obtain @xmath661   \\nonumber\\\\[3pt ] & \\mspace{60mu } +   \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n }   -   \\mu_{22}^{n }   n_{22}^n - \\gamma^{n}_2 (   nx^*_2 -    n_{22}^n)\\bigr ]      - k   \\gamma^{n}_1 { \\lvert\\tilde{x}_1\\rvert}^{k }   - \\beta k   \\gamma^{n}_2 { \\lvert\\tilde{x}_2\\rvert}^{k } \\nonumber \\\\[5pt ] & \\;=\\ ; { { \\mathscr{o}}}(\\sqrt n)\\ , \\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-1}+\\beta{\\lvert\\tilde{x}_2\\rvert}^{k-1}\\bigr ) - k \\gamma^{n}_1 { \\lvert\\tilde{x}_1\\rvert}^{k }   - \\beta k   \\gamma^{n}_2 { \\lvert\\tilde{x}_2\\rvert}^{k}\\,.\\end{aligned}\\ ] ]    _ case  2 _ : @xmath662 and @xmath663 .",
    "consider two subcases :    _ case  2.1 _ : @xmath664 .",
    "then @xmath665    we have @xmath666 \\nonumber\\\\[3pt ] & \\mspace{60mu } +      \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n }   -   \\mu_{22}^{n } n x^*_2   \\bigr ] - k   \\mu^{n}_{12 } { \\lvert\\tilde{x}_1\\rvert}^{k }   - \\beta k   \\mu^{n}_{22 } { \\lvert\\tilde{x}_2\\rvert}^{k}\\nonumber \\\\[5pt ] & \\;=\\ ; { { \\mathscr{o}}}(\\sqrt n)\\ , \\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-1}+\\beta{\\lvert\\tilde{x}_2\\rvert}^{k-1}\\bigr ) - k   \\mu^{n}_{12 } { \\lvert\\tilde{x}_1\\rvert}^{k }   - \\beta k   \\mu^{n}_{22 } { \\lvert\\tilde{x}_2\\rvert}^{k}\\,.\\end{aligned}\\ ] ]    _ case  2.2 _ : @xmath667 .",
    "then @xmath668    we obtain @xmath669   + \\beta k",
    "\\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n } - \\mu_{22}^{n } ( \\tilde{x}_2+n x_2^ * ) \\bigr ]   \\nonumber \\\\[5pt ] & \\;\\le\\;k   \\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } \\bigl[\\lambda_1^{n}- \\mu_{11}^{n } n_1^n- \\mu_{12}^{n } n_{12}^n\\bigr ] + \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n }   - \\mu_{22}^{n } n x_2^*\\bigr ] \\nonumber \\\\[3pt ] & \\mspace{60mu } + k \\mu_{12}^{n }   n_{12}^n\\,\\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } -\\beta k \\mu_{22}^{n}\\,{\\lvert\\tilde{x}_2\\rvert}^{k}\\ , .",
    "\\end{aligned}\\ ] ] since @xmath670 we have @xmath671 & \\;=\\ ; -\\frac{\\mu_{12}\\nu_2}{\\nu_1}{\\lvert\\tilde{x}_1\\rvert}^2 + { { \\mathscr{o}}}(\\sqrt n ) { \\lvert\\tilde{x}_1\\rvert}\\,.\\end{aligned}\\ ] ] thus , takes the form @xmath672    _ case  3 _ : @xmath673 and @xmath663 .",
    "we distinguish two subcases .",
    "_ case  3.1 _ : @xmath674 .",
    "then @xmath675    we have @xmath676 \\nonumber \\\\[3pt ] & \\mspace{60mu } + \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n }   - \\mu_{22}^{n } ( n x_2^ * + \\tilde{x}_2 ) \\bigr ] \\nonumber \\\\[5pt ] & \\;=\\;k   \\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } \\bigl[\\lambda_1^{n}- \\mu_{11}^{n } n_1^n- \\mu_{12}^{n }   n_{12}^n + \\mu_{12}^{n } ( n x_2^*+   n_{22}^n)\\bigr ] \\nonumber \\\\[3pt ] & \\mspace{60mu } - k   \\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } \\gamma^{n}_1 ( nx_1^*+nx_2^*-n_1^n - n_2^n ) + \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n }   - \\mu_{22}^{n } n x_2^*\\bigr ] \\nonumber \\\\[3pt ] & \\mspace{120mu } + k   ( \\mu_{12}^{n}-\\gamma^{n}_1 ) \\tilde{x}_1\\,\\tilde{x}_2 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } -k \\gamma^{n}_1\\,{\\lvert\\tilde{x}_1\\rvert}^{k } -\\beta k \\mu_{22}^{n}\\,{\\lvert\\tilde{x}_2\\rvert}^{k } \\nonumber \\\\[5pt ] & \\;=\\ ; { { \\mathscr{o}}}(\\sqrt n)\\ , \\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-1}+\\beta{\\lvert\\tilde{x}_2\\rvert}^{k-1}\\bigr ) + k   ( \\mu_{12}^{n}-\\gamma^{n}_1 ) \\tilde{x}_1\\,\\tilde{x}_2 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 }   \\nonumber\\\\[3pt ] & \\mspace{320mu }   -k \\gamma^{n}_1\\,{\\lvert\\tilde{x}_1\\rvert}^{k }   -\\beta k \\mu_{22}^{n}\\,{\\lvert\\tilde{x}_2\\rvert}^{k}\\ ,",
    ". \\end{aligned}\\ ] ]    _ case  3.2 _ : @xmath677 .",
    "then @xmath678    we have @xmath679 \\nonumber \\\\[3pt ] & \\mspace{60mu } + \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n } - \\mu_{22}^{n } ( n x_2^ * + \\tilde{x}_2 ) \\bigr ]   \\nonumber \\\\[5pt ] & \\;=\\;k   \\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } \\bigl[\\lambda_1^{n}- \\mu_{11}^{n } n_1^n- \\mu_{12}^{n }   n_{12}^n - \\mu_{12}^{n } ( n x_1^*-n_1^n- n_{12}^n)\\bigr ] \\nonumber \\\\[3pt ] & \\mspace{60mu } + \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n }   - \\mu_{22}^{n } n x_2^*\\bigr ] -k \\mu_{12}^{n}\\,{\\lvert\\tilde{x}_1\\rvert}^{k } -\\beta k \\mu_{22}^{n}\\,{\\lvert\\tilde{x}_2\\rvert}^{k } \\nonumber \\\\ & \\;=\\ ;   { { \\mathscr{o}}}(\\sqrt n)\\ , \\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-1}+\\beta{\\lvert\\tilde{x}_2\\rvert}^{k-1}\\bigr ) -k \\mu_{12}^{n}\\,{\\lvert\\tilde{x}_1\\rvert}^{k } -\\beta k \\mu_{22}^{n}\\,{\\lvert\\tilde{x}_2\\rvert}^{k } \\ , .",
    "\\end{aligned}\\ ] ]    _ case  4 _ : @xmath680 and @xmath217 . here",
    "we distinguish four subcases .",
    "_ case  4.1 _ : @xmath670 and @xmath681 . using the argument used in case  2.2",
    ", we obtain the same estimate as .",
    "_ case  4.2 _ : @xmath670 and @xmath682 .",
    "then @xmath683 we use the inequality @xmath684 to write @xmath685 & \\;\\le\\ ; \\lambda_2^{n } - \\mu_{22}^{n }   n_{22}^n + ( \\mu_{22}^n\\wedge \\gamma_2^n ) \\ , \\tilde{x}_2+{{\\mathscr{o}}}(\\sqrt n)\\,.\\end{aligned}\\ ] ] therefore , as in case  2.2 , we obtain @xmath686\\nonumber\\\\[3pt ] & \\mspace{60mu } -k   \\xi^*_{12 } \\frac{\\mu_{12}\\nu_2}{\\nu_1}\\,{\\lvert\\tilde{x}_1\\rvert}^{k } -\\beta k   ( \\mu_{22}^n\\wedge \\gamma_2^n)\\,{\\lvert\\tilde{x}_2\\rvert}^{k } \\nonumber\\\\[5pt ] & \\;\\le\\ ; { { \\mathscr{o}}}(\\sqrt n)\\ , \\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-1}+\\beta{\\lvert\\tilde{x}_2\\rvert}^{k-1}\\bigr ) -k",
    "\\xi^*_{12 } \\frac{\\mu_{12}\\nu_2}{\\nu_1}\\,{\\lvert\\tilde{x}_1\\rvert}^{k } -\\beta k   ( \\mu_{22}^n\\wedge \\gamma_2^n)\\,{\\lvert\\tilde{x}_2\\rvert}^{k}\\,.\\end{aligned}\\ ] ]    _ case  4.3 _ : @xmath687 and @xmath677",
    ". then @xmath688    we obtain @xmath689\\nonumber \\\\[3pt ] & \\mspace{60mu } + \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n } - \\mu_{22}^{n } ( \\tilde{x}_2+n x_2^ * ) \\bigr ]   \\nonumber \\\\[5pt ] & \\;=\\ ; k   \\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{k-2 } \\bigl[\\lambda_1^{n } - \\mu_{11}^{n}n_1^n - \\mu_{12}^n n_{12}^n -\\mu_{12}^n(nx_1^*-n_1^n- n_{12}^n)\\bigr]\\nonumber \\\\[3pt ] & \\mspace{60mu } + \\beta k   \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{k-2 } \\bigl[\\lambda_2^{n } -\\mu_{22}^{n } n_{22}^n - \\mu_{22}^{n } ( n x_2^*- n_{22}^n ) \\bigr]\\nonumber \\\\[3pt ] & \\mspace{120mu } -k \\mu_{12}^{n}{\\lvert\\tilde{x}_1\\rvert}^{k } -\\beta k \\mu_{22}^{n}{\\lvert\\tilde{x}_2\\rvert}^{k } \\nonumber \\\\[5pt ] & \\;=\\;{{\\mathscr{o}}}(\\sqrt n)\\ , \\bigl({\\lvert\\tilde{x}_1\\rvert}^{k-1}+\\beta{\\lvert\\tilde{x}_2\\rvert}^{k-1}\\bigr ) -k \\mu_{12}^{n}{\\lvert\\tilde{x}_1\\rvert}^{k } -\\beta k \\mu_{22}^{n}{\\lvert\\tilde{x}_2\\rvert}^{k}\\ , .",
    "\\end{aligned}\\ ] ]    _ case  4.4_. @xmath687 and @xmath690 .",
    "then @xmath691 therefore , we obtain @xmath692\\nonumber \\\\[3pt ] & \\qquad + q \\beta_2",
    "\\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{q-2 } \\bigl[\\lambda_2^{n } - \\mu_{22}^{n } ( n_2^n+n_1^n - x_1 ) -\\gamma_2^n \\bigl(x_2 - ( n_2^n+n_1^n - x_1 ) \\bigr)\\bigr ]   \\nonumber \\\\[5pt ] & \\;\\le \\ ;",
    "q \\beta_1 \\tilde{x}_1 \\,{\\lvert\\tilde{x}_1\\rvert}^{q-2 } \\bigl[\\lambda_1^{n } - \\mu_{11}^{n}n_1^n - \\mu_{12}^n n_{12}^n -\\mu_{12}^n(\\tilde{x}_1 + nx_1^*-n_1^n - n_{12}^n)\\bigr]\\nonumber \\\\[3pt ] & \\qquad \\qquad \\qquad   + q \\beta_2 \\tilde{x}_2 \\,{\\lvert\\tilde{x}_2\\rvert}^{q-2 } \\bigl[\\lambda_2^{n } - ( \\mu_{22}^{n } \\wedge \\gamma_2^n ) ( \\tilde{x}_2 + nx_2^ * )   \\bigr ]   \\nonumber \\\\[5pt ] & \\;\\le\\;{{\\mathscr{o}}}(\\sqrt n)\\ , \\bigl(\\beta_1{\\lvert\\tilde{x}_1\\rvert}^{q-1}+\\beta_2{\\lvert\\tilde{x}_2\\rvert}^{q-1}\\bigr ) -q \\beta_1\\mu_{12}^{n}{\\lvert\\tilde{x}_1\\rvert}^{q } -q \\beta_2 ( \\mu_{22}^{n } \\wedge \\gamma_2^n )   { \\lvert\\tilde{x}_2\\rvert}^{q}\\,,\\end{aligned}\\ ] ] where the first inequality follows by observing that @xmath693 since @xmath694 and @xmath695 .    by young s inequality",
    ", we have @xmath696 @xmath697 for any @xmath383 . using this in in combination with  , and ",
    ", we can choose the constant @xmath506 properly so that @xmath698 for some positive constant @xmath699 . now applying young s inequality again to the first two terms on the right hand side of",
    ", we obtain @xmath700 { { \\mathscr{o}}}(n ) { { \\mathscr{o}}}(|\\tilde{x}_i|^{k-2 } ) & \\;\\le\\ ; \\epsilon\\bigl ( { { \\mathscr{o}}}(|\\tilde{x}_i|^{k-2 } ) \\bigr)^{\\nicefrac{k}{(k-2 ) } } + \\epsilon^{1-\\nicefrac{k}{2 } } \\bigl({{\\mathscr{o}}}(n)\\bigr)^{\\nicefrac{k}{2}}\\end{aligned}\\ ] ] for any @xmath383 .",
    "this shows that can choose @xmath506 , @xmath234 and @xmath235 appropriately to obtain the claim in .",
    "recall @xmath701 in and let @xmath702 for @xmath60 .",
    "concerning the claim in with @xmath242 replaced by @xmath243 we observe that in case  1 , @xmath703 , and @xmath704 , in case  3.1 , @xmath705 , and @xmath706 , in case  4.2 , @xmath707 , and @xmath708 , in case  4.4 , @xmath707 , and @xmath709 , and in all the other cases , @xmath710 . the same claim for @xmath244 then follows from the balance equation .",
    "the proof of the proposition is complete .",
    "we need to show holds for @xmath711 under the scheduling policy @xmath589 $ ] in definition  [ d6.2 ] .",
    "we can write @xmath712 with @xmath713 and @xmath714 given by and respectively .",
    "we obtain for @xmath713 since also holds under the policy @xmath589 $ ] . for @xmath715 , by and definition [ d6.2 ] , since the control @xmath301 satisfies and @xmath716 ( jwc being satisfied ) , we easily obtain @xmath717 for some positive constant @xmath718 . thus ,",
    "following the argument in the proof of proposition [ pcheckz ] , we obtain the claim in and hence the result follows by scaling .",
    "let @xmath719 as in theorem  [ t4.2 ] there exists @xmath348 such that @xmath720 and the property in implies that the infimum is attained in some @xmath721 .",
    "therefore , the conclusions analogous to parts ( a ) and ( b ) of theorem  [ t4.2 ] hold .",
    "part ( e ) is also standard .",
    "it remains to derive the hjb equation and the characterization of optimality corresponding to theorem  [ t4.2](c)(d ) .",
    "this is broken in a series of lemmas .",
    "we need to introduce some notation .",
    "we denote by @xmath722 , @xmath723 , the _ first exit time _ of a process from @xmath724 , i.e. , @xmath725 we denote by @xmath726 the class of markov controls @xmath301 satisfying @xmath727 , and by @xmath728 the corresponding class of ergodic occupation measures .    by the method of proof of there exists inf - compact @xmath729 and positive constants @xmath730 and @xmath731 satisfying @xmath732 moreover , since @xmath733 , there exists a constant @xmath734 such that @xmath735 for @xmath383 we define @xmath736    [ la2.1 ] the following hold : @xmath737 \\uppi ( r_{\\mathsf{o } } ) & \\;\\le\\ ; \\kappa_0 + \\tfrac{\\kappa_2}{2 } + \\uppi ( h_{\\uptheta,\\uplambda^*})\\qquad \\forall\\ , \\uppi\\in{{\\mathscr{g}}}\\,,\\\\[5pt ] \\uppi ( h^\\epsilon ) & \\;\\le\\ ; \\epsilon\\bigl ( \\kappa_0 + \\tfrac{\\kappa_1}{2}+\\tfrac{\\kappa_2}{2}\\bigr ) + ( 1+\\epsilon ) \\uppi ( h_{\\uptheta,\\uplambda^{*}})\\,.\\end{aligned}\\ ] ]    this is an easy calculation using .",
    "[ la2.2 ] there exists a unique function @xmath738 with @xmath739 , which is bounded below in @xmath307 , and solves the hjb @xmath740 \\;=\\ ; \\varrho_\\epsilon\\,,\\quad x\\in{\\mathds{r}}^{2}\\,.\\ ] ] where @xmath741 , and the usual characterization of optimality holds .",
    "moreover ,    * for every @xmath742 , there exists a constant @xmath743 such that @xmath744 * if @xmath745 is a measurable a.e .",
    "selector from the minimizer of the hamiltonian in , then for any @xmath723 , we have @xmath746 + \\inf_{b_{\\delta}}\\;v^{\\varepsilon}\\,;\\ ] ] * for any stationary control @xmath747 and for any @xmath723 , it holds that @xmath748\\,.\\ ] ]    the proof follows along the lines of theorem  3.3 in @xcite , using the fact that @xmath749 is inf - compact , for each @xmath383 , and @xmath750 by lemmas  [ l4.1 ] and [ la2.1 ] .",
    "there is one important difference though : the running cost @xmath749 is not bounded below uniformly in @xmath383 , and the estimate in part ( a ) needs special attention . by  , using it s formula , we obtain @xmath751 \\;\\le\\;{{\\mathscr{v}}}(x)+ \\operatorname{\\mathbb{e}}^{u}_{x}\\biggl[\\int_{0}^{\\infty}{\\mathrm{e}}^{-\\alpha s}\\ , \\bigl(\\kappa_0 + \\tfrac{\\kappa_1}{2}+ \\tfrac{1}{2}r_{\\mathsf{o}}(x_{s},u_{s})\\bigr)\\,{\\mathrm{d}}{s}\\biggr]\\ ] ] for all @xmath752 , @xmath753 .",
    "it follows that , given any ball @xmath754 , the discounted value function @xmath755\\ ] ] is strictly positive on @xmath754 for all sufficiently small @xmath753 .",
    "therefore , by adding the constant @xmath756 to the running cost , we obtain estimates on the oscillation of @xmath757 that are uniform over @xmath383 by lemmas  3.5 and 3.6 of @xcite .",
    "the next lemma completes the proof of theorem  [ t4.3 ] .",
    "[ la2.3 ] let @xmath758 and @xmath759 , for @xmath7 , be as in lemma  [ la2.2 ] .",
    "the following hold :    * the function @xmath758 converges to some @xmath760 , uniformly on compact sets , and @xmath761 , as @xmath762 , and @xmath763 satisfies @xmath764 \\;=\\;\\varrho^*_{\\mathsf{f}}\\;=\\ ; \\uppi^{*}(h_{\\uptheta,\\uplambda^{*}})\\,.\\ ] ] also , any limit point @xmath765 @xmath71 in the topology of markov controls@xmath72 as @xmath762 of measurable selectors",
    "@xmath766 from the minimizer of satisfies @xmath767 * a stationary markov control @xmath304 is optimal if and only if it satisfies @xmath768 where @xmath769 is defined in with @xmath282 replaced by @xmath770 . *",
    "the function @xmath771 has the stochastic representation @xmath772\\\\[5pt ] & \\;=\\ ; \\lim_{\\delta\\searrow0}\\;\\operatorname{\\mathbb{e}}^{\\bar{v}}_{x}\\biggl[\\int_{0}^{{{\\breve\\uptau}}_{\\delta } } \\bigl(h_{\\uptheta,\\uplambda^ { * } } \\bigl(x_{s},\\bar{v}(x_{s})\\bigr)-\\varrho_{*}\\bigr)\\,{\\mathrm{d}}{s}\\biggr]\\nonumber\\end{aligned}\\ ] ] for any @xmath773 that satisfies .",
    "we follow the method in the proof of theorem  3.4 in @xcite .",
    "since @xmath774 is non - increasing and bounded below , it converges to some value which is clearly @xmath775 by lemma  [ la2.1 ] . parts ( i ) and ( iii ) then follow as in the proof of lemma  3.9 in @xcite , and we can follow the method in the proof of lemma  3.10 in the same paper to establish that @xmath776 .",
    "now let @xmath777 be any control satisfying .",
    "we modify the estimate in and write it as @xmath778 for some constant @xmath779 .",
    "an easy calculation using then shows that @xmath780 therefore , since @xmath781 is inf - compact , we must have @xmath782 . using this and the fact that @xmath776 , we deduce that @xmath783 \\to 0 $ ] as @xmath487 .",
    "hence , by it s formula and we obtain @xmath784 .",
    "thus we must have equality @xmath785 , i.e. , @xmath786 is optimal .",
    "this completes the proof .",
    "the work of ari arapostathis was supported in part by the office of naval research through grant n00014 - 14 - 1 - 0196 , and in part by a grant from the postech academy - industry foundation .",
    "the work of guodong pang is supported in part by the marcus endowment grant at the harold and inge marcus department of industrial and manufacturing engineering at penn state .",
    "s.  l. bell and r.  j. williams .",
    "dynamic scheduling of a system with two parallel servers in heavy traffic with resource pooling : asymptotic optimality of a threshold policy .",
    "_ , 110 ( 3):0 608649 , 2001 .",
    "s.  ghamami and a.  r. ward .",
    "dynamic scheduling of a two - server parallel server system with complete resource pooling and reneging in heavy traffic : asymptotic optimality of a two - threshold policy .",
    "_ , 380 ( 4):0 761824 , 2013 .        j.  m. harrison .",
    "brownian models of queueing networks with heterogeneous customer populations . in _",
    "stochastic differential systems , stochastic control theory and applications ( minneapolis , minn . , 1986 )",
    "_ , volume  10 of _ i m a vol .",
    "_ , pages 147186 .",
    "springer , new york , 1988 .",
    "r.  j. williams . on dynamic scheduling of a parallel server system with complete resource pooling .",
    "_ analysis of communication networks : call centres , traffic and performance . fields inst .",
    "soc . , providence , ri .",
    "_ , 28:0 4971 , 2000 ."
  ],
  "abstract_text": [
    "<S> we study the infinite horizon optimal control problem for n - network queueing systems , which consist of two customer classes and two server pools , under average ( ergodic ) criteria in the halfin  </S>",
    "<S> whitt regime . </S>",
    "<S> we consider three control objectives : 1 ) minimizing the queueing ( and idleness ) cost , 2 ) minimizing the queueing cost while imposing a constraint on idleness at each server pool , and 3 ) minimizing the queueing cost while requiring fairness on idleness . </S>",
    "<S> the running costs can be any nonnegative convex functions having at most polynomial growth .    </S>",
    "<S> for all three problems we establish asymptotic optimality , namely , the convergence of the value functions of the diffusion - scaled state process to the corresponding values of the controlled diffusion limit . we also present a simple state - dependent priority scheduling policy under which the diffusion - scaled state process is geometrically ergodic in the halfin  </S>",
    "<S> whitt regime , and some results on convergence of mean empirical measures which facilitate the proofs . </S>"
  ]
}