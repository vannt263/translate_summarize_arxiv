{
  "article_text": [
    "a common problem in stellar astrophysics is the relation between the observational quantities ( magnitudes , colors , fluxes ) and the physical parameters of the stars ( effective temperature , luminosity , mass , age ) .",
    "often , dust extinction challenges this task even further , especially when differential reddening affects the individual sources in a region . whereas it has always been common practice to analyze photometry data in 2-dimensional space , like a color - magnitude diagram ( cmd ) or a 2-color diagram ( 2cd ) , often this approach is insufficient to fully characterize the individual stars .",
    "in fact , there are well - known degeneracies among the stellar parameters for stars of given color : a few examples are the effective temperature ( @xmath0)-extinction degeneracy for low- and intermediate - mass stars and optical magnitudes ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ) , or the age - metallicity degeneracy for rgb stars ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "multi - band photometry often allows to improve upon these limitations , both in breaking the degeneracies and reducing the overall uncertainty .",
    "today , the availability of large field surveys such as the _ sloan digital sky survey _",
    "( sdss , @xcite ) , the _ two - micron all - sky survey _ ( 2mass , @xcite ) and the _ wide - field infrared survey explorer _ ( wise , @xcite ) , the diffusion of public data archives and the rise of virtual observatory ( vo ) infrastructures , enable easy access of an overwhelming quantity of photometric data for the community .",
    "even with a great variety of data in one s hand , the characterization of the properties of stars may hide further obstacles , some of which merely practical .",
    "various theoretical models predicting the stellar parameters are known to differ from one another , requiring one to assess , by comparison with the data , the level of trustworthiness of the models .",
    "often , stellar evolutionary models already provide the predicted magnitudes and colors ; this conversion , however , may not be well calibrated , or not available in the specific photometric bands that one requires . in this case ,",
    "common solutions are to transform the available photometry from one to another system  with the consequent uncertainties  or to rely on synthetic photometry to recompute the predicted fluxes .",
    "there are several available tools to simplify some of these steps .",
    "a number of stellar evolutionary models provide online interfaces for interpolation of their grids and computation of magnitudes and colors ( e.g , the @xcite pre - main sequence models or the padova models from @xcite and @xcite ) .",
    "similarly , some grids of synthetic spectra already provide , besides the computed spectra , also tools to compute the integrated colors and magnitudes in several photometric systems ( e.g. , the ` phoenix ` models of the lyon group , see @xcite ) . for",
    "what concern the synthetic photometry in general , a very popular code is ` synphot ` , an iraf package part of the _ space telescope science data analysis system _ ( stsdas ) which performs several different types of such calculations . as for the estimate of stellar parameters and extinctions from multi - band photometry ,",
    "a powerful code is ` chorizos ` @xcite .",
    "this software allows one to estimate @xmath0 , @xmath1 , the extinction @xmath2 as well as the reddening parameter @xmath3 from multi - band colors , using a bayesian approach . `",
    "chorizos ` also performs automatic synthetic photometry , with the possibility of adding custom filter bands .",
    "still , ` chorizos ` is designed to fit stellar colors , not magnitudes , neglecting the additional information in the data provided by the luminosities ; moreover , stellar evolutionary models are not directly integrated in the code .",
    "all these tools , in fact , have the common shortcoming that either they are designed to address only a particular problem within the general analysis , or that they are constrained to perform as black - boxes .    following these premises",
    ", it appears that a new , integrated , flexible code for photometric data analysis in relation to stellar parameters is needed . with this motivation",
    ", we have developed the _",
    "tool for astrophysical data analysis _",
    "( ta - da ) .",
    "in this paper we present the code , its general functionalities , and show some example of use .",
    "ta - da is conceived as a tool for quick - look , comparison , and parameter fitting of multi - band photometry in relation to stellar models . in the development of the code , we focused on two general concepts :    1 .",
    "_ generality and versatility _ : ta - da should be able to address a range of different problems concerning the relation between photometry and stellar parameters .",
    "_ usability _ : ta - da must be user - friendly , ensuring the users to exploit its functionalities ( or test if it is useful for their scientific aims ) with little or no extra time dedicated to familiarize with the code .",
    "specifically , we included the following functionalities :    * integration with stellar evolutionary models : ta - da is natively able to load and interpolate stellar interior models , allowing one to fit model - dependent quantities such as stellar masses and ages . the consideration of interior models , nevertheless , is not mandatory , as ultimately one could solely consider , e.g. , @xmath0 as the only stellar parameter .",
    "* automatic and universal synthetic photometric engine : ta - da is able to perform synthetic photometry , converting stellar parameters into magnitudes or fluxes in a number of units , allowing also reddening due to dust extinction to be directly applied to the synthetic spectra .",
    "the synthetic photometry can be performed on different grids of atmosphere models , and on arbitrary photometric systems . *",
    "data visual quick - look in comparison with models or theoretical stellar parameters : the user can load photometric tables , and plot them together with the pre - computed sets of stellar parameters , constructing , e.g. , cmds or 2-cds , and varying the amount of assumed dust extinction . this is useful for obtaining a first visual check on the behavior of the data , and refine the selection of sources to be further studied .",
    "* automatic parameter fitter : ta - da allows one to automatically estimate the stellar parameters of the individual sources from their multi - band photometry ; depending on the data at disposal and the number of free parameters , this can be either an exact solution or a probabilistic one",
    ". the number of free parameters , as well as the photometric bands to use , can be fully customized .",
    "ta - da has been developed using the ittvis _ interactive data language _",
    "( idl ) , and presents a graphical user interface ( gui ) based on widgets ; it is distributed as a pre - compiled , cross - platform code .",
    "the distribution package already includes a number of stellar evolutionary and atmosphere models , as well as a full repository of photometric filter throughput profiles .",
    "we refer the readers to the appendix [ appendix : models - filters ] for additional details .",
    "the ta - da main gui is divided into 4 panels , respectively for : a ) the specification of the model stellar parameters and the interpolation of evolutionary models ; b ) the synthetic photometry ; c ) the visual display of the synthetic photometry , the handling of the observed photometry table , selection and plotting of the latter ; d ) the stellar parameter fitter .",
    "we will now describe some of these functionalities .",
    "ta - da includes several families of evolutionary models ; for pre - main sequence ( pms ) populations we have included models from @xcite , for evolved population we included the padova models from @xcite with the @xcite correction .",
    "if multiple values of metallicity are available for a given set of interior models , a value should be specified . when instead a grid of models includes additional parameters , such as in the case of the pisa models from @xcite , computed for several values of mixing length parameter @xmath4 , helium enrichment , and deuterium initial abundances , these are treated as different families of models .",
    "additional interior models can be added by a user provided they are stored in the proper format .",
    "ta - da allows one to consider the entire grid , for a selected metallicity , or to restrict it to a particular arbitrary isochrone or mass track .",
    "furthermore , it is possible to manually input user defined sets of stellar parameters , attaching a table reporting an arbitrary set of 2 quantities chosen from the following 5 : mass , @xmath5 age , @xmath6 , @xmath7 , stellar radius .",
    "it should be noted that any combination of 2 of these parameters automatically define the remaining ones , since , e.g , the stellar radius @xmath8 relates to @xmath0 and @xmath9 through @xmath10 and the evolutionary models natively map the hertzsprung - russel diagram ( hrd ) into stellar masses and ages . thus ta - da will consider the user - supplied parameters and derive the remaining ones , including the surface gravity @xmath1 , needed for the synthetic photometry ( see below ) .",
    "alternatively , ta - da also allows one to consider only parameters in the hrd ( @xmath0 , @xmath8 , @xmath1 for a specified metallicity , if available ) , the minimum ones necessary to both derive the synthetic photometry and allow the fitting of stellar parameters , without relying on model - dependent physical quantities such as stellar masses and ages .",
    "ta - da is able to perform automatic synthetic photometry , i.e. , to convert stellar parameters into observed fluxes or magnitudes in a given photometric filter , relying on grids of synthetic spectra . to this purpose",
    ", one must select a grid of atmosphere models and , if available , the metallicity [ @xmath11 .",
    "dust extinction can be also added ( by declaring one or several values of @xmath2 ) , and directly applied to the synthetic spectra _ before _ the computation of the synthetic photometry .",
    "we included the galactic reddening laws from @xcite , as well as those from @xcite for the lmc average , lmc2 supershell and smc bar from @xcite . in first case , besides @xmath2 one ( or more ) values of the reddening parameter @xmath3 must be specified .",
    "the distance modulus in magnitudes must also be provided .",
    "finally , one specifies the photometric system and bands in which the synthetic photometry must be performed ( see the appendix [ appendix : models - filters ] for details ) .",
    "synthetic photometry is performed in the standard way , by integrating the synthetic spectra within the filter bandwidths and normalizing onto a spectrum of vega ; the observed magnitude in a photometric band @xmath12 of a star with a spectral energy distribution @xmath13 , stellar radius @xmath8 , and true distance modulus @xmath14 is given by @xmath15+zp_{s_{\\lambda}}+\\mu\\ ] ] where @xmath16 is a reference spectrum that gives a known apparent magnitude @xmath17 ; in the vegamag standard , which uses the flux of @xmath4  lyr as reference , @xmath18 and the zero - points @xmath17 should be zero by definition , although this is not always the case for some old photometric systems .",
    "finally , @xmath19 is the reddening law , scaled to the selected values of @xmath2 .",
    "equation  ( [ equation : first ] ) can be rewritten then as : @xmath20 where @xmath21 the latter term can be directly calculated having the synthetic spectrum for the @xmath0 and @xmath1 corresponding to a given point of the input model parameters , a calibrated vega spectrum and the band profile .",
    "the vega normalization is performed using a recent reference spectrum of vega @xcite .",
    "we have considered the zeropoints @xmath17 from @xcite , collected from several sources for the code ` chorizos ` .",
    "although the default units for the computed synthetic photometry are vegamag magnitudes , ta - da allows to switch also to abmag , stmag , jansky or erg s@xmath22@xmath23@xmath24 .",
    "this is performed by computing , for every filter , the flux corresponding to @xmath25  mag by direct integration onto the spectrum of vega . then , since abmag and stmag are related to constant flux densities ( respectively per unit of spectral frequency and wavelength ) , these `` zero - point '' fluxes automatically provide the offsets between the 3 magnitude standards .",
    "ta - da allows one to save the results of synthetic photometry to file , as well as to use them for the subsequent analysis ( visual inspection and parameter fitting ) .",
    "one can also save a table with most of the relevant characteristics of the selected filters .",
    "these include , besides the aforementioned zeropoints , also effective wavelength , full width half maximum ( fwhm ) and equivalent width ( ew ) .",
    "this information can be particularly useful when one adds new ( non - conventional and not pre - characterized ) filters to the tool , as ta - da automatically derives these quantities on the fly .",
    "ta - da plots the results of synthetic photometry on screen on a dedicated window .",
    "here one chooses the quantities to be plot , either a magnitude - magnitude plane , a cmd , or a 2cd .",
    "the units and extinction to be considered can also be edited in real time .",
    "an interesting feature that is helpful for a fast quick look at the result of synthetic photometry is that one can see the parameters associated to individual points of the model grid by clicking directly on the plotting window .",
    "all the physical parameters associated to that point , as well as the displayed observational quantity ( e.g. , color and magnitude ) are then reported in a separate popup window .",
    "ta - da enables one to load a table reporting observed photometry , both for quick look in comparison with the models and for the fit of the stellar parameters .",
    "currently the software supports both ascii formats and virtual observatory table .",
    "a new gui window is created , reporting attached table , and enabling one to browse through the data , sort by columns , and select individual sources . in this panel",
    ", one must specify what columns correspond to what filter , as well as the associated uncertainties ( if available ) ; the options are chosen among the photometric bands previously selected for the synthetic photometry .",
    "the selection of individual sources can be performed both manually ( clicking on table entries ) , or automatically , through logical conditions not restricted to the photometric data .",
    "an example could be : select all the source with @xmath26 , with the photometric errors @xmath27 and where the last column of the table does not report the string class",
    "i. the selected sources are also automatically shown in the plotting window of ta - da , together with the models previously computed .",
    "similarly as for the models , one can click directly on individual stars on the plot , and see on screen the location of that source in the catalog , as well as the value for that star of all the columns in the table .",
    "with all the necessary preparation completed ( a catalog of observed magnitudes or fluxes and an a grid of models converted into the same observables through synthetic photometry ) , ta - da is able to perform a series of fitting techniques to estimate the parameters of the observed sources .",
    "specifically , it allows one to choose which bands to consider , and if magnitudes or colors are to be used .",
    "the latter options is useful when one aims to derive the stellar parameters in a luminosity ( or radius ) independent fashion , in a 2-color or multi - color space .",
    "clearly , choosing colors instead of luminosities decreases the dimension of the observational space by one unit .    as for the theoretical space  the result of synthetic photometry  in general one could leave from 1 to 3 free parameters to be evaluated by the fitter .",
    "one or two parameters correspond to the photosphere .",
    "this depends on the model previously assumed for synthetic photometry : for instance , if one previously considered 1 single isochrone , or mass track , or arbitrary curve in the ( @xmath0-@xmath1 ) plane , etc .",
    ", this will lead to a 1 free dimension in the parameter space .",
    "conversely , considering an entire grid of interior models ( masses and ages ) , or a 2-dimensional grid of @xmath0 and stellar radii brings the free photospheric parameters to be determined to two .",
    "the additional free parameter is the extinction @xmath2 for individual stars .",
    "ta - da allows to leave @xmath2 unconstrained within a pre - defined range , as well as to constrain it to a given value for all stars .",
    "if synthetic photometry was previously carried out for multiple values of the reddening parameter @xmath3 , which is possible if the @xcite reddening law is assumed , the value of @xmath3 to be used by the fitter must be specified .",
    "we did not allow to leave both @xmath2 and @xmath3 free , as for example in the tool ` chorizos ` by @xcite .",
    "this is because , in general , most photometric datasets are not accurate enough to allow a precise disentanglement of the two ; moreover inaccuracies in the synthetic spectra would likely induce large deviations in the derived values of @xmath3 . in order to make the fit possible",
    ", the dimension of the observational space @xmath28 ( number of colors or magnitudes ) must be greater or equal than the number of free parameters @xmath29 .",
    "although from the algorithmic point of view there is no separation between the cases @xmath30 and @xmath31 , there are some conceptual differences .",
    "the first case is analogous to a standard sed fitting , in which the model space is explored ( and if needed interpolated to a finer sampling ) until the minimum @xmath32 is determined ( see equation [ equation : chisquare ] below ) ; if @xmath33 , the best solution is also a good fit , otherwise , the data may be incompatible with the models , or the associated uncertainties underestimated .",
    "the second case , on the other hand , corresponds to an interpolation problem , for which the solution is expected to have @xmath34 ; if @xmath35 , the location of the data point in the observational spaces lies outside the area ( or volume ) covered by the models .    in detail , the fitter of ta - da works as follows : let us consider _ * p * _ the @xmath29-dimensional space of the free parameters ( @xmath36, ... ,@xmath37 ) ; the synthetic photometry associates to each point in _ * p * _ a point @xmath38 in the @xmath28-dimensional space of the observational quantities , _ * s*_. then , for every observed star , the observed fluxes , colors or magnitudes @xmath39 with the associated uncertainties @xmath40 are considered and the @xmath32 is simply : @xmath41 first ta - da identifies the set of ( @xmath36, ... ,@xmath37 ) which minimize @xmath32 , then _ * p * _ is locally oversampled to a denser grid _ * p@xmath42 * _ , and _ * s * _ is interpolated accordingly to @xmath43 .",
    "the @xmath32 is thus recomputed , and a new set of parameters estimated .",
    "the process is iterated until a convergence is found , either @xmath44 for @xmath31 or to a positive value otherwise .",
    "the local oversampling of _ * p * _ is made easier by the fact that the grid of parameters is always rectilinear in ( @xmath36, ... ,@xmath37 ) .",
    "this could be generally , e.g. , a rectilinear grid of masses , ages and @xmath2 or any other choice for the original model stellar parameters , for instance a rectilinear grid of @xmath0 , stellar radii @xmath8 , and @xmath2 .",
    "since , as mentioned earlier , the stellar parameters mass , age , @xmath0 , @xmath9 , and @xmath8 are interconnected , for each solution all these quantities will be provided , irrespective of the type of initial parameters provided to ta - da .    in the case",
    "@xmath31 , as already mentioned , a @xmath35 indicates that the data point lies outside the volume covered by the models . in practice",
    ", the fact that fitter converges until the @xmath32 does not improve by local oversampling within _ * p * _ always leads to small positive values of @xmath32 . a source located outside the model grid , but by less than one unit of photometric error from the edge , will also lead to a @xmath45 . to precisely distinguish",
    "if the point is inside or outside the model grid , therefore , ta - da also determines this condition geometrically , regardless the minimum @xmath35 .",
    "in any case , even for data points incompatible with the models , the closest solution is found , and the associated @xmath32 tabulated in the result .",
    "the user must therefore check manually the results and decide if there are any solutions to be rejected , based on the specific scientific goals .",
    "the ta - da fitter also allows one to estimate the uncertainty associated to each parameter of the best fit - solution for the individual stars .",
    "this is performed by ta - da with a monte carlo simulation , in which the photometry is displaced according to the photometric errors .",
    "this approach may be computationally time consuming , especially in the case of large grids of models and 3 free parameters , or large observational data sets .",
    "this method , however , remains the safest for an accurate estimate of the errors ; this is because the relation between _ * p * _ and _ * s * _ provided by the synthetic photometry is often highly non - linear , and symmetric , well - behaved photometric errors in the observational space relate to highly correlated and skewed probability distributions in the model space .",
    "after the completion of the fitting procedure , ta - da allows one to save the results to file .",
    "these include all the best - fit parameters , with the associated uncertainties if available , the minimum @xmath32 , and a flag parameter indicating if the solution is a good fit or if the observed photometry was incompatible with the models .",
    "it should be beard in mind that the correctness of the fitted parameters is strongly related to the accuracy of the assumed models , e.g. both the evolutionary models and the synthetic spectra .",
    "it is well known that different families of evolutionary models differ in their predicted masses and ages from each other , and this is particularly severe for pms models @xcite ; there is also evidence of systematic offsets between the modeled masses of low - mass stars and the measured once ( e.g. , * ? ? ?",
    "* ) . on the other hand , current atmosphere models do not seem to fully reproduce the observed fluxes , especially for low - mass m - type stars and at young ages , both at optical wavelengths ( e.g. , * ? ? ? * ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) and , although less prominently , in the near infrared @xcite .",
    "because of these issues , a dataset compared with models in different colors can lead to systematic differences in the derived parameters ( e.g. , * ? ? ?",
    "we auspicate that developments in the stellar atmosphere modeling will solve these problems ; alternatively , it would be useful to produce empirically calibrated grids of spectra , constructed to match the observed colors .",
    "this has been attempted in the past for main - sequence dwarfs and giants ( see , e.g. , the basel grid from @xcite ) , but such a calibration is still missing for , e.g. , pms stars .    in any case",
    "we warn the users of ta - da to be aware of the accuracy of the synthetic spectra grids to be used in the parameter range relevant for their astrophysical analysis .",
    "we also stress that the plotting and quick look capability of ta - da ( e.g. , looking at the same isochrones compared to the observed data in different color - color and color - magnitude planes ) can be very helpful to pinpoint possible problems with the fluxes predicted by the models , as well as possible errors in the photometric data calibration .      as a probably unnecessary note",
    ", we highlight that ta - da is meant for estimating stellar parameters in the case that the observed fluxes depend only the photospheric emission and presence of dust extinction . when this is not true , such as when the fluxes are contaminated by circumstellar emission or other flux excesses , the results obtained could be wrong . in some cases",
    ", however , it is possible to use ta - da for non standard applications , such as disentangling photospheric properties from flux excesses . as an example",
    ", having at disposal infrared multi - band photometry , one can isolate the excess due to circumstellar disks around young stars and derive @xmath0 for individual stars .",
    "to do so , one could create a tuned grid of synthetic spectra in which instead of @xmath1 as second parameter ( besides @xmath0 ) , the amount of disk excess is added",
    ". then ta - da can be run on a multi - color observational space , and the fitter will provide the solution for both internal and external effects on the stellar flux .      in some cases one could encounter degeneracies between the stellar parameters . for example , when dereddening a cmd onto an isochrone , for some sources there could be multiple intersection between the de - reddening line and the model . since the fitter of ta - da simply minimizes the @xmath32 , in case of multiple solutions ,",
    "only one is selected .",
    "however , the monte - carlo simulation used to estimate the uncertainties will likely converge on different solutions in different iterations ; this leads to a larger associated uncertainty for the parameters , and this can be used as a diagnostic tool when analyzing the results . if multiple solutions are caused by different intersections of the de - reddening line with the models , constraining appropriately the @xmath2 range allowed during the fitting can also solve the problem .",
    "we present here some practical examples of applications of ta - da , for illustrative purposes .",
    "let s suppose we have a cmd and we aim at interpolating isochrones and tracks to estimate ages and masses of the sources .",
    "we consider the photometry from @xcite , obtained with the _ hubble space telescope _",
    "( hst ) _ advanced camera for surveys _ ( acs ) on the young cluster lh  95 in the lmc , using the filters f555w and f814w .",
    "we run ta - da , assuming the models from @xcite with mixing length parameter @xmath46 , normal initial he and deuterium abundance , and the lmc metallicity @xmath47 .",
    "we perform the synthetic photometry in our 2 filters with ta - da considering the synthetic spectra bt - settl from @xcite , for the same metallicity as for the interior models ; we assume a true distance modulus @xmath48 , and two values of @xmath2 : 0 and 0.5 ( the average extinction for lh  95 ) , considering the lmc average reddening law from @xcite .",
    "we save the synthetic photometry to file for later use , and we load the table with the observed photometry to ta - da .",
    "we run the fitter , constraining @xmath49 and performing the mc simulation for the uncertainties .",
    "results are shown in figure [ figure : cmd - colorcoding ] : here we show the models converted in our cmd plane , together with the sources color - coded according to their estimated parameters from ta - da .",
    "it is evident how ta - da correctly interpolates the models to the observations , deriving masses and ages .",
    "it also identifies the sources located outside the model grid , and assigns them the parameters of the closest model point .",
    "there is some scatter in the assigned ages for intermediate mass stars : this is due to a residual degeneracy in the models in this parameter range , where a given point in the cmd can be associated both to a pms and post - ms evolutionary stage . in figure",
    "[ figure : cmd - errors ] we plot the errors in age and mass as a function of the derived parameters , due to the photometric errors , and computed by ta - da using a mc simulation .",
    "the age uncertainty increases with ages , for the reason mentioned above .",
    "the increase in the mass uncertainty do the low - mass range , on the other hand , is due to larger photometric errors at faint luminosities .      in this second example",
    ", we consider a cmd and use ta - da to deredden all the sources to a single given isochrone .",
    "we use the @xmath50 photometry of the orion nebula cluster ( onc ) presented in @xcite .",
    "we run ta - da considering a single 2  myr isochrone from the models of @xcite , we apply the distance modulus for the onc of 8.085  mag , consider the bt - settl models for solar metallicity , and obtain the synthetic photometry in the 2mass photometric system ( which is the one in which our data are expressed .",
    "we run the fitter leaving @xmath2 as a free parameter , in the range @xmath51  mag .",
    "the result is illustratively shown in figure [ fig : nir ] . as for figure [ figure : cmd - colorcoding ] , open dots represent sources outside the considered range of parameters ; it can be noted that all the sources at red colors ( @xmath52 ) appear as such .",
    "this is because of the upper limit imposed for @xmath2 .",
    "we also highlight that for these sources , the parameters ( indicated by the color - coding of the data points ) represent the `` closest '' model points , along the direction defined by the individual photometric errors in the @xmath53 2-magnitude plane .",
    "this is the reason why , in the left panel of figure [ fig : nir ] and for @xmath54 , the estimated @xmath0 appears to decrease with increasing color @xmath55      in the next illustrative example we show the capabilities of ta - da in dealing with multi - band photometry .",
    "we start by simulating a population of 500 evolved sources , with random masses in the range @xmath56 and random ages between 10  myr and 1  gyr .",
    "we utilize ta - da , assuming the models of @xcite first to compute the photospheric parameters ( @xmath0 , radius , etc . ) , then to derive by means of synthetic photometry their magnitudes in the standard @xmath57 filters ( johnson , cousins , and 2mass systems ) .",
    "an example of the result , limited to the @xmath58 cmd , is shown in figure [ fig : multifit - cmd ] , upper panel .",
    "next , we add a random amount of extinction to each of the 500 simulated stars , in the range @xmath59 .",
    "we further displace the magnitudes by adding random , uncorrelated photometric errors to all the magnitudes , assuming an amplitude @xmath60  mag .",
    "the result , again in the @xmath58 cmd is show in figure [ fig : multifit - cmd ] , bottom panel ; it is evident how at this point , a single cmd is insufficient to recover the properties of the individual sources , as they appear well mixed .",
    "we now use the fitter integrated in ta - da to try to recover the original parameters of these 500 stars .",
    "we consider the entire grid of interior models from @xcite , convert them in absolute magnitudes the @xmath57 bands , load the simulated table with the photometry of our simulated sample , and run the fitter to estimate the most likely parameters of the stars , leaving all mass , age , and @xmath2 as free parameters .",
    "we perform this in multiple configurations , varying the number of photometric bands used to estimate the parameters .",
    "some examples are shown in figure [ fig : multifit - mags ] . here",
    "we compare the original mass , age and extinction , with those automatically derived by the fitter , using only 3 bands ( @xmath61 ) , 5 bands ( @xmath62 ) or all 8 bands ( @xmath57 ) .",
    "it is evident that increasing the number of bands leads to a better estimate of the parameters ; with all 8 bands , ta - da is able to fully disentangle the differential @xmath2 from the stellar mass , thus recovering the properties of the sources .",
    "the residual scatter is due to the random photometric errors that we introduced .",
    "the central column of figure [ fig : multifit - mags ] shows that , on the other hand , the estimate of the age remains highly uncertain .",
    "this is not a problem with the fitting procedure , since , as the extinction is correctly estimated , the original position of the sources in the hrd is fully recovered , rather , this indicates that ages are somewhat degenerate in the sampled parameter range .",
    "in fact , as evident from figure [ fig : multifit - cmd ] , upper panel , most of the stars are below the turn - off , and for the lowest masses , sources are located on the same main sequence regardless their age .",
    "figure [ fig : multifit - agetest ] confirms this : the error in the estimated ages ( the difference between the best - fit age and the original age ) is largest for the lowest masses in the sample , and progressively decreases towards the high - mass end .",
    "ta - da can be retrieved from the following url : ` http://www.rssd.esa.int/staff/ndario/tada/ ` . from this page",
    "the installation package , the manual , as well as additional grids of models can be downloaded .",
    "ta - da is developed thanks to funding from the _ national aeronautics and space administration _ ( nasa ) through award grant number nnx07at37 g .",
    "the authors thank maddalena reggiani , abhijit rajan , marc postman , and jess maz apellniz for their help in the development of this software , and the team of scientists that proposed the project .",
    "ta - da includes the following evolutionary models : for pms stars the @xcite , the @xcite , the @xcite , the @xcite and the @xcite .",
    "the first three of these are available only for solar metallicity , whereas the last two include different values of [ m / h ] .",
    "the @xcite models , furthermore , include isochrones and tracks for several assumed values of the mixing length parameter @xmath4 , as well as different initial he and deuterium abundances . for evolved population",
    "we integrated the @xcite isochrones .",
    "rl[!h ] 2mass & @xmath63 , @xmath64 , @xmath65 + bessell & @xmath66 , @xmath67 , bw , @xmath68 , @xmath8 , @xmath69 + cfht & @xmath69 , @xmath70 , @xmath63 , @xmath64 , @xmath65 + cousins & @xmath8 , @xmath69 + galex & fuv , nuv + hst / acs hrc & f220w , f250w , f330w , f344n , f435w , f475w , f502n , f550 m , f555w , f606w , + & f625w , f658n , f660n , f775w , f814w , f850lp , f892n + hst / acs sbc & f115lp , f122 m , f125lp , f140lp , f150lp , f165lp + hst / acs wfc & f435w , f475w , f502n , f550 m , f555w , f606w , f625w , f658n , f660n , f775w , + & f814w , f850lp + hst / nicmos & f110w , f160w , f165 m , f187w , f190n , f205w , f207 m , f222 m + hst / stis ccd & 50cc , f28x50lp + hst / stis fuv & 25 m , f25ly , f25q , f25srf2 + hst / stis nuv & 25 m , f25ciii , f25cn182 , f25cn270 , f25mgii , f25q , f25srf2 + hst / wfc3 ir & f098 m , f105w , f110w , f125w , f126n , f127 m , f128n , f130n , f132n , f139 m , + & f140w , f153 m , f160w , f164n , f167n + hst / wfc3 uvis & f200lp , f218w , f225w , f275w , f280n , f300x , f336w , f343n , f350lp , f373n , + & f390 m , f390w , f395n , f410 m , f438w , f467 m , f469n , f475w , f475x , f487n , + & f502n , f547 m , f555w , f600lp , f606w , f621 m , f625w , f631n , f645n , f656n , + & f657n , f658n , f665n , f673n , f680n , f689 m , f763 m , f775w , f814w , f845 m , + & f850lp , f953n , fq232n , fq243n , fq378n , fq387n , fq422 m , fq436n , fq437n , + & fq492n , fq508n , fq575n , fq619n , fq634n , fq672n , fq674n , fq727n , fq750n , + & fq889n , fq906n , fq924n , fq937n + hst / wfpc2 & f170w , f255w , f300w , f336w , f336w - no - leak , f336w - leak , f380w , f439w , + & f450w , f467m , f502n , f547 m , f555w , f569w , f606w , f631n , f656n , f673n , + & f675w , f702w , f785lp , f791w , f814w , f850lp + isaac & f1215 , f1710 , f2090 , f3280 , flbb + johnson & @xmath66 , @xmath67 , @xmath68 + jwst / nircam & f070w , f090w , f115w , f140 m , f150w , f150w2 , f162 m , f164n , f182 m , f187n , + & f200w , f210 m , f212n , f225n , f250 m , f277w , f300 m , f322w2 , f323n , f335 m , + & f356w , f360 m , f405n , f410 m , f418n , f430 m , f444w , f460 m , f466n , f470n , + & f480 m + landolt & @xmath66 , @xmath71 , @xmath72 , @xmath68 + sdss & @xmath73 , @xmath74 , @xmath75 , @xmath76 , @xmath77 + spitzer / irac & ch1 , ch2 , ch3 , ch4 + stromgren & @xmath73 , @xmath78 , @xmath79 , @xmath80 , @xmath81 + tycho & @xmath67 , @xmath68 + wfi & mb571 , mb620 , mb753 , mb770 , mb851 , mb852 , mb853 , mb870 , @xmath66 , @xmath66841 , @xmath67 , @xmath67842 , + & @xmath68 , @xmath8 , @xmath69 , @xmath69879 , h@xmath4 + wise & w1 , w2 , w3 , w4 + ... & white throughput +    for what concerns the atmosphere models , ta - da integrates the following grids : the @xcite models , the phoenix / nextgen models from @xcite , the ames - mt models from @xcite ( complemented with the nextgen grid for @xmath82  k ) , the ames - settl from @xcite , the bt - settl models from @xcite .",
    "these grids cover different ranges of @xmath0 , surface gravity @xmath1 , and metallicity .",
    "we refer the reader to the manual of ta - da for these specifications .",
    "ta - da integrates a large number of band profiles for most of the commonly used photometry systems .",
    "these are listed in table [ table : filters ] ; we highlight that , although ta - da is natively oriented to the optical and nir wavelength range ( since it addresses mostly problems linked to stellar photospheric fluxes ) , filters spanning from the uv to the mid - ir have been included .",
    "in the latter case ( see , e.g , the spitzer / irac and the wise filters ) , the fact that ta - da natively allows one to consider flux units ( jansky or erg s@xmath22@xmath23@xmath24 )  commonly used at long wavelengths  besides magnitudes , simplifies the use of this tool .",
    "we stress that additional interior models , synthetic spectra , and filter throughputs can be added to the tool by the user with no need to modify the code .",
    "this possibility opens to future expansions of the capabilities of ta - da .",
    "it is not uncommon , especially for pms models , to be computed with a sparse sampling of the stellar masses , and this can leads to a `` segmented '' appearance of the isochrones .",
    "this issue may become somewhat more serious in some ranges of the mass - age space , where the stellar evolution is very fast in the hrd and the rapidity of the evolution of @xmath0 and @xmath83 changes quickly for contiguous mass tracks .",
    "this is the case of the pms - ms turn - on , as illustrated in figure [ fig : iso - interp ] , left panel . in this example",
    "we are showing the pms tracks from @xcite , as originally computed by these authors , and 2 isochrones for 1.6  myr and 2  myr , obtained in the standard way by connecting with straight segments the points , on all the tracks , corresponding to a given age . between @xmath84 and @xmath85  m@xmath86 the two isochrones",
    "cross , as it should not happen , and the segment connecting the 3.0 and 3.5  m@xmath86 of the youngest isochrone passes in the region of the hrd between the 2.7 and 3.0  m@xmath86 tracks .",
    "obviously , the ideal solution to this problem would be to have evolutionary models originally computed with a finer sampling of masses ; when this is not possible one can only interpolate . the correct way to perform",
    "this is to intepolate , from neighboring mass tracks , points corresponding to identical evolutionary stages .",
    "this is the common practice , e.g. , to derive post - ms isochrones , where the timescales of different evolutionary stages are very different between them and highly dependent on the mass . for pms stars , this method of interpolation",
    "is used , e.g. , in the pisa models from @xcite .    unfortunately , this is not always possible .",
    "for example the @xcite pms tracks are not provided for identical evolutionary points on different tracks . to improve on this , and compensate the issue shown in figure [ fig : iso - interp ] ,",
    "left panel , we propose an alternative method to perform this interpolation , maximizing the information present in the models .",
    "our method is based on noting that , besides the 4 parameters listed in the evolutionary tracks ( mass , age , @xmath6 , @xmath9 , contiguous mass tracks tend to have very similar shapes and sizes in the hrd , despite showing abrupt changes in the rapidity of evolution in the hrd .",
    "this is guaranteed by the fact that stars of similar mass undergo the same physical stages during their evolution , despite the fact that these may occur at very different times .",
    "thus , we proceed at follows .",
    "first we interpolate new ( interposed ) mass tracks based in the shapes and lengths of the available ones .",
    "this can be done by assuming a metric in the hrd ( e.g. , a length @xmath87 ) , divide each pair of contiguous mass tracks into a fixed , large , number ( n@xmath881000 ) of segments of identical length , and linearly interpolate all the 4 parameters listed above between corresponding pairs of points on both tracks .",
    "qualitatively , our approach may be thought as a `` morphing '' technique , which progressively `` deforms '' one track into the next one based on their shape , size and position in the hrd .",
    "the result is shown in figure [ fig : iso - interp ] , right panel .",
    "we plot 20 intermediate mass tracks interpolated between the original 3 and 3.5  m@xmath86 ones , computed as described .",
    "these now nicely follow the shape of the two original ones .",
    "we also show the same 2 isochrones as in the left panel , now obtained connecting points of same age on all the intermediate interpolated tracks .",
    "these isochrones now never cross , and also appear much smoother in the hrd .",
    "some of the pms models included in ta - da ( specifically , the * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) have been pre - interpolated using the approach we described , creating very dense grids of masses and ages , generally including @xmath89 points per model .",
    "abazajian , k.  n. , adelman - mccarthy , j.  k. , ageros , m.  a. , et al .",
    "2009 , , 182 , 543 allard , f. , homeier , d. , & freytag , b.  2011 , 16th cambridge workshop on cool stars , stellar systems , and the sun , 448 , 91 allard , f. , hauschildt , p.  h. , alexander , d.  r. , tamanai , a. , & schweitzer , a.  2001 , , 556 , 357 allard , f. , hauschildt , p.  h. , & schwenke , d.  2000 , , 540 , 1005 bailer - jones , c.  a.  l.  2011 , , 411 , 435 baraffe , i. , chabrier , g. , allard , f. , & hauschildt , p.  h.  1998 , , 337 , 403 bell , c.  p.  m. , naylor , t. , mayne , n.  j. , jeffries , r.  d. , & littlefair , s.  p.  2012",
    ", , 424 , 3178 bohlin , r.  c.  2007 , the future of photometric , spectrophotometric and polarimetric standardization , 364 , 315 cardelli , j.  a. , clayton , g.  c. , & mathis , j.  s.  1989 , , 345 , 245 crnojevi , d. , grebel , e.  k. , & koch , a.  2010 , , 516 , a85 dantona , f. , & mazzitelli , i.  1998 , brown dwarfs and extrasolar planets , 134 , 442 da rio , n. , robberto , m. , soderblom , d.  r. , et al .  2010 , , 722 , 1092 da rio , n. , robberto , m. , soderblom , d.  r. , et al .",
    "2009 , , 183 , 261 da rio , n. , gouliermis , d.  a. , & henning , t.  2009 , , 696 , 528 girardi , l. , williams , b.  f. , gilbert , k.  m. , et al .  2010 , , 724 , 1030 gordon , k.  d. , clayton , g.  c. , misselt , k.  a. , landolt , a.  u. , & wolff , m.  j.  2003 , , 594 , 279 hauschildt , p.  h. , allard , f. , baron , e.  1999 , , 512 , 377 hillenbrand , l.  a.  2009 , iau symposium , 258 , 81 hillenbrand , l.  a. , & white , r.  j.  2004 , , 604 , 741 hillenbrand , l.  a.  1997 , , 113 , 1733 kurucz , r.  1993 , atlas9 stellar atmosphere programs and 2 km / s grid .",
    "kurucz cd - rom no",
    ".  13 .",
    "cambridge , mass . : smithsonian astrophysical observatory , 1993 . , 13 lejeune , t. , cuisinier , f. , & buser , r.  1997 , , 125 , 229 maz - apellniz , j.  2007 , the future of photometric , spectrophotometric and polarimetric standardization , 364 , 227 maz - apellniz , j.  2004 , , 116 , 859 marigo , p. , girardi , l. , bressan , a. , et al .",
    "2008 , , 482 , 883 mayne , n.  j. , naylor , t.,littlefair , s.  p. , saunders , e.  s. , & jeffries , r.  d.  2007 , , 375 , 1220 naylor , t. , totten , e.  j. , jeffries , r.  d. , et al .",
    "2002 , , 335 , 291 palla , f. , & stahler , s.  w.  1999 , , 525 , 772 robberto , m. , soderblom , d.  r. , scandariato , g. , et al .",
    "2010 , , 139 , 950 scandariato , g. , da rio , n. , robberto , m. , pagano , i. , & stassun , k.  2012 , , 545 , a19 siess , l. , dufour , e. , & forestini , m.  2000 , , 358 , 593 skrutskie , m.  f. , cutri , r.  m. , stiening , r. , et al .",
    "2006 , , 131 , 1163 tognelli , e. , prada moroni , p.  g. , & deglinnocenti , s.  2011 , , 533 , a109 vandenberg , d.  a. , bergbusch , p.  a. , & dowler , p.  d.  2006 , , 162 , 375 wright , e.  l. , eisenhardt , p.  r.  m. , mainzer , a.  k. , et al .",
    "2010 , , 140 , 1868"
  ],
  "abstract_text": [
    "<S> we present ta - da , a new software aimed at greatly simplify and improve the analysis of stellar photometric data in comparison with theoretical models , and allow the derivation of stellar parameters from multi - band photometry . </S>",
    "<S> its flexibility allows one to address a number of such problems : from the interpolation of stellar models , or sets of stellar physical parameters in general , to the computation of synthetic photometry in arbitrary filters or units ; from the analysis of observed color - magnitude diagrams , to a bayesian derivation of stellar parameters ( and extinction ) based on multi - band data . </S>",
    "<S> ta - da is available as a pre - compiled idl widget - based application ; its graphical user interface makes it considerably user - friendly . in this paper </S>",
    "<S> we describe the software and its functionalities . </S>"
  ]
}