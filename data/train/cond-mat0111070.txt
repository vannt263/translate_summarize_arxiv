{
  "article_text": [
    "in social network parlance , an * ego - centered network * ( sometimes also called a personal network ) is a network centered on a specific individual ( generically `` actor '' ) , whom we call the ego.@xcite for example , sigmund freud and all his friends would form an ego - centered network .",
    "this network would have radius  1 , meaning we include everyone within distance  1 on the friendship network of the central individual , freud in this case .",
    "if we also included friends of friends in the network , it would have radius  2 . in fig .",
    "[ wheel ] we show a radius-2 ego - centered network of scientific collaborations .",
    "the ego in this case is my own : the central vertex in the figure represents me , the first ring of vertices around that my coauthors on papers published within the last ten years , and the second ring their coauthors . as the figure shows , networks of this type can grow very rapidly with radius .",
    "ego - centered networks are of interest for a number of reasons . for instance , in two recent papers , bernard  @xcite address the following question .",
    "consider some subset of the population , consisting of @xmath0 people .",
    "they could be people in a particular demographic or social group , or the people involved in a particular event .",
    "how many of these @xmath0 people , if any , is the typical person likely to know ? as bernard  show , this is easy to calculate .",
    "if the total population who might be involved in the event is  @xmath1 , then each member of that population has a probability @xmath2 of being involved . if the average person knows @xmath3 other people , then the average number of those people who were involved is simply @xmath4 .",
    "bernard  take the example of the population of the united states , for which they estimate from previous empirical studies that the average person has a social circle of about @xmath5 people,@xcite and for which the total population currently stands at around 280  million .",
    "thus the ratio @xmath6 in this case , giving the simple rule of thumb @xmath7 simply stated , this equation says that the average individual living in the united states is acquainted with about one person in a million out of the country s total population .    as an example , let us apply the method to the problem of estimating how many hiv positive individuals the average person in the us knows .",
    "at the time of writing , there were about @xmath8 known cases of hiv in the us ( including those who have died ) .",
    "the number of actual cases is probably substantially greater than this and is estimated to be somewhere between 1.0 and 1.5  million . to take a conservative figure ,",
    "let us suppose that the actual total is @xmath9  million . from eq .",
    ", we then estimate that on average each member of the us population as a whole has or had one acquaintance who is or was hiv positive . it must be emphasized that this is an average figure .",
    "hiv positive individuals are not a uniform sample of the population . nonetheless , eq .",
    "is expected to give a correct population average of  @xmath10 .",
    "now we want to extend this calculation one step further .",
    "if a person has no immediate friends in the group under consideration , how many of their friends friends are in this group ?",
    "alternatively , one could rephrase the question and enquire how many people in the population as a whole have one or more friends of friends in the specified group : one can visualize a group or event as the center of a set of ever widening circles of influence in the social network .",
    "colloquially , this is what we call the `` ripple effect .",
    "'' the two questions here are equivalent , but not identical . in this paper",
    "we speak in the language of the former , which focuses our attention on the calculation of the number of actors two steps away from the ego in an ego - centered network .",
    "unfortunately , the calculation of this number is not simple .",
    "an approximate solution is given in ref .",
    "but , as we will demonstrate , this solution misses some important features of real social networks and as a result can give answers that are inaccurate .",
    "the crucial point is that in many networks there exist a small number of actors with an anomalously large number of ties . while it may appear safe to ignore these actors because they form only a small fraction of the population ,",
    "we show that in fact this is not so .",
    "because of the way the ripple effect works , this small minority has a disproportionately large influence , and ignoring them can produce inaccurate estimates for the figures of interest .",
    "we show here how to perform calculations that take these issues into account correctly .",
    "the topic of this paper is also of interest in some other areas of social network theory .",
    "one such area is `` snowball sampling , '' an empirical technique for sampling social networks that attempts to reconstruct the ego - centered network around a given central actor.@xcite in this technique , the central actor is first polled to determine the identities of other actors with whom he or she has ties .",
    "then those actors are polled to determine their ties , and so forth , through a succession of generations of the procedure .",
    "the statistical properties of snowball samples have been studied using markov chain theory@xcite and the technique has been shown to give good ( or at least predictable ) samples of populations in the limit where a large number of generations of actors is polled . unfortunately , in most practical studies only a small number of generations is polled , and in this case , as we will see , the sample may be biased in a severe fashion : snowball samples , like calculations of the ripple effect , are highly sensitive to the presence in the population of a small number of actors with an unusually large number of ties .",
    "the outline of this paper is as follows . in section  [ 2degrees ]",
    "we calculate exactly the expected number of network neighbors at distance two from a central individual , in a network without transitive triples . in section  [ transitivity ]",
    "we show how the resulting expression is modified when the network has transitivity , and in section  [ examples ] we apply our theory to two example networks , showing that in practice it appears to work extremely well . in section  [ concs ]",
    "we give our conclusions .",
    "so how do you estimate the number of people who are two steps away from you in a social network ( or indeed in a network of any kind ) ?",
    "bernard  @xcite suggest the following simple method .",
    "if each actor in a network has ties to @xmath3 others on average , and each of those has ties to @xmath3 others , then the average number of actors two steps away is  @xmath11 .",
    "there are some problems with this however .",
    "first , as pointed out in ref .  , people who know one another tend to have strongly overlapping circles of acquaintance , so that not all of the @xmath3 people your friend knows are new to you  many of them are probably friends of yours . in other circles",
    "this effect is called network transitivity@xcite or clustering,@xcite and it is also related to the concept of network density.@xcite typically , the mean number of people two steps away from an actor can be reduced by a factor of two or so by transitivity effects . bernard  allow for this by including a `` lead - in factor ''  @xmath12 in their calculation .",
    "we discuss transitivity in more detail in section  [ transitivity ] .    even if we ignore the effects of transitivity , however , there is a substantial problem with the simple estimate of the number of one s second neighbors in a social network . by approximating this number as @xmath11",
    "we are assuming that the people we know are by and large average members of the population , who themselves know average numbers of other people .",
    "but we would be quite wrong to make such an assumption .",
    "the people we know are anything but average .",
    "consider two ( fictitious ) individuals .",
    "individual  a is a hermit with a lousy attitude and bad breath to the point where it interferes with satellite broadcasts .",
    "he has only 10 acquaintances .",
    "individual  b is erudite , witty , charming , and a professional politician .",
    "she has 1000 acquaintances .",
    "is the average person equally likely to know a and  b ?",
    "absolutely not .",
    "the average person is 100 times more likely to know b than a , since b knows 100 times as many people . extending this argument to one s whole circle of friends ,",
    "it is clear that the people one knows will , overall , tend to be people with more than the average number of acquaintances .",
    "this means that the total number of _ their _ friends  the people two steps away  will be larger than our simple estimate would suggest . and as we will show , it may be very much larger .",
    "the fundamental concept that we need to capture here is that not all people have the same number of acquaintances . in the language of social network analysis",
    ", there is a distribution of the degrees of vertices in the social network .",
    "( recall that the degree of a vertex is the number of other vertices to which it is directly connected . )",
    "let @xmath13 denote the degree of a vertex and @xmath14 the degree distribution , i.e. ,  the probability that a vertex chosen uniformly at random from the network will have degree  @xmath13 .",
    "thus , for example , the mean degree @xmath3 of a vertex is @xmath15 degree distributions have been measured for a variety of networks , and in many cases are found to show great variation.@xcite it is certainly not the case that vertices always have degree close to the mean ( although they may in some networks@xcite ) . a clear example of this can be seen in fig",
    ".  [ wheel ] , in which some vertices have degree only  1 , while at least one has degree greater than  100 .",
    "now the fundamental point of this paper may be expressed as follows .",
    "the distribution of the degrees of the vertices to which a random vertex is connected is _ not _ given by  @xmath14 .",
    "the probability that you know a particular person is proportional to the number of people they know , and hence the distribution of their degree is proportional to @xmath16 and not just  @xmath14.@xcite the correctly normalized distribution is thus @xmath17    now consider the number of vertices two steps away from a given vertex .",
    "the probability @xmath18 that this number is  @xmath19 , given that the number of vertices one step away is @xmath20 , is @xmath21 where @xmath22 is  1 if @xmath23 and  0 otherwise . note the occurrence of @xmath24 in this expression ; the amount that your @xmath25th neighbor contributes to the total number of your second neighbors is one less than his or her degree , because one of his or her neighbors is you .",
    "the overall probability that the number of second neighbors is @xmath19 can then be calculated by averaging eq .   over  @xmath20",
    ": @xmath26 we want the mean value of @xmath19 , which we will denote @xmath27 , and this is given by @xmath28 combining eqs .  ",
    ", we thus arrive at the quantity we are interested in : @xmath29^{k_1 - 1 }          \\sum_{k=0}^\\infty ( k-1 ) q_k\\nonumber\\\\      & = & \\sum_{k=0}^\\infty k(k-1)p_k       =   \\av{k^2 } - \\av{k}. \\label{bigeq}\\end{aligned}\\ ] ] this result @xmath30 is the correction we were looking for to the simple estimate of the number of vertices two steps away . _",
    "the number of vertices two steps away is given by the mean square degree minus the mean degree . _ the important point to notice is that this expression depends on the average of the square of a vertex s degree , rather than the square of the average , as the simple estimate assumes .",
    "if the degrees of vertices are narrowly distributed about their mean , then these two quantities will be approximately equal and the simple estimate will give roughly the right result .",
    "as mentioned above , however , many networks have broad degree distributions , and in this case the average of the square and the square of the average will take very different values . in general , we can write @xmath31 where @xmath32 is the variance of the degree distribution and @xmath3 is , as before , its mean .",
    "normally , @xmath33 and so the difference between the simple estimate @xmath11 and the true value of @xmath27 is about equal to the variance . in section  [ examples ]",
    "we give some examples of real networks for which the variance is large ",
    "much larger than @xmath11 itself  and hence for which the simple estimate gives poor results .",
    "the calculation of the previous section is incomplete for a number of reasons .",
    "chief among these is that it misses the effect of network transitivity or clustering . in most social networks ,",
    "adjacent actors have strongly overlapping sets of acquaintances . to put this another way , there is a strong probability that a friend of your friend is also your friend .",
    "transitivity can be measured by the quantity @xmath34 here paths of length two are considered directed and start at a specified vertex .",
    "a `` triangle '' is any set of three vertices all of which are connected to each of the others .",
    "the factor of six in the numerator accounts for the fact that each triangle contributes six paths of length two to the network , two starting at each of its vertices .",
    "this definition is illustrated in fig .",
    "[ clustering ] .",
    "simply put , @xmath35  is the probability that a friend of one of your friends will also be your friend .    the quantity @xmath35 has been widely studied in the theoretical literature , and its value has been measured for many different networks .",
    "watts and strogatz@xcite have dubbed it the * clustering coefficient*. it is sometimes also known as the `` fraction of transitive triples '' in the network .",
    "eq .   is not in the form of the standard definition , and so may not be immediately recognizable as the same quantity discussed elsewhere .",
    "the most commonly used definition is@xcite @xmath36 where a `` connected triple '' means a vertex that is connected to an ( unordered ) pair of other vertices .",
    "it takes only a moment to convince oneself that the two definitions are equivalent  see fig .",
    "[ clustering ] again .",
    "( note that paths are ordered in   and triples are unordered in  , which accounts for an apparent difference of a factor of two between the two definitions . )",
    "what effect does clustering have on our calculation of the number @xmath27 of second - nearest neighbors in the network ? consider a vertex with degree @xmath10 lying in the first `` ring '' of our ego - centered network , i.e. ,  one of the immediate neighbors of the central vertex .",
    "previously we considered all but one of this vertex s @xmath10 neighbors to be second neighbors of the central vertex .",
    "( the remaining one is the central vertex itself . )",
    "this is why the term @xmath37 appears in eq .  .",
    "now , however , we realize that in fact an average fraction @xmath35 of those @xmath37 neighbors are themselves neighbors of the central vertex and hence should not be counted as second neighbors .",
    "thus @xmath37 in eq .   should be replaced with @xmath38 .    making this substitution in eq .",
    "we immediately see that @xmath39 this result is in general only approximate , because the probability of a vertex having a tie to another in the first ring is presumably not independent of the degrees @xmath40 of the other vertices . as we show in the following section however , eq .",
    "gives considerably better estimates of @xmath27 than our first attempt , eq .  .",
    "but this is not all .",
    "there is another effect we need to take into account if we are to estimate @xmath27 correctly .",
    "it is also possible that we are over - counting the number of second neighbors of the central individual in the network because some of them are friends of more than one friend . in other words , you may know two people who have another friend in common , whom you personally do nt know .",
    "such relationships create `` squares '' in the network , rather than the triangles of the simple transitivity . to quantify the density of these squares",
    ", we define another quantity is also the average number of mutual friends of two actors who are distance  2 apart in the network . ] which we call the * mutuality *  @xmath41 : @xmath42 in words , @xmath41 measures the mean number of paths of length two leading to your second neighbor . because of the squares in the network , eq",
    ".   overestimates @xmath27 by exactly a factor of @xmath43 , and hence our theory can be fixed by replacing @xmath37 in eq .   by @xmath44 .",
    "but now we have a problem . calculating the mutuality @xmath41 using eq .",
    "requires that we know the mean number of individuals two steps away from the central individual .",
    "but this is precisely the quantity @xmath27 that our calculation is supposed to estimate in the first place .",
    "our entire goal here is to estimate @xmath27 without having to measure it directly , which would in any case be quite difficult for most networks .",
    "there is however a solution to this problem .",
    "consider the two configurations depicted in fig .",
    "[ arrangement ] , parts  ( a ) and  ( b ) . in  ( a )",
    ", the ego , denoted e and shaded , has two friends a and  b , both of whom know  f , although f is a stranger to  e. the same is true in  ( b ) , but now a and  b are friends of one another also . for many networks",
    "we find that situation ( a ) is quite uncommon .",
    "it is rare to find four people arranged in a ring such that each knows two of the others , but none of the four knows the person opposite them in the ring . situation ( b ) is much more common . and",
    "it turns out that we can estimate the frequency of occurrence of ( b ) from a knowledge of the clustering coefficient .",
    "consider fig .",
    "[ arrangement]c .",
    "the central actor  e has a tie with  a , who has a tie with  f. how many other paths of length two are there from  e to  f ?",
    "well , if e has @xmath20 neighbors , as before , then by the definition   of the clustering coefficient , a  will have ties to @xmath45 of them on average .",
    "the tie between actors  a and  b in the figure is an example of one such .",
    "but now  a has ties to both b and  f , and hence , using the definition of the clustering coefficient again , b  and  f will themselves have a tie ( dotted line ) with probability  @xmath35 .",
    "thus there will on average be @xmath46 other paths of length  2 to  f , or @xmath47 paths in total , counting the one that runs through  a. this is the average factor by which we will over - count the number of second neighbors of  e because of the mutuality effect .",
    "substituting into eq .  , we then conclude that our best estimate of @xmath27 is @xmath48 where the mutuality coefficient @xmath41 is given by @xmath49}\\over\\av{k}}. \\label{mutuality}\\ ] ] notice that both @xmath50 and @xmath41 tend to  1 as @xmath35 becomes small , so that eq",
    ".   becomes equivalent to eq .   in a network",
    "where there is no clustering , as we would expect .",
    "in essence what eq .   does is estimate the value of @xmath41 in a network in which triangles of ties are common , but squares that are not composed of adjacent triangles are assumed to occur with frequency no greater than one would expect in a purely random network .    to summarize ,",
    "if we know the degree distribution and clustering coefficient of a network  both of which can be estimated from knowledge of actors personal radius-1 networks  then we can estimate the number @xmath27 of friends of friends the typical actor has using eq .  , , or  .",
    "these three equations we expect to give successively more accurate results for @xmath27 . because we have neglected configurations of the form shown in fig .",
    "[ arrangement]a and because of approximations made in the derivation of eqs .   and",
    ", we do not expect any of them to estimate @xmath27 perfectly . as we will see in the following section however , eq .",
    "provides an excellent guide to the value of  @xmath27 in practice , with only a small error ( less than ten percent in the cases we have examined ) .",
    "in this section we test our theory by applying it to two networks for which can directly measure the mean number of second neighbors of a vertex and compare it with the predictions of eqs .  , , and  .",
    "academic coauthorship networks are one of the best documented classes of social networks . in these networks",
    "the vertices represent the authors of scholarly papers , and two vertices are connected by an edge if the two individuals in question have coauthored a paper together . with the advent of comprehensive electronic databases of published papers and preprints ,",
    "large coauthorship networks can be constructed with good reliability and a high degree of automation .",
    "coauthorship networks are true social networks in the sense that two individuals who have coauthored a paper are very likely to be personally acquainted .",
    "( there are exceptions , particularly in fields such as high - energy physics , where author lists running to hundreds of names are not uncommon .",
    "we will not be dealing with such exceptions here , however . )",
    "[ cols= \" < , > , > , > , > , > , > , > , > \" , ]     we examine two different coauthorship networks :    1 .",
    "a network of collaborations between 1.5  million scientists in biomedicine , compiled by the present author@xcite from all publications appearing between 1995 and 1999 inclusive in the medline bibliographic database , which is maintained by the national institutes of health .",
    "a network of collaborations between a quarter of a million mathematicians , kindly provided to the author by jerrold grossman and patrick ion,@xcite who compiled it from data provided by the american mathematical society .    in fig .",
    "[ degree ] we show the degree distributions of these networks .",
    "as the figure shows , neither is narrowly distributed about its mean .",
    "both in fact are almost power - law in form , with long tails indicating that there are a small number of individuals in the network with a very large number of collaborators . in the network of mathematicians , for instance , a plurality ( about a third ) of individuals who have collaborated at all have degree  1 , i.e. ,  have collaborated with only one other .",
    "but there is one individual in the network , the legendary hungarian paul erds,@xcite who collaborated with a remarkable 502 others .",
    "( this number is a lower bound ; even though erds died in 1996 , new collaborations of his are still coming to light through publications he coauthored that are just now appearing in print . )",
    "we have calculated the number of second neighbors of the average vertex in these networks in five different ways : using the simple estimate discussed in the introduction , using the three progressively more sophisticated estimates , eqs .  , , and  , developed here , and directly by exhaustive measurement of the networks themselves .",
    "the results are summarized in table  [ summary ] . as expected , the simple method of estimating @xmath27 , which assumes it to be equal to the square of the mean degree , gives an underestimate for both networks , by a factor of more than two for the mathematicians and more than five for the biomedical scientists .",
    "moreover , we have been quite generous to the simple method in this calculation , omitting from the formulas any correction for transitivity , such as the lead - in factors discussed in the introduction .",
    "including such a correction gives estimates of @xmath51 and @xmath52 for the two networks .",
    "these estimates are too low by factors of over 3 and 7 respectively  large enough errors to be problematic in almost any application .",
    "by contrast , the new method does much better . the `` good '' and `` better '' estimates , eqs .   and  , give figures of the same general order of magnitude as the true result , and provide good rule - of - thumb guides to the expected value of  @xmath27 .",
    "but the best estimate , eq .  , making use of eq .   to calculate the mutuality coefficient  @xmath41 , does better still , giving figures for @xmath27 which are within 8% and 9% of the known correct answers for the mathematics and biomedicine networks respectively .",
    "clearly this is a big improvement over the simple estimate .",
    "eq .   appears to be accurate enough to give very useful estimates of numbers of friends of friends in real social networks .",
    "there are a number of morals to this story .",
    "perhaps the most important of them is that your friends just are nt normal .",
    "no one s friends are . by the very fact of being someone s friend ,",
    "friends select themselves .",
    "friends are by definition friendly people , and your circle of friends will be a biased sample of the population because of it .",
    "this is a relevant issue for many social network studies , but particularly for studies using ego - centered techniques such as snowball sampling .    in this paper",
    "we have not only argued that your friends are unusual people , we have also shown ( in a rather limited sense ) how to accommodate their unusualness . by careful consideration of biases in sampling and correlation effects such as transitivity in the network",
    ", we can make accurate estimates of how many people your friends will be friends with .",
    "we have demonstrated that the resulting formulas work well for real social networks , taking the example of two academic coauthorship networks , for which the mean number of a person s second neighbors in the network can be measured directly as well as estimated from our equations .",
    "it is important to note however that application of the formulas we have given requires the experimenter to measure certain additional parameters of the network . in particular , it is not enough to know only the mean number of ties an actor has .",
    "one needs to know also the distribution of that number .",
    "measuring this distribution is not a trivial undertaking , although some promising progress has been made recently.@xcite one must also find the clustering coefficient of the network , which requires us to measure how many pairs of friends of an individual are themselves friends .",
    "this may require the inclusion of additional questions in surveys as well as additional analysis .    to return then to the question with which we opened this paper ,",
    "can we estimate how many friends of friends a person will have on average who fall into a given group or who were involved in a given event ?",
    "if the number involved in the event is @xmath0 as before , and the total population is  @xmath1 , then the number we want , call it @xmath53 , is given by @xmath54 . thus",
    ", once we have @xmath27 we can answer our question easily enough . using figures",
    "appropriate for the united states and the simple estimate of @xmath27 that it is equal to the square @xmath11 of the number of acquaintances the average person has , we get @xmath55 , @xmath56  million , and @xmath57 . as we have seen here",
    ", however , this probably underestimates the actual figure considerably .",
    "the real number could be a factor of five or more greater than this formula suggests .",
    "unfortunately , as far as we know , the necessary data have not been measured for typical personal acquaintance networks to allow us to estimate @xmath27 by the methods described here .",
    "in particular , measurements of the clustering coefficient are at present lacking .",
    "we encourage those involved in empirical studies of these networks to measure these things soon .",
    "the author thanks michelle girvan , duncan watts , and elizabeth wood for useful conversations , and jerry grossman , oleg khovayko , david lipman , and grigoriy starchenko for graciously providing data used in the examples of section  [ examples ] .",
    "this work was funded in part by the national science foundation under grant number dms0109086",
    ".              h.  r. bernard , e.  c. johnsen , p.  d. killworth , and s.  robinson , estimating the size of an average personal network and of an event population : some empirical results .",
    "_ social science research _ * 20 * , 109121 ( 1991 ) ."
  ],
  "abstract_text": [
    "<S> recent work has demonstrated that many social networks , and indeed many networks of other types also , have broad distributions of vertex degree . </S>",
    "<S> here we show that this has a substantial impact on the shape of ego - centered networks , i.e. ,  sets of network vertices that are within a given distance of a specified central vertex , the ego . </S>",
    "<S> this in turn affects concepts and methods based on ego - centered networks , such as snowball sampling and the `` ripple effect . '' </S>",
    "<S> in particular , we argue that one s acquaintances , one s immediate neighbors in the acquaintance network , are far from being a random sample of the population , and that this biases the numbers of neighbors two and more steps away . </S>",
    "<S> we demonstrate this concept using data drawn from academic collaboration networks , for which , as we show , current simple theories for the typical size of ego - centered networks give numbers that differ greatly from those measured in reality . </S>",
    "<S> we present an improved theoretical model which gives significantly better results . </S>"
  ]
}