{
  "article_text": [
    "most recent x - ray satellites carry a charge - coupled device ( ccd ) camera for their focal plane instrument .",
    "ccd s possesses a moderate energy resolution , a high spatial resolution , and a timing resolution .",
    "the solid - state imaging spectrometer , sis , onboard asca was the first ccd camera used as a photon counting detector .",
    "( tanaka et al@xcite ) . following the sis",
    ", many satellites such as hete2 ( ricker@xcite ) , chandra ( weisskoph et al.@xcite ) , xmm - newton ( barr et al.@xcite ) , and maxi ( matsuoka et al.@xcite ) now carry a x - ray ccd camera on their focal planes .",
    "maxi , monitor of all - sky x - ray image , has been selected as an early payload of the jem ( japanese experiment module ) exposed facility on the international space station .",
    "maxi will monitor the activities of about 2000 - 3000 x - ray sources .",
    "it consists of two kinds of x - ray detectors : the first , the gas slit camera ( gsc ) is a one - dimensional position - sensitive proportional counter , and the other , the solid - state slit camera ( ssc ) is an x - ray ccd array .",
    "the ccd used in the ssc is fabricated by hamamatsu photonics k.k .",
    "( hpk ) and is being calibrated both at osaka university and the national space development agency of japan ( nasda ) .",
    "since ssc is the first ccd camera fabricated soley by japan , we need to specify the functioning of the ccd in detail . in order to optimize the function of the ccd",
    ", we need to develop a highly flexible data acquisition system .",
    "in order to optimize the x - ray responsibility of the ccd , we need to develop a highly flexible ccd driver .",
    "our requirements of the ccd driver are :    * to output any kind of clocking pattern * to dynamically control clocking voltages * to modify the clocking pattern easily and download it by request * to have a readout speed @xmath4 1mhz * to output clocking voltages with a range of @xmath5 to @xmath6 v * to control voltage levels to within 0.1 v    the clock driver circuit used until now consists of mpxs , dacs ( digital - to - analog converters ) , and analog amplifiers .",
    "for example , two dacs are used to generate the low and high voltage level of a clock and an mpx switches each level with a digital signal .",
    "this system has been well established but it is not suitable to change the voltage level dynamically .",
    "to satisfy all of the requirements listed in section  [ sec : requirements ] , we have developed a new type of ccd driver system as shown in figure  [ fig : sche ] .",
    "we use one fast dac to generate each clock .",
    "this enables us to control each clock with a high flexibility whereas we need a lot of control i / o pins . in the previous system ,",
    "the voltage level of each dac is determined before operating the ccd and at least one i / o pin is needed for each clock . on the other hand ,",
    "our new system requires the number of clocks times 10 pins per dac even if we use an 8-bit dac , resulting in roughly orders of magnitude more i / o pins than the previous system .",
    "we thus introduced a field programmable gate array ( fpga ) to control all dacs .      because a ccd is operated by dacs directly ,",
    "the noise characteristics need to be low .",
    "we therefore picked up more than five dacs to evaluate the noise characteristics . among them , tlc 7524 fabricated by texas instruments possesses the lowest noise characteristics and we select this device for our new system .    a detailed design around dac in figure  [ fig : sche ] is shown in figure  [ fig : dac ] .",
    "we use a photo - coupler , hcpl@xmath72430 , to separate an analog and a digital ground .",
    "tlc7524 is an 8-bit current - output dac whose settling time is @xmath0 100 ns .",
    "the fast settling time enables us to simultaneously control both the clocking timing and the voltage level , which is realized with several dacs and mpxs in the previous driver system .",
    "thus , our new system posses a high flexibility though it is much simpler than the previous system .",
    "we previously used the vme system to control the dac boards and had a lot of noise problems mainly due to a switching regulators on a vme power supply unit .",
    "we thus abandon using the vme system for this purpose .",
    "we designed a general - purpose digital i / o board ( dio board ) to simultaneously control several dac boards .",
    "our dio board carries a reconfigurable fpga , 512 kbyte sram device ( pd434008ale-15 ) , a serial interface , a parallel interface with 10 bits , an interface for a liquid crystal to display the status , and eight dac interfaces .",
    "one dac interface possesses 10 bits in order to control a 10 bit dac in a future application .",
    "figure  [ fig : fpga_board ] shows a photograph of the fpga board developed in this work .",
    "we selected an altera flex 10k50 for the fpga .",
    "this fpga device is a static memory type that can be reconfigured simply with a command and has 189 pins available for the user .",
    "one of the remarkable advantages is the development of hardware description language ( hdl ) .",
    "hdls and synthesis tools can greatly reduce the design time , improving the time - to - market .",
    "a description based on hdls is easier to understand than some schematic for a very large design in fpga gate format .",
    "there are several kinds of hdls developed for various corporations : ahdl@xcite , vhdl@xcite , and verilog - hdl@xcite . among them",
    ", we employed vhdl . throughout the development , we used the max+plus ii and fpga express software provided by altera corporation and synopsis corporation .",
    "the ccd output signal is processed with a delay line and peak - hold circuits which have been previously developed by our group .",
    "the processed signal is shifted to @xmath8 5v and sampled by a 12-bit analog - digital converter ( adc ) .",
    "digital data are transferred to the vme i / o board ( @xcite ) with a flat cable and are sent to the sparcstation through the vme bus .",
    "we have developed a sequencer and relevant software to compile it .",
    "we define two sequencers : v - ram and p - ram .",
    "the v - ram defines a voltage pattern to drive the ccd with a relatively a short duration . combining several v - rams ,",
    "we describe the clocking pattern for readout of whole ccd in p - ram .",
    "we develop , typically , two kinds of v - ram : v - ram for readout one pixel and transfer one line .",
    "an example of v - ram for one pixel readout in a two phase ccd is shown below .",
    "the vertical axis represents the time sequence .",
    "p1h and p2h are clocks for the serial register and p1v and p2v are those for the vertical register .",
    "rst and hold are clocks for reset and adc .",
    "numbers in v - ram represent the voltage level in units of volts .",
    "following brackets show that a voltage level is the same as the previous value . in this way",
    ", we describe the voltage level and the timing for a voltage change in v - ram .",
    "the v - ram compiler we developed reads the v - ram and creates the dac patterns for each clock .",
    "the hold signal is transferred to the adc board through the parallel interface while others are transferred to the appropriate dac interace .",
    "in the current system , we use tlc7524 which needs a reference clock .",
    "when the reference clock is sent to tlc7524 , it latches all data bits and outputs the voltage depending on the data bits .",
    "since the reference clock is difficult to be described in v - ram , the v - ram compiler adds it in the output sequencer code automatically .    ....",
    "p1h      p2h      rst      p1v      p2v     hold                     -8        6       6        6        6        5                      [         ]        ]        ]        ]        ]                     [         ]       -8        ]        ]        ]                     [         ]       [         ]        ]        ]                     [         ]       [         ]        ]        ]                     [         ]       [         ]        ]        ]                     [         ]       [         ]        ]        ]                     [         ]       [         ]        ]        ]                     6        -8       [         ]        ]       0                      ]       [        [         ]        ]       [                      ]       [        [         ]        ]       [                      ]       [        [         ]        ]       [                      ]       [        [         ]        ]       [                      ]       [        [         ]        ]       [                      ]       [        [         ]        ]       [                      ]       [        [         ]        ]       [      ....      p - ram is described to define the readout of a whole ccd . to include v - ram files",
    ", p - ram uses the filename of v - ram .",
    "we have prepared several instruction commands to describe any p - rams easily and concisely as listed in table  [ table : pram_command ] . combining filenames of v - rams and instruction commands ,",
    "p - ram can be easily developed by the user .",
    "one example of a p - ram is shown below .",
    "....                    set a = 64                    set b = 2                    set xaxis = 1024                    set yaxis = 1024                      start :                      do yaxis                              set wait a                              seq 1 vertical                              set wait b                              seq xaxis horizontal                      end do                    jmp start       ....",
    "this p - ram reads out a ccd with 1024 @xmath9 1024 pixels .",
    "v - ram of vertical and horizontal define the voltage pattern to transfer pixels vertically and horizontally , respectively . the instruction of set wait is to determine the duration of each level in s - ram .",
    "the p - ram is compiled on a sun sparcstation ( force , cpu-50gt ) and stored in the memory of vme i / o board .",
    "after sending a command from the sun , p - ram is downloaded to the dio board by means of the serial interface and stored in the memory of the dio board .",
    "to realize the function of the sequencers , we divided the configuration of the flex device into five blocks as shown in figure  [ fig : block_diagram ] .",
    "each block is constructed by a synchronous state machine .",
    "the serial interface is the interface to the vme i / o board to download sequencers .",
    "after loading sequencers , the serial interface sends a trigger signal to the clock controller .",
    "the state machine of the clock controller is shown in figure  [ fig : state_machine ] .",
    "the clock controller is in the _ idle _ state until a trigger signal is sent .",
    "once the trigger signal is received , the clock controller moves to the _ memory check _ state , where the clock controller sends the memory address and a trigger signal to the synthesize pattern .",
    "the synthesize pattern sends a trigger signal to the memory controller and receives memory data . after repeating three times",
    ", the synthesize pattern arranges the data into 96 bits and sends it to the clock controller .",
    "then , the state moves to _ fetch _ where 96 bit data is stored in a register and next moves to _ decode_. in the _ decode _ state , the clock controller analyzes the bit pattern based on the instruction commands shown in table  [ table : pram_command ] and sends dac patterns to the appropriate dac interface . after sending the dac patterns , the memory pointer is incremented and clock controller waits for the wait parameter ( a or b shown in p - ram ) . in each state",
    ", the clock controller sends status information to the display controller and the display controller controls the liquid crystal to display the clocking status .",
    "in order to demonstrate the performance of our new ccd driver , we produced 5 value clockings as shown in figure  [ fig : demo ] .",
    "this kind of multi - level clocking is efficient to reduce the spurious charge@xcite .",
    "we thus confirm the high potential and high flexibility for our new system .",
    "since we use 8 bits dac for each clock , we can control a voltage level within @xmath2 0.1 v. we normaly operate the dac boards with ranges of @xmath715 to @xmath1015v .",
    "if we change the resister of r13 , r15 , and r20 in figure  [ fig : dac ] , we can output the clock up to @xmath1020v or down to @xmath720v .",
    "the readout speed is limited by the number of state machines to read a voltage pattern from s - ram . in our current design ,",
    "there are 13 steps to fetch a 96 bits voltage pattern , resulting in the maximum clocking speed to be @xmath2 300 khz . we still need to optimize it in order to meet our requirements ( @xmath0 1 mhz ) .",
    "we compared the performance of our new system with the hpk c4880 system , which is an x - ray ccd data acquisition system previously used@xcite .",
    "we used a ccd chip fabricated by hpk .",
    "we cooled the ccd down to @xmath11c and irradiated it with an @xmath12fe source . for comparison",
    ", we set the same readout speed as that of c4880 ( 50 khz ) .",
    "we selected the asca grade 0 events@xcite with a split threshold of 90 ev and fitted the histogram with two gaussian functions for mn k@xmath1 and k@xmath13 .",
    "results are shown in table  [ table : comparison ] .",
    "the readout noise of our new system is @xmath2 8e@xmath3 .",
    "we can confirm that our new system function much better than the previous system .",
    "we have developed a new type of general - purpose ccd data acquisition system which enables us to drive any kind of ccd with any kind of clocking and voltage patterns .",
    "it functions well and demonstrates great flexibility .",
    "we found the readout noise of the ccd to be 8 e@xmath3 rms in our system , which might be contributed to by our readout circuit rather than a ccd chip itself .",
    "we plan to develop the analog electronics to process a ccd output signal to reduce the readout noise .",
    "the system currently used is a delay line circuit which has poorer performance than an integrated type circuit for both readout speed and for noise characteristics ( especially high frequency regime ) .",
    "therefore , we will develop an integrated correlated double sampling circuit in the near future .",
    "we also plan to replace the vme i / o board with another fpga board which has already been constructed by us . on this board , 80 m sampling adc , flex 10k and 4mbyte s - ram are mounted .",
    "there are three ieee 1394 ports each of which has a capability of 400 mbps connection .",
    "large amount of memory gives us to extract x - ray events before sending raw frame data to the host machine .",
    "since fpga has a good capability of a parallel processing comparing with dsp or cpu , it enables us to analyze data in real - time .",
    "it is also important to develop onboard digital processing software using hdl for future x - ray astronomy missions .",
    "we wish to thank prof .",
    "h. tsunemi for his valuable comments on the initial phase of this work .",
    "we acknowledge to mr .",
    "c. baluta for his critical reading of the manuscript .",
    "this research is partially supported by act - jst program , japan science and technology corporation .",
    "+    99 tanaka , y. , inoue , h. , and holt , s.s .",
    ", _ pasj _ , * 46 * , l37 , 1994 ricker , g.r . _ proc",
    "of all - sky x - ray observations in the next decade _ , 366 , 1998 weisskoph , m.c .",
    ", odell , s.l . , elsner , r.f .",
    ", van speybroeck , l.p .",
    ", 2515 , 312 , 1995 barr p. et al .",
    "esa sp-1097 , march 1988 matsuoka , m. et al .",
    ", 3114 , 414 , 1997 kataoka , j. et al .",
    ", 3445 , 143 , 1998 altera corporation , _ max+plus",
    "ii programmable logic development system ahdl _ , 1998 institute of electrical and electronic engineers , inc . , _ vhdl language reference manual _ , ieee standard 1076 - 1987 , 1988 d.e.thomas and p. moorby , _ the verilog hardware descritption language _ , kluwer , academic publishers , 1991 janesick , j.r . , elliot , t. & collins , s. , optical engineering , 26 , 692 , 1987 miyata , e. et al .",
    "_ nuclear instruments and method _ , 436 , 91 , 1999 yamashita , a. et al . _ ieee trans .",
    "_ , 44 , 847 , 1997"
  ],
  "abstract_text": [
    "<S> we have developed a completely new type of general - purpose ccd data acquisition system which enables one to drive any type of ccd using any type of clocking mode . </S>",
    "<S> a ccd driver system widely used before consisted of an analog multiplexer ( mpx ) , a digital - to - analog converter ( dac ) , and an operational amplifier . </S>",
    "<S> a dac is used to determine high and low voltage levels and the mpx selects each voltage level using a ttl clock . in this kind of driver board , it is difficult to reduce the noise caused by a short of high and low level in mpx and also to select many kinds of different voltage levels .    </S>",
    "<S> recent developments in semiconductor ic enable us to use a very fast sampling ( @xmath0 10mhz ) dac with low cost . </S>",
    "<S> we thus develop the new driver system using a fast dac in order to determine both the voltage level of the clock and the clocking timing . </S>",
    "<S> we use fpga ( field programmable gate array ) to control the dac . </S>",
    "<S> we have constructed the data acquisition system and found that the ccd functions well with our new system . the energy resolution of mn k@xmath1 has a full - width at half - maximum of @xmath2 150 ev and the readout noise of our system is @xmath2 8 e@xmath3 .    ,    ,    ,    , and </S>"
  ]
}