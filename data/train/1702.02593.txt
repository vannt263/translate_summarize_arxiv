{
  "article_text": [
    "desktop tools such as saoimage - ds9 ( @xcite ; http://ds9.si.edu/site/home.html ) , fits liberator ( @xcite ; https://www.spacetelescope.org/projects/fits_liberator/ ) and esasky ( @xcite ; http://sky.esa.int/ ) are invaluable in visualizing astronomical images .",
    "they are not , however , intended for automated creation of images from large collections of data , nor for integration into pipelines or workflows two of six visualization grand challenges identified by @xcite .",
    "because its design can support these two grand challenges , the montage image mosaic engine ( @xcite ; @xcite ; http://montage.ipac.caltech.edu ; astronomy source code library record ascl:1010.036 ; dx.doi.org/10.5281/zenodo.49418 ) is finding growing applicability in the field of visualization .",
    "originally delivered to create mosaics of images written in flexible image transport system ( fits ) format @xcite , montage is a toolkit that is easily integrated into scalable systems designed to process images for subsequent visualization .",
    "moreover , it provides a utiliity for creating portable network graphics ( png ) or joint photographic experts group ( jpeg ) representations of fits images that can be used in an automated fashion .",
    "a similar automation tool , stiff @xcite , has been used successfully by @xcite , @xcite and @xcite and others .",
    "there are aspects of montage , built as part of the process of building and managing mosaics , that also contribute value to visualization .",
    "montage models and rectifies the sky background to a common level and thus reveals faint , diffuse features ; it offers an adaptive image stretching method that preserves the full dymamic range of a fits image ; it provides utilities for creating cutouts of large images and downsampled versions of large images that can then be visualized on desktops or in browsers ; and it resamples and reprojects images to a common grid and enables multi - color visualization .    version 5.0 of montage offers capabilites for visualizing two sky - tessellation schemes that are not readily amenable to visualization in their native forms .",
    "data sets written as hierarchical equal - area isolatitude pixelization ( healpix ) maps @xcite can be reprojected into all common spherical projections used in astronomy , and then visualized and and studied with other wide - area sky maps . and fits images stored in all commonly used spherical projections can be reprojected and organized into the tessellated octahedral adaptive subdivision transform ( toast ) sky - tessellation scheme required for consumption by the world wide telescope ( wwt ) @xcite .",
    "this paper presents visualizations of images that exploit the above capabilities , and contains links to four supplementary online tutorials that allow readers to recreate , adapt and extend these visualizations .",
    "a knowledge of the design of montage is valuable in understanding its applicability to visualization .",
    "montage is a toolkit for creating mosaics that preserve the calibration and astrometric fidelity of input fits images @xcite .",
    "it can process two - dimensional images and data cubes @xcite .",
    "the toolkit is written in ansi - c for performance , is portable across all common * nix platforms , accepts input from the command line , and returns structured american standard code for information interchange ( ascii ) responses that can be parsed by any computer . the tools scale from desktops , where they are usually run serially through scripts , to high - performance platforms , where they are parallelized through workflow managers such as pegasus , described in @xcite and @xcite , or through the message passing interface ( mpi ) .",
    "the code is distributed with a berkeley software distribution ( bsd ) 3-clause license and freely available from github ( https://github.com/caltech-ipac/montage ) or the montage website ( http://montage.ipac.caltech.edu/docs/download.html ) .",
    "the toolkit is self - contained with all necessary support libraries , and built with a make command .",
    "the libraries include the smithsonian astrophysical observatory ( sao ) wcstools library ( hereafter , wcstools ) ( http://tdc-www.harvard.edu/wcstools/ ) , which implements the world coordinate system ( wcs ) transformations between pixels and spatial coordinates of images @xcite . by default , montage is able to process all spherical image projections that are supported by wcstools .",
    "montage creates mosaics in response to the user s specifications of output coordinate system , image reprojection , pixel sampling and image rotation angle .",
    "the toolkit contains components that perform the tasks needed to create such mosaics : reprojection and resampling of the input images ; rectification of the variable sky and instrumental background across the images to a common level ; and co - addition of the reprojected and rectified images .",
    "it also contains utilities for performing tasks such as managing large - scale mosaics and analyzing the metadata of fits files for content and completeness .",
    "the functionality has evolved from its first release in 2003 .",
    "versions 1 to 3 ( 2003 - 2010 ) offered aggregation of two - dimensional images into mosaics , and version 4 ( 2015 ) supported the same functionality for multi - dimensional image data sets ( hereafter,data cubes \" for simplicity ) .",
    "version 5 ( 2016 ) supports processing of healpix data , now the standard format for storing wide - area cosmic - background data sets , and toast , required for presentation of images in the wwt .",
    "montage takes the approach of treating these two sky - tessellation schemes as wcs projections @xcite so that all the functionality in montage is accessible to them . altogether ,",
    "there have been over 20,000 downloads to date of the various releases .",
    "users have taken advantage of the toolkit design to perform research on their local machines and clusters , and to integrate it into workflows and pipelines that create new data products .",
    "recently , it has begun to find new applicability in integration within visualization environments .",
    "these environments primarily exploit the montage functionality to co - register images measured at different epochs and at different wavelengths , which is a common use case in scientific analysis of images ; e.g. @xcite , @xcite , @xcite , and @xcite .",
    "the growth in volume in modern astronomy datasets is driving the development of large - scale image processing on remote servers , for presentation in a client application or a browser .",
    "visiomatic @xcite and toyz @xcite are two instances of this approach .",
    "@xcite integrated montage into a client - server architecture intended as a demonstration of how a visualization environment would operate when extended to petascale processing . in this architecture",
    ", montage plays the role of reading the images , co - registering them , re - writing them to a grid , and then creating jpeg images for visualization in a browser .",
    "the system creates a library of indices of the images based on geohashing to enable fast location and overlays of images , which are then sent to a web browser for visualization .",
    "@xcite has taken a different approach in developing js9 , a web - based analog of the ds9 desktop visualizer ( http://js9.si.edu/ ) .",
    "he used the mprojectpp module , dedicated to fast reprojection of images in tangent plane reprojections , for processing images in the browser itself .",
    "specifically , he incorporated mprojectpp into a prototype image blending function , in accord with the imaging compositing and blending rules proposed by the world wide web consortium ( w3c ) .",
    "it presents images from then chandra x - ray mission , the spitzer space telescope and the galaxy evolution explorer ( galex ) , and when js9 is complete , users will be able to upload and blend their own images .",
    "@xcite used montage to create demonstration images showing the gas content of hi gas galaxies as part of their study of the applicability of the extensible 3d ( x3d ) file format in publishing and printing three - dimensional images .",
    "montage has been integrated into the astronomical plotting library in python ( aplpy ; https://aplpy.github.io/ ) , which produces publication - quality plots of astronomical imaging data in fits format .",
    "montage is used to underpin image compositing services and creating multi - color images .",
    "@xcite have stated how pre - computing mosaics with montage can be valuable in providing the best quality data for input to the hierarchical progressive surveys ( hips ) data organization scheme for managing wide - area data sets .",
    "this scheme , a proposed international virtual observatory ( ivoa ) standard , is based on healpix @xcite and represents a generic method of packaging , storing and describing asttronomical data .",
    "it enables progressive visualization of data sets through tools such as aladin and esasky .",
    "indeed , processing of one of the data sets described in detail by @xcite , glimpse360 , used montage as a mosaic and background rectification engine @xcite .",
    "a current working draft of the hips standard is available at http://www.ivoa.net / documents / hips/20160623/.",
    "versions 3 and earlier contained a visualization utility , mjpeg , that created jpeg representations of fits images and provided flexibility in stretching the images for display .",
    "it was developed to enable bulk creation of images and has been used as such to create preview images for , e.g. , the palomar transient factory @xcite and the starbirds data set @xcite .",
    "version 4 includes mviewer , which extends the functionality of mjpeg and creates png representations of fits images , allows full - color ( three - image ) displays of images with optional color enhancement , integration with python , and image overlays as follows :    * coordinate grid overlays ( any coordinate system , including besselian / julian and equinox selection ) ; * astronomical catalog overlays with data in any coordinate system ; * multiple symbols and any color ; * optional scaling of the symbols by flux or magnitude ; * image metadata ( footprints ) overlays , through interpreting the wcs keywords or through reading the positions of the four corners of the image ; * custom markers and labels .",
    "figure  [ m51 ] illustrates these capabilities with an image created with a call to mviewer of a mosaic of m51 , built from sdss u- , g- and r - band data .",
    "as modern datasets often contain large images , montage provides the msubimage utility to return cutouts of sections of such images in fits format @xcite , and the mshrink utility to return downsampled images , also in fits format @xcite .",
    "all the visualizations in this paper were created with single calls to mviewer , and illustrate the capabilties montage brings to visualization of modern data sets .",
    "the examples are supplemented with four online tutorials , summarized in table  [ supplements ] , that allow readers to reproduce and extend sample visualizations presented here , once the required version of montage is installed on the reader s machine .",
    "the tutorials are self - contained , with links to all required data , and their texts consequently replicate some of the material in this paper .",
    "column 5 specifies the earliest version of montage required for each tutorial .",
    "clllc 1 & creation of a spatial coverage map & http://bit.ly/2crc3ku & section  [ sky coverage ] & 4.0 + 2 & visualization and animation of a data cube & http://bit.ly/2ddvdbv & section  [ cubes ] & 4.0 + 3 & visualization of healpix maps & http://bit.ly/2dztowe & section  [ he ] & 5.0 + 4 & displaying images in the wwt & http://bit.ly/2crcdhz & section  [ toast ] & 5.0 + [ sst ]",
    "the faint astrophysical structure in a mosaic or large - format image is most effectively seen when the spatially variable sky and instrumental radiation has been removed .",
    "montage uses a global relaxation technique that rectifies background differences between images under the assumption that the input images are all calibrated to an absolute energy scale ( that is , brightnesses are absolute and should _ not _ be modified by the rectification ) , and that any discrepancies between the images are due to variations in their terrestrial or instrumental background levels .",
    "@xcite , @xcite and @xcite , among others , called out the value of this background rectification to their analyses .",
    "in particular , @xcite created multi - wavelength mosaics of sources in orion a as part of the vista orion a survey .",
    "the background - rectification algorithm assumes that terrestrial and instrumental backgrounds can be described by simple functions or surfaces , such as slopes and offsets .",
    "it assumes that the  non - sky \" background has very little energy in any but the lowest spatial frequencies .",
    "describing the backgrounds by higher - order surfaces would very likely correct the astrophysical structure present in the image , as well as the sky background .",
    "when the  sky \" includes background containing patchy ",
    "airglow \" features , such as in the two micron all sky survey ( 2mass ) h - band images @xcite , the algorithm can not distinguish these from variations in the real extra - terrestrial sky , and so they are only partly rectified .",
    "figure  [ back ] demonstrates the impact of background rectification on the content of an image mosaic constructed from 2mass images in the j - band .",
    "the striped appearance of figure  [ back](a ) , where no rectification has been carried out , reveals the background variations across the individual images . in figure  [ back](b ) , these background variations have been removed by applying a local flat background from each image . in effect , it acts as a high - pass filter , where the lowest frequency passed is on the scale of an individual input image .",
    "this type of filtering is most effective when the image is of a field of sources on ablack sky \" ; see e.g. , @xcite .",
    "figure  [ back](c ) shows the effect of modeling the backgrounds seen in figure  [ back](a ) with the montage technique .",
    "the color map in figure  [ back](d ) superposes the maps in figures  [ back](b ) and 2(c ) .",
    "the linear filter brings out the filamentary structure in the original mosaic , at the expense of showing the large - scale structure of the molecular clouds : this is made clear in figure  [ back](d ) as the extensive red - colored areas .",
    "thus , the montage algorithm is most valuable in revealing the large scale structure of an image .",
    "all subsequent images in this paper were created with the montage global relaxation technique .",
    "x 5@xmath0 area in the  2mass j - band centered at @xmath1=355@xmath0 and @xmath2=0@xmath0 and created with montage to show the effect of background rectification methods .",
    "the triangle of stars with some reflection nebulosity toward the lower right is ngc 6357 .",
    "( a ) no rectification ; ( b ) flat local background removed ; ( c ) modeling of the background with montage ; ( d ) a color map superposing the local background removal , shown as blue / green , and the modeling , shown as red.,width=576 ]",
    "the pixel values in astronomy images tend to be clumped near the low end of the data range , with a tail at the high end of the data range due to astronomical sources . how can such images be stretched to reveal their faint features without saturating the brighter pixels ? there is no formulaic answer to this question .",
    "the optimum stretch is determined by the properties of the image itself and the features an astronomer wishes to emphasize , as well the physiology of the eye and the non - linear response of the monitor .",
    "histogram equalization as commonly used in computer visualization is not useful when applied to astronomical images because it tends to relegate the brightest pixels to a single brightness bin .",
    "mviewer uses an _ adaptive _ histogram equalization algorithm .",
    "it assumes the data follow a model where there is a low - level , largely random population containing the majority of the pixels and a long positive tail of more unevenly - spaced bright pixels .",
    "there are two classes of structures at the low level : random noise and low - level structure made up of faint stars or galaxies .",
    "while the origins of these classes are different , they do have similar histograms and can therefore be treated by a common approach . from the image histogram , montage determines the mean and standard deviation of the low - level distribution , and characterizes data levels in terms  sigma \" values in addition to absolute data values and/or percentiles .",
    "then , rather than base equalization on a uniform target distribution , montage bases it on the nominal gaussian distribution , via the error function erf ( ) or via a logarithmically transformed error function .",
    "the net result is a histogram where there are a reasonable number of high - level bins showing the brightest areas / pixels , adequate detail at the low end , and adaptive flux - sensitive bins in between .",
    "the price paid for this approach is that in order to provide enough bins to show high - level structure , the algorithm may compromise on the number available at the low end .",
    "this algorithm offers considerable flexibility to astronomers .",
    "it optimizes three features at once : the structure of the brightest pixels ; the definition of faint structures ; and the definition of mid - brightness level structure . perhaps the most useful feature may be removing the need to carefully choose the high - level cutoff .",
    "there is generally no need to use anything but the highest data value as the algorithm maximum .",
    "the low - level choice is still manual , and can usually be chosen based on the nature of the background .",
    "if the background is all  noise \" ( e.g. , a field of stars or galaxies ) then the low - level pixels can be discarded and a minimum of  1 @xmath3 \" ( one standard deviation above the mean background level ) generally suffices . if the  background \" is astrophysical ( e.g. , dense stars in the galactic plane , maps of clouds of dust and gas , etc . )",
    "then  -2 @xmath3 \" is more appropriate .",
    "it is instructive to compare the adaptive algorithm with two powerful display mechanisms .",
    "@xcite have shown the value of using a stretch based on a the hyperbolic sine function , while @xcite has reasoned that gamma compression and expansion , which reflects the non - linear luminance of display devices , renders the use of an external stretch function unnecessary .",
    "figure  [ stretch ] compares the three mechanisms side - by - side .",
    "the figure shows how the adaptive algorithm preserves detail across the full range of the .",
    "given that the adaptive algorithm preserves well the dynamic range of an image , all the images in the rest of this paper have been created with this technique .",
    "sometimes , a set of images requires the same stretch . to do this",
    ", montage uses the dedicated utility mhistogram to generate a histogram based on a reference image .",
    "it uses the same algorithm as mviewer , except that it writes the results to a file , which mviewer can then use as input for processing a collection of files .",
    "@xcite took advantage of this capability in creating a full - resolution , five - color mosaic of the herschel hi - gal survey of the galactic plane @xcite , for display on the dome of the fiske planetarium , boulder , co. after creating a mosaic of the galactic plane at each wavelength , they subdivided the fits files with msubimage to create more manageable files of size 7,000 x 40,000 pixels , which were converted to png files with a common stretch through mhistogram and mviewer .",
    "these were then stitched together with photoshop to create the final image for display .",
    "when complete , the full - dome presentation will cover 360@xmath0 by 2@xmath0 of the galactic plane in all five wavelengths .",
    "all the data will be processed at full resolution , and can be zoomed on the dome to show details at scales of @xmath4 10 arcseconds .",
    "the images will be presented in monochrome or as color composites .",
    "there are instances where the graphical overlays on images are themselves the goal of the visualization .",
    "the most common example is to represent image footprints or project coverage footprints on the sky .",
    "figure  [ kelt ] shows an example of the coverage on the sky of the kilodegree extremely little telescope ( kelt ) survey fields .",
    "this map was requested of montage by the kelt team to visualize the overlap between the kelt fields and the kepler @xcite and k2 mission fields @xcite .",
    "kelt surveys the sky for new transiting planets around bright stars , in sets of fields that are 26@xmath5 x 26@xmath5 in size .",
    "the project operates two observing stations , kelt - north @xcite and kelt - south @xcite .",
    "the kelt - north fields are shown in turquoise , and the kelt - south fields in blue , while the kepler and k2 footprints are shown in red .",
    "all these footprints are superposed on a reverse grayscale image of the 100@xmath6 m map of @xcite . to create this image , the kepler and k2 footprints and the kelt field footprints",
    "are written as ipac ( column - delimited ) ascii tables .",
    "supplementary tutorial 1 shows how to construct the image .",
    "m map of @xcite , width=576 ]",
    "the montage youtube channel ( https://www.youtube.com/channel/ucfjmhcdrq4yiuly1r082tja ) shows three animations of mosaics of data cubes of the galactic arecibo l - band feed array hi ( galfa - hi ) survey data release 1 ( dr1 ) data set @xcite , which covered 13,000@xmath5 on the sky at 4 arcmin resolution .",
    "the mosaics have been created with version 4 of montage , and are structured with right ascension and declination in the x- and y - dimensions , and the hi velocity in the z - dimension ; altogether there are 2048 velocity planes represented in the z - dimension .",
    "the creation of the animations is straightforward .",
    "mviewer creates a png representation of each velocity plane , and the collection of images are input into a video or animation editor .",
    "the galfa animations have been created with the imagemagick@xmath7 suite , but many tools are adequate for this purpose .",
    "one animation , at https://youtu.be/p2t6oyw42cg , shows a full - resolution mosaic of all 2048 frequency planes of 30 galfa - hi images centered on 0h right ascension . a second , at https://youtu.be/ygu8xlzok8i , shows a full - resolution mosaic of the central 256 frequency planes of 30 galfa - hi images , centered on 0h right ascension , with the rgb color derived by combining three adjacent frequency planes .",
    "both mosaics were computed on the amazon elastic cloud 2 ( ec2 ) of amazon web services ( aws ) @xcite , and required five processing hours on a virtual cluster of five machine instances .",
    "these processing times would become prohibitive on a desktop , and a simple solution is to create the animations with images that have been downsampled with mshrink . the third video , at https://youtu.be/59z_whh0uji ,",
    "was created this way .",
    "it represents an average of the central 10 velocity planes of a mosaic of five galfa data cubes .",
    "supplementary tutorial 2 describes the creation of this product .",
    "the healpix sky - tessellation scheme is designed to optimize harmonic analysis of wide areas of the sky @xcite , and has become the standard for recording data acquired by surveys of diffuse background radiation .",
    "all healpix pixels at a given resolution have the same area and the pixel centers are arranged in latitude bands .",
    "levels of increasing resolution are derived by recursive splitting of these pixels into four equal portions .",
    "the cell numbers computed by this scheme are written in a fits table , rather than as fits images , and in this form are not suited for visualization . @xcite",
    "have shown that healpix fits tables can be mapped to a hybrid spherical projection class that combines a cylindrical equal area projection at low latitudes with a collignon projection nearer the poles .",
    "the healpix pixels become perfect diamonds in this projection , and rotating the image space by 45@xmath0 maps the data into a standard pixel array ( with the penalty that half the space is empty ) .",
    "figures 1 and 2 of @xcite show the projection graphically .",
    "the wcslib package ( http://www.atnf.csiro.au/people/mcalabre/wcs/wcslib/ ) , which implements the wcs standard , includes a utility , hpxcvt , that converts healpix fits tables to fits pixel images , with a spherical projection identified by  hpx . \"",
    "this transformation involves no resampling of the data because the image pixels have a one - to - one correspondence with the healpix cells in the fits table . with the healpix data now written in a spherical projection in a fits",
    "file , montage simply treats it as another spherical projection .",
    "the wcstools library has been extended in montage to support the hpx projection ( although users who prefer to use the sao library will lose healpix support ) .",
    "visualization of healpix data then becomes straighftorward .",
    "the montage reprojection routines transform the fits images to the projection desired for visualization , and mviewer creates a png version of the reprojected image .",
    "two reprojection routines are applicable here .",
    "mproject redistributes flux from the input to the output pixels on the sky and is guaranteed to conserve flux . a new module in version 5 , mprojectql , uses the lanczos image interpolation scheme @xcite , also used by the swarp mosaic engine @xcite , to provide higher performance at the expense of conservation of flux ; we recommend mprojectql primarily for creating images for quick - look visualization rather than for science analysis .",
    "figure  [ planckhpx ] shows the planck all - sky map at 857 ghz map in hpx format , downloaded from the nasa / ipac infrared science archive ( http://irsa.ipac.caltech.edu ) and figure  [ planckait ] shows the same map after conversion to an aitoff projection , which is suitable for displaying all - sky maps .",
    "figure  [ planckrhooph ] shows an example of a small region of this map : rho oph in gnomonic projection image with 1 arcminute pixels in equatorial coordinates .",
    "supplementary tutorial 3 shows how to create these images .",
    "reprojected to the aitoff projection by montage.,width=576 ]",
    "the wwt is a visualization tool for astronomical data , developed by microsoft corporation @xcite .",
    "the american astronomical society ( aas ) assumed responsibility for its management in january 2016 , and at the same time released the code with an open - source license . the wwt windows and",
    "web client interfaces allow users to pan and zoom across the sky , and discover and visualize image surveys and pointed observations .",
    "version 5 of montage provides a mechanism for processing astronomy images so they comply with wwt s special requirements for consuming and displaying images .",
    "images must comply with the toast sky - partitioning scheme ( http://www.worldwidetelescope.org/docs/worldwidetelescopeprojectionreference.html ) .",
    "each toast pixel is itself a pair of triangles , as defined originally by the hierarchical triangular mesh ( htm ) indexing scheme developed by @xcite .",
    "the wwt also imposes requirements on the organization of files for consumption .",
    "the data must be jpeg or png files 256 x 256 pixels in size .",
    "the highest level of these files covers the entire sky .",
    "the next level is a set of four images covering longitude quadrants ( n - s pairs of htm octants ) , and so on to as fine a resolution as is required to display the data .    as is the case with healpix in section  [ he ]",
    ", montage has taken the approach of treating toast as another spherical projection , so its reprojection routines can process the image data as they would any spherical projection . because fits files containing toast projections can not be consumed by wwt directly , montage provides a set of dedicated utilities to create properly organized png files .",
    "thus , users can create visualizations of the images within wwt without knowledge of the wwt s special requirements .",
    "the next two subsections describe in more detail how to prepare the planck healpix maps data at 857 ghz for consumption by the wwt , and supplementary tutorial 4 ( see table  [ sst ] ) takes readers through this process step - by - step .          when viewed as a spherical projection ,",
    "htm and toast differ from standard spherical projections such as gnomonic and simple cylindrical , where the transformation between pixel sky coordinates is formulaic . determining which htm cell or toast pixel corresponds to a location on the sky requires starting with the base level htm octant triangles and  drilling down , \" finding arc midpoints , connecting them with great circle segments , and determining which subcell in a location is placed .",
    "the toast calculations may appear computationally intensive since they involve drilling down from the full sphere to htm vertices for every pixel corner .",
    "this apparent cost is , however , deceptive bacause the htm calculations involves a at most a few tens of dot- and cross - products with no trigonometric functions .",
    "in contrast to this , many datasets involve computation of tens of polynomial distortion coefficients in addition to such trigonometric and inverse trigonometric calculations as are needed for the projection itself . in practice ,",
    "the toast reprojections turn out to be similar in total compute time as those for many formulaic projections .",
    "another area where htm and toast differ from standard projections is that because they start with the whole sky and always subdivide the same way , only a discrete set of pixel scales are possible , and this impacts how the wcs parameters are managed and applied .",
    "parameters from wcs like cdelt cd , which ordinarily control the scale of the image , are only informational for toast . with htm , the level parameter controls the image scale and this is captured as keyword pv2_1 .",
    "table  [ toastheader ] in appendix  [ head ] shows the sample fits header used in the example in tutorial 4 .",
    "montage uses a custom modification of the wcstools package to support toast : users employing the wcs library directly from sao will lose the toast functionality .",
    "images processed in the toast projection,toa , \" are not well suited for direct visualization .",
    "figure  [ toapla ] is a toast representation of the 857 ghz planck sky map described in the last section .",
    "the image is mirror - imaged relative to a normal all - sky projection and there are discontinuities in the slopes of curves , best seen in the right ascension and declination lines",
    ".      the planck image in figure  [ toapla ] can not be consumed by wwt , even when represented as a png image , because it is not organized in the wwt tiling scheme : it shows the whole sky at htm level two ( 1024 x 1024 pixels ) and contains 4x4 toast tiles .",
    "montage therefore contains dedicated utilities for converting a toast fits file to a png file , organized and named as wwt requires .",
    "wwt expects to find a set of png images that are 256 x 256 pixels in size and processes whatever subset it requires for the region and zoom - level it is presenting .",
    "it starts with the single all - sky image for level 0 , four for level 1 , then 16 , 256 and 1024 for levels 3 , 4 and 5 .",
    "the planck example goes as far as level 5 , which corresponds to the intrinsic resolution of the planck original data .",
    "so to support consumption by the wwt , montage must produce a total of 1365 images , each of size 256 x 256 pixels .",
    "wwt supports several naming conventions for these files .",
    "montage generates them in a recursive  z - order pattern , \" which gives images names such as  planck.png \" ( for level zero ) , then  planck2.png , \"  planck23.png , \"  planck232.png \" and  planck2320.png .",
    "\" montage includes a dedicated set of utilities to create from a set of input images all the required png files , organized and named for consumption by the wwt .",
    "we anticipate that most astronomers will use the web version of wwt . in this case",
    ", there are two other steps needed .",
    "the png files must be copied to a url - accessible location , and an xml file describing the  image collection \" must also be made web - accessible .",
    "appendix  [ samplexml ] provides a sample xml file , which can be edited by users .",
    "figure  [ wwt ] shows the planck map processed to meet the wwt s requirements and presented in the wwt web interface .",
    "this paper shows how the montage image mosaic engine is applicabie to the field of visualization .",
    "the scalable toolkit design has allowed integration into visualization systems , usually to reproject and resample images at multiple wavelengths or for presentation in a client or browser .",
    "a visualization tool mviewer supports automated creation of jpeg and png representations of fits images and integration with python .",
    "it enables the creation of images with overlays with a single call , and includes an adaptive image stretch algorithm that preserves the dynamic range of the image .",
    "visualizations contained in this paper with mviewer can be recreated and extended in five online tutorials . a background - matching algorithm that models the variations in sky brightness across a mosaic",
    "rectifies the background to a common level and enables the faint structure in an image to be more readily seen .",
    "utilities for creating cutouts and downsampled versions of images are useful for visualizing large images .",
    "version 5 of montage offers support for visualizing data written in healpix sky - tessellation scheme , and functionality for processing and organizing images to comply with the toast sky - tessellation scheme , as required for consumption by the wwt .",
    "montage is funded by the national science foundation under grant number aci-1440620 , and was previously funded by the national aeronautics and space administration s earth science technology office , computation technologies project , under cooperative agreement number ncc5 - 626 between nasa and the california institute of technology .",
    "the galactic alfa hi ( galfa hi ) survey data set was obtained with the arecibo l - band feed array ( alfa ) on the arecibo 305 m telescope .",
    "arecibo observatory is part of the national astronomy and ionosphere center , which is operated by cornell university under cooperative agreement with the u.s .",
    "national science foundation .",
    "the galfa hi surveys are funded by the nsf through grants to columbia university , the university of wisconsin , and the university of california .",
    "the authors thank the aws ska astrocompute program for the award of educational credits to support the processing of galfa data .",
    "this research has made use of the nasa/ ipac infrared science archive , which is operated by the jet propulsion laboratory , california institute of technology , under contract with the national aeronautics and space administration .",
    "this publication makes use of data products from the two micron all sky survey , which is a joint project of the university of massachusetts and the infrared processing and analysis center / california institute of technology , funded by the national aeronautics and space administration and the national science foundation .",
    "funding for the creation and distribution of the sdss archive has been provided by the alfred p. sloan foundation , the participating institutions , the national aeronautics and space administration , the national science foundation , the u.s .",
    "department of energy , the japanese monbukagakusho , and the max planck society .",
    "the sdss web site is http://www.sdss.org/. the participating institutions are the university of chicago , fermilab , the institute for advanced study , the japan participation group , the johns hopkins university , the max planck institute for astronomy ( mpia ) , the max planck institute for astrophysics ( mpa ) , new mexico state university , princeton university , the united states naval observatory , and the university of washington .",
    "we wish to thank dr .",
    "j. bally and mr .",
    "j. e. allured for permission to quote results prior to publication .",
    "we thank dr .",
    "b. rusholme for his collaboration in processing the galfa data , dr .",
    "j. pepper for permitting us to use the unpublished figure  [ kelt ] , and ms .",
    "marcy harbut for editorial assitance with the manuscript .",
    "this appendix presents a sample fits file contains the header information required by the toast projection for subsequent presentation in the wwt .",
    "all the htm calculations that create values recorded in this header are computed to a level that is equivalent to a spatial scale of a fraction of a milliarcseconds , adequate for visualization .",
    "lll naxis & number of axes & 2 + naxis1 & size of axis 1 & 256 + naxis2 & size of axis 2 & 256 + ctype1 & name of the coordinate axis 1 & ra ",
    "toa + ctype2 & name of the coordinate axis 2 & dec  toa + crpix1 & coordinate system reference pixel along axis 1 & -3072.50 + crpix2 & coordinate system reference pixel along axis 2 & -1536.50 + pv2_1 & parameter describing image projection & 5 + xtile & tile coordinates & 12 + ytile & tile coordinates & 6 + cdelt1 & coordinate increment along axis 1 & 1.00 + cdelt2 & coordinate increment along axis 2 & 1.00 + crval1 & coordinate system value at reference pixel & 0 .",
    "+ crval2 & coordinate system value at reference pixel & 0 .",
    "+ pc1_1 & pc matrix element & 1.00 + pc1_2 & pc matrix element & 0.00 + pc2_1 & pc matrix element & 0.00 + pc2_2 & pc matrix element & 1.00 + [ toa ]    notes :    * keywords of the type pv_m were introduced into the fits standard to take account of non - linear parameter values for those projections that required them @xcite , and usage is custom to the projection in use . in the case of toas , pv2_1 is used here to describe the htm level ; that and the requirements of the toast file organization scheme drive the values of the keywords in the header . *",
    "the toast tiles for consumption by the wwt are always 256 x 256 pixels in size and are arranged in a regular xy array .",
    "we have included the `` tile coordinates '' in the parameters xtile and ytile , though these are not used in the computation .",
    "they are for informational use only . *",
    "the parameters cdelt , crval , and the pc matrix are all fixed boilerplate values , but the montage instance of wcstools requires that they are present . * the crpix values represent the pixel offset from the first pixel in the file and the edge of the `` untiled '' image for this htm level ( e.g. , -256 * xtile - 0.5 ) .",
    "the wwt web interface requires an xml file describing the set of files for consumption them .",
    "this sample xml file can be edited by users to descibe their own collections .",
    "< imageset generic=\"false \"              datasettype=\"sky \"              bandpass=\"microwave \"              name=\"planck 857 ghz \"              url=\"http://montage.ipac.caltech.edu / workspace / planck/857/planck{q}.png \"              basetilelevel=\"0 \"              tilelevels=\"5 \"              basedegreespertile=\"180 \"              filetype=\".png \"              bottomsup=\"false \"              projection=\"toast \"              quadtreemap=\"0123 \"              centerx=\"0 \"              centery=\"0 \"              offsetx=\"0 \"              offsety=\"0 \"              rotation=\"0 \"              sparse=\"false \"              elevationmodel=\"false \"              stockset=\"false \" >                      bertin , e. , mellier , y. , radovich , m. , missonnier , g. , didelon , p. , & morin , b.  2002 , astronomical data analysis software and systems xi , asp conference proceedings , vol . 281 ( edited by david a. bohlender , daniel durand , and thomas h. handley . ) , 281 .",
    "jacob , j.  c. , katz , d.  s. , berriman , g.  b. , good , j.  c. , laity , a.  c. deelman , e. , kesselman , c.   k. , singh , g. , su , m. h. , prince , t. a. & williams , r.  2010 .",
    "j. computational science and engineering .",
    "4 ( 2 ) , 1 .",
    "meade , m.  r. , whitney , b.  a. , babler , b.  l. , benjamin , r. , churchwell , r.  i .. , robitaille , t. , & cohen , m.  2014 , `` glimpse360 data description . ''",
    "( http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.383.8680&rep=rep1&type=pdf )",
    "szalay , a.  s. , gray , j. , fekete , g. , kunszt , p.  z. , kukol , p.  z. , & thakar , a.  2005 , microsoft research technical report msr - tr-2005 - 123 ( https://www.microsoft.com/en-us/research/publication/indexing-the-sphere-with-the-hierarchical-triangular-mesh/ )"
  ],
  "abstract_text": [
    "<S> the montage image mosaic engine was designed as a scalable toolkit , written in c for performance and portability across * nix platforms , that assembles fits images into mosaics . </S>",
    "<S> the code is freely available and has been widely used in the astronomy and it communities for research , product generation and for developing next - generation cyber - infrastructure . </S>",
    "<S> recently , it has begun to finding applicability in the field of visualization . </S>",
    "<S> this has come about because the toolkit design allows easy integration into scalable systems that process data for subsequent visualization in a browser or client . and </S>",
    "<S> it includes a visualization tool suitable for automation and for integration into python : mviewer creates , with a single command , complex multi - color images overlaid with coordinate displays , labels , and observation footprints , and includes an adaptive image histogram equalization method that preserves the structure of a stretched image over its dynamic range . </S>",
    "<S> the montage toolkit contains functionality originally developed to support the creation and management of mosaics but which also offers value to visualization : a background rectification algorithm that reveals the faint structure in an image ; and tools for creating cutout and downsampled versions of large images . </S>",
    "<S> version 5 of montage offers support for visualizing data written in healpix sky - tessellation scheme , and functionality for processing and organizing images to comply with the toast sky - tessellation scheme required for consumption by the world wide telescope ( wwt ) . </S>",
    "<S> four online tutorials enable readers to reproduce and extend all the visualizations presented in this paper . </S>"
  ]
}