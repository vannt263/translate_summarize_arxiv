{
  "article_text": [
    "we prove the existence of an allocation rule of the following ( optimal ) tail .",
    "[ main ] for @xmath0 there exists a @xmath4 and an allocation rule @xmath5 for the poisson point process such that @xmath6 \\leq \\exp   ( -cr^d).\\ ] ]    from now on , _ we always assume that _ @xmath0 .",
    "consider poisson point process of intensity 1 in @xmath7 .",
    "an allocation rule is , informally , a rule to partition the space into finite pieces , each of equal measure , and to give a bijection between the poisson points and the pieces , in such a way that the partition is ( deterministically ) determined only by the point configuration , and the rule is _",
    "equivariant_. that is , for any configuration point @xmath8 , for any @xmath9 there is an @xmath10 such that with probability at least @xmath11 a cell of @xmath8 can be determined by looking at the configuration points in the @xmath10-neighborhood of @xmath8 , and this cell has hausdorff distance at most @xmath12 from the cell assigned to @xmath8 by the allocation rule .",
    "this latter property is the requirement of _ measurabilty _ of the allocation rule .",
    "even more informally , in the allocation problem we want to divide land to a set of farmers scattered in space , and in such a way that each farmer can determine his own land up to a small error , by looking around a big enough neighborhood , and this rule is the same for everybody .",
    "one wants to find an allocation rule where the maximal distance a farmer has to walk ( fly ) to arrive to any point of his land is minimal .",
    "that is , we want the tail @xmath6\\ ] ] decay as fast in @xmath13 as possible , where @xmath14 denotes the cell of @xmath15 ( conditioned on having a configuration point in @xmath15 ) .",
    "the allocation problem was first studied in a finite setup , where finitely many points are distributed uniformly and independently in a box . here",
    ", of course , the requirement of equivariance is meaningless .",
    "we will present later a variant of the algorithm by ajtai , komls and tusndy @xcite , which was the starting point of all later methods . for @xmath16",
    "uniformly independently distributed points in a cube of volume @xmath16 , it was proved ( @xcite ) that the average diameter of an allocation cell is @xmath17 for @xmath18 and finite for @xmath0 ; and precise rates were determined subsequently ( see @xcite for details and the sharpest results ) .",
    "interest in the infinite setup originated from the existence of a shift - coupling between a point process and its palm version , see e.g. @xcite , @xcite .",
    "it was first asked in @xcite , what the optimal tail of a _",
    "nonrandomized _ allocation rule is . in the same paper",
    "it was shown that constructing extra head rules and invariant allocations are equivalent , furthermore a _",
    "randomized _ invariant allocation rule of optimal tail decay was presented .",
    "deterministic constructions have been an active research area ever since , allocation rules with respect to additional conditions have been subject of recent analysis ( e.g. stability @xcite , connectedness @xcite ) .",
    "the best previously known allocation rule for @xmath0 was the _ gravitational allocation _",
    ", investigated in @xcite , @xcite , where the tail is @xmath19= \\exp ( -r^{1+o ( 1)})$ ] .",
    "the assumption @xmath0 is necessary for an exponential tail by @xcite , where @xmath20=\\infty$ ] is proved for @xmath21 .",
    "the brief reason for the drastic change of behaviour from dimension 3 is that here the isoperimetric function of @xmath7 becomes larger in magnitude than the deviation of the number of points in a ball . for the existence of optimal allocations with respect to other quantities ( e.g. , the integral of the distance of a center from the points of the cell ) and connections to optimal transport ,",
    "see @xcite .    * definition ( allocation ) * let @xmath22 be the set of discrete sets of points in @xmath23 .",
    "the points of an @xmath24 are called _",
    "an _ allocation _ is a function @xmath25 such that    * for every @xmath26 , @xmath27 takes values from @xmath28 .",
    "* for lebesgue almost every @xmath29 there is exactly one @xmath30 such that @xmath31 . * for every @xmath26 , @xmath32 .    without assumption @xmath33",
    "we call @xmath5 a _ weak allocation_. we say that @xmath34 is a _ weak fractional allocation _ , if the following @xmath35 and @xmath36 hold , and a _ fractional allocation _ if @xmath35 , @xmath36 and @xmath33 hold :    * for every @xmath26 , @xmath27 takes values from @xmath37 $ ] .",
    "* for lebesgue",
    "almost every @xmath38 , @xmath39 .",
    "sometimes it will be natural to think about a ( fractional ) allocation @xmath40 as a family @xmath41 of functions .",
    "0.5 cm    consider an allocation , weak allocation or fractional allocation @xmath5 , and @xmath30 . by a slight abuse of notation we define the _ diameter _ of @xmath42 as @xmath43 .",
    "( note that this is slightly different from the usual diameter of the _ set _",
    "@xmath44 ) . we denote it as @xmath45 .",
    "we will also use diameter in the usual context .",
    "there will be no danger of ambiguity ; what matters is that when we are talking about the diameter of a cell , we always include the corresponding center to the cell , for simplicity of notation .",
    "0.5 cm    * definition ( allocation rule ) * let @xmath46 be the poisson point process of intensity 1 in @xmath7 .",
    "an _ allocation rule _ is a mapping @xmath47 that is defined for @xmath48-almost every @xmath24 , measurable ( with respect to the relevant @xmath49-algebras ) , and such that : ( i ) almost surely @xmath50 is an allocation , and ( ii ) the mapping @xmath47 is translation - equivariant , i.e. for any @xmath24 , @xmath51 and @xmath52 we have @xmath53 define _ weak _ , _ fractional _ and _ weak fractional allocation rules _ analogously .",
    "0.5 cm we want to define an allocation rule in such a way that the probability @xmath54 $ ] decays as fast as possible . by translation invariance",
    "we could have taken any other fixed @xmath55 instead of @xmath15 , and the tail would be the same .",
    "we will use notation @xmath56 for the translate of @xmath57 by @xmath58 ( so @xmath26 implies @xmath59 ) .    define @xmath60 , and @xmath61 as the palm version of the probability measure of the poisson point process ( and @xmath62 the corresponding expectation ) .",
    "it is well known that @xmath63=\\p [ e]$ ] for every measurable @xmath64 inside @xmath22 .",
    "0.5 cm in several papers ( @xcite,@xcite ) a different problem is in the focus of interest .",
    "suppose we have an allocation rule @xmath47 , this defines a unique configuration point @xmath65 with @xmath66 almost surely .",
    "the objective in this setup is again to obtain a rule with optimal tail bound , this time for the random variable @xmath67 .",
    "our setup is stronger than this one and applies to this optimization problem , since @xmath68 @xmath69 where the last equation follows from theorem 13 in @xcite , which verifies that @xmath70 is a nonrandomized extra head scheme .",
    "in fact , imagine an allocation rule when most cells consist of ball - like pieces of almost unit volume , and a small extra piece far away from this one .",
    "for such an allocation , the quantity on the left of ( [ coupling ] ) decays fast , while on the right we may have slow decay .    0.5 cm    let us sketch the ( surprisingly simple ) construction briefly , before going into the details .",
    "first , we will define a weak allocation scheme associated to a @xmath71 , which will not necessarily be invariant .",
    "this will be based on a straightforward generalization of the algorithm of ajtai , komls and tusndy ( _ akt algorithm _ ) , @xcite , which assigns equal volume to each of @xmath16 points in a box @xmath72 of volume @xmath16 , in such a way that the pieces partition @xmath72 .",
    "furthermore , if the points are scattered uniformly and independently ( which is the same as the poisson case , conditioned on that there are @xmath16 points in @xmath72 ) , then the average diameter of a piece has asymptotically same tail behavior as in theorem 1 ( regardless of @xmath16 ) .",
    "the algorithm proceeds as follows .",
    "subdivide @xmath72 to dyadic cubes , until each cube contains at most one configuration point . then , starting from the level of smallest cubes , match cubes with each other in the simplest possible way ( so that the resulting pairs are all translates of one another ) , and translate the  wall \" between each pair in an affine way , together with the configuration points inside , and in such a way that the volumes after the translation are proportional to the number of points in the respective parts .",
    "( see figure [ abra ] and section 2 for more details . )",
    "call the procedure again for the next level ( with cuboids of edge lengths @xmath2 and @xmath73 ) , and repeat , until reaching the biggest cube .",
    "the resulting cells all have equal volumes , and we assign each such cell to the original configuration point whose image after the repeated translations is in the cell",
    ".    the akt weak allocation in an infinite setup will work as follows .",
    "( this will not be a weak allocation rule yet , because equivariance fails . )",
    "assume for a second that the partition @xmath74 is such that each class ( cube ) contains at most one configuration point from @xmath57 .",
    "then we can repeatedly apply the previous procedure , with cubes in the @xmath75th stage coming from the partition @xmath76 , as @xmath77 .",
    "say that we _ ran the akt(v ) algorithm up to stage _",
    "@xmath16 for the result of this weak allocation .",
    "we can remove the assumption that each class of @xmath74 contains at most 1 point from @xmath57 : simply subdivide diadically those unit cubes @xmath72 where @xmath78 repeatedly , and for each @xmath72 start the akt procedure from the lowest level of this subdivision ( but still run it up to @xmath79 ) .",
    "next we will define an _",
    "weak fractional allocation from the above allocations .",
    "fix @xmath80 , and define the following deterministic functions of @xmath81 ( we will often hide the dependence on @xmath81 for simplicity ) . for @xmath82 , let @xmath83 be the indicator function for the cell of the origin constructed by akt(@xmath84 ) run up to stage @xmath16 .",
    "note that @xmath85 since the sequence of cubes up to stage @xmath16 given by such a @xmath86 and @xmath84 is the same .",
    "now , define @xmath87^d } f_{v , n } dv , \\label{f_n}\\ ] ] a function from @xmath7 to @xmath37 $ ] .",
    "this is well defined ( the integral exists ) , by lemma  [ lemma2 ] below .",
    "we will prove that the @xmath88 have an @xmath89 limit @xmath90 , and that it is a function of integral 1 . from the properties of the akt construction ( lemma  [ fontos ] below ) we will get that the diameter of this limit has the tail that we want .",
    "we will conclude that the map @xmath91 ( @xmath92 ) defines a fractional allocation rule with the desired tail .",
    "finally , we will define an allocation from the above fractional allocation .",
    "it will be such that the support of the allocation function corresponding to a configuration point @xmath8 is contained in the support of the fractional allocation function @xmath93 corresponding to the point .",
    "this step ( lemma  [ final ] ) will be based on the fact that almost every point of @xmath7 is contained in the support of only finitely many functions of the fractional allocation defined above .    in the next section",
    "we give a summary of the akt construction , presenting the generalized version that we are using , together with the necessary bounds for the expected diameter and concentration around it .",
    "the third section continues with the sequence of invariant weak allocations , the limiting fractional allocation , and finally , the allocation rule that satisfies theorem  [ main ] .",
    "the translates of the centers indicate how the cells will be assigned to the original centers.,title=\"fig:\",width=283 ]",
    "our main tool is the so - called ajtai - komls - tusndy transport scheme which leads to allocation in a fixed cube .",
    "we will generalize the approach for the infinite setting .",
    "take the poisson point process and the fixed cube @xmath94^d$ ] for some @xmath95 ( see figure [ abra ] ) .",
    "assume that there is at most @xmath96 configuration point in each dyadic cube in @xmath97^d : 0 \\leq k_i \\leq 2^n-1   \\textrm { for } 1 \\leq i \\leq d   \\}$ ] .",
    "for the first step , consider the cuboids @xmath97^{d-1}\\times [ 0,2 ] : 0 \\leq k_i \\leq 2^n-1 \\textrm { for } 1 \\leq i \\leq d-1   \\textrm { and } 0 \\leq k_d \\leq 2^{n-1}-1\\}$ ] and take the bisector hyperplane orthogonal to the @xmath98th axis of each of these cuboids , and move them along the @xmath98th axis until the volume ratio of the two halves gets equal to the ratio of configuration points inside them , and transform the respective interiors affinely ( do this separately for each of the cuboids ) .",
    "now proceed to the second step , consider the cuboids @xmath97^{d-2}\\times [ 0,2]^2 : 0 \\leq k_i \\leq 2^n-1   \\textrm { for } 1 \\leq i \\leq d-1 \\textrm { and } 0 \\leq k_{d-1 } , k_d \\leq   2^{n-1}-1\\}$ ] and take their bisector hyperplanes orthogonal to the @xmath99th axis , and move them like before , for each cuboid separately , interiors transform affinely .",
    "continue this procedure of transformation of cuboids always of double size until the cube @xmath94^d$ ] is reached ( at this last step we have only one cube to consider ) .",
    "the result is a partition of @xmath94^d$ ] , where the cells are transformations of the initial cubes with exactly one translated configuration point inside them , and all cells have equal volume .",
    "the cells can be assigned to the untranslated configuration points through the transformed ones inside them .",
    "let us call each transformation a _ step _ , as above , and the @xmath98-tuple of the first @xmath98 steps , the @xmath98-tuple of the second @xmath98 steps etc .",
    "_ stages_.    some care has to be taken when our assumption does not hold , i.e. there are initial cubes with more than one configuration point , call them `` bad '' . in that case consider each `` bad '' initial cube separately . subdivide them one - by - one dyadically until all the subcubes of sidelength @xmath100 contain at most one configuration point .",
    "this @xmath101 exists almost surely for each unit cube ( but we will hide dependence on the unit cube ) , so the following is well - defined .",
    "first , run the natural scaled version of the previous algorithm in the `` bad '' cubes of sidelength @xmath96 .",
    "this algorithm will equipartition these cubes . then run the previous algorithm as before , for each cube of sidelength @xmath96 ( transforming cells within `` bad '' cells affinely ) with considering all walls inside the bad cubes .",
    "this will result , similarly as before , an equipartition of @xmath94^d$ ] into cells assigned to the original configuration points . for notational purposes index the initial steps in the `` bad '' cubes with @xmath102 .",
    "given a @xmath71 , we can run the above transport scheme for each @xmath103 box of @xmath104 .",
    "the resulting partition of @xmath7 is what we called the akt(@xmath84 ) run up to stage @xmath105 .",
    "( of course , it is by no means an invariant partition , since it depends on @xmath84 . )",
    "we define the _ @xmath84-partition sequence _ as the series of coarser and coarser partitions determined by @xmath106,@xmath107 ,  , @xmath108 ,  with @xmath109 .",
    "in each stage there is exactly @xmath96 step along each of the @xmath98 axis .",
    "also , steps along different axis are independent .",
    "therefore if we want obtain an upper bound on the total movement of a point @xmath110 , steps along different axis can be treated separately .",
    "condition now on @xmath111 , and let @xmath112 be the cell assigned to @xmath15 by akt(@xmath84 ) run up to stage @xmath16 .",
    "let @xmath113 be the indicator function of @xmath112 . according to the sketch of our construction , in order to prove theorem [ main ]",
    ", we have to study first the tail behavior of @xmath114 .",
    "after @xmath16 stages , we can think of the cell @xmath112 as the transformed initial cube of @xmath15 after @xmath115 affine transformations ( @xmath116 respectively , if @xmath15 was in a bad cube ) .",
    "hence , we can bound the diameter of @xmath117 by bounding first the total shift of @xmath15 after @xmath16 stages , and bounding the length of the edges of @xmath112 .",
    "the next lemma is standard , we prove it only for completeness .",
    "[ cher ] let @xmath118 be a random variable with poisson distribution of mean @xmath119 .",
    "then if @xmath120 then @xmath121    note that the moment generating function of @xmath118 is : @xmath122 for one side @xmath123 @xmath124 where @xmath125 , and we used markov s inequality .",
    "now , for @xmath126 we have @xmath127 , so @xmath128 the last expression is minimized by @xmath129 , so @xmath130 for the other bound : @xmath131 @xmath132 where @xmath125 , and we used again markov s inequality .",
    "now , for @xmath133 we have @xmath134 , so @xmath135 the last expression is minimized by @xmath136 , so @xmath137    for a measurable subset @xmath138 , let @xmath139 denote the number of configuration points of the poisson point process in @xmath72 .",
    "the next lemma delivers the desired information about the displacement of configuration points .",
    "[ shift ] there exist @xmath140 such that for all @xmath141 there exists an event @xmath142 such that    1 .",
    "2 .   on @xmath142 ,",
    "for every @xmath16 , the total movement of @xmath15 in the akt(@xmath84 ) run up to stage @xmath16 is at most @xmath13 , for all @xmath109 .",
    "3 .   on @xmath142 ,",
    "the total length of the shifts of @xmath15 in the @xmath75th stage is at most @xmath144 , and @xmath145 is absolutely summable .    as we do not wish to optimize on the constants",
    ", we may prove the lemma only for @xmath146 for some suitable @xmath147 .",
    "that implies the lemma for every @xmath13 , possibly with different constants .",
    "fix @xmath148 and @xmath149 , @xmath150 will be determined later .",
    "we remark that @xmath142 will depend on this arbitrarily chosen reference point @xmath84 , therefore it should be the same for all @xmath13 .",
    "our analysis will loosely follow the argument of talagrand and yukich @xcite , although we are allowed to use less sophisticated methods ( i.e. triangle inequality ) , as sizes of displacements induced by points of increasing distance decay much more rapidly in @xmath151 than in @xmath18 . instead , we have to achieve uniform bounds regarding the @xmath84-partition sequences .    as ,",
    "informally speaking , shifts of @xmath15 in each direction at one particular stage depend only on the number of configuration points in cuboids , and these cuboids have comparable volumes in the particular stage , it is enough to consider only shifts along the first axis , the others can be treated completely analogously with essentially the same bounds on the length of displacement of points , with the same probabilities . for bounding the size of total shift",
    "it is then enough to use triangle - inequality .",
    "we will define an event @xmath152 , that delivers bounds on the number of configuration points in both halves of finitely many cubes for each @xmath153 ( @xmath154 to be determinded later ) (  left \" and  right \" ) with the following three properties : the cube has corners in @xmath155 , sidelength @xmath156 and contains the origin .",
    "the second parameter of the event @xmath157 refers to the direction of the shifts in consideration .",
    "this conditioning will imply bounds on the number of configuration points in _ all _ cubes of sidelength @xmath158 containing @xmath15 ( i.e. not necessarily only for those with vertices in @xmath159 ) .",
    "let @xmath154 be such that @xmath160 ; and for @xmath161 , @xmath162 and @xmath163 let @xmath164 denote the @xmath165th cube with vertices in @xmath159 of sidelength @xmath166 containing the origin ( we assume that the cubes are numbered in some arbitrary way ) , @xmath167 its left side , @xmath168 its right side ; and @xmath169 denote the @xmath170th cube with vertices in @xmath159 of sidelength @xmath171 containing the origin , @xmath172 and @xmath173 denote the two halves respectively .",
    "let @xmath174 be the event , when all the following hold : @xmath175 @xmath176 and @xmath177 @xmath178 for all @xmath161 , @xmath162 , @xmath179 , @xmath180 to be defined later .",
    "+ first , we establish an upper bound on @xmath181 .",
    "the distribution of , @xmath182 and @xmath183 according to the palm version of the poisson point process is poisson with mean @xmath184 , and that of @xmath185 and @xmath186 is poisson with mean @xmath187 .",
    "thus we can use lemma [ cher ] ( noting , that @xmath188 for all @xmath189 ) and a simple union bound to get : @xmath190 @xmath191 now set @xmath192 .",
    "then @xmath193 @xmath194 observe that the first term in the last series is at most @xmath195 ; and that for @xmath196 large enough ( and by that @xmath154 large enough ) the last series can be dominated by a geometric series with common ratio smaller than @xmath96 , and therefore the sum is at most constant times the aformentioned first term .",
    "hence there exist constants @xmath197 , such that for every @xmath146    @xmath198    now let us assume that @xmath189 throughout the following computation .",
    "let @xmath199 be an arbitrary cube of sidelength @xmath158 containing @xmath15 , @xmath200 its left and @xmath201 its right side . then",
    ", when conditioned on @xmath174 and @xmath15 being a configuration point , the following is true : @xmath202    we can show this by making an easy observation : there is a cube @xmath203 of sidelength @xmath171 with vertices in @xmath159 so that @xmath204 , and a cube @xmath205 of sidelength @xmath166 with vertices in @xmath159 so that @xmath206 ; and analogously the same is true for @xmath201 ( note , that @xmath207 and @xmath208 are not necessarily two halves of the same cube ) .",
    "note that @xmath209 the summands can be bounded using monotonicity of @xmath210 and the bounds provided by @xmath174 by its definition :    @xmath211 @xmath212.\\ ] ] we make the following remark about @xmath180 : @xmath213 now @xmath214 for @xmath16 positive , and @xmath215 only depends on @xmath98 ( for example @xmath216 ) ; and @xmath217 as @xmath218 , so @xmath219    the second term is bounded by @xmath220    if @xmath196 for @xmath150 is suitably large , and therefore @xmath221 suitably greater than @xmath222 for @xmath223 , then symmetry implies that @xmath224    let @xmath225 be an arbitrary point in @xmath226 , and consider the @xmath225-partition sequence .",
    "let @xmath86 be a point in the smallest cell of @xmath15 , and let @xmath227 denote its signed shift in the @xmath16th stage of the akt(@xmath225 ) along the first axis .",
    "then , by the observation that until the @xmath16th stage every displacement takes place inside a cube of sidelength @xmath158 and by the choice of @xmath154 , we have    @xmath228 if we start the algorithm from the level of cubes of sidelength @xmath100 , where @xmath101 is some non - negative integer . for @xmath189 , @xmath229 , where @xmath230 is the @xmath231 grid cube containing @xmath15 , @xmath232 its left and @xmath233 its right half ; and",
    "@xmath234 is the relative distance of @xmath86 to the bisector of @xmath230 orthogonal to the first axis before the @xmath16th stage .",
    "conditioned on @xmath174 and @xmath15 being a configuration point we have then : @xmath235 @xmath236 @xmath237 since @xmath238 by the choice of @xmath154 .",
    "thus we have that , conditioned on the event @xmath174 and @xmath15 being a configuration point , for every @xmath239 and every @xmath86 in the smallest cell containing @xmath15 in the @xmath225 partition sequence ( and in particular , for @xmath240 ) the total shift of @xmath86 along the first axis is at most @xmath13 . additionally , we get that on @xmath174 the length of the shift in the @xmath16th stage for @xmath241 along the first axis is at most @xmath242 . for convinience ,",
    "let @xmath243 for @xmath244 , which is the trivial upper bound for @xmath245 .",
    "the constructed sequence @xmath246 is absolutely summable , since @xmath247 is finite almost surely .    for @xmath248 one can define the events @xmath249 similarly , to bound lengths of the shifts along the @xmath75th axis .",
    "we use the same @xmath221 series , and the bounds on the probability of the complement events and lengths of shifts hold here , too .",
    "now define @xmath250 this satisfies the conditions of the lemma , and the proof is finished .",
    "fix @xmath146 and the corresponding event @xmath142 from lemma [ shift ] .",
    "the following lemma tells us that the measure of the cell assigned to @xmath15 by akt(@xmath84 ) run up to stage @xmath16 tends to 1 with @xmath16 .",
    "this is yet a simple consequence of the fact that the number of poisson points in a cube is concentrated around the volume of the cube .",
    "the only extra technicality is coming from the fact that we want to prove convergence of the cell volumes uniformly in @xmath84 , but this can be done the same way as in the proof of lemma [ shift ] ( using approximating cubes that belong to some countable family ) , hence we omit the details .",
    "[ egyseg ] on @xmath142 from lemma [ shift ] the cell @xmath112 of @xmath15 according to akt(@xmath84 ) satisfies @xmath251 where convergence is uniform in @xmath84 .",
    "next we consider the sidelengths of the cells during the procedure , to have a full control on the diameter of @xmath252 .",
    "let @xmath253 denote the vector , whose @xmath75th coordinate is the @xmath75th sidelength of the cell @xmath112 .",
    "let @xmath254 denote the maximum norm and @xmath255 denote maximal volume of the @xmath99-dimensional faces of @xmath112 .    on @xmath142 , in each considered cuboid there are at least half as many , and at most twice as many configuration points as expected ( i.e. the volume of the cuboid ) .",
    "so , by the fact that after each akt(@xmath84 ) step the cells in the currently considered cuboids have equal volume , we have @xmath256 for all @xmath257 .",
    "so for the @xmath99-dimensional volume of the faces of @xmath112 we have @xmath258 .",
    "[ shape1 ] conditioned on @xmath142 as in lemma [ shift ] , @xmath259 is bounded from above by @xmath260 uniformly in @xmath84 , where @xmath261 is a constant .",
    "it is clear that @xmath262 for @xmath263 , because transformations of the cell only happen inside a cube of sidelength @xmath264 .    for @xmath265 @xmath266 because in each stage one sidelength can change in at most one step , and in each step of the @xmath16th stage a sidelength can change at most to @xmath267 times its size on @xmath142",
    "this implies , that @xmath268 @xmath269 for some universal constant @xmath270 .",
    "[ shape2 ] conditioned on @xmath142 , @xmath271 for @xmath272 , where @xmath273 is an absolutely summable real sequence with sum at most @xmath274 .    from the previous proposition",
    "we know that @xmath275 , which implies that all components of the vector are at most @xmath260 . in each stage",
    "all sidelengths can change at most once . as we are in @xmath142 ,",
    "this change is within factors @xmath276 and @xmath277 in the @xmath16th stage .",
    "then it follows , that @xmath278 . the @xmath279 series is ( absolutely ) summable and @xmath280 , for some @xmath281 constant , which proves the claim .",
    "[ fontos ] there exist @xmath140 such that for all @xmath141 there exists an event @xmath142 such that    1 .",
    "2 .   conditioned on @xmath142 , the diameter of the cell @xmath112 of @xmath15 in the akt(@xmath84 ) ran up to stage",
    "@xmath16 is at most @xmath283 , for all @xmath284 .",
    "3 .   on @xmath142",
    "we have @xmath285 , for @xmath241 , where the series @xmath286 is absolutely summable .",
    "again , the constants do not depend on @xmath84 .",
    "we take the same events @xmath142 as in lemma [ shift ] , therefore ( _ i ) _ is satisfied .",
    "( _ ii ) _ will be satisfied by the following upper bound on the diameter using lemma [ shift ] and proposition [ shape1 ] : @xmath287    to verify that ( _ iii ) _ holds , let us fix @xmath241 . consider the transformations of the cell of @xmath15 occurring during the steps of the @xmath16th stage .",
    "there are @xmath98 steps , and all can be treated similarly , so we only consider the step along the first axis .",
    "let @xmath288 denote the cell before this step , and @xmath72 thereafter .",
    "we introduce an auxiliary cell @xmath289 : if @xmath290 is the shift vector of @xmath15 in this step , then @xmath291 . we bound first @xmath292 .",
    "@xmath293 where we used the assertion about the maximal volume of a face in proposition [ shape1 ] and the bound on the length of shifts of @xmath15 provided by the definition of @xmath142 ( see the proof of lemma [ shift ] ) .",
    "now we bound @xmath294 using proposition [ shape2 ] : @xmath295 as both bounds considered as series are absolutely summable , it is now easy to obtain @xmath286 summing the volume differences of the @xmath98 steps of the considered stage and using triangle inequality .",
    "let @xmath296 be as in lemma  [ fontos ] _",
    "( iii)_. then we have @xmath297 and the sum of the @xmath296 over @xmath16 is finite . let @xmath142 be as in the same lemma .",
    "recall that @xmath298 was defined as the indicator function of the cell of the origin , where the cell is the result of akt(@xmath84 ) run up to stage @xmath16 , and @xmath299 is a configuration containing the origin .",
    "a point of discontinuity @xmath84 is necessarily such that 0 is on some hyperplane @xmath304 orthogonal to an axis defined as @xmath305 for some @xmath306 , @xmath307 , and @xmath308 with some @xmath309 .",
    "this @xmath310 is the biggest nonpositive integer such that inside the cube of 0 in @xmath311 every cube of @xmath312 contains at most 1 configuration point .",
    "it is easy to check that almost surely there is an @xmath313 with this property that works for every @xmath84 .",
    "fix @xmath13 , and suppose that @xmath316 . if we prove the proposition for @xmath13 , and show that on @xmath142 the diameter of @xmath317 is bounded by @xmath274 with some @xmath2 independent of @xmath13 , then the bound in the proposition follows .",
    "note that @xmath142 is a monotone increasing family of events that exhausts a subset of measure 1 of @xmath318 .",
    "moreover , it is clear from the definition that the function f defined for an @xmath316 does not depend on @xmath13 ( so we can define it automatically for any element of the increasing union @xmath319 ) .    for @xmath320 , @xmath321 , let @xmath322^d } f_{v , n } dv .\\ ] ] in particular , @xmath323 .",
    "then @xmath324 if @xmath325 , then @xmath326 by ( [ e-1 ] ) ( the two integrated functions are the same ) .",
    "we have @xmath327^d } f_{v , n } dv-2^{-\\tilde n d}\\int   _ { u+[0,2^{\\tilde n}]^d } f_{v,\\tilde n } dv||_1\\leq   2^{-\\tilde n d}\\int _ { u+[0,2^{\\tilde n}]^d } ||f_{v , n}-f_{v,\\tilde n } ||_1   dv$ ] , and similarly for @xmath328 . by lemma  [ fontos ] @xmath329 this latter is bounded by @xmath330 .",
    "thus the triangle inequality gives @xmath331 using ( [ e0 ] ) this implies @xmath332 on the other hand , for any @xmath333 , @xmath334 , @xmath335 the first term on the right is @xmath336 by ( [ e3 ] ) , the second term is @xmath337 by lemma  [ fontos ] @xmath329 .",
    "we conclude that @xmath338 is a cauchy sequence , and so there is a limit @xmath90 in @xmath89 .",
    "the fact that @xmath90 takes values in @xmath37 $ ] follows directly from the same fact to @xmath88 . by lemma [ egyseg ]",
    "it is easy to see that @xmath339 , and the support of each @xmath88 is within radius @xmath340 around 0 , hence the dominated convergence theorem implies that @xmath341 .",
    "the above hold for every @xmath13 , hence the proposition follows .        by proposition  [ elso ]",
    "we have that @xmath344 satisfies @xmath35 and @xmath33 in the definition of a fractional allocation rule .",
    "similarly for the claim about the support of @xmath345 .",
    "measurability and equivariance are clear from the construction .",
    "so it only remains to prove @xmath36 .",
    "fix @xmath13 and @xmath346 . by lemma  [ konnyu ]",
    ", @xmath347 is a weak allocation ; in particular , ( 2 ) holds .",
    "hence for almost every @xmath29 , @xmath348^d } f_{v , n}^{\\omega-\\xi } + \\xi dv ) ( x)=   2^{-nd}\\int_{[0,2^n]^d } ( \\sum_{\\xi\\in\\omega}f_{v , n}^{\\omega-\\xi } + \\xi   ( x ) ) dv=   2^{-nd}\\int_{[0,2^n]^d } 1 dv= 1 $ ] , showing that @xmath349 satisfies @xmath36 . finally , the fact that @xmath350 is identically 1 almost everywhere implies this for @xmath351 .",
    "[ veges ] let @xmath29 .",
    "then @xmath48-almost surely there is an @xmath12 and @xmath352 such that the @xmath12-neighborhood @xmath353 of @xmath110 is contained in @xmath354 , and @xmath355 for every @xmath356 .",
    "let @xmath357 be arbitrary",
    ". for almost every @xmath57 the sum @xmath358\\ ] ] is finite , as a consequence of lemma  [ fontos ] .",
    "hence almost surely only finitely many of these events happens , by the borel - cantelli lemma .",
    "the previous lemma enables us to define an allocation rule from our fractional allocation rule , in such a way that the cell allocated to a center @xmath30 is contained in @xmath364 .",
    "namely , for each set @xmath365 as in lemma  [ darabok ] , partition @xmath365 into measurable pieces @xmath366 such that @xmath367 .",
    "do it in a way such that @xmath365 determines the pieces @xmath368 in some previously fixed ( deterministic ) way , and such that the pieces change continuously with @xmath365 ( in terms of hausdorff distance between sets , say ) . a method to do so",
    "was suggested to us by yuval peres , replacing the original , less elegant proof for the following lemma :      for each set of the form @xmath371 as in lemma  [ darabok ] let @xmath372 , @xmath373 .",
    "so @xmath374 is the lebesgue measure of @xmath365 .",
    "apply a version of the gale and shapley algorithm ( see @xcite for a more detailed description ) within @xmath365 as follows .",
    "let each @xmath375 start growing a ball around itself at linear speed , simultaneously . at time @xmath376",
    "let each @xmath375 capture all points of @xmath365 that its growing ball meets , as long as no other ball has captured the point at some earlier time .",
    "however , when the total measure of points in @xmath365 that @xmath375 has captured by time @xmath376 is equal to @xmath377 , stop growing its ball , that is , if @xmath378 is the set of points in @xmath365 that have been captured by @xmath375 by time @xmath376 , let @xmath379 be equal to @xmath378 as long as @xmath380 .",
    "it is intuitively clear that by some time @xmath376 the lebesgue measure of @xmath378 is equal to @xmath377 for each @xmath75 .",
    "define this @xmath381 to be the part of the cell of @xmath8 within @xmath365 . doing this for each of the countably many @xmath365",
    ", we get the cell of @xmath375 assigned to it by our allocation .",
    "measurability and invariance follow from our method and the assumptions ; see @xcite for more details and rigorous arguments .      if we wanted the cells assigned by our allocation rule to be connected and to contain the corresponding centre , this could be done by growing `` tendrils '' that connect the pieces of each cell @xmath289 of the original allocation , and the center for @xmath289 . with care about preserving measurability and equivariance",
    "this can be done , but we omit the details here .    an intuitive interpretation of the akt algorithm comes from thinking of the configuration points as gas particles .",
    "then the procedure systematically equates pressures between neighboring cubes in the dyadic subdivision . for the sake of analysis it was easier to allow cells around particles to expand in the directions of the axes and by , but",
    "a more  canonical \" version would be obtained without this artifact .",
    "that is , put one particle of gas in each center of the point process , and start by growing cells around them ( small balls at the beginning ) , whose pressures would be proportional to the volume of the cell and at normal direction to the surface . when two cells meet , the pressure differences between them would tend to equate , and in the limit all the cells would have the same volumes . the tail behavior of their diameters should be as good as that of our fractional allocation rule ( and perhaps better if we take constant factors into account ) .",
    "on an even more speculative note , we mention that the above procedure looks like a modification of the stable allocation rule : do not fix centers , and let the growing cells  push \" each other while occupying yet unoccupied territories .",
    "we thank yuval peres and ron peled for discussions on gravitational allocation , and lemma [ final ] .",
    "the second author is supported by sinergia grant crsi22 - 130435 of the swiss national science foundation .",
    "this research was done when the second author was at the hausdorff center for mathematics in bonn ."
  ],
  "abstract_text": [
    "<S> the allocation problem for a poisson point process is to find a way to partition the space to parts of equal size , and assign the parts to the configuration points in a measurable , `` deterministic '' ( equivariant ) way . </S>",
    "<S> the goal is to make the diameter of the part assigned to a configuration point have fast decay . </S>",
    "<S> we present an algorithm for @xmath0 , that achieves an @xmath1 tail , which is optimal up to @xmath2 . </S>",
    "<S> this improves the best previously known allocation rule , the gravitational allocation , which has @xmath3 tail . </S>"
  ]
}