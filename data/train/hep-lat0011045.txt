{
  "article_text": [
    "with the installation of a 112 node hitachi sr8000-f1 at the leibniz - rechenzentrum in munich the qcdsf collaboration has started simulating qcd with two degenerate flavors of fermions . in a cooperative program with the ukqcd collaboration ( see talk by irving @xcite ) we share configurations giving both collaborations the possibility to do measurements at a larger set of bare parameters .",
    "this contribution has two parts . in the first part we report on performance of qcd calculations on the hitachi sr8000-f1 .",
    "in the second part we present results on the light hadron mass spectrum for dynamical , non - perturbatively @xmath0 improved wilson fermions .",
    "we focus on comparison with our quenched results @xcite .",
    "the sr8000 in munich is a `` cluster '' of 112 symmetric multiprocessor nodes .",
    "each node has 8 cpus and ( at least ) 8 gbyte of shared memory .",
    "each cpu has a a 128 kbyte 4-way associative cache , 160 registers and has a pseudo - vectorization facility .",
    "the peak performance of a cpu is 1.5  gflop / s giving a peak performance of 1344 gflop / s for the whole machine .",
    "it order to get good performance it is essential to employ pseudo - vectorization . at the hardware level pseudo - vectorization is implemented by efficient pre - fetch and pre - load mechanisms . at the programming level the compiler tries to vectorize most inner loops .",
    "these loops are vectorized under the usual conditions , i.e. , if there are no data access conflicts , no function / subroutine calls and no if - blocks in the loop body .    on the sr8000",
    "one can basically use the same code as on a standard risc processor and more important one can have the same data layout as for a risc cpu .",
    "for example our data layout is ( in fortran  90 notation )    ....    complex(8 ) u(3 , 3 , vol/2 , even : odd , dim )    complex(8 ) a(4 , 3 , vol/2 )    complex(8 ) c(18 , 2 , vol/2 , even : odd ) ....    for the gauge , pseudo - fermion and clover field .",
    "in contrast to a real vector computer the vector index does not have to be shifted to the first place .      to fix the notation let @xmath1 be the fermion matrix , @xmath2 the wilson hopping term and @xmath3 the clover term : @xmath4 @xmath5 performance figures for the multiplication of @xmath2 , @xmath3 , @xmath6 and @xmath1 with a vector are given in table  1 .",
    "these figures were obtained with fortran  90 code using 64 bit arithmetic on an @xmath7 lattice .",
    "the code performs well in comparison with risc processors where one typically sustains 1020  % of the peak performance .",
    ".performance of the multiplication with a vector on a single cpu .",
    "[ cols=\"^ , > , > \" , ]      our code is parallelized with mpi .",
    "in addition we have experimented with a hybrid programming model using openmp for distributing the work over the cpus of a single node and mpi for the communication between nodes .",
    "figure  1 shows the communication loss for the fermion matrix multiplication .",
    "the solid lines ( being identical in both plots ) show performance measurements for a lattice volume of @xmath7 per cpu for the pure mpi code . in the left plot these",
    "are compared with measurements on volumes of @xmath8 per cpu . in the right plot comparison",
    "is done with the hybrid programming model again on a cpu local volume of @xmath7 .    as can be seen from figure  1",
    "the communication loss is quite substantial .",
    "the observations on the pure mpi code can be understood qualitatively in the following way . using more and more cpus",
    "the communication pattern becomes more and more complex . within one node when using 2 , 4 or 8 cpus there are 2 , 4 or 6 boundaries which have to be communicated and the surface / volume ratio is 2/8 , 4/8 or 6/8 respectively .    between nodes",
    "communication is along 1 , 2 or 3 dimensions ( in our program the lattice can be decomposed maximally in three dimensions ) when using 2 , 4 , or 8 ( and more ) nodes leading again to more and more complicated communication patterns .    on a single node parallelization with openmp",
    "is more efficient than with mpi .",
    "this is to be expected because there is no communication needed in that case .",
    "but surprisingly this gain does not persist when switching on inter node communication . in both cases",
    "the same amount of data has to be transferred between the nodes .",
    "but in the pure mpi version more calls are needed to copy data between nodes and in addition data has to be copied within the nodes .",
    "both should lead to larger communication overhead .    according to the hardware performance",
    "monitor we are running at about 400450 mflop / s per cpu in our production runs .",
    "this is in accordance with the 433 mflop / s given in figure  1 .",
    "we investigate full qcd with the standard wilson action for the plaquette and the fermions plus the @xmath0 improvement term . for the improvement coefficient",
    "@xmath9 we use the non - perturbative values determined by the alpha collaboration @xcite .",
    "simulation parameters and statistics are listed in table  2 . in these simulations",
    "the @xmath10 ratio lies between 0.60 and 0.83 .",
    "the sommer scale @xcite @xmath11 varies between 4.7 and 5.5 @xcite .",
    "cccr @xmath12 & @xmath13 & @xmath14 & @xmath15 +   + 5.20 & 0.1350 & @xmath16 & 6000 + & 0.1355 & @xmath16 & 8000 + 5.26 & 0.1345 & @xmath16 & 4000 + 5.29 & 0.1340 & @xmath16 & 4000 +   + 5.29 & 0.1350 & @xmath16 & 2270 + & 0.1355 & @xmath17 & 605 +    figure  2 shows the integrated autocorrelation time of the plaquette @xmath18 ( @xmath19 is the normalized autocorrelation function ) for the qcdsf run on the @xmath16 lattice . from the plot we read off that in this case @xmath20 .",
    "figure  3 shows an ape plot . for clarity error bars for the quenched results ( 0.13.5  % )",
    "are not shown .",
    "one sees that for currently reachable sea quark masses unquenching has , if any , only small effects on the light hadron spectrum and that with dynamical fermions it is a long way to @xmath10 ratios as small as in the quenched case .    in the following we compare our dynamical results with chiral extrapolations done in the quenched case at @xmath21 where @xmath22",
    "this is within the range of @xmath11 of the dynamical runs studied .",
    "let us first recall the chiral extrapolation of @xmath23 .",
    "our quenched results for @xmath23 are very well described by a phenomenological fit @xmath24    where @xmath25 and @xmath26@xcite .",
    "the lightest three points were excluded from the fit .",
    "the deviation of these points is believed to be a quenching artifact @xcite .",
    "a quenching artifact appearing in quenched chiral perturbation theory for the vector meson mass is a term @xmath27 @xcite .",
    "in figure  4 we plotted our quenched results together with the dynamical ones .",
    "the line represents the fit  ( 3 ) . the fit range is much larger than the range of this plot which only includes the six smallest masses ( open symbols ) . towards the chiral limit",
    "we see that the dynamical data ( filled symbols ) lie systematically below the quenched data .",
    "the dynamical results are consistent with the quenched fit .",
    "the corresponding picture for @xmath28 is shown in figure  5 .",
    "the open symbols represent quenched results and the line is a phenomenological fit like ( 3 ) where the curvature @xmath29 is again small .",
    "the filled symbols are dynamical results .",
    "the agreement between quenched and dynamical results is more pronounced than for @xmath23 .",
    "we observe that the results with non - perturbatively @xmath0 improved dynamical fermions scale well .",
    "although we are not able to do a continuum extrapolation yet , we see no large discretization errors . in the considered range of sea quark masses we found no clear evidence for unquenching effects in comparison with previous quenched results",
    "however , our results seem to indicate that the    vector meson mass @xmath23 approaches the chiral limit in a different way . this may be another hint , that quenched artifacts are visible in the quenched data .",
    "the computations were done on the hitachi sr8000-f1 at lrz ( munich ) , on the cray t3es at epcc ( edinburgh ) , nic ( jlich ) , ( zib ) berlin and on the ape / quadrics at desy zeuthen .",
    "we thank these institutions for support .",
    "ukqcd acknowledges pparc grants gr / l22744 and ppa / g / s/1998/000777 .    9 a.c .",
    "irving , these proceedings .",
    "qcdsf collaboration , nucl .",
    "b ( proc . suppl . ) 8384 ( 2000 ) 173 .",
    "d. pleiter , ph.d .",
    "thesis , freie universitt berlin , 1999 .",
    "k. jansen and r. sommer , nucl .",
    "phys . b530",
    "( 1998 ) 185 .",
    "r. sommer , nucl .",
    "b411 ( 1994 ) 839 . m. booth , g. chiladze and a.f .",
    "falk , phys .",
    "d55 ( 1997 ) 3092 ."
  ],
  "abstract_text": [
    "<S> we present results on light hadron masses from simulations of full qcd and report on experiences in running such simulations on a hitachi sr8000-f1 supercomputer . </S>"
  ]
}