{
  "article_text": [
    "the random walk model of price changes in financial time series has been so durable because it is nearly correct . at first approximation the difference between real price changes and the random walk model is too small to be detected using traditional time series analysis @xcite .",
    "more precisely , when looking at large samples of data , some features appear that break the random walk approximation .",
    "for example , the statistics of price distribution at small time scales is not gaussian but governed by non - extensive statistics @xcite .",
    "we can also detect large range correlation in the absolute returns , which mean that persistent behaviors exist that are not embedded in the random walk model @xcite , which can be seen as a consequence of the non - extensive statistics @xcite .",
    "more explicitly , the non - extensive formalism provides an expression for the probability density function @xmath0 of price returns @xmath1 at a given time scale @xmath2 @xcite : @xmath3\\right\\}_+{^\\frac{1}{1-q}}\\ ] ] where @xmath4 is a real parameter representing the degree of non - extensivity ( @xmath5 in the gaussian limit ) , @xmath6 is a normalization constant and @xmath7 is a scale parameter .",
    "also , @xmath8 is proportional to the variance of the distribution . in the expression of @xmath0",
    ", the subindex + indicates that @xmath9 if the expression inside the brackets is non - positive . in general , for real markets , using large samples of data",
    ", the @xmath4 index can be found to range from @xmath10 to @xmath11 .",
    "this represents intuitively the degree of the resulting anomalous diffusion from the underlying interaction among financial trades . under certain approximations , regarding a free diffusion process , we can write @xcite : @xmath12 super diffusion occurs for @xmath13 .    in fig .",
    "[ 5minret ] , we illustrate this behavior on the return distributions of the euro future contract , sampled in 5 minutes units .",
    "the similarity in shape for two different years , 2002 where the euro contract was moving up and 2005 where it was globally down is observed .",
    "these shapes correspond effectively to @xmath13 .",
    "however , any deviations from the gaussian limit can not be detected at a local level , when we observe the market in a short window of time .",
    "our first statement is still valid . at first order of observation , prices in financial markets",
    "behave randomly and it remains impossible to predict whether the next price movement will be up or down .    in the following , we show that this difference between real markets and random walks , as small as it is , is detectable using modern statistical analysis with hypothesis testing , even when we observe the market locally .",
    "in particular , it is detectable once we wan build a trading systems on the basis of multivariate analysis and hypothesis testing @xcite .",
    "indeed , tools of statistical physics have been proven to be efficient in many areas , like extracting the average properties of a macroscopic system from its microscopic dynamics , even if approximately known .",
    "the same holds for financial systems . even though it is difficult or almost impossible to write down the microscopic equation of motion that drives prices at each instant",
    ", it is possible to extract a relevant statistical information , that makes sense to take decisions at a local level .    in a first part",
    ", we exemplify this issue on the behavior with time of the euro future contract ( ec ) at high frequency .",
    "we show that we can infer the non - random content of the ec erratic behavior using a multivariate analysis embedded in a trading algorithm .    in a second and third parts ,",
    "we examine different markets , largely uncorrelated to the euro future , namely the dax and cacao future contracts ( labeled as fdax and cc ) .",
    "the same procedure is followed using a trading system , based on the same ingredients .",
    "for the system running on the cc , we use the same system as built on the euro future .",
    "we show that similar and good results can be obtained on this variety of markets and we conclude that this is an evidence that some invariants , as encoded in our system , have been identified .",
    "we use five minutes sampling of the ec time series , from january 2000 till august 2011 , which makes 839k quotes that we use to build the trading system .",
    "we conserve only the close of each quote .",
    "this large sample of data points is necessary to infer statistical properties with a high confidence level , as shown in the following .",
    "also , in the context of this analysis , the fine tuning of the time series with a five minutes resolution is useful to focus on possible intermittent behavior of the series at small scales ( five minutes ) , that could disappear at larger scales .",
    "a typical quote of the ec is like @xmath14 .",
    "the unit of the last digit is what we call a basis point .",
    "for example , we consider that a price movement from @xmath14 to @xmath15 corresponds to a price change of @xmath16 basis points .",
    "more precisely , if we buy the contract at time t1 ( on the quote q1 ) at @xmath14 and sell this contract at time t2@xmath17t1 ( on the quote q2 ) at @xmath15 , then this trade corresponds to a gain of @xmath16 basis points ( without fees ) . to keep the procedure as close to reality as possible we consider fees of two times the slippage , which means that this trade is counted in our approach as a trade of @xmath18 basis point ( net of fees ) .    a fundamental issue in the analysis is to break the data samples in three parts , that we call in - sample , out - sample and live - sample .",
    "the decomposition is done as follows :    * 2000 - 2007 : in - sample * 2008 - 2009 : out - sample * 2010 - 2011 : live - sample    what is the interest of this decomposition of the data series ?",
    "the idea is that we intend to build a trading system on this series .",
    "this means that we intent to design an algorithm that will take decisions like buy or sell 1 ec contract at a given quote .",
    "this decision at a given quote will be based on multivariate analysis , as mentioned in the beginning . in order to process this way",
    ", we need a data sample on which the algorithm is built and all parameters of the algorithm are fitted .",
    "therefore , this data sample needs to be large in order to be relevant statistically .",
    "this sample is called in - sample ( i ) and is defined as the period 2000 - 2007 .",
    "the second sample , called out - sample ( ii ) , is used as a validation stage .",
    "all algorithms built on ( i ) are expected obviously to give satisfactory results on ( i ) . however , as parameters of the model are fitted on the sample ( i ) , there is no guarantee that the model could behave properly on another data sample .",
    "if it does so , this means that the algorithm is not a pure artifact and contains a part of the real dynamics of the market .",
    "this is the purpose of the sample ( ii ) , defined as the period 2008 - 2009 .",
    "if the trading system built on ( i ) fails on ( ii ) , it is rejected and another algorithm is designed .",
    "note that we have other intermediate validation stage to make the full process more robust : we come back on this point later in the article .",
    "also , note that there is no guarantee at this level that what we describe in this paragraph is possible .",
    "finally , once we have obtained an algorithm that works on ( ii ) and satisfies our robustness tests , if any , we observe it on what we call the live - sample ( iii ) , defined as the period 2010 - 2011 .",
    "our building process is made to guarantee at this step the good functioning of the trading system and that s what we show in the following .",
    "note that if we can drive the analysis to this last step and if it works , it is a clear proof of our claim of the previous part on a specific example ( ec ) : the difference between real markets and random walks , as small as it is , is detectable using modern statistical analysis in multivariate analysis .",
    "the multivariate approach refers to the number of parameters introduced in the definition of triggers for trades decisions along the ec series .",
    "the basic elements of the algorithm design can be much simple .",
    "the gross featurse of a trend - following strategy are exposed in @xcite .",
    "let us note @xmath19 the value of the price series at time @xmath20 .",
    "an exponential moving average @xmath21 of length memory @xmath2 can be defined on this time series , as :    @xmath22    from being initially with no position , a trend - following system buys one share when @xmath23 reaches a given value @xmath24 and stays long until @xmath23 hits the value @xmath25 , at which point the system sells back and takes the opposite position , and so on .",
    "a complexity can easily be added to this mechanism by defining intermediate thresholds to break positions taken by the system @xcite .",
    "the trade distribution for this simple theoretical system is given in fig .",
    "[ theo ] . obviously , there is no possibility with such a simple algorithm to reconstruct a profitable strategy over ten years of high frequency data .",
    "however , we can use the ground idea of this mechanism , namely trend - following , in building a more complex architecture .",
    "we use four different memory lengths and consider crossing of this exponential moving averages , as potential triggers for trade decisions .",
    "not all moving averages are used for each decision .",
    "the choice is based on ranges of volatilities .",
    "indeed , we have observed that there are some transition domains in volatilities of prices where it is preferable not to trade or to branch more stringent triggers .",
    "an important idea in our structure is also some exit conditions based on extreme conditions in profit , either on positive or negative .",
    "these last conditions depend also on the time window on which the non nominal cumulative profit is realized .    on a fundamental ground ,",
    "our system architecture is just a refinement of a basic trend - following strategy .",
    "in addition , the system has learned how to play with volatility ranges to trigger decisions and how to protect over - profits realized for example in high volatile periods .",
    "therefore , if we can show that this strategy leads to profitable results ( net of fees ) , it will be a proof of the validity of the trend - following hypothesis on the market , taking into account multivariate tests to activate the trend follower .",
    "let us note that the use of moving averages is a powerful experimental method to access to the non - trivial statistical texture of a time series .",
    "if we consider 2 standard moving averages of lengths @xmath26 and @xmath27 , with @xmath28 , then the density of crossing points of the 2 averages is given by : @xmath29^{h-1}\\ ] ] where @xmath30 is the hurst exponent , that characterizes the persistence or anti - persistent of the data series @xcite .",
    "we have @xmath31 parameters optimized on the in - sample ( i ) .",
    "the optimization is performed in order to achieve the best sharpe ratio .",
    "results are shown in fig . [ in ] .",
    "we present the behavior with time of the ec contract itself as well as the cumulative equity of the designed trading system ( expressed in basis points , net of fees ) .",
    "we observe the nice behavior of the equity , increasing with time , which shows that the strategy is profitable and coherent with respect to different market regimes .",
    "the bottom plot in fig .",
    "[ in ] corresponds also to the running of the trading system , but this time on the randomized in - sample .",
    "exactly , we have added to each quote value of the data series ( i ) a random number that ranges between @xmath32 and @xmath33 times the slippage of the ec contract .",
    "and we run the trading system on this series , which leads to the bottom plot of fig .",
    "this randomization is necessary as we do not want the trading system to be dependent on the point - to - point correlation and also the model must be flexible to absorb distortion of the data series .",
    "this is what we observe in fig .",
    "[ in ] ( bottom ) : the system is robust against randomization of the data series .",
    "the degradation observed on the overall profit is not dramatic and the equity is still much reasonable .",
    "note that all systems designed that have failed at this stage have been rejected .",
    "before considering the out - sample stage , we have an intermediate essential step of validation of the trading system . to ensure that the system is robust , we need more that the randomization of the data series . we need to distort the strategy itself in many ways : for example , force an exit of given trade at a given time , do not execute randomly some trades , delay the execution of orders by several quotes , execute an order but at a wrong price , with a prejudice for the trading system , multiply the fees ( slippage ) by a factor 2,3 or 4 etc .",
    "thus , we have a list of @xmath34 stress tests and for each case , the trading system is run and a result is obtained .",
    "all this must be done on the original data series ( i ) and on its randomized version . in all cases",
    ", we must observe that the system is stable and robust .",
    "this is shown in fig .",
    "[ stress ] , where we present the sharpe ratio for all @xmath34 stress tests considered .",
    "we do not provide the equity in each configuration .",
    "we summarize each case by one entry in fig .",
    "[ stress ] , as a value of the sharpe ratio for the case under study .",
    "the idea is that the robustness is ensured if we do not observe pathological values in the sharpe ratios , even for the more extreme stress tests .",
    "this is what we observe in fig .",
    "[ stress ] , with an average value of @xmath35 and a rms of @xmath36 . in all configurations",
    ", the model stays reasonable .    by this method",
    ", we have also shown that the trading system does not depend on the fine tuning of any of the fitted parameters .",
    "otherwise , a few stress tests would have failed deeply . on the contrary ,",
    "our strategy depends weakly on any of its inputs , which gives a lot of flexibility on all variables of the system with always a profitable result obtained .    at this step ,",
    "it is not unreasonable to claim that we have designed a robust algorithm .",
    "however , a new validation stage is determinant using the out - sample ( ii ) .",
    "this is a decisive test as we are running on new data , that the system does not know , in the sense that parameters have been fitted on another set of data . in principle parameters",
    "are robust as we have already explored many configurations for the data series and the system .",
    "however , the out - sample test will kill all systems that still have some elements of over - fit in their construction . indeed ,",
    "such systems fail to give good results when running on the sample ( ii ) and are rejected .",
    "this is what happens for most of the systems that can be designed if the input ideas are not carrying decisive features of the inside dynamics of the time series .",
    "that s why it is not an easy task and many attempts are needed before converging towards acceptable solutions . in fig .",
    "[ out ] we show the result for the trading system described above .",
    "we observe a correct behavior of the equity , which qualifies definitely this system .",
    "we interpret this as a clear evidence that the time series of the ec exhibits features of trend - following , under certain conditions , as encoded in our trading system .    finally , in fig .",
    "[ live ] , we check the result on the live - sample period ( iii ) , in 2010 - 2011 . here",
    ", we do not expect any failure , otherwise the full process described above must be rejected .",
    "effectively , we observe a nice behavior of the cumulative equity ( net of fees ) , much compatible with what has been designed on the in - sample .",
    "this confirms our statement above on the dynamical content of the trading algorithm we have presented here .    in order to illustrate very simply the gross feature of the model",
    ", we present two distributions in fig .",
    "we show the trade return spectrum ( fig .",
    "[ dist]-left ) , in which we recognize a typical trend - following system , reminiscent from the standard behavior plotted in fig .",
    "we observe also in fig .",
    "[ dist ] ( right ) that the system is effectively working at high frequency with an average duration of trades of @xmath37 minutes .    from the above discussion , we know that our system is robust against a variation of the sampling of the data , for example from 5 minutes to 10 minutes . also , as the average duration of trades is @xmath37 minutes for the nominal system , it makes sense to move the system from 5 minutes to 10 minutes data sampling and check the results . in order to make the change in an optimal way , we have rescaled some parameters such that we have a perfect homotopy between the construction at 5 and 10 minutes sampling .",
    "results on the live sample of data ( iii ) is shown in fig .",
    "[ livefinal ] .",
    "we observe the good behavior , in accordance ( homotopy ) with fig.[live ] , as expected .",
    "a final comment is in order concerning the stress tests and robustness analysis .",
    "this study ensures statistically the reasonable functioning of the system whatever market regimes and trading conditions .",
    "we can see the system as an unfolding procedure , transforming the price series to a trade series .",
    "if we do not control obviously the price series , we have a control on how the trade series develop , regardless the behavior of the price series . that s what we have shown above",
    "this is a decisive element in the construction of the model .",
    "the feed back from the cumulative equity itself is an element of the strategy reconstruction , involved with the basic conditions of the model as described earlier .",
    "let us add that this is a clear advantage we get using this kind of approach for decoding the markets to a certain extend .",
    "the idea is to use the same system , as built in section [ ec ] , on the dax future ( fdax ) series .",
    "if we use exactly the same system as defined for euro future , we obtain a sharpe ratio of @xmath38 over 10 years of data .",
    "this is reasonable but it makes sense to re - optimize some parameters on the fdax series . in the updating process , some conditions are also re - examined and modified according to what data ( in - sample ) requires .",
    "we use again a five minutes sampling for the fdax time series , from january 1999 till august 2011 .",
    "this which makes 460k quotes of data . we conserve only the close of each quote . as in section [ ec ] , this large sample of data points is necessary to infer statistical properties with a high confidence level .",
    "a typical quote of the fdax is like @xmath39 .",
    "the unit of the last digit is what we call a basis point .",
    "for example , we consider that a price movement from @xmath39 to @xmath40 corresponds to a price change of @xmath41 basis points .",
    "more precisely , if we buy the contract at time t1 ( on the quote q1 ) at @xmath39 and sell this contract at time t2@xmath17t1 ( on the quote q2 ) at @xmath40 , then this trade corresponds to a gain of @xmath41 basis points ( without fees ) . to keep the procedure as close to reality as possible we consider fees of two times the slippage , which means that this trade is counted in our approach as a trade of @xmath42 basis point ( net of fees ) .",
    "we follow the analysis process detailed previously .",
    "then , 3 samples of data are defined :    * 1999 - 2006 : in - sample * 2007 - 2009 : out - sample * 2010 - 2011 : live - sample    as we start the analysis of the fdax in 1999 , we end up the in - sample in 2006 and not 2007 as was done for the ec time series .",
    "as mentioned above , the basic elements of the algorithm design are the same as the ones used for the ec time series in section [ ec ] .",
    "the main differences concern the treatment of volatility ranges .",
    "there is a stronger focus on this issue for the fdax model .",
    "we have always @xmath31 parameters optimized on the in - sample ( i ) , the system is then validated on ( ii ) and observed on ( iii ) . the optimization is performed in order to achieve the best sharpe ratio on ( i ) .",
    "results are summarized in fig .",
    "we present the behavior with time of the fdax contract itself as well as the cumulative equity of the designed trading system ( expressed in basis points , net of fees ) for the three data samples defined above .",
    "we observe the nice behavior of the equity , increasing with time , which shows that the strategy is profitable and coherent with respect to different market regimes .",
    "we observe also that the out - sample ( ii ) validates the good behavior of the strategy , which is confirmed on the recent period 2010 - 2011 .",
    "as explained in section [ ec ] , we have also guaranteed the robustness of the algorithm using a battery of stress tests . in all cases",
    ", we must observe that the system is stable and robust .",
    "this is shown in fig .",
    "[ stress2 ] , where we present the sharpe ratio for all stress tests considered . as in section [ ec ]",
    ", the idea is that the robustness is ensured if we do not observe pathological values in the sharpe ratios , even for the more extreme stress tests .",
    "we interpret the good result obtained in fig .",
    "[ in2 ] as a clear evidence that the time series of the fdax exhibits features of trend - following , under certain other conditions , as encoded in our trading system and as already observed on the ec time series .",
    "this will be confirmed again on the cacao future in the next section .    finally , in fig .",
    "[ live2 ] , we illustrate explicitly the result on the live - sample period ( iii ) , in 2010 - 2011 .",
    "effectively , we identify a nice behavior of the cumulative equity ( net of fees ) , much compatible with what has been designed on the in - sample .",
    "this confirms our statement above on the dynamical content of the trading algorithm we have presented here .    in order to illustrate very simply the gross feature of the model",
    ", we present two distributions in fig .",
    "[ dist2 ] .",
    "we show the trade return spectrum ( fig .",
    "[ dist2]-left ) , in which we recognize a typical trend - following shape .",
    "we observe also in fig .",
    "[ dist2 ] ( right ) that the system is effectively working at high frequency with an average duration of trades of less that @xmath43 minutes .",
    "for the cacao future ( cc ) , we have at our disposal the data series ranging only from 2003 till mid-2010 .",
    "then , we have chosen to run exactly the ec system on this index , with fees for each trade always equal to 2 times the slippage .",
    "we do not produce any further optimization .",
    "results are presented in fig .",
    "[ cacao ] .",
    "we observe a reasonable equity curve , which proves that the system is functioning correctly on this index , uncorrelated to ec and fdax .",
    "this confirms the message of this article that the trading system defined above contains elements of invariants of financial markets .",
    "tools of statistical physics @xcite have been proven to be efficient in many scientific areas . in a similar way for financial time series , knowing that the difference between real markets and random walks is very small , a modern statistical multivariate analysis can help to extract this difference .",
    "this is what is encoded in trading systems .",
    "we have shown how to achieve the construction of such a system on the euro future contract at high frequency .",
    "a typical element of the dynamics of this system is then accessible , namely the trend - following content involved in a more complex architecture on volatilities .",
    "then , we have produced other examples on completely different markets , largely uncorrelated to the euro future , the dax and cacao future contracts .",
    "the same procedure is followed using similar seed ideas and technical inputs .",
    "we have shown that similar results can then be obtained and we conclude that this is an evidence that some invariants , as encoded in our system , have been identified , on very different markets explored over a 10 years period of time . one essential point in our process is that trading models , like the one used in our approach , are highly sensitive to non - linear relations in price series .",
    "this comes with the multivariate data analysis . in this article",
    ", we have also focused the discussion on the necessity of a deep robustness analysis to ensure the validity of the overall construction .",
    "an immediate question can be raised concerning the rationale behind this content .",
    "our observation is universal in the sense that the same algorithm , for example on ec , is running on more that 10 years of data , where the monetary policy has changed several times .",
    "then , our approach is not attached to a particular regime of interest rates .",
    "there are certainly herding behaviors at the origin of the values of parameters encoded in our system",
    ". these herding phases may appear with strengths governed by certain fear levels , corresponding to volatility domains .",
    "also , in some circumstances , nothing special can be said .",
    "finally , a global rationale explanation of a given trading system is very complex and probably not unique .",
    "this is beyond the scope of this article .",
    "see ideas in @xcite .    in this article",
    ", we have completed a pure experimental analysis .",
    "the concept of invariance comes with the observation that we extract similar seed features from largely uncorrelated financial time series .",
    "this is a first step , rooted exclusively on data .          c.  tsallis , braz .",
    "j.  phys .",
    "* 29 * ( 1999 ) 1 .",
    "d.  prato and c.  tsallis , phys .",
    "e * 60 * ( 1999 ) 2398 .",
    "a.  rapisarda , a.  pluchino and c.  tsallis , arxiv : cond - mat/0601409 .",
    "c.  amsler _ et al .",
    "_  [ particle data group ] , _ phys .",
    "* b667 * ( 2008 ) 1 ; available at pdg.lbl.gov ."
  ],
  "abstract_text": [
    "<S> for the pedestrian observer , financial markets look completely random with erratic and uncontrollable behavior . to a large extend , </S>",
    "<S> this is correct . at first approximation </S>",
    "<S> the difference between real price changes and the random walk model is too small to be detected using traditional time series analysis . </S>",
    "<S> however , we show in the following that this difference between real financial time series and random walks , as small as it is , is detectable using modern statistical multivariate analysis , with several triggers encoded in trading systems . </S>",
    "<S> this kind of analysis are based on methods widely used in nuclear physics , with large samples of data and advanced statistical inference . </S>",
    "<S> considering the movements of the euro future contract at high frequency , we show that a part of the non - random content of this series can be inferred , namely the trend - following content depending on volatility ranges . </S>",
    "<S> of course , this is not a general proof of statistical inference , as we focus on one particular example and the generality of the process can not be claimed . </S>",
    "<S> therefore , we produce other examples on a completely different markets , largely uncorrelated to the euro future , namely the dax and cacao future contracts . </S>",
    "<S> the same procedure is followed using a trading system , based on the same ingredients . </S>",
    "<S> we show that similar results can be obtained and we conclude that this is an evidence that some invariants , as encoded in our system , have been identified . </S>",
    "<S> they provide a kind of quantification of the non - random content of the financial markets explored over a 10 years period of time .    </S>",
    "<S> # 1#2#3#4#1 * # 2 * ( # 3 ) # 4    * about the non - random content of financial markets *    laurent schoeffel +   + cea saclay , irfu / spp , 91191 gif / yvette cedex , + france </S>"
  ]
}