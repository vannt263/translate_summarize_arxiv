{
  "article_text": [
    "let @xmath1 be the set of all isomorphism classes of graphs , allowing multiple edges , loops and circles . here",
    "a circle is a loop which does not contain vertices .",
    "an @xmath2-valued _ graph parameter _ is a map @xmath3 which takes the same values on isomorphic graphs .    throughout this paper",
    "we set @xmath4 and for @xmath5 , @xmath6 $ ] denotes the set @xmath7 .",
    "let @xmath8,\\ ] ] denote the polynomial ring in @xmath9 variables .",
    "note that there is a one - to - one correspondence between linear functions @xmath10 and maps @xmath11 ; @xmath12 corresponds to the monomial @xmath13 and the monomials form a basis for @xmath14 .",
    "let @xmath15 and @xmath16 be finite sets , with @xmath17 . given a map @xmath18 $ ]",
    ", we can view the multiset @xmath19 as an element @xmath20 via @xmath21 .    following de la harpe and jones @xcite we call any map @xmath11 a _",
    "vertex model_. the _ partition function _",
    "of @xmath22 is the graph parameter @xmath23 defined by @xmath24 } \\prod_{v\\in vg } h(\\phi(\\delta(v))),\\ ] ] for @xmath25 . here",
    "@xmath26 is the multiset of edges incident with @xmath27 .",
    "note that a loop counts twice .",
    "we need to introduce the concept of a fragment .",
    "@xmath28-fragment _ is a graph which has @xmath28 of its vertices labeled @xmath29 up to @xmath28 , each having degree one .",
    "these labeled vertices are called the _ open ends _ of the graph .",
    "the edge connected to an open end is called a _",
    "half edge_. let @xmath30 be the collection of all @xmath28-fragments .",
    "we can identify @xmath31 with @xmath32 the collection of all graphs .",
    "let @xmath33 . define a glueing operation @xmath34 as follows : for @xmath35 connect the half edges incident with open ends with identical labels to form single edges ( with the open ends erased ) ; the resulting graph is denoted by @xmath36 ; see figure  [ fig : gluing ] .",
    "note that by glueing two half edges , of which both their endpoints are open ends , one creates a circle .",
    "-fragments into a graph . ]    for any graph parameter @xmath37 let @xmath38 be the @xmath39 matrix defined by @xmath40 for @xmath35 .",
    "this matrix is called the _ @xmath28-th edge connection matrix _ of @xmath41 . in @xcite , szegedy used the edge connection matrices to characterize when a graph parameter @xmath41 is of the form @xmath42 for some @xmath11 . in the same paper ( cf .",
    "@xcite question 3.1 ) , szegedy asked for a characterization of @xmath43 , for @xmath33 , if @xmath44 for some @xmath11 .",
    "the same question is also posed in @xcite . in this paper",
    "we give an answer to this question , which we describe now .",
    "let @xmath45 be the orthogonal group .",
    "the orthogonal group acts on the polynomial ring @xmath14 ; for @xmath46 , @xmath47 and @xmath48 @xmath49 .",
    "the action of @xmath50 on @xmath14 induces an action on @xmath51 , the space of linear functions on @xmath14 ; for @xmath52 , and @xmath53 , @xmath54 is defined by @xmath55 , for @xmath46 .    for @xmath52 ,",
    "define @xmath56 let @xmath57 .",
    "the action of @xmath50 on @xmath58 extends naturally to @xmath59 for any @xmath33 . as usual , for a subgroup @xmath60 of @xmath50 , @xmath61 our characterization reads :    [ thm : main ] let @xmath11 .",
    "then for any @xmath33 , @xmath62    the organization of this paper is as follows . in section 2",
    "we discuss a related result by lovsz , which characterizes the rank of vertex connection matrices of partition functions of real valued weighted spin models .",
    "section 3 deals with some framework and preliminaries .",
    "in particular , we give a combinatorial interpretation of the space of tensors invariant under the action of @xmath63 , for @xmath11 ( cf .",
    "theorem [ thm : main2 ] ) , from which we will deduce theorem [ thm : main ] .",
    "in section 4 we give a proof of theorem [ thm : main2 ] .",
    "our proof uses a result of schrijver , characterizing algebras of @xmath0-invariant tensors for subgroups @xmath0 of @xmath50 .",
    "in @xcite , lovsz characterized the rank of vertex connection matrices of partition functions of real valued weighted spin models . in order to state his result",
    ", we first need to introduce some terminology .",
    "this is not used anywhere else in this paper .",
    "let @xmath64 be strictly positive and let @xmath65 be symmetric .",
    "following de la harpe and jones @xcite we call the pair @xmath66 a _ weighted spin model_. let @xmath67 be the collection of all graphs , allowing multiple edges but no loops or circles",
    ". the _ partition function _ of @xmath66 is the graph parameter @xmath68 defined by @xmath69}\\prod_{v\\in vh}{\\alpha}_{\\phi(v)}\\cdot \\prod_{uv\\in eh } \\beta_{\\phi(u),\\phi(v)},\\ ] ] for @xmath70 .",
    "we can view @xmath71 in terms of weighted homomorphisms .",
    "let @xmath72 be the complete graph on @xmath9 vertices ( including loops ) with vertex weights given by @xmath73 and edge weights given by @xmath74 .",
    "then @xmath75 can be viewed as counting the number of weighted homomorphisms of @xmath60 into @xmath72 . in this context @xmath76",
    "is often denoted by @xmath77 .",
    "a _ @xmath28-labeled graph _ is a graph @xmath60 with an injective map @xmath78\\to vh$ ] .",
    "let @xmath79 be the collection of all @xmath28-labeled graphs . for @xmath80 define @xmath81 to be the @xmath28-labeled graph obtained from the disjoint union of @xmath82 and @xmath60 by identifying equally labeled vertices .",
    "for any graph parameter @xmath83 and @xmath33 , the _",
    "@xmath28-th vertex connection matrix _",
    "@xmath84 is the @xmath85 matrix defined as follows : @xmath86 for @xmath80 .",
    "the vertex connection matrices were used by freedman , lovsz and schrijver in @xcite to characterize graph parameters which are of the form @xmath71 for some positive @xmath87 and symmetric @xmath65 .",
    "let @xmath87 positive and @xmath88 symmetric .",
    "lovsz @xcite characterized the ranks of the vertex connection matrices of the parameter @xmath71 .",
    "let @xmath89 .",
    "two distinct vertices @xmath90 are called _ twins _ if @xmath91 for all @xmath92 .",
    "[ lovsz @xcite ] [ thm : lo ] let @xmath0 be as above and let @xmath93 be the automorphism group of @xmath0 . if @xmath0 is twin free , then @xmath94    if @xmath0 has twins , one can make a twin free graph @xmath95 ( by identifying twins ) such that @xmath96 for all @xmath70 .",
    "our result on the rank of the edge connection matrices of partition functions of real vertex models is a natural analogue of lovsz theorem .",
    "it is possible to give a proof of theorem [ thm : lo ] using our proof method for theorem [ thm : main ] .",
    "we will however not do this here .    in @xcite ,",
    "schrijver introduced a different type of vertex connection matrix .",
    "it is also possible to characterize the rank of these connection matrices of partition functions of unweighted spin models ( i.e. @xmath97 is the all ones vector ) using our method .",
    "the characterization is similar to theorem [ thm : lo ] .",
    "in this section we will introduce the necessary framework and preliminaries in order to give a proof of theorem [ thm : main ] .",
    "let @xmath98 and let @xmath99 denotes the linear space consisting of ( finite ) formal @xmath2-linear combinations of fragments .",
    "these are called _",
    "quantum fragments_.    let @xmath57 be equipped with the standard inner product @xmath100 and let @xmath101 be the standard basis for @xmath58 .",
    "let @xmath102 the space @xmath103 is the _ tensor algebra _ over @xmath58 ( with product the tensor product ) .",
    "the standard basis for @xmath59 is given by the set @xmath104\\to [ n]\\}$ ] , where @xmath105 .",
    "the inner product on @xmath58 naturally extends to @xmath103 .",
    "we now fix a vertex model @xmath11 and show that there is a natural map from @xmath99 to the tensor algebra .",
    "let @xmath17 be finite sets and let @xmath106 $ ] and @xmath107 $ ] .",
    "we say that @xmath108 _ extends _",
    "@xmath109 if @xmath110 for all @xmath111 .",
    "this is denoted by @xmath112 . for a @xmath28-fragment @xmath82 and a map @xmath78\\to [ n]$ ] we will consider @xmath109 as a map from the half edges of @xmath82 to @xmath6 $ ] . moreover , for a fragment @xmath82 we denote by @xmath113 its vertices which are not open ends and by @xmath114 its edges , including half edges .",
    "define for @xmath78\\to [ n]$ ] and @xmath115 @xmath116\\\\ \\psi \\unrhd \\phi } } \\prod_{v\\in vf } h(\\psi(\\delta(v))),\\ ] ] and extend this linearly to @xmath117 .",
    "we now extend @xmath42 to a map from @xmath99 to the tensor algebra .",
    "define @xmath118 by @xmath119\\to [ n]}h_{\\phi}(f)e_\\phi,\\ ] ] for @xmath115 and @xmath120 , and extend this linearly to @xmath99 .",
    "note that for @xmath121 this agrees with our original definition of @xmath42 .",
    "note that for @xmath35 , @xmath122\\to [ n ] } h_{\\phi}(f)h_{\\phi}(h)=\\langle p_h(f),p_h(h)\\rangle .",
    "\\label{eq : hom prod}\\ ] ] this implies that @xmath123 is the gram matrix of the tensors @xmath124 for @xmath115 .",
    "hence @xmath125    recall that @xmath63 is the subgroup of @xmath50 that leaves @xmath22 invariant .",
    "the following theorem states that the image of @xmath42 is equal to the algebra of tensors invariant under @xmath63 ; thus giving a combinatorial interpretation of the algebra of tensors invariant under @xmath63 .",
    "[ thm : main2 ] let @xmath11 .",
    "then @xmath126    note that theorem [ thm : main ] follows from theorem [ thm : main2 ] , using .",
    "so we only need to prove theorem [ thm : main2 ]",
    ". this will be the content of the next section .",
    "a crucial ingredient in our proof is a result of schrijver , characterizing algebras of @xmath0-invariant tensors for subgroups @xmath0 of @xmath50 . to state",
    "this result we first need some definitions .        note that for any subgroup @xmath134 , @xmath135 is clearly graded .",
    "it is also contraction closed .",
    "indeed , write for @xmath136 , @xmath137",
    ". then for any @xmath53 we have @xmath138 hence if @xmath139 , then @xmath140 .",
    "let @xmath11 be a vertex model .",
    "our proof now consists of two steps .",
    "first we show that @xmath145 satisfies the conditions of theorem [ thm : schrijver ] .",
    "after that we show that @xmath146 .",
    "combining these two steps completes the proof of theorem [ thm : main2 ] .",
    "we can make @xmath99 into a ( graded ) algebra by defining , for @xmath115 and @xmath147 , @xmath148 to be the disjoint union of @xmath82 and @xmath60 , where we add @xmath28 to the labels of the open ends of @xmath60 so that @xmath148 is contained in @xmath149 .",
    "we define a contraction operation for fragments . for @xmath129 , the _ contraction _",
    "@xmath150 is defined as follows : for @xmath115 , @xmath151 is the @xmath152-fragment obtained from @xmath82 by connecting the half edges incident with the open ends labeled @xmath153 and @xmath154 to a single edge ( erasing @xmath153 and @xmath154 ) and then relabeling the remaining open ends such that the order is preserved .",
    "let @xmath115 and @xmath147 .",
    "then @xmath157\\to[n ] } h_{\\phi}(f\\otimes h ) e_\\phi=        \\nonumber \\\\ & \\sum_{\\substack{\\phi:[k]\\to[n]\\\\\\psi:[l]\\to[n]}}h_{\\phi}(f)h_{\\psi}(h)e_\\phi\\otimes e_\\psi = p_h(f)\\otimes p_h(h).\\end{aligned}\\ ] ]    as for contractions , let @xmath158 and let @xmath115 . note that for @xmath78\\to[n]$ ] , the contraction of @xmath159 is contained in @xmath160\\to[n]\\}$ ] if @xmath161 and is zero otherwise .",
    "the following equalities now prove the lemma : @xmath162\\to[n]}h_{\\phi}(f ) c^{k}_{i , j}(e_\\phi)=\\sum_{\\substack{\\phi:[k]\\to[n]\\\\ \\phi(i)=\\phi(j)}}h_{\\phi}(f ) c^{k}_{i , j}(e_\\phi )    \\nonumber \\\\ & = \\sum_{\\phi:[k-2 ] \\to [ n]}h_{\\phi}(\\gamma^k_{i , j}(f))e_\\phi = p_h(\\gamma^k_{i , j}(f)).\\end{aligned}\\ ] ]    now to see that @xmath145 satisfies the conditions of theorem [ thm : schrijver ] , note that @xmath145 is clearly graded and by lemma [ lem : map p ] it is a contraction closed subalgebra of @xmath103 .",
    "moreover , let @xmath163 be the half edge of which both its endpoints are open ends .",
    "then @xmath164 hence @xmath165 , by theorem [ thm : schrijver ] .",
    "the _ basic @xmath28-fragment @xmath167 _ is the @xmath28-fragment that contains one vertex and @xmath28 open ends connected to this vertex , labeled @xmath29 up to @xmath28 . for a map @xmath78\\to[n]$ ] , we define the monomial @xmath168 by @xmath169 .",
    "it is not difficult to see that @xmath170      write @xmath173\\to[n]}u_{\\phi}e_{\\phi}.\\ ] ] then @xmath174\\to[n]}u_{\\phi}x^{\\phi}.\\ ] ] we then have @xmath175\\to [ n]}h(x^{\\phi})\\langle e_\\phi , u^{-1}e_\\psi \\rangle    \\nonumber \\\\ & = \\sum_{\\phi:[k]\\to[n]}h(x^{\\phi})u_{\\phi}=h(u^{-1}x^{\\psi})=(uh)(x^{\\psi } ) .",
    "\\label{eq : subgroup1}\\end{aligned}\\ ] ] this proves the lemma .",
    "lemma [ lem : basic ] immediately implies that @xmath176 .",
    "moreover , it also implies that @xmath177 for any @xmath28 .",
    "note that @xmath178 , as @xmath179 . since any fragment @xmath180 can be obtained as a series of contractions applied to products of basic fragments and @xmath181 ( see figure[fig : contract ] )",
    ", it follows that @xmath182 .",
    "hence @xmath183 .          c. borgs , j. chayes , l. lovsz , v.t . ss and k. vesztergombi , counting graph homomorphisms , _ topics in discrete mathematics _",
    "m. klazar , j. kratochvil , m. loebl , j. matousek , r. thomas , p. valtr ) , springer , 2006 , 315371 ."
  ],
  "abstract_text": [
    "<S> we characterize the rank of edge connection matrices of partition functions of real vertex models , as the dimension of the homogeneous components of the algebra of @xmath0-invariant tensors . here </S>",
    "<S> @xmath0 is the subgroup of the real orthogonal group that stabilizes the vertex model . </S>",
    "<S> this answers a question of balzs szegedy from 2007 . </S>",
    "<S> + * keywords : * edge connection matrix ; partition function ; vertex model ; tensor algebra ; orthogonal group ; invariants . </S>"
  ]
}