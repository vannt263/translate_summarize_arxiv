{
  "article_text": [
    "the problem of sequentially predicting the next value @xmath7 of a stationary process after observing the initial values @xmath8 for @xmath9 is one of the central problems in probability and statistics .",
    "usually , one bases the prediction on the conditional expectation @xmath10 where we write for brevity @xmath11 .",
    "however , when one does not know the distribution of the process one is faced with the problem of estimating the conditional expectation from a single sample of length @xmath12 .",
    "it was shown long ago by bailey @xcite ( cf . also ryabko @xcite and gyrfi morvai and yakowitz @xcite ) that even for binary processes no universal scheme @xmath13 exists which will almost surely satisfy @xmath14 .",
    "this is in contrast to the backward estimation problem where one is trying to estimate @xmath15 based on the successive observations of @xmath16 . here , it was ornstein @xcite who constructed the first such universal estimator for finite valued processes .",
    "this was generalized to bounded processes by algoet @xcite , morvai @xcite and morvai yakowitz and gyrfi  @xcite . for unbounded processes ,",
    "several universal estimators were constructed ( see algoet @xcite and gyrfi et al .",
    "@xcite ) .    returning to our original problem of sequential prediction",
    "it was already observed by bailey that backward schemes could be used for the sequential prediction problem successfully in the sense that that the error tends to zero in the cesro mean . to establish this",
    ", he applied a generalized ergodic theorem which requires some technical hypotheses which were satisfied in his case .    over the years",
    "some authors have extended this work , namely of adapting backward schemes to sequential prediction , but only for bounded processes ( see algoet @xcite , morvai @xcite , morvai yakowitz and gyrfi @xcite and gyrfi et al .",
    "@xcite ) .",
    "another approach to the sequential prediction used a weighted average of expert schemes , and with these results were extended to the general unbounded case by nobel @xcite and ottucsak @xcite ( see also the survey of feder and merhav @xcite ) .",
    "however , none of these results were optimal in the sense that moment conditions higher than necessary were assumed .",
    "it is our purpose to obtain these optimal conditions and to show why they are necessary .",
    "we consider the following problem for @xmath17 .",
    "does there exist a scheme @xmath13 which will satisfy @xmath18 for all real valued stationary and ergodic processes that are in @xmath3 .",
    "the only case that has been solved completely is when @xmath19 is infinity .",
    "even the recent schemes nobel @xcite and gyrfi and ottucsak @xcite put a higher moment condition on the process than is manifestly required . our main result is that the basic scheme first introduced by the first author in his thesis can be adapted to give a scheme which will answer our problem positively for all @xmath20 . for @xmath5 , we shall show that stronger hypothesis is necessary , as is usually the case , and we will establish the convergence under the hypothesis that @xmath21 .    in the third section , we will show how this hypothesis can not be weakened to @xmath22 .",
    "our construction will be based on one of the simplest ergodic transformation , the adding machine , and illustrates the richness of behavior that is possible for processes that are almost periodic ( in the sense of besicovich ) .",
    "as soon as one knows that the errors converge to zero in cesro mean , it follows that there is a set of density one of time moments along which the errors converge to zero .",
    "however , in general one does not know what this sequence is . in the framework of estimation",
    ", schemes adapted to a sequence of stopping times ( see @xcite ) one may ask can one find a sequence of stopping times with density one along which the errors of a universal sequential prediction scheme will tend to zero .",
    "we have been unable to do this in general and regard it as an important open problem .",
    "finally , we refer the interested reader to some other papers which are relevant to this line of research @xcite .",
    "some technical probabilistic results have been relegated to the , they are of a classical nature and may be known , but we were unable to find references .",
    "let @xmath23 denote a real - valued doubly infinite stationary ergodic time series .",
    "let @xmath24 be notation for a data segment , where @xmath25 may be minus infinity .",
    "let @xmath26    let @xmath27 denote the quantizer @xmath28 define the sequences @xmath29 and @xmath30 recursively ( @xmath31 )",
    ". put @xmath32 and let @xmath30 be the time between the occurrence of the pattern @xmath33 at time @xmath34 and the last occurrence of the same pattern prior to time @xmath34 .",
    "more precisely , let @xmath35 put @xmath36 define @xmath37 to obtain a fixed sample size @xmath38 version , let @xmath39 be the maximum of integers @xmath40 for which @xmath41 . for @xmath38 , put @xmath42 motivated by bailey @xcite , for @xmath38 consider the estimator @xmath43 which is defined in terms of @xmath44 in the same way as @xmath45 was defined in terms of @xmath46 .",
    "( @xmath47 denotes the left shift operator . )",
    "the estimator @xmath48 may be viewed as an online predictor of @xmath49 .",
    "this predictor has special significance not only because of potential applications , but additionally because bailey @xcite proved that it is impossible to construct estimators @xmath50 such that always @xmath51 almost surely .",
    "[ positivetheorem ] let @xmath52 be stationary and ergodic .",
    "assume that @xmath53 then @xmath54 and @xmath55 furthermore , if for some @xmath56 , @xmath57 , then @xmath58 and @xmath59 \\\\ & & { } + { 1\\over k } \\sum_{1\\le j\\le k } [ g_j(x_{-\\tau_j } ) - e(g_j(x_{-\\tau_j})|g_{j-1}(x_{-\\lambda_{j-1}}^{-1}))]\\\\ & & { } + { 1\\over k}\\sum_{1\\le j\\le k } [ e(g_j(x_{-\\tau_j})|g_{j-1}(x_{-\\lambda_{j-1}}^{-1}))- e(x_{-\\tau_j}|g_{j-1}(x_{-\\lambda_{j-1}}^{-1}))]\\\\ & & { } + { 1\\over k}\\sum_{1\\le j\\le k } [ e(x_{-\\tau_j}|g_{j-1}(x_{-\\lambda_{j-1}}^{-1}))- e(x_{0}|g_{j-1}(x_{-\\lambda_{j-1}}^{-1}))]\\\\ & & { } + { 1\\over k}\\sum_{1\\le j\\le k } e(x_{0}|g_{j-1}(x_{-\\lambda_{j-1}}^{-1}))\\\\ & = & a_k+b_k+c_k+d_k+e_k.\\end{aligned}\\ ] ] obviously , @xmath60 now we will deal with @xmath61 . by lemma 1 , in morvai , yakowitz and gyrfi @xcite , @xmath62 using this , we get that @xmath63 .",
    "assume that @xmath64 .",
    "toward mastering @xmath65 , one observes that @xmath66 are identically distributed by lemma 1 in morvai , yakowitz and gyrfi @xcite and @xmath65 is an average of martingale differences . by proposition [ propositionelton ] in the , @xmath67 almost surely and @xmath68 . by assumption , @xmath69 consequently by the a.s .",
    "martingale convergence theorem , we have that @xmath70 and thus @xmath71 furthermore , by doob s inequality , cf .",
    "theorem 1 on page 464 , section 3 , chapter  vii in shiryayev @xcite , @xmath72 .",
    "we have so far proved that @xmath73 and @xmath74 this in turn implies that @xmath75 and @xmath76 now since @xmath77 almost surely , @xmath78 and by doob s inequality , @xmath79 now , apply the generalized ergodic theorem to conclude that @xmath80 and the proof of ( [ eqregplust1 ] ) is complete . similarly , @xmath81 and @xmath82 and the generalized ergodic theorem gives @xmath83 and the proof of ( [ eqregplust1.2 ] ) is complete .",
    "now , we assume that for some @xmath56 , @xmath57 , and we prove ( [ eqregcesaro ] ) .",
    "observe that @xmath84\\ ] ] and since by proposition [ propositionl ] in the @xmath67 almost surely and @xmath85 and @xmath86 almost surely ( for the same reason as before ) .",
    "we have so far proved that @xmath73 and @xmath87 this in turn implies that @xmath75 and @xmath88 now since @xmath77 almost surely , @xmath89 and by doob s inequality , @xmath90 by maker s ( or breiman s ) generalized ergodic theorem ( cf . theorem 1 in maker @xcite or theorem 12 in algoet @xcite ) one gets ( [ eqregcesaro ] ) .",
    "similarly , @xmath91 and @xmath92 now , apply maker s ( or breiman s ) generalized ergodic theorem to prove ( [ eqregcesaro1.2 ] ) .",
    "the proof of theorem [ positivetheorem ] is complete .",
    "we are indebted to the referee for the following remark . using the notion of bochner integrability of strongly measurable functions with values in @xmath93 and the extension of birkhoff s ergodic theorem to banach space valued functions ( see krengel @xcite , page 167 ) , one can give an easy proof of maker s theorem .",
    "the key condition now becomes the fact that the norm of the sequence @xmath94 in @xmath93 is integrable , and then the convergence in the norm of @xmath93 allows one to deduce the convergence of the diagonal sequence which is what appears in maker s theorem .",
    "in theorem [ positivetheorem ] for the cesro convergence in the @xmath95 norm , we assumed that @xmath96 was not merely in @xmath95 but in @xmath97 . in this section , we shall show that some additional condition is really necessary .",
    "we will first give an example to show that the maximal function of the conditional expectations @xmath98 may be nonintegrable for an integrable process .",
    "we shall do so in an indirect fashion by showing that the the estimate @xmath99 for @xmath100 does not converge in cesro mean to zero .",
    "this means that even though we are may be in the distant future the information of the prehistory can make a serious difference .",
    "this example serves as a model for the main result of the section where we show that for any estimation scheme for @xmath99 which converges almost surely in cesro mean for all bounded processes there will be some ergodic integrable process where it fails to converge .",
    "indeed the processes that we need to consider are countably valued and in fact are zero entropy and finitarily markovian ( see below for a definition ) , a generalization of finite order markov chains .",
    "first , let us fix the notation .",
    "let @xmath101 be a stationary and ergodic time series taking values from finite or countable alphabet @xmath102 .",
    "( note that all stationary time series @xmath103 can be thought to be a two sided time series , that is , @xmath101 . )",
    "the stationary time series @xmath52 is said to be finitarily markovian if almost surely the sequence of the conditional distributions @xmath104 @xmath105 is constant for large @xmath40 ( it is random how large @xmath40 should be ) .",
    "this class includes of course all finite order markov chains but also many other processes such as the finitarily determined processes of kalikow , katznelson and weiss @xcite , which serve to represent all isomorphism classes of zero entropy processes .    for some concrete examples that are not markovian , consider the following example .",
    "let @xmath106 be any stationary and ergodic first order markov chain with finite or countably infinite state space @xmath107 .",
    "let @xmath108 be an arbitrary state with @xmath109 .",
    "now let @xmath110 . by shields @xcite , chapter i.2.c.1 , the binary time series @xmath52 is stationary and ergodic .",
    "it is also finitarily markovian .",
    "indeed , the conditional probability @xmath111 does not depend on values beyond the first ( going backward ) occurrence of one in @xmath112 which identifies the first ( going backward ) occurrence of state @xmath113 in the markov chain @xmath106 .",
    "the resulting time series @xmath52 is not a markov chain of any order in general .",
    "we note that morvai and weiss @xcite proved that there is no classification rule for discriminating the class of finitarily markovian processes from other ergodic processes . for more about estimation for finitarily markovian processes , see morvai and weiss @xcite .",
    "[ counterex1 ] let @xmath114 .",
    "there exists a stationary and ergodic finitarily markovian time series @xmath52 taking values from @xmath102 such that @xmath115 and @xmath116 almost surely . therefore , @xmath117 be the one sided sequence space over @xmath118 .",
    "let @xmath119 .",
    "define the transformation @xmath120 as follows : @xmath121 consider the product measure @xmath122 on @xmath123 which is preserved by @xmath47 .",
    "it is well known ( cf .",
    "aaronson @xcite , page 25 ) that @xmath124 is an ergodic process , called the adding machine or dyadic odometer .",
    "the process will be defined by a function @xmath125 as @xmath126 .",
    "let @xmath127 .",
    "define @xmath128 and @xmath129 when @xmath130 where @xmath131 .",
    "define @xmath132 clearly @xmath133 .",
    "let @xmath134 and @xmath135 notice that @xmath136 it is clear that if the @xmath137 s are chosen large enough so that for all @xmath138 @xmath139 :    * the family @xmath140 @xmath141 consists of disjoint sets , * the intervals @xmath142 $ ] are also disjoint and therefore the sets @xmath143 are independent .",
    "the signaling function @xmath144 is defined by @xmath145 and the main contributor to @xmath146 will be @xmath147 clearly , @xmath148 define a process by @xmath149 and @xmath150 notice that @xmath151 .",
    "observe that @xmath152 and @xmath153 by the borel ",
    "cantelli lemma , a point @xmath154 belongs to @xmath143 infinitely often .",
    "when , @xmath155 for @xmath156 , we know that @xmath157 . at time @xmath158 , @xmath159 let s compute for a fixed @xmath160 such that @xmath161 ( i.e. , @xmath162 ) @xmath163 take @xmath164 and consider @xmath165 for @xmath166 ( i.e. , @xmath162 ) , we know that @xmath167 therefore if @xmath168 , then we must have @xmath169 ( because if @xmath170 then @xmath171 and @xmath172 , @xmath173 are defined by zero values of @xmath174 with @xmath175 ) and @xmath176 similarly , @xmath177 on the other hand , @xmath178 determines exactly the value of @xmath179 .",
    "there are four cases .",
    "if @xmath179 is equal with @xmath180 , @xmath181 , or for some @xmath182 or @xmath183 .",
    "that is , @xmath184 now @xmath185 where we assumed that @xmath186 if @xmath138 .",
    "now @xmath187 therefore , @xmath188 since @xmath189 , the proof of theorem [ counterex1 ] will be complete as soon as we verify that the process is ergodic and finitarily markovian .",
    "the first property follows from the fact that @xmath47 is an ergodic transformation . to see the second ,",
    "what we need to do is to show that the values of @xmath190 will reveal to us more and more of the values of @xmath191 as n increases .",
    "almost every point is in infintely many @xmath192 s . for any such @xmath193",
    ", there is a unique @xmath194 such that @xmath195 and this is revealed to us by the value of @xmath146 at the point in the negative orbit of @xmath154 .",
    "this information will give us the values of @xmath191 for all @xmath196 up to @xmath197 and this completes the proof .",
    "the referee pointed out that a simpler and equivalent formulation of the first statement of the theorem above is as follows .",
    "let @xmath114 .",
    "there exists a stationary and ergodic finitarily markovian time series @xmath52 taking values from @xmath102 such that @xmath115 and @xmath198 almost surely .",
    "[ this is because @xmath199 and by the ergodic theorem @xmath200 almost surely . ]",
    "[ counterex2 ] let @xmath201 .",
    "suppose @xmath202 is a scheme that for any bounded ergodic finitarily markovian process @xmath203 taking values from @xmath102 , almost surely satisfies latexmath:[\\[\\lim_{n\\to\\infty } { 1\\over n } \\sum_{n=1}^{n }    finitarily markovian process @xmath52 taking values from @xmath102 for which @xmath205 and latexmath:[\\[\\limsup_{n\\to\\infty } { 1\\over n } \\sum_{n=1}^{n }     i. _ a master process_. we shall prepare a master process with many possibilities for constructing a process such as in the earlier example with @xmath137 in a fashion that will be dictated by the estimation scheme . for @xmath207 , define @xmath208 and sets @xmath209 clearly @xmath210 .",
    "let @xmath211 and @xmath212 notice that @xmath213 and it follows that the sets @xmath214 are mutually independent . letting @xmath215 the master process is defined by @xmath216",
    ". for later use , observe that the @xmath217 s are disjoint .",
    "we will need the following easy consequence of our assumption on the estimators @xmath218 , namely that for any bounded process @xmath219 defined on @xmath123 as in the theorem and for any @xmath40 there is an integer @xmath220 and a set @xmath221 with @xmath222 and for all @xmath223 and @xmath224 we have : @xmath225 .",
    "\\ii . _ the construction_. we shall now define a sequence @xmath137 , @xmath226 , @xmath131 inductively , together with functions @xmath227 which are bounded . as @xmath40 tends to infinity , the @xmath228 will converge to @xmath229 and we will use @xmath230 to get our desired process . we may take @xmath231 to start the inductive construction .",
    "assume that we have already defined @xmath232 a subsequence of the @xmath233 s and @xmath234 we want to define @xmath137 and @xmath228 .",
    "recalling the notation @xmath235 , we have that @xmath236 unless @xmath237 , in which case @xmath238 and @xmath239 .",
    "since @xmath240 is bounded , the process defined by @xmath241 is bounded .",
    "now , by assumption , there is an @xmath220 and a set @xmath242 with @xmath222 and for all @xmath223 and @xmath224 we know that @xmath243 choose @xmath12 large enough so that @xmath244 and we make sure that @xmath245 . set @xmath246 and @xmath247 this defines a new process @xmath248 it is important to observe that if for some @xmath249 we have @xmath250 then for all @xmath251 @xmath252 this is because the way @xmath253 is defined , we know that @xmath254 can be in @xmath253 which implies that earlier iterates of @xmath154 can not be there .",
    "indeed , @xmath255 which implies that during all the later stages of the construction the values of @xmath256 in this range will not change .",
    "so we will have for @xmath257 and @xmath258 that @xmath259 if @xmath250 .",
    "it is clear that if the @xmath137 s are chosen large enough so that for all @xmath138 @xmath139 :    * the sets @xmath260 are disjoint , * the intervals @xmath142 $ ] are also disjoint and therefore the sets @xmath261 are independent .    the signaling function @xmath144 is bounded and the main contributor to @xmath146 will be @xmath262 clearly , @xmath263 define a process by @xmath149 and @xmath150 note that @xmath264 as advertised .",
    "_ checking the properties_. observe that @xmath265 and @xmath266 by the borel ",
    "cantelli lemma , a point @xmath154 belongs to @xmath261 infinitely often . in addition , since @xmath267 , almost every point will belong to @xmath242 for all sufficiently large @xmath40 .",
    "suppose then that @xmath268 . when @xmath269 , @xmath270 for @xmath269 , we know that @xmath271 . at time @xmath158 , @xmath272 let s compute for a fixed @xmath160 such that @xmath250 ( i.e. , @xmath273 ) @xmath163 for @xmath274 ( i.e. , @xmath273 ) we know that @xmath275 therefore if @xmath168 , then we must have @xmath276 because if @xmath170 then @xmath171 and the @xmath172 , are defined by zero values of @xmath174 with @xmath175 , and similarly for @xmath217 with @xmath277 , @xmath278 similarly , @xmath279 on the other hand , because @xmath223 and our remark about @xmath280 for @xmath281 , we have that @xmath282 therefore , if we take @xmath164 @xmath283 since @xmath189 , the proof of theorem [ counterex2 ] is complete .",
    "the next result is a generalization of a result due to elton ; cf .",
    "theorems 2 and 4 in elton @xcite .",
    "[ propositionelton ] for @xmath284 let @xmath285 be an increasing sequence of @xmath286-fields , and @xmath7 random variables measurable with respect to @xmath285 , be identically distributed with @xmath64 .",
    "let @xmath287 be quantizing functions so that for all @xmath12 , @xmath288 and for an increasing sequence of sub @xmath289-fields , @xmath290 such that @xmath291 is measurable with respect to @xmath292 , form the sequence of martingale differences @xmath293 then @xmath294 and @xmath295    we follow elton @xcite , who gave the proof when the martingale differences @xmath296 are identically distributed .",
    "write @xmath297 where @xmath298 and @xmath299 .",
    "now @xmath300 since for any sequence of real numbers @xmath301 , @xmath302 ( cf .",
    "lemma 7 in elton @xcite ) , letting @xmath303 and @xmath304 we get @xmath305 for ( [ elso ] ) by davis inequality ( valid for all martingale differences cf .",
    "e.g. , shiryayev @xcite , page 470 ) , we get @xmath306\\le 2 b \\biggl[e\\biggl ( \\sum_{i=1}^{\\infty } { 1\\over i^2 } ( d_i)^2 \\biggr)\\biggr]^{0.5}.\\ ] ] now , @xmath307 .",
    "but since @xmath308 , we get @xmath309 and the @xmath8 s are identically distributed therefore @xmath310 where @xmath311 is a suitable constant ( cf . the last line of the proof of lemma 1 in elton @xcite ) .    for ( [ masodik ] ) , @xmath312 and",
    "now @xmath7 are identically distributed .",
    "now since @xmath313 , lemma 2 in elton @xcite implies that @xmath314 and so @xmath315 and this completes the proof of ( [ eqthld ] ) .",
    "now , we prove ( [ eqthlc ] ) . by ( [ nulladik ] ) , @xmath316 is a martingale with @xmath317 and by doob s convergence theorem @xmath318 converges almost surely . then by kronecker s lemma ( cf .",
    "shiryayev @xcite , page 365 ) , @xmath319 almost surely .",
    "the proof of proposition [ propositionelton ] is complete .",
    "choose a positive integer @xmath311 such that @xmath324 .",
    "define @xmath325 assume first that @xmath326 .",
    "now by theorem 2 in von bahr and esseen @xcite , @xmath327 define @xmath328 by ( [ eqc ] ) , and since by assumption @xmath329 , @xmath324 , @xmath330 define @xmath331 and let @xmath332 to complete the proof of ( [ eqthla ] ) and ( [ eqthlb ] ) , it is enough to show that @xmath333 . by ( [ eqef ] ) ,",
    "it is enough to show that @xmath334 .",
    "now for some @xmath335 , @xmath336 , @xmath337 and @xmath338 now @xmath339 and so @xmath340 now @xmath341 now by von bahr and eseen @xcite and doob s inequality ( cf .",
    "e.g. , theorem 1 , chapter 3 in shiryayev @xcite ) , @xmath342 and the right - hand side is summable .",
    "we have completed the proof for @xmath326 .",
    "now assume @xmath343 . by the theorem of dharmadhikari , fabian and jogdeo  @xcite",
    ", @xmath344 applying this one gets that @xmath345 thus , @xmath346 and this yields ( [ eqthla ] ) and ( [ eqthlb ] ) .",
    "the proof of proposition [ propositionl ] is complete .",
    "the referee pointed out that the second statement of the preposition above could be proved in a simpler way as follows . by",
    "maximal doob inequality and burkholder inequality , we obtain @xmath347^{1/ p}.\\ ] ] now if @xmath348 , then by the triangle inequality in @xmath349 , @xmath350^{2/p}\\biggr\\}^{1/2 } & \\le & \\biggl [ \\sum_{i=1}^{\\infty } \\biggl(e { |\\phi_i|^p\\over i^p } \\biggr)^{2/ p } \\biggr]^{1/2 } \\\\ & \\le & \\biggl ( \\sum_{i=1}^{\\infty } { 1\\over i^p } \\biggr)^{1/2}\\sup_i ( e |\\phi_i|^p)^{1/ p}.\\end{aligned}\\ ] ] if @xmath351 , then since @xmath352 for all positive numbers @xmath353 we get @xmath354^{1/p}\\le \\sum_{i=1}^{\\infty } \\biggl(e { |\\phi_i|^p\\over i^p } \\biggr)^{1/ p } \\le \\biggl ( \\sum_{i=1}^{\\infty } { 1\\over i^2 } \\biggr)^{1/2}\\sup_i ( e |\\phi_i|^p)^{1/p}.\\ ] ] thus , in each case it is @xmath355"
  ],
  "abstract_text": [
    "<S> we study the problem of finding an universal estimation scheme @xmath0 , @xmath1 which will satisfy @xmath2 for all real valued stationary and ergodic processes that are in @xmath3 . </S>",
    "<S> we will construct a single such scheme for all @xmath4 , and show that for @xmath5 mere integrability does not suffice but @xmath6 does .    and    .    </S>"
  ]
}