{
  "article_text": [
    "face routing ( fr ) was introduced by kranakis , urrutia et al in 1999 in @xcite .",
    "it guarantees delivery in time linear in the size of the network , using logarithmic memory , and was the first algorithm to exploit availability of position , now a common feature in many ad hoc networks .",
    "its impact was twofold : it showed that it was possible to find _ local _ algorithms for ad hoc networks , as opposed to constantly re - adjusting routing tables , and it revealed the important role _ position _ could play in achieving this .",
    "the word  local \" in this context means that the algorithm is executed by a mobile agent traveling through the network and using only local information at each node ( including position ) together with a  small \" amount of transported memory ( commonly restricted to be logarithmic in the size of the network ) .",
    "more recently , in 2004 , work of reingold @xcite showed universal exploration sequences ( uxs s ) are constructible in logspace thus implying that it is always theoretically possible to route locally in the above sense , even without position data ( transporting memory of order @xmath4 as overhead in the messages ) .",
    "however delivery time by this method is a high polynomial in the network size ( not yet optimized ) , making it impractical for most ad hoc applications .",
    "this makes the critical challenge for routing in 3d ad hoc networks _ time efficiency _ and it opens the question of whether position on a surface can help improve this efficiency in 3d networks as it did in the 2d setting .",
    "we answer this question in the affirmative .",
    "related recent work shows that , even using geometric information , no constant memory local routing algorithm exists for 3d ubw s that occupy a slab of thickness greater than @xmath5 ( see durocher et al @xcite ) , however that work does _ not _ address algorithms using logarithmic memory .",
    "another related result shows that no _ sublinear _ memory local routing algorithm exists for directed graphs , even if they are planar ( fraser et al @xcite ) .",
    "this means no local routing algorithm exists at all in ad hoc networks in the presence of uni - directional communication links , under the common ( logarithmic - memory ) definition of  local \" used in the ad hoc community .    in this paper",
    "we make a first step towards addressing local , logarithmic - memory routing algorithms for undirected 3d ad hoc networks , by considering those which lie on _ surfaces_. in particular we are interested in ad hoc networks ( for example of sensors ) which may be deployed on terrains and outer surfaces of physical structures such as vehicles , buildings or other objects .",
    "we assume such surfaces are in fact oriented two - dimensional smooth manifolds which we will approximate by piecewise linear surfaces ( pls s ) .",
    "we discuss this in more detail in the next section . given a pls ( and a homology basis for it ) there exists a local , logarithmic - memory , quadratic - time routing algorithm , called _ generalized face routing _",
    "( gfr ) , which is correct for _ all _ connected graphs that are  reasonably \" embedded on the surface .    by  reasonable \" we mean such that any two edges and/or reference curves ( connecting curve , homology curves ) may intersect each other only a bounded number of times ( independent of graph size ) .",
    "we remark that face routing in the plane assumes edges of the graph to be straight lines and assumes a linear or piecewise linear connecting curve between sender and destination , thus achieving this intersection property . similarly in our case we take piecewise linear ( pl ) curves to guarantee reasonableness .    like face routing ,",
    "gfr relies on the absence of edge - crossings .",
    "it is therefore , like face routing , a base algorithm which would require further processing to handle edge - crossings and make it suitable for real - world ad hoc networks ( see @xcite ) . with appropriate assumptions on the network and surface",
    "it is possible to apply any of the standard methods for handling edge - crossings in the plane @xcite to surfaces , however the practicality of the assumptions involved would have to be studied in a more applied paper .",
    "we welcome input from readers with specific applications in mind .",
    "assume  is a piecewise linear surface ( pls ) of genus @xmath0 that has been triangulated .",
    "this is a natural assumption in practice ( see section  [ sec : model ] below ) .",
    "we recall the * genus * of a surface is defined as the maximal number of disjoint , simple closed curves which may be removed from the surface without disconnecting it .",
    "the algorithm gfr will be executed by an agent traveling in an embedded graph @xmath6 on @xmath7 we assume , as is typical in ad hoc networks , that the time of transmission is small compared with the speed at which the network changes so that one may reasonably assume the network is fixed but unknown during execution .",
    "the agent does not have access to a global representation of the graph , which may be constantly changing , but only to the i d s of its current and neighboring vertices as well their positions on @xmath7 in addition it has access to a _ homology basis _",
    "@xmath8 for @xmath7 this will consist of closed simple curves contained in the @xmath9-dimensional simplicial subcomplex of  .",
    "the reader who is not familiar with the concept of homology or homology basis is referred to jeff erickson s",
    "@xcite for an introduction to these concepts from a computational geometry perspective or to hatcher @xcite for a more detailed mathematical treatment .",
    "we give only a minimal overview here , of * simplicial homology * for surfaces .",
    "assume a ring @xmath10 .",
    "in this paper it will be @xmath11 .",
    "for @xmath12 , let @xmath13 be the set of all formal linear combinations of @xmath14-simplices in  with coefficients in @xmath10 .",
    "@xmath13 is naturally a group under addition ; its elements are called * @xmath14-chains*. define the * boundary operator * @xmath15 to be the linear map which sends each oriented simplex to the sum of of its oriented boundary simplices ( or to zero if there are none ) .",
    "those @xmath14-chains which map to zero ( i.e. have no boundary ) are called * k - cycles*. they form a group which we denote @xmath16 for @xmath17 . for our case of @xmath18 ,",
    "connected @xmath9-cycles with integer coefficients can be interpreted as closed unparametrized curves which are contained in the @xmath9-dimensional simplicial sub - complex of  .",
    "unconnected @xmath9-cycles with integer coefficients are formal sums of connected ones .",
    "let @xmath19 denote the @xmath14-boundaries , i.e. images of the boundary operator @xmath20 for @xmath21 .",
    "define the first homology group @xmath22 to be the quotient group @xmath23 .",
    "its elements are called * homology classes*. they are the equivalence classes for the equivalence relation  homologous to \" : two @xmath9-cycles @xmath24 and @xmath25 are said to be * homologous * if their difference is a @xmath9-boundary , i.e. @xmath24 and @xmath26 are the two boundary components of some formal sum of @xmath27-simplices . when @xmath18 ( or any other field ) , @xmath22 is in fact a vector space . a * homology basis * is technically a basis of this vector space and so consists of homology classes .",
    "but , in fact , one can always find a set of @xmath9-cycles which are connected and have integer coefficients whose homology classes form a homology basis . as a result ,",
    "it is common in the computational geometry literature to speak of the set of these _ closed curves _ ( instead of their homology classes ) as the homology basis .",
    "we will adopt this usage .",
    "we remark that @xmath28 so a homology basis for  will consist of @xmath29 closed curves .      as mentioned above",
    ", we may interpret @xmath9-cycles with integer coefficients as closed ( oriented ) unparametrized curves or linear combinations thereof .",
    "moreover _ all _ closed curves used in the homological arguments of this paper in section  [ sec : proof ] will be oriented and simplicial , i.e. are actually connected @xmath9-cycles with integer coefficients .",
    "therefore , in section  [ sec : proof ] we will write * closed curve * as a synonym for  connected @xmath9-cycle with integer coefficients \" , and will write * simple closed curve * if the curve has no repeated vertices .",
    "finally , when a parametrization is assumed , we will specify this and assume the orientation is compatible .",
    "see also remark  [ rem : walk ] .",
    "a set of disjoint simple closed curves @xmath30 on the surface @xmath31 which do not disconnect  may always be completed to a homology basis @xmath32 the curves @xmath30 also give a convenient way of representing the surface in the plane ( see fig .",
    "[ fig : handles ] ) is a single point if @xmath33 and empty otherwise ( such a basis can always be found ) , but this is not necessary to the algorithm ; any homology basis will do . ] .",
    "indeed , let @xmath34 consist of the union of these curves . after removing @xmath34",
    "we know the resulting surface is homeomorphic to a multiply punctured plane , namely some @xmath35 , where the @xmath36 are disks .",
    "once we assume a particular homeomorphism @xmath37 from @xmath38 onto @xmath39 , we can map all points and curves of interest in @xmath31 ( that are not completely contained in the special @xmath34 ) to corresponding points and curves in the plane .",
    "we call this a * planar representation * of the surface",
    ".    moreover , an embedded graph @xmath6 on  gives rise to @xmath40 , an embedded object ( points and arcs ) on @xmath39 , which we can interpret as a graph after making the identifications given by @xmath34 : edges will be unions of curve segments with breaks occurring at elements of @xmath34 . as the agent for gfr travels in @xmath6 , all coordinates of neighbors it obtains",
    "will be given in terms of planar coordinates in @xmath41 .",
    "see section  [ sec : data ] for more details .",
    "we remark however that the proof of correctness that we give for gfr in section  [ sec : proof ] is not on the plane but rather on the pls surface  , as this view is notationally simpler for the homological arguments involved .",
    "the property that  be a triangulated pls arises naturally from the standard modeling schemes for representing real surfaces .",
    "we give two examples .",
    "[ [ triangular - mesh - surface - models ] ] triangular mesh surface models + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    this is one of the most common modeling schemes for representing an idealized surface in computer graphics .",
    "such a presentation consists primarily of a set of triangles ( given by their vertex coordinates in @xmath42 ) and may also organize this information ( e.g. in so - called  triangle strips \" ) to facilitate stepping systematically from each triangle to a neighbor .",
    "triangular mesh surfaces are in fact triangulated pls s .",
    "suppose we have fixed a three dimensional ambient coordinate system in which the real world object of interest ( e.g. the surface of a building ) is situated .",
    "efficient algorithms exist for generating a pls which approximates a smooth surface using samples from the surface ( see for example @xcite ) .",
    "one then triangulates the linear pieces if they are not already triangular so as to obtain a triangular mesh model . to take this a step further ,",
    "suppose one has two triangular mesh surface models , @xmath43 and @xmath44 , one on either side of the actual surface @xmath31 and suitably close together .",
    "it is relatively straightforward to construct a piecewise linear map @xmath37 from either @xmath43 or @xmath44 to the plane . if these two surfaces are built  compatibly \" then one can uniquely map points lying between the two surfaces to points on the plane .",
    "this allows one to convert three dimensional coordinates of points on the real world  to coordinates of points on the plane .",
    "also , straight lines connecting nearby points on the three dimensional surface  would be mapped to pl curves in the plane and one could then use standard planar techniques to deal with edge - crossings . the aspects of  compatibility \"",
    "one would require of the triangle mesh models would depend on which edge - crossing techniques one wishes to use and also the particular setting .",
    "we welcome comments from people with particular sensor network settings in mind .",
    "[ [ wire - frame - models ] ] wire frame models + + + + + + + + + + + + + + + + +    note that in structural analysis , wire frame models are often the primary objects used to model curved surfaces and an appropriate triangular mesh representation is then generated to fill out the wire frame model ( see @xcite ) . for simplicity , the union of homology curves @xmath45 ( resp .",
    "@xmath46 ) could be taken to be contained in the original wire frame model .",
    "we now summarize gfr s access to data .",
    "each node has stored the model  ( for example in form of a triangular mesh model ) and the instructions for computing @xmath37 ( see section  [ sec : planar ] ) .",
    "the model  may be very approximate and the corresponding data small , depending on the application .",
    "its main purpose is to record homological information .",
    "it is moreover constant : it depends _ only _ on the surface and not on the number of nodes or their positions . included in this data is the homology basis @xmath8 . for example , assuming a triangular mesh model , this can be done by recording for every @xmath9-simplex whether or not it belongs to the @xmath47th curve of @xmath8 ( for @xmath48 $ ] ) and its position in a sequential numbering of the @xmath9-simplices of that curve .",
    "each node can ( via gps ) obtain its momentary latitude , longitude and altitude . from these",
    "it computes ( using @xmath37 ) its * planar position * on @xmath39 . the agent executing gfr can , at each node , query the neighboring nodes for their planar positions .",
    "when the agent is started by a sender @xmath49 wishing to transmit to a destination @xmath50 , it computes a * connecting curve * @xmath51 .",
    "this is any pl curve in the plane connecting @xmath52 to @xmath53 .",
    "@xmath51 may be mostly composed of @xmath9-simplices , to simplify calculations .",
    "gfr therefore operates essentially _ in the plane _",
    "( within @xmath39 ) but uses identifications of certain curves in the plane and other homological data to accomplish its task .",
    "[ border walk ] a walk @xmath24 in @xmath6 which has no edges on its left side will be called a _",
    "border walk_.    note that border walks are boundary components of * regions * , where a region is a connected component of the complement of @xmath6 in @xmath7 in general , regions in  may have multiple boundary components .",
    "we assume the standard boundary orientation convention : a boundary curve @xmath24 is oriented so that the region it bounds lies to the left when @xmath24 is traversed in its preferred sense . clearly each _ directed _ edge forms part of the boundary of exactly one region .",
    "we thus define :    [ adjacent border walk ] the ( at most ) two border walks which share a given ( undirected ) edge are said to be _ adjacent _ at that edge .    [",
    "trivial or non trivial border walks ( ntbw ) , tiled region ] if a border walk @xmath24 is the only boundary component of some region , we say @xmath24 is a _",
    "trivial border walk _ , otherwise it is a _ non - trivial border walk _",
    "( abbreviated ntbw ) .",
    "in other words , a closed curve is an ntbw if and only if it is not homologous to zero .",
    "we define the _ _ tiled region _ _ in earlier papers by the author by here including in @xmath54 any region with a connected boundary , regardless of its genus . ]",
    "@xmath54 to be the union of @xmath6 together with all regions of the graph which have only one oriented boundary component .",
    "[ rem : walk ] the graph @xmath6 does not in general form part of the @xmath9-dimensional subcomplex of @xmath31 .",
    "its vertices represent mobile nodes which may lie anywhere in @xmath31 and do not necessarily coincide with vertices of the fixed triangulation we have assumed for @xmath7 @xmath6 should for the time being be viewed as an embedded graph on  which gives rise to the object @xmath40 in @xmath39 .",
    "we do not specify how @xmath37 will do this .",
    "in section  [ sec : model ] we mentioned one way in which @xmath37 could be defined ( on a neighborhood of  in @xmath42 ) so straight lines in @xmath42 between nodes would be mapped by @xmath37 to pl - curves in the plane .",
    "but many choices are possible depending on how one wishes to handle edge - crossings .",
    "therefore we describe gfr in terms of the non - simplicial graph @xmath6 embedded on  .",
    "in fact , for the proofs of section  [ sec : proof ] , we _ will _ actually subdivide the triangulation of  so that all curves considered are simplicial .",
    "but this is _ not done by the algorithm _ ; it is only a convenience for our proofs .",
    "regarding the ( non - simplicial ) definition of boundary orientation just given , we remark that it assumes the region in question has the same orientation as @xmath7 when we speak of @xmath9-cycles bounding @xmath27-chains , the latter may be formal sums with coefficients of any sign and @xmath27-simplices themselves may have orientations that agree or disagree with that of  .    in keeping with standard usage , we assume the * right - hand rule * assigns as exit edge at each node the next edge clockwise from the incoming edge .",
    "such a routing rule then traverses a border walk containing the starting ( directed ) edge .    for each reference or connecting curve",
    "we assume an initial and final endpoint and orient the curve from the former to the latter . for @xmath51 ,",
    "these are @xmath49 and @xmath50 respectively , for a ( closed ) reference curve they both correspond to a single point on  .",
    "moreover , we assume a simple parametrization of each curve : to each point on the curve we associate its * -value * , defined as the distance from the initial point to that point _ in the direction of orientation _ divided by the total length of the curve .",
    "this induces a * total ordering * of the crossings of any such curve with the edges of the graph ( defining higher crossings as those with higher @xmath55-values ) .",
    "we now define a slower variant of face routing .",
    "we assume @xmath56 to be a connecting curve or homology curve and @xmath57 to be a border walk that meets @xmath56 ( to start at @xmath49 with @xmath58 , we let @xmath57 be the border walk determined by the first exit edge clockwise from @xmath51 at @xmath49 ) . in general , we start at a particular crossing @xmath59 of @xmath56 with @xmath57 and _ for the purposes of the algorithm only _",
    ", define * next greater * crossings in terms of @xmath55-values that have been shifted by subtracting @xmath60 ; note : we do not re - define actual @xmath55-values , just use shifted values to order crossings so as to make @xmath59 the least .    [ modified slow face routing ( msfr ) ] during the entire process , stop if @xmath50 is encountered .",
    "1 .   @xmath61 .",
    "2 .   traverse @xmath24 once to find @xmath62 , the _ next greater _ crossing with @xmath56 after the entry crossing @xmath59 , keeping a record over all of @xmath24 of the sum of crossings to the left minus crossings to the right for each homology curve .",
    "3 .   if any of the total sums is non - zero , stop and exit the algorithm , otherwise travel to @xmath62 .",
    "4 .   set @xmath24 to the adjacent border walk .",
    "go to ( 2 ) .",
    "[ lem : sfr ] let @xmath56 be a connecting curve or @xmath64 .",
    "msfr fully follows each component of @xmath65 that it travels unless it meets @xmath50 ; more precisely , if @xmath65 starts at @xmath66 on the ntbw @xmath67 and ends at @xmath68 on the ntbw @xmath69 , then msfr along @xmath56 starting at @xmath59 on @xmath67 stops at @xmath69 or @xmath50 . and",
    "msfr is reversible ( performing msfr on the oppositely oriented curve starting at @xmath70 on @xmath69 will surely reach @xmath67 ) .",
    "msfr along all components of @xmath71 takes a total time of @xmath72 and memory @xmath1 , @xmath73 .",
    "although face routing finishes in linear time transporting logarithmic memory , it does not have the first properties mentioned ( following @xmath56 within @xmath54 and reversibility ) .",
    "this is addressed in @xcite .",
    "the time bound follows from the bound @xmath74 on intersections of  reasonable \" curves ( since msfr will travel the boundary of each region in @xmath54 as many times as that walk s edges meet @xmath56 , the walk may have at most @xmath75 edges and each edge may meet @xmath56 at most @xmath74 times ) ; at the same time , for each edge @xmath76 traversed , msfr must check all @xmath29 curves of @xmath8 for crossings with @xmath76 .",
    "the factor of @xmath0 in the space bound is likewise due to the total sums kept for all these curves ( each total can reach be recorded with @xmath4 bits ) .",
    "let @xmath77 consist of @xmath51 together with all elements of @xmath8 and all their oppositely oriented counterparts .",
    "assume a fixed * indexing * of these @xmath78 elements _ beginning with @xmath51_.    for @xmath51 and each curve @xmath79 we have already defined the * -value * of a point on the curve ; for the oppositely oriented counterparts of @xmath79 we define the @xmath55-value analogously , reversing the roles of @xmath49 and @xmath50 .",
    "gfr transports a list of triples @xmath80 , where @xmath47 is the index of a curve @xmath56 in @xmath77 , and @xmath81 are @xmath55-values along @xmath56 . if msfr along some @xmath82 stops before reaching @xmath50 , then by lemma [ lem : sfr ] it must do so at a ntbw .",
    "if at this stage msfr is begun on another @xmath83 , it will stop at another ( possibly same ) ntbw .",
    "we thus hop from one ntbw to another .",
    "let @xmath84 be a * virtual multi - graph * whose vertices ( @xmath85 ) are all the ntbw s of the given embedded graph @xmath6 , and whose edges ( @xmath86 ) are connected _ curve - like _ has _ no self - intersections _ then a connected _ curve - like _ component is just a connected component . if @xmath56 does have self - intersections , we assume it is parametrized so @xmath56 is a homeomorphic image of the unit circle .",
    "then retain only that part @xmath87 of the circle mapped into @xmath54 .",
    "connected curve - like components of @xmath71 are images of the connected components of @xmath87.[foot : curvelike ] ] components @xmath88 of @xmath89 where @xmath90 is an edge between @xmath67 and @xmath69 , for @xmath91 if and only if @xmath88 has its endpoints at these ntbw s .",
    "an immediate consequence of this definition is :    given an edge @xmath92 of @xmath93 , which corresponds to a component of @xmath94 , if msfr along @xmath95 is started on @xmath67 at the corresponding endpoint of @xmath88 then it will stop on @xmath69 .",
    "hence , given any path @xmath96 in @xmath93 , such that @xmath97 for any border walk @xmath98 meeting one of the @xmath99 , reverse msfr can be used iteratively to return to @xmath67 from @xmath100 as long as there is available a list of the @xmath55-values corresponding to the initial and final endpoints of the @xmath101 , together with the index of the curve in @xmath77 to which each @xmath101 belongs .",
    "using this lemma , we define :    [ generalized face routing ( gfr ) ] [ alg : gfr ] during the entire process , exit if @xmath50 is encountered .    1 .",
    "use msfr on @xmath51 starting from @xmath49 until it stops .",
    "the agent is now at a ntbw , i.e. vertex of @xmath93 .",
    "2 .   perform a depth first search of @xmath93 , keeping  at each subsequent ntbw @xmath24 where msfr stops  a record of @xmath80 , where @xmath47 is the index of the curve @xmath102 just followed , @xmath103 is the @xmath55-value along @xmath56 where msfr was initiated and @xmath104 is the @xmath55-value along @xmath56 where msfr reached @xmath24 .    that an ntbw has been previously visited is detected by gfr by the presence of a crossing @xmath105 such that @xmath80 and @xmath106 correspond , as described , to one of the recorded triples .    in the next section",
    ", we will prove :    [ lem:2gntbw ] there exists a path in @xmath93 from @xmath107 to @xmath108 , resp .",
    "the first and last ntbw s met by @xmath51 .",
    "moreover , @xmath109 .",
    "this implies gfr must eventually reach @xmath108 , from which msfr will be performed on @xmath51 until @xmath50 is reached , thus proving the following theorem .",
    "[ fig : example ] illustrates the process .",
    "gfr is a local routing algorithm transporting memory of @xmath1 , and guaranteeing delivery in time @xmath2 .",
    "the time bound follows since @xmath109 and also there are @xmath110 reference curves in @xmath77 while all edges of @xmath93 which correspond to any one of these curves can be traversed by msfr in time @xmath72 by proposition  [ lem:2gntbw ] .",
    "the record of triples kept by gfr has size @xmath1 and traversing each edge of @xmath93 also requires memory @xmath1 by the lemma , hence the space bound .",
    "we now prove proposition  [ lem:2gntbw ] .",
    "it relies on a mathematical fact , lemma  [ lem : connectfacebdr ] , which we prove separately below . from now on we assume that the original triangulation of  has been subdivided so that all closed curves referred to  including those which are ntbw s  are _",
    "simplicial_. we do this to prove proposition only .",
    "the algorithm _ does not do this in practice_.    we divide the proof into two parts : showing @xmath107 and @xmath108 are in the same connected component of @xmath93 , and establishing the bound on the order of @xmath93 .",
    "\\(1 ) as we follow @xmath51 from @xmath107 to @xmath108 , let @xmath111 be the ntbw s encountered .",
    "successive ntbw s @xmath112 are alternatingly either :    * connected to each other by a component of @xmath113 or are * boundary components of a common region @xmath114 .    in the first case ,",
    "there is by definition an edge between @xmath115 and @xmath116 in @xmath93 . in the second case , by lemma  [ lem : connectfacebdr ] ,",
    "there is a path in @xmath93 between them .",
    "thus we obtain a path in @xmath93 from @xmath107 to @xmath108 .",
    "\\(2 ) to count the ntbw s , suppose there are @xmath117 of them and let @xmath118 be the collection of all  non - trivial \" regions , meaning regions which have more than one boundary component .",
    "let @xmath14 be the number of elements in @xmath118 .",
    "we may cut along all but one ntbw per element of @xmath118 and obtain a surface @xmath119 which is still connected , since each region that is an element of @xmath118 will still be attached to @xmath54 , which itself is connected .",
    "we are cutting along @xmath120 curves , so @xmath121 . on the other hand , cutting along just one ntbw of each element of @xmath118 would not disconnect the surface either , so @xmath122 .",
    "hence , @xmath123 .",
    "recall that part ( 1 ) of the proof of proposition  [ lem:2gntbw ] was divided into two cases . in the first",
    ", we considered vertices of @xmath93 ( i.e. ntbw s of @xmath6 ) which were adjacent in @xmath93 since the ntbw s involved were connected by pieces of @xmath113 . in the second case we appealed to lemma  [ lem : connectfacebdr ] to establish a path in @xmath93 between two ntbw s which share a common region @xmath114 .",
    "in fact such a path exists without using any pieces of @xmath113 .",
    "in other words if @xmath124 is the subgraph of @xmath93 obtained by removing all edges of the form @xmath113 then the path of interest exists even in @xmath124 .",
    "we state and prove the lemma in this stronger form .    in the lemma",
    "we will also allow @xmath8 to contain formal sums of simple closed curves , since the added generality simplifies the proof by induction .",
    "[ lem : connectfacebdr ] , a connected subsurface with boundary of a riemann surface @xmath31 with fixed choice of homology basis @xmath8 , and two closed curves @xmath125",
    "which are boundary components of a single component of @xmath126 , there exists a sequence of homologically non - trivial curves @xmath127 such that each pair of successive curves @xmath115 and @xmath116 is connected by a curve segment in the family @xmath128 . ]",
    "given a set @xmath8 of @xmath9-cycles with integer coefficients generating @xmath129 and a connected graph @xmath6 embedded in @xmath130 define @xmath124 to be a virtual multi - graph , with the same vertices as @xmath93 in section  [ subgfr ] but with edges being connected curve - like components of @xmath131 only .",
    "then whenever two ntbw s @xmath24 and @xmath25 are distinct boundary components of the same region (  face \" ) @xmath114 determined by @xmath6 , there exists a path in @xmath124 from @xmath24 to @xmath25 .      in order to prove lemma  [ lem : connectfacebdr ] , we will use certain facts about homology bases expressed in terms of the notion of intersection number .",
    "we therefore define intersection number and list its relevant properties , sketching their proof in elementary terms . a formal treatment may be found in @xcite .",
    "we recall that  is a simplicial complex and we use the term _ closed curve _ to mean a connected @xmath9-cycle ( we are using _ simplicial _ homology ; see the brief introduction in section  [ sec : hom ] ) .",
    "every closed curve may be written as a sum of simple closed curves , i.e. @xmath9-cycles with no self - intersections .",
    "now , given any two simple closed curves @xmath132 , we define their intersection number @xmath133 . if @xmath132 coincide , we set @xmath133 to zero .",
    "if they do not coincide , let @xmath134 be a shared connected @xmath9-chain that is maximal in the sense that at its two distinct endpoints , @xmath135 and @xmath136 , @xmath56 and @xmath24 diverge .",
    "we assume that @xmath135 is the start of the shared chain and @xmath136 the end , using the orientation of @xmath56 ( which may not coincide with that of @xmath24 ) .",
    "on the other hand , we use the orientation of @xmath24 to establish a left and a right side of @xmath24 ( here the orientation of  is implicit as well ) .",
    "now define @xmath137 to be zero if @xmath56 is incident to the same side of @xmath24 at @xmath135 and @xmath136 , and define @xmath137 to be @xmath138 ( resp .",
    "@xmath139 ) if @xmath56 is to the left of @xmath24 at @xmath135 and then to the right at @xmath136 ( resp .",
    "right and then left ) .",
    "positive @xmath137 amounts to saying @xmath56 leaves @xmath134 as an outward normal to the region bounded by @xmath24 .",
    "now , suppose this has been done for all shared sequences @xmath134 and sum @xmath137 over them to obtain @xmath133 .",
    "this defines intersection number for all simple closed curves .",
    "extend this definition by bilinearity to _ formal linear sums _ of simple closed curves .",
    "the key properties of intersection number that we will use are :    1 .",
    "@xmath133 is a homology invariant , i.e. depends only on the homology classes @xmath140 , [ \\alpha]$ ] 2 .",
    "@xmath133 is bilinear 3 .",
    "@xmath133 is non - degenerate , i.e. any curve which is not homologous to zero must have nonzero intersection number with one of the elements of a homology basis .",
    "these properties show that intersection number provides a non degenerate bilinear form on the first homology vector space , and they express poincar duality in the special case of oriented surfaces ( see @xcite for an accessible treatment of poincar duality and intersection forms ) .",
    "we outline a proof of the listed properties alone , giving the essential ideas .",
    "we now assume all curves are simple ( i.e. have no self - intersections ) .",
    "the general case follows by straightforward extension ( property 2 . immediately ) , since arbitrary closed curves are formal linear combinations of simple ones .",
    "moreover , for ease of discussion , we parametrize each curve compatibly with its orientation so we have an order in which to _ follow _ the curve through all its @xmath9-simplices .    for property 1 .",
    ", note that if @xmath24 and @xmath141 are homologous then @xmath24 and @xmath142 are the two boundary components of some region @xmath114 . as mentioned in the definition , after a shared chain @xmath134 with positive @xmath137 , @xmath56 exits the region @xmath114 , while after a shared chain with negative @xmath143 , @xmath56 enters @xmath114 . since any entry ( resp .",
    "exit ) across @xmath24 that does not have a corresponding exit ( resp .",
    "entry ) across @xmath24 must have one across @xmath141 , we conclude that @xmath144 . the argument in the first coordinate is analogous .",
    "property 2 .",
    "follows by a similar basic argument since , for example , having @xmath145 implies @xmath146 and @xmath25 and @xmath147 are the boundary components of a region @xmath114 . finally for property 3 .",
    ", note that if @xmath148 for all @xmath56 in a homology basis @xmath8 , then by property 2 .",
    "@xmath24 would have zero intersection with _ all _ curves of the surface .",
    "if @xmath24 were not homologous to zero then removing @xmath24 from  would not disconnect  and so there would exist a path within the @xmath9-skeleton from an edge on one side of @xmath24 to an edge on the other side of @xmath24 , not crossing @xmath24 itself .",
    "but now , by connecting the two endpoints of this path ( to @xmath24 and possibly along it ) one would obtain a curve which has intersection number @xmath149 with @xmath24 , a contradiction .",
    "we will refer to a maximal shared connected @xmath9-chain of @xmath56 and @xmath24 as a _ crossing _ whenever @xmath56 and @xmath24 are on opposite sides of each other at the start and end of the chain .",
    "we will say @xmath56 _ crosses _",
    "@xmath24 if such a crossing exists ( even if the intersection number of the two curves is zero ) .",
    "[ rem : prelem ] any @xmath9-cycle @xmath150 which has zero intersection number with a closed curve @xmath24 is homologous to a sum of @xmath9-cycles which can be parametrized ( compatible with orientation ) so they do not cross @xmath24 .",
    "indeed , one pairs crossings in one direction with crossings in the other and then connects a pair of crossings by two copies of a portion of @xmath24 , with suitable ( opposite ) orientations ; when taking the formal sum , these portions of @xmath24 cancel out .    on the other hand , for any @xmath9-cycle @xmath150 that has non - zero intersection number with a closed curve @xmath24 there must exist a curve - like connected component @xmath88 of @xmath151 which starts on one side of @xmath24 and ends on the other . indeed",
    "if this were not so then following @xmath150 ( according to any fixed orientation - compatible parametrization ) the values of @xmath152 at the crossings with @xmath24 would alternate between @xmath149 , thus giving @xmath153 , a contradiction .",
    "we prove the lemma by induction on the number of vertices of @xmath124 . for @xmath154 or @xmath9 vertices",
    "it is trivially true .",
    "now suppose @xmath124 has exactly two vertices , which correspond to the ntbw s @xmath24 and @xmath25 .",
    "then these two ntbw s must bound the same region @xmath114 ( since an ntwb by definition is a boundary component of a region with multiple boundary components ) . by property 3",
    ". of intersection number there exists @xmath64 such that @xmath155 .",
    "therefore by remark  [ rem : prelem ] there exists at least one component of there is moreover at least one such component @xmath88 .",
    "so @xmath24 and @xmath25 are connected by @xmath88 and hence @xmath124 is connected .",
    "now assume the statement of the lemma holds whenever @xmath124 has @xmath14 or fewer vertices .",
    "suppose @xmath124 has @xmath156 vertices and @xmath157 .",
    "let @xmath24 and @xmath25 be two distinct ntbw s which bound a common region @xmath114 , and let @xmath147 be a third ntbw , distinct from @xmath24 and @xmath25 .",
    "now suppose we  cap off \" @xmath147 .",
    "more specifically , by capping off we mean cutting along @xmath147 and gluing in a small triangulated pls surface homeomorphic to a closed disk on either side of the cut .",
    "the resulting surface @xmath158 has genus @xmath159 and it remains connected since @xmath6 is ( moreover , it is pls and triangulated ) .",
    "the caps we glue in to @xmath147 and @xmath160 are both closed disks and we will retain the name @xmath147 for the boundary of the disk capping off @xmath147 .",
    "moreover , since @xmath147 was a subgraph of @xmath6  in fact the only part of @xmath6 that was affected by the cutting and gluing  let the new @xmath147 still form the same part of @xmath6 and continue to use the name @xmath6 for the resulting embedded graph on @xmath158 . notice that for this graph the tiled region will be extended by exactly one disk and @xmath147",
    "will no longer be a ntbw but all other ntbw s in  will still be ntbw s in @xmath161 this is because even if @xmath147 in  was a boundary component of @xmath114 , there would still remain the two boundary components @xmath24 and @xmath25 for the region after capping off and by definition of ntbw , both @xmath24 and @xmath25 would still be ntbw s . if we denote the * new tiled region * in @xmath158 by @xmath162 , we have @xmath163 .    by a standard homological argument ( given in lemma  [ lem : basis ] below ) there exists a a set @xmath164 of @xmath9-cycles with integer coefficients generating @xmath165 such that for each @xmath166 , every connected curve - like component of @xmath167 is either a connected curve - like component of @xmath168 for some @xmath169 , or else a union of portions of @xmath147 together with connected curve - like components of @xmath168 that meet @xmath147 .",
    "if we define @xmath170 to be the corresponding virtual multigraph , with vertices that are ntbw s in @xmath158 and edges that are connected curve - like components of @xmath167 for @xmath166 , then we see that the vertex set of @xmath170 is obtained from that of @xmath124 by eliminating the single vertex @xmath147 ( and no other ) .",
    "moreover ( using this correspondence of vertices ) the property of @xmath164 given above means that any edge of @xmath170 ( from @xmath171 to @xmath172 say ) is either an edge of @xmath124 or one can find two edges in @xmath124 : one from @xmath171 to @xmath147 , the other from @xmath147 to @xmath172 .",
    "thus a path between vertices in @xmath170 implies a path between those same vertices in @xmath124 .",
    "we are now done since we know by the inductive hypothesis that there is a path connecting @xmath24 and @xmath25 in @xmath173    the argument we just made is illustrated in fig .",
    "[ fig : induction ] in terms of routing .",
    "we now state and prove the result we used concerning homology bases and capping off .",
    "[ lem : basis ] let @xmath8 be a set of @xmath9-cycles with integer coefficients which generates @xmath129 and @xmath158 the surface obtained by capping off a closed homologically non - trivial curve @xmath24 ( and @xmath146 too ) .",
    "then there exists another set @xmath164 of @xmath9-cycles with integer coefficients which generates @xmath165 such that for each @xmath166 , every connected curve - like component of @xmath167 is either a connected curve - like component of @xmath168 for some @xmath169 , or else a union of portions of @xmath24 together with connected curve - like components of @xmath168 that meet @xmath24 .",
    "we construct a set of @xmath9-cycles which generates the homology of @xmath158 and has the required properties .",
    "since @xmath24 is not homologous to zero , there is some @xmath64 such that @xmath155 by property 3 . above .",
    "denote it @xmath174 and let @xmath175 .",
    "now consider the following set of @xmath9-cycles with integer coefficients : @xmath176 all of these curves have zero intersection number with @xmath24 .",
    "using remark  [ rem : prelem ] , each one is homologous to a sum of ( parametrized ) closed curves not crossing @xmath24 .",
    "let @xmath177 be the set of all these closed curves ; they are also closed curves in @xmath158 .",
    "we claim the elements of @xmath177 generate the first homology of @xmath158 .",
    "warning : when we write @xmath178 $ ] we mean a homology class in @xmath179 ; the homology classes in @xmath179 we will simply describe as such and not give them a short - hand notation .",
    "let @xmath98 be an arbitrary closed curve in @xmath158 .",
    "since @xmath24 bounds an open region @xmath180 in @xmath158 that is homeomorphic to an open disk , any piece of @xmath98 which is a chord of @xmath180 is homologous ( in @xmath158 ) to a connected sub - chain of @xmath24 . using this to substitute all such chords of @xmath98 , we obtain that @xmath98 is homologous ( in @xmath158 ) to a curve which does not cross @xmath24 and in fact lies outside @xmath180 . without loss of generality",
    "we may take this new curve as @xmath98 ( since we are interested in generating the homology of @xmath158 ) .",
    "it corresponds to a curve in ",
    "( by replacing @xmath9-simplices on the boundary of the cap with @xmath9-simplices of @xmath24 , as usual ) .",
    "denote this curve in  also by @xmath98 .",
    "it is homologous in  to a linear combination of the elements of @xmath8 , say @xmath181 = \\sum\\limits_{\\alpha \\in \\mathcal b } a(\\alpha ) [ \\alpha]\\ ] ] with coefficients @xmath182 indexed by @xmath64 .",
    "we have @xmath183 therefore , @xmath184 & = & \\sum\\limits_{\\alpha \\in \\mathcal b } \\frac{a(\\alpha)}{m } [ m\\alpha ]     - \\frac{1}{m}\\sum\\limits_{\\alpha \\in \\mathcal b } a(\\alpha)\\#(\\alpha , \\beta ) [ \\lambda ] \\\\ & = & \\sum\\limits_{\\alpha \\in \\mathcal b } a(\\alpha ) [ \\alpha ] = [ \\delta].\\end{aligned}\\ ] ] none of the elements of @xmath177 crosses @xmath24 and so neither does a linear combination of them .",
    "we thus have two curves , @xmath185 and @xmath98 which lie outside @xmath180 and are homologous to each other in @xmath7 denote the first curve @xmath150 and let @xmath186 be a @xmath27-chain in  with boundary @xmath187 .",
    "when we cap off @xmath24 as described earlier we produce the curve @xmath187 in @xmath119 and a new @xmath27-chain @xmath188 in @xmath189 whose boundary is @xmath187 .",
    "thus @xmath150 and @xmath98 are also homologous in @xmath161 so @xmath177 indeed generates the first homology of @xmath158 .",
    "face routing ( fr ) is at the base of most position - based routing algorithms used in ad hoc networks today .",
    "it is a logarithmic - memory , local algorithm guaranteeing delivery in embedded graphs on the plane but not on positive genus surfaces .",
    "we have exhibited a position - based algorithm , gfr , which guarantees delivery for embedded graphs on surfaces of arbitrary genus .",
    "it is also local and uses logarithmic memory . like fr , it is a base algorithm which as a next step could be adapted to handle edge - crossings .",
    "we welcome communication on particular settings of interest , as the method of handling edge - crossings would have to be somewhat tailored to the application . while universal exploration sequences ( uxs s ) provide a _ non position - based _ logarithmic - memory , local routing algorithm for any network , the time is a high polynomial ( @xmath190 ) and no better algorithm has until now been proposed which would apply to 3d ad hoc networks .",
    "fr and gfr take linear and quadratic time respectively . by restricting to the setting of graphs on surfaces which retains the codimension - one character of graphs in the plane , we have obtained ( with gfr ) an fr - like gain in time efficiency for the task of local , logarithmic - memory routing in a class of 3d ad hoc network .",
    "p. boone , e. chavez , l. gleitzky , e. kranakis , j. opatrny , g. salazar and j. urrutia , morelia test : improving the efficiency of the gabriel test and face routing in ad - hoc networks , in proc .",
    "sirocco 2004 , r. kralovic and o. sykora eds . ,",
    "springer verlag , 2004 , lncs 3104 , pp ."
  ],
  "abstract_text": [
    "<S> we present a local routing algorithm which guarantees delivery in all connected graphs embedded on a known surface of genus @xmath0 . </S>",
    "<S> the algorithm transports @xmath1 memory and finishes in time @xmath2 , where @xmath3 is the size of the graph . </S>",
    "<S> it requires access to a homology basis for the surface . </S>",
    "<S> this algorithm , gfr , may be viewed as a suitable generalization of face routing ( fr ) , the well - known algorithm for plane graphs , which we previously showed does _ not _ guarantee delivery in graphs embedded on positive genus surfaces . </S>",
    "<S> the problem for such surfaces is the potential presence of homologically non - trivial closed walks which may be traversed by the right - hand rule . </S>",
    "<S> we use an interesting mathematical property of homology bases ( proven in lemma  [ lem : connectfacebdr ] ) to show that such walks will not impede gfr . </S>",
    "<S> fr is at the base of most routing algorithms used in modern ( 2d ) ad hoc networks : these algorithms all involve additional local techniques to deal with edge - crossings so fr may be applied . </S>",
    "<S> gfr should be viewed in the same light , as a base algorithm which could for example be tailored to sensor networks on surfaces in 3d . </S>",
    "<S> currently there are no known efficient local , logarithmic memory algorithms for 3d ad hoc networks . from a theoretical point of view our work suggests that the efficiency advantages from which fr benefits are related to the codimension  one nature of an embedded graph in a surface rather than the flatness of that surface ( planarity ) .    * keywords : * sensor networks , local routing , topological graph , homology basis , face routing </S>"
  ]
}