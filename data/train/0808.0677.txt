{
  "article_text": [
    "since 2001 the cdf ii detector has been collecting data used to carry out a rich physics program at the fermilab tevatron @xmath0 collider .",
    "the quality and purity of the data relies heavily on the high performance and efficiency of the cdf trigger system .",
    "the heart of the trigger for physics is the extremely fast tracker ( xft ) , a trigger track system used to identify charged tracks .",
    "tracks are identified based on the data from sense wires in the central tracking chamber in time for the level 1 trigger decision , and are extrapolated to the calorimeter and muon chambers to form electron and muon trigger candidates .",
    "the steady increase of the tevatron instantaneous luminosity results in higher detector occupancy from multiple @xmath0 interactions . for the track trigger ,",
    "this produces overlapping pattersn of hits identified as high momentum tracks and lead to the rapid growth in trigger rates .",
    "the control of trigger rates by raising thresholds or prescaling triggers results in signficicant loss in acceptance of important physics signatures with a negative impact on the cdf ii physics program that demanded an upgrade of the original system . without the upgrade the physics potential of cdf would be significantly compromised .",
    "the track segments identified at level 1 are delivered to the level 2 trigger proccessors , where more available time allows 3d - track reconstruction improving the track trigger purity and allowing use of @xmath1 and cot @xmath2 information .",
    "here we provide a brief overview of the xft system and the level 1 track trigger upgrade and a description of the level 2 part of the xft system .",
    "the cdf ii tracking chamber has sense wires arranged in 8 super - layers alternating between axial and @xmath3 stereo .",
    "twelve sense wires are grouped into drift cells .",
    "the innermost superlayer contains 168 stereo cells , while the outermost one has 480 axial drift cells .",
    "eight adjacent cells are read out by tdc modules that digitize the arrival time of analog hit signals induced on each wire .",
    "the xft track processing consists of three stages : hit classification on each sense wire , track segment finding based on predefinied characteristic patterns of groups of hits from real tracks , and linking segments between super - layers to identify tracks .",
    "it was forseen that the tevatron would operate with 108 bunches of protons and anti - protons .",
    "therefore each axial sense wire provides two bits of drift time information prompt or delayed hit , every 132 ns . in reality",
    ", the tevatron operates with 36 bunches and a 396 ns bunch crossing interval .",
    "the stereo upgrade makes use of it by allowing three times more information to be transferred per wire . the mezzanine card ( xtc2 ) reports hit times on stereo super - layers in 6 bins .",
    "the hit data is transferred to finder modules every 16.5 ns .",
    "the finder modules identify whether hits from adjacent cells are consistent with predefined patterns corresponding to segments from tracks with @xmath4 gev / c .",
    "each finder module processes hit data and finds track segments in a slice of @xmath5 at one of the super - layers . at level 1 , twelve bits of data",
    "are referred to as `` pixels '' are used to identify the azimuthal positions of track segments in the inner two axial super - layers ( numerated sl 2 and 4 ) and six groups of two bits in the outer two axial superlayers ( sl 6 and 8) and the outer three stereo superlayers ( sl 3,5 and 7 ) . the two bits at each azimuthal position provide information about positive or negative curvature of the track .",
    "both bits are on for high - momentum tracks with @xmath6 gev / c .",
    "higher pixel granularity in the stereo finders is also made available to level 2 and discussed in the next section .",
    "the axial track segment data is sent to linker modules which match groups of pixels in the four axial super - layers to predefined patterns corresponding to valid tracks .",
    "the stereo pixel data from the stereo finders is sent to stereo linker association modules ( slam ) via a fiber transmitter mezzanine board .",
    "the slam modules also receive the list of axial tracks found by the linker modules via the crate backplane .",
    "the slam modules perform the association of stereo pixels with axial tracks by exploiting the correlation between the azimuthal position of an axial track and the distances to the associated pixels foudn in the stereo super - layers .",
    "because of the @xmath3 stereo angle on alternating stereo super - layers , stereo pixels are alternatively displaced into the positive and negative direction depending on the polar angle of the track .",
    "if the axial track matches to at least one predefined pattern of stereo pixels the track is considered to be stereo confirmed , and this bit of the information along with the axial properties of the track ( @xmath7 and @xmath8 ) is driven to the xtrp system which extrapolates tracks to outer sub - detectors in the plane transverse to the beam direction .",
    "the level 1 track trigger upgrade improves the fake track rejection by a factor of 3 to 5 and is 97% efficient .",
    "the level 2 stereo upgrade is an extension of the level 1 track trigger upgrade .",
    "it introduces a new data stream to the level 2 trigger processors and thus significantly enhances the triggering capabilities at cdf .",
    "this data stream consists of the stereo track segements list with higher @xmath1-pixel and track slope granularity than is available to level 1 .",
    "the level 2 system configurtion together with the axial and the level 1 stereo part of the system is shown in figure [ fig : configuration ]          the xft stereo track finding mechanism is based on analyzing combinations of hits .",
    "each combination of 6 time bins for each of the 12 sense wires , not neccessarily within the same cell , defines a pattern . for each pattern ,",
    "a pixel corresponding to a @xmath1 position of the track crossing a given super - layer and the slope of the track is determined based on the extrapolation of tracks with random curvature , @xmath4 gev / c , through the tracking chamber geometry described with a drift time model . in general",
    ", the number of patterns corresponding to the same pixel and slope location can be large , and certain simplifications in the pattern generation are emplaced so as not to exceed the limitations imposed by the chip s resources .",
    "the stereo finder modules utilize two altera stratix 2ep2s60 @xcite fpga s , and the genrated patterns are used as the input for the segment finding firmware .",
    "two finder fpgas divide the hit data into two categoies , each one processing 18 or 10 cells depending on the superlayer , sl7 and sl3 respectively .",
    "the stereo finder processing the data from superlayer 5 has an asymmetric design with one fpga handling 18 and the other one handling 10 cells of the information .",
    "every 16.5 ns for 18 consecutive clocks the pattern in the finder fpga produces 90 bit words per each cell .",
    "each bit of this information corresponds to a level 2 stereo pixel with 18 @xmath1 and 5 slope possibilities per cell .",
    "these 90 level 2 stereo pixels get ored down to 12 pixels with 6 @xmath1 and 2 slope bins which are transmitted to the slam modules to be used in the level 1 trigger .",
    "if a level 1 accept is received the 7.5 times higher granularity level 2 stereo are stored into ram and then processed through the vhdl sparsifier state machine .",
    "six groups of pixels corresponding to level 1 @xmath1 positions within a cell define the subcells and form the header section of the level 2 output data stream .",
    "each clock tick a bit of this information is analyzed and , if the subcell is fired , a 15 bit ( 3 @xmath1 & 5 slope ) word of data is retreived from ram .",
    "the sparsified data from two finder fpga s is transmitted to a level 2-pulsar fpga operating at a different clock , which reformats the data and transfers it to a 4-channel fiber transmitter mezzanine board , designed according to the common mezzanine card ( cmc ) @xcite standard .",
    "the fiber transmitter uses tlk1501 @xcite devices to serialize the data into 16-bit words , which are transferred to pulsar boards every 16 ns .",
    "pulsar ( stands for `` pulser and recorder '' ) @xcite is a general purpose 9u vme board , which interfaces different upstream detector subsystems , and was designed primarily as an upgrade path for the new cdf ii level 2 trigger system commissioned in the summer of 2005 .",
    "data from stereo finder modules are received by the 4-input optical receiver mezzanine boards developed to carry data in the xft data format .",
    "these are the same boards used on the stereo finders to receive data from the tdcs .",
    "the pulsar board utilizes three fpgas ( altera apex 20k400bc-652 - 1xv @xcite ) : two dataio fpgas and one control fpga . both data ios fpgas provide interfaces to two mezzanine cards each .",
    "for the xft stereo upgrade application , the pulsar board performs the merging of the segment list data from 12 stereo finders and re - formats it into an s - link 32-bit word standard packet @xcite    the s - link data format allows communication between the pulsar board and s - link - to - pci interface four input links for atlas readout ( filar ) card @xcite .",
    "the filar is a high bandwidth s - link - to - pci interface card developed in cern and designed to have low pci bus utilization with minimal host processor control .",
    "each filar card performs an autonomous data reception from four s - link channels delivering data from various detector subsystems to the level 2 decision node pc memory .",
    "the level 2 decision node is a dual core amd opteron 290 2.8 ghz ( 4 cores ) , 2 gb ram , gentoo linux machine that unpacks received data packets from various detector components and runs the trigger algorithms .",
    "the decision packet is further sent out via the s32pci64 pci interface card , a transmitter analog of the filar with one channel , to another pulsar board that communicates the decision to the trigger supervisor .    in contray to the data received from most other detector subsystems that consist of already processed information such as a list of axial tracks , the xft stereo segments data is `` raw '' , and preceeding the trigger algorithms it needs to be proccessed by the decision node cpu .",
    "the xft stereo segment data volume is therefore larger than any other data packet from other detector components .",
    "it generally ranges from 1.5 to 3 kb per event , which accounts form more than  50% of the total data volume transferred through the pci bus . to ensure that this enlarged data volume does not cause problems to the level 2 xft system the xft pulsars have abort and truncation functionality .",
    "the abort functionality reduces average demand by not transmitting any xft stereo data on events where it will not be needed .",
    "the truncation functionality terminates stereo data transmission after a settable number of data words , cutting off any events with unusually high data volumes .",
    "both aborted and truncated events are treated as automatic stereo acceptances by any triggers that call upon the stereo reconstruction .",
    "because of the high volume of the xft stereo data packet and the highly sparsified format , it is inefficient to unpack it fully , and therefore the unpacking is performed on demand only for regions of interest , i.e. near the position of a traversing axia , stereo - confirmed by level 1 , track .",
    "the stereo track reconstruction algorithim consists of the following steps .",
    "first , the axial track is extrapolated to each of the outer three stereo superlayers .",
    "next , at each stereo superlayer the track segments corresponding to @xmath93 cells centered near the extrapolated @xmath1 position of the track are unpacked . due to alternating @xmath92@xmath10 stereo angel , pixels corresponding to the real track are alternatively displaced as is shown in figure [ fig : delpixel ] .",
    "the correlation between displacements at various superlayers is exploited in the level 1 trigger , while at level 2 higher pixel granularity also allows the determination of the stereo properties of the track that can be expressed in terms of @xmath11 and cot @xmath2 .     and",
    "cote @xmath2 ) can be computed based on the measured displacements of pixels.,width=566 ]    the stereo track reconstruction performance deteriorates as the number of fake segments increases with the instantaneous luminosity .",
    "there are a total of 1620 bits of information ( 6 cells @xmath12 18 @xmath1 pixels @xmath12 3 superlayers @xmath12 5 slopes ) to be analyzed . at the next stage ,",
    "the slopes of the extrapolated track for each super - layer are obtained , and the pixels with slopes inconsisten to the ones of the track are ignored , and then pixels corresponding to the same @xmath1 position are ored between slopes .",
    "this operation decreases the amount of bit information by a factor of 5 by filtering a large number of fake segments .",
    "next , the fired pixels across different stereo layers are combined into triplets . to decrease the combinatorics in case of the two or three adjacent pixels fired ,",
    "the mean of the cluster of pixels is used in the triplet .",
    "only aligned triplets are considered that extrapolate to the luminous region of the detector @xmath13 less than 60 cm ) .",
    "the trigger utilizing the stereo reconstruction determines which of these surviving triplet combinations are examined .",
    "the procedure described above provides measurements of @xmath11 and cote @xmath2 at the level 2 with resolutions of 11 cm and 0.13 rad respectively ( see figure [ fig : resolutions ] ) .",
    "it is important to note that the resolution distributions are close to gaussian thus assuring the high efficiency of stereo trak matching to detector components .     and",
    "@xmath11 resolutions of the level 2 stereo tracks , title=\"fig:\",width=302 ]   and @xmath11 resolutions of the level 2 stereo tracks , title=\"fig:\",width=302 ]    all of the steps of the stereo track reconstruction algorithim are optimized and reduced to a sequence of bit - wise operations . nevertheless , it is a rather cpu intensive process .",
    "figure [ fig : reconstruction ] shows the time spent to reconstruct a track as a function of instananeous luminosity . to reduce the effect on the level 2 latency of the system",
    ", stereo tracking is performed on demand , i.e. only if the track passes trigger requirements applied to its axial quantities .",
    "the cdf ii detector is operated at high instantaneous luminosities with the goal of maximizing trigger acceptance of high @xmath14 physics processes . at peak luminosity",
    ", the primary limitation is the level 2 bandwidth of 900 hz .",
    "the level 1 track trigger upgrade improves the track purity and reduces a trigger rates by a factor between 3 and 5 as evidenced from the cmx trigger before and after the upgrade ( see figure [ fig : performance ] ) .",
    "the stereo tracking at level 2 takes advantage of more information and provides reduction by a a factor ranging from 2 to 4 .",
    "the level 1 upgrade was completed in fall 2006 and has been used for collecting data since then .",
    "the level 2 part of the upgrade was comissioned near the end of 2007 and has been used for collecting data since then .",
    "the 3d track trigger upgrade of the cdf ii detector has been described .",
    "the upgrade introduces new capabilities of 3-d track reconstruction at level 2 , considerably improves the performance and efficiency of the cdf ii trigger system , especially at high instantaneous tevatron luminosities and enhances the physics potential of the cdf run ii detector .        9 altera corporation , `` stratix ii device handbook '' , august 2006 .",
    "k. anikeev , @xmath15 , ieee trans .",
    "tns-00560 - 2004 .",
    "texas instruments , `` tlk1501 : 0.6 to 1.5 gbps transceiver , '' data sheet , 2004 . k. anikeev , @xmath15 , fermilab - pub-06 - 400-e , 2006 .",
    "altera pub .",
    ", `` apex 20k programmable logic device family '' , data sheet v. 5.1 , 2004 e. van der bij , @xmath15 , ( 1997 , sep . ) `` s - link , a data link interface specification for the lhc era . '' presented at 10th ieee real time conference .",
    "w.iwanski , @xmath15 , ( 2001 , aug . )",
    "`` designing an s - link to pci interface using an ip core . ''",
    "presented at 12th ieee - npss real time conference ."
  ],
  "abstract_text": [
    "<S> this proceedings describes the xft stereo upgrade for the cdf level 2 trigger system . starting with the stereo finder boards , up to the xft stereo track algorithm implementation in the level 2 pc . </S>",
    "<S> this note will discuss the effectiveness of the level 2 stereo track algorithm at achieving reduced trigger rates with high efficiencies during high luminosity running . </S>"
  ]
}