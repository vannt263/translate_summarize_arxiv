{
  "article_text": [
    "the purpose of this note is to present a connection between the positive thompson monoid ( of type @xmath1 ) and tamari lattices ( of type @xmath8 ) .",
    "the fact that thompson groups and monoids are related to trees is certainly well known and established among the people interested in these groups . ever since  @xcite trees are heavily used as helpful tools in representing elements in order to aid both calculations and conceptual understanding . on the other hand",
    ", researchers in combinatorics have usually , with rare exceptions , heard very little about thompson groups , and even when they have it is mostly in the context of providing examples of infinite simple groups .",
    "we start with some very well known and understood classes of objects in combinatorics that are related to tamari lattices on symmetric groups and then naturally arrive at thompson monoids , which essentially capture all instances of these combinatorial objects along with their inter - relations .",
    "the connection in question relates tamari lattices on finite symmetric groups ( tamari lattices of type @xmath8 ) to the positive thompson monoid @xmath9    the connection is obtained in a natural way as follows .",
    "first some well known connections between permutations , inversion sequences and linearized labeled binary rooted trees are recalled . the simple observation that concatenation is closed in the set",
    "@xmath10 of inversion sequences leads to a definition of a graded product on the set of all finite permutations @xmath11 . the corresponding product on the set of linearized labeled binary rooted trees @xmath12 is just stacking of trees . at this stage",
    "we have three isomorphic monoids @xmath10 , @xmath11 and @xmath12 .",
    "tamari congruence on @xmath12 is the congruence obtained when trees that have the same shape but different linearization are identified .",
    "this leads to a corresponding congruence on the level of permutations and also on the level of inversion sequences and we get three monoids @xmath13 , @xmath14 and @xmath15 .",
    "it turns out that these three monoids are free .",
    "we then extend our considerations to the set of all sequences of non - negative integers @xmath16 , all linearized labeled binary rooted forests @xmath17 and the corresponding set of @xmath18-permutations @xmath19 .",
    "we extend the notion of tamari congruence and identify two forests of the same shape regardless of the linearization . the corresponding factor monoids @xmath20 are isomorphic to the thompson monoid @xmath21 .    after going through the details of the connection between tamari lattices on symmetric groups and thompson monoid @xmath21 in section  [ delinearization ]",
    ", a similar connection is established between thompson monoids @xmath6 , @xmath22 , and tamari orders ( they do not form lattices for @xmath23 ) corresponding to partitions of @xmath4-gons into @xmath5-gons in section  [ partitions ] .",
    "tamari lattices of type @xmath8 are homomorphic images of the weak bruhat order lattices over finite coxeter groups of type @xmath8 , i.e. , finite symmetric groups . recall that the ( left ) weak bruhat lattice on @xmath24 as coxeter group of type @xmath25 is just the ( left ) cayley graph of @xmath24 with respect to the standard generating set of reflections @xmath26 ordered by declaring that @xmath27 if there exists a geodesic path from @xmath28 to @xmath29 that passes through @xmath30 .",
    "alternatively , we may say that @xmath30 is covered by @xmath29 if @xmath31 , for some standard reflection @xmath32 , and the length of @xmath29 ( in terms of the standard reflections ) is larger than the length of @xmath30 .",
    "then define the weak bruhat order as closure of this cover relation .    for a fixed @xmath33 ,",
    "there are many ways of thinking of the congruence classes on @xmath24 defining the corresponding tamari lattice @xmath34 .",
    "we recall some of them here , along with some additional notions .",
    "we consider linearized labeled binary rooted trees on @xmath33 interior vertices .",
    "when @xmath35 there is only one such tree and it has a single vertex which is simultaneously the root and a leaf labeled by 0 .",
    "if @xmath36 the root of such tree has degree 2 and the other @xmath37 interior vertices have degree 3 .",
    "the @xmath38 leafs are labeled bijectively by @xmath39 .",
    "in addition , the interior vertices are labeled bijectively by @xmath40 in such a way that the labels on the paths from the root to the leafs are decreasing ( this is the linearization part of the tree - we can use it to extend the partial order on the interior vertices induced by the tree structure to a linear order ) .",
    "we depict such trees as in figure  [ tree - lin ] .",
    "a rooted binary tree often admits more than one linearization and some standard choices are well established .",
    "we mention here two such choices ( which are relevant to our discussion ) .",
    "the post - order linearization labels the interior vertices by @xmath41 exactly in the order they are visited by using the left - right - root rule . the inverse post - order ( or the right - left post order ) labels the interior vertices in the order they are visited by using the right - left - root rule .",
    "the in - order labeling ( using the left - root - right ) does not necessarily produce a proper linearization . in the rest of the text",
    "we often say linearized tree and tree when we mean linearized labeled binary rooted tree and labeled binary rooted tree ( the latter lack linearization labels , i.e.  they lack labels on the interior vertices ) .",
    "we recall the interpretation of tamari lattice @xmath34 as given by huang and tamari in  @xcite .",
    "it is defined by the product order on the set of integer sequences @xmath42 such that @xmath43 , for all @xmath44 , and the condition that whenever @xmath45 and @xmath46 then @xmath47 . while this is not directly apparent in  @xcite",
    ", one can easily interpret these sequences as encodings of labeled binary rooted trees as follows .",
    "let @xmath48 be a tree with @xmath33 interior vertices .",
    "for @xmath49 , let @xmath50 be the largest leaf label of the subtree of @xmath48 hanging below the interior vertex @xmath44 in the in - order labeling .",
    "for example , the encoding of the tree in figure  [ tree - lin ] is @xmath51 .    the tamari lattice @xmath34 is defined by bjrner and wachs in  @xcite as the product order on the set of integer sequences @xmath52 satisfying @xmath53 , @xmath49 , and @xmath54 , for @xmath55 and @xmath56 . a correspondence is established between permutations and labeled trees ( the labeling on the interior vertices does not respect the partial order imposed by the tree , but it is related to it in a different way ) .",
    "all permutations are encoded by integer sequences of the above type as follows .",
    "given a permutation @xmath30 , for each @xmath44 , count the number of consecutive terms in @xmath57 following @xmath58 that are smaller than @xmath58 .",
    "for example , for @xmath59 we have @xmath60 and the encoding sequence is @xmath61 . in the corresponding tree",
    "this sequence records , for each @xmath44 , the number of interior vertices in the right subtree below the vertex visited at position @xmath44 using the in - order .",
    "for example , the tree in figure  [ tree - lin ] ( ignore the labels on interior vertices ) is encoded by the sequence @xmath61 .",
    "this same tree encodes the permutation @xmath62 .",
    "the tamari classes are then classes of permutations encoded by the same integer sequence .",
    "the top permutation in each of these classes is 312-avoiding and the bottom one is 132-avoiding .    a correspondence between linearized binary trees on @xmath33 interior vertices and permutations in @xmath24 is given by loday and ronco in  @xcite .",
    "the tamari classes correspond to classes of permutations that are associated to the same tree ( ignoring the linearization ) .",
    "this is exactly the way in which we will think of tamari congruence classes on @xmath24 .",
    "there is a way to define triangulations of a @xmath63-gon corresponding to permutations in @xmath24 .",
    "the tamari congruence classes then consists of permutations that produce the same triangulation ( see  @xcite ) .",
    "the partial order on triangulations inherited from the weak bruhat order is actually rather natural and can be expressed in its own right , with no reference to the weak bruhat order ( the cover relation expresses a local change in the triangulation due to a single `` diagonal flip '' ) .",
    "this is precisely defined in a more general setting in section  [ partitions ] .",
    "purely in terms of the weak bruhat order one can define the tamari congruence on @xmath24 as the coarsest congruence @xmath64 that collapses the edges @xmath65 for @xmath66 , in the weak bruhat order on @xmath24 .",
    "this and many other lattices on @xmath24 are described in this manner by n.  reading in  @xcite .",
    "the collapsing of edges is encoded in the coxeter diagram @xmath25 by directing the edges .",
    "the tamari congruence corresponds to orienting all the edges the same way , as in @xmath67    there are many other ways to arrive at an ordered lattice isomorphic to the tamari lattice corresponding to @xmath24 , with or without referring to permutations . the author has stumbled upon yet another way in  @xcite in which fixed points of a certain endomorphism of an infinite rooted tree are studied .",
    "each vertex stabilizes after finitely many applications of the endomorphism and reaches a , so called , self - describing sequence .",
    "each class of points at level @xmath33 that eventually stabilizes to the same self - describing sequence corresponds in a rather natural way ( through site inversion counting ) to a congruence class in the tamari lattice on @xmath24 .",
    "note that there are certainly different congruences on @xmath24 producing the same lattice quotient and thus deserving of the title tamari congruence .",
    "the point is that there are always some choices involved and there is often more than one natural choice .",
    "one could work with the right bruhat order instead of the left one , or define slightly different way to associate triangulations to permutations , or apply some obvious automorphisms to the weak bruhat order lattice , and so on .",
    "there is just too much symmetry involved to claim any canonical choices ( in our discussion so far we already mentioned a few different choices existing in the literature ) .",
    "we now fix a particular tamari congruence on @xmath24 .",
    "the congruence will be denoted by @xmath64 .",
    "it is the one we already defined above in terms of collapsing edges in the weak bruhat order .",
    "we will make our definition of a triangulation corresponding to a permutation consistent with this choice .",
    "we will also make all our subsequent choices in accordance to this choice .",
    "this makes all the connections we display possible at the price of not always choosing the most standard way of representing some objects .",
    "it is all matter of left versus right , bottom versus top , etc . , and it seems a standard choice in one aspect leads to non - standard choices in another aspect , so some degree of `` oddness '' is unavoidable .",
    "lattice congruence classes in finite lattices always form intervals , so the tamari congruence classes are intervals in the weak bruhat order . in agreement with our choices tamari congruences",
    "correspond to intervals in the weak bruhat order in which the upper bound is a @xmath2-avoiding permutation and the lower bound is a @xmath3-avoiding permutation .",
    "we will later say more on pattern avoidance .",
    "here we list some basic facts on thompson group @xmath68 and the related positive monoid @xmath21 .",
    "other than the presentation , already given in  , nothing in this section is needed to follow the text .",
    "the monoid @xmath21 satisfies the ore condition and embeds into its group of left fractions @xmath69 .",
    "the group @xmath68 is the celebrated thompson group @xmath1 , given by the group presentation @xmath70 which looks exactly the same as the monoid presentation for @xmath21 .",
    "the monoid @xmath21 is just the positive submonoid of @xmath68 , i.e.   the submonoid generated by the set @xmath71 .",
    "the element @xmath72 , @xmath36 , in this presentation can be written it terms of @xmath73 and @xmath74 as @xmath75 .",
    "thus @xmath68 is a finitely generated group .",
    "it is also finitely presented ( with only two relations ) , but is it often more convenient to use the above infinite presentation .",
    "the group @xmath68 has many fascinating properties and has been studied and re - discovered many times in the last 40 years .",
    "it has been a steady source of highly non - trivial and important examples or counter - examples , especially in topology .",
    "the group @xmath68 is infinite and torsion free .",
    "m.  brin and c.  squier showed that @xmath68 has no subgroups isomorphic to the free group of rank 2 and satisfies no group laws  @xcite .",
    "all normal subgroups of @xmath68 contain the commutator , which is a simple infinite group .",
    "the abelianization @xmath76 $ ] is @xmath77 ( obvious from the presentation above ) .",
    "k.  brown and r.  geoghegan singled out thompson group @xmath68 as the first example of a finitely presented torsion free group of type @xmath78 but not of type @xmath79  @xcite .",
    "thompson group @xmath68 has a universal property with respect to homotopy idempotents  @xcite .",
    "it is the group of order preserving automorphisms of the free finitely generated algebra in the variety of binary cantor algebras ( all finitely generated free algebras in this variety are isomorphic , thus there is no notion of a rank ; see  @xcite ) .",
    "v.  guba and m.  sapir showed that @xmath68 is the diagram group of the monoid presentation @xmath80  @xcite .",
    "v.  guba recently showed that the dehn function of @xmath68 is quadratic  @xcite ( this is exactly on the boundary between hyperbolic and non - hyperbolic groups ) .    on a very concrete level , the group @xmath68",
    "may be realized as the group of piecewise linear and order preserving homeomorphisms of the unit interval @xmath81 $ ] such that all the slope breaks occur at dyadic rational numbers and the slopes away from the finitely many breaks are integer powers of 2 ( this interpretation has been attributed to thurston ) .",
    "a closely related concrete realization is as the group generated by the two piecewise linear homeomorphisms given in figure  [ x0x1 ] acting ( on the left ) on the interval @xmath82 .     and",
    "@xmath74 ]    the group @xmath68 was constructed by thompson in 1965 in relation to his study of questions in logic .",
    "the simplicity of the commutator @xmath84 $ ] and the simplicity of two related finitely presented groups , @xmath85 and @xmath86 , were established by thompson in his famous unpublished notes  @xcite .",
    "the groups @xmath85 and @xmath86 were the first examples of finitely presented simple groups .",
    "a survey of some properties of @xmath1 and the related simple groups @xmath85 and @xmath86 is given in  @xcite .    it is known that @xmath68 is not elementary amenable , but it is not known if it is amenable .",
    "j.  belk and k.  brown  @xcite showed recently that the isoperimetric constant of @xmath68 is no greater than @xmath87 .",
    "the question of amenability of @xmath68 was raised by r.  geoghegan in  1979 and is one of the most interesting open questions related to thompson group @xmath68 .",
    "the question of amenability of @xmath68 can be related to the question of amenability of the positive monoid @xmath21 .",
    "it is shown by r.  grigorchuk and a.  stepin in  @xcite that the positive monoid @xmath21 is not left amenable ( following the side convention we use in this text ) and that the group @xmath68 is amenable if and only if the monoid @xmath21 is right amenable ( the notion of amenability in monoids requires attention to be paid to the side ; left and right amenability are the same in groups ) .",
    "as seen from section  [ fact - tamari ] there is a long and fruitful history of encoding permutations , trees ( linearized or not ) and various integer sequences in terms of each other .",
    "we use this section to establish a particular relation between trees , permutations and integer sequences that is relevant to our discussion and leads to a particular choice of a lattice congruence @xmath64 on @xmath24 defining the tamari lattice @xmath88 .    consider a permutation @xmath30 in @xmath24 .",
    "let @xmath89 be the number of inversions of @xmath30 that involve @xmath44 and a term to the left of @xmath44 in @xmath30 .",
    "in other words , @xmath90 counts the number of terms in @xmath30 that are larger than @xmath44 and are positioned to the left of the term @xmath44 .",
    "the sequence @xmath91 is called the inversion sequence of @xmath30 . for , example , the inversion sequence for the permutation @xmath92 is @xmath93 .",
    "we will be thinking of sequences of natural numbers as elements of the free monoid with basis @xmath94 .",
    "let @xmath95 and let @xmath16 be the free monoid on @xmath96 .",
    "the inversion sequence @xmath97 is then identified with the element @xmath98 in @xmath16 .",
    "thus we have a map @xmath99 that associates an @xmath96-word of length @xmath33 to any permutation in @xmath24 . denote the image @xmath100 by @xmath101",
    ". then @xmath102 and @xmath103 is bijective ( see  @xcite ) .",
    "let @xmath104 be the inverse map of @xmath103 .",
    "one can try to write down explicit formulae for @xmath105 , but it is more important for our purposes to think of the following constructive way of calculating the permutation @xmath105 in @xmath24 corresponding to an inversion sequence @xmath106 in @xmath101 .",
    "start with @xmath33 empty slots @xmath107 .",
    "place 1 in such a way that @xmath108 open slots are left to the left of it .",
    "then place @xmath109 in such a way that @xmath110 open slots are left to the left of it .",
    "continue this procedure until a permutation in @xmath24 is obtained . in other words , @xmath105 is obtained in @xmath33 steps by placing , at step @xmath111 , the number @xmath111 in such a way that @xmath112 open slots are left to the left of @xmath111 , @xmath113 .",
    "for example to calculate @xmath114 one starts with @xmath115 then gets @xmath116 and finally @xmath117    denote the set of linearized labeled rooted binary trees on @xmath33 interior vertices by @xmath118 .",
    "observe that the leafs @xmath39 are usually drawn in line ordered from left to right by their labels .",
    "each par of consecutive leafs @xmath119 , @xmath49 , is called a gap .",
    "associate to each gap @xmath119 the last common vertex on the unique paths from the root to leaf @xmath120 and leaf @xmath44 .",
    "we say that the associated interior vertex covers the gap ( in order theoretic terms this is just the join of the two leafs ) . in the example in figure  [ tree - lin ] the correspondence between the gaps and the interior vertices that cover them",
    "is given by @xmath121 the correspondence between gaps and interior vertices that cover them is bijective .",
    "the map @xmath122 given by @xmath123 for @xmath49 and a tree @xmath48 in @xmath118 , is bijective .",
    "as already observed , for our example from figure  [ tree - lin ] we have @xmath124 .",
    "we could express @xmath125 without referring to the gaps as follows .",
    "for @xmath49 , @xmath126 is the linearization label of the interior vertex visited at position @xmath44 in the in - order .",
    "the reason we do not do this is that gaps will be relevant in section  [ partitions ] when the discussion moves to trees of higher degree .",
    "a rooted binary tree with single interior vertex ( and two leafs ) is called a caret .",
    "each interior vertex determines a caret consisting of the vertex itself and its two children .",
    "each tree with @xmath33 interior vertices is composed of @xmath33 carets .",
    "thus we can bijectively associate gaps and carets in a labeled rooted binary tree .",
    "we also say that the associated caret covers the corresponding gap .",
    "we describe now the map @xmath127 which is inverse to @xmath128 , that associates a linearized tree @xmath129 with @xmath33 interior vertices to a permutation @xmath30 in @xmath24 .",
    "start with @xmath38 leafs placed on a line and labeled ( from left to right ) by @xmath39 . in step",
    "@xmath111 , @xmath113 , add a caret labeled by @xmath111 covering the gap @xmath130 .",
    "for example , for the permutation @xmath92 in the first step we add a caret labeled by 1 covering the gap ( 4,5 ) , after two steps we have two carets as depicted in the top half of figure  [ tree - lin2 ] , after 4 steps we have 4 carets as in the bottom half of figure  [ tree - lin2 ]    ]    and in the last step we obtain the linearized tree in figure  [ tree - lin ] .    of course , the compositions @xmath131 and its inverse @xmath132 provide bijection between @xmath101 and @xmath118 for every @xmath33 .",
    "it is actually possible to write down the correspondence more directly without referring to @xmath24 as an intermediate step , but a natural way to do this is to leave the world of trees and inversion sequences and extend all considerations to forests and arbitrary elements in the free monoid @xmath16 .",
    "the reason for this is already obvious when one notes that the intermediate steps in figure  [ tree - lin2 ] consists of forests rather than trees .",
    "similarly , the intermediate steps in are not permutations in @xmath24 .",
    "we want to develop a language that will work with such intermediate steps .",
    "additional benefit of this extension is that , on the level of @xmath96-words , we will work in the more natural environment of the full monoid @xmath16 rather than its submonoid @xmath133 .",
    "concatenation of inversion sequences of length @xmath134 and @xmath33 is an inversion sequence of length @xmath135 .",
    "thus @xmath136 is indeed a submonoid of @xmath16 .",
    "we can define an operation on @xmath137 that agrees with the concatenation operation in @xmath10 and has the natural extensions @xmath138 and @xmath139 as mutually inverse monoid isomorphisms .",
    "the operation is denoted by @xmath140 and defined as follows .",
    "if @xmath141 and @xmath142 then @xmath143 is given by @xmath144 in other words , @xmath145 is produced by first increasing all the terms of @xmath30 by @xmath134 and then concatenating them to the right of the terms of @xmath29 .",
    "this operation on permutations will be called interlacing ( the same operation is used in  @xcite in the definition of product on the hopf algebra @xmath146 $ ] ) .    before we move on to forests and @xmath16 let us provide a definition of the operation , also denoted by @xmath140 , on linearized trees in @xmath147 compatible with the concatenation operation on @xmath10 and the interlacing operation @xmath140 defined in   on @xmath11",
    ". the operation is performed by stacking the second linearized tree on top of the first ( hence the notation @xmath140 ) .",
    "more precisely , for trees @xmath148 in @xmath149 and @xmath150 in @xmath118 the product @xmath151 is the tree @xmath48 in @xmath152 obtained by deleting the leaf label 0 in @xmath150 , increasing all other labels ( both in the interior and on the leafs ) in @xmath150 by @xmath134 , identifying the leaf with deleted label in @xmath150 with the root of @xmath148 and declaring the root od @xmath150 to be the root of @xmath48 .",
    "an example is given in figure  [ product - trees ] .",
    "thus right now we have three canonically isomorphic monoids , namely @xmath10 , @xmath11 and @xmath12 , with the operations concatenation , permutation interlacing and tree stacking , respectively .",
    "since the free monoid @xmath16 does not need a special introduction , we start by introducing the notion of linearized labeled binary rooted forests . such forests consists of countably many rooted binary trees , only finitely many of which are non - trivial ( the forest has only finitely many carets ) .",
    "furthermore , the roots are labeled in bijective fashion by the numbers in @xmath153 , the leafs are also labeled in bijective fashion by the numbers in @xmath154 and a leaf on one tree is labeled by a smaller number than a leaf on another tree if and only if the same is true for their corresponding roots .",
    "note that vertices that are both a root and a leaf have two labels , one as a root and one as a leaf , and these labels may be different . finally , if the number of carets is @xmath33 then they are labeled bijectively by @xmath41 in such a way that the labels on all paths from a root to a leaf are decreasing ( thus , again , the labeling of the interior vertices is compatible with the order structure imposed by the forest structure ) .",
    "denote the set of linearized forests by @xmath17 .",
    "we represent forests by diagrams of the type depicted in figure  [ forest - lin ] in which it is assumed that the labeling of both the roots and the leafs is done from left to right and all trees that are not drawn are singletons labeled by higher numbers .",
    "the labeling of the roots is usually left out , since it is determined uniquely by the labeling of the leafs .",
    "note that leaf 6 is also labeled as root 1 , while leaf 10 is also labeled as root 3 .",
    "we define now a bijective map @xmath155 the forest corresponding to the word @xmath156 in @xmath16 can be constructed inductively as follows .",
    "start with the trivial forest in which all trees are singletons . throughout the whole construction the leafs and their labels",
    "are left unchanged .",
    "all that happens in the process is that we add labeled carets and relabel the roots . for a letter @xmath157 the corresponding linearized forest",
    "is given in figure  [ xi - lin ] .    ]",
    "note that the root labels to the right of leaf @xmath158 do not agree any longer with the leaf labels ( the root labels are smaller by 1 ) .",
    "if @xmath159 is the forest representing @xmath160 construct the forest @xmath161 representing @xmath156 by adding a caret , labeled by @xmath33 , connecting root @xmath162 and root @xmath163 .",
    "the newly added root gets root label @xmath162 , old roots @xmath164 and higher get their labels decreased by 1 and the old roots @xmath162 and @xmath163 loose their root labels ( they are not roots any longer ) . for example , the forest in figure  [ forest - lin ] corresponds to the word @xmath165 .",
    "conversely , the inverse map @xmath166 can be understood as follows .",
    "the linearization part of the labeling of the forest @xmath167 gives a recipe for constructing @xmath167 starting from the trivial forest .",
    "namely , first add the caret labeled by 1 , then the one labeled by 2 , and so on until the caret labeled by @xmath33 is added . in each step",
    "@xmath111 we record the label @xmath112 of the root that the newly introduced caret labeled by @xmath111 uses as the left leaf .",
    "the corresponding element of @xmath16 is then @xmath168 .",
    "one can check that this procedure applied to the tree in figure  [ forest - lin ] does indeed yield the word @xmath165 .",
    "forests can be multiplied in a way compatible with the concatenation multiplication in @xmath16 as follows .",
    "the operation , still denoted by @xmath140 , is performed by stacking the second forest on top of the first .",
    "namely , the product of the forests @xmath167 and @xmath169 is the forest @xmath170 obtained by , first increasing all labels on the carets of @xmath169 by @xmath134 , where @xmath134 is the number of carets in @xmath167 , then identifying root @xmath44 in forest @xmath167 with leaf @xmath44 in forest @xmath169 and then deleting their root / leaf labels , correspondingly .",
    "the leafs of @xmath171 are the leafs of @xmath167 and the roots of @xmath171 are the roots of @xmath169 .",
    "for example , the product of the forest in the bottom half of figure  [ tree - lin2 ] and the forest in the top half of the same figure is the linearized forest in figure  [ product - forest ] .",
    "we now turn to the world of permutations .",
    "the intermediate steps in provide motivation for the following definition .",
    "a @xmath18-permutation of length @xmath33 is a map @xmath172 , where @xmath173 , such that the inverse image of each element in @xmath174 is a singleton .",
    "in other words , @xmath30 is an infinite sequence such that each of @xmath40 appears exactly once as a term , and the rest of the terms are @xmath18 s .",
    "denote the set of @xmath18-permutations by @xmath19 .",
    "a bijective correspondence @xmath175 between linearized forests and @xmath18-permutations is defined as follows .",
    "each gap @xmath119 , @xmath176 in a linearized forest @xmath167 is either covered by a caret or is not covered by a caret ( the latter happens in case the two vertices defining the gap come from different trees ) .",
    "define @xmath177 for example , the @xmath18-permutation corresponding to the forests in figure  [ product - forest ] and figure  [ forest - lin ] are @xmath178 and @xmath179 , respectively . note that we agree ( sometimes ) not to write ( some of ) the stars to the right of the last non-@xmath18 symbol .",
    "the non-@xmath18 symbols will be called concrete symbols in the rest of the text .",
    "the inverse map @xmath180 is , just as its restriction to @xmath11 , simply defined by drawing the forest caret by caret . for a @xmath18-permutation of length @xmath33 , in step @xmath111 , @xmath113 , add a caret labeled by @xmath111 covering the gap @xmath130 and relabel the roots accordingly . at the end of the procedure only @xmath33 carets will be drawn and the rest of the gaps are uncovered and correspond to @xmath18 s .",
    "the mutually inverse maps @xmath181 are defined in the same fashion as before .",
    "if @xmath30 has @xmath33 concrete symbols the corresponding word @xmath182 in @xmath16 is @xmath98 , with added stipulation that any occurrence of a @xmath18 to the left of @xmath111 in @xmath30 is counted in @xmath183 . in other words , for all our purposes , @xmath18 is considered to be larger than any concrete symbol ( symbol from @xmath184 ) . in the other direction ,",
    "given a word @xmath185 of length @xmath33 over @xmath96 , once the symbols @xmath41 are placed by leaving an appropriate number of open slots as prescribed by @xmath185 , the rest of the open slots are filled with @xmath18 s .",
    "for example , @xmath178 and @xmath186 correspond to the @xmath96-words @xmath187 and @xmath165 , respectively .    to complete the picture we define the operation , still denoted by @xmath140 , on @xmath19 that agrees with concatenation on @xmath16 and stacking of linearized trees in @xmath17 .",
    "the operation is performed by interlacing @xmath18-permutations .",
    "one can write down definite formulae , but the operation is more easily understood as a process . for @xmath18-permutation @xmath29 with @xmath134 concrete symbols and @xmath18-permutation @xmath30 with @xmath33 concrete symbols the product @xmath188 is obtained as follows .",
    "first increase the concrete symbols in @xmath30 by @xmath134 .",
    "then interlace @xmath30 into @xmath29 by placing the @xmath44-th symbol of @xmath30 in the position of the @xmath44-th star in @xmath29 .",
    "for example @xmath189",
    ". the following diagram may be helpful for imagining the process    [ cols=\"^,^,^,^,^,^,^,^,^,^,^,^,^,^,^,^,^,^,^ , < \" , ]",
    "at this moment we have three monoids @xmath16 , @xmath17 and @xmath19 related by canonical isomorphisms . since @xmath16 is free so are @xmath17 and @xmath19 and we may be disappointed that all that happened so far is that we obtained two strange copies of the free monoid @xmath16 of countable rank  namely @xmath17 with a free basis consisting of linearized forests @xmath190 as in figure  [ xi - lin ] , @xmath191 , and @xmath19 with a free basis consisting of @xmath192 , @xmath193 .",
    "there are at least two ways to motivate what comes next .",
    "one is to observe that the multiplication rule @xmath140 on @xmath17 does not essentially depend on the linearization part of the labeling of the involved forests .",
    "this labeling is just carried around and adjusted here and there by increasing labels accordingly , but nothing in the definition depends on it .",
    "this means that the equivalence relation @xmath64 on @xmath17 obtained by dropping the labels on interior vertices is not only equivalence on @xmath17 but it is also a monoid congruence .",
    "the equivalence @xmath64 is a congruence on the monoid @xmath194 .",
    "another way to motivate the introduction of @xmath64 is as an extension of a well known connection between permutations and their linearized trees obtained when the linearization is striped away . in that case",
    ", several permutations correspond to the same labeled rooted binary tree .",
    "it is known that there are catalan number @xmath195 labeled rooted binary trees on @xmath33 interior vertices",
    ". thus the @xmath196 permutations in @xmath24 are split into @xmath197 classes of equivalent permutations .",
    "we fix the equivalence classes obtained in this process as classes defining the tamari congruence on @xmath24 .    formally , for any forest @xmath48 in @xmath17 define @xmath198 to be the forest obtained when the labeling on all interior vertices is deleted .",
    "define an equivalence on @xmath17 by @xmath199 and , by use of the corresponding bijections , define the induced equivalences on @xmath19 by @xmath200 and on @xmath16 by @xmath201 thus we have a monoid congruence @xmath64 on @xmath16 , @xmath19 and @xmath17 and we want to understand the corresponding factor monoid .",
    "the diagram in figure  [ s3all ] depicts the situation for @xmath202 .",
    "the hexagon in the middle is the ( left ) cayley graph of @xmath202 as coxeter group of type @xmath203 generated by the standard generating set @xmath204 .",
    "it is drawn in a way that represents the hasse diagram of the ( left ) weak bruhat order on @xmath202 .     and",
    "its associated words and trees ]    the only edge drawn as a full line in the right half of the diagram indicates that the corresponding permutations ( or words ) are to be identified in @xmath205 ( or in @xmath206 ) , since they correspond to the same tree .",
    "therefore @xmath207 , @xmath208 and @xmath205 and @xmath206 have 5 elements ( which is the catalan number @xmath209 ) .",
    "observe that the restriction of @xmath64 to @xmath11 is a congruence on the monoid @xmath11 ( again , this is because when the labeling is stripped in @xmath12 the operation @xmath140 is not affected ) .",
    "[ free ] the monoid @xmath210 is free .    indeed , any non - trivial tree for which the left subtree is trivial is indecomposable in @xmath13 ( it can not be written as a product of two or more nontrivial trees ) .",
    "moreover , every tree in @xmath13 has a unique decomposition as a product of such indecomposable trees .",
    "thus @xmath13 is free .",
    "this is perhaps a reason why the connection to the thompson monoid is not immediately obvious . for a researcher in combinatorics there",
    "seem to be no particular gain in constructing free monoids using strange definitions of products of permutations . on the other hand ,",
    "looking from thompson monoid @xmath21 point of view , the connection to tamari lattices on @xmath24 is not immediately obvious since on its basic level , working only with ordinary permutations before the expansion to @xmath19 , the information is encoded in a certain ( not particularly distinguished ) free submonoid of @xmath21 that seemingly does not demand any particular attention ( there are plenty of free monoids inside @xmath21 ) .",
    "however , we want to understand @xmath211 and this is where the interesting things happen .",
    "our understanding of the weak bruhat order and tamari lattice congruences on @xmath24 can still be used in this extended situation .    note that every element in @xmath19 has finite congruence class .",
    "this is because there are only finitely many ways to linearize a forest with finitely many carets .",
    "let @xmath212 be the set of @xmath196 different @xmath18-permutations with @xmath33 concrete ( non-@xmath18 ) terms and @xmath18 s in some fixed positions .",
    "more precisely , let us say that there are exactly @xmath213 blocks of consecutive positions in which concrete symbols appear ( any two blocks are separated by some finite number of @xmath18 s ) .",
    "let the sizes of the concrete blocks , from left to right , be @xmath214 and let the last concrete symbol appears at position @xmath215 .",
    "clearly , all the elements related by @xmath64 to a @xmath18-permutation in @xmath212 are also in @xmath212 .",
    "we will describe the congruence classes on @xmath212 in terms of the congruence classes on @xmath216 .",
    "there is a canonical correspondence @xmath217 obtained by removal / insertion of @xmath18 s in appropriate positions .",
    "this enables us to induce the weak bruhat order on @xmath212 .",
    "we write @xmath218 for the @xmath18-permutation obtained from @xmath30 when @xmath44 and @xmath158 exchange their positions in @xmath30 . extending to @xmath24",
    "this defines a ( left ) action of @xmath24 on @xmath212",
    ". technically speaking , the hasse diagram of the weak bruhat order induced on @xmath212 is not the cayley graph of @xmath24 but rather the schreier graph of the action of @xmath24 on @xmath212 with respect to the standard generating set @xmath219 , but these two graphs are canonically isomorphic and we borrow the terminology from @xmath24 and use it on @xmath212 .",
    "in particular , we keep the notation @xmath220 for the weak bruhat order in the extended sense .",
    "if @xmath221 in @xmath212 is obtained from @xmath30 by interchanging @xmath44 and @xmath158 it is still valid to say that the lengths of @xmath29 and @xmath30 differ by 1 .",
    "moreover , @xmath29 covers @xmath30 in the weak bruhat order if and only if @xmath44 is to the left of @xmath158 in @xmath30 and it is directly below @xmath30 in the other case ( this says that the weak bruhat order is compatible with the lexicographic order on @xmath212 ) .",
    "we note that there is a very important difference .",
    "namely the @xmath64 classes on @xmath24 and on @xmath212 are not the same . for example , @xmath202 has five classes , while @xmath222 corresponding to the block pattern @xmath223 has only two .",
    "the two classes in @xmath222 are indicated in figure  [ s3prime ] as the components connected by edges drawn as full lines .",
    "corresponding to the block pattern @xmath223 ]    the first thing we want to know is under what conditions two neighbors in the weak bruhat order correspond to the same forest .",
    "we recall the explicit agreement that @xmath18 is larger than any concrete symbol .",
    "[ move - up ] let @xmath225 in @xmath212 .",
    "then the forests @xmath226 and @xmath129 are equal if and only if there exists a term between @xmath44 and @xmath158 in @xmath30 ( and therefore in @xmath29 as well ) that is larger than @xmath158 .    exchanging the labels @xmath44 and @xmath158 in a linearized forest @xmath167 leads to another linearized forest if and only if the interior vertices @xmath44 and @xmath158 are not comparable with respect to the order induced by the forest @xmath167 .",
    "this happens exactly when @xmath44 and @xmath158 belong to different trees in the forest , in which case there is a @xmath18 between @xmath44 and @xmath158 in @xmath227 , or @xmath44 and @xmath158 belong to the same tree , but are both descendants of a vertex @xmath111 , in which case @xmath228 and @xmath111 is between @xmath44 and @xmath158 in @xmath227 .",
    "this means that for every @xmath30 in @xmath212 we may go up step by step in the weak bruhat order until we reach a @xmath18-permutation that has no occurrence of @xmath229 , with @xmath228 .",
    "this leads us to pattern avoiding considerations .",
    "we say that @xmath230 occurs in @xmath30 in @xmath212 if there are three indices @xmath231 such that @xmath232 ( recall that @xmath215 is the index of the last concrete symbol in the @xmath18-permutations in @xmath212 ) .",
    "this allows the possibility that the middle symbol @xmath233 is a @xmath18 , but the other two symbols must be concrete .",
    "if @xmath230 does not occur in @xmath30 the @xmath18-permutation is @xmath230-avoiding .",
    "similarly , we say that 132 occurs in a @xmath18-permutation @xmath30 in @xmath212 ( or in any sequence over a linearly ordered set ) if there are three indices @xmath231 such that @xmath234 .",
    "if 132 does not occur in @xmath30 the permutation is 132-avoiding . once again",
    ", the definition implies that the middle symbol @xmath233 may be a @xmath18 but the other two symbols involved must be concrete .",
    "it is easy to observe that @xmath30 is a 132-avoiding @xmath18-permutation if and only if all concrete terms to the left of any occurrence of @xmath18 in @xmath30 are larger than all concrete terms to the right of the same occurrence of @xmath18 and each concrete block in @xmath30 satisfies the 132-avoiding constraint by itself .",
    "[ 132=132 ] a @xmath18-permutation @xmath30 in @xmath212 is @xmath2-avoiding if and only if it is @xmath230-avoiding .",
    "any occurrence of @xmath230 in @xmath30 is also an occurrence of @xmath2 .",
    "for the converse , assume @xmath2 appears in @xmath30 .",
    "let @xmath235 be an occurrence of @xmath2 with minimal difference @xmath236 . if @xmath158 is to the right of @xmath213 we have an appearance of @xmath230 .",
    "but @xmath158 can not appear to the left of @xmath213 because of the minimality in the choice of @xmath44 and @xmath111 .",
    "the above observations lead to the following proposition .",
    "[ unique - up ] for every @xmath18-permutation @xmath30 in @xmath212 there exists a unique @xmath2-avoiding @xmath18-permutation @xmath237 in @xmath212 such that @xmath238 .",
    "moreover @xmath239 and @xmath240 if and only if @xmath241 .",
    "the existence is clear ( just go up step by step as long as possible without changing the forest ) .",
    "everything else follows from counting arguments .",
    "there are exactly @xmath242 ordered @xmath213-tuples of labeled rooted binary trees with @xmath214 carets , respectively .    as for @xmath2-avoiding @xmath18-permutations , the symbols in each concrete block",
    "are uniquely determined by the condition that all symbols in a block to the left of some other block must be larger than the symbols in the other block .",
    "since there are exactly @xmath243 @xmath2-avoiding arrangements of @xmath244 symbols ( see the catalan addendum in  @xcite ) we get that there are @xmath242 @xmath2-avoiding @xmath18-permutations in @xmath212 . thus every equivalence class in @xmath212 must have exactly one @xmath2-avoiding representative .    in a completely analogous way ,",
    "starting from any @xmath18-permutation @xmath30 in @xmath212 we may move step by step down in the weak bruhat order by preserving the corresponding forest as long as we see an occurrence of @xmath245 , with @xmath246 . define @xmath3-avoiding @xmath18-permutations as @xmath18-permutations in which there are no three indices @xmath231 such that @xmath247 .",
    "[ unique - down ] for every @xmath18-permutation @xmath30 in @xmath212 there exists a unique @xmath3-avoiding @xmath18-permutation @xmath248 in @xmath212 such that @xmath249 .",
    "moreover @xmath250 and @xmath240 if and only if @xmath251 .",
    "it is known that @xmath88 is a lattice , known as tamari lattice . in other words , it is known that @xmath64 is a lattice congruence on @xmath24 .",
    "we claim that @xmath252 is also a lattice , i.e. @xmath64 is a lattice congruence on the weak bruhat order lattice on @xmath212 .",
    "this essentially follows from the fact that certain maps @xmath253 , where @xmath254 is parabolic subgroup of @xmath24 ( as coxeter groups ) are lattice homomorphisms on the corresponding weak bruhat order lattices .",
    "define the flattening of a sequence @xmath255 of distinct integers ( or members of any linear order ) as the unique permutation @xmath30 in @xmath254 such that @xmath256 if and only if @xmath257 .",
    "[ left - right ] the map @xmath253 that maps a permutation @xmath30 to the flattening of @xmath258 is a surjective lattice homomorphism .",
    "the statement is equivalent to the following .",
    "consider @xmath24 and @xmath254 under their right weak bruhat order .",
    "define a map @xmath259 as follows . for @xmath30 in @xmath24 ,",
    "let @xmath260 be the permutation in @xmath254 obtained when all terms in @xmath30 except for the terms @xmath261 are deleted and then flattened ( decreased by @xmath262 ) .",
    "the equivalence comes by applying the inverse to the elements in @xmath24 . in the left weak bruhat order we are concerned with the positions @xmath261 , while after inversion takes place and we land in the right weak bruhat order we are concerned with the terms @xmath261 . with respect to the right bruhat order ,",
    "the map @xmath263 is the surjective lattice homomorphism @xmath253 corresponding to the parabolic subgroup @xmath254 generated by the @xmath264 reflections @xmath265 ( see  @xcite for example ) .    the equivalence @xmath64 is a lattice congruence on @xmath212 .",
    "moreover @xmath266 as lattices .",
    "patching together @xmath213 parabolic homomorphisms as in lemma  [ left - right ] we get a surjective lattice homomorphism @xmath267 , which can then be composed further to get a lattice homomorphism @xmath268 .",
    "we claim that @xmath64 is the kernel of this homomorphism .",
    "recall that the concrete terms of a @xmath18-permutation @xmath30 in @xmath212 just indicate in what order the carets are added in the forest @xmath129 , which consists of @xmath213 trees with @xmath214 carets , respectively .",
    "in particular , it is clear that the @xmath44-th de - linearized tree that corresponds to the @xmath44-th concrete block depends only on the @xmath64 class of the flattening of the corresponding block ( the gaps in the numbers before the flattening correspond to carets added in the other trees of the forest ) .",
    "thus two @xmath18-permutations correspond to the same forest if and only if the corresponding flattenings in each block are @xmath64 related and the relation @xmath64 on @xmath212 is indeed the kernel of the surjective homomorphism @xmath269 .    [ intervals ] each @xmath64 conjugacy class of @xmath18-permutations in @xmath212 is an interval in the weak bruhat order and is a union of several tamari congruence classes of @xmath24 ( after identification of @xmath212 and @xmath24 ) .    for each class ,",
    "the top bound of the interval is a @xmath2-avoiding @xmath18-permutation and the bottom bound is a @xmath3-avoiding @xmath18-permutation .",
    "congruence classes in finite lattices are always intervals .",
    "proposition  [ unique - up ] and proposition  [ unique - down ] show that the top and the bottom must be @xmath2-avoiding and @xmath3-avoiding @xmath18-permutations , respectively .    finally , if @xmath270 and @xmath240 in @xmath24 , then there exists a term between @xmath44 and @xmath158 larger than @xmath158 .",
    "after @xmath18 s are placed in appropriate places to land in @xmath212 it is still correct that there is a larger term between @xmath44 and @xmath158 .",
    "thus the corresponding @xmath18-permutations are also related .",
    "this shows that each tamari class of @xmath24 is included in a @xmath64 class of @xmath212 .",
    "thus we have a thorough understanding of the equivalence classes in @xmath19 .",
    "we translate now this understanding to @xmath16 .    we know that we can connect any two equivalent @xmath18-permutations by several steps involving transpositions , with the extra constraint that when we apply @xmath32 some term between @xmath44 and @xmath158 must be larger than @xmath158 .",
    "here is the corresponding statement in the @xmath16 world .",
    "[ move - upx ] let @xmath271 , @xmath27 and @xmath240 in @xmath19 .",
    "further let @xmath272  .",
    "then @xmath273 and @xmath274 can be obtained from @xmath182 by applying the substitution @xmath275 at positions @xmath111 and @xmath276 in @xmath182 .    by proposition",
    "[ move - up ] , @xmath277 , where @xmath213 is a term larger than @xmath276 ( possibly a @xmath18 ) .",
    "this immediately means that there are more inversions to the left of @xmath276 than to the left of @xmath111 , i.e. , @xmath273 .",
    "the exchange of @xmath111 and @xmath276 causes move upwards in the weak bruhat order    ccccccccc & = &  & j+1 &  & k &  & j &  + & & & & &  ( j  j+1 ) + & = &  & j &  & k &  & j+1 &     after @xmath111 and @xmath276 exchange their positions , no inversion numbers other than those at position @xmath111 and @xmath276 in @xmath182 can possibly be affected .",
    "we have @xmath278 and @xmath279 .",
    "the extra 1 in @xmath280 comes from the fact that now @xmath276 is to the left of @xmath111 and should be counted as extra inversion .",
    "thus    cccl x ( ) & = & ",
    "x_n+1 x_m   + & & & ( j , j+1 ) + x ( ) & = & ",
    "x_m x_n      a converse to the previous proposition holds .",
    "let @xmath281 , with @xmath273 , and let @xmath282 be obtained from @xmath185 by applying the substitution @xmath283",
    ". then @xmath284 , @xmath285 and @xmath286 .",
    "[ xsimy ] let @xmath281 , with @xmath273 , and let @xmath282 be obtained from @xmath185 by applying the substitution @xmath283 . then @xmath287 .",
    "we can now prove that the monoid @xmath288 is thompson s monoid @xmath21 .",
    "the congruence @xmath64 on @xmath16 is generated by @xmath289 for all pars of non - negative integers @xmath44 and @xmath111 with @xmath290 .",
    "in other words , @xmath288 is equal to thompson s monoid @xmath21 , given by the presentation @xmath291    it is clear that @xmath292 does hold , for @xmath290 , in @xmath16 ( this is a special case of corollary  [ xsimy ] ) .",
    "another way to see this is to realize that the two words @xmath293 and @xmath294 correspond to the two ways to linearize ( i.e.  to draw ) the forest in figure  [ xixj ]    ]    on the other hand , the relations @xmath295 , for @xmath45 , are sufficient .",
    "this is because any two equivalent @xmath18-permutations can be related by a sequence of applications of appropriate transpositions ( say by going up in the weak bruhat order on @xmath212 and reaching the same @xmath2 avoiding @xmath18-permutation ) . by proposition  [ move - upx ]",
    "this translates to a sequence of applications of relations of the type @xmath292 , for @xmath45 .",
    "every class of equivalent elements in @xmath21 corresponds to an interval in the weak bruhat order on @xmath18-permutations .",
    "moreover , the top always corresponds to a @xmath2-avoiding and the bottom to a @xmath3-avoiding @xmath18-permutation .",
    "the following proposition characterizes the words over @xmath96 that correspond to the endpoints of weak bruhat order intervals that determine the classes of equivalent elements in thompson s monoid @xmath21 .",
    "a @xmath18-permutation is @xmath2-avoiding if and only if the corresponding word @xmath182 has non - increasing indices .",
    "a @xmath18-permutation is @xmath3-avoiding if and only if the corresponding word @xmath182 has no decrease of an index larger than 1 .    as a corollary",
    "we obtain the two well known normal forms on @xmath21 .",
    "every class of equivalent elements in @xmath21 has two normal forms .",
    "one is a word with non - increasing indices and the other is a word whose indices never decrease by more than 1 ( and can possibly increase )",
    ".    the normal form with non - increasing indices is obtained when we move up in the weak bruhat order by moving letters @xmath157 with `` small '' indices to the right of letters @xmath296 with `` large '' indices ( we assume @xmath45 ) by applying the substitution @xmath297 .",
    "the normal form with unit decrease is obtained when we move down in the weak bruhat order by moving letters @xmath296 with `` very large '' indices to the right of letters @xmath157 with `` small '' indices ( we assume @xmath298 ) by applying the substitution @xmath299 .",
    "the set of rules @xmath300 for @xmath301 , represents a confluent rewriting system on @xmath21 .",
    "the same is true for the reversed set of rules @xmath302 for @xmath45 .",
    "we note here that both normal forms are well known , but the top one is used more often in the literature on thompson monoids and groups .",
    "however , j.  belk and k.  brown use the bottom one quite efficiently in  @xcite to get length functions for the elements in @xmath21 and @xmath68 and then use these length functions in further applications . taking a different approach",
    ", j.  belk shows independently in  @xcite that that the two normal forms of an element @xmath169 of @xmath96-length @xmath33 in @xmath21 bound the class of @xmath96 words representing @xmath169 in the so called word graph of @xmath169 based on the rewriting rules above ( without describing these classes as unions of tamari lattice congruence classes ) .",
    "we observe that an inversion sequence word @xmath185 in @xmath10 represents a basis element of the free monoid @xmath15 from proposition  [ free ] if and only if @xmath185 has a single occurrence of @xmath73 ( necessarily at the very end ) .",
    "the corresponding basis elements in @xmath14 are represented by those permutations that start with their largest term .",
    "one can easily pick normal representatives ( either top or bottom ) for basis elements either in @xmath15 or in @xmath14 .",
    "finally , we mention that the linearizations corresponding to the bottoms of tamari classes on forests in @xmath17 are the ones obtained by post - order linearizations , while the ones corresponding to the tops are the inverse post - order linearizations .",
    "in this section we briefly indicate how , for @xmath22 , tamari orders on partitions of @xmath4-gons into @xmath5-gons lead to thompson monoid @xmath303    we fix @xmath213 and @xmath33 to discuss the general case , but provide concrete examples with @xmath304 and @xmath305 .",
    "first we define tamari order on the partitions of a fixed @xmath4-gon into @xmath5-gons .",
    "label the vertices of the @xmath4-gon by @xmath306 in the positive direction .",
    "any diagonal @xmath307 used in the partition is common to two uniquely determined @xmath5-gons in the partition that form a @xmath308-gon using @xmath307 as a diagonal ( connecting opposite vertices in the @xmath308-gon ) .",
    "the labels of the @xmath308-gon are still ( cyclically ) ordered from the smallest to the largest in positive direction .",
    "let the @xmath213 smallest labels on the vertices of the @xmath308-gon be @xmath309 .",
    "the diagonal @xmath307 has size @xmath44 if it uses the vertex labeled @xmath310 .",
    "a partition @xmath311 covers a partition @xmath312 if it is obtained from @xmath312 by removing a diagonal of size @xmath44 from a @xmath308-gon in @xmath312 and replacing it by the diagonal of size @xmath158 in the same @xmath308-gon .",
    "the tamari partial order on partitions is then just the closure of the cover relation .",
    "an example of partition ( with @xmath304 , @xmath305 ) is given in the left half of figure  [ partition ] .",
    "the diagonal @xmath313 has size @xmath28 , while the diagonals @xmath314 and @xmath315 have size @xmath109 .",
    "next we define linearized labeled @xmath213-ary rooted trees .",
    "a linearized labeled rooted @xmath213-ary tree on @xmath33-interior vertices is a rooted tree in which the root has degree @xmath213 ( unless the tree has only the root as a vertex , in which case its degree is 0 ) , all interior vertices have degree @xmath316 , the leafs are labeled bijectively by @xmath317 and the interior vertices are labeled bijectively by @xmath318 in such a way that the labels on each path from the root to a leaf are decreasing .",
    "an example is given in the right half of figure  [ partition ] .",
    "denote the set of such trees by @xmath319 .",
    "we can define the notion of an interior vertex covering a gap just as in the binary tree case .",
    "however , in this case every interior vertex covers exactly @xmath320 gaps . for every tree @xmath48 in @xmath319 define a sequence @xmath125 of length @xmath321 by .",
    "in our example in figure  [ partition ] we have @xmath322 .",
    "denote the image of @xmath319 by @xmath323 .",
    "it consists of all sequences of length @xmath321 such that each term @xmath324 appears exactly @xmath320 times and all terms between two appearances of a term @xmath111 are smaller than @xmath111 .",
    "the map @xmath325 is a bijection .",
    "the inverse map @xmath326 can be defined in a way analogous to the binary case .",
    "namely , for @xmath30 in @xmath323 the @xmath320 element set @xmath58 will be called the set of locations of the term @xmath44 . starting from @xmath327",
    "appropriately labeled leafs we add , in step @xmath44 , a @xmath213-ary tree with single interior vertex ( @xmath213-caret ) labeled by @xmath44 in such a way that for each location @xmath328 of @xmath44 the gap @xmath329 is covered by the interior vertex @xmath44 .    from @xmath323",
    "we can go by counting inversions to @xmath96-words of length @xmath33 .",
    "the only important remark is that the number of inversions @xmath90 does not depend on the particular occurrence of @xmath44 in @xmath30 .",
    "thus we have a bijective map @xmath330 , where @xmath331 is the set of words @xmath332 going back from @xmath331 to @xmath323 is accomplished by starting from @xmath321 open slots and then , in step @xmath111 , placing @xmath320 copies of the term @xmath111 in consecutive available open slots after leaving the first @xmath112 leftmost slots open .",
    "the operation of concatenation of @xmath96-words still makes perfect sense and leads to corresponding interlacing operation @xmath140 on sequences such as those in @xmath323 and stacking operation @xmath140 on @xmath213-ary trees .",
    "every sequence in @xmath323 provides a way to build a polygon partition .",
    "start with the polygon with no edges or diagonals drawn .",
    "draw the edge @xmath333 ) . in a sense that will be clear",
    "later this is the root edge .",
    "then , for @xmath334 ( in that order ! ) , in step @xmath44 add the @xmath320 locations of @xmath44 in @xmath30 to the path ( keep the vertices in the path always in increasing order ) .",
    "the union of all the obtained paths is the desired partition .    in",
    "our running example @xmath335 and we start with the edge ( 0,9 ) , then for @xmath336 , we add the vertices 5 and 8 , since these are the locations of 4 in @xmath30 and we obtain the path @xmath337 . then for @xmath338 , we add the vertices 1 and 4 ( locations of 3 ) to get the path @xmath339 . for @xmath340",
    "we add vertices 2 and 3 to get the path @xmath341 and finally for @xmath342 we add 6 and 7 to get the path @xmath343 .    for each @xmath344 , each time we add @xmath320 new vertices to the path we add a new @xmath5-gon @xmath345 to the partition . if we keep the label @xmath44 on @xmath345 we obtain linearized partitions . dropping the labels on @xmath345 amounts to de - linearization in the corresponding trees and equivalence relation @xmath64 on @xmath323 .",
    "there is a direct way to relate trees and partitions .",
    "essentially , the leafs @xmath346 represent the edges @xmath347 , the root represent the edge @xmath348 and the interior vertices @xmath349 represent the diagonals .",
    "the interior vertex @xmath33 , being the root , represents , the edge @xmath348 .",
    "the diagram in figure  [ treepartition ] depicts the correspondence in our model case for the tree and the partition from figure  [ partition ] .",
    "the leafs are labeled by @xmath310 and the root is labeled by @xmath350 .",
    "the edges of the three are dashed , while the partition edges are in full line .",
    "the vertices of the tree are emphasized by representing them by small black disks .",
    "note that the operation @xmath140 on the level of polygon partitions amounts to gluing partitioned polygons .",
    "namely , if @xmath312 is a partition of an @xmath351-gon and @xmath311 is a partition of an @xmath352-gon into @xmath5-gons , then @xmath353 is obtained by lifting all nonzero vertex labels in the second polygon by @xmath354 , and then gluing the two polygons along the edge @xmath355 in both polygons .",
    "once again the situation can be lifted to arbitrary words in the monoid @xmath16 , which correspond to linearized @xmath213-ary forests in @xmath17 with stacking operation , @xmath18-sequences with interlacing operation , and partitions of finite sequences of polygons with gluing operation .",
    "the operation on the level of polygon partitions involves sequences of partitioned polygons and amounts to gluing the root edges in the first sequence to the leaf edges with matching label in the second partition .",
    "an example is given in figure  [ product - partition ] .",
    "the leaf edges in the first partition are labeled by @xmath310 and the root edges by @xmath356 , while capital letters are used in the second partition .",
    "note that trivial trees ( single vertex , no edges ) in forests correspond to @xmath109-gons in polygons ( represented as singe edges ) .",
    "the dashed double arrows indicate which edges are to be identified in the gluing process .",
    "one choice to describe the multiplication of the depicted partitions by @xmath18-sequences is as @xmath357 . on the level of @xmath96-words the above product corresponds to @xmath358 .",
    "the tamari equivalence @xmath64 is again a monoid congruence , the top element in each class is always @xmath2-avoiding , the bottom one is @xmath3-avoiding , and the obtained factor monoid is thompson monoid @xmath6 , given by the presentation  .",
    "this is just the positive monoid in the corresponding thompson group @xmath359 given by the same presentation but as a group , which is the group @xmath360 of fractions of @xmath6 .",
    "the groups @xmath359 , @xmath361 , share many properties with @xmath68 ( see  @xcite ) .    note that if @xmath44 is a concrete symbol that occurs on the left ( right ) of some larger symbol @xmath111 ( concrete or a @xmath18 ) , then all occurrences of @xmath44 are on the left ( right ) of @xmath111 .",
    "further , the corresponding @xmath213-ary forest does not change when we exchange all occurrences of @xmath44 and @xmath158 if and only if they are separated by some larger symbol @xmath111 ( thus @xmath230 or @xmath362 occurs - in the former case we go up and in the latter we go down in the order ) .",
    "the defining relations in @xmath6 have the form given in   precisely because after all the occurrences of @xmath44 and @xmath158 switch their places in a @xmath18-sequence in which all @xmath320 occurrences of @xmath44 were to the left of all @xmath320 occurrences of @xmath158 ( separated by some larger symbol ) , the number of inversions for the term @xmath44 increases by @xmath320 .",
    "it seems that thompson monoid @xmath21 naturally codifies many instances of catalan - like objects in the sense that provides `` recipes '' for their construction as well as relations to indicate which recipes lead to the same catalan - like object .",
    "the ubiquity of catalan - like objects ( enumerated by catalan numbers ) is well known in combinatorics . on the other hand , the ubiquity of thompson s monoid ( in fact the group ) is equally well known in infinite group theory .",
    "so it is fitting that these objects are closely related .",
    "the fact that the finite coxeter groups of type @xmath8 play a role in the mix is also not extremely surprising in the light of their own relevance in many situations",
    ".    it would be interesting to explore / establish connections between thompson monoids ( not necessarily of type @xmath1 ) and tamari lattices of type @xmath363 and @xmath364  @xcite ( corresponding to factor lattices of finite coxeter groups of type @xmath363 and @xmath364 ) .",
    "the connection between the higher thompson monoids @xmath6 , @xmath361 , and the higher catalan objects ( @xmath213-ary forests ) leads to a natural question of exploring the sequences in @xmath365 as a kind of higher coxeter objects of type @xmath8 ( ordinary permutations play this role when @xmath366 ) .",
    "thanks to marcelo aguiar , james belk and matt brin for sharing their thoughts . also , thanks to nathan reading for very careful reading of the text and numerous valuable suggestions and references ."
  ],
  "abstract_text": [
    "<S> a connection relating tamari lattices on symmetric groups regarded as lattices under the weak bruhat order to the positive monoid @xmath0 of thompson group @xmath1 is presented . </S>",
    "<S> tamari congruence classes correspond to classes of equivalent elements in @xmath0 . </S>",
    "<S> the two well known normal forms in @xmath0 correspond to endpoints of intervals in the weak bruhat order that determine the tamari classes . in the monoid @xmath0 </S>",
    "<S> these correspond to lexicographically largest and lexicographically smallest form , while on the level of permutations they correspond to @xmath2-avoiding and @xmath3-avoiding permutations .    </S>",
    "<S> forests appear naturally in both contexts as they are used to model both permutations and elements of the thompson monoid .    </S>",
    "<S> the connection is then extended to tamari orders on partitions of @xmath4-gons into @xmath5-gons and thompson monoids @xmath6 , @xmath7 . </S>"
  ]
}