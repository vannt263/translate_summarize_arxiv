{
  "article_text": [
    "many systems of scientific or practical interest are decomposable into subsystems with strong internal and relatively weak external interactions  @xcite ; for example , there are groups of friends or collaborators in social networks , sets of topically related documents in hypertexts , or blocs of interlocked countries in international trade .",
    "if systems are modeled as networks , with the system elements as vertices and their interactions as edges , then each subsystem corresponds to a so - called _ community _ , a set of vertices with dense internal connections but sparse connections to the remaining network .",
    "two widely used representations of networks are _ layouts _ , which assign the vertices to positions in a metric space , and _",
    "clusterings _ , which partition the vertex set into disjoint subsets . both representations can group densely connected vertices , by placing them at nearby positions or in the same cluster , and separate sparsely connected vertices , by placing them at distant positions or in different clusters , and can thus naturally reflect the community structure .",
    "requirements like the grouping of densely connected vertices are often formalized as mathematical functions called _ quality measures _ , and the optimization of quality measures is a common strategy for the computation of both layouts @xcite and clusterings @xcite . despite these commonalities , and",
    "although layouts and clusterings are often used together as complementary representations of the same network , there is no coherent understanding of layout quality and clustering quality .",
    "this paper unifies newman and girvan s modularity  @xcite , a popular quality measure for clusterings , with energy models of pairwise attraction and repulsion between vertices ( e.g. , @xcite ) , a widely used class of quality measures for layouts . after an introduction of the quality measures in sec .",
    "[ s : def ] , sec .",
    "[ s : density ] shows that layouts with optimal energy and clusterings with optimal modularity represent the community structure similarly , and sec .",
    "[ s : unification ] demonstrates that modularity actually _ is _ an energy model of pairwise attraction and repulsion , if clusterings are considered as restricted layouts .",
    "section  [ s : appl ] discusses the application of these results for computing consistent clusterings and layouts .",
    "quality measures for representations of networks formalize what is considered as a _ good _ representation , and allow to compute good representations automatically using optimization algorithms .",
    "mathematically , a quality measure maps network representations to real numbers , such that larger ( or smaller ) numbers are assigned to better representations , and the best representations correspond to maxima ( or minima ) of the measure .",
    "this section introduces two widely used quality measures , namely energy models based on pairwise attraction and repulsion for layouts , and newman and girvan s modularity measure for clusterings .    to obtain uniform and general formulations ,",
    "both measures are defined for _ weighted _ networks . in a weighted network ,",
    "each vertex  @xmath0 has a nonnegative real _ vertex weight _",
    "@xmath1 , and each unordered vertex pair @xmath2 ( including @xmath3 ) has a nonnegative real _ edge weight _",
    "@xmath4 . intuitively , a vertex ( or edge ) of weight  @xmath5 can be thought of as a chunk of @xmath5  vertices ( or edges ) of weight  @xmath6 . the commonly studied",
    "un_weighted networks correspond to the special case where the edge weights are either  @xmath7 ( no edge ) or  @xmath6 , and the vertex weights are  @xmath6 .",
    "@xmath9-dimensional layout _",
    "@xmath10 of a network maps each vertex  @xmath0 to a position  @xmath11 in  @xmath12 ; it thereby assigns a _ distance _ to each vertex pair @xmath2 , namely the euclidean distance @xmath13 between the respective vertex positions .",
    "so - called _ energy models _ are an important class of quality measures for layouts . in general , _ smaller _ energy indicates better layouts . because force is the negative gradient of energy , energy models can also be represented as force systems , and energy minima correspond to force equilibria . for introductions to energy - based or force - directed layout ,",
    "see refs .",
    "@xcite .",
    "the most popular energy models for general undirected networks are either similar to stress functions of multidimensional scaling  @xcite , or represent force systems of pairwise attraction and repulsion between vertices .",
    "models of the former type ( e.g. , @xcite ) enforce that the distance of each vertex pair in the layout approximates some prespecified distance , most commonly the length of the shortest edge path between the vertices .",
    "they will not be further discussed , because their layouts reflect these path lengths rather than the community structure .    in models of the latter type ,",
    "adjacent vertices attract , which tends to group densely connected vertices , and all pairs of vertices repulse , which tends to separate sparsely connected vertices .",
    "the strengths of the forces are often chosen to be proportional to some power of the distance .",
    "formally , for a layout  @xmath10 and two vertices @xmath14 with @xmath15 , the attractive force exerted on  @xmath16 by  @xmath0 is @xmath17 and the repulsive force exerted on  @xmath16 by  @xmath0 is @xmath18 where @xmath13 is the distance between @xmath16 and  @xmath0 , @xmath19 is the unit - length vector pointing from @xmath16 to  @xmath0 , and @xmath20 and  @xmath21 are real constants with @xmath22 .",
    "the condition @xmath23 ensures that the attractive force between connected vertices grows faster than the repulsive force , and thus prevents infinite distances except between unconnected components .",
    "for most practical force models holds @xmath24 and @xmath25 , i.e. , the attractive force is non - decreasing and the repulsive force is non - increasing with growing distance . in the widely used force model of fruchterman and reingold  @xcite , @xmath26 and @xmath27 .    by exploiting that force is the negative gradient of energy , the force model can be transformed into an energy model , such that force equilibria correspond to ( local ) energy minima . for a layout  @xmath10 and constants",
    "@xmath28 with @xmath22 , the _ @xmath8-energy _ is @xmath29 where @xmath30 must be read as @xmath31 ( because @xmath32 is the derivative of @xmath33 ) .",
    "the @xmath34-energy model has been proposed by davidson and harel @xcite , and the @xmath35-energy model is known as linlog model  @xcite .      a _ clustering _  @xmath36 of a network partitions the vertex set into disjoint subsets called _ clusters _ , and thereby maps each vertex  @xmath0 to a cluster @xmath37 .",
    "proposals of quality measures for clusterings are numerous and scattered over the literature of diverse research fields ; surveys , though non - exhaustive , are provided by refs .",
    "@xcite .",
    "one of the most widely used quality measures was introduced by newman and girvan , and is called modularity .",
    "it was originally defined for the special case where the edge weights are either @xmath7 or  @xmath6 and the weight of each vertex is its degree  @xcite , and was later extended to networks with arbitrary edge weights  @xcite .",
    "( the _ degree _ of a vertex is the total weight of its incident edges , with the edge weight from the vertex to itself counted twice . )",
    "generalized to arbitrary vertex weights , the _ modularity _ of a clustering  @xmath36 is @xmath38 where @xmath39 is the set of all vertices in the network , and @xmath40 is the set of clusters ; the weight functions are naturally extended to sets of vertices or edges : @xmath41 is the total edge weight within the cluster  @xmath42 , and @xmath43 is the total weight of the vertices in  @xmath42 .    intuitively , the first term of the modularity measure is the _ actual _ fraction of intra - cluster edge weight . in itself , it is not a good measure of clustering quality , because it takes the maximum value for the trivial clustering where one cluster contains all vertices .",
    "this is corrected by subtracting a second term , which specifies the _ expected _ fraction of intra - cluster edge weight in a network with uniform density .",
    "thus modularity takes positive values for clusterings where the total edge weight within clusters is larger than would be expected if the network had no community structure .",
    "finding a minimum - energy layout or a maximum - modularity clustering of a given network is computationally hard ; in particular , modularity maximization was recently shown to be np - complete  @xcite . in practice",
    ", energy and modularity are almost exclusively optimized with heuristic algorithms that do not guarantee to find optimal or near - optimal solutions .",
    "an extensive experimental comparison of energy minimization algorithms for network layout was performed by hachul and jnger  @xcite ; however , most of the examined algorithms make fairly restrictive assumptions about the optimized energy model .",
    "more general and reasonably efficient is the force calculation algorithm by barnes and hut  @xcite , whose runtime is @xmath44 per iteration for a network with @xmath45  edges ( with nonzero weight ) and @xmath46 vertices ( assuming that the number of dimensions is small and the vertex distances are not extremely nonuniform ) .",
    "the number of iterations required for convergence typically grows sublinearly with  @xmath46 .",
    "clustering algorithms for networks are surveyed in refs.@xcite .",
    "a relatively fast yet very effective heuristic for modularity maximization is agglomeration by iteratively merging clusters ( starting from singletons ) , combined with single - level  @xcite or multi - level @xcite refinement by iteratively moving vertices ; an efficient implementation requires a runtime of @xmath47 ( assuming @xmath48 hierarchy levels in agglomeration and @xmath48 iterations through all vertices per level in refinement ) .",
    "a set of vertices is called a _ community _ if the density within the set is significantly larger than the density between the set and the remaining network .",
    "density between _ two disjoint sets of vertices @xmath49 and @xmath50 is intuitively the quotient of the actual edge weight and the potential edge weight between @xmath49 and @xmath50 ; formally , it is defined as @xmath51 , where @xmath52 is the total weight of the vertices in  @xmath50 , and @xmath53 is the total edge weight between @xmath49 and  @xmath50 .",
    "similarly , the _ density within _ a vertex set @xmath50 is @xmath54 .",
    "( this generalizes standard definitions of density from graph theory  @xcite to weighted networks with self - edges . )",
    "existing theoretical results , which will be summarized and extended in this section , already show that the community structure of a network is reflected in layouts with optimal @xmath8-energy ( for certain values of @xmath20 and  @xmath21 ) and in clusterings with optimal modularity .",
    "what has previously escaped notice is the striking analogy : _ the separation of communities in an optimal layout is inversely proportional to ( some power of ) the density between them , and the separation of communities in an optimal clustering reflects whether the density between them is smaller than a certain threshold . _ as an important limitation , the result for layouts will be derived only for two communities , and can not be expected to hold precisely for more communities .",
    "therefore , the consistency of @xmath8-energy layouts and modularity clusterings will be revisited in sec .",
    "[ s : appl ] , after further evidence has been presented in sec .",
    "[ s : unification ] .    in what appears to be the only previous work that formally relates energy - based layout to modularity clustering  @xcite",
    ", we did not established similarities between optimal layouts and optimal clusterings , but only noted that the modularity measure is mathematically similar to the density ( called normalized cut in  @xcite ) , as both normalize the actual edge weight with a potential or expected edge weight .",
    "this subsection discusses how the distances in a layout with optimal @xmath8-energy can be interpreted in terms of the community structure of the network , and how this interpretation depends on the parameters @xmath20 and  @xmath21 .    for the simple case of a network with two vertices ,",
    "the minimum - energy layouts can be computed analytically ( theorem  3 in @xcite ) .",
    "if the vertices @xmath16 and  @xmath0 have the distance  @xmath9 , the @xmath8-energy is @xmath55 the derivative of this function is  @xmath7 at its minimum @xmath56 , thus @xmath57 thus the distance of the two vertices in a layout with optimal @xmath8-energy is the @xmath58th power of the density between the vertices . in particular , the distance is the inverse density if @xmath59 , and the distance is almost independent of the density if @xmath60 .",
    "this impact of @xmath61 on the representation of the community structure is illustrated for a larger network in fig .",
    "[ f : random ] .",
    "layouts with small linlog energy ( @xmath59 ) and with small fruchterman - reingold energy ( @xmath62 ) of a pseudo - random network with eight clusters ( intra - cluster density  @xmath63 , expected inter - cluster density  @xmath64).,title=\"fig:\",width=147 ]   layouts with small linlog energy ( @xmath59 ) and with small fruchterman - reingold energy ( @xmath62 ) of a pseudo - random network with eight clusters ( intra - cluster density  @xmath63 , expected inter - cluster density  @xmath64).,title=\"fig:\",width=147 ]    replacing the edge @xmath2 with two edges @xmath65 and @xmath66 , where @xmath67 is a new vertex with weight  @xmath7 , increases the optimal distance between @xmath16 and  @xmath0 by a factor of @xmath68 . because the @xmath8-energy is only defined for @xmath69 , the factor is  @xmath6 if @xmath70 , and greater than  @xmath6 if @xmath71 .",
    "this result has a significant implication , given that the addition of  @xmath67 increases the path length between @xmath16 and  @xmath0 ( from @xmath6 to  @xmath72 edges ) without changing the density : the optimal distance of @xmath16 and  @xmath0 depends only on the density , and not on the path length , if @xmath70 ( as in the linlog energy model ) , and increases with the path length if @xmath71 .",
    "the results for networks with two or three vertices can be generalized , at least as approximations , to larger networks . in a network with clear communities , for example ,",
    "the density within the communities is ( by definition ) much greater than the density between the communities , and thus the intra - community distances in an optimal layout are much smaller than the inter - community distances ( unless @xmath61 is very large ) .",
    "this can be approximated by assuming that the vertices of each community have the same position , and thus by considering each community as one big vertex . for networks with more than two communities , eq .",
    "( [ e : distdens ] ) can not be expected to hold precisely for all pairs of communities , because this would often imply distances that violate the triangle inequality .",
    "nevertheless , the qualitative reasoning generalizes : distances are less dependent on densities for large @xmath61 , and less dependent on path lengths for small  @xmath20 .    [ cols=\"^,^,^ \" , ]     as motivated in the previous subsection , the parameters of the energy model are set to @xmath70 and @xmath73 , with @xmath74 for networks with very nonuniform density ( @xmath75 ) , and @xmath27 for networks with fairly uniform density ( @xmath76 ) .",
    "the variation of  @xmath21 improves the readability by ensuring that vertices are not placed too closely , but otherwise does not affect the grouping of the vertices .",
    "because the exact optimization of @xmath8-energy and modularity is computationally hard , the presented layouts and clusterings are not guaranteed to be optimal ( except for the clustering of the book co - purchase network  @xcite ) , but are the best known representations .",
    "the java program used for generating these representations is freely available  .",
    "it employs the barnes - hut algorithm for energy minimization , and agglomeration with multi - level refinement for modularity maximization ( see sec .",
    "[ ss : algs ] ) .    in the karate club network ( fig .",
    "[ f : karate ] ) , each vertex represents a member of a karate club , and the edge weight of each vertex pair specifies the number of contexts ( like university classes , bars , or karate tournaments ) in which the two members interacted .",
    "the main vertex groups in the @xmath77-energy layout coincide with the four clusters of the modularity clustering , and the layout correctly indicates that joining triangles and circles into a single cluster is almost as good as separating them ( modularity @xmath78 vs.  @xmath79 ) .",
    "the clustering and the layout both segregate the members who left the club after the instructor was fired ( gray boxes ) , with the exception of one member who followed the instructor mainly to preserve his chance for the black belt .",
    "@xmath77-energy layout and modularity clustering ( represented by shapes ) of the karate club network .",
    "the modularity of the clustering is  0.445 .",
    "gray boxes represent members who left the club after the instructor was fired.,width=325 ]    in the book co - purchase network ( fig .",
    "[ f : polbools ] ) , the vertices represent books on us politics , and edges of weight  @xmath6 connect books that were frequently purchased together . the clusters are generally well - separated in the layout ; a few members of the smaller central clusters are placed closely to one of the two large clusters , which correctly indicates that they are densely connected with parts of these large clusters , and their assignment to a smaller cluster is a close decision .",
    "the clustering and the layout , especially their two main groups , conform well to newman s classification  @xcite of the books as liberal ( light gray ) , neutral ( dark gray ) , or conservative ( black ) ; the layout is more suitable to represent the liberal - to - conservative ordering of the books .",
    "@xmath80-energy layout and modularity clustering of the book co - purchase network .",
    "the modularity is  0.527 .",
    "shades represent the classification as liberal ( light gray ) , neutral ( dark gray ) , or conservative ( black).,width=325 ]    the food classification network ( fig .",
    "[ f : food ] ) represents the categorizations of 45  foods by 38  subjects of a psychological experiment , who were asked to sort the foods into as many categories as they wished based on perceived similarity .",
    "each vertex represents a food , and the edge weight of each vertex pair is the number of subjects who assigned the corresponding foods to the same category .",
    "the clusters correspond well to groups in the layout , but the layout also indicates that the borders between some clusters are rather fuzzy ( e.g. , between snacks and sweets ) , that some clusters could be split into subclusters ( e.g. , fruits and vegetables ) , and that some foods can not be clearly assigned to a single cluster ( e.g. , water , spaghetti ) .",
    "the grouping in both the clustering and the layout largely conforms to common food categories .    @xmath77-energy layout and modularity clustering of the food classification network .",
    "the modularity of the clustering is  0.402 .",
    "( the edges are elided to avoid clutter.),width=325 ]    the world trade network ( fig .",
    "[ f : trade ] ) models the trade between 66  countries in the year  1999 . the vertices represent countries , and the edge weight of each vertex pair specifies the trade volume between the corresponding countries in us  dollar .",
    "the clustering and the layout both group the countries of the three major economic areas ( east asia / australia , america , and europe ) .",
    "the layout also reflects that countries like irn and  egy can not be clearly assigned to either the east asian or the european group , and shows many smaller groups of closely interlocked countries like chn and  hkg , aus and  nzl , gbr and  irl , and the nordic countries .",
    "@xmath35-energy layout and modularity clustering of the world trade network .",
    "the modularity of the clustering is  0.275 .",
    "( the edges are elided to avoid clutter.),width=325 ]",
    "as representations for the community structure of networks , layouts subsume clusterings , thus quality measures for layouts subsume quality measures for clusterings , and in fact prominent existing quality measures for layouts ",
    "namely , energy models based on the pairwise attraction and repulsion of vertices  subsume a prominent existing quality measure for clusterings  namely , the modularity measure of newman and girvan .",
    "this result has implications for the entire lifecycle of quality measures :    * design : new and existing quality measures for layouts may be applied to clusterings and vice versa .",
    "for example , recent extensions of the modularity measure to directed networks  @xcite and bipartite networks  @xcite can be directly generalized to energy models for layouts .",
    "* evaluation : the evaluation of quality measures for clusterings and layouts can be partly unified , i.e. , performed without distinguishing between clusterings and layouts .",
    "this has been demonstrated in  @xcite with a computation of the expected measurement value for networks with uniform expected density , a particularly important analysis technique @xcite . * optimization : components of clustering algorithms may be reused in layout algorithms and vice versa , for example the agglomeration ( coarsening ) phase of multi - level heuristics .",
    "moreover , energy - based layout algorithms might serve as initial stage of clustering algorithms , similarly to eigenvector - based layout algorithms in existing approaches ( see sec .",
    "[ ss : urel ] ) . *",
    "application : unified quality measures help to ensure the consistency of clusterings and layouts ( see sec .  [ s : appl ] ) , which is crucial because both representations are often used together ."
  ],
  "abstract_text": [
    "<S> two natural and widely used representations for the community structure of networks are clusterings , which partition the vertex set into disjoint subsets , and layouts , which assign the vertices to positions in a metric space . </S>",
    "<S> this paper unifies prominent characterizations of layout quality and clustering quality , by showing that energy models of pairwise attraction and repulsion subsume newman and girvan s modularity measure . </S>",
    "<S> layouts with optimal energy are relaxations of , and are thus consistent with , clusterings with optimal modularity , which is of practical relevance because both representations are complementary and often used together . </S>"
  ]
}