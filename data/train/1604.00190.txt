{
  "article_text": [
    "the subject of this work is mathematical modeling of state - of - charge in simple battery cells , such as a non - rechargeable 3 volts lithium coin battery .",
    "the goal is to understand the response of the battery , and ultimately to predict battery lifetime , as energy is consumed under a given discharge usage pattern .",
    "the main incentive for our work is the battery usage in wireless sensor networks and similar internet - of - things systems .",
    "these networks consist of inter - connected low - cost nodes , equipped with basal sensors , computer , radio and a battery , expected to run for many years under very low intensity loads and short dutycycles . within the tight cost restrictions typical of such systems , methods or techniques providing `` battery - charge indicators ''",
    "do not seem to be within reach currently . to make progress in this direction",
    "it is essential to address the problem of predicting battery life .",
    "our paper intends to cover some of the required modeling groundwork and discuss analysis of linear , nonlinear and stochastic aspects of modeling battery cells .",
    "mathematical modeling of batteries has developed over several decades along with the growth of new battery technologies and materials . yet",
    ", there has been relatively little in - depth study of widely available , inexpensive coin cell batteries and on special load characteristics including short load periods .",
    "primarily , lithium and lithium - ion battery models have been developed within electrochemical engineering .",
    "two recent survey and review works @xcite represent the state - of - art of modeling based on the fundamental principles of electrochemistry , and emphasize the wide range of scales involved .",
    "the temporal and spatial scales of the physics and chemistry of the battery range from macroscopic level all the way down to the atomistic level . the tutorial review by landstorfer and jacob @xcite provides a framework of non - equilibrium thermodynamics as the foundation for studying the electrode , electrolyte and interface reactions in great detail .",
    "the review work by ramadesigan _",
    "@xcite , summarizes the literature on such models and , in addition , brings a systems engineering approach applied to li - ion batteries .",
    "this type of model can be said to begin with the pseudo - two - dimensional ( p2d ) model of doyle _",
    "@xcite , which leads to a coupled system of non - linear pdes . more generally , coupled systems of equations with complex boundary conditions are derived , which connect charge concentrations with transport and kinetics of reactant species .",
    "several approaches have been proposed to simplify the resulting sets of equations and allow for numerical computations , see e.g.  @xcite .    in this work",
    "we use the different mathematical approach to battery modeling developed in communication engineering for computer science applications , see e.g. jongerden and haverkort @xcite . where chemical engineering modeling typically begins with a detailed scheme of reactions and mechanisms in the various phases and interfaces of the cell , these models view the battery as a generic device subject to some fundamental principles .",
    "the main focus of the modeling changes and is now rather the response of the battery to external load .",
    "a typical purpose is load scheduling to optimize battery utilization .",
    "important aspects of battery behavior from this point of view are the rate - capacity effect and charge recovery .",
    "quoting @xcite : _ the former refers to the fact that a lower discharge rate is more efficient than a higher ; more charge can be extracted from the battery before reaching a given cut - off value .",
    "the latter refers to the fact that an intermittent discharge is more efficient than a continuous one . because of these effects , different battery loads that use the same total charge do not result in the same device lifetime . _",
    "the most basic of these methods use linear odes @xcite and gradually build complexity by using pdes and other means @xcite .",
    "a further direction is stochastic modeling using markov chain dynamics @xcite .",
    "the aim of our work is to investigate to what extent these simplified battery models are able to capture important aspects of battery behavior , and to get new insights by developing the mathematical models further .",
    "of special interest is the essential response of the battery to deterministic or random on - off discharge patterns typical for batteries in wireless sensor networks , and the ability of a cell to recover charge during operation .",
    "charge recovery is believed to depend on a number of internal mechanisms , such as convection , diffusion , migration , and charge - transfer . in the modeling work we put special emphasis on separating the roles of diffusion , which is the motion of electroactive species in the presence of a concentration gradient , and migration , the motion of charged species in an electric field .",
    "our starting point is the kinetic battery model of manwell and mcgowen @xcite , which describes the joint evolution of available charge and bound charge over time .",
    "charge recovery in this framework consists in the continuous transition of bound charge to available charge .",
    "as observed in @xcite and further investigated in @xcite , more general spatial versions of these models are related to the diffusion model of rakhmatov and vrudhula @xcite , and leads to a class of second order diffusion equations with robin type boundary conditions .",
    "quoting @xcite , the linear dynamics of the kinetic battery model is _ useful in getting an intuitive idea of how and why the recovery occurs but it needs a number of additions to be useful for the types of batteries used in mobile computing_. using experimental data from ni - mh batteries , @xcite proposed a modified , non - linear , factor in the flow charge and discussed related stochastic versions of the model . in an effort to compare more systematically linear and nonlinear dynamics in kinetic and stochastic battery models , we study discrete time markov chains with nonlinear jump probabilities derived from a simplified charge transport scenario . by a scaling approximation",
    "we obtain in the limit a deterministic nonlinear ode , with explicit solutions which , in principle , can be compared to those of the linear approach .",
    "the unifying mathematical aspect in our analysis is the representation of remaining and available capacities as time - autonomous systems .    in section 2 ,",
    "following preliminaries on capacities , internal charge recovery and discharge profiles , we consider the kinetic battery model and discuss a variation .",
    "then we set up an extended version of the spatial kinetic battery model with a finite number of serial compartments , derive the spatially continuous limiting pde , and give a probabilistic representation of the solution of the pde in terms of brownian motion with drift reflected at the boundaries on both sides of a finite interval .",
    "the solution represents the capacity storage of a battery and these tools allow us to study the balance of available and remaining stored capacity .",
    "section 3 studies a nonlinear , stochastic markov chain model and its deterministic ode approximation . with proper choice of nonlinear dynamics for charge recovery due to transfer , diffusion and migration effects",
    ", we then propose a somewhat wider class of nonlinear ode of potential use for battery modeling . as a consequence ,",
    "it is possible to study performance measures such as battery life , delivered capacity and gain , and to compare and optimize the performance of batteries .",
    "we consider a primary ( non - rechargeable ) battery cell consisting of two electrodes , anode and cathode , linked by an electrolyte .",
    "the cell contains a certain amount of chemically reactive material which is converted into electrical energy by an oxidation reaction at the anode .",
    "primary lithium batteries have a lithium anode and may have soluble or solid electrolytes and cathodes .",
    "the mass of material involved in the battery reaction yields a higher concentration of electrons at the anode , and hence by faraday s first law the transfer of a proportional quantity of electrical charge .",
    "this determines a terminal voltage between the pair of electrodes . by closing",
    "a wired circuit between the terminals a current of electrons will start moving through the wire from anode to cathode where they react with a positively charged reactant , manifesting the ability of the battery to drive electric current .",
    "the intensity of the current depends on the total resistance along the wire . inside the battery",
    "the movement of charge - carriers forms a corresponding ionic current , which is controlled by a variety of mechanisms , among them migration of ions , diffusion of reactant species , and charge - transfer reaction .",
    "migration is generated by an electric potential gradient ( electric field ) and convective diffusion by the concentration gradient .",
    "conductivity arises from the combination of migration and diffusion .",
    "charge - transfer reactions take place when migrating ions are transferred from the electrolyte bulk through the anode surface .",
    "it is sometimes helpful to keep track of proper units .",
    "the battery has a given voltage @xmath0 in volts [ v ] and a theoretical capacity @xmath1 in ampere hours [ ah ] , representing the entire storage of chemically reactive material in the cell .",
    "we write @xmath2 [ ah ] for the nominal capacity of a fully loaded cell , where @xmath3 .",
    "this is the amount of electric charge which is delivered if the cell is put under constant , high load and drained until a predefined cut - off voltage is reached .",
    "measuring time @xmath4 in hours [ h ] we write @xmath5 for the consumed capacity [ ah ] and @xmath6 for the remaining capacity [ ah ] , at time @xmath4 . here , @xmath7 is an increasing function , typically continuous with the slope representing intensity of the current .",
    "it is also plausible to let the discharge function have jumps to be interpreted as spikes of charge units being released point - wise to the device driven by the battery . as",
    "an additional level of generality it is straightforward to consider @xmath8 defined on a probability space and subject to a suitable distributional law of a random process .",
    "the instantaneous discharge current [ a ] at @xmath4 is the derivative @xmath9 and the average discharge current [ a ] is the quantity @xmath10 , assuming this limit exists .",
    "we are interested in the behavior of the battery cell when exposed to the accumulated discharge process @xmath8 , in particular regarding @xmath11 at time $ t$ } , \\quad u(0)=n\\\\[1 mm ] \\widetilde u(t)&=u(t)/n= \\mbox{state of charge at time $ t$},\\quad \\widetilde u(0)=1\\\\[1 mm ] e(t)&=\\mbox{voltage [ v ] at time $ t$},\\quad e(0)=e_0 .",
    "\\end{aligned}\\ ] ] while there is no obvious method of observing state - of - charge empirically , voltage is accessible to measurements at least in principle . to describe typical voltage",
    ", we imagine that a fully charged battery at time @xmath12 is connected to a closed circuit at constant discharge current @xmath13 [ a ] .",
    "the result is an instant voltage drop from @xmath14 to a new level at approximate voltage @xmath15 , where @xmath16 is an internal resistance [ ohm ] of the cell .",
    "as long as charge is consumed , the state - of - charge will then begin to decline over time accompanied by a subsequent change of voltage .",
    "if after a period of discharge the current is disconnected and the battery temporarily put to rest , then the voltage increases .",
    "first , instantly , by the amount @xmath17 and then over the course of the off - period at some rate due to recovery effects inside the cell",
    ". the resulting voltage versus time curve extended over a longer time span would typically stay nearly constant or exhibit slow decline over most of the active life of the battery followed by a steeper decent until a cut - off level @xmath18 is reached , beyond which the cell is considered to be non - operational . to relate state of charge and voltage we recall that the actual load a time @xmath4 is given by @xmath19 and apply the equilibrium nernst equation , @xcite ch .  1",
    ", to obtain @xmath20 where @xmath21 is the ideal gas constant , @xmath22 is absolute temperature , @xmath23 is the valency of the battery reactant ( @xmath24 for lithium ) , @xmath25 is faraday s constant , and dimensions are such that @xmath26 is measured in volts . the internal resistance , however , may have a more complex origin arising from a series of resistances in the electrodes and electrolyte .",
    "electrical circuit models use equivalent electrical circuits to capture such current - voltage characteristics . in this direction , @xcite consider a hybrid model of kinetic battery and electrical circuit models to fascilitate the derivation of voltage in terms of exponential and polynomial functions of state of charge . building on this approach ,",
    "@xcite fits empirical battery data in order to evaluate battery models for wireless sensor network applications .",
    "the general principle for charge recovery is that of balancing the discharge rate by a positive drift of the available capacity due to the release and transport of stored charges .",
    "such effects should exist as long as the theoretical capacity of the cell has not yet been fully consumed , that is @xmath27 .",
    "the first recovery mechanism to take into account is ( solid - state ) diffusion of charge carriers caused by the build - up of a concentration gradient in the electrolyte during discharge .",
    "the drift of the process is convective flow and a diffusion coefficient controls random variations around the main direction of transport .",
    "diffusion transport of charge carriers might be a slow process which persists even if the load is removed and the battery put to rest , and runs until charge concentrations have reached local equilibrium .",
    "another mechanism for gaining capacity due to recovery is migration of charge - carriers caused by the electric field , as an action of a potential gradient .",
    "the strength of this effect should increase with the gap @xmath28 between maximal and actual capacity .",
    "it appears reasonable to assume that the effect of migration is ongoing whether the battery is under load or at rest .",
    "the final aspect of recovery we wish to include in the modeling scenario is charge transfer , meaning the transfer of charges from electrolyte through an interface to the terminal electrode .",
    "a simplified approach for this effect is that of a friction mechanism , such that a fraction of recovered charges are actually effectuated proportional to the applied load current , either instantaneous current or average current over long time .",
    "the battery models we study are introduced in relation to an arbitrary accumulated discharge function @xmath8 . to engage in a more detailed analysis of battery performance",
    "we consider three stylized examples of @xmath8 , which represent typical discharge patterns for the intended usage of the battery .",
    "_ constant current . _",
    "the first such pattern is that of draining the battery at a constant current @xmath29 which remains the same over the entire battery life until the cell is emptied . clearly , @xmath30 and @xmath31 .",
    "_ deterministic on - off pattern . _",
    "the second example is relevant for the case when we know in advance both the amount of work the battery is supposed to power and the scheduled timing of loads . for such cases",
    "we consider a deterministic pulse - train which consists of a periodic sequence of cycles of equal length .",
    "each cycle begins with an active on - period during which a pulse of constant load is transmitted , followed by an off - period of rest and no load .",
    "specifically we assume that a current @xmath32 [ a ] is drawn continuously during each on - period of length @xmath33 followed by a dormant off - period of length @xmath34 .",
    "hence the cycle duration is @xmath35 and the dutycycle is given by the fraction @xmath36 .",
    "we introduce @xmath37 so that @xmath38 if @xmath4 belongs to an on - period and @xmath39 for @xmath4 in an off - period .",
    "then the consumed capacity is @xmath40 and @xmath41 is a piecewise continuous function with non - decreasing rate @xmath42 .",
    "the average discharge rate equals @xmath43 .",
    "_ random discharge pattern . _",
    "our third stylized example of discharge mechanisms represents the case where no information except average load is available in advance of battery operation .",
    "in this situation we consider completely random discharge with the load to be drawn from the battery per time unit scattered independently and uniformly random in the sense of the poisson process . here",
    "we take @xmath44 , where @xmath45 denotes a standard poisson process on the half line with constant intensity @xmath46 .",
    "this amounts to saying that the battery is drained from energy in small jumps of charge @xmath47 which occur interspaced by independent and exponentially distributed waiting times with expected value @xmath48 .",
    "again the average discharge current is @xmath49 .",
    "the kinetic battery model , originally introduced for lead acid batteries in @xcite , takes the view that remaining capacity of the battery is split in two wells , or compartments , one representing available charge and the other bound charge .",
    "discharge is the consumption of available charge and charge recovery is the flow of matter from the bound well to the available one .",
    "the available capacity @xmath50 in this model is precisely the amount of charge in the available well as function of time .",
    "hence we call @xmath51 , the bound charge and decompose remaining capacity as @xmath52 , @xmath53 , @xmath54 . with the use of the fraction @xmath55 , @xmath56 ,",
    "the two wells are assigned a measure of height given by @xmath57 and @xmath58 .",
    "the principle of the kinetic battery model is that bound charge becomes available at a rate which is proportional to the height difference @xmath59 .",
    "once available , no charges return to the bound state .",
    "thus , @xmath60 dy(t ) & = -k\\big(\\frac{y(t)}{1-c}-\\frac{u(t)}{c}\\big)\\,dt,\\quad & y(0)=t - n , \\end{array } \\right .",
    "\\label{kibameqnsyst}\\ ] ] where @xmath61 is a reaction parameter . by assumption , @xmath62 , @xmath63 .",
    "it is convenient therefore to consider the pair @xmath64 . with @xmath65 as an alternative parameter , @xmath66 in ( [ kibameqn ] ) , charge recovery as represented by the factor @xmath67 may be seen as the combination of a migration effect due to the term @xmath28 together with ( negative ) drift @xmath68 . to clarify these connections , ref.@xcite studied a reweighted version of the model . in this paper",
    "we wish to develop these ideas further and hence consider the closely related reweighted model @xmath69 where the parameter @xmath70 controls charge recovery due to migration .",
    "the case @xmath71 reflects migration of additional charge from the bound well adding to the internal charge recovery .",
    "the case @xmath72 represents loss of recovery due to migration .",
    "the linear system ( [ kibameqnplus ] ) is readily solved as @xmath73 for later reference we note that the relevant version of ( [ kibameqnsyst ] ) for this extended case is @xmath74 dy(t ) & = -k_c(cy(t)-(1-c)u(t)+p(n - u(t)))\\,dt . \\end{array } \\right.\\ ] ] we emphasize that the discharge profile @xmath5 is arbitrary for this version of the kinetic battery model .",
    "for example , with the random discharge pattern discussed in section [ sec : dischargeprofile ] the integral in ( [ kibameqnplussol ] ) is a stochastic poisson integral and the the corresponding solution is a random process @xmath75 , which may be written @xmath76 where the sum extends over all jumps @xmath77 in @xmath78 $ ] of a poisson process with intensity @xmath79 .    of course , the kinetic battery model could only give a crude indication of the processes behind real battery behavior .",
    "in contrast , the diffusion battery model of rakhmatov and vrudhula introduced in @xcite is an approach closer to electrochemical modeling , detailing reaction kinetics and internal transport mechanisms .",
    "both types of models are relevant for engineering battery performance .",
    "a significant step towards unifying these approaches is the extension to spatial versions of the kinetic battery model , where charges move inside of a reservoir of bound charge according to the same local dynamics as the simplest case above .",
    "the diffusion battery model @xcite , views battery operation as the diffusion of ions between two electrodes separated by an electrolyte consisting of a linear region @xmath80 $ ] of the one - dimensional line .",
    "initially , the electroactive species are uniformly distributed over space . over time , the concentration @xmath81 of electroactive species at time @xmath63 and distance @xmath82 from the electrode at @xmath83 develop following fick s laws of diffusion with suitable boundary conditions at both electrode endpoints @xmath83 and @xmath84 . in @xcite",
    ", comparing kinetic and diffusion battery models , jongerden and haverkort introduced the idea of placing a finite number of charge compartments in series along the spatial range and letting charges move between adjacent components according to eq.([kibameqnsyst ] ) .",
    "discharge occurs at the anode which is located in one end point of the spatial interval . starting from a state of fully charged compartments a spatial charge profile develops over time and determines the pace at which the battery is drained .",
    "this system is shown to match the diffusion model when the diffusion equations for @xmath81 are discretized over an equally sized partition of @xmath80 $ ] . in this sense",
    "the diffusion model is a continuous version of the kinetic battery model . in this section",
    "we present further developments of this theory , building on previous work in ref .",
    "indeed , we analyze the effects of charge recovery in the spatial setting and provide in explicit form the available charge and other performance measures in terms of basic parameters of diffusion and migration .",
    "we begin by considering a battery cell consisting of @xmath85 adjacent fluid compartments and a function @xmath86 which gives the charge content in each component over time . here",
    "@xmath87 is the available charge , @xmath88 is a bound well charge for @xmath87 and so on until @xmath89 , which is a bound well charge for @xmath90 . by letting eqn .",
    "( [ kibameqnsyst ] ) act pairwise on adjacent compartments , we obtain the coupled system of linear equations @xmath91 in greater generality , the reweighted version ( [ kibameqnsystplus ] ) yields @xmath92 to see more clearly the structure in this system of equations , we introduce the parameter @xmath93 and employ the notations @xmath94 then @xmath95 here , the parameter @xmath70 controls drift originating from the terms proportional to @xmath28 in ( [ kibameqnsystplus ] ) . in particular , the nominal capacity @xmath2 remains as a parameter in the boundary equations for @xmath87 and @xmath89 .",
    "our next goal is to identify a limiting partial differential equation for the charge concentration profile @xmath50 in the limit @xmath96 as the size of the charge compartments tends to zero and the number of wells goes to infinity .",
    "the case @xmath97 is studied in ref.@xcite and we will use a similar method for the general setting .    let @xmath98 and consider the strip @xmath99 partitioned in @xmath85 equal intervals of length @xmath100 . for @xmath101 , @xmath102 , we define @xmath103 and note that @xmath104 and @xmath105 to match spatial and temporal scaling we introduce the scaled parameters @xmath106 , @xmath107 . the relations derived above for @xmath108 ,",
    "@xmath109 imply , for @xmath110 , @xmath111 where @xmath112 is the linear drift operator @xmath113 the additional relations for @xmath87 and @xmath89 correspond to boundary equations for @xmath114 , which attain the form @xmath115 and @xmath116 based on the above relations for the system of @xmath85 compartments one can see that in order to balance all terms in the limit @xmath96 , it is natural to introduce two drift parameters @xmath117 and @xmath118 , both of arbitrary sign , and replace @xmath119 by @xmath120 and @xmath70 by @xmath121 .",
    "then , for large @xmath85 , @xmath122 where @xmath123 is a reaction parameter , @xmath117 a diffusion parameter and @xmath118 a migration parameter .",
    "this gives the approximate system @xmath124 with robin type boundary conditions @xmath125 and @xmath126 we conclude that the relevant limiting equation in the limit @xmath127 , is defined on @xmath128 by @xmath129 here , @xmath130 is the charge density at the boundary of the battery and @xmath131 is the fluid level of a reservoir of bound charge such that @xmath132 is what remains in the reservoir at time @xmath4 .      to state a probabilistic representation of the solution to ( [ pdefinal ] ) ,",
    "let @xmath133 denote brownian motion with variance parameter @xmath134 and constant drift @xmath135 .",
    "the parameter @xmath32 in the drift of the brownian motion corresponds to @xmath136 in ( [ pdefinal ] ) .",
    "we assume that @xmath137 is confined to the interval @xmath138 and subject to reflecting boundaries at both end points @xmath139 and @xmath140 .",
    "let @xmath141 be the transition density of @xmath137 so that @xmath142 .",
    "we will use a spectral type representation for @xmath141 known to be @xmath143 the above expression is derived in ref .",
    "@xcite and discussed and compared with an alternative representations in ref .",
    "in particular , for the symmetric case , letting @xmath144 , @xmath145 asymptotically , for @xmath146 as @xmath4 tends to infinity , @xmath147    [ thm : pde ] suppose that the spatial kinetic battery model with reaction parameter @xmath123 , migration parameter @xmath118 , and diffusion parameter @xmath117 is defined on an interval @xmath148 where @xmath2 is the nominal capacity and @xmath1 the theoretical capacity .",
    "let @xmath149 .",
    "a given nonnegative function @xmath150 , is the initial charge profile of the battery and @xmath151 is a given discharge pattern .",
    "we restrict to the range of parameters where the battery model is physically realized , by assuming that @xmath118 , @xmath117 , @xmath2 , @xmath140 , and @xmath152 are such that @xmath153 for @xmath99 , where @xmath154 is defined in ( [ uinftydef ] ) .",
    "then the bound charge profile @xmath155 of the battery , defined as the solution of the pde ( [ pdefinal ] ) , is given for the case @xmath156 by @xmath157 and for the case @xmath158 by @xmath159 where @xmath141 is defined in ( [ transitionprob ] ) .",
    "the special case of diffusion but no migration , which is the pde ( [ pdefinal ] ) with @xmath160 , that is @xmath161 has been studied in ref .",
    "the solution is given by @xmath162 to handle the case of a nonzero migration effect , @xmath163 , in ( [ pdefinal ] ) we first observe that the non - homogeneous term in ( [ eq : pdesolsum ] ) which involves @xmath151 remains the same .",
    "hence it suffices to discuss the solution of of ( [ pdefinal ] ) for the homogeneous case @xmath164 , which represents a battery at rest without discharge current .",
    "we claim that for any drift parameters @xmath117 and @xmath118 , such that @xmath165 , the solution is given by @xmath166 indeed , it is straightforward to verify that for any constant @xmath167 the function @xmath168 satisfies the target equation .",
    "moreover , @xmath169 which shows that boundary condition at @xmath83 is satisfied for @xmath170 .",
    "similarly for the boundary condition at @xmath84 .",
    "finally , to cover the case @xmath158 one shows that @xmath171 equals the sum of the two last terms in ( [ soldelta0 ] ) .",
    "* constant initial charge .",
    "* restricting to the special case of constant initial charge @xmath172 , the solution for @xmath156 is @xmath173 and for @xmath158 , @xmath174    * asymptotic charge profile .",
    "* for a battery at rest , so that @xmath175 , we have by ( [ homogeneousasymptotic ] ) and ( [ pdesolhomogeneous ] ) that @xmath176 is given by @xmath177 in particular , for @xmath178 , @xmath160 yields the truncated exponential function @xmath179 and @xmath180 the trivial asymptotic solution @xmath181 , @xmath182 .",
    "* non - homogeneous case , migration but no diffusion*. the system ( [ pdefinal ] ) for the case @xmath180 and arbitrary @xmath118 , where we also restrict to the initial condition @xmath183 , @xmath184 , takes the form @xmath185 the solution is @xmath186    * varying the discharge profile*. of course , the result in theorem [ thm : pde ] for the capacity reservoir @xmath187 will be obtained in a more or less explicit form depending on which discharge profile @xmath8 applies .",
    "but , in principle , the results of theorem [ thm : pde ] allow comparison of the capacity dynamics under the discharge patterns discussed in section [ sec : dischargeprofile ] , and others .",
    "for example , a family of deterministic on - off patterns with given parameters may be compared to the reference case of constant current discharge .",
    "if the discharge pattern is poisson or otherwise random then the response in capacity and voltage drop will be random as well .",
    "the next subsection is concerned with the case of constant discharge .",
    "the results in this subsection applies to the case of constant current @xmath30 . for simplicity",
    "we assume constant initial capacity @xmath188 .",
    "then the available capacity predicted by the spatial kinetic battery model according to theorem 2.1 is @xmath189 and the corresponding state of charge is @xmath190 .",
    "it is illustrative to consider the available capacity as a function of the remaining capacity stored in the battery .",
    "this point of view is explicit in the simple kinetic battery model under constant current , namely if we consider @xmath64 with @xmath191 and @xmath192 which is the solution of ( [ kibameqnplussol ] ) for the case @xmath30 .",
    "then @xmath193 with @xmath194 given by @xmath195 is an autonomous system , and we may express functionals of @xmath196 , such as voltage @xmath197 , in terms of @xmath198 . in the same spirit we seek to express @xmath199 for the spatial kinetic battery model as a function of remaining capacity . in our model",
    "the relevant remaining capacity function is what is stored in the entire reservoir of size @xmath140 at time @xmath4 , namely @xmath200 by replacing @xmath201 in ( [ nomcapacityspatial ] ) with @xmath202 , @xmath203 which is an autonomous system for the pair @xmath204 .",
    "figure [ fig : phaseplanespatial ] indicates the typical shape of solution curves @xmath193 for fixed , but arbitrary , parameter values @xmath205 ,",
    "@xmath206 , @xmath207 , @xmath208 , and @xmath209 , and for varying @xmath118 and @xmath117 .",
    "the diagonal line from @xmath210 to @xmath211 in the @xmath193 phaseplane represents an idealized situation where all theretical capacity of the battery is consumed at a steady pace .",
    "the additional straight line from @xmath212 to @xmath211 represents a battery which is drained at rate @xmath29 without any recovery of bound charge at all .",
    "in this section we introduce an approach to nonlinear battery modeling using a discrete time markov chain on a set of bivariate states representing available and remaining capacities .",
    "the chain has nonlinear jump probabilities which we arrive at by analyzing a simplified transport system of charges under diffusion and migration .",
    "then we investigate the scaled capacities as the number of slots per time unit tends to infinity and the discharge process converges to that of constant rate . in the limit",
    "we obtain deterministic capacity functions identified as the solution of a nonlinear ordinary differential equation .",
    "informed by these findings we then consider a class of nonlinear odes which can be solved explicitly .",
    "the solutions arising in this manner potentially reflect the nonlinear dynamics of capacity under discharge of the battery .",
    "in addition we indicate two further directions of probabilistic modeling .",
    "one is to study the deviation of the markov chain from its deterministic limit and describe the scaled fluctuations in terms of a diffusion process .",
    "finally we consider the deterministic limit process modified to operate under random discharge , and compare this situation with the previous cases .",
    "we consider a discrete time markov chain @xmath213 defined on the state space @xmath214\\times[0,n]$ ] , modeling @xmath215 in time slot $ n$}\\\\ x_n&=\\mbox{available capacity [ ah ] in time slot $ n$. } \\end{aligned}\\ ] ] we assume that @xmath2 and @xmath1 are integer multiples of @xmath32 and that all jumps are of size @xmath32 .",
    "all jumps in the first coordinate are downwards .",
    "jumps in the second are allowed to be both up and down as long as @xmath216 .",
    "the battery is discharged randomly at constant current @xmath32 with probability @xmath217 per slot . letting @xmath218 where @xmath219 is a sequence of i.i.d random variables with @xmath220",
    ", it follows that @xmath221 is the accumulated discharge at slot @xmath222 and @xmath223 is the remaining charge in the battery after @xmath222 slots .",
    "the expected discharge rate is @xmath224 .",
    "given the sequence @xmath225 as input we model @xmath226 as a markov chain modulated by @xmath227 .",
    "all jumps down of @xmath228 are inherited from the discharge profile and follow those of @xmath227 .",
    "jumps up will occur according to a markovian dynamics chosen so as to reflect the recovery properties of the battery . in slot",
    "@xmath229 the transition probabilities depend on the current state @xmath230 and the current discharge information stored in @xmath231 .      in an attempt to model charge recovery the battery cell",
    "is thought to consist of a randomly structured , electroactive material which allows transport of charge carrying species through the electrolyte by liquid or solid state diffusion .",
    "internal charge recovery relies on access to transportation channels of enough connectivity to allow the material to pass from one node to the other .",
    "also , these channels must be `` activated '' by a sufficient amount of previous discharge events . to try to describe such a system ,",
    "we introduce @xmath232 conditional on @xmath233 , the updates @xmath234 and @xmath235 are assumed to have poisson distributions , such that for given nonnegative parameters @xmath236 and @xmath237 @xmath238 and @xmath239 is binomially sampled from @xmath235 , so that @xmath240 in case there is no discharge in slot @xmath222 , that is @xmath241 , then the battery cell is able to recover one unit of charge if both @xmath242 and @xmath243 . hence @xmath244 the dynamics specified by this recursive relation is that , given @xmath245 , if @xmath246 then the transition in slot @xmath229 is @xmath247 and if @xmath248 then @xmath249 together these relations define a bivariate markov chain model @xmath213 with dynamics specified by @xmath250 and , typically , initial condition @xmath251 .",
    "we obtain a drift function and a variance function for the markov chain from @xmath252 and @xmath253      the drift function @xmath254 suggests a relevant , approximating ode for the markov chain . to formalize this limit procedure",
    "it is convenient to introduce a scaling parameter @xmath255 . at scaling level @xmath85",
    "the number of slots per unit time is @xmath85 and the discharge current jump size is @xmath256 rather than @xmath32 .",
    "consider @xmath257 and define for continuous time @xmath63 , @xmath258}.\\ ] ] similarly , let @xmath259 be the scaled discharge process with @xmath32 replaced by @xmath256 and put @xmath260 } , \\quad v^{(m)}(t)=t-\\lambda^{(m)}(t).\\ ] ] then @xmath261}z_i = \\frac{q\\delta[mt]}{m}+\\sqrt{\\frac{q(1-q)\\delta^2}{m } }    \\frac{1}{\\sqrt{m}}\\sum_{k=1}^{[mt]}\\frac{z_i - q}{\\sqrt{q(1-q)}}.\\ ] ] by the functional central limit theorem we may introduce a wiener process @xmath262 and for large @xmath85 view @xmath263 as an approximation of the continuous time remaining capacity function @xmath264 , in the sense @xmath265 where @xmath266 and the approximation error is of the order @xmath267 .",
    "moreover , by considering the differential change of @xmath268 over a time interval @xmath269 where @xmath270 , @xmath271 and @xmath272 as above we obtain a deterministic limit equation for large @xmath85 by applying a diffusion approximation with the diffusion term of magnitude @xmath267 . to simplify notation we put @xmath273 then @xmath274 where @xmath275 is another wiener process . since @xmath276 and @xmath277 have simultaneous jumps , @xmath278 and @xmath275 are dependent with a non - zero covariance .      as @xmath96 , the stochastic differential equations for @xmath276 and @xmath277 simplify and become the ordinary differential equation @xmath279 & v_t'=-\\delta q,&\\qquad v_0=t .",
    "\\end{array}\\ ] ] recalling @xmath280 , the solution is @xmath281 and @xmath282 where @xmath283 hence @xmath284 and so @xmath285 thus , in analogy with the results obtained for the kinetic battery models in the previous section , it follows that @xmath286 is an autonomous system from which we can read off the available capacity as a function of remaining capacity .      in the markov chain model of section [ sec : markov ] , we considered random discharge at current @xmath32 with probability @xmath217 per slot , which converged by the law of large numbers to a constant discharge pattern @xmath30 , @xmath280 , under the approximation scheme of section [ sec : approxmarkov ] .",
    "an alternative would be to run the markov chain @xmath233 relative to a given discharge sequence @xmath287 , such that in the scaling limit emerges an on - off discharge pattern as discussed in section [ sec : dischargeprofile ] .",
    "we recall that @xmath288 is the piecewise constant indicator function which is one during periods when the battery is under load and zero otherwise and that @xmath289 is the remaining capacity at time @xmath4 .",
    "as the degree of resolution increases by taking @xmath290 we then expect the process of nominal capacity , @xmath291 , to converge to a deterministic limiting function @xmath292 , which solves the ordinary differential equation @xmath293 then @xmath294 and so , by introducing a generating factor @xmath295 defined by @xmath296 hence @xmath297 we can solve for @xmath298 and obtain @xmath299 with @xmath300 this may be written @xmath301 which is a closed form solution for capacity in terms of the given discharge profile , coded by @xmath288 and @xmath302 with parameters @xmath32 and @xmath217 , and the additional battery parameters @xmath303 and @xmath304 .      we have found a deterministic function @xmath305 which satisfies the ordinary differential equation ( [ eq : conttimeapproxode ] ) , in the limit @xmath96 of the scaled markov chain @xmath306 with constant discharge rate @xmath29 .",
    "now we introduce the random quantities @xmath307 in order to study the fluctuations of the scaled markov chain around its deterministic limit @xmath305 . with @xmath278 and @xmath275 as in section [ sec : conttimeapprox ] we obtain for large @xmath85 , @xmath308 where @xmath309 .",
    "it follows by a taylor expansion of @xmath310 that @xmath311 in the scaling limit @xmath96 we therefore expect that the fluctuation process @xmath312 converges to a diffusion process @xmath313 , such that @xmath314 this stochastic differential equation for @xmath313 can be seen as a generalized ornstein uhlenbeck process @xmath315 with time - inhomogeneous drift and variance coefficients @xmath316 and @xmath317 , which is also modulated by an additional , random , drift @xmath318 .      to derive the capacity dynamics in ( [ markovode ] ) we were guided by a markov chain argument based on a simplified view of charge transport inside the battery cell . in this final section",
    "we mention a more general class of deterministic non - linear recovery models for the dynamics of nominal capacity and state of charge .",
    "again we write @xmath319 for nominal capacity and @xmath320 for the remaining capacity in the cell as functions of time @xmath63 . here",
    "@xmath321 and @xmath5 is the discharge process with average discharge current @xmath31 .",
    "the general principle for charge recovery is that of balancing the discharge rate in @xmath319 by a positive drift of the nominal capacity due to the release and transport of stored charges .",
    "it is reasonable that such effects are proportional to the applied average load @xmath322 and exist as long as the theoretical capacity of the cell has not yet been fully consumed , that is @xmath323 .",
    "furthermore , the gain in capacity due to recovery depends on the migration of charge - carriers , and the strength of this effect should increase with the gap @xmath324 between maximal and actual capacity . hence , to capture charge recovery in the framework of one - dimensional differential equations ,",
    "we may let @xmath325 $ ] and @xmath326 $ ] be non - decreasing functions with @xmath327 , @xmath328 , and consider equations of the generic shape @xmath329 where @xmath330 is battery life defined as the maximal time @xmath4 for which @xmath331 .",
    "the special case of ( [ genericode ] ) where @xmath332 and @xmath333 is a positive constant which measures the strength of migration of charges due to the existing electric field in the battery , is given by @xmath334 because of the separation of variables we may write @xmath335 for example , taking the simplest case @xmath30 , @xmath336 equivalently , @xmath337 it is immediate in this model that the pair @xmath305 is autonomous so that available capacity @xmath338 can be viewed as a function of remaining capacity only . moreover , the capacity dynamics is load - invariant in the sense that the curve @xmath339 does not depend on @xmath29 .",
    "in other words , batteries drained using different choices of @xmath29 will exhibit different battery life , longer the smaller intensity of the current , but the used capacity @xmath340 at end of life will be the same in each case .      in the framework of the nonlinear ode approach we have obtained , just as for the linear models studied previously , a phase plane relation @xmath341 for the capacity dynamics .",
    "via state - of - charge @xmath342 we may proceed as before to modeling the corresponding voltage . without going into details",
    "this will give us some capacity threshold @xmath343 below which the battery is no more functioning .",
    "then the unused capacity that remains in the battery at the end of its life time is the unique solution @xmath344 of @xmath345 .",
    "thus , the delivered capacity is @xmath346 and the gained capacity is @xmath347 .",
    "our model allows for some qualitative conclusions about these quantities as well as numerical studies of special cases .",
    "various discharge processes @xmath8 can be compared against experimental data and relevant parameters estimated . to give an indication of this type of work , figure [ fig : dischargeprofile ]",
    "shows the result of repeated independent simulations based on ( [ expode ] ) with @xmath348 and @xmath8 a random poisson discharge process as described in section [ sec : dischargeprofile ] .",
    "the parameters used for these particular simulations are chosen arbitrarily such that the output appears to mimic that of a real battery .",
    "the upper panel shows the phase plane traces of the resulting solutions @xmath349 .",
    "the lower panel shows the corresponding random paths of the state - of - charge @xmath350 as function of time .",
    "also in the lower panel we have superimposed ( solid red curve ) the state - of - charge for the case of constant discharge with the same average load , now given by the explicit solution of equation ( [ expode ] ) with @xmath30 .",
    "i. kaj , v. konane , analytical and stochastic modelling of battery cell dynamics .",
    "_ proceed .  19th intern .",
    "analytic and stochastic modelling techn .  and appl . _ k. al - begain , d. fiems , and j .-",
    "vincent ( eds . ) : asmta 2012 , lecture notes in computer science , vol 7314 ( 2012 ) , 240254 .",
    "v. ramadesigan , p.w.c northrop , s. de , s. sananthagopalan , r.d .",
    "braatz and v.r .",
    "subramanian , modeling and simulation of lithium - ion batteries from a systems engineering perspective .",
    "j. electrochem .",
    "* 159*:3 ( 2012 ) , r31-r45 .      c. rohner , l.m .",
    "feeney , and p. gunningberg , evaluating battery models in wireless sensor networks .",
    "11th international conference on wired / wireless internet communication ( wwic ) , lecture notes in computer science vol 7889 , 2013 .    v. subramaniam , v. boovaragavan , v. ramadesigan , m. arabandi , mathematical model reformulation for lithium - ion battery simulations : galvanostatic boundary conditions . j. electrochem .",
    "soc .  * 156*:4 ( 2009 ) , a260-a271 .",
    "svensson , the term structure of interest rate differentials in a target zone , theory and swedish data .",
    "seminar paper 466 , institute for international economic studies , stockholm university 1990 ."
  ],
  "abstract_text": [
    "<S> in this paper we review several approaches to mathematical modeling of simple battery cells and develop these ideas further with emphasis on charge recovery and the response behavior of batteries to given external load . </S>",
    "<S> we focus on models which use few parameters and basic battery data , rather than detailed reaction and material characteristics of a specific battery cell chemistry , starting with the coupled ode linear dynamics of the kinetic battery model . </S>",
    "<S> we show that a related system of pde with robin type boundary conditions arises in the limiting regime of a spatial kinetic battery model , and provide a new probabilistic representation of the solution in terms of brownian motion with drift reflected at the boundaries on both sides of a finite interval . to compare linear and nonlinear dynamics in kinetic and stochastic battery models we study markov chains with states representing available and remaining capacities of the battery . </S>",
    "<S> a natural scaling limit leads to a class of nonlinear ode , which can be solved explicitly and compared with the capacities obtained for the linear models . to indicate the potential use of the modeling we discuss briefly comparison of discharge profiles and effects on battery performance .    </S>",
    "<S> battery lifetime ; state - of - charge ; charge recovery ; probabilistic solution of pde ; robin boundary condition ; nonlinear ode     s h </S>"
  ]
}