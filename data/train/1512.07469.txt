{
  "article_text": [
    "the dramatically increased mobile traffic can easily lead to an unacceptable total energy consumption level in the future cellular network , and energy - efficient cellular network design has become one of the critical issues for developing the 5 g wireless communication systems @xcite . due to the resulting high energy cost and the @xmath0 emissions , it is important to improve the cellular network energy efficiency ( ee ) by greening the cellular network @xcite .",
    "it has been noted that the operations of base stations ( bss ) contribute to most of the energy consumptions in the cellular networks , which are estimated as 60 - 80 percent of the total network energy consumptions @xcite .",
    "hence , reducing the bss energy consumptions is crucial for developing energy - efficient or green cellular networks .    in traditional cellular networks ,",
    "bss are usually densely deployed to meet the peak - hour traffic load , which causes unnecessary energy consumption for many lightly - loaded bss during the low traffic load period ( e.g. , early morning ) .",
    "it is envisioned that in the future energy - efficient 5 g wireless communication system , the cellular network should dynamically shut down some bss or adapt the bs transmissions according to the time - varying traffic load .",
    "although appealing , due to the significant spatial and temporal fluctuations of the traffic load in the cellular networks , optimal bs on / off operation design is a challenging problem @xcite .",
    "for example , the authors in @xcite studied optimal energy saving for the cellular networks by reducing the number of active cells , where simplified cellular network model with hexagonal cells and uniformly distributed traffic load is assumed . in @xcite ,",
    "the authors proposed adaptive cell zooming scheme according to the traffic load fluctuations , but without considering downlink transmission quality explicitly . in @xcite , by studying the impact of each bs s active operation on the network performance , the authors proposed a suboptimal bs on / off scheme that can be implemented in a distributed manner to save the bss energy consumption .",
    "however , the impact of traffic fluctuation on the bs s on / off decisions as well as the downlink transmission quality were not explicitly considered .",
    "the issue of downlink transmission quality was considered in @xcite , where the bs s transmit power and cell range adaptations to the traffic load fluctuation were proposed to improve the ee of the cellular network , but @xcite only considered a single - cell scenario . in @xcite ,",
    "an energy group - buying scheme was proposed to let the network operators make the day - ahead and real - time energy purchase as a single group , where the bss of the network operators share the wireless traffic to maximally turn lightly - loaded bss into sleep mode .",
    "to more effectively reduce the carbon footprint and improve the ee , the energy harvesting ( eh ) enabled bss , which are able to harvest clean and free renewable energy ( e.g. , solar and wind energy ) from the surrounding environment for utilization , have been developed for the green cellular networks recently .",
    "for example , in @xcite , by assuming a renewable energy storage , the authors applied the dynamic programming ( dp ) technique to study the energy allocations for a point - to - point transmission , to adapt to the time - selective channel fading . in @xcite , by using a birth - death process to model the harvested renewable energy level at each bs for a large - scale @xmath1-tier green cellular network , the authors characterized an energy availability region of the bss based on tools from stochastic geometry @xcite .",
    "various issues of the eh - enabled wireless communications are also discussed in @xcite-@xcite .",
    "however , it is noted that the available renewable energy in nature is limited and intermittent , and thus can not always guarantee sufficient energy supply to power up the bss .    by combining the merits of the reliable on - grid energy and the cheap renewable energy , hybrid energy supplied bs",
    "design has become a promising method to power up the bss @xcite .",
    "one of the main design issues is to properly exploit the available renewable energy to minimize the on - grid energy cost or maximize the ee of the system .",
    "we note that some initial work has been proposed to address this issues via , e.g. , the optimal packet scheduling @xcite , the optimal bs resource allocation @xcite , and low - complexity online algorithm design based on the lyapunov optimization @xcite . in @xcite-@xcite , to mitigate the fluctuations of the renewable energy harvested by each bs , the authors also considered energy cooperation and sharing between the bss .",
    "moreover , by applying the dp technique to adapt to the fluctuations of both the traffic loads and the harvested renewable energy , hybrid energy supplied bs on / off operation design has also been studied in the literature . for example , in @xcite , by assuming each bs in the network is supplied by either the renewable energy or the on - grid energy , the authors studied the bs sleep control problem to save the energy consumptions of all the bss . in @xcite , by assuming each bs is jointly supplied by renewable energy and on - grid energy , the authors studied the joint optimization of the bs on / off operation and resource allocation under a user blocking probability constraint at each bs .",
    "due to the traffic offloaded from the inactive bss to the active bss , all the bss in the network are essentially coordinated to support to all the users in both @xcite and @xcite . however , due to the dimensionality curse of the dp @xcite , it is generally _ np - hard _ to conduct a network - level bs coordination to decide their optimal on / off status . as a result , in @xcite and @xcite ,",
    "the authors proposed a cluster - based bs coordination scheme to decide the bss on / off status in a large - scale network , where the bss form different clusters , and the bss in each cluster apply the dp technique to decide their on / off status .",
    "however , such a cluster - based bs coordination scheme can not achieve network - level optimal bs on / off decisions in general .    in this paper",
    ", we consider a large - scale cellular network , where all the bss are aggregated as a microgrid with hybrid energy supplies and an associated central energy storage ( ces ) .",
    "the microgrid works in island mode if it has enough local supply from the renewable farm ; otherwise , it connects to the main grid for purchasing the on - grid energy @xcite . by adapting to the fluctuations of the harvested renewable energy , the network traffic loads , as well as the on - grid energy prices over time",
    ", the microgrid applies the dp technique to decide the amount of on - grid energy to purchase to satisfy all the bss energy demand in the network , as well as the probability that each bs stays active , which is referred to as the bss active operation probability , at each time , so as to minimize the total on - grid energy cost over time in the network . unlike @xcite and @xcite",
    ", we aim at a network - level optimal bs on / off operation policy design , such that the on - grid energy cost in the cellular network can be efficiently saved .",
    "the key contributions of this paper are summarized as follows :    * _ novel large - scale network model with hybrid - energy supplied bss : _ based on poisson point processes ( ppps ) , we first model the large - scale network by jointly considering the mobility of mobile terminals ( mts ) , traffic offloading from an inactive bs to its neighboring active bss , as well as bs frequency reuse for reducing the downlink network interference level .",
    "since all the bss are supplied by the hybrid energy stored in the ces , we then model the hybrid energy management at the ces , where the on - grid energy is purchased with time - varying price to ensure that the energy demands of all the bss in the network can be satisfied . * _ new geo - dp approach for dynamic network optimization : _ to pursue a network - level design , we jointly apply stochastic geometry ( geo ) for large - scale green cellular network analysis and the dp technique for adaptive bs on / off operation and on - grid energy purchase , and thus propose a new _ geo - dp approach_. by this approach , the microgrid centrally decides the optimal bss active operation probability and the purchased on - grid energy in each time horizon , so as to minimize the total on - grid energy cost over all time horizons , under the bss downlink transmission quality constraint and the bss energy demand constraint . * _ network - level optimal policy design : _ we aim at optimal offline policy design , which updates the bss on / off status and on - grid energy purchase decisions in a predictable future period . by studying the impact of the bss active operation probability on the storage level at the ces",
    ", we find an optimal bs on / off policy , which shows that the optimal bss active operation probability in each horizon is just sufficient to assure the required downlink transmission quality with time - varying load in the large - scale cellular network .",
    "however , due to the curse of dimensionality of the dp , it is of high complexity to obtain the optimal on - grid energy purchase policy .",
    "we thus propose a suboptimal on - grid energy purchase policy with low - complexity , where the low - price on - grid energy is over - purchased in the current horizon only when the current storage level and the future renewable energy level are both low .",
    "* _ efficient network - level bs coordination to minimize the on - grid energy cost : _ by conducting extensive simulations in section vi , we show that the proposed suboptimal on - grid energy purchase policy can achieve near - optimal performance .",
    "we also show that our proposed policy is robust to the prediction errors of the on - grid energy prices , the harvested renewable energy , and the network traffic loads , and thus can be properly implemented in practice .",
    "moreover , we conduct a large - scale network simulation to compare our proposed policy with the existing schemes , and show that our proposed policy can more efficiently save the on - grid energy cost in the network .    as a powerful tool ,",
    "stochastic geometry has been widely applied to model the eh enabled wireless communication networks .",
    "for example , besides @xcite , we also noticed that the eh - based ad hoc networks , cognitive radio networks , cooperative communication networks have been studied in @xcite , @xcite , and @xcite , respectively , by adopting the ppp - based network modeling . in our previous work @xcite",
    ", we also applied tools from stochastic geometry to analyze the spatial throughput of a wireless powered communication network , where the users exploit their harvested radio frequency ( rf ) energy to power up their communications .",
    "although the network - level system performance can be characterized in these existing studies , the adaptation to the fluctuations of the network parameters ( e.g. , the harvested renewable energy , the network traffic loads , and the on - grid energy prices ) has not been properly addressed . to our best knowledge , our newly proposed geo - dp approach that can lead to",
    "a network - level optimal adaptation policy design has not been studied in the literature .",
    "we consider a large - scale cellular network , where the traffic loads , the on - grid energy prices , the available renewable energy , as well as the wireless fading channels from each bs to the mts are all varying over time in the network .",
    "the bss are able to switch between active ( i.e. , on status ) and inactive ( i.e. , off status ) operation modes to save the total on - grid energy cost over time . supported by smart grid development , as illustrated in fig .",
    "[ fig : network_model ] , we aggregate all the bss as a microgrid with hybrid energy supplies and an associated ces to defend against the supply / load variation @xcite . for efficient energy management ,",
    "the cellular network deploys the ces in the microgrid , which connects to both the local renewable farm ( e.g. , wind turbines or solar panels ) and the power grid , and thus can store the harvested renewable energy ( e.g. , wind or solar energy ) from the environment and the purchased on - grid energy from the power grid at the same time .",
    "all the bss are connected with the ces and are powered up by its stored hybrid energy .",
    "similar to @xcite , it is assumed that the ces is able to charge and discharge at the same time . in the following subsections , we first model each bs s operations over time , and",
    "then present the large - scale cellular network model based on homogeneous ppps .",
    "the hybrid energy management model at the ces will be elaborated later in section iii .      as compared to the variations of the downlink wireless fading channels from each bs to the mts , the renewable energy arrival rates , the network traffic loads , as well as the on - grid energy prices are all varying slowly over time @xcite .",
    "we thus consider the network operates over two different time scales @xcite : one is the long time scale and is referred to as _ horizons _ , and the other is the short time scale and is referred to as _ slots _ , as shown in fig .",
    "[ fig : horizon_model ] .",
    "we define a horizon as a reasonably large time period where the renewable energy arrival rate , the network traffic load , and the on - grid energy price all remain unchanged .",
    "each horizon consists of @xmath2 slots , and the wireless fading channels vary over slots .",
    "we focus on in total @xmath3 horizons , @xmath4 , and assume each horizon has a fixed duration @xmath5 . for simplicity , we assume @xmath6 hour in the sequel , and thus interchangeably use wh and w to measure the energy consumption in each horizon .        by adapting to the variations of the on - grid energy prices , the renewable energy arrival rates , the network traffic loads , as well as the wireless fading channels , the microgrid centrally decides the amount of on - grid energy to purchase and the active operation probability of the bss in the network for each horizon @xmath7 , which are denoted by @xmath8 and @xmath9 , respectively , so as to minimize the total on - grid energy cost over all @xmath3 horizons .",
    "similar to @xcite , we consider the optimal offline policy design , and assume the fluctuations of the renewable energy arrival rates , the network traffic loads , as well as the on - grid energy prices in all @xmath3 horizons can be accurately predicted @xcite . we will show that even given reasonable prediction errors , our approach works quite well in section vi by simulation . in each horizon",
    "@xmath10 , based on @xmath9 determined by the microgrid , each bs independently decides to be active or inactive .",
    "if a bs decides to be active , it transmits to its associated mts with a fixed power level @xcite , denoted by @xmath11 .",
    "if a bs decides to be inactive , it keeps silent and its originally associated mts are handed over to its neighboring active bss .",
    "this subsection models the large - scale cellular network based on stochastic geometry .",
    "we assume the bss are deployed randomly according to a homogeneous ppp , denoted by @xmath12 , of bs density @xmath13 . for a given active operation probability @xmath9 in horizon @xmath10 , due to the independent on / off decisions at the bss ,",
    "the point process formed by the active bss in each horizon @xmath14 is still a homogeneous ppp , denoted by @xmath15 , with active bs density given by @xmath16 .",
    "we assume the mts are also distributed as a homogeneous ppp , denoted by @xmath17 , of mt density @xmath18 in horizon @xmath10 .",
    "all @xmath17 s , @xmath19 , and @xmath12 are mutually independent .",
    "the mts independently move in the network over slots in each horizon based on the random walk model @xcite .",
    "each mt is associated with its nearest active bs from @xmath15 in each slot of horizon  @xmath10 , for achieving good communication quality .",
    "when an active bs becomes inactive , its originally associated mts will be transferred to their nearest bss that are still active as in @xcite-@xcite and @xcite-@xcite . from @xcite ,",
    "the resulting coverage areas of the active bss in each slot comprise a voronoi tessellation on the plane @xmath20 .",
    "we refer to traffic load of an active bs as the number of mts that are associated with it , i.e. , those are located within the voronoi cell of the active bs , as in @xcite .",
    "the following proposition studies the average traffic load of an active bs .",
    "[ proposition : traffic_load ] given the bss active operation probability @xmath9 in horizon @xmath10 , @xmath21 , the average traffic load for an active bs from @xmath15 is given by @xmath22 .",
    "the proof of proposition [ proposition : traffic_load ] is obtained by noticing that @xmath23 equals the product of the mt density @xmath24 and the average coverage area of each bs , where the latter term is @xmath25 from lemma 1 in @xcite , and thus is omitted here for brevity . from proposition",
    "[ proposition : traffic_load ] , the average traffic load @xmath23 at each bs is increasing over the mt density @xmath24 , and decreasing over the bs density @xmath26 as well as the bss active operation probability @xmath9 , as expected .",
    "moreover , since the inactive bss do not transmit information to the mts and thus have zero traffic load , the average traffic load for each bs from @xmath12 is also obtained as @xmath23 for each horizon @xmath14 .      to effectively control the potentially large downlink interference , which is mainly caused by the nearby bss that are operating over the same frequency band , this subsection presents a _ random frequency reuse model _ to assign different frequency bands to the neighboring bss .",
    "specifically , we assume the total bandwidth available for the network is @xmath27 hz . to properly support the traffic load @xmath23 , we assume the total bandwidth is equally divided into @xmath28 bands in each horizon @xmath10 , and each bs is randomly assigned with one out of @xmath28 bands for operation as in @xcite .",
    "we consider orthogonal multiple access for the mts in the voronoi cell of each active bs as in , e.g. , @xcite and @xcite , and each mt is assigned with a channel with fixed bandwidth @xmath29 hz for communication , where @xmath30 .",
    "since each active bs is only assigned with one band , by letting each bs s required total bandwidth to support its associated mts be equal to the average bandwidth per band , i.e. , @xmath31 , we obtain @xmath32 by substituting @xmath33 from proposition [ proposition : traffic_load ] .",
    "it is observed from ( [ eq : delta ] ) that the number of bands @xmath28 decreases as the traffic load @xmath23 increases , as expected .",
    "for each horizon @xmath14 with a given @xmath28 , due to the bss independent operation band selection as well as the independent on / off decisions over horizons , the point process formed by the co - band active bss is still a homogeneous ppp , denoted by @xmath34 , with co - band active bs density @xmath35 . as a result , for each mt , it only receives interference from all other active bss that operate over the same band as its associated bs with probability @xmath36 . in the next subsection , based on the ppp - based network model and the frequency reuse mode",
    ", we present the downlink transmission model from each bs to its associated mt .",
    "we measure the downlink transmission quality between the bs and its associated mts based on the received signal - to - interference - plus - noise - ratio ( sinr ) at the mts .",
    "we assume rayleigh flat fading channels with path - loss as in @xcite , @xcite , @xcite , and @xcite , where the channel gains vary over slots as shown in fig .",
    "[ fig : horizon_model ] .",
    "let @xmath37 , @xmath38 , denote the coordinates of the bss . in slot @xmath39 of horizon",
    "@xmath14 , let @xmath40 represent an exponentially distributed random variable with unit mean to model rayleigh fading from bs @xmath41 to the origin @xmath42 in the plane @xmath20 .",
    "we assume @xmath40 s are mutually independent over any time slot @xmath39 , any horizon @xmath14 , and any bs @xmath43 .",
    "suppose a typical mt is located at the origin and is associated with the active bs @xmath44 in slot @xmath45 of horizon @xmath10 .",
    "we express the desired signal strength received at the typical mt as @xmath46 , where @xmath47 is the distance from the associated active bs @xmath41 to the origin , @xmath48 is the path - loss exponent . under the random frequency reuse model , since the received interference at the typical mt",
    "is caused by the co - band bss from @xmath34 , we express the received interference at the typical mt as @xmath49 .",
    "thus , the received sinr at the typical mt from bs @xmath41 in slot @xmath45 of horizon @xmath10 , denoted by @xmath50 , is obtained as @xmath51 where @xmath52 is the noise power at the typical mt .",
    "it is also noted that @xmath47 in ( [ eq : sinr_o_def ] ) also represents the minimum distance from the typical mt to all the active bss from @xmath15 , regardless of their operating frequency bands , i.e. , no other active bss can be closer than @xmath47 . by using the null probability of a ppp , the probability density function ( pdf ) of @xmath47 in ( [ eq : sinr_o_def ] ) is then obtained as @xmath53 for @xmath54 @xcite .",
    "we say a downlink transmission is successful if the received sinr at the mt is no smaller than a predefined threshold @xmath55 .",
    "this section presents the hybrid energy management model at the ces , by modeling the on - grid and renewable energy consumptions of all the bss in the network . in the following",
    ", we first model the energy consumption at both active and inactive bss .",
    "we then detail the hybrid energy management at the ces so as to meet the energy demands of the bss .      according to the bs energy consumption breakdown provided by the practical studies in @xcite , various components of the bs , e.g. ,",
    "the power amplifier , base - band operation , and power supply for power grid and/or back - haul connections , all contribute to the total bs energy consumption .",
    "it is also shown in @xcite that the bs energy consumption can be well approximated by a _ linear power model _",
    ", where the total energy consumption of an active transmitting bs is affine / linear to its traffic load , with the corresponding slope determined by the power amplifier efficiency .",
    "such a linear power model has been widely adopted in the literature ( see , e.g. , @xcite and @xcite ) .",
    "we thus also adopt it to model the energy consumption for each bs in this paper .",
    "specifically , for a given horizon @xmath10 , although the traffic load of each active bs generally varies over space , by applying our ppp - based network model in section [ section : system_operation ] , we can obtain the average energy consumption of each active bs over space as @xmath56 where the average traffic load @xmath23 of the active bs is given in proposition [ proposition : traffic_load ] , @xmath57 is the power amplifier efficiency , and @xmath58 represents the active bs s average energy consumption for supporting its basic operations and is taken as a constant @xcite . for an inactive bs in horizon @xmath10 , since it keeps silent in the horizon , we model its average energy consumption as a constant , which is given by @xmath59 where similar to @xmath60 in ( [ eq : p_on ] ) , the constant @xmath61 represents the average energy consumption of an inactive bs for supplying its basic operations .",
    "we assume @xmath62 @xcite .",
    "based on the energy consumption model for each active or inactive bs , we present the hybrid energy management model at the ces to meet all the bss energy demand .      as shown in fig .  [",
    "fig : network_model ] , the ces can store both the renewable energy that is harvested from the local renewable farm and the on - grid energy that is purchased from the power grid . in each horizon , the microgrid centrally decides the amount of on - grid energy to purchase from the power grid and the bss active operation probability @xmath9 , by jointly considering the bss downlink transmission quality , the energy demands of all the bss in each horizon , and the hybrid energy storage level at the ces .",
    "we focus on the average energy consumption of all the bss normalized by spatial area . for a given active operation probability @xmath9 in horizon @xmath10 , by considering the bs density @xmath26 and its average traffic load @xmath23 in each horizon @xmath10 , we can obtain the average energy consumption of all the bss over the bss on / off status and the network area in each horizon as @xmath63 where equality @xmath64 follows by substituting ( [ eq : p_on ] ) and ( [ eq : p_off ] ) into ( [ eq : e_t_def ] ) , and @xmath65 . it is easy to find that the unit of @xmath66 is given by w@xmath67 .",
    "it is also observed from ( [ eq : e_t ] ) that @xmath66 increases monotonically over the bss active operation probability @xmath9 in each horizon @xmath10 .",
    "denote the storage level of the ces at the beginning of horizon @xmath10 as @xmath68 , the amount of on - grid energy to purchase in horizon @xmath10 as @xmath69 , and the renewable energy arrival rate in horizon @xmath10 as @xmath70 .",
    "all @xmath71 , @xmath69 , and @xmath70 have the same unit as @xmath66 , i.e. , w@xmath67 . according to fig .",
    "[ fig : network_model ] , to satisfy the demanded energy of all the bss in horizon @xmath10 , we obtain the following energy demand constraint : @xmath72 if the purchased on - grid energy @xmath69 and/or harvested renewable energy @xmath70 can not be completely consumed by the bss in the current horizon , their residual portions are both stored in the ces for future use .",
    "the dynamics of the storage level @xmath71 is obtained as @xmath73 where @xmath74 is the given storage capacity of the ces . for simplicity , we assume the initial storage level at the beginning of horizon @xmath75 is @xmath76 .",
    "in this section , based on the network operation model and the hybrid energy management model in sections  [ section : system_operation ]  and  [ section : energy_model ] , respectively , we propose a new geo - dp approach to study the cellular network and formulate the on - grid energy cost minimization problem from the network - level perspective . in particular , we first use stochastic geometry to characterize the downlink transmission performance from the bss to their associated mts .",
    "we then further apply dp to formulate the on - grid energy cost minimization problem under the bss successful downlink transmission probability constraint .      as discussed in section [ section : system_operation ] , if a bs is active in a particular horizon , it transmits to its associated mts in each slot within this horizon , while the channel fadings from the bss to the mts as well as the locations of the mts vary over slots . in this subsection , by applying tools from stochastic geometry , we study the active bss successful downlink transmission probability to their associated mts in each slot",
    ". specifically , from section [ section : network_operation ] , due to the stationarity of the considered homogeneous ppps for the active bss and the mts in each horizon as well as the independent moving of the mts over slots , we focus on a typical mt in each slot of horizon @xmath14 , which is assumed to be located at the origin of the plane @xmath20 , without loss of generality .",
    "denote the successful downlink transmission probability for the typical mt in slot @xmath45 of horizon @xmath10 as @xmath77 , @xmath78 , @xmath79 . according to section [ section : transmission_model ] , for a targeted sinr threshold @xmath80",
    ", we define @xmath77 as @xmath81 with @xmath82 for a typical mt given in ( [ eq : sinr_o_def ] ) . by applying the probability generating functional ( pgfl ) of a ppp @xcite , we explicitly express @xmath77 in the following proposition .",
    "[ proposition : p_suc ] in slot @xmath45 of horizon @xmath10 , @xmath78 , @xmath79 , the successful downlink transmission probability for the typical mt is @xmath83 with @xmath84 , where @xmath29 and @xmath27 are the fixed channel bandwidth for each mt and the total bandwidth available in the network , respectively , as introduced in section [ section : freq_reuse ] , and @xmath85 , and @xmath86 .",
    "when @xmath87 , ( [ eq : p_suc_general ] ) admits a closed - form expression with @xmath88 where @xmath89 with @xmath90 , and @xmath91 is the standard gaussian tail probability .",
    "proposition [ proposition : p_suc ] is proved using a method similar to that for proving theorem 2 in @xcite , and thus is omitted for brevity . by using a similar method as in our previous work @xcite , one can also easily validate proposition [ proposition : p_suc ] by simulation .",
    "moreover , from proposition [ proposition : p_suc ] , due to the independent moving of the mts as introduced in section [ section : network_operation ] , the expressions of @xmath77 are observed to be identical for all slots within each horizon @xmath92\\}$ ] .",
    "thus , for notational simplicity , we omit the slot index @xmath45 and use @xmath93 to represent the typical bs s successful downlink transmission probability in any slot of horizon @xmath10 in the sequel .",
    "denote the on - grid energy price in each horizon @xmath10 as @xmath94 ( $ /w ) .",
    "the total on - grid energy cost across all the bss over all @xmath3 horizons is thus obtained as @xmath95 , with unit @xmath96 . to minimize the total on - grid energy cost under the energy demand constraint given in ( [ eq : energy_demand_constraint ] ) , the microgrid can take advantage of the on - grid energy s price variations by purchasing more on - grid energy when its price is low and store it for future use , and purchasing less ( or even zero ) on - grid energy when its price is high . to ensure the qos for each bs",
    "s downlink transmissions , we also apply a _ successful downlink transmission probability constraint _ such that @xmath97 with @xmath98 and @xmath99 @xcite . as a result ,",
    "by jointly considering the energy demand constraint and the successful downlink transmission probability constraint , we optimize the bss active operation probability @xmath9 and the purchased on - grid energy @xmath69 in each horizon , and formulate the on - grid energy cost minimization problem as @xmath100 where @xmath66 is determined by @xmath9 and is given in ( [ eq : e_t ] ) . however , for a general @xmath101 , due to the complicated expression of @xmath93 in ( [ eq : p_suc_general ] ) , it is generally difficult to analyze the effects of @xmath9 on the successful downlink transmission probability constraint .",
    "the following proposition simplifies the successful downlink transmission probability constraint and obtains an equivalent constraint of @xmath9 .",
    "[ proposition : rho_constraint ] when @xmath87 , for each horizon @xmath10 , there exists a minimum required bss active operation probability @xmath102 as a non - decreasing function of time - varying mt density @xmath24 , where @xmath103 is given in proposition [ proposition : p_suc ] and @xmath104 is the unique solution to @xmath105 , such that @xmath97 is equivalent to @xmath106 .",
    "proposition [ proposition : rho_constraint ] is proved by using the same method as in our previous work @xcite , which is omitted here for brevity .",
    "it is noted that when the mt density and thus the required total bandwidth @xmath107 of the mts increase , due to the decreased number of bands @xmath28 for frequency reuse , as given in ( [ eq : delta ] ) , the downlink interference level increases . in this case , it is observed from proposition [ proposition : rho_constraint ] that the minimum required bss active operation probability @xmath108 also increases , such that more bss need to be active to increase the desired signal strength at the mt , so as to assure a high @xmath93 . due to the variations of mt density @xmath24 , it is also observed that @xmath108 is also varying over time in general .",
    "moreover , similar to @xcite , the noise power @xmath109 in the expression of @xmath108 provides a valid minimum required active operation probability for each bs , which is important to assure a sufficiently large @xmath110 in a noise - dominant network .",
    "therefore , for the ease of analysis , we focus on the case of @xmath87 in the sequel",
    ". does not affect the main results of this paper .",
    "moreover , for other cases with @xmath111 , it is easy to verify from ( [ eq : p_suc_general ] ) that there always exist feasible regions for @xmath9 such that @xmath112 is guaranteed , though it is more difficult to exactly define these feasible regions .",
    "still , our later analysis for studying the on - grid energy cost minimization problem applies .",
    "] by applying proposition  [ proposition : rho_constraint ] , we find an equivalent problem to problem ( p1 ) as follows @xmath113 where the new constraint ( [ eq : g_constraint ] ) is obtained by combining the energy demand constraint @xmath114 and the non - zero on - grid energy constraint @xmath115 in problem ( p1 ) , and the other new constraint ( [ eq : rho_constraint ] ) is obtained by combining the constraints ( [ eq : suc_constraint ] ) and ( [ eq : rho ] ) in problem ( p1 ) , as well as proposition [ proposition : rho_constraint ] .",
    "to avoid the trivial case where the load is too high to meet even when all bss are activated , we assume @xmath116 in the sequel . in the next section ,",
    "we focus on solving problem ( p2 ) by using the dp technique .",
    "this section studies the optimal on - grid energy cost minimization policy for solving problem ( p2 ) .",
    "the optimal on - grid energy minimization policy consists of two parts .",
    "one is the optimal bs on / off policy , which decides the optimal bss active operation probability @xmath9 in each horizon @xmath10 .",
    "the other is the optimal on - grid energy purchase policy , which decides the amount of on - grid energy @xmath69 to purchase in each horizon @xmath10 . in the following , by studying the cost - to - go function that is defined based on the bellman s equations @xcite , we first investigate the optimal bs on / off policy , and then focus on designing the optimal on - grid energy purchase policy .      in this subsection",
    ", we define the cost - to - go function for problem ( p2 ) . due to the fluctuations of the on - grid energy prices , the mt density , as well as the renewable energy arrival rates over time ,",
    "the decision of @xmath69 and @xmath9 in each horizon @xmath10 are related to both current and future values of the on - grid energy prices , the mt density , and the renewable energy arrival rates , as well as the current storage level @xmath71 at the ces .",
    "we thus define the system state in horizon @xmath10 as @xmath117 .",
    "based on the bellman s equations @xcite , for a given system state @xmath118 in horizon @xmath10 , we then define the cost - to - go function @xmath119 for problem ( p2 ) as @xmath120 when @xmath121 , the first term @xmath122 in ( [ eq : j_t ] ) represents the instantaneous on - grid energy cost in the current horizon @xmath10 , and the second term @xmath123 gives the minimized on - grid energy cost over all the future horizons from @xmath124 to @xmath3 , where for a given @xmath118 and thus @xmath71 , @xmath125 in @xmath126 is updated according to ( [ eq : b_t ] ) . when @xmath127 , only the instantaneous on - grid energy cost is considered in ( [ eq : j_t ] ) . by finding the cost - to - go function @xmath119 in each horizon @xmath10",
    ", one can equivalently obtain the optimal bs on / off policy and the optimal on - grid energy purchase policy , which gives the optimal @xmath128 and @xmath129 in each horizon @xmath10 for problem ( p2 ) , respectively .",
    "moreover , unlike @xcite , due to the update of the storage level in ( [ eq : b_t ] ) that correlates the optimal @xmath129 and @xmath128 over time , a joint design of the optimal bs on / off policy and the optimal on - grid energy purchase policy is generally required .    in the next two subsections ,",
    "we first study the optimal bs on / off policy , under a given on - grid energy purchase policy . then by substituting the obtained optimal bs on / off policy into the cost - to - go function ( [ eq : j_t ] ) , we study the optimal on - grid energy purchase policy .      this subsection studies the optimal bs on / off policy for problem ( p2 ) , by supposing that an arbitrary on - grid energy purchase policy is given , i.e. , the microgrid knows the amount of on - grid energy @xmath69 to purchase for a given system state @xmath118 in each horizon @xmath10 .",
    "we first study the impact of storage level @xmath71 on the cost - to - go function @xmath130 in the following lemma .",
    "[ lemma : j_b ] the cost - to - go function @xmath130 in horizon @xmath10 is non - increasing over the current storage level @xmath71 .",
    "lemma [ lemma : j_b ] is proved based on the mathematical induction method .",
    "first , at the last horizon @xmath127 , the optimal @xmath131 is given as @xmath132 .",
    "as a result , @xmath131 and thus @xmath133 is non - increasing over @xmath134 .",
    "next , suppose at horizon @xmath124 , @xmath135 is non - increasing over @xmath125 .",
    "then , at horizon @xmath10 , when @xmath71 increases , since @xmath125 is non - decreasing from ( [ eq : b_t ] ) , the future cost @xmath136 is non - increasing .",
    "moreover , similar to the case in horizon @xmath3 , the current cost @xmath137 is also non - increasing over @xmath71 .",
    "therefore , by combing the current and future cost , we find that @xmath138 is also non - increasing over @xmath71 .",
    "lemma [ lemma : j_b ] thus follows .",
    "next , by studying the impact of @xmath9 in the current horizon on the storage level @xmath125 in the next horizon , we obtain the following lemma .",
    "[ lemma : j_rho ] for any given on - grid energy purchase policy , the cost - to - go function @xmath130 in horizon @xmath10 is non - decreasing over @xmath9 .",
    "the proof of lemma [ lemma : j_rho ] can be easily obtained by applying lemma [ lemma : j_b ] and the fact that for any given storage level @xmath71 and purchase amount @xmath69 in the current horizon , the storage level @xmath125 in the next horizon is non - increasing over @xmath9 in the current horizon according to ( [ eq : e_t ] ) and ( [ eq : b_t ] ) , and thus is omitted here for brevity .    finally , as a straightforward result from lemma [ lemma : j_rho ] , to minimize the overall on - grid energy cost in all @xmath3 horizons , we obtain the optimal bs on / off policy as follows .    [",
    "proposition : optimal_bs_on_off ] the optimal @xmath128 in each horizon @xmath10 for problem ( p2 ) is given by @xmath139 where @xmath108 is given in proposition [ proposition : rho_constraint ] and depends on time - varying mt density @xmath24 .    from proposition [ proposition :",
    "optimal_bs_on_off ] , since a small @xmath9 yields a low energy demand @xmath66 of the bss , and thus a low on - grid energy cost in general , the optimal @xmath140 in each horizon @xmath10 is always selected as the minimum required @xmath108 which is just sufficient to assure the required downlink transmission quality . based on @xmath140 ,",
    "each bs then independently decides its on / off status in each horizon @xmath10 .",
    "it is worth noting that since the traffic loads of the inactive bss are handed over to their neighboring active bss , as described in section ii , although the exact on / off status of the bss are determined independently , the network - level downlink transmission quality can still be assured with @xmath141 .",
    "it is also noted from proposition [ proposition : rho_constraint ] that the optimal @xmath141 generally varies over time to adapt to the variations of the mt density @xmath24 .",
    "this subsection studies the on - grid energy purchase policy for problem ( p2 ) . by substituting the optimal @xmath128 into ( [ eq : j_t ] ) ,",
    "the cost - to - go function for problem ( p2 ) is simplified as @xmath142 where by substituting @xmath143 into ( [ eq : e_t ] ) , we obtain the minimum value of @xmath66 , denoted by @xmath144 , as @xmath145 and accordingly , the storage level @xmath125 in system state @xmath126 is updated from @xmath71 in system state @xmath118 as @xmath146 however , unlike the design of optimal bs on / off policy , due to the fluctuations of the on - grid energy price @xmath94 over time , the cost - to - go function @xmath119 in ( [ eq : j_t_g ] ) is generally neither non - increasing nor non - decreasing over @xmath69 in each horizon @xmath10 .",
    "although based on ( [ eq : j_t_g ] ) , one can always find the optimal @xmath129 , the complexity of finding @xmath129 in each horizon increases exponentially over the total number of horizons @xmath3 , due to the curse of dimensionality for the dp problem . as a result , in the following , to obtain tractable and insightful on - grid energy purchase policy for problem ( p2 ) , we focus on designing a suboptimal on - grid energy purchase policy , by studying the optimal solutions of @xmath129 for the last horizon @xmath3 and the horizon @xmath147",
    ". we also assume the storage capacity @xmath148 is sufficiently large with @xmath149 , such that the bss demanded energy for each horizon can be properly stored .",
    "first , we look at the last horizon with @xmath127 , and assume the system state @xmath150 in horizon @xmath3 is given . from ( [ eq : j_t_g ] ) , it is easy to find that the optimal @xmath131 in the last horizon @xmath3 is given by @xmath151 it is also noted that the optimal @xmath131 is a myopic solution , which minimizes the instantaneous on - grid energy cost in the current horizon . moreover , when @xmath131 is myopic , it is noted that the optimal @xmath152 that minimizes @xmath153 and thus the instantaneous on - grid energy cost @xmath154 is also a myopic solution .",
    "next , we consider the horizon with @xmath155 , and assume the system state in horizon @xmath147 , i.e. , @xmath156 , is given",
    ". we also assume the harvested renewable energy in horizon @xmath147 is reasonably small with @xmath157 , as compared to the storage capacity and the energy demand of all the bss .",
    "based on ( [ eq : j_t_g ] ) , we jointly consider the impact of @xmath158 on the instantaneous on - grid energy cost in the current horizon @xmath147 and the future on - grid energy cost @xmath159 , where the storage level @xmath134 in the next horizon @xmath3 is updated from @xmath160 according to ( [ eq : b_t_g ] ) , and obtain the optimal @xmath161 in the following proposition .",
    "[ proposition : optimal_g_t-1 ] given the system state @xmath162 in horizon @xmath147 , the optimal @xmath161 for problem ( p2 ) is given as follows :    * _ large current storage regime with @xmath163 _ : we have @xmath164 * _ low current storage regime with @xmath165 _ : * * _ high future renewable energy regime with @xmath166 _",
    ": @xmath131 is also given by ( [ eq : optimal_g_t-1_myopic ] ) .",
    "* * _ low future renewable energy regime with @xmath167 _ : we have @xmath168    please refer to appendix a.    from proposition [ proposition : optimal_g_t-1 ] , the decision of @xmath161 is jointly determined by the fluctuations of mt density , on - grid energy prices , the renewable energy arrival rates in both current and future horizons .",
    "moreover , the on - grid energy @xmath161 is over - purchased only when all the following three conditions are satisfied :    * the current storage level @xmath160 is within the low current storage regime ; * the future renewable energy @xmath169 alone can not to satisfy the demanded energy @xmath170 in the future ; * the current on - grid energy price is lower than the future with @xmath171 .    when all the three conditions are satisfied , the microgrid purchases more energy than the demanded in the current horizon , so as to ensure both current and future energy demands can be satisfied .",
    "in addition , it is also observed that if the on - grid energy prices @xmath172 , @xmath161 is not affected by the fluctuations of the on - grid energy prices and becomes a myopic solution in all cases of proposition [ proposition : optimal_g_t-1 ] , just as @xmath131 in ( [ eq : optimal_g_t ] ) .    finally , we extend the above observations for the optimal @xmath129 obtained in horizon @xmath3 and horizon @xmath147 to the on - grid energy purchase decision in an arbitrary horizon @xmath7 , and propose a suboptimal on - grid energy purchase policy for problem ( p2 ) in the following , by jointly considering the impact of storage capacity @xmath148 .",
    "[ proposition : suboptimal_g_policy ] denote @xmath173 as the suboptimal solution of the purchased on - grid energy to problem ( p2 ) in each horizon @xmath7 .",
    "the microgrid over - purchases the on - grid energy in horizon @xmath10 if all of the three following conditions are satisfied at the same time :    1 .",
    "_ low current storage level : _",
    "@xmath174 ; 2 .",
    "_ low future renewable energy : _ @xmath175 ; 3 .",
    "_ low current on - grid energy price : _",
    "@xmath176 .",
    "let @xmath177 .",
    "given the system state @xmath178 in horizon @xmath10 , @xmath173 is given by @xmath179    from proposition [ proposition : suboptimal_g_policy ] , the microgrid over - purchases the low - price energy in the current horizon for future usage only when the current storage and future renewable supply are both low .",
    "it is also easy to verify that @xmath180 when @xmath127 or @xmath155 .",
    "moreover , when @xmath181 , @xmath182 and @xmath183 , @xmath173 becomes the myopic solution @xmath184 for all horizons , which is similar to the case with @xmath155 in proposition [ proposition : optimal_g_t-1 ] .",
    "moreover , it is also easy to find that as compared to the dp - based approach to search the optimal @xmath185 in each horizon by applying ( [ eq : j_t_g ] ) , the proposed suboptimal on - grid energy purchase policy is of low complexity to implement . we will validate the performance of the proposed suboptimal on - grid energy purchase policy for multi - horizon in section  vi .    to conclude , by combining the optimal suboptimal bs on / off policy and the suboptimal on - grid energy purchase policy , given in proposition [ proposition : optimal_bs_on_off ] and proposition [ proposition : suboptimal_g_policy ] ,",
    "respectively , the on - grid energy cost minimization problem ( p2 ) is solved .",
    "this section studies the proposed network - level on - grid energy cost minimization policy by providing extensive numerical and simulation results .",
    "we first illustrate the adaptation of @xmath9 and @xmath69 over horizons by applying the proposed policy .",
    "we then validate the performance of the proposed suboptimal on - grid energy purchase policy . after that , we study the effects of the prediction errors in terms of the network profiles @xmath70 s , @xmath24 s , and @xmath94 s . at last , we conduct a large - scale network - level simulation to compare the performance of the proposed policy with two reference schemes .    , @xmath70 , and @xmath94 for a single day.,scaledwidth=65.0% ]    without specified otherwise , we consider the following simulation parameters in this section .",
    "we set the basic energy consumptions of each bs in the active and inactive modes as @xmath186w and @xmath187w , respectively , the transmit power of each active bs as @xmath188 , and the power amplifier parameter as @xmath189 @xcite .",
    "we also set the noise power @xmath190w , the targeted sinr level @xmath191 , the path - loss exponent @xmath87 , and the maximum outage @xmath192 to ensure a sufficiently high downlink successful transmission probability @xmath93 in each horizon . according to the real data measured in @xcite , @xcite , and @xcite , we consider the variations of the mt density @xmath24 , the solar energy arrival rate @xmath70 , as well as the on - grid energy price @xmath94 over a single day , and show them in fig .",
    "[ fig : network_parameters ] . in particular , instead of @xmath24 ,",
    "[ fig : network_parameters ] shows the active mt ratio @xmath193 for each horizon @xmath10 . by denoting the total mt density in the network as @xmath194",
    ", we can obtain the mt density in each horizon as @xmath195 .",
    "we set @xmath196 , and the bs density as @xmath197 .",
    "we also set the storage capacity @xmath148 at the ces , given in ( [ eq : b_t_g ] ) , as @xmath198 ( w/@xmath199 ) .      in this subsection",
    ", we illustrate the dynamic adaptation of the bss active operation probability and the amount of on - grid energy to purchase over horizons , by applying the optimal bs on / off policy and the suboptimal on - grid energy purchase policy , given in proposition [ proposition : optimal_bs_on_off ] and proposition [ proposition : suboptimal_g_policy ] , respectively .     and @xmath173 and the variation of @xmath71 for a single day.,scaledwidth=80.0% ]    by applying the network profiles given in fig .",
    "[ fig : network_parameters ] , fig .",
    "[ fig : rho ] shows the variations of the storage level @xmath71 , as well as the adaptations of the bss active operation probability and the amount of purchased on - grid energy to these network profiles over @xmath200 hours . from proposition [ proposition : optimal_bs_on_off ] , the optimal @xmath143 in each horizon , where @xmath108 given in proposition [ proposition : rho_constraint ] varies monotonically over the mt density @xmath70 .",
    "it is thus observed from fig .",
    "[ fig : rho ] that @xmath128 follows the exact variation trend of @xmath70 in fig .",
    "[ fig : network_parameters ] .",
    "it is also observed that when the solar energy arrival rate is substantially large from @xmath201 to @xmath202 in fig .",
    "[ fig : network_parameters ] , the storage level @xmath71 in fig .",
    "[ fig : rho ] is also quite high , and achieves the capacity of the ces in most horizons from @xmath201 to @xmath202 .",
    "however , when the solar energy arrival rate is approaching to zero from @xmath75 to @xmath203 and from @xmath204 to @xmath205 in fig .  [ fig : network_parameters ] , the storage level @xmath71 in fig .",
    "[ fig : rho ] is also almost zero in each of these horizons .",
    "moreover , from @xmath75 to @xmath206 , since the storage level is almost zero in fig .",
    "[ fig : rho ] , but the mt density is not low and the on - grid energy price is non - decreasing in fig .  [",
    "fig : network_parameters ] , it is observed from fig .",
    "[ fig : rho ] that the purchased on - grid energy follows the variation trends of the mt density and thus is myopic solution in each of these horizons . at horizon",
    "@xmath203 , it is observed from fig .",
    "[ fig : network_parameters ] that @xmath207 at @xmath203 is the lowest value among all the on - grid energy prices over @xmath3 horizons .",
    "thus , from the suboptimal on - grid energy purchase policy given in proposition [ proposition : suboptimal_g_policy ] , it is noted that the purchased on - grid energy @xmath208 at @xmath203 achieves the highest value among all the @xmath3 horizons . from @xmath201 to @xmath202 , due to the large storage level @xmath71 , the purchased on - grid energy is decreasing in these horizons and becomes zero from @xmath209 to @xmath210 in fig .",
    "[ fig : rho ] . at last , from @xmath202 to @xmath205 , due to the almost zero storage level in fig .",
    "[ fig : rho ] as well as the large mt density in fig .",
    "[ fig : network_parameters ] , the purchased on - grid energy is largely increased in these horizons in fig .",
    "[ fig : rho ] .",
    ".comparison of total on - grid energy cost @xmath211 under optimal and suboptimal polices .",
    "[ cols=\"^,^,^,^,^,^\",options=\"header \" , ]     since the proposed bs on / off policy in proposition [ proposition : optimal_bs_on_off ] is optimal , the suboptimality of the proposed on - grid energy minimization policy is caused by the suboptimality of the proposed on - grid energy purchase policy in proposition [ proposition : suboptimal_g_policy ] .",
    "thus , by applying the optimal bs on / off policy , we compare the performance of the suboptimal on - grid energy purchase policy in proposition [ proposition : suboptimal_g_policy ] with the optimal on - grid energy purchase policy that is obtained by exhaustive search . to search the optimal @xmath129 , we first find the search range of @xmath69 in each horizon @xmath10 . from ( [ eq : j_t_g ] ) ,",
    "the minimum required @xmath69 is given by @xmath212 .",
    "it is also easy to obtain that to save the on - grid energy cost , the maximum required @xmath69 is given by @xmath213 , which can just satisfy the energy demand of all the bss from the current to all future horizons .",
    "then , we apply the dp technique from @xcite to search the optimal @xmath214 $ ] in each horizon @xmath10 , where the range of @xmath215 $ ] is quantized with a sufficiently small step - size @xmath216 . in table",
    "i , we compare @xmath217 that is obtained by the optimal search with @xmath218 that is obtained by applying the proposed suboptimal on - grid energy purchase policy in proposition [ proposition : suboptimal_g_policy ] . due to the curse of dimensionality to apply the dp technique for searching the optimal @xmath129 , we only consider the total number of horizons @xmath219 in table i , using network profiles starting from @xmath220 in fig .",
    "[ fig : network_parameters ] as an example .",
    "it is observed from table i that both the optimal and suboptimal total on - grid energy cost increases over @xmath3 .",
    "it is also observed that as the number of horizons @xmath3 increases , since the number of optimal @xmath129 and suboptimal @xmath173 with different values in each horizon @xmath10 also increases in general , the absolute error , given by @xmath221 , increases over @xmath3 accordingly .",
    "however , it is observed that the absolute error at each @xmath3 is quite small and is within @xmath222 . as a result , the proposed suboptimal on - grid energy purchase policy in proposition [ proposition : suboptimal_g_policy ] and thus the proposed suboptimal on - grid energy minimization policy in section [ section : policy_design ] can achieve near - optimal performance .      in this subsection , by applying our proposed on - grid energy cost minimization policy in section [ section : policy_design ] , we study the effects of the prediction errors for @xmath70 s , @xmath24 s , and @xmath94 s . in particular , we focus on the effects of the prediction errors for the solar energy arrival rate @xmath70 s , and assume @xmath24 s and @xmath94 s in all horizons are still perfectly known .",
    "we also observe similar simulation results for the cases where prediction errors exist in @xmath24 and/or @xmath94 , which are thus omitted here for brevity .",
    "specifically , we assume a prediction error @xmath223 exists in each horizon @xmath10 .",
    "we also assume @xmath223 s are identical and independently distributed zero - mean gaussian variables over different horizons , where the standard deviation is denoted by @xmath224 . since the prediction error @xmath223 can be large due to the large @xmath200 under consideration , based on the value of @xmath225 $ ] shown in fig .",
    "[ fig : network_parameters ] , we reasonably consider a large standard deviation for the prediction errors with @xmath226 in each horizon . as a result ,",
    "under the consideration of prediction errors , the microgrid adopts @xmath227 as the solar energy arrival rate in each horizon @xmath10 to decide @xmath128 and @xmath173 .",
    "however , since the storage level @xmath71 in each horizon can be perfectly known by the microgrid , the storage level @xmath125 in horizon @xmath124 is still updated according to the actual solar energy arrival rate @xmath70 in horizon @xmath10 .",
    "[ fig : prediction_errors ] compares the total on - grid energy cost @xmath228 over the number of horizons @xmath3 under both cases with and without the prediction errors . for the case with prediction errors , at each @xmath3 in fig .",
    "[ fig : prediction_errors ] , we consider 1000 realizations of the @xmath3 horizons with predictions errors , and take the average on - grid energy cost in @xmath3 horizons over the 1000 realizations as the total on - grid energy cost for comparison .",
    "it is observed from fig .",
    "[ fig : prediction_errors ] that since we focus on the average energy consumption , as discussed in [ section : energy_supplies ] , the network performance under the case with the prediction errors is always very close to that under the case without errors at each @xmath3 .",
    "hence , our proposed policy is robust to the prediction errors .",
    "it is also observed from fig .",
    "[ fig : prediction_errors ] that the total on - grid energy cost generally increases with the number of horizons @xmath3 , as expected .      to show the performance of our proposed scheme based on the geo - dp approach , where the bss are coordinated from a network - level to serve the mts , this subsection conducts monte carlo simulations to compare the proposed scheme with two reference schemes , which are specified as follows .",
    "first , we consider a simple reference scheme without bss mutual coordination . in this scheme",
    ", each bs individually decides whether to be active or not in each horizon : if there exist mts locating in a bs s coverage , it keeps active , or becomes inactive , otherwise .",
    "we assume the bs density @xmath26 is sufficiently large , such that when all the bss are active , the downlink transmission quality is assured in the network .",
    "thus , since only bss with no associated mts turn to be inactive , the downlink transmission quality can be assured in this scheme .",
    "the total energy demand of the bss is calculated according to ( [ eq : p_on ] ) and ( [ eq : p_off ] ) , depending on whether a bs is active or not , respectively .",
    "second , we consider a reference scheme with cluster - based bs coordination , which has been proposed in the existing literature to coordinate the bss on / off operations in a large - scale network ( see , e.g. , @xcite and @xcite ) .",
    "however , it is noted that due to the considered different performance metrics , the existing cluster - based bs coordination policy can not be applied directly . for example , in @xcite and @xcite , the authors considered a blocking probability constraint for the new mt s access as the qos constraint , while we use the sinr - based downlink transmission quality as the qos constraint . as a result",
    ", we consider the following cluster - based bs coordination scheme for comparison . specifically",
    ", we assume each cluster includes at most two bss , and any two bss that are located within @xmath229 meters form a cluster .",
    "each bs can belong to at most one cluster .",
    "if a bs does not belong to any cluster , it decides its on / off status as that in the scheme with no bs coordination .",
    "for any two bss that belong to one cluster , the bs that has less associated mts becomes inactive , while the other becomes active and also helps to serve the mts of the inactive bs .",
    "the total energy consumption of all the bss is also calculated as the same as that in the scheme with no bs coordination .",
    "it is easy to verify that the downlink transmission quality can be assured with a small @xmath230 , where the mts are always connected to the active bss that are located closely for good communication quality .    to obtain the total on - grid energy cost under our proposed scheme and the two reference schemes , we conduct a large - scale network simulation . we generate @xmath231 for bss and @xmath17 for mts in a square of @xmath232\\!\\times\\![0\\textrm{m},1000\\textrm{m}]$ ] , according to the method described in @xcite . due to the computation complexity that increases substantially over both network size as well as the number of horizons @xmath3 ,",
    "we set @xmath233 and the number of slots within each horizon as @xmath234 in this simulation , and take network profiles of @xmath70 and @xmath193 from fig .",
    "[ fig : network_parameters ] for @xmath235 . for the cluster - based scheme",
    ", we use a small @xmath230 with @xmath236 m to assure the downlink transmission quality .",
    "we consider in total 20000 network realizations , and take the average value over the 20000 realizations as the network performance for each considered scheme .",
    "for simplicity , we assume identical on - grid energy price with @xmath237 ( $ /w ) in each horizon @xmath10 . in this case , it is easy to find that the on - grid energy purchase decision for all three considered schemes is always myopic in each horizon from section [ section : policy_design ] .",
    "similar performance can also be observed for all three schemes with non - identical on - grid energy prices , which are thus omitted here for brevity .",
    "[ fig : scheme_comparison ] compares the total on - grid energy cost across @xmath3 horizons over the total mt density @xmath238 .",
    "it is observed from fig .",
    "[ fig : scheme_comparison ] that as the total mt density @xmath238 increases , since the actual mt density @xmath195 also increases , the total on - grid energy cost of all three schemes increases accordingly , so as to properly serve the increased mts in the network .",
    "it is also observed that at each value of @xmath238 , the total on - grid energy cost under the proposed network - level bs coordination using the geo - dp approach is always the minimum , that under the cluster - based scheme is always the medium , and that under the scheme with no bs coordination is always the largest .",
    "moreover , it is also worth noting that although we only show the performance of the cluster - based scheme with two bss in one cluster , when the number of bss in each cluster increases , the performance of the cluster - based scheme is expected to gradually approach our proposed network - level bs coordination scheme .",
    "however , unlike our proposed closed - form optimal bs on / off operation policy , which has low - complexity to coordinate all the bss on / off operations in the network , the complexity of coordinating the increased number of bss in each cluster can be largely increased for the cluster - based scheme to assure the downlink transmission quality @xcite , @xcite . as a result",
    ", our proposed network - level bs coordination scheme based on the geo - dp approach can more efficiently solve the on - grid energy cost minimization problem for a large - scale network .",
    "in this paper , we considered a large - scale green cellular network , where the bss are aggregated as a microgrid with hybrid energy supplies and an associated ces .",
    "we proposed a new geo - dp approach to jointly apply stochastic geometry and the dp technique to conduct network - level dynamic system design . by optimally selecting the bss active operation probability as well as the amount of on - grid energy to purchase in each horizon",
    ", we studied the on - grid energy cost minimization problem .",
    "we first studied the optimal bs on / off policy , which shows that the optimal bss active operation probability in each horizon is just sufficient to assure the required downlink transmission quality with time - varying load in a large - scale network .",
    "we then proposed a suboptimal on - grid energy purchase policy , where the low on - grid energy is over - purchased in the current horizon only when both the current storage level and future renewable energy level are both low .",
    "we also compared our proposed policy with the existing schemes , and showed that our proposed policy can efficiently save the on - grid energy cost in the large - scale network .",
    "it is also of our interest to minimize the network - level on - grid energy cost by jointly considering the uplink and downlink traffic loads in our future work .",
    "according to ( [ eq : j_t_g ] ) , to find the optimal @xmath161 , we need to first find the optimal @xmath131 in horizon @xmath3 to obtain the exact expression of @xmath239 for a given system state @xmath162 in horizon @xmath147 . from ( [ eq : b_t_g ] ) , for a given @xmath160 in horizon @xmath147 , the storage level of @xmath134 is obtained as @xmath240 from ( [ eq : optimal_g_t ] ) , it is observed that when @xmath241 , if @xmath134 in ( [ eq : b_t_t-1 ] ) can be assured to be no smaller than @xmath242 , we always have @xmath243 .",
    "moreover , under the assumption with @xmath157 and @xmath244 , it is easy to verify that ( [ eq : b_t_t-1 ] ) can be equivalently reduced to @xmath245 , and thus @xmath246 is equivalent to @xmath163 .",
    "we thus consider two cases to find the optimal @xmath161 .",
    "one is the case with large current storage regime @xmath163 , and the other is the case with small current storage regime @xmath165 .    first , for case with large current storage regime , since @xmath247 and thus @xmath248 , according to ( [ eq : j_t_g ] ) , we obtain @xmath249 . as a result ,",
    "the optimal @xmath161 in this case is the myopic solution with @xmath250 .",
    "next , for the case with small current storage regime , since @xmath131 is not assured to be @xmath251 or @xmath252 , @xmath134 can not be reduced as in the previous case without considering the storage capacity @xmath148 . as this case",
    "is more complicated than the previous one , based on the possible values of @xmath131 , we consider and compare the following two options .      in this option",
    ", we assume @xmath243 . according to ( [ eq : optimal_g_t ] ) and ( [ eq : b_t_t-1 ] ) , @xmath243 holds if and only if @xmath253 .",
    "then , according to ( [ eq : j_t_g ] ) , we solve the following optimization problem to find @xmath161 .",
    "@xmath254 where @xmath161 is given as follows :    * _ case with @xmath166 _ : it is easy to verify that ( [ eq : constraint_p3 ] ) always holds when @xmath255 under the small current storage regime . as a result , @xmath250 . *",
    "_ case with @xmath256 _ : ( [ eq : constraint_p3 ] ) holds in this case under two scenarios .",
    "one is that @xmath257 , such that @xmath258 .",
    "the other is that @xmath259 , such that @xmath260 , which renders ( [ eq : constraint_p3 ] ) to be equivalent to @xmath261 .",
    "it is easy to verify that the second scenario yields a smaller @xmath262 . as a result",
    ", we obtain the cost - to - go function in this case as @xmath263 .      in this option",
    ", we assume @xmath264 . according to ( [ eq : optimal_g_t ] ) and ( [ eq : b_t_t-1 ] )",
    ", @xmath264 holds if and only if @xmath265 , which is equivalent to @xmath266 since @xmath267 .",
    "we let @xmath268 . according to ( [ eq : j_t_g ] ) and ( [ eq : b_t_t-1 ] ) , we solve the following optimization problem to find @xmath161 in this option .",
    "@xmath269 it is easy to find @xmath161 as follows :    * _ case with @xmath166 _ : it is observed that if @xmath270 , ( [ eq : constraint1_p4 ] ) is reduced to @xmath271 .",
    "however , ( [ eq : constraint2_p4 ] ) requires @xmath272 , where the right - hand side is smaller than @xmath273 .",
    "similar case is also observed when @xmath274 . as a result ,",
    "no feasible solution of @xmath158 exists in this case for option 2 , which implies that under this case the optimal @xmath161 is obtained by using option 1 . *",
    "_ case with @xmath256 _ : clearly , if @xmath275 , @xmath250 , with the cost - to - go function given by @xmath276 . if @xmath277 , @xmath262 , with the cost - to - go function given by @xmath278 .    finally , by comparing the cost - to - go functions that are obtained under both options , it is easy to verify that the cost - to - go functions that are obtained under option 2 for both cases with @xmath275 and @xmath171 are always no larger than that under option 1 . as a result , for the case with small current storage regime , the optimal @xmath161",
    "is given by that obtained under option 2 .",
    "proposition [ proposition : optimal_g_t-1 ] thus follow .",
    "j.  xu , l.  duan , and r.  zhang , `` energy group - buying with loading sharing for green cellular networks , '' _ ieee j. sel .",
    "areas commun .",
    "_ , to appear .",
    "available [ online ] at http://arxiv.org/pdf/1508.06093v1.pdf .",
    "s. ulukus , a. yener , e. erkip , o. simeone , m. zorzi , p. grover , and k. huang , `` energy harvesting wireless communications : a review of recent advances , '' _",
    "ieee j. sel .",
    "areas commun .",
    "360 - 381 , mar .",
    "2015 .",
    "d.  w.  k.  ng , e.  s.  lo , and r.  schober , `` energy - efficient resource allocation in ofdma system with hybrid energy harvesting base station , '' _ ieee trans .",
    "wireless commun .",
    "_ , vol .",
    "12 , no .  7 , pp .  3412 - 3427 , jul .",
    "y. mao , j. zhang , and k. b. letaief , `` a lyapunov optimization approach for green cellular networks with hybrid energy supplies , '' _ ieee j. sel .",
    "areas commun .",
    "_ , accepted .",
    "available [ online ] at http://arxiv.org/pdf/1509.01886v2.pdf .",
    "j.  gong , j.  s.  thompson , s.  zhou , and z.  niu , `` base station sleeping and resource allocation in renewable energy powered cellular networks , '' _ ieee trans .",
    "62 , no.11 , pp .",
    "3801 - 3813 , nov .",
    "2014 .                c. wong , s. sen , s.",
    "ha , and m. chiang ,  optimized day - ahead pricing for smart grids with device - specific scheduling flexibility , \" _ ieee j. sel .",
    "areas commun .",
    "_ , vol .  30 , no .  6 , pp .  1075 - 1085 , jul . 2012",
    ".          energy efficiency analysis of the reference systems , areas of improvements and target breakdown .",
    "available [ online ] at http://cordis.europa.eu/docs/projects/cnect/3/247733/080/deliverables/001-earthwp2d23v2.pdf ."
  ],
  "abstract_text": [
    "<S> in this paper , to minimize the on - grid energy cost in a large - scale green cellular network , we jointly design the optimal bs on / off operation policy and the on - grid energy purchase policy from a network - level perspective . </S>",
    "<S> we consider the bss are aggregated as a microgrid with hybrid energy supplies and an associated central energy storage ( ces ) , which can store the harvested renewable energy and the purchased on - grid energy over time . </S>",
    "<S> due to the fluctuations of the on - grid energy prices , the harvested renewable energy , and the network traffic loads over time , as well as the bs coordination to hand over the traffic offloaded from the inactive bss to the active bss , it is generally np - hard to find a network - level optimal adaptation policy that can minimize the on - grid energy cost over a long - term and yet assures the downlink transmission quality at the same time . </S>",
    "<S> aiming at the network - level dynamic system design , we jointly apply stochastic geometry ( geo ) for large - scale green cellular network analysis and dynamic programming ( dp ) for adaptive bs on / off operation design and on - grid energy purchase design , and thus propose a new _ geo - dp design approach_. by this approach , we obtain the optimal bs on / off policy , which shows that the optimal bss active operation probability in each horizon is just sufficient to assure the required downlink transmission quality with time - varying load in the large - scale cellular network . </S>",
    "<S> however , due to the curse of dimensionality of the dp , it is of high complexity to obtain the optimal on - grid energy purchase policy . </S>",
    "<S> we thus propose a suboptimal on - grid energy purchase policy with low - complexity , where the low - price on - grid energy is over - purchased in the current horizon only when the current storage level and the future renewable energy level are both low . </S>",
    "<S> simulation results show that the suboptimal on - grid energy purchase can achieve near - optimal performance . </S>",
    "<S> we also compare the proposed policy with the existing schemes , to show that our proposed policy can more efficiently save the on - grid energy cost over time .    </S>",
    "<S> base station on / off operation , hybrid energy supplies , on - grid energy cost minimization , energy storage management , stochastic geometry , dynamic programming </S>",
    "<S> .    [ section ] [ section ] [ section ] [ section ] [ section ] [ section ] [ section ]    [ section ] </S>"
  ]
}