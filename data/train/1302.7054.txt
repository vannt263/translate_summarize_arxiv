{
  "article_text": [
    "neoclassical tearing mode ( ntm ) stabilization by electron cyclotron current drive ( eccd ) requires good radial alignment to the rotating island , and is more efficient if the eccd is modulated to predominantly drive current in the island o - point @xcite .",
    "alignment and modulation require diagnosing in real time the radial and toroidal position of the rotating island . for alignment ,",
    "this was done by horizontal electron cyclotron emission ( ece ) @xcite .",
    "for modulation it was done by means of magnetic diagnostics @xcite and could in principle be done by horizontal ece , which is spatially localized and can more accurately determine the toroidal phase .",
    "ece was used extensively for this purpose as an off - line diagnostic @xcite .",
    "however , alignment and modulation assisted by magnetic probes and/or horizontal ece require real - time equilibria and helical extrapolations from the measurement location to the eccd location , taking into account the 3d structure of the island @xcite .",
    "apart from being complicated , these extrapolations suffer from the propagation of systematic and statistical errors .",
    "these complications become unnecessary if ece is collected along the same _ oblique _ line of sight as eccd @xcite or an equivalent , toroidally displaced but otherwise identical line of sight @xcite .",
    "the present paper describes the diii - d diagnostic setup for the latter approach , which led to the first oblique - ece - assisted stabilization of ntms @xcite .",
    "emission was collected via a temporarily disconnected eccd launcher , at nearly the same frequency and with the same view angles as eccd and from the same radial and vertical location @xmath0 and @xmath1 , but at a different toroidal location @xmath2 . by reciprocity , this oblique emission detects the island at the same location where the ec current is driven , except for a toroidal -rather than helical- offset .",
    "this offset is easily corrected by appropriate electronics .",
    "oblique ece applied to eccd is also immune from systematic errors associated with refraction and diffraction , which are the same for the emitted and the injected millimeter ( mm ) wave beam .",
    "an exception to such symmetry between oblique ece and eccd is when the third ec harmonic is present in the diii - d plasma , causing measurable absorption and emission but negligible current drive .",
    "the radiometer ( described in sec.[sec_muwavesetup ] together with the front optics ) features only 2 channels , for the reasons discussed in sec.[secprincip ] . here",
    "a single radiometer controls the modulation of 4 gyrotrons at different toroidal locations .",
    "this is done by means of a broad - band phase - shifter , and might have advantages over the in - line approach @xcite in devices equipped with several gyrotrons , like iter .",
    "additionally , using distinct antennas and transmission lines for oblique ece and eccd reduces the technical difficulties of separating mw - level injected mm - waves from nw - level emission from the plasma .    on the other hand ,",
    "the introduction of the phase shifter comes with its own challenge : as the toroidal separation between launcher and receiver is fixed , the _ phase_-delay needs to be fixed and frequency - independent .",
    "most phase - shifters , however , apply a fixed _ time_-delay .",
    "the problem was solved by a special @xmath3 circuit where the resistance @xmath0 varies with frequency in a digitally controlled manner ( sec.[secinterf ] ) .",
    "finally , experimental results are presented in sec.[secresults ] and capabilities and limitations of the diagnostic technique are discussed in sec.[seclimt ] .",
    "with a rough knowledge of the island radial location @xmath4 relative to the emitting layer location @xmath5 , and whether they lie on the low or high field side ( lfs , hfs ) , a single channel is sufficient to determine whether the island o - point is transiting in the oblique ece view when the temperature fluctuation @xmath6 is positive or negative ( table [ tab1 ] ) .",
    "therefore , a single oblique ece channel is sufficient to modulate the eccd with the correct frequency and phase , with no ambiguity between o- and x - point .",
    ".[tab1 ] o - point discrimination from a single ece channel ( horizontal or oblique ) measuring at radial location @xmath5 .",
    "@xmath4 denotes the island location .",
    "obviously x - point detection criteria are opposite to o - point criteria .",
    "for example , if the o - point is identified by @xmath7 , the x - point is identified by @xmath8 , and vice versa . [ cols=\"<,<,^\",options=\"header \" , ]     at least two channels , however , are necessary for radial alignment .",
    "their frequencies need to be above and below the eccd frequency .",
    "if eccd is correctly deposited at the island center , the two oblique ece signals will be out of phase with each other .",
    "if instead they are in phase , they are originating from the same side of the island .",
    "this implies that eccd is also being deposited on that side of the island rather than at its center , where it would be desirable .    to clarify ,",
    "let us consider eccd on the hfs , well - aligned with the island of interest .",
    "the island is `` bracketed '' between two channels 1 and 2 ( @xmath9 ) .",
    "let the raw , uncalibrated signals @xmath10 and @xmath11 be non - inverted and proportional to @xmath12 at locations @xmath13 and @xmath14 .",
    "the waveform @xmath10-@xmath11 will peak in correspondence of the o - point transit .",
    "hence , it can be used to modulate the eccd in synch and phase with the o - point . on the lfs",
    ", @xmath11-@xmath10 should be used .",
    "note that , due to oblique view , emission is toroidally displaced with respect to the receiver .",
    "similarly , due to oblique launch , absorption is toroidally displaced with respect to the launcher .",
    "the two effects cancel each other , hence it is not necessary to correct @xmath11-@xmath10 ( or @xmath10-@xmath11 ) for the emission - receiver or launcher - absorption toroidal displacements . however , it is necessary to correct it for the launcher - receiver toroidal phase - difference .",
    "note also that for good radial alignment @xmath15 and for poor radial alignment @xmath16 .",
    "consequently , it is possible to chose a discrimination level ( sec.[secinterf ] ) below which @xmath17 is approximated with 0 at all times . in this way",
    ", no eccd is injected when the alignment is wrong .",
    "this is simple but requires manual adjustment of the ( absolute ) discrimination level . for a more versatile discrimination",
    ", one can compare the sum and difference of the signals : for poor alignment @xmath18 , hence poor alignment can be defined by @xmath19 falling below a relative threshold level .",
    "fig.[figtopview ] shows the top view of the experimental setup . as an ntm of toroidal mode number @xmath20 rotates with angular frequency @xmath21 , it modulates -at frequency @xmath22- the 2nd harmonic x - mode emission originating at the dashed curve in fig.[figtopview ] . on the basis of this modulated emission , measured by a radiometer ( sec.[sec_muwavesetup ] ) , a circuit modulates the gyrotron power supplies with the correct frequency and phase - shift ( sec.[secinterf ] ) to drive ec current in the island o - point .",
    "a 2 channel heterodyne radiometer was built and installed at diii - d on the eccd transmission line 5 .",
    "the line of sight was set identical to the launch directions for gyrotrons 2 , 3 , 4 and 6 , ensuring symmetry between emission and absorption .",
    "an optical switch allows to use launcher and transmission line 5 for eccd or oblique ece ( fig.[microwsetupfig ] ) .",
    "the optical switch has two sides at machine vacuum ( a `` gyrotron '' side and a `` plasma '' side ) .",
    "a third side ( the `` diagnostic '' side ) consists of a short , evacuated corrugated overmoded waveguide with a quartz window . on the other side of the window , at atmospheric pressure , is the radiometer .",
    "a teflon lens refocuses the divergent beam exiting from the waveguide window into a horn .",
    "two additional quasi - optical components between the window and the horn select the desired elliptical polarization and frequency .",
    "the first component is a metal plate array or `` artificial dielectric '' ( fig.[figqo]a ) .",
    "electromagnetic waves of electric field perpendicular to the plates propagate undisturbed .",
    "waves of field parallel to the plates , instead , propagate at higher phase velocity , @xmath23 , where @xmath24 , @xmath25=2.73 mm is the wavelength and @xmath26=5.7 mm the spacing between the plates . at the output of the 23.5 mm long device ,",
    "linear polarizations recombine with a shift of @xmath27 .",
    "thus , linear polarizations not parallel nor perpendicular to the plates become elliptical and , conversely , elliptical polarizations can be linearized .",
    "for oblique view , the o- and x - mode polarizations are , indeed , elliptical . here",
    "the @xmath28/4 shifter linearizes them and couples the x - mode to the linearly polarized mm - wave components .",
    "this guarantees modal purity and prevents mixing the main 2nd harmonic x - mode signal with the weaker ( optically thin ) but not negligible 2nd harmonic o - mode ( fig.[figqo ] )",
    ". this would be undesirable because , as it experiences different refraction , it originates elsewhere , therefore the @xmath6 information that it carries does not come from the intended location .    to manufacture the device , we equally spaced and fixed in frame various double - sided copper clad glass - fiber boards of the type used in the electronics industry .",
    "the thickness of the plates , 0.44 mm , is much smaller than their spacing @xmath26=5.7 mm . at the same time , the 17@xmath29 copper coating is much thicker than the 0.02@xmath29 skin depth for 110ghz in copper , making the plates good reflectors .",
    "the other quasi - optical component is a dichroic plate ( fig.[figqo]b ) , basically a perforated aluminum plate stopping waves of wavelength bigger than the hole diameter .",
    "this is because , with a 95.75ghz local oscillator ( lo ) and 1ghz - wide channels centered at 12.5 and 15.5ghz , the radiometer is not just sensitive to 107.75 - 111.75ghz , but also to the undesired 79.75 - 83.75ghz band .",
    "this originates from the plasma edge and scrape - off layer on the lfs .    for protection against stray radiation from ec heating and eccd",
    ", the radiometer is equipped with a stripline notch filter with rejection @xmath3040db in the 110.05@xmath310.45 ghz range , similar to the one succesfully used in the horizontal ece radiometer @xcite .    the notch - filtered signal beats in a mixer with a gunn diode lo , stabilized by a regulator , of measured frequency 95.75ghz .",
    "the signal , now down - converted in frequency , is amplified by two gaas field effect transistor ( fet ) amplifiers of gain 33 and 25db and low noise figures ( 2 and 7db , respectively ) .",
    "then it is split by a power divider and filtered by two bandpass filters centered at 12.5 and 15.5ghz .",
    "in fact , two sets of filters are available , respectively 400mhz and 1ghz wide . the filters , in connection with the lo frequency ,",
    "determine the channel frequencies of 108.25 and 111.25ghz , approximately symmetric around the gyrotron frequency , 110ghz .",
    "their separation , 3ghz , corresponds to a distance @xmath32=5 cm in units of major radius .",
    "note , however , that the island is viewed obliquely .",
    "the intermediate - frequency signals at the output of the filters are measured by crystal detectors .",
    "their video - frequency outputs are filtered ( @xmath33<30khz ) and finally amplified by videoamplifiers of gain @xmath34=450 - 2300 and corresponding bandwidth 80 - 50khz at 3db , which is more than sufficient to assist eccd up to the maximum gyrotron modulation frequency ( 10khz ) .      as motivated in sec.[secprincip ] and illustrated in fig.[figblockelectr ]",
    ", a simple analog voltage subtractor generates the difference between the signals from the radiometer channels .",
    "the difference signal is then filtered to remove slow changes of @xmath12 , noise , and ntms which are too fast for gyrotron modulation , it is fed into the phase - shifter described below , and ultimately in a comparator .",
    "this converts it in a square wave suitable for modulation of the gyrotron power supply , but only if the input signal exceeds a threshold : small differential signals are not used for modulation , as they typically indicate poor alignment ( sec.[secprincip ] ) .",
    "the gyrotrons are located 15@xmath35 and 30@xmath35 away , toroidally , from the oblique ece ( fig.[figtopview ] ) .",
    "the desired phase shift is the sum of three contributions .",
    "the first one compensates for the different toroidal location of the oblique ece sensor and eccd actuators . depending on the mode rotating clockwise or counter - clockwise",
    ", it can be a _ phase _ retardation ( @xmath36 or @xmath37 , where @xmath20 is the toroidal mode number ) or anticipation ( @xmath38 or -@xmath37 ) .",
    "the second contribution is a fixed _ time _ anticipation , to compensate for the finite turn - on and turn - off time of the gyrotrons and their power supply , as well as the discharge time of their cables .",
    "it amounts to @xmath39-@xmath40s , depending on the gyrotron .",
    "the third contribution , @xmath41 , compensates for the fixed time - delays introduced by filters and videoamplifiers .",
    "the resultant of these contributions is always negative for normal ( counter - clockwise ) plasma rotation . for clockwise rotation",
    ", it becomes negative at high frequencies . in the impossibility of imparting negative phase shifts ,",
    "the circuit was designed for positive time shifts @xmath42    where @xmath43 is the smallest integer giving @xmath440 . as an example , a phase shift of -15@xmath35 is replaced by an equivalent phase shift of 345@xmath35 .",
    "@xmath43 has to be small because the frequency might change from one period to another .",
    "it is well - known that , generally , phase shifters provide constant time - delay @xmath45 . here , instead",
    ", we need a nearly - constant phase - shift @xmath46 ( eq.[eqshift ] ) .",
    "the range of interest is @xmath33=1 - 10khz : modes rotating at less than 1khz tend to lock , and other control strategies need to be used @xcite , while 10khz exceeds the gyrotron modulation capabilities , in which case continuous eccd can be used for stabilization .",
    "constant phase shifts were obtained in the past in simple op - amp circuits with a fixed capacitor and a frequency - dependent resistor @xcite : with a resistance @xmath0 decaying inversely with the frequency @xmath33 , the @xmath3-time of the circuit also decreases like @xmath47 , yielding costant phase shift . in turn , the frequency - dependent resistor consisted of a frequency - to - voltage converter ( fvc ) , of output @xmath48 , and a voltage controlled resistor ( vcr ) , typically a dual junction - gate fet ( jfet ) , where the gate - source voltage controls the resistance between the drain and the source .",
    "unfortunately this dependence is linear only in narrow ranges of frequencies : 20 - 40khz in ref.@xcite or 30 - 50mhz in ref.@xcite . on the broader range of interest here ( 1 - 10khz ) ,",
    "dual jfets and other fets exhibit marked nonlinearities .",
    "for this reason it was decided to adopt as vcr a digitally programmable resistor controlled by a microcontroller ( fig.[figblockps ] ) .",
    "the microcontroller has a built - in analog - to - digital converter sampling the fvc output . in brief",
    ", the fvc measures the rotation frequency @xmath33 and converts in a voltage @xmath49 which is digitized by the microncontroller .",
    "on the basis of that input voltage @xmath49 and of a programmed @xmath50 ( or @xmath51 ) curve , the microcontroller voltage - controls the vcr so that it takes the desired value of @xmath0 .",
    "this is done virtually continuously , at a clock frequency of 20mhz , much higher than 1 - 10khz .",
    "the digital resistor is calibrated as follows .",
    "the phase - shifter is fed with sine - waves of known frequencies , then a variable resistor is adjusted so that the output signal has the desired phase shift .",
    "the frequencies and associated resistor values are recorded and a curve is fit to them .",
    "this curve is then programmed into the microcontroller .",
    "this approach extends the fvc - vcr technique to a broader frequency range and adds flexibility , in that arbitrary curves @xmath50 can be programmed , allowing for example the inclusion of @xmath52 and @xmath41 in eq.[eqshift ] .    the final result of this circuitry is a 0 - 10v square wave , optically converted and fed in the gyrotron power supplies .",
    "four of these systems are implemented , with up to 7 interchangeable microcontrollers , programmed for phase shifts equivalent to 0 , @xmath53 , @xmath54 and @xmath55 .",
    "the large shifts are intended for @xmath20=2 modes .",
    "measurements confirm that the shifter introduces a dramatically non - flat @xmath45 and a nearly flat @xmath46 ( fig.[figprogres ] ) .",
    "the slight decrease of @xmath46 is intentional , because @xmath52 and @xmath41 become increasingly important at higher @xmath33 .",
    "the good behavior of @xmath46 is the result of programming the microcontroller according to the manual calibration of @xmath50 described above .",
    "the shifter operates in the 1 - 7khz range ( fig.[figprogres ] ) , limited by the dynamic range and precision of the vcr , which can only be set to 256 values ( 8 bit ) in the 0 - 10k@xmath56 range .",
    "these resistances are too low at the high end and relatively too coarse at the low end .",
    "extension to higher @xmath33 might be possible by a piecewise combination of curves of the type plotted in fig.[figprogres ] , adopting higher @xmath43 at higher @xmath33 ( the digital resistor can be programmed to yield this complicated @xmath50 ) .",
    "for example , at @xmath577khz one might apply @xmath46=705@xmath35 instead of 345@xmath35 .",
    "both are equivalent to -15@xmath35 , but 705@xmath35 resets @xmath0 to a higher , more accessible value , from which it decays again with @xmath33 , until eventually @xmath58 will be adopted , and so on .",
    "the setup described here was used to control the eccd modulation in real time in ntm stabilization experiments @xcite , as well as to check the quality of the radial alignment between eccd and ntm after the discharge was completed .",
    "fig.[fig132113det]a shows a detail of the eccd power injected in the plasma , which was modulated on the basis of the oblique ece signals in fig.[fig132113det]b - c .",
    "the satisfactory quality of modulation is qualitatively confirmed by how well the eccd correlates with the mirnov probe measurement of the rotating ntm in fig.[fig132113det]d , except for the phase , which is different , as it should be due to the different locations .",
    "the phase difference between the two oblique ece channels is plotted in figure  [ figalign1 ] .",
    "this is about zero , except in the marked interval , when the normalized minor radius @xmath59 of the eccd matches the @xmath59 of the ntm within 1% .",
    "note in fig.[fig132113det ] and in the marked interval in fig.[figalign1 ] that the phase - difference between oblique ece signals , even in case of good alignment , is not exactly @xmath60 .",
    "this is expected , and discussed in the next section .",
    "the application of oblique ece to eccd modulation does not require the radiometer to be calibrated , neither absolutely ( in temperature ) nor relatively ( from channel to channel )",
    ". the application to eccd alignment does not need absolute calibration either , but it requires the two channels to have approximately the same responsivity , because good alignment is recognized by two signals being out of phase and having approximately equal amplitude .",
    "the modulation works even when the alignment indicator does not , as far as one channel works ( sec.[secprincip ] ) . by lowering the threshold in the discriminator ( sec.[secinterf ] )",
    ", modulation can work even if good alignment has not been achieved yet and the signals are in phase , nearly canceling each other .",
    "likewise , the indicator of alignment can work even under conditions preventing proper modulation , such as the mode rotating too fast for gyrotron modulation ( @xmath5710khz ) , but not for oblique ece detection ( @xmath6130khz ) .",
    "it should be pointed out that signals emitted on opposite sides of the island are not exactly out of phase by 180@xmath35 , consistent with the oblique view and with flow shear @xcite .",
    "the effect is more pronounced ( to the point that signals appear in phase ) if the view is tangent to the flux - surface of interest .",
    "this geometry inhibits both modulation and alignment , and should be avoided .",
    "another potential issue , paradoxically , stems from the fact that the ntm and eccd have the same frequency . as a result , at that frequency the oblique ece will measure a @xmath6 associated with the ntm , and a @xmath6 caused by the modulated heating that inevitably accompanies the modulated eccd . in principle , this can lead to a nonlinear effect : the oblique ece modulates the eccd , which perturbs the oblique ece , etc .",
    "in practice , however , the radial profiles of @xmath6 are so different that a phase discontinuity across the island center is recognized even in presence of a modulated eccd background : the @xmath6 associated with an ntm peaks at the island edges @xcite and @xmath12 basically oscillates as a whole , i.e.  with the same phase everywhere , except for a change of sign from one side of the island to the other ; @xmath6 from modulated eccd , instead , peaks at the deposition location ( i.e.  at the island center , if it is properly aligned ) and propagates from there ( heat pulses ) .    finally , an intrinsic limitation of oblique ece is the higher level of doppler broadening compared with horizontal ece .",
    "this smooths and broadens the @xmath62 profile , and lowers its peaks , but preserves its shape and inversion radius , guaranteeing that modulation and alignment are still possible .",
    "this work was supported in part by the us doe under de - fg03 - 97er544156 and de - sc0006415 .",
    "fv thanks d.  kellman and r.  nazikian for the fruitful discussions and r.  la haye and r.  prater for the interest and encouragement .",
    "this paper is dedicated to coauthor t.  deterly , recently deceased .",
    "( color online ) top view of diii - d and experimental setup interfacing the oblique ece radiometer to the gyrotron power supplies ( ps ) , after introducing a phase shift to compensate for the different toroidal locations .",
    "the radiometer collects emission from the dashed line , which varies with time as the 3/2 mode rotates in the @xmath63 direction .",
    "only the o - point of the mode ( or , more precisely , a flux tube around it ) is shown for simplicity , in orange . ]",
    "( color online ) ( a ) plate array used to linearize the o and x elliptical polarizations and guarantee pure x - mode measurements .",
    "( b ) dichroic plate acting as a high pass filter , to reject the lower sideband ( 80 - 84ghz ) of the radiometer .",
    "insets : diii - d cross - sections , ec cold resonances and deposition regions for correct and incorrect polarizations and frequencies . ]       block diagram of the frequency - independent phase shifter .",
    "a frequency - to - voltage converter ( fvc ) controls , through a micro - controller , a voltage - controlled resistor ( vcr ) .",
    "its resistance @xmath0 , multiplied by the @xmath64=10nf/820pf capacitance , delays the the signal by a time @xmath3 .",
    "the frequency - dependence of @xmath0 is programmed to yield the phase - shift @xmath65 of eq.[eqshift ] and fig.[figprogres ] . ]",
    "( color online ) measured time - delay and phase - shift imparted by the circuit in fig.[figblockps ] to gyrotrons 3 and 4 , when the vcr is programmed for a 3/2 mode rotating in the standard @xmath63 direction ( fig.[figtopview ] ) . ]",
    "( color online ) ( a )  eccd and @xmath66 normalized minor radii and ( b ) phase difference between oblique ece signals at 108.25 and 111.25ghz , exhibiting a phase jump in correspondence of good radial alignment between eccd at 110ghz and the @xmath67 rotating ntm responsible for the oblique ece oscillations @xcite . ]"
  ],
  "abstract_text": [
    "<S> a 2 channel oblique electron cyclotron emission ( ece ) radiometer was installed on the diii - d tokamak and interfaced to 4 gyrotrons . </S>",
    "<S> oblique ece was used to toroidally and radially localize rotating magnetic islands and so assist their electron cyclotron current drive ( eccd ) stabilization . </S>",
    "<S> in particular , after manipulations operated by the interfacing analogue circuit , the oblique ece signals directly modulated the current drive in synch with the island rotation and in phase with the island o - point , for a more efficient stabilization . </S>",
    "<S> apart from the different toroidal location , the diagnostic view is identical to the eccd launch direction , which greatly simplified the real - time use of the signals . </S>",
    "<S> in fact , a simple toroidal extrapolation was sufficient to lock the modulation to the o - point phase . </S>",
    "<S> this was accomplished by a specially designed phase shifter of nearly flat response over the 1 - 7khz range . </S>",
    "<S> moreover , correlation analysis of two channels slightly above and below the eccd frequency allowed checking the radial alignment to the island , based on the fact that for satisfactory alignment the two signals are out of phase . </S>"
  ]
}