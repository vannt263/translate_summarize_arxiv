{
  "article_text": [
    "the limited battery capacity is a major hurdle to the development of modern wireless technology .",
    "frequent device battery outage not only disrupts the normal operation of individual wireless devices ( wds ) , but also significantly degrades the overall network performance , e.g. , the sensing accuracy of a wireless sensor network .",
    "conventional wireless systems require frequent recharging / replacement of the depleted batteries manually , which is costly and inconvenient especially for networks consisting of a large number of battery - powered wds or operating under some special application scenarios , e.g. , sensors embedded in building structure . given stringent battery capacity constraints , minimizing energy consumption to prolong the wd operating lifetime",
    "is one critical design objective in battery - powered wireless systems . using wireless communication networks for example ,",
    "various energy - conservation schemes have been proposed , e.g. , via transmit power management , energy - aware medium access control and routing selection , and device clustering , etc @xcite .",
    "the recent advance of wireless power transfer ( wpt ) technology provides an attractive alternative solution to power wds over the air @xcite , where wds can harvest energy remotely from the radio frequency ( rf ) signals radiated by the dedicated energy nodes ( ens ) . currently , with a transmit power of @xmath0 watts , tens of microwatts ( @xmath1w ) rf power can be transferred to a distance of several meters , meters is about @xmath2w . ] which is sufficient to power the activities of many low - power devices , such as sensors and rf identification ( rfid ) tags .",
    "besides , wpt is fully controllable in its transmit power , waveforms , and occupied time / frequency resource blocks , thus can be easily adjusted in real - time to meet the energy demand of wds .",
    "its application can significantly improve the system performance and reduce the operating cost of a battery - powered wireless network .",
    "due to the short operating range of wpt , a wpt network often needs to deploy _ multiple _ ens that are distributed in a target area to reduce the power transfer distance to the wds within .",
    "meanwhile , for radiation safety concern , densely deployed ens are also necessary to reduce the individual transmit power of each en for satisfying the equivalent isotropically radiated power ( eirp ) requirement enforced by spectrum regulating authorities @xcite . in light of this",
    ", we study in this paper the charging control for multiple distributed ens in wpt networks .",
    "the application of wpt also brings in a fundamental shift of design principle in energy - constrained wireless systems . instead of being utterly energy - conservative in battery - powered systems",
    ", one can now prolong the device lifetime and meanwhile optimize the system performance by balancing the energy harvested and consumed . for point - to - point energy transfer",
    ", many techniques have been proposed to enhance the efficiency of wpt through , e.g. , multi - antenna beamforming technique , wpt - tailored channel training / feedback , and energy transmitting / receiving antenna and circuit designs @xcite . from a network - level perspective , efficient methods have also been proposed to optimize both the long - term network placement ( see e.g. , @xcite ) and real - time wireless resource allocation ( see e.g. , @xcite ) in wpt networks for optimizing the communication performance . among them , one effective method is to exploit the _ frequency diversity _ of multi - path fading channels in a broadband network @xcite .",
    "this is achievable by transmitting multiple energy signals on parallel frequency sub - channels that are separated at least by the channel coherence bandwidth .",
    "intuitively , one can maximize the energy transfer efficiency in a point - to - point frequency - selective channel by allocating all transmit power to the strongest sub - channel .",
    "however , in the general case with multiple ens and wds with different sub - channel gains between each pair of en and wd , there is a trade - off between ens energy efficiency and wds power balance in the transmit power allocation over frequency .    in this paper",
    ", we aim to optimize the transmit power allocation over frequency and time in a multi - en and multi - wd broadband wpt network to maximize the network operating lifetime , which is a key performance metric of energy - constrained networks defined as the duration until a fixed number of wds plunge into energy outage .",
    "a closely related topic is the design of lifetime - maximizing user scheduling in conventional battery - powered communication networks @xcite in the sense that the user scheduling determines the user priority to consume energy ( transmit data ) , while the charging control problem considered in this paper determines the user priority to harvest more energy . nonetheless , their designs differ significantly for two main reasons .",
    "on one hand , wpt to a particular wd will not cause detrimental co - channel interference to the others as in wireless information transmission ( wit ) , but can instead be exploited to boost the energy harvesting performance of all wds @xcite . on the other hand ,",
    "the optimal power allocation to optimize the performance of wpt and wit is fundamentally different .",
    "using a point - to - point frequency - selective channel for example , the energy - optimal solution for wpt allocates power only to the strongest sub - channel , while the rate - optimal solution for wit is the well - known water - filling power allocation over more than one strong sub - channels in general @xcite .",
    "another important objective of this paper is to design an efficient feedback mechanism in wpt networks .",
    "as shown in @xcite , to maximize the network lifetime , it is important for the ens to have the knowledge of both channel state information ( csi ) and battery state information ( bsi ) , i.e. , the residual battery levels of wds .",
    "specifically , the knowledge of the strong sub - channels can boost the energy transfer efficiency , and the knowledge of those close - to - outage wds can help avoid their energy outage by timely charging . in practice ,",
    "transmitting csi and bsi feedbacks may consume non - trivial amount of energy of the wds and leave less time for wpt .",
    "therefore , efficient csi / bsi feedback is needed to maximize the net energy gain , i.e. , the energy gain obtained from more refined charging control less by the feedback energy cost .",
    "our main contributions in this paper are as follows .",
    "* we propose a voting - based distributed charging control framework for broadband wpt networks .",
    "specifically , each wd simply estimates the frequency sub - channels , casts its vote(s ) for some strong sub - channel(s ) and sends to the ens along with its battery state , based on which each en allocates its transmit power over the sub - channels independently .",
    "the proposed feedback method is low in complexity and applicable to practical wds ( e.g. , rfid tags ) only with simple baseband processing capability . under the proposed framework , we study lifetime - maximizing csi feedback and transmit power allocation designs . *",
    "we derive the general expression of the expected lifetime achieved by a charging control method in wpt networks , which shows that a lifetime - maximizing charging control should be able to achieve a balance between the energy efficiency , user fairness and the induced energy cost of wpt .",
    "some general principles are derived to guide the design of practical charging control method , e.g. , the user priority - based charging scheduling .",
    "* based on the analysis , we propose practical power allocation algorithm with the considered voting - based csi feedback .",
    "specifically , the power allocated to a sub - channel is a function of the weighted sum vote received from all wds , while the number of votes cast by a wd and the weight of each vote are related to its current energy level .",
    "several effective power allocation functions are proposed . for practical implementation",
    ", we also discuss the setting of function parameters to maximize the network lifetime in practical systems .",
    "the network lifetime performance of the proposed distributed charging control methods is then evaluated through simulations under different setups .",
    "we show that the proposed voting - based charging control can effectively extend the network lifetime .",
    "interestingly , we find that allocating all the transmit power of each en to the best sub - channel that receives the highest vote achieves superior performance compared to other power allocation methods .",
    "in fact , this is consistent with the energy - optimal power allocation solution in point - to - point frequency - selective broadband channel , i.e. , a special case of the multi - en and multi - wd system considered in this paper .",
    "a related work in @xcite designs an interesting energy auction mechanism among the wds in wpt networks to control the transmit power and shows the existence of an equilibrium .",
    "however , it only considers energy transfer on a narrowband channel instead of the frequency - selective broadband channel considered in this paper . besides",
    ", the wds are assumed selfish by nature and intend to harvest more energy . in our paper , however , we consider the wds working collaboratively to achieve a common objective , e.g. , monitoring the temperature of an area , such that a wd is not aimed to maximize its own harvested energy at the cost of reducing the lifetime of the whole network .",
    "the rest of this paper is organized as follows .",
    "we first present in section ii a voting - based distributed charging control framework and and the key performance metric . in section iii , we analyze the expected network lifetime and derive the lifetime - maximizing design principles of wireless charging control .",
    "the detailed designs of power allocation and feedback mechanism are presented in section iv . in section",
    "v , simulation results are presented to evaluate the performance of the proposed charging control methods .",
    "finally , the paper is concluded in section vi .",
    "as shown in fig .  [ 101 ] , we consider a broadband wpt network , where @xmath3 ens are connected to stable power sources and broadcast rf energy to power @xmath4 distributed wds .",
    "the total bandwidth of the system and the channel coherence bandwidth are denoted by @xmath5 and @xmath6 , respectively , with @xmath7 . for simplicity",
    ", we assume that @xmath5 can be divided by @xmath6 to form @xmath8 parallel channels . to achieve full frequency diversity gain @xmath9 for each en",
    ", each channel is further divided into @xmath3 sub - channels each for one of the @xmath3 ens .",
    "the @xmath9 sub - channels allocated to the @xmath10-th en are denoted by @xmath11 , @xmath12 , on which the en can transmit narrowband energy signals .",
    "an example channel assignment is shown in fig .  [ 101 ] , where the adjacent sub - channels allocated to the same en are separated by @xmath6 , thus the energy signals transmitted by the @xmath10-th en to a wd experience independent fading over the @xmath9 sub - channels . besides , the sub - channels of different ens are also assumed to be independent due to sufficient spatial separations .",
    "we further assume that the wireless channels experience block fading , where the sub - channel gains remain constant in a transmission block of length @xmath13 and vary independently over different blocks .    for each",
    "wd , a single antenna is used for both energy harvesting and communication in a time - division - duplexing ( tdd ) manner ( see wd1 in fig .  [ 101 ] ) . in particular , the communication circuit is used for channel estimation , i.e. , receiving pilot signals sent by the ens and sending channel feedback to the ens . besides",
    ", each wd may have a functional circuit to perform specific tasks , e.g. , target sensing in fig .  [",
    "101 ] . for the @xmath14-th",
    "wd , the energy harvesting circuit converts the received rf signal to dc energy and store in a rechargeable battery of capacity @xmath15 to power the communication and functional circuits .",
    "on the other hand , each single - antenna en also has a similar tdd circuit structure ( see en1 in fig .  [ 101 ] ) to switch between energy transfer and communication with the wds .          at the beginning of the @xmath16-th transmission block , @xmath17 , the @xmath3 ens broadcast pilot signals simultaneously to the wds in @xmath18 time duration .",
    "specifically , the @xmath10-th en transmits pilot signals on the @xmath9 sub - channels in @xmath11 , @xmath12 . upon receiving the pilot signals , each wd",
    "@xmath14 first estimates the @xmath19 sub - channel gains , denoted by @xmath20 , @xmath21 .",
    "for the sub - channels in @xmath11 allocated to the @xmath10-th en , we assume that the channel gains from the en to the @xmath14-th wd follow a general distribution with the equal mean given by @xmath22 = \\beta d_{i , k}^{-\\delta } , \\ \\",
    "\\forall j\\in\\mathcal{e}_i , \\",
    "l=1,2,\\cdots,\\ ] ] where @xmath23 denotes the distance between the @xmath10-th en and the @xmath14-th wd , @xmath24 denotes the path - loss exponent , and @xmath25 denotes a positive parameter related to the antenna gain and signal carrier frequency , which is assumed to be equal for all the sub - channels .",
    "then , the @xmath4 wds feed back the channel gains to all the ens in the next @xmath26 time , which can be achieved either using orthogonal time slots or frequency bands .",
    "conventional channel feedback procedure requires each wd to encode and modulate the @xmath19 real channel gains , and send to the ens .",
    "this , however , can be costly to the wds due to some of the energy harvested consumed on channel feedback , or even infeasible due to the lack of adequate baseband processing capability of some simple energy - harvesting wds . in light of this",
    ", we consider a practical voting - based feedback mechanism as shown in fig .",
    "specifically , each wd , say the @xmath14-th wd , simply estimates the received power levels of the @xmath19 sub - channels , selects the @xmath27 strongest sub - channels , ranks them in a descending order based on the channel gains , and broadcasts the indices of the ordered @xmath27 sub - channels , denoted by @xmath28 , to the @xmath3 ens .",
    "the rank of sub - channel @xmath29 is denoted by @xmath30 .",
    "notice that the value of @xmath27 is a design parameter to be specified later , which can be varying in different transmission block and across different wds .",
    "for each en , it observes the feedbacks from all the @xmath4 wds , denoted by @xmath31 .",
    "the channel feedback mechanism can be analogously considered as a voting system that the @xmath14-th elector ( wd ) casts @xmath27 _ ranked votes _ for the @xmath19 candidates ( sub - channels ) .",
    "strongest sub - channels ( scs ) and send their indices with ranks to the ens.,scaledwidth=50.0% ]    let @xmath32 denote the residual energy of the @xmath14-th wd at the end of @xmath16-th block , @xmath33 denote the amount of energy consumed within the block , including the energy spent on performing csi feedback . for simplicity , we assume that the energy consumption rate is constant within each block , so that the energy level increases / decreases monotonically in each block . then , the residual energy at the end of the @xmath16-th block is @xmath34 where @xmath35 denotes the initial energy level . in this paper",
    ", @xmath33 is assumed to follow a general distribution with an average consumption rate @xmath36= \\mu_k t$ ] , @xmath37 .",
    "in particular , we assume @xmath38 , where @xmath39 and @xmath40 denote the energy consumption unrelated and related to the energy harvesting performance , respectively . for instance , some wds can perform transmit power control and csi feedback rate variation adaptive to the instantaneous energy harvesting rate . in this paper",
    ", we only consider the impact of csi feedback @xmath41 to the wpt - related energy consumption rate @xmath42 , and do not consider other device energy management methods , e.g. , transmit power control and device hibernation .    for simplicity",
    ", we assume that all the wds have the same battery capacity , i.e. , @xmath43 , and the battery capacity @xmath44 $ ] is divided into @xmath45 intervals specified by the thresholds @xmath46 , where @xmath47 , @xmath48 and @xmath49 if @xmath50 .",
    "we use @xmath51 to denote the battery state of wd @xmath14 at the end of the @xmath16-th transmission block , where the wd is referred to as in the @xmath52-th battery state , i.e. , @xmath53 , if the residual energy @xmath54 $ ] , @xmath55 .",
    "we assume that the wds feed back @xmath51 s using a separate channel other than the one used for wpt .",
    "the ens can keep a record on the battery states of the wds , so that a wd @xmath14 only needs to broadcast a one - bit information indicating the change of battery state ( to a lower or higher state ) in the @xmath16-th transmission block . in this paper",
    ", we assume that all the wds work collaboratively , such that each wd will report its true bsi to allow the ens to make proper charging decisions to extend the network lifetime . in this case",
    ", the ens have the knowledge of battery states of all the wds at the beginning of the @xmath16-th transmission block , which is denoted by @xmath56 , @xmath57 and @xmath58 denotes the initial battery state of wd @xmath14 . in practice ,",
    "the one - bit bsi feedback is much infrequent than the csi feedback , e.g. , once several minutes versus several seconds , and has much less information to transmit , especially when @xmath45 is small .",
    "therefore , we neglect the energy cost on bsi feedback in this paper .      with both bsi ( @xmath59 ) and csi ( @xmath41 )",
    "feedbacks , the ens allocate transmit power over the broadband channel in a distributed manner without the need of centralized control .",
    "it is worth mentioning that , although energy transfer can be performed on a narrow band , we exploit in this paper the frequency diversity gain in a multi - user environment to achieve more efficient and reliable energy transfer via transmit power allocation over multiple sub - channels . besides , power allocation is only performed by the ens to enhance the wpt performance .",
    "the communications between the wds and the ens are only for exchanging feedbacks and control signals for wpt , where no transmit power allocation for data transmission is considered .",
    "the @xmath10-th en , for instance , allocates its transmit power on the assigned sub - channels @xmath11 , denoted by @xmath60 , where each en has a total transmit power constraint @xmath61 in general , the power allocated by the @xmath10-th en to the @xmath62-th sub - channel in the @xmath16-th transmission block can be expressed as a function of the available bsi and csi : @xmath63 the design of power allocation function @xmath64 in ( [ 9 ] ) will be discussed in detail in section iv .",
    "accordingly , the received energy by the @xmath14-th wd in the @xmath16-th transmission block is @xmath65 where @xmath66 $ ] is a fixed parameter denoting the energy harvesting efficiency and assumed equal for all wds .",
    "the output voltage of a battery decreases with the residual energy level .",
    "we say an _ energy outage _ occurs if the remaining energy level of a wd is below a certain threshold @xmath67 , such that normal device operation could not be maintained .",
    "once a device is in energy outage , it is assumed to enter hibernation mode and become inactive .",
    "given the initial battery level @xmath68 $ ] , _ network lifetime _",
    "is defined as the duration until @xmath69 out of the @xmath4 wds are in energy outage , such that a network function achieved collectively by the @xmath4 wds fails .",
    "for instance , the data reported by a sensor network is trustworthy when more than @xmath70 sensors function properly , and considered unreliable otherwise .",
    "however , the network lifetime performance for the general @xmath71 case is often analytically intractable due to the combinatorial nature of the wds operations . like many previous studies on network lifetime ( see e.g. , @xcite ) , we perform the analysis of charging control method for a special case of @xmath72 , i.e. , a network reaches its lifetime as long as any wd is in outage .",
    "we will show by simulations later that a good design for the case of @xmath72 also yields superior network lifetime performance for the general cases of @xmath71 . for the simplicity of illustration",
    ", we assume that @xmath73 , throughout this paper .",
    "then , the wds are different only by their channel and energy consumption distributions .    given the locations of the ens and wds , we could see from ( [ 2 ] ) and ( [ 3 ] ) that the harvested energy of the wds , thus the network lifetime , is directly related to the transmit power allocation strategy @xmath74 $ ] over @xmath19 frequency sub - channels and time block @xmath17 .",
    "meanwhile , we also notice from ( [ 1 ] ) that the network lifetime is closely related to the locations of the ens . in particular , the placement optimization of ens has been studied in wireless powered communication networks where the locations of the wds are fixed @xcite .",
    "in fact , the designs of transmit power allocation and en placement are complementary to each other in different time - scales .",
    "that is , en placement is designed in a large time - scale to deal with wireless signal path loss , while transmit power allocation is performed in a small time - scale to adapt to wireless channel fading and battery storage variation . in this paper",
    ", we assume that the placement of the ens is given and focus on the design of lifetime - maximizing charging control method over channel and battery dynamics .",
    "in this section , we analyze the impact of a charging control policy to the operating lifetime of wpt networks , defined as the duration until one of the wds is in energy outage . in particular , we denote @xmath75 as the expected network lifetime achieved by a charging policy @xmath76 , which specifies the transmit power allocation at each en and in each transmission block , and thus determines the harvested energy @xmath77 , for @xmath78 and @xmath17 . as a good charging",
    "policy should perform consistently regardless of the en transmit power constraint @xmath79 . to avoid trivial results , we assume that @xmath79 is sufficiently small , such that the expected network lifetime is finite regardless of the charging policy used , i.e. , @xmath80 where @xmath81 is the set of all feasible policies that satisfy the transmit power constraints .",
    "that is , the total energy harvesting rate of all the wds is always lower than the total charging - independent consumption rate , i.e. , @xmath82 < \\sum_{k=1}^k \\bar{\\mu}_k$ ] . in fact , simulation results in section v find that a charging policy @xmath76 that achieves a longer @xmath75 under a small @xmath79 also requires lower transmit power to achieve nearly - perpetual network operation ( i.e. , @xmath75 is a very large number ) . therefore , the study of a lifetime - maximizing charging policy under finite network lifetime assumption also has important implication in practical system designs with higher transmit power .      the exact battery dynamic in ( [ 2 ] ) complicates the analysis of network lifetime because of the max / min operators , yet failing to provide extra insight into charging policy design . to capture the essence of the battery dynamics",
    ", we make the following modifications :    * the residual energy of a wd at the end of a transmission block could be negative when an energy outage occurs ; * the energy level could be higher than the battery capacity at the end of a transmission block , but such an overcharged battery can not harvest any energy in the following transmission blocks until the energy level drops below the capacity at the end of a block .",
    "the first modification overestimates the energy consumption in the last transmission block before the network reaches its lifetime , which has marginal effect on the modeling accuracy as the energy consumed within a transmission block is much smaller than the battery capacity . for the second modification , it has little impact to those wds whose energy harvesting rates are smaller than or equal to the consumption rates ( @xmath83\\leq \\mathbb{e}[e_k^l]$ ] ) , e.g. , wds far away from the ens , as they are rarely over - charged .",
    "instead , it will impact the battery dynamics of close - to - en wds with @xmath83>\\mathbb{e}[e_k^l]$ ] . specifically",
    ", it overestimates the energy harvested in a transmission block when a wd reaches its capacity , while it also underestimates the energy harvested in the future blocks before the energy level drops below the capacity .",
    "to better visualize the overall impact , we show in fig .  [ 111](a ) the actual and approximated battery levels over time for a wd with @xmath83 = 1.5 \\mathbb{e}[e_k^l]$ ] and @xmath84 = 10^{-3}c$ ] . besides",
    ", we also plot in fig .  [ 111](b ) the average modeling error in the sense of net energy harvested .",
    "we can see that the approximated battery dynamic in general overestimates the actual battery level .",
    "in particular , the modeling error is less than @xmath85 under different setups , indicating that the modified model can well approximate the actual energy harvesting process in the long term .",
    "[ model2 ]    -th wd when @xmath83 = 1.5 \\mathbb{e}[e_k^l]$ ] and @xmath84 = 10^{-3}c$ ] ; ( b ) below : the modeling error of net energy harvesting rate normalized against @xmath84 $ ] under different @xmath83/\\mathbb{e}[e_k^l]$ ] ratios . here ,",
    "both @xmath86 s and @xmath87 s are i.i.d .",
    "exponential variables for @xmath17 .",
    ", scaledwidth=50.0% ]    with the two modifications above , we could eliminate the max and min operators in ( [ 2 ] ) and express the battery dynamics by a simple random process as follows @xmath88 where @xmath89 and @xmath90 is given in ( [ 1 ] ) . in this case",
    ", the network fails as long as @xmath91 for any @xmath14 .",
    "notice that both @xmath90 and @xmath92 are related to the control policy @xmath76 in use , e.g. , adaptive csi feedback affects @xmath92 . for the simplicity of exposition , we do not use different notations to indicate that @xmath90 and @xmath92 are achieved by a specific policy @xmath76 in the following discussions .",
    "equivalently , the wireless charging process could be modeled as a group betting process with the @xmath4 wds as gamblers . in particular , @xmath32 is the balance of gambler @xmath14 , who repeatedly bets with a casino with @xmath92 as the income and @xmath93 as the loss in the @xmath16-th bet .",
    "the bet starts with each gambler @xmath14 holding @xmath35 initial balance , and stops once a gambler s balance becomes zero or negative .",
    "then , the stopping time of the bet is also the network lifetime of the wpt network .",
    "evidently , it is not a _",
    "fair bet _ because the average income and loss of each bet are not equal in general , i.e. , @xmath94 \\neq \\mathbb{e}[\\hat{q}_{k}^{l}]$ ] for each @xmath16 . in the following ,",
    "we construct a fair game and derive the expected network lifetime using the _ martingale _ stopping time theorem @xcite .",
    "the key idea of constructing a fair bet is to compensate the gamblers in each bet .",
    "we define a random process @xmath95 $ ] , @xmath96 , with @xmath97 , and @xmath98 - \\mathbb{e}\\left[q_{k}^{l}\\mid \\mathbf{b}^l\\right ] , & l>0 , x_{k}^{l-1 } < c ,   \\\\ y_k^{l-1 } + \\mathbb{e}\\left[e_{k}^{l } \\mid \\mathbf{b}^l\\right ] ,   &    l>0 , x_{k}^{l-1 } \\geq c. \\end{cases}\\ ] ] here , @xmath99 $ ] denotes the average amount of energy received by the @xmath14-th wd in the @xmath16-th transmission block given that the wds are in energy states @xmath59 at the beginning of the transmission block , where the average is taken over the realizations of wireless channel fading of all the sub - channels in the @xmath16-th transmission block .",
    "similarly , @xmath100 $ ] denotes the average amount of energy consumed by the @xmath14-th wd conditioned on the current battery states .",
    "in particular , @xmath101 could be considered as the cumulative compensation given to the gambler @xmath14 at the end of the @xmath16-th bet , where it is compensated for @xmath102 - \\mathbb{e}\\left[q_{k}^{l}\\mid \\mathbf{b}^l\\right]\\right)$ ] in a bet if its balance is below @xmath103 in the previous bet and @xmath100 $ ] otherwise .",
    "the following result shows that the random process @xmath104 is a martingale .",
    "_ lemma 1 : _ the random process @xmath105 is a martingale , or equivalently the bet is a fair .    _",
    "proof : _ to prove lemma @xmath106 , we need to show that for all @xmath16 it satisfies 1 ) @xmath107 < \\infty$ ] , @xmath108 and 2 ) @xmath109 @xmath110 = \\mathbf{z}_l$ ] @xcite .",
    "condition @xmath106 ) holds from the implicit assumption that the number of bets is finite . for condition @xmath111 ) , we have for each @xmath14 @xmath112 \\\\ = \\ & z_k^l + \\mathbb{e}\\left[\\hat{q}_{k}^{l } - e_{k}^{l } \\mid \\mathbf{b}^l\\right ] + \\mathbf{1}_{kl}^{c}\\cdot \\mathbb{e}\\left[e_{k}^{l } \\mid \\mathbf{b}^l\\right ] \\\\ & + \\left(1- \\mathbf{1}_{kl}^{c}\\right)\\cdot\\left ( \\mathbb{e}\\left[e_{k}^{l } \\mid \\mathbf{b}^l\\right ] - \\mathbb{e}\\left[q_{k}^{l}\\mid \\mathbf{b}^l\\right]\\right)\\\\ = & \\ z_k^l + \\mathbf{1}_{kl}^{c } \\left(\\mathbb{e}\\left[e_{k}^{l } \\mid \\mathbf{b}^l\\right ] - \\mathbb{e}\\left[e_{k}^{l } \\mid \\mathbf{b}^l\\right ] \\right ) + \\left(1- \\mathbf{1}_{kl}^{c}\\right)\\\\ & \\ \\left(\\mathbb{e}\\left[q_k^l - e_k^l\\mid \\mathbf{b}^l\\right ] +   \\mathbb{e}\\left[e_{k}^{l } \\mid \\mathbf{b}^l\\right ] - \\mathbb{e}\\left[q_{k}^{l}\\mid \\mathbf{b}^l\\right ] \\right ) \\\\ = & \\ z_k^l , \\end{aligned}\\ ] ] where @xmath113 is an indicator function that equals @xmath106 if @xmath114 and @xmath115 otherwise .",
    "this completes the proof . @xmath116",
    "then , the following martingale stopping theorem @xcite could be used to derive the expected network lifetime .",
    "_ proposition 1 ( martingale stopping theorem ) : _ let @xmath105 be a martingale and @xmath117 a stopping time that depends only on the value of @xmath104 . if @xmath118<\\infty$ ] , @xmath108 , then @xmath119=\\mathbb{e}\\left[\\mathbf{z}_0\\right]$ ] .    in our problem",
    ", @xmath117 corresponds to the number of bets until @xmath120 for some @xmath121 . based on proposition @xmath106",
    ", we have @xmath122 = \\sum_{k=1}^k x_k^0 = \\mathbb{e}\\left[\\sum_{k=1}^k z_k^w\\right]\\\\ = & \\",
    "\\mathbb{e}\\left[\\sum_{k=1}^k x_k^w\\right ] + \\mathbb{e}\\left[\\sum_{k=1}^k y_k^w\\right ] .",
    "\\end{aligned}\\ ] ] let @xmath123 and @xmath124 $ ] denote the initial total energy and the expected total residual energy when outage occurs , we have @xmath125.\\ ] ]    we consider @xmath9 independent experiments of the repeated betting process , where @xmath9 is sufficiently large . by the law of large numbers , it holds that @xmath126,\\ ] ] where @xmath127 is the stopping time of the @xmath10-th experiment . by substituting ( [ 15 ] ) into ( [ 16 ] ) , the lhs of ( [ 16 ] ) can be further expressed as @xmath128\\\\ & - \\lim_{n\\rightarrow \\infty } \\frac{1}{n}\\sum_{i=1}^n \\sum_{l=1}^{w_i }   \\left(1 - \\mathbf{1}_{ilk}^{c}\\right)\\mathbb{e}\\left[q_{k}^{i , l } \\mid \\mathbf{b}^{i , l}\\right]\\biggr\\ } , \\end{aligned}\\ ] ] where the superscript @xmath10 of @xmath129 denotes the corresponding value in the @xmath10-th experiment .",
    "@xmath130 denotes an indicator function that equals @xmath106 if @xmath114 in the @xmath10-th experiment and @xmath115 otherwise . in particular , the first term in the rhs of ( [ 17 ] ) can be equivalently written as @xmath131\\\\ = & \\lim_{n\\rightarrow \\infty}\\frac{\\sum_{i=1}^n w_i}{n }   \\cdot \\frac{\\sum_{i=1}^n    \\sum_{l=1}^{w_i } \\mathbb{e}\\left[e_{k}^{i , l } \\mid \\mathbf{b}^{i , l}\\right]}{\\sum_{i=1}^n w_i } \\\\",
    "\\triangleq & \\ \\mathbb{e}\\left[w\\right ] \\mathbb{e}\\left[e_{k}\\right ] , \\end{aligned}\\ ] ] where @xmath132 $ ] denotes the average stopping time , and @xmath133 $ ] denotes the mean energy consumption of wd @xmath14 in a transmission block averaged over all the realizations of battery state @xmath134 .",
    "similarly , the second term in the rhs of ( [ 17 ] ) can be written as @xmath135\\\\ = & \\lim_{n\\rightarrow \\infty}\\frac{\\sum_{i=1}^n w_i}{n } \\cdot \\biggl(\\frac{\\sum_{i=1}^n \\sum_{l=1}^{w_i } \\mathbb{e}\\left[q_{k}^{i , l } \\mid \\mathbf{b}^{i , l}\\right ]   } { \\sum_{i=1}^n w_i } \\\\ & \\ \\ - \\frac{\\sum_{i=1}^n \\sum_{l=1}^{w_i}\\mathbf{1}_{ilk}^{c}\\mathbb{e}\\left[q_{k}^{i , l } \\mid \\mathbf{b}^{i , l}\\right]}{\\sum_{i=1}^n w_i}\\biggr)\\\\ \\triangleq & \\ \\mathbb{e}\\left[w\\right]\\cdot\\left(\\mathbb{e}\\left[q_k\\right ] - \\mathbb{e}\\left[q_k^c\\right]\\right ) . \\end{aligned}\\ ] ] where @xmath136 $ ] denotes the mean energy transferred to the @xmath14-th wd in a transmission block averaged over all the battery states @xmath134 , and @xmath137 $ ] denotes the average amount of energy transferred to the @xmath14-th wd , which , however , can not be harvested by the wd because of battery over - charge , i.e. , battery level is larger than or equal to the capacity . for the simplicity of exposition , we denote @xmath138/\\mathbb{e}\\left[q_k\\right]$ ] as the portion of energy unable to be harvested by the @xmath14-th wd .    by substituting ( [ 20 ] ) and ( [ 18 ] ) into ( [ 19 ] ) , we have @xmath139 \\sum_{k=1}^k \\left\\ { \\mathbb{e}\\left[e_{k}\\right ] - \\left(1- \\alpha_k\\right)\\mathbb{e}\\left[q_k\\right ] \\right\\}\\ ] ] then , the expected waiting time conditioned on @xmath140 is @xmath141=\\mathbb{e}\\left[wt\\right ] \\\\",
    "= & \\ \\frac{\\varepsilon_0 - \\varepsilon_r } { \\sum_{k=1}^k   \\mathbb{e}\\left[e_{k}\\right]/t - \\sum_{k=1}^k\\left(1- \\alpha_k\\right)\\mathbb{e}\\left[q_k\\right]/t } \\\\",
    "\\triangleq & \\ \\frac{\\varepsilon_0 - \\varepsilon_r } { \\sum_{k=1}^k   \\mu_k - \\sum_{k=1}^k\\left(1- \\alpha_k\\right)\\lambda_k } , \\end{aligned}\\ ] ] where @xmath142 and @xmath143 denote respectively the average power transferred to and consumed by the @xmath14-th wd .",
    "we notice that @xmath144 $ ] is always positive by assumption , as the total energy harvesting rate is smaller than the consumption rate , i.e. , @xmath145 .",
    "it is worth mentioning that the network lifetime expression in ( [ 4 ] ) assumes no specific setups , e.g. , the number of ens or wireless channel distribution , thus is applicable to any general wpt network . to prolong the network lifetime in ( [ 4 ] ) , a charging policy should produce    1 .",
    "high effective energy harvested by the wds , i.e. , @xmath146 ; 2 .   low total residual energy upon energy outage @xmath147 ; 3 .",
    "low total energy consumption rates @xmath148 .    for condition @xmath106 ) , the ens should maximize the _ energy efficiency _ of wireless energy transfer , i.e. , the energy received by the wds less by that wasted due to overcharging . therefore , a good charging policy should transfer as much energy as possible to the wds given that their current batteries are not fully charged .",
    "this indicates that the ens should assign lower priority to transmit energy to the wds that are close - to - capacity .",
    "however , maximizing energy efficiency does not translate to the low total residual energy @xmath147 upon outage as required in condition @xmath111 ) .",
    "intuitively , suppose that a tagged wd is close - to - outage , maximizing the total energy received by the wds may overlook the emergent energy requirement of the tagged wd , such that the large amount of energy harvested by the wds of moderate / high energy levels will translate to higher @xmath147 if the tagged wd dies out in the following transmission blocks due to the low energy harvesting rate .",
    "recall that @xmath149 holds , the average total residual energy of the wds decreases as the time elapses .",
    "therefore , to reduce @xmath147 , the ens should give priority to charging those close - to - outage wds to avoid imminent energy outage , which in fact advocates _ energy fairness _ among the wds .",
    "the ideal case is for all the wds to drain their batteries simultaneously right before outage , i.e. , @xmath150 .    for the last condition ,",
    "the charging control design only affects @xmath143 s through designing the csi feedback mechanism @xmath151 over time @xmath17 .",
    "evidently , there is a design tradeoff in the amount of csi feedback . in general , setting larger @xmath27 s , i.e. , feeding back on more sub - channels , could allow the ens to have a better estimation of the sub - channel conditions , and thus better power allocation decisions .",
    "however , this also induces higher _ energy cost _ on transmitting the feedback signals , which can eventually offset the energy gain .",
    "therefore , we need to carefully design csi feedback to maximize the net energy gains of the wds .    to sum up , a lifetime - maximizing charging control policy should be able to balance between energy efficiency , fairness and the induced energy cost . specifically , it should follow the design principles listed below to control the power transfer in a transmission block :    * assign higher priority to charging wds that are close - to - outage , if any ; and assign lower priority to charging wds that are close - to - capacity , if any ; * maximize the total amount of energy transferred to the wds under the assigned priorities ; * set proper amount of csi feedback to maximize the net energy gains for the wds .    in practical wpt networks ,",
    "the above mentioned terms , such as  close - to - outage \" and  priority \" , should be translated to realistic design parameters depending on the specific system setups , such as channel coherence bandwidth , transmit power limit and user energy consumption rate . in the next section ,",
    "we apply the above design principles to study the transmit power allocation problem under the voting - based charging control framework introduced in section ii .",
    "in this section , we propose a voting - based distributed charging control policy , which includes the methods to assign weights to the votes , tally votes and allocate transmit power over frequency .",
    "we also propose a low - complexity protocol and discuss the practical design issues .      for convenience of exposition",
    ", we drop the superscript @xmath16 in all notations as the index of the transmission block , and focus on one particular transmission block .",
    "recall that each en @xmath10 is aware of the bsi @xmath134 and ( partial ) csi @xmath152 from the voting - based feedback .",
    "each en @xmath10 can tally the votes to the sub - channels in @xmath11 , from which it can have a rough estimation of the en - to - wd channel conditions and allocate the transmit power .",
    "intuitively , a sub - channel should be allocated with more transmit power if it gets many high - ranked votes , because this indicates that larger total energy can be transferred to the wds that share the same strong sub - channel ( see principle @xmath153 in section iii.c ) .",
    "this implies that each vote should be weighted by the rank of vote among all the votes cast by the wd . besides , to reflect on the design principle @xmath154 ) in section iii.c",
    ", the weight of a vote should be higher ( or lower ) if the wd casts the vote is close - to - outage ( or close - to - capacity ) . as for the principle @xmath155 in section iii.c ,",
    "the number of votes cast by each wd should be reduced ( or increased ) whenever energy conservation is necessary ( or not urgent ) .    from the above discussion",
    ", the weight assignment of the votes can be achieved through designing a weighting matrix @xmath156 , where @xmath45 is the number of battery states and @xmath157 denotes the maximum number of votes any wd can cast , i.e. , a wd can feed back at most @xmath157 channel indices .",
    "in particular , the number of votes that a wd @xmath14 can cast in any transmission block is determined by its current energy state @xmath158 .",
    "each entry @xmath159 indicates the positive weight of a vote if a wd that casts the vote is in the @xmath10-th battery state and the vote is ranked the @xmath62-th among all the votes cast by this wd .",
    "an example matrix @xmath160 is shown as below , @xmath161 here , we consider @xmath162 battery states , and assume that a wd in energy states @xmath163 feeds back @xmath164 sub - channel indices , respectively .",
    "notice that some entries can be set as zero , e.g. , @xmath165 and @xmath166 .",
    "with @xmath160 given in ( [ 5 ] ) , the vote cast by wd @xmath14 with rank @xmath52 has a weight @xmath167 .",
    "for instance , a vote ranked the @xmath111nd among the votes cast by the wd @xmath14 in battery state @xmath168 is assigned a weight @xmath169 .",
    "we can see that the weight assignment method discussed above is consistent with the general design principles of wpt control : the charging priority of a wd is achieved through assigning higher ( lower ) weight to its vote if the wd is in lower ( higher ) battery state ; the charging efficiency is maximized through assigning higher ( lower ) weight to the entry in each row that corresponds to higher ( lower ) sub - channel gains ; while wds in different battery states can balance the energy gain and cost through feeding back different number of channel indices .",
    "the value of the weighting matrix @xmath160 has direct effect to the performance of the wpt network , which will be discussed in section iv.c . for the moment , we assume that @xmath160 is known by all the ens and study the associated transmit power allocation method in the next subsection .",
    "following the general design principles , there are multiple ways to design the power allocation function @xmath170 in ( [ 9 ] ) , depending on the methods used to tally the votes and accordingly allocate the power over frequency . here , we introduce two vote tallying methods and two power allocation methods , which can be combined to generate @xmath171 power allocation functions .",
    "specifically , the two vote tallying methods are given as follows first .    1 .   _ universal tallying : _ each en tallies all the votes cast by the wds .",
    "specifically , based on the weighting matrix @xmath160 , each en @xmath10 can compute the weighted sum vote to the @xmath62-th sub - channel in @xmath11 as @xmath172 \\cdot w_{b_k , r_{j , k } } , \\ j\\in\\mathcal{e}_i,\\ ] ] where @xmath173 is the rank of sub - channel @xmath62 among the votes cast by wd @xmath14 , and @xmath174 $ ] is an indicator function with value @xmath106 if @xmath175 and @xmath115 otherwise .",
    "prioritized tallying : _ in this case , among the wds that vote , each en only tallies the votes cast by the wds in the lowest battery state , i.e. , the wds currently with the highest priority .",
    "suppose that among the wds that cast votes to the sub - channels in @xmath11 , the wd(s ) of the lowest battery state is ( are ) in the @xmath176-th battery state , where @xmath176 not necessarily equals @xmath106 .",
    "then , the weighted sum vote to the @xmath62-th sub - channel is given as @xmath177\\cdot \\mathbf{1}\\left[j\\in \\mathcal{w}_k \\right ] \\cdot w_{b_k , r_{j , k } } , \\",
    "j\\in\\mathcal{e}_i,\\ ] ] where @xmath178 $ ] is an indicator function with value @xmath106 if @xmath179 and @xmath115 otherwise .",
    "furthermore , with either of the above two vote tallying methods , the following two power allocation strategies can be applied .    1 .",
    "_ single - channel allocation : _ allocate all the power to the sub - channel that receives the highest weighted sum vote .",
    "specifically , the power allocated by the @xmath10-th en to the @xmath62-th sub - channel is @xmath180 where @xmath181 is given in ( [ 7 ] ) or ( [ 10 ] ) .",
    "the first case corresponds to the scenario that the sub - channels in @xmath11 receive no vote from the wds .",
    "as the @xmath10-th en has no knowledge of the current wireless channel conditions , it allocates equally the transmit power among the @xmath9 sub - channels in @xmath11 . besides",
    ", if multiple sub - channels have the same weighted sum vote @xmath181 , we randomly pick one and allocate all the transmit power to it .",
    "proportional allocation : _ the transmit power of the @xmath10-th en is allocated proportionally to the weighted sum vote received by each sub - channel in @xmath11 , i.e. , @xmath182    the above vote tallying and power allocation methods can find their deep roots in real - life politics .",
    "on one hand , the universal tallying corresponds to the universal suffrage system that everyone s vote counts , while the prioritized tallying is analogous to parliament election system , where only the parliament members ( prioritized voters ) get to vote , rather than the common public . on the other hand ,",
    "the single - channel power allocation is analogous to the winner - gets - all presidential election , while the proportional power allocation can be considered as the parliament election , where the number of seats that a party controls in the parliament is proportional to the votes it receives . in practice ,",
    "each of the vote tallying methods can be flexibly combined with the power allocation methods . however , as it is an inconclusive question to real - life politics of which form of election method is the best , for the time being we do not have a conclusion about which combination is lifetime - maximizing in wpt networks .",
    "instead , we address this question based on simulation results later in section vi .",
    "interestingly , we find by simulations that the single - channel power allocation achieves evident performance gain over the proportional power allocation , and the universal tallying can further improve the network lifetime performance .          in the following ,",
    "we summarize the designs in this section as a voting - based distributed charging control protocol that operates in the following steps and is illustrated in fig .",
    "[ 103 ] :    1 .   at the beginning of each transmission block ,",
    "each wd reports to the ens a one - bit information indicating the change of battery state , if any , from which all the ens know",
    "the bsi of all the wds , i.e. , @xmath183 ; 2 .",
    "each en @xmath10 sends pilot signals on its @xmath9 sub - channels in @xmath11 , @xmath184 .",
    "then , each wd @xmath14 , estimates its own @xmath19 sub - channel gains , denoted by @xmath185 s for @xmath21 .",
    "3 .   each wd @xmath14 selects the @xmath186 strongest sub - channels from the @xmath19 sub - channels by ordering @xmath185 , @xmath21 , where @xmath186 is the number of non - zero entries in the @xmath158-th row of the weighting matrix @xmath160 .",
    "then , each wd @xmath14 broadcasts the ordered indices of the @xmath186 sub - channels ( i.e. , @xmath187 ) .",
    "4 .   based on @xmath158 s and @xmath187 s ,",
    "each en independently allocates transmit power according to a combination of the vote tallying and power allocation methods introduced in section iv.b .",
    "the wds harvest rf energy in the remaining transmission block .",
    "then , the iteration repeats from step @xmath188 .",
    "the proposed charging control protocol incurs little signaling overhead exchanged between the ens and the wds .",
    "specifically , each wd only needs to send out limited number of sub - channel indices based on the estimated channel gains and its own residual energy level , and broadcasts a simple one - bit bsi message only when its battery state changes .",
    "besides , the protocol has low computational complexity and requires no coordination among the ens .",
    "each en @xmath10 _ independently _ tallies the received votes to the sub - channels in @xmath11 , and computes its own power allocation using simple power allocation function as in ( [ 11 ] ) or ( [ 12 ] ) .",
    "the entries in @xmath160 are the key design parameters of the proposed voting - based charging control protocol . a point to notice",
    "is that the value of @xmath160 only needs to be determined once throughout the entire network operating lifetime .",
    "in particular , we can design the value of @xmath160 in an offline manner and allow the ens to inform @xmath160 to all the wds at the very beginning of the network operation . in this sense ,",
    "the energy - limited wds do not bear any computational complexity in the design of @xmath160 .",
    "in the next subsection , we have some discussions on the design of @xmath160 .",
    "the design of @xmath160 includes : 1 ) the number of rows @xmath45 , i.e. , the number of battery states ( and the corresponding battery thresholds ) of the wds ; 2 ) the number of non - zero entries in each row ; and 3 ) the value of each non - zero entry @xmath159 . in practice ,",
    "setting the parameters of @xmath160 is an art under specific network setup , however , still has some rules to follow as discussed below .    to begin with , using a larger number of battery states",
    "can improve the ens knowledge of the residual device energy levels , thus achieving more accurate charging priority assignment of the wds .",
    "however , this also increases the frequency of the one - bit bsi feedback and accordingly the energy cost of the wds . in practice , setting a small number of battery states , e.g. , @xmath189 , would be sufficient to achieve satisfactory priority - based charging control . on the other hand , the thresholds of the battery states , i.e. , @xmath190 , are not necessarily uniform .",
    "in fact , setting denser thresholds at low battery region can help ens better identify the wd in the most urgent energy outage situation so as to arrange timely charging to it .",
    "secondly , the number of votes a wd casts is related to both the energy cost of sending a channel index feedback and its current battery state .",
    "the weighting matrix @xmath160 in ( [ 5 ] ) gives a good example to set the feedback amount of a wd in different battery states : the close - to - outage wds should only send very few channel feedbacks to save energy .",
    "however , the number of feedbacks can not be too small as well ( e.g. , @xmath111 votes in ( [ 5 ] ) ) , because more channel feedbacks allow multiple ens to allocate more transmit power in favor of it ; while those close - to - capacity wds are currently not in need of energy transfer , and thus only need to cast one vote to indicate its strongest sub - channel ; in between , the wds of moderate battery levels should feed back several sub - channels ( e.g. , @xmath0 votes in ( [ 5 ] ) ) to maximize the harvested energy without worrying too much about the cost on feedback or battery overcharging .",
    "finally , the values of non - zero @xmath191 s in the @xmath192-th row should be larger than @xmath193 s in the @xmath194-th row when @xmath195 to ensure that higher charging priority is given to wds with lower residual battery . in ( [ 5 ] ) , for instance , the sum of the @xmath106st row is @xmath111 times larger than that in the @xmath111nd row , which is subsequently @xmath111 times larger than that in the @xmath0rd row .",
    "the rationale is that the number of close - to - outage wds is often much smaller than those in moderate energy states .",
    "setting a much higher value for the entries in the lower energy states can make sure the votes cast by the close - to - outage wds are not overwhelmed by the many votes cast by the wds in higher energy states . within each row ,",
    "a larger portion of the sum row weight should be given to the first entry , to increase the power allocated to the best sub - channel . following the above discussions , the impact of @xmath160 on the network lifetime is evaluated by simulations in the next section .",
    ".simulation parameters [ cols=\"^,^,^,^\",options=\"header \" , ]     [ stat ]",
    "in this section , we evaluate the performance of the proposed voting - based charging control protocol . in all simulations",
    ", we use the powercast tx91501 - 1w transmitter as the ens and p2110 powerharvester as the energy receiver at each wd with @xmath196 energy harvesting efficiency .",
    "unless otherwise stated , the simulation parameters are listed in table i , which correspond to a typical indoor sensor network .",
    "the weighting matrix @xmath160 is as given in ( [ 5 ] ) , where the threshold vector for the battery is @xmath197 .",
    "besides , we consider a stochastic energy consumption model that a wd consumes @xmath198 mw power with probability @xmath199 within a block , and no power with probability @xmath200 . in this case",
    ", the average power consumption rate is @xmath0 mw for each wd .",
    "we set the initial battery level of all wds as @xmath201 , such that the battery will be depleted in about @xmath202 hours without wpt .",
    "the wireless channel power gains follow exponential distributions with mean obtained from the path loss model . without loss of generality",
    ", we consider a network fails if more than @xmath203 wds are in energy outage .",
    "unless otherwise stated , all simulations are performed in a simple @xmath0-en wpt network shown in fig .  [ 104 ] , where the ens are located at @xmath204 . in particular , @xmath205 wds are randomly placed within a circle of radius @xmath206 centered at each en , i.e. , @xmath207 wds . in general",
    ", a larger @xmath206 indicates a larger disparity among the users in the wireless channel conditions , and also a larger distance between the wds to the ens , which will translate to a shorter network lifetime in general .",
    "ens and @xmath208 wds.,scaledwidth=45.0% ]    for performance comparison , we consider the four power allocation functions from the combinations of the two vote tallying and two power allocation methods described in section iv.b :    * singl - univ : single - channel power allocation based on universal vote tallying ; * singl - prio : single - channel power allocation based on prioritized vote tallying ; * propo - univ : proportional power allocation based on universal vote tallying ; * propo - prio : proportional power allocation based on prioritized vote tallying .",
    "besides , we also consider five other representative benchmark schemes :    * eqlpower : power is equally allocated to all the sub - channels by each en ; * singl - unwt : the power of each en is all allocated to the single sub - channel that receives the most number of votes , i.e. , the votes are unweighted ; * propo - unwt : power is allocated proportionally to the number of unweighted votes that each sub - channel receives at each en ; * singl - greedy : each greedy user votes for only the best sub - channel , and the power of each en is all allocated to the single sub - channel that receives the most number of votes ; * propo - greedy : each greedy user votes for only the best sub - channel , and power is allocated proportionally to the number of votes that each sub - channel receives at each en .    because the eqlpower scheme is completely oblivious to csi , we assume that @xmath209 of the time is used for wpt without any signaling overhead . for fair comparison ,",
    "we assume that the other schemes use the same csi feedback mechanism , where @xmath210 of the time is spent on sending pilot signals , @xmath211 of the time is spent on csi feedback , and the rest @xmath212 is for wpt .",
    "we first verify the analysis of expected network lifetime expression derived in ( [ 4 ] ) . for the simplicity of exposition",
    ", we consider without loss of generality the eqlpower , singl - univ , and propo - univ schemes , and compare in fig .",
    "[ 110 ] their average network lifetime by simulations and analysis under different en transmit power . to be consistent with the analysis in section iii",
    ", we define that a network reaches its lifetime if any wd is in energy outage .",
    "we consider a specific realization of the random placement of the @xmath208 wds in fig .",
    "each point in the figure is an average of @xmath213 independent simulations .",
    "we can see that all the analytical results are very close to the simulations .",
    "in general , the analysis underestimates the network lifetime , as the second modification of the battery dynamic overestimates the battery levels , thus leading to larger @xmath147 in ( [ 4 ] ) .",
    "the analysis is especially accurate when the transmit power is small , and becomes less accurate as the transmit power increases because of the increase of over - charging probability .",
    "overall , the average difference between the analysis and simulation is less than @xmath214 of the simulation value , which verifies the validity of our analysis in ( [ 4 ] ) .          in fig .",
    "[ 105 ] , we plot the average network lifetime achieved by different power allocation functions . unless otherwise stated , each point in the figure is an average performance of @xmath215 random placements of the wds , and the lifetime of a particular placement is an average of @xmath216 independent simulations over random wireless channels and device power consumptions .",
    "for all the schemes , the network lifetime decreases as @xmath206 increases , as expected .",
    "we can see that significant frequency diversity gain can be achieved from power allocation , where the channel - oblivious eqlpower scheme has the worst performance .",
    "meanwhile , under the same vote - tallying method , a scheme that employs single - channel power allocation achieves evidently longer lifetime than using proportional power allocation .",
    "one explanation is that the single - channel power allocation can maximize the energy transferred to a particular wd in the current time slot , which is more effective to avoid energy outage for the wds in urgent battery outage situations .",
    "meanwhile , we can also see that each en should tally the votes from all the wds ( instead of only the wds in the lowest battery state ) , where singl - univ performs better than the singl - prio scheme .",
    "besides , a wd should cast multiple votes when it is in need of energy , where the two greedy user schemes ( singl - greedy and propo - greedy ) perform poorly . in addition , the schemes using weighted votes ( singl - univ and singl - prio ) based on csi and bsi feedbacks have much better performance than the one using unweighted votes ( singl - unwt ) .",
    "in particular , the best - performing singl - univ method achieves on average @xmath217 longer lifetime than the propo - univ scheme , and over @xmath218 longer lifetime than the eqlpower scheme .",
    "the simulation results reveal an interesting finding in wpt networks that transmit power should be allocated to the best sub - channel .",
    "in fact , this is consistent with the energy - optimal power allocation solution in point - to - point frequency - selective channel , a special case of the multi - en and multi - wd system considered . besides",
    ", the selection of the best sub - channel should consider the votes from all the wds .        in fig .",
    "[ 106 ] , we plot the minimum transmit power required by each en to achieve nearly - perpetual network operation . for the simplicity of illustration",
    ", we consider three representative schemes : singl - univ , propo - univ , and eqlpower . due to",
    "the randomness of channel fading and energy consumptions , it is not possible to truly sustain perpetual network operation . here , a wpt system is said nearly - perpetual if the network lifetime is longer than @xmath219 hours in all the @xmath216 independent simulations conducted .",
    "for each @xmath206 , we randomly generate @xmath220 placements and calculate the average minimum transmit power required for each of the placements .",
    "the best - performing ( worst - performing ) singl - univ ( eqlpower ) scheme in fig .",
    "[ 105 ] also require the lowest ( highest ) transmit power to achieve nearly - perpetual operation in fig .  [ 106 ] .",
    "in particular , the singl - univ scheme can save more than @xmath218 of the transmit power than that required by the eqlpower scheme .",
    "the results in figs . [ 105 ] and [ 106 ] demonstrate the effectiveness of the proposed voting - based charging control method in extending the network lifetime , and shows that a scheme that achieves a longer network lifetime under low transmit power is in general also more power - efficient to achieve self - sustainable operation in practical wpt networks with higher power .      in this subsection",
    ", we use the best - performing singl - univ scheme to investigate the impact of the weighting matrix @xmath160 on the system performance .",
    "in particular , we first examine the network lifetime when changing the value of @xmath159 for those @xmath221 .",
    "specifically , we keep a fixed number of non - zero entries in @xmath160 and only change the values of @xmath159 s . for the simplicity of illustration",
    ", we consider a weighting matrix as a function of power exponent @xmath222 as follows : @xmath223 notice that the weight matrix @xmath160 in ( [ 5 ] ) corresponds to the case with @xmath224 in ( [ 13 ] ) .",
    "evidently , a larger @xmath52 will lead to a larger difference of weights of the votes cast by wds in different battery states . in fig .  [ 107](a ) , we plot the average network lifetime as a function of @xmath52 when the cluster radius @xmath225 or @xmath226 meters .",
    "we can see that the lifetime decreases when @xmath52 increase from @xmath111 to @xmath205 .",
    "intuitively , this is because assigning very large weights to the votes cast by wds in lower battery states essentially approaches the worse - performing prioritized tallying method , where votes cast by wds in higher battery states are neglected .",
    "however , the simulation results in fig .  [ 107](a ) do not imply that a small weight is more favorable for the votes cast by wds of low battery state .",
    "instead , we can infer that the setting of @xmath160 needs to balance between the energy efficiency and fairness among all the wds .    ) on network lifetime performance when : ( a ) the power exponent @xmath52 changes ; or ( b ) the amount of csi feedback amount changes.,scaledwidth=50.0% ]    at last , we investigate the performance tradeoff in terms of the csi feedback amount , i.e. , the number non - zero entries in @xmath160 .",
    "specifically , we consider a @xmath227 of @xmath171 rows ( i.e. , @xmath171 fixed battery states ) and varying number of columns ( i.e. , variable feedback amount ) .",
    "the non - zero elements in the @xmath0rd and @xmath171-th rows of @xmath227 are the same as those of @xmath160 in ( [ 5 ] ) , while the non - zero elements in the first and the second rows are set as @xmath228 and @xmath229 respectively , in @xmath220 different feedback designs .",
    "that is , a wd casts @xmath106 vote when it is in the @xmath171-th battery state , @xmath0 votes in the @xmath0rd battery state , and a variable number of votes from @xmath106 to @xmath220 when it is in the @xmath106st or @xmath111nd battery states .",
    "the @xmath160 in ( [ 5 ] ) correspond to the case when the wds cast @xmath111 votes in the first two battery states .",
    "the power consumed on transmitting each vote is @xmath230 mw . besides , the time reserved on csi feedback is assumed proportional to the maximum of non - zero entries among the @xmath171 rows in @xmath227 .",
    "for instance , when the feedback number is @xmath111 for wds in the @xmath106st or @xmath111nd battery state , the csi feedback occupies @xmath211 of a transmission block , because a wd casts @xmath0 votes at maximum when it is in the @xmath0rd battery state ; when the maximum feedback number is @xmath220 , however , we have @xmath231 . the network lifetime performance under different feedback settings is shown in fig .",
    "[ 107](b ) when @xmath232 or @xmath226 meters .",
    "we can see that the network lifetime increases when the feedback amount increases from @xmath106 to @xmath0 , indicating that the energy gain obtained from more refined csi feedback outweighs the extra energy cost on sending more csi feedbacks .",
    "however , as we further increase the feedback amount , the network lifetime decreases mainly because of the extra time consumed on sending csi feedback to the ens , which leaves less time for wpt transmission in a transmission block .",
    "we can therefore infer that a proper feedback amount should be selected .",
    "meanwhile , because the best - performing singl - univ scheme allocates transmit power to only one sub - channel for each en , the feedback amount should be set small to increase the chance of the strongest sub - channel being selected for transmission and also reduce the energy cost due to less wpt time resulted .",
    "in this paper , we proposed a voting - based distributed charging control framework in multi - en broadband wpt networks , to exploit frequency diversity gain to maximize the network operating lifetime .",
    "the proposed voting - based channel feedback mechanism is especially suitable for wireless powered devices with simple hardware structure and stringent battery constraint . under the proposed framework , we studied the power allocation method and efficient csi / bsi feedback design over multiple sub - channels .",
    "in particular , we derived the expected network lifetime of general wpt networks to draw the guideline of designing practical lifetime - maximizing charging control policies , and proposed accordingly efficient voting - based power allocation schemes with battery - state dependent csi feedbacks .",
    "the effectiveness of the proposed methods in extending the network lifetime has been verified by extensive simulations .",
    "interestingly , we found that superior lifetime performance is achievable by allocating all the transmit power of each en to the best sub - channel that receives the highest weighted sum vote from all the wds , instead of spreading the transmit power over multiple sub - channels .",
    "practical system design issues were also discussed and examined through simulations .",
    "s.  ulukus , a.  yener , e.  erkip , o.  simeone , m.  zorzi , p.  grover , and k.  huang ,  energy harvesting wireless communications : a review of recent advances , \" _ ieee j. sel .",
    "areas commun .",
    "_ , vol .",
    "33 , no .",
    "3 , pp .  360 - 381 , mar .",
    "i.  krikidis , s.  timotheou , s.  nikolaou , g.  zheng , d.  w.  k.  ng , and r.  schober ,  simultaneous wireless information and power transfer in modern communication systems , \" _ ieee commun . mag .",
    "_ , vol .",
    "52 , no .  11 , pp .  104 - 110 , nov .  2014",
    ".          y.  zeng and r.  zhang ,  optimized training for net energy maximization in multi - antenna wireless energy transfer over frequency - selective channel , \" _ ieee trans .",
    "_ , vol .",
    "63 , no .  6 , pp .  2360 - 2373 , jun .  2015 .",
    "s.  bi and r.  zhang ,  placement optimization of energy and information access points in wireless powered communication networks , \" _ ieee trans .",
    "wireless commun .",
    "_ , vol .  15 , no .  3 , pp .",
    "2351 - 2364 , mar .",
    "2016 .",
    "h.  chen , y.  li , j.  l.  rebelatto , b.  f.  uchoa - filho , and b.  vucetic ,  harvest - then - cooperate : wireless - powered cooperative communications , \" in _ ieee trans .",
    "signal process .",
    "_ , vol .",
    "63 , no .  7 , pp .  1700 - 1711 , feb . 2015 .",
    "x.  zhou , c.  k.  ho , and r.  zhang ,  wireless power meets energy harvesting : a joint energy allocation approach in ofdm - based system , \" _ ieee trans .",
    "wireless commun .",
    "_ , vol .  15 , no .  5 , pp",
    "3481 - 3491 , may .  2016"
  ],
  "abstract_text": [
    "<S> wireless power transfer ( wpt ) technology provides a cost - effective solution to achieve sustainable energy supply in wireless networks , where wpt - enabled energy nodes ( ens ) can charge wireless devices ( wds ) remotely without interruption to the use . </S>",
    "<S> however , in a heterogeneous wpt network with distributed ens and wds , some wds may quickly deplete their batteries due to the lack of timely wireless power supply by the ens , thus resulting in short network operating lifetime . in this paper , we exploit frequency diversity in a broadband wpt network and study the distributed charging control by ens to maximize network lifetime . in particular , we propose a practical voting - based distributed charging control framework where each wd simply estimates the broadband channel , casts its vote(s ) for some strong sub - channel(s ) and sends to the ens along with its battery state information , based on which the ens independently allocate their transmit power over the sub - channels without the need of centralized control . under this framework </S>",
    "<S> , we aim to design lifetime - maximizing power allocation and efficient voting - based feedback methods . towards this end </S>",
    "<S> , we first derive the general expression of the expected lifetime of a wpt network and draw the general design principles for lifetime - maximizing charging control . based on the analysis </S>",
    "<S> , we then propose a distributed charging control protocol with voting - based feedback , where the power allocated to sub - channels at each en is a function of the weighted sum vote received from all wds . besides , the number of votes cast by a wd and the weight of each vote are related to its current battery state . </S>",
    "<S> simulation results show that the proposed distributed charging control protocol could significantly increase the network lifetime under stringent transmit power constraint in a broadband wpt network . </S>",
    "<S> reciprocally , it also consumes lower transmit power to achieve nearly - perpetual network operation .    wireless power transfer , distributed charging control , network lifetime , broadband network . </S>"
  ]
}