{
  "article_text": [
    "computing age and sex specific forecasts ( assfs ) is a standard task of applied demographers , as these forecasts form a fundamental input for planning throughout industry and government .",
    "examples include regular forecasts by the the u.s .",
    "census bureau , k-12 school forecasting , and caseload projection ( hospitals , prisons , medicaid , etc ) .",
    "as one example , washington state produces assfs as part of their statewide land use planning program ; these forecasts are used to plan for innumerable downstream projects , from hospital construction to future transportation projects .    the cohort component method invented by whelpton @xcite is a well established procedure for creating assfs .",
    "the leslie matrix formulation of the cohort component method is particularly elegant for many reasons : it allows a forecasting problem to be formulated as simple matrix multiplication , the matrix provides a succinct characterization of the population dynamics , and the linear algebraic structure of the matrix yields interesting results .",
    "however , creating leslie matrices requires demographic rates for the population under question , which must either be drawn from model demographic rates or created directly from vital event counts and age / sex - specific base population estimates .",
    "even when these prerequisites are met ( which can be surprisingly difficult in an applied demographic institutional environment ) , the leslie matrix generated usually requires extensive tuning to yield plausible forecasts , because the results are highly sensitive to small changes in the matrix , whether due to error or mis - estimation . using wood s method , however ,",
    "the leslie matrix is guaranteed to generate at least plausible forecasts insofar as it is forced to interpolate between the input population vectors ; in our experiments , it extrapolates populations well too . in this paper",
    "we describe a procedure such that an applied demographer can simply input historic age / sex population counts  no need for separate rate data  and automatically get a plausible leslie transition matrix that can be used for cohort - component projection .    to our knowledge ,",
    "the underlying algorithm in our technique  wood s method ( wm )  has not been successfully applied to human demographic problems , even though it has much promise for applied work .",
    "the lack of uptake may be due to several reasons , not least of which is that formulating the quadratic optimization problem in wm requires intermediate skills in computer programming and access to a good matrix programming language .",
    "more importantly , though , without well chosen constraints for the optimization model , the method gives completely implausible results , which might lead a researcher to abandon the technique prematurely . in the only work on",
    "wm besides the original paper , caswell s influential book @xcite , caswell recommends rather simplistically chosen constraints that force the cell and row sums in the output leslie matrix to fall between zero and one ; these constraints may be reasonable for a closed single sex population , but when used to derive a leslie matrix for human populations with open migration flows , they yield a matrix with no demographic interpretation and which gives very poor forecasts",
    ". however , if constraints are developed using basic human demographic theory , wm provides interpretable projection matrices which yield very reasonable forecasts .",
    "we will not do extensive comparisons to other forecasts in this paper , either in terms of results or methodologies , but we plan to cover both in @xcite , where we will compare wm generated forecasts to many official forecasts . as part of that paper , we will also present results of an informal survey of applied demographers regarding their forecasting methods and data sources . to our very limited knowledge ,",
    "most applied demographers depend either on spreadsheets or sas arrays to perform cohort component analysis and do nt use matrix methods at all .",
    "we hope that this paper will make these methods more attractive by showing their power and elegance .",
    "there are a number of moving parts to the method and we will take each in turn : to begin , we will give a short introduction to the idea of optimization under constraint , then we will describe the input format to wood s method , followed by the transition matrix format , then the woods inference algorithm , and finally a description of the constraints",
    ". it will be helpful to have a basic overview of the method before diving into the details : first , at least three sets of age/ sex population counts are assembled , with age widths and time periods at 5 year intervals , and with 85 years old as the open interval .",
    "second , a set of constraints is developed that sets bounds on the survival , migration , and fertility cells in the output matrix , and enforces any relationships between age - specific rates .",
    "third , this population count data and this constraint set are input to an octave function , which rearranges the population count data into a format suitable for quadratic optimization .",
    "fourth , this function calls the function `` ` qp ( ) ` '' , which performs constrained quadratic optimization on a decision vector in which each optimized element is a structural non - zero cell in the desired leslie matrix .",
    "finally , the resulting vector is rearranged into a leslie matrix and returned .",
    "each of these steps will be described in detail below , but first we will try to give some backround on optimization methods .      as our presentation of wm highlights optimization techniques , it is worth sketching those for the reader ; please note , however , that it would be impossible to do justice to this very well - developed topic  for an excellent introduction see @xcite , but for a well written and classic work see @xcite .",
    "optimization models try to find the best values for a set of variables under a set of constraints as measured by a summarizing `` objective function ''  for example , finding the best diet as measured by total nutrition and constrained by a budget , or the best allocation of retail products in a store as measured by total profit and constrained by shelf space , or the best fit of a parameterized function as measured by the minimum sum of squares and constrained by bounds on the parameters ( the optimization problem used in wm ) . when the objective function is `` convex ''  meaning roughly that no line that connects two points on the function surface crosses the surface  every local optimized value is guaranteed to also be globally optimized value over the ( usually constrained ) feasible solution space ; linear functions are convex , and many second order polynomials are convex as well , including the function corresponding to sum of squares .",
    "most applied optimization problems are formulated in terms of strictly linear equations , including the objective function , which is usually a large summation involving the parameters and variables ; this formulation gives us the `` linear programming '' that underpins modern operations research . in `` quadratic programming , '' the objective function is a second order polynomial ; quadratic programming is used in many variance minimization problems including markowitz portfolio optimization .",
    "optimization problems are ubiquitous in many fields , especially economics , operations research , automatic controls , and machine learning  even modern cognitive linguistics ",
    "and the algorithms and problem formulations are very well developed .",
    "see below for a longer discussion of the potential power of constrained optimization approaches in demographic modeling beyond forecasting .",
    "the input is a set of age sex population counts stored in a 36 by t matrix , with the rows representing age and sex combinations and the columns representing each five year interval .",
    "male and female population counts for the same year are concatenated vertically in a single vector , and these vectors are concatenated horizontally into a matrix ; for an example see .",
    "at least three years of data are required , but as many years of data as are available can be used by the method . in , column 1 holds the population for 1990 , column 2 for 1995 , column 3 for 2000 .",
    "@xmath0        the leslie matrix method should be familiar , at least in outline , to analysts with formal demographic training ; if not , excellent introductory works include @xcite . however , it is worth reviewing the essentials of the basic single sex leslie matrix for a closed population .",
    "leslie matrices project a population vector like forward by a single time step of the same length as the age classification ( e.g. , if the population counts are reckoned in five year intervals , then each projection step is five years long ) .",
    "the matrix multiplies the population vector for time step 0 to yield a population vector at time step 1 : @xmath1 , where @xmath2 is the projected age - specific population vector , @xmath3 is the starting age - specific population vector , and @xmath4 is the matrix .",
    "this single - sex version of the matrix has the format shown in , with @xmath5 representing five year survival at age @xmath6 and @xmath7 representing the five year fertility rate at age @xmath6 ; zeros and elided entries are `` structural zeros ''  elements which must always be zero in the model ( these include fertility to women in non - childbearing years , and transitions besides a single forecast step ) .",
    "@xmath8    @xmath9\\label{eq : lesliemat-1}\\end{aligned}\\ ] ]      the transition matrix generated by our version of wm follows the approach of the work of rogers in two - sex transition matrices @xcite , though it is a new formulation that uses the diagonal to account for net migration .",
    "our matrix format is 36x36 , which can be thought of as four 18x18 blocks .",
    "the upper left block projects males , with the sub - diagonal in this block representing male survival and the diagonal representing male net migration .",
    "the lower right block projects females , with the same structure as the upper left block , except that it also contains entries in the top row of the block which generate female babies .",
    "the upper right block s top row generates male babies ; it is placed in this block because it represents a transition from female mothers to male children .",
    "this matrix does not model a population closed to migration , so the rows can sum to any value , including negative numbers .",
    "see for a schematic , with `` f '' representing fertility , `` s '' survival , `` m '' net migration , and the zeros standing for structural zeros in the matrix . `` mf '' represents `` migratory fertility , '' babies born to mothers migrating in to the population . to project a population forward",
    ", one simply multiplies this matrix and a 36 x 1 population vector , as @xmath1 .",
    "this form of the transition matrix is comprised of fairly standard pieces , but it differs from other leslie matrix formulations in important ways . the upper left corner elements in the lower right and upper right blocks ( @xmath10 and @xmath11 , respectively ) encode fertility dynamics , babies born in transit to mothers migrating into the population ; the lower right corner in the upper left and lower right blocks encodes both migration and survival of the 85 + open interval . the rest of the diagonal cells describe net migration  population change unaccounted for by cohort survival , the residual after the population has aged forward . by placing migration in the diagonal and survival in the sub - diagonal ,",
    "the transition matrix is more easily interpreted in terms of demographic components of change . however , for counties that have high college populations , both the sub - diagonal and the diagonal play a role in migration ( see the discussion on the sub - diagonal constraint below for more detail ) .",
    "placing migration in the diagonal assumes that the population `` at risk for net migration '' is the current age group , corresponding to the method for calculating migration in @xcite .",
    "however , in the literature , the population at risk for migration is more often considered to be the age class younger than the new migrants , and this net migration would be accounted for in the sub - diagonal as a cohort change ratio , in contrast to our formulation .",
    "caswell uses leslie matrices primarily in the context of stage classified models and closed populations ; he uses the diagonal for those individuals remaining in a given stage , but requires that a given row sum to less than unity because , by definition , there is no migration in a closed population .",
    "none of these approaches uses the corner elements for migratory fertility , but we found their use to yield better fits through experimentation .",
    "our matrix formulation , though slightly original , works well for its purpose .",
    "@xmath12\\label{eq : lesliemat}\\end{aligned}\\ ] ]      we will now describe the optimization algorithm at the core of the technique we are presenting .",
    "caswell ( p144 ) @xcite gives a derivation and an extended example of the technique using a simple 2 by 2 transition matrix , but his exposition combines mathematical proof and algorithmic description and can be hard to follow .",
    "our exposition will draw very closely from that excellent work , but will tend to a more algorithmic approach and will not attempt to justify the method rigorously . note that if the reader compares the approach presented here to caswell s , they will see that we use a completely different constraint set , and that caswell uses an obsolete version of matlab s quadratic optimization function",
    "` qp()`.[multiblock footnote omitted ]    quadratic optimization is typically formulated as follows :    @xmath13    * q * is a constant matrix , @xmath14 is a constant vector , and * p * is the decision variable ( a vector ) that is varied to find the minimal value of .",
    "the matrix * g * and vector @xmath15 encode the inequality constraints on * p * , and the matrix * a * and vector @xmath16 encode the equality constraints ( see above for a short introduction to constrained optimization ) .",
    "the insight of wood s method is to use empirical population count vectors to create the matrix * q * and to use * p * to hold the non - zero elements of the leslie matrix , so that these elements of * p * can be optimized to effect the best possible transition between age/ sex specific population counts encoded in @xmath17 .",
    "we will describe this in some depth .",
    "note that this method optimizes the transitions between adjacent input periods pairwise , but it does not optimize the transition from the first period of input to data to the last .",
    "our approach has the advantage that it is a linear sum of sqares fitting problem@xmath18 , so it is extremely `` well behaved '' analytically .",
    "it is also especially appropriate for the sort of short term forecasts that are regularly encountered in applied work at the state and local levels .",
    "the disadvantage is that the method may not be suitable for long term forecasting , especially when rates are changing as well as population numbers ; in these situations one would want to optimize@xmath19 , the best fit of a single matrix for the entire input .",
    "however this latter objective function yields nonlinearities and is likely not as appropriate to short term forecasts as wood s method .",
    "let * @xmath20 * be @xmath21 36 x 1 age/ sex population vectors , indexed by time over @xmath22 , where @xmath23 represents a single 5 year time step , as in ( [ eq : popvector-1 ] ) .",
    "calculate @xmath24 , where @xmath25 is the kronecker product , and @xmath26 is the 36 x 36 identity matrix , for @xmath27 . in ( [ eq : nkron ] ) ,",
    "we show an example of @xmath28 , in which we represent males age zero to five as @xmath29 and females age 85 + as @xmath30 ( 85 plus being the 18th age class ) , etc .",
    "@xmath31\\label{eq : nkron}\\ ] ]    calculate @xmath32 by vertically concatenating @xmath33 , as in :    @xmath34    calculate @xmath35 by vertically concatenating the @xmath36 vectors , as in :    @xmath37    now let @xmath38 be the decision vector which will contain the elements of the fitted leslie matrix that are not `` structural zeros '' ( see [ eq : lesliemat ] for a schematic ) .",
    "we seek to minimize @xmath39 , the distance between the projected populations formed by @xmath40 and the empirical populations stored in @xmath35 .",
    "@xmath41    we drop the @xmath42 term , since it is constant and thus wo nt play a role in the optimization , and we collect like terms to yield :    @xmath43    because is @xmath44 is positive definite , this objective function is convex",
    ". since the constraints are all linear , the optimization problem is well defined , and we are guaranteed to find a unique global minimum as long as the problem is feasible .",
    "the matrices @xmath45 and @xmath46 are both passed into ` qp ( ) ` as parameters .",
    "the values in the fitted leslie transition matrix are enforced by constraints passed to the quadratic optimization routine ` qp ( ) ` . in the discussion below @xmath47",
    "will refer to the cell in the leslie matrix at row = @xmath48 and column = @xmath49 .",
    "fertility ( the cells labeled `` f '' in in ) is constrained such that the sum of these cells falls between 1.0 and 6.0 .",
    "the constraint determining the sum of the fertility cells is stored in @xmath50 and @xmath15 in .",
    "fertility is also constrained such that the relative proportions of all the fertility cells are constant , even though the total of these cells is determined by the optimization fitting routine .",
    "this constraint models the fact that human fertility is somewhat consistently distributed over fertile ages in an approximately log - normal shape .",
    "these percentages are derived from the human fertility database @xcite for women in 1980 usa , using 51.14% as the male sex ratio .",
    "this proportional constraint for fertility is described in table [ tab : fertility - constraints ] .",
    "the equality constraints determining fertility shape are stored in the matrix * a * and the vector @xmath16 in .",
    "the sum of the fertility cells is critical to the functioning of the method , but the distribution of the fertility over ages has very little effect on the suitability of the matrix for single period projections .",
    "we choose the distribution described because it is convenient and reflects an average distribution , but we are not arguing here that this particular fertility model is a particularly good choice or not .",
    "however , it does allow the matrix to be used for longer term projections , when new generations pass through these fertility cells ( see discussion above for the dangers of using wm matrices for multi - period forecasting ) .",
    "survival ( `` s '' in ) is constrained to fit between a lower bound corresponding to 1970 usa males and an upper bound corresponding to 2008 usa females , computing survival as @xmath51 .",
    "each cell in the subdiagonal is also constrained to be less than or equal to the next younger cell .",
    "this approach fails to capture relationships between ages ( such as a mortality shape ) , but when these relationships are better specified , they can be easily incorporated as constraints . however ,",
    "if the cohort ratio for 15 to 20 year olds is above 1.4 , the sub - diagonal constraints for this age are relaxed and allowed to range between 0.4 and 1.0 . this change in constraints is made because counties with this attribute typically contain large university populations , and without relaxing the constraints on the sub - diagonal the population of 20 - 25 year olds will `` age forward '' instead of migrating out , and an inaccurate population wave will propagate through the county age structure ( see figure [ fig : whitman - county ] for a plot of the age structure of a university - dominated county ) . these inequality constraints on survival cells are described in table [ tab : survival - constraints ] , and stored in matrix * g * described above .",
    "migration ( `` m '' in ) is constrained based on the age  it is allowed to range widely for people in their early twenties and retirement ages , but it is kept smaller for other ages . the corner cells ( @xmath52 and @xmath53  for 0 - 5 males and 0 - 5 females respectively )",
    "are considered part of the fertility row and are constrained to be part of the fertility proportion described above , because the solver otherwise puts all the fertility dynamics into these cells .",
    "the entry for 85 + year - olds ( @xmath54 and @xmath55 for males and females , respectively ) does `` double duty '' for mortality and migration .",
    "these inequality constraints on the migration cells are listed in table [ tab : diagonal - migration - constraints ] , and stored in matrix * g * described above .    in this approach",
    ", migration is calculated as a residual ; the bounds on fertility and survival are fairly tight and the remaining dynamics are forced into the migration cells . however , if one constrained the migration and fertility based on known rates , the sub - diagonal would give an estimate of survival .",
    "these constraints are encoded in matrices and passed to the octave ` qp ( ) ` function along with the formulations in the above section . due to the large number of constraints ( over 100 )",
    ", we do nt show their matrix formulations .",
    "we believe that the approach of wm taken here  determining the elements of a transition matrix based on an optimal fit to data , using prior theoretical knowledge to constrain the elements and impose ( linear ) relationships between them  signals a new approach to demographic modeling which has the potential to yield many fruitful results beyond age/ sex forecasting .",
    "constraints allow almost arbitrary prior knowledge to be easily and incrementally incorporated into the inference stage of the forecast .",
    "using a transition matrix to store the population dynamics gives us a succinct , interpretable representation of population change .",
    "using optimization to find a best fit transition matrix allows us to go beyond deterministic modeling using fixed input rates .",
    "the constrained optimization approach draws on a wealth of prior research into constrained optimization and mathematical programming ; working within this well established framework may enable fruitful collaborations .",
    "finally , this basic approach is not limited to age/ sex forecasting , but is applicable to any situation that can be modeled with transition matrices .",
    "( a similar flexibility and power is possible in bayesian network approaches , but these only answer questions about probability distributions ; admittedly systems of probability distributions encompass a huge number of models , but they ca nt model population processes directly . )    given these large claims , and the fact that in operations research it is well known that constraints are where `` the magic happens , '' it is worth exploring our choice of constraints above in light of traditional demographic ideas .",
    "first , we think of constraints as being `` another level of indirection '' above model demographic rates .",
    "the constraints used in this paper are based on model rates from large scale demographic data collection projects , specifically the human mortality database @xcite and the human fertility database @xcite , and from demographic theory regarding invariants in the age structure of mortality and fertility .",
    "however , rather than use a set of model rates deterministically , the constrained optimization procedure allows the population count data to have an influence on the fitted matrix within upper and lower bounds determined by the model rates .",
    "on the other hand , if an analyst wants to fix demographic rates deterministically , this is trivially accomplished by setting equality constraints rather than the inequality constraints presented here .",
    "we also find it useful to think in terms of a few `` constraint sets '' rather than in terms of atomistic constraints  we use a lower - bound constraint set for survival , an upper - bound constraint set for survival , an equality constraint set to enforce fertility proportions , etc .",
    "each constraint set is almost directly analogous to a model rate profile , except that it provides a bound or a relationship rather than a set of deterministic values .",
    "a constraint set may be derived empirically , analogously to `` borrowing '' a lifetable to model a population for which life tables have not been tabulated ( often due to small sample problems ) .",
    "constraint sets can also be derived using the spine - plus - parameter ideas of brass @xcite , from a purely analytic expression like the gompertz mortality model , or using the quadratic model of @xcite .",
    "a forecaster must still decide on the values in a constraint set ",
    "a mortality constraint set for high mortality countries would be derived with a higher @xmath56 in the gompertz approach , for example  but the additional level of indirection allows for a combination of analyst judgement , information `` borrowing , '' and data inference that is impossible with deterministic model rates alone .",
    "finally , by using generic constraint sets with fairly wide bounds , the analyst can create reasonable forecasts with little population - specific knowledge ( the approach taken in this paper ) .",
    "in fact , the analyst can get decent forecasts with the defaults presented here , even with no demographic theoretical background .",
    "additionally , the constraint approach allows us to gracefully and incrementally combine small- and large- scale data sources , by modifying constraint sets with `` point constraints . ''",
    "establishing rates for small populations is a chronic problem in demography , especially for mortality due to its rareness , so demographers typically `` borrow '' rates from large population lifetables when forecasting small populations . in the constraint approach , however , one can use local knowledge to adjust these general rates by adding point constraints at certain ages  for example , if homicide among 20 to 25 year old males is a known issue in a specific population , one can force survival at this age to be arbitrarily low without changing any other elements of the mortality constraint set , and then fit the transition matrix using these modified assumptions .",
    "adjustments to the survival constraints for university dominated counties in this paper is another example of local , small - data information being included for specific populations at the constraint level .",
    "finally , the constraint approach is not limited to bounding single matrix elements .",
    "constraints can also be written as arbitrary linear combinations of the leslie matrix elements , which allows for staggeringly complex interrelationships to be enforced .",
    "this technique is used with the fertility elements of the matrix : we enforce a constraint such that the sum of fertility elements is between 1.0 and 6.0 , and that the fertility elements must have a fixed proportion to each other . as a more speculative example",
    ", we might constrain migration at ages 20 to 30 to be a proportion of retirement migration ( as the former ages may work in service industries for the latter ) and examine the resulting matrix for plausibility or theoretical interest .    more extensive analysis of this framework , including optimization duals and approaches to confidence intervals and sensitivity analyses , will be presented in @xcite .",
    "however , it is important to understand the power of this approach and its relationship to traditional demographic methods .",
    "the test data is an almost complete set of u.s.a .",
    "county populations from the us census censal data and intercensal estimates , from 1970 through 2010 , at 5 year intervals @xcite .",
    "the populations at each interval are divided into 5 year age widths , for males and females separately .",
    "the data was compiled from a variety of locations on the us census website , often aggregating over race detail in the original data .",
    "then the dataset was analyzed to determine which counties maintained a consistent fips code over the 40 years , and only those counties whose code was consistent were retained .",
    "this final dataset was stored as a 36 x 3120 x 9 three dimensional matrix , with 36 age / sex rows , 3120 county columns , and a third dimension storing the 40 years of data .    below we will present the results of this test , but in @xcite we will explore comparisons between our forecasts and other official forecasts , perform sensitivity tests , and examine the error structure somewhat exhaustively . in that paper",
    ", we will also use selected international data , and consider other geographies in the usa besides counties .",
    "additionally , we will examine demographic rates ( births , deaths , and migration ) implied by the leslie matrix projection .",
    "we have chosen to separate the exhaustive empirical paper from this paper in order to keep the exposition clear .    to test the method , each county",
    "was run separately to compare forecasted population with actual population .",
    "the age specific population in 1980 through 2000 was used as the training set .",
    "this set was processed by an octave routine that reads in population data and default constraints and returns the transition matrix using the method outlined above .",
    "these resulting transition matrices were used to forecast 2000 population counts two steps forward , yielding an age specific forecast for 2010 using simple matrix multiplication @xmath57 .",
    "the resulting population vector for 2010 was compared to the empirical data for 2010 , and absolute percentage differences were computed for each age and sex cell .",
    "these percentage differences and other metadata were stored for all the counties as another set of 36 by 3120 matrices .",
    "there are some caveats with this dataset , though we believe it provides a sufficient test of the method to prove its utility .",
    "two counties failed to converge when their data was processed through the woods method , and these were dropped from the error analysis below .",
    "certain important counties were dropped because they had changes in their fips codes over the input period , including dade county in florida .",
    "counties which changed their geographic boundaries but retained their fips code are assumed to be homogeneous across time , even though their populations could have changed in ways that might bias the fitted leslie matrix .",
    "we used intercensal estimates for the periods in between censuses ( 1975 , 1985 , 1995 , 2005 ) .",
    "finally , data quality is at the mercy of the us census bureau .",
    "counties were chosen as a unit of analysis for several reasons .",
    "first , this research was initiated to support growth management act ( gma ) forecasting at washington state , and counties are the basic unit as determined by gma legislation .",
    "second , institutions throughout the united states are regularly called upon to forecast population at the county level , so these techniques would frequently be exercised on county data if they were adopted .",
    "third , county data is of excellent quality overall , as counties form both a basic enumeration and a basic tabulation geography for the u. s. census bureau .",
    "fourth , counties provide a wide range of population sizes on which to test the method , ranging in 2010 population from 9,818,605 ( los angeles county , california ) to 82 ( loving county , texas ) .",
    "finally , counties also show a diversity of of population dynamics due to their sometimes very particular social contexts , with smaller counties often `` specializing '' in ways that influence age structure , such as providing retirement communities or housing university student populations .",
    "this dataset should be considered as an extended example of the method but not an exhaustive analysis of the method s error properties .",
    "after all the counties were run , the 2010 forecasts were compared to actual 2010 census counts .",
    "the mean absolute percentage error ( mape ) over all cells is 10% ; this is comparable to the mapes for 10 year county forecasts given in smith and tayman @xcite .",
    "if we test the method on counties with populations larger than 50,000 , the mape over all cells is only 7% , and the mape for counties with less than 50,000 population is 11% .",
    "the age specific mapes are slightly larger , see table [ tab : mape - by - age ] .",
    "here we see that the age specific mapes are comparable to the forecasts presented in smith and tayman ( p 749 ) for several county forecasts in florida .",
    "it is hard to compare them because smith and tayman use ten year age widths in their evaluation forecasts and forecast errors are generally smaller with large populations and/ or wider age groups .",
    "smith and tayman also only use county forecasts for the state of florida , while we produced forecasts over almost all counties in the us .",
    "( unfortunately the us census bureau does not produce age/ sex population projections for counties , so it is difficult to assemble a large dataset against which to compare this method at the county level.)also interesting is the quantile pattern of errors in table [ tab : quantile - error - structure ] .      as a further example of the utility and limitations of the method presented",
    ", we consider several counties in washington state ( see figures [ fig : spokane - county ] through [ fig : yakima - county ] ) . in the plots ,",
    "the solid blue line shows the empirical population in 2010 , the dashed red line is the 2010 forecasted population , and the gray line is the jump off population in 2000 .",
    "these plots allow us to see many of the basic population dynamics for each county , and show that our method forecasts the age/ sex composition well . if a peak or a trough in the gray 2000 line moves rightward , to the blue and red 2010 lines , this implies that part of the cohort is aging forward and staying in the county .",
    "if the peaks and troughs do nt move to the right , but rather move up and down in the same age , it implies that people are moving into the area at a given age and back out again when they get older ( see whitman county for an example  people move into the county for college and move out when they graduate ) .",
    "we will use the terms `` cohort age dynamic '' and `` migratory age dynamic '' for these two population dynamics , respectively .",
    "these counties were chosen to represent specializations in county attributes and corresponding ages of residents .",
    "they include counties with large regional centers ( spokane county ) , large internationally important cities ( king county , which contains seattle ) , suburban counties ( clark county , which provides housing for the portland , or metropolitan area ) , high retirement population counties ( clallam county ) , university oriented counties ( whitman county ) , and agricultural counties ( yakima county ) ; each of these specializations have distinct age structures , all of which are forecasted well by woods method .",
    "although these examples were chosen informally based on our knowledge of their social context , the idea of county classification owes much to @xcite .    note",
    "that population growth in washington state has slowed considerably below long term averages since 2008 due to the recession ( in - migration was 13,000 in 2010 and about 4,000 in 2011 , compared to a yearly average of about 45,000 ) .",
    "this slowdown affects the accuracy of the forecast totals , since the training period had higher overall growth than the forecast period .",
    "even when the total forecast is lower than the empirical number , however , wood s method often retains the basic shape of the age structure ; this ability to keep structure is a benefit of the method .",
    "spokane county is located on the eastern border of washington .",
    "it has a population of about 470,000 , a diverse and vibrant economy , including manufacturing , farming , and multiple universities ( gonzaga , eastern washington university , and other smaller private colleges ) .",
    "historically , spokane county has had slow but steady growth .",
    "while the county contains a typical metropolitan center ( the city of spokane ) , the county is large enough to also include most of the family - oriented suburbs serving the central city .",
    "it provides an example of a `` well - rounded '' county , with a fairly complete range of ages . in figure",
    "[ fig : spokane - county ] , we can see a cohort age dynamic as the baby boomers and their children both age forward in time .",
    "the forecast is quite good , except at ages 20 - 25 , due possibly to increased college enrollment in the current recessionary environment .",
    "king county contains seattle , a thriving high - tech industry , a large amount of urbanized area , and many universities , including the university of washington ( see figure [ fig : king - county ] ) . like many highly urbanized counties ,",
    "there is a preponderance of people in their twenties and early thirties , who migrate into the county for employment and education but move out to the suburbs as they start families ; this migratory age dynamic causes the steady bulge in the twenties and early thirties that we see in the figure .",
    "we also see a fair number of baby boomers experiencing cohort age dynamics , as that bulge extends to older ages in 2010 .",
    "note the relative small numbers of children , a proportion of the population that is subject to migratory dynamics rather than cohort age dynamics due to the tendency of families to move to the suburbs when their children reach school age . note also that the forecast under - predicts age 0 - 5 , consonant with the anecdotal evidence that in the last decade more parents are staying in urban areas than in the 1990s and before .",
    "the forecast is good , except for the unpredicted peak at age 25 - 30 , possibly due to the technology s sector strong performance even during the recessionary environment .",
    "clark county shows a typical suburban dynamic , in which young people move out in their teens and early twenties , and family - age people move in in their later twenties and thirties ( see figure [ fig : clark - county ] ) , which is what we expect given that clark county is a bedroom community to nearby portland and washington county in oregon .",
    "note that we see the baby boom peak experiencing cohort age dynamics , but the younger ages evincing migratory age dynamics with no forward cohort movement .",
    "note also that the forecast over - predicts total population due to the current recession , but it retains the shape of the population extremely well .",
    "clallam county is a rural county on the olympic peninsula , with high recreational amenities ( coast and mountains ) but low employment opportunity . like many similar counties ,",
    "it shows typical older in - migration , with a huge bulge at about 55 years old .",
    "this age group displays cohort aging , but it also shows migratory age dynamics as the peak increases from migration ( growing upward as well as moving to the right ) .",
    "the trough at 20 - 25 years old has migratory age dynamics , presumably as these young adults leave the rural county for opportunity and education .",
    "the forecast predicts the older population very well , but the younger population is under - forecast .",
    "yakima county has an agricultural economic base , a large hispanic population , and high fertility .",
    "there is large out - migration in the early twenties for non - hispanics .",
    "see figure [ fig : yakima - county ] .",
    "the forecast is quite good , except for over - predicting population in their twenties , which may be due to the current recessionary environment damping the force of latino in - migration .",
    "whitman county contains washington state university , a large public university .",
    "besides the university , however , the next most important local industry is low - labor wheat farming , and there are few recreational attractions in nearby ; this configuration is consistent with the large population spike at college ages ( see figure [ fig : whitman - county ] ) , which sharply decreases at the next age interval ( 25 - 30 ) with young people leaving shortly after graduation .",
    "notice that the forecast is for decreasing population from 2000 , while the empirical data show an increase in population .",
    "this mis - forecast is due to prior trends being incorporated into the transition matrix through the training data ; from 1990 to 2000 , whitman saw an overall drop in population at these ages , but due to the recent recessionary environment , enrollment at wsu has probably seen higher enrollment in 2000 - 2010 .",
    "even with this error in forecast magnitude , the shape of the forecast population is correct .",
    "there are a few extensions to this method that would make it more useful in applied settings .",
    "we sketch how these can be implemented or discuss plans for future research relating to them",
    ".      often a population is forecast by projecting a total number , with the age / sex specific proportions `` controlled '' to that total .",
    "this approach is trivial to effect using wood s method as presented here .",
    "first , forecast the age / sex specific populations with wm , then derive age / sex proportion vectors for each forecast step by dividing each age / sex specific vector by its sum , and finally multiply the projected total forecast numbers by the corresponding age / sex specific proportions .",
    "it is also important to be able to forecast numbers of vital events ( births , deaths , net migration ) along with population numbers .",
    "an estimate of these events should be easy to derive by using the various sections of the leslie transition matrix corresponding to the vital event . to estimate births , set the migration diagonal and the survival sub - diagonal to zero , then multiply the age / sex population vector by the the remaining matrix .",
    "a directly analogous technique can be used for migration . for deaths ,",
    "project the population using only the survival sub - diagonal , then find the difference of the starting vector and the finishing `` cohort - wise . '' these techniques all depend on the choice of intelligent constraints in the original fitting routine , as otherwise the matrix components can not be assumed to have demographic interpretations .",
    "unfortunately , this approach is impossible with college populations , as the sub - diagonal no longer corresponds to survival ; refining the model for college counties is ongoing .",
    "we have not tested this technique in practice .",
    "determining forecast bands is a more difficult proposition .",
    "given the error structure described above , one could use the percentage corresponding to each age group for the 80th percentile as a general guideline for high and low bands . however , there are two problems with this approach .",
    "first , there is almost surely heterogeneity within counties with respect to their error structure ; if nothing else , larger counties have smaller percentile errors than smaller counties . more subtly , age specific error does not address correlation in error between ages for a given county , and so loses any sense of the overall accuracy of the forecast shape .",
    "it is also important to consider how to choose input data to derive the leslie transition matrices .",
    "since wood s method incorporates an average of all transitions , if past trends do nt reflect future trends , the forecasts will be incorrect .",
    "there are no hard and fast rules for choosing training data , but there are two basic rules of thumb , which , unfortunately , can contradict each other in any given application .",
    "one , generally forecasters recommend going as far back for input as the forecast goes forward in time .",
    "two , examine past data and look for articulation points where trends change direction , and avoid using data from before the most recent `` elbow '' in the data .",
    "there are three main directions we see for exploring the application of this method .",
    "the first is extending it to more complex matrix models , including race , multi - regional models , and educational state models .",
    "the second direction will be in creating and refining constraints , as both limits on rates and subtle population interactions are better approximated and modeled .",
    "finally , confidence bands and error analysis will be a line of development ; currently the author has no systematic procedure for generating confidence bands or alternative forecasts .",
    "sensitivity analyses , partly based on the wealth of optimization theory and the approaches of caswell ( and tulja ? ) will be extremely important in this line of investigation .",
    "additionally , the mathematical properties of the optimization method are not well explored .",
    "do different quadratic optimization algorithms yield better or worse results ?",
    "can the matrix @xmath58 be better characterized ( currently it has a very high conditioning number , which might affect performance ) ?",
    "we believe that the forecasting method outlined above shows great promise for use in applied settings to forecast age and sex because it both streamlines the creation of leslie matrices , and it flexibly incorporates previous demographic knowledge in the constraints",
    ".    additionally , the method should be generally applicable to all populations using the above approach of combining theoretically based constraints with empirical data .",
    "while different populations will require different matrices and constraint sets , the basic applicability of the approach has been shown .",
    ".[tab : fertility - constraints]fertility constraints [ cols=\"^,>,<,>,<,^\",options=\"header \" , ]",
    "spokane county ]                          human mortality database .",
    "university of california , berkeley ( usa ) , and max planck institute for demographic research ( germany ) .",
    "available at www.mortality.org or www.humanmortality.de ( data downloaded on january 1 , 2012 ) .",
    "human fertility database .",
    "max planck institute for demographic research ( germany ) and vienna institute of demography ( austria ) .",
    "available at www.humanfertility.org ( data downloaded on january 1 , 2012 ) .",
    "wood , simon n. 1997 . inverse problems and structured - population dynamics .",
    "pages 555 - 586 in s. tuljapurkar and h. caswell , editors .",
    "structured population models in marine , terrestial , and freshwater systems .",
    "chapman and hall , new york ."
  ],
  "abstract_text": [
    "<S> in this paper , we present a technique for generating leslie transition matrices from simple age and sex population counts , using an implementation of wood s method @xcite ; these matrices can forecast population by age and sex ( the cohort component method ) using simple matrix multiplication and a starting population . </S>",
    "<S> our approach improves on previous methods for creating leslie matrices in two respects : it eliminates the need to calculate input demographic rates from raw data , and our new format for the leslie matrix more elegantly reveals the population s demographic components of change ( fertility , mortality , and migration ) . </S>",
    "<S> the paper is organized around three main themes . </S>",
    "<S> first , we describe the underlying algorithm , wood s method , which uses quadratic optimization to fit a transition matrix to age and sex population counts . </S>",
    "<S> second , we use demographic theory to create constraint sets that make the algorithm useable for human populations . </S>",
    "<S> finally , we use the method to forecast 3,120 us counties and show that it holds promise for automating cohort - component forecasts . </S>",
    "<S> this paper describes the first published successful application of wood s method to human populations ; it also points to more general promise of constrained optimization techniques in demographic modeling . </S>"
  ]
}