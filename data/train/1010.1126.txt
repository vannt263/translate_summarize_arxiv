{
  "article_text": [
    "consider a wide area computer network such as the one in figure [ geant ] .",
    "a _ flow _ is defined as all traffic with common origin and destination nodes .",
    "monitoring flow volumes plays an important role in network management tasks , such as capacity planning by tracking demands and forecasting traffic , identifying failures together with their causes and impact , detecting malicious activity and configuring routing protocols [ @xcite , ] .",
    "these flow volumes have been observed to exhibit complicated structure , as seen in figure [ flowvols ] .",
    "for example , the highly aggregated flows usually have diurnal patterns [ figure [ flowvols](a ) ] , while lighter flows can be extremely noisy [ figure  [ flowvols](b ) ] . network traffic is carried on packets that can be observed ( and sampled ) at router interfaces , henceforth called _",
    "observation points_. however , during the measurement process , sampling is employed due to high flow volumes and resource constraints at routers .    ) and the corresponding logical topology . ]",
    "it is increasingly common for such measurement infrastructure to be deployed in computer networks [ @xcite ] .",
    "each packet from the aggregate flow at an observation point is sampled independently with a certain probability ( sampling rate ) [ @xcite ] .",
    "typical sampling rates range between  0.0010.01 . for every packet sampled ,",
    "its header information is recorded which allows one to reconstruct objects of interest , such as volumes of flows with a particular source and destination traversing the network .",
    "an important issue is how to _ select _ ( design ) the sampling rates across the network subject to resource constraints , in order to collect the maximum amount of information on the underlying source - destination flows .",
    "obviously low sampling rates result in large sampling noise .",
    "one way of achieving lower estimation error with the same sampling rate is through _ filtering _ ; that is , combining the present measurement with past measurements to track the time - series of flow volumes . in designing a sampling scheme for this situation",
    "one needs to take into account measurement noise and process noise ( innovation noise ) .",
    "while modeling the dynamics of flow volumes is a challenging task in itself [ @xcite ] , we use a simple random walk model for this purpose .",
    "this is a robust enough model to be useful in a large range of applications and leads to scalable filters .",
    "we consider the problem of minimizing the ( running ) estimation error through optimal design of measurement scheme in the filtering context . in this paper",
    "we take an optimal design of experiment approach to the above problem and demonstrate its application to computer network monitoring using sampled data .    the related research on optimal design has focused on one of the following scenarios .",
    "there is a large body of work on optimal input design for dynamical systems [ @xcite , @xcite ] .",
    "there the focus is on parameter estimation ( system identification ) rather than filtering , as in this paper .",
    "another related area is sequential design for nonlinear systems [ @xcite , @xcite ] , where the optimal design depends on values of unknown parameters .",
    "while there are some commonalities , the design problem in a filtering context is unique in that the design at any time affects not just the current estimation error but also future ones .",
    "the problem of optimal sensor placement in control system literature looks at an equivalent problem [ @xcite , @xcite ] .",
    "however , the formulation is not in terms of information matrices and the special case of random walks has not been analyzed to our knowledge .",
    "more details are provided in section [ sec4 ] .",
    "the remainder of the paper is organized as follows : in section [ sec2 ] we formulate and investigate the idealized problem of optimal design in the context of filtering for multiple random walks . in section [ sec3 ]",
    "we study its application to tracking flow volumes using sampled data .",
    "we end with discussion of a possible generalization and some comments in section [ sec4 ] .",
    "let us first briefly review the concept of e - optimality from classical design - of - experiment literature for a simple setting .",
    "assume we have _ independent _ observations @xmath0 for @xmath1 .",
    "the natural estimate for @xmath2 is @xmath3 for all @xmath4 .",
    "it is standard to assume that the inverse variance of observation noise is roughly proportional to design variables .",
    "the inverse variance , @xmath5 , can be thought of as the information collected on parameter @xmath2 .",
    "specifically , we assume that the relation between an @xmath6 information vector @xmath7 and an @xmath8 vector of design variables @xmath9 is @xmath10 for example , suppose there is a library of measurements @xmath11 , each of which is independently distributed as @xmath12},\\sigma _",
    "i^2 i)$ ] , where @xmath13}$ ] is a subset of elements of @xmath14 .",
    "let @xmath15 be equal to ( or proportional to ) the number of independent measurement of type @xmath4 ( replications of @xmath16 ) collected during the experiment .",
    "then , the weighted least squares estimate @xmath17 of @xmath14 can be shown to have distribution given by ( [ eqny ] ) and ( [ eqnm ] ) .",
    "the matrix @xmath18 depends on the the membership of subsets @xmath13}$ ] and variances @xmath19 ( assumed known ) , for @xmath20 .",
    "we assume that the design variables are constrained to be positive and , in addition , satisfy @xmath21 linear inequality constraints .",
    "these can be written as @xmath22 , where @xmath23 is an @xmath24 matrix and @xmath25 is @xmath26 vector .",
    "we think of this type of constraint as a budgetary one , that specifies upper limits on weighted sums of the design variables .    now the e - optimal design problem is given by @xmath27",
    "the objective function , @xmath28 , is the minimum information over all flows .",
    "note that this corresponds to minimizing the maximum mean squared error ( mse ) since @xmath29 is the mse in the estimate of @xmath2 .",
    "using maximum mse as the objective function corresponds to aiming for the best possible worst case performance .",
    "as an example consider the situation where @xmath30 and @xmath31 .",
    "further assume the constraint @xmath32    figure [ objcont1 ] shows the contours of the objective function , that is , @xmath28 .",
    "the region below the thick line is the constraint space . as usual",
    ", the optimal solution corresponds to the point where the contour of the objective function is `` tangent '' to the boundary of the constraint space .",
    "it is clear that the optimal design would be @xmath33 , which is also reasonable from the symmetry of the setup .",
    "we now extend the above criteria to the optimal design for random walks in a steady state .",
    "consider a collection of _ independent _ random walks @xmath34 for @xmath35 and @xmath36 the term @xmath37 is called the innovation noise and we assume that @xmath38 , which is referred to as the innovation variance . further , suppose we have noisy observations @xmath39 let @xmath40 .",
    "as before , we assume the relation between observed information and design variables to be @xmath41 , with @xmath42 matrix @xmath18 assumed known .",
    "the estimates of interest in this case are the ones obtained through filtering @xmath43.\\ ] ] let @xmath44 .",
    "further , let @xmath45 when it exists .",
    "we will refer to this as the _ steady state information_. when the innovation and measurement noise , @xmath37 and @xmath46 respectively , are gaussian , the optimal filter corresponds to a kalman filter and in this case the steady state always exists [ @xcite ] . for the remainder of the paper",
    "we will assume that @xmath37 and @xmath46 are independent mean 0 gaussian random variables .",
    "if @xmath47 , then the kalman filter update equations give us @xmath48 and @xmath49 note that , given @xmath50 , @xmath19 and @xmath5 , one can calculate @xmath51 at any time @xmath52 by iterating the above equations .",
    "further , the choice of @xmath5 impacts @xmath51 not just for a specific  @xmath52 but for all @xmath52 .",
    "thus , @xmath53 or @xmath54    hence , @xmath55    we define the steady state e - optimal design problem as @xmath56        as an example consider the same setting as above , with @xmath30 and @xmath31 .",
    "further , let the innovation noise be characterized by @xmath57 and @xmath58 .",
    "as before , we assume the design constraint @xmath32 notice in figure [ objcont2 ] that even though there is symmetry in the measured information , the first random walk is smoother than the second one and , hence , less measurement resources need to be allocated to it .",
    "we establish next the main technical result of the paper , that the steady state e - optimal design problem is a second order cone program .",
    "first , we introduce a new variable @xmath59 as the lower bound for the steady state information over all flows . to solve the steady state e - optimal design problem",
    ", we have to maximize @xmath59 subject to @xmath60 for @xmath35 and @xmath61 equation ( [ origcons ] ) can be equivalently written as @xmath62 which is a hyperbolic constraint [ @xcite ] .",
    "thus , this problem can be cast as a second order cone program ( see the for a review of second order cone programs and the representation of the above optimization in canonical form ) .",
    "such optimization programs can be solved efficiently through interior point methods [ @xcite ] , software implementations of which are commonly available [ @xcite , @xcite ] .      in the following , we present a greedy alternative to the steady state optimal design .",
    "as before , assume @xmath63 .",
    "further , we assume that @xmath64 ; that is , we allow for time varying design variables @xmath65 with @xmath66 . as before , @xmath44 .",
    "define the information at time @xmath52 to be given by @xmath67 .",
    "note that @xmath68 is a function of @xmath69    the myopic e - optimal design at time @xmath52 is defined as @xmath70    note that the objective function only involves @xmath68 , that is , the information at time @xmath52 . however , the choice of @xmath65 impacts not just @xmath68 but also @xmath71 due to the iterative nature of kalman filtering .",
    "since it ignores this `` long term impact , '' we refer to this scheme as myopic .",
    "equation  ( [ eqnkf2 ] ) implies that @xmath72 as before , a new variable @xmath59 can be introduced to lower bound @xmath68 which gives a new set of constraints @xmath73 in addition to the original constraint @xmath74 .",
    "now the objective is to maximize  @xmath59 with the optimization variables being @xmath59 and @xmath65 . since both the objective function and the constraints are linear in @xmath65 and @xmath59 , the above optimization is a linear program .",
    "not surprisingly , the myopic optimal design is a much easier problem than the steady - state optimal design even in more general settings as noted in section  [ sec4 ] . note that since the sampling rates are allowed to vary with time , the myopic optimal design may have an objective function larger than the steady state optimal case . however , as the objective of optimization is to maximize present information with no regard to impact on future information , such a scheme can not be guaranteed to perform well in the long run .",
    "the ideas developed above can be used for designing the sampling rate in a computer network for tracking flow volumes . as mentioned in the introduction",
    ", we will use the random walk model for flow volumes due to its simplicity and robustness .",
    "suppose there are @xmath75 origin - destination flows in a network .",
    "let @xmath76 be the volume of the @xmath4th flow in the @xmath52-the time interval , for @xmath35 .",
    "these flow volumes are tracked using sampled data which are noisy .",
    "recall that flows are sampled at router interfaces , which we refer to as observation points . in the past ,",
    "a systematic sampling scheme was the dominant technology , but truly random sampling technologies have recently become available and are commonly deployed [ @xcite ] .",
    "all flows traversing an observation point ( router interface ) experience the same sampling rate .",
    "each incoming edge at a node in figure  [ geant](b ) is an interface of the corresponding router .",
    "each router typically has multiple interfaces and each flow may traverse multiple observation points due to multi - hop paths and multi - path routing .",
    "suppose there are @xmath77 observation points on the network where sampled data on flows can be collected .",
    "further , assume that sampling rates of @xmath78 are used at observation points @xmath79 , respectively .",
    "any given observation point @xmath80 generates estimates for @xmath81 elements of @xmath82 , that is , the number of flows that go through that node .",
    "thus , a total of @xmath83 measurements are available in each time interval @xmath52 , say , @xmath84 , which need to be optimally combined to get the required estimates .",
    "consider the router in figure [ schema ] .",
    "assume that @xmath85 is the observation point at which the @xmath4th measurement is collected , @xmath86 , and @xmath87 the corresponding flow .",
    "thus , @xmath88 and @xmath89 .",
    "further , let @xmath90=x_{l(i)}(t)\\ ] ] and for the moment assume @xmath91 where @xmath92 $ ] . the exact sampling mechanism and approximation involved in the above relation are described in section [ sec3.2 ] .",
    "thus , in vector notation we get @xmath93=lx(t ) , \\label{v1}\\ ] ] where @xmath94 is a @xmath95 matrix with @xmath96 only if @xmath97 ( i.e. , @xmath4th measurement corresponds to @xmath98 flow ) and @xmath99 otherwise and @xmath100 where @xmath101 is a @xmath102 diagonal matrix , with @xmath103_{ii}=\\mu_{l(i)}/\\xi_{k(i)}$ ] . using ( [ approx ] ) , the inverse of @xmath101 is given by @xmath104 , where @xmath105 , @xmath106 , are @xmath102 diagonal matrices with their @xmath4th element given by @xmath107_{ii}=\\cases { 1/\\mu_{l(i)},&\\quad $ \\mbox{if } k = k(i),$\\cr 0,&\\quad $ \\mbox{otherwise}.$}\\ ] ]    let @xmath108 be the general least squares estimate of @xmath82 , under equation ( [ v1 ] ) and  ( [ v2 ] ) .",
    "thus , @xmath109    from the definition of  @xmath94 , it follows that the @xmath98th elements of any two columns of  @xmath94 can not be nonzero simultaneously .",
    "thus , the matrix in ( [ mscov ] ) is diagonal .",
    "further , @xmath110 where @xmath111_{ik}=l_{\\cdot , i}'\\psi_kl_{\\cdot , i } .\\ ] ] we will refer to the above as the linear model .    sampling is employed in network flow measurements because measurement resources like cpu time and available storage are limited .",
    "typically , all observation points ( router interfaces ) belonging to a particular router share these resources .",
    "we assume that the sampling rates are constrained to lie in a convex polygon @xmath112 .",
    "this includes the case where the sum of sampling rates on the interfaces of a router is bounded above by the budget for that router .",
    "we will focus on this constraint for the rest of the paper . in this case",
    ", the constraints are given as one linear inequality for each router .",
    "for the available data , we set up the performance evaluation as follows .",
    "we use the geant network topology , which has @xmath113 nodes ( routers ) and @xmath114 bidirectional edges .",
    "the available data [ @xcite ] correspond to flow volumes over time .",
    "each time interval is equal to 15 minutes .",
    "the original data set spans 4 months , but we focus on the first 200 time intervals to avoid severe non - stationarities inherent in an evolving network .",
    "further , we focus on the top 25% of measured flows by volumes since one is typically interested in tracking heavy flows .",
    "this corresponds to @xmath115 flows .",
    "we assume that sampled data can be collected at each incoming edge of a router and , thus , we have @xmath116 observation points .",
    "we assume that these flows are routed through minimum distance paths , which is a common routing mechanism in wide area networks [ ] .",
    "this leads to @xmath117 and the routing information gives us the mapping @xmath118 and hence the matrix @xmath94 .",
    "matrix @xmath94 is @xmath119 , matrices @xmath120 are all @xmath121 .",
    "we assume that the sum of sampling rates on all interfaces of a router is bounded above by 0.01 , that is , @xmath122 and @xmath123 if observation point @xmath98 is an interface of router @xmath4 and 0 otherwise .",
    "thus , matrix @xmath23 is @xmath124 .",
    "finally , we estimate the @xmath19 and @xmath125 parameters associated with the flow volume processes , and assume they are available for filtering purposes and measurement design . as we have argued ,",
    "both the steady state optimal and myopic design problems are standard optimization programs and once they are written as such , any standard optimization package [ @xcite , ] can be used to solve them numerically .    for the purpose of comparison , we also define a naive sampling scheme as follows . for any given router , an equal sampling rate is allocated to every interface that carries any of the 76 flows of interest .",
    "this allocation is done so as to make the corresponding budget constraint tight .",
    "for example , suppose the @xmath4th router has  5 interfaces , but only 4 of them are traversed by one of the 76 flows of interest .",
    "in this case , each of the latter 4 interfaces will be allocated a sampling rate of @xmath126 , while the remaining interface will be allocated a sampling rate of 0 .",
    "figure  [ linperf](a ) shows the value of the maximum mse as a function of time .",
    "note that as information accumulates over time , we obtain an improvement in performance under all three sampling mechanisms , myopic , naive and steady state optimal . here",
    "performance is measured as the maximum of @xmath51 over all flows , calculated using equations ( [ eqnkf1 ] ) and ( [ eqnkf2 ] ) .",
    "surprisingly , both the myopic and steady state optimal sampling mechanisms perform equally well in the steady state and achieve a 42% improvement over the naive sampling in the steady state .",
    "figure [ linperf](b ) shows that the myopic optimal sampling rates at all observation points reach a steady state .",
    "figure [ spatial ] shows the value of steady state sampling rates at various router interfaces in the network topology .",
    "even though the myopic scheme has the flexibility of time varying sampling rates , if the sampling rates do reach a steady state , its performance can clearly be no better than the steady - state optimal scheme .",
    "however , as figure [ linperf ] shows , in this case , the additional flexibility permits the myopic scheme to reach steady state performance faster than the steady state optimal one .      a more detailed model for flow volumes and sampled measurements would have to include significant departures from the linear model assumed above .",
    "first , the true flow volumes clearly have more structure than independent random walks , as seen in figure [ flowvols ] . in applying the above ideas to the geant data",
    ", we will investigate their robustness to the independent random walk assumption .     and sampling rates at various interfaces under a myopic scheme [ panel ] .",
    "]    a more serious departure is the following .",
    "suppose that a flow with volume @xmath127 in a certain time interval is sampled at a rate @xmath9 . if the number of sampled packets is @xmath128 , then the usual ( approximate maximum likelihood ) estimate of flow volume is @xmath129 .",
    "the variance of measurement noise can be shown to be @xmath130 [ @xcite ] .",
    "thus , @xmath125 in ( [ approx ] ) is actually equal to the unknown @xmath76 .",
    "the observation above implies that in applying the presented techniques to sampled network data , one would have to rely on an approximate model for measurements @xmath131 .",
    "we will follow an approach similar to batch sequential design [ @xcite ] .",
    "assume that the sampling rates are to be held constant for a batch of contiguous time intervals .",
    "at the beginning of each batch , we use the most recent estimate @xmath132 in place of @xmath125 in ( [ lin ] ) for sampling rate design . for filtering purposes",
    ", we employ a kalman filter with @xmath132 in place of @xmath125 in equation  ( [ lin ] ) at each time @xmath52 .",
    "we replace the budget constraint inequalities @xmath22 with the corresponding equalities @xmath133 to force full utilization of available resources . for routers that are traversed by at least one of the 76 flows of interest ,",
    "we introduce additional equality constraints as follows .",
    "design variable @xmath134 for an interface  @xmath135 not traversed by one of the 76 flows of interest is constrained to be identically 0 .",
    "figure [ batch ] shows the performance of different sampling schemes averaged over 200 realizations of sampled data .",
    "the sampled data emulate the exact sampling mechanism described above ( with respective sampling rates ) with the geant data treated as the underlying ( unobserved ) flow volumes .",
    "sampling rates were adjusted only at the beginning of a 40 time period block and were held constant over each block . in the first block , the sampling rates were forced to be the same as the naive scheme irrespective of the sampling mechanism under study .",
    "notice that for low values of the objective function ( maximum mean squared error ) the myopic and steady state allocations perform better than the naive allocation . on the other hand , when the maximum mean squared error spikes , the naive allocation performs better , indicating robustness to model departures .",
    "the median ( over time periods 41 to 200 ) of maximum mse for myopic , naive and steady - state optimal sampling is @xmath136 , @xmath137 and @xmath138 , respectively .",
    "thus , the myopic scheme performs better than the steady state optimal scheme , which in turn performs better than the naive scheme .",
    "finally , we look at the performance of the myopic allocation when the above scheme is employed with a block size of just one time interval ; that is , sampling rates were adjusted at the beginning of each time period using the myopic scheme .",
    "the results are displayed in figure [ eachp ] .",
    "as before , the current estimate of flow volumes is used in place of @xmath125 in equation ( [ lin ] ) for both filtering and myopic sampling scheme design .",
    "the myopic sampling scheme can be seen to perform better than the naive version in most time periods .",
    "the median ( over time periods 1 to 200 ) of maximum mse is @xmath139 and @xmath140 for myopic and naive sampling , respectively .",
    "the _ specification _ of the steady state optimal design problem can be easily generalized to linear dynamical systems .",
    "such systems are described by a pair of equations [ @xcite ] .",
    "the state transition equation can be written as @xmath141 where @xmath142 .",
    "the observation equation can be written as @xmath143 assume @xmath144 , where @xmath145 is a linear function and @xmath9 is the value of design variables .    for the above dynamical system a kalman filter can be used to iteratively compute @xmath146 $ ] .",
    "let the steady state estimation error covariance be @xmath147 ( assuming the system is observable [ @xcite ] ) .",
    "then , @xmath148 satisfies the algebraic riccati equation : @xmath149 such equations have no analytic solution in general .",
    "the steady state optimal design problem can now be defined as @xmath150 where @xmath151 is an appropriate scalarization of the information matrix [ @xcite ] .",
    "an interesting open problem is to solve the above optimization efficiently in the absence of an analytic solution to ( [ eqnare ] ) .",
    "the sensor placement problem in control system literature [ @xcite ] is equivalent , though not identical .",
    "the newton - type algorithm proposed in [ @xcite ] for this problem requires the solution of the algebraic riccati equation at each iteration of the algorithm .",
    "it would be desirable to develop more efficient algorithms .    in summary",
    ", we have shown that steady state e - optimal design for random walks is a second order cone program .",
    "we have illustrated numerically that the performance of the kalman filter can be significantly improved by incorporating an optimal experimental design .",
    "the linear state space model is of general interest and one would like to investigate the steady state optimal design problem described above .",
    "finally , from a practical point of view , it would be useful to extend these ideas to nonlinear filtering .",
    "in this section we summarize the concepts of second order cone programs and hyperbolic constraints from @xcite .",
    "we also present the steady state optimal design problem in the canonical form .",
    "a second order cone program is defined as @xmath152 here , @xmath153 is the optimization variable , and the problem parameters are @xmath154 , @xmath155 , @xmath156 , @xmath157 and @xmath158 .",
    "the norm in the constraints is the standard euclidean norm .",
    "a second order cone program is a standard convex program and algorithms to numerically solve it are well studied and implemented in computational software .",
    "a constraint of the form @xmath159 is called hyperbolic .",
    "the above can be shown to be equivalent to @xmath160    using the above representations , we can write the steady state optimal design problem as a canonical second order cone program as follows . equation ( [ hyperbolic ] ) can be equivalently written as @xmath161    thus , the steady state optimal problem is a second order cone program with @xmath162 , @xmath163 , @xmath164 , @xmath165 for @xmath35 and @xmath166 , for @xmath167 , @xmath168 , for @xmath35 and @xmath169 , for @xmath167 , @xmath170 , for @xmath35 and @xmath171 , for @xmath167 , @xmath172 , for @xmath35 and @xmath173 , for @xmath167 .",
    "the authors would like to thank the editor steve fienberg , the associate editor and two referees for helpful comments and suggestions .",
    "barford , p. , kline , j. , plonka , d. and ron , a. ( 2002 ) . a signal analysis of network traffic anomalies . in _",
    "imw02 : proceedings of the 2nd acm sigcomm workshop on internet measurment _ 7182 .",
    "acm press , new york .",
    "duffield , n. , lund , c. and thorup , m. ( 2002 ) .",
    "properties and prediction of flow statistics from sampled packet streams . in _",
    "imw02 : proceedings of the 2nd acm sigcomm workshop on internet measurment _ 159171 .",
    "acm press , new york .",
    "duffield , n. , lund , c. and thorup , m. ( 2004 ) .",
    "flow sampling under hard resource constraints . in _",
    "sigmetrics04/performance04 : proceedings of the joint international conference on measurement and modeling of computer systems _ 8596 .",
    "acm press , new york .",
    "gautier , r. and pronzato , l. ( 1998 ) .",
    "sequential design and active control . in _",
    "new developments and applications in experimental design _ ( n. flournoy , w.  f. rosenberger and w.  k. wong , eds . ) 138151 .",
    "ims , hayward , ca .",
    "grant , m. and boyd , s. ( 2009 ) .",
    "cvx : matlab software for disciplined convex programming ( web page and software ) .",
    "available at http://stanford.edu/\\textasciitilde boyd / cvx[http://stanford.edu/\\textasciitilde boyd / cvx ] .",
    "harvey , a. c. ( 1990 ) .",
    "_ forecasting , structural time series models and the kalman filter_. cambridge univ .",
    "press , cambridge .",
    "soule , a. , lakhina , a. , taft , n. , papagiannaki , k. , salamatian , k. , nucci , a. , crovella , m. and diot ,  c. ( 2005 ) .",
    "traffic matrices : balancing measurements , inference and modeling . in _ proceedings of the joint international conference on measurement and modeling of computer systems_. acm press , new york ."
  ],
  "abstract_text": [
    "<S> we examine the problem of optimal design in the context of filtering multiple random walks . specifically , we define the steady state e - optimal design criterion and show that the underlying optimization problem leads to a second order cone program . </S>",
    "<S> the developed methodology is applied to tracking network flow volumes using sampled data , where the design variable corresponds to controlling the sampling rate . </S>",
    "<S> the optimal design is numerically compared to a myopic and a naive strategy . </S>",
    "<S> finally , we relate our work to the general problem of steady state optimal design for state space models .    . </S>"
  ]
}