{
  "article_text": [
    "a subgroup @xmath13 is _ separable _ if it is an intersection of finite - index subgroups of @xmath1 ; equivalently , for every @xmath14 there exists a finite - index subgroup @xmath15 such that @xmath16 but @xmath17 .",
    "a group is _ subgroup separable _ if every finitely generated subgroup is separable .",
    "note that if @xmath1 is subgroup separable and @xmath13 is a subgroup then @xmath4 is also subgroup separable .",
    "a group @xmath1 has solvable _ generalized word problem _ if there exists an algorithm that , given an element @xmath18 and a finite subset @xmath19 , determines whether or not @xmath20 .",
    "just as residually finite groups have solvable word problem , so subgroup separable groups have solvable generalized word problem .",
    "we will also consider the separability of double cosets .",
    "if @xmath4 and @xmath21 are subgroups of @xmath1 and @xmath18 , the double coset @xmath22 is separable if , whenever @xmath23 , there exists a finite - index subgroup @xmath24 , containing @xmath21 , such that @xmath25 .    the group @xmath1 is called _ coset separable with respect to @xmath4 _ if , for every finitely generated subgroup @xmath26 and every @xmath18 , the double coset @xmath22 is separable .",
    "subgroup separability has a beautiful topological reformulation .",
    "we work in the category of combinatorial complexes and combinatorial maps .",
    "if @xmath1 is the fundamental group of a complex @xmath27 then the separability of the subgroup @xmath4 can be reformulated in terms of a condition on the covering of @xmath27 corresponding to @xmath4",
    ".    [ topological interpretation ] let @xmath27 be a connected complex , @xmath4 a subgroup of @xmath28 and @xmath29 the ( connected ) covering corresponding to @xmath4 .",
    "the following are equivalent .    1 .",
    "the subgroup @xmath4 is separable .",
    "2 .   for any finite subcomplex @xmath30",
    "there exists a finite - sheeted intermediate covering @xmath31 so that @xmath32 embeds in @xmath33 .",
    "fix basepoints @xmath34 and @xmath35 .",
    "suppose @xmath4 is separable and @xmath30 is a finite subcomplex .",
    "for each cell @xmath36 fix a choice of barycentre @xmath37 , in such a way that if cells @xmath38 and @xmath39 have the same image in @xmath27 then @xmath40 .",
    "choose paths @xmath41 in @xmath42 from @xmath43 to @xmath44 and denote by @xmath45 the reverse path from @xmath44 to @xmath43 .",
    "for each distinct pair of cells @xmath46 with @xmath47 the concatenation of paths @xmath48 lies in @xmath49 but not in @xmath4 .",
    "since @xmath4 is separable , for each such pair @xmath50 there exists a finite - index subgroup @xmath51 with @xmath52 but @xmath53 .",
    "define a finite - sheeted covering @xmath54 by @xmath55 where the intersection ranges over each all pairs of cells @xmath56 with @xmath47 .",
    "then @xmath32 embeds in @xmath33 by construction .",
    "conversely , suppose every finite subcomplex of @xmath42 embeds in a finite - sheeted cover and let @xmath57 .",
    "fix a combinatorial loop representing @xmath9 and consider its based lift @xmath58\\to x^h$ ] with @xmath59 . since @xmath60 , @xmath61 . by the supposition",
    ", there exists a finite - sheeted intermediate covering @xmath33 such that the image of @xmath62 embeds in @xmath33 .",
    "in particular , @xmath63 . hence , @xmath4 is separable .",
    "a group @xmath1 _ retracts onto _ a subgroup @xmath4 if the inclusion map @xmath64 has a left - inverse @xmath65 . in this case",
    "the map @xmath65 is called a _ retraction _ and the subgroup @xmath4 is called a _",
    "retract_.    a group @xmath1 _ virtually retracts onto _ a subgroup @xmath4 if there exists a finite - index subgroup @xmath15 containing @xmath4 and a retraction @xmath66 .",
    "if @xmath1 virtually retracts onto all its finitely generated subgroups then @xmath1 is said to have _ local retractions _ or _",
    "property lr_.    finitely generated abelian groups have local retractions .",
    "hall s theorem asserts that every finitely generated subgroup @xmath4 of a free group @xmath5 is a free factor in a subgroup @xmath67 of finite index ; in particular , @xmath4 is a retract of @xmath6 , so @xmath5 has local retractions .",
    "notice that having local retractions passes to subgroups .",
    "having local retractions is a strong property , with many deep consequences . for more information ,",
    "see @xcite .",
    "we will mention just one such consequence . recall that a map of metric spaces @xmath68 is a _ quasi - isometric embedding",
    "_ if there exist constants @xmath69 and @xmath70 such that , for all @xmath71 , @xmath72 a finitely generated subgroup @xmath4 of a finitely generated group @xmath1 is _ quasi - isometrically embedded _ if , for some choice of finite generating sets and associated word metrics , the inclusion map @xmath64 is a quasi - isometric embedding .",
    "this is in fact independent of the choices of generating sets .",
    "since the word metric on a group is only well - defined up to quasi - isometry , this is a natural notion of good geometric behaviour for a subgroup .",
    "[ lr implies qi embedded subgroups ] if a finitely generated group @xmath1 virtually retracts onto a finitely generated subgroup @xmath4 then @xmath4 is quasi - isometrically embedded .",
    "there exists finite - index @xmath15 and a retraction @xmath73 .",
    "since @xmath6 decomposes as @xmath74 there is a finite generating set for @xmath6 of the form @xmath75 where @xmath76 and @xmath77 . in the word metric with respect to this generating set , the inclusion @xmath16 is an isometric embedding .",
    "but @xmath78 is a quasi - isometry , so @xmath64 is a quasi - isometric embedding .",
    "the proof of our main technical result , theorem [ main theorem ] , is inspired by stallings famous proof of hall s theorem @xcite which we outline here .",
    "[ immersions of graphs ] let @xmath79 be an immersion of finite graphs",
    ". then @xmath80 embeds in some finite graph @xmath33 and there exists a covering map @xmath54 extending @xmath79 .    we postpone the proof of this to subsection [ subsection stallings principle ] .",
    "[ hall s theorem for free groups ] finitely generated free groups are subgroup separable and have local retractions .",
    "let @xmath5 be a finitely generated free group and @xmath4 a finitely generated subgroup .",
    "realize @xmath5 as the fundamental group of some finite graph @xmath27 , in which case @xmath4 corresponds to a covering @xmath81 .",
    "let @xmath32 be a finite subgraph of @xmath42 .",
    "since @xmath4 is finitely generated , there exists a finite connected subgraph @xmath82 so that the inclusion map is a @xmath83-isomorphism . enlarging @xmath80 if necessary",
    ", it can be assumed that @xmath84 .",
    "the restriction of the covering map @xmath79 is an immersion of finite graphs . by theorem [ immersions of graphs ] ,",
    "@xmath80 can be completed to a finite - sheeted cover @xmath33 into which @xmath32 embeds . since @xmath80 is a subgraph of @xmath33",
    ", @xmath4 is a free factor and , in particular , a retract of @xmath85 .",
    "we aim to prove a version of theorem [ immersions of graphs ] in the context of graphs of spaces ( or , equivalently , graphs of groups  see subsection [ subsection graphs of spaces ] ) .",
    "three general theorems have been proved about subgroup separability of graphs of groups .",
    "one concerns the amalgamation of a subgroup separable group and a free group @xcite .",
    "another concerns graphs of free groups @xcite . in @xcite",
    ", we proved that elementarily free groups are subgroup separable .",
    "( elementarily free groups can be constructed inductively by gluing surfaces along their boundaries . ) in all these theorems , at least one vertex group of the graph of groups is free .",
    "free groups play such a key role because theorem [ immersions of graphs ] provides great flexibility in constructing finite - index subgroups of free groups with special properties .",
    "the flexibility required in @xcite , @xcite and @xcite is similar to the following corollary of theorem [ immersions of graphs ] .",
    "a collection @xmath86 of elements of a group @xmath1 is _ independent _ if , whenever there exists @xmath87 such that @xmath88 and @xmath89 commute , then in fact @xmath90 .    [ motivating example ]",
    "let @xmath27 be a graph and let @xmath91 be finitely generated .",
    "let @xmath81 be the covering corresponding to @xmath4 and @xmath30 a finite subcomplex .",
    "let @xmath92 be a finite independent set of elements of @xmath28 that each generate a maximal cyclic subgroup .",
    "for each @xmath93 , consider a finite collection of conjugates @xmath94 , such that @xmath95 for each @xmath96 and @xmath97 .",
    "then for all sufficiently large positive integers @xmath98 there exists a finite - sheeted intermediate covering @xmath99 such that :    1 .",
    "no distinct @xmath100 and @xmath101 are conjugate in @xmath85 ; 2 .",
    "@xmath102 for each @xmath96 and @xmath97 ; 3 .",
    "@xmath32 embeds into @xmath33 ; 4 .",
    "there exists a retraction @xmath103 and @xmath104 for each @xmath96 and @xmath97 .",
    "note that corollary [ motivating example ] implies corollary [ hall s theorem for free groups ] .",
    "fix a basepoint @xmath105 and let @xmath106 be the universal covering . since @xmath4 is finitely generated there exists some connected finite subgraph @xmath82 such that the inclusion map is a @xmath83-isomorphism . enlarging @xmath80",
    "we can assume that it contains @xmath32 and the basepoint @xmath107 .",
    "note that @xmath108 is a forest .",
    "denote the universal covering map @xmath109 by @xmath110 . identifying each loop @xmath100 with a based map @xmath111",
    ", each concatenation @xmath112 lifts to a based map @xmath113 and further to @xmath114 where we have dropped the @xmath96 s for notational convenience .",
    "since @xmath95 the @xmath115 are proper .",
    "each @xmath116 contains @xmath117 in its image .",
    "if the intersection of the images of @xmath118 and @xmath119 contains an infinite ray then , for some @xmath120 , the intersection @xmath121 contains an infinite ray .",
    "therefore , for some integers @xmath122 and @xmath123 , the element @xmath124 fixes a point in @xmath125 and so is trivial , whence @xmath126 and @xmath127 . enlarging @xmath80",
    "still further we can also assume that , for all sufficiently large @xmath98 :    1 .",
    "each @xmath118 restricts to an arc @xmath128\\to x';\\ ] ] of combinatorial length @xmath98 times the combinatorial length of @xmath93 ; 2 .   for any distinct @xmath100 and @xmath129 , @xmath130    by identifying each @xmath131 with @xmath132",
    "we obtain an immersion @xmath133 such that @xmath134 for every @xmath96 and @xmath97 .",
    "applying theorem [ immersions of graphs ] to @xmath135 gives the required cover @xmath33 .",
    "note that @xmath80 is a subgraph of @xmath33 so @xmath4 is a free factor of @xmath85 and , in particular , a retract .    in the terminology of section [ constructing finite - sheeted covers section ] ,",
    "corollary [ motivating example ] asserts that the cover @xmath42 is tame over the set @xmath92 .",
    "the lifts @xmath118 are elevations and @xmath80 is a pre - cover .",
    "the proof of corollary [ motivating example ] makes use of the fact that the action of @xmath28 on the tree @xmath125 is free . in extending these ideas to limit groups",
    ", the key observation is that a similar construction can be made when we make the weaker assumption that an action on a tree is _ acylindrical _ ( see lemma [ ensuring disparity ] )",
    ".      the fundamental groups of graphs are always free groups .",
    "the groups we consider will usually not be free , so we need a more general notion .",
    "graph of spaces _ @xmath136 consists of :    1 .   a set @xmath137 of connected spaces , called _",
    "vertex spaces _ ; 2 .",
    "a set @xmath138 of connected spaces , called _",
    "edge spaces _ ; 3 .   for each edge space",
    "@xmath139 a pair of @xmath83-injective continuous _ edge maps _",
    "@xmath140 when the edge in question is unambiguous , we often suppress the superscript and refer to @xmath141 simply as @xmath142 .    the associated topological space @xmath143 is defined as the quotient of @xmath144)\\ ] ] obtained by identifying @xmath145 with @xmath146 for each edge space @xmath147 and every @xmath148 .",
    "we will usually assume that @xmath143 is connected .",
    "if @xmath149 we will often say that _",
    "@xmath136 is a graph - of - spaces decomposition for @xmath27 _ , or just that _ @xmath27 is a graph of spaces_. the _ underlying graph _ of @xmath136 is the abstract graph given by replacing every vertex and edge space of @xmath136 by a point .",
    "if @xmath27 is the topological space associated to the graph of spaces @xmath136 , the underlying graph is denoted @xmath150 .",
    "note that there is a natural @xmath83-surjective map @xmath151 .    given a graph of spaces @xmath27 ,",
    "consider a subgraph @xmath152 .",
    "the corresponding graph of spaces @xmath153 has a natural inclusion @xmath154 and is called a _ sub - graph of spaces _ of @xmath27 .",
    "if @xmath27 and @xmath155 are graphs of spaces , a map @xmath68 is a _ map of graphs of spaces _ if , whenever @xmath156 is a sub - graph of spaces of @xmath155 , the pre - image @xmath157 is a sub - graph of spaces of @xmath27 .",
    "a connected sub - graph of spaces @xmath158 with finite underlying graph such that the inclusion map is a @xmath83-isomorphism is called a _ core _ for @xmath27 .",
    "note that if @xmath28 is finitely generated then a core always exists .",
    "the fundamental group of a graph of spaces is naturally a graph of groups by the seifert  van kampen theorem . for more on graphs of spaces , graphs of groups and bass ",
    "serre theory see @xcite and @xcite .",
    "our notation for graphs of spaces is different to that of @xcite .",
    "fix a finitely generated non - abelian free group @xmath2 of rank at least 2 .",
    "a group @xmath1 is _ residually free _ if , for any @xmath159 , there exists a homomorphism @xmath160 with @xmath161 .",
    "likewise , @xmath1 is _ fully residually free _ ( or _ @xmath162-residually free _ )",
    "if , for any finite subset @xmath19 , there exists a homomorphism @xmath160 such that @xmath163 is injective .",
    "a finitely generated , fully residually free group is called a _",
    "limit group_.    sela s original definition of limit groups is different , but the two definitions are equivalent ( see @xcite , definition 1.2 and theorem 4.6 ) .",
    "we will need three related properties of limit groups .",
    "a group is _ csa _ ( standing for _ conjugately separated abelian _ ) if every maximal abelian subgroup is malnormal .",
    "let @xmath136 be a graph - of - groups decomposition for a group @xmath1 , so @xmath1 acts on the bass  serre tree @xmath164 .",
    "endow @xmath164 with a geodesic metric in which every edge has length 1 . then @xmath136 is _",
    "@xmath165-acylindrical _ if , for every @xmath159 , the set of fixed points of the action of @xmath9 on @xmath164 is either empty or has diameter at most @xmath165 . if @xmath136 is @xmath165-acylindrical for some finite @xmath165 then @xmath136 is called _",
    "acylindrical_.    [ limit group properties ] let @xmath1 be a limit group and consider a non - trivial decomposition @xmath136 of @xmath1 as an amalgamated free product @xmath166 with @xmath167 abelian .    1 .",
    "@xmath1 is csa .",
    "2 .   suppose @xmath168 is a non - cyclic abelian subgroup .",
    "then @xmath169 is conjugate into @xmath170 or @xmath171 .",
    "@xmath136 is 2-acylindrical .    for the proofs of these assertions",
    ", see lemmas 1.4 , 2.1 and 2.3 of @xcite .",
    "there is a powerful structure theory for limit groups .",
    "let @xmath172 be a group and @xmath173 the centralizer of an element .",
    "then the group @xmath174 is said to be obtained from @xmath172 by _ extension of a centralizer_. we call @xmath175 the _ extended centralizer_.    let @xmath3 ( standing for _ iterated centralizer extension _ ) be the smallest class of groups containing all finitely generated free groups that is closed under extension of centralizers .",
    "a group in @xmath3 is called an @xmath3 group .",
    "all @xmath3 groups are limit groups ( see , for example , theorem 4.15 of @xcite ) .",
    "suppose @xmath1 is obtained from @xmath176 by extensions of a centralizer and the centralizer @xmath177 is non - cyclic . by assertion 1 of lemma [ limit group properties ] , @xmath177 is abelian . by assertion 2 of lemma [ limit group properties ] and induction , @xmath177 is conjugate to some previous extended centralizer @xmath178 .",
    "it follows that , in the construction of @xmath3 , it can always be assumed that @xmath177 is cyclic .",
    "every @xmath179 has a natural finite @xmath8 , constructed as follows .",
    "if @xmath1 is free then @xmath8 can be taken to be a compact graph of suitable rank .",
    "if @xmath1 is obtained from @xmath172 by extension of a ( cyclic ) centralizer and @xmath180 then given an essential closed curve @xmath181 representing a generator of @xmath177 and a coordinate circle @xmath182 , a suitable @xmath183 can be obtained from @xmath184\\times s^1 ) \\sqcup t\\ ] ] by identifying @xmath185\\times s^1 $ ] with @xmath186 .",
    "we call the resulting class of spaces _ @xmath3 spaces_. note that each @xmath3 space @xmath27 has an associated graph - of - spaces decomposition with vertex spaces @xmath155 and @xmath164 and edge space a circle .",
    "the importance of the class @xmath3 lies in the following theorem of o.  kharlampovich and a.  miasnikov .",
    "[ limit groups embed in ice groups ] a group is a limit group if and only if it is a finitely generated subgroup of an @xmath3 group .",
    "another proof using different techniques is given in @xcite .    our strategy to prove theorems [ theorem a ] and [ theorem b ] is to prove them by induction for all @xmath3 groups , since subgroup separability and local retractions both pass to subgroups . as mentioned in subsection [ motivating example subsection ] ,",
    "all previous combination theorems for subgroup separability rely on some of the vertex groups being free .",
    "this is not true of @xmath3 groups .",
    "therefore we will need to prove a strong result , analogous to corollary [ motivating example ] , for all groups in @xmath3 .",
    "let @xmath27 be a graph of spaces and @xmath79 a covering map .",
    "then @xmath80 inherits a graph - of - spaces decomposition .",
    "we want to understand the edge maps of @xmath80 . to do this we study _ elevations _ , natural generalizations of lifts that were introduced by wise in @xcite .",
    "[ elevation definition ] consider a continuous map of connected based spaces @xmath187 and a covering @xmath188 .",
    "an _ elevation _ of @xmath189 to @xmath190 consists of a connected covering @xmath191 and a lift @xmath192 of @xmath193 so that for every intermediate covering @xmath194 there is no lift @xmath195 of @xmath196 to @xmath190 with @xmath197 .",
    "two elevations @xmath198 and @xmath199 are _ isomorphic _ if there exists a homeomorphism @xmath200 , covering the identity map on @xmath170 , such that @xmath201     that is the wedge of two loops@xmath202 ( which is dashed ) and @xmath203and a covering space @xmath204 .",
    "the dashed lines are the images of the elevations of @xmath202 to @xmath204 and the solid lines are the images of the elevations of @xmath203 to @xmath204 .",
    "one elevation of @xmath202 is of finite degree .",
    "all the other elevations are of infinite degree.,scaledwidth=70.0% ]    a simple example of some elevations is illustrated in figure [ elevation to cover figure ] . in practice , we will often abuse notation and refer to just the lift @xmath205 as an elevation of @xmath189 .",
    "[ definition of degree ] the _ degree _ of the elevation @xmath206 , denoted @xmath207 , is the _ conjugacy class _ of the subgroup @xmath208 .",
    "if @xmath209 is of finite index in @xmath210 then @xmath205 is called _ of finite degree _ ; otherwise , @xmath205 is _ of infinite degree_.    [ elevations of homotopic maps ] consider a map @xmath211 and an elevation @xmath212 .",
    "let @xmath213\\to b$ ] be a free ( unbased ) homotopy taking @xmath214 to @xmath215 .",
    "then @xmath10 lifts to a homotopy @xmath216\\to b'$ ] taking @xmath217 to @xmath218 .",
    "now @xmath219 is an elevation of @xmath220 .    in the light of remark [ elevations of homotopic maps ]",
    ", it makes sense to consider elevations of a map defined up to free homotopy .",
    "if @xmath27 has a graph - of - spaces decomposition @xmath136 and @xmath79 is a covering space then @xmath80 inherits a graph - of - spaces decomposition @xmath221 , with vertex spaces the connected components of the pre - images of the vertex spaces of @xmath27 and edge spaces and maps given by all the ( isomorphism classes of ) elevations of the edge maps to the vertex spaces of @xmath80 .    if @xmath222 and @xmath223 are both elevations of @xmath224 and @xmath225 for some @xmath226 then @xmath219 and @xmath227 are isomorphic .",
    "elevations can also be understood algebraically , in terms of fundamental groups .",
    "[ covering space theory ] let @xmath228 and @xmath188 be as in definition [ elevation definition ] .",
    "fix a lift @xmath229 of @xmath230 , so @xmath231 is identified with a subgroup of @xmath232 . consider the covering @xmath233 such that @xmath234 the composition @xmath193 admits a lift @xmath192 to @xmath190 , which is an elevation of @xmath189 .",
    "every elevation of @xmath189 to @xmath190 arises in this way .",
    "the proof is standard covering - space theory .",
    "see , for example , proposition 1.33 of @xcite",
    ".    fix @xmath235 .",
    "the terminus of the lift at @xmath236 of @xmath9 to @xmath190 gives a well - defined new basepoint @xmath237 , and so defines an elevation @xmath238 of @xmath189 with @xmath239 note that @xmath240 .",
    "when do two elements of @xmath232 yield isomorphic elevations ?    [ double cosets ] consider the situation of lemma [ covering space theory ] .",
    "let @xmath241 and let @xmath242 be the elevation of @xmath189 such that @xmath243 then @xmath219 and @xmath227 are isomorphic elevations if and only if @xmath244 in @xmath245 .",
    "suppose @xmath219 and @xmath227 are isomorphic , so there exists a covering transformation @xmath200 such that @xmath246",
    ". let @xmath247 be a path from @xmath248 to @xmath249 .",
    "fix representative loops for @xmath250 and @xmath251 , and let @xmath252 and @xmath253 be their respective lifts at @xmath236 to @xmath190 .",
    "the concatenation @xmath254 makes sense and determines an element of @xmath231 . since the image @xmath255 of @xmath256 in @xmath170 determines an element of @xmath257 , we have @xmath258 .",
    "it follows that @xmath244 as required .",
    "now suppose that @xmath259 then there exists @xmath260 such that @xmath258 and so @xmath261 since @xmath262 , @xmath263 let @xmath256 be the lift at @xmath248 of @xmath255 to @xmath264 . by standard covering space theory",
    ", there exists a covering transformation @xmath200 so that @xmath249 is the terminus of @xmath256 .",
    "since @xmath265 and @xmath219 are elevations of @xmath189 that agree at @xmath266 it follows that @xmath267 .",
    "henceforth , we will often suppress mention of basepoints . to summarize the above discussion , the ( isomorphism classes of ) elevations of a map @xmath224 to a cover @xmath190",
    "are identified with the set of double cosets @xmath268    consider a map @xmath224 , a connected covering @xmath188 and an elevation @xmath192 of @xmath189 .",
    "let @xmath269 be an intermediate covering .",
    "then there exists a unique elevation @xmath270 of @xmath189 such that @xmath271 factors through @xmath272 and the diagram    @xmath273 commutes , determined by the requirement that @xmath274 .",
    "in the situation of the previous paragraph , we say @xmath205 _ descends to @xmath195_.    if @xmath275 is injective on @xmath276 then @xmath205 descends to the composition @xmath277 ; in particular , @xmath278 . furthermore , if @xmath198 and @xmath199 are non - isomorphic elevations of @xmath189 descending to @xmath279 and @xmath280 respectively , and @xmath281 is injective on @xmath282 , then @xmath279 and @xmath283 are non - isomorphic .",
    "as one might expect , elevations to normal covers behave well .",
    "[ elevations to normal covers ] consider a map @xmath187 and a normal covering @xmath284 for any elevation @xmath285 of @xmath189 to @xmath286 :    1 .",
    "@xmath287 is a normal cover of @xmath170 ; 2 .",
    "@xmath288 descends to a monomorphism @xmath289 3 .   and",
    "@xmath290 is @xmath210-equivariant  that is , for @xmath291 , @xmath292 where @xmath293 denotes the covering transformation by which @xmath9 acts on @xmath287 and , likewise , @xmath294 acts on @xmath286 by @xmath295 .    since @xmath296 is a normal subgroup of @xmath210",
    ", @xmath287 is a normal cover .",
    "since @xmath296 , @xmath288 descends to an injective map @xmath297 . both @xmath298 and @xmath299",
    "are elevations of @xmath189 that map @xmath300 to the terminus of the lift at @xmath301 of @xmath302 to @xmath286 .",
    "so they are equal .",
    "as remarked in subsection [ subsection graphs of spaces ] , a graph of spaces @xmath27 is equipped with a map to the underlying graph @xmath151 .",
    "one makes @xmath150 into a graph of groups by labelling each vertex and edge with the fundamental group of its pre - image .",
    "if @xmath303 is the universal covering then the underlying graph @xmath304 is naturally identified with the bass  serre tree of @xmath150 and the map @xmath305 is @xmath28-equivariant .",
    "( there is a subtlety here to do with basepoints .",
    "the action on @xmath125 and the action on @xmath304 both depend on choices of basepoints .",
    "the map @xmath306 is equivariant if it maps the basepoint of @xmath125 to the basepoint of @xmath304 . ) more generally , if @xmath81 corresponds to the subgroup @xmath307 then the underlying graph @xmath308 is naturally identified with the quotient graph @xmath309 .    it is a fundamental fact about the action of a group @xmath1 on a tree that every @xmath18 either fixes a point or acts by translating an embedded line , denoted @xmath310 ( see , for instance , @xcite ) .",
    "elements of the first sort are called elliptic and elements of the second sort are called hyperbolic . accordingly",
    ", a loop @xmath311 is called _ elliptic _ if it is freely homotopic into a vertex space ; otherwise , it is called _ hyperbolic_.    [ axis in elevation ] let @xmath312 be a ( based ) graph of spaces and let @xmath313 be the ( based ) universal cover .",
    "let @xmath311 be a ( based ) loop and let @xmath314 be the elevation to @xmath125 corresponding to the coset @xmath315 .",
    "then @xmath316 is a @xmath317-invariant subspace ( using the notation of lemma [ elevations to normal covers ] ) .",
    "therefore :    1 .",
    "if @xmath318 is elliptic then @xmath319 contains a @xmath320-invariant vertex ; 2 .",
    "if @xmath318 is hyperbolic then @xmath319 contains @xmath321 .",
    "let @xmath293 be the covering transformation of @xmath125 corresponding to @xmath9 .",
    "since @xmath322 is the elevation of @xmath318 at the terminus of the lift of @xmath9 at @xmath323 it follows that @xmath324 is the elevation of @xmath318 at @xmath323 . by lemma [ elevations to normal covers ] , therefore , @xmath324 is a @xmath318-equivariant map .",
    "hence @xmath322 is a @xmath320-equivariant map .",
    "as @xmath305 is also equivariant we have that @xmath319 is @xmath320-invariant .",
    "it is a fact about group actions on trees that any subtree invariant under the action of a hyperbolic element contains the axis and any subtree invariant under the action of an elliptic element contains a fixed point .",
    "the fact that an ice group decomposes as an acylindrical graph of groups has profound implications for the structure of limit groups .",
    "[ proper loops defn ] let @xmath27 be a graph of spaces and consider an arbitrary covering @xmath79 with @xmath325 finitely generated ; let @xmath326 be the map to the underlying graph . a loop @xmath327 is called _ proper _ if , for any such covering @xmath80 and any elevation @xmath256 of @xmath255 to @xmath80 , the composition map @xmath328 is a proper map .    in the case",
    "when @xmath27 really is a graph , all loops are proper .",
    "[ loops in graphs are proper ] let @xmath27 be a compact graph",
    ". then any loop @xmath329 is proper .",
    "let @xmath79 be a covering with @xmath330 finitely generated and let @xmath331 be an elevation .",
    "if @xmath332 is compact then there is nothing to prove , so assume that @xmath333 .",
    "let @xmath125 be the universal cover of @xmath27 and let @xmath334 be the minimal @xmath4-invariant subtree .",
    "if @xmath256 is not proper then @xmath335 intersects @xmath334 in infinitely many vertices and therefore an infinite ray .",
    "consider a vertex @xmath336 of @xmath334 .",
    "there are only finitely many @xmath4-orbits of vertices in @xmath334 so , for some integer @xmath123 and some element @xmath120 , @xmath337 fixes @xmath336 .",
    "as the action on @xmath125 is free it follows that @xmath338 , so @xmath332 is compact , contradicting the assumption that @xmath333 .",
    "this lemma is implicit in the proof of corollary [ motivating example ] .",
    "we will need a similar result for @xmath3 spaces , which we will prove by induction .",
    "let @xmath136 be a @xmath165-acylindrical graph of groups and consider the action of @xmath339 on the bass  serre tree @xmath204 .",
    "suppose that @xmath340 is a hyperbolic element with translation length @xmath341 .",
    "let @xmath9 be another element of @xmath1 .",
    "if the intersection @xmath342 is of length greater than @xmath343 then @xmath9 commutes with @xmath255 .",
    "in particular , @xmath344 .    since the axis of @xmath255 can be defined as the set of points that @xmath255 moves a minimal distance , @xmath345 and @xmath346 .",
    "if the length of @xmath342 is greater than @xmath343 then there exists an arc @xmath202 of length greater than @xmath165 such that @xmath347 fixes @xmath202 pointwise . since the action is @xmath165-acylindrical , @xmath348=1 $ ] .",
    "we use this fundamental fact in the following technical lemma . for points",
    "@xmath349 , denote by @xmath350 $ ] the unique geodesic arc from @xmath351 to @xmath352 .",
    "let @xmath27 be a graph of spaces for which the corresponding graph of groups is @xmath165-acylindrical .",
    "let @xmath353 be a proper loop .",
    "then for any covering @xmath79 with finitely generated fundamental group and for any non - trivial @xmath354 , there are at most finitely many cosets @xmath355 in @xmath356 such that @xmath357    let @xmath358 and let @xmath359 . without loss of generality , @xmath360 .",
    "if @xmath361 then there is nothing to prove , so assume that @xmath362 . let @xmath204 be the bass  serre tree of the induced splitting of @xmath1 equipped with the standard combinatorial metric @xmath98 and let @xmath363 be the minimal @xmath4-invariant subtree .",
    "since @xmath255 is proper , @xmath364 is a compact arc @xmath202 .",
    "any element @xmath120 that commutes with @xmath255 must fix @xmath202 , and so the whole of @xmath335 , pointwise .",
    "so , as the splitting is acylindrical , any such @xmath10 is trivial .    fix a basepoint @xmath365",
    "let @xmath341 be the translation length of @xmath255 and let @xmath203 be the subarc of @xmath335 consisting of those points that are a distance at most @xmath343 from @xmath363 .",
    "let @xmath123 be large enough that @xmath366 .",
    "let @xmath367 be the nearest point on @xmath335 to @xmath368 .",
    "note that @xmath369 . since @xmath9 is non - trivial it does not commute with @xmath255 , so the diameter of @xmath342 is at most @xmath343 and hence @xmath370 .",
    "therefore @xmath371 . but",
    "the geodesic arc @xmath372 $ ] intersects @xmath335 precisely in the arc @xmath373 $ ] .",
    "it follows that @xmath374 so @xmath375 .    using this observation",
    ", we can prove the extremely useful fact that all hyperbolic loops in ice spaces are proper .",
    "[ proper loops ] let @xmath27 be an @xmath376 space . every hyperbolic loop @xmath377 is proper .    as usual @xmath27 is constructed by gluing a torus @xmath164 to an @xmath376 space @xmath155 of lower level . by induction on level",
    "it can be assumed that the lemma holds for @xmath155 . without loss of generality",
    "take @xmath318 to be based .",
    "the graph - of - spaces decomposition @xmath136 for @xmath27 induces a graph - of - groups decomposition of @xmath28 which , abusing notation , we also denote by @xmath136 .",
    "decompose @xmath318 in @xmath136 as an irreducible word @xmath378 where @xmath379 and @xmath380 .",
    "let @xmath79 be a covering of @xmath27 and let @xmath381 be an elevation of @xmath318 , as in definition [ proper loops defn ] .",
    "if @xmath332 is compact then there is nothing to prove , so assume @xmath333 .",
    "let @xmath382 . if @xmath383 is not proper then for some vertex space @xmath156 of @xmath80 and two elevations @xmath384 the line @xmath69 crosses @xmath156 from @xmath385 to @xmath386 in infinitely many places .",
    "therefore , without loss of generality , for infinitely many indices @xmath110 , non - zero indices @xmath387 and some @xmath388 , @xmath389z^{-p } \\in \\pi_1(y').\\ ] ] since the elevations @xmath390 are proper by induction , it follows that @xmath391=1 $ ] , contradicting the irreducibility of the decomposition of @xmath318 .",
    "pre - covers fill the role played by immersions of graphs in stallings proof of hall s theorem . in @xcite , gitik uses a notion of pre - cover ; our pre - covers are analogous to hers .     from figure [ elevation to cover figure ] .",
    "a finite subgraph @xmath392 of @xmath204 is drawn with a thick line .",
    "the restriction of the covering map @xmath393 is a pre - covering .",
    "the canonical completion of @xmath392 is @xmath204 , which can be constructed by attaching the forest drawn with thin lines.,scaledwidth=70.0% ]    let @xmath27 and @xmath80 be graphs of spaces ( @xmath80 is not assumed to be connected ) .",
    "pre - covering _ is a locally injective map @xmath79 that maps vertex spaces and edge spaces of @xmath80 to vertex spaces and edge spaces of @xmath27 respectively , and restricts to a covering on each vertex space and each edge space .",
    "furthermore , for each edge space @xmath394 of @xmath80 mapping to an edge space @xmath147 of @xmath27 , the diagram of edge maps @xmath395 is required to commute .",
    "the domain @xmath80 is called a _",
    "pre - cover_. an example of a pre - cover , in the context of graphs , is illustrated in figure [ pre - cover figure ] .",
    "the pre - covering @xmath79 is _ finite - sheeted _ if the pre - image of every point of @xmath27 is finite .",
    "all the edge maps of @xmath80 are elevations of edge maps of @xmath27 to the vertex spaces of @xmath80 .",
    "an elevation of an edge map of @xmath27 to a vertex space of @xmath80 that is not ( isomorphic to ) an edge map of @xmath80 is called _",
    "if none of the elevations are hanging then @xmath80 is in fact a cover .",
    "[ canonical completion of pre - covers ] let @xmath27 be a graph of spaces and @xmath79 a pre - covering with @xmath80 connected",
    ". then @xmath325 injects into @xmath28 and , furthermore , there exists a unique embedding @xmath396 into a connected covering @xmath303 such that @xmath397 and @xmath303 extends @xmath79 .",
    "this is called the _ canonical completion _ of @xmath79 .    for the proof ,",
    "see proposition 2.9 of @xcite .",
    "in this situation , @xmath80 is a core for @xmath125 .",
    "it should be stressed that this construction does not preserve finiteness of sheets .",
    "indeed , the completion @xmath125 is finite - sheeted if and only if @xmath325 is of finite index in @xmath28 .     and",
    "@xmath398 , of @xmath202 to @xmath204 are marked with dashed lines .",
    "their restrictions to @xmath392 , @xmath399 and @xmath400 , are examples of elevations of @xmath202 to @xmath392 .",
    "the elevation @xmath399 is full whereas @xmath400 is not .",
    "both elevations are disparate .",
    "likewise , the set of elevations @xmath401 is also disparate.,scaledwidth=70.0% ]    [ elevations to pre - covers ] let @xmath224 be a map of graphs of spaces and @xmath188 a pre - covering .",
    "let @xmath402 be the canonical completion of @xmath188 .",
    "consider an elevation @xmath403 of @xmath189 .",
    "let @xmath404 . note that @xmath405 is a pre - cover of @xmath170 since @xmath189 is a map of graphs of spaces .",
    "if @xmath405 is non - empty then @xmath406 is called an _ elevation of @xmath189 to @xmath190_.    when @xmath271 is a genuine covering of @xmath170 the elevation @xmath205 is called _ full_. in this case , it makes sense to define the _ degree _ of @xmath205 to be the conjugacy class of @xmath209 in @xmath210 .",
    "note that this definition of an elevation to a pre - cover is slightly less general than the definition given in @xcite .",
    "however , it is less complicated and will suffice for the purposes of this paper .",
    "two examples of elevations to a pre - cover are illustrated in figure [ elevations to pre - covers figure ] .      with the language of pre - covers and elevations we can generalize theorem [ immersions of graphs ] to extend finite - sheeted pre - covers of graphs of spaces to finite - sheeted covers .",
    "we call this generalization _",
    "stallings principle_. let @xmath27 be a graph of spaces and @xmath407 a pre - covering .",
    "consider an edge map @xmath408 of @xmath27 and an elevation @xmath409 of @xmath410 .",
    "since the image of @xmath410 is contained in @xmath411 and @xmath110 restricts to a covering map on @xmath412 it follows that @xmath413 is a covering so @xmath414 is full .",
    "indeed , @xmath414 is a genuine elevation to @xmath412 .",
    "it therefore makes sense to consider the degree of @xmath414 ( see definition [ elevations to pre - covers ] ) .",
    "[ stallings ] let @xmath133 be a pre - covering with the following property : for each edge space @xmath147 of @xmath27 with edge maps @xmath415 , for each conjugacy class @xmath416 of subgroups of @xmath417 , there exists a bijection between the set of elevations of @xmath418 to @xmath135 of degree @xmath416 and the set of elevations of @xmath419 to @xmath135 of degree @xmath416 .",
    "then @xmath133 can be extended to a covering @xmath54 , with the same set of vertex spaces as @xmath135",
    ".    for the proof , see proposition 3.1 of @xcite .",
    "the crucial feature of this construction ( as opposed to , say , proposition [ canonical completion of pre - covers ] ) is that it extends finite - sheeted pre - covers to finite - sheeted covers : since @xmath33 has the same vertex spaces as @xmath135 , if @xmath133 is finite - sheeted then so is @xmath54 . from theorem [ stallings ] one deduces theorem [ immersions of graphs ] as follows .",
    "theorem [ immersions of graphs ] the immersion of graphs @xmath79 is a pre - covering .",
    "let @xmath420 be the maximum number of pre - images in @xmath80 of a vertex of @xmath27 .",
    "create a new ( disconnected ) pre - cover @xmath135 by adding disconnected vertices to @xmath80 so that every vertex of @xmath27 has @xmath420 pre - images .",
    "now every edge map of @xmath136 has @xmath420 elevations to the pre - cover , all of the same ( trivial ) degree ; so , by theorem [ stallings ] , @xmath133 can be extended to a covering @xmath54 .",
    "the proof of corollary [ hall s theorem for free groups ] makes use of the fact that a covering of a graph that corresponds to a finitely generated subgroup has a finite core .",
    "in contrast , in the case of a graph of spaces @xmath27 , a covering @xmath42 corresponding to finitely generated subgroup @xmath91 has a core @xmath80 with finite underlying graph , but in general @xmath79 is not finite - sheeted . most of the rest of this paper is devoted to addressing this difficulty .",
    "let @xmath311 be a loop in @xmath27 and @xmath133 a pre - covering .",
    "let @xmath421 be an elevation of @xmath318 to @xmath135 .",
    "the key technical construction enables us , under the hypothesis of _ disparity _ , to complete @xmath422 to a full elevation  that is , an elevation whose domain is homeomorphic to @xmath423 or @xmath424 .",
    "indeed , we can do this for sets of elevations .",
    "first we fix some notation .",
    "let @xmath125 be the canonical completion of @xmath135 so @xmath422 is a restriction of an elevation @xmath314 .",
    "given @xmath425 , the closure of the adjacent component of @xmath426 can be identified with some subinterval of @xmath427 , with @xmath428 identified with @xmath429 .",
    "for sufficiently small @xmath430 , @xmath431 is contained in a single edge space of @xmath125 , corresponding to a hanging elevation @xmath432 of some edge map @xmath410 .",
    "let @xmath433 be a set of loops .",
    "let @xmath133 be a pre - cover , as above . a collection of elevations @xmath434 where each @xmath435 is an elevation of some @xmath436 , is _ disparate _ if :    1 .",
    "@xmath437 is compact ; 2 .",
    "the map from @xmath438 to the set of hanging elevations of edge maps given by @xmath439 is injective ; and , 3 .   for each @xmath440 , @xmath441 is simply connected .",
    "if a path @xmath318 can not be homotoped ( relative to its endpoints ) off any of the edge or vertex spaces of @xmath27 that it intersects , then @xmath318 is called _",
    "clearly , any path is homotopic to a reduced path . recall that an elevation @xmath442 to a pre - cover is full if its domain @xmath443 is a covering space of @xmath444 .",
    "the next lemma asserts that , under the hypothesis of disparity , we can extend a pre - cover to make a collection of elevations of reduced loops full .",
    "in which @xmath400 descends to a full elevation @xmath445.,scaledwidth=70.0% ]    [ making elevations full ] let @xmath133 be a pre - covering , let @xmath433 be a set of reduced loops and let @xmath446 be a disparate set of elevations to @xmath135 .",
    "suppose that , for each @xmath97 , @xmath447 is a finite - sheeted covering extending @xmath448 .",
    "then there exists a pre - covering @xmath54 extending @xmath133 so that each @xmath442 extends to a full elevation @xmath449 if @xmath135 has finite underlying graph , each @xmath447 is finite - sheeted and there are finitely many @xmath442 then the resulting @xmath33 has finite underlying graph .",
    "furthermore , @xmath450 where @xmath5 is some finitely generated free group .",
    "the proof of lemma [ making elevations full ] is the same as that of proposition 2.13 in @xcite .",
    "however , because of its fundamental importance to our argument , we repeat the proof here .",
    "figure [ making elevations full figure ] illustrates the idea of lemma [ making elevations full ] in the situation of figure [ elevations to pre - covers figure ] .",
    "let @xmath451 be the closure of a component of @xmath452",
    ". without loss identify @xmath453 $ ] .",
    "consider the canonical completion @xmath303 of @xmath133 .",
    "there is a unique lift @xmath454 of @xmath436 to @xmath125 so that @xmath455 .",
    "let @xmath430 be minimal such that @xmath456 lies in a vertex space .",
    "let @xmath457 be the pre - cover consisting of @xmath135 together with the vertex spaces and edge spaces containing @xmath458 .",
    "let @xmath459 be the edge space of @xmath125 so that @xmath460)\\subset \\tilde{e}_+\\times[-1,1]$ ] and without loss of generality assume that @xmath461 .",
    "similarly , there is a unique lift @xmath462 of @xmath436 so that @xmath463",
    ". then @xmath464)\\subset \\tilde{e}_-\\times[-1,1]$ ] for some unique edge space @xmath465 of @xmath125 . without loss of generality ,",
    "assume @xmath466 .",
    "the edge spaces @xmath459 and @xmath465 are both simply connected covers of some edge space @xmath147 of @xmath27 .",
    "there exists some unique covering transformation @xmath467 such that , whenever @xmath468 with @xmath469 , @xmath470 now let @xmath33 be the pre - cover given by @xmath80 together with the additional edge space @xmath459 ; the additional edge maps are @xmath471 and @xmath472 .",
    "since @xmath473 is disparate , this can be done for every of component of @xmath474 .      in the light of lemma",
    "[ making elevations full ] , we will need to be able to guarantee that collections of elevations are disparate .",
    "we prove under certain assumptions that , in the underlying graph of the canonical completion , any pair of elevations shares at most finitely many vertices .",
    "therefore , by enlarging our pre - cover to a larger core of the canonical completion , a finite set of elevations can be made disparate .",
    "[ ensuring disparity ] suppose @xmath27 is an @xmath376 space .",
    "let @xmath433 be a finite , independent collection of hyperbolic loops such that each @xmath436 generates a maximal abelian subgroup of @xmath28 .",
    "let @xmath135 be a connected pre - cover with finitely generated fundamental group and @xmath475 a finite collection of elevations of the @xmath436 .",
    "then there exists a pre - covering @xmath54 extending @xmath133 such that :    1 .",
    "@xmath33 has finite underlying graph ; 2 .",
    "@xmath476 ; 3 .",
    "each @xmath442 extends to an elevation @xmath477 to @xmath33 ; and 4 .",
    "the collection @xmath478 is disparate .",
    "let @xmath479 , and let @xmath164 be the bass  serre tree of the induced splitting of @xmath28 , so @xmath480 is the underlying graph of the canonical completion @xmath125 of @xmath135 .",
    "think of @xmath204 as a graph of groups .",
    "the underlying graph @xmath392 of @xmath135 is a finite core for @xmath204 .",
    "the bass  serre tree of @xmath392 is naturally identified with an @xmath4-invariant subtree @xmath481 of @xmath164 .",
    "the first observation is that , outside of a finite subgraph , all the edge and vertex stabilizers of @xmath204 are trivial .",
    "otherwise , there are elements of @xmath28 fixing arbitrarily large subtrees of @xmath164 , contradicting acylindricality .",
    "therefore , enlarging @xmath135 in @xmath125 , it can be assumed that every edge stabilizer in @xmath482 is trivial . as a consequence",
    ", @xmath4 freely permutes the components of @xmath483 .",
    "each @xmath442 is the restriction of some elevation @xmath484 which corresponds to a double coset @xmath485 .",
    "consider the natural map @xmath486 and set @xmath487 . by lemma [ axis in elevation ]",
    ", the image of @xmath488 contains the projection of the line @xmath489 to @xmath204 .",
    "since @xmath488 is proper ( by lemma [ proper loops ] ) , each @xmath443 is compact whenever @xmath392 is a finite graph .",
    "note that if @xmath490 is infinite - degree then @xmath491 is finite , so there exist two distinct components @xmath492 of @xmath483 with @xmath493 an infinite ray .",
    "we will now show that no two @xmath488 share more than finitely many edges in their images .",
    "suppose that the intersection of the images of @xmath494 and @xmath495 contains infinitely many edges .",
    "then @xmath496 and @xmath497 are infinite - degree elevations and the images of @xmath498 and @xmath499 in @xmath204 share infinitely many edges , since @xmath4 is finitely generated . without loss of generality , there exist infinitely many @xmath500 mapping an edge in @xmath501 to an edge in @xmath502 . since @xmath4 freely permutes the components of @xmath483 these @xmath503 are all equal to some @xmath120 , and @xmath504 contains infinitely many edges . by acylindricality @xmath505 and @xmath506 commute , so @xmath507 and @xmath508 so @xmath496 and @xmath497 are isomorphic elevations .    finally , we also need to check that , for each infinite - degree @xmath490 , the limits @xmath509 and @xmath510 differ  otherwise , for any finite core of @xmath204 , the two endpoints of the restriction of @xmath490 would always lie in the same vertex space .",
    "however , if the limits @xmath509 and @xmath510 coincide then there exists @xmath120 mapping @xmath511 to @xmath512 , so by acylindricality @xmath513 .",
    "this contradicts the assumption that the elevations @xmath490 are of infinite degree .    in summary ,",
    "@xmath135 can be enlarged to a larger core @xmath514 satisfying the conclusions of the lemma .",
    "one might hope to prove theorems [ theorem a ] and [ theorem b ] for all groups in @xmath3 , and hence for all limit groups , by induction .",
    "however , neither subgroup separability nor local retractions is strong enough to serve as an inductive hypothesis .",
    "we need a still stronger property_tameness_.    [ tame covers definition ] consider a complex @xmath27 , a covering @xmath79 and a finite ( possibly empty ) collection of independent , essential loops @xmath515 the cover @xmath80 is _ tame over @xmath516 _ if the following holds .",
    "let @xmath84 be a finite subcomplex and let @xmath517 be a finite collection of ( pairwise non - isomorphic ) infinite - degree elevations where each @xmath518 is an elevation of some @xmath519 .",
    "then for all sufficiently large positive integers @xmath98 there exists an intermediate finite - sheeted covering @xmath520 so that :    1 .",
    "every @xmath518 descends to an elevation @xmath477 of degree @xmath98 ; 2 .",
    "the @xmath477 are pairwise non - isomorphic ; 3 .   [ tameness implies separability]@xmath32 embeds into @xmath33 ; 4 .",
    "[ tameness implies virtual retract]there is a retraction @xmath521 such that @xmath522 for each @xmath97 .",
    "suppose that a covering @xmath79 is tame over the empty set of loops in @xmath27 .",
    "it follows , by lemma [ topological interpretation ] , from property [ tameness implies separability ] of definition [ tame covers definition ] that @xmath325 is separable in @xmath28 .",
    "likewise , it follows immediately from property [ tameness implies virtual retract ] of definition [ tame covers definition ] that @xmath325 is a virtual retract of @xmath28 .",
    "we therefore have the following .",
    "identify @xmath164 with @xmath527 and let @xmath318 be the loop @xmath528 the cover @xmath525 can be taken to be the cylinder @xmath529 for some integers @xmath530 , and the elevations @xmath531 can be taken to be the maps @xmath532 for distinct @xmath533 . consider a compact cylindrical subspace of the form @xmath534\\times\\ldots\\times[a_k , b_k]\\times { \\mathbb{r}}/\\mu_{k+1}{\\mathbb{z}}\\times\\ldots\\times{\\mathbb{r}}/\\mu_n{\\mathbb{z}}\\ ] ] for integers @xmath535 . if the @xmath536 are sufficiently negative and the @xmath537 are sufficiently positive then @xmath32 lies in the interior of @xmath538 and , furthermore , @xmath538 intersects each @xmath436 in a non - trivial interval @xmath539\\times\\{x_i\\}$ ] . as long as @xmath98 is sufficiently large we can take @xmath540 .",
    "there is an action of @xmath541 on @xmath525 by covering transformations for which @xmath538 is a fundamental domain ; let @xmath542 be the quotient .",
    "this is the required intermediate covering .",
    "however , if @xmath516 consists of two or more loops on @xmath164 then the covering @xmath523 need not be tame over @xmath516 .",
    "this is what goes wrong in the example given in @xcite of a 3-manifold group that is not subgroup separable .",
    "[ making pre - covers finite ] let @xmath27 be a graph of spaces in which every edge space is a circle , and let @xmath433 be a collection of elliptic loops confined to the vertex spaces of @xmath27 .",
    "let @xmath79 be a pre - covering with finite underlying graph .",
    "every vertex space @xmath543 of @xmath80 covers some vertex space @xmath411 of @xmath27 ; assume that each @xmath543 is tame over the union of the set of edge maps incident at @xmath411 and the set of @xmath436 whose images lie in @xmath411 .",
    "let @xmath84 be a finite subcomplex and @xmath544 a collection of infinite - degree elevations of the @xmath436 .",
    "then for all sufficiently large @xmath98 there exists a finite - sheeted intermediate pre - covering @xmath545 such that :    1 .",
    "the @xmath546 descend to distinct , full elevations @xmath475",
    "so that , for each @xmath97 , @xmath547 is a covering of degree @xmath98 ; 2 .   @xmath32 embeds into @xmath135 ; and 3 .",
    "there exists a retraction @xmath548 such that @xmath549 for each @xmath97 .    enlarging @xmath32",
    "it can be assumed that it contains every compact edge space of @xmath80 .",
    "let @xmath543 be a vertex space of @xmath80 covering the vertex @xmath411 of @xmath27 .",
    "set @xmath550 .",
    "consider the edge maps @xmath551 of @xmath80 incident at @xmath543 that are infinite - degree elevations of @xmath552 . by the hypothesis of tameness there",
    "exists an intermediate finite - sheeted covering @xmath553 so that @xmath554 embeds in @xmath412 , each @xmath555 descends to a degree @xmath98 elevation @xmath556 of @xmath142 and each @xmath518 with image in @xmath543 descends to a degree @xmath98 elevation @xmath557 . if @xmath98 is sufficiently large then it can be taken to be the same @xmath98 over all vertex spaces of @xmath80 .",
    "let @xmath135 be the graph of spaces with the same underlying graph as @xmath80 but in which each vertex space @xmath543 is replaced by the corresponding @xmath412 .",
    "if @xmath394 is an edge space of @xmath80 then the edge map @xmath558 descends to a finite - degree map @xmath559 . by construction @xmath560 covers @xmath147 with the same degree as @xmath561 so this information defines a finite - sheeted pre - cover @xmath135 as required .",
    "it is clear that @xmath32 embeds into @xmath135 . as for the retraction",
    ", @xmath562 decomposes as a graph of groups , with the same underlying graph as the decomposition for @xmath325 , and every vertex group of @xmath325 is a retract of the corresponding vertex group of @xmath562 .",
    "these retractions piece together to give the required retraction @xmath548 .",
    "consider an @xmath3 space @xmath27 , which as usual is constructed by gluing a torus @xmath164 to a simpler @xmath3 space @xmath155 .",
    "let @xmath91 be a finitely generate subgroup and @xmath81 the corresponding covering . proposition [ making pre - covers finite ] will enable us , under suitable hypotheses , to pass from a core of @xmath80 to a finite - sheeted pre - cover @xmath135 .",
    "the next step is to add vertex spaces so that we can apply stallings principle .",
    "furthermore , we would like to do this in such a way that the resulting cover retracts onto the pre - cover @xmath135 .",
    "to this end , we will need to construct finite - sheeted covers of the vertex spaces with special properties .",
    "the next lemma does this for @xmath164 .",
    "[ controlling covers of tori ] let @xmath164 be a torus and @xmath524 an essential loop .",
    "then for every positive integer @xmath98 there exists a finite - sheeted covering @xmath563 so that @xmath318 has a single elevation @xmath564 to @xmath565 , and @xmath564 is of degree @xmath98 .",
    "since @xmath566 is abelian we can assume that @xmath318 is a based loop .",
    "let @xmath567 and consider the decomposition @xmath568 where @xmath167 is maximal cyclic with @xmath569 and @xmath170 is free abelian .",
    "setting @xmath570 gives the required covering .",
    "[ controlling lr covers ] let @xmath155 be a space such that @xmath573 has local retractions and let @xmath574 be a based essential closed loop .",
    "then for every positive integer @xmath98 there exists a finite - sheeted covering @xmath575 so that @xmath318 has an elevation @xmath564 to @xmath576 of degree @xmath98 and @xmath577 retracts onto @xmath578 .",
    "since @xmath573 admits local retractions , there exists a finite - sheeted covering @xmath575 so that @xmath577 retracts onto @xmath579 .",
    "note that @xmath580 whenever @xmath581 .",
    "hence the double coset @xmath582 corresponds to an elevation of @xmath318 of degree @xmath98 .",
    "if we do nt require @xmath577 to retract onto @xmath578 then lemma [ controlling lr covers ] can be significantly strengthened for residually free groups . indeed , whenever the fundamental group of a space @xmath155 is residually torsion - free nilpotent , the cover @xmath576 can be taken to be normal , so every elevation of @xmath318 to @xmath576 is of degree @xmath98 ( see remark 3.1 of @xcite ) . by a theorem of w.  magnus ,",
    "free groups ( and hence residually free groups ) are residually torsion - free nilpotent .",
    "however , we will not need this strengthening .",
    "[ completing pre - covers to covers ] let @xmath27 be an @xmath3 space constructed by gluing together a torus @xmath164 and a simpler @xmath3 space @xmath155 , as above .",
    "assume that @xmath573 admits local retractions .",
    "let @xmath133 be a finite - sheeted pre - covering .",
    "then there exists an inclusion @xmath583 extending @xmath133 to a covering @xmath54 such that @xmath85 retracts onto @xmath562 .",
    "let @xmath98 be a positive integer .",
    "by lemma [ controlling lr covers ] there exists a finite - sheeted covering @xmath584 with an elevation of @xmath418 of degree @xmath98 .",
    "likewise , by lemma [ controlling covers of tori ] there exists a finite - sheeted covering @xmath585 with just one elevation of @xmath419 , and that elevation is of degree @xmath98 .",
    "let @xmath586 be the number of hanging elevations of @xmath419 to @xmath135 of degree @xmath98 .",
    "consider the pre - cover @xmath587 let @xmath588 be the number of degree @xmath98 elevations of @xmath418 to @xmath589 and @xmath590 the number of degree @xmath98 elevations of @xmath419 to @xmath591 . by construction , @xmath592 .",
    "pairing up every degree @xmath98 hanging elevation of @xmath419 in @xmath135 with a hanging elevation of @xmath418 in some @xmath593 , we can assume that @xmath589 is connected and has @xmath594 hanging elevations of @xmath418 of degree @xmath98 .",
    "consider the pre - cover @xmath595 by construction , there exist @xmath594 degree @xmath98 hanging elevations of @xmath418 to @xmath596 and @xmath594 degree @xmath98 elevations of @xmath419 to @xmath596 .",
    "so , by stallings principle , @xmath596 extends to a finite - sheeted cover @xmath33 of @xmath27 .",
    "[ main theorem ] let @xmath27 be an @xmath3 space , let @xmath91 be a finitely generated subgroup and let @xmath81 be the corresponding covering .",
    "suppose @xmath516 is a ( possibly empty ) finite , independent set of loops that generate maximal abelian subgroups of @xmath28 .",
    "then @xmath42 is tame over @xmath516 .",
    "theorem [ main theorem ] fix a finitely generated subgroup @xmath91 and let @xmath81 be the corresponding covering space",
    ". for notational convenience , divide @xmath516 into hyperbolic loops @xmath599 and elliptic loops @xmath600 . after modifying by a homotopy",
    ", we can assume that each @xmath601 is contained in a vertex of space of @xmath27 .",
    "let @xmath30 be a finite subcomplex , and as in the definition of tameness let @xmath602 be a finite collection of infinite - degree elevations of the @xmath603 and @xmath604 a finite collection of infinite - degree elevations of the @xmath605 .",
    "since @xmath4 is finitely generated , there exists a core @xmath82 . enlarging @xmath80 if necessary",
    ", we can assume that @xmath84 , that each @xmath606 restricts to an elevation @xmath607 and that the image of each @xmath608 is contained in @xmath80 .",
    "by lemma [ ensuring disparity ] we can enlarge @xmath80 further and assume that the @xmath518 are disparate . for all sufficiently large @xmath98 ,",
    "since @xmath609 is a finite collection of compact intervals , there exists an embedding into a circle @xmath610 so that the @xmath98-sheeted covering @xmath611 extends @xmath612 ; so by lemma [ making elevations full ] we can extend @xmath80 to a pre - cover @xmath135 such that each @xmath518 extends to a full elevation @xmath613 enlarging @xmath32 again , we can assume that the images of the @xmath442 are contained in @xmath32 .",
    "by proposition [ making pre - covers finite ] there exists some intermediate finite - sheeted pre - covering @xmath614 into which @xmath32 injects , and such that each @xmath608 descends to a full elevation @xmath615 with @xmath616 a covering of degree @xmath98 .",
    "since @xmath32 injects into @xmath33 we already have that @xmath442 descends to an elevation @xmath617 finally , @xmath33 can be extended to a finite - sheeted covering @xmath618 by proposition [ completing pre - covers to covers ] .    by construction",
    ", @xmath32 injects into @xmath618 and @xmath619 retracts onto @xmath85 , which in turn retracts onto @xmath562 . by lemma [ making elevations full ] , @xmath359 is a free factor in @xmath562 .",
    "so , in summary , there exists a retraction @xmath620 .",
    "furthermore , @xmath65 is either the identity or the trivial homomorphism on the cyclic subgroups generated by each @xmath477 and @xmath621 .",
    "theorems [ theorem a ] and [ theorem b ] follow easily . by lemma",
    "[ tame implies ss and vr ] and theorem [ main theorem ] , groups in @xmath3 are subgroup separable and have local retractions . applying theorem",
    "[ limit groups embed in ice groups ] and the facts that subgroup separability and local retractions pass to subgroups , it follows that limit groups enjoy both these properties .",
    "f.  dahmani proved in @xcite the stronger result that finitely generated subgroups of limit groups are quasi - convex in the sense of convergence groups . in contrast , our techniques are purely topological , and indeed the notion of quasi - convexity is not well - defined without introducing some geometry .",
    "in this context one can deduce more from corollary [ qi embedded subgroups ] .",
    "emina alibegovic and mladen bestvina showed in @xcite that any limit group @xmath1 acts geometrically on a _",
    "cat(0 ) space with isolated flats _ @xmath27 .",
    "christopher hruska proved that in this situation a finitely generated subgroup @xmath4 of @xmath1 is quasi - convex with respect to the action on @xmath27 if and only if @xmath4 is quasi - isometrically embedded in @xmath1 ( theorem 1.1 of @xcite , see also proposition 4.1.6 of @xcite ) .",
    "combining these results with corollary [ qi embedded subgroups ] we obtain a quasi - convexity result .",
    "let @xmath1 be a limit group with an action @xmath65 by isometries on a cat(0 ) space with isolated flats .",
    "then every finitely generated subgroup @xmath4 of @xmath1 is quasi - convex with respect to the action @xmath65 .        as usual",
    ", think of @xmath1 as the fundamental group of an @xmath3 space @xmath27 .",
    "we will prove the corollary when @xmath4 is a vertex group of @xmath1 , corresponding to a vertex space @xmath411 of @xmath27 .",
    "the proof when @xmath4 corresponds to an edge group is the same .",
    "let @xmath26 be a finitely generated subgroup and let @xmath622 be the corresponding cover of @xmath27 .",
    "assume that @xmath23 .",
    "translating this to the language of elevations , this is equivalent to asserting that the elevations of the inclusion map @xmath623 to the cover @xmath622 are non - isomorphic ( in particular , they have disjoint images ) . the image of each of these elevations is precisely a vertex space of @xmath622 .",
    "let @xmath624 be the vertex space corresponding to @xmath22 and let @xmath625 be the vertex space corresponding to @xmath626 .",
    "let @xmath80 be a core for @xmath622 .",
    "enlarging @xmath80 if necessary , we can assume that @xmath624 and @xmath625 are both contained in @xmath80 .",
    "the proof of theorem [ main theorem ] constructs an intermediate finite - sheeted cover @xmath54 in which distinct vertex and edge spaces of @xmath80 descend to distinct vertex and edge spaces of @xmath33 .",
    "in particular , @xmath627 , as required .",
    "o.  kharlampovich and a.  miasnikov .",
    "effective jsj decompositions ( paper 4 on the theory of a free group ) . in _",
    "groups , languages , algorithms _ , volume 378 of _ contemp .",
    "_ , pages 87212 .",
    "soc . , providence , ri , 2005 .",
    "peter scott and terry wall .",
    "topological methods in group theory . in _",
    "homological group theory ( proc .",
    "durham , 1977 ) _ , volume  36 of _ london math .",
    "lecture note ser .",
    "_ , pages 137203 .",
    "cambridge univ . press , cambridge , 1979"
  ],
  "abstract_text": [
    "<S> a celebrated theorem of marshall hall jr .  implies that finitely generated free groups are subgroup separable and that all of their finitely generated subgroups are retracts of finite - index subgroups . </S>",
    "<S> we use topological techniques inspired by the work of stallings to prove that all limit groups share these two properties . </S>",
    "<S> this answers a question of sela .    </S>",
    "<S> limit groups are finitely presented groups that arise naturally in many different aspects of the study of finitely generated ( non - abelian ) free groups . </S>",
    "<S> perhaps their most satisfying characterization is as the closure of the set of free groups in the topology on marked groups that arose from the work of m.  gromov and r.  grigorchuk ( see @xcite ) . </S>",
    "<S> limit groups admit a hierarchical decomposition in which the basic building blocks are free groups , free abelian groups and the fundamental groups of surfaces of euler characteristic less than -1 . </S>",
    "<S> therefore , it seems natural to try to generalize properties of these ubiquitous classes of groups to limit groups .    </S>",
    "<S> much of the recent work on limit groups has been motivated by the fundamental role that they play in the study of @xmath0 , the variety of homomorphisms from a finitely generated group @xmath1 to a free group @xmath2 , and in the first - order logic of the free group . </S>",
    "<S> one can associate to a group @xmath1 the _ elementary theory _ of @xmath1 , the set of sentences in first - order logic that hold in @xmath1 . </S>",
    "<S> the elementary theory contains the _ existential theory _ , which consists of those sentences that use only one , existential , quantifier . </S>",
    "<S> from this point of view limit groups are precisely the finitely generated groups with the same existential theory as a free group @xcite . in @xcite , </S>",
    "<S> zlil sela solved a famous problem of alfred tarski by classifying the _ elementarily free groups _ , those limit groups with the same elementary theory as a free group . </S>",
    "<S> o.  kharlampovich and a.  miasnikov also announced a solution to tarski s problem in @xcite .    </S>",
    "<S> work on tarski s problem has led to the development of a powerful structure theory for limit groups . </S>",
    "<S> one form of this is given by a theorem of kharlampovich and miasnikov @xcite ( see also @xcite ) . </S>",
    "<S> let @xmath3 be the smallest set of groups containing all finitely generated free groups that is closed under extending centralizers . </S>",
    "<S> limit groups are precisely the finitely generated subgroups of groups in @xmath3 . </S>",
    "<S> we make extensive use of this characterization .    </S>",
    "<S> marshall hall jr .  proved in @xcite that every finitely generated subgroup of a finitely generated free group is a free factor in a finite - index subgroup , and that this finite - index subgroup can be chosen to exclude any element not in the original subgroup . as a consequence , finitely generated free groups are _ subgroup separable _ ( also known as _ lerf _ ) ; that is , every finitely generated subgroup is closed in the profinite topology . </S>",
    "<S> this is a strong algebraic condition that implies , for instance , that the generalized word problem is solvable . in the 1970s it became apparent that subgroup separability has a natural topological interpretation . </S>",
    "<S> peter scott used hyperbolic geometry in @xcite to prove that surface groups are subgroup separable , while j.  r.  stallings exploited the topology of graphs to reprove hall s theorem and other properties of free groups in @xcite . </S>",
    "<S> stallings techniques have been extended by , among others , rita gitik @xcite , who proved that , in certain circumstances , the amalgamated product of a subgroup separable group with a free group over a cyclic subgroup is subgroup separable , and d.  t.  wise @xcite , who classified the subgroup separable graphs of free groups with cyclic edge groups . </S>",
    "<S> sela @xcite asked if limit groups are subgroup separable . in @xcite , </S>",
    "<S> the author answered sela s question in the affirmative for elementarily free groups . here </S>",
    "<S> we extend that result .    [ theorem a ] limit groups are subgroup separable .    </S>",
    "<S> it follows that limit groups have solvable generalized word problem . </S>",
    "<S> we also prove the stronger theorem that @xmath3 groups are coset separable with respect to vertex groups .    </S>",
    "<S> another strong consequence of hall s theorem is that every finitely generated subgroup @xmath4 of a free group @xmath5 is a _ virtual retract _ ; that is , @xmath4 is a retract of some finite - index subgroup of @xmath5 . </S>",
    "<S> this property is referred to as _ local retractions _ in @xcite , in which connections between virtual retracts and 3-manifold topology are explored . </S>",
    "<S> combining theorem [ theorem a ] with theorem 3.1 of @xcite it follows that every cyclic subgroup of a limit group is a virtual retract . </S>",
    "<S> we show here that limit groups virtually retract onto all their finitely generated subgroups .    </S>",
    "<S> [ theorem b ] let @xmath1 be a limit group and @xmath4 a finitely generated subgroup of @xmath1 . </S>",
    "<S> then there exists a finite - index subgroup @xmath6 of @xmath1 containing @xmath4 and a retraction @xmath7 .    as a corollary one obtains a purely topological proof that finitely generated subgroups of limit groups </S>",
    "<S> are quasi - isometrically embedded . </S>",
    "<S> see subsection [ qi subgroups ] for more details .    </S>",
    "<S> the paper is organized as follows . in section 1 </S>",
    "<S> the notions of subgroup separability and local retractions are introduced . </S>",
    "<S> an example is given of how stallings techniques can be used to prove a strong theorem about finitely generated free groups . in order to extend these ideas , we need graphs of spaces in the spirit of @xcite . </S>",
    "<S> we briefly outline some salient features of the theory of limit groups and their structure . in section 2 </S>",
    "<S> we develop the language of elevations ( used by wise in @xcite ) and pre - covers ( analogous to those used by gitik in @xcite ) . using these </S>",
    "<S> we can state a precise generalization of stallings ideas to the context of graphs of spaces ( theorem [ stallings ] ) , which we call stallings principle . </S>",
    "<S> there are still substantial obstacles to applying this to limit groups , and section 3 is devoted to overcoming them . </S>",
    "<S> specifically , we define tame coverings , in which we have strong control over elevations of loops . </S>",
    "<S> the main technical result , theorem [ main theorem ] , asserts that coverings of @xmath8s for groups in @xmath3 are tame over certain sets of loops . </S>",
    "<S> theorems [ theorem a ] and [ theorem b ] follow quickly .    </S>",
    "<S> this paper makes use of the results about pre - covers and elevations in @xcite , whither we often refer the reader for proofs . </S>",
    "<S> however , it should be emphasized that theorems [ theorem a ] and [ theorem b ] are independent of the main theorem of @xcite ( theorem 5.13 ) . </S>",
    "<S> theorem [ theorem a ] was announced in @xcite , with a citation of an earlier version of this paper entitled ` limit groups are subgroup separable ' .    throughout , if @xmath9 and @xmath10 are group elements then @xmath11 denotes @xmath12 .      </S>",
    "<S> i would like to thank william dison , andrew harkins and michael tweedale for patiently listening to rehearsals of the ideas of this work , alan reid for drawing local retractions to my attention , and particularly martin bridson for his many insightful comments and suggestions . </S>"
  ]
}