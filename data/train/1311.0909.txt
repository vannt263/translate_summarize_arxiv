{
  "article_text": [
    "the passive optical network ( pon ) is one of the most widely deployed access networks due to its unique benefits , including transparency against data rate and signal format .",
    "the two major state - of - the - art pon standards ieee 802.3ah ethernet pon ( epon ) and itu - t g.984 gigabit pon ( gpon ) consist both of a single upstream wavelength channel and a separate single downstream wavelength channel , whereby both channels are operated with time division multiplexing ( tdm ) .",
    "epon and gpon are expected to coexist for the foreseeable future as they evolve into next - generation pons ( ng - pons )  @xcite .",
    "ng - pons are mainly envisioned to @xmath0 achieve higher performance parameters , e.g. , higher bandwidth per subscriber , increased split ratio , and extended maximum reach , than current epon / gpon architectures  @xcite , and @xmath1 broaden epon / gpon functionalities to include , for instance , the consolidation of optical access , metro , and backhaul networks , the support of topologies other than conventional tree structures , and protection  @xcite . throughout",
    ", network operators are seeking ng - pon solutions that can transparently coexist with legacy pons on the existing fiber infrastructure and enable gradual upgrades in order to avoid costly and time consuming network modifications and stay flexible for further evolution paths  @xcite .    in this paper",
    ", we evaluate the capacity ( maximum mean packet throughput ) and packet delay of a wide range of ng - pons through probabilistic analysis and verifying simulations .",
    "more specifically , we analyze the capacity and delay of various subnetworks from which ng - pons can be formed , thus enabling analytical capacity and delay characterization for a wide range of ng - pons built from the examined subnetworks .",
    "two important applications for our analysis are : ( a ) the obtained results provide insight into the performance limitations of candidate ng - pon architectures and thus inform network operators seeking to upgrade their installed tdm pons .",
    "( b ) neither ieee 802.3ah epon nor itu - t g.984 gpon standardizes a specific dynamic bandwidth allocation ( dba ) algorithm .",
    "the design of dba algorithms is left to manufacturers which aim at equipping network operators with programmable dba algorithms that adapt to new applications and business models and thus make pons future - proof . our capacity and delay analysis provides an upper throughput bound and a delay benchmark for gated service  @xcite which can be used to evaluate the throughput - delay performance of current and future dba algorithms for ng - pons .",
    "this paper is structured as follows . in the following section",
    ", we review related work on the analysis of pon access and metro packet networks . in section  [ sec : epon / gpon ] we give overviews of the epon and gpon access networks . in section  [ sec : ng - pons ] , we present ng - pons that either @xmath0 upgrade pons or @xmath1 interconnect multiple pons across a metropolitan area .",
    "we conduct the capacity and delay analysis of the subnetworks making up ng - pons in sections  [ analysis : sec ] and  [ sec : analysisdel ] .",
    "we first introduce the network model and then evaluate the capacity ( maximum mean aggregate throughput ) .",
    "subsequently , we analyze the packet delays . in section  [ num : sec ] , we compare numerical throughput - delay results obtained from our analysis with simulations and illustrate the application of our capacity analysis to identify bottlenecks in ng - pons .",
    "we briefly summarize our contributions in section  [ sec : conclusions ] .",
    "in this section we briefly review related work on the analysis of passive optical networks and metropolitan area networks .",
    "epons employ medium access control with an underlying polling structure  @xcite .",
    "building directly on the extensive literature on polling systems , see e.g. ,  @xcite , park et al .",
    "@xcite derive a closed form delay expression for a single - channel epon model with random independent switchover times .",
    "the epon model with independent switchover times holds only when successive upstream transmissions are separated by a random time interval sufficiently large to `` de - correlate '' successive transmissions , which would significantly reduce bandwidth utilization in practice .    in an epon",
    ", the service ( upstream transmission ) of an optical network unit ( onu ) follows immediately ( separated by a guard time ) after the upstream transmission of the preceding onu to ensure high utilization .",
    "the switchover time is therefore generally highly dependent on the round - trip delays and the masking of the round - trip delays through the interleaving of upstream transmissions  @xcite .",
    "subsequent analyses have strived to model these correlated transmissions and switchovers with increasing fidelity . in particular , epons with a static bandwidth allocation to the onus were analyzed in  @xcite and it was found that the static bandwidth allocation can meet delay constraints only at the expense of low network utilization .",
    "packet delay analyses for single - channel epons with dynamic bandwidth allocation have been undertaken in  @xcite . a dynamic bandwidth allocation scheme with traffic prediction assuming a gaussian prediction error distribution was analyzed in  @xcite . a grant estimation scheme was proposed and its delay savings analyzed in  @xcite .",
    "gpons have received relatively less research interest than epons . to the best of our knowledge",
    "we conduct the first delay analysis of gpons in this paper .",
    "similarly , wdm pons have received relatively little research attention to date .",
    "the call - level performance of a wdm pon employing optical code division multiple access was analyzed in  @xcite . to the best of our knowledge a packet - level analyses of wdm epons has so far only been attempted in  ( * ? ? ?",
    "* section  2.4 ) where an offline scheduling wdm epon was analyzed with the help of a two stage queue . in offline epons , also referred to as epons with interleaved polling with stop  @xcite , the optical line terminal ( olt ) collects bandwidth requests from all onus before making bandwidth allocation decisions .",
    "an offline scheduling epon was also considered in  @xcite where the stability limit ( capacity ) and packet delay were analyzed .",
    "in contrast , we analyze in this paper the capacity and packet delay for wdm pon channels that are integrated into an online scheduling pon , i.e. , transmissions from the different onus are interleaved to mask propagation delays .",
    "metropolitan area networks have received significant attention over the past two decades . the capacity and",
    "delay performance of packet ring networks with a variety of mac protocols has been analyzed in numerous studies , see e.g. ,  @xcite .",
    "more recently , analyses of medium access and fairness mechanisms for the resilient packet ring have been undertaken , see for instance  @xcite .",
    "the impact of fiber shortcuts in ring networks has been analyzed in  @xcite .",
    "metropolitan star networks based on passive star couplers ( see e.g. ,  @xcite ) and arrayed waveguide gratings ( see e.g. ,  @xcite ) have been analyzed in isolation . in this paper , we analyze to the best of our knowledge for the first time a comprehensive ng - pon that interconnects multiple pons via a metro network combining a ring and star networks .",
    "while epons are deployed mostly in the asia - pacific region , gpons are leading in the u.s . and europe .",
    "typically , both epon and gpon have a physical tree topology with the optical line terminal ( olt ) at the root .",
    "the olt connects through an optical splitter to multiple optical network units ( onus ) , also known as optical network terminals ( onts ) .",
    "each onu can serve a single or multiple subscribers . to facilitate dba , both epon and gpon use polling based on a _ report / grant mechanism_. in each polling cycle , onus send their instantaneous upstream bandwidth demands through report messages to the olt , which in turn dynamically allocates variable upstream transmission windows by sending a separate grant message to each onu .",
    "epon and gpon have some major and minor differences with respect to polling timing structure , line rate , reach , split ratio , guard time , protocol overhead , and bandwidth efficiency  @xcite .",
    "the epon is a symmetric network providing a data rate of 1 gb / s in both upstream and downstream directions .",
    "it provides a reach between olt and onus of up to 20 km for a split ratio as high as 1:64 .",
    "the epon has variable - length polling cycles based on the bandwidth demands , which are signalled with the multipoint control protocol ( mpcp ) .",
    "the onu uses the mpcp report message to report bandwidth requirements of up to eight priority queues to the olt .",
    "the olt passes received report messages to its dba algorithm module to calculate the upstream transmission schedule .",
    "then , the olt issues upstream transmission grants by transmitting a gate message to each onu .",
    "each gate message supports up to four transmission grants , each specifying the start time and length of the transmission window .",
    "the transmission window may comprise multiple ethernet frames , whereby epon does not allow for fragmentation .",
    "epon carries ethernet frames natively , i.e. , without encapsulation .",
    "the gpon offers several combinations of upstream / downstream data rates with a maximum symmetric data rate of 2.488 gb / s .",
    "gpon supports up to 60 km reach , for a maximum split ratio of 1:128 .",
    "both upstream and downstream transmissions are based on a periodically recurring time structure with a fixed frame length of @xmath2s .",
    "each upstream frame contains dynamic bandwidth report ( dbru ) fields .",
    "each downstream frame contains a physical control block ( pcbd ) , which includes a bandwidth map ( bwmap ) field specifying the onu upstream transmission grants . unlike the epon",
    ", the gpon deploys the gpon encapsulation method ( gem ) involving a 5-byte gem header and allows for ethernet frame fragmentation .",
    "two dba methods are defined for gpon : ( @xmath3 ) status - reporting dba based on onu reports via the dbru field , and ( @xmath4 ) non - status - reporting dba based on traffic monitoring at the olt .",
    "recent gpon research has focused on the design and evaluation of status - reporting dba algorithms  @xcite .",
    "epon uses various guard times between two neighboring transmission windows , e.g. , the laser on - off time . in gpon ,",
    "additional fields are used in each upstream and downstream frame , e.g. , the physical layer operation , administration , and maintenance ( ploam ) field .",
    "the impact of the various types of guard times and overhead fields on the bandwidth efficiency of both epon and gpon was thoroughly investigated in  @xcite , and we consequently neglect all overheads in our analysis to uncover the fundamental underlying performance characteristics due to the different polling timing structures , i.e. , variable - length cycles in epon and fixed - length frames in gpon .",
    "ng - pons are pons that provide @xmath0 higher data rates , larger counts of wavelength channels , longer ranges , and/or higher split ratios , as well as @xmath1 broader functionalities than current epon and gpon networks , as explained next .",
    "higher speeds are needed to support emerging bandwidth - hungry applications , e.g. , high - definition television and video on demand , and to provide sufficient capacity as backhauls of next - generation ieee 802.11n wireless lans with a throughput of 100 mb / s or higher per device  @xcite . for both epon and gpon ,",
    "standardization efforts have begun to specify symmetric or asymmetric data rates of up to 10 gb / s  @xcite .",
    "dba algorithms for epon , gpon , and high - speed tdm pon are compared in  @xcite .",
    "different forms of wdm pons have been actively studied as a component of ng - pon  @xcite . in a wavelength - routing wdm pon ,",
    "each onu is assigned a dedicated pair of wavelength channels for upstream and downstream transmission , which brings some advantages , but requires replacing the power splitter in installed tdm pons with a wavelength demultiplexer . according to  @xcite , a more practical approach towards wdm pons",
    "is to leave the existing power - splitting pon infrastructure in place and to select wavelengths at each onu using a bandpass filter ( bpf ) with a small insertion loss of 1 db . to ensure that wdm enhanced onus , operating on additional wavelengths ,",
    "can be installed on legacy tdm pon infrastructures , the conventional tdm onus may be equipped with wavelength blocking filters which let only the legacy tdm wavelength pass .",
    "the mpcp can be extended to support a wide range of possible wdm onu structures by exploiting the reserved bits of gate , report , and other mpcp messages  @xcite .",
    "similar wdm extensions can be designed for gpon by exploiting the reserved bits in bwmap , dbru , and other fields of each time frame . in wdm pons , so - called colorless ( i.e. , wavelength - independent ) onus",
    "should be deployed such that only a single type of wdm onu is required , thereby greatly simplifying inventory , maintenance , and installation  @xcite . a promising approach toward realizing low - cost colorless onus is to use a reflective semiconductor optical amplifier ( rsoa ) at the onu to perform remote modulation , amplification , and reflection of an optical seed signal sent by the olt .",
    "the optical seed signal can be either ( @xmath3 ) a modulated signal carrying downstream data , or ( @xmath4 ) an unmodulated _ empty carrier_. in the former case , the onu reuses the modulated carrier by means of _ remodulation _ techniques , e.g. , fsk for downstream and ook for upstream  @xcite .",
    "long - reach pons increase the range and split ratio of conventional tdm and wdm pons significantly  @xcite .",
    "state - of - the - art long - reach pons are able to have a total length of 100 km potentially supporting 17 power - splitting tdm pons , each operating at a different pair of upstream and downstream wavelength channels and serving up to 256 colorless onus , translating into a total of 4352 colorless onus  @xcite .",
    "importantly , such long - reach pon technologies allow for the integration of optical access and metro networks , i.e. , broaden the functionality of pons .",
    "this broadened pon functionality offers major cost savings by reducing the number of required optical - electrical - optical ( oeo ) conversions , at the expense of optical amplifiers required to compensate for propagation and splitting losses  @xcite .      to provide backward compatibility with legacy infrastructure , current tdm pons",
    "are expected to evolve toward ng - pons in a pay - as - you - grow manner .",
    "[ fig : ng - pons ] depicts a tree network architecture for an evolutionary upgrade from legacy tdm onus to wdm onus and long - reach onus ( lr onus ) , which was originally proposed , but not formally analyzed , in  @xcite .",
    "we briefly review this tree architecture here and incorporate it as a subnetwork for building an ng - pon in our original capacity and delay analysis .",
    "the olt is equipped with an array of fixed - tuned transmitters ( tx ) for transmission of control and data in the downstream direction and a separate array of fixed - tuned receivers ( rx ) for reception of control and data in the upstream direction .",
    "specifically , the olt deploys one tx@xmath5 and one rx@xmath5 to send and receive control and data on the downstream wavelength channel @xmath6 and upstream wavelength channel @xmath7 , respectively , of the original tdm epon network ( note that @xmath6 and @xmath7 are two different wavelengths ) .",
    "in addition , the olt may deploy arrays of fixed - tuned transmitters and receivers for data transmission only ( no control ) .",
    "more precisely , the olt may deploy @xmath8 fixed - tuned transmitters and @xmath8 fixed - tuned receivers , where @xmath9 .",
    "these @xmath8 transmitters and receivers operate on @xmath8 different wavelength channels @xmath10 ( note that there are exactly @xmath8 wavelengths which are alternately used for downstream transmission and upstream transmission , as described in greater detail in section  [ sec : op ] ) . the two wavelength channels @xmath11 and @xmath7 together with",
    "the @xmath8 wavelength channels make up the waveband @xmath12 , whose @xmath13 wavelengths allow for direct optical communication between olt and onus belonging to the same epon tree network .    for optical communication between onus belonging to different epon tree networks ,",
    "the olt uses additional @xmath14 fixed - tuned transmitters tx@xmath15 ( but no additional receivers ) , where @xmath16 .",
    "these @xmath14 transmitters operate on @xmath14 separate wavelength channels @xmath17 , which make up the waveband @xmath18 . recall that these @xmath14 wavelengths do not necessarily need to be adjacent .",
    "these wavelengths are used to all - optically interconnect different epon tree networks with suitable traffic demands ( defined shortly ) .    in the downstream direction ,",
    "the two wavebands @xmath12 and @xmath18 are combined via a multiplexer ( mux ) and guided by the circulator toward the coupler which equally distributes both wavebands among all @xmath19 onus . in the upstream direction ,",
    "the wdm coupler in front of the olt is used to separate the two wavebands from each other ; the waveband @xmath12 is forwarded to the circulator which guides it onwards to the demultiplexer ( demux ) that in turn guides each wavelength channel to a different fixed - tuned receiver . whereas the waveband @xmath18 is not terminated at the olt ( therefore no need for receivers at the olt ) and optically bypasses the olt , possibly amplified , on its way to the awg of the star subnetwork , as explained in section  [ bypass : sec ] .",
    "there are three different types of onu architecture :    * * tdm onu : * the tdm onu is identical to an onu of a conventional tdm epon network .",
    "it is equipped with a single fixed - tuned transmitter tx@xmath5 and a single fixed - tuned receiver rx@xmath5 operating on the upstream wavelength channel @xmath7 and downstream wavelength channel @xmath6 , respectively .",
    "each wavelength channel in either direction is used to send both data and control .",
    "the demux is used to separate the two wavelength channels . *",
    "* wdm onu : * the wdm onu is more involved than the tdm onu in that it additionally allows to send and receive data on any other wavelength channel @xmath20 of waveband @xmath12 . to do",
    "so , the wdm onu deploys an extra bandpass filter ( bpf ) and reflective semiconductor optical amplifier ( rsoa ) .",
    "the bpf can be tuned to any of the wavelengths @xmath20 and blocks all but one wavelength @xmath21 , @xmath22 .",
    "the wavelength @xmath21 passing the bpf is forwarded to the rsoa . at",
    "any given time , the rsoa can be in either one of the following two operation modes : @xmath0 reception of downstream data on @xmath21 coming from the olt , or @xmath1 transmission of upstream data on @xmath21 originating from the wdm onu , as explained in greater detail in section  [ sec : rsoa ] . * * lr onu : * the lr onu builds on the wdm onu .",
    "similar to the wdm onu , the lr onu has a bpf that is tunable over the wavelengths @xmath20 .",
    "in addition , the lr onu has a rsoa and bpf tunable over wavelengths @xmath23 , i.e. , this second bpf is tunable over the waveband @xmath24 . as a result , the lr onu can send and receive data also on any wavelength channel of waveband @xmath18 , which optically bypasses the olt and allows for direct optical communication with onus residing in different epon tree networks . apart from two bpfs and two rsoas , the lr onu deploys an additional multiwavelength receiver rx@xmath15 that is able to simultaneously receive data on all @xmath14 wavelength channels of waveband @xmath18 coming from the awg of the star subnetwork , possibly amplified .",
    "note that an epon tree network may accommodate any combination of @xmath25 tdm onus , @xmath26 wdm onus , and @xmath27 lr onus , whereby @xmath28 and @xmath29 .",
    "as illustrated in fig .",
    "[ fig : awg ] , the olts of @xmath30 , ng - pon access networks ( shown in fig .",
    "[ fig : ng - pons ] ) and @xmath31 remote cos in a metro area may be interconnected with any combination of @xmath0 a bidirectional metro ring network , e.g. , gigabit ethernet or rpr , with @xmath32 ring nodes , @xmath1 a wavelength - broadcasting @xmath33 passive star coupler ( psc ) with @xmath34 wavelength channels , comprising @xmath35 data wavelength channels ( one assigned to each olt and co ) and one control wavelength for conducting a reservation based medium access control , and @xmath36 an awg employed as a @xmath33 wavelength router .",
    "importantly , the awg provides any - to - any optical single - hop connections among the @xmath37 ng - pons and the co , i.e. , integrates access and metro networks into one single - hop optical network , and is therefore the key to vastly improved performance as demonstrated in section  [ num : sec ] .",
    "in addition , the awg allows for spatial reuse of all @xmath18 wavelengths at each awg port , resulting in a significantly increased capacity .",
    "using two or more of these interconnections options in parallel enhances network resilience .",
    "in the following , the interconnection network segments are described at length in separate subsections .      the metro ring network , e.g. , gigabit ethernet or rpr , interconnects multiple epon tree networks among each other as well as to the internet and server farms .",
    "the ring network consists of @xmath35 central offices ( cos ) and @xmath32 ring nodes equally spaced on the ring ( @xmath38 and @xmath39 in fig .  [ fig : awg ] ) .",
    "the co in the upper right corner of the figure is assumed to be attached to the internet and a number of servers via a common router .",
    "we refer to this @xmath40 co as the _ hotspot _ co. each of the other @xmath41 cos is collocated with the optical line terminal ( olt ) that belongs to the attached epon tree network .    in case of an rpr metro ring network ,",
    "the ring is a optical dual - fiber bidirectional ring network , where each fiber carries a single wavelength channel ( i.e. , no wavelength division multiplexing [ wdm ] ) .",
    "each rpr ring node and co is equipped with two pairs of fixed - tuned transmitter and fixed - tuned receiver , one for each fiber ring .",
    "each ring node and co has separate ( electrical ) transit and station queues for either ring .",
    "specifically , for each ring , a node has one transit queue for in - transit traffic , one transmission queue for locally generated data packets , and one reception queue for packets destined for the local node .",
    "in - transit ring traffic is given priority over station traffic so that in - transit packets are not lost due to buffer overflow .",
    "thus , the transit path is lossless , i.e. , a packet put on the ring is not dropped at downstream nodes . on the downside ,",
    "however , a node ready to send data has to wait for the transit path to be empty before it can send data .",
    "nodes perform destination stripping , i.e. , the destination node of a given packet takes the packet off the ring , to let nodes downstream from the destination node use the ring for packet transmission .",
    "typically , nodes deploy shortest path routing , i.e. , a source node selects the fiber ring that provides the shortest path to the destination node in terms of number of traversed intermediate nodes ( hops ) .",
    "the @xmath35 cos of the rpr ring network are interconnected via a single - hop wdm star subnetwork whose hub is based on a @xmath33 passive star coupler ( psc ) in parallel with a @xmath33 arrayed waveguide grating ( awg ) . the psc is a wavelength - broadcasting device , i.e. , each wavelength arriving on any psc input port is equally distributed to all psc output ports .",
    "in contrast , the awg is a wavelength - routing device .",
    "the awg allows for the spatial reuse of all wavelength channels at each awg port .",
    "[ fig : awg ] illustrates spatial wavelength reuse for an @xmath42 awg ( @xmath43 ) and eight wavelengths @xmath44 .",
    "observe that the same wavelength channel can be simultaneously deployed at two ( and more ) awg input ports without resulting in channel collisions at the awg output ports .",
    "for instance , wavelength @xmath45 incident on input ports 1 and 2 is routed to different output ports 4 and 5 , respectively .",
    "the wavelength - routing characteristics of the awg have the following two implications :    * due to the fact that the awg routes wavelengths arriving at a given input port independently from all other awg input ports , no network - wide scheduling but only local scheduling at each awg input port is necessary to avoid channel collisions on the awg .",
    "* note that in fig .",
    "[ fig : awg ] each awg input port reaches a given awg output port on a different wavelength channel .",
    "consequently , with full spatial wavelength reuse , eight different wavelengths arrive at each awg output port simultaneously . to avoid receiver collisions ,",
    "each awg output port must be equipped with a receiver operating on all eight wavelengths .",
    "( a receiver collision occurs if none of the destination node s receivers is tuned to the wavelength on which data arrives . )",
    "awg . ]    the one - way end - to - end propagation delay of the star subnetwork equals @xmath46 .",
    "each co is attached to a separate input / output port of the @xmath33 awg and @xmath33 psc by means of two pairs of counterdirectional fiber links .",
    "each fiber going to and coming from the awg carries @xmath47 wavelength channels , whereby @xmath14 denotes an integer number of wavelengths that do not necessarily need to be adjacent .",
    "each fiber going to and coming from the psc carries @xmath48 wavelength channels , consisting of one control channel @xmath49 , @xmath50 dedicated home channels for the hotspot co , and @xmath51 dedicated home channels , one for each of the remaining @xmath51 cos .",
    "the home channels are fixed assigned to the respective cos for data reception .",
    "data destined for a certain co is sent on its corresponding home channel(s ) .",
    "each co has one transmitter and one receiver fixed tuned to the control channel @xmath49 .",
    "in addition , for data reception , each co ( except the hotspot co ) has a single receiver fixed - tuned to its psc home channel .",
    "the hotspot co is equipped with @xmath52 receivers fixed - tuned to its @xmath53 psc home channels . for data transmission on the psc , each co ( except the hotspot co ) deploys a single transmitter that can be tuned over the @xmath54 home channels of the cos .",
    "the hotspot co deploys @xmath53 tunable transmitters whose tuning range covers the home channels of the remaining @xmath51 cos as well as the @xmath24 wavelength channels .",
    "thus , among all cos only the hotspot co is able to send data on the @xmath18 wavelength channels . unlike the remaining cos",
    ", the hotspot co is equipped with an additional multiwavelength receiver operating on all @xmath24 wavelength channels .",
    "hence , only the hotspot co is able to receive data on the @xmath18 wavelength channels .",
    "note that the remaining cos are unable to access the @xmath18 wavelength channels , which optically bypass these cos and their collocated olts .          in the following ,",
    "we describe how the @xmath18 wavelength channels optically bypass the olt of fig .",
    "[ fig : ng - pons ] as well as the collocated co of fig .",
    "[ fig : awg ] . fig .",
    "[ fig : bypass ] depicts the interconnection of a given epon tree network and the star subnetwork , illustrating the optical bypassing of the collocated olt and co. note that the @xmath18 wavelength channels are carried on the tree network only in the upstream direction , while in the downstream direction they are carried on a separate point - to - point ( p2p ) or point - to - multipoint ( p2mp ) fiber link .",
    "a p2p fiber link connects a single lr onu ( as illustrated in fig .",
    "[ fig : ng - pons ] ) to the awg of the star subnetwork , or more generally , a p2mp fiber link connects multiple lr onus ( as in fig .",
    "[ fig : awg ] ) to the awg of the star subnetwork . as shown in fig .",
    "[ fig : bypass ] , a wdm coupler is used on the tree network in front of the olt to separate the @xmath18 wavelength channels from the @xmath55 wavelength channels and to guide the @xmath18 wavelength channels directly onward to the awg of the star subnetwork , optically amplified if necessary . in doing so ,",
    "the @xmath18 wavelength channels are able to optically bypass the co and olt without being electrically terminated .",
    "similarly , the @xmath18 wavelength channels coming from the awg optically bypass both co and olt and directly travel on the p2p or p2mp link onward to the subset of attached single lr onu or multiple lr onus , respectively . as a result , the lr onu(s ) as well as the hotspot co that send and receive data on any of the @xmath18 wavelength channels are able to communicate all - optically with each other in a single hop across the awg of the star subnetwork .",
    "in this section , we outline how the interconnection of the ng pons across the metro area works .",
    "we first note that each co performs store - and - forward transmission with oeo conversion for each packet traversing the co , i.e. , the packet must first be completely received before it can be transmitted onto the next subnetwork .",
    "each ring node performs cut - through transmission for each packet traversing the node , i.e. , the packet is received and forwarded on ( ideally ) a bit - by - bit basis .    before explaining the details of the network operation , we briefly describe the operation of the rsoa used in the wdm onu and lr onu of fig .",
    "[ fig : ng - pons ] , followed by reporting bandwidth requirements of onus , granting transmission windows to onus , dynamic bandwidth allocation , access control on ring and psc , as well as considered traffic types .",
    "the rsoa has two different operating modes : @xmath0 reception of downstream data sent by the olt to the onu , and @xmath1 transmission of upstream data generated by the onu and destined for the olt ( on wavelengths @xmath10 ) , or for an lr onu residing in a different epon tree network ( on wavelengths @xmath56 ) .",
    "the two modes are alternated on a time basis and at any given time the rsoa can be in either one of these two modes or in idle state ( to be discussed shortly ) .    fig .",
    "[ fig : reflection ] illustrates the two operation modes @xmath0 and @xmath1 of an rsoa and also explains the impact of reflection on the upstream data reception .",
    "suppose that the olt first sends downstream data during the time interval @xmath57 using one of its fixed - tuned transmitters tx@xmath58 or tx@xmath15 .",
    "after the propagation delay @xmath59 , or briefly @xmath60 , the data arrives at the destination onu .    the upstream data transmission from onu to olt is a bit more involved due to the fact that the rsoa does not have its own light source . as a consequence ,",
    "the olt has to generate light by using one of its wdm transmitters tx@xmath58 ( in case of a wdm onu or lr onu ) or one of its lr transmitters tx@xmath15 ( only in case of an lr onu ) and send it downstream to the onu .",
    "we consider two approaches for supplying light to the rsoa : the empty carrier approach , and the reflection of downstream data signal approach .",
    "we first describe the empty carrier approach where a light carrier signal that does not carry any data is supplied to the rsoa for upstream data transmission . in fig .",
    "[ fig : reflection ] , suppose that after transmitting its downstream data , the olt sends the generated light to the onu during the time period @xmath61 , or briefly @xmath62 , which can be of any arbitrary length",
    ". note that this light does not convey any downstream data ; it may be viewed as an `` empty '' carrier arriving after @xmath63 at the onu .",
    "the rsoa acts as a mirror and the onu uses the carrier light reflected by the rsoa for sending its upstream data to the olt during the time interval @xmath64 .",
    "the upstream data transmission takes @xmath63 to arrive at the olt .",
    "now , to guarantee that the upstream data is received by the olt without collision , the olt must not use the same wavelength for downstream data transmission until the upstream data is completely received by the olt . in other words , after generating the light and sending it downstream to the onu , the olt has to wait for one round - trip time ( rtt ) , i.e. , @xmath65 , until it is allowed to use the same wavelength again for downstream data transmission .    to better understand this constraint , fig .",
    "[ fig : reflection ] illustrates the case where the olt does not wait for one rtt and starts its next downstream data transmission before one rtt has elapsed .",
    "the second downstream data transmission might be reflected at a reflection point ( e.g. , splice or connector ) somewhere between the olt and onu and interfere with the upstream data transmission of the onu , resulting in a collision .",
    "clearly , by deferring its next downstream data transmission by at least one rtt , the olt can avoid any collisions .",
    "however , note that while waiting for the wavelength to become available , the olt may use the downstream wavelength channel @xmath6 and the other wdm wavelength channels to send data to any ( wdm , lr , and tdm ) onu . also note that this restriction holds only for data but not for carrier sent in the downstream direction .",
    "for instance , in fig .",
    "[ fig : reflection ] the olt might generate a second carrier on the same wavelength destined for a different onu right after @xmath62 , provided that the upstream data transmission of the second onu does not overlap with the first one due to different propagation delays between olt and the two onus . with the reflection of downstream data signal approach , the downstream data signal is used as carrier signal for upstream data transmission .",
    "each onu monitors traffic incoming from its attached users and classify it into one or more different traffic types .",
    "specifically , each tdm onu and each wdm onu considers all incoming traffic the same and store it in a single first - in - first - out ( fifo ) queue ( for service differentiation we might later consider multiple fifo queues , one for each traffic class ) . in each polling cycle , every tdm / wdm onu sends its current bandwidth requirements ( queue occupancy ) in its assigned report message to the olt on wavelength channel @xmath66 .",
    "in contrast , each lr onu splits incoming traffic into two different traffic types , using two separate fifo queues . the first queue , which we call _ olt queue _ , stores traffic to be sent on any of the @xmath12 upstream wavelengths . the second queue , which we call _ awg queue _ , stores traffic to be sent on one of the @xmath18 wavelength channels ( as discussed in more detail shortly )",
    "in each polling cycle , every lr onu reports its current bandwidth requirements ( queue occupancies ) on both @xmath12 and @xmath18 in a single report message to the olt on @xmath7 .",
    "more precisely , an lr onu writes its bandwidth requirements on @xmath12 into the report message , similar to a tdm or wdm onu .",
    "in addition , an lr onu writes its bandwidth requirements on @xmath18 and the addresses of the corresponding destination onus into the report message .",
    "thus , the bandwidth requirements on @xmath18 ( including destination onu address ) ride piggyback on those on @xmath12 within the same report message .      after receiving the report message(s ) , the olt sends a gate message to each onu on the downstream wavelength channel @xmath11 .",
    "the gate message contains one or two transmission grants , depending on the onu type .",
    "specifically , for a tdm onu the gate message contains a single grant that specifies the start time and duration of its allocated upstream tdm transmission window on wavelength channel @xmath7 . the tdm transmission window on @xmath7 is also used by the tdm onu to send its next report message to the olt .",
    "conversely , for wdm onus and lr onus the gate message contains two transmission grants , the tdm transmission window for @xmath7 and another bpf window for a wavelength channel within @xmath12 or @xmath18 .",
    "more precisely , for a wdm onu the first transmission grant specifies the allocated tdm transmission window on @xmath7 used by the wdm onu to send data , if any , and the next report message to the olt .",
    "the second transmission grant specifies @xmath0 the `` best '' wavelength channel within @xmath55 , and @xmath1 the start time and duration of the bpf window during which the wdm onu has to tune its bpf to the `` best '' wavelength for reception of data coming from the olt and transmission of data going to the olt .",
    "note that the two windows assigned to a given wdm onu are allowed to overlap in time ( partly or fully in any arbitrary way ) .",
    "lr onus are handled the same way as wdm onus , except that the olt can assign an additional bpf window on @xmath18 to a given source lr onu for transmission of eligible traffic if the destination onu is an lr onu ( which is known by the olt through the piggybacked destination onu address in the respective report message ) . in case of a destination",
    "lr onu , the second transmission grant in the gate message specifies @xmath0 the appropriate wavelength channel within @xmath18 that interconnects the source lr onu with the destination lr onu across the awg and @xmath1 the start time and duration of the bpf window during which the source lr onu has to tune its bpf to the selected wavelength for reception of data coming from the olt and transmission of data going to the destination lr onu , thereby optically bypassing the olt .",
    "otherwise , if the destination onu is not an lr onu , the source lr onu is handled similar to a wdm onu , as discussed above .",
    "the olt dynamically allocates bandwidth on @xmath12 and @xmath18 to its attached onus using the _ gated _ service discipline , i.e. , the olt does not impose any limit on the granted transmission windows and assigns each onu as much bandwidth as requested in its report message .",
    "rpr ring nodes as well as onus unable to send and receive data across the awg , send their data on the tree , ring , and/or psc ( typically along the shortest path in terms of hops ) .",
    "channel access on the dual - fiber ring is governed by rpr protocols , described in section  [ sec : rpr ] . on the psc , time is divided into periodically recurring frames .",
    "each frame on control channel @xmath49 consists of @xmath35 control slots , each dedicated to a different co. each co stores data packets to be forwarded on the psc . for each stored data packet",
    "the co broadcasts a control packet on the psc to all cos in its assigned control slot .",
    "a control packet consists of two fields : @xmath0 destination address and @xmath1 length of the corresponding data packet .",
    "after @xmath46 , all cos receive the control packet and build a common distributed transmission schedule for collision - free transmission of the corresponding data packet on the home channel(s ) of the destination co at the earliest possible time .",
    "the destination co forwards the received data packet toward the final destination node .",
    "let @xmath67 , @xmath68 , @xmath69 , @xmath70 , and @xmath71 denote the transmission capacities [ in bits per second ] of one tdm , wdm , awg , psc , and rpr channel , respectively , whereby @xmath72 indexes the central office ( co ) that the tdm or wdm channel connects to .",
    "we assume that both tdm upstream and downstream channel at co @xmath72 have each a capacity of @xmath67 .",
    "we denote @xmath73 for the number of wdm channels connecting to co @xmath72 , whereby each channel has capacity @xmath68 .",
    "we define these capacities as `` payload '' transmission capacities in the sense that they already account for overheads that are proportional to the transmitted payload , such as the preamble and inter packet gap .",
    "the fixed overheads per grant , such as mpcp report and guard times , are not considered .",
    "we denote @xmath74 for the set of nodes that act as ( payload ) traffic sources and destinations .",
    "specifically , @xmath74 contains all onus in the tree subnetworks , the rpr ring nodes , and the hotspot nodes ( whereby there may be none , one , or several hotspots ) .",
    "the cos , except for the hotspots , do not locally generate traffic .",
    "we denote @xmath75 for the set of all onus that are connected to co @xmath72 .",
    "additionally , we denote @xmath76 for the set of tdm onus connected to co @xmath72 , and analogously @xmath77 for the set of wdm onus connected to co @xmath72 , and @xmath78 for the set of lr onus attached to onu @xmath72 .",
    "we model the packet generation rates by a traffic matrix @xmath79 , where @xmath80 represents the number of packets per second that are generated at a node @xmath3 and are destined to node @xmath81 .",
    "note that for a network with @xmath82 onus , @xmath32 ring nodes , and @xmath31 hotspot cos the traffic matrix has @xmath83 elements .",
    "for the stability analysis we assume that the traffic generation is ergodic and stationary .",
    "importantly , the traffic matrix @xmath79 , accounts only for the traffic that is _ not _ sent over the awg . since the operation of the awg can be analyzed separately from the rest of the network , we consider awg traffic separately in section  [ awgintensities : sec ] .",
    "a natural assumption could be to assume that traffic is equally distributed from all onus to all other onus and/or rpr ring nodes , except possibly the hotspot(s ) .",
    "but we do not need to restrict our analysis to this special uniform traffic case .",
    "we suppose that there is a packet length distribution ( in bits ) with mean @xmath84 and variance @xmath85 . for notational simplicity",
    "we suppose that this distribution is the same for all source nodes .",
    "note that , on average , node @xmath3 sends @xmath86 bits per second to node @xmath81 .",
    "first let us consider the traffic that is eventually sent over the ring / psc star subnetwork .",
    "the traffic that arrives from the onus at co @xmath72 ( over the conventional tdm or wdm channels ) and is destined to another co @xmath87 , enters the ring / psc star subnetwork .",
    "hence , the packet rate of the ring / psc star traffic between the two cos @xmath72 and @xmath88 ,  @xmath89 , is given by @xmath90 note that traffic from an onu @xmath3 to another onu @xmath91 , attached to the same co @xmath72 , i.e. , with @xmath92 , does not enter the ring / psc star subnetwork .    for an rpr ring node or a hotspot @xmath72 and a co @xmath88",
    "we define @xmath93 and for a co @xmath72 and an rpr ring node or a hotspot @xmath88 @xmath94 finally , for traffic from an rpr ring node / hotspot @xmath72 to another rpr ring node / hotspot @xmath88 , we have @xmath95 note that the defined @xmath96 [ in packets / second ] completely determine the packet traffic rates in the ring / psc star subnetwork .    for each node @xmath97 , we denote @xmath98 for the total packet traffic generation rate ( in packets / second ) at node @xmath3 . note that this packet rate only accounts for the traffic that is _ not _ sent over the awg .",
    "in addition to traffic that is sent over the tree and ring / psc star subnetwork , an lr onu or hotspot may generate traffic that is eligible for transmission over the awg via the p2p / p2mp links .",
    "we suppose that an lr onu / hotspot that generates a packet for another lr onu / hotspot that _ can _ be reached via the awg , i.e. , there exists a p2p / p2mp link between the considered lr onus / hotspots , _ will _ send that packet over the awg , and _ not _ over tree and ring / psc star subnetworks .",
    "formally , we let @xmath99 denote the number of wavelength channels on the p2p / p2mp link between co @xmath72 and co @xmath88 . we denote @xmath100 for the packet traffic rate in number of generated packets per second from lr onu / hotspot @xmath3 to lr onu / hotspot @xmath81 .",
    "if @xmath101 , i.e. , if there is no p2p / p2mp link from lr onu @xmath102 to lr onu @xmath103 , then @xmath104 . for lr onu / hotspot @xmath3 , we define @xmath105 as the total packet generation rate [ in packets / second ] of traffic transmitted over the awg .",
    "note that an lr onu / hotspot @xmath3 may also generate traffic that is transmitted over the tree and ring / psc star subnetwork ; specifically , for rpr ring node , tdm onu , and wdm onu destinations , or for lr onu / hotspot destinations not reachable from lr onu / hotspot @xmath3 via the awg .",
    "this `` non - awg '' traffic is accounted for in @xmath106 given by ( [ sigma_i : defn ] ) .",
    "each onu must not generate more traffic than it can send in the long term average .",
    "a tdm onu can only transmit on the upstream tdm channel , whereas a wdm or lr onu can transmit on the upstream tdm channel and one wdm channel .",
    "@xmath107 similarly , we require for each lr onu that @xmath108    all tdm onus at a given co @xmath72 considered together must not transmit more than @xmath67 on the upstream tdm channel @xmath109    the wdm and lr onus can send over the wdm channels and they can use the remaining bandwidth of the upstream tdm channel : @xmath110    we note that the rsoa operation does not reduce the capacity . the finite ( bounded ) switchover time from one transmission direction to the other becomes negligible when queues grow long .",
    "in particular , for heavy traffic load and correspondingly very long continuous upstream or downstream transmissions , the switchover time becomes negligible .",
    "however , the rsoa operation has an impact on the delay , as analyzed in section  [ delay_wdm : sec ] .",
    "the traffic arriving for the tdm onus has to be accommodated on the downstream tdm channel : @xmath111    the wdm channels may be used for upstream or downstream transmission .",
    "we investigate two possibilities .",
    "[ [ reflection - of - downstream - data - signal - for - upstream - data - transmission ] ] reflection of downstream data signal for upstream data transmission + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    suppose the onus are equipped with a device that allows to use the downstream data signal as carrier signal for upstream data transmission .",
    "the olt would either send downstream data ; or , if there is no data to be sent , it would transmit ` empty ' carrier . for this operating scenario ,",
    "upstream and downstream transmissions are completely independent .",
    "the restriction for upstream traffic is given in ( [ eqn : wdmcap ] ) .",
    "for the downstream traffic we obtain @xmath112    [ [ empty - carrier - for - upstream - data - transmission ] ] empty carrier for upstream data transmission + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    if upstream data transmissions require an empty carrier signal , we can only use a wdm channel for either upstream or downstream transmission , resulting in the additional restriction that @xmath113      note that the @xmath96 defined above correspond to the respective @xmath114 in @xcite .",
    "further , we can introduce and calculate the analogous probabilities to @xmath115 and @xmath116 in @xcite .",
    "specifically , for our context , we introduce the probabilities @xmath117 that traffic from a node @xmath118 to a node @xmath119 traverses the network link @xmath120 .",
    "these probabilities can be precomputed for given traffic matrices @xmath121 and @xmath122 , similar to  @xcite , for any pair of nodes in the network .",
    "the stability condition of the ring subnet is given by ( 8) in @xcite .",
    "the mode of operation of the psc in stargate is simpler than in @xcite , in that there are no collisions .",
    "note that all traffic that is generated for destination co @xmath88 has to queue up in a",
    "_ virtual queue _ that is calculated by all cos .",
    "therefore , for the capacity evaluations it suffices to require that @xmath123 , the total rate of traffic ( in bit / second ) going from the psc into co @xmath88 , does not overload the psc wavelength channel @xmath124 whereby @xmath125 denotes the number of home channels of co @xmath88 .      as noted in section  [ starsubnet : sec ] , the potential for collisions exists in the awg star subnetwork only at the awg input ports ( local scheduling by the co avoids actual collisions ) . for the capacity analysis",
    ", it suffices therefore to focus on the wavelength channels running from the lr onus at a given co to the corresponding awg input port .",
    "more specifically , the traffic generated by the lr onus of co @xmath72 destined toward lr onus at co @xmath88 must be accommodated on the wavelength channel(s ) that are routed from the awg input port of co @xmath72 to the awg output port leading to co @xmath88 .",
    "therefore , for analytical purposes , we can treat the awg operation as if there were @xmath126 , separate wavelength channels from co @xmath72 to co @xmath127 .",
    "these channels do not influence each other ( in terms of multiple access ) .",
    "therefore , we obtain the following restriction for @xmath128 , the total average rate of traffic ( in bits / second ) transmitted from co ( or hotspot ) @xmath72 over the awg to co ( or hotspot ) @xmath88 : @xmath129 if @xmath101 , i.e. , there are no wavelength channels from co @xmath72 to co @xmath88 over the awg , the restriction has to be understood as @xmath130 , not @xmath131 .      we summarize the capacity analysis by noting that for given traffic patterns @xmath132 and @xmath133 it is relatively straightforward to obtain from the capacity constraints in sections  [ treecap : sec][awgcap : sec ] bounds on the mean aggregate network throughput .",
    "in particular , we denote @xmath134\\end{aligned}\\ ] ] as the total generated traffic [ in bit / second ] , which is equivalent to the total mean aggregate throughput of the network .",
    "each capacity constraint results in an upper bound on @xmath135 .",
    "the tightest bound identifies the network bottleneck limiting the mean aggregate throughput , as illustrated in section  [ intaccmet : sec ] .",
    "for the delay analysis we consider a networking scenario with many legacy tdm onus and a few upgraded wdm and lr onus in the epon subnetworks .",
    "for such a scenario , the traffic rate on the upstream tdm channel is typically significantly higher than on the wdm channels : @xmath136 we leave the complementary scenario in which the wdm channels carry more load than the tdm channel for future work . in such a scenario",
    "the tdm channel becomes essentially a wdm channel since it will also be used by wdm and lr onus , leading to a situation where one can essentially neglect the special position of the tdm channel and consider it a wdm channel .",
    "for the considered highly loaded tdm channel scenario , we have for the downstream tdm channel : @xmath137 in the considered scenario with highly loaded tdm channels , the wdm and lr onus practically do not transmit or receive payload data on the tdm channels .",
    "this is in some sense an additional restriction , leading to a possibly higher delay , i.e. , our analysis should lead to an upper bound for the delay .",
    "note also that in the considered scenario the delays for reporting on the upstream tdm channel and transmitting grants on the downstream tdm channel are governed by the delays on the tdm channels .",
    "we denote @xmath60 , @xmath138 , and @xmath139 [ in seconds ] for the one - way propagation delay over the epon tree network , the psc star subnetwork , and the awg star subnetwork , respectively . for the delay analysis",
    "we require that the traffic that is generated at node @xmath3 and destined to node @xmath81 is poisson with packet generation rate @xmath80 [ packets / second ] and independent of the traffic for all other combinations @xmath140 , @xmath141 . for notational convenience , we define @xmath142 to denote the mean queuing delay in an m / g/1 queue according to the pollaczek - khinchine formula  @xcite as a function of the ( relative ) load @xmath143 defined as the traffic rate @xmath144 [ bit / second ] normalized by the channel bit rate @xmath145 [ bit / second ] for the considered packet size mean @xmath84 and variance @xmath85",
    ".      the long run average traffic rate on the downstream tdm channel from co @xmath72 is @xmath146 given in ( [ lambda_tdm_down : eqn ] ) , resulting in a load @xmath147 .",
    "thus , an initial estimate of the queueing delay of a packet prior to transmission on the downstream tdm channel is approximately given by @xmath148 .",
    "this delay does not consider that this traffic has already traversed preceding nodes feeding into the downstream traffic at co @xmath72 .",
    "specifically , the adjacent rpr nodes ( via the rpr ring ) and the other cos @xmath127 ( via the psc ) supply downstream tdm traffic to co @xmath72 .    applying the approximate method of bux and schlatter  @xcite to our setting",
    ", we compensate for the queueing delay at the preceding nodes by subtracting a correction term @xmath149 from the queueing delay @xmath148 for the aggregate downstream traffic @xmath150 . following  @xcite , the correction term @xmath149 is the sum of the queueing delays for the individual traffic stream that flow into co @xmath72 from adjacent nodes _ and _ leave over the arc of interest , namely the downstream tdm channel .",
    "in particular , @xmath151 with @xmath152 denoting the load due to traffic flowing from the adjacent rpr node @xmath88 over the rpr ring to reach one of the tdm onus at co @xmath72 . for the evaluation of these traffic loads",
    "we utilize the probability @xmath153 that traffic from a node @xmath118 to a node @xmath119 traverses the network link @xmath154 , as defined in section  [ cap_ringstar : sec ] .",
    "further , we evaluate @xmath155 for the load from a co @xmath127 , over the psc to a tdm onu at co @xmath72 .    adding the average transmission delay @xmath156 and the downstream propagation delay @xmath60 we obtain the total delay as approximately @xmath157    the mean of the residual cycle length on the upstream tdm channel until a generated packet is reported is approximately @xmath60 .",
    "in addition , there is a delay of @xmath65 plus the residual transmission time of a packet when the downstream channel is busy , i.e. , @xmath158 , between transmitting a report and receiving the corresponding grant . adding queueing delay , packet transmission , and propagation delays gives @xmath159",
    "note that for our ng pon interconnection network there is an additional delay due to the queuing of the gate message prior to transmission on the downstream tdm channel .",
    "we consider two approaches for the downstream transmission of grant messages .",
    "( a ) without any priority for grant messages , the grant message has to queue up with regular downstream packet traffic , resulting in an additional delay component of @xmath148 .",
    "( b ) a grant message could be given ( non - preemptive ) priority over data packets as follows .",
    "if there is currently no downstream data packet transmission ongoing , then immediately send the grant .",
    "if there is currently a downstream data packet transmission ongoing , then transmit the grant when the current packet transmission is complete .",
    "for this priority policy , the additional delay component is zero when the channel is idle and the residual transmission time of the packet when the channel is busy , i.e. , @xmath160 .",
    "we remark that the analysis of the upstream tdm cycle length leading to ( [ dtuk : eqn ] ) assumes a delay of @xmath65 between sending the report and receipt of the corresponding grant .",
    "the grant has the additional delay component ( of @xmath148 or @xmath161 ) due to queueing of the grant prior to being transmitted on the downstream channel .",
    "hence , the upstream tdm cycle is longer than reflected in our approximate analysis .",
    "a more exact analysis of the upstream tdm cycle that captures the inter - dependencies with the grant transmissions on the tdm downstream channel is left for future work .        when reflecting the downstream data signal for upstream data transmission , the @xmath73 wdm channels at co @xmath72 can be continuously used for downstream and upstream transmission .",
    "the traffic rate for the downstream wdm channels is given by @xmath162 ( [ lambda_wdm_down : eqn ] ) and there are @xmath73 channels , each with transmission rate @xmath68 .",
    "the queueing delay could be approximated by the queueing delay in an m / g/@xmath73 queueing system . since there is no explicit delay formula for such a system , we further approximate the delay by considering an m / g/1 queue with a server with transmission rate @xmath163 , i.e. , we consider an m / g/1 queue with load @xmath164 .",
    "we obtain the total delay as approximately , @xmath165 where @xmath166 is defined analogously to ( [ rho : into : t0 ] ) , ( [ rho : into : t1 ] ) , and ( [ rho : into : t2 ] ) with @xmath167 replaced by @xmath168 .",
    "the upstream data transmissions have additional delay components due to the reporting and granting procedure :    * the residual time of the upstream tdm channel @xmath60 to account for the delay from packet generation until transmission of the corresponding report . *",
    "the round trip propagation delay @xmath65 to account for the upstream propagation of the report and downstream propagation of the grant .",
    "* the queueing delay for the grant prior to its transmission on the downstream tdm channel , which is @xmath148 without priority for grants , and @xmath169 with priority for the grant messages ( considered in ( [ dwuk : eqn ] ) .",
    "thus , we obtain with the upstream traffic rate @xmath170 defined in ( [ eqn : wdmcap ] ) @xmath171      with switching between upstream and downstream transmission , the combined upstream and downstream traffic has to be accommodated on the @xmath172 wdm channels , resulting in the load @xmath173 which is served out of a ( virtual ) queue holding both upstream and downstream traffic .",
    "the resulting queueing delay is approximately @xmath174 .",
    "if an empty carrier is used for upstream data transmissions , a waiting period equal to the one - way propagation delay @xmath60 is introduced when switching a wdm channel from upstream to downstream transmission , or vice versa .",
    "more specifically , when switching from downstream to upstream transmission , once the downstream transmission has ended , the immediately subsequently transmitted carrier signal takes @xmath60 to reach the onu .",
    "once the carrier signal starts to arrive at the onu , it can immediately commence its upstream data transmission .",
    "similarly , when switching from upstream to downstream transmission , the last bit of the upstream data transmission requires @xmath60 to reach the olt .",
    "only when the last bit of the upstream transmission has reached the olt , can the olt commence a new downstream data transmission .",
    "we denote by @xmath175 the probability that a ` switchover ' between upstream and downstream transmission , or vice versa , takes place before a data transmission on the wdm channels at co @xmath72 .",
    "consider the superposition of two independent sequences of poisson arrival times with rates @xmath176 and @xmath177 , respectively .",
    "let @xmath178 be the event of an arrival from the first process ( resp .",
    "denote @xmath179 for an arrival of the second process ) and let @xmath180 denote the event that a switchover occurs .",
    "then , the probability for a switchover equals @xmath181 note that the probability that a switchover occurs , given that we consider an arrival of the first process , is equal to the probability that an exponential random variable with mean @xmath182 is smaller than another ( independent ) exponential random variable with mean @xmath183 . simplifying ,",
    "we obtain @xmath184 whereby , noting that we consider co @xmath72 , we have the downstream traffic rate @xmath162 and the upstream traffic rate @xmath170 sharing the @xmath73 channels , each with capacity @xmath68 , i.e. , @xmath185 and @xmath186 .    for each switchover",
    "we calculate a loss of transmission time of @xmath60 .",
    "we model the switchovers as changes in the packet length distribution : the packet transmission time is extended by @xmath187 with probability @xmath175 .",
    "this gives a new mean of the packet distribution of @xmath188 and second moment @xmath189 . using this modified message length distribution",
    ", we obtain the delay on the wdm channels as @xmath190    the upstream traffic experiences additional delay components :    * the residual time of the upstream tdm channel @xmath60 to account for the delay from packet generation until transmission of the corresponding report . * the round trip propagation delay @xmath65 to account for the upstream propagation of the report and downstream propagation of the grant . * the queueing delay for the grant prior to its transmission on the downstream tdm channel , which is @xmath148 without priority for grants , and @xmath191 with priority for the grant messages ( considered in ( [ dwuk_empty : eqn ] ) .",
    "@xmath192      let @xmath193 denote the frame duration of 125 @xmath194s of the gpon .",
    "consider a packet being generated at an onu attached to olt @xmath72 .",
    "the packet has to wait on average @xmath195 for the beginning of the next frame in which it will be included in a dynamic bandwidth report ( dbru ) field .",
    "this next frame has a duration ( transmission delay ) of @xmath193 and takes @xmath60 to propagate to the olt",
    ".    once arrived at the olt , the bandwidth report has to be processed by the olt and the grant to the onu for the packet s transmission is included in the bandwidth map ( bwmap ) of the next downstream frame . even with negligible processing time at the olt , there is a delay of up to @xmath193 until the beginning of the next downstream frame .",
    "more specifically , let @xmath196 , [ in seconds ] denote the offset between the up and down channels defined as follows . at the instant when a new slot starts on the upstream channel , @xmath197 seconds have passed of the current downstream channel slot , i.e. , for @xmath198 , the slots on the upstream and downstream channels are aligned . then , the time until the beginning of the downstream frame containing the bwmap of the considered packet is @xmath199    the downstream frame has a transmission delay of @xmath193 and propagation delay of @xmath60 .",
    "the packet has to wait for @xmath200 until the beginning of the next upstream frame before it can possibly be transmitted .",
    "thus , it takes overall on average @xmath201 from the instant the packet is generated to the instant the packet becomes eligible for upstream transmission .",
    "and then , the packet is put into a general queue for the upstream channel . in terms of the mean packet delay",
    ", this channel can be modeled as an m / g/1 queue ( noting that the specific scheduling discipline does not affect the overall mean packet delay in the gpon , as long as the channel is operated in work conserving manner , i.e. , is not left idle while packets are queued ) , with corresponding delay @xmath202 . finally , the packet experiences the transmission delay @xmath156 and propagation delay @xmath60 .",
    "overall , the mean delay for the tdm upstream channel is @xmath203 analogously , we obtain for the wdm upstream channels which experience the same delays for the report - grant cycle but carry the load @xmath204 : @xmath205 note that @xmath197 can be adjusted to save up to one @xmath193 of delay . specifically , there are two cases in the minimization of @xmath206 :    \\(a ) if @xmath207 then any @xmath197 with @xmath208 is optimal .",
    "\\(b ) if @xmath209 then any @xmath197 with @xmath210 is optimal .    turning to the downstream transmission , we note that a packet arriving at the olt has to wait on average @xmath195 for the beginning of the next downstream frame , i.e. , before it becomes eligible for transmission .",
    "the packet also experiences the average downstream queueing delay @xmath211 , transmission delay , propagation delay , and delay correction analogous to ( [ dtdk : eqn ] ) for a total delay of approximately @xmath212    the delay for the downstream wdm channels is obtained by replacing @xmath213 by @xmath214 in ( [ dtdkg : eqn ] ) .",
    "we first evaluate the packet delay in the psc star subnetwork as follows . with @xmath215 denoting the frame duration [ in seconds ] on the psc , a newly arrived packet at the co waits on average @xmath216 before its control packet can be sent .",
    "the control packet experiences a propagation delay of @xmath217 .",
    "once the control packet is received , the packet enters the virtual queue for the destination co. this queue experiences a load of @xmath218 with @xmath123 given in ( [ lambdapl : eqn ] ) . adding in the transmission and propagation delays of the data packet over the psc",
    ", we obtain @xmath219 where @xmath220 is a correction term given by @xmath221\\ ] ] with @xmath222 denoting the traffic that originates at rpr node @xmath223 and flows over the psc from co @xmath72 to co @xmath88 .",
    "analogously , we define @xmath224 and the respective quantity @xmath225 , where @xmath167 is replaced by @xmath226 and @xmath227 by @xmath228 .    the packet delay in the ring @xmath229 from a co / hotspot @xmath3 to another co / hotspot ( or a destination ring node ) @xmath81 is given by eqn .",
    "( 22 ) in @xcite with last two sums replaced by @xmath230 note that all links @xmath120 that are not used for the transmission from node @xmath3 to node @xmath81 have @xmath231 in the sum above .",
    "the packet delay from an rpr ring node to a co / hotspot ( or a destination rpr ring node ) is given by eqn .",
    "( 21 ) in @xcite with the last sum replaced by @xmath232 .",
    "the packet delay in the awg star subnetwork consists of the following components :    * the residual cycle time of the upstream tdm channel @xmath60 to account for the delay from packet generation until transmission of the corresponding report .",
    "* the round trip propagation delay @xmath65 to account for the upstream propagation of the report and downstream propagation of the grant . * the queueing delay for the grant prior to its transmission on the downstream tdm channel , which is @xmath148 without priority for grants , and @xmath191 with priority for the grant messages ( considered in ( [ dakl : eqn ] ) ) . * the queueing delay due to several lr onus with total load @xmath233 sharing the @xmath99 channels from co @xmath72 to co @xmath88 . *",
    "the average packet transmission delay @xmath234 and propagation delay @xmath139 .",
    "thus , approximately , @xmath235 note that the first two terms in the this expression only occur because the lr onus have to use the upstream tdm channel to register their packets . by averaging over all channels we obtain the average packet delay on the awg star subnetwork : @xmath236",
    "note that the hotspot nodes do not require any special analysis .",
    "the hotspots simply have typically a higher traffic volume , which is expressed in the respective @xmath80 and @xmath100 .",
    "a hotspot node is modeled as any other rpr ring node ( or co ) in the ring / psc star subnetwork , and as a co in the awg star subnetwork .",
    "we obtain the overall average packet delay by weighing the different paths according to their packet traffic rates .",
    "first , for traffic transmitted over the ring / psc star subnetwork : @xmath237 where    * @xmath238 for traffic from rpr ring node / hotspot @xmath3 to rpr ring node / hotspot @xmath81 .",
    "* @xmath239 for traffic from rpr ring node / hotspot @xmath3 to tdm onu @xmath81 at co @xmath88 ( resp .",
    "@xmath240 for traffic to wdm or lr onu at co @xmath88 ) . * @xmath241 for traffic from tdm onu @xmath3 at co @xmath72 to tdm onu @xmath81 at co @xmath88 ( resp .",
    "@xmath242 for traffic from wdm or lr onu @xmath3 at co @xmath72 and resp .",
    "@xmath240 for traffic to wdm or lr onu @xmath81 at co @xmath88 ) .",
    "note that for intra - co traffic from an onu @xmath3 to another onu @xmath81 attached to the same co @xmath72 , @xmath243 gives the intra - co as @xmath244 ( since the ring delay is zero for @xmath245 ) ; the scenarios with intra - co traffic to and/or from a wdm onu are captured analogously .",
    "* @xmath246 for traffic from tdm onu @xmath3 at co @xmath72 to rpr ring node / hotspot @xmath81 ( resp .",
    "@xmath242 for traffic from wdm or lr onu @xmath3 at co @xmath72 ) .",
    "overall we obtain : @xmath247",
    "this section presents numerical results on the throughput - delay performance , first for isolated pons and then for integrated access - metro networks , obtained from our analysis and extensive verifying simulations with 95% confidence intervals .",
    "the propagation speed is set to @xmath248 m / s .",
    "we first consider uniform traffic where each onu generates the same amount of packet traffic with a packet size randomly uniformly distributed over @xmath249 $ ] bytes . in the context of an isolated pon",
    ", a packet generated by a given onu is destined to any of the other @xmath250 onus of the same pon with equal probability @xmath251 .",
    "[ fig : res2 ] compares the mean delay @xmath252 on the upstream tdm / wdm channels of conventional tdm , high - speed tdm , and wdm epon / gpon networks vs. the mean aggregate throughput @xmath135 .",
    "we consider an epon with @xmath253 gb / s and a ( symmetric ) gpon with @xmath254 whereby the onus are located at 20 km from the olt .",
    "we consider a fixed number of @xmath255 tdm onus and @xmath256 wdm onus , respectively .",
    "both high - speed tdm pons operate at a data rate of @xmath257 gb / s .",
    "in addition to the pair of legacy tdm wavelength channels , the wdm epon and wdm gpon deploy @xmath258 wavelength channels via remodulation , each operating at @xmath259 gb / s and @xmath260 gb / s , respectively .     on upstream tdm / wdm channels of high - speed tdm and wdm epon / gpon vs.",
    "mean aggregate throughput @xmath135 for @xmath255 tdm onus and @xmath256 wdm onus , respectively . ]",
    "we observe that the epon achieves significantly lower delays than the gpon at small to medium traffic loads .",
    "this epon advantage is due to its underlying variable - length polling cycle compared to the fixed length framing structure of the gpon .",
    "we further observe that analysis and simulation results match very well , except that the analysis underestimates the mean epon delay slightly at medium traffic loads .",
    "vs. mean aggregate throughput @xmath135 of wdm epon / gpon using remodulation and empty carrier . ]",
    "[ fig : res3 ] shows the 10 gb / s high - speed tdm and wdm epon / gpon with remodulation of fig .",
    "[ fig : res2 ] and compares them to a wdm epon / gpon using the commercially available empty carrier approach  @xcite . the empty carrier approach severely deteriorates the performance of both wdm epon and wdm gpon , suffering from a higher mean delay and a significantly lower mean aggregate throughput on the upstream tdm / wdm channels than a wdm epon / gpon based on remodulation .",
    "this is due to the fact that in the empty carrier approach each wdm wavelength channel is used for bidirectional transmission , i.e. , upstream and downstream transmissions alternate , as opposed to remodulation where upstream transmissions are not delayed by downstream transmissions .",
    "vs. mean aggregate throughput @xmath135 of three wdm pons interconnected through @xmath0 a ring , or @xmath1 a ring combined with a @xmath261 psc . ]      next , we investigate different methods to interconnect multiple high - speed tdm / wdm pons by means of a ring , psc , and/or awg . fig .",
    "[ fig : res4 ] depicts the mean delay vs. mean aggregate throughput of three of the aforementioned wdm epons / gpons interconnected through either @xmath0 a ring only , or @xmath1 a ring in conjunction with a @xmath261 psc ( i.e. , @xmath38 ) , for shortest path ( minimum hop ) routing .",
    "the circumference of the bidirectional ring is set to 100 km and it comprises @xmath262 equally spaced ring nodes .",
    "both ring and psc operate at a data rate of 10 gb / s , i.e. , @xmath263 gb / s .",
    "we consider uniform source and destination traffic originating from and going to any of the @xmath264 wdm onus , @xmath265 ring nodes , and @xmath266 remote co ( see fig .",
    "[ fig : awg ] ) .",
    "formally , for uniform source traffic , @xmath267 and the total traffic bit rate in the network is @xmath268 . as shown in fig .",
    "[ fig : res4 ] , using a psc that provides short - cut links to the ring helps decrease the mean delay considerably , but in the considered example network configuration does not lead to an increased mean aggregate throughput .",
    "( similar observations were made for 10 gb / s high - speed tdm pons , not shown here due to space constraints . ) in particular , for the epon with uniform source and uniform destination traffic , both the upstream ( eqn .",
    "( [ eqn : wdmcap ] ) ) and the downstream wdm channel with remodulation capacity constraint ( eqn .",
    "( [ lambda_wdm_down : eqn ] ) ) give the bound @xmath269 with @xmath270 denoting the total number of tdm / wdm onus and ring nodes .",
    "for the considered scenarios with @xmath271 wdm onus ( and no tdm or lr onus ) this bound reduces to @xmath272 gbps , which is lower than the bounds imposed by the ring and psc , as detailed next , and hence governs the maximum mean aggregate throughput .    for further analysis of the ring / psc stability condition ( [ lambdapl : eqn ] )",
    ", we fix the ring network to the structure illustrated in fig .",
    "[ fig : awg ] with @xmath265 ring nodes , @xmath273 olts ( of which @xmath40 is a remote co ) , and with one ring node between two olts .",
    "the highest traffic rate on a psc channel arises for the uniform traffic pattern on the channel toward an olt when the remote co is two ring hops from the considered olt .",
    "we refer henceforth to the considered olt as the `` target olt '' , the olt opposite of the target olt around the ring as the `` opposite olt '' , and the olt situated two hops along the ring from the target olt as the `` adjacent olt '' ( which is located opposite the remote co ) .",
    "we have the following contributions to the traffic load on the psc home channel of the target olt :    * the opposite olt has @xmath274 tdm / wdm onus sending @xmath0 to the @xmath19 nodes in the epon attached to the target olt , plus @xmath1 with probability one half to the two ring nodes situated one hop from the target olt over the target home channel .",
    "in addition , the opposite olt has @xmath27 lr onus sending @xmath0 to the @xmath274 tdm / wdm onus in the epon attached to the target olt , plus @xmath1 with probability one half to the two ring nodes situated one hop from the target olt over the target channel . thus",
    ", the opposite olt contributes @xmath275 * the adjacent olt has the same contribution as the opposite olt , except that only the traffic to epon nodes attached to the target olt is sent over the psc ; the ring nodes situated one hop from the target olt are reached with one hop over the ring ( versus two hops over the psc and then ring ) .",
    "furthermore , the remote co contributes as much as one lr onu at the adjacent co. overall , the contribution from the adjacent olt and the remote co is thus @xmath276 * the two ring nodes situated within one ring hop from the target olt do not send traffic toward the target olt over the psc .",
    "* the two ring nodes situated three hops in either ring direction from the target olt send to all onus attached to the target olt over the psc ( and directly over the ring to the ring nodes one hop from the target olt ) contributing @xmath277    combining these contributions results in the constraint @xmath278 for our scenario with @xmath279 , @xmath280 and @xmath281 this simplifies to @xmath282     vs. mean aggregate throughput @xmath135 of three wdm epons and three high - speed tdm epons interconnected through @xmath0 a ring&psc , or @xmath1 a ring&awg for different source traffic non - uniformity @xmath283 . ]    in the following , we study the impact of non - uniform traffic on the throughput - delay performance of ng - pons .",
    "let us first focus on _ non - uniform source traffic _ , where nodes generate different traffic rates .",
    "for now , we continue to consider uniform destination traffic .",
    "more specifically , @xmath284 of the onus in each ng - pon as well as all @xmath32 ring nodes generate traffic at a medium bit rate of @xmath285 .",
    "furthermore , we introduce a source traffic non - uniformity @xmath286 , @xmath287 , and let @xmath288 lightly loaded onus in each ng - pon generate traffic at a low bit rate of @xmath289 , and @xmath290 highly loaded onus in each ng - pon as well as the remote co generate traffic at a high bit rate of @xmath291 .",
    "note that @xmath292 denotes uniform traffic , which has been studied above .",
    "[ fig : res5 ] compares the mean delay vs. mean aggregate throughput performance of three wdm epons with @xmath293 wavelengths in remodulation mode , each operating at 1 gb / s , with that of three 10 gb / s high - speed tdm epons , interconnected with the remote co through a ring in conjunction with @xmath0 a @xmath261 psc , or @xmath1 a @xmath261 awg using @xmath294 wavelengths .",
    "the ring , psc , and awg operate at 10 gb / s , i.e. , @xmath295 gb / s . in each epon , we set @xmath296 and @xmath297 and consider different source traffic non - uniformity @xmath283 . in the ring&psc configuration , there are @xmath271 wdm onus in a given wdm epon ( resp .",
    "@xmath298 onus in a high - speed tdm epon ) . in the ring&awg configuration ,",
    "the @xmath290 highly loaded onus are upgraded to lr - onus in each high - speed wdm epon ( and each high - speed tdm epon which is connected with @xmath35 high - speed wavelength channels to the awg ) .",
    "we observe from fig .",
    "[ fig : res5 ] that the ring&psc configurations are insensitive to source traffic non - uniformities .",
    "this is because the shift in traffic generation from lightly to heavily loaded onus with increasing source traffic non - uniformity @xmath286 does not significantly shift the portion of the total network traffic load that needs to traverse the epon downstream wdm channels . in contrast , for the ring&awg configurations we observe from fig .",
    "[ fig : res5 ] increases in the aggregate network throughput as the traffic becomes more non - uniform . with increasing @xmath286 , the heavily loaded onus account for a larger portion of the total network traffic .",
    "thus , the traffic portion that can be off - loaded from the epon wdm channels to the awg channels , namely all traffic between pairs of heavily loaded onus , increases with @xmath286 , resulting in an increased aggregate throughput .",
    "( similar observations were made for high - speed tdm and wdm gpons . )    the total traffic bit rate in the network is @xmath299 \\sigma \\bar{l}.\\end{aligned}\\ ] ] for notational convenience , we define the equivalent number of medium bit rate traffic nodes as @xmath300 with which we express the medium traffic bit rate in terms of @xmath135 as @xmath301 .",
    "we focus first on the wdm epon with ring&psc scenario .",
    "note that @xmath302 .",
    "for the upstream wdm channels we obtain by noting that all traffic generated at the nodes of a given epon has to go up on the wdm ( and tdm ) channels @xmath303 and the corresponding limit @xmath304 for the considered scenario with @xmath305 , @xmath306 , @xmath307 , and @xmath308 we obtain the constraints @xmath309 for @xmath310 , @xmath311 for @xmath312 , and @xmath313 for @xmath314 .",
    "for the downstream wdm ( and tdm ) channels using remodulation we note that all traffic generated by one of the @xmath19 nodes at the considered epon and destined to any of the other @xmath250 nodes at the epon as well as any traffic generated by one of the other nodes in the network and destined to any of the @xmath19 nodes at the epon contributes to the downstream load @xmath315,\\end{aligned}\\ ] ] resulting in the limit @xmath316 with @xmath317 for the considered scenario we obtain the limits @xmath309 for @xmath310 , @xmath318 for @xmath312 , and @xmath319 for @xmath314 . taken together ,",
    "these capacity results confirm the simulation results for the ring&psc configuration .",
    "next , we focus on the wdm epon with ring&awg . for the upstream wdm channels",
    "note that the @xmath288 low traffic onus and the @xmath284 medium traffic onus at a given epon send all generated traffic upstream on the wdm ( and tdm ) channel .",
    "in addition the @xmath290 high traffic onus send the traffic to nodes not connected to the awg upstream on the wdm channels , i.e. , @xmath320 with @xmath321 denoting the number of nodes not connected to the awg .",
    "the corresponding capacity limit is @xmath322 we obtain for our scenario for which @xmath323 , for @xmath310 @xmath324 , for @xmath312 @xmath325 , and for @xmath314 @xmath326 .    for the awg channels we obtain the highest load on the channels connecting two epons , namely @xmath327 and the corresponding limit @xmath328 for our scenario , @xmath329 for @xmath310 , @xmath330 for @xmath312 , and @xmath331 for @xmath314 .",
    "vs. mean aggregate throughput @xmath135 of three wdm epons and three high - speed tdm epons interconnected through a ring&awg for @xmath332 and different destination traffic non - uniformity @xmath333 . ]",
    "[ fig : res6 ] considers the ring&awg configurations of the previous figure for a fixed source traffic non - uniformity @xmath332 and illustrates the impact of _ non - uniform destination traffic_. specifically , a packet generated by an lr onu or co is destined to another lr onu / co with probability @xmath334 , whereby @xmath335 denotes the number of lr - onus and co in the network .",
    "note that in our case @xmath336 corresponds to uniform destination traffic .",
    "we observe from fig .",
    "[ fig : res6 ] that both awg network configurations are quite sensitive to destination traffic non - uniformity .",
    "the maximum mean aggregate throughput is significantly increased as the fraction of traffic routed over the awg increases .",
    "we illustrate the application of the capacity constraints of sections  [ treecap : sec][awgcap : sec ] .",
    "the total traffic bit rate in the network is @xmath299 \\sigma \\bar{l}.\\end{aligned}\\ ] ] for notational convenience , we define the equivalent number of medium bit rate traffic nodes as @xmath300 with which we express the medium traffic bit rate in terms of @xmath135 as @xmath301 .    for the upstream wdm channels , we note that an lr onu sends a packet with probability @xmath337 over the upstream wdm channels .",
    "hence , @xmath338\\end{aligned}\\ ] ] and @xmath339 for our scenario for @xmath312 and @xmath340 , we obtain for @xmath341 : @xmath342 , for @xmath343 : @xmath344 , and for @xmath345 : @xmath346 .    for the wdm downstream channels when",
    "using signal reflection for upstream transmissions , traffic contributions are made by @xmath0 the transmissions from the wdm onus at the considered epon to the other wdm onus at the epon , @xmath1 the transmissions by all other wdm onus and the ring nodes in the network to all the onus in the considered epon , @xmath36 the transmissions by all the lr onus and the remote co to the wdm onus in the considered epon giving for ( [ lambda_wdm_down : eqn ] ) : @xmath347 , \\nonumber\\end{aligned}\\ ] ] defining for the number of nodes not connected to the awg @xmath348 and @xmath349 gives the limit @xmath350 the resulting throughput limits are @xmath351 gbps for @xmath341 , @xmath352 gbps for @xmath343 , and @xmath353 gbps for @xmath345 .    for the awg we obtain from ( [ lambdaa : eqn ] ) the highest load on the awg channels interconnecting two epons as @xmath354 and the corresponding limit @xmath355 for our scenario , we obtain for @xmath345 the aggregate throughput constraint @xmath356 , indicating that the awg channels are still utilized to less than 25% .",
    "we have developed a comprehensive probabilistic analysis for evaluating the packet throughput - delay performance of next - generation pons ( ng - pons ) .",
    "our analysis accommodates both epons and gpons with their various next - generation upgrades , as well as a variety of all - optical interconnections of ng - pons .",
    "our numerical results illustrate the use of our analysis to evaluate the throughput delay performance of upgrades that increase the transmission line rates or wavelength counts .",
    "we also demonstrate the identification of network bottlenecks using our analysis .",
    "in this appendix we consider an ng - pon with three ring nodes between two olts / cos , whereas only one ring node is considered in section  [ num : sec ] .",
    "further , we consider in this appendix low traffic onus to be tdm onus , medium traffic onus to be wdm onus and high traffic onus to be lr onus ; whereas , in section  [ num : sec ] both low and medium traffic onus are considered wdm onus and high traffic onus are considered lr onus .    _",
    "a. uniform source - uniform destination traffic _ we initially consider uniform source traffic where all nodes generate the same traffic bit rate , i.e. , @xmath357 , in conjunction with uniform destination traffic where a packet generated at a node @xmath3 is destined to any of the other nodes with equal probability , i.e. , @xmath358 .",
    "note that for the uniform source traffic , @xmath359    we consider epon configurations with ( a ) @xmath360 , ( b ) @xmath361 , @xmath362 , ( c ) @xmath363 , @xmath364 , and ( d ) @xmath365 , @xmath366 . a given lr onu / hotspot co @xmath3 sends all traffic destined to other lr onus / the hotspot co @xmath81 over the awg subnetwork , i.e. , @xmath367 \\sigma / ( \\eta - 1)$ ] , since there are @xmath27 lr onus at each of the other cos , @xmath368 other lr onus at the co that the considered lr onu @xmath3 is attached to , and one hotspot .",
    "if transmission over the awg is possible , the corresponding traffic rates @xmath80 and @xmath369 for traffic over the epon and psc / ring subnetwork are set to zero .",
    "that is , the total traffic generation rate at each node is constant , and the generated traffic is either sent over the epon and psc / ring subnetwork , or , if possible , over the awg subnetwork .    from the stability conditions in section  [",
    "analysis : sec ] , we readily see that for the tdm epon channel the upstream condition ( [ eqn : tdmcap ] ) gives @xmath370 since each node generates a bit rate of @xmath371 and the @xmath25 tdm nodes send all their traffic upstream on the tdm channel . hence , the stability condition in terms of @xmath135 takes the form @xmath372    for the wdm epon channel upstream condition ( [ eqn : wdmcap ] ) , we note that the @xmath26 wdm onus send all their upstream traffic and the @xmath27 lr onus send all traffic not destined to other lr onus / hotspot , i.e. , all traffic destined to tdm / wdm onus and ring nodes , upstream on the wdm channels ( or the tdm channel ) . denoting for notational convenience the number of tdm / wdm onus and ring nodes by @xmath373 we obtain @xmath374 , resulting in the condition @xmath375    for the downstream tdm channel",
    ", we note that the @xmath25 tdm nodes at the considered epon send a packet to one of the other @xmath376 tdm nodes in the same epon with probability @xmath377 .",
    "the other @xmath378 nodes in the network send a packet to one of the @xmath25 nodes in the considered epon with probability @xmath379 .",
    "thus , @xmath380,\\end{aligned}\\ ] ] which simplifies to the stability condition ( [ rt_tdmup : eqn ] ) .",
    "for the downstream wdm channel condition for reflection of the downstream signal ( [ lambda_wdm_down : eqn ] ) there are three contributors to downstream wdm channel traffic : @xmath0 the @xmath26 wdm onus at the considered epon sending to other wdm onus at this epon contributing @xmath381 , @xmath1 all other nodes in the network sending to the @xmath26 wdm onus , contributing @xmath382 , and @xmath36 all tdm / wdm onus and ring nodes sending to the lr onus in the considered epon contributing @xmath383 , resulting in @xmath384.\\end{aligned}\\ ] ] inserting into ( [ lambda_wdm_down : eqn ] ) results in a condition identical to ( [ rt_wdmup : eqn ] ) .      for analysis of the ring / psc stability condition ( [ lambdapl : eqn ] ) , we fix the ring network to the structure illustrated in fig .  [",
    "fig : awg ] with @xmath386 ring nodes , @xmath387 cos ( of which @xmath40 is a hotspot co ) , and with three ring nodes between two cos .",
    "the highest traffic rate on a psc channel arises for the uniform traffic pattern on the channel toward a co with attached epon when the hotspot co is four ring hops from the considered co. we refer henceforth to the considered co as the `` target co '' , the co opposite of the target co around the ring as the `` opposite co '' , and the co situated four hops along the ring from the target co as the `` adjacent co '' ( which is located opposite the hotspot co ) .",
    "we have the following contributions to the traffic load on the psc home channel of the target co :    * the opposite co has @xmath274 tdm / wdm onus sending @xmath0 to the @xmath19 nodes in the epon attached to the target co , plus @xmath1 to the two ring nodes adjacent to the target co , plus @xmath36 with probability one half to the two ring nodes situated two hops from the target co over the target home channel .",
    "in addition , the opposite co has @xmath27 lr onus sending @xmath0 to the @xmath274 tdm / wdm onus in the epon attached to the target co , plus @xmath1 to the two ring nodes adjacent to the target co , plus @xmath36 with probability one half to the two ring nodes situated two hops from the target co over the target channel . thus",
    ", the opposite co contributes @xmath388 * the adjacent co has the same contribution as the opposite co , except that only the traffic to the two ring nodes adjacent to the target co is sent over the psc ; the ring nodes situated two hops from the target co are reached with two hops over the ring ( versus three hops over the psc and then ring ) .",
    "furthermore , the hotspot contributes as much as one lr onu at the adjacent co. overall , the contribution from the adjacent co and hotspot is thus @xmath389 * the four ring nodes situated within two ring hops from the target co do not send traffic toward the target co over the psc .",
    "* the two ring nodes situated three hops in either ring direction from the target co send to all onus attached to the target co over the psc ( and directly over the ring to the ring nodes one and two hops from the target co ) contributing @xmath277 * the four ring nodes situated five or six hops in either ring direction from the target co send to all onus attached to the target co plus to the two ring nodes adjacent to the target co over the psc contributing @xmath390 * the two ring nodes situated seven hops in either ring direction from the target co send to all onus attached to the target co , plus to the two ring nodes adjacent to the target co , plus with probability one half to the two ring nodes situated two hops from the target co over the psc contributing @xmath391      for the considered uniform traffic , the maximum @xmath393 arises for the awg channel from a co with an attached epon to another co with an attached epon .",
    "specifically , the tightest awg constraint ( [ lambdaa : eqn ] ) becomes @xmath394       [ [ empty-carrier-vs.signal-reflection-for-wdm-channel-upstream-transmission ] ] empty carrier vs.  signal reflection for wdm channel upstream transmission ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~    we initially consider the following elementary per - tdm cycle switching policy for switching between upstream and downstream transmission on the @xmath73 wdm channels . for ease of exposition , we explain the policy first for @xmath395 channel . during a given cycle on the tdm channel , the olt collects ( a ) both the report messages ( upstream transmission requests ) from the attached onus as well as ( b ) the packets arriving at the olt for forwarding downstream on the wdm channels to the onus . at the end of the cycle ,",
    "i.e. , when report messages from all attached onus have been received , the olt schedules : ( a ) all the requested upstream transmissions to arrive contiguously ( spaced by appropriate guard intervals ) at the olt .",
    "we initially consider gated service whereby the full upstream transmission request is granted and schedule the upstream grants in a first - come - first - served manner . at the end of the upstream transmissions , a switch over is scheduled .",
    "( b ) after the switchover , the olt schedules the transmission of all the downstream packets collected in the cycle in first - come - first - served manner , followed by a switchover . with this per - tdm cycle switching policy the olt schedules two switchovers corresponding to each tdm cycle .",
    "scheduling takes place at the end of every cycle on the tdm channel , i.e. , when again reports from all onus have been received . note that the length of the upstream plus downstream transmission schedule on the wdm channel is not necessarily equal to the length of the cycle on the tdm channel .",
    "if a large upstream traffic volume is reported and a large downstream traffic volume collected the olt may schedule the upstream and downstream transmissions way into the future .",
    "however , to every cycle on the tdm channel there corresponds one upstream - plus - downstream transmission schedule on the wdm channel .",
    "we extend the outlined per - tdm cycle scheduling policy for @xmath396 wdm channel to @xmath397 wdm channels as follows . as with @xmath395 , the olt schedules the upstream and downstream transmissions once per tdm cycle .",
    "the computed upstream plus downstream schedule is assigned to the @xmath73 channels in round - robin fashion .",
    "that is , a given wdm channel is assigned a schedule every @xmath73 cycles on the tdm channel .",
    "f.  aurzada , m.  scheutzow , m.  reisslein , n.  ghazisaidi , and m.  maier , `` capacity and delay analysis of next - generation passive optical networks ( ng - pons ) , '' _ ieee transactions on communications _ ,",
    "59 , no .  5 , pp .",
    "13781388 , may 2011 .",
    "j.  zhang , n.  ansari , y.  luo , f.  effenberger , and f.  ye , `` next - generation pons : a performance investigation of candidate architectures for next - generation access stage 1 , '' _ ieee communications magazine _ , vol .",
    "47 , no .  8 , pp . 4957 , aug .",
    "2009 .          c.  assi ,",
    "y.  ye , s.  dixit , and m.  ali , `` dynamic bandwidth allocation for quality - of - service over ethernet pons , '' _ ieee journal on selected areas in communications _ , vol .",
    "21 , no .  9 , pp .",
    "14671477 , november 2003 .",
    "h.  naser and h.  mouftah , `` a joint - onu interval - based dynamic scheduling algorithm for ethernet passive optical networks , '' _ ieee / acm transactions on networking _ , vol .",
    "14 , no .  4 , pp . 889899 , august 2006 .",
    "t.  holmberg , `` analysis of epons under the static priority scheduling scheme with fixed transmission times , '' in _ proceedings of ieee conference on next generation internet design and engineering ( ngi ) _ , apr .",
    "2006 , pp . 192199 .",
    "b.  lannoo , l.  verslegers , d.  colle , m.  pickavet , m.  gagnaire , and p.  demeester , `` analytical model for the ipact dynamic bandwidth allocation algorithm in epons , '' _ osa journal of optical networking _ , vol .  6 , no .  6 , pp . 677688 , jun .",
    "f.  aurzada , m.  scheutzow , m.  herzog , m.  maier , and m.  reisslein , `` delay analysis of ethernet passive optical networks with gated service , '' _ osa journal of optical networking _ , vol .  7 , no .  1 ,",
    "2541 , jan . 2008 .",
    "x.  bai , a.  shami , and y.  ye , `` delay analysis of ethernet passive optical networks with quasi - leaved polling and gated service scheme , '' in _ proc .  of second int .",
    "conference on access networks _",
    ", 2007 , pp .",
    "s.  bharati and p.  saengudomlert , `` packet delay analysis for limited service bandwidth allocation algorithm in epons , '' in _ proc .",
    "first asian himalayas international conference on internet ( ah - ici ) _ , 2009 , pp .",
    "m.  t. ngo , a.  gravey , and d.  bhadauria , `` a mean value analysis approach for evaluating the performance of epon with gated ipact , '' in _ proc .  of int .",
    "conference on optical network design and modeling ( ondm ) _ , 2008 , pp",
    ". 16 .",
    "j.  vardakas , v.  vassilakis , and m.  logothetis , `` blocking analysis for priority classes in hybrid wdm - ocdma passive optical networks , '' in _ proc .  of fifth advanced international conference on telecommunications ( aict ) _ , 2009 , pp .",
    "389394 .",
    "f.  aurzada , m.  scheutzow , m.  reisslein , and m.  maier , `` towards a fundamental understanding of the stability and delay of offline wdm epons , '' _ ieee / osa journal of optical communications and networking _ , vol .  2 , no .  1 ,",
    "5166 , jan . 2010 .",
    "j.  cai , a.  fumagalli , and i.  chlamtac , `` the multitoken interarrival time ( mtit ) access protocol for supporting variable size packets over wdm ring network , '' _ ieee journal on selected areas in communications _ , vol .",
    "18 , no .",
    "10 , pp . 20942104 ,",
    "m.  a. marsan , a.  bianco , e.  leonardi , m.  meo , and f.  neri , `` on the capacity of mac protocols for all  optical wdm multi  rings with tunable transmitters and fixed receivers , '' in _ proc . ,",
    "ieee infocom _ ,",
    ".  3 , mar .",
    "1996 , pp . 12061216 .",
    "v.  gambiroza , p.  yuan , l.  balzano , y.  liu , s.  sheafor , and e.  knightly , `` design , analysis , and implementation of dvsr : a fair high - performance protocol for packet rings , '' _ ieee / acm transactions on networking _ , vol .",
    "12 , no .  1 ,",
    "85102 , feb .",
    "i.  rubin and h .- k .",
    "h. hua , `` synthesis and throughput behavior of wdm meshed  ring networks under nonuniform traffic loading , '' _ ieee / osa journal of lightwave technology _ , vol .  15 , no .  8 , pp . 15131521 , aug .",
    "n.  mehravari , `` performance and protocol improvements for very high speed optical fiber local area networks using a passive star topology , '' _ ieee / osa journal of lightwave technology _ , vol .  8 , no .  4 , pp . 520530 , apr .",
    "n.  p. caponio , a.  m. hill , f.  neri , and r.  sabella , `` single  layer optical platform based on wdm / tdm multiple access for large ",
    "scale switchless networks , '' _",
    "european trans . on telecomm .",
    "_ , vol .  11 , no .  1 ,",
    "pp . 7382 , jan./feb .",
    "2000 .",
    "m.  scheutzow , m.  maier , m.  reisslein , and a.  wolisz , `` wavelength reuse for efficient packet - switched transport in an awg - based metro wdm network , '' _ ieee / osa journal of lightwave technology _ , vol .",
    "21 , no .  6 , pp . 14351455 , jun .",
    "yang , m.  maier , m.  reisslein , and w.  carlyle , `` a genetic algorithm - based methodology for optimizing multiservice convergence in a metro wdm network , '' _ ieee / osa journal of lightwave technology _ , vol .",
    "21 , no .  5 , pp .",
    "11141133 , may 2003 .",
    "b.  skubic , j.  chen , j.  ahmed , l.  wosinska , and b.  mukherjee , `` a comparison of dynamic bandwidth allocation for epon , gpon , and next - generation tdm pon , '' _ ieee communications magazine _ , vol .",
    "47 , no .  3 , pp .",
    "s40s48 , mar .",
    "2009 .",
    "r.  davey , d.  grossman , m.  rasztovits - wiech , d.  payne , d.  nesset , a.  kelly , a.  rafel , s.  appathurai , and s .- h .",
    "yang , `` long - reach passive optical networks , '' _ ieee / osa journal of lightwave technology _ , vol .  27 , no .  3 , pp .",
    "273291 , feb .",
    "2009 .",
    "f.  saliou , p.  chanclou , f.  laurent , n.  genay , j.  lazaro , f.  bonada , and j.  prat , `` reach extension strategies for passive optical networks , '' _ ieee / osa journal of optical communications and networking _ , vol .  1 , no .  4 , pp .",
    "c51c60 , sep 2009 .",
    "m.  maier , m.  herzog , m.  scheutzow , and m.  reisslein , `` protectoration : a fast and efficient multiple - failure recovery technique for resilient packet ring ( rpr ) using dark fiber , '' _ ieee / osa journal of lightwave technology _ , vol .",
    "23 , no .",
    "28162838 , oct ."
  ],
  "abstract_text": [
    "<S> building on the ethernet passive optical network ( epon ) and gigabit pon ( gpon ) standards , next - generation ( ng ) pons @xmath0 provide increased data rates , split ratios , wavelengths counts , and fiber lengths , as well as @xmath1 allow for all - optical integration of access and metro networks . </S>",
    "<S> in this paper we provide a comprehensive probabilistic analysis of the capacity ( maximum mean packet throughput ) and packet delay of subnetworks that can be used to form ng - pons . </S>",
    "<S> our analysis can cover a wide range of ng - pons through taking the minimum capacity of the subnetworks making up the ng - pon and weighing the packet delays of the subnetworks . </S>",
    "<S> our numerical and simulation results indicate that our analysis quite accurately characterizes the throughput - delay performance of epon / gpon tree networks , including networks upgraded with higher data rates and wavelength counts . </S>",
    "<S> our analysis also characterizes the trade - offs and bottlenecks when integrating epon / gpon tree networks across a metro area with a ring , a passive star coupler ( psc ) , or an arrayed waveguide grating ( awg ) for uniform and non - uniform traffic . to the best of our knowledge </S>",
    "<S> , the presented analysis is the first to consider multiple pons interconnected via a metro network .    </S>",
    "<S> 0.26 in </S>"
  ]
}