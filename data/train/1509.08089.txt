{
  "article_text": [
    "design tools for counting the frequencies of the appearance of 3- , 4- , and 5-node connected subgraph patterns ( i.e. , motifs , also known as graphlets ) in a graph is important for understanding and exploring networks such as online social networks and computer networks .",
    "for example , a variety of motif - based network analysis techniques have been widely used to characterize communication and evolution patterns in osns  @xcite , internet traffic classification and anomaly detection  @xcite , pattern recognition in gene expression profiling  @xcite , protein - protein interaction predication  @xcite , and coarse - grained topology generation  @xcite .    due to combinatorial explosion , it is computational intensive to enumerate and count motif frequencies even for a moderately sized graph .",
    "for example , medium - size networks slashdot  @xcite and epinions  @xcite have @xmath0 nodes and @xmath1 edges but have more than @xmath2 4-node connected and induced subgraphs ( cises )  @xcite . to address this problem , cheaper methods such as sampling can be used rather than the brute - force enumeration method . unfortunately",
    ", existing methods of estimating motif concentrations  @xcite can not be used to estimate motif frequencies , which are more fundamental than motif concentrations .    despite recent efforts to count triangles  @xcite ,",
    "little attention has been given to developing scalable tools that can be used to characterize 4- and 5-node motifs .",
    "jha et al .",
    "@xcite develop sampling methods to estimate 4-node undirected motifs frequencies . in our experiment",
    "we observe that their methods do not bound the estimation error tightly , so they significantly over - estimate the sampling budget required to achieve a certain accuracy .",
    "meanwhile , their methods can not be easily extended to characterize 5-node undirected motifs .",
    "moreover , their methods use an edge - centric program model , so it is difficult to implement them on current graph computing systems such as pregel  @xcite , graphlab  @xcite and graphchi  @xcite . in this paper",
    ", we propose new methods to estimate the frequencies of 4- and 5-node motifs .",
    "our contributions are summarized as : 1 ) our methods of sampling 4- and 5-node motifs are computational efficient and scalable .",
    "meanwile , they can be easily implemented via vertex centric programming models , which are required by most current graph computing systems .",
    "2 ) to validate our methods , we perform an in - depth analysis . we find that our methods provide unbiased estimators of motif frequencies . to the best of our knowledge , we are the first to derive simple and exact formulas for the variances of the estimators , which is critical for determining a proper sampling budget in practice",
    ". moreover , we conduct experiments on a variety of publicly available datasets , and experimental results show that our methods significantly outperform the state - of - the - art methods .    the rest of this paper is organized as follows .",
    "the problem formulation is presented in section  [ sec : problem ] .",
    "section  [ sec : preliminaries ] introduces preliminaries used in this paper .",
    "section  [ sec : methods ] presents our 4- and 5-node motif sampling methods .",
    "the performance evaluation and testing results are presented in section  [ sec : results ] .",
    "section  [ sec : related ] summarizes related work . concluding remarks then follow .",
    "let @xmath3 be the undirected graph of interest , where @xmath4 and @xmath5 are the sets of nodes and edges respectively . to formally define 4- and 5-node motif frequencies of @xmath6",
    ", we first introduce some notations .",
    "an induced subgraph of @xmath6 , @xmath7 , is a subgraph whose edges are _ * all * _ in @xmath6 , i.e. @xmath8 , @xmath9 .",
    "_ we would like to point out that if we do not say  induced \" in this paper , we mean that a subgraph is not necessarily induced_. fig .  [ fig:45nodeclasses](a ) shows all 4-node motifs @xmath10 of any undirected network .",
    "denote @xmath11 as the set of 4-node cises in @xmath6 isomorphic to motif @xmath12 , and then the motif frequency of @xmath12 is defined as @xmath13 , @xmath14 .",
    "[ fig:45nodeclasses](b ) shows all 5-node motifs @xmath15 of any undirected network .",
    "denote @xmath16 as the set of 5-node cises in @xmath6 isomorphic to motif @xmath17 , and then the motif frequency of @xmath17 is defined as @xmath18 , @xmath19 . in this paper",
    ", we aim to develop computational methods to estimate @xmath20 and @xmath21 .",
    "for ease of reading , we list notations used throughout the paper in table  [ tab : notations ] and we present the proofs of all theorems in this paper in appendix .",
    "+ @xmath22&the set of neighbors of a node @xmath23 in @xmath6 + @xmath24 & @xmath25 + @xmath10&4-node undirected motifs + @xmath26&4-node motif class i d of cis @xmath27 + & @xmath11 as the set of 4-node cises in @xmath6 + & isomorphic to motif @xmath12 , @xmath14 .",
    "+ & the frequency of motif @xmath12 , i.e. , + & @xmath13 , @xmath14 . + @xmath15&5-node undirected motifs + @xmath28&5-node motif class i d of cis @xmath27 + & @xmath16 as the set of 5-node cises in @xmath6 + & isomorphic to motif @xmath17 , @xmath19 .",
    "+ & the frequency of motif @xmath17 , i.e. , + & @xmath18 , @xmath19 . + @xmath29&@xmath30 + @xmath31 & @xmath32 + @xmath33 & sampling budget of moss-4 + @xmath34 & sampling budget of moss-4min + @xmath35 , @xmath36 & sampling budgets of moss-5 + & the number of subgraphs in motif @xmath17 + & that are isomorphic to motif @xmath37 + & the number of subgraphs in motif @xmath17 + & that are isomorphic to motif @xmath38 + & the number of subgraphs in motif @xmath17 + & that are isomorphic to motif @xmath39 + @xmath40&@xmath41 + @xmath42&@xmath43 + @xmath44&@xmath45 +   +   +   +   +   +",
    "[ theorem : mixestimators ] suppose we have @xmath46 unbiased estimates @xmath47 of @xmath48 , i.e. , @xmath49 . when these estimates are independent and their variances are @xmath50 , @xmath51 . using all these estimates ,",
    "we can obtain a more accurate unbiased estimate @xmath52 of @xmath48 by solving @xmath53 we can easily obtain the optimal @xmath54 when @xmath55 . we can also estimate the confidence interval of @xmath52 by the central limit theorem .",
    "that is , as @xmath56 , for any @xmath57 , we have @xmath58      to describe the state - of - the - art 4-node motif sampling methods : 3-path sampling and centered 3-path sampling  @xcite , we first introduce some notations .",
    "let @xmath22 be the set of neighbors of a node @xmath59 in @xmath6 .",
    "denote the degree of @xmath23 as @xmath24 , which is defined as the number of neighbors of @xmath23 in @xmath6 , i.e. , @xmath25 . let @xmath60 be a total order on all of the nodes in @xmath4 , which can be easily defined and obtained .",
    "for example , suppose we order all nodes based on their degrees and node ids , and we define @xmath61 if @xmath62 or , if @xmath63 while the node i d of @xmath64 is large than that of @xmath23 .",
    "let @xmath29 denote the set of @xmath64 s neighbors with order larger than @xmath23 , i.e. , @xmath65 denote @xmath32 .    to sample a 4-node cis ,",
    "the 3-path sampling method mainly consists of five steps : 1 ) sample an edge @xmath66 from @xmath5 according to the distribution @xmath67 i.e. , the probability of sampling an edge @xmath68 is @xmath69 ; 2 ) sample a node @xmath70 from @xmath71 uniformly at random ; 3 ) sample a node @xmath72 from @xmath73 uniformly at random ; 4 ) retrieve the cis @xmath27 including nodes @xmath23 , @xmath64 , @xmath70 , and @xmath72 . note that @xmath27 might be a 3-node cis when @xmath74 .    compared to 3-path sampling ,",
    "centered 3-path sampling is tailored to estimate the frequencies of 4-node motifs @xmath75 , @xmath76 , and @xmath77 , which are usually not frequently appeared in many real networks . to sample a 4-node cis ,",
    "the centered 3-path sampling method mainly consists of five steps : 1 ) sample an edge @xmath66 from @xmath5 according to the distribution @xmath78 2 ) sample a node @xmath70 from @xmath79 at random ; 3 ) sample a node @xmath72 from @xmath29 at random ; 4 ) retrieve the cis @xmath27 including nodes @xmath23 , @xmath64 , @xmath70 , and @xmath72 .",
    "similarly , @xmath27 might be a 3-node cis .",
    "vertex - centric programming models require users to express their algorithms by  thinking like a vertex \" .",
    "each node contains information about itself and all its immediate neighbors , and the algorithms operations are expressed at the level of a single node .",
    "for example , the operations of a node in pregel involve receiving messages from other nodes , updating the state of itself and its edges , and sending messages to other nodes .",
    "vertex - centric models are very easy to program and have been widely used for many graph mining and machine learning algorithms .",
    "in this section , we introduce our sampling methods : moss-4 and moss-4min .",
    "moss-4 is used to estimate all 4-node motifs frequencies .",
    "we observe that moss-4 might exhibit large errors for characterizing rare motifs ( i.e. , motifs with low frequencies ) for a small sampling budget .",
    "in addition to moss-4 , we also develop a method moss-4min to further reduce the errors for characterizing rare motifs .",
    "denote by @xmath80 .",
    "we assign a weight @xmath81 to each node @xmath59 .",
    "define @xmath82 and @xmath83 .",
    "our method of sampling a 4-node cis mainly consists of five steps : 1 ) sample a node @xmath23 from @xmath4 according to the distribution @xmath84 ; 2 ) sample a random node @xmath64 from @xmath22 according to the distribution @xmath85 , where @xmath86 is defined as @xmath87 3 ) sample a node @xmath70 from @xmath71 uniformly at random ; 4 ) sample a node @xmath72 from @xmath73 uniformly at random ; 5 ) retrieve the cis @xmath27 including nodes @xmath23 , @xmath64 , @xmath70 , and @xmath72 .",
    "we set the sampling budget as @xmath33 , i.e. , we run the above method @xmath33 times to obtain @xmath33 cises @xmath88 .",
    "the pseudo - code of moss-4 is shown in algorithm  [ alg : moss4 ] . in algorithm",
    "[ alg : moss4 ] , function @xmath89 returns a node sampled from @xmath4 according to the distribution @xmath90 , function @xmath91 returns a node sampled from @xmath92 at random , and function @xmath93 returns the cis with the node set @xmath94 in @xmath6 .",
    "let @xmath95 , @xmath14 , be the number of subgraphs in motif @xmath12 that are isomorphic to motif @xmath96 .",
    "we can easily compute @xmath97 , @xmath98 , @xmath99 , @xmath100 , @xmath101 , and @xmath102 . to remove the error introduced by sampling , we analyze the bias of moss-4 as follows :    [ theorem : moss4samplingweight ] when the sampling budget @xmath103 , moss-4 samples a cis @xmath104 with probability @xmath105 , @xmath14 .",
    "@xmath106    we let @xmath107 be the 4-node motif class i d of @xmath108 when @xmath108 is a 4-node cis , and -1 otherwise ( i.e. , @xmath108 is a triangle ) .",
    "let @xmath109 denote the indicator function that equals one when predicate @xmath110 is true , and zero otherwise .",
    "denote @xmath111 . for @xmath112 ,",
    "@xmath113 is larger than zero and we estimate @xmath114 as @xmath115 let @xmath116 .",
    "then , the number of all 4-node subgraphs ( not necessarily induced ) in @xmath6 isomorphic to motif @xmath117 is @xmath118 .",
    "let @xmath119 , @xmath14 , be the number of subgraphs in motif @xmath12 that are isomorphic to motif @xmath117 .",
    "we have @xmath120 , @xmath121 , @xmath122 , @xmath123 , @xmath124 , and @xmath125 .",
    "we can easily find that @xmath126 thus , we estimate @xmath127 as    @xmath128    [ theorem : variancemoss4 ] @xmath129 is an unbiased estimator of @xmath114 , @xmath14 .",
    "the variance of @xmath129 is @xmath130 the variance of @xmath131 is computed as @xmath132    from theorem  [ theorem : mixestimators ] , we can easily compute a sampling budget @xmath33 that can guarantee @xmath133 for any @xmath134 and @xmath135 , @xmath136 .",
    "* initialization * : for each node @xmath23 , we store its degree @xmath24 and use a list to store its neighbors @xmath22",
    ". therefore , it requires @xmath137 operations to compute @xmath81 , and the computational complexity of processing all nodes is @xmath138 .    *",
    "@xmath89 * : we use a list @xmath139 $ ] to store the nodes in @xmath4 .",
    "we store an array @xmath140 $ ] in memory , where @xmath141 $ ] is defined as @xmath141 = \\sum_{j=1}^i \\gamma_{v[j]}$ ] , @xmath142 .",
    "clearly , @xmath143 = \\gamma$ ] .",
    "let @xmath144=0 $ ] .",
    "then , @xmath89 can be easily achieved by the following three steps :    * step 1 : select a number @xmath145 from @xmath146 at random ; * step 2 : find @xmath147 satisfying @xmath148 < rnd \\le acc\\_\\gamma[i]$ ] , which can be solved by the binary search algorithm ; * step 3 : return @xmath149 $ ] .",
    "its computational complexity is @xmath150 .    * @xmath151 * : we use a list @xmath152 $ ] to store the neighbors of @xmath23 .",
    "we store an array @xmath153 $ ] in memory , where @xmath154 $ ] is defined as @xmath154 = \\sum_{j=1}^i ( d_{n_v[j ] } - 1)$ ] , @xmath155 .",
    "let @xmath156=0 $ ] .",
    "then , @xmath151 can be easily achieved by the following three steps :    * step 1 : select a number @xmath145 from @xmath157\\}$ ] at random ; * step 2 : find @xmath147 satisfying @xmath158 < rnd \\le acc\\_\\sigma^{(v)}[i],\\ ] ] which can be solved by the binary search algorithm ; * step 3 : return @xmath159 $ ] .",
    "its computational complexity is @xmath160 .    * @xmath161 * : let @xmath162 denote the index of @xmath64 in the list @xmath152 $ ] , i.e. , @xmath163=u$ ] .",
    "then , function @xmath161 can be achieved by the following steps :    * step 1 : select a number @xmath145 from @xmath164 at random ; * step 2 : return @xmath165 $ ] .",
    "its computational complexity is @xmath166 .    in summary ,",
    "the complexity of moss-4 sampling @xmath33 cises is @xmath167 .        from the above derived formulas of the variances of moss-4",
    ", we can see that moss-4 might exhibit larger errors for 4-node motifs with lower frequencies when allocating a small sampling budget @xmath33 . to solve this problem",
    ", we develop a better method moss-4min to further reduce the errors for estimating the frequencies of 4-node motifs @xmath75 , @xmath76 , and @xmath77 .",
    "let @xmath168 , @xmath59 .",
    "moss-4min assigns a weight @xmath169 to each node @xmath59 .",
    "define @xmath170 and @xmath171 .",
    "moss-4min mainly consists of five steps : 1 ) sample a node @xmath23 from @xmath4 according to the distribution @xmath172 .",
    "2 ) sample a node @xmath64 from @xmath22 according to the distribution @xmath173 , where @xmath174 is defined as @xmath175 3 ) sample a node @xmath70 from @xmath79 at random ; 4 ) sample a node @xmath72 from @xmath29 at random ; 5 ) retrieve the cis @xmath27 including nodes @xmath23 , @xmath64 , @xmath70 , and @xmath72 .",
    "we set the sampling budget as @xmath34 to obtain @xmath34 cises @xmath176 .",
    "@xmath177 , @xmath178 , and @xmath179    [ theorem : moss4minsamplingweight ] when the sampling budget @xmath180 , moss-4min samples cises @xmath181 , @xmath182 , and @xmath183 with probabilities @xmath184 , @xmath185 , and @xmath186 respectively .",
    "we estimate @xmath187 , @xmath188 , and @xmath189 as @xmath190 where @xmath111 .",
    "the variances of @xmath191 , @xmath192 , and @xmath193 are given in the following theorem .",
    "we omit the proof , which is analogous to that of theorem  [ theorem : variancemoss4 ] .    [",
    "theorem : variancemoss4min ] @xmath194 is an unbiased estimator of @xmath114 , @xmath195 .",
    "its variance is @xmath196    from theorems  [ theorem : mixestimators ] ,  [ theorem : variancemoss4 ] , and  [ theorem : variancemoss4min ] , we can easily obtain a more accurate estimator of @xmath114 by combining @xmath129 and @xmath194 , @xmath197 .",
    "we easily extend methods in section  [ sec : samplingfunctions ] to design functions @xmath198 and @xmath199 in algorithm  [ alg : moss4min ] .",
    "the computational complexity of moss-4min sampling @xmath33 cises is @xmath167 .      in this subsection",
    ", we show moss-4 and moss-4min can be easily implemented via vertex - centric programming models .",
    "first , we sample @xmath33 nodes in @xmath4 according to @xmath200 .",
    "let @xmath201 denote the number of times a node @xmath59 sampled .",
    "thus , @xmath202 . for each node @xmath23 , we set @xmath201 as its node value , and then repeat the set of four following operations @xmath201 times @xmath203 @xmath204 @xmath205 where @xmath206 is the adjacent matrix of the cis consisting of nodes @xmath23 , @xmath64 , @xmath70 , and @xmath72 , which are the variables in the algorithm  [ alg : moss4 ] , i.e. , the nodes sampled at the 1-st , 2-nd , 3-rd , and 4-th steps respectively . note that here @xmath72 and some entries in @xmath206 are unknown .",
    "function @xmath207 is used to get the values of unknown entries in @xmath206 based the edges of the current node @xmath23 .",
    "function @xmath208 generates a message @xmath209 , and sends the message to @xmath64 , which is a neighbor of @xmath23 .",
    "we process the messages that a node receives as follows :    * when a node @xmath64 receives a message like @xmath209 , do @xmath210 @xmath211 * when a node @xmath72 receives a message like @xmath212 , we first @xmath207 . from @xmath206 , we then have all the edges between @xmath23 , @xmath64 , @xmath70 , and @xmath72 .",
    "last , we set @xmath213 , where @xmath147 is the motif class of the cis consisting of @xmath23 , @xmath64 , @xmath70 , and @xmath72 .",
    "similar to moss-4 , we sample @xmath34 nodes in @xmath4 according to @xmath214 .",
    "let @xmath215 denote the number of times a node @xmath59 sampled .",
    "thus , @xmath216 .",
    "for each node @xmath23 , we set @xmath215 as its node value , and then repeat the set of four following operations @xmath215 times @xmath217 @xmath218 @xmath219    we process the messages that a node receives as follows :    * when a node @xmath64 receives a message like @xmath209 , do @xmath220 @xmath211 * when a node @xmath72 receives a message like @xmath212 , we first @xmath207 and then set @xmath213 , where @xmath147 is the motif class of the cis consisting of @xmath23 , @xmath64 , @xmath70 , and @xmath72 .",
    "moss-4 and moss4-min can be viewed as the vertex - centric versions of the 3-path and centered 3-path sampling methods respectively .",
    "suppose we use 4 bytes to store a node i d and its weight @xmath81 .",
    "the 3-path and centered 3-path sampling methods require @xmath221 bytes of memory , but moss-4 and moss-4min need only @xmath222 bytes , which is orders of magnitude smaller than @xmath221 for many real - world large networks .",
    "therefore , moss-4 and moss-4min are suit for disk - based graph computing systems such as graphchi and venus  @xcite , which aim to analyze big graphs when the graphs of interest can not be fitted into memory .",
    "moreover , moss-4 and moss-4min can be easily implemented in distributed vertex - centric graph computing systems such as pregel and graphlab .",
    "meanwhile , we would like to point out we give the closed - form formulas for the variances of moss-4 and moss-4min .",
    "they are critical to evaluate the error of an estimate and determine a proper sampling budget in order to guarantee certain accuracy .",
    "moreover , they can also help us to make the right sampling strategies in advance .",
    "an example is given in the following subsection .",
    "from theorems  [ theorem : variancemoss4 ] and  [ theorem : variancemoss4min ] , when @xmath223 , we have @xmath224 where @xmath225 , @xmath226 , and @xmath227 .",
    "thus , the value of @xmath228 helps us to determine whether it is necessary to apply moss-4min to further reduce the errors of estimating @xmath187 , @xmath188 , and @xmath189 .",
    "for example , the graph ca - grqc  @xcite has @xmath229 . in our experiments",
    "we observe that moss-4min slightly improves the accuracy of moss-4 for estimating @xmath187 and @xmath189 of ca - grqc , and exhibits a larger error than moss-4 for estimating @xmath188 of ca - grqc .",
    "moss-5 , our method of estimating frequency of all 5-node motifs , consists of two sub - methods : t-5 and path-5 .",
    "we develop t-5 to sample 5-node cises that include at least one subgraph isomorphic to @xmath37 .",
    "similarly , path-5 is developed to sample 5-node cises that include at least one subgraph isomorphic to @xmath38 .",
    "finally , we propose a method to estimate the frequency of all 5-node motifs based on sampled cises given by t-5 and path-5 .",
    "the pseudo - code of t-5 is shown in algorithm  [ alg : t-5 ] .",
    "let @xmath230 we assign a weight @xmath231 to each node @xmath59 .",
    "define @xmath232 and @xmath233 . to sample a 5-node cis , t-5",
    "mainly consists of five steps : 1 ) sample a node @xmath23 from @xmath4 according to the distribution @xmath234 ; 2 ) sample a node @xmath64 of @xmath22 according to the distribution @xmath85 , where @xmath86 is defined the same as in  ( [ eq : sigmanv ] ) ; 3 ) sample two different nodes @xmath70 and @xmath72 from @xmath71 at random ; 4 ) sample a node @xmath235 from @xmath73 uniformly at random ; 5 ) retrieve the cis @xmath27 including nodes @xmath23 , @xmath64 , @xmath70 , @xmath72 and @xmath235 .",
    "we run the above method @xmath35 times to obtain @xmath35 cises @xmath236 .",
    "let @xmath237 , @xmath19 , be the number of subgraphs in motif @xmath17 that are isomorphic to motif @xmath37 .",
    "the value of @xmath237 is given in table  [ tab:5nodephi ] .",
    "the following theorem shows the sampling bias of the 5-node t - sampling method .",
    "[ theorem : tsamplersamplingweight ] when the sampling budget @xmath238 , t-5 samples a cis @xmath239 with probability @xmath240 , @xmath19 .",
    "[ cols=\">,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>,>\",options=\"header \" , ]      we study the normalized root mean square error ( nrmse ) to measure the relative error of the motif frequency estimate @xmath241 with respect to its true value @xmath114 , @xmath242 .",
    "@xmath243 is defined as : @xmath244 where @xmath245 is defined as @xmath246=\\text{var}(\\hat{n}_i)+\\left(\\mathbb{e}[\\hat{n}_i]-n_i\\right)^2.\\ ] ] moreover , we define a standard error ( in short , stderr ) of @xmath241 as @xmath247 we can see that @xmath245 decomposes into a sum of the variance and bias of the estimator @xmath241 , both quantities are important and need to be as small as possible to achieve good estimation performance . when @xmath241 is an unbiased estimator of @xmath114 , then @xmath248 and thus @xmath243 is equivalent to the normalized standard error of @xmath241 , i.e. , @xmath249 . in our experiments",
    ", we average the estimates and calculate their nrmses over 1,000 runs .",
    "similarly , we define @xmath250 and @xmath251 for methods moss-4min and moss-5 . to validate the effective of our analytical error bounds , we also compute stderrs of moss-4 , moss-4min , and moss-5 based on the derived closed formula of @xmath252 , @xmath253 , and @xmath254 .",
    ".,scaledwidth=49.0% ]          figure  [ fig : moss4mse](a ) shows the real values of 4-node motif frequencies @xmath255 for graphs com - epinions1 , soc - slashdot08 , and com - amazon , which have @xmath256 , @xmath257 , and @xmath258 4-node cises respectively .",
    "we can see that the motif frequencies of @xmath75 , @xmath76 , and @xmath77 are several orders of magnitude smaller than that of the other motifs .",
    "fig  [ fig : moss4mse](b ) shows the nrmses and stderrs of @xmath259 , the estimates of 4-node undirected motifs frequencies given by moss-4 , where we set @xmath260 .",
    "we can see that motifs with high frequencies exhibit larger nrmses and stderrs than motifs with low frequencies .",
    "moreover , we observe that the stderr of @xmath261 almost equals to the nrmse of @xmath261 , which is consistent to our analysis above .",
    "our derived error formulas indicate that the stderr of @xmath261 decreases linearly with the sampling budget @xmath262 , which helps us to estimate the computational time required to guarantee certain accuracy for the estimate in advance .",
    "fig  [ fig : moss4mse](c ) shows the nrmses and stderrs of @xmath263 , @xmath264 , and @xmath265 given by moss-4min , where we set @xmath266 .",
    "similarly , we see that the stderr of @xmath261 almost equals to the nrmse of @xmath261 , @xmath197 .",
    "we compute @xmath267 to evaluate the performance of moss-4min in comparison with moss-4 .",
    "@xmath267 of soc - slashdot08 is 2.4 , 1.9 , and 2.3 for @xmath268 , @xmath269 , and @xmath270 respectively .",
    "@xmath267 of com - epinions1 is 2.5 , 2.0 , and 2.4 for @xmath268 , @xmath269 , and @xmath270 respectively .",
    "@xmath267 of com - amazon is 1.7 , 1.5 , and 1.8 for @xmath268 , @xmath269 , and @xmath270 respectively .",
    "@xmath267 of ca - grqc is 1.1 , 0.9 , and 1.8 for @xmath268 , @xmath269 , and @xmath270 respectively .",
    "we can see that moss-4min exhibits a slightly improvement for ca - grqc , so it is consistent to the analysis in section  [ subsection : comparemoss4 ] .",
    "to guarantee @xmath133 , @xmath136 , we let @xmath271 and @xmath272 denote the smallest sampling budgets that are determined by our method and the method in  @xcite respectively .",
    "[ fig : cmpkratio ] shows the values of @xmath273 , where @xmath274 and @xmath275 .",
    "we can see that the sampling budgets given by the method in  @xcite are several orders of magnitude larger than our method .",
    "it indicates that the method in  @xcite does not bound the estimation error tightly and so it significantly over - estimates the sampling budget required to achieve a certain accuracy .",
    "figure  [ fig : ground_stratified_5nodecis ] shows the real values of @xmath276 for graphs com - amazon , com - dblp , p2p - gnutella08 , ca - grqc , ca - condmat , and ca - hepth , which have @xmath277 , @xmath278 , @xmath279 , @xmath280 , @xmath281 , and @xmath282 5-node cises respectively .",
    "fig  [ fig : results5nodecis ] shows the nrmses and stderrs of @xmath283 , where we set @xmath284 and @xmath285 .",
    "we can see that the stderrs are very close to the nrmses .",
    "it indicates that the derived stderrs can be accurately used to evaluate the error of our estimates given by moss-5 . to the best of our knowledge",
    ", moss-5 is the first to provide a simple and accurate formula for analyzing estimation errors of 5-node motif frequencies .",
    "the results show that the nrmses of all 5-node motifs are smaller than 0.1 for com - amazon , which is larger than the other graphs studied in this paper . for the other graphs , most 5-node motifs nrmses are smaller than 0.1 .",
    "the nrmse of @xmath286 is larger than 1 for p2p - gnutella08 , and the nrmse of @xmath286 is larger than 1 for ca - grqc .",
    "we observe that p2p - gnutella08 has only several cises isomorphic to @xmath287 , and p2p - gnutella08 has no more than 200 cises isomorphic to @xmath288 .",
    "it is very challenging to observe and count these rare motifs for sampling based methods .",
    "most previous work focuses on estimating 5-node motif concentrations , which is defines as @xmath289 , @xmath290 .",
    "we run moss-5 , state - of - the - arts methods guise  @xcite and graft  @xcite over all above graphs and increase their sampling budgets until the estimation errors of motif concentrations are within 10% .",
    "[ fig : relativeruntime ] shows the runtimes of graft and guise normalized with respect to the runtimes of moss-5 .",
    "we can see that our method moss-5 is 2 to 3 orders of magnitude faster than graft and guise .",
    "in this paper , we study the problem of computing 4- and 5-node motifs frequencies for _ a single large graph _ , which is much different from the problem of computing the number of subgraph patterns appearing in _ a large set of graphs _ studied in  @xcite .",
    "recently , a lot of efforts has been devoted to design sampling methods for computing a large graph s motif concentrations  @xcite .",
    "however , these methods fail to compute motif frequencies , which is more fundamental than motif concentrations .",
    "alon et al .",
    "@xcite propose the color - coding method to reduce the computational cost of counting subgraphs .",
    "color coding reduces the computations by coloring nodes randomly and enumerating only colorful cises ( i.e. , cises that are consisted of nodes with distinct colors ) , but  @xcite reaveals that the color - coding method is not scalable and is hindered by the sheer number of colorful cises . @xcite",
    "develop sampling methods to estimate the number of triangles of static and dynamic graphs .",
    "jha et al .",
    "@xcite develop sampling methods to estimate 4-node undirected motifs frequencies .",
    "however their methods are edge centric methods , which can not be easily applied to current vertex centric graph computing systems such as graphlab  @xcite and graphchi  @xcite . moreover",
    ", their methods fail to sample and count 5-node motifs .",
    "we develop computationally efficient sampling methods moss-4 and moss-5 to estimate the frequencies of all 4- and 5-node motifs .",
    "compared moss-4 , moss-4min is better to characterize rare motifs .",
    "all these methods provide unbiased estimators of motif frequencies , and we derive simple and exact formulas for the variances of the estimators . meanwhile",
    ", we conduct experiments on a variety of publicly available datasets , and experimental results show that our methods significantly outperform state - of - the - art methods .",
    "this work was supported in part by the national natural science foundation of china ( 61103240 , 61103241 , 61221063 , 61221063 , 91118005 , u1301254 ) , the 111 international collaboration program of china , 863 high tech development plan ( 2012aa011003 ) , the prospective research project on future networks of jiangsu future networks innovation institute , and the application foundation research program of suzhou ( syg201311 ) .",
    "as shown in fig .  [ fig : example4nodes ] , we find that there exist two ways to sample a subgraph isomorphic to motif @xmath96 by moss-4 .",
    "each one happens with probability @xmath291 . for a 4-node cis @xmath27 isomorphic to motif @xmath12 ,",
    "@xmath27 has @xmath95 subgraphs isomorphic to motif @xmath96 , @xmath14 .",
    "thus , there exist @xmath292 ways to sample @xmath27 by moss-4 , and the probability of moss-4 sampling @xmath27 is @xmath293 .",
    "isomorphic to motif @xmath96 , where @xmath23 , @xmath64 , @xmath70 , and @xmath72 are the variables in algorithm [ alg : moss4 ] , i.e. , the nodes sampled at the 1-st , 2-nd , 3-rd , and 4-th steps respectively.,scaledwidth=49.0% ]      for @xmath294 and @xmath295 , we have @xmath296 @xmath88 are sampled independently , so the random variable @xmath297 follows the binomial distribution with parameters @xmath33 and @xmath298 .",
    "formally , we have @xmath299 then , the expectation and variance of @xmath297 are @xmath300 and @xmath301 therefore , the expectation and variance of @xmath129 are computed as @xmath302 and @xmath303    from  ( [ eq : moss4unbiased_ni ] ) , we compute the expectation of @xmath131 as @xmath304 the last equation holds because of  ( [ eq : n2 ] ) . to derive the variance of @xmath131 ,",
    "we first compute the covariance of @xmath129 and @xmath305 , where @xmath306 and @xmath307 .",
    "that is , @xmath308 in the derivation above , we use @xmath309 and @xmath310 when @xmath311 .",
    "finally , we compute the variance of @xmath131 as @xmath312 using  ( [ eq : moss4variance_ni ] ) and  ( [ eq : moss4covariance ] ) , then we have @xmath132      let @xmath313 denote the number of ways to sample a 4-node cis @xmath27 by moss-4min .",
    "then , we have @xmath314 .",
    "we compute @xmath315 , @xmath316 , and @xmath317 for cases @xmath318 , @xmath319 , and @xmath320 respectively .      as shown in fig .",
    "[ fig : example5tsampling ] , we find that there exist two ways to sample a subgraph isomorphic to motif @xmath37 by t-5 .",
    "each one happens with probability @xmath321 . for a 5-node cis @xmath27 isomorphic to motif @xmath17 ,",
    "@xmath27 has @xmath237 subgraphs isomorphic to motif @xmath37 , @xmath19 .",
    "therefore , the probability of sampling @xmath27 is @xmath322 .",
    "isomorphic to motif @xmath37 , where @xmath23 , @xmath64 , @xmath70 , @xmath72 , and @xmath235 are the variables in algorithm [ alg : t-5 ] , i.e. , the nodes sampled at the 1-st , 2-nd , 3-rd , 4-th , and 5-th steps respectively.,scaledwidth=49.0% ]      for @xmath323 and @xmath324 , we have @xmath325 since @xmath236 are sampled independently , the random variable @xmath326 follows the binomial distribution with parameters @xmath35 and @xmath327 .",
    "then , the expectation and variance of @xmath326 are @xmath328 and @xmath329 therefore , the expectation and variance of @xmath330 are computed as @xmath331 and @xmath332        as shown in fig .",
    "[ fig : example5pathsampling ] , we can see that there exist two ways to sample a subgraph isomorphic to motif @xmath38 by our path-5 sampling method .",
    "each one happens with probability @xmath338 . for a 5-node cis @xmath27 isomorphic to the @xmath147-th 5-node motif ,",
    "@xmath27 has @xmath339 subgraphs isomorphic to motif @xmath38 , @xmath19 .",
    "thus , the probability of path-5 sampling @xmath27 is @xmath340 .",
    "isomorphic to motif @xmath38 , where @xmath23 , @xmath64 , @xmath70 , @xmath72 , and @xmath235 are the variables in algorithm [ alg : path-5 ] , i.e. , the nodes sampled at the 1-st , 2-nd , 3-rd , 4-th , and 5-th steps respectively.,scaledwidth=40.0% ]      for @xmath341 and @xmath342 , we have @xmath343 @xmath344 are sampled independently , therefore the random variable @xmath345 follows the binomial distribution with parameters @xmath36 and @xmath346 .",
    "then , the expectation and variance of @xmath345 are @xmath347 and @xmath348 thus , the expectation and variance of @xmath349 are computed as @xmath350 and @xmath351        for @xmath357 , theorems  [ theorem : variancet-5 ] and  [ theorem : variancepath-5 ] tell us that @xmath358 and @xmath359 are unbiased estimators of @xmath358 , and they are independent .",
    "moreover , @xmath360 .",
    "therefore , we easily find that @xmath361 is also an unbiased estimator of @xmath358 , and its variance is  ( [ eq : variancemix ] ) .",
    "next , we study the expectation and variance of @xmath362 .",
    "the expectation of @xmath362 is @xmath363 next , we compute the covariance of @xmath364 and @xmath365 for @xmath366 and @xmath306 . for any @xmath366 , we have @xmath367 because @xmath368 and @xmath369 are independent .",
    "thus , we have @xmath370 when @xmath371 and @xmath372 . when @xmath371 and @xmath373 , we have @xmath374 similarly , we have @xmath375 when @xmath376 and @xmath372 .",
    "when @xmath377 and @xmath306 , we have @xmath378 finally , the variance of @xmath362 is computed as @xmath379      n.  ahmed , n.  duffield , j.  neville , and r.  kompella .",
    "graph sample and hold : a framework for big - graph analytics . in _ proceedings of the 20th acm sigkdd international conference on knowledge discovery and data mining _ ,",
    "pages 589597 , 2014 .",
    "j.  cheng , q.  liu , z.  li , w.  fan , j.  c.  s. lui , and c.  he .",
    "vertex - centric streamlined graph computation on a single pc . in _",
    "31st ieee international conference on data engineering , icde 2015 , seoul , south korea , april 13 - 17 , 2015 _ , pages 11311142 , 2015 .",
    "h.  chun , y.  yeol ahn , h.  kwak , s.  moon , y.  ho  eom , and h.  jeong .",
    "comparison of online social relations in terms of volume vs. interaction : a case study of cyworld . in _ proceedings of acm",
    "sigcomm internet measurement conference 2008 _ , pages 5759 , november 2008 .",
    "m.  iliofotou , m.  faloutsos , and m.  mitzenmacher .",
    "exploiting dynamicity in graph - based traffic analysis : techniques and applications . in _ proceedings of the 5th international conference on emerging networking experiments and technologies _ , conext 2009 , pages 241252 , 2009 .",
    "m.  jha , c.  seshadhri , and a.  pinar . a space efficient streaming algorithm for triangle counting using the birthday paradox . in _ proceedings of the 19th acm sigkdd international conference on knowledge discovery and data mining",
    "_ , pages 589597 , 2013 .",
    "m.  jha , c.  seshadhri , and a.  pinar .",
    "path sampling : a fast and provable method for estimating 4-vertex subgraph counts . in _ proceedings of the 24th international conference on world wide web , www 2015 , florence , italy , may 18 - 22 , 2015 _ , pages 495505 , 2015 .",
    "m.  jha , c.  seshadhri , and a.  pinar .",
    "path sampling : a fast and provable method for estimating 4-vertex subgraph counts . in _ proceedings of the 24th international conference on world wide web ,",
    "www 2015 , florence , italy , may 18 - 22 , 2015 _ , pages 495505 , 2015 .",
    "y.  jin , e.  sharafuddin , and z .-",
    "l . zhang .",
    "unveiling core network - wide communication patterns through application traffic activity graph decomposition . in _ proceedings of the eleventh international joint conference on measurement and modeling of computer systems",
    "_ , sigmetrics 2009 , pages 4960 , 2009 .",
    "a.  kyrola , g.  e. blelloch , and c.  guestrin .",
    "graphchi : large - scale graph computation on just a pc . in _",
    "10th usenix symposium on operating systems design and implementation , osdi 2012 , hollywood , ca , usa , october 8 - 10 , 2012 _ , pages 3146 , 2012 .",
    "g.  malewicz , m.  h. austern , a.  j. bik , j.  c. dehnert , i.  horn , n.  leiser , and g.  czajkowski .",
    "pregel : a system for large - scale graph processing . in _ proceedings of the 2010 acm",
    "sigmod international conference on management of data _ , pages 135146 , 2010 .",
    "m.  rahman , m.  bhuiyan , and m.  a. hasan .",
    "graft : an approximate graphlet counting algorithm for large graph analysis . in _ proceedings of the 21st acm international conference on information and knowledge management _ , 2012 .",
    "j.  ugander , l.  backstrom , and j.  kleinberg .",
    "subgraph frequencies : mapping the empirical and extremal geography of large graph collections . in _ proceedings of the 22nd international conference on world wide web _ , www 2013 ,",
    "pages 13071318 , 2013 .",
    "j.  zhao , j.  c.  s. lui , d.  towsley , x.  guan , and y.  zhou . empirical analysis of the evolution of follower network : a case study on douban . in _ proceedings of ieee infocom netscicom 2011",
    "_ , pages 941946 , april 2011 ."
  ],
  "abstract_text": [
    "<S> counting the frequencies of 3- , 4- , and 5-node undirected motifs ( also know as graphlets ) is widely used for understanding complex networks such as social and biology networks . however , it is a great challenge to compute these metrics for a large graph due to the intensive computation . despite recent efforts to count triangles ( i.e. , 3-node undirected motif counting ) , </S>",
    "<S> little attention has been given to developing scalable tools that can be used to characterize 4- and 5-node motifs . </S>",
    "<S> in this paper , we develop computational efficient methods to sample and count 4- and 5- node undirected motifs . </S>",
    "<S> our methods provide unbiased estimators of motif frequencies , and we derive simple and exact formulas for the variances of the estimators . </S>",
    "<S> moreover , our methods are designed to fit vertex centric programming models , so they can be easily applied to current graph computing systems such as pregel and graphlab . </S>",
    "<S> we conduct experiments on a variety of real - word datasets , and experimental results show that our methods are several orders of magnitude faster than the state - of - the - art methods under the same estimation errors . </S>"
  ]
}