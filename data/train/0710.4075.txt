{
  "article_text": [
    "as noted in noble et al ( 2006 ) , parallel computation is barely used in astronomical analysis . for example , models in xspec ( arnaud 1996 ) , the de facto standard x - ray spectral analysis tool , still run serially on my dual - cpu desktop .",
    "in this situation scientists tend to either turn away from models which are expensive to compute or just accept that they will run slowly .",
    "analysis systems which do not embrace parallelism can process at most the workload of only 1 cpu , resulting in a dramatic @xmath0 underutilization of resources as more cpu cores are added . at the same time , however , astronomers are well versed in scripting , particularly with very high - level , array - oriented numerical packages like idl , pdl , and s - lang , to name a few .",
    "they combine easy manipulation of mathematical structures of arbitrary dimension with most of the performance of compiled code , with the latter due largely to moving array traversals from the interpreted layer into lower - level code like this c fragment    ....                    case slang_times :                         for ( n = 0 ; n $ < $ na ; n++ )                             c[n ] = a[n ] * b[n ] ; ....    which provides vectorized multiplication in s - lang .",
    "this suggests that much of the strength and appeal of numerical scripting stems from relatively simple loops over regular structures .",
    "having such loops in lower - level compiled codes also makes them ripe for parallelization with openmp  on shared memory multiprocessors .",
    "proponents contend that conceptual simplicity makes openmp  more approachable than other parallel programming models , e.g. message - passing in mpi or pvm , and emphasize the added benefit of allowing single bodies of code to be used for both serial and parallel execution .",
    "for instance , preceding the above loop with ` # pragma omp parallel for ` parallelizes the s - lang  multiplication operator ; the pragma is simply ignored by a non - conforming compiler , resulting in a sequential program .",
    "isis  ( houck , 2002 ) was conceived to support analysis of high - resolution chandra x - ray gratings spectra , then quickly grew into a general - purpose analysis system ; it is essentially a superset of xspec , combining all of its models and more with the s - lang  scripting language , whose mathematical capabilities rival commercial packages such as matlab or idl .",
    "one of several distinguishing features possessed by isis  is its ability to bring the aggregate power of workstation clusters , through a fault - tolerant pvm interface , to bear on general problems in spectroscopic analysis ( noble et al 2006 ) .",
    "this paper complements that work by discussing two ways in which openmp  has been used to enable shared - memory parallelism in isis . like our pvm work ,",
    "we believe this is another first for general - purpose x - ray spectroscopy , and is of added significance in that adapting isisfor parallelism  both distributed and shared - memory  no modifications to its architecture or internal codebase were required .    the first manner in which isis  was endowed with",
    "multicore capability involved loading a module of parallelized wrappers for c functions such as exp and hypot ( fig .",
    "[ p10.5-fig-1 ] ) .",
    "these bindings were created by slirp , which is distinguished by its ability to auto - generate vectorized wrappers such as    ....              static void sl_atof ( void )              {                 ...                 for ( _ viter=0 ; _ viter < vs.num_iters ; _",
    "viter++ )                     retval[_viter ] = atof((char*)*arg1 ) ;                 ...              } ....    that allow functions which ordinarily accept only scalar inputs to also be used with array semantics .",
    "adapting slirp  to enable these vectorized wrappers to run in parallel was as simple as having it prefix the vectorization loop with an openmp   # pragma as detailed above .",
    "this enables s - lang  intrinsics , all of which execute serially , to be replaced with parallel versions of the same name , transparently parallelizing the replaced functions .",
    "our second multicore tactic involved minimizing the effects of amdahl s law by parallelizing a number of s - lang  operators ( and part of the where ( ) function ) , through the addition of    ....             # pragma omp parallel for if ( size > omp_min_elements ) ....    to the corresponding loops within the s - lang  interpreter source the if clause in these directives was used to tune performance for small arrays , where the cost of threads outweighs the serial execution time .",
    "the speedup plots in figs .",
    "[ p10.5-fig-1 ] and [ p10.5-fig-2 ] demonstrate significant performance gains from the use of shared - memory parallelism in isis .",
    "our numbers represent measurements of prerelease gcc 4.2 -o2 builds on 2 cpus running debian linux ( linux2 ) and sun studio 9 -xo3 builds on 4 cpus running solaris ( solaris4 ) , with position independent compilation .",
    "performance of the parallelized functions approaches the theoretical maximum of linear speedup as array sizes increase ( fig .",
    "[ p10.5-fig-1 ] ) , and the inflection points in the size of the arrays needed for nominal speedup from multithreading ( represented by the dotted vertical lines ) are relatively small , ca .",
    "1000 elements on linux2  and 250 elements on solaris4 .",
    "while isis  supports custom user models in fortran and c / c++ , it can be faster to code them directly in s - lang  and avoid compilation steps during experimental tuning . in this section",
    "we discuss how one such function , a 4-parameter weibull model coded for serial execution and taken directly from an active research project at mit , parallelized using the techniques detailed above .",
    "[ p10.5-fig-2 ] shows realized speedups converging on ca .",
    "150% for linux2  and 300% for solaris4 .",
    "these are sizable performance increases , and especially significant in that end - users need to do nothing  in terms of learning parallelism or recoding sequential algorithms  to obtain them ; the same top - level model script can be used for both parallel and serial execution .",
    "furthermore , recall that these models are used in the context of an iterative fitting process .",
    "fits do not converge after just one iteration , and generating accurate confidence intervals  an absolute necessity for credible modeling ",
    "can require that tens or hundreds of thousands of fits be performed at each point on a parameter space grid .",
    "in such cases the speedups given here accumulate to significant differences in the overall runtime of an analysis sequence .",
    "we are witnessing the arrival of serious multiprocessing capability on the desktop : multicore chip designs are making it possible for general users to access many processors . at the granularity of the operating system it will be relatively easy to make use of these extra cores , say by assigning whole programs to separate cpus . as noted with increasing frequency of late , though , it is not as straightforward to exploit this concurrency _ within _ individual desktop applications . in this paper",
    "we demonstrated how we have helped our research colleagues prepare for this eventuality .",
    "we have enhanced the vectorization capabilities of slirp , a module generator for the s - lang  numerical scripting language , so that wrappers may be annotated for automatic parallelization with openmp .",
    "this lets s - lang  intrinsic functions be replaced with parallelized versions , at runtime , without modifying a single line of internal s - langsource .",
    "we have shown how s - lang  operators may also be parallelized with relative ease , by identifying key loops within the interpreter source , tagging them with openmp  directives and recompiling .",
    "these simple adaptations , which did not require any changes to the isis  architecture or codebase , have yielded beneficial speedups for computations actively used in astrophysical research , and allow the same numerical scripts to be used for both serial and parallel execution  minimizing two traditional barriers to the use of parallelism by non - specialists : learning how to program for concurrency and recasting sequential algorithms in parallel form . by transparently using openmp  to effect greater multiprocessor utilization we gain the freedom to explore on the desktop more challenging problems that other researchers might avoid for their prohibitive cost of computation .",
    "the openmp  support now available in gcc makes the techniques espoused here a viable option for many open source numerical packages , opening the door to wider adoption of parallel computing by general practitioners .",
    "arnaud , k.  a.  1996 houck , j.  c.  2002 , isis : the interactive spectral interpretation system , high resolution x - ray spectroscopy with xmm - newton and chandra noble , m.  s. , houck , j.  c. , davis , j.  e. , young , a. , nowak , m.  2006 , using the parallel virtual machine for everyday analysis , , 481"
  ],
  "abstract_text": [
    "<S> motivated by the emergence of multicore architectures , and the reality that parallelism is rarely used for analysis in observational astronomy , we demonstrate how general users may employ tightly - coupled multiprocessors in scriptable research calculations while requiring no special knowledge of parallel programming . </S>",
    "<S> our method rests on the observation that much of the appeal of high - level vectorized languages like idl or matlab stems from relatively simple internal loops over regular array structures , and that these loops are highly amenable to automatic parallelization with openmp . </S>",
    "<S> we discuss how isis , an open - source astrophysical analysis system embedding the s - lang  numerical language , was easily adapted to exploit this pattern . </S>",
    "<S> drawing from a common astrophysical problem , model fitting , we present beneficial speedups for several machine and compiler configurations . </S>",
    "<S> these results complement our previous efforts with pvm , and together lead us to believe that isis is the only general purpose spectroscopy system in which such a range of parallelism  from single processors on multiple machines to multiple processors on single machines  has been demonstrated . </S>"
  ]
}