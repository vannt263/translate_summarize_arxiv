{
  "article_text": [
    "we approach the connected ideas we loosely call cosmic web theory ( bond , kofman and pogosyan 1996 , bkp ) and the peak patch picture ( bond and myers 1996 , bm , refer here for pre-1995 work ) through a historical path that includes an outline of the relevant terminology . in 1965 ,",
    "lin , mestel & shu showed that a cold triaxial collapse implied an oblate `` pancake '' would form . in 1970 ,",
    "zeldovich developed his famous approximation and argued that pancakes would be the first structures that would form in the adiabatic baryon - dominated universes popular at that time .",
    "generally for a cold medium , there is a full non - linear map : @xmath2 , from lagrangian ( initial state ) space , @xmath3 , to eulerian ( final state ) space , @xmath4 .",
    "the map becomes multivalued as nonlinearity develops in the medium .",
    "it is conceptually useful to split the displacement field , @xmath5 , into a smooth quasilinear long wavelength piece @xmath6 and a residual highly nonlinear fluctuating field @xmath7 . if the _ rms _ density fluctuations smoothed on scale @xmath8 , @xmath9 , are @xmath10 , the @xmath6-map is one - to - one ( single - stream ) except at the rarest high density spots . in the peak patch approach , @xmath8 is adaptive , allowing for dynamically hot regions like protoclusters to have large smoothing and cool regions like voids to have small smoothing .",
    "if @xmath11 is the linear growth factor , then @xmath12 describes lagrangian linear perturbation theory , _",
    "i.e. _ the zeldovich approximation .",
    "the large scale peculiar velocity is @xmath13 .",
    "what is important for us is the strain field ( or deformation tensor ) : @xmath14and @xmath15 is the smoothed linear overdensity , which we often express in terms of the height relative to the _ rms _ fluctuation level @xmath9 , @xmath16 . the deformation eigenvalues are ordered according to @xmath17 and @xmath18 denote the unit vectors of the principal axes . in that system",
    ", @xmath19 describes the local evolution .",
    "the zeldovich - mapped overdensity is @xmath20 , exploding when the largest eigenvalue @xmath21 reaches unity ( fold caustic formation ) . in a zeldovich map a pancake developes along the surface @xmath22 .",
    "the strain tensor is related to the peculiar linear tidal tensor by @xmath23 , where @xmath24 = peculiar gravitational potential , and to the linear shear tensor by @xmath25 .",
    "the anisotropic part of the shear tensor has two independent parameters , the ellipticity @xmath26 ( always positive ) and the prolaticity @xmath27 .",
    "doroshkevich ( 1973 ) and later doroshkevich & shandarin ( 1978 ) were among the first to apply the statistics of gaussian random fields to cosmology , in particular of @xmath28 , at random points in the medium .",
    "arnold , shandarin and zeldovich ( 1982 ) made the important step of applying the catastrophe theory of caustics to structure formation .",
    "this work suggested the following formation sequence : pancakes first , followed by filaments and then clusters .",
    "this should be compared to the bkp web picture formation sequence : clusters first , followed by filaments and then walls .",
    "bkp also showed that filaments are really ribbons , walls are webbing between filaments in cluster complexes , and that walls are not really classical pancakes .",
    "for the universe at @xmath29 , massive galaxies play the role of clusters , and for the universe at @xmath30 more modest dwarf galaxies take on that role .",
    "the web story relies heavily upon the theory of gaussian random fields as applied to the rare `` events '' in the medium , _",
    "e.g. _ , high density peaks .",
    "salient steps in this development begin with bardeen _ et al . _",
    "( 1986 , bbks ) , where the statistics of peaks were applied to clusters and galaxies , _",
    "e.g. , _ the calculation of the peak - peak correlation function , @xmath31 . in a series of papers , bond ( 1986 - 90 ) and bond & myers ( 1990 - 93 ) developed the theory so that it could calculate the mass function , @xmath32 .",
    "it was also applied to the study of how shear affects cluster alignments ( _ e.g. , _ the binggeli effect ) , and to ly@xmath0 clouds , ` great attractors ' , giant ` cluster - patches ' , galaxy , group and cluster distributions , dusty pgs , cmb maps and quasars .",
    "this culminated in the bm `` peak - patch picture of cosmic catalogues '' .",
    "we briefly describe the bm peak patch method and how it is applied to initial conditions for simulations ; an example is shown in fig .",
    "[ dotplot ] .",
    "we identify candidate peak points using a hierarchy of smoothing operations on the linear density field @xmath33 . to determine patch size and mass we use an ellipsoid model for the internal patch dynamics , which are very sensitive to the external tidal field .",
    "a byproduct is the internal ( binding ) energy of the patch and the orientation of the principal axes of the tidal tensor .",
    "we apply an exclusion algorithm to prevent peak - patch overlap . for the external dynamics of the patch",
    ", we use a zeldovich - map with a locally adaptive filter ( @xmath34 ) to find the velocity @xmath35 ( with quadratic corrections sometimes needed ) .",
    "the peaks are rank - ordered by mass ( or internal energy ) .",
    "thus , for any given region , we have a list of the most important peaks . by using the negative of the density field",
    ", we can also get void - patches .",
    "some of the virtues of the method are : it represents a natural generalization of the press - schechter method to include non - local effects ; has been the principal competitor to the peaks theory over the years , but it has no real physical basis and disagrees strongly with the spatial distribution ( bond _ et.al . _",
    "1991 ) ; thus the amazement , and delight , in the community that @xmath36 fits that of @xmath37-body group catalogues so well . ] is a natural generalization of bbks single - filter peaks theory to allow a mass spectrum and solve the cloud - in - cloud ( _ i.e. _ , peak - in - peak ) problem ; allows efficient monte carlo constructions of 3d catalogues ; gives very good agreement with @xmath37-body groups ; has an accurate analytic theory with which to estimate peak properties , ( _ e.g. , _ mass and binding energy from mean - profiles , using @xmath38 , @xmath39 ) ; and handles merging , with high redshift peaks being absorbed into low redshift ones .",
    "bkp concentrated on the impact the peak - patches would have on their environment and how this can be used to understand the web .",
    "they showed that the final - state filament - dominated web is present in the initial conditions in the @xmath40 pattern , a pattern largely determined by the position and primordial tidal fields of rare events .",
    "bkp also showed how 2-point rare - event constraints define filament sizes ( see their fig .",
    "the strongest filaments are between close peaks whose tidal tensors are nearly aligned .",
    "strong filaments extend only over a few lagrangian radii of the peaks they connect .",
    "they are so visually impressive in eulerian space because the peaks have collapsed by about 5 in radius , leaving the long bridge between them , whose transverse dimensions have also decreased .",
    "this is illustrated by the lower right panel of fig .",
    "[ dotplot ] in which the aligned galaxy peaks are connected by strong filaments .",
    "strong vertical filaments are a product of the vertical alignment of the peaks tidal tensors , which simultaneously acts to prevent a strong horizontal filament between the top two peaks .",
    "the reason for this phenomenon is that the high degree of constructive interference of the density waves required to make the rare peak - patches , and to preferentially orient them along the 1-axis , leads to a slower decoherence along the 1-axis than along the others , and thus a higher density .",
    "3-point and higher rare - event constraints of nearby peaks determine the nature of the webbing between the filaments , also evident in fig .",
    "[ dotplot ] .",
    "= 2.5 in = 2.5 in    = 2.5 in = 2.5 in",
    "although it is usual to evolve ambient `` random '' patches of the universe in cosmology , there are obvious advantages in spending one s computational effort on the regions of most interest .",
    "single peak constraints are very useful if cluster or galaxy formation is the focus , while multiple peak constraints are more useful if superclusters , or cluster substructure , or filaments and walls are the focus .",
    "we have seen that the essential features at a given epoch of the filamentary structure and the wall - like webbing between the filaments is largely defined by the dominant collapsed structures , and the peak patches that gave rise to them . a general method for building peak environments",
    "is suggested : construct random field initial conditions that require the field to have prescribed values of the peak shear ( smoothed over the peak size at the peak position ) , for a subset from the size - ordered list of peaks that will have a strong impact on the patch to be simulated",
    ". only a handful @xmath41 of peaks and/or voids is usually needed to determine the large scale features , effectively compressing the information needed to @xmath42 numbers ( @xmath43 ) ; peak velocities and the peak constraint are also usually added but these are not as important .    to illustrate how this works , we created a random ( unconstrained ) initial state for a cdm model in a 40mpc box , our `` galaxy '' simulation .",
    "we found peak patches according to the method described in bm and focussed on a specific subregion exhibiting a strong filament , choosing the peaks and voids that were expected to exert strong tidal influences within and upon the patch , as described in fig .",
    "[ dotplot ] .",
    "the region chosen was just above the large central cluster of peaks in the top left panel of fig .",
    "[ dotplot ] .",
    "we constructed a higher resolution set of `` ly@xmath0 cloud '' initial conditions for this patch , which the `` galaxy '' initial condition simulation could not resolve well enough to address the low column depth ly@xmath0 forest of interest to us .    by compressing the initial data in our target region to just the positions and shears of a few large peak patches , then forming a constrained realization and applying different random waves ( optimally - sampled for the smaller region ) than the original @xmath44 initial condition used , we know we will get high frequency structure wrong .",
    "but clearly the large scale features are the same .",
    "this is in spite of the tremendously complex filamentary structure just below our chosen sub - region .",
    "the peaks we chose were on the basis of rareness ( size ) and proximity to the patch ( using an algorithm roughly based on correlation function falloff from each peak ) .",
    "the five peak - patches used for this companion ly@xmath0 simulation had the following masses ( in units of @xmath45 ) and halo velocity dispersion ( in units of @xmath46 ) as determined from the binding energy : @xmath47 ; @xmath48 ; @xmath49 ; @xmath50 ; @xmath51 .",
    "these accord well with what our group finder finds in the simulation at this redshift .",
    "the two void - patches used had lagrangian masses of @xmath52 and @xmath53 , and were outside the high resolution interior .",
    "the approximate alignments of the shear tensors for the peak patches inside ensure that a strong filament exists .",
    "[ ray ] shows how the filament looks in hi column density .        to do such complex regions ,",
    "the standard periodic box approach to cosmological simulations is obviously not appropriate .",
    "advantages of focussed non - periodic simulations include : ( 1 ) good mass resolution , allowing us to concentrate on the scale needed to adequately treat the objects that form ( _ e.g. _ dwarf galaxies , @xmath54kpc ) , and corresponding high numerical resolution ( @xmath55 , @xmath56 @xmath57 kpc ) , can be achieved ; ( 2 ) good @xmath58-space sampling is also possible .",
    "the competing demands of @xmath58-space sampling and resolution are further described in fig .",
    "[ probes ] .",
    "our method allows high resolution without compromising our long wave coverage by going beyond grid based ffts , with a fastft for high @xmath58 ( which kicks out well before the fundamental mode is reached ) that is superseded by two direct fts , power - law then log @xmath58 sampling , with transitions among them determined by minimizing the volume per mode in @xmath58-space .",
    "well - sampled @xmath58-space is especially important for ly@xmath0 cloud and galaxy formation as opposed to cluster formation because the density power spectrum for viable hierarchical theories has nearly equal power per decade ( approaching flatness in fig .",
    "[ probes ] ) : if just the fft is used , as is often the case in cosmology even for non - periodic calculations , because there is only one fundamental @xmath58-mode along each box axis , the large scale structure in the simulation will be poorly modelled , and this can also have a deleterious effect on small scale structure .",
    "there is no point adding long waves without maintaining accurate large scale tides and shearing fields during the calculation .",
    "we achieve this with a high resolution region of interest ( grid spacing @xmath59 , @xmath60 sphere ) that sits within a medium resolution region ( @xmath61 , @xmath62 ) , in turn within a low resolution region ( @xmath63 , @xmath64 ) .",
    "the influence of ultra long waves is included by measuring the mean external tide acting on the low resolution region in the initial conditions , adopting simple models for the ultra - long wave dynamics based on that measurement ( _ e.g. _ linear , zeldovich , or homogeneous ellipsoid , as in bm ) and applying it as an `` external force '' throughout the simulation . for this simulation , linear ultra long wave dynamics were adequate .",
    "in wb , instead of complex multipeak constraints for individual regions , we use _ importance sampling _ of * shearing patches * ( patches with the smoothed shear tensor @xmath65 prescribed at the centre ) to maximize the statistical information we can get from a crafted set of relatively modest constrained - field sph calculations , defined by a set of control parameters , here the central @xmath66 , @xmath26 , @xmath27 smoothed over a galactic - scale @xmath8 .",
    "this allows us to sample rare peak and void patches , difficult to sample even in large box simulations , especially if ffts are used .",
    "these are in addition to patches with more typical _ rms _ density contrasts .",
    "we then combine the results to get the frequency distribution of , say , @xmath67 for a random patch of the universe using bayes theorem , which decomposes it into the frequency distribution for @xmath67 for our constrained patches given the control parameters , measured from the simulations , and the known probability distribution of the control parameters : schematically ,      shearing patches with low @xmath69 @xmath70 often have relatively large shear ellipticity , @xmath71 , which can give strongly asymmetric collapses for @xmath72 , amplifying the smaller scale filamentary webbing by concentrating it in larger scale filaments or walls ( which depends upon @xmath27 ) . fig .",
    "[ ray ] shows that a @xmath73 shearing patch has its @xmath74 filaments more spread out than the multipeak case we have described here , which is reminiscent of , but even more concentrated than , a @xmath75 calculation shown in wb .",
    "simulating a large number of controlled patches in parallel is a form of adaptive refinement , of which there is much discussion in these proceedings . in refined regions ,",
    "the initial conditions are almost never modified with higher frequency waves , so the lagrangian ( _ i.e. _ mass ) resolution remains fixed even though the eulerian resolution may be superb .",
    "( this is especially vexing for voids . ) when we refine a region by creating a high resolution realization with the information contained in peak patches , we _ optimally _ resample @xmath58-space to generate a new set of high frequency waves .",
    "it is clear that the cosmological codes of the future will have to simultaneously adapt in eulerian and @xmath58 space , and the techniques explored here offer a promising path towards this goal ."
  ],
  "abstract_text": [
    "<S> observations indicate galaxies are distributed in a filament - dominated web - like structure ; classic examples are the coma and perseus - pisces superclusters . </S>",
    "<S> numerical experiments at high and low redshift of viable structure formation theories also show filament - dominance ; in particular , the gasdynamical simulations of ly@xmath0 clouds at redshifts @xmath1 that we concentrate on here . we understand why this is so in terms of rare events ( peak patches ) in the medium and the web pattern of filaments that bridge the gaps between the peaks along directions defined by their ( oriented ) tidal fields . </S>",
    "<S> we present an overview of these ideas and their practical application in crafting high resolution well - designed simulations . </S>",
    "<S> we show the utility of this by taking a highly filamentary subvolume found in a galactic - scale simulation , compressing its important large scale features onto a handful of numbers defining galactic - scale peak - patch constraints , which are then used to construct constrained initial conditions for a higher resolution simulation appropriate for study of the ly@xmath0 forest . </S>"
  ]
}