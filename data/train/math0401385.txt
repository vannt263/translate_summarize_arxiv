{
  "article_text": [
    "consider the following ( random ) game : a deck of  @xmath0 cards is divided into several piles . then , for each pile , we leave it intact with probability  @xmath1 and remove one card from there with probability  @xmath2 ( @xmath3 $ ] is a given parameter ) , independently of other piles .",
    "the cards that were removed are collected to form a new pile .",
    "the order of piles is not important and the piles of size zero are ignored .",
    "the case @xmath4 is trivial ( nothing moves ) and will not be considered . when @xmath5 , this is the game of _ bulgarian solitaire _ ,",
    "made known by martin gardner in  @xcite , and studied in @xcite ( cf .",
    "also  @xcite for some variations of that game ) .",
    "the `` truly random '' model with parameter @xmath6 is a discrete - time irreducible and aperiodic markov chain on the space of all unordered partitions of  @xmath0 ; for obvious reasons , it will be referred to as the _ random bulgarian solitaire_.    if the number of cards  @xmath0 is a triangular number , i.e. , @xmath7 for some  @xmath8 , a remarkable fact is that , starting from any initial configuration , after a finite number of moves the ( deterministic ) bulgarian solitaire will reach the stable configuration formed by piles of sizes @xmath9 . the above result was proved in  @xcite ( see the solution to problem 6.10 ) and in  @xcite independently , and later it was discovered that the maximal number of moves necessary to enter the stable configuration is @xmath10 , and that that bound is sharp ( see  @xcite ) . if  @xmath0 is not a triangular number , then such a stable configuration does not exist .",
    "however , it is possible to prove that after at most @xmath11 moves the game will enter into a cycle .",
    "moreover , all the configurations of the cycle are `` almost triangular '' in the following sense . let @xmath12 ; then all the configurations in that cycle can be constructed from the configuration @xmath13 by adding at most one card to each pile , and maybe adding one more pile of size  @xmath14 , see @xcite for exact formulations and more details .",
    "thus , we see that bulgarian solitaire `` likes '' triangular configurations , and so we may expect some kind of similar behaviour from the random bulgarian solitaire .",
    "there is no possibility , however , to obtain exact results of the form of those of the previous paragraph , since random bulgarian solitaire is a finite irreducible markov chain , so it visits all its states infinitely many times a.s .",
    "instead , we aim at the results of the following kind : the stationary measure of the set of configurations which are in some sense close to the ( rescaled ) triangular configuration is close to  @xmath14 .",
    "this can be regarded as a `` shape theorem '' result even though it is substantially different from most of the shape results appearing in the literature .",
    "( in most cases some time - dependent random set is constructed , and then , when rescaled by time , it converges to some , usually nonrandom , shape .",
    "see e.g.  @xcite for results of this kind . )",
    "the results we are aiming at resemble rather those of  @xcite .    also , let us remark here that the question of how fast the deterministic bulgarian solitaire _ approximates _ the triangle has not been yet studied in the literature . to motivate this question ,",
    "take @xmath7 , and suppose that the initial configuration is @xmath15 , i.e. , the exact triangular configuration is modified by removing one card from the biggest pile and forming one more pile of size  @xmath14 with that card .",
    "then , macroscopically this configuration is already quite triangular ; however , if we are aiming to reach @xmath13 , this is the worst possible initial configuration ( the number of moves needed is exactly @xmath10 , cf .",
    "@xcite ) ! here we prove that , whenever the initial configuration is `` reasonable '' ( i.e. , the number of piles is  @xmath16 and the number of cards in the biggest pile is also  @xmath16 ) , we need only  @xmath16 moves of deterministic bulgarian solitaire to make the ( @xmath17-rescaled ) configuration _ close _ to the triangle .",
    "while such a result by itself may not be of great interest , the method of its proof will be an important tool in the course of the proof of the results about random bulgarian solitaire .",
    "now , we introduce some notations and give the formal definition of the process . if @xmath18 is the number of piles in the configuration  @xmath19 , we write @xmath20 , where @xmath21 . we denote also by @xmath22 the size of the biggest pile and by @xmath23 the number of cards in the configuration .",
    "let @xmath24 be the operation of putting @xmath25 in the decreasing order and discarding zeros .",
    "now , let @xmath26 be a sequence of i.i.d .  random variables such that @xmath27=1-\\pr[\\xi_1=0]=p$ ] .",
    "then the operator @xmath28 which transforms the configuration @xmath20 in the game of random bulgarian solitaire with parameter  @xmath2 is defined by @xmath29 denote also by  @xmath30 the result of  @xmath31 independent applications of  @xmath28 to  @xmath19 ; clearly , the process is conservative in the sense that @xmath32 for all  @xmath31 .",
    "suppose that @xmath33 .",
    "as remarked above , for @xmath6 the stochastic process @xmath34 is an irreducible aperiodic markov chain with finite state space @xmath35 .",
    "we denote by  @xmath36 its stationary measure .",
    "to formulate our results , we need also to find a way to define sets of configurations that are close to a specific triangular configuration . to this end , for two configurations  @xmath37 , @xmath38 define the distance  @xmath39 by @xmath40 with the convention @xmath41 for all @xmath42 and @xmath43 for all @xmath44 .",
    "next , we define the triangular configuration @xmath45 by @xmath46 , @xmath47 . when  @xmath2 is fixed and  @xmath48 , we can write @xmath49 , @xmath50 . finally , for  @xmath51 ( which may depend on  @xmath0 ) define the set @xmath52 of `` roughly triangular '' configurations by @xmath53    let @xmath54 , and define the configuration @xmath55 , where @xmath56 note that @xmath57 ( for example , for @xmath58 we have @xmath59 ) . for the particular case  @xmath5",
    "we say that @xmath60 is nondegenerate if it contains the configuration @xmath61 , as well as all the configurations  @xmath19 with @xmath62 .",
    "it is easy to see that for any fixed  @xmath51 there exists @xmath63 such that @xmath60 is nondegenerate for all @xmath64 , and the same is true when e.g.  @xmath65 , @xmath66 .",
    "now we are ready to formulate the main results of this paper .",
    "first , we state the result about the time to approximate the triangular configuration for the deterministic bulgarian solitaire ( i.e. , with @xmath5 ) .",
    "[ det_bs ] take @xmath51 and suppose that  @xmath0 is large enough to guarantee that @xmath60 is nondegenerate .",
    "suppose that the initial configuration  @xmath67 with @xmath33 has the following properties : @xmath68 and @xmath69 for some @xmath70 .",
    "then there exists @xmath71 such that we have @xmath72 for all @xmath73 .    in words",
    ", this result means that if the initial configuration is `` reasonable '' , then the number of moves required to approximate the triangle is @xmath16 .",
    "now , we turn our attention to random bulgarian solitaire :    [ ran_bs ] suppose that @xmath6 . then for any @xmath74 there exist positive constants @xmath75 and @xmath76 such that for all  @xmath0 @xmath77    in section  [ s_fr ] there are some more comments and open problems related to the bulgarian solitaire ( both deterministic and random ) .",
    "also , the reader may find it interesting to look at java simulation of the random bulgarian solitaire ( with @xmath78 ) on the internet page of kyle petersen at + http://people.brandeis.edu/~tkpeters/reach/stuff/reach",
    "this section is organized in the following way . in section  [ s_etienne ]",
    "we introduce the notion of _ etienne diagram _ , which is just another way to represent the configurations of the game .",
    "then , we show how the moves of bulgarian solitaire are performed on this diagram and discuss its other properties . in section  [ s_proof_det ]",
    "we prove theorem  [ det_bs ] , and in section  [ s_proof_rand ] we prove theorem  [ ran_bs ] ( in section  [ s_proof_rand ] some results and technique from sections  [ s_etienne ] and  [ s_proof_det ] are used , most notably the inequality  ( [ iteration ] ) ) .      before starting the proofs",
    ", we need to describe another representation of a particular state of ( deterministic ) bulgarian solitaire , which we call an etienne diagram ( cf .",
    "@xcite ) . in this approach",
    "the cards are identified with particles living in the cells of the set @xmath79 , with at most one particle per cell .",
    "we write @xmath80 when the cell @xmath81 is occupied and @xmath82 when the cell @xmath81 is empty .",
    "clearly , @xmath83 is a half - quadrant of  @xmath84 , but we would like to visualize  @xmath83 in a little bit unconventional way ( see figure  [ p1 ] ) : the cell  @xmath85 lies in the base and supports the column @xmath86 , while the diagonal @xmath87 goes in the nw direction ( so the rows of  @xmath83 are enumerated from right to left ; notice that at this point we deviate from  @xcite , where the rows were enumerated from left to right ) .",
    "now , a configuration  @xmath20 is represented as follows ( as on figure  [ p1 ] ) : we put @xmath88 for @xmath89 and @xmath90 for all other pairs @xmath81 .",
    "from the fact that @xmath21 we immediately deduce that for any  @xmath19 @xmath91 and @xmath92    one of the advantages of the representation via etienne diagram is that it makes it more clear how the process approaches the triangular configuration . to see what we mean , first note that the move of the bulgarian solitaire consists in applying the following two substeps to the corresponding etienne diagram ( see figure  [ p2 ] ) :    *",
    "apply the cyclic shift ( from left to right ) to each row of the diagram ; * if after the shift there is a particle that is placed above an empty cell , then the particle falls there ; this procedure is repeated until no further fall is possible .",
    "speaking formally , let @xmath93 .",
    "then the etienne diagram of  @xmath94 is constructed using the following procedure :    * for all  @xmath95 put @xmath96 for @xmath97 and @xmath98 . *",
    "suppose that for the array  @xmath99 we can find @xmath100 such that @xmath101 , @xmath102 . then construct the new array  @xmath103 by @xmath104 , @xmath105 , and @xmath106 for @xmath107 .",
    "* repeat the previous procedure with  @xmath103 instead of  @xmath99 , and so on . at some moment",
    "we will obtain an array  @xmath108 for which we can not find @xmath109 such that @xmath110 , @xmath111 .",
    "then for all @xmath112 put @xmath113 .",
    "now , suppose that @xmath114 .",
    "on the etienne diagram the triangular configuration corresponds to the configuration @xmath115 . note also that if the first  @xmath116 rows of the diagram are occupied , then they will remain occupied during all the subsequent evolution .",
    "this shows that the falls of particles `` help '' to reach the stable configuration ( more and more rows become all occupied ) .",
    "moreover , in many concrete situations it is possible to know how many moves are needed to fill out some region which was originally empty .",
    "arguments of this kind will be heavily used in the course of the proof of our results .",
    "consider the etienne diagram of a configuration  @xmath19 .",
    "since the system is conservative , there is a natural correspondence between particles ( holes ) in that diagram and particles ( holes ) in the diagram of the configuration  @xmath117 .",
    "this shows that for each particle ( hole ) on the original diagram we can define its trajectory , i.e. , we know its position after  @xmath31 moves of the game .",
    "let @xmath118 be the second coordinate of the particle ( hole ) from  @xmath81 after  @xmath31 moves , and let  @xmath119 be the number of falls ( movements upwards ) that the particle ( hole ) from @xmath81 was subjected to during  @xmath31 moves .",
    "that means that , if @xmath120 , then @xmath121 are the coordinates of the particle from  @xmath81 after  @xmath31 moves , while if @xmath122 , then @xmath123 are the coordinates of the hole from  @xmath81 after  @xmath31 moves .",
    "it seems to be very difficult to calculate exactly @xmath118 and @xmath119 ( except in trivial situations , when , e.g. , @xmath120 and @xmath124 for all  @xmath125 ) .",
    "however , we can establish some relation between these quantities by defining first @xmath126 in words , @xmath127 would be the position of particle ( hole ) from  @xmath81 at time  @xmath31 if we know that @xmath128 ( the quantities @xmath129 depend also on  @xmath19 , but we do not indicate that in our notations ) .",
    "[ jm ] if @xmath122 and  @xmath31 is such that @xmath130 , or @xmath120 and  @xmath31 is such that @xmath131 , then @xmath132    _ proof .",
    "_ suppose for example that @xmath122 .",
    "denote @xmath133 .",
    "since  @xmath31 is such that @xmath130 , we have that @xmath134 .",
    "the lemma then follows from the fact that @xmath118 should be somewhere in between @xmath135 and @xmath136 .",
    "the other case is treated analogously .",
    "next , we define some quantities which concern the geometric structure of the representation via etienne diagram , and prove some relations between them . for  @xmath137 define @xmath138 when  @xmath139 , we have @xmath140 . using the etienne representation of a configuration  @xmath19 , define @xmath141 and put @xmath142 .",
    "the quantity  @xmath143 can be thought of as the `` energy '' of the configuration : the bigger is  @xmath143 , the `` more distant '' ( not necessarily in the sense of the distance  @xmath144 ) is  @xmath19 from @xmath61 .",
    "denote also @xmath145 .",
    "the next lemma establishes some elementary properties of the energy  @xmath143 .",
    "[ prop_e ]    * there exists a constant @xmath146 such that for all  @xmath0 and all @xmath147 we have @xmath148 .",
    "* for all  @xmath19 it holds that @xmath149 .",
    "moreover , @xmath150 is equal to the number of falls of particles during the second substep of the move of the bulgarian solitaire represented by the etienne diagram ( i.e. , it is equal to  @xmath151 in * ( iii ) * ) .",
    "_ define @xmath152 . from ( [ poln_tri ] )",
    "one easily gets that there exists @xmath153 such that for all @xmath147 we have @xmath154 .",
    "the proof of  ( i ) then reduces to an elementary computation ( roughly speaking , to compute  @xmath143 we have at worst  @xmath155 terms , each of order  @xmath16 ) .    as for the proof of  ( ii ) , note first that the operation of cyclic shift does not change the quantities defined in  ( [ def_e-])([def_e+ ] ) .",
    "then , it is straightforward to see that each particle s fall decreases  @xmath156 by one unit , which concludes the proof of the lemma .",
    "* @xmath159 is the maximal vertical distance between  @xmath160 and the holes below  @xmath160 ; * @xmath161 is the maximal vertical distance between  @xmath160 and the particles above  @xmath160 which also lie inside the area indicated by the dashed lines on figure  [ p3 ] ; * @xmath162 is the total area covered by the holes below  @xmath160 ; * @xmath163 is the total area covered by the particles above  @xmath160 .    similarly to the energy  @xmath143 , all those quantities could be used to measure the deviation of  @xmath19 from the `` almost triangular '' configuration  @xmath61 . consider also the normalized quantities @xmath164 , @xmath165 , and @xmath166 , @xmath167 .",
    "[ alphas ] for all  @xmath168 there exist constants @xmath169 ( depending on  @xmath170 ) such that @xmath171    _ proof .",
    "_ it is elementary to obtain the inequalities  ( [ a12 ] ) and  ( [ a56 ] ) from  ( [ pust_tri ] ) .",
    "analogously , to obtain  ( [ a34 ] ) and  ( [ a78 ] ) , one can use  ( [ poln_tri ] ) and the fact that @xmath168 together with the following observation . if  @xmath120 for some  @xmath172 , then either @xmath173 or @xmath174 .    consider a configuration  @xmath19 such that  @xmath175 . by definition of  @xmath160 , there exists a constant  @xmath176 such that @xmath177 also , we will always tacitly assume that @xmath178 , i.e. , we will not consider configurations that are `` too close '' to the triangle . in this case there are constants  @xmath179 such that @xmath180 ( note also that if  @xmath0 is a triangular number , then @xmath181 for any @xmath182 ) . using  ( [ a12 ] ) , ( [ a56 ] ) , and  ( [ beta12 ] ) , we obtain @xmath183 and , by  ( [ a34 ] ) , @xmath184 .",
    "this shows that there is a constant  @xmath185 such that @xmath186 for all  @xmath168 .",
    "analogously , we obtain that for some  @xmath187 it holds that @xmath188 and @xmath189 . by lemma  [ prop_e ] ( i ) the quantity  @xmath190",
    "is bounded on @xmath191 , so there is  @xmath192 such that @xmath193 , which implies that @xmath194 for some  @xmath195 .",
    "finally , we use lemma  [ prop_e ] ( i ) once again to obtain that there exists  @xmath196 such that @xmath197 when  @xmath168 .",
    "first , the idea is to prove that after @xmath16 moves , the `` normalized energy '' @xmath190 will decrease by a considerable amount .",
    "consider a configuration  @xmath19 with @xmath175 .",
    "abbreviate @xmath198 ; by  ( [ minh ] ) , we can find  @xmath199 such that @xmath200 and @xmath201 .",
    "moreover , without loss of generality one can suppose that  @xmath202 is divisible by  @xmath203 .",
    "define also @xmath204 , @xmath205 , and @xmath206 .",
    "define two sets @xmath207 by @xmath208 ( see figure  [ p4 ] ) .",
    "note that from  ( [ pust_tri ] ) and  ( [ poln_tri ] ) it follows that @xmath122 for all @xmath209 and @xmath120 for all @xmath210 .",
    "abbreviate also @xmath211 , @xmath212 .",
    "now , the idea is to consider the evolution of sets @xmath213 at times @xmath214 , @xmath215 .",
    "first , note that @xmath216 , for any  @xmath217 and  @xmath8 . then , each time we make a complete turn ( i.e. , @xmath218 moves ) a particle which was on the level @xmath219 will be @xmath220 units to the left of its initial position ( provided it did not fall ) .",
    "this shows that there exists @xmath221 such that @xmath222        \\cap [ m_1,j_1 ] \\big|    \\geq    \\frac{2\\hh}{5}\\ ] ] ( when @xmath223 , by @xmath224 $ ] we mean in fact @xmath225        \\cup[{\\hat j}_{i'_0,j_2}(k_0i_0),i_0]$ ] ) .",
    "take @xmath226 such that @xmath227\\subset \\big([{\\hat j}_{i'_0,j_2}(k_0i_0),{\\hat j}_{i'_0,m_2}(k_0i_0 ) ] \\cap [ m_1,j_1]\\big)\\ ] ] and @xmath228 .",
    "we consider two cases :    : at time  @xmath229 in the set @xmath230 , j\\in[j_3,j_3 - 1+\\hh/5]\\}\\ ] ] there is at least one hole , i.e. , @xmath231 for at least one @xmath232 . in this case , by  ( [ pust_tri ] ) no particle can be in the set @xmath233 , j\\in[j_4-\\hh/5,j_4]\\},\\ ] ] i.e. , for all @xmath234 we have that @xmath231 .",
    "note that @xmath235 , so the `` image '' of  @xmath236 after  @xmath237 turns completely covers  @xmath238 . on the other hand , @xmath238",
    "must be completely empty , so there should have been a lot of particle falls in order to avoid  @xmath238 . in what follows we estimate the minimal number of falls necessary ( and , consequently , we find the minimal amount by which the energy  @xmath156 should decrease ) .",
    "define the set @xmath239 , j\\in[j_4-\\hh/10,j_4]\\ }                 \\subset u'_2.\\ ] ] for any @xmath240 there is a unique  @xmath241 such that @xmath242 , and , by the above observation , @xmath243 , so the cell @xmath244 originally contained a particle . to guarantee that that particle is not in  @xmath245 at time  @xmath229 , at least one of the following two possibilities must occur :    * either @xmath246 , * or @xmath247 , but in this case , by lemma  [ jm ] , @xmath248 .",
    "denote @xmath249 ; for the both of the above possibilities , we obtained in fact that @xmath250 .",
    "since the number of cells in the set  @xmath245 is at least @xmath251 , the number of particle falls until time  @xmath229 should be at least @xmath252 . by lemma  [ prop_e ] ( ii ) , it means that , for the case  1 , @xmath253    : there are no holes at time  @xmath229 in the set  @xmath254 , i.e. , @xmath255 for all @xmath232 . using the duality between holes and particles , this case can be treated quite analogously to the case  1 .",
    "namely , we note first that the `` image '' of  @xmath256 after  @xmath237 turns completely covers  @xmath254 .",
    "so , in order to escape  @xmath254 , the holes that are `` candidates '' to be there must make a sufficient number of movements in the upwards direction . in the same way as in the case  1",
    ", one can work out all the details to obtain that  ( [ hjk ] ) is valid for the case  2 as well .",
    "we continue proving theorem  [ det_bs ] . by  ( [ minh ] ) and  ( [ hjk ] ) ,",
    "there exist  @xmath257 such that @xmath258 where @xmath259 ( the formula  ( [ iteration ] ) will play an important role in the proof of theorem  [ ran_bs ] as well ) .",
    "consider now the initial configuration  @xmath260 ; by lemma  [ prop_e ] ( i ) , @xmath261 for some @xmath262 .",
    "fix an arbitrary  @xmath51 and define @xmath263 ; then there exists  @xmath264 ( depending only on  @xmath265 ) such that @xmath266 . by  ( [ iteration ] ) this means that @xmath267 where @xmath268 , i.e. , after  @xmath16 moves we will arrive to a configuration with small normalized energy  @xmath190 .",
    "now we are almost done with the proof of theorem  [ det_bs ] , and it remains only to make one small effort : we have to prove that if the energy @xmath269 is small , then either  @xmath19 is already close to the triangular configuration  @xmath270 ( in the sense of the distance @xmath144 ) , or it will come close to @xmath270 after @xmath16 moves .",
    "define the sets @xmath271 it is elementary to see that , for fixed  @xmath272 and for all  @xmath0 large enough @xmath273    we need the following    [ srezaem_hvosty ] suppose that @xmath274 , and put @xmath275 + 2 $ ] . then @xmath276 .",
    "* suppose that at some moment the configuration belongs to the set @xmath284 .",
    "then if @xmath285 and there are some particles in the set @xmath286 , then at the next moment all those particles will fall one unit . * if @xmath287 and @xmath288 then @xmath289 ( to see this , it is enough to figure out what happens with the configuration  @xmath290 after @xmath291 moves , where  @xmath290 is defined by @xmath292 whenever either @xmath293 or @xmath294 ) .",
    "now we are ready to finish the proof of theorem  [ det_bs ] . from  ( [ a12 ] ) ,",
    "( [ a34 ] ) , and  ( [ small_energy ] ) we obtain that , if the initial configuration belongs to  @xmath295 , then after  @xmath16 moves it will be in @xmath296 , where @xmath297 ( @xmath272 is from  ( [ small_energy ] ) , @xmath298 from lemma  [ alphas ] ) . applying lemma  [ srezaem_hvosty ] , we conclude the proof of theorem  [ det_bs ] .      consider a finite irreducible discrete - time markov chain with state space  @xmath299 , transition matrix  @xmath300 , and stationary measure  @xmath301 .",
    "the following elementary fact will be useful in the course of the proof of theorem  [ ran_bs ] : for any @xmath302 and @xmath303 @xmath304    let us describe the main steps of the proof of theorem  [ ran_bs ] :    * first , in lemma  [ reasonable ] we prove ( using ( [ osn_fakt ] ) ) that a typical configuration of the random game should be reasonable , i.e. , the number of piles and the biggest pile should be @xmath16 ; * then , the idea is the following : starting from a reasonable configuration , the macroscopic evolution of the profiles will be very similar in the random game and in the deterministic game where the initial sizes of the piles are  @xmath305 times bigger ( indeed , if the initial size of the pile in the random game is @xmath306 , then it will be emptied typically in time @xmath307 ) ; * unfortunately , it seems to be difficult to dominate the stochastic game by the deterministic one directly .",
    "so , we introduce another deterministic process by allowing the immigration of particles to the system on each step . in lemma  [ dominacao ]",
    "we prove that the random bulgarian solitaire is in some sense dominated by this new deterministic process ; * it is then possible to see that the process with immigration of particles does not differ much ( when the time interval in question is not too long ) from the deterministic bulgarian solitaire , because the total number of added particles is relatively small , and they can not be very concentrated ( lemma  [ nao_fugira ] takes care of the latter statement ) . using this observation and applying inequality  ( [ iteration ] ) from the previous section , we obtain that the ( suitably defined ) energy will decrease with large probability after a sufficiently large number of steps ( this is lemma  [ iter_rand ] ) ; * the rest of the proof is a straightforward ( although somewhat lengthy ) application of  ( [ osn_fakt ] ) and lemma  [ iter_rand ] .",
    "so , the first step is to prove that a typical configuration @xmath182 should be `` reasonable '' , i.e. , it should belong to @xmath308 for some @xmath309 :    [ reasonable ]    * for any  @xmath310 there exist positive constants @xmath311 ( depending on  @xmath2 ) such that @xmath312 for all  @xmath0 . * also , suppose that @xmath313 , where @xmath309 are the quantities from item  ( i )",
    ". then there exist @xmath314 and @xmath315 such that for any @xmath316 @xmath317 \\geq 1-n^m e^{-\\sigma_1{n^{1/2}}}.\\ ] ]    _ proof . _",
    "we begin by proving  ( i ) .",
    "consider the sets @xmath318 note that if @xmath319 , then @xmath320 , i.e. , in  @xmath19 there are at most  @xmath321 piles with at least  @xmath322 cards . clearly ,",
    "if a pile had no more than  @xmath322 cards , then there is  @xmath323 such that by the time  @xmath324 that pile will be empty with probability at least @xmath325 . during the time",
    "@xmath324 only  @xmath324 new piles can appear , so , since @xmath326 , for any  @xmath327 we have that , @xmath328 \\geq 1 - n e^{-c_1{n^{1/2}}}.\\ ] ] since @xmath329 , ( [ a1 ] ) also shows that for any  @xmath330 we have @xmath331 \\leq n e^{-c_1{n^{1/2}}}$ ] . on the other hand ,",
    "if @xmath332 , then clearly @xmath331=0 $ ] , so ( since @xmath333 ) for any @xmath334 we have @xmath335 \\leq n e^{-c_1{n^{1/2}}}.\\ ] ] now we use  ( [ osn_fakt ] ) with @xmath336 and @xmath337 to obtain from  ( [ a1 ] ) and  ( [ a2 ] ) that for some @xmath338 @xmath339    for @xmath340 define @xmath341 suppose that @xmath342 for some  @xmath343 , and let us try to figure out what the configuration @xmath344 should look like . note that    * @xmath345 , and moreover @xmath346 for all @xmath347 , so , since @xmath348 , no new pile of size greater than @xmath349 can appear until the moment @xmath350 ; * the evolution of a single pile can be modeled by a random walk on  @xmath351 which jumps one unit to the left with probability  @xmath2 and holds its position with probability  @xmath1 .",
    "this shows that if the size of the pile was less than @xmath352 , then after @xmath350 moves it will be less than @xmath349 with probability at least @xmath353 for some @xmath354 .    from the above facts we deduce that for any @xmath342 @xmath355 \\leq n e^{-c_3{n^{1/2}}},\\ ] ]",
    "as long as @xmath343 . now using  ( [ osn_fakt ] ) with @xmath356 and @xmath337",
    ", we obtain that for some @xmath357",
    "so by induction one can show that @xmath359 . summing over @xmath343 and recalling  ( [ aaa ] )",
    ", we conclude the proof of the part  ( i ) of lemma  [ reasonable ] ( with @xmath360 , @xmath361 ) .",
    "to prove the part  ( ii ) , first observe that in the proof of  ( i ) we have constructed @xmath309 in such a way that for any @xmath313 @xmath362                \\leq e^{-c{n^{1/2}}}.\\ ] ] to complete the proof of  ( ii ) , it is enough to take @xmath363 , @xmath364 ( note that for any  @xmath19 we have @xmath365 , @xmath366 ) .",
    "we continue proving theorem  [ ran_bs ] .",
    "now , the main idea is the following : first , to dominate the random bulgarian solitaire by a certain deterministic process ( that we will call bulgarian solitaire with immigration of particles ) , and then apply to that process some methods from the proof of theorem  [ det_bs ] .",
    "fix @xmath367 , and abbreviate @xmath368 .",
    "denote also  @xmath369 $ ] .",
    "for any  @xmath19 , let us define configurations  @xmath370 in the following way : if @xmath371 , let @xmath372 where @xmath373 are chosen in such a way that @xmath374 and for any @xmath182 we have @xmath375 .",
    "define the operator  @xmath376 by @xmath377 i.e. , making the @xmath376-move consists of making a move of deterministic bulgarian solitaire , and then adding  @xmath378 cards to the new pile ( so that @xmath379 ) . for the simplicity of notations",
    ", we do not indicate in  @xmath376 the dependence on  @xmath0 and @xmath380 ; note also that in the above display we do not assume that @xmath175 , so  @xmath376 need not apply to only @xmath182 .    for two configurations  @xmath37 , @xmath38",
    "we say that @xmath381 if @xmath382 and @xmath383 for all @xmath384 .",
    "[ dominacao ] suppose that @xmath175 and @xmath313 ( where @xmath309 are the quantities from lemma  [ reasonable ] ) .",
    "then for any @xmath385 there exists  @xmath386 such that @xmath387 \\geq        1 - n^m e^{-\\sigma_2n^{\\delta_0}}.\\ ] ]    _ proof .",
    "_ let us refer to the @xmath18 piles of  @xmath19 and @xmath388 as @xmath389 and @xmath390 respectively .",
    "then , the piles born at the moment  @xmath95 are referred to as @xmath391 and @xmath392 . using the notation @xmath393 , for @xmath394 , let @xmath395 and @xmath396 stand for the sizes of the piles @xmath397 and @xmath398 at the moment  @xmath31 , respectively ( if a pile is emptied at some moment @xmath399 , then we mean that the size remains  @xmath400 for all @xmath401 ) .",
    "clearly , the event @xmath402 where we define the event  @xmath403 by @xmath404 define also the event @xmath405 ; by lemma  [ reasonable ] ( ii ) we know that @xmath406\\geq 1 - n^m e^{-\\sigma_1{n^{1/2}}}$ ] . on the other hand , @xmath407 \\geq \\pr[h_i]\\pr[\\lambda_i\\mid h_i , d],\\ ] ] where @xmath408 .",
    "now , on  @xmath409 we have that @xmath410 for all @xmath411 , and on @xmath412 it holds that @xmath413 . using the large deviation bound for the binomial distribution",
    ", we see that the first term in the right - hand side of  ( [ uyi * * ] ) is at least @xmath414 . as for the second term , note that the difference between @xmath415 and @xmath416 is a random walk with drift  @xmath400 . since the time that the pile @xmath397 needs to be emptied is @xmath16 , the second term in  ( [ uyi * * ] ) is in fact the probability that such a random walk does not deviate from its initial position by more than  @xmath417 by time @xmath16 ; clearly , that probability is bounded from below by @xmath418 .",
    "then , it is immediate to deduce lemma  [ dominacao ] from  ( [ mnbvs ] ) and  ( [ uyi * * ] ) .",
    "recall that ( cf .",
    "the proof of lemma  [ prop_e ] ) for any configuration  @xmath19 we use the notation @xmath419    [ nao_fugira ] suppose that @xmath313 and let  @xmath420 be such that @xmath421",
    ". then there exists  @xmath422 such that @xmath423 for all @xmath424 .",
    "_ let @xmath425 and denote @xmath426 .",
    "define the triangular configuration  @xmath427 by @xmath428 ; then , clearly , @xmath429 .",
    "denote @xmath430 , @xmath431 and define the configuration  @xmath432 by @xmath433 . by examining the @xmath376-evolution of  @xmath427 on the etienne diagram ,",
    "it is clear that @xmath434 for all @xmath435 .",
    "we then repeat this construction by defining @xmath436 , @xmath437 and the configuration  @xmath438 by @xmath439 .",
    "analogously , we obtain that @xmath440 for all @xmath441 .",
    "a simple monotonicity argument then shows that @xmath442 for all @xmath443 .",
    "we have @xmath444 and @xmath445 for some  @xmath185 , so @xmath446 for all @xmath447 .",
    "so , since @xmath448 , for some  @xmath422 we have @xmath449 for all  @xmath0 , thus concluding the proof of lemma  [ nao_fugira ] .",
    "[ iter_rand ] fix some  @xmath450 and suppose that a configuration  @xmath313 is such that @xmath451 for some  @xmath452",
    ". then , with @xmath257 from  ( [ iteration ] ) , we have for some  @xmath453 @xmath454           \\geq 1 - e^{-\\sigma_3n^{\\delta_1}},\\ ] ] where @xmath455 .",
    "moreover , ( [ eq_l2.8 ] ) remains true when @xmath456 is substituted by @xmath457 , for any @xmath458 $ ] .",
    "_ first , each particle added to  @xmath459 changes the energy  @xmath156 by at most  @xmath16 , so we have for some constants @xmath460 @xmath461 using the same sort of argument and the fact that @xmath462 for any @xmath463 , with the help of lemma  [ nao_fugira ] and  ( [ asd ] ) we obtain @xmath464 introduce the event @xmath465 . by lemma  [ dominacao ]",
    "we have @xmath466 \\geq 1-n'_s e^{-\\sigma_2n^{\\delta_0}},\\ ] ] and , since @xmath467 analogously to  ( [ asd])([asd ] ) we obtain that on  @xmath468",
    "@xmath469    now , we have that @xmath470 , and @xmath471 . since @xmath472",
    ", we obtain the proof of  ( [ eq_l2.8 ] ) from  ( [ iteration ] ) , ( [ asd ] ) , ( [ fff * * * ] ) , and  ( [ fff * * * * ] ) .    as for the second claim of lemma  [ iter_rand ] , we note that for @xmath473 , by lemma  [ prop_e ] ( ii ) it holds that @xmath474 , and then use the same kind of estimates as used above",
    ".    now we are ready to finish the proof of theorem  [ ran_bs ] . by lemma  [ reasonable ] ( i ) there are @xmath311 such that  ( [ sdf ] ) holds .",
    "note that there exists @xmath475 such that if @xmath313 , then @xmath476 .",
    "define @xmath477 .",
    "let @xmath478 and @xmath479 for @xmath480 .",
    "take @xmath481 , @xmath74 , and define @xmath482 ( cf .",
    "( [ a12 ] ) and  ( [ a34 ] ) ) .",
    "let @xmath483 ; since @xmath484 , by examining the iteration scheme @xmath485 we obtain that there exists @xmath185 such that @xmath486 .",
    "let @xmath487\\},\\ ] ] and define also @xmath488 , @xmath489 . take any @xmath490 and denote @xmath491 . by  ( [ osn_fakt ] ) and",
    "lemma  [ reasonable ] ( i ) we can write @xmath492 where @xmath493 now , by lemma  [ iter_rand ] , the left - hand side of  ( [ linha1 ] ) can be bounded from below as follows : @xmath494 \\nonumber\\\\   & \\geq&\\pi_{p , n}(\\l_n ) ( 1-e^{-\\sigma_3n^{\\delta_1 } } ) . \\label{yyy}\\end{aligned}\\ ] ] again using lemma  [ iter_rand ] , we write @xmath495 using now  ( [ yyy ] ) and  ( [ yyy ] ) together with the trivial bound @xmath496 , we obtain from  ( [ linha1])([linha2 ] ) that for some @xmath338 @xmath497 by induction , we then obtain that there is  @xmath354 such that for any @xmath498 @xmath499 so , since @xmath486 , taking summation in  ( [ qqq ] ) we obtain for some  @xmath357 that @xmath500    now , the last step of the proof of theorem  [ ran_bs ] is analogous to what was done in lemma  [ srezaem_hvosty ] . note that if @xmath501 , then @xmath502 so if @xmath501 , then @xmath503 , thus showing that @xmath504    define @xmath505 take any @xmath313 , and denote @xmath506 ( recall that @xmath375 ) . using  ( [ osn_fakt ] ) , we write @xmath507 where @xmath508 observe that if @xmath509 and  @xmath272 is small enough , then after @xmath510 moves there will be no particles in the set @xmath511 , with probability at least @xmath512 for some  @xmath195 .",
    "so , for the left - hand side of  ( [ lll1 ] ) we can write @xmath513 on the other hand , the same argument implies that @xmath514 and the bound @xmath515 is trivial .",
    "so , using  ( [ oc_en ] ) and  ( [ lhs1 ] ) , we obtain from  ( [ lll1 ] ) that @xmath516    abbreviate @xmath517 and define @xmath518\\big\\},\\end{aligned}\\ ] ] @xmath519 , @xmath520 .",
    "analogously to ( [ linha1])([linha2 ] ) and ( [ lll1])([lll2 ] ) , we write @xmath521 where @xmath522 the following fact can be deduced from  ( [ poln_tri ] ) : if @xmath523 and @xmath524 for some @xmath525 , then @xmath526 .",
    "then , by examining the evolution of @xmath459 on the etienne diagram and using lemma  [ dominacao ] , it is elementary to obtain that for any @xmath527 , @xmath528 @xmath529 \\geq 1 - e^{-c_7{n^{1/2}}}.\\ ] ] using that fact , one can bound the left - hand side of  ( [ zzz1 ] ) from below by @xmath530 and the term @xmath531 can be bounded from above by @xmath532 . then , it is straightforward to write @xmath533 , @xmath534 .",
    "denoting now @xmath535 , analogously to ( [ qqq])([qqq ] ) we obtain @xmath536 summing over @xmath537 and taking  ( [ jsueh ] ) and  ( [ oc_h0 ] ) into account , we finally obtain that for some @xmath538 ( depending on  @xmath539 ) @xmath540 since @xmath481 and @xmath74 is arbitrary , we complete the proof of theorem  [ ran_bs ] ( note that @xmath541 for @xmath542 ) .",
    "a natural question that one may ask is : starting from an initial configuration  @xmath19 with @xmath543 , how many steps ( of the deterministic game ) are necessary to reach @xmath544 where @xmath545 as @xmath48 . from the proof of theorem  [ det_bs ] it can be deduced that if @xmath546 , @xmath547 , then @xmath548 moves suffice . however , this result is only nontrivial when @xmath549 ( since @xmath155 moves are always enough to reach the `` exact '' triangle ) , and even then it is almost certainly far from being precise .    also , loosely speaking , theorem  [ ran_bs ] shows that the typical deviation from the triangle is of order at most @xmath550 .",
    "again , we do not believe that that result is the best possible one .",
    "in fact , the author has strong reasons to conjecture that the typical deviation should be of order @xmath551 ; however , the proof of that is still beyond our reach .",
    "the author is thankful to pablo ferrari for many useful discussions about the random bulgarian solitaire , and to ira gessel , who posed the problem of finding the limiting shape for that model during the open problems session at the conference _ discrete random walks 2003 _ ( ihp , paris ) .",
    "also , the author thanks the anonymous referees for careful reading of the manuscript and useful comments and suggestions ."
  ],
  "abstract_text": [
    "<S> we consider a stochastic variant of the game of bulgarian solitaire  @xcite . </S>",
    "<S> for the stationary measure of the random bulgarian solitaire , we prove that most of its mass is concentrated on ( roughly ) triangular configurations of certain type . + </S>",
    "<S> * keywords : * shape theorem , triangular configuration , markov chain , stationary measure    departamento de estatstica , instituto de matemtica e estatstica , universidade de so paulo , rua do mato 1010 , cep 05508090 , so paulo sp , brasil . + e - mail : popov@ime.usp.br </S>"
  ]
}