{
  "article_text": [
    "the atlas experiment @xcite at the large hadron collider ( lhc ) @xcite must be synchronized to the proton - proton collisions to ensure the quality of the event data recorded by its sub - detectors . in order to facilitate the synchronization , atlas receives timing signals from the lhc machine and has two beam pick - up detectors at its disposal , installed upstream from the interaction point . the signals from these so - called _ bptx",
    "_ detectors serve two purposes in atlas :    * the bptx signals are used in a stand - alone monitoring system for the lhc beams and timing signals .",
    "the system monitors the phase between the collisions and the lhc clock signals that drive the atlas electronics in order to discover potential drifts .",
    "this system also measures the structure and uniformity of the lhc beams , and properties of their individual bunches .",
    "* by discriminating the signals from the bptx detectors and compensating for the lengths of the transmission lines , the bptx system provides level-1 trigger input signals synchronous to bunches passing through atlas .",
    "these trigger signals serve as an absolute time reference and are particularly useful when timing in the triggers based on real physics signals .",
    "a concise description of the atlas bptx system can be found in @xcite and the concepts are described in more detail in @xcite .",
    "this paper describes the software of the beam pick - up based monitoring system for the lhc beams and timing signals , and presents a few results from the first period of single beam running in september 2008 .",
    "r0.35        in order to allow the lhc experiments to be synchronized to the collisions , the accelerator provides them with timing signals related to its beams , transmitted through several kilometers of optical fibers@xcite .",
    "temperature changes that affect the properties of the fibers or other unforeseen problems with the transmission can introduce phase shifts in the clock signals and cause the atlas on - detector electronics to sample the detector signals at a non - optimal working point . in turn",
    ", this will jeopardize the quality of the data for the recorded events and the efficiency of the trigger system .",
    "figure  [ fig : timingsignaldistribution ] shows how the timing signals are distributed from the rf center of the lhc machine to the experiments .",
    "the lhc provides one reference clock signal , _ bcref _ , corresponding to the frequency at maximum beam energy and two clock signals that are synchronous to the accelerating beams , _",
    "bc1 _ and _ bc2_. in addition , two orbit signals _",
    "orbit1 _ and _ orbit2 _ with @xmath0 are provided to mark every lhc turn , synchronized to their respective beams .      on both sides of atlas , 175 m upstream from the interaction point ,",
    "beam pick - up detectors are installed along the lhc beam pipe .",
    "these so - called _ bptx stations _ are beam position monitors provided by the lhc machine , but operated by the experiments for timing purposes .",
    "they are comprised of four electrostatic button pick - up detectors each , arranged symmetrically in the transverse plane around the beam pipe .",
    "figure  [ fig : bptxstation ] shows the atlas bptx station for beam 2 , installed in the accelerator tunnel on the c - side of atlas . at the bottom of the photograph , the cables from three of the four button pick - ups are visible .",
    "the signals are combined and transmitted to the underground counting room _ usa15 _ via a @xmath1220 m low - loss cable .          as briefly mentioned in the introduction ,",
    "the atlas bptx system serves two purposes .",
    "figure  [ fig : bptxcontext ] shows how the bptx signals are used both in the trigger system and for the bptx monitoring system which will be described in more detail in the following sections .",
    "the signals from the four pick - ups are combined to eliminate potential effects of the beam position in the transverse plane before they are transmitted to the underground counting room _",
    "usa15_. the signals are split and fed into a constant - fraction discriminator to form a beam - related level-1 trigger input , and into the bptx monitoring system .",
    "the lhc timing signals enter the counting room as optical signals and are converted by the ` rf2ttc ` timing receiver .",
    "the ` rf2ttc ` module controls what signals are passed through to atlas and allows the manipulation of certain parameters , e.g. their phase , pulse duration and polarity .",
    "for the monitoring of the lhc beams and timing signals in atlas , a flexible software solution was chosen .",
    "the bptx and lhc timing signals are captured and digitized by a deep - memory , high sampling rate oscilloscope . by default ,",
    "100@xmath2s are captured , digitized and transferred to a rack - mounted linux computer installed in _",
    "usa15_. since it takes 89@xmath2s for a bunch to travel around the lhc , this guarantees capturing all bunches in the accelerator at least once per acquisition , allowing measurements on a bunch - by - bunch basis . by frequently ( @xmath10.5hz ) analyzing these signals together , phase drifts or other problems in the beams or timing signals will be discovered .",
    "the analysis is done completely in software and allows measuring and monitoring    * the average phase between the timing signals and the collisions * the beam structure and detection of out - of - time bunches , including in the abort gap * individual bunch properties , e.g. intensity , phase and longitudinal length        the software of the bptx monitoring system is divided into several applications ( see figure  [ fig : bptxoverview ] ) that perform separate , well - defined tasks :    * _ bptx read - out _ is the heart of the monitoring software , processes the digitized waveforms , and extracts parameters describing the identified bunches and clock edges .",
    "it then combines the condensed information to assign a phase and _ bunch crossing identifier _ ( bcid ) to each bunch .",
    "the output is saved on disk where it can be read by other components in the monitoring system . *",
    "_ bptx viewer _ gives the control room shifter an overview of the lhc beams and timing signals , and offers the possibility to track changes over time and identify oddly behaving bunches .",
    "* _ bptx waveform viewer _ lets the control room shifter inspect saved waveforms to investigate .",
    "* _ bptx publisher _ communicates with other parts of the atlas software framework and transmits summary data to make it available to other online services and permanently saved in the atlas conditions database .",
    "the three first components are described in the following sections . for information about the file formats , implementation details and the mathematical model of the signal from the bptx detectors ,",
    "the reader is referred to @xcite .",
    "this section describes the algorithms that extract the locations of the timing signal pulses and the parameters that describe the lhc bunches .",
    "the information extracted from the waveforms are saved in a condensed , lightweight representation called _ waveform descriptors _ , which are used internally for the rest of the processing , written to disk and read by other applications of the monitoring system . by combining the descriptors for the bptx and timing signals ,",
    "each bunch can be assigned a bcid and a phase .",
    "clock signals coming from the rf2ttc module during atlas data taking exhibit a rise - time of about 1ns which agrees with test measurements @xcite . with a sampling rate of 5gs / s",
    ", the edge in the digitized signal will therefore consist of about 5 samples , which allows performing a fit in order to determine the threshold crossing with high precision . during the design phase of the bptx monitoring system , three methods were considered for determining the exact locations of the clock edges .    1",
    ".   linear interpolation between the two sample points around the threshold crossing 2 .",
    "linear fit based on 5 samples points around the threshold crossing 3 .",
    "third order polynomial fit based on 5 samples points around the threshold crossing    all three methods were tested on simulated clock signals exhibiting noise and cycle - to - cycle jitter characteristic of the output signals of the ` rf2ttc ` module . all three algorithms had sub - picosecond precision .",
    "the linear interpolation is used as the default method as it is the computationally least demanding .",
    "an lhc bunch can be described by three parameters , its arrival time , its intensity ( number of protons ) and its longitudinal length . during the development phase of the bptx monitoring system ,",
    "several ways of measuring these parameters were considered and tested with simulations .",
    "when a bunch passes through a bptx station , it gives rise to a fast bipolar pulse with a frequency spectrum peaking at around 400 mhz and tails reaching a few ghz .",
    "the long transmission line and the limited analog bandwidth of the oscilloscope attenuate the high - frequency content and shape the signal accordingly . after quantifying the couplings between different properties of the bipolar pulse and the bunch parameters in a simulation study , the waveform features in figure [ fig : bunchparametermeasures ] were chosen .",
    "the zero - crossing is a sharp vertical edge and thus a well - suited region to pick off the time of the pulse .",
    "moreover , it is stationary with varying bunch intensity .",
    "the location of the zero - crossing is determined by solving where the function resulting from a linear interpolation between the last positive and first negative samples crosses zero .",
    "simulations suggest that the location of the zero - crossing relative to the actual arrival time depends slightly on the bunch length , which degrades the resolution of the arrival time measurement if the beams contain bunches of varying length .",
    "however , as soon as the mathematical model that the simulations rely upon has been tuned to data , this correlation can be determined and compensated for at the signal processing stage .",
    "the value of the integral under the peak of the pulse is proportional to the number of protons in the bunch and is therefore chosen for the intensity measurement .",
    "this is implemented by performing numerical integration of the the peak if it passes a programmable threshold voltage .",
    "the peak - to - valley distance scales with the longitudinal length of the bunch , and is relatively easy to measure . by fitting a second order polynomial to three sample points around maximum ( minimum ) , a more accurate determination of the peak ( valley ) location is achieved , enhancing the the resolution of this measurement considerably .",
    "these three measurements can be done with relatively low computational costs and perform well for our purposes . for more detailed motivations on the chosen waveform features ,",
    "see @xcite .      when the individual signals have been processed and their extracted features saved in waveform descriptors , the arrival time of each bunch can be matched with a clock edge .",
    "the time difference between the bunch arrival time and the clock edge defines the phase of the bunch and the number of clock ticks since the orbit pulse determines the bcid .",
    "the bcid association can also be done by matching the identified bunches to a reference lhc fill pattern , which could be useful in the unlikely event that the orbit signal is unavailable .",
    "the objective of the bptx monitoring system is to monitor the lhc beams and timing signals during atlas data taking .",
    "it is therefore important that the measurements are presented in a way that provides both overview and detail .",
    "the bptx viewer application provides an interactive graphical user interface for displaying monitoring data recorded with the bptx read - out program .",
    "figure [ fig : bptxviewer1b ] shows a typical monitoring display in bptx viewer .",
    "the panel on the left allows the user to browser through the data sets currently accessible on disk or to automatically display the most recent data .",
    "the bottom panel shows measured bunch quantities vs. bcid . in this case , the individual bunch intensity of beam 1 ( blue ) and beam 2 ( red ) is plotted for a simulated data set , and visualizes the fill structure and uniformity of both beams .",
    "the main panel shows summary histograms for the clock signal period time and distributions of the measured bunch phase , intensity and length for both beams .",
    "[ sec : bptxviewer ]            the main panel has several tabs , and the second one , labeled `` outliers '' , offers an interface for finding deviating bunches . by defining a set of cuts on the measured bunch parameters , e.g. bunches with low intensity",
    "can be found easily and their information displayed in the table ( see figure [ fig : bptxviewer2b ] ) .",
    "for example , displaying the bunches that have a phase that deviates from the mean value could reveal low - intensity , out - of - time bunches , so - called _ satellite bunches _ or _",
    "ghost bunches_. although the signal model is yet to be tuned to data , simulations show that even two bunches in consecutive rf buckets can be distinguished and identified correctly by the software as long as they have comparable intensity .",
    "the third tab displays the current log file of the bptx read - out application for easy inspection in case the control room shifter suspects there are problems in the read - out or signal processing in the bptx monitoring system .",
    "if the shifter in the atlas control room suspects that there is a problem with the timing signals or one of the beams , the waveforms available on disk can be inspected with the bptx waveform viewer .",
    "figure [ fig : bptxwaveformviewer ] shows an example view of simulated bptx signals for both lhc beams .",
    "the bptx publisher application runs in parallel to the bptx read - out program on the rack - pc in usa15 , and is responsible for shipping summary data from the bptx monitoring system to the atlas _ detector control system _",
    "( dcs)@xcite . by publishing the data to dcs ,",
    "it is automatically made available to other atlas online services and recorded in the conditions database for permanent storage .",
    "at 10:18 am on september 10 , 2008 , the lhc successfully circulated the first proton bunch . during the following week",
    "the bptx system was used extensively to time in the atlas trigger system , and the bptx monitoring system gave real - time information about the lhc beams to the shifters in the atlas control room .",
    "this section contains some plots from the monitoring system and presents a few preliminary results that indicate the resolution of its measurements .",
    "figure  [ fig : bptxfirstbunch ] shows the first low - intensity lhc bunch on its way to atlas , as seen by the bptx station 175 m in front of atlas , before it hit the collimators and produced the first so - called _",
    "splash event_. the amplitude of the pulse is consistent with a reported bunch intensity of @xmath3 protons per bunch . for the nominal bunch intensity of @xmath4 protons per bunch",
    ", the pulse amplitude is expected to increase by a factor of @xmath1500 .",
    "a few hours later , the lhc managed to circulate a single bunch eight turns around the lhc . since the beam was not yet captured by the rf system ,",
    "the pulse amplitude was reduced from turn to turn as can be seen in the bottom plot of figure [ fig : bptxfirstbunch ] .",
    "this can be explained by the debunching that is expected when the beam is not constrained longitudinally by an electric field .",
    "a few days later , the lhc managed to capture a bunch with its rf system and circulate it for a longer period .",
    "figure [ fig : bptxlongerfill ] shows the beam intensity measured over time by the bptx monitoring system for the longest lhc fill so far , with a total duration of about 20 minutes .",
    "the scatter of data points indicates that the resolution of this measurement is around 10 percent .",
    "20 min fill as measured by the bptx monitoring system . ]          during the fill mentioned in section [ sec : longerinjection ] , the phase between the bunch and the closest edge of the clock signal was measured with a precision of 40ps .",
    "this number includes not only the accuracy of the phase measurement , but also the clock jitter and possibly varying bunch arrival times .",
    "figure  [ fig : bptxlongcoast ] illustrates this phase stability with a picture from an oscilloscope that was running in persistency mode . since all measurements were performed on the same bunch , potential effects on the arrival time determination due to varying bunch length are not included .",
    "the period of single beam running offered the first possibility to measure the noise of the bptx signals during operation with beam . by analyzing waveforms captured during this time",
    ", the standard deviation of the sample values in regions without bunch pulses was measured to be 1.7mv . on september 10 ,",
    "the lhc reported a bunch intensity of @xmath5 protons , for which the measured bptx pulse amplitude was 0.06v . since the pulse amplitude varies linearly with bunch intensity , setting the threshold level to @xmath6mv the lowest possible bunch intensity that the bptx system is sensitive to would be @xmath7 , corresponding to 0.26% of the nominal lhc bunch intensity .",
    "as can be seen in figure  [ fig : bptxlongcoast ] , a small reflection of the bunch pulse was discovered in the recorded bptx waveforms .",
    "the reflection is caused by impedance variations in the components that combine the signals from the four pick - ups , and is likely to scale with pulse amplitude .",
    "this feature could limit the sensitivity to detect satellite bunches in lhc fills with high bunch intensities , however there are plans to implement an appropriate filter to correct for it at the signal processing level .",
    "the bptx monitoring system in atlas is designed to monitor the relation between the lhc beams and timing signals to ensure the quality of the recorded event data . in addition",
    ", the structure of the beams and properties of the individual bunches can be measured and displayed with the bptx application suite . during the first period of lhc running the bptx signals",
    "were successfully used in the trigger system and the monitoring system measured both bunch intensity and phase with satisfactory performance , however , further calibration studies are needed to reach optimal performance .",
    "the authors would like to thank the atlas collaboration and its level-1 central trigger group in which most of this work was carried out .",
    "we would also like to express our gratitude to the lhc machine groups .",
    "9 the atlas collaboration 2008 `` the atlas experiment at the cern large hadron collider '' ( 2008 ) s08003 .",
    "l.  evans and p.  bryant ( editors ) 2008 `` lhc machine '' ( 2008 ) s08001 . c.  ohm , t.  pauly 2009 `` the atlas beam pick - up based timing system '' to appear in _ proc .",
    "1st int . conf . on technology and instrumentation in particle physics ( tsukuba )",
    "_ _ preprint _ hep - ex/0905.3648 t.  pauly et al .",
    "2005 `` atlas level-1 trigger timing - in strategies '' pp 274 - 278 . c. ohm 2007 m.sc .",
    "thesis , linkping university , sweden , lith - ifm - ex07/1808se .",
    "s.  baron 2005 `` ttc challenges and upgrade for the lhc '' pp 125 - 129 .",
    "a. barriuso poy , h. boterenbrood , h. j. burckhart , j. cook , v. filimonov , s. franz , o. gutzwiller , b. hallgren , v. khomutnikov , s. schlenker and f. varela 2008 `` the detector control system of the atlas experiment '' .",
    "( 2008 ) p05006 ."
  ],
  "abstract_text": [
    "<S> the atlas bptx stations are comprised of electrostatic button pick - up detectors , located 175 m away along the beam pipe on both sides of atlas . </S>",
    "<S> the pick - ups are installed as a part of the lhc beam instrumentation and used by atlas for timing purposes . </S>",
    "<S> the signals from the atlas bptx detectors are used both in the trigger system and for a stand - alone monitoring system for the lhc beams and timing signals . </S>",
    "<S> the monitoring software measures the phase between collisions and clock with high accuracy in order to guarantee a stable phase relationship for optimal signal sampling in the sub - detector front - end electronics . </S>",
    "<S> it also measures the properties of the individual bunches and the structure of the beams . in this paper , </S>",
    "<S> the bptx monitoring software is described , its algorithms explained and a few example monitoring displays shown . </S>",
    "<S> in addition , results from the monitoring system during the first period of single beam running in september 2008 are presented . </S>"
  ]
}