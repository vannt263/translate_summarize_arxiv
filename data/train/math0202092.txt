{
  "article_text": [
    "let @xmath4 be an irreducible projective variety over @xmath5 , and @xmath6 an ample divisor on @xmath4 ( see below for more explanation ) . for @xmath7 , we write @xmath8 for the _ riemann  roch space _ ( rr space ) of @xmath9 .",
    "that is , @xmath10 is the finite dimensional vector space of rational ( or meromorphic ) functions @xmath11 with divisor of poles @xmath12 .",
    "our basic construction is the graded ring @xmath13 where the product is simply multiplication of rational functions @xmath14 this just says that if @xmath15 are rational functions with poles @xmath16 then @xmath17 has poles @xmath18 .",
    "our special interest is the case when the ring @xmath3 can be described by explicit generators and relations , for example , as a polynomial ring or a polynomial ring divided by a principal ideal ( geometrically , a hypersurface ) .",
    "when this is possible , it corresponds to embedding @xmath4 in projective space and determining the defining equations of the image variety .",
    "it frequently happens in higher dimensions that the generators @xmath19 of @xmath3 have different weights , so we have to work with weighted projective spaces ( _ w.p.s . _ )  and weighted homogeneous ideals .",
    "dolgachev @xcite and fletcher @xcite are useful as general references on w.p.s .  and their complete intersections ( _ c.i .",
    "although we intend to allow @xmath4 to have mild singularities , please think of it in the first instance as nonsingular .",
    "the point of the rr spaces @xmath20 is this : because @xmath4 is projective , the only globally defined regular functions ( holomorphic functions ) on it are the constants . by allowing poles along a divisor @xmath9",
    ", we get a finite dimensional space of rational ( or meromorphic ) functions @xmath10 ; as we discuss below , the rr theorem predicts @xmath21 in good cases . choosing a basis @xmath22 defines a rational map @xmath23 there are straightforward criteria that determine when @xmath24 is a morphism @xmath25 or an embedding @xmath26 .",
    "the divisor @xmath9 is _ very ample _ if it defines an embedding @xmath27 , and @xmath6 is _ ample _ if @xmath9 is very ample for some @xmath28 .",
    "please skip this stuff if you already know it .",
    "if not , we strongly advise you to make an effort to _ commit it to memory _ , since it is one of the central points of algebraic geometry . a nonsingular projective curve @xmath29 ( or compact riemann surface )",
    "has a _ genus _ @xmath30",
    "that can be defined in several alternative ways :    1 .",
    "@xmath29 is homeomorphic to the traditional picture of a surface with @xmath30 holes . 2 .",
    "@xmath29 has euler number @xmath31 .",
    "the tangent bundle to @xmath29 has degree @xmath32 , or equivalently , the canonical divisor class @xmath33 has degree @xmath34 . here",
    "@xmath33 is defined as the class of the divisor of a rational ( or meromorphic ) differential .",
    "4 .   @xmath35 . in words",
    ", @xmath30 equals the dimension of the vector space of global regular ( or holomorphic ) differentials on @xmath29 .",
    "; for example , you can define @xmath30 as the integer appearing in the rr theorem for curves ( [ eq!rrc ] ) .",
    "let @xmath36 be a divisor on @xmath29 .",
    "then @xmath37 where @xmath38 .",
    "( recall that @xmath39 and @xmath40 , and in this language the formula is @xmath41    when @xmath42 , we get @xmath43 , so ( [ eq!rrc ] ) simplifies to a formula for @xmath44 in terms of topological invariants of @xmath29 and @xmath45 .",
    "[ exa!g=3 ] as a baby case of our graded ring methods , we compute the canonical ring @xmath46 of a curve of genus  3 , and conclude that @xmath29 is a plane quartic curve under suitable extra assumptions .",
    "take @xmath29 to be a nonsingular projective curve of genus  3 , with polarising divisor @xmath33 .",
    "the starting point is that rr gives @xmath47 : @xmath48 the last number comes from ( [ eq!rrc ] ) , with the r.h.s .",
    "equal to @xmath49 .",
    "now @xmath50 .",
    "as we said above , choosing a basis @xmath51 of @xmath52 defines a rational map @xmath53 . a traditional and easy argument based on rr applied to the divisors @xmath54 and @xmath55 proves that @xmath56 is a morphism , either defining an isomorphism @xmath57 of @xmath29 with a plane quartic curve @xmath58 , or a generically 2-to-1 cover @xmath59 over a conic .",
    "we argue somewhat more algebraically on the ring @xmath60 using ( [ eq!g=3 ] ) ; in degree two , @xmath61 .",
    "but we already know 6 elements of @xmath62 , namely the 6 quadratic monomials @xmath63 we assume that these monomials are linearly independent , so form a basis of @xmath62 .",
    "likewise , in degree 3 , @xmath64 , and there are @xmath65 cubic monomials @xmath66 , so we assume that they are linearly independent , and again form a basis . in degree 4",
    ", however , we necessarily find a relation , since @xmath67 , but there are @xmath68 quartic monomials @xmath69 .",
    "the conclusion is the prediction that the graded ring @xmath46 has the simplest form @xmath70/(f_4)$ ] ; and the corresponding map @xmath71 is an embedding with image @xmath58 given by @xmath72 .",
    "the assumption that the quadratic monomials @xmath73 are linearly independent is of course the hyperelliptic dichotomy . in the nonhyperelliptic case",
    ", the image @xmath74 can not be contained in a curve of degree @xmath75 union a finite set , so that once the relation @xmath76 has been detected , one sees that the ring homomorphism @xmath77/(f_4 ) \\to r(c , k_c)\\ ] ] must be injective .",
    "then it is surjective , because in degree @xmath28 the quotient ring has dimension @xmath78 .    in the hyperelliptic case , the canonical ring is @xmath79/(q_2,f_4),\\ ] ] where @xmath80 is the equation of the image conic , @xmath81 the new generator in degree 2 required to compensate for this relation , and @xmath82 . then @xmath83 is the double cover ramified in the 8 points @xmath84",
    "we can even consider a degenerating family with quadratic relation @xmath85 that consists of a nonhyperelliptic curve if @xmath86 and a hyperelliptic curve if @xmath87 .",
    "consider now a nonhyperelliptic curve @xmath29 of genus  6 .",
    "its canonical embedding @xmath88 has image of codimension  4 . as opposed to the hypersurface case",
    ", we do not have any surefire way of predicting the equations of a variety of codimension  @xmath89 .",
    "this is a major preoccupation of the rest of the paper . in this case",
    ", we happen to be lucky , but it still involves a case division into brill  noether special and brill  noether general :    1 @xmath29 is trigonal or isomorphic to a plane quintic .",
    "trigonal means that @xmath29 has a linear system @xmath90 ; equivalently , @xmath29 can be represented as a triple cover @xmath91 .",
    "it is well known that then @xmath74 is contained in a quartic surface scroll ( typically , @xmath92 embedded by @xmath93 ) ; its equations are the 6 quadrics defining the scroll and 3 cubics defining @xmath29 inside the scroll .",
    "the case of a plane quintic is similar , with @xmath74 contained in the veronese image of @xmath94 , and defined by the 6 quadratic equations of the veronese surface and 3 cubics defining @xmath29 in it .",
    "2 @xmath29 is not trigonal and not isomorphic to a plane quintic .",
    "then the canonical image @xmath74 is a c.i .  in @xmath95 :",
    "@xmath96    [ rmk!pf ] here",
    "@xmath95 is the grassmann variety of 2-dimensional vector subspaces of @xmath97 in its plcker embedding in @xmath98 .",
    "equivalently , it is the determinantal variety defined by the @xmath99 diagonal pfaffians @xmath100 of the @xmath101 skew matrix @xmath102 where @xmath103 for @xmath104 .",
    "( we only write the upper triangular elements .",
    "for the whole @xmath101 matrix , just write zeros in the 5 diagonal entries and the skew elements @xmath105 . )",
    "although case  2 is a 19th century result , the direct statement and proof is due to mukai ( @xcite , section  5 ) , and is a first substantial case of his general program .",
    "he proves that there exists a unique rank  2 stable vector bundle @xmath106 on @xmath29 with @xmath107 and @xmath108 ; moreover , @xmath106 is generated by its @xmath109 , and @xmath110 . by the universal mapping property of the grassmann variety , @xmath106 and its sections",
    "define a morphism @xmath111 , making @xmath56 a linear section of the plcker embedding : @xmath112 since @xmath113 , standard brill  noether arguments give the existence of a decomposition @xmath114 with divisors @xmath115 and @xmath116 such that @xmath117 and @xmath118 .",
    "rr ( [ eq!rrc ] ) gives @xmath119 , and the case assumptions imply that @xmath120 is a free @xmath121 and @xmath122 a free @xmath123 .",
    "for every such decomposition @xmath114 , the bundle @xmath106 appears as the unique extension @xmath124 for which the boundary map @xmath125 is zero .",
    "[ exa!1/2 ] as in example  [ exa!g=3 ] , let @xmath29 be a nonsingular quartic curve ; however , instead of @xmath33 , we choose a point @xmath126 and consider the _ fractional divisor _ @xmath127 .",
    "the rr space of @xmath9 is given by the same formula : @xmath128 the novel point is that a rational function can not have a pole of fractional order .",
    "thus although the definition allows @xmath129 a pole of order @xmath130 at @xmath131 , in practice this restricts it to have pole of order @xmath132 .",
    "the first time this has any effect is when @xmath133 , when @xmath134 has dimension 1 bigger than @xmath62 .",
    "thus the ring @xmath135 needs a new generator @xmath81 in degree  2 . in explicit terms , if @xmath136 then the equation of @xmath29 is @xmath137 where @xmath138 are cubics in @xmath51 , and @xmath139 is a rational section of @xmath140 with pole at @xmath131 .",
    "it follows that @xmath141/(yx_2-b , yx_3+a).\\ ] ]    [ rmk!orb ] the ring @xmath142/(yx_2-b , yx_3+a)$ ] constructed in example  [ exa!1/2 ] corresponds to embedding @xmath143 as a @xmath144 c.i . here",
    "the w.p.s .",
    "@xmath145 is the cone over the veronese surface , and @xmath29 passes through the cone point @xmath146 as a nonsingular branch , with the equations @xmath147 determining @xmath148 as implicit functions .",
    "the fractional divisor @xmath149 is the _ orbifold canonical class _ of @xmath29 , where @xmath131 is viewed as an orbifold point of order  @xmath150 .",
    "the ring @xmath135 is again gorenstein ( see watanabe @xcite ) ; we treat the case @xmath151 in example  [ exa!2/3 ] .",
    "more generally , we could take any _",
    "basket _ of orbifold points @xmath152 of order @xmath153 on @xmath29 and consider the orbifold canonical class @xmath154 .",
    "the affine cone @xmath155 corresponds to a @xmath156 fibration over @xmath29 with isotropy @xmath157 over @xmath152 , the @xmath156 analog of a seifert fibre space .",
    "the fact that @xmath135 is a gorenstein ring means that there is a category of orbifold sheaves on @xmath29 ( more precisely , modules over its affine cone @xmath158 ) having a nice form of serre duality .",
    "a curve with an orbifold point is a substantial first case of the cyclic quotient singularities needed in higher dimension . for example , our construction of @xmath159 extends in the obvious way to a k3 surface @xmath160 , fano 3-fold @xmath161 , etc .",
    "the subject starts in the 1930s , when fano studies projective 3-folds having canonical curve sections .",
    "his definition is projective : @xmath162 should have canonical curves as its codimension  2 linear sections : @xmath163 but this is more - or - less equivalent to assuming that @xmath164 is very ample ( see below ) .",
    "iskovskikh modernised fano s treatment in the 1970s .",
    "his starting point is a nonsingular 3-fold @xmath165 with @xmath164 ample .",
    "he analyses the rather few exceptions to @xmath164 very ample , and corrects and reworks fano s classification . from the 1980s",
    "onwards mukai discovers a new interpretation of fano and iskovskikh s results in terms of linear sections of projective homogeneous varieties , and generalises them to indecomposable gorenstein fano 3-folds ( see below for explanation ) .",
    "a _ nonsingular fano @xmath166-fold _ is a nonsingular irreducible projective variety of dimension @xmath166 with ample @xmath164 .",
    "likewise , a _ gorenstein fano @xmath166-fold _ is a normal irreducible projective @xmath166-fold @xmath165 with at worst canonical gorenstein singularities and @xmath164 ample .",
    "the _ genus _ of a fano 3-fold is the integer @xmath30 defined by @xmath167 . in the nonsingular case , we deduce that @xmath168 .",
    "we say that @xmath165 is _ prime _ if @xmath169 ( here @xmath170 is the weil divisor class group ) ; and @xmath165 is _ indecomposable _ if there does not exist any decomposition @xmath171 where @xmath138 are weil divisors such that @xmath172 are nontrivial linear systems .    the point of these definitions is to exclude easy cases such as @xmath173 ( for which @xmath174 ) and quadric or cubic hypersurfaces @xmath175 ( for which @xmath176 or @xmath177 respectively ) , that can be handled by simpler methods .",
    "the prime condition is fano and iskovskikh s assumption that @xmath165 is factorial and has rank @xmath178 and index  1 ; indecomposable is mukai s generalisation .",
    "nonsingular fano 3-folds with @xmath179 were treated in detail by mori and mukai @xcite@xcite .",
    "[ exa!v4 ] a quartic @xmath166-fold containing a plane @xmath180 is indecomposable .",
    "if @xmath181 is the @xmath182 coordinate plane defined by @xmath183 then @xmath165 is defined by an equation @xmath184 , and this is singular at the points @xmath185 ( in general 9 ordinary double points ) .",
    "an _ elephant _ of @xmath165 is a surface @xmath186 with at worst du val singularities ( rational double points ) .",
    "if @xmath165 is a gorenstein fano 3-fold , an elephant is known to exist by a theorem of shokurov and reid @xcite .",
    "it is a k3 surface : in fact @xmath187 and @xmath188 by kodaira vanishing .",
    "morever , @xmath189 is an ample complete linear system of cartier divisors on @xmath190 .    with a couple of exceptional cases that are easily classified and that we pass over",
    ", it follows that @xmath191 is very ample .",
    "taking another elephant @xmath192 and setting @xmath193 gives the diagram @xmath194 special linear systems on @xmath29 interpreted in terms of geometric rr give rise to geometric properties of @xmath165 .",
    "the hyperelliptic case was already passed over in what we said above ; the case of @xmath29 trigonal leads to @xmath165 a hypersurface in a scroll , which contradicts @xmath165 indecomposable for @xmath195 . in the same way , other brill",
    " noether special linear systems on @xmath29 such as @xmath196 ( when @xmath29 is a plane quintic ) usually contradict @xmath165 indecomposable .",
    "none of the above is specific to 3-folds .",
    "canonical curves and k3 surfaces continue to exist for all @xmath30 , so the main result for 3-folds is thus quite remarkable",
    ".    [ th!clf ] indecomposable gorenstein fano of genus @xmath30 exist if and only if @xmath197 or @xmath198 . if @xmath199 , the anticanonical ring @xmath200 is a hypersurface or complete intersection in projective space or w.p.s . if @xmath201 then @xmath165 is a complete intersection in a homogeneous projective variety .",
    "( there is also an analogous structure result for @xmath198 . )    for example , @xmath202   g=4 & \\implies & v = q_2\\cap f_3\\subset{\\mathbb p}^5 .   \\end{array}\\ ] ] as a typical case of the homogeneous projective varieties @xmath203 , @xmath204 where @xmath205 is the 10-dimensional spinor variety or orthogonal grassmann variety , that is , the subset of @xmath206 consisting of maximal isotropic vector subspaces of the standard inner product @xmath207 in its spinor embedding @xmath208 ( see mukai @xcite ) .    as an illustration",
    ", we sketch the proof in the style of mukai that there does not exist any fano 3-fold @xmath209 of genus 11 .",
    "write @xmath210 for the blowup of a point @xmath211 , and @xmath212 for the exceptional divisor , with @xmath213 and @xmath214",
    ". then @xmath215 .",
    "it follows that the anticanonical linear system @xmath216 is the birational transform of the linear system @xmath217 of hyperplane sections of @xmath165 containing the tangent plane @xmath218 .",
    "we assume that @xmath131 does not lie on any line of @xmath165 .",
    "then since @xmath165 is an intersection of quadrics , we deduce that @xmath219 is a morphism , birational because @xmath165 is indecomposable , with image @xmath220 a gorenstein fano 3-fold of genus  7 .",
    "now on the one hand , @xmath220 is indecomposable , so is a linear section of @xmath221 by the result for @xmath222 . on the other hand , it contains the image of @xmath106 , a veronese surface .    finally , arguing on the geometry of @xmath223 and on its universal bundle",
    ", we can deduce that the only veronese surfaces @xmath106 it contains span a @xmath224 ; this contradicts the construction of @xmath220 as a linear section of @xmath225 containing @xmath106 .",
    "iskovskikh s proof ( deriving from fano ) proceeds by the projection from a general line @xmath226 ; it involves proving that lines exist , and various generality statements about its projection and double projection .",
    "mukai s proof is thus a considerable simplification even in the nonsingular case .",
    "the minimal model program for 3-folds ( usually called mmp or mori theory ) was developed by mori and others from the late 1970s .",
    "as in the theory of surfaces , to get one step closer to a minimal model , one makes a birational contraction , for example , contracting a copy of @xmath94 on which the canonical class is negative .",
    "however , these contractions lead to singularities , so that mori theory only works in a suitable category of singular varieties .",
    "this leads to the following definitions :    the _ mori category _ consists of projective varieties with at worst terminal singularities , where    1 .",
    "a variety @xmath165 has _ terminal singularities _ if it is normal , @xmath227 is a cartier divisor for some @xmath228 , and any resolution of singularities @xmath229 with divisorial exceptional locus @xmath230 satisfies @xmath231 for example , the cone over the veronese surface ( that is , the quotient singularity @xmath232 ) is terminal : it is resolved by the blowup @xmath233 of the origin , which introduces the exceptional divisor @xmath213 with @xmath234 and @xmath235 , so that @xmath236 .",
    "2 .   @xmath165 is _",
    "@xmath0-factorial _ if every weil divisor @xmath45 on @xmath165 has a multiple @xmath237 that is cartier .",
    "you should think of this as an analog in algebraic geometry of the condition that @xmath165 is a @xmath0-homology manifold : a codimension  1 subvariety has a dual cohomology class in @xmath238 .",
    "for example , the quartic hypersurface of example  [ exa!v4 ] is not @xmath0-factorial , since it has double points on @xmath181 at which no multiple of @xmath181 is cartier .",
    "terminal singularities are necessary for mori theory : the mori category is closed under contractions and flips , and is the smallest such category .",
    "terminal singularities were classified by mori and reid .",
    "they are made up of the following ingredients ( for more details , see reid @xcite ) :    1 .",
    "mild isolated hypersurface singularities , for example , double points such as @xmath239 . while this is a reasonably concrete class of singularities ,",
    "already the special case @xmath240 is fairly infinite , containing all isolated plane curve singularities .",
    "the cyclic quotient singularities @xmath241 .",
    "the notation means the quotient @xmath242 , where the cyclic group @xmath243 acts by @xmath244 setting @xmath245 leads to the cyclic quotient singularity @xmath246 , which is the du val singularity a@xmath247 @xmath248 thus @xmath249 defines a local elephant @xmath186 .",
    "3 .   some combinations of the above two types , typically the main type  a family @xmath250 .    [ rmk!a?b ] whenever we say that a point @xmath211 is a terminal quotient singularity of type @xmath241 , we always assume that @xmath251 and @xmath252 is coprime to @xmath150 .",
    "the local class group of @xmath211 is @xmath243 , with chosen generator @xmath253 , a _",
    "polarisation _ of the singularity .",
    "the generators of the graded ring @xmath254 that serve as orbifold local coordinates then have weights @xmath255 mod @xmath150 ; compare corti , pukhlikov and reid @xcite , 3.4.6 .",
    "the quotient singularity @xmath246 is the du val singularity a@xmath247 , so of course does not depend on @xmath252 up to analytic isomorphism ; but we work here with k3 surfaces with a chosen polarisation @xmath256 , and the weights mod @xmath150 of the orbifold local coordinates are uniquely determined .",
    "write @xmath257 for the inverse of @xmath252 mod @xmath150 ( that is @xmath258 mod @xmath150 ) .",
    "choosing @xmath259 as a new basis for the group of @xmath150th roots of unity would put the du val singularity in the standard a@xmath247 form @xmath260 and the terminal 3-fold point in the form @xmath261 ; and @xmath262 is locally isomorphic to the @xmath263 eigensheaf .",
    "the birational transform of the general divisor @xmath45 meets the @xmath257th curve in the resolution ( see figure  [ fig!star ] ) .",
    "the quantity @xmath257 also appears in the orbifold rr formulas of @xcite , theorem  10.2 ( see theorem  [ th!hi ] below ) , for essentially the same reason . muddling up @xmath252 and @xmath257 in calculations",
    "is a common error , but you find out soon enough when your plurigenera turn out to be fractional ; see exercise  [ exc!ele ] , ( 3 ) for a practical instance .",
    "fano @xmath166-fold _ is a variety @xmath165 for which @xmath164 is ample .",
    "we usually add conditions to this .",
    "a _ mori fano @xmath166-fold _",
    "@xmath165 is a fano 3-fold in the mori category and with @xmath264 .",
    "as one of the possible end products of a mmp , these 3-folds are among the basic building blocks of mori theory .",
    "@xmath165 is _ prime _ if it is in the mori category and @xmath265 .    as in the gorenstein case , the _ anticanonical ring _ of a fano 3-fold @xmath165 is the graded ring @xmath266 an _ elephant _ of @xmath165 is a general divisor @xmath186 , just as in [ ssec!ele ] . if @xmath190 exists , it is no longer a cartier divisor at singularities of @xmath165 of index @xmath267 .",
    "the graded rings of @xmath165 and @xmath190 are related by @xmath268 where @xmath269 is the equation of @xmath186 .",
    "that is , @xmath270 is a quotient of @xmath271 by a principal ideal generated by an element of degree  1 .",
    "when two rings are related in this way , many basic algebraic properties of one can be inferred from the other ; compare exercise  [ exc!ele ] and [ sssec!f3 ] .",
    "this is called the _ hyperplane section principle . _",
    "the most useful case is when there is an elephant @xmath190 with at worst du val singularities ; then @xmath190 is a k3 surface ( this is proved as in [ ssec!ele ] ) polarised by the weil divisor @xmath272 .",
    "then via the graded rings , many properties of the fano 3-fold @xmath165 can be read from those of @xmath190 .",
    "as we see in [ sec!g<0 ] below , there are cases when @xmath273 , that is , no elephant exists ; or when @xmath274 , and the single surface @xmath275 happens to have slightly worse than du val singularities , so there is no k3 elephant .",
    "nevertheless , the motivation arising from k3 surfaces is our main guiding principle for the study of fano 3-folds , even in cases such as these when it is logically inapplicable .",
    "compare exercise  [ exc!ele ] .",
    "[ exa!2/3 ] let @xmath276 be coordinates on @xmath277 .",
    "we start from a @xmath144 c.i .",
    "@xmath278 as described at the end of remark  [ rmk!orb ] , and assume that @xmath165 contains the weighted projective plane @xmath279 and is otherwise general . since @xmath181 is a c.i",
    ", the two cubic equations of @xmath165 are of the form @xmath280 where @xmath281 are forms of degree 2 in @xmath276 .",
    "we show that @xmath181 can be contracted to a quotient singularity of type @xmath282 by a rational map @xmath283 , where @xmath284 is a mori fano 3-fold .",
    "the new coordinate @xmath285 will be a rational section of @xmath286 with pole along @xmath181 . thinking of ( [ eq!3 ] ) as 2 simultaneous equations for @xmath51 with coefficients @xmath281 and solving them by cramer s rule gives : @xmath287 the `` constant of proportionality '' @xmath288 is a well defined rational form of degree  3 on @xmath165 with pole along @xmath181 .",
    "now consider the rational map @xmath289 the image @xmath290 is given by the 5 equations ( [ eq!3][eq!4 ] ) .",
    "@xmath291 is an morphism wherever @xmath181 is a cartier divisor on @xmath165 , contracts @xmath181 to the point @xmath292 , and is an isomorphism outside @xmath181 .",
    "the point @xmath292 is the @xmath282 singularity @xmath293 , because when @xmath294 , ( [ eq!4 ] ) gives @xmath51 as implicit functions .",
    "@xmath165 is quasi - smooth at points of @xmath181 where the matrix in ( [ eq!3 ] ) has rank  2 , and @xmath181 is a cartier divisor there .",
    "we can assume that this matrix has rank @xmath295 everywhere on @xmath181 , hence the blowup of @xmath181 is a small morphism .",
    "it makes @xmath181 a cartier divisor so that @xmath291 is a morphism on the blowup .",
    "notice that the graded ring @xmath296 is generated by @xmath297 with relations ( [ eq!3][eq!4 ] ) . these can be put together as the five @xmath99 pfaffians of the skew matrix @xmath298 see remark  [ rmk!pf ] for our conventions on pfaffians .    at the end of remark  [ rmk!orb ] , we noted that the fano 3-fold @xmath161 has as its linear section the graded ring @xmath299 corresponding to the orbifold canonical class of a curve of genus  3 together with an orbifold point @xmath131 of order @xmath300 .",
    "the construction of this example restricted to @xmath29 is the graded ring @xmath301 corresponding to the orbifold canonical class @xmath302 ( compare example  [ exa!1/2 ] ) .",
    "several hundred families of k3 surfaces @xmath190 and mori fano @xmath165 are known .",
    "we now develop methods to guarantee gratification from this cornucopia . the cases treated in examples  [ exa!1/2 ] and  [ exa!2/3 ] are pretty tame , and more complicated things like example  [ exa!44 ] below are more typical . since we study a polarised variety @xmath303 in terms of the graded ring @xmath3 of ( [ eq!rx ] ) , the natural numerical invariants of @xmath4 to take is the _ list of ingredients _ that go into its hilbert series @xmath304 .",
    "we explain this in theorem - definition  [ th!hi ] , but first we work through an example .",
    "[ exa!44 ] consider the weighted hypersurfaces : @xmath305 this is fletcher @xcite , list  13.3 , no .",
    "91 , reid1(91 ) in the magma database .",
    "we sketch how to calculate with these hypersurfaces . for more details , see @xcite , section  13 ( compare dolgachev @xcite ) . write @xmath306 or @xmath307 for variables of weights @xmath308 , and let @xmath309 be a general weighted polynomial of degree  44 in them . set    * @xmath310={\\mathbb c}[x , y , z , t , u]/\\bigl(f_{44}(x , y , z , t , u)\\bigr)$ ] , * @xmath311:\\bigl(f_{44}=0\\bigr ) \\subset { \\mathbb c}^5 $ ] , and * @xmath312:\\bigl(f_{44}=0\\bigr ) \\subset { \\mathbb p}(1,4,5,13,22)$ ]",
    ".    then @xmath313 is the affine cone over @xmath165 , and @xmath312 $ ] the quotient of @xmath313 by the @xmath156 action @xmath314 for @xmath315 with the given weights @xmath316 . by a combination of bertini s theorem at general points and explicit calculations at the coordinate strata , one checks that @xmath313 is nonsingular outside the origin for general @xmath317 .",
    "we say that @xmath165 is _ quasi - smooth_. then the only singularities of @xmath318 arise from the fixed points of the @xmath156 action ; these are the points of the @xmath19-axis , fixed by the cyclic group @xmath319 of @xmath316th roots of 1 , and the points of the @xmath320-plane , which are fixed by @xmath321 , because @xmath322 .",
    "thus in general @xmath165 has the following cyclic quotient singularities : @xmath323 for example , along the @xmath324 axis of @xmath313 , we can assume that @xmath317 has the monomial @xmath325 , which means that @xmath326 when @xmath327 , so that @xmath285 is an implicit function of the other variables .",
    "it follows that @xmath313 is nonsingular there and that @xmath165 has a quotient singularity of type @xmath328 at @xmath329 . at each singular point",
    ", @xmath330 is a generator of the local class group .",
    "let @xmath331 be a graded ring .",
    "we assume that @xmath332 is generated by finitely many elements @xmath19 of positive degree over @xmath333 .",
    "its hilbert series @xmath334 is defined by setting @xmath335 in cases of interest , @xmath336 is given by a formula of orbifold rr type ( see @xcite , chapter  3 ) , possibly with some corrections for low values of @xmath28 when cohomology is still present .",
    "use ( [ eq!g=3 ] ) to show that the canonical ring @xmath46 of a curve @xmath29 of genus @xmath30 has hilbert series @xmath337    now write @xmath338 for the orbifold canonical class of remark  [ rmk!orb ] ; the sum takes place over a basket @xmath339 of orbifold points @xmath131 of order @xmath150 . in degree",
    "@xmath28 , only the rounded down integral divisor @xmath340 moves .",
    "deduce that the hilbert series of the orbifold canonical ring @xmath135 is given by @xmath341 the first expression ( [ eq!orbc1 ] ) shows how much the integral divisor @xmath342 contributes to each @xmath343 .",
    "the second expression is a transparent case of an orbifold rr formula : we write @xmath344 where @xmath345 is a cartier divisor ( @xmath6 itself does not make sense as a sheaf ) ; in each term , the effect of the denominator @xmath346 is to multiply by @xmath347 , so that the fractional part @xmath348 discarded in the rounddown is repeated periodically with period @xmath150 .",
    "this formula for orbifold curves can serve as a model for the formulas of @xcite , chapter  3 .",
    "in fact , a result of becky leng s thesis @xcite derives the orbifold rr formula for 3-folds ( @xcite , theorem  10.2 ) via a reduction to the curve case .      the analogous formulas for the hilbert series of the graded ring over a k3 surface @xmath190 or a fano 3-fold @xmath165 are contained in altinok @xcite and @xcite .",
    "the proofs are based on the results of @xcite , chapter  3 .",
    "[ th!hi ] let @xmath190 be a k3 surface with du val singularities , and @xmath45 a weil divisor .",
    "the hilbert series @xmath349 is given by @xmath350 where the sum takes place over a _",
    "@xmath351 of cyclic quotient singularities . in each term",
    ", @xmath257 is the inverse of @xmath252 mod @xmath150 , as in remark  [ rmk!a?b ] , and @xmath352 denotes the minimal nonnegative residue mod @xmath150 .",
    "we define the _ genus _",
    "@xmath353 by the formula : @xmath354 the _ numerical data _ of @xmath355 are the genus @xmath30 and the basket @xmath351 . calculating @xmath356 as the coefficient of @xmath324 in @xmath357 gives a formula for @xmath358 in terms of @xmath30 and @xmath359 : @xmath360    let @xmath165 be a fano @xmath166-fold and write @xmath361",
    ". then its anticanonical ring has hilbert series @xmath362 where the sum takes place over a basket @xmath363 of terminal quotient singularities .",
    "we define the _ genus _",
    "@xmath364 by @xmath365 then , as in the k3 case , the _ numerical data _ of @xmath165 are the genus @xmath30 and the basket @xmath359 ; calculating @xmath366 from @xmath367 gives essentially the same formula as above : @xmath368    [ exc!ele ]    1",
    ".   if a fano 3-fold @xmath165 has a k3 elephant @xmath186 , the numerical data of @xmath165 and @xmath190 are related in the obvious way , and ( [ eq!k3-s ] ) and ( [ eq!fano_3-f ] ) only differ by the extra factor @xmath369 in the denominator .",
    "use the hyperplane section principle ( [ eq!rs ] ) to derive ( [ eq!fano_3-f ] ) from ( [ eq!k3-s ] ) .",
    "2 .   in the same way , if @xmath370 is a polarised k3 surface having only singularities of type @xmath260 ( with @xmath29 passing through each singular point as a nonsingular curve in the @xmath371 eigenspace ) , derive ( [ eq!k3-s ] ) from the orbifold canonical curve formula ( [ eq!orbc1 ] ) .",
    "singularities of type @xmath260 account for the large majority of all cyclic quotient singularities in k3 baskets .",
    "the varieties in example  [ exa!44 ] have @xmath372 and the basket ( [ eq!44 ] ) .",
    "check that @xmath373 ( note the shift from @xmath374 in @xmath375 to its inverse @xmath376 in the fractional contribution @xmath377 ) . check that @xmath378 given by ( [ eq!k3-s ] ) satisfies @xmath379        as we saw in theorem - definition  [ th!hi ] , the numerical data of a k3 surface or a fano 3-fold consist of an integer genus @xmath30 and a basket @xmath359 of fractional expressions . for a k3 surface in characteristic",
    "0 we have @xmath380 the last inequality comes from the fact that the singularities of the basket contribute @xmath381 exceptional @xmath382-curves to @xmath383 , that form a negative definite set ; in characteristic @xmath384 , the result would be @xmath385 .",
    "there are approximately 6,640 possible baskets satisfying ( [ ineq!k3 ] ) , and countably many possible values of @xmath30 for each basket",
    ". a small number of extreme cases are excluded because the polarisation and the basket can not fit inside the k3 lattice @xmath386 ( see [ sssec!k3l ] below ) ; for example , a k3 surface can not contain @xmath387 disjoint .",
    "however , apart from these , all other @xmath30 and @xmath359 really occur .",
    "most give rise to graded rings of high codimension , and our methods based on graded ring are no longer appropriate for studying them ; the same applies to canonical curves or k3 surfaces of genus @xmath388 , for which explicit equations and graded ring methods give little information , and other ideas are needed , such as the period space and torelli for k3 surfaces .    for a fano 3-fold @xmath165 we have @xmath389",
    "the last inequality comes from @xcite , corollary  10.3 , the orbifold analog of the rr formula @xmath390 ; compare also kawamata @xcite , 2.2 and @xcite .",
    "in fact the argument of @xcite using bogomolov stability gives @xmath391 a slightly stronger inequality .",
    "note that ( [ ineq!fa ] ) is stronger than ( [ ineq!k3 ] ) if the number of singularities is large ; for example , ( [ ineq!fa ] ) allows only @xmath392 singularities . on the other hand , ( [ ineq!fa ] ) is weaker if there are few singularities  for example , it would allow a cyclic singularity of index  24 , or a singularity of index 22 plus one of index 2 . since we expect there to be rather few families of fano 3-folds with @xmath393 , and those with @xmath394 to have a k3 elephant after deformation , it seems unlikely that any of these extra fano 3-fold cases really occur .      on a k3 surface",
    ", @xmath395 means that the polarising divisor @xmath45 is ineffective ; or we can say that a curve of genus @xmath396 does not exist ( pretty reasonable , uh ? ) .",
    "a fano 3-fold with @xmath397 has @xmath273 ; we can think of @xmath397 as saying that two things do not exist : @xmath165 does not have a canonical curve section @xmath398 , and moreover , it does not even have an elephant @xmath186 .",
    "only three or four families of fano 3-folds with @xmath393 are known ; the simplest of these , and the first to be discovered , is the codimension  2 weighted c.i .",
    "@xmath399 due to fletcher ( see @xcite , list  16.7 , no .  60 and compare reid @xcite , example  9.14 ) .",
    "a mori fano 3-fold @xmath165 is allowed to have general terminal singularities . or it might happen that @xmath400 , but every @xmath186 has an essential singularity ( worse than du val ) ; this is not very surprising if @xmath401 .",
    "for example , one can construct a surface @xmath402 having an elliptic singularity , but contained in a quasi - smooth @xmath403 . (",
    "explicit construction : start from the scroll @xmath404 , with fibre @xmath6 and negative section @xmath405 ; then @xmath406 is the double cover ramified in @xmath407 where @xmath408 is the general hyperplane section of the cone @xmath409 , and @xmath410 has a tacnode on @xmath411 , giving @xmath412 an infinitely near triple point . )",
    "it is known that a terminal 3-fold singularity has a _ @xmath0-smoothing _ , that is , a small deformation with only cyclic quotient terminal singularities ( see @xcite , 6.4 for explicit equations ) .",
    "this is the idea behind the basket appearing in ( [ eq!fano_3-f ] ) , and one step in its proof ( @xcite , proof of theorem  10.2 ) .",
    "it seems reasonable to conjecture that every prime fano 3-fold @xmath165 also has a @xmath0-smoothing ; compare namikawa @xcite and minagawa @xcite , @xcite for partial results .",
    "one might hope to prove this in terms of deformation theory and hodge theoretic consequences of @xmath164 ample , by analogy with work on smoothing calabi ",
    "yau 3-folds ( see gross @xcite and namikawa and steenbrink @xcite ) . moreover , if @xmath413 , we also conjecture that @xmath165 together with its elephant @xmath186 has a _ simultaneous @xmath0-smoothing _ , that is , a small deformation such that the pair @xmath414 has only standard cyclic singularities @xmath415 .",
    "if in addition @xmath416 and the basket of @xmath165 consists only of @xmath417 , then after a small deformation , @xmath165 would have a curve section @xmath418 that is an orbifold canonical curve as in remark  [ rmk!orb ] .",
    "the numerical data of a polarised k3 surface @xmath190 corresponds to a sublattice @xmath419 of the standard k3 lattice .",
    "we assume that , after a , the singularities of @xmath190 are exactly the cyclic quotient singularities of the basket .",
    "let @xmath420 be the minimal resolution of singularities , and consider the sublattice @xmath421 generated by the exceptional @xmath382-curves of @xmath129 together with @xmath422 , where @xmath423 is the global index of @xmath45 .",
    "the lattice @xmath424 is based by the _",
    "quasistellar graph _",
    "@xmath425 of figure  [ fig!star ] .",
    "( 200,70)(25,6 ) ( 140,30 ) ( 152,27)@xmath34 ( 140,36)(0,1)20 ( 58,56 ) ( 55,66)@xmath257 ( 40,66)@xmath426 ( 59,56)(1,0)21 ( 85,56 ) ( 80,66)@xmath427 ( 94,56 )  ( 115,56 ) ( 101,66 ) ",
    "( 117,56)(1,0)21 ( 140,56 ) ( 122,66)@xmath428 ( 141,56)(1,0)21 ( 165,56 ) ( 174,56 ) ",
    "( 195,56 ) ( 180,66)@xmath429 ( 206,66)@xmath430 ( 114,30)(1,0)20 ( 113,30 ) ( 122,10)(1,1)15 ( 121,8 ) ( 89,8 ) ",
    "( 107,8)(1,0)28 ( 141,8 ) ",
    "the central vertex is a divisor @xmath405 of self - intersection @xmath431 ( ineffective if @xmath395 , that is , @xmath432 ) ; for each term @xmath433 , it meets the @xmath257th curve in a chain of @xmath434 exceptional @xmath382-curves , where @xmath258 mod @xmath150 .",
    "( compare belcastro @xcite for the lattice of the famous 95 families of k3 hypersurfaces . )",
    "the polarising @xmath0-divisor @xmath435 has exceptional curves in each chain weighted by the monotone sequence of arithmetic progressions",
    "@xmath436 giving @xmath437    the lattice @xmath424 has signature @xmath438 and discriminant @xmath439 . although @xmath440 is determined up to isomorphism by the numerical data @xmath30 and @xmath359 , its embedding into the standard k3 lattice @xmath441 is not in general completely determined by @xmath30 and @xmath359 , and is an additional topological invariant of @xmath355 . for example",
    ", if @xmath190 is nonsingular then @xmath442 is the lattice with one generator of square length @xmath34 , but it can happen that @xmath45 is divisible in @xmath383 by some integer @xmath28 with @xmath443 , and then @xmath444 is not a primitive sublattice .",
    "if @xmath440 has high rank , it can have several inequivalent primitive embeddings @xmath445 , having nonisomorphic orthogonal complements .",
    "the hilbert series of a fano 3-fold @xmath165 is controlled by the same combinatorics : the lattice @xmath446 is still there ( even if @xmath397 ) . for simplicity , assume that @xmath165 has only terminal quotient singularities @xmath241 .",
    "make the economic resolution @xmath447 of these singularities by successive @xmath448 weighted blowups .",
    "these are the kawamata blowups of corti , pukhlikov and reid @xcite , 3.4.2 ( see also @xcite , 5.7 ; but note that the chain of kawamata blowups is a unique `` best '' choice of economic resolution that came on line after @xcite ) .",
    "the lattice @xmath446 is the picard lattice @xmath449 , with bilinear product @xmath450 if @xmath413 and we assume that @xmath165 ( or its deformation ) has a k3 elephant , then @xmath446 is a sublattice of @xmath386 . if @xmath397 , so that @xmath451 , we have to imagine that we are looking at a nonexistent k3 surface having a polarising divisor @xmath45 with @xmath452 . in this case , there is no obvious a priori relation between @xmath446 and @xmath386 ; however , as we said in [ sssec!ineq ] , there are probably only a few cases , and it is not a substantial restriction for a lattice in this range to be a sublattice of @xmath386 , so who knows ?",
    "just as the general theory of  [ ssec!ele ] , what we said in section  [ sec!hi ] applies to k3 surfaces and to fano 3-folds alike .",
    "we said in [ sssec!ineq ] that k3 surfaces go on for ever and for ever , with many baskets continuing to exist for infinitely many values of @xmath30 .",
    "however , as in the more specific 3-fold theory of [ ssec : specific ] , there are results of kawamata @xcite@xcite saying that fano 3-folds are bounded . by analogy with theorem  [ th!clf ] , we guess that only a couple of thousand families exist , and we eventually aspire to a precise classification .",
    "most fano have @xmath453 , and , as a first attempt , we can take those having a k3 elephant as typical , and allow ourselves extra generality assumptions on @xmath165 such as @xmath0-smoothing , brill  noether general behaviour of linear systems ( nonhyperelliptic , etc . ) .",
    "in his lecture at the singapore conference @xcite , takagi sketched a preliminary classification of prime @xmath0-fano of genus @xmath1 having at worst terminal quotient singularities and a k3 elephant .",
    "the assumption that @xmath191 contains a k3 is a strong condition : it guarantees that there is a resolution on which @xmath454 is nef . in this case , the anticanonical system @xmath455 is a big linear system of k3 surfaces , and defines a birational model of @xmath165 as an indecomposable gorenstein fano 3-fold @xmath4 ( fano would appreciate this picture at once ! ) .",
    "note that the anticanonical system @xmath191 itself ( but not @xmath456 , @xmath457 , etc . )  is invariant under passing to the economic resolution of points of index @xmath458 .",
    "theorem  [ th!clf ] applies to @xmath4 , thus reducing the study of to problems in projective geometry concerning sections of homogeneous spaces with special configurations of planes and singularities . in particular",
    ", takagi proves that if @xmath165 has at least one terminal quotient singularity then @xmath459 ; the cases @xmath222 and @xmath460 is accessible since @xmath461 is a linear section of a grassmann or orthogonal grassmann variety .",
    "thesis @xcite also settled all cases with only @xmath232 singularities .",
    "we study fano 3-folds in terms of the ( pluri- ) anticanonical ring @xmath462/i_v,\\ ] ] where @xmath463 ( more usually @xmath464 , etc . )",
    "are homogeneous generators of weights @xmath465 and @xmath466 is the ideal of all relations . since @xmath164 is ample , @xmath467 is the anticanonical model of @xmath165 in w.p.s . :",
    "@xmath468 here we take the complete anticanonical ring @xmath271 , so that @xmath469 is projectively normal ; it is known that @xmath165 is projectively gorenstein , that is , @xmath332 is a gorenstein ring ( see for example goto and watanabe @xcite ) .",
    "the _ codimension _ of @xmath332 means the codimension @xmath470 of the anticanonical ring @xmath271 .",
    "it is a measure of the difficulty of studying @xmath165 directly . in codimension  2 ,",
    "a gorenstein ring is a c.i.(serre ) , and in codimension  3 , it is given by the @xmath471 diagonal pfaffians of a skew @xmath472 matrix ( buchsbaum and eisenbud ) ; only @xmath101 occurs here , with the single exception of the classic case @xmath473 .",
    "the cases when @xmath165 is a hypersurface or codimension  2 c.i .  are settled in fletcher @xcite , and the codimension  3 cases in altinok @xcite .",
    "there are 95 families of fano 3-fold hypersurfaces , 84 codimension  2 c.i.s ( including fletcher s example mentioned in [ ssec!uh ] with @xmath474 ) , and 70 families of codimension  3 pfaffians .",
    "these varieties are given by explicit equations , that we can write down without reference to k3s , and depend on an irreducible parameter space .",
    "their construction is unobstructed , and every family of k3 surfaces extends to a family of fano 3-folds .      in codimension  3 ,",
    "the five pfaffians are a weighted form of the equations of the grassmannian @xmath95 ( see [ rmk!pf ] ) .",
    "thus a codimension  3 k3 surface @xmath475 has hilbert series @xmath476 where @xmath477 and @xmath478 , so that the skew matrix in [ rmk!pf ] has entries of weight @xmath479 ( compare reid @xcite , example  3.8 ) . we can view the @xmath480 as coordinates on @xmath481 , where @xmath482 is a weighted @xmath97 with weights @xmath483 , and @xmath484 with weight @xmath485 ( for some convenient @xmath486 ) ; then the equations of @xmath190 are the pullback of the weighted grassmann @xmath487 ( tensors of rank  2 ) by a weighted projective map @xmath488 . in the spirit of mukai s work discussed in [ ssec : specific ] , the interesting question is to construct directly an exceptional ( orbi- ) vector bundle @xmath489 on @xmath190 whose serre module @xmath490 is generated by 5 sections @xmath491 , giving the embedding @xmath492 .",
    "the point here is to get away from the algebraic treatment of the equations of @xmath190 to a more geometric understanding of what they mean ; that is , eventually , to replace the appeal to buchsbaum and eisenbud s algebraic result on codimension  3 gorenstein rings by arguments in the style of mukai in terms of exceptional vector bundles on the k3 section . there are preliminary results in this direction due to corti and reid @xcite .",
    "this raises important unsolved problems in higher codimension : weighted versions of mukai s symmetric spaces make sense , but seem to give few examples of varieties of small coindex .      in codimension",
    "@xmath89 , there is no analogous structure theorem for gorenstein rings ; our current strategy for k3s and fano in codimension  4 , 5 , etc .",
    ", is based ( in most cases ) on _ gorenstein projection_. a model case is the projection @xmath493 of a del pezzo surface @xmath494 from @xmath495 ( for simplicity , think of @xmath496 ) . here",
    "both @xmath497 and @xmath498 are anticanonical : the blowup @xmath499 of @xmath131 has discrepancy  1 , so that the anticanonical map @xmath500 given by @xmath501 is the same thing as the linear projection from @xmath131 .",
    "although the study of a fano 3-fold @xmath502 is a biregular problem in the first instance , we can use birational methods to attack it .",
    "fano s linear projection of @xmath503 with @xmath504 from a line can also be interpreted as making a blowup @xmath505 , then recalculating the anticanonical ring @xmath506 as a subring of @xmath271 , thus deducing a birational map @xmath507 . in fano",
    "s study , @xmath165 is the unknown , and is hard to work with because it has high codimension , whereas its projection @xmath220 has smaller codimension , so it , together with the exceptional divisor of the projection @xmath508 , may be more tractable .    for us ,",
    "the key point is that the birational relation between @xmath165 and @xmath220 ( geometrically a projection ) can be handled in terms of inclusions @xmath509 between gorenstein rings .",
    "this area has recently been clarified by papadakis and reid s treatment of the inverse birational map @xmath510 as _ gorenstein unprojection _ or `` constructing big gorenstein rings from small ones '' ( see @xcite and @xcite , and compare kustin and miller @xcite ) ; in @xcite , the inverse is constructed in terms of the adjunction formula for the grothendieck ",
    "serre dualising sheaf .",
    "we discuss here the most straightforward case of projection , corresponding to kustin and miller unprojection , which already applies to the majority of k3s in codimension @xmath89 .",
    "let @xmath511 be a k3 surface or fano 3-fold .",
    "we only treat the fano case here , leaving the reader to make the obvious modifications in the k3 case .",
    "a coordinate point @xmath512 is a _",
    "type  i centre _ if @xmath513 is a terminal quotient singularity @xmath241 , where @xmath514 , and global coordinates of the projective space @xmath515 of weight equal to @xmath255 provide local orbifold coordinates at @xmath516 .",
    "let @xmath505 be the kawamata blowup , that is , the weighted blowup of @xmath516 with weights @xmath255 ; then the exceptional locus @xmath517 has minimal discrepancy @xmath518 , and , following @xcite , we write @xmath519 now because @xmath520 , and @xmath515 vanish along @xmath106 with multiplicity @xmath521 ( see @xcite , proposition  3.4.6 ) , they belong to the subring @xmath522 . thus @xmath522 is the subring @xmath523\\subset r(v , a)$ ] obtained by eliminating @xmath524 only .",
    "then @xmath525 is a weak fano 3-fold containing the plane @xmath526 .",
    "be warned that @xmath220 is not a mori fano 3-fold , since the weil divisor @xmath181 is not in @xmath527 ; one usually expects @xmath220 to be the _ midpoint _ of a sarkisov link , compare @xcite , 4.1 , ( 3 ) .",
    "a simple example of a type  i unprojection was treated in example  [ exa!2/3 ] .",
    "type  i projections include the construction of the 64 quadratic involutions of @xcite , 4.4 ( or rather , of the first half @xmath528 , up to the midpoint of the link ) .",
    "[ ex!t1 ] in the numerical data @xmath529 for a k3 surface ( section  [ sec!hi ] ) , replace an element @xmath246 of @xmath359 by two elements @xmath530 and @xmath531 , and assume that @xmath358 remains positive .",
    "study how this numerical projection affects the rhs of ( [ eq!k3-s ] ) : show that it subtracts @xmath532 from the hilbert series @xmath533 , and reduces @xmath358 by @xmath534 .",
    "compare @xcite , exercise  2.7 , and see example  [ exa!dbeg1 ] , page   for a numerical instance .",
    "the effect of a type  i projection as in exercise  [ ex!t1 ] on the numerics of section  [ sec!hi ] gives the set of numerical data of k3 surfaces the structure of a directed graph , with comparatively few connected components . with few exceptions , families of k3 surfaces in codimension  @xmath535",
    "have projections to smaller codimension , most commonly of type  i. of the 142 codimension  4 k3s in the k3 database , 116 have a numerical type  i centre .",
    "all but 2 of the remaining cases are covered by the higher types of projection discussed in reid @xcite , section  9 and @xcite",
    ". these higher projections , and the small core of exceptions not admitting any projections , are interesting and demand further study ; we suspect that these more complicated k3s are unlikely to extend to fano 3-folds .",
    "when applicable , a type  i projection as described in [ ssec : ti ] reduces the study of a fano @xmath165 in w.p.s .",
    "@xmath536 to a variety @xmath220 in w.p.s .",
    "@xmath537 , but specialised to contain a weighted projective subspace : @xmath538 thus fano whose numerical data admits a codimension  4 candidate can often be studied via projections .",
    "however , setting up the unprojection data ( [ eq!t&j ] ) is still a difficult problem ; complicated features of @xmath165 , such as obstructed equations or reducible moduli spaces , must be faithfully reproduced in the unprojection data .    in ( [ eq!t&j ] ) , the w.p.s .",
    "@xmath539 is a codimension  4 c.i . ,",
    "and @xmath220 is a codimension  3 variety given by the pfaffians of a @xmath101 skew matrix .",
    "thus to obtain codimension  4 fanos with this type of projection , the problem is how to put a codimension  4 c.i .  inside a @xmath101 pfaffian .",
    "similarly for k3s .",
    "there are two different solutions to this problem , called _",
    "tom _ and _ jerry _ , treated in detail in papadakis @xcite@xcite ( see also @xcite , examples  6.4 and 6.8 , and section  8) . in these two cases ,",
    "we specialise the skew @xmath101 matrix defining @xmath220 to @xmath540   \\cline{2 - 5 }   & \\vline&a_{23}&a_{24}&a_{25 } \\\\   & \\vline&&a_{34}&a_{35 } \\\\   & \\vline&&&a_{45 }   \\end{array }   \\right )   \\quad\\hbox{or}\\quad   m_{\\mathrm{jerry}}=   \\left (   \\begin{array}{cccc }   a_{12}&a_{13 } & a_{14 } & a_{15 } \\\\   & a_{23}&a_{24}&a_{25 } \\\\[2pt ]   \\cline{2 - 4 }   & & x_{34}&x_{35 } \\\\   & & & x_{45 }   \\end{array }   \\right)\\ ] ] where the 6 entries @xmath541 in the bottom left @xmath99 block of @xmath542 specialise to lie in a codimension  4 complete intersection ideal @xmath543 ( and ditto for the 7 entries @xmath541 in the first two rows and columns of @xmath544 ) . in either case",
    ", the theoretical construction of @xcite or @xcite gives the unprojection @xmath469 and its anticanonical ring , and papadakis @xcite , section  5 gives an explicit presentation of the ring .",
    "tom and jerry occur in hundreds of constructions of gorenstein codimension  4 rings with @xmath545 presentation , and seem to be related to the respective cones over @xmath546 and over @xmath547 and their weighted homogeneous deformations ; but exactly what this means remains to be elucidated .",
    "see @xcite , section  8 for a more detailed discussion .    to deal with our codimension  4 k3s and fanos , we have to determine whether tom and jerry matrixes can be set up to give @xmath165 having only mori category singularities .",
    "there are a few hundred problems here , and we have only just started working systematically on the fanos . for each case where the numerical data of the k3 admits a type  i projection , we can ask for a tom or jerry matrix  from the experience of altinok s thesis @xcite and @xcite",
    ", we suspect that in each case at least one of tom or jerry exists , and that when both exist , the two families give isomorphic polarised k3s , so do not correspond to different irreducible components of moduli .    when we ask the same question for fanos 3-folds , one of several things may happen :",
    "either of the tom and jerry matrixes could exist to give a mori fano , or either could fail .",
    "we suspect that each of these possibilities happens in many numerical cases .",
    "when both tom and jerry exist , the resulting unprojected varieties may give essentially different different fano 3-folds : see @xcite , examples  6.4 and  6.8 , based on takagi s thesis , where tom and jerry unprojections with the same numerical data correspond to fano 3-folds that are not biregular , and not obviously birational .",
    "since we have several hundred cases to settle , and much of the calculation comes down to checking that monomials of suitable degree exist , we hope that most of the calculation can eventually be entrusted to the computer .",
    "the program outlined in sections  [ sec!hi][sec!proj ] envisaged listing the many thousand possible values @xmath529 for the numerical data of families of k3s or fano . for each @xmath529 in the list , we calculate the hilbert series and try to deduce a plausible shape for the anticanonical ring and its possible projections . in some cases , we can establish the existence of a quasi - smooth surface , extension to fano 3-fold , and connected components of moduli  these are all questions that become nontrivial when @xmath548 has codimension @xmath89 .",
    "these calculations are akin to traditional work on embedding curves and surfaces in italian algebraic geometry , although rational contributions from quotient singularities add a certain spice , and unlimited possibilities for errors of arithmetic . with patience , any particular calculation can be done by hand , but automation has obvious advantages when doing these calculations on an industrial scale .",
    "several items of this program have already been carried out for polarised k3 surfaces .",
    "hilbert series methods apply to many other situations in algebraic geometry involving graded rings or modules ; current work in progress by students at warwick includes suzuki @xcite on fano 3-folds of fano index @xmath549 , keenan s project @xcite on subcanonical curves and buckley s study @xcite of polarised calabi ",
    "yau with strictly canonical singularities .",
    "nonetheless , rings over k3 surfaces have several advantages that make them an ideal target for a computer study : the numerical data and the rr statement are simple to state , there is no cohomology , and most k3 surfaces have projections to smaller codimension .",
    "moreover , work over the last 20 years ( fletcher @xcite , altinok @xcite and corti , pukhlikov and reid @xcite ) already provides us with several hundred worked out examples of what to expect .",
    "we have programmed these calculations as routines in john cannon s computer algebra system magma @xcite .",
    "the results of all the calculations in codimension @xmath550 are assembled as a database containing 391 families of k3 surfaces .",
    "we describe here a little of what our code does and how to use it . although more sophisticated upgrades are projected ( and implemented in part , see the graded ring database website @xcite ) , we restrict ourselves to the first working version of our routines , in the widely available export  2.8 of magma @xcite",
    ". please see @xcite for more recent work ; this includes a prototype database of k3s up to codimension  10 , and will document upgrades as they come on line .",
    "[ exa!dbeg1 ] suppose we want to study a polarised k3 surface @xmath355 with ineffective @xmath45 ( that is , @xmath395 , see [ ssec!uh ] ) , and having basket of singularities @xmath551 . as usual ,",
    "> at the beginning of a line is the magma prompt .",
    "anything after this prompt is user input , while anything else is magma output ( occasionally subjected to a little editing for legibility ) .",
    "we have formatted the magma input and output along the lines of our mathematical writings , and you should not have too much trouble interpreting the language .    .... > q : = rationals ( ) ; >",
    "r < t>:=polynomialring(q ) ; // omit these lines at your peril .",
    "> b : = [ [ 2,1 ] , [ 5,1 ] , [ 13,3 ] ] ; > s : = k3surface(-1,b ) ; // we input genus -1 and basket b. > s ; codimension 4 k3 surface with data    weights : [ 3 , 4 , 5 , 6 , 7 , 10 , 13 ]    numerator : t^48 - t^36 - t^35 - t^34 - t^33 - t^32 - t^31 - t^30      + t^27 + 2*t^26 + 2*t^25 + 2*t^24 + 2*t^23 + 2*t^22 + t^21      - t^18 - t^17 - t^16 - t^15 -   t^14 - t^13 - t^12 + 1    basket : [ 2 , 1 ] , [ 5 , 1 ] , [ 13 , 3 ] ....    the computer has calculated the hilbert series , and , after experimenting with a number of possibilities , has found @xmath552 as a plausible denominator , corresponding to generators for the ring @xmath548 , or an embedding of @xmath190 in w.p.s.@xmath553 .",
    "the printout lists the conclusion : a candidate family of codimension  4 k3 surfaces @xmath554 with the stated hilbert numerator",
    ". we should be clear that in general    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ there is no a priori guarantee that this or any other candidate surface proposed by our magma functions exists as a subvariety in the indicated w.p.s .  with the indicated properties .",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    after all , at this stage the computer has done nothing more than a formal game with denominators for hilbert series .",
    "having said that , assume for a moment that @xmath555 really exists , polarised by the divisorial sheaf @xmath556 .",
    "clearly @xmath45 is not an effective divisor , since no @xmath19 has weight @xmath557 , but its multiples do exist : in particular , @xmath190 has a single effective divisor in @xmath558 , @xmath559 , @xmath560 , a pencil @xmath561 , etc .",
    "the numerator is a polynomial @xmath562 , where @xmath334 is the hilbert series of @xmath548 @xmath563 here the product is taken over the weights @xmath316 of the w.p.s . at first sight",
    ", the 7 negative terms @xmath564 in the numerator output by magma might suggest that @xmath554 could have 7 equations in degrees 12 , 13 , 14 , 15 , 16 , 17 , 18 .",
    "gorenstein rings with @xmath565 resolution certainly exist , so this is not completely excluded , but this structure appears very rarely ( compare papadakis and reid @xcite , 2.8 ) ; perhaps this candidate appears more exotic than it actually is .",
    "the @xmath566 format is ubiquitous , and experience suggests that this is really a @xmath566 resolution in disguise",
    ".    how can we prove that this surface actually exists ?",
    "the method of altinok s thesis @xcite is to look for a codimension  3 k3 surface that is already known to exist , and could be a projection of the desired surface .",
    "then we could go on to show that the codimension  3 surface can be made to contain an _ unprojection divisor _ as in [ ssec : ti ] that can be contracted or _",
    "unprojected _ , to give the codimension  4 surface .",
    "this second stage is the hard part , and we pass over it for the present ( see @xcite , @xcite and @xcite ) , although in time the computer will have something useful to add here too .",
    "one point is that as we write there are many kinds of projection for which the unprojection is still something of a mystery ( see @xcite , section  9 ) .",
    "that is , the _ theory _ of unprojection is not quite complete enough yet to handle all the cases we might need .",
    "however , the k3 database is very good at finding projections of the types we already understand , such as the type  i projections of section  [ sec!proj ] .",
    "these occur when we project from a cyclic quotient singularity @xmath246 whose local orbifold coordinates come from generators of @xmath548 of weight @xmath567 ; a singularity with this property is a _",
    "type  i centre_. in our example , we can see a possible type  i centre , the singularity @xmath568 .",
    "the point is that the local weights 3 and 10 , a priori only defined mod  13 , can arise as the global generators corresponding to the weights 3 and 10 of the w.p.s .",
    "all the other singularities fail this test , since the w.p.s .",
    "has no weight @xmath371 .    .... > db : = k3database(\"t \" ) ; / * loads the db , requiring \" t \" as   variable in hilbert series .",
    "this takes several seconds . * / > centres(~s , db ) ; //",
    "searches db for projection centres of s. > s ; codimension 4 k3 surface with data    weights : [ 3 , 4 , 5 , 6 , 7 , 10 , 13 ]    numerator : t^48 - t^36 - t^35 - t^34 - t^33 - t^32 - t^31 - t^30   + t^27 + 2*t^26 + 2*t^25 + 2*t^24 + 2*t^23 + 2*t^22 + t^21   - t^18 - t^17 - t^16 - t^15 -   t^14 - t^13 - t^12 + 1    basket : [ 2 , 1 ] , [ 5 , 1 ] , [ 13 , 3 ]    centre 1 : [ 5 , 1 , 4 ] has type 2 projection to 10 in codim 1    centre 2 : [ 13 , 3 , 10 ] has type 1 projection to 42 in codim 3 ....    this says that the singularity @xmath568 is a type  i centre as expected .",
    "it has also found a type  ii centre , that we pass over for the moment .",
    "but it does more : magma applies the calculus of exercise  [ ex!t1 ] to predict the weights and basket of the image of a type  i projection , and searches the database for surfaces with the right properties , finding the k3 surface numbered 42 in the database as a plausible image of the projection from this centre .",
    "( the internal numbering of items in the database is arbitrary , and may differ from session to session . )",
    "we ask what it is : [ altinok3(63 ) ]    .... > k3surface(db,42 ) ; codimension 3 k3 surface , number 42 , altinok3(63 ) , with data    weights : [ 3 , 4 , 5 , 6 , 7 , 10 ]    numerator : -t^35 + t^23 + t^22 + t^21 + t^20 + t^19   - t^16 - t^15 - t^14 - t^13 - t^12 + 1    basket : [ 2 , 1 ] , [ 3 , 1 ] , [ 5 , 1 ] , [ 10 , 3 ] ....    now if we know that the image codimension  3 surface @xmath569 exists , and contains the stratum @xmath570 as unprojection divisor , then it has the required geometric properties to be unprojected , and we conclude from @xcite that the original surface exists . indeed , since we know a lot about unprojection , we can even write down the equations of the codimension  4 surface @xmath190 based on those of the codimension  3 surface @xmath571 and its unprojection divisor @xmath572 .",
    "( since @xmath572 is the c.i .",
    "defined by @xmath573 , and the unprojection variable @xmath574 has weight @xmath575 , we verify that @xmath190 also needs equations in degree @xmath576 , so our intuition that @xmath190 has a @xmath545 resolution was right . )",
    "the basic existence part is easy .",
    "the structure theorem for gorenstein rings of codimension @xmath75 makes it easy for us to figure out equations .",
    "altinok goes further to check that a surface containing the unprojection divisor can be made .",
    "using altinok s numbering in @xcite , tables  5.1 and  5.2 , the codimension  3 surface is altinok@xmath577 , as the database tells us , while the codimension  4 surface is altinok@xmath578 .    of course , the projection calculus is easy to do by hand : we could simply have searched the lists of @xcite and @xcite to find this surface ( as we always did in the dark ages before the great graded ring database revolution ) . for that matter",
    ", we could have just called for a surface having the desired basket and again found this one without trouble . at this stage , we have not gained much by having the results of these calculations in a database . the next section contains a calculation for which the database is essential .    as databases go , our current database of 391 k3s is tiny .",
    "even so , its key advantage over a printed list is that we can search it quickly and accurately .",
    "suppose , for example , that we are interested in finding out whether our lists contain a k3 having a singularity of index  17 . in this context",
    ", 17 is a large number , taking the sublattice @xmath579 close to the maximum that can live in the k3 lattice @xmath386 ( see [ sssec!k3l ] ) . to do this search in magma ,",
    "we first summon the database as usual :      singularities are denoted p = [ r , a ] , with @xmath252 coprime to the index r = p[1 ] and @xmath580 .",
    "so we must search the database for surfaces having a singularity @xmath581\\in{\\mathcal b}$ ] having @xmath582 .",
    "note that & or taken over a list of boolean values is equivalent to `` there exists @xmath384 in @xmath359 with @xmath583 $ ] equals 17 '' .",
    "the last line says that there are just two surfaces in db with a singularity of index  17 .",
    "we ask to see them .    .... > for s in surfaces do print s ; > end for ; codimension 2 k3 surface , number 1 , fletcher2(82 ) , with data    weights : [ 3 , 4 , 7 , 10 , 17 ]    numerator : t^41 - t^21 - t^20 + 1    basket : [ 2 , 1 ] , [ 17 , 7 ] codimension 4 k3 surface , number 250 , altinok4(79 ) , with data    weights : [ 2 , 3 , 5 , 5 , 7 , 12 , 17 ]    numerator : t^51 - t^41 - t^39 - t^37 - t^36     + t^29 + t^27 + t^26 + t^25 + t^24 + t^22     - t^15 - t^14 - t^12 - t^10 + 1    basket : [ 17 , 5 ] ....      for the codimension  4 surface , the technique of the previous example locates an image of projection from the type  i centre @xmath584 in the database , and we can construct @xmath190 by unprojection as before .",
    "this codimension  4 example @xmath190 , called altinok@xmath585 is interesting in that it has exactly the same hilbert series as the codimension  4 c.i .",
    "@xmath586 ; however , none of the equations of the c.i .",
    "@xmath587 can involve the last variable @xmath588 , so that @xmath587 is a kind of weighted cone over a curve .",
    "deformations of polarised k3 surfaces are unobstructed , as are c.i.s , so that having proved that @xmath190 exists , we have found two different irreducible components of the hilbert scheme , one containing @xmath190 , the other containing @xmath587 .      as with much computer algebra , just a few internal functions do the work , and a lot of the rest is cosmetic renaming to simplify the user s access to these .",
    "we give a brief and possibly inadequate description of some core functions to give some idea of what is happening inside the computer ; these remarks can also serve as a first introduction to the code for anybody wishing to modify it for use in other contexts .",
    "returns a list of all possible baskets @xmath589 for k3 surfaces of singular rank @xmath590 .",
    "for example , the following commands generates a list of all baskets with @xmath591 , and asks for the 44th basket in the list .    ....",
    "> bb , gg : = baskets(12 ) ; / * bb is the list of baskets ,     gg the parallel list of minimal genera * / actual number : 329 ... checking degrees ...",
    "> bb11 : = [ b : b in bb | not ( b eq [ ] )      and & + [ p[1]-1 : p in b ] eq 11 ] ;   // & + is sum over set .",
    "> # bb11 ; 109 > b : = bb11[44 ] ; > b , gg[index(bb , b ) ] ; [ [ 4 , 1 ] , [ 5 , 2 ] , [ 5 , 2 ] ] 0 > degree(-1,b ) ;     -17/20 >",
    "degree(0,b ) ;   23/20 ....    recall from [ sssec!ineq ] that the possible baskets @xmath359 on a k3 surface are limited by two inequalities on the pairs @xmath592 . the first is given by the rank of the picard group : @xmath593",
    ". the argument @xmath28 of baskets(n ) is the bound ( we eventually set @xmath594 for complete lists ) . the other inequality , saying that the polarised surface @xmath355 has degree @xmath595 , involves the genus @xmath30 of @xmath190 .",
    "if @xmath395 or @xmath596 , a basket may give @xmath597 .",
    "the second return value of baskets ( called @xmath598 in the first line above ) is a parallel sequence of minimal genera that give @xmath595 . in the above example",
    ", we checked that @xmath395 is illegal for the 44th basket , because it gives @xmath599 .    the numerical data @xmath529 with @xmath595 determines a hilbert series @xmath600 .",
    "if it actually corresponds to a k3 surface , then vanishing implies that @xmath601 for all @xmath602 .",
    "however , this does not follow from the inequality @xmath595 .",
    "indeed , there exist numerical data @xmath529 with a negative coefficient @xmath336 ; curiously , there are just three of these eccentrics ( compare @xcite , 7.9 ) .",
    "the function baskets also checks that @xmath601 for the first 20 coefficients before confirming the minimum genus @xmath30 . when @xmath594 , the result is all 6640 possible baskets , together with , for each , the minimum genus that makes the hilbert series positive .",
    "t>:=rationalfunctionfield(q ) ; // require \" t \" as variable .",
    "> p:=hilbertseries(-1 , [ [ 3 , 1 ] , [ 4 , 1 ] , [ 11 , 2 ] ] ) ; > p*(1-t^2)*(1-t^3)*(1-t^4)*(1-t^11 ) ;          -t^20 - t^15 - t^13 - t^11 + t^9 + t^7 + t^5 + 1 ....    suggests the candidate surface @xmath603 with the stated @xmath30 and @xmath359 .",
    "( to make this work for other types of graded rings , you need to figure out what hilbert series you want to use , and program it in as a substitute for our formula ( [ eq!k3-s ] ) . )    in the above example , we put in the denominator by hand , and this turned out to be a lucky guess .",
    "the heart of the whole package is a suite of functions to make a reasonable analysis of this hilbert series , using a few tricks based on the experience of altinok s thesis @xcite .",
    "one expects generators corresponding to positive terms early on in the hilbert series , but this ceases to be logically reliable once relations appear . for each singularity @xmath246 in the basket , there must be generators of weight divisible by @xmath150 to cancel the periodicity in the hilbert series , and a generator of weight @xmath604 and @xmath605 to provide local orbifold coordinates at the singularity .",
    "we usually expect a generator in each degree @xmath150 as in the above example , but sometimes a gcd of two different @xmath150 can account for two at one go .",
    "deploying these tricks is something of an art , and there is no point in being precise here about how we do it .",
    "experience suggests that they need to be combined in different ways in different situations ( we find different and better ways of putting in the generators systematically each time we extend the database ) .",
    "but however we use the numerical tricks on the hilbert series , there will usually be work left to do .",
    "particular features of the geometry may demand extra generators not predicted by the numerical data . for k3 surfaces in higher codimension , the existence of particular linear systems often forces us to include extra generators .",
    "one reason for stopping at codimension  4 with the current version of the magma database is that there is little extra work in that case .",
    "this function takes as its arguments a list of baskets @xmath606 with list of minimal genus @xmath598 , and an integer cmax .",
    "it takes each basket and genus pair in turn and applies any analysis of the hilbert series that is implemented .",
    "if the codimension gets larger than cmax , the result is discarded ( in the current implementation  this is handled in a more useful way in the prototype future implementation ) .",
    "once done , the result is wrapped in cosmetics and available for computer study .    of course ,",
    "as we learn more tricks for analysing hilbert series , we can run them through the database , modifying candidate surfaces as we go .",
    "but we believe that the current magma database of 391 k3 surfaces is reliable and complete .",
    "( for that matter , we are fairly confident of the codimension  5 list in @xcite , which has @xmath607 elements . )",
    "performs the projection calculus of exercise  [ ex!t1 ] to compute all possible projections between the surfaces of the database db ; the tilde indicates that the command is _ procedural _ , that is , it actually modifies db by writing in the centres it computes ( the next version of the database will have the centres ready for use on loading ) .",
    "once the centres are in , we can look at the projections from any surface .",
    "for example , we can find the surface @xmath190 of [ exa!dbeg1 ] in the database and then look for all possible iterated projections from @xmath190 :    .... > s : = k3surfacefromweights(db,[3,4,5,6,7,10,13 ] ) ; > pc : = projectionchains(s , db ) ; # pc ; 4 > pc[1 ] ; [   [ [ 254 , 4 ] , [ 5 , 1 , 4 ] , [ 10 ] ] ,   [ [ 10 , 1 ] , [ 13 , 3 , 10 ] , [ 40 ] ] ,   [ [ 40 , 1 ] , [ 10 , 3 , 7 ] , [ 79 ] ] ,   [ [ 79 , 1 ] ] ] ....    this output is opaque ( leitmotif : please buy the upgrade , with its many major enhancements ) , but you can probably see what is going on .",
    "there are 4 chains of projections starting with @xmath190 , and pc[1 ] only asks for the first .",
    "if we denote the @xmath28th surface in the database by @xmath609 , then @xmath610 and the first chain of projections , returned by pc[1 ] , is @xmath611 the output records the codimension of each surface . in this case the final three surfaces are all codimension 1 : the projections between them are the quadratic involutions of @xcite . the second column gives the type of centre of each projection .",
    "it consists purely of type  i projections . in terms of homogeneous coordinate rings , at each stage a single variable ( of weight 13 , 10 , 7 respectively , the index of the corresponding centre ) is eliminated from the ring .",
    "a basic exercise in magma makes this very clear :              s. altinok , graded rings corresponding to polarised k3 surfaces and @xmath0-fano 3-folds , univ . of warwick phd",
    "thesis , sep .",
    "1998 , @xmath615 , get from www.maths.warwick.ac.uk/@xmath616miles/doctors/selma                                        magma ( john cannon s computer algebra system ) : w. bosma , j. cannon and c.  playoust , the magma algebra system i : the user language , j. symb . comp . * 24 * ( 1997 ) 235265 .",
    "see also www.maths.usyd.edu.au:8000/u/magma          mori shigefumi and mukai shigeru , on fano @xmath166-folds with @xmath618 , in algebraic varieties and analytic varieties ( tokyo , 1981 ) , adv .",
    "pure math . * 1 * , kinokuniya and north - holland , 1983 , pp ."
  ],
  "abstract_text": [
    "<S> explicit birational geometry of 3-folds represents a second phase of mori theory , going beyond the foundational work of the 1980s . </S>",
    "<S> this paper is a tutorial and colloquial introduction to the explicit classification of fano ( also known by the older name @xmath0-fano 3-folds ) , a subject that we hope is nearing completion . with the intention of remaining accessible to beginners in algebraic geometry , </S>",
    "<S> we include examples of elementary calculations of graded rings over curves and k3 surfaces . for us , </S>",
    "<S> k3 surfaces have at worst du val singularities and are polarised by an ample weil divisor ( you might prefer to call these @xmath0-k3 surfaces ) ; they occur as the general elephant of a fano 3-fold , but are also interesting in their own right . a second section of the paper runs briefly through the classical theory of nonsingular fano 3-folds and mukai s extension to indecomposable gorenstein fano . </S>",
    "<S> ideas sketched out by takagi at the singapore conference reduce the study of @xmath0-fano 3-folds with @xmath1 ( and a suitable assumption on the general elephant ) to indecomposable gorenstein fano 3-folds together with unprojection data .    </S>",
    "<S> much of the information about the anticanonical ring of a fano or k3 surface is contained in its hilbert series . </S>",
    "<S> the hilbert function is determined by orbifold riemann  </S>",
    "<S> roch ( the lefschetz formula of atiyah , singer and segal , see reid @xcite ) ; using this , we can treat the hilbert series as a simple collation of the genus and a basket of cyclic quotient singularities . </S>",
    "<S> many hundreds of families of k3s and fano 3-folds are known , among them a large number with @xmath2 , and takagi s methods do not apply to these . however , in many cases , the hilbert series already gives firm indications of how to construct the variety by biregular or birational methods . </S>",
    "<S> a final section of the paper introduces the k3 database in magma , that manipulates these huge lists without effort . </S>"
  ]
}