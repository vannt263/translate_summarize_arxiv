{
  "article_text": [
    "in the late 1970s and early 1980s millimeter and submillimeter single - dish astronomy was undergoing a significant period of growth ( see e.g. , * ? ? ? * ) with the national radio astronomy observatory ( nrao ) 12-m telescope leading the way ( see e.g. , * ? ? ? * ) and with multiple observatories being developed such as the institut de radioastronomie millimtrique ( iram ) 30-m @xcite , the 15-m james clerk maxwell telescope ( jcmt ; * ? ? ?",
    "* ) , the 10-m sub - millimeter telescope ( smt ; * ? ? ?",
    "* ) , the 15-m swedish european southern obsevatory submm telescope ( sest ; * ? ? ?",
    "* ) , and the caltech submillimeter observatory ( cso ; * ? ? ?",
    "* ) . in this environment",
    "it was recognized by some institutions that the ability for raw , or partially processed data taken on one telescope , to be reduced and analyzed by the software written at another telescope would be extremely useful and could lead to significant savings on software development effort .    at this time",
    "the flexible image transport system was considered mainly suitable as a means of exchanging image data using tapes @xcite .",
    "the fits standard , which then lacked the capability to use binary tables and could only store a single ascii table per file , was not deemed an efficient format to store complex mm / submm time - series and spectral - line data from single - dish telescopes that usually required many sets of tabular data .",
    "the general single dish data format ( gsdd ) was developed in the 1980s to solve the data processing and acquisition requirements of the nrao , iram , university of arizona and jcmt observatories .",
    "initial discussions between nrao 12 m and iram staff began in 1983 , and subsequently included jcmt representatives .",
    "at around this same time , however , iram started development of the continuum and line analysis single - dish software ( * ? ? ? * http://www.ascl.net/1305.010[ascl:1305.010 ] ) data reduction package , and they did not follow up on the gsdd initiative . the gsdd format , agreed in 1986 ( see e.g. , * ? ? ? * ; * ? ? ? * ) , consisted of a data model for specifying centimeter , millimeter and submillimeter observations ( continuum and spectral - line instrumentation ) and a specification of how the bytes would be represented on disk .",
    "the format was described in both jcmt technical notes @xcite and an nrao newsletter article @xcite , but a formal definition of the format was not published in the literature . in this article",
    "we present the first joint nrao / jcmt description of the model and provide a retrospective on the history and usage of the format .",
    "a basic introduction to millimeter and submillimeter observing techniques is beyond the scope of this paper but good background information can be provided by @xcite .",
    "to allow interoperability of data files between differing observatories it was important to develop a shared data model .",
    "the initial approach was to define the simplest possible model to allow sharing of raw , or partially reduced spectra between multiple data reduction software packages .",
    "since jcmt was still in the development phase during these discussions the focus became how to represent the raw instrument data on disk .",
    "this was simplified somewhat by the jcmt system not storing individual on - source and off - source or calibration data , but storing calibrated spectra from the heterodyne systems and chop subtracted time - series for the continuum instruments .",
    "the model was designed to handle general sub - mm observing techniques using different switching techniques , such as position switching , beam switching and frequency switching , and included on - the - fly mapping techniques ( where the telescope is moved during acquisition ) as well as stare and gridded observations .",
    ".base classes defined for gsdd .",
    "the final two classes listed , 14 and 55 , were only defined at jcmt . [ cols=\"<,<\",options=\"header \" , ]     ` c1dln ` ` c1hln ` : :    are not needed at jcmt because the length of the header region and the    length of the data region are encoded in the file format design . ` c1sna ` : :    is the source object name and exists as two separate items at jcmt ,    ` c1sna1 ` and ` c1sna2 ` , to allow the object name to be specified in two    parts or with an alternative name given . `",
    "c1sna1 ` is the primary    source name and is equivalent to the ` object ` fits keyword .",
    "historically the alternate or secondary part of the name was rarely    used at jcmt so the name change , in hindsight , turned out to be    unnecessary . `",
    "c2pc ` : :    was used at nrao to specify a four - element secondary pointing    correction .",
    "the jcmt version specifies this as four discrete scalar    items , ` c2pc1 ` to ` c2pc4 ` , rather than using an array . `",
    "c2uxp ` ` c2uyp ` : :    are the user az / ra and el / dec pointing corrections in arcsec but at    jcmt these were simply called ` uaz ` and ` uel ` with no class prefix and    no ra / dec equivalent . ` c4do ` : :    is a three - element array labeled `` descriptive origin '' describing the    position and angle of the coordinate system defined by the observer .    at jcmt",
    "this was implemented as three distinct items ` c4do1 ` through    ` c4do3 ` and specified the observing cell size and position angle with    respect to local vertical .",
    "there was disagreement between nrao and    jcmt on the definition here as the three elements at nrao referred to    the horizontal and vertical position and the position angle with    respect to the horizontal axis .",
    "documents and source code from jcmt    indicate these items were not used and are duplicates of items ` c6dx ` ,    ` c6dy ` and ` c6msa ` . `",
    "c4ix ` ` c4iy ` : :    are the coordinates of the telescope as measured by the encoders .",
    "this    information was not recorded by jcmt . `",
    "c6xz ` ` c6yz ` : :    specify the position of the map origin .",
    "these coordinates are not    stored at jcmt as the map is defined in terms of offsets from the    specified tracking centre . `",
    "c7fw ` : :    is the beam full width at half maximum in arcsec at nrao but at jcmt",
    "the item used is ` c7hp ` and most jcmt data files do not seem to set    it . ` c11 * ` : :    most sub - mm telescope divide an `` observation cycle '' into a series of    `` phases '' , where the separate phases represent different states ( for    example , on - source , off - source , cal - diode on , cal - diode off ) . the    relevant information is stoed in class 11 , the `` phase block '' . at    jcmt ` c11vd ` specifies the names of the columns of the phase table    information stored in ` c11pha ` where the dimensionality is specified    by ` c3nsv ` ( number of phase table variables ) and ` c3ppc ` ( number of    phases per cycle ) .",
    "nrao use ` c11vv ` to store the values of a single    switch state and the phase table is ` c11pht ` . ` c12it ` : :    is the total time spent collecting data , including any blanking time .",
    "this item was not used at jcmt . `",
    "c12ni ` ` c12spn ` : :    indicate the number of integrations ( or channels for spectral line    data ) and the starting point ( channel ) in the data vector .",
    "unipops    used this information to limit display and processing to a sub - set of    the data array and to associate those limits with the data on disk .",
    "jcmt data did not need these quantities for any similar purpose . `",
    "c12st ` ` c12rms ` : :    are the computed source temperature and the rms value .",
    "the jcmt online    observing system did not calculate these . `",
    "c12sp ` : :    is a description of the polarization type and angle encoded in an    eight character field .",
    "this item was not used at jcmt . `",
    "c12rp ` ` c12x0 ` ` c12dx ` : :    these give the reference channel , x value at the reference channel ,    and spacing along the x axis . for spectral line data , the x axis is    velocity at each channel and for continuum data this is position along    the direction of telescope motion for each continuum integration in    that scan .",
    "these items were not used at jcmt . `",
    "c12wt ` : :    is the water temperature .",
    "not measured directly at jcmt during this    period . `",
    "c12oo ` ` c12ot ` : :    is the oxygen opacity and temperature .",
    "not measured at jcmt .",
    "the following items are found in both implementations .",
    "some discrepancies are noted as follows .",
    "` c1dp ` : :    this is used to specify the precision and data type used to store the    instrument data .",
    "this was used in early variants of the jcmt system    but was later dropped due to the data format being able to report the    data type associated with each item . `",
    "c1ona ` : :    jcmt used this as a synonym for ` c1obs ` and",
    "instead added ` c1ona1 ` to    indicate the name of the support scientist for the observing run and    ` c1ona2 ` to indicate the name of the telescope operator . `",
    "c1stc ` : :    specifies the type of observation . at nrao",
    "this was defined as two 4    character strings defining the type of data and the observing mode .",
    "for example ` linepssw ` for a position - switched spectral line    observation .",
    "jcmt used this item solely to define the switching mode    ( position - switched , beam switch , frequency switch and no switch ) ,    preferring instead to use ` c1ftyp ` to specify the frontend type    ( heterodyne versus bolometer ) and ` c1btyp ` to indicate the backend    type ( line versus continuum ) .",
    "in later versions jcmt dropped ` c1stc `    completely , preferring to specify the switching mode explicitly in    ` c6mode ` . `",
    "c3ut ` : :    is the universal time in decimal hours , yet at jcmt it was decided    that this should refer to ut1 . `",
    "c4csc ` : :    the jcmt coordinate system codes @xcite were a two - character code    such as rb to indicate b1950 ra / dec .",
    "nrao used a completely distinct    set of codes using eight characters ; rb being equivalent to 1950radc .",
    "the full list is shown in table  [ tab : coordcodes ] .",
    "+    .coordinate codes used at nrao and jcmt for item ` c4csc ` .",
    "[ cols=\"<,<,<\",options=\"header \" , ]    |============================    | |nrao |jcmt    |galactic |galactic |ga    |b1950 ra / dec |1950radc |rb    |epoch ra / dec |epocradc |rd    |mean",
    "ra / dec |meanradc |    |apparent ra / dec |appradc |    |apparent ha / dec |apphadc |eq    |1950 ecliptic |1950ecl |ec    |epoch ecliptic |epocecl |    |apparent ecliptic |appecl |    |azimuth / elevation |azel |az    |user defined |userdef |ud    |j2000 ra / dec |2000radc |rj    |indicated ra / dec |indradc |    |============================ ` c5ir ` : :    whilst jcmt did use ` c5ir ` to report the mean refractive index , the    jcmt implementation also stored the three refraction constants defined    in the jcmt refraction model @xcite as ` c5ir1 ` , ` c5ir2 ` and ` c5ir3 ` . `",
    ": :    is the coordinate frame to use when offsetting , which allows the    offset system to be distinct from the telescope tracking centre . at    nrao",
    "this was an eight character string made up of two four character    components ( polar versus cartesian and step versus scanning ) . at jcmt",
    "this item was an integer indicating which coordinate frame should be    used with options of az=1 , eq=3 , rd=4 , rb=6 , rj=7 and ga=8 ( using the    same definition explained in item ` c4csc ` ) . `",
    "c7vrd ` : :    is defined as the velocity definition and reference at nrao , by    combining two four character strings into a single item .",
    "it describes    how the source radial velocity , ` c7vrd ` , should be intrepreted .",
    "the    allowed velocity definitions were radi ( radio ) , optl ( optical ) and    relv ( relativistic ) .",
    "the velocity reference was allowed to be lsr    ( local standard of rest ) , helo ( heliocentric ) , eart ( earth ) , bari    ( barycentre ) and obs ( observer ) . at jcmt",
    "this item was reserved    entirely for the velocity definition but deprecated in later versions .",
    "the velocity definition was later defined in ` c12vdef ` ( allowed values    being radio , optical and relativistic ) and the standard of rest    indicated in ` c12vref ` ( allowed values being topo(centric ) , lsr ,    heli(ocentric ) , geo(centric ) , bary(centric ) and tell(uric ) ) .",
    "the 12-m telescope was upgraded to write gsdd format data in the summer of 1986 @xcite ; requiring that the data analysis system was also updated to understand it .    in 1988",
    "the nrao decided for a number of reasons to unify the data reduction systems for its single - dish telescopes : the tucson 12-m , and the green bank 300 ft and 140 ft telescopes . at the time",
    "all three telescopes used what looked like a very similar data reduction system , the people oriented parsing service ( pops ; * ? ? ? * ) but , at the code level the applications in green bank and tucson had been diverging rapidly since the early 1980 s , essentially due to the different computer architectures at the two sites ( early 1970 s modcomps in green bank and mid-1980 dec vax s in tucson ) .",
    "the nrao wanted to reduce maintenance costs as different staff were needed to maintain and develop each version .",
    "the nrao was also migrating to unix - based ( primarily sun ) computers , a change that would require major modifications to pops . the unified analysis system , unipops ( * ? ? ?",
    "* http://www.ascl.net/1503.007[ascl:1503.007 ] ) , was started in early 1989 and first released to users in early 1991 @xcite .",
    "although the 300 ft collapsed in 1988 @xcite , and the 140 ft was decommissioned for routine general - user astronomy in 1999 , unipops is still in use today at some level by the university of arizona who took over the running of the 12-m telescope in 2004 .",
    "since the majority of the fortran code that was modified to create unipops came from the 12-m version of pops , the unipops developers decided that unipops would also inherit with little modification the underlying data structure and export formats of the 12-m version of pops .",
    "internally , the unipops data structure used to hold the data is the same as the 12-m version of the gsdd data model with additional items added as described in section  [ sec : datamodel ] and a new class 9 to hold the values that were unique to to the green bank telescopes .",
    "the unipops file format is nearly identical to the pops data file ( pdfl ) format in use at the 12-m prior to unipops .",
    "this data structure and file format were used by unipops to hold data at all stages of processing ( raw , calibated , averaged , smoothed , etc . ) . adapting 140 ft and",
    "300 ft data to use the gsdd data model was relatively easy , good evidence that gsdd was indeed a rather versatile and useful standard .",
    "additional details on the export file format used by unipops and the format of the raw data written at each nrao telescope are provided in the next section .",
    "two modifications were made to the pdfl files when they were incorporated into unipops , solely to boost the performance of the system .",
    "the binary representation was changed from that of the dec architecture to that of sun workstations . and , the index that was at the start of a pdfl file was extended to include such items as the sky location and observing frequency to expand the items that could be efficiently searched in unipops . to distinguish the unipops sun - specific exported files from vax pdfl files",
    ", the nrao developers changed the name of the export format to single dish data ( sdd ) format .",
    "other than a modification that expanded the capabilities of the index section of the nrao sdd files , the sdd format adopted for unipops ( fig .",
    "[ fig : nraosdd ] ) remained unchanged until unipops was retired at the nrao in the mid-2000 s .    by the late 1980 s ,",
    "users of the nrao telescopes were very interested in seeing a fits format implemented for the nrao s single - dish telescopes ( see  [ sec : sdfits ] ) . by the mid 1990 s",
    ", unipops could export and import data in single dish fits ( sdfits ) and sdd formats , as well as many of the historical nrao formats .",
    "the nrao found that very few users went away with sdfits format ; most took home sdd files .",
    "since users were installing unipops on their home computers , they probably found transporting sdd files more convenient than using sdfits files .",
    "it was probably very rare that a unipops sdd file was imported into another analysis system .",
    "for example , a separate utility was developed that would prepare data files that could be imported into the class package .",
    "furthermore , when sdfits was released , few fits readers at the time could actually usefully import binary tables .",
    "thus , we suspect that frequent observers grew into the habit of avoiding sdfits files .      ) .",
    "the bootstrap field describes the basic layout of the file and the index indicates where each of the scans are located in the file .",
    "a key difference between gsd and sdd is that gsd contains a single observation whereas an sdd file contains many observations for a single science program . ]",
    "the layout of an sdd file is shown in fig .",
    "[ fig : nraosdd ] ( see also * ? ? ?",
    "the file consists of 3 parts : a bootstrap record , the index , and the data .",
    "an sdd file has an integer number of records where the size of a record is given in the bootstrap .",
    "each section ( index and data ) is also an integer number of records . within the data section ,",
    "each individual `` scan '' is one instance of the data structure that evolved from the original gsdd data model .",
    "each scan occupies an integer number of records within the file ( any extra space is padded with zeros ) .",
    "an sdd file can hold both spectral line and continuum data .",
    "the type of data is indicated by the ` c1stc ` value found in the data for each scan .",
    "the order and type of the values in the bootstrap record and within each index entry are set by the version number recorded in the bootstrap .",
    "the ` update counter ` item in the bootstrap record was an integer that was incremented each time the file was modified .",
    "this was used at the 12-m where the telescope control system was writing to multiple sdd files while one or more running unipops sessions were reading from the same set of sdd files .",
    "this is not a self - describing format like fits .",
    "the bootstrap record contains information used to read the index records .",
    "the size of the index entry and record were chosen so that there are an integer number of index entries in each record without any extra space .",
    "the index record is read into memory in unipops when an sdd file is opened and the copy in memory is kept in sync with the contents of the file as changes are made .",
    "data selection in unipops only uses the fields in the index .",
    "every scan in the file must have an entry in the index section .",
    "empty index entries have zeros for the start and last record numbers .",
    "the current largest index number in use is indicated in the bootstrap .",
    "if the data query involved the index associated with one of the sdd files being written by the 12-m during observing , then the ` update counter ` value in the bootstrap record on disk was checked .",
    "when a change was seen in that value then the copy of the index in memory was regenerated from the data file before the data query was done .",
    "each index entry indicates where the associated scan data starts and ends .",
    "the scan data consists of a preamble , which is 16 short integers giving the number of classes and the starting 8-byte location in the header where each class of header words started . within each class , the type and order of each value is fixed .",
    "the ` c1hln ` value gives the length of all of the header values . over time",
    ", new items were added to the ends of some classes so that unipops retained the ability to read previous versions of the sdd format by not attempting to read header words past the end of a class as indicated by the values in the preamble and ` c1hln ` .",
    "these new items are the differences between the nrao and jcmt versions of the gsdd data model mentioned in section  [ sec : datamodel ] .",
    "those differences grew over time as needed by nrao to accomodate new instruments , observing techniques and reduction methods .",
    "all numerical values in the header are stored as 8-byte floats .",
    "all string values are stored as multiples of 8 characters , depending on the specific value .",
    "the data vector immediately follows the header .",
    "the data are always 4-byte floats .    in order to accomodate spectral line and continuum data within the same structure and minimize the amount of space needed to store the associated header , some header values have 2 meanings depending on the type of data .",
    "this is most obvious in class 12 , where the associated x axis is described . for spectral line data",
    "the x axis is the frequency or velocity at each channel . for continuum data ,",
    "the data vector is a series of regularly sampled data ( each sample is one integration ) so the x axis is related to the position on the sky as the telescope is slewed .",
    "unipops was started either in spectral line mode or continuum mode and would need to be restarted to switch modes .",
    "it was never possible to work on both continuum data and spectral line data within the same session of unipops so typically a single sdd file only contained one type of data although that was not required by the file format .",
    "unipops dealt directly only with sdd format files .",
    "an sdd file could contain raw data , individual integrations and calibrated data .",
    "when writing to an sdd file , unipops could extend that file by appending to the end or it could overwrite existing data in the file provided that the size of the scan being overwritten was as least as large as the scan being written . in either case , the appropriate index entried was updated . in the case of appending to the file , the next index location after the current end as indicated in the bootstrap record was used .",
    "the index entries do not need to reflect the order that the data appear in the file , although that typically is the case .",
    "if a user tried to overwrite a scan with a scan with more channels unipops would append the new scan to the file , replace the index entry for the original scan with an appropriate index entry for the new scan , and replace the original scan records in the sdd file with zeros .",
    "unipops provided observers with access to their raw data in near real - time .",
    "for the 12-m this was direct access to the current set of sdd files being written by the telescope control software .",
    "multiple files could be written at the same time , depending on the backend , and unipops could access the desired data from any of those files while the data was being taken . for long observing sessions multiple versions of each backend - specific file",
    "were written .",
    "the 12-m also provided sdd files containing system temperature across the bandpass for each scan .",
    "unipops provided separate methods for accessing that calibration data but the file format was identical to all other sdd files . for the 140 ft , the raw data was written in the original telescope format produced by the modcomps .",
    "this raw 140 ft telescope format predates the gsdd data model .",
    "a conversion step to the nrao version of the gsdd data model was necessary for unipops to use that data . while observing , that conversion step happened on demand within unipops .",
    "access to the raw 140 ft data within unipops could be done remotely by an observer running unipops at their home institution .",
    "the unipops user could then choose to save that raw 140 ft data directly to disk in an sdd format file or they could process the data and only save those scans to disk . a separate data conversion tool was also provided to convert an entire observing session at the 140 ft from raw telescope format data to an sdd format file which could be read directly by unipops without any network connection to the raw data .",
    "sdd format files could be used interchangeably for input and output by unipops .",
    "typically a raw , uncalibrated data set was used as input and the user would save processed spectra to a separate sdd file . unipops users could choose to save their data to disk at any stage of processing .",
    "any single sdd file could contain raw , calibrated , or reduced data in any combination . typically most users kept the raw data separate from the processed data as that made it simpler to keep track of what had been done .",
    "a single output sdd file often contained the same data at different processing steps .",
    "the unipops user needed to keep track of what had been done to the data as no processing history information was associated with data either internally or in the sdd file .    with the interactive unipops environment , users had the ability to modify any of the gsdd data model items ( header values ) for any scan .",
    "these header values were referenced by the unipops interpreter using slightly more readable names ( e.g. ` c1sna ` is ` object ` in unipops ) .",
    "the unipops cookbook @xcite uses those more readable names to reference the gsdd data model items .",
    "internally , the compiled code that comprises unipops ( mostly fortran ) uses the original gsdd data model names ( known at the jcmt as the `` nrao '' names ) .",
    "the number of scans that an sdd file can contain is set by the size of the index section .",
    "scripts were provided with unipops to expand an existing sdd file if more index space was necessary .",
    "unipops could not read or write sdfits directly .",
    "separate conversion tools were necessary to produce and consume sdfits .",
    "conversion tools were also provided for historical nrao formats including the pdfl format used at the 12-m prior to unipops .",
    "archives from both the green bank 140 ft and tucson 12-m telescopes exist . for the 12-m",
    ", there are about 200 gb of archived sdd format files .",
    "the archive from the 140 ft consists entirely of telescope format files .",
    "the current green bank single dish analysis package , gbtidl ( * ? ? ?",
    "* http://www.ascl.net/1303.019[ascl:1303.019 ] ) ) , can read archived sdd files .",
    "gbtidl uses sdfits as it s primary data format .",
    "during the development of the jcmt software libraries at the mullard radio astronomy observatory , a number of options were considered for the raw data file format .",
    "two obvious options were available in the astronomical community in the form of the flexible image transport system and the starlink hierarchical data system ( hds ; * ? ? ?",
    "* ; * ? ? ?",
    "* http://www.ascl.net/1502.009[ascl:1502.009 ] ) .",
    "fits was discounted as the primary data format because of the large amount of overhead required to format the header information when writing files and the inability of the format ( at that time ) to store more than one data array or table in a file .",
    "fits files at the time were not capable of storing binary tables and ascii tables were all that was possible and those were not standardised until 1987 .",
    "it was also felt that the dec backup utility was more reliable for transport and archiving than using a specialist fits tape format . whilst the fits community would eventually support multiple data arrays and binary tables , it was not possible to wait for that to happen .",
    "hds was discarded for i / o efficiency reasons and the inability for the entire file to be mapped into memory in one operation .",
    "additionally it was felt that the hds library api required too many calls to do simple tasks , and although these calls could be wrapped in higher level subroutines , the overhead associated with the many lower level calls would be too high .",
    "one further option was to use the nrao 12-m file format ( pdfl ) but that also suffered ( from the jcmt perspective ) from serious i / o issues and could not be used on the acquisition hardware initially targeted for jcmt .",
    "the computer used during testing and commissioning in 1985/86 was a vax 11/730 with 4 mb of ram and which had severe performance limitations .",
    "this was upgraded to a microvax with 16 mb of ram just before operations started at jcmt in 1987 but performance was the key design driver : the control system was required to minimize the overheads in data capture and therefore maximize the observing time .",
    "the vax record management system ( rms ) was the basis of all standard vax records - based file handling .",
    "the performance of this system was not suitable for real - time operation as it was not acceptable for the system to pause while opening or closing or extending a file in the middle of the data collection .",
    "furthermore , limits on the maximum record length in rms meant that additional complexity would be required when writing out data from long observations .",
    "the jcmt disk i / o approach was instead designed to utilize the vax system services library that allowed a program to map a section of virtual memory ( referred to as a global section ) and then manage the scalar and array data in that memory directly in the program .",
    "this was very fast and did not cause the problems encountered with rms .",
    "performance benchmarks on a vax 750 @xcite suggested that i / o operations using rms were approximately five times slower than using a global section .",
    "the use of a global section also allowed other applications read access to the contents of the file whilst it was being written and also meant that the data already acquired would be usable even if the acqusition software crashed mid - observation .    these requirements led to a new disk format being devised and an associated i / o library written which used the gsdd data model , but used global sections for writing to disk .",
    "this led to the jcmt implementation of the library being known as the global section datafile system ( gsd ; * ? ? ? * ) .",
    "the file format design was influenced by the nrao idea of a self - describing gsdd implementation and also the concept of an `` in memory data base management system '' from the ` mon ` library being used in the jcmt control system .",
    "jcmt adopted the gsdd data model in the hope that downstream the data reduction systems could be compatible through the shared metadata conventions .    unlike the nrao pdfl / sdd files which grow throughout the night as more data are taken , a jcmt gsd file was only required to store data from a single observation . at jcmt",
    "an observation was defined as data being taken in a single switching mode at a single tracking position with a single instrument frontend / backend combination .",
    "a single observation could include multiple offsets in a grid or on - the - fly map and includes the full map area , rather than a single row or column .",
    "this approach resulted in more files to track in a night but was felt to simplify the acqusition software ( each observation was completely independent of what had gone before ) , and make it easier to distribute subsets of a night s data amongst different observers ( a pre - requisite for flexible scheduling ) and simplify queries for individual observations from the data archive .",
    "of course , this meant that the data reduction packages had to do more work to collate related observations into a coherent data set as they now worked with many independent files rather than being able to treat a night s observing as a single coherent entity .",
    "the layout of a jcmt gsd format file is shown in fig .",
    "[ fig : jcmtgsd ] ( see also * ? ? ?",
    "the file is split into three segments : the file descriptor , the item descriptors and the data itself .",
    "the file descriptor contains a general description of the file indicating its version , the number of items written and the start position of the data array .",
    "the item descriptors define each of the items in terms of the label and units and the position within the data array .",
    "the data itself is a single block at the end of the file following the item descriptions ; the item descriptions having defined exactly where in the data array a relevant item is located and how many bytes in the data array it occupied .    for array items ( gsd supported up to 5 dimensions ) , the identity of each dimension",
    "is specified in terms of the number of a scalar item .",
    "this allows the label and unit to be associated with each dimension of an array item in addition to the size of the dimension .",
    "a negative number of dimensions indicates that an item is a scalar that defines an array dimension .",
    "for example , the ` c11pha ` array entry in a jcmt das spectrum @xcite is dimensioned according to the scalar items ` c3nsv ` , the number of phase table variables , and ` c3ppc ` , the number of phases per cycle . the item descriptor for ` c11pha ` would therefore contain a ` dimensions ` array of two elements containing the item numbers ( position in the item descriptor section ) for ` c3ppc ` and ` c11pha ` .",
    "a library user would then look up those two items to determine the dimensionality of ` c11pha ` .",
    "this file design resulted in a fully self - describing system where there was no requirement for items to be grouped by class in the file and no requirement for the order of items to be pre - determined ( an issue for the nrao implementation where the order was specified in a compiled include file requiring that the order of items within a class be preserved and also that new items could only be added to the end of a class ) .",
    "a user of the format could either request an item by number or request an item by name . storing the units with the data also allowed for more flexibility in data model representation at the expense of more logic in the application code that might have to understand unit conversions .",
    "application software would use the file version number to decide which variant of a data model was present in the file . at jcmt",
    "this became important as the system evolved in the first few years .",
    "the jcmt format implementing gsdd supports the standard fortran data types of byte , word , logical , integer , real , double and character strings , and uses vax floating point format ( see * ? ? ?",
    "* for more information on vax floating point format ) . to simplify the format , character strings have a fixed size of 16 characters ,",
    "item names are fixed at 15 characters and unit strings are fixed at 10 characters .",
    "the format supported the concept of a `` null '' value by reserving the most negative value of each data type for that purpose ( using a single space as the null character value and false as the null logical value ) . additionally , the jcmt gsd library supported data type conversion , allowing a user to request a value in a different type to how it was stored natively in the file .",
    "this was an important aspect of the library interface , simplifying code required by the reduction software , enabling users of the library to request data in the form most suitable for them .",
    "this feature was influenced by earlier work on the starlink catalog access and reporting ( scar ) relational database management system for astronomical catalog handling @xcite .",
    "the jcmt took data in the gsd format for all instruments ( heterodyne and continuum ) from the telescope commissioning ( circa 1986 ) to the delivery of scuba in 1996 @xcite .",
    "the gsd format continued to be used for heterodyne instruments until the delivery of the new acsis correlator in 2006 @xcite .",
    "scuba and newer instruments wrote data in the starlink extensible _",
    "n_-dimensional data format ( ndf ; * ? ? ?",
    "* ) , although scuba s data model was not precisely copied for acsis and scuba-2 @xcite data .",
    "ndf had a key advantage that it was being used throughout the starlink software collection as the primary data format @xcite .",
    "writing data using ndf meant that jcmt data files had immediate access to all the visualization and analysis applications already available to the community such as kappa ( * ? ? ?",
    "* http://www.ascl.net/1403.022[ascl:1403.022 ] ) .",
    "many of the performance worries from the mid-1980s concerning the overhead associated with the hds library were no longer relevant in the late 1990s .",
    "the gsd data access library was a vax - specific library @xcite written in fortran and making extensive use of vax system calls .",
    "when the last instrument moved off of the vax / vms data acquisitions computers the format could no longer be used and was retired .",
    "there was little motivation to port the data model to the newer instruments as it was clear by this time that gsdd had not succeeded and that ndf would be more useful to the jcmt user community despite the resulting necessity for new ways of describing raw jcmt data .",
    "there was seen to be no advantage to moving the gsdd class and item names to the newer ndf - based raw data models .",
    "indeed , as described in sec  [ sec : hidden ] the standards effort was dead and it was not obvious to later users and software developers from where such opaque names had originated .",
    "the gsdd data files are archived at the canadian astronomy data centre and approximately 440000 gsd format files are in the archive , totalling approximately 30 gb .",
    "in order to access these data files on a unix system a new read - only version of the gsd library was written in c ( * ? ? ?",
    "* http://www.ascl.net/1503.009[ascl:1503.009 ] ) and integrated into the standard data reduction tools specx ( * ? ?",
    "* http://www.ascl.net/1310.008[ascl:1310.008 ] ) , coadd ( * ? ? ?",
    "* http://www.ascl.net/1411.020[ascl:1411.020 ] ) and jcmtdr ( * ? ?",
    "* http://www.ascl.net/1406.019[ascl:1406.019 ] ) .",
    "the gsd format is relatively simple and the main complication in the new c ( and later pure java ) implementations was the conversion of vax floating point format to ieee format .",
    "furthermore , computers were sufficiently more powerful by the time the unix version was written that there was no need to use memory mapping ; the entire contents of a file is read into memory .",
    "gsd was solely used as a data acquisition format at jcmt , with there being one application on the vax to enable the editing of contents if there was a need to fix some metadata .",
    "data reduction applications never wrote data out in gsd format and the unix port of the library did not have the ability to write a gsd file .",
    "a perl interface to the unix c gsd library @xcite was implemented to allow the preview of spectra for remote observers when doing flexible scheduling @xcite .",
    "the gsd format files are no longer part of the publically available query system at the cadc .",
    "this was driven by funding constraints when the cadc system was re - engineered to use a common internal data model @xcite and a requirement that federal interfaces be compliant with canadian language regulations .",
    "the jcmt science archive ( jsa ; * ? ? ?",
    "* ) therefore does not contain gsd data . to extend the useful life of the gsd format observations and to make the observations available to the widest possible community through the jsa and the virtual observatory , there was a project to convert the gsd heterodyne files archived at cadc to the modern acsis format @xcite such that they can be processed ( baseline subtracted , co - added , placed into data cubes ) using the standard jcmt data reduction pipelines @xcite .",
    "the smurf data reduction application ( http://www.ascl.net/1310.007[ascl:1310.007 ] ) contains the ability to read gsd files and migrate them to the modern format @xcite .",
    "the gsd files from the earlier continuum instruments , such as ukt14 @xcite , will remain in the archive although they will not be visible through the jsa interface .",
    "gsdd has had a mixed history and in this section we look back on the good and bad of gsdd .      the key failure of gsdd was that most of the developers and users of the format did not realize that it was a standard and therefore there was no impetus for the respective observatory staff to continue to communicate as systems evolved .",
    "the initial developers of the jcmt system did not maintain the data acquisition software in hawaii and , at nrao , the lead developer of the 12 m gsdd system left nrao before the end of the 1980s . interviewing staff from nrao and jcmt following the respective implementations of gsdd compatible systems , it was very rare for anyone to remember that there was an intent for a standard to be in place .",
    "as can be seen from the evolution of the jcmt class names and the divergence of data models , items were added to the respective data formats without any communication between the nominal gsdd partners .",
    "12-m development continued with tweaking of the acquisition and reduction formats independently .",
    "as the gsdd model evolved , the nrao implementation resulted in 24 items that are not present in the jcmt implementation ( not including the classes explicitly specified to be locally defined ) , and 154 items that are defined by jcmt but not defined by nrao .",
    "the goal of unified data reduction software understanding gsdd never materialized .",
    "indeed , interoperability usually occurred , if at all , by exporting the files into a completely different format that could be understood by class .    in conclusion , it is impossible for a standard to survive as a standard if no - one knows they are using a standard ; the effort must be made to broadcast and properly document the effort within the wider community as part of the original development .      whilst the data model provided a reasonable baseline for how to name items , it broke down almost immediately when it came to storing values in those items .",
    "for example , the coordinate codes , ` c4csc ` , were not standardised , the reference frame coordinate code , ` c6fc ` , had a whole different concept at jcmt and nrao and , indeed , the specification of how observing grids were defined at both observatories differed despite sharing the same underlying item names .",
    "if an attempt had ever been made to transfer data between observatories special code would have to be written to import the data , removing most of the gains of a shared model .",
    "the was due to a failure to fully develop the standard prior to starting its implementation . in some sense",
    ", the development / initiative was not initiated with / subjected to proper project management procedures as we currently understand them .",
    "a major advantage of gsdd is that the standard actually allowed sites to alter the format and data model as they saw fit .",
    "nrao sites using the nrao file format had to follow some minor rules in order to guarantee that any other site s gsdd reader could still manage the files .",
    "such rules as : do not touch the pre - defined keywords ( which were to have predefined byte sizes and were always to be in a certain order at the start of a class ) , you are free to add new keywords to any class but only at the end of the pre - defined section of each class , modify class 9 for your particular telescope , modify class 10 as convenient , and be sure to use the well - defined pre - amble to designate the byte at which every class begins .",
    "we maintain that gsdd was actually a very good implementation for its time because these rules could be easily adhered to while simultaneously giving sufficient versatility to each telescope .",
    "the jcmt gsd file format encouraged far more flexibility than this since the constraints on class keyword ordering were removed and software did not need to compile - in knowledge of where the individual items were meant to be located in the file .",
    "this led to much more explosive and dynamic modifications to the data model in the early years of telescope operations .",
    "the alternative view is that allowing a class 9 for particular telescopes to use as they liked was an impediment to standardization . in many cases",
    "an item being added to class 9 could have been made generically useful with some discussion or may well have been very similar to an item already in use by another telescope .",
    "the use of the escape hatch class should have been treated as a last resort after debate within the community . only when it was determined that a particular item was unique for a telescope should class 9",
    "have been used , and even then a case could be made that it would still be more helpful for the item to have been placed in the correct class and documented as such , to help the next telescope that required similar functionality . in some sense this was the approach used at jcmt ( without the communication effort ) which was simply to ignore class 9 completely and add items to the `` correct '' classes without discussion in the wider community .",
    "as the jcmt model evolved it was soon clear that many of the items were not relevant to particular observing modes .",
    "rather than attempting to always write them out regardless , it was decided to treat them as true optional items .",
    "this difference between jcmt and nrao may have been driven by file format design given the difference in approach between the self - describing gsd and the more statically defined pdfl .",
    "in retrospect it would have been better to attempt to standardize even at the expense of having to spend more time in discussion .",
    "gsdd benefited by explicitly defining the data model for single - dish observing distinct from bytes on the disk . however , whether by accident or design , the gsdd standard resulted in multiple software implementations writing the data to disk in different formats and using different techniques .",
    "the jcmt gsd format was never written on anything other than a vax but the nrao format migrated from pdfl to sdd going from vax to unix .",
    "unfortunately these multiple formats also meant that data reduction software wishing to read the data would need to implement multiple file readers .",
    "the reality is this work was never done . given the focus of both institutions on the use of gsdd in data acquisition using different hardware platforms and different performance constraints , this split is not surprising , but it is interesting to contemplate how interoperability would have improved if the standards effort had also included the definition of an interchange format .",
    "being easily able to compare a jcmt spectrum with a nrao 12-m spectrum from within the same data analysis package would have been extremely useful to the young sub - mm community .      despite the lack of communication between implementors and the drift in specifications , the gsdd format itself",
    "can be thought of as a success when the uses of the format are looked at independently .",
    "the jcmt gsd format was used for many years and files in this format are still available .",
    "the related format continues to be used at the 12-m telescope .",
    "gsdd was a very early attempt for independently funded and operated observatories to agree on a shared data model .",
    "the goals of true interoperability of raw telescope data amongst multiple data reduction software packages was an important goal that was ahead of its time .",
    "arguably the key outcome of gsdd was that it motivated people to work together towards a shared data format based on fits .",
    "the gsdd experience fed in to a 1989 workshop held at green bank in late 1989 that discussed how the community could migrate to a single - dish fits format .",
    "this was a key motivator for the adoption of binary tables into the fits standard and ultimately led to the sdfits standard @xcite .",
    "a failing of gsdd is that when developers had real , practical reasons to break a rule ( e.g. , needing a double precision word for a pre - defined keyword when the standard required single precision , a string needing 32 char instead of 16 , changing the byte representation from that of a vax to ieee ) , a forum had not been set up that could negotiate modifications to the standard .",
    "this is unlike the fits world where revisions to the definition have to pass through a standards group .",
    "a key lesson is that when a standard is set up , the agreement should go beyond the expectation that ad hoc conversations between staff at different observatories are a sufficient means of keeping the standard viable .",
    "the jcmt gsd library was documented and stable and the uk had the starlink project @xcite to publish the software and data files to the uk community .",
    "however , access to that network from other countries , such as the us , was problematic , and hindered the spread of the software and prevented take up .",
    "fears of lack of support also drove people to create their own in - house solutions .    today",
    ", 30 years on , the internet and the culture of open - source development make that much less likely and and good ideas have a tendency to become distributed and generate a supporting community outside of the original developers that ensures its survival and growth .",
    "many of the lessons exposed by the history of gsdd have already been learned in the 30 years since the key decisions were made and much improved communications infrastructure has changed the way that people work .",
    "the current debate on future developments of data formats for astronomy ( see e.g. * ? ? ? * ; * ? ? ? * ; * ? ? ?",
    "* ) indicates that there is a desire within the community for a format that builds on the lessons learned using the fits format to develop a format with more modern underpinnings . as noted in the debate described in @xcite , representing data on disk",
    "is becoming a secondary concern relative to the discussion of data models .",
    "a data model can be serialized into many different transport and archive formats , and it is relatively easy to make applications flexible enough to be able to cope with these differences .",
    "instead , it is much harder to deal with different data models and implementation efforts should concentrate on optimizing and generalizing the data model that is being used .",
    "this is , after all , the underlying _ business logic _ that enables science to progress .",
    "it may be true that all data models can be represented in a fits file but that does nt mean that a fits file is the most compact or most efficiently accessed format . changing",
    "the underlying file format used in astronomy may simplify infrastructure libraries and result in new abilities not available from within fits . the easiest way to migrate people to a new format",
    "may well be to do it without people knowing what underlying format really is being used by their applications .",
    "as we move forward with discussions on data formats and look again at hierarchical approaches ( e.g. * ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , these may adjust the way that people view data models .",
    "a hierarchical view is very different to a flat view and data modelers should not be constrained by how their models are represented on disk .",
    "gsdd failed to unify the single - dish radio telescope community to use a single file format .",
    "focusing on the data model as a first step was the correct decision at the time but it was poorly implemented with little buy - in from the people writing the software . failing to agree on units , coordinate codes and the approach to adding additional keywords removed any chance of gsdd being a generically useful data model for the community .",
    "ideally a gsdd data model library should have been written to abstract the file format completely from the user , but this was all occuring before object - oriented programming was a common paradigm .",
    "if gsdd were being implemented now it would be obvious how to wrap data representing millimetre observations within object - oriented classes involving differing receiver types and observing modes .",
    "abstracting the data model from the underlying file format is an idea whose time has come .",
    "the large synoptic survey telescope data management system @xcite uses a _ butler _ to mediate file access .",
    "the user requests data from the system and the butler then pulls all the relevant data items together ( from a database or from files or from a combination of the two ) and instantiates an object representing that data . for lsst",
    "this ` exposure ` class represents something relevant to an optical imager , but it could just as easily return an object that is relevant to millimeter observing .",
    "the gsdd data model was used at nrao and jcmt for many years but failed in its original goal of unifying single dish millimeter astronomy and simplifying data reduction software reuse . as",
    "data reduction packages have evolved it has become clear that the most important aspect of such packages is format conversion such that the software can map the external data model to an internal data model .",
    "it is very hard to motivate individual observatories to target a global standard for raw data without significant commitment and obvious return on investement .",
    "nrao and jcmt made a solid attempt but could not maintain the momentum as other priorities intervened and staff involved in the effort moved to other projects .",
    "recent examples where observatories have collaborated on a shared raw data format has shown that this is possible but depends critically on the motivation of individuals and on available funding interoperability of reduced data products has significantly improved since the mid-1980s such that there is a general expectation that reduced data cubes will be viewable in general tools . by contrast",
    ", interoperability of raw data has remained a much more elusive goal , at least amongst the sub - mm radio telescope community .",
    "the national radio astronomy observatory is a facility of the national science foundation operated under cooperative agreement by associated universities , inc .",
    "the james clerk maxwell telescope has historically been operated by the joint astronomy centre on behalf of the science and technology facilities council of the united kingdom , the national research council of canada and the netherlands organisation for scientific research .",
    "the jcmt part of this work was funded by the science and engineering research council and subsequently the particle physics and astronomy research council .",
    "we thank thomas folkers and harvey liszt for useful discussions on gsdd .",
    "this research has made use of nasa s astrophysics data system .",
    "the source code for the jcmt gsd library ( c , perl wrapper , and java ) and the source code for unipops are available from github and both are distributed under the gnu general public licence .",
    "the jcmt gsd library is distributed as part of the starlink software collection ( see e.g. , * ? ? ?",
    "* http://www.ascl.net/1110.012[ascl:1110.012 ] ) .",
    "some of the harder to find documents referenced by this paper have been collected and made available on github at https://github.com/timj/aandc-gsdd/tree/master/support_docs .",
    "67 natexlab#1#1[1]`#1 ` [ 2]#2 [ 1]#1 [ 1]http://dx.doi.org/#1 [ ] [ 1]pmid:#1 [ ] [ 2]#2 , . , in : , , ( eds . ) , , volume   of _ _ . p. .",
    "joint astronomy centre . , . , in : ( ed . ) , , volume of _ _ .",
    ", j.  v. et  al . , . .",
    ", http://arxiv.org/abs/0907.3610[arxiv:0907.3610 ] .",
    ", , , . , .",
    "joint astronomy centre .",
    ", , , , , , . , in : , ( eds . ) , , volume of _ _ .",
    ", . , in : , ( eds . ) , , volume   of _ _ .",
    ". . , . , , , , ,",
    ", et  al . , . .",
    ", http://arxiv.org/abs/1412.4399[arxiv:1412.4399 ] . , .",
    ", , , , . .",
    ". . , . , in : , , ( eds . ) , , volume of _ _ . p. . ,",
    "volume of _ _ . . .",
    ", , , . , in : ( ed . ) , ,",
    "volume of _ _ .",
    ", , , , . . ,",
    ", , , , . .",
    ", et  al . , . .",
    ", . , . , in : , ( eds . ) , , volume   of _ _",
    ", et  al . , . .",
    ", w.  s. et  al . , . .",
    ", http://arxiv.org/abs/astro-ph/9809122[arxiv:astro-ph/9809122 ] . , .",
    ". . , . , z. et  al . ,",
    "http://arxiv.org/abs/0805.2366[arxiv:0805.2366 ] . , .",
    ". , http://arxiv.org/abs/1502.04029[arxiv:1502.04029 ] .",
    ", et  al . , . .",
    ". , http://arxiv.org/abs/1410.7513[arxiv:1410.7513 ] .",
    ", , , , . , in : , , ( eds . ) , , volume of _ _ . p. .",
    ", , , , , , , , . .",
    ", , , , , , , . .",
    ", , , . , in : , ( eds . ) , , volume of _ _",
    ", , , , , , , , . , in : , , ( eds . ) , , volume of _ _ . p. .",
    ", , , , . .",
    ", , , , . .",
    "joint astronomy centre .",
    ", , . , in : , volume of _ _ .",
    ", , , , . .",
    "starlink project . , . .",
    "starlink project .",
    ", , , , . .",
    "starlink project .",
    ", , , , , . , in : , , , ( eds . ) , , volume of _ _ . p. .",
    ", , , , , , , . , in : , ( eds . ) , , volume of _ _ .",
    "http://arxiv.org/abs/1411.0996[arxiv:1411.0996 ] . , .",
    ". . , d. et  al . , . . ,",
    ", in : , , , ( eds . ) , , p. . , . .",
    "http://arxiv.org/abs/1505.06421[arxiv:1505.06421 ] .",
    ", , . , in : ( ed . ) , ,",
    "volume of _ _ .",
    "http://www.gb.nrao.edu/~rmaddale/140ft/unipops/unipops_20.html . , .",
    ", , , ( eds . ) , . .",
    "volume of _ _ . , . .",
    ", et  al . , . .",
    ". , http://arxiv.org/abs/1502.00996[arxiv:1502.00996 ] . , .",
    ", . , . , . , , , , , .",
    "starlink project .",
    ", , , . . ,",
    ", in : , ( eds . ) , , volume   of _ _ ."
  ],
  "abstract_text": [
    "<S> the general single - dish data format ( gsdd ) was developed in the mid-1980s as a data model to support centimeter , millimeter and submillimeter instrumentation at nrao , jcmt , the university of arizona and iram . </S>",
    "<S> we provide an overview of the gsdd requirements and associated data model , discuss the implementation of the resultant file formats , describe its usage in the observatories and provide a retrospective on the format .    </S>",
    "<S> data formats , submillimeter : general , history and philosophy of astronomy </S>"
  ]
}