{
  "article_text": [
    "the advantages of using a logarithmic scale to measure astronomical fluxes are obvious : the magnitude scale is able to span a huge dynamic range , and when relative colors are needed they can be computed by simply differencing magnitudes measured in different bandpasses .",
    "these advantages are quite clear for bright objects where noise is not an issue . on the other hand ,",
    "as fluxes become comparable to the sky and instrumental noise , the corresponding magnitudes are subject to large and asymmetric errors due to the singularity in the magnitude scale at zero flux ; indeed , if a noisy measurement of an object s flux happens to be negative , its magnitude is a complex number !",
    "astronomers have generally handled these cases by specifying detection flags and somehow encoding the negative flux .",
    "these problems become even more pronounced as we work in multicolor space .",
    "an object can be well detected and measured in several of the bands , and still fail to provide a measurable flux in others . in flux space",
    "the object would be represented as a multivariate gaussian probability distribution centered on its measured fluxes , not necessary all positive .",
    "important information is lost by simply replacing a flux by an arbitrary 2- or 3- @xmath0 upper limit . in magnitude space",
    ", the error distribution of such an object has an infinite extent in some directions , making meaningful multicolor searches in a database impossible ; all the non - detections in one or more bands must be isolated , and treated separately .",
    "one solution to this problem is to use linear units ( e.g. janskys ) , although this makes studies based on flux ratios ( colors ) inconvenient .",
    "this paper proposes an alternative solution , a modification of the definition of magnitudes , which preserves their advantages while avoiding their disadvantages .",
    "we propose replacing the logarithm in the traditional definition of a magnitude with an inverse hyperbolic sine function .",
    "this function becomes a logarithm for large values of its argument , but is linear close to the origin .",
    "@xmath1 \\rightarrow       \\cases{{{\\hbox{sgn}(x ) } } \\ln |2x| ,           & if $ |x|\\gg 1$\\cr x ,           & if $ |x|\\lesssim 1$\\cr}\\ ] ] the usual apparent magnitude @xmath2 can be written in terms of the dimensionless normalized flux @xmath3 as @xmath4 where @xmath5 is the flux of an object with magnitude @xmath6 , and @xmath7 is pogson s ratio ( pogson 1856 ) .",
    "let us define the new magnitude @xmath8 as @xmath9\\ ] ] here @xmath10 and @xmath11 are constants , and @xmath11 is an arbitrary ` softening ' which determines the flux level at which linear behaviour sets in . after some discussion , we have adopted the name ` asinh magnitudes ' for @xmath8 .",
    "consider the asymptotic behaviour of @xmath8 , for both high and low @xmath12 : @xmath13.\\ ] ]    thus for @xmath14 , @xmath8 approaches @xmath2 , for any choice of @xmath11 . on the other hand",
    "when @xmath15 , @xmath8 is linear in @xmath12 ; for @xmath16 , we gradually return to logarithmic behaviour , although this regime is never of astronomical interest for any reasonable choice of @xmath11 .",
    "intuition suggests that @xmath11 should be chosen to be comparable to the ( normalized ) flux of an object with a signal - to - noise ratio of about one ; the following section discusses the choice of @xmath11 , and the related question of @xmath8 s error distribution .",
    "although the softening parameter @xmath11 can be any positive number , we show below that one particular selection has a couple of attractive features . in making our choice",
    ", we use the following guiding principles : 1 ) since asinh magnitudes are being introduced to avoid the problems that classical magnitudes manifest in low signal - to - noise data , the differences between asinh and classical magnitudes should be minimized for high signal - to - noise data .",
    "2 ) we should minimize @xmath8 s variance at low flux levels .",
    "the latter is not strictly required as a too - small value of @xmath11 merely stretches out @xmath8 s scale along with its errors , but it is convenient if @xmath8 s variance at zero flux is comparable to its variance at a signal - to - noise ratio of a few .    in reality ,",
    "our measurement of the normalized flux @xmath12 will be noisy , with variance @xmath17 .",
    "we wish to choose @xmath11 to minimize @xmath8 s variance , while keeping the difference @xmath18 small .",
    "let us therefore compute the variances of @xmath2 and @xmath8 ( keeping only the linear terms in their taylor series ) , and also their difference ; arrows indicate the asymptotic behavior as @xmath19 : @xmath20 }          & \\rightarrow   -a\\ , { { \\hbox{sgn}(x)}}\\ln\\left({|x|\\over b}\\right)\\end{aligned}\\ ] ]    what are the disadvantages of taking either too low or too high a value for @xmath11 ? choosing a low value of @xmath11 causes the difference @xmath21 to become smaller , i.e. the two magnitudes track each other better , but unfortunately @xmath8 s variance at @xmath22 varies as @xmath23 . choosing too high",
    "a value has the opposite effect : the difference explodes at low values of @xmath12 , simply due to the singularity in the logarithm in the definition of @xmath2 . at the same time",
    ", @xmath8 s variance remains small .    in order to balance these two competing effects",
    ", we shall determine @xmath11 by minimizing a penalty function containing terms due to both , added in quadrature .",
    "the difference between the two magnitudes , normalised by @xmath2 s standard deviation , is given by @xmath24.\\ ] ] the function @xmath25 has a maximum value of approximately 0.5 at @xmath26 , so the largest possible deviation between the two magnitude scales is @xmath27 the other ` cost ' associated with the choice of @xmath11 is the size of the error box for @xmath8 at @xmath22 , which is @xmath28 the total penalty can be obtained by adding these two costs in quadrature : @xmath29\\ ] ] which has the obvious minimum at @xmath30 .",
    "thus the optimal setting is the value @xmath31 .",
    "as expected , @xmath11 is approximately equal to the noise in the flux .",
    "this choice of @xmath11 leads to @xmath18 having a maximum value of 0.52@xmath32 , implying that the difference between the two magnitudes is always smaller than the uncertainty in @xmath2 ( see figure [ figmmu ] ) .",
    "if the error in its measured flux is @xmath33 , the error in @xmath8 is @xmath34 .",
    "if the flux errors are gaussian , so , to leading order , are the errors in @xmath8 as the transformation from counts to @xmath8 is linear for @xmath15 .",
    "figure [ figerrors ] shows @xmath2 and @xmath8 as a function of signal - to - noise ratio , for this choice of @xmath11 , along with their 1-@xmath0 errors .",
    "we have been working in terms of @xmath3 , but it is usually more convenient to use the measured fluxes directly ; in terms of the _ non-_normalised flux @xmath35 , the expressions for @xmath2 , @xmath8 , and @xmath36 become @xmath37 where @xmath38 , @xmath39 , and @xmath40 are measured in real flux units ( e.g. counts ) .    an object with no measured flux in a given band has a @xmath8 value of @xmath41 ( equation [ eqmuzeropoint ] ) , in other words the classical magnitude of an object with a flux of @xmath42 .",
    "we note in passing that this value @xmath43 is a convenient measure of the depth of a survey , containing information about both the noise properties of the sky and the image quality .    in the discussion above we considered the idealized case of all objects having the same error , dominated by sky noise .",
    "this case covers most objects found in a given deep survey , as most are detected at the flux limit and are typically at most marginally resolved . for bright objects , of course , the difference between @xmath2 and @xmath8 is entirely negligible .",
    "the optimal measure of the flux of a faint stellar object is given by convolving its image with the psf .",
    "if the noise is dominated by the sky and detector , the variance of the measured flux is independent of the object s brightness , and is given by the background variance per unit area multiplied by the effective area of the psf ( @xmath44 if the psf is gaussian with fwhm @xmath45 ) .",
    "if we decide upon a typical seeing quality and sky brightness for a given band , this defines @xmath0 s nominal value , @xmath46 , which sets @xmath11 once and for all .",
    "each band has its own value of @xmath11 .    as observing conditions",
    "change so do measurement errors , with the result that the error in @xmath8 for very faint objects is no longer exactly the 0.52 magnitudes that it would be under canonical conditions .",
    "whenever a precise error is needed for a given object s @xmath8 , it may be found by converting @xmath8 back to flux , or by applying equation [ muerror ] ; for faint objects this reduces to multiplying the quoted error by @xmath47 .",
    "failure to apply such a correction would mean that the quoted errors on @xmath8 were wrong .",
    "it would be possible to choose @xmath11 separately for different parts of the sky , but this would make the conversion of @xmath8 back to flux impractically complicated , and a significant source of mistakes for users of the data .",
    "the behaviour of @xmath8 as @xmath11 changes is reasonably benign ; the error at zero flux varies only linearily with @xmath11 , as does the flux where @xmath2 and @xmath8 begin to diverge .",
    "care is also required whenever the measured flux has different noise properties , for example if the flux is measured within a circular aperture or a given isophote rather than using a psf . in this case",
    ", the appropriate value of @xmath0 may be much larger from the one used to set @xmath11 , with the consequence that the error in @xmath8 at zero flux considerably underestimates the true uncertainty ( the other case , where the effective aperture is smaller than the psf , is unlikely to occur in practice ) .",
    "it would , of course , be possible if confusing to choose a different set of @xmath11 values for each type of ( fixed size ) aperture , although it seems unlikely that this would really be a good idea . as the discussion in section [ secchooseb ] showed the consequences of even a grossly incorrect value of @xmath11",
    "are not catastrophic ; the asinh magnitudes still reduce to our familiar magnitudes for bright objects , and are still well defined for negative values .    one place where special care will be needed",
    "is in measures of surface brightness , where @xmath2 and @xmath8 can depart quite strongly from one another even at levels where the flux is well determined .",
    "it may prove desirable to use a different value of @xmath11 for such measurements ; they are after all never directly compared with total magnitudes .",
    "fan et al .",
    "( 1999a ) have used the asinh magnitude system to search for high - z quasars in preliminary sdss data ; examples of color - color plots employing asinh magnitudes may be found in fan et al .",
    "( 1999b ) .",
    "the ratio of two low signal - to - noise ratio measurements ( for example , an object s color ) is statistically badly behaved ( indeed , for gaussian distributions if the denominator has zero mean , the ratio follows a cauchy distribution and accordingly has no mean , let alone a variance ! ) . what is the behavior of our asinh magnitudes when used to measure colors ?    for objects detected at high signal - to - noise ratio , the difference in @xmath8 measured in two bands is simply a measure of the relative flux in the two bands . for faint objects",
    "this is no longer true , although the difference is well behaved .",
    "a non - detection in two bands has a well defined ` color ' ( @xmath48 ) . as discussed above , the error in this color",
    "is approximately @xmath49 magnitudes , assuming independent errors in the two bands .",
    "equivalently , such a non - detection can be represented by an ellipsoid in multi - color space , centered at the point corresponding to zero flux in all bands , with principal axes @xmath50 ( in general @xmath47 will be different in each band ) .    as an illustration of the instability of the traditional definition of color for faint objects , consider two objects that have almost identical colors but which are near the detection limit of a survey .",
    "their asinh colors will be very similar , but ( due to the singularity of the logarithm as the flux goes to zero ) their classical magnitudes may differ by an arbitrarily large amount .",
    "figure [ figcolor ] shows the results of a simple monte - carlo simulation .",
    "we took a set of ` objects ' with 2.51 times as much flux in one band in the other ( one magnitude ) , added gaussian noise of fixed variance to each measurement , and tabulated the color measured using both classical and asinh magnitudes .",
    "the left hand panel shows the flux ratio , @xmath51 , and @xmath52 as a function of signal - to - noise ratio ; the right hand panels show histograms of their distribution in the range @xmath53 . at the right side of the plot , where the noise is less important , both @xmath51 and @xmath52 tend to -1 , the correct value . as the noise becomes more important",
    ", the errors on the @xmath54 plot grow ( and an increasing fraction of points in the left panel is simply omitted as their fluxes are zero or negative ) .",
    "the @xmath55 plot shows the ` color ' tending to its value at zero flux , in this case 0.0 , as the signal - to - noise ratio drops .",
    "we have shown that an innovative use of inverse hyperbolic sines for a new magnitude scale can overcome most deficiencies of traditional magnitudes , while preserving their desirable features .",
    "the defining equations are @xmath56 where @xmath57 , @xmath35 is the measured flux , @xmath58 the error in @xmath35 due to the sky and detector , and @xmath42 a softening parameter ( equations [ eqmuzeropoint ] and [ muerror ] ) .",
    "the principal advantages of these ` asinh ' magnitudes are their equivalence to classical magnitudes when errors are negligible , their ability to represent formally negative fluxes , and their well behaved error distribution as the measured flux goes to zero . for high signal - to - noise ratios",
    "the difference of two asinh magnitudes is a measure of the flux ratio , while for noisy detections it becomes the statistically preferable flux difference ; this allows meaningful color cuts even when an object is barely detected in some bands .",
    "additionally , @xmath43 provides a convenient way of summarizing the photometric depth of a survey for point - like objects , containing information about both the noise level of the system and the image quality .",
    "asinh magnitudes will be used in the sdss catalogs .",
    "the authors would like to thank xiaohui fan , don schneider , and michael strauss for helpful comments on various versions of this paper , and gillian knapp for demonstrating that the whole question was more subtle than we had realised .",
    "the sloan digital sky survey ( sdss ) is a joint project of the university of chicago , fermilab , the institute for advanced study , the japan participation group , the johns hopkins university , princeton university , the united states naval observatory , and the university of washington .",
    "apache point observatory , site of the sdss , is operated by the astrophysical research consortium .",
    "funding for the project has been provided by the alfred p. sloan foundation , the sdss member institutions , the national aeronautics and space administration , the national science foundation and the u.s .",
    "department of energy .",
    "fan x. et al . , 1999a , aj , submitted .",
    "fan x. et al . , 1999b , in preparation .",
    "pogson  n.r .",
    ", mnras * 17 * , 12 , 1856 ."
  ],
  "abstract_text": [
    "<S> we describe a modification of the usual definition of astronomical magnitudes , replacing the usual logarithm with an inverse hyperbolic sine function ; we call these modified magnitudes ` asinh magnitudes ' . for objects detected at signal - to - noise ratios of greater than about five , </S>",
    "<S> our modified definition is essentially identical to the traditional one ; for fainter objects ( including those with a formally negative flux ) our definition is well behaved , tending to a definite value with finite errors as the flux goes to zero .    </S>",
    "<S> this new definition is especially useful when considering the colors of faint objects , as the difference of two ` asinh ' magnitudes measures the usual flux ratio for bright objects , while avoiding the problems caused by dividing two very uncertain values for faint objects .    the sloan digital sky survey ( sdss ) data products will use this scheme to express all magnitudes in their catalogs . </S>"
  ]
}