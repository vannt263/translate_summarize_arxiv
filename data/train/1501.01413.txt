{
  "article_text": [
    "supernovae observations are typically interpreted as indicating an accelerated expansion of the universe @xcite .",
    "such interpretations , leading to the inclusion of a cosmological constant into the cosmological standard model , are predominantly based on redshift - distance relations valid only within the friedmann - lemaitre - robertson - walker ( flrw ) models @xcite . since the universe is not exactly homogeneous and isotropic , it is important to know how deviations from an exact flrw universe affect light propagation . by using exact inhomogeneous solutions to einstein s equation it has _",
    "e.g _ been shown that inhomogeneities can affect light propagation such that it may look as though the universe is undergoing an accelerated expansion even though it is not ( see _ e.g. _ @xcite ) .",
    "as of yet , no convincing results have been obtained indicating that this is in fact what happens in the real universe though . on the contrary actually , studies indicate that randomization and statistical averaging diminishes any deviations from flrw results @xcite .",
    "even if inhomogeneities can not explain the seeming accelerated expansion of the universe , being able to quantify even small effects may be important for parameter determinations based on observations made in an era of precision cosmology .",
    "newtonian n - body simulations are an important tool for studying structure formation and are widely accepted as giving a correct description of the structure formation going on in the real universe .",
    "comparing results from n - body simulations with observations is thus essential for using survey data to put restrictions on cosmological parameters determining the standard model of cosmology .",
    "unfortunately , newtonian mechanics can not be used to study exact general relativistic light propagation since this requires knowledge of the exact metric .",
    "typically , light propagation through an n - body simulation is thus studied through ray tracing techniques ( see _ e.g. _ @xcite ) , where bundles of light are propagated through a simulation box via the background metric . if at all , only at a discrete number of lens planes is the light deflected based on linearized relativistic gravity .",
    "several improvements of the basic ray tracing scheme have been developed and the accuracy of the methods have been studied through different approximation schemes ( see _ e.g. _ @xcite ) . for example , in @xcite the standard ray - bundle method ( see _ e.g. _ @xcite ) was sought improved by using the first order metric , rather than the background metric , to describe null - geodesics . in an era of precision cosmology , it is pertinent to know exactly to what extent theoretical predictions of light propagation through an n - body simulation can be trusted and the work presented here is another step towards that goal .",
    "in @xcite it is argued that the perturbed metric in the longitudinal gauge gives a good description of the metric of the universe . a dictionary giving a recipe for going between newtonian n - body results and this metric is also given .",
    "the work presented here is based on that recipe .",
    "several versions of the recipe are given in @xcite , varying from the most simple form to a very involved `` oxford '' version .",
    "the version which in @xcite is denoted the abridged version is the one which is used here because it is that version which is most compatible with standard ray tracing techniques - and it is the simplest of the recipe versions to use with n - body simulation data .",
    "the metric is then simply the usual first order metric in the newtonian gauge with the potential and velocity fields being those obtained directly from an n - body simulation .",
    "the compatibility between a first order perturbed metric and the metric of the real universe is not clear .",
    "it is advocated in _",
    "e.g. _ @xcite that it can be used , while others show more skepticism and _ e.g. _ point out dangers with using perturbation theory to justify itself ( see _ e.g _ @xcite ) . since the perturbed flrw metric in the newtonian gauge combined with versions of the recipe of @xcite are typically the basis of ray tracing through n - body simulations , it is important to study how accurate the use of this recipe really is .",
    "in order to do this , the metric and dictionary described above will be used to derive a set of odes which can be solved to obtain distance - redshift relations in the corresponding spacetime . to study the accuracy of the obtained relation ,",
    "the odes are used on mock n - body data constructed from quasi - spherical szekeres models @xcite under the standard assumption that newtonian n - body simulations accurately reproduce relativistic structure formation .",
    "since the quasi - spherical szekeres models are exact solutions to einstein s field equations , the exact distance - redshift relations of these models can be obtained and compared with those obtained by using the recipe .",
    "there are several reasons for choosing the quasi - spherical szekeres models for the accuracy checking of the odes .",
    "first of all , the quasi - spherical szekeres models are counted amongst the most realistic cosmologically relevant exact known solutions to einstein s equations .",
    "further more , the spherically symmetric limit of the quasi - spherical szekeres models , the lemaitre - tolman - bondi ( ltb ) models , are known to be reproducible by newtonian n - body simulations @xcite .",
    "thus , checking the odes with ltb models gives both a check of reproducing light propagation through exact non - linear relativistically evolving structures and through structures evolving according to newtonian n - body simulations .",
    "it is not surprising that ltb models are reproducible by newtonian mechanics since they are spherically symmetric and their structure formation is scale invariant .",
    "it is to obtain slightly more generality that also the non - symmetric quasi - spherical szekeres models are used in the comparison .",
    "the non - symmetric szekeres models show significantly more growth of structure than ltb models @xcite and whether or not these can be reproduced by n - body simulations is still unknown but is the subject of ongoing work of one of the current authors .",
    "it should be noted that the perturbed flrw metric is diagonal while the szekeres metric is non - diagonal in spherical coordinates .",
    "this immediately implies a shortcoming of the newtonian gauge metric .",
    "however , there is no reason to expect the local metric of cluster - void structures in the real universe to be diagonal .",
    "hence , the non - diagonal metric of the szekeres model may actually be considered a strength for the purpose of the study .",
    "in this section , the odes needed to obtain the angular diameter distance @xmath1 in the newtonian gauge are given .",
    "the odes are obtained following the procedure presented in @xcite .",
    "the onset of deriving the sought equations is the metric .",
    "since szekeres models are dust models , the anisotropic stress vanishes and the perturbed flrw metric in the newtonian gauge can be written using a single perturbation field @xmath2 :    @xmath3    the metric is assumed to be exactly described in this form and will be referred to as the newtonian gauge metric . it should be stressed , that though the metric above looks like a perturbed flrw metric in the newtonian gauge , there is a small difference : the above metric is an attempt to obtain a relativistic description of the `` underlying '' relativistic spacetime corresponding to a newtonian n - body simulation . as such , according to the recipe of @xcite , the potential @xmath2 is to be obtained from the exact , non - linear density field from the corresponding n - body simulation , and not through perturbation theory .",
    "this point will be revisited in section [ section_mapping ] . as implied in the expression for the line element above , spherical coordinates",
    "have been used for this work . by writing the metric functions as @xmath4 ,",
    "the equations derived below are written in a generic form so that they are valid with any coordinate choice and actually any spacetime as long as the metric is diagonal . in appendix",
    "[ gauge - appendix_sph ] , the equations are written in their full length in spherical coordinates using @xmath2 instead of @xmath4 .",
    "light moves along null - geodesics , so the geodesic equations are needed to describe the light paths . letting a dot denote differentiation with respect to the affine parameter @xmath5 , the geodesic equations can be written as :    @xmath6    @xmath7    @xmath8    @xmath9    subscripted commas followed by coordinates denote partial derivatives with respect to those coordinates .",
    "considering a light bundle with infinitesimal cross section @xmath10 and solid angle element @xmath11 , an ode for @xmath12 can be obtained as follows ( see _ e.g. _ @xcite ) :    @xmath13    @xmath14 denotes the optical expansion scalar ( see _ e.g. _ @xcite ) and a subscripted semi - colon followed by a coordinate denotes covariant differentiation with respect to that coordinate .",
    "summation over repeated indexes is implied , with greek indexes running over @xmath15 and latin indexes running over @xmath16 . inserting the appropriate christoffel symbols ( see appendix [ gauge - appendix_sph ] ) into this equation ,",
    "the following ode is obtained : @xmath17 once this expression has been used to obtain @xmath12 along a geodesic , the luminosity distance can be found as @xmath18 and from this the apparent magnitude etc . can be obtained . from equation ( [ da ] )",
    "it is apparent that @xmath19 and @xmath20 are needed and these are obtained by solving the odes that appear when taking the partial derivatives of the geodesic equations :    @xmath21    @xmath22    @xmath23    @xmath24    in order to ensure that the geodesics described by the above equations are null - geodesics , the null condition and its partial derivatives shown below can be used to set the initial conditions :    @xmath25    @xmath26    the objective of this work is to asses the accuracy of the equations presented above when applied to n - body data . in order to do this ,",
    "the exact relativistic spacetime corresponding to the n - body data is needed .",
    "the study is thus conducted by constructing mock n - body data corresponding to a quasi - spherical szekeres model and its underlying ltb model .",
    "the above equations are solved with the potentials corresponding to these two `` data sets '' .",
    "the results are then compared to those obtained by solving the equivalent odes derived from the actual metrics of these models .",
    "in this section , the quasi - spherical szekeres models are introduced and the odes needed to obtain @xmath1 in these models are given . at the end of the section , the relation between the szekeres models and the newtonian gauge metric is discussed .",
    "the szekeres models @xcite is a family of exact , inhomogeneous dust solutions to the einstein equations which in their general form have no killing vectors @xcite .",
    "a typical coordinate system to describe the szekeres metric in , is the @xmath27-system related to the spherical coordinate system by a stereographic projection @xcite : and @xmath28 of the szekeres metric will notationally not be distinguished from the coordinates of the newtonian gauge metric .",
    "the coordinates of these two spacetimes are _ not _ the same though and mappings between the coordinate systems are discussed in section [ section_mapping ] . ]",
    "@xmath29    the functions @xmath30 and @xmath31 are defined below .",
    "the @xmath27 coordinate system is particularly useful since it renders the metric diagonal :    @xmath32    in a general szekeres model , @xmath33 is given as @xmath34 , where @xmath35 and @xmath36 are continuous but otherwise arbitrary functions of @xmath37 , and @xmath38 .",
    "the quasi - spherical szekeres models with @xmath39 reduce to ltb models when @xmath30 and @xmath31 are constant functions .",
    "only the quasi - spherical szekeres models are considered in the following . inserting the metric corresponding to the line element ( [ eq : line_elemet ] ) into einstein s equation for a dust - filled universe containing a cosmological constant leads to the following two equations : @xmath40 @xmath41",
    "the function @xmath42 appearing in these equations is a temporal integration constant depending on the radial coordinate and corresponds to the effective gravitational mass at comoving radial coordinate @xmath37 .",
    "the procedure that has been used for obtaining specific models follows that introduced by k. bolejko and described in _",
    "e.g _ @xcite .",
    "this method starts by specifying an ltb model with a density distribution that is later altered through appropriate choices of the dipole functions @xmath43 and @xmath36 to create non - symmetric models .",
    "below , a vanishing cosmological constant and @xmath44 is assumed .",
    "equation ( [ eq : friedmann ] ) can be written as an integral equation : @xmath45 here , only models with a constant time of the big bang will be used , and the constant value will be set equal to zero , _",
    "i.e. _ @xmath46 . introducing a parameter @xmath47 , the solution to the integral equation",
    "can then be written in parametric form as : @xmath48 in the following , the term `` background model '' is used for denoting the flrw model that the ltb model tends to at @xmath49 . in the models studied here ,",
    "the background model is the einstein de - sitter ( eds ) model .",
    "the coordinate covariance in @xmath37 is eliminated by setting @xmath50 , where @xmath51 is the time of last scattering in the background model determined by a background redshift @xmath52 of @xmath53 . to specify the ltb model completely ,",
    "only one more function is needed . here",
    ", that function is chosen to be @xmath54 . in order to specify @xmath55 , the function",
    "is split into two parts by writing @xmath56 .",
    "the latter term corresponds to a background term such that @xmath57 , where @xmath58 is the time dependent density parameter of the background model with density @xmath59 .",
    "@xmath60 is determined by choosing the desired initial density field .",
    "this is done by splitting the density into a background part and a `` perturbation '' and writing equation ( [ eq : density ] ) in the ltb limit as : @xmath61 since @xmath55 is time - independent , this equation can be integrated at @xmath62 to obtain @xmath55 once @xmath63 has been specified .",
    "when this is done , equation ( [ a_of_etha ] ) can be solved for @xmath64 at @xmath62 and afterwards it can be solved at any time @xmath65 to obtain @xmath66 .",
    "the models used here are specified by @xmath67 with @xmath68 , @xmath69 and @xmath70 as defined in equation ( [ eq : density ] ) .",
    "this corresponds to a void with an approximate present time diameter of @xmath71 .",
    "the present time void profile in physical coordinates can be fitted well to the formula given in @xcite which describes spherically averaged void profiles according to newtonian n - body simulations ( based on a @xmath72cdm background though ) . aside from the ltb model , also a szekeres model with no symmetries has been studied .",
    "this non - symmetric model is constructed by using the dipole functions defined by @xmath73 , @xmath74 and @xmath75 .",
    "this choice leads to an overdensity peaking with a density contrast @xmath76 of approximately @xmath77 at present time , @xmath78 .",
    "2d present time density profiles of the ltb and szekeres models are shown in figures [ ltb_density_2d ] and [ density_2d ] .",
    "a complete set of odes appropriate for studying redshift - distance relations in szekeres models was derived in @xcite .",
    "the coordinate system used there was the @xmath27 coordinate system . for the purpose of this work",
    "it was found convenient to follow the procedure presented in @xcite and re - derive the equations for quasi - spherical szekeres models in spherical coordinates .",
    "the line element of the quasi - spherical szekeres model in spherical coordinates is : @xmath79dr^2 + 2\\frac{a^2}{e^2}s\\cot(\\frac{\\theta}{2})[q_{,r}\\cos(\\phi)-\\\\ \\tilde p_{,r}\\sin(\\phi ) ] drd\\phi -2\\frac{a^2}{e } [ q_{,r}\\sin(\\phi)+\\tilde p_{,r}\\cos(\\phi)+\\\\ s_{,r}\\cot(\\frac{\\theta}{2})]drd\\theta + a^2d\\theta^2 + a^2\\sin^2(\\theta)d\\phi^2 \\end{split}\\ ] ] the line element written in this form can also be found in",
    "@xcite . for convenience ,",
    "a simplifying notation for the metric functions is used in the following and the odes will be given in a notation corresponding to the line element written as : @xmath80 the definition of the metric functions @xmath81 is seen by comparing equations ( [ line_element_sph ] ) and ( [ line_element_short ] ) . in spherical coordinates @xmath33",
    "is given by @xmath82 while @xmath83}{s}$ ] .",
    "using the above metric it is straight forward to obtain the geodesic equations in the spherical coordinate system : @xmath84=0\\ ] ] @xmath85=0 \\end{split}\\ ] ] @xmath86=0 \\end{split}\\ ] ] @xmath87=0 \\end{split}\\ ] ] as with the newtonian gauge metric , these equations must be differentiated in order to obtain odes for @xmath19 and @xmath20 which are needed in the expression for @xmath12 .",
    "the resulting equations are : @xmath88 = 0 \\end{split}\\ ] ] @xmath89 = 0 \\end{split}\\ ] ] @xmath90 = 0 \\end{split}\\ ] ] @xmath91 = 0 \\end{split}\\ ] ] inserting the appropriate christoffel symbols ( given in appendix [ szekeres - appendix ] ) into equation ( [ eq : daalpha ] ) , the following differential equation for the angular diameter distance is obtained : @xmath92 this equation is solved simultaneously with the 24 odes for the @xmath93 s and their derivatives",
    ". the last set of equations needed are again the null - condition and its partial derivatives .",
    "these equations are used when setting the initial conditions and for checking the accuracy of the code . in spherical coordinates ,",
    "the null - condition is given by : @xmath94 taking the partial derivative of this equation one obtains : @xmath95 the equations given above are shown in expanded form in appendix [ szekeres - appendix ] together with comments on initial conditions .      in this section , the subscripts `` @xmath96 '' denotes szekeres coordinates including ltb coordinates while the subscript @xmath97 is used for specifying ltb coordinates .",
    "the subscript `` @xmath98 '' denotes newtonian gauge coordinates and the subscript `` @xmath99 '' is used for denoting coordinates on the unperturbed flrw background .",
    "a tilde will be used to denote coordinates of fiducial spacetime points .",
    "the numerical values of coordinates are of no physical value . instead , the physically relevant quantities are proper distances , and these are determined by the metric .",
    "in order for two spacetimes to be considered equivalent , a map between their coordinates must thus be constructed such that proper distances are equal in the two spacetimes .",
    "it could seem , that the appropriate point identification map in this case is between the szekeres and newtonian gauge spacetimes and this would indeed also lead to an interesting study .",
    "however , the recipe of @xcite is for going between the newtonian gauge metric and an n - body simulation with its underlying flrw metric .",
    "the intent here is to see how well the recipe describes the `` true '' underlying relativistic spacetimes corresponding to density and velocity fields obtained from n - body simulations .",
    "this is done by studying the newtonian gauge metric s ability to accurately describe light propagation .",
    "such a study requires the knowledge of the `` true '' underlying spacetime of the considered n - body fields .",
    "thus , mock n - body data is constructed by mapping szekeres models into their background flrw models .",
    "the mapped szekeres model s density profile and the velocity field obtained through the mapping comprise mock n - body data . as in regular perturbation theory , the newtonian gauge metric",
    "is then assigned the same coordinate system as that of the flrw background of the `` n - body data '' .",
    "both the velocity and density fields of ltb models can be reproduced by n - body simulations when using initial conditions based on the maps described below . as mentioned in the introductory section",
    ", it is still work in progress to show that this is also the case for non - symmetric szekeres models .",
    "following the standard consensus , it is here assumed that newtonian n - body simulations accurately reproduce structure formation in accordance with general relativity . in particular , it is thus assumed that non - symmetric quasi - spherical szekeres models _ are _ reproducible by newtonian n - body simulations . following @xcite , the point identification map between flrw and ltb coordinates",
    "is defined by the requirement of equal proper radial distances in the two spacetimes . letting @xmath100 denote components of the metric tensor",
    ", the identification between comoving coordinates in the two spacetimes is thus given by the four equations : @xmath101 these equations yield a mapping @xmath102 .",
    "note that since the big bang time in equation ( [ bigbangtime ] ) is zero , the time coordinates of the two spacetimes are the same .",
    "note also , that the spherical symmetry about the origin of the ltb model implies that the angular coordinates of the ltb and flrw metric are the same .",
    "the non - symmetric szekeres metric is non - diagonal in spherical coordinates while the flrw metric is diagonal .",
    "a point identification map in spherical coordinates does thus not capture the complete anisotropy of the szekeres model .",
    "as shown in equation ( [ eq : line_elemet ] ) the general szekeres metric is diagonal in stereographic coordinates defined by equation ( [ stereo ] ) .",
    "the appropriate point identification map between the non - symmetric szekeres spacetime and the flrw spacetime is thus defined in stereographic coordinates : @xmath103 in this equation , @xmath104 is the @xmath105-component of the szekeres metric in stereographic coordinates while @xmath106 was the @xmath105-component of the ltb metric in spherical coordinates .",
    "the @xmath105-component of the flrw metric is the same in spherical and stereographic coordinates as the flat flrw metric in stereographic coordinates is given by : @xmath107 the function @xmath108 in this line element is defined by @xmath109 which in spherical coordinates corresponds to @xmath110 .",
    "the stereographic flrw coordinates are related to the spherical flrw coordinates by the transformation : @xmath111 combining the stereographic point identification map with the coordinate transformations of equations ( [ stereo ] ) and ( [ flrw_stereo ] ) , a point identification map between the spherical coordinate systems of the szekeres and flrw spacetimes is obtained .",
    "the stereographic coordinates of the szekeres model are related to the angular coordinates through an @xmath37-dependence but this is not the case for the flrw metric .",
    "this difference implies that the angular coordinates in the two spacetimes will not be identical .",
    "other point identification maps than the ones given above have been studied . in particular ,",
    "a map requiring equal proper distances along the @xmath112-coordinate directions instead of @xmath113 has been studied along with two maps in spherical coordinates . for the non - symmetric szekeres model",
    ", the maps do not yield the same results indicating a lack of exact compatibility between the flrw and general szekeres spacetimes .",
    "the map shown in equation ( [ stereo_map ] ) is used because it yields the best reproduction of the non - symmetric szekeres spacetime .",
    "[ [ peculiar - velocities - and - psi ] ] peculiar velocities and @xmath2 : + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    in the szekeres model , the observer is comoving and the redshift is given by @xmath114 , with a subscript @xmath115 referring to evaluation at the position of the present time observer . in the newtonian gauge spacetime ,",
    "dust is generally not comoving .",
    "following @xcite , the appropriate peculiar velocity field is proportional to @xmath116 with @xmath117 the local comoving spatial dust motion on the eds background / in the n - body simulation .",
    "the velocity field is normalized such that @xmath118 so the appropriate field is @xmath119 .",
    "the velocity field is needed in order to obtain the redshift along the geodesics using the general formula @xmath120 , with a subscript @xmath121 indicating the spacetime position of emission _",
    "i.e. _ @xmath122 etc",
    ". the comoving peculiar radial velocity @xmath123 is computed by taking the time derivative of the expression for the proper distance @xmath124 : @xmath125 the proper distance on the left hand side is computed in the szekeres / ltb spacetime at the appropriately mapped spacetime point .",
    "the angular velocities vanish in the ltb model because of the spherical symmetry about the origin .",
    "the angular velocities of the non - symmetric szekeres model do not vanish identically , but they are small and are only used in the formula for the redshift in which they are suppressed by @xmath126 .",
    "the angular velocities can thus be neglected .",
    "the potential @xmath127 is needed in order to solve the geodesic equations and for obtaining @xmath12 in the newtonian gauge .",
    "the potential is obtained by the usual poisson equation @xmath128 .",
    "this equation is solved in fourier space ( using fftw3 ) on a grid and the value of @xmath127 at a specific point is then obtained using quadri - linear interpolation .",
    "this method should approximately mimic how one would work with the potential from an n - body simulation .",
    "the overdensity is defined as @xmath129 and is obtained at spacetime points in the szekeres metric .",
    "the overdensity needed for obtaining @xmath127 is the corresponding overdensity of the mock n - body simulation so a mapping into the newtonian gauge spacetime is necessary .",
    "the overdensity @xmath130 at a newtonian gauge spacetime point @xmath131 is thus computed as @xmath132 , where @xmath133 is the szekeres spacetime point corresponding to @xmath134 according to the point identification map defined by equation ( [ map ] ) or ( [ stereo_map ] ) .",
    "the corresponding potential in the newtonian gauge spacetime , @xmath127 , is then computed from the poisson equation in the newtonian gauge spacetime .      in the previous subsection ,",
    "it was discussed how to construct a point identification map between the szekeres model and its flrw background in order to construct mock n - body data .",
    "this map is used for obtaining the metric potential @xmath2 and peculiar velocities of the newtonian gauge metric so that this metric describes the szekeres spacetime .",
    "another issue regarding the use of the two spacetimes is that they do not correspond to the same spacetime slicing since the szekeres metric is given in the comoving synchronous slicing of spacetime . in order to compare @xmath1 obtained from the newtonian gauge equations with the exact result , it must thus in principle undergo a gauge transformation to the comoving synchronous gauge .",
    "it is well known from linear relativistic perturbation theory that the differences in observable quantities in different gauges are negligible well within the horizon .",
    "the structures studied here have a present time diameter of approximately @xmath71 so the gauge transformation should not be necessary .",
    "a formal gauge transformation is performed anyway as a precaution .",
    "redshift perturbations are gauge dependent , but the redshift itself is a scalar _ i.e. _ coordinate invariant .",
    "since the value of the exact redshift is computed here , and not just the perturbation , no transformation of the redshift is thus necessary .",
    "the angular diameter distance is not gauge invariant ; it is the fraction of two infinitesimal areas and areas change under coordinate transformations .",
    "as will become apparent below , only the transformation of the time coordinate is needed to obtain a gauge transformation of the angular diameter distance .",
    "the transformation law between the time coordinates in the two coordinate systems is found by using the general coordinate transformation equation @xmath135 . inserting @xmath136 as the time - time component of the synchronous gauge metric tensor into the left hand side of this equation and inserting the newtonian gauge metric into the right hand side , yields the approximate transformation law : @xmath137 in this equation , @xmath138 and @xmath139 are the time coordinates in the newtonian and synchronous gauges respectively .",
    "the approximate result is the same as what one would obtain by using regular gauge transformation laws for going between the newtonian gauge and a synchronous gauge ( see _ e.g. _ section 5.3 of @xcite ) . by using the first order euler equation in the spherically symmetric limit",
    "it is seen that @xmath140 which shows that the approximate result obtained here is also in agreement with that found in @xcite . using the simplified notation @xmath141 for the gauge transformation of @xmath142",
    ", a taylor expansion reveals the gauge transformation of the angular diameter distance : @xmath143 an over - bar is used for denoting background quantities and coordinates without a subscripted @xmath144 or @xmath31 are background coordinates . as before ,",
    "@xmath144 and @xmath31 denote coordinates in the newtonian and comoving synchronous gauge respectively , and @xmath121 denotes point of emission while @xmath115 denotes point of observation . using the mattig relation @xcite , @xmath145 $ ] , the gauge transformation law becomes : @xmath146   \\xi^t|_e - c\\xi^t|_0 \\end{split}\\ ] ]",
    "the system of odes presented in section [ section : da_newtonian ] are used to obtain @xmath1 along single geodesics in the ltb and non - symmetric szekeres models described by the newtonian gauge metric .",
    "afterwards , the exact @xmath1 relation is obtained by solving the set of odes given in section [ section : szekeres_geodesics ] . in order to compare the geodesics and the corresponding distance - redshift relations obtained with the two different sets of odes",
    ", the geodesics must of course be initialized equivalently .",
    "since the equations are solved backwards in time , this implies that the observer position and line of sight must be mapped from the newtonian gauge coordinate system to szekeres coordinates .",
    "the position of the observer is mapped using the maps of equation ( [ map ] ) or ( [ stereo_map ] ) .",
    "the line of sight of the observer is mapped by mapping the newtonian gauge geodesic into szekeres spacetime and computing a two point finite difference along the beginning of this geodesic .",
    "the two - point finite difference constitutes the initial conditions of @xmath147 and the initial condition of @xmath148 is obtained through the null - condition .",
    "a geodesic which is initialized as radial at the position of a central observer is radial in both spacetimes .",
    "no mapping of @xmath149 is necessary in this case since the results are frequency independent and @xmath148 and @xmath150 uniquely determine each other through the null - condition .",
    "the initial direction of the ray is determined by a set of angular coordinates @xmath151 which must be mapped though .      in figures [ ltb_da ] and [ ltb_da_nonrad ] ,",
    "@xmath1 is shown for a radial and a non - radial geodesic in the ltb model respectively .",
    "the radial geodesic corresponds to a central observer , while the observer is placed outside the void in the non - radial case . for the radial ray , there are only negligible differences between the curves obtained from solving the ode system based on the newtonian gauge metric and that based on the exact ltb metric . for the non - radial ray ,",
    "there is a slightly more noticeable difference between the distance - redshift relation obtained with the exact metric and that obtained with the newtonian gauge metric .",
    "this difference is presumably due to precision errors occurring when computing the initial values of @xmath152 in one spacetime from their values in the other spacetime . in the figures , @xmath1 is also shown after a transformation to the comoving synchronous gauge . clearly , this transformation is completely obsolete as was expected . in figures",
    "[ rho_ltb ] and [ rho_nonrad_ltb ] the density profiles along the rays are shown , where @xmath153 is the density contrast corresponding to the newtonian gauge spacetime while @xmath154 is the density contrast of the n - body simulation and @xmath155 the corresponding potential .",
    "@xmath155 is the potential perturbation appearing in the metric , while @xmath153 describes the density field of the spacetime . in the notation used here",
    ", @xmath154 corresponds to @xmath156 which was used to compute the potential .",
    "the difference between the two density fields of the dictionary is insignificant for the models studied here . ] .",
    "these are the same along the exact ltb rays and the newtonian gauge rays which shows that the rays in the two spacetimes follow equivalent spacetime paths .",
    "it is not surprising that the distance - redshift relation of the ltb model is reproduced by the perturbed flrw model in the newtonian gauge , as it has earlier been shown that the newtonian gauge describes the ltb spacetimes well @xcite .      in figure",
    "[ sz_da ] , the distance - redshift relation along a geodesic in the non - symmetric szekeres model is shown .",
    "the angular diameter distance is not as precisely reproduced by the newtonian gauge metric as in the ltb case , but the reproduction is still very good .",
    "the difference between the @xmath1 relations along the two rays is consistent with the newtonian gauge ray moving through slightly larger overdensity than the exact ray .",
    "this is in fact the case , as can be seen in figure [ rho_sz ] which shows the overdensities along the two geodesics . in figure [ sz_theta ]",
    "the polar angle along the two geodesics is shown .",
    "the geodesic is not bent in the newtonian gauge metric , but when mapping the angular coordinates into the szekeres coordinates , the geodesic is seen to correspond to a non - radial szekeres ray .",
    "the ray is not bent exactly as the exact ray though .",
    "the slight under - bending of the ray inside the void is consistent with its moving through a larger overdensity at the void edge and implies that the newtonian gauge ray and the exact ray do not move along exactly equivalent spacetime paths .",
    "similar results are obtained when studying rays in szekeres models with less anisotropy and smaller density contrasts , with the disagreement between the newtonian gauge and exact szekeres results becoming less as the level of anisotropy and overdensity are decreased .",
    "models with more anisotropy have not been studied . as with the ltb rays ,",
    "the gauge dependence of the distance - redshift relation along geodesics in the non - symmetric szekeres models is completely insignificant .",
    "the newtonian gauge metric corresponding to the recipe of @xcite was used to derive a set of odes that can be solved to obtain distance - redshift relations in the corresponding spacetime .",
    "the equations were used to obtain the angular diameter distance as a function of the redshift in mock n - body simulations based on quasi - spherical szekeres models .",
    "the validity of the recipe was then estimated by comparing with redshift - distance relations obtained by using the exact szekeres metric . in the spherically symmetric case , the distance - redshift relation obtained with the newtonian gauge metric and the exact metric of the model agreed .",
    "this is not surprising since others have earlier shown that ltb models after a gauge transformation at least approximately can be described as spherical perturbations on an flrw background .",
    "the results obtained here emphasize that it is futile to try to refute results obtained with ltb models by claiming that they are unreliable because of spurious gauge modes in the synchronous gauge ; it is a well known result from linear relativistic perturbation theory that observables have negligible gauge dependence on scales below the horizon .",
    "here it has been shown explicitly that this is specifically the case for distance - redshift relations in quasi - spherical szekeres models - even when the density contrast moves into the non - linear regime .",
    "for the non - radial geodesic in the non - symmetric szekeres model , there are small but definite differences between the geodesic paths and distance - redshift relations obtained with the two metrics .",
    "the ray appears not to being bent enough inside the void which leads it to move through a slightly larger density contrast than the exact ray .",
    "this again induces a slight difference in the distance - redshift relations obtained along the exact and newtonian gauge geodesics .",
    "versions of the studied recipe are the typical basis for ray tracing schemes .",
    "standard ray tracing methods do not include treating the newtonian gauge metric as exact though , and typically involve several different approximations .",
    "for example , a ray is typically not traced by the actual newtonian gauge geodesics , but is traced in the background flrw metric , possibly being bent at a finite number of lens planes .",
    "this may lead to results that are in less agreement with the exact results than what was obtained here .",
    "in addition , the small discrepancies between the exact and newtonian gauge rays found here may be cumulative though it seems just as likely that the effects will cancel each other if the rays move through several structures instead of just the one they moved through in this work . to study how accurate actual ray tracing techniques are in reproducing shear , magnification etc .",
    "in exact spacetimes , a study of quasi - spherical swiss cheese szekeres models is under way . if any shortcomings appear and especially if they are statistically robust , more accurate ray tracing techniques may need to be developed in order to meet the increasingly high precision of observations . in such a case ,",
    "exact inhomogeneous and anisotropic cosmologically relevant models seem like a good tool for general developments and tests of more accurate ray tracing methods _",
    "e.g _ by studying the use of more advanced metric approximations such as one based on a post - friedmann expansion ( see _ e.g. _ @xcite ) or the `` oxford '' dictionary in @xcite .",
    "we thank the anonymous referee for his / her suggestions which have led to significant improvements in the presentation of our work compared to the original manuscript .",
    "s. m. koksbang also acknowledges useful correspondence with mustapha ishak regarding the work presented in @xcite .",
    "parts of the numerical computations in this work have been done using computing resources from the center for scientific computing aarhus .",
    "in this appendix the set of odes used to obtain @xmath1 for perturbed flrw metrics in the newtonian gauge in spherical coordinates are given .",
    "the four geodesic equations are : @xmath157[(k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] @xmath158 [ ( k^{\\theta})^2 + \\sin^2(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] @xmath159 + \\\\ ( 1 - 2\\psi)a^2r^2\\sin(\\theta)\\cos(\\theta)(k^{\\phi})^2 \\end{split}\\ ] ] @xmath160 -\\\\",
    "c^2\\psi_{,\\phi}(k^t)^2 - \\psi_{,\\phi}a^2[(k^r)^2+r^2(k^{\\theta})^2+r^2\\sin^2(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] taking the partial temporal derivative of equation ( [ eq : kt_ng ] ) one obtains : @xmath161[k^rk^r_{,t } + \\\\",
    "r^2k^{\\theta}k^{\\theta}_{,t } + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,t } ] + [ \\psi_{,tt}a^2 + 4\\psi_{,t}aa_{,t } -\\\\",
    "( 1 - 2\\psi)(a_{,t}^2 + aa_{,tt})][(k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] the partial @xmath162 and @xmath28 derivatives of [ eq : kt_ng ] corresponds to the following three equations : @xmath163- 2c^2\\dot \\psi k^t_{,r } + c^2\\psi_{,tr}(k^t)^2 + \\\\ 2c^2\\psi_{,t}k^t_{,r}k^t + 2[\\psi_{,t}a^2 - ( 1 - 2\\psi)aa_{,t } ] [ k^rk^r_{,r } + r(k^{\\theta})^2 + \\\\",
    "r^2k^{\\theta}k^{\\theta}_{,r } + r\\sin^2(\\theta)(k^{\\phi})^2 + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,r } ] + [ \\psi_{,tr}a^2 + \\\\ 2\\psi_{,r}aa_{,t}][(k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] @xmath164 - 2c^2\\dot\\psi k^t_{,\\theta } + c^2\\psi_{,t\\theta}(k^t)^2+\\\\ 2c^2\\psi_{,t}k^tk^t_{,\\theta } + 2[\\psi_{,t}a^2 - ( 1 - 2\\psi)aa_{,t } ]   [ k^rk^r_{,\\theta }",
    "+ r^2k^{\\theta}k^{\\theta}_{,\\theta } + \\\\ r^2\\sin(\\theta)\\cos(\\theta)(k^{\\phi})^2 + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\theta } ] + [ \\psi_{,t\\theta}a^2 + \\\\   2\\psi_{,\\theta}aa_{,t } ] [ ( k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] @xmath165 - 2c^2\\dot{\\psi } k^t_{,\\phi}+c^2\\psi_{,t\\phi}(k^t)^2 + \\\\",
    "2c^2\\psi_{,t}k^tk^t_{,\\phi } + 2[\\psi_{,t}a^2 - ( 1 - 2\\psi)aa_{,t}][k^rk^r_{,\\phi } + \\\\ r^2k^{\\theta}k^{\\theta}_{,\\phi }",
    "+ r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\phi } ] + [ \\psi_{,t\\phi } a^2 + \\\\   2\\psi_{,\\phi}aa_{,t}][(k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta ) ( k^{\\phi})^2 ] \\end{split}\\ ] ] the partial derivatives of equation ( [ eq : kr_ng ] ) are : @xmath166\\dot k^r -\\\\   ( 1 - 2\\psi)a^2k^r_{,\\beta}k^{\\beta}_{,t } + 2[2aa_{,t}\\dot{\\psi } + a^2(\\psi_{,\\beta}k^{\\beta}_{,t } + \\\\ \\psi_{,t\\beta}k^{\\beta})]k^r + 2a^2\\dot\\psi k^r_{,t}-2[(1 - 2\\psi)(a_{,tt}a + \\\\",
    "a_{,t}^2 ) - 2\\psi_{,t}aa_{,t}]k^tk^r -   2(1 - 2\\psi)aa_{,t}(k^t_{,t}k^r + \\\\   k^tk^r_{,t } ) - c^2\\psi_{,tr}(k^t)^2- 2c^2\\psi_{,r}k^tk^t_{,t } -[2aa_{,t}\\psi_{,r } + \\\\ a^2\\psi_{,tr}](k^r)^2 - 2a^2\\psi_{,r}k^rk^r_{,t } + 2aa_{,t}r[(1 - 2\\psi)-r\\psi_{,r}][(k^{\\theta})^2 +",
    "\\\\ \\sin^2(\\theta)(k^{\\phi})^2 ] + 2a^2r[(1 - 2\\psi)-r\\psi_{,r}][k^{\\theta}k^{\\theta}_{,t } + \\\\ \\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,t } ] + a^2r[-2\\psi_{,t}-r\\psi_{,tr}][(k^{\\theta})^2 + \\sin^2(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] @xmath167 + 4\\psi_{,r}aa_{,t}k^tk^r -\\\\ 2(1 - 2\\psi)aa_{,t}[k^t_{,r}k^r + k^tk^r_{,r}]- c^2\\psi_{,rr}(k^t)^2 - 2c^2\\psi_{,r}k^tk^t_{,r } -\\\\",
    "a^2\\psi_{,rr}(k^r)^2 - 2a^2\\psi_{,r}k^rk^r_{,r}+ a^2[(1 - 2\\psi)-r\\psi_{,r}][(k^{\\theta})^2 + \\\\",
    "\\sin^2(\\theta)(k^{\\phi})^2 ] + a^2r[-3\\psi_{,r } -r\\psi_{,rr } ] [ ( k^{\\theta})^2 + \\\\   \\sin^2(\\theta)(k^{\\phi})^2 ] + 2ra^2[(1 - 2\\psi)-r\\psi_{,r}][k^{\\theta}k^{\\theta}_{,r } + \\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,r } ] \\end{split}\\ ] ] @xmath168 + 2a^2\\dot\\psi k^r_{,\\theta}-\\\\ 2(1 - 2\\psi)aa_{,t}[k^t_{,\\theta}k^r + k^tk^r_{,\\theta } ] + 4\\psi_{,\\theta}aa_{,t}k^tk^r -\\\\ c^2\\psi_{,r\\theta}(k^t)^2 - 2c^2\\psi_{,r}k^tk^t_{,\\theta } - a^2 \\psi_{,r\\theta}(k^r)^2 - 2a^2\\psi_{,r}k^rk^r_{,\\theta } + \\\\",
    "a^2r[-2\\psi_{,\\theta } - r\\psi_{,r\\theta}][(k^{\\theta})^2 + \\sin^2(\\theta)(k^{\\phi})^2 ] + 2a^2r[(1 - 2\\psi)-\\\\ r\\psi_{,r}][k^{\\theta}k^{\\theta}_{,\\theta } + \\sin(\\theta)\\cos(\\theta)(k^{\\phi})^2 + \\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\theta } ] \\end{split}\\ ] ] @xmath169 + 2a^2\\dot \\psi k^r_{,\\phi}-\\\\ 2(1 - 2\\psi)aa_{,t}(k^t_{,\\phi}k^r + k^tk^r_{,\\phi } ) + 4\\psi_{,\\phi}aa_{,t}k^tk^r -\\\\ c^2\\psi_{,r\\phi}(k^t)^2 - 2c^2\\psi_{,r}k^tk^t_{,\\phi } - a^2\\psi_{,r\\phi}(k^r)^2 - 2a^2\\psi_{,r}k^rk^r_{,\\phi}+\\\\ a^2r[-2\\psi_{,\\phi}-r\\psi_{,r\\phi}][(k^{\\theta})^2 + \\sin^2(\\theta)(k^{\\phi})^2 ] + \\\\",
    "2a^2r[(1 - 2\\psi ) - r\\psi_{,r}][k^{\\theta}k^{\\theta}_{,\\phi } + \\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\phi } ] \\end{split}\\ ] ] the partial derivatives of equation ( [ eq : ktheta_ng ] ) are : @xmath170 + 2r^2k^{\\theta}[2aa_{,t}\\dot{\\psi}+\\\\ a^2(\\psi_{,\\beta t } k^{\\beta } + \\psi_{,\\beta}k^{\\beta}_{,t } ) ] + 2a^2r^2\\dot\\psi k^{\\theta}_{,t}-2[(1 - 2\\psi)a_{,t}rk^{\\theta } -\\\\",
    "2ar\\psi_{,t}k^{\\theta } + ( 1 - 2\\psi)ark^{\\theta}_{,t}][ra_{,t}k^t + ak^r]-\\\\ 2(1 - 2\\psi)ark^{\\theta}[ra_{,tt}k^t + ra_{,t}k^t_{,t } + a_{,t}k^r + ak^r_{,t } ] -\\\\ c^2\\psi_{,t\\theta}(k^t)^2 -2c^2\\psi_{,\\theta}k^tk^t_{,t } - [ 2aa_{,t}\\psi_{,\\theta } + a^2\\psi_{,t\\theta}][(k^r)^2 +",
    "\\\\ r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2]-2a^2\\psi_{,\\theta}[k^rk^r_{,t } + r^2k^{\\theta}k^{\\theta}_{,t } + \\\\ r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,t } ] + 2r^2\\sin(\\theta)\\cos(\\theta)[(1 - 2\\psi)aa_{,t}(k^{\\phi})^2 -\\\\ \\psi_{,t}a^2(k^{\\phi})^2 + ( 1 - 2\\psi)a^2k^{\\phi}k^{\\phi}_{,t } ] \\end{split}\\ ] ] @xmath171 + 2a^2k^{\\theta}[2r\\dot{\\psi } + \\\\",
    "r^2(\\psi_{,r\\beta}k^{\\beta } + \\psi_{,\\beta}k^{\\beta}_{,r})]+ 2a^2r^2\\dot{\\psi}k^{\\theta}_{,r } -\\\\",
    "2a[k^{\\theta}(1 - 2\\psi ) -2r\\psi_{,r}k^{\\theta}+(1 - 2\\psi)rk^{\\theta}_{,r}][a_{,t}rk^t + ak^r]-\\\\ 2(1 - 2\\psi)ark^{\\theta}[a_{,t}k^t + ra_{,t}k^t_{,r } + ak^r_{,r } ] -c^2\\psi_{,\\theta r } ( k^t)^2-\\\\ 2c^2\\psi_{,\\theta}k^tk^t_{,r } - a^2\\psi_{,\\theta r}[(k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2 ] -\\\\",
    "2a^2\\psi_{,\\theta}[k^rk^r_{,r } + r(k^{\\theta})^2 + r^2k^{\\theta}k^{\\theta}_{,r}+\\\\ r\\sin^2(\\theta)(k^{\\phi})^2 + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,r } ] + 2a^2\\cos(\\theta)\\sin(\\theta)\\\\ [ r(1 - 2\\psi)(k^{\\phi})^2 -r^2\\psi_{,r}(k^{\\phi})^2 + ( 1 - 2\\psi)r^2k^{\\phi}k^{\\phi}_{,r } ] \\end{split}\\ ] ] @xmath172 +",
    "\\\\   2\\dot \\psi a^2r^2k^{\\theta}_{,\\theta } -2ar[(1 - 2\\psi)k^{\\theta}_{,\\theta } - 2\\psi_{,\\theta}k^{\\theta}][ra_{,t}k^t + ak^r ] -\\\\",
    "2ar(1 - 2\\psi)k^{\\theta}[ra_{,t}k^t_{,\\theta}+ ak^r_{,\\theta}]- c^2\\psi_{,\\theta\\theta}(k^t)^2 -\\\\ 2c^2\\psi_{,\\theta}k^tk^t_{,\\theta } - a^2\\psi_{,\\theta\\theta}[(k^r)^2 + r^2(k^{\\theta})^2 + \\\\ r^2\\sin^2(\\theta)(k^{\\phi})^2 ] - 2a^2\\psi_{,\\theta}[k^rk^r_{,\\theta } +   r^2k^{\\theta}k^{\\theta}_{,\\theta } + \\\\ r^2\\sin(\\theta)\\cos(\\theta)(k^{\\phi})^2 + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\theta } ] + \\\\   a^2r^2(k^{\\phi})^2 [ ( 1 - 2\\psi)(\\cos^2(\\theta)-\\sin^2(\\theta ) ) - 2\\psi_{,\\theta}\\sin(\\theta)\\cos(\\theta ) ] + \\\\ 2(1 - 2\\psi)a^2r^2\\sin(\\theta)\\cos(\\theta)k^{\\phi}k^{\\phi}_{,\\theta } \\end{split}\\ ] ] @xmath173 -\\\\ 2[(1 - 2\\psi)ark^{\\theta}_{,\\phi } - 2ar\\psi_{,\\phi}k^{\\theta}][ra_{,t}k^t + ak^{r } ] -\\\\ 2ar(1 - 2\\psi)k^{\\theta}[ra_{,t}k^t_{,\\phi }",
    "+ ak^r_{,\\phi}]- c^2\\psi_{,\\theta\\phi}(k^t)^2 -\\\\",
    "2c^2\\psi_{,\\theta}k^tk^t_{,\\phi } - a^2\\psi_{,\\theta\\phi}[(k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2 ] -\\\\",
    "2a^2\\psi_{,\\theta}[k^rk^r_{,\\phi } + r^2k^{\\theta}k^{\\theta}_{,\\phi } + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\phi}]-\\\\ 2a^2r^2\\psi_{,\\phi}\\sin(\\theta)\\cos(\\theta)(k^{\\phi})^2 + 2a^2r^2(1 - 2\\psi)\\sin(\\theta)\\cos(\\theta)k^{\\phi}k^{\\phi}_{,\\phi } \\end{split}\\ ] ] the four partial derivatives of equation ( [ eq : kphi_ng ] ) are : @xmath174 + \\\\ 2r^2\\sin^2(\\theta)[a^2k^{\\phi}(\\psi_{,\\alpha t}k^{\\alpha } + \\\\ \\psi_{,\\alpha}k^{\\alpha}_{,t } ) + 2aa_{,t}k^{\\phi}\\dot\\psi + a^2\\dot\\psi k^{\\phi}_{,t } ] -\\\\ 2r\\sin(\\theta)[(1 - 2\\psi)a_{,t}k^{\\phi } + ( 1 - 2\\psi)ak^{\\phi}_{,t } -\\\\",
    "2\\psi_{,t}ak^{\\phi}][a_{,t}k^tr\\sin(\\theta ) + a\\sin(\\theta)k^r + \\\\ ar\\cos(\\theta)k^{\\theta}]-2(1 - 2\\psi)ar\\sin(\\theta)k^{\\phi}[a_{,tt}k^tr\\sin(\\theta ) + \\\\",
    "a_{,t}k^t_{,t}r\\sin(\\theta ) + a_{,t}\\sin(\\theta)k^r + a\\sin(\\theta)k^r_{,t}+\\\\ a_{,t } r\\cos(\\theta)k^{\\theta } + ar\\cos(\\theta)k^{\\theta}_{,t}]-c^2\\psi_{,\\phi t}(k^t)^2 -\\\\ 2c^2\\psi_{,\\phi}k^tk^t_{,t } -[\\psi_{,t\\phi}a^2 + 2aa_{,t}\\psi_{,\\phi}][(k^r)^2 + \\\\",
    "r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2 ] - 2a^2\\psi_{,\\phi}[k^rk^r_{,t } + \\\\ r^2k^{\\theta}k^{\\theta}_{,t } + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,t } ] \\end{split}\\ ] ] @xmath175 + \\\\ 2a^2\\sin^2(\\theta)k^{\\phi}[2r\\dot \\psi + r^2(\\psi_{,r\\beta}k^{\\beta } + \\\\ \\psi_{,\\beta}k^{\\beta}_{,r})]+2\\dot \\psi a^2r^2\\sin^2(\\theta)k^{\\phi}_{,r } -\\\\ 2a\\sin(\\theta)[(1 - 2\\psi)k^{\\phi } -2\\psi_{,r}rk^{\\phi } + \\\\ ( 1 - 2\\psi)rk^{\\phi}_{,r}][a_{,t}k^tr\\sin(\\theta ) + a\\sin(\\theta)k^r + \\\\",
    "ar\\cos(\\theta)k^{\\theta } ] - 2(1 - 2\\psi)k^{\\phi}ar\\sin(\\theta)\\\\ [ a_{,t}k^t_{,r}r\\sin(\\theta)+a_{,t}k^t\\sin(\\theta ) + a\\sin(\\theta)k^r_{,r } + \\\\",
    "a\\cos(\\theta)k^{\\theta } + ar\\cos(\\theta)k^{\\theta}_{,r } ] -\\\\",
    "c^2\\psi_{,\\phi r}(k^t)^2 - 2c^2\\psi_{,\\phi}k^tk^t_{,r } - \\psi_{,r\\phi}a^2[(k^r)^2 + \\\\ r^2(k^{\\theta})^2 + \\\\",
    "r^2\\sin^2(\\theta)(k^{\\phi})^2]-\\\\ 2a^2\\psi_{,\\phi}[k^rk^r_{,r } + r(k^{\\theta})^2 + r^2k^{\\theta}k^{\\theta}_{,r } + \\\\ r\\sin^2(\\theta)(k^{\\phi})^2 + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,r } ] \\end{split}\\ ] ] @xmath176 + 2a^2r^2k^{\\phi}\\\\ [ 2\\dot \\psi \\sin(\\theta)\\cos(\\theta ) + \\sin^2(\\theta)(\\psi_{,\\beta\\theta}k^{\\beta } + \\psi_{,\\beta}k^{\\beta}_{,\\theta } ) ] + \\\\",
    "2\\dot\\psi a^2r^2\\sin^2(\\theta)k^{\\phi}_{,\\theta}- 2ar[(1 - 2\\psi)\\sin(\\theta)k^{\\phi}_{,\\theta } + \\\\ ( 1 - 2\\psi)k^{\\phi}\\cos(\\theta ) - 2\\psi_{,\\theta}k^{\\phi}\\sin(\\theta ) ] [ a_{,t}k^tr\\sin(\\theta ) + \\\\",
    "a\\sin(\\theta)k^r + ar\\cos(\\theta)k^{\\theta } ] - 2(1 - 2\\psi)k^{\\phi}ar\\sin(\\theta)\\\\ [ a_{,t } k^t_{,\\theta } \\sin(\\theta)r + a_{,t}k^t\\cos(\\theta)r + a\\cos(\\theta)k^r + a\\sin(\\theta)k^r_{,\\theta } + \\\\ ar\\cos(\\theta)k^{\\theta}_{,\\theta } - ar\\sin(\\theta)k^{\\theta}]- c^2\\psi_{,\\phi\\theta}(k^t)^2 - 2c^2\\psi_{,\\phi}k^tk^t_{,\\theta } -\\\\",
    "\\psi_{,\\phi\\theta}a^2[(k^r)^2 + r^2(k^{\\theta})^2 + \\\\",
    "r^2\\sin^2(\\theta)(k^{\\phi})^2 ] -2a^2\\psi_{,\\phi}[k^rk^r_{,\\theta } +   r^2k^{\\theta}k^{\\theta}_{,\\theta } + \\\\ r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\theta } + r^2\\sin(\\theta)\\cos(\\theta)(k^{\\phi})^2 ] \\end{split}\\ ] ] @xmath177-\\\\ 2ar\\sin(\\theta)[(1 - 2\\psi)k^{\\phi}_{,\\phi } - 2\\psi_{,\\phi}k^{\\phi}]\\\\ [ a_{,t}k^tr\\sin(\\theta ) + a\\sin(\\theta)k^r + ar\\cos(\\theta)k^{\\theta}]-\\\\ 2(1 - 2\\psi)k^{\\phi}ar\\sin(\\theta)[a_{,t}r\\sin(\\theta)k^t_{,\\phi } + \\\\",
    "a\\sin(\\theta)k^r_{,\\phi } + ar\\cos(\\theta)k^{\\theta}_{,\\phi}]- c^2\\psi_{,\\phi\\phi}(k^t)^2-\\\\ 2c^2\\psi_{,\\phi}k^tk^t_{,\\phi } - \\psi_{,\\phi\\phi}a^2[(k^r)^2 + r^2(k^{\\theta})^2 + \\\\",
    "r^2\\sin^2(\\theta)(k^{\\phi})^2]- 2a^2\\psi_{,\\phi}[k^rk^r_{,\\phi } + r^2k^{\\theta}k^{\\theta}_{,\\phi } + \\\\ r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\phi } ] \\end{split}\\ ] ] the christoffel symbols needed to obtain @xmath12 are : @xmath178 using the christoffel symbols , the following differential equation for the angular diameter distance is obtained : @xmath179 when setting the initial conditions , the null - condition and its partial derivatives are used to ensure that the geodesic will be null . the null - condition and its derivatives",
    "are also used for checking the accuracy of the numerical computations .",
    "the null - condition is : @xmath180 = 0 \\end{split}\\ ] ] the four partial derivatives are : @xmath181[(k^r)^2 + r^2(k^{\\theta})^2 + r^2\\sin^2(\\theta)(k^{\\phi})^2]+\\\\ 2(1 - 2\\psi)a^2[k^rk^r_{,t } + r^2k^{\\theta}k^{\\theta}_{,t } + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,t } ] = 0 \\end{split}\\ ] ] @xmath182 + 2(1 - 2\\psi)a^2[k^rk^r_{,r } + r(k^{\\theta})^2 + \\\\",
    "r^2k^{\\theta}k^{\\theta}_{,r } + r\\sin^2(\\theta)(k^{\\phi})^2 + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,r}]=0 \\end{split}\\ ] ] @xmath183 + 2(1 - 2\\psi)a^2(k^rk^r_{,\\theta } + r^2k^{\\theta}k^{\\theta}_{,\\theta } + \\\\",
    "r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\theta } + r^2\\cos(\\theta)\\sin(\\theta)(k^{\\phi})^2)=0 \\end{split}\\ ] ] @xmath184 + 2(1 - 2\\psi)a^2[k^rk^r_{,\\phi } + \\\\ r^2k^{\\theta}k^{\\theta}_{,\\phi } + r^2\\sin^2(\\theta)k^{\\phi}k^{\\phi}_{,\\phi } ] = 0 \\end{split}\\ ] ] for an observer placed at the origin , the initial conditions must be in accordance with a radial null - geodesic . aside from the trivial constraints this sets on the initial conditions , two constraints are worth mentioning .",
    "first , the initial condition of @xmath185 should be determined from the following expression : @xmath186_{,t}k^t = \\\\ -\\frac{1}{2}\\left [ 3\\frac{t_{,t}}{t } + \\frac{r_{,t}}{r}\\right]k^t =   \\left [ \\frac{-3\\psi_{,t}}{1 + 2\\psi } + \\frac{\\psi_{,t}}{1 - 2\\psi}-\\frac{a_{,t}}{a}\\right ] k^t \\end{split}\\ ] ] the initial condition of @xmath187 is determined from the partial @xmath37-derivative of the null - condition with @xmath188 , _",
    "i.e. _ @xmath189 . see _ e.g. _",
    "@xcite for details on how these initial conditions can be derived .",
    "in this appendix , the odes used to obtain @xmath1 in quasi - spherical szekeres models are given in expanded form ( in spherical coordinates ) .",
    "the odes are solved by using a gsl ode solver . in order to do this ,",
    "it is necessary to eliminate @xmath190 and @xmath191 from equation ( [ eq : geod1 ] ) and @xmath192 and @xmath193 from equation ( [ eq : radius ] ) .",
    "this yields two new equations which are given below .",
    "the first equation is obtained by using equations ( [ eq : geod2 ] ) and ( [ eq : geod3 ] ) to eliminate @xmath190 and @xmath191 in equation ( [ eq : geod1 ] ) .",
    "the resulting equation is : @xmath194=0 \\end{split}\\ ] ] equivalently , equations ( [ eq : theta ] ) and ( [ eq : phi ] ) are used to eliminate @xmath192 and @xmath193 from equation ( [ eq : radius ] ) to obtain : @xmath195 inserting @xmath196 into equations ( [ eq : time ] ) , ( [ eq : theta ] ) , ( [ eq : phi ] ) and the equation above , gives 16 odes for @xmath197 .",
    "the four equations for @xmath198 above are ( expanding the @xmath70-sums ) : @xmath199 @xmath200 @xmath201 @xmath202 the four equations corresponding to equation ( [ eq : time ] ) are : @xmath203 -\\\\ \\frac{1}{c^2}[\\frac{1}{2 } r_{,tt } ( k^r)^2+r_{,t } k^r k^r_{,t } + \\frac{1}{2 } f_{,tt } ( k^{\\theta})^2+f_{,t } k^{\\theta } k^{\\theta}_{,t}+\\\\   \\frac{1}{2 } p_{,tt } ( k^{\\phi})^2+p_{,t}k^{\\phi}k^{\\phi}_{,t}+ \\phi_{,tt}k^rk^{\\phi}+\\phi_{,t}(k^{\\phi}_{,t}k^r+\\\\ k^{\\phi}k^r_{,t})+\\theta_{,tt}k^{\\theta}k^r+\\theta_{,t}(k^{\\theta}_{,t}k^r+k^{\\theta}k^r_{,t } ) ] \\end{split}\\ ] ] @xmath204 -\\\\ \\frac{1}{c^2}[\\frac{1}{2 } r_{,tr } ( k^r)^2+r_{,t } k^r k^r_{,r } + \\frac{1}{2 } f_{,tr } ( k^{\\theta})^2+f_{,t } k^{\\theta } k^{\\theta}_{,r}+\\\\ \\frac{1}{2 } p_{,tr } ( k^{\\phi})^2 + p_{,t}k^{\\phi}k^{\\phi}_{,r}+\\phi_{,tr}k^rk^{\\phi}+\\phi_{,t}(k^{\\phi}_{,r}k^r+\\\\ k^{\\phi}k^r_{,r})+\\theta_{,tr}k^{\\theta}k^r+ \\theta_{,t}(k^{\\theta}_{,r}k^r+k^{\\theta}k^r_{,r } ) ] \\end{split}\\ ] ] @xmath205 -\\\\ \\frac{1}{c^2}[\\frac{1}{2 } r_{,t\\theta } ( k^r)^2+r_{,t } k^r k^r_{,\\theta } + f_{,t } k^{\\theta } k^{\\theta}_{,\\theta}+ \\\\ \\frac{1}{2 } p_{,t\\theta } ( k^{\\phi})^2+p_{,t}k^{\\phi}k^{\\phi}_{,\\theta}+\\phi_{,t\\theta}k^rk^{\\phi}+\\phi_{,t}(k^{\\phi}_{,\\theta}k^r+\\\\ k^{\\phi}k^r_{,\\theta})+\\theta_{,t\\theta}k^{\\theta}k^r+\\theta_{,t}(k^{\\theta}_{,\\theta}k^r+k^{\\theta}k^r_{,\\theta } ) ] \\end{split}\\ ] ] @xmath206 -\\\\ \\frac{1}{c^2}[\\frac{1}{2 } r_{,t\\phi } ( k^r)^2+r_{,t } k^r k^r_{,\\phi } + f_{,t } k^{\\theta } k^{\\theta}_{,\\phi}+ \\\\ p_{,t}k^{\\phi}k^{\\phi}_{,\\phi}+\\phi_{,t\\phi}k^rk^{\\phi}+\\phi_{,t}(k^{\\phi}_{,\\phi}k^r+\\\\ k^{\\phi}k^r_{,\\phi})+\\theta_{,t\\phi}k^{\\theta}k^r+\\theta_{,t}(k^{\\theta}_{,\\phi}k^r+k^{\\theta}k^r_{,\\phi } ) ] \\end{split}\\ ] ] equation ( [ eq : theta ] ) has been used to obtain @xmath192 . inserting @xmath207 the following four equations for @xmath192",
    "are obtained : @xmath208 \\end{split}\\ ] ] @xmath209 \\end{split}\\ ] ] @xmath210 \\end{split}\\ ] ] @xmath211 \\end{split}\\ ] ] isolating @xmath193 in equation ( [ eq : phi ] ) and inserting @xmath212 leads to the following four equations : @xmath213 \\end{split}\\ ] ]          the christoffel symbols needed in the ode for @xmath12 are : @xmath217 the initial conditions are set using considerations analogous to those made in section v b of @xcite .",
    "the result is that @xmath218 initially , while the remaining @xmath219 are zero or determined from the partial derivatives of the null - condition .",
    "brian p. schmidt et al . , _ the high - z supernova search : measuring cosmic deceleration and global curvature of the universe using type ia supernovae_,astrophys.j . 507 ( 1998 ) 46 - 63 , arxiv : astro - ph/9805200v1      marie - noelle celerier , krzysztof bolejko , andrzej krasinski , _ a ( giant ) void is not mandatory to explain away dark energy with a lemaitre - tolman model _",
    "astrophys.518:a21 , 2010 , arxiv:0906.0905v5 [ astro-ph.co ]      mustapha ishak , james richardson , david garred , delilah whittington , anthony nwankwo , roberto sussman , _ dark energy or apparent acceleration due to a relativistic cosmological model more complex than flrw ? _ , phys.rev.d78:123531,2008 , arxiv:0708.2943v2 [ astro - ph ]    r. ali vanderveld , eanna e. flanagan , ira wasserman , _ luminosity distance in `` swiss cheese '' cosmology with randomized voids : i. single void size _ , phys.rev.d78:083511,2008 , arxiv:0808.1080v2 [ astro - ph ]                    fluke , c. j. , webster , r. l. and mortlock , d. j. ( 1999 ) , the ray - bundle method for calculating weak magnification by gravitational lenses .",
    "monthly notices of the royal astronomical society , 306 : 567574 , arxiv : astro - ph/9812300v1              k. bolejko , _ evolution of a void and an adjacent galaxy supercluster in the quasispherical szekeres model _ , proceedings of the eleventh marcel grossmann meeting on general relativity , edited by h. kleinert , r.t .",
    "jantzen and r. ruffini , world scientific , singapore , 2008 , arxiv:0804.1828v1 ( 2008 )              c. hellaby and a. krasinski , _ you ca nt get through szekeres wormholes - or - regularity , topology and causality in quasi - spherical szekeres models _ , phys.rev.d66:084011,2002 , arxiv : gr - qc/0206052v4 ( 2002 )    nico hamaus , p.m. sutter , benjamin d. wandelt : _ modeling cosmic void statistics _ , arxiv:1409.7621v1 [ astro-ph.co ] , proceedings of the iau symposium 308 `` the zeldovich universe : genesis and growth of the cosmic web '' , 23 - 28 june 2014 , tallinn , estonia"
  ],
  "abstract_text": [
    "<S> it is proposed to use exact , cosmologically relevant solutions to einstein s equations to accurately quantify the precision of ray tracing techniques through newtonian n - body simulations . as an initial example of such a study </S>",
    "<S> , the recipe in ( green @xmath0 wald , 2012 ) for going between n - body results and a perturbed flrw metric in the newtonian gauge is used to study light propagation through quasi - spherical szekeres models . </S>",
    "<S> the study is conducted by deriving a set of odes giving an expression for the angular diameter distance in the newtonian gauge metric . </S>",
    "<S> the accuracy of the results obtained from the odes is estimated by using the odes to determine the distance - redshift relation in mock n - body data based on quasi - spherical szekeres models . </S>",
    "<S> the results are then compared to the exact relations . from this comparison </S>",
    "<S> it is seen that the obtained odes can accurately reproduce the distance - redshift relation along both radial and non - radial geodesics in spherically symmetric models . </S>",
    "<S> the reproduction of geodesics in non - symmetric szekeres models is slightly less accurate , but still good . </S>",
    "<S> these results indicate that the employment of perturbed flrw metrics for standard ray tracing techniques yields fairly accurate results , at least regarding distance - redshift relations . </S>",
    "<S> it is possible though , that this conclusion will be rendered invalid if other typical ray tracing approximations are included and if light is allowed to travel through several structures instead of just one . </S>"
  ]
}