{
  "article_text": [
    "quantum theory prescribes probabilities for the outcomes of experiments composed in different configurations .",
    "this perspective can be made precise in the framework of generalized operational probabilistic theories @xcite , which has been shown to successfully formalize the informational structure of quantum theory . in its current form , however , this approach is based on the concept of operation with an input and an output system , which assumes a prior notion of time and is asymmetric under time reversal . but what is time and what specifies its direction ?",
    "physical intuition suggests that the fundamental laws of physics should not depend on a preferred direction of time .",
    "furthermore , in gravitational scenarios , time is expected to be dynamical and not predefined .",
    "is it possible to formulate an operational probabilistic framework for quantum theory without a prior notion of time and understand the emergence of a temporal structure within it ? in ref .",
    "@xcite , hardy proposed a general operational framework for theories with dynamical causal structure , but no concrete quantum formalism with indefinite causal structure has been developed from it so far .",
    "recent works have relaxed the assumption of global causal order between quantum operations @xcite , but they still assume a predefined causal structure locally .    here , we develop an operational probabilistic formulation of quantum theory that does not assume any predefined notion of time or causal structure .",
    "it is based on a generalization of the concept of operation motivated by an epistemic approach : an operation is a description of knowledge about the events in a given region , which can be updated conditionally on information obtained from that region .",
    "the region in question is an abstract region which can be figuratively thought of as an isolated box that exchanges information with the rest of the experiment only through specific boundary systems , which in the standard formulation are the usual input and output systems .",
    "starting from the circuit framework @xcite in a background time , the epistemic view leads us to a time - symmetric operational probabilistic formulation of quantum theory , in which any set of possible events from an input to an output system that can be obtained by an isolated procedure defines a valid operation .",
    "this includes standard operations , as well operations whose realization according to the known laws of quantum mechanics requires post - selection in addition to pre - selection . the empirical fact that only the class of standard operations can be realized without post - selection , which is captured by the causality axiom of chiribella , dariano , and perinotti @xcite , is not regarded as a fundamental rule in the present approach , but is seen as a consequence of the given dynamics and future boundary conditions . unlike the commonly studied generalized probabilistic theories ,",
    "this theory is not convex , but it provides a consistent description of physics in line with the adopted epistemic point of view .",
    "we analyze in detail its symmetry under time reversal , taking into account the new notions of states , effects , and transformations .",
    "we derive a generalization of wigner s theorem @xcite , which , unlike the traditional formulation , is based on preservation of probabilities of actual events and thus puts the concept of time reversal on operational grounds . we find that , in this formulation , symmetries can be described by a larger class of transformations than those assumed in the standard formulation . using an isomorphism between the new effects and transformations , which extends the choi - jamiokowski isomorphism",
    ", we recast the time - symmetric formalism in a time - neutral form . in this representation ,",
    "the connections between operations are represented by specific entangled states , while operations are described by collections of positive semidefinite operators , which are contracted with the entangled states to yield numbers that enter in the calculation of probabilities .",
    "notably , the concrete entangled states that describe the connections determine the transformation of time reversal and thus have a nontrivial physical content .",
    "we use this time - neutral formalism to extend the circuit framework to circuits that can contain cycles .",
    "this further gives rise to an extension of the recently introduced process matrix formalism @xcite , which comes with an intuitive interpretation : every operation is seen as a destructive measurement on two input systems ",
    "one from the past and one from the future  while the generalized process matrix describes a quantum state on which the local measurements are applied .",
    "we show that the circuit framework permitting cycles and the extended process matrix framework are not only mathematically equivalent , but also operationally equivalent .",
    "we argue that , remarkably , there exist genuine circuits with cycles that can be realized in practice without post - selection .",
    "our final step is to fully abandon the only remnant of predefined time ",
    "the directionality assumed for each connection in a circuit , or , in the process matrix language , the distinction between inputs from the past and inputs from the future .",
    "this yields a picture in which regions are connected to each other with no directionality assumed for their connections ( fig .",
    "[ network ] ) .",
    "each region is defined by a set of boundary systems , which as a special case may correspond to the standard inputs from the past and from the future .",
    "the symmetry transformation of time reversal now becomes a reflection with respect to the boundary .",
    "the events taking place in a given region are represented by positive semidefinite operators on the hilbert space of the boundary systems and can be interpreted as describing the outcomes of a measurement that the region performs on the states prepared by its complement .",
    "equivalently , a transformed version of these operators can be interpreted as states prepared by the region , which in turn are measured by the complement of the region .",
    "a simple rule gives the joint probabilities for the events in a network of regions ( eq .  ) .    by construction ,",
    "standard quantum circuits are special cases of the more general networks defined in our formalism , and , reversely , any network can be realized in agreement with the laws of the circuit framework , possibly by means of post - selection .",
    "thus , from the perspective of the epistemic point of view that underlies this approach , the new framework provides an exact description of observed phenomena when the entangled states describing the connections between operations correspond to time reversal as understood at present .",
    "but since time is not a fundamental ingredient in the framework , this opens up the possibility to understand time as emergent , and potentially describe new phenomena .",
    "we discuss how the causal structure underlying quantum dynamics in space - time may be possible to infer from properties of the operators on the boundaries of different regions .",
    "the framework can also describe indefinite causal order , timelike loops , and other acausal structures .",
    "finally , the framework suggests a natural route for extension to quantum field theory .",
    "this can be seen as a modified formulation of oeckl s general boundary approach @xcite with a generalized probability rule .",
    "consider an experiment performed in some region of space - time .",
    "it consists of a set of classical events , such as the settings of the devices used and the outcomes they produce .",
    "the events in such an experiment may be correlated with events in other experiments taking place elsewhere .",
    "intuitively , such correlations are mediated through some information carriers , or _",
    "systems_. for example , there may be correlations due to the fact that the different experiments involve measurements on systems that are correlated as a result of an event in the past , or due to the fact that some experiments take place in the past of others and there is a transfer of information from the former to the latter via certain systems .",
    "the very notion of system can be thought of as a formalization of the idea of a means through which the correlations between separate experiments are established .",
    "this notion of information exchange can be made precise in the circuit framework for operational probabilistic theories , of which quantum theory in its usual form can be seen as a special case . in this section , we review the main ideas of the circuit framework , following the expositions of chiribella , dariano , and perinotti @xcite and hardy @xcite .",
    "is a collection of events from an input system @xmath0 to an output system @xmath1 , intuitively defined as the outcomes of one use of a device .",
    "pictorially , operations are represented by ` boxes ' with input and output ` wires ' that have arrows pointing from the output of one operation to the input of another.,width=132 ]    the basic concept in the circuit framework is that of _ operation _ ( or _ test _",
    "@xcite ) , intuitively defined as ` one use of a physical device with an input and an output system ' .",
    "this is an elementary experiment of the kind outlined above , which by definition exchanges information with other experiments via the input and output systems .",
    "it is a primitive , in terms of which more complicated experiments can be understood .",
    "an operation with an input system a and an output system b is described by a collection of events @xmath2 labeled by an outcome index @xmath3 taking values in some set @xmath4 .",
    "operations are commonly represented pictorially as boxes with input and output wires as in fig .",
    "[ operation ] .",
    "operations that have a trivial input system are called _ preparations _ , and those that have a trivial output system are called _ measurements _ ( the trivial system is denoted by @xmath5 ) .",
    "operations can be composed in sequence and in parallel to form new operations @xcite .",
    "two operations can be composed in sequence if the output system of the first one is of the same type as the input system of the second one : @xmath6 . for every system @xmath0",
    ", one defines the identity operation @xmath7 , which has a single outcome and has the property @xmath8 and @xmath9 , for all @xmath2 and @xmath10 .",
    "given a pair of systems @xmath0 and @xmath1 , one can define the composite system @xmath11 .",
    "the parallel composition of two operations @xmath2 and @xmath12 is a new operation @xmath13 from the composite system @xmath14 to the composite system @xmath15 . with these rules",
    ", one can compose operations to form different circuits .",
    "a circuit is a directed acyclic graph whose vertices are operations and whose directed edges are systems going from one operation to another ( see fig .  [ circuit ] ) .",
    "as circuits have no open wires , every circuit starts with a set of preparations and ends with a set of measurements .",
    "the composition of operations in a circuit thus amounts to an operation from the trivial system to itself .",
    "the central idea of the circuit framework is that the theory prescribes joint probabilities for the outcomes of the operations in every given circuit ( fig .",
    "[ circuit ] ) , and these probabilities depend only of the specification of the circuit @xcite .",
    "equivalently @xcite , for any preparation @xmath16 and any measurement @xmath17 connected to each other , the theory prescribes joint probabilities @xmath18 , @xmath19 , with the condition that for parallel experiments the probabilities factor out .",
    "an operational probabilistic theory is completely defined by specifying all possible operations and the probabilities for the outcomes of all possible circuits .",
    "not all parameters that describe the implementation of an operation , however , would have relevance for the probabilities . in order to deal only with the relevant degrees of freedom ,",
    "an operational probabilistic theory is formulated in terms of equivalence classes of operations  if two operations @xmath2 and @xmath20 give rise to the same joint probabilities when plugged into all possible circuits , they are considered equivalent .",
    "similarly , one can consider equivalence classes between events that may belong to different operations  if two events @xmath21 and @xmath22 associated with two different operations yield the same joint probabilities with other events in all possible circuits in which the operations can be inserted , they are considered equivalent .",
    "the equivalence classes of events are called _ transformations _ @xcite . in the special case of preparation events ,",
    "they are called _ states _ , and in the case of measurement events , they are called _ effects_.",
    "it is implicitly assumed that equivalence classes are taken and events and operations are identified with their equivalence classes . in such a case , we can write the joint probabilities for states and effects as @xmath23 .",
    "these joint probabilities are non - contextual by definition , i.e. , they depend only on the pair of states and effects and not on other parameters describing the operations to which these events belong .",
    "( note that this is not the same as the question of contextuality with regard to ontic variables @xcite . )",
    "states can thus be thought of as real functions on effects and vice versa .      in the case of quantum theory ,",
    "a system @xmath0 is associated with a hilbert space @xmath24 of dimension @xmath25 ( here , we will assume finite - dimensions hilbert spaces , and only at the end we will briefly discuss potential infinite - dimensional extensions in the context of quantum field theory ) .",
    "a transformation from @xmath0 to @xmath1 is a completely positive ( cp ) and trace - nonincreasing map @xmath26 , where @xmath27 denotes the space of linear operators over a hilbert space @xmath28 .",
    "every such map can be written in the kraus form @xcite @xmath29 , where @xmath30 are linear operators , @xmath31 , called the _ kraus operators _ ( note that the set of kraus operators is not unique @xcite ) . a quantum operation , also called _ quantum instrument _",
    "@xcite , is a collection of cp maps @xmath2 , whose sum @xmath32 is a cp and trace - preserving ( cptp ) map .",
    "the latter is equivalent to the constraint @xmath33 , where for each @xmath34 , @xmath35 are kraus operators for the cp map @xmath36 . in the case of quantum theory , the trivial system @xmath5 corresponds to the 1-dimensional hilbert space @xmath37 .",
    "states @xmath38 are thus cp maps with kraus operators of the form @xmath39 , where @xmath40 are ( generally unnormalized ) vectors in @xmath41 , i.e. , @xmath42 , where the input @xmath43 stands for a number in @xmath37 .",
    "states are therefore isomorphic to positive semidefinite operators @xmath44 , @xmath45 , and this is how they are commonly represented . a preparation operation is then represented by a set of positive semidefinite operators @xmath46 with the property @xmath47 .",
    "effects are similarly described by cp maps with kraus operators of the form @xmath48 , where @xmath49 are vectors in @xmath50 , the dual hilbert space of @xmath24 : @xmath51 , where the input @xmath43 stands for an operator in @xmath52 .",
    "these are also isomorphic to operators @xmath53 , @xmath54 , and this is how they are represented .",
    "the trace - preserving condition then implies that a measurement operation is described by a set of positive semidefinite operators @xmath55 that form a positive operator - valued measure ( povm ) , i.e. , @xmath56 . in this representation",
    ", the joint probabilities for the outcomes of a preparation followed by a measurement are @xmath57 one should keep in mind that states and effects are ultimately associated with elements of vector spaces that are dual to each other @xcite .",
    "the common description in terms of vectors in the same space of hilbert - schmidt operators is a convenient representation based on the bilinear form .",
    "this will be relevant later in the context of time reversal .",
    "operations in the standard formulation of quantum theory have the special property that the probabilities of preparation events do not depend on the choice of measurement , i.e. , the marginal probability @xmath58 is the same for every @xmath59 .",
    "this property was called ` _ _ causality _ _ ' or ` no signaling from the future ' by chiribella , dariano , and perinotti @xcite , and it was identified as a main axiom underlying the informational derivation of quantum theory in ref .",
    "the axiom implies that , when operations are connected in a circuit , the outcomes of past operations do not depend on operations applied in the future .",
    "the outcomes of future operations , however , may depend on past operations , i.e. , signaling from the past is allowed , which shows an explicit time - reversal asymmetry in the standard formulation of the theory ( here , signaling between two locations , at each of which operations of a certain kind can be performed , is defined as the existence of a dependence of the probabilities for the outcomes of an operation at one of them on the operation performed at the other one ) .",
    "an operational probabilistic theory does not have to satisfy the causality axiom .",
    "examples that do not have this property have been considered , e.g. , in ref .",
    "the proposal that at the core of quantum theory there is a formally time - asymmetric principle raises many foundational questions and demands deeper understanding .",
    "what empirical property does the causality axiom express ? to understand this , we need to look more closely into what the operations and the circuits in the framework are supposed to correspond to in practice .",
    "so far , we have been content with the idea that an operation represents one use of a device , and a circuit is a composition of such uses , but the meaning of these terms may not be obvious .      the concept of circuit formalizes the intuitive notion of information exchange and thus captures a subtle idea .",
    "notice that a circuit does not represent merely a sequence of applications of physical devices as one may commonly understand this . indeed , consider a sequence in which the device applied at a given step",
    "is chosen based on information about the outcomes of previously applied devices according to some protocol .",
    "in such a case , the joint probabilities for the outcomes of the sequence would generally depend on the protocol , whereas a circuit is defined to have unique probabilities .",
    "the idea of a circuit is that it provides a complete picture of the information exchange responsible for the correlations between the set of events it describes  the wires in a circuit are assumed to represent all systems through which the correlations between the possible events in the boxes arise .",
    "the above example would not correspond to a valid circuit because it does not take into account all existing means of information exchange between the events .",
    "if we have a scenario in which the device at a given step is selected using information about past outcomes , in the language of circuits this would have to be described by an operation acting on a larger composite system that includes the carriers of the information about the past outcomes , while these carriers would be seen as outputs of suitably extended operations in the past .",
    "the very notion of operation in the circuit framework , by definition , carries the idea that the input and output systems of an operation are the sole mediator through which any correlations between the outcomes of that operation and the outcomes of other operations is established .",
    "one can figuratively think of the box by which we represent an operation as an isolated region that can only exchange information with the rest of the experiment through the wires .",
    "( in general , this is an abstract region , whose boundary is defined by the input and output systems , although it can be expected to occupy a certain region of space - time . ) we will refer to this idea as the ` _ _ closed - box _ _ ' assumption .",
    "note that this is not an assumption that concerns the circuit framework as a mathematical model , which is fully specified by the rules outlined earlier .",
    "it is an assumption that we make about a given experiment when we say that this experiment corresponds to a valid operation with given input and output systems in the sense of the circuit framework .",
    "one way to think about it is to imagine that we could block the information transmission through the wires corresponding to the assumed input and output systems .",
    "if the wires are blocked , all events in the region of the box should be completely uncorrelated from other events in the experiment .",
    "[ note that a wire in the circuit picture is not a physical wire in space , but is more akin to an ideal channel in time , albeit an instantaneous one ( actual channels are represented by boxes , while a wire connecting two boxes signifies that the output of one box is an input of the other ) . ]",
    "if systems were classical objects that we could track as they go from one experiment to another , we could in principle know the paths of information exchange by tracking the systems .",
    "but at the microscopic level , the exchange of information is not evident , and in practice a specific circuit structure in the sense above can only be assumed to hold , usually based on some physical considerations ( e.g. , extrapolating intuition from classical physics ) . assuming that we can recognize when we have a closed box with given input and output systems ,",
    "however , is fundamental in this approach , since it is the box structure that imposes nontrivial constraints on the correlations between events .",
    "another key idea in the circuit framework is that one and the same operation can be connected to different possible operations , i.e. , one in principle conceives of the possibility that a given box in a circuit may contain different operations .",
    "consider an experiment in which a quantum operation from system @xmath0 to system @xmath1 is chosen out of a set of possible such operations @xmath60 , labeled by @xmath61 , according to a probability distribution @xmath62 , @xmath63 , independent of past events .",
    "notice that the whole experiment can be equivalently viewed as a single quantum operation with a larger number of outcomes , @xmath64 .",
    "imagine that the experiment is performed inside a closed box by an apparatus which outputs in separate registers the values of @xmath65 and @xmath66 .",
    "if we only look at the value of @xmath65 , conditionally on that information we can say that the operation @xmath60 has been applied , with the outcome of that operation being stored in the other register .",
    "we see that in this case an operation @xmath60 corresponds to a set of events between @xmath0 and @xmath1 that is a _ proper subset _ of a larger set of possible events that also define an operation .",
    "equivalently , a proper subset of the outcomes of an operation corresponds to an operation , the latter operation being obtained from the former by updating the description of possible events , conditionally on gained information .",
    "in fact , most operations in practice would correspond to only proper subsets of all possible events that could in principle occur under suitable circumstances in their regions , in agreement with the assumed isolation .",
    "as above , the circumstances that select an operation could themselves be regarded as outcomes of an operation with a larger number of outcomes .",
    "these observations suggest an epistemic point of view according to which an operation represents knowledge about the possible events in a given region , which can be updated upon learning of information about the events .",
    "notice that if we have a given operation , any subset of the outcomes of that operation would obey the closed - box assumption , in the sense that these events can be assumed correlated with external events only as a result of information exchange via the input and output systems .",
    "this is because learning whether the outcome belongs to a subset can be done inside a closed box .",
    "however , not all subsets of the outcomes of an operation define a valid operation in the standard formulation of quantum theory .",
    "so what is the special property that defines a given set of events that obeys the closed - box assumption as a valid operation ?    intuitively , the key distinction between a valid operation and an arbitrary subset of the outcomes of a valid operation seems to be that an operation is something that an experimenter is able to choose ` at will ' .",
    "for example , we think that we could ` choose ' a measurement , but not the outcome of a measurement .",
    "how can we formalize this idea ?",
    "one possible way could be through the notion of a _ freely chosen _ variable as a variable that is uncorrelated from events in the past @xcite . if we adopt this point of view , a valid operation would be one that satisfies the causality axiom .",
    "but then the axiom would be part of the definition of operation and not an axiom .",
    "if the asymmetry is merely a result of the choice of definition , we can easily dispose of it by considering a symmetric definition that does not involve this condition .",
    "however , it is intuitively clear that there is some nontrivial physical property that this condition expresses , i.e. , it is regarded as an axiom for a reason .",
    "the fact that theories that allow signaling from the future are considered sensible further shows that the causality axiom is not the implicit assumption that one makes about what an operation is supposed to mean .",
    "could there be another idea expressing the intuition of being able to choose an operation , which is in principle compatible with signaling to the past , and in the context of which the causality axiom would be seen to express a nontrivial physical constraint ?",
    "we believe that the implicit assumption underlying the concept of operation is that the variables that define a valid operation are ( or at least can be ) obtained _ without post - selection _ ,",
    "i.e. , they can be known before the time of the input system irrespectively of any future events .",
    "indeed , under this assumption , and in agreement with the closed - box assumption according to our understanding of systems and interactions , the causality axiom captures a nontrivial empirical fact  namely , that out of the larger class of potential operations that we could obtain by selecting sets of events that obey the closed - box assumption , only the class of standard operations can be obtained without post - selection .",
    "_ a priori _ , the non - standard operations that in practice can only be obtained with post - selection could have been obtainable without post - selection too . the fact that they are not",
    "can be thought of as enforced by the axiom , since adding any of these operations to the class of standard operations would violate the axiom ( the joint probabilities for circuits of such operations can be easily calculated using bayes s theorem ; see sec .",
    "[ symmetrizing ] ) .",
    "that satisfy @xmath67 for some fixed @xmath68 ) .",
    "but the new operations will be isomorphic to operations in the standard theory . in this example",
    ", we could redefine the operators describing a measurement as @xmath69 and the operators describing a preparation @xmath70 as @xmath71 } $ ] , where @xmath72 , which would put the new preparations and measurements in the standard form while preserving their joint probabilities ( see sec .",
    "[ symmetrizing ] ) . ]",
    "the above observations show that the very concept of operation that the circuit framework is meant to describe is asymmetric in time .",
    "it thus may not be immediately clear whether the formal asymmetry of the theory expressed in the statement that signaling from the past is allowed , but not from the future , implies an actual physical asymmetry , and if so , what that asymmetry is .",
    "( notice that if one regards the axiom as a definition , it certainly would not imply any physical asymmetry . )",
    "when we investigate the physical symmetry of the theory , we have to take into account the fact that the sets of events that define operations in the reverse direction of time need not be the same as the sets of events that define operations in the forward direction .",
    "assuming that the occurrence of events and the validity of a given box structure are time - direction - independent concepts , and defining an operation as a set of possible events that obeys the closed - box assumption and can be known in advance ( without post - selection ) in the reverse direction of time , one can see that both signaling from the ` future ' , as well as from the ` past ' , is allowed in that direction .",
    "indeed , since in the forward direction of time we can know _ a posteriori _ that different ( standard , as well as non - standard ) circuits have occurred in the past , the same situation in the reverse direction corresponds to knowing in advance that certain circuits which do not obey the causality axiom will occur ( interestingly , some information gets lost after an operation in that direction ) .",
    "we see that indeed there is an asymmetry in the fact that in one direction of time the causality axiom holds , whereas in the other it does not .",
    "we will analyze this asymmetry later .",
    "we could have a theory formulated in asymmetric terms that describes a symmetric world , just as we could have a theory formulated in symmetric terms that describes an asymmetric world .",
    "irrespectively of the existence of a physical asymmetry , it seems preferable to formulate a theory in fundamentally symmetric terms , not least because any potential physical asymmetry could become more evident . but as a general rule , all probabilistic prescriptions that quantum theory provides in its standard formulation can be thought to be about probabilities of future events given knowledge available in the past . while the predominant interest in probabilities of this kind is understandable given that we can remember the past but not the future , from a physics perspective such an approach seems too one - sided .",
    "moreover , just as one may think about the probability of an event conditional on events in its past , it makes sense , and is often of interest , to think about the probability of an event conditional on events in its future @xcite . from a more general perspective , it is desirable to be able to think in a unified way about conditional probabilities of events in space - time given other events in space - time irrespectively of their spatio - temporal location @xcite .",
    "the fact that the standard formulation of quantum theory is asymmetric with respect to time reversal is a long recognized fact , and time - symmetric reformulations have been proposed .",
    "the most prominent and widely known one is the two - state vector formalism , first proposed by watanabe @xcite and later rediscovered and developed by aharonov , bergmann and lebowitz ( abl ) @xcite . in that approach ,",
    "which is not usually formulated in the operational language above , the concept of operation is not altered , but the focus of the probabilistic prescriptions of the theory is widened from probabilities for the outcomes of an operation conditional on outcomes of operations connected to its input , to probabilities for the outcomes of an operation conditional on the outcomes of operations connected to both the input and the output of the operation . here , we will pursue a different approach based on a reconsideration of the very concept of operation .",
    "this will eventually yield a representation that in the respective special context looks similar to the two - state vector formalism , but differs by an isomorphism that captures a nontrivial physical property .",
    "since our ultimate goal is to develop a quantum theory without predefined time , an intrinsically time - asymmetric approach to the concept of operation is not a viable option .",
    "we will therefore abandon the expectation that a theory should describe operations that can be thought of as up to the choices of experimenters , because , as we have seen , this gives a special status to certain variables based on a preferred direction of time .",
    "instead , we will take an epistemic point of view according to which an operation merely represent what an experimenter knows about the events in a region , irrespectively of when that knowledge is obtained as long as it is consistent with the closed - box assumption .",
    "one can think that all of the information about an experiment is available in the future of the experiment , which would be in agreement with our present understanding of how information can be collected and stored . since we will make no additional assumption about what variables define an operation except for the fact that they are obtained consistently with the closed - box assumption",
    ", we will allow for the description of an operation to be updated upon learning of information consistently with that assumption .",
    "if an experimenter looks at the information about the event in a given box of the circuit in a way that reveals some ( possibly partial ) information about it , this should give rise to an updated description of the operation in that box and to a corresponding update of the probabilities for the circuit .",
    "we stress that while it is intuitive to imagine that the information about different operations is available in the future , the idea is that in this approach there is no assumption about when that information may be available , except that it is faithfully obtained from the boxes .",
    "our proposal is that such an assumption should not be part of an operational probabilistic theory at all .",
    "defined in these new terms , any theory would formally violate the causality axiom , unless it is trivial .",
    "nevertheless , we will see that the nontrivial property captured by the causality axiom in the standard formulation can be expressed in the language of the theory we will obtain in terms of the given dynamics and future boundary conditions .",
    "the main idea on which we base our reformulation is the closed - box assumption , i.e. , we will regard as an operation any set of possible events between an input and an output system whose correlations with other events are due entirely to information exchanged via the input and output systems . as argued previously ,",
    "if a given set of events satisfies this property , naturally so does any proper subset of this set , so we require that any subset of the outcomes of a valid operation defines a valid operation .",
    "we will assume that standard quantum theory holds , and we will simply develop its more general formulation from this perspective without introducing additional extensions .    consider a standard preparation @xmath46 and a standard measurement @xmath55 connected to each other ( hereafter we use their representations in terms of positive semidefinite operators in @xmath73 when there is no risk of confusion ) .",
    "the joint probabilities are given by eq .  .",
    "assuming that the joint probability for the preparation event to belong to the subset @xmath74 and the measurement event to belong to the subset @xmath75 is nonzero , by selecting only those cases in which the events belong to these subsets we obtain two new operations , connected to each other , whose joint probabilities are given by @xmath76 for all @xmath77 .",
    "notice from eq .   that two sets of preparation events described by operators @xmath78 and @xmath79 yield equivalent probabilities if and only if they differ by an overall factor , i.e. , @xmath80 , @xmath81 , @xmath82 . the same holds for the sets of measurement events .",
    "we can therefore choose a normalization in order to dispose of the irrelevant degrees of freedom .",
    "we define preparation and measurement operations to be described by sets of positive semidefinite operators over the respective hilbert space that satisfy the following normalization conditions ( we choose different normalizations for preparations and measurements to keep parallelism with the standard formalism , which can be seen as a special case of the new one ) : @xmath83 note that preparations are described just as before , but measurements are now more general as they do not have to satisfy the povm completeness relation .    introducing the notation @xmath84 @xmath85 we can write the main probability rule in the form @xmath86 for any preparation and measurement for which @xmath87 .    unlike the standard approach to opts , here not all preparations and measurements defined over the same system are compatible  some of them are simply never found connected to each other .",
    "equivalently , we can say that their connection results in the _ null event_. these are the preparations and measurements for which @xmath88 , where @xmath89 is the null operator on system @xmath0 .",
    "it is easily seen from eq .   that the equivalence classes of preparation events , or _ states _ ,",
    "are now described by a pair of positive semidefinite operators @xmath90 , where @xmath91 , @xmath92 , while the equivalence classes of measurement events , or _ effects _ , are described by a pair of positive semidefinite operators @xmath93 , where @xmath94 , @xmath95 .",
    "the joint probability rule for a pair of state and effect is given by @xmath96 for @xmath97 .",
    "as before , via eq .  , states can be thought of as real functions on effects ( possibly defined only on some subsets of all affects ) and vice versa .",
    "for convenience we can extend the definition of these functions on the whole space of states or effects by defining the joint probabilities for incompatible events to be zero , i.e. , @xmath98 , for @xmath99 .",
    "however , as functions on each other , the sets of states and effects are not closed under convex combinations .",
    "even if we do not extend the definition to incompatible events , the set of states having the same domain ( i.e. , having @xmath100 with a fixed support ) are not closed under convex combinations , and similarly for the effects .",
    "( only the subsets that have the same @xmath100 or @xmath101 are convex ) .",
    "although we may conceive of the convex combinations of these functions , they generally do not correspond to events that can be obtained in agreement with the closed - box assumption .    to see this ,",
    "consider for example two deterministic preparations , each preparing one of two standard states with density operators @xmath102 and @xmath103 , @xmath104 , both of which can be assumed to have full support . in the above language of states described by two operators , these correspond to @xmath105 and @xmath106 . regarding them as functions on effects ,",
    "imagine that we want to find a closed - box preparation procedure that yields a convex combination of these functions , e.g. , @xmath107 .",
    "any preparation that we may perform inside a closed box ( allowing both pre- and post - selection ) is captured by standard preparations .",
    "the desired convex combination must therefore correspond to some state @xmath108 .",
    "but it is easy to see that such a state does not exist .",
    "indeed , the requirement that it yields the desired convex combination of probabilities with all effects of the form @xmath109 implies that @xmath110 .",
    "but then for effects @xmath111 with @xmath112 , the probabilities would generally not respect the convex combination : @xmath113 of course , we may simulate the desired convex combination by suitably post - selecting preparation and measurement events , but this requires joint post - selection , which is not achievable by separate closed - box procedures for the preparation and the measurement .    as for preparations and measurements , one can define the equivalence classes of general operations and transformations .",
    "we define general operations to be described by a collection of cp maps with the normalization @xmath114 which reduces to the normalization for preparations and measurements in the respective limiting cases . defining",
    "@xmath115 one sees that transformations are described by pairs of cp maps @xmath116 with the properties @xmath117    although in operational probabilistic theories it makes sense to think of an operation as a collection of transformations , here we will often describe operations as collections of cp maps as above , which we find more natural in view of the intuition developed from the standard formulation .",
    "generalizing the case of preparations and measurements , two operations @xmath118 and @xmath2 are not compatible , or their composition amounts to the null operation from @xmath0 to @xmath119 , when @xmath120 , where @xmath121 is the null cp map .",
    "the operation resulting from the sequential composition of two compatible operations , @xmath122 , has cp maps @xmath123    note that deterministic states , i.e. , states associated with the outcomes of a single - outcome preparation , are described by a pair of identical density operators @xmath124 .",
    "because of this redundancy , we can parameterize the space of deterministic states by a single density operator , just like the deterministic states in the standard formulation of quantum theory .",
    "the probabilities for the outcomes of a measurement applied on a deterministic state @xmath125 are given by @xmath126 born s rule is a special case of this rule , corresponding to @xmath127 .",
    "the set of deterministic states can be regarded as functions on effects . as we have seen above ,",
    "this set is not closed under convex combinations , even though the operators by which we represent deterministic states form a convex set  the usual set of density operators .",
    "note that as functions of the density operator , the probabilities for measurement outcomes are not linear , but this does not mean non - linearity in the _ state_.    upon learning or discarding of information about the outcomes of an operation in agreement with the closed - box assumption , its description gets updated . to derive the most general update rule",
    ", it is convenient to model the classical variable describing the outcome of an operation by a set of ( standard ) orthonormal pure pointer ` states ' @xmath128 on a pointer system @xmath119 .",
    "an operation @xmath129 can then be thought of as a two - step process , the first step being the single - outcome operation @xmath130 and the second one being a standard von neumann measurement of the system @xmath119 in the pointer basis . without loss of generality",
    ", we can imagine that the outcome of the measurement is stored in another pointer system , so for an experimenter who has not looked at the information about the outcome of the operation , the experiment can be described by the first stage only ( this is nothing but the model of a standard quantum instrument @xcite , trivially extended to the more general type of operations we consider ) .",
    "any process of learning or discarding of information about the outcome of the operation can be described by a classical operation on the pointer system .",
    "this most generally corresponds to a diagnonal cp map , followed by a renormalization of the overall operation , which results in an operation of a similar form to , but with the pointer states possibly running over a different set .",
    "let @xmath131 describe the ( possibly different ) pointer system after this operation , with pointer basis @xmath132 .",
    "the diagonal cp map describing the transformation of the pointer has the form @xmath133 where @xmath134 after renormalization , this gives rise to the updated overall operation @xmath135 from this , we infer the general update rule of the operation on the original systems : @xmath136 where @xmath137    it is worth noting a couple of special cases that will be of use later .",
    "the case of completely discarding the information about the outcome of the operation corresponds to @xmath138 being a singleton set , and @xmath139 , @xmath140 .",
    "this leads to the fully coarse - grained deterministic operation @xmath141 .",
    "on the other hand , the case in which the outcome of the operation is learned to belong to a specific subset , @xmath142 , corresponds to @xmath143 and @xmath144 for @xmath145 , and @xmath146 in all other cases .",
    "the latter gives us a prescription of how to obtain any operation in the new formalism starting from a standard operation ( one whose cp maps sum up to a cptp map ) and using post - selection .",
    "it is important to emphasize , however , that the theory does not attribute any special status to those operations that satisfy the standard trace - preserving condition .    to summarize , in the circuit framework",
    ", the modified theory is defined via the following rules : + ( i ) systems are associated with hilbert spaces and an operation with a given input and a given output system is described by a collection of cp maps from the space of operators over the input to the space of operators over the output , with the normalization .",
    "+ ( ii ) when a preparation is connected to a measurement , the joint probabilities for their outcomes are given by eq .  .",
    "equivalently , two operations connected in sequence yield a new operation according to .",
    "+ ( iii ) upon learning or discarding of information in agreement with the closed - box assumption , the description of an operation is updated according to eq .  .",
    "now that we have allowed operations to be defined by both pre- and post - selection , one can expect that the theory should be symmetric under time reversal in some sense , because the notion of operation as a set of possible events in a box does not depend on a preferred direction of time , while the probabilities of events should be invariant . in this section",
    ", we discuss the question of time reversal along with general symmetry transformations .    under time reversal @xmath147 , every operation from @xmath0 to @xmath1",
    "is expected to be seen as a valid operation from @xmath1 to @xmath0 , such that the probabilities of any circuit when calculated in the opposite direction under this mapping remains the same .",
    "this by itself , however , does not define time reversal . indeed , we will see that the above theory permits infinitely many possible transformations with this property .",
    "time reversal is a specific , physically motivated mapping , which does not arise naturally in the framework as defined .",
    "the simplest example of a mapping that satisfies the general requirement above is the following . for any cp map @xmath148 , which can be written in the form @xmath149 , where @xmath150 , @xmath151 , are kraus operators",
    ", we could define a ` time - reversed ' image as the conjugate map @xmath152 , where @xmath153 .",
    "this definition is basis - independent , and it simply amounts to reading a circuit in the opposite direction by regarding the operators of preparations as operators of measurements up to a ( dimension - dependent ) constant factor , and vice versa .",
    "more precisely , a preparation @xmath46 is seen as a measurement @xmath154 , and a measurement @xmath55 as a preparation @xmath155 .",
    "using the cyclic invariance of the trace , one can easily see that the probabilities of a circuit remain invariant under this transformation .",
    "the new states and measurements correspond to the so called _ retrodictive _ states @xcite and measurements @xcite ( see also ref .",
    "@xcite ) .",
    "the problem with this definition arises when one goes beyond the mere operational probabilistic framework and makes a connection to concepts such as energy , momentum , or spin .",
    "the latter are not part of the operational probabilistic framework per se , but are the subject of the theory that describes the dynamics of physical systems , which we will refer to as the _ mechanics_. according to our present understanding of the laws of mechanics , an isolated quantum system undergoes unitary evolution in time driven by a hamiltonian generator , which is the operator of energy .",
    "quantum states are described in terms of physical variables such as momentum , or spin . under time reversal ,",
    "these variables transform in a specific way ( e.g. , energy remains invariant , while momentum and spin change sign ) and this determines the notion of time reversal in a physical sense .",
    "as shown by wigner @xcite ( see also schwinger @xcite ) , these considerations imply that time reversal must be described by an anti - unitary transformation at the hilbert - space level . the simple notion of time reversal above , however , is not based on an anti - unitary transformation .",
    "for this reason , if we assume , as is the current understanding of quantum mechanics , that the states of an isolated system evolve forward in time according to the schrdinger equation driven by a given hamiltonian with a positive energy spectrum , then the retrodictive states would evolve backward in time driven by the negative of the original hamiltonian , which would have a negative energy spectrum .    to understand the issue of time reversal ,",
    "let us have a closer look at the relation between preparation and measurement events , and their representations .",
    "the operators @xmath46 by which we describe preparations can be thought of as elements of the real vector space @xmath156 of hermitian operators over @xmath24 .",
    "measurements can be similarly thought of as described by collections of vectors , but in the dual vector space , @xmath157 .",
    "this dual vector space is isomorphic to @xmath156 , if @xmath156 is finite - dimensional .",
    "let us denote the vectors in the dual space by @xmath158 .",
    "the pairing between elements of the two vectors spaces yields a real number : @xmath159 , @xmath160 , which we write as @xmath161 $ ] , where @xmath162 corresponds ( via an isomorphism ) to @xmath158 .",
    "note , however , that prior to choosing this representation , there is no natural isomorphism between the vector space @xmath156 and its dual @xmath157 .",
    "every non - degenerate bilinear form @xmath163 gives rise to an isomorphism .",
    "our representation is based on the particular choice of bilinear form @xmath164\\in \\mathbb{r}$ ] .",
    "this bilinear form is an inner product ( actually , the hilbert - schmidt inner product restricted to the subspace of hermitian operators ) .",
    "it induces a ` canonical ' ( given the bilinear form ) isomorphism between elements of the two vector spaces , @xmath165 , @xmath166 , @xmath167 , given via @xmath168 $ ] .",
    "this canonical isomorphism merely results from a choice of representation , and need not have any physical meaning .",
    "( the physically nontrivial aspect of this picture is that the vector spaces can be realized as the spaces of hermitian operators over a complex hilbert space of a given dimension , which defines the theory as quantum theory . ) as we will show below , time reversal may also define a correspondence between elements of the two vectors spaces ( though not necessarily , since the general correspondence is between states and effects , and these are described by pairs of vectors ) by virtue of the fact that under time reversal measurements are mapped onto preparations , and vice versa . however , this need not be the canonical isomorphism arising from our choice of bilinear form , and in fact , it can not be , because of the physical considerations noted above .",
    "the retrodictive states and measurements discussed earlier arise exactly if time reversal coincides ( up to an overall factor ) with the canonical isomorphism defined by this bilinear form .    under time reversal ,",
    "every set of vectors @xmath46 in @xmath169 corresponding to a valid preparation would become a specific set of vectors @xmath170 in @xmath171 corresponding to a valid measurement . expressing this measurement in the original vector space via the canonical isomorphism yields a set of measurement operators @xmath172 in @xmath169 .",
    "we will call this set the _ time - reversed image _ of @xmath46 . a way to think about",
    "the time - reversed image is to imagine that we could physically ` flip ' the time orientation of a preparation device ( e.g. , create a device that looks just like the given preparation device operating in reverse order ) .",
    "then the measurement that would result from this , described relative to preparation devices that have not been time - reversed , is the image . in a similar way ,",
    "the operators @xmath55 describing a measurement get mapped onto a set of operators @xmath173 describing a preparation , which is their time - reversed image . under this interchange , which must be invertible ( in particular , an involution )",
    ", the probabilities ( or equivalently , ) must remain the same .",
    "the latter requirement means that time reversal is described by a bijection between states @xmath90 , @xmath174 and effects @xmath175 , @xmath176 ( the latter were previously denoted by their images @xmath177 , @xmath178 , under the canonical isomorphism ) .",
    "this does not , however , imply that time - reversal should be realized by a bijection between @xmath179 and @xmath157 applied independently on each vector in the pair @xmath90 ( or @xmath175 ) .",
    "indeed , we will now completely characterize the transformations that preserve the probabilities , and will see that more general transformations are possible .",
    "this result generalizes wigner s theorem , which states that symmetry transformations in standard quantum theory must be realized by unitray or anti - unitary transformations on the underlying hilbert space @xcite .",
    "let us denote the space of states on a system @xmath0 by @xmath180 and the space of effects on this system by @xmath181 .",
    "symmetry transformations such as those representing spatial rotation or translation , transform states into states and effects into effects .",
    "we will refer to these symmetry transformations as of type @xmath5 .",
    "however , time reversal , or any combination of time reversal with transformations of type @xmath5 , transforms states into effects and effects into states .",
    "we will refer to these symmetry transformations as of type @xmath182 .",
    "since states and effects are different objects , a symmetry transformation @xmath183 has to be defined by its action on both of them , @xmath184 . in the case of transformations of type @xmath5 , the transformation @xmath183 can be thought of as consisting of two transformations , @xmath185 , where @xmath186 , @xmath187 , and in the case of type @xmath182 , it can be thought of as consisting of two transformations , @xmath188 , where @xmath189 , @xmath190 . by representing effects in terms of pairs of vectors in @xmath179 via the canonical isomorphism ,",
    "each of these transformations can be represented as a transformation from a subset of the space of pairs of positive semidefinite operators on @xmath24 to another subset ( possibly the same ) of the same space .",
    "we will denote these representations by @xmath191 , @xmath192 , @xmath193 , @xmath194 , respectively .",
    "hereafter , we will omit the superscript @xmath0 for simplicity of notation .",
    "+ _ theorem ( generalized wigner s theorem)_. consider a system with hilbert space @xmath195 of dimension @xmath196 .",
    "every symmetry transformation @xmath197 of type @xmath5 is described by @xmath198 and @xmath199 that are either of the form @xmath200 or of the form @xmath201 where @xmath202 denotes transposition in some basis , and @xmath203 is an invertible operator .",
    "similarly , every symmetry transformation @xmath197 of type @xmath182 is described by @xmath204 and @xmath205 that are either of the form @xmath206 or of the form @xmath207    _ proof_. since we are interested primarily in time reversal , we will exhibit the proof for transformations of type @xmath182 .",
    "the case of type @xmath5 is completely analogous .",
    "we will make use of the way operations get updated upon learning or discarding of information ( eq .  ) , which must be independent of the symmetry transformation .",
    "first , observe that the case of complete coarse graining implies that two states have the same @xmath100 if and only if their images have the same @xmath208 .",
    "( the same holds for measurements and their images . )",
    "consider then two states @xmath209 and @xmath210 whose images are @xmath211 and @xmath212 , respectively .",
    "let us take any state @xmath213 , @xmath214 . from formula",
    ", we see that the joint probability of this state with any effect @xmath111 is @xmath215 .",
    "similarly , consider the effect @xmath216 , with the same @xmath217 .",
    "it must yield the probabilities @xmath218 when paired with a state @xmath219 .",
    "but when @xmath219 is the image of @xmath220 , the probabilities in the first case must be equal to the corresponding probabilities in the second case .",
    "since a state ( effect ) is completely characterized by its joint probabilities with all possible effects ( states ) , we conclude that @xmath216 must be the image of @xmath213 .",
    "in other words , for every fixed @xmath100 , @xmath204 transforms the first operator in @xmath221 by a ( positive ) linear map , possibly dependent on @xmath100 , which we will denote by @xmath222 .",
    "this linear map can be assumed defined on the subspace of hermitian operators with support in the support of @xmath100 .",
    "consider now the update rule in the case of learning the outcome of an operation ( a special case of learning that the outcomes belongs to a subset , which was discussed earlier ) .",
    "it implies that two states have proportional @xmath223 ( differing by an overall factor ) if and only if their images have proportional @xmath224 .",
    "this means that @xmath225 for all @xmath223 in the domain of @xmath222 , where @xmath226 is a positive linear map defined on the whole space of hermitian operators over @xmath195 .",
    "but since every deterministic state must be mapped onto a deterministic effect , we have @xmath227 , and hence @xmath228   =    { \\mbox{tr}}[\\hat{\\tau}_{\\overline{\\rho } } ( \\overline{\\rho})]= d$ ] , which implies @xmath229 } $ ] . we thus obtain @xmath230 } ;   d \\frac{\\hat{\\tau } ( \\overline{\\rho } ) } { { \\mbox{tr}}[\\hat{\\tau}(\\overline{\\rho }    ) ] }    ) .\\end{gathered}\\ ] ] since @xmath231 is a bijection , @xmath232 must map the cone of positive semidefinite operators over @xmath195 onto itself .",
    "this means ( see proposition 3.6 in ref .",
    "@xcite ) that @xmath232 is either of the form @xmath233 or of the form @xmath234 , where @xmath235 is invertible , which corresponds to eqs .   or .",
    "an analogous argument applied to the transformation of effects yields eqs .   and .",
    "the operator @xmath235 depends on the transposition basis .",
    "the basis can be chosen arbitrarily at the expense of redefining @xmath235 . for involutions , in the case of eqs .",
    ", , @xmath235 satisfies @xmath236 , in the case of eqs .",
    ", , @xmath235 satisfies @xmath237 , where @xmath238 denotes complex conjugation in the basis of the transposition , in the case of eqs .",
    ", , @xmath235 satisfies @xmath239 , and in the case of eqs .",
    ", , @xmath235 satisfies @xmath240 .",
    "this follows straightforwardly from the requirement that applying the transformation twice maps every state and effect onto itself .",
    "let us assume , as in standard quantum mechanics , that isolated systems evolve in time unitarily according to the schrdinger equation driven by some hamiltonian , and let us assume , following wigner @xcite , that the same kind of evolution should take place under time reversal , driven by a hamiltonian with the same spectrum ( since energy should not change under time reversal ) .",
    "let a general transformation @xmath241 , where @xmath242 , @xmath243 , be mapped under time reversal @xmath147 as @xmath244 @xmath245 if @xmath147 transforms states and effects as in eqs .   and",
    "( with specific transposition bases and specific operators @xmath246 and @xmath247 for the respective systems ) , from the requirement that the probability for a sequence of a preparation , a transformation , and a measurement , remains invariant , we find @xmath248 @xmath249 for all @xmath250 , with @xmath65 such that @xmath251    however , if in the case where @xmath0 is of the same kind as @xmath1 a unitary transformation ( @xmath252 , @xmath253 ) could be mapped onto a unitary ( @xmath254 , @xmath255 ) , where @xmath256 has the same spectrum as @xmath257 , there would have to exist a unitary @xmath258 ( from the input to the output system of @xmath257 ) such that @xmath259 .",
    "but the left - hand side of the last expression is a similarity transformation of @xmath260 which preserves the spectrum , so this is only possible if @xmath257 has a real spectrum ( consisting of @xmath261 s and @xmath262 s ) , which does not permit nontrivial continuous unitary evolution in time .",
    "thus , the only possibility compatible with the known quantum mechanics is that time reversal is described by a transformation of the form and . in such a case , we find @xmath263 @xmath264 for all @xmath250 , where @xmath238 denotes complex conjugation in the joint basis in which the transpositions for @xmath0 and @xmath1 are defined in eqs .   and , and @xmath65 ensures the normalization . in this case , for the image of a unitary operation we obtain @xmath265 . if @xmath266 is unitary , @xmath267 would be unitary and it would have the same spectrum as @xmath257 since @xmath268 has the same spectrum as @xmath257 . note that it is not necessary that @xmath235 be unitary in order for @xmath269 to satisfy this property .",
    "if @xmath235 has a polar decomposition @xmath270 , @xmath271 , where @xmath272 is unitary and @xmath273 commutes with @xmath274 ( or , equivalently , with the transpose of the hamiltonian generator of @xmath257 ) , then the requirement is still satisfied .",
    "however , if we further demand that time reversal satisfies the above requirement for any hamiltonian generator , then @xmath235 must be unitary .",
    "the concrete @xmath235 , which depends on the transposition basis , would be determined by how specific observables transform under time reversal ( e.g. , energy remains invariant , momentum and spin change sign ) .",
    "the standard notion of time - reversal , as understood at present , is of this kind . since we are generalizing the standard formulation of quantum theory , it is in principle conceivable that in some regimes the laws of mechanics may not obey schrdinger s equation , which was used in the above argument .",
    "it is reasonable to assume , however , that any generalized notion of time reversal would be of the kind , , ( equivalently , , ) so that it would reduce continuously to the standard one in the regimes of standard quantum mechanics . in the formalism that we develop in the following section",
    ", these kinds of time - reversal transformations will be naturally built in .",
    "_ comment . _ the original classification of symmetries by wigner @xcite is obtained within the traditional exposition of quantum theory , where one does not distinguish states and effects but speaks of transition probabilities between states only . if we were to similarly interpret the canonical representations of effects in the state space ( times @xmath275 ) as states , a symmetry transformation would be described by a single map from states to states and we would obtain that @xmath235 must be unitary .",
    "the operators @xmath276 would then transform as either @xmath277 or @xmath278 , which amounts respectively to a unitary or an anti - unitary transformation on the vectors in the underlying hilbert space , which agrees with wigner s theorem .",
    "however , form an operational perspective there is no justification for this identification of states with effects .",
    "furthermore , the traditional conclusion about the form of time reversal @xcite is derived assuming that the transition probabilities given by born s rule remain invariant under time reversal . in practice",
    ", such a transition corresponds to a measurement event following a preparation event , and the conditional probabilities of events in the reverse order are not the same in general .",
    "this is why , in our view , the traditional conclusion is not justified .",
    "in contrast , the generalized formulation developed here gives an empirically consistent definition of time - reversal symmetry .",
    "however , it also shows the possibility for transformations with non - unitary @xmath235 .",
    "since time reversal is a reflection , its transformation of states and effects is expected to be an involution .",
    "this means that @xmath279 or @xmath280 .",
    "when @xmath235 is unitary , these two cases correspond to the form of time reversal for bosons and fermions , respectively @xcite .",
    "note that the bosonic time reversal is an involution also at the level of the hilbert space @xmath195 , but the fermionic one is not since applying it twice yields an overall minus sign .",
    "the minus sign disappears at the level of the operators by means of which we describe states and effects , but its existence at the hilbert - space level is one way of arguing that there has to be a spin superselection rule @xcite .",
    "it is also interesting to note that when @xmath235 is unitary , time reversal corresponds to an isomorphism between the underlying hilbert space @xmath195 and its dual @xmath281 , which is _",
    "linear_. the standardly claimed anti - linearity of time reversal arises from the representation of the vectors in @xmath281 by vectors in @xmath195 via the canonical anti - linear isomorphism between the two spaces .",
    "the most general form for time reversal , of an arbitrary transformation was obtained from the requirement that the probabilities for a preparation , followed by a general operation , followed by a measurement , remain the same under time reversal .",
    "one can easily see that this guarantees that the probabilities remain invariant for general circuits , since any circuit can be ` foliated ' into global time steps where at each step a single operation is applied from a given composite input system to a given composite output system ( this can be achieved by padding operations with additional sequences of identity operations where necessary ) .",
    "the joint probabilities for a circuit consisting of a preparation @xmath282 , followed by a sequence of operations @xmath283 , @xmath284 , and then by a measurement @xmath285 , are given by @xmath286 and the fact that the probabilities remain invariant under time reversal can be verified by expanding each cp map in its kraus form and using the invariance of the trace under cyclic permutations and transposition .",
    "we have seen that the above operational probabilistic theory is symmetric under time reversal , both from a probabilistic and from a mechanical perspective . however , as discussed earlier , we observe the nontrivial constraint that without post - selection we can not obtain operations that do not satisfy the standard trace - preserving condition , which does not hold in the reverse direction of time .",
    "let us show how we can understand these facts in the language of the theory .    as noted already",
    ", an operational probabilistic theory only says what operations are allowed , but not what specific operations will occur in different physical circumstances , which is the subject of the laws of mechanics .",
    "for example , the standard operational formulation tells us that the deterministic evolution of quantum systems must be cptp and that any such evolution can in principle be obtained as a result of a joint unitary evolution of the system plus an environment , followed by discarding of ( applying the unit effect @xmath287 on ) part of the joint system .",
    "but it does not say , for example , what the hamiltonian generator of the evolution of an isolated system such as the system plus its environment must be , which is specified by the mechanics . similarly here , our theory permits a class of operations ( all of which by construction can be observed in practice , be it with post - selection ) , but the concrete form of the operations that describe the evolution of isolated systems has to be supplied by additional rules .",
    "we will assume that isolated systems undergo unitary evolution as prescribed by the known laws of quantum mechanics .",
    "the statement that isolated systems evolve unitarily in time means that if we consider all systems in the universe between times @xmath288 and @xmath289 , @xmath290 , we can describe their evolution by a unitary circuit ( or one joint unitary operation ) , such that the information about all events between the two times is most generally encoded in the outcomes of operations on the past and future boundaries of the circuit ( fig .",
    "[ asymmetry1 ] ) .",
    "consider an observer at time @xmath288 , who resides inside the preparation box .",
    "all information available prior to @xmath288 is contained in that box ( the box can be imagined to extend to the infinite past ) .",
    "conditionally on that information only ( possibly only some part of it ) , the description of the possible future events in the universe according to this observer would look as in fig .",
    "[ asymmetry1 ] , where the description of the preparation could be updated conditionally on the available information , but the final measurement can not be updated because the observer has no access to it , i.e. , it is fixed .",
    "any effective circuit in some region in the future between times @xmath288 and @xmath289 according to this observer must be consistent with the big unitary circuit , i.e. , all future circuits should be possible to purify , by including the devices and environments in the description , to the circuit in fig .",
    "[ asymmetry1 ] .",
    "it is well known that if the effective circuits consist of standard operations , their unitary purification can be done with a final measurement that is a standard quantum measurement @xcite .",
    "reversely , if any future circuit must consist of standard operations , the final measurement in particular must be a standard measurement . in other words ,",
    "the claim that all future circuits that can be known at a given time irrespectively of future events must be standard quantum circuits ( and therefore obey the causality axiom ) is equivalent to a statement about the form of the future boundary operation in the circuit of the universe .",
    "such a boundary operation can be moved arbitrarily far into the future , transforming it consistently with the unitary dynamics .     and",
    "@xmath289 is then encoded in the outcomes of operations on the boundaries of this region of space - time .",
    "the information available at time @xmath288 is contained in the preparation box .",
    "an observer at this time can have information about these events but not about those in the measurement box .",
    "every future circuit according to that observer should purify to the given unitary circuit by including all ancillary systems in the description .",
    "all future circuits consist of standard operations if and only if the final measurement @xmath291 satisfies @xmath292 . the fact that only standard circuits can be prepared without post - selection thus follows form the unitarity of quantum dynamics and the future boundary conditions.,width=302 ]    we remark that the causality axiom could be respected by other types of evolutions too .",
    "every symmetry transformation of the type obtained in the previous section would leave the probabilities of circuits invariant and , therefore , if a specific class of circuits obey the causality axiom , so will the class of circuits obtained by a symmetry transformation .",
    "for instance , if we transform the operations in the above picture by a symmetry transformation of type _",
    "i _ of the form with a non - unitary @xmath235 , all resultant circuits will obey the causality axiom , although they need not consist of standard operations .    to analyze the time - reversed situation in light of the causality axiom , we will assume for simplicity that time reversal is described by eqs .  , with @xmath293 , since the joint probabilities of events are the same irrespectively of the exact form of time reversal .",
    "in this case , the reverse evolution is unitary and therefore the situation is exactly analogous to the previous case . as argued earlier , the causality axiom does not hold in the reverse direction , because in the forward direction of time we can know that standard ( as well as non - standard ) circuits have taken place in the past , and these circuits violate the causality axiom in the reverse direction .",
    "we thus see that the time - reversed future measurement can not be a standard one .",
    "this means that the preparation in the past boundary of the universe in the forward direction can not give rise to the maximally mixed state on average .",
    "notice that if the preparation gave rise to the maximally mixed state on average , it would be impossible for us to remember anything consistently with unitarity since there would be no way that a system coming from the past could ever be correlated with any other system coming from the past . by the same token",
    ", we can understand the fact that we do not remember the future as corresponding to the form of the future boundary measurement .    in the above argument",
    ", we considered the cases in which an observer describes the past only , or the future only .",
    "one may consider cases where the observer occupies an intermediate region too , and describes the rest of the universe both in the past and in the future .",
    "however , since the observer should be part of the universe and hence it should be possible to consistently embed her in a larger unitary circuit , the description can not include all systems in the universe at a given time , i.e. , we have to introduce a heisenberg cut which can in principle be pushed away arbitrarily far .",
    "if we perform the analogous argument in that case , the conclusion would not concern the boundary conditions on the entire universe , but only on the ` rest of the universe ' from the perspective of the observer .",
    "we remark that in arguments involving the idealized global picture of the universe , it is common to regard the universe as originating in a deterministic ( typically pure ) state .",
    "this would mean that our preparation can be further purified , and the information about it transferred to the future through additional systems , thus putting the observer always in the future by definition .",
    "but such a picture can not consistently depict an observer who reasons about the future , even though the very picture is meant to represent the reasoning of such an observer .",
    "in contrast , the symmetric picture we have presented allows us to think of an observer in the past too .",
    "this is not in conflict with the observable predictions of the other picture because any classical information about the past that would be transferred to the future in that picture could still be transferred to the future by the same mechanism , except that here we allow a copy of it to remain in the past .",
    "interestingly , the symmetric picture does not necessitate that all classical information available in the past is available in the future  we can conceive of the possibility that there is information in the past that can not be inferred from the future measurement , just like there is information in the future that can not be known in the past .",
    "one can think of this as information that is erased in the forward direction of time .",
    "we have argued that the distinction between past and future , which at the level of personal experience arguably arises form the distinction that we remember the past and not the future , is directly linked to the past and future boundary conditions in this picture . to what extent these boundary conditions , as well as the operations describing the dynamics in intermediate regions ,",
    "are objective or a matter of assumption , and how an observer arrives at their description as a result of experience is a very interesting question , but it goes beyond the scope of this paper .    by considering the purification of circuits on larger systems , we can understand the mechanism by which information about these circuits reaches different space - time locations .",
    "for example , fig .",
    "[ divination ] illustrates how a non - standard future boundary measurement can lead to present information about non - standard operations in the future .",
    "this illustrates that associating operations with information about regions as a whole , without assuming _ a priori _ at what times different parts of this information may be available , seems a well defined approach in which any specifics about when that information may be available naturally come out from properties of the circuit describing the mechanics in space - time . here",
    ", we assumed that except for the past and future boundary operations the evolution of the universe is unitary , but the framework is in principle compatible with more general mechanical laws , and the distribution of information in that case can be analyzed in a similar way .",
    "gives rise to correlations between the outcomes of a preparation @xmath294 at present and an effective set of cp maps @xmath295 in the future that may not be proportional to cptp maps.,width=302 ]    the role of the past and future boundary conditions in the above picture is in a way reminiscent to that in classical mechanics , where in order to determine the solution of the evolution equations we need to specify either past boundary conditions in phase space or past and future boundary conditions in configuration space .",
    "these parameters are , by definition , not part of the prescriptions of the mechanical theory and are provided externally .",
    "it is also worth noting the similarity between the asymmetry in this picture and the asymmetry in statistical mechanics . in the latter case",
    ", the apparent discrepancy between the time - reversal asymmetry of the second law of thermodynamics and the symmetry of the laws of mechanics is reconciled based on the statistical distribution of initial conditions ( or , equivalently , past and future boundary conditions in configuration space ) .",
    "this analogy with thermodynamics and the fact that the origin of the asymmetry can be seen as responsible for the fact that we remember the past and not the future seems to share some connections with a recent argument by mlodinow and brun that links the thermodynamic and psychological arrows of time @xcite .",
    "the rigorous relation with these subjects is an interesting question for investigation .",
    "similar ideas about the role of past and future boundary conditions in quantum mechanics have been investigated previously , for example , in the context of the two - state vector formalism @xcite and in the formalism of consistent histories @xcite .",
    "the main difference in our analysis is its strictly operational formulation and the more general concept of operation that it is based on . in particular",
    ", the future boundary condition here is not interpreted as a constraint on the future state of the universe , but on the future effects .",
    "the circuit picture gives an explicit description of the flow of information in space - time , where classical information by definition lives on the boundary .",
    "even though according to the developed framework each operation can be viewed as a valid operation in either direction of time , calculating probabilities in this formulation requires one to foliate a circuit and apply transformations in a particular order . in this section , we will develop a time - neutral formulation in which we do not need to respect such an order .",
    "this will allow us to extend the framework to circuits with cycles , and ultimately to drop the assumption of predefined time .",
    "to this end , we will represent each transformation by a pair of positive semidefinite operators via a mapping inspired by the choi - jamiokowski ( cj ) isomorphism @xcite , which , however , only in a special case reduces to applying a version of the cj isomorphism to each cp map in the pair of cp maps that describes a transformation . consider a transformation",
    "@xmath296 ( the purpose of introducing the subscript @xmath297 to the labels of the systems will become clear below ) .",
    "we will define a representation of this transformation @xmath298 in terms of positive semidefinite operators @xmath299 where @xmath300 is a copy of @xmath301 .",
    "take the transformation that describes time reversal for the system @xmath302 ( eqs .",
    "introduce a system @xmath303 that is a copy of @xmath304 , and define the maximally entangled state @xmath305 , where the set of states @xmath306 is an arbitrary orthonormal basis of @xmath304 , and @xmath307 is its copy in @xmath303 .",
    "the operators @xmath308 are given by : @xmath309^{\\mathrm t}{s^{b_2}}^{\\dagger } } { { \\mbox{tr}}\\left\\ { s^{b_2}\\left[\\overline{{\\cal m}}^{a_1'\\rightarrow b_2}\\left(|\\phi^+{\\rangle}{\\langle}\\phi^+|^{a_1a_1'}\\right)\\right]^{\\mathrm t}{s^{b_2}}^{\\dagger }             \\right\\ }    } , \\label{cj1}\\\\ \\overline{m}^{a_1b_2}:=d_{a_1}d_{b_2}\\frac{s^{b_2}\\left[\\overline{{\\cal m}}^{a_1'\\rightarrow b_2}\\left(|\\phi^+{\\rangle}{\\langle}\\phi^+|^{a_1a_1'}\\right)\\right]^{\\mathrm t}{s^{b_2}}^{\\dagger } } { { \\mbox{tr}}\\left\\ { s^{b_2}\\left[\\overline{{\\cal m}}^{a_1'\\rightarrow b_2}\\left(|\\phi^+{\\rangle}{\\langle}\\phi^+|^{a_1a_1'}\\right)\\right]^{\\mathrm t}{s^{b_2}}^{\\dagger }             \\right\\ }   } , \\label{cj11}\\end{gathered}\\ ] ] where @xmath310 is a copy of the operator @xmath311 that appears in the definition of time reversal for system @xmath302 , and @xmath312 denotes transposition in the basis @xmath306 of @xmath313 and the basis of @xmath314 which is a copy of the transposition basis for the time reversal of @xmath302 .",
    "( every map or operator specified only on a subset of all systems is implicitly assumed extended to all systems via a tensor product with the identity on the rest of the systems , e.g. , @xmath315 . )",
    "reversely , in terms of @xmath308 , the result of applying the transformation @xmath296 on a state @xmath316 is given by @xmath317 @xmath318}{{\\mbox{tr } } [ \\overline{m}^{a_1b_2}(\\overline{\\rho}^{a_1}\\otimes |\\phi{\\rangle}{\\langle}\\phi|^{b_1b_2 } ) ] } , \\label{cj2}\\\\ \\overline{\\kappa}^{b_1 } = \\frac{{\\mbox{tr}}_{a_1b_2 } [ \\overline{m}^{a_1b_2}(\\overline{\\rho}^{a_1}\\otimes |\\phi{\\rangle}{\\langle}\\phi|^{b_1b_2})]}{{\\mbox{tr } } [ \\overline{m}^{a_1b_2}(\\overline{\\rho}^{a_1}\\otimes |\\phi{\\rangle}{\\langle}\\phi|^{b_1b_2 } ) ] } , \\label{cj22}\\\\\\end{gathered}\\ ] ] where @xmath319 denotes partial trace over @xmath320 , and @xmath321 , where @xmath322 is the transposition basis for the time reversal of @xmath302 , and @xmath323 is its copy in @xmath314 .",
    "( here , again , tensor products with the identity is implicit , e.g. , @xmath324 . )",
    "since @xmath311 is defined up to an overall factor , without loss of generality we will assume that it is normalized as @xmath325 and we will simply write @xmath326 or @xmath327 ( corresponding to the form of time reversal for bosons and fermions , respectively , in the case when @xmath311 is unitary @xcite ) , and this implies that the vector @xmath328 is either symmetric or anti - symmetric with respect to interchanging systems @xmath302 and @xmath314 , latexmath:[\\[\\begin{gathered }    this ( anti-)symmetry of the state makes sense only if we have a correspondence between the basis of @xmath302 and the basis of @xmath314 , which was assumed here .",
    "as we will see , the physical meaning of this correspondence is given precisely by the transformation of time reversal .",
    "at the level of operators , the overall sign disappears , and we simply have @xmath330    in the above representation , a general operation @xmath331 can be described by a collection of positive semidefinite operators @xmath332 with the normalization @xmath333 . in the case when @xmath293 , the representation agrees with the choi isomorphism @xcite ( modulo an overall transposition @xcite and a different normalization ) applied to each cp map in the operation .    in order to represent the formula for the probabilities of a circuit in a way that does not require writing down the operations in any particular order , we will describe the cp maps in the separate boxes as operators defined on _ separate _",
    "systems @xcite , even if the boxes may be connected to each other by wires .",
    "figuratively , one can think that each junction where a wire gets attached to a box in the graphical representation of operations corresponds to a different system .",
    "each wire will therefore be associated with two systems ",
    "one for each end of the wire  instead of just a single system .",
    "it is important to note that the objects in a circuit are not assumed to have specific temporal durations ; they are simply logical transformations .",
    "but if we nevertheless think that there is a time duration associated with them in a particular implementation , a wire is supposed to have a zero duration ",
    "it merely represents the connection between operations and would be associated with the instant at which one operation ends and another one begins .",
    "therefore , the fact that we propose to associate two systems with each wire should not be confused with the idea that these are systems associated with different instants of time  the two systems corresponding to the ends of the same wire are associated with the same instant .",
    "we will label the different systems by capital letters , @xmath0 , @xmath1 , @xmath119 , etc .",
    ", with the subscript @xmath297 added to those system that are attached to the past side of a box ( each of these corresponds to the ` future ' end of some wire ) , and the subscript @xmath334 added to those systems that are attached to the future side of a box ( these correspond to the ` past ' end of some wire ) ; see fig .",
    "[ twosyst ]",
    ". we will refer to these systems as systems of type @xmath297 and type @xmath334 , respectively .",
    "the operations inside each box will be represented by collections of positive semidefinite operators according to the representation above , defined on the hilbert spaces of the systems attached to the box , whose subscripts @xmath297 and @xmath334 have been chosen to match those in the definition .",
    "we will use different letters to denote the operators of events in different boxes .",
    "the different operations will thus be written as collections of operators @xmath335 , @xmath336 , etc .    , while the one associated with the ` past ' end of a wire as of type @xmath334 .",
    "each wire is described by some entangled state @xmath337 on the tensor product of the two hilbert spaces .",
    "the operations in the boxes are described by collections of positive semidefinite operators on the hilbert spaces of the wire ends attached to it .",
    "the probabilities for the events in the circuit are given by formula .",
    ", width=321 ]    with each wire in the circuit , such as the one between systems @xmath338 and @xmath339 in fig .",
    "[ twosyst ] , we will associate the entangled state @xmath340 , defined as explained above , and with the collection of all wires in the circuit , we will associate the tensor product of the corresponding states , @xmath341 .",
    "the joint probabilities for the outcomes of a set of operations connected in a circuit , such as the one depicted in fig .",
    "[ twosyst ] , are then given by @xmath342   } { { \\mbox{tr}}\\left[w^{a_2b_2c_1\\cdots } \\left(\\overline{m}^{a_2b_2}\\otimes \\overline{n}^{c_1d_2e_2 } \\otimes\\cdots\\right)\\right ] } , \\label{wcircuit}\\end{gathered}\\ ] ] for @xmath343}\\neq 0 $ ] .",
    "the validity of this formula can be verified easily from the isomorphism equations , and , .",
    "indeed , from , we see that the operators describing preparation events coincide with the time - reversed images of the corresponding states . by contracting ( taking the partial trace of ) these operators with the state @xmath337 of the wire attached to the box",
    ", we obtain the actual states on the other end of the wire , which is an input of a subsequent box .",
    "from , we see that by contracting the operators describing the transformations in any box with the state on its input systems and with the state of the output wires on those ends attached to the box , leaves on the other end of the output wires the result of the transformation in that box applied on the input state .",
    "these transformations continue until the evolved state is finally contracted with the effect of a final measurement , which in this representation is identical to the representation @xmath344 used earlier .",
    "that is , the expression is equal to the corresponding expression in eq .  .",
    "notice that if we imagine disconnecting a wire in the circuit at a junction corresponding to a system of type @xmath297 , the pair of operators that we obtain on this end of the wire by contracting the events in the boxes and the wires in the past , is exactly the state that would result from the sequence of past transformations up that point . in this sense , the notion of system in the usual formulation of quantum theory corresponds to the systems of type @xmath297 .",
    "similarly , the states that we obtain under time - reversal live on the systems of type @xmath334 .",
    "now we are in a position to understand the meaning of the isomorphism between the hilbert spaces on the two ends of a wire that was assumed by declaring that they are copies of each other .",
    "consider a preparation and a measurement connected by a wire , where the preparation box is attached to the system of type @xmath334 and the measurement box to the system of type @xmath297 .",
    "imagine that we could take the measurement box and physically ` flip ' its time orientation so that we could plug it in the place of the preparation box , that is , attach it to the type-@xmath334 end of the wire .",
    "this flipped box is now a preparation that can be operationally characterized by measurement boxes connected to the type-@xmath297 end of the wire , which have not been flipped . as noted earlier , this preparation is the time - reversed image of the original measurement . by construction ,",
    "the states that we obtain on the system of type @xmath334 when we connect the original ( not flipped ) measurement to the type-@xmath297 end of the wire , are copies of the states that we would obtain on the type-@xmath297 end of the wire if we attach the flipped measurement to the type-@xmath334 end .",
    "the equivalence between the different states on both ends of the wire is therefore exactly the one defined by the physical transformation of time reversal .    in introducing this framework , we defined the descriptions of operations and wires assuming the transformation of time reversal .",
    "however , the idea is to regard this as reverse engineering .",
    "what we are proposing is that quantum theory is described by the general formalism above , where the content of each box is represented by a set of positive semidefinite operators and each wire is described by some entangled pure state @xmath337 . _",
    "a priori _ , the states of the wires can be any , and which specific states they are is a feature of the mechanics that we find out to govern the physics around us .",
    "thus , time reversal should be understood as determined by the states of the wires , rather than the other way around .",
    "( the entangled state of a wire can be assumed to have a maximal schmidt rank , since if it does not , we can redefine the dimension of the systems on both ends of the wire . ) even though time reversal as understood at present is described by a unitary @xmath235 ( corresponding to maximally entangled states of the wires ) , we will leave open the possibility for arbitrary @xmath235 , since we do not have a reason to discard it .",
    "the form of eq .   allows us to treat the information about the wiring between boxes separately from the information about the content of the boxes , which opens up different possibilities for generalization .",
    "in particular , it allows us to immediately extend the framework to circuits that involve cycles , such as the one in fig .",
    "we simply define the same formula to provide the probabilities in such cases too , with @xmath258 encoding the corresponding wiring .",
    "this rule is in agreement with a model of quantum theory in the presence of closed time - like curves ( ctcs ) @xcite which has become known as post - selected ctcs , as it can be simulated by post - selection ( see for comparison the model of deutsch @xcite ) .",
    "notice that within the more general paradigm permitting cycles , any fragment of an acyclic circuit , such as the one in fig .",
    "[ segment ] , can be regarded as a valid operation if we disregard the underlying causal structure with respect to which the different inputs and outputs of the fragment are ordered , and regard the circuit as a cyclic one .",
    "indeed , since all systems of type @xmath297 are always connected to systems of type @xmath334 , the fragment and its complement can be seen as two operations connected to each other in a loop . a formalism that describes fragments of standard circuits , called _ quantum combs _ , has been developed by chiribella , dariano , and perinotti @xcite .",
    "an alternative formalism , the _ duotensor _ framework , has been developed by hardy @xcite . in our formalism , the hierarchy of quantum combs collapses and all fragments are equivalent to operations .",
    "consider the composition between two operations @xmath345 and @xmath346 , where system @xmath313 is connected to system @xmath347 and system @xmath348 is connected to system @xmath349 ( the systems in each pair obviously must have the same dimension ) .",
    "the resultant operation is @xmath350 , where    @xmath351 } { { \\mbox{tr}}\\left [ |\\phi\\rangle\\langle\\phi|^{a_1g_2}\\otimes   |\\phi\\rangle\\langle\\phi|^{e_1c_2 }   \\left ( \\overline{m}^{a_1b_1c_2d_2}\\otimes \\overline{n}^{e_1f_1g_2h_2}\\ \\right ) \\right ]   } , \\hspace{0.2 cm }   \\forall i\\in o , j\\in q,\\end{gathered}\\ ] ]    for @xmath352   } \\neq 0 $ ] , or the null operation @xmath353 otherwise .",
    "this formula expresses the most general composition rule in this framework , because , without loss of generality , all systems of type @xmath297 for each of the two operations can be grouped into two systems , one of which is being connected while the other one is left free , and similarly for the systems of type @xmath334 .",
    "it also captures the notion of parallel composition , which can be thought of as the case where the trivial ( 1-dimensional ) system of type @xmath334 of one operation is connected to the trivial input system of type @xmath297 of another .",
    "the compositions of three or more operations also follows from this rule .",
    "similarly to the case of acyclic circuits , the probabilities in the formula for general circuits with cycles can be seen as the operators associated with the outcomes of an operation from the trivial system to itself .    from formula",
    ", we can obtain a similar expression for the joint probabilities of the outcomes of only a proper subset of all operations in a circuit , conditionally on information about the other operations .",
    "we will denote the variables describing the rest of the circuit collectively by @xmath354 .",
    "for example , if we only ask about the probabilities for the outcomes of the operations @xmath335 and @xmath355 in fig .",
    "[ twosyst ] , we can write them as @xmath356 } { { \\mbox{tr}}\\left [ w^{a_2b_2c_1d_2e_2}\\left(\\overline{m}^{a_2b_2}\\otimes \\overline{n}^{c_1d_2e_2}\\right ) \\right]},\\end{gathered}\\ ] ] where @xmath357 is a positive semidefinite operator associated with the variables @xmath354 .",
    "specifically , if @xmath354 corresponds to the events in the remaining boxes in the circuit being described by some specific operators @xmath358 and @xmath359 , we have @xmath360 } { { \\mbox{tr}}\\left[w^{a_2b_2c_1d_2e_2f_1g_1h_1}\\left ( l^{f_1g_1}\\otimes p^{h_1}\\right)\\right]}\\notag.\\end{gathered}\\ ] ] these operators @xmath358 and @xmath359 could be the operators obtained upon learning specific outcomes @xmath361 and @xmath362 , or operators describing partial information about the outcomes obtained according to eq .  , including the total operators @xmath363 and @xmath364",
    "similarly , given further knowledge that the event in the box containing @xmath335 is described by some operator @xmath365 , we can write the probabilities for the outcomes of @xmath355 as @xmath366 where @xmath367 is obtained from @xmath357 according to @xmath368 } { { \\mbox{tr}}\\left[w^{a_2b_2c_1d_2e_2}\\left ( m^{a_2b_2}\\right)\\right]}.\\end{gathered}\\ ] ]    most generally , the probabilities for the outcomes of some separate operations , each acting on some systems of type @xmath297 and @xmath334 ( below unified in single letters for brevity ) , performed in some circumstances defined by variables @xmath354 , is given by an expression of the form @xmath369 } { { \\mbox{tr}}\\left [ w^{a_1b_2c_1d_2}\\left(\\overline{m}^{a_1b_2}\\otimes \\overline{n}^{c_1d_2}\\otimes\\cdots\\right ) \\right ] } , \\label{pmform}\\end{gathered}\\ ] ] where @xmath370 ( this is defined for @xmath371}\\neq 0 $ ] . ) conditionally on information about the events in some operations , the reduced operator @xmath258 for the remaining operations is obtained as outlined above .    any operator satisfying eq",
    ".   can be obtained by embedding the separate operations in a suitable acyclic circuit with operations of the more general kind that can be implemented using post - selection . a universal way of obtaining an arbitrary operator @xmath372 is the following .",
    "prepare a standard density operator ( deterministic state ) @xmath373 , which has identical components to those of @xmath372 but is defined over some forward oriented systems @xmath374 , @xmath375 , @xmath376 which are copies of @xmath314 , @xmath377 , @xmath376 .",
    "the systems @xmath313 , @xmath378 , @xmath376 are fed into the inputs of the operations , while the systems @xmath374 , @xmath375 , @xmath376 together with the corresponding output systems of the operations ( let us call them @xmath302 , @xmath379 , @xmath376 ) are subject to a measurement of which an outcome with measurement operator proportional to @xmath380 is post - selected .",
    "the latter effectively ` teleports ' the part of the initial density operator that lives on @xmath374 , @xmath375 , @xmath376 onto the systems @xmath314 , @xmath377 , @xmath376 .",
    "in other words , the class of joint probabilities between separate operations of the form is equivalent to the class of such probabilities obtainable with acyclic circuits with post - selected operations . in order for this procedure to be geometrically possible , it is sufficient that we have a space - time of dimension 2 + 1 or higher .",
    "this guarantees that all systems that are measured at the final time occupy a space of dimension at least 2 so that any necessary pairwise interactions can be realized without contradiction ( e.g. , if all systems are ordered in a 1-dimensional chain , they can be accessed as desired from the additional dimension ) .",
    "this can also be seen to follow from the fact that any graph can be embedded in a 3-dimensional space without crossing of its edges .",
    "this means that , modulo the transformation that describes time reversal ( which according to the present understanding of quantum mechanics can be described by unitary @xmath235 ) , all correlations are physically admissible in the generalized sense that we consider .",
    "the above procedure can also be interpreted as embedding the separate operations in a circuit with a cycle , where the systems @xmath313 , @xmath314 , @xmath376 , of the separate operations are connected , respectively , to the systems @xmath381 , @xmath374 , @xmath376 , of a single - outcome operation described by the operator @xmath382 which implements a transformation from the outputs of the separate operations to their inputs .",
    "notice that this is itself a valid operation associated with the region connecting the different operations according to the closed - box assumption , since it can be implemented in an isolated fashion .",
    "also , any correlations between operations embedded in some circuit where cycles are allowed are always of the form . in other words ,",
    "the class of correlations are equivalent also to the class of correlations obtainable by circuits with cycles .",
    "we point out that within the general approach to operations that we are considering , any physical circumstances in which the correlations between a set of separate operations is described by the expression , even if they are not assumed to arise from a circuit , are physically equivalent to a general circuit with a cycle .",
    "this is because , if the individual operations satisfy the closed - box assumption , then the collection of events that define the circumstances in which the operations take place , and hence the operator @xmath258 , must be external to the boxes of the operations and so they would define a valid operation in the exterior of their boxes , which can be seen as a box directly connected to the inputs and outputs of the operations . is not associated with events in any exterior region .",
    "for example , we may imagine that the separate operations occupy regions of a space with indefinite topology and thereby have indefinite connections , without there existing any additional region in that space that could contain an operation completing the experiment to a cyclic circuit . in that sense ,",
    "eq .   is a more general starting point than the framework of circuits with cycles .",
    "however , one can in principle always extend the underlying space by postulating the existence of a region that completes the experiment to a circuit . ] this will be illustrated in the following section .",
    "let us also show that all cyclic circuits are obtainable in practice with the use of post - selection .",
    "a way of creating an arbitrary circuit is the following . using the teleportation method outlined above",
    ", we can realize an operator @xmath258 equal to the one describing the wires connecting the different operations in the circuit .",
    "strictly speaking , however , this is not the desired circuit because here the connection between the regions of the original operations would be mediated by effective back - in - time identity channels , which are not the same things as wires . indeed ,",
    "` genuine ' wires are associated with the immediate point of contact of regions . to remedy this",
    ", we can simply redefine the regions occupied by the operations in the circuit , for instance by extending each of them along the identity channels connected to its outputs until it reaches the inputs of the operations it is supposed to connect to . in this way , the regions of the operations will be directly connected to each other .    the operator @xmath258 in expression is a generalization of the _ process matrix _ introduced in ref .",
    "@xcite , and we will refer to it in the same way , or rather , as a _ process operator _ , since the actual object is the operator , while the matrix is its description in a given basis .",
    "the original concept of process operator was proposed as a means of describing the correlations between local standard quantum operations without the assumption that the operations are part of a standard quantum circuit .",
    "it was derived assuming that the joint probabilities for the outcomes of the operations are non - contextual and linear functions of the cp maps describing their outcomes , as well as that the local operations can be extended to act on joint input ancillas in arbitrary quantum states .",
    "the requirement of linearity and normalization on local cptp maps in that approach gives rise to additional asymmetric constraints on @xmath258 , which are not part of the present framework .",
    "remarkably , in the present framework the process operator can be naturally interpreted as the operator describing a deterministic quantum state ",
    "formula is exactly analogous to the formula for the probabilities for the outcomes of a set of local measurements of the generalized kind applied on a joint deterministic state . ignoring the subscripts @xmath297 and @xmath334 , the operators of an operation @xmath332 are equivalent to the operators describing a measurement on a pair of input systems @xmath313 and @xmath314 . by construction",
    ", they have the right normalization , and in the case when the system @xmath314 is trivial , @xmath383 coincide with the standard measurement operators .",
    "the process operator @xmath384 also has the form of a deterministic state , and in the case of trivial systems of type @xmath334 , it coincides with a standard deterministic state .",
    "furthermore , when the systems of type @xmath297 are trivial , the operators of the operations coincide with the operators of the corresponding time - reversed measurements obtained via eq .  , while the operator @xmath258 coincides with the corresponding time - reversed state . in other words ,",
    "a general operation @xmath332 can be thought of as implementing a joint destructive measurement on two input systems ",
    "one from the past and one from the future .",
    "the deterministic state @xmath385 on which that measurement is applied , which generally depends on events both in the past and in the future of the measurement , is our version of the two - state vector idea @xcite . in the simple special case when the operation is sandwiched between the preparation of a state @xmath386 and a post - selection on a measurement outcome with operator @xmath387",
    ", our state is @xmath388 .",
    "this formally resembles the original two - state vector , but there are principal differences between the two - state vector and the state above . the less major ,",
    "though still important , difference is the fact that the two states in the abl formalism are associated with the same time instant , whereas here they are associated with two different times . at a single instant , we can also have two systems , but these are the two ends of a wire and they are always in the entangled state @xmath337 . more importantly , the backward ` evolving ' state in the abl two - state vector lives in the dual of the forward - oriented state space , i.e. , it is actually an effect .",
    "in contrast , here the state @xmath389 is the image of the effect under the physical transformation of time reversal , and it thus literally represents a state with reverse time orientation .",
    "the effects in our picture are the operators @xmath390 describing ` transformations ' .",
    "this fact will be important for obtaining a unified picture with no _ a priori _ time later .",
    "the operator @xmath384 in the general case is our analogue of the most general concept developed in the two - state vector approach ",
    "the multi - time mixed state @xcite  again differing in its meaning and axiomatic foundations as described .",
    "we remark that an isomorphism between the two - state picture and the present picture with @xmath293 , but without physical interpretation of the second system or the choice of transposition basis , has recently been noticed in ref .",
    "@xcite .",
    "it should be underlined that the state @xmath384 is not to be thought of as a description of physical systems as they are in space - time .",
    "the description of physics in space - time is given by a circuit , not a state .",
    "a state is associated with the free wires of a circuit fragment .",
    "figuratively , we can imagine removing some of the boxes in a circuit , thus leaving certain wires free . a state is then associated with the free ends of the wires on the boundary of the empty region , while the content of the region , that is , the box plugged in it , describes the measurement applied on that state .",
    "notice that given information about the content of part of an empty region , the reduced state associated with the remaining empty part gets updated via the same rule by which we update the reduced density operator of a subsystem of a composite system in some joint state conditionally on information about a measurement event on its co - subsystem .",
    "finally , notice that given a state @xmath384 associated with the boundary of several apparently separate regions in a circuit , in which the local measurements @xmath332 , @xmath336 , @xmath376 , are inserted , it is also possible to conceive applying arbitrary ` nonlocal ' measurements , @xmath391 , on the state . indeed ,",
    "this could be done in principle with the use of entangled ancillas and post - selection .",
    "in such a case , the boundary of a region which is the union of separate regions becomes the boundary of a connected region obtained by introducing additional communication channels between the original regions .",
    "as we have seen , the paradigm of circuits that permit cycles allows us to treat acyclic circuits in a more general fashion by regarding any fragment of a circuit as a valid operation .",
    "of course , this is nothing but a more general formalism applied to the same old phenomena that can be described by acyclic circuits as well .",
    "we will now argue that there exist simple phenomena obtained without post - selection , which can not be described by acyclic circuits ( or quantum combs ) , but can be described by cyclic circuits , and that they indeed correspond to circuits with cycles according to our notion of operations .",
    "we will assume that @xmath293 for simplicity , since the argument does not depend on the exact form of time reversal .",
    "a simple example is a process operator for two separate operations , @xmath332 and @xmath336 , which has the form @xmath392 ( here @xmath393 ) .",
    "this process operator is an equally weighted convex mixture of two process operators .",
    "one of them describes a situation where a state @xmath223 is fed into the input of the operation @xmath332 , after which the output system of @xmath332 is sent through a perfect channel into the input of @xmath336 , and then the output of @xmath336 is discarded , i.e. , subjected to the standard unit effect [ in our language , the effect @xmath394 .",
    "the other process operator describes the analogous situation with the roles of @xmath332 and @xmath336 interchanged .",
    "the process operator @xmath395 does not correspond to the operations being embedded in a fixed standard circuit without post - selection , because for any such circuit , when the operations are standard quantum operations , there must be zero signaling in at least one direction between the operations , while here we can have some signaling in both .",
    "the correlations described by this process operator could be obtained in practice by implementing at random one of the two circuit scenarios corresponding to the two process operators of which the whole process operator is a mixture .",
    "we can imagine that this is done in such a way that the operation @xmath336 is always applied at a fixed time , while @xmath332 may be applied before or after that time depending on which circuit scenario is realized .",
    "the time of @xmath332 can be determined conditionally on the value of a classical random bit , which we will refer to as the control bit ( generalizations to cases with a control qubit prepared in a coherent superposition of control states can also be considered @xcite ) .     or @xmath297 ) .",
    "alice and bob do not share a common time reference and each performs her / his operation upon receiving of the input system during a fixed time interval @xmath396 .",
    "each of them thus exchanges information with the rest of the experiment only through the respective input and output systems .",
    "when the value of the control bit is unknown , the operation @xmath397 taking place in the external region does not correspond to a fragment of an acyclic circuit that contains the operations of alice and bob .",
    "nevertheless , each region contains a valid operation and all operations are connected in a circuit.,width=321 ]    we want to argue that in such a situation we can still think of the operation @xmath332 as applied once in agreement with the closed - box assumption , even if it may occur at two possible times .",
    "let us imagine that the operations @xmath332 and @xmath336 are performed by two experimenters , alice and bob , respectively , each of whom resides inside a closed laboratory and applies the respective operation within a fixed time duration @xmath396 upon receiving of an input system , after which the transformed system is immediately sent out ( the necessary transmission of information between the laboratories of alice and bob can be implemented by a suitable mechanism outside ) .",
    "the reason why we require that the operations of each party have a fixed time duration is to exclude the possibility that by modulating the duration the parties can exchange with the outside world information additional to the one carried through the input and output systems .",
    "we also need to make sure that the parties do not possess clocks synchronized with outside events in the experiment , since otherwise they could learn additional information by reading the time at which they receive their input systems .",
    "we can imagine that each of them implements her / his operation with a stop watch , which is started upon receipt of the input system and stopped upon release of the output system .",
    "the fact that bob performs a valid operation in these circumstances should be non - controversial since his experiment is the paradigmatic example of what an operation is envision to correspond to in practice . even though alice s operation may take place at two possible times as measured by an external clock",
    ", it should be intuitively clear that from the point of view of alice , her experiment looks no differently than the way bob s experiment looks to bob .    to illustrate explicitly that both alice s and bob s experiments are valid operations",
    ", we will analyze the setup from a more general space - time perspective .",
    "as is well known @xcite , in classical physics the coordinates in the space - time manifold do not have a physical meaning .",
    "when we describe physics in terms of such coordinates , we may choose any coordinate grid .",
    "the causal structure of space - time ( captured by the null geodesics ) , when described relative to that grid , may curve and twist in any direction depending on the choice of the grid , which , however , would not represent different physics as it is only the relational degrees of freedom between physical objects that matter .",
    "we will assume that the same remains true when we analyze random events of the kind above , and will illustrate the closed - box idea in a suitable graphical representation by choosing coordinates in the space - time manifold such that the operations of alice and bob take place in fixed regions as described by these coordinates ( fig .",
    "[ aandb ] ) . inside each of the two regions ,",
    "we can assume a fixed causal structure where the input precedes the output .",
    "the stopwatches of alice and bob in those regions would display readings in a fixed range from the input to the output .",
    "however , without any additional information , the causal structure and events taking place outside of the two regions can be any .",
    "in a situation in which alice performs her operation first , and then her output is sent to the input of bob , the future light cone of alice s output must curve in such a way with respect to the chosen grid that bob s input is inside it . in such a case , the circuit diagram describing the transmission of information , curved correspondingly , would look as the green picture in fig .",
    "[ aandb ] . in the case when bob is before alice , the circuit would look like the red picture in fig .",
    "[ aandb ] .",
    "notice that in each of these cases , the region that connects the boxes of alice and bob , which contains the events relevant to this experiment that are external to these boxes , corresponds to a single operation from the outputs of the parties to their inputs .",
    "however , in each of these cases , this operation can be further decomposed into several operations ( a preparation , a channel , and a unit effect ) so that it can be seen as a fragment of a standard quantum circuit that contains the operations of alice and bob .",
    "but when the control bit is unknown and therefore the causal structure in that intermediate region is unknown , the operation that we assign to that region does not correspond to a fragment of an acyclic circuit that contains the operations of alice and bob .",
    "it is nevertheless a valid operation from the point of view of the closed - box assumption [ described by the operator @xmath398 , because the information about it is obtained without looking into the boxes containing the operations of alice and bob .",
    "we therefore see that we have a bona fide example of a nontrivial cyclic circuit , which can be realized in practice without post - selection .",
    "a cyclic circuit does not mean the transmission of information back in time relative to the standard background time .",
    "for instance , in the specific case depicted in green in fig .",
    "[ aandb ] , the global operation in the region between alice and bob has as its inputs the outputs of the parties , and as its outputs their inputs .",
    "however , the transmission from input to output effected by the box is localized between @xmath374 to @xmath399 , and the time of @xmath374 is before the time of @xmath399 .",
    "the time of @xmath374 is after the time of @xmath381 , but there is no transmission of information from @xmath374 to @xmath381 .",
    "similarly , the time of @xmath375 is after the times of both outputs , but there is no transmission of information from @xmath375 to the outputs . in the general case , the actual times of these events , if they could be measured , would analogously be in agreement with the direction of information transmission .",
    "( we note that even more general situations where the time of these input and outputs is indefinite may be obtained , if the control system determining the order is in a superposition and it is sent together with the outcomes of the last party into the laboratory of a third party , charlie , so that the charlie s measurements can erase the information about the time @xcite . )    the above example is a demonstration that the standard circuit paradigm does not capture all scenarios involving closed - box operations even in scenarios obtained without post - selection in agreement with the known laws of quantum mechanics ( the same holds also for classical probabilistic theories , since the above argument holds also for purely classical operations ) .",
    "the more general circuit paradigm that we have introduced , however , can describe these scenarios .",
    "the fact that the situation in the previous example corresponds to a cyclic circuit without an actual transmission of information back in time illustrates the fact that the circuit structures in the more general framework we are considering are logical structures , in which the order of operations does not necessarily correspond to time .",
    "but if time is not the ordering of operations , then what is it ?    as we have seen in that example ( fig .",
    "[ aandb ] ) , the causal structure outside of the regions of alice and bob concerns information pertaining to that outside region , and there is a correspondence between the causal structure and the operation taking place in that region .",
    "this suggests that time and causal structure should be searched for in properties of the content of the boxes in space - time , rather than the way boxes are composed ( especially since the concept of order in the composition is flexible in this setting , as we have seen ) .",
    "but in the framework developed so far , we have a distinction between systems of type @xmath297 and type @xmath334 , which was inherited from the background time assumed in deriving the formalism .",
    "does this mean that some notion of time , even if a primitive one , has to be defined from the outset ?",
    "observe that within the formalism for correlations between separate quantum operation in terms of a process operator , which can be interpreted as describing the outcomes of measurements on a joint quantum state , we can arbitrarily redefine the types of the different systems ( @xmath297 or @xmath334 , interpreted as inputs from the past and from the future , respectively ) , and the expression remains valid except that we would attach different interpretations to the systems .",
    "this shows that the labels @xmath297 and @xmath334 are superfluous as far as the joint probabilities of events are concerned .    . in the general case",
    ", a wire could transmit information in both directions .",
    "the joint probabilities for a network of operations is given by eq .",
    ".,width=207 ]    our proposal therefore is to abandon the _ a priori _ distinction between systems of type @xmath297 and type @xmath334 and regard all systems as equivalent . to give a further rationale for this ,",
    "consider an arbitrary fragment of a circuit .",
    "if that fragment has a suitable form , it may be equivalent to a standard operation where all input wires are in the past of all output wires .",
    "in such a case , we are allowed to group all input wires and regard them as one big wire of a larger dimension , and similarly for the output wires .",
    "it is desirable , however , that we can do the same for any set of nearby wires on the boundary of any circuit fragment .",
    "but for a fragment of an arbitrary form , the boundary may consist of alternating input and output wires , so by grouping them together , we would obtain a wire that transmits information in both directions , not a single one .",
    "in fact , if one conceives an extension of the discrete circuit framework to continuous space - time regions ( see discussion below ) , where every region contains the continuous limit of a circuit fragment and the wires correspond to local areas of the boundary hypersurface , one sees that a wire necessarily transmits information in both directions in the general case .",
    "if we imagine a region whose boundary contains time - like parts , any local area of the boundary hypersurface that is not space - like would be pierced by both input and output wires .",
    "even if we take the limit of an infinitesimal area on the boundary , which tends to a point , if the neighborhood of the point is not space - like , there exist future - oriented time - like lines that go both into the region and out of it , i.e. , information can flow into and out of the region at that point .",
    "this shows that if we think of a wire as a discrete version of the idea of a local area of contact between two regions , it need not be associated with any particular directionality .",
    "the operational probabilistic theory that we obtain by dropping the distinction between systems of type @xmath297 and @xmath334 can be summarized by the following main rules .",
    "+ ( 1 ) an operation is a set of events @xmath400 in a region defined by some boundary systems @xmath0 , @xmath1 , @xmath376 , associated with hilbert spaces @xmath24 , @xmath401 , @xmath376 , of dimension @xmath402 , @xmath403 , @xmath376 .",
    "the events are described by positive semidefinite operators @xmath404 on @xmath405 with the normalization @xmath406 .",
    "an exception is the null operation @xmath407 , which is a singular case .",
    "+ ( 2 ) two operations may be connected through some of their boundary systems whenever these systems are of the same dimension .",
    "such a connection , pictorially represented by a wire connecting the regions , is associated with a bipartite pure entangled state @xmath408 on the two boundary systems that are being connected .",
    "the result of connecting the systems @xmath1 and @xmath119 of two operations @xmath409 and @xmath410 is a new operation @xmath411 , where @xmath412}{{\\mbox{tr}}\\left[|\\phi\\rangle\\langle\\phi|^{bc}(\\overline{m}^{ab}\\otimes \\overline{n}^{cd})\\right ] } , \\forall i\\in o , j\\in q.    \\label{connect}\\end{gathered}\\ ] ] in the special case when @xmath413= 0^{ad}$ ] , the result is defined as the null operation @xmath414 .",
    "+ ( 3 ) a network is an arbitrary graph whose vertices are operations and whose edges are wires ( e.g. , fig .  [ network ] ) .",
    "the events in any network have joint probabilities which depend only on the specification of the network",
    ". since a network has no open wires , it amounts to an operation from the trivial system to itself , @xmath415 ( which can be obtained according to the previous rule ) .",
    "the probabilities for the different outcomes of the network are exactly @xmath416 .",
    "equivalently , using the process operator for the wires in a network , the joint probabilities for the events in a network ( e.g. , fig .",
    "[ network ] ) can be written @xmath417 } { { \\mbox{tr } } [ ( \\overline{m}^{\\cdots}\\otimes \\overline{n}^{\\cdots}\\otimes \\cdots)w^{\\cdots}_{wires } ] } \\label{generalrule},\\end{gathered}\\ ] ] where @xmath418 is the tensor product of the entangled states associated with the wires , and all operators are defined on the respective systems as before ( which are not explicitly labeled here ) , except that now there is no distinction between two types of systems .",
    "these probabilities are defined for @xmath419 } \\neq 0 $ ] .",
    "note_. similarly to a circuit , any discrete network can be embedded in a space of dimension 3 or higher . the example in fig .",
    "[ network ] is 2-dimensional for simplicity of representation .",
    "+ in the network picture , the operation in any region can be interpreted as a measurement that the region performs on states prepared by its complement .",
    "consider the operation in a given region in a network ( the region need not be simply connected ) .",
    "let us denote this operation by @xmath420 , where @xmath0 denotes the collection of boundary systems of that region .",
    "let the complement of that region contain the operation @xmath421 ( where @xmath1 must have the same dimension as @xmath0 ) , and let @xmath422 denote the state of the wire ( generally a collection of many wires of smaller dimensions ) that connects the two regions .",
    "the operation @xmath420 can be interpreted as a measurement on system @xmath0 .",
    "the states on which this measurement acts can be thought of as prepared by the events in the complementary region .",
    "specifically , through the wire @xmath422 , the complementary region gives rise to the preparation @xmath423 on system @xmath0 , where @xmath424 analogously , the operation @xmath420 gives rise to a preparation @xmath425 on @xmath1 , @xmath426 , @xmath140 , which is subject to the measurement @xmath421 .",
    "similarly to eq .  , upon learning or discarding of information about the events in a region in agreement with the closed - box assumption , the description of the operation in that region is most generally updated as @xmath427 where @xmath428 , @xmath140 , @xmath429 , @xmath430 , @xmath140 .",
    "while we have developed the framework in a discrete form , its formulation in terms of regions and boundary systems suggests a natural route for extension to continuous quantum field theory , where , as alluded earlier , the regions can be identified with regions of space - time . in this case",
    ", the boundary of each space - time region would be associated with a ( now generally infinite - dimensional ) hilbert space , and the content of each region would be described by a positive - semidefinite operator on that space ( in infinite dimensions , a different normalization would be necessary , or one may consider working with unnormalized operators ) .",
    "regions could be connected through parts of their boundaries to form new regions , with the operator in the resulting region obtained by an analogue of the rule , where the systems @xmath1 and @xmath119 now correspond to the two sides of the boundary area through which the regions are connected , and the entangled state of the connecting ` wire ' is similarly associated with that area ( again , in infinite dimensions , an appropriate redefinition or relaxation of the norm of the state may be necessary ) . in order to obtain closed networks and thereby probabilities , certain regions with partial boundaries would need to be considered ( e.g. , regions that only have boundary on one side , such as standard preparations and measurements ) . via purification on a larger region , these could be assumed outsourced to the perimeter of the network , whose interior would be a compact region ( which does not have to be simply connected ) .",
    "the picture just outlined corresponds to the general boundary approach to quantum field theory proposed and developed by oeckl @xcite . here",
    ", we will not discuss the difficulties accompanying the geometric axiomatization of these ideas ( see , e.g. , ref .",
    "@xcite ) , nor how to define an actual field theory in this framework , which could involve various subtleties .",
    "we note , however , that the present framework agrees with the main probability rule proposed in the general boundary approach of oeckl , while providing a few generalizations .",
    "in particular , it extends the types of measurements that can be performed on the boundary of a region , permitting arbitrary sets of positive semidefinite operators @xmath431 and not only projective measurements .",
    "it is also based on a more general notion of state and allows a more general correspondence between the state spaces on both sides of a boundary hypersurface , which is not necessarily an anti - linear isomorphism between the underlying hilbert spaces ( the case of non - unitary @xmath235 ) .",
    "these topics will be investigated in a future work .",
    "by construction , the networks in our theory include all quantum circuits , but they are defined without any pre - specified time orientation .",
    "however , if this formulation could be regarded as a basic framework for physics , it has to be able to account for the phenomenon of time and the causal structure of space - time in the regimes where such a description is applicable . here , we give a heuristic argument why we expect that the causal structure underlying standard quantum dynamics in space - time may be possible to infer entirely from correlation properties of the operators in different space - time regions , without the need for it to be assumed independently .",
    "the claim that we could infer causal relations from correlations alone may appear surprising at first , because without the distinction between systems of type @xmath297 and type @xmath334 , an operation corresponding to , say , a unitary transformation from a given input to a given output system is described in exactly the same way as the standard preparation of a bipartite entangled state . but according to the standard interpretation , in the first case we have a channel that transmits information , whereas in the second we have correlations that do not involve signaling .",
    "how do we distinguish between these cases ?",
    "the answer that we propose is that in order to identify the causal structure of space - time , we have to look at compact regions of space - time and consider the operators on the full hilbert spaces of their boundaries .",
    "intuitively , the idea is that such an operator describes ` pure ' dynamics in the region as it is not obtained via measurements on any of the fields inside , and hence the correlations that it induces between events on its boundary can only represent causal relations mediated through the region .",
    "the standard preparation of a state does not correspond to an operator of this kind ",
    "it is only an effective operator on a subsystem of the boundary of a compact space - time region , obtained conditionally on a measurement on the rest of the boundary ( the event that produces the entanglement ) .",
    "before we discuss our argument , we note that here we imagine a description of quantum mechanics over a background manifold , i.e. , we assume that it makes sense to think that we can identify the points in the manifold , just as it is assumed in a quantum field theory over a background .",
    "of course , general relativity teaches us that there are no points in space - time  all that exists is events @xcite .",
    "thus , if we want to make operational sense of this picture , we have to imagine that there are some events that define the points , and these events would have to be independent of the quantum fields we are describing .",
    "this could be physically sensible in an approximation where the events are associated with fields that are decoupled from the fields we are interested in .",
    "but if we want to describe the dynamics of all fields , there is nothing to define the points .",
    "this is one of the difficulties that one has to overcome in formulating a background independent quantum theory , such as what quantum gravity is believed to be @xcite .",
    "how to formulate such a theory is one of the problems that we hope the present framework may help elucidate , but this goes beyond the scope of this work . here , we want to argue that the framework could account for the causal structure underlying the description of standard quantum mechanics , which is the experimentally confirmed theory .",
    "so for the purposes of this argument , we can assume the existence of the manifold , but not the metric .",
    "we remark that even in a background - independent theory , one could introduce the space - time points as a mathematical device .",
    "imagine that the dynamics in the universe can be described by a quantum filed theory in a space - time with a fixed metric , where , in suitable coordinates , the evolution in the direction of the time coordinate is unitary and driven by a spatially local hamiltonian generator .",
    "to illustrate our considerations ( we provide a more general argument later ) , let us assume that within a satisfactory precision , we can approximate such an evolution in a given area of space - time by a discrete quantum circuit on a lattice . a fragment of such a circuit , which can be assumed to extend to the ends of our area of interest with suitable boundary conditions , is sketched in fig .",
    "[ toyworld ] ( this particular picture represents a discrete version of a flat space - time , but a curved space - time is possible too , which could be modeled by a non - uniform circuit ) .",
    "the causal structure in this picture is captured by the ` light ' cones , which impose the limits on information propagation .",
    "we expect that these limits will be reflected in the correlations between point on the boundaries of different regions ( e.g. , the region enclosed in black )",
    ".    assume that we only know the description of the dynamics in the language of operators on the boundary systems of each region ( e.g. , obtained by tomography ) , but we do not know the metric . assume also that the wires are described by maximally entangled states ( unitary @xmath235 ) , in agreement with standard time reversal .",
    "how could we expect to recover the causal structure ?",
    "( here , we regard the global time orientation as purely conventional , but eventually a preferred time direction could be selected based on past and future boundary conditions . )",
    "we could choose an arbitrary coordinate system and divide the space - time into arbitrary cells .",
    "depending on how the actual dynamics looks relative to our coordinate system , for any given division into cells with respect to the chosen coordinates , the cells may contain different operators , but the network of cells should be topologically equivalent to the one in fig .",
    "[ toyworld ] ,",
    "i.e. , the operators in the different cells should correspond to the operators describing some fragments of the network in fig .",
    "[ toyworld ] .",
    "so in principle , by searching all possible deformations of the network , we could map it onto the network in fig .",
    "[ toyworld ] .",
    "the operators in the boxes of this network are such that they admit interpretation , via eqs .",
    ", , as the operators of unitary transformations and thus the network can be interpreted as a unitary circuit .",
    "the circuit could then be foliated into space - like surfaces and the causal structure could be inferred from the limits on information propagation ( defined , e.g. , as in quantum cellular automata @xcite ) .",
    "what is not obvious is whether there would be a unique interpretation of our network as a circuit with a given causal structure .",
    "one can conceive operators that could be interpreted as unitaries with respect to any bipartition of their boundary systems into two equal parts .",
    "for example , there exist six - qubit pure quantum states , such that the reduced state of any three qubits is maximally mixed @xcite , i.e. , there is maximal entanglement over any bipartition .",
    "if the operator of a box with six boundary qubits is proportional to the operator of such a state , it could be interpreted as a unitary from any three wires to any other three wires , so we could not infer a particular causal structure for it .",
    "however , a network in space - time has more structure . given the metric , different regions of space - time can only contain restricted kinds of operators , so by looking at the operator in a region we can exclude a lot of possible metric configurations for that region .",
    "for example , a region enclosed by two space - like hypersurfaces ( e.g. , in the form of a convex lens ) can only contain a unitary operator from the past surface to the future one .",
    "in contrast , a region enclosed by two time - like hypersurfaces would contain an operator that generally can not be interpreted as a unitary from one hypersurface to another ( imagine a ` vertical ' convex lens cutting out a circuit fragment containing many elementary gates ) , because the operator would not be maximally entangled with respect to this bipartition , reflecting the fact that information can enter the region through one hypersurface and leave from the same one even if we connect the unit effect to the other hypersurface .",
    "in fact , the boundary of such a region would generally not be possible to separate into two simply - connected parts that are maximally entangled with each other , because around any area on one hypersurface there are nearby points where information flows both in and out .",
    "furthermore , in a region between two space - like hypersurfaces , we have constraints on the correlations between different points in the past hypersurface and different points in the future one , since it should be impossible to signal from a given point to another point outside of the first point s light cone .",
    "in particular , no such region allows signaling from every point in the input hypersurface to every point in the output hypersurface ( for an operational definition of signaling through multipartite channels , see refs .",
    "all these and similar considerations suggest that the causal structure imposes substantial constraints on the form of the operators in different regions , and that if we know the operators in _ all _ regions , it may be possible to fully recover it .",
    "a concrete step in this direction would be to find criteria for when two points on the boundary of a given region can be causally related through the region , expressed in terms of properties of the operator associated with the region ( for instance , one can see that a sufficient condition for there to exist a causal connection between two areas on the boundary of a unitary circuit fragment is that the reduced operator on these areas is correlated ) .    a more direct indication that the causal structure underlying standard quantum mechanics may be possible to infer from the operators in different regions comes from the path - integral formulation of quantum field theory , which is naturally compatible with the general boundary approach @xcite . in the standard formulation , the components of the unitary operator describing the evolution between an initial and a final hypersurface are formally given by a functional feynman integral over all field configurations in the intermediate region with fixed configurations on the boundary . in our representation ,",
    "the components of this unitary operator become the components of a ( not normalized ) ` ket ' on the boundary hilbert space ( where a suitable basis on the systems of type @xmath334 is identified with field configurations , before the distinction between type @xmath297 and type @xmath334 is dropped ) .",
    "our operator associated with the region is then a projector in this ket .",
    "the functional integral yielding the components of the ket ( and thereby the components of our operator ) associated with the region can be decomposed into integrations over arbitrary subregions in the interior , and the full integral can be seen as the result of connecting the kets in these subregions by contracting them with ( not normalized ) entangled states associated with their common boundaries .",
    "the operator in an arbitrary region can thus be obtained through feynman integration over its interior .",
    "( we note that in spite of this direct relation , a different approach based on ` physical ' field configurations for non - space - like hypersurfaces has been advocated in ref .",
    "@xcite , but here we conceive standard local field configurations . ) if specifying the operators in all possible regions ( which must be consistent with the rule for connecting operators ) is equivalent to specifying a lagrangian density function in the path - integral formulation , then one could , at least in principle , recover the lagrangian density from the operators , and from there infer the metric .",
    "the latter may require assuming how the lagrangian density depends on the metric , but in certain cases only the symmetries of this function may be sufficient . specifically , in the case of minkowski space - time , which is the kind of space - time for which the presently tested quantum mechanics described by the standard model is formulated , the isometries of the space - time , given by the poincar group , determine the metric .",
    "if the poincar transformations are the only continuous space - time transformation that preserve the lagrangian density function , the metric could be determined only from symmetries of this function . it would be interesting to verify these heuristic arguments rigorously and investigate how they may extend to field theories on space - times with arbitrary geometries .",
    "since we have no assumption of time in the boundary formulation , one may wonder from where a time dimension would appear .",
    "the time dimension can be thought of as intrinsic in the network framework , corresponding to the fact that the picture over the space - time manifold is a network rather than a state , with states being associated with hypersurfaces .",
    "the latter in some sense defines the idea that there is ` information flow ' through each hypersurface . in this respect ,",
    "the outlined picture resembles the classical situation where we have a given signature of the metric that defines the existence of a single time dimension , but the concrete time - like directions at each point depend on the concrete metric field .",
    "finally , we remark that if the causal structure in a given region can be recovered from the operators in all possible decompositions of the region into subregions , one can imagine situations interpreted as ctcs too .",
    "it is not difficult to conceive networks of operators on manifolds with suitable topologies that locally appear causal in the sense above , but globally are not .",
    "a simple example is a space - time manifold with the topology of a cylinder , over which we can imagine a cyclic version of a locally causal unitary evolution , obtained by making the time coordinate periodic . in this case , there would be ctcs through every point .",
    "one can also imagine space - times with wormholes .",
    "the ctc - like structures obtained in this way would be of the post - selected type @xcite .",
    "these models , however , are not based on a concrete mechanical theory and there is no point of reference for judging whether they could be physically admissible .",
    "understanding this question would require a quantum theory of gravity .",
    "in this paper , we have proposed an operational formulation of quantum theory which does not assume a predefined time or causal structure . the key idea underlying",
    "the proposal is an epistemic approach to operational theories , in which an operation represents knowledge about the events in a given region .",
    "in contrast to the common approach , operations are not assumed to be up to the choices of agents  an observer merely _ learns _ what operation takes place ( including in cases accompanied by the subjective perception of ` choice ' ) .",
    "this perspective allows us to formulate the theory in a way that does not refer to time or causal structure , yet holds in the known causal scenarios . in doing this ,",
    "we have given up a nontrivial prediction of the standard formulation  the fact that only a special subclass of the more general operations that we define can be realized without post - selection .",
    "instead , we explain this fact in terms of future boundary conditions .",
    "what we gain is the possibility for more general phenomena , and a formulation that could allow us to treat time as dynamical .",
    "we expect that the proposed formulation will offer new insights into the relationship between causal structure and quantum theory , which has recently become the subject of growing interest ( see , e.g. , refs .",
    "much of the recent progress on this subject has been obtained within a general probabilistic context .",
    "while we have developed the present approach for quantum theory , it could be considered in the context of general probabilistic theories too .",
    "an interesting question is whether quantum theory in the present formulation could be obtained from a simpler set of informational principles than those proposed in reconstructions of the standard formulation ( e.g. , @xcite )",
    ". it would also be interesting to investigate the implications of this approach for the question of ontic versus epistemic interpretation of the quantum state @xcite .",
    "it should be stressed that this question is concerned with elements of reality and has no obvious relation with the highlighted epistemic aspect of our approach , namely , that operations are associated with knowledge rather than choice .",
    "in fact , the description of an operation representing such knowledge is given by an ensemble of suitably normalized positive semidefinite operators , which can be described by a classical measure over the space of normalized positive semidefinite operators @xcite , and in this respect it is intuitively suggestive of an ontic interpretation .",
    "the fact that classical data can be outsourced to the boundaries of space - time regions , as in the model in sec .",
    "[ theasymmetry ] , suggests an intriguing holographic perspective on this problem .",
    "one of the most celebrated no - go results about hidden variables is bell s theorem @xcite , which has been central in modern studies of quantum foundations and is behind many applications in quantum information , especially quantum cryptography ( e.g. , refs .",
    "a primary assumption of bell - type theorems is that of an underlying causal structure ( typically , the causal structure of relativistic space - time , although see refs .",
    "@xcite for a more general and unified approach ) , with the assumption of free choice playing a key role @xcite .",
    "since none of these notions is fundamental in the present approach , it is natural to ask whether similar no - go theorems can be formulated in our more general setting , what conceptual revisions this would entail , and what implications it may have for cryptography .",
    "besides having potential implications for the foundations of quantum theory , the framework offers a generalized paradigm within which to study quantum information processing in the absence of a standard causal structure",
    ". this could be relevant in the context of investigating the basis of computation form a physics perspective in the absence of predefined time @xcite or with ctcs of the post - selected type @xcite .",
    "but it also suggests new ways of thinking about approaches to computation that may be accessible in the lab .",
    "for example , as we have shown , we can think of certain experimental scenarios that can be realized without post - selection as nontrivial circuits with cycles . despite their cyclic structure",
    ", these circuits do not involve transmission of information back in time relative to the standard background time , because their input and output systems are not associated with fixed instants in that time .",
    "such situations are examples of higher - order quantum information processing in which the wiring between black - box operations is itself dynamical @xcite .",
    "this has been shown to allow implementing certain tasks more efficiently than within the standard circuit model @xcite .",
    "similar ideas have recently started being explored also in alternative models of quantum computation , such as adiabatic @xcite and measurement - based @xcite approaches .",
    "a question of particular interest in this context is the potential existence of processes that give rise to correlation with no explanation in terms of causally ordered events @xcite .",
    "this theoretical possibility was demonstrated in the process matrix framework of ref .",
    "@xcite , which does not assume a global causal order between individual experiments , but assumes the validity of standard quantum mechanics for each of them .",
    "specifically , in ref .",
    "@xcite , it was shown that it is possible to conceive bipartite correlations that violate a _ causal inequality _ , similar in spirit to a bell inequality @xcite , which must be obeyed if the events in the experiment can be embedded in a ( noncyclic ) causal structure .",
    "a violation of a different bipartite causal inequality based on a simpler set of variables was shown in ref .",
    "furthermore , a multipartite causal inequality that can be violated maximally was exhibited in ref .",
    "@xcite , and it was also shown that the latter effect is possible even with purely classical local operations @xcite , which raises various questions about the nature of this effect . it is known that such ` noncausal ' processes can not be realized without post - selection by a direct application of the methods for coherent quantum control of the order of black - box operations used , e.g. , in refs .",
    "but it is an open question whether they could not be realized by some different manipulation of superposition and entanglement in a suitable sense .",
    "the physical equivalence between arbitrary processes and cyclic circuits pointed out here may provide new insights into this phenomenon .",
    "in particular , the question of the potential existence of such processes may be elucidated by the space - time perspective used in our argument for the existence of non - post - selected cyclic circuits .",
    "it is also conceivable that finding such a realization requires dropping the assumption of a predefined causal structure completely , as in this paper .",
    "a related question is the classification of pre - selected processes that are compatible with definite causal order .",
    "this has led to introducing the notion of causally separable process operators @xcite , whose extension beyond two parties is a nontrivial question due to the possibility that the causal order between a subset of the local operations may depend on the settings or outcomes of other operations .",
    "this question will be investigated in an upcoming paper @xcite .",
    "the possibility for more general symmetry transformations found in this paper is another point that deserves further investigation .",
    "could there be regimes in which time reversal is described by a non - unitary operator @xmath235 in additional to the transposition , and how would this be manifested experimentally ?",
    "the same question applies equally importantly for transformations of type @xmath5 with a non - unitary @xmath235 .",
    "could they represent yet unprobed physics , and if not , why not ?    finally , we hope that the present work will trigger new ways of thinking about the problem of unifying quantum theory and general relativity , complementing the field - theoretic approach of refs .  @xcite .",
    "we have given a heuristic argument about why we expect that a background causal structure may be possible to infer from the operators describing the dynamics of other physical degrees of freedom , but it would be interesting to verify this by a rigorous argument , and find a criterion for when different points on the boundary of a region can be causally connected through the region . in this context , the physical fields we are looking at play a role similar to that of test systems in general relativity .",
    "but in a complete gravitational theory , the causal structure should itself be dynamical .",
    "one way in which this could be enacted in the present framework is by associating gravity with a field similar to the other physical fields that live on the boundary hilbert space of every region , with different states of this field corresponding to different causal structures inside .",
    "another possibility could be that gravity is an emergent phenomenon arising from the effective causal structure inferred from the dynamics of other fields , similarly to the way conjectured in the case with a background . in either case , formulating a theory of gravity can be expected to incorporate in a suitable way the idea of general covariance @xcite , which is one of the main lessons of general relativity @xcite .",
    "the developed operational formulation of quantum theory without predefined time seems to offer a natural framework for exploring this subject .",
    "_ acknowledgements .",
    "_ we thank s. akibue , p. arrighi , j. barrett , . baumeller , c. bny , n. bobev , c. branciard ,  .",
    "brukner , n. brunner , g. chriribella , b. coecke , r. colbeck , f. costa , g. m. dariano , t. fritz , c. giarmatzi , a. grinbaum , l. hardy , i. ibnouhsein , r. lal , m. s. leifer , d. markham , m. murao , m. p. mller , k. ried , s. pironio , m. pusey , r. w. spekkens , z. wang , and m. zaopo , for related comments or discussions .",
    "this work was supported by the european commission under the marie curie intra - european fellowship programme ( pief - ga-2010 - 273119 ) and by the f.r.s.fnrs under the charg de recherches ( cr ) fellowship programme .",
    "b. dakic and  .",
    "brukner , quantum theory and beyond : is entanglement special ? _ deep beauty : understanding the quantum world through mathematical innovation",
    "halvorson , h. ( cambridge univ .",
    "press , 2011 ) .",
    "e - print arxiv:0911.0695 .",
    "g. chiribella , g. m. dariano , p. perinotti , and b. valiron , quantum computations without definite causal structure , _ phys .",
    "rev . a _ * 88 * , 022318 ( 2013 ) , preprint at @xmath432http://arxiv.org / abs/0912.0195@xmath433 ( 2009 )",
    ".      e. p. wigner , _ gruppentheorie _ ( friedrich vieweg und sohn , braunschweig , germany , 1931 ) ; _ group theory and its application to the quantum mechanics of atomic spectra _ ( academic press inc . , new york , 1959 ) .",
    "m. gell - mann and j. b. hartle , time symmetry and asymmetry in quantum mechanics and quantum cosmology , in j. j. halliwell , j. perez - mercader , and w. h. zurek ( eds . ) , _ physical origins of time asymmetry _ , 311 - 345 ( cambridge university press , 1994 ) .",
    "s. lloyd , l. maccone , r. garcia - patron , v. giovannetti , y. shikano , s. pirandola , l. a. rozema , a. darabi , y. soudagar , l. k. shalm , and a. m. steinberg , closed timelike curves via post - selection : theory and experimental demonstration , _ phys .",
    "lett . _ * 106 * , 040403 ( 2011 ) .    c. h. bennett",
    ", d. leung , g. smith , and j. a. smolin , can closed timelike curves or nonlinear quantum mechanics improve quantum state discrimination or help solve hard problems ? , _ phys .",
    "lett . _ * 103 * , 170502 ( 2009 ) .",
    "r. silva , y. guryanova , n. brunner , n. linden , a. j. short , and s. popescu , pre- and post - selected quantum states : density matrices , tomography , and kraus operators , _ phys .",
    "a _ * 89 * , 012121 ( 2014 ) .                    c. j. wood and r. w. spekkens , the lesson of causal discovery algorithms for quantum correlations :",
    "causal explanations of bell - inequality violations require fine - tuning , preprint at @xmath432http://arxiv.org / abs/1208.4119@xmath433 ( 2012 ) .",
    "f. curchod , y .- c .",
    "liang , and n. gisin , multipartite nonlocality as a resource and quantum correlations having indefinite causal order , preprint at @xmath432http://arxiv.org / abs/1310.7598@xmath433 ( 2013 ) .",
    "s. pironio , a. acin , s. massar , a. boyer de la giroday , d. n. matsukevich , p. maunz , s. olmschenk , d. hayes , l. luo , t. a. manning , and c. monroe , random numbers certified by bell s theorem , _ nature _ * 464 * , 1021 ( 2010 ) ."
  ],
  "abstract_text": [
    "<S> the current operational formulation of quantum theory is based on the concept of operation with an input and an output system , which assumes a prior notion of time and is asymmetric under time reversal . </S>",
    "<S> but in certain contexts , such as those involving gravity , time is expected to be dynamical and not predefined . here </S>",
    "<S> , we propose an operational formulation of quantum theory without any predefined notion of time . </S>",
    "<S> it is based on a generalization of the concept of operation motivated by an epistemic approach : an operation is a description of knowledge about the events in a given region , which can be updated conditionally on information obtained from that region . </S>",
    "<S> each such region has a set of boundary systems , which by definition provide the sole means of information exchange between the events in the region and the events in other regions . </S>",
    "<S> separate operations can be connected in networks through their boundary systems with no directionality assumed for the connections , which generalizes the standard circuit picture . </S>",
    "<S> the events associated with an operation are described by positive semidefinite operators on the hilbert spaces of the boundary systems , while the connections between regions are described by entangled states that encode a nontrivial physical symmetry . </S>",
    "<S> a simple rule provides the joint probabilities for the events in a network of operations . </S>",
    "<S> we discuss how it may be possible to understand the emergence of a causal structure in space - time from properties of the operators on the boundaries of compact space - time regions . </S>",
    "<S> the framework allows for indefinite causal order , timelike loops , and other acausal structures . as part of this work </S>",
    "<S> , we obtain a generalization of wigner s theorem , which is based on the preservation of probabilities of actual events and thus puts the concept of time reversal symmetry on operational grounds . </S>",
    "<S> we find the possibility for more general symmetry transformations that those assumed before . </S>"
  ]
}