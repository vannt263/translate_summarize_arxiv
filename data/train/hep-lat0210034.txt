{
  "article_text": [
    "qcdoc@xcite was designed for a cost - effective balance between memory bandwidth , floating point performance and communication performance when running massively parallelised double precision qcd codes . as shall be seen ,",
    "our simulations suggest qcdoc should scale to exceptionally large machine sizes on a fixed scientifically interesting lattice volume - or equivalently qcdoc will operate efficiently on very small local volumes .",
    "this gives the focussed compute power necessary to simulate much lighter quark masses than are accessible today , at a cost of 1 us - dollar per sustained megaflop .",
    "the qcdoc design is based on an application specific integrated circuit , or asic .",
    "we use ibm system - on - a - chip technology to integrate all the node logic on a single silicon chip .",
    "the cpu core is a powerpc 440@xcite whose fpu@xcite can execute one operate instruction per clock cycle .",
    "peak performance of two flops per clock is obtained by using fused multiply - add instructions .",
    "the on - chip features include 4mbyte of embedded dram memory and its controller , a memory controller for off - chip ddr memory , an ethernet interface , and a custom serial communications unit ( scu ) linked by a number of on - chip busses",
    ".    the prefetching edram controller ( pec ) has been custom designed by our colleagues at ibm research , and provides ample bandwidth for the fpu .",
    "it automatically prefetches two read streams , and is multi - ported allowing remote communication to overlap local computation without contention .",
    "the scu hardware implements a 6 dimensional hyper - torus , with bi - directional low latency links .",
    "the aggregate 1.5gbyte / s inter - node bandwidth easily supports qcd with 1 gflop of local floating point all the way down to @xmath0 local volumes .",
    "the dma engines in the scu transfer complex patterns between nodes while the local floating point calculation proceeds uninterrupted .",
    "the high dimensionality of the network both increases the communication bandwidth of the machine , and gives very symmetric local volumes when distributing the problem over very many nodes in four , or even five , dimensions .",
    "this yields the most favorable surface to volume ratio .    .",
    "[ tabasm ] performance of double precision assembler kernels produced using the speaker s code generator .",
    "very high fractions of the 1gflop raw peak , and even higher fractions of the theoretical peak , are obtained .",
    "some compiled code figures are included to show that reasonable performance can be obtained without undue pain . [ cols=\"^,^\",options=\"header \" , ]",
    "the qcdoc asic design is functionally complete , and the preliminary design release is undergoing timing driven physical layout at ibm raleigh .",
    "verification is on - going with release to manufacture expected by mid fall and first silicon at the end of this year .",
    "large prototype machines are expected in spring 2003 .",
    "two widespread and standard compilers are being used , namely the ibm xlc compiler and the gnu gcc c and c++ compilers .",
    "debug facilities are provided by a port of the full featured riscwatch remote debug tool .",
    "the standard runtime support libraries are a popular gnu public license libc released by cygnus .",
    "runtime libraries are available for performing communication over the physics network via the scidac qmp interface which is in turn implemented on top of a native scu interface .",
    "assembler optimised qcd kernels will be freely available .",
    "the use of the powerpc means that standard operating systems could in principle be run on the nodes .",
    "however , to scale to very small local volumes it is essential that , in addition to very low latency hardware , we avoid unnecessary software latency .",
    "we will use a lean node kernel to avoid scheduler overhead and use the powerpc virtual memory ( vm ) hardware to protect , but not translate , memory pages .",
    "this gives both the benefits of robust and graceful error recovery , and the benefits of zero - copy scu transfers without vm gymnastics .",
    "the host for qcdoc will be an smp unix server with multiple gigabit links to the boot / diagnostic / io ethernet network .",
    "a multi - threaded qdaemon will boot and manage the machine partitions , and service socket - based connections to these partitions from a number of client programs .",
    "sufficient functionality has already been implemented to boot and download code to powerpc boards in parallel .",
    "as part of the design verification programme a number of benchmarks and stress tests have been written , to both check functional correctness and that design goals are met .",
    "we shall present performance figures for some of these tests , where we have taken a `` nominal '' 500mhz cpu , and made reasonable assumptions about the interconnect wire length .",
    "table  [ tabasm ] shows a sample of common vector operations performed in lattice qcd codes .",
    "most of these figures were obtained using a c++ assembler code generator written by the speaker to automate loop unrolling , prefetching and detailed scheduling .",
    "table  [ tabdslash ] shows performance measurements of optimised implementations of various preconditioned fermion operators in double precision . in these operators",
    "unpaired adds and multiplies set an upper limit ( e.g. 780mflops for the wilson kernel ) somewhat below the `` raw '' peak . the communication overhead is entirely taken into account , and the performance is excellent despite having to communicate each site over four wires in the @xmath0 case .",
    "performance characteristics at small local volumes are critical to scaling .",
    "figure  [ figscaling ] shows the estimated performance of qcdoc on double precision wilson dslash code ( omits global summation time ) distributed in four dimensions . at the smallest volumes",
    "the entire operation takes roughly 20 @xmath1s , with eight communications in this time . for comparison",
    "we overlay a myrinet alpha 21264 cluster running single precision assembler code distributed in three dimensions .",
    "given the fast linear algebra and the scalable matrix multiply the remaining hurdle to be overcome by an iterative solver is global summation .",
    "the scu has `` pass - thru '' hardware assist for global sums and broadcasts .",
    "the global sum has been benchmarked in simulation , and we use the mixture of matrix multiplies , linalg and gsums in the cg algorithm to predict the performance on large machines on wilson hmc in table  [ tabscaling ] .",
    "qcdoc is progressing well with large machines due in 2003 .",
    "simulations indicate these machines will run qcd at high efficiency on the largest machines , while having a low cost per sustained megaflop and low power consumption .",
    "this research was supported in part by the u.s .",
    "department of energy , the institute of physical and chemical research ( riken ) of japan , and the u.k .",
    "particle physics and astronomy research council ."
  ],
  "abstract_text": [
    "<S> qcdoc is a supercomputer designed for high scalability at a low cost per node . </S>",
    "<S> we discuss the status of the project and provide performance estimates for large machines obtained from cycle accurate simulation of the qcdoc asic . </S>"
  ]
}