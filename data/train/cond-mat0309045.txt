{
  "article_text": [
    "over the years network researchers have introduced a large number of centrality indices , measures of the varying importance of the vertices in a network according to one criterion or another @xcite .",
    "these indices have proved of great value in the analysis and understanding of the roles played by actors in social networks , as well as by vertices in networks of other types , including citation networks , computer networks , and biological networks .",
    "perhaps the simplest centrality measure is degree , which is the number of edges incident on a vertex in a network  the number of ties an actor has in social network parlance .",
    "degree is a measure in some sense of the popularity of an actor",
    ". a more sophisticated centrality measure is closeness , which is the mean geodesic ( i.e. ,  shortest - path ) distance between a vertex and all other vertices reachable from it .",
    "closeness can be regarded as a measure of how long it will take information to spread from a given vertex to others in the network .    another important class of centrality measures is the class of betweenness measures .",
    "betweenness , as one might guess , is a measure of the extent to which a vertex lies on the paths between others .",
    "the simplest and most widely used betweenness measure is that of freeman  freeman77,freeman79 , usually called simply betweenness .",
    "( where necessary , to distinguish this measure from other betweenness measures considered in this paper , we will refer to it as shortest - path betweenness . )",
    "the betweenness of a vertex  @xmath0 is defined to be the fraction of shortest paths between pairs of vertices in a network that pass through  @xmath0 .",
    "if , as is frequently the case , there is more than one shortest path between a given pair of vertices , then each such path is given equal weight such that the weights sum to unity . to be precise ,",
    "suppose that @xmath1 is the number of geodesic paths from vertex  @xmath2 to vertex  @xmath3 that pass through  @xmath0 , and suppose that @xmath4 is the total number of geodesic paths from @xmath2 to  @xmath3 .",
    "then the betweenness of vertex  @xmath0 is @xmath5 where @xmath6 is the total number of vertices in the network . may be normalized by dividing by its maximum possible value , which it achieves for a `` star graph '' in which one central vertex is connected to every other by a single edge @xcite .",
    "] we may , or may not , according to taste , consider the end - points of a path to fall on that path ; the choice makes only the difference of an additive constant in the values for @xmath7 . in this paper",
    "we will generally include the end - points .",
    "betweenness centrality can be regarded as a measure of the extent to which an actor has control over information flowing between others . in a network in which flow",
    "is entirely or at least mostly along geodesic paths , the betweenness of a vertex measures how much flow will pass through that particular vertex .",
    "betweenness can be calculated for all vertices in time @xmath8 for a network with @xmath9 edges and @xmath6 vertices @xcite .    in most networks",
    "however , information ( or anything else ) does not flow only along geodesic paths @xcite .",
    "news or a rumor or a message or a fad does not know the ideal route to take to get from one place to another ; more likely it wanders around more randomly , encountering who it will . and",
    "even in a case such as the famous small - world experiment of milgram ( @xcite ; @xcite ) , or its modern - day equivalent @xcite , in which participants are explicitly instructed to get a message to a target by the most direct route possible , there is no evidence that people are especially successful in this task .",
    "thus we would imagine that in most cases a realistic betweenness measure should include non - geodesic paths in addition to geodesic ones .",
    "furthermore , by giving all the weight to the geodesic paths , and none to any other paths , no matter how closely competitive they are , the shortest - path betweenness measure can produce some odd effects .",
    "consider the network sketched in fig .",
    "[ problem]a , for instance , in which two large groups are bridged by connections among just a few of their members .",
    "vertices  a and  b will certainly get high betweenness scores in this case , since all shortest paths between the two communities must pass through them .",
    "vertex  c on the other will hand get a low score , since none of those shortest paths pass through it , taking instead the direct route from a to  b. it is plausible however that in many real - world situations c would have quite a significant role to play in information flows .",
    "certainly it is possible for information to flow between two individuals via a third mutual acquaintance , even when the two individuals in question are themselves well acquainted .    to address these problems , freeman  _ et  al . _",
    "fbw91 suggested a more sophisticated betweenness measure , usually known as flow betweenness , that includes contributions from some non - geodesic paths .",
    "flow betweenness is based on the idea of maximum flow .",
    "imagine each edge in a network as a pipe that can carry a unit flow of some fluid .",
    "we can ask what the maximum possible flow then is between a given source vertex  @xmath2 and target vertex  @xmath3 through these pipes . in general",
    "the answer is that more than a single unit of flow can be carried between source and target by making simultaneous use of several different paths through the network .",
    "the flow betweenness of a vertex  @xmath0 is defined as the amount of flow through vertex  @xmath0 when the maximum flow is transmitted from @xmath2 to  @xmath3 , averaged over all @xmath2 and  @xmath3 . over all possible solutions to the @xmath10 maximum flow problem ,",
    "averaged over all @xmath2 and  @xmath3 . ]",
    "maximum flow from a given @xmath2 to all reachable targets  @xmath3 can be calculated in worst - case time @xmath11 using , for instance , the augmenting path algorithm @xcite , and hence the flow betweenness for all vertices can be calculated in time @xmath12 .    in practical terms",
    ", one can think of flow betweenness as measuring the betweenness of vertices in a network in which a maximal amount of information is continuously pumped between all sources and targets . necessarily",
    ", that information still needs to `` know '' the ideal route ( or one of the ideal routes ) from each source to each target , in order to realize the maximum flow .",
    "although the flow betweenness does take account of paths other than the shortest path ( and indeed need not take account of the shortest path at all ) , this still seems an unrealistic definition for many practical situations : flow betweenness suffers from some of the same drawbacks as shortest - path betweenness , in that it is often the case that flow does not take any sort of ideal path from source to target , be it the shortest path , the maximum flow path , or another kind of ideal path .",
    "moreover , like the shortest - path measure , flow betweenness can give counterintuitive results in some cases .",
    "consider for example the network sketched in fig .",
    "[ problem]b , which again has two large groups joined by a few contacts . in this case , the maximum flow from one group to the other is clearly limited to two units , one unit flowing through each of vertices a and  b. vertex  c will , in this case , get a low betweenness score , even though the path through c may be as short or shorter than that through a or  b. once again , it is plausible that in practical situations c would actually play quite a significant role .    in this paper , therefore , we propose a new betweenness measure , which might be called random - walk betweenness . roughly speaking",
    ", the random - walk betweenness of a vertex  @xmath0 is equal to the number of times that a random walk starting at  @xmath2 and ending at  @xmath3 passes through  @xmath0 along the way , averaged over all @xmath2 and  @xmath3 .",
    "this measure is appropriate to a network in which information wanders about essentially at random until it finds its target , and it includes contributions from many paths that are not optimal in any sense , although shorter paths still tend to count for more than longer ones since it is unlikely that a random walk becomes very long without finding the target . in some sense ,",
    "our random - walk betweenness and the shortest - path betweenness of freeman  freeman77 are at opposite ends of a spectrum of possibilities , one end representing information that has no idea of where it is going and the other information that knows precisely where it is going .",
    "some real - world situations may mimic these extremes while others , such as perhaps the small - world experiment , fall somewhere in between . in the latter case",
    "it may be of use to compare the predictions of the two measures to see how and by how much they differ : if they differ little , then either is a reasonable metric by which to characterize the system ; if they differ by a lot , then we may need to know more about the particular mode of information propagation in the network to make meaningful judgments about betweenness of vertices .",
    "our random - walk betweenness can , as we will show , be calculated for all vertices in a network in worst - case time @xmath13 using matrix methods , making it comparable in its computational demands with flow betweenness .    some other centrality measures based on random walks merit a mention in this context , although none of them are betweenness measures .",
    "bonacich s power centrality @xcite can be derived in a number of ways , but one way of looking at it is in terms of random walks that have a fixed probability @xmath14 of dying per step .",
    "the power centrality of vertex  @xmath0 is the expected number of times such a walk passes through  @xmath0 , averaged over all possible starting points for the walk .",
    "the random - walk centrality introduced recently by noh and rieger  nr03 is a measure of the speed with which randomly walking messages reach a vertex from elsewhere in the network  a sort of random - walk version of closeness centrality .",
    "the information centrality of stephenson and zelen  sz89 is another closeness measure , which bears some similarity to that of noh and rieger .",
    "in essence it measures the harmonic mean length of paths ending at a vertex  @xmath0 , which is smaller if @xmath0 has many short paths connecting it to other vertices .",
    "the outline of this paper is as follows . in sec .",
    "[ rw ] we define in detail our random - walk betweenness and show how it is calculated .",
    "we introduce the measure first using an analogy to the flow of electrical current in a circuit , and then show that this is equivalent also to the flow of a random walk .",
    "in sec .  [ examples ] we give a number of examples of applications of our measure , first to networks artificially designed to pose a challenge for the calculation of betweenness , and then to various real - world social networks , including a collaboration network of scientists , a network of sexual contacts , and pagdett s network of intermarriages between prominent families in 15th century florence . in sec .",
    "[ concs ] we give our conclusions .",
    "in this section we give the definition of our random - walk betweenness measure and derive matrix expressions that allow it to be calculated rapidly using a computer . for pedagogical purposes , we will take a slightly circuitous route in developing our ideas .",
    "we start by introducing a definition of our betweenness measure that does not use random walks but instead is based on current flow in electrical circuits .",
    "this definition is simple and intuitive and makes for easy calculations .",
    "later we introduce the random - walk definition of our measure and prove that the two definitions are the same .",
    "the developments of this section follow similar lines to a previous presentation we have given on methods for hierarchical clustering @xcite .",
    "consider , then , an electrical circuit created by placing a unit resistance on every edge of the network of interest , as shown in fig .  [ resistor ] .",
    "one unit of current is injected into the network at a source vertex  @xmath2 and one unit extracted at a target vertex  @xmath3 , so that current in the network as a whole is conserved .",
    "we now define the current - flow betweenness of a vertex  @xmath0 to be the amount of current that flows through  @xmath0 in this setup , averaged over all @xmath2 and  @xmath3 .",
    "let @xmath15 be the voltage at vertex  @xmath0 in the network , measured relative to any convenient point .",
    "kirchhoff s law of current conservation states that the total current flow into or out of any vertex is zero , which implies that the voltages satisfy the equations @xmath16 for all  @xmath0 , where @xmath17 is an element of the adjacency matrix thus : @xmath18 and @xmath19 is the kronecker  @xmath20 : @xmath21 noting that @xmath22 , the degree of vertex  @xmath0 , we can write eq .",
    "( [ kirchhoff1 ] ) in matrix form as @xmath23 where @xmath24 is the diagonal matrix with elements @xmath25 and the source vector @xmath26 has elements @xmath27    we can not simply invert the matrix @xmath28 to get the voltage vector  @xmath29 , because the matrix ( which is called the graph laplacian ) is singular : the vector @xmath30 is always an eigenvector with eigenvalue zero because voltage is arbitrary to within an additive constant , and since the determinant is the product of the eigenvalues , it follows that the determinant is always zero .",
    "mathematically , this says that one of the equations in our system of @xmath6 equations is redundant .",
    "( physically , it is telling us that current is conserved . ) to fix the problem we need only choose one equation , any equation , and remove it from the system , to get a matrix we can invert .",
    "this operation is made most simple if we simultaneously choose to measure our voltages relative to the corresponding vertex .",
    "thus , let us measure voltages relative to some vertex  @xmath31 , and remove the @xmath31th equation , which means removing the @xmath31th row of @xmath28 .",
    "since @xmath32 , we can also remove the @xmath31th column , giving a square @xmath33 matrix , which we denote @xmath34 .",
    "then @xmath35    the voltage of the one missing vertex  @xmath31 is , by definition , zero . to represent this , let us now add a @xmath31th row and column back into @xmath36 with values all equal to zero .",
    "the resulting matrix we will denote  @xmath37 . then , using eq .",
    "( [ defssi ] ) , the voltage at vertex  @xmath0 for source  @xmath2 and target  @xmath3 is given in terms of the elements of @xmath37 by @xmath38    the current flowing through the @xmath0th vertex is given by a half of the sum of the absolute values of the currents flowing along the edges incident on that vertex : @xmath39 as noted , this expression does not work for the source and target vertices , for which one also has to take account of the current injected and removed from the network , but these vertices necessarily have a current flow of exactly one unit , so one can simply write @xmath40 ( alternatively , if one is adopting the convention under which the end - points of a path are not considered part of that path , then one should set these two currents to 0 rather than  1 . )",
    "then the betweenness is the average of the current flow over all source - target pairs : @xmath41 if the network has more than one component , then the procedure described here should be repeated separately for each component .",
    "the inversion of the matrix takes time @xmath42 , while the evaluation of eq .",
    "( [ defsbi ] ) takes time @xmath8 for each vertex or @xmath43 for all of them .",
    "thus the total running time to calculate the current - flow betweenness for all vertices is @xmath13 , or @xmath42 on a sparse graph .",
    "this is comparable with the time for calculation of the flow betweenness , although slower than the fastest algorithms for shortest - path betweenness . in our experience ,",
    "the calculation is tractable for networks up to about @xmath44 vertices using typical desktop computing resources available at the time of writing . , which means a gigabyte or more for a @xmath45 matrix .",
    "it is possible that larger systems could be tackled using specialized sparse - matrix inversion methods , although there is a penalty in running time to be paid for doing this . ]",
    "this current - flow betweenness measure seems an intuitively reasonable one .",
    "current will flow along all paths from source to target , but more along shorter than longer ones , the shorter ones offering less resistance than the longer . and",
    "vertices that lie on no path from source to target , those that sit in a _ cul - de - sac _ off to the side of the network , get a betweenness of zero , which is also sensible .",
    "however , there is no special reason to believe that the flow of electrical current has anything to do with processes in non - electrical networks , such as social networks . in the following section , therefore ,",
    "we introduce our random - walk betweenness , whose definition , we believe , _ is _ relevant for social networks and other types of networks also , and we show that it is in fact numerically equal to the current - flow betweenness .",
    "imagine a `` message , '' which could be information of almost any kind , that originates at a source vertex  @xmath2 on a network .",
    "the message is intended for some target  @xmath3 , but the message , or those passing it , have no idea where @xmath3 is , so the message simply gets passed around at random until it finds itself at  @xmath3 .",
    "thus , on each step of its travels , the message moves from its current position on the network to one of the adjacent vertices , chosen uniformly at random from the possibilities .",
    "this is a random walk .    with the important proviso discussed in the following paragraph ,",
    "let us define a betweenness measure for a vertex  @xmath0 that is equal to the number of times that the message passes through @xmath0 on its journey , averaged over a large number of trials of the random walk .",
    "the full random - walk betweenness of vertex  @xmath0 will then be this value averaged over all possible source / target pairs @xmath46 .",
    "there is one small , but important , further technical point .",
    "it would be perfectly possible for a vertex to accrue a high betweenness score if a random walk were simply to walk back and forth through that vertex many times , without actually going anywhere .",
    "this situation does not correspond to our intuition of what it means to have high betweenness , and indeed if we count walks in this way our betweenness measure is found to give mostly useless results .",
    "so instead , we define the betweenness of vertex  @xmath0 to be the _ net _ number of times a walk passes through  @xmath0 . by `` net ''",
    "we mean that if a walk passes through a vertex and then later passes back through it in the opposite direction , the two cancel out and there is no contribution to the betweenness .",
    "furthermore , if , when averaged over many possible realizations of the walk in question , we find that the walk is equally likely to pass in either direction through a vertex , then again the two directions cancel . how we allow for these cancellations in practice will become clear shortly .",
    "consider then an absorbing random walk , a walk that starts at vertex  @xmath2 and makes random moves around the network until it finds itself at vertex  @xmath3 and then stops .",
    "if at some point in this walk we find ourselves at vertex  @xmath47 , then the probability that we will find ourselves at  @xmath0 on the next step is given by the matrix element @xmath48 where once again @xmath17 is an element of the adjacency matrix , eq .",
    "( [ adjacency ] ) , and @xmath49 is the degree of vertex  @xmath47 . in matrix notation , we can write @xmath50 , where @xmath24 is , as before , the diagonal matrix with elements @xmath25 .",
    "the only exception to eq .",
    "( [ defsm ] ) , as noted , is for @xmath51 ; since this is an absorbing random walk , we never leave @xmath3 once we get there ( a behavior sometimes jokingly called the `` hotel california effect '' ) , so @xmath52 for all  @xmath0",
    ". alternatively , we can simply remove row  @xmath3 from the matrix altogether .",
    "we can also remove column  @xmath3 without affecting transitions between any other vertices .",
    "let us denote by @xmath53 the matrix with these elements removed , and similarly for @xmath54 and  @xmath55 .",
    "now for a walk starting at  @xmath2 , the probability that we find ourselves at vertex  @xmath47 after @xmath56 steps is given by @xmath57_{js}$ ] , and the probability that we then take a step to an adjacent vertex  @xmath0 is @xmath58_{js}$ ] .",
    "summing over all values of @xmath56 from 0 to  @xmath59 , the total number of times we go from @xmath47 to @xmath0 , averaged over all possible walks , is @xmath60_{js}$ ] . in matrix notation",
    "we can write this as an element of the vector @xmath61 where @xmath26 is defined as before ",
    "( [ defssi ] ) .",
    "( the element @xmath62 is not strictly necessary  we could give @xmath63 any value we like , since row @xmath3 is removed from the equations anyway .",
    "we make this particular choice in order to demonstrate that our random - walk betweenness is the same as the current - flow betweenness . )",
    "clearly this equation is precisely the same as eq .",
    "( [ vv1 ] ) , for the particular choice @xmath64 .",
    "now the net flow of the random walk along the edge from @xmath47 to @xmath0 is given by the absolute difference @xmath65 and the net flow through vertex  @xmath0 is a half the sum of the flows on the incident edges , just as in eq .",
    "( [ ist ] ) .",
    "the rest of the derivation follows through as before , and the final net flow of random walks through vertex  @xmath0 is given by eq .",
    "( [ defsbi ] ) .",
    "( although eq .",
    "( [ rwres ] ) was derived for the particular case in which the @xmath3th row and column are removed from the matrix @xmath28 , the developments of sec .",
    "[ current ] show that the same result can be derived by removing any row and column . )    to summarize , the prescription for calculating random - walk betweenness , which is the expected net number of times a random walk passes through vertex  @xmath0 on its way from a source  @xmath2 to a target  @xmath3 , averaged over all @xmath2 and  @xmath3 , is as follows for each separate component of the graph of interest .    1 .",
    "construct the matrix @xmath28 , where @xmath24 is the diagonal matrix of vertex degrees and @xmath66 is the adjacency matrix .",
    "2 .   remove any single row , and the corresponding column .",
    "for example , one could remove the last row and column .",
    "invert the resulting matrix and then add back in a new row and column consisting of all zeros in the position from which the row and column were previously removed ( e.g. ,  the last row and column ) . call the resulting matrix  @xmath37 , with elements @xmath67 .",
    "4 .   calculate the betweenness from eq .",
    "( [ defsbi ] ) , using the values of @xmath68 from eqs .",
    "( [ ist ] ) and  ( [ endpoints ] ) .",
    "in this section we give a number of examples to illustrate the properties and use of our random - walk betweenness measure in the analysis of network data .",
    "we start off by presenting some cases with which previous betweenness measures have difficulties , but for which , as we now show , our new measure works well .",
    "our examples are based on the graphs sketched in fig .",
    "[ problem ] , with the two groups consisting of complete graphs of five vertices each , as depicted in fig .",
    "[ fivefive ] .",
    "we show figures for the betweenness scores in table  [ tab55 ] .",
    ".betweenness values calculated using shortest - path , flow , and random - walk measures for the two networks of fig .  [ fivefive ] . in each network",
    ", we intuitively expect vertex  c to have betweenness lower than that of vertices a and  b , but higher than that of vertices x and  y. the shortest - path and flow betweenness measures each fail to do this for one of these two challenging networks ( numbers in boxes ) .",
    "our random - walk measure on the other hand orders the vertices correctly in each case . [ cols=\"<,<,^,^,^ \" , ]     as a second example , we show in fig .",
    "[ collab ] the largest component of a coauthorship network taken from the study by newman and park  np03 .",
    "the actors in this network are scientists , primarily in applied mathematics and theoretical physics , who work on graph theory and related mathematical studies of networks , and ties represent coauthorship of papers . as in fig .",
    "[ potterat ] , the size of the vertices represents their betweenness , calculated using our random - walk measure .",
    "as we can see there are a number of actors central to the groups in the network who have high betweenness , although there are others who do not . and there are less central actors with high betweenness because they are the brokers who establish connections between different groups ( e.g. ,  those labeled `` a '' in the figure ) . but notice also that , where there are two ( or more ) paths to an outlying group of vertices , those along all paths get a high score ( e.g. ,  those labeled `` b '' ) , since the random - walk betweenness counts all paths and not just geodesic ones .",
    "betweenness is a measure of network centrality that counts the paths between vertex pairs on a network that pass through a given vertex",
    ". vertices with high betweenness lie on paths between many others and may thus have some influence over the spread of information across the network .",
    "one can define a variety of different betweenness measures , depending on which paths one counts and how they are weighted .",
    "the most widely used measure , first proposed by freeman  freeman77 , counts only shortest paths , and is thus appropriate to cases in which information flow is entirely or mostly along such paths .",
    "flow betweenness @xcite counts all paths that carry information when a maximum flow is pumped between each pair of vertices . in many networks , however , neither of these cases is realistic . both count only a small subset of possible paths between vertices , and both assume some kind of optimality in information transmission ( shortest paths or maximum flow ) .    in this paper",
    "we have proposed a new betweenness measure that counts essentially all paths between vertices ( we exclude those that do nt actually lead from the designated source to the target ) , and which makes no assumptions of optimality . our measure is based on random walks between vertex pairs and asks , in essence , how often a given vertex will fall on a random walk between another pair of vertices .",
    "the measure is particularly useful for finding vertices of high centrality that do not happen to lie on geodesic paths or on the paths formed by maximum - flow cut - sets .",
    "we have shown that our betweenness can be calculated using matrix inversion methods in time that scales as the cube of the number of vertices on a sparse graph , making it computationally tractable for networks typical of current sociological studies .",
    "we have given a number of brief examples of the use of our betweenness measure , including artificial examples illustrating cases in which it gives substantially different results from previous measures , an example of how it correlates with other measures in a network of sexual contacts , and two applications to previously studied networks , padgett s famous florentine families , and a network of collaborations between scientists .",
    "we would be delighted to see more , and more extensive , applications of our random - walk betweenness measure in future studies .",
    "the author thanks steven borgatti and michelle girvan for useful comments and conversations , and richard rothenberg and stephen muth for providing the data for the example of fig .",
    "[ potterat ] .",
    "this work was funded in part by the james s. mcdonnell foundation and by the national science foundation under grant number dms0234188 .",
    "potterat , j.  j. , phillips - plummer , l. , muth , s.  q. , rothenberg , r.  b. , woodhouse , d.  e. , maldonado - long , t.  s. , zimmerman , h.  p. , and muth , j.  b. , 2002 . risk network structure in the early epidemic phase of hiv transmission in colorado springs .",
    "_ sexually transmitted infections _ * 78 * , i159i163 ."
  ],
  "abstract_text": [
    "<S> betweenness is a measure of the centrality of a node in a network , and is normally calculated as the fraction of shortest paths between node pairs that pass through the node of interest . </S>",
    "<S> betweenness is , in some sense , a measure of the influence a node has over the spread of information through the network . by counting only shortest paths </S>",
    "<S> , however , the conventional definition implicitly assumes that information spreads only along those shortest paths . </S>",
    "<S> here we propose a betweenness measure that relaxes this assumption , including contributions from essentially all paths between nodes , not just the shortest , although it still gives more weight to short paths . </S>",
    "<S> the measure is based on random walks , counting how often a node is traversed by a random walk between two other nodes . </S>",
    "<S> we show how our measure can be calculated using matrix methods , and give some examples of its application to particular networks . </S>"
  ]
}