{
  "article_text": [
    "in @xcite , hughes introduced a by now classical fluidodynamical model to study the motion of a large human crowd ( see also @xcite , @xcite , @xcite , @xcite and @xcite for a review ) .",
    "the crowd is treated as a `` thinking fluid '' and it moves at the maximum speed towards a common destination or goal , taking also into account the environmental conditions .",
    "in fact , people prefer to avoid crowded regions and this assumption is incorporated in a potential field which gives the direction of the motion .",
    "the potential field is described by the solution of an eikonal equation giving the optimal paths to the destination , integrated with respect to a cost proportional to the local crowd density .",
    "hence , for each instant of time , an individual looks at the global configuration of the crowd and updates his / her direction to the exit trying to avoid the crowded , motion expensive regions .",
    "many situations related to pedestrian motion , for example the study of a crowd escaping from a building , can be described as the problem of finding the shortest path in a network .",
    "a model to simulate the behavior of pedestrian motion on networks is therefore important for designers to analyze the performance results in terms of number of nodes and connectivity of the environment .    in this paper",
    "we introduce both a model for pedestrian motion on networks which on one side can be viewed as a discrete time - finite state analogous of the hughes model , and a numerical discretization of the hughes system defined on a network .",
    "the system is composed by a graph eikonal equation where the cost depends on the density of the population , and a graph conservation law which governs the evolution of the population .",
    "we show that , under some natural assumptions on the flux , the graph hughes system is well - posed for any time @xmath0 .",
    "moreover it shares with the corresponding continuous model some qualitative properties , like e.g. the interpretation of the solution of the graph eikonal equation as a distance from the boundary .",
    "the model here described bears some resemblance to the _ rational behavior model _ studied in @xcite .",
    "people know at each time the global distribution of the population on the network and therefore , they accordingly modify their strategy to reach the exit .",
    "in @xcite this behavior is obtained by introducing an optimization problem at the junctions , whereas here the optimal strategy is given by the solution of the eikonal equation .",
    "we also present an algorithm for the solution of the discrete problem .",
    "we consider several examples and we show that the discrete hughes system captures the natural behavior of the crowd .    the paper is organized as follows . in section [ sec1 ] ,",
    "we recall the hughes model and we formulate its analogous on a network . in section [ sec2 ] , we derive the discrete hughes system on a graph and in section [ sec3 ] we prove the well - posedness of this problem .",
    "section [ sec4 ] is devoted to the algorithm for the solution of the problem and to numerical experiments aimed at confirming the validity of the proposed model .",
    "we conclude the paper with final comments and remarks reported in section [ sec5 ] .",
    "from a mathematical point of view the hughes model consists in the following system @xmath1 & |\\nabla u|=\\frac{1}{f(\\rho ) } , & x\\in\\omega , \\label{hughes2}\\end{aligned}\\ ] ] where @xmath2 is a bounded domain of @xmath3 and @xmath4 , which takes value in @xmath5 $ ] , is a density field representing the concentration of the pedestrian at @xmath6 . the problem is completed with some boundary conditions : the initial configuration of the mass @xmath7 and a no - flux condition on the boundary @xmath8 for the continuity equation ; the dirichlet boundary condition @xmath9 for the eikonal equation .",
    "the function @xmath10 is typically given by @xmath11 , hence the ( absolute value of the ) flux is given , as in many other models related to pedestrian and vehicular motion , by @xmath12 .",
    "the term @xmath13 , which can be always normalized to 1 , is an maximal speed at which an agent would travel in ideal environment conditions and the term @xmath14 , the so called fundamental diagram ( see @xcite ) , indicates that the velocity of a pedestrian is proportional to the crowd density ( recall that @xmath15 $ ] ) .",
    "+ the direction of the motion is given by the potential term @xmath16 .",
    "if the cost @xmath17 is bounded , i.e. if @xmath18 , the solution of the eikonal equation at time @xmath19 is given by @xmath20 where the distance function @xmath21 is defined as follows @xmath22 with @xmath23 the set of the absolute continuous curves in @xmath2 such that @xmath24 , @xmath25 and @xmath26 a.e .",
    "in @xmath27 $ ] . the term @xmath17 can be interpreted as the current cost associated to the curve @xmath28 and the solution @xmath29 of selects the curves which minimize the cost for reaching the boundary .",
    "hence , people are directed towards the boundary trying to avoid crowded regions .",
    "+ existence of a solution to - is still an open problem , the main difficulty is given by the possible concentration of population for some @xmath19 which results in the blow - up of the cost term @xmath17 .",
    "partial results are available only in the one - dimensional case ( see @xcite ) ; note that in @xmath30 , since @xmath31 , the first equation in simplifies as @xmath32 and the solution of the eikonal equation admits an almost explicit representation formula .",
    "moreover , there have been several approaches which regularize the flux function in order to obtain a well - posed problem . in @xcite ,",
    "a regularization of the eikonal equation has been introduced in order to avoid the possible blow - up of @xmath33 , leading to the system @xmath34 & -\\epsilon   \\delta u   + | \\nabla u|^2=\\frac{1}{(f(\\rho)+\\delta)^2 } , \\end{split}\\ ] ] for some @xmath35 , @xmath36 .",
    "also for this system , existence and uniqueness of a weak solution have been obtained in the one dimensional case .      in the recent years",
    ", the theory of weak solutions for conservation laws and of viscosity solutions for hamilton - jacobi equations have been extended to the case of networks ( see @xcite and @xcite , respectively ) , imposing appropriate transition conditions at the vertices .",
    "a network @xmath37 is a finite collection of points @xmath38 in @xmath3 connected by continuous , non self - intersecting edges @xmath39 .",
    "we define @xmath40 and @xmath41 , @xmath42 .",
    "each edge @xmath43 is parametrized by a smooth function @xmath44\\to{{\\mathbb r}}^n,\\ , l_j>0 $ ] . given @xmath45",
    ", @xmath46 denotes the set of edges branching out from @xmath47 , and we denote by @xmath48 the degree of @xmath47 .",
    "a vertex @xmath47 is called a boundary vertex if @xmath49 and @xmath50 denotes the set of boundary vertices .",
    "+ for a function @xmath51 , @xmath52\\to { { \\mathbb r}}$ ] is the restriction of @xmath29 to @xmath53 , i.e. @xmath54 for @xmath55 , @xmath56 , and @xmath57 is the oriented derivative of @xmath29 at @xmath47 along the arc @xmath53 defined by @xmath58 the hughes system on the network @xmath59 is given by @xmath60     \\sum\\limits_{j\\in   inc_i}\\rho_j(v_i , t ) f(\\rho_j(v_i , t))\\,\\hbox{sign}(\\pd_j u(v_i ) ) = 0\\ , , & \\",
    "t>0\\,,\\ i\\in \\mathcal i,\\\\[4pt ]    u_j(v_i)=u_k(v_i ) & j , k\\in inc_i\\,,\\ i\\in \\mathcal i,\\\\[4pt ] \\rho_j ( x,0)=\\bar \\rho_j ( x)\\ , , &   x\\in{{\\mathcal n } } , \\ ,   j\\in \\mathcal j,\\\\[4pt ]",
    "u_j(x)=0\\ , , &   x\\in\\pd{{\\mathcal n}}\\,,\\ j\\in \\mathcal j ,   \\end{array }   \\right.\\end{aligned}\\ ] ] where the derivatives @xmath61 must be interpreted as derivatives with respect to @xmath56 , which parametrizes the edge @xmath53 .",
    "+ the system is formally equivalent to @xmath62 scalar hughes systems defined on the edges coupled via the transition conditions at the internal vertices where we require for the density @xmath4 the conservation of the flux , while for @xmath29 the continuity .",
    "we recall that if we consider the two equations separately the previous transition conditions are sufficient to get existence ( and for the hamilton - jacobi equation also uniqueness ) of an entropy solution for the conservation law and of the viscosity solution for the hamilton - jacobi equation . in principle",
    "these two approaches could be combined to study the hughes system on networks , but it seems very difficult since even in the euclidean case the existence of a solution is still an open problem .",
    "hence , in section [ sec2 ] we will consider a discretization of the system obtaining a well - posed discrete version of the hughes system .",
    "finally , we observe that it is possible to consider the following network version of the regularized system @xmath63 -\\epsilon \\pd_{xx } u_j+| \\pd_x u_j |^2 = \\frac{1}{(f(\\rho_j(x , t))+\\delta)^2}\\ & x\\in e_j\\ , , \\ , \\",
    "j\\in \\mathcal j,\\\\ [ 4pt ]   \\sum\\limits_{j\\in   inc_i}\\rho_j(v_i , t ) f(\\rho_j(v_i , t))\\,\\hbox{sign}(\\pd_j u(v_i ) ) = 0\\ , , & \\",
    "t>0\\,,\\ i\\in \\mathcal i,\\\\[4pt ]    u_j(v_i)=u_k(v_i ) & j , k\\in inc_i\\,,\\ i\\in \\mathcal i,\\\\[4pt ]    \\sum\\limits_{j\\in   inc_i}\\epsilon\\pd_j u(v_i ) = 0\\,,&\\ i\\in \\mathcal i,\\\\[4pt ] \\rho_j ( x,0)=\\bar \\rho_j ( x)\\ , , &   x\\in{{\\mathcal n}}\\ , , \\ , j\\in \\mathcal j,\\\\[4pt ] u_j(x)=0\\ , , &   x\\in\\pd{{\\mathcal n}}\\,,\\ j\\in \\mathcal j ,   \\end{array }   \\right.\\end{aligned}\\ ] ] where , as stated above , the derivatives @xmath61 and @xmath64 must be interpreted as derivatives with respect to @xmath56 , which parametrizes the edge @xmath53 .",
    "note that , with respect to the first order system , a kirchhoff law for @xmath29 at the internal vertices has to be added .",
    "in this section , after a preliminary paragraph that introduces our notation on graph , we focus on the discrete hughes system and its interpretation as a discrete - time finite state model for pedestrian flow on a graph .",
    "let us consider a weighted graph @xmath65 where @xmath66 denotes the set of vertices , @xmath67 the set of the edges and @xmath68 the weights of the edges with @xmath69 if @xmath70 and @xmath71 otherwise . in what follows we will use the notation @xmath72 for the sake of simplicity .",
    "the weight @xmath73 is a parameter which takes into account several properties of the edge @xmath74 such as length , capacity , velocity ( small weights correspond to better connection between @xmath75 and @xmath76 ) .",
    "the graph is assumed to be finite , simple , connected and undirected , hence @xmath77 for any @xmath70 .",
    "+ we set @xmath78 if @xmath70 and we denote by @xmath79 the set of the neighbors of @xmath75 and by @xmath80 the degree of @xmath75 , i.e. the cardinality of the set @xmath81 .",
    "we set @xmath82 we denote by @xmath83 the set of the boundary vertices of the graph and by @xmath84 the set of the internal vertices . +",
    "a path connecting @xmath75 to @xmath76 is given by a finite subset @xmath85 of @xmath66 such that @xmath86 , @xmath87 .",
    "we denote by @xmath88 the set of the paths @xmath89 connecting @xmath75 to @xmath76 .",
    "the geodetic distance between two adjacent vertices @xmath90 is @xmath91 whereas for two arbitrary vertices @xmath92 we define @xmath93 where the minimum is taken over all the finite paths @xmath94 .      given a weighted graph @xmath95 , we consider the following discrete hughes system for a @xmath96 @xmath97         \\max\\limits_{y\\sim x}\\left\\{-\\frac{u^n(y)-u^n(x)}{w_{yx}}- \\frac{1}{1-\\r^n(y)}\\right\\}=0 , & x\\in v_0 , \\ , y\\in v , \\\\[4pt ]          \\r^0(x)=\\bar\\r(x ) , & x\\in v,\\\\          u^n(x)=0 , & x\\in v_b ,       \\end{array }       \\right.\\ ] ] where @xmath98 denotes the flux between @xmath75 and @xmath76 and @xmath99 is a positive constant . to define the flux @xmath98 in we consider a function @xmath100 satisfying @xmath101 for a continuous function @xmath102 , where @xmath103 , @xmath104 .",
    "we set @xmath105                  h(\\r^n(x),\\r^n(y ) ) , & \\hbox{if $ \\d^n_{yx}=-1 $ , }                \\end{array }              \\right.\\ ] ] where @xmath106 with @xmath107 given by the second equation in .",
    "+ in order to give specific examples of @xmath100 , we consider flux functions which are consistent with @xmath108 , i.e. @xmath109 for @xmath110 , such as the lax - friedrichs flux @xmath111 other examples of flux verifying - are given by the _",
    "godunov flux _",
    "@xmath112 } g(\\r ) , & \\hbox{if $ \\r^n(x)\\le \\r^n(y)$ , } \\\\[4pt ]             \\max\\limits_{[\\r^n(y),\\r^n(x ) ] } g(\\r ) , & \\hbox{if $ \\r^n(x)\\ge \\r^n(y)$ , }           \\end{array }         \\right.\\ ] ] and by the _ engquist - osher flux _",
    "@xmath113 in all the previous examples @xmath100 is consistent with @xmath114 and satisfies - with @xmath115 .",
    "note that the discrete conservation law in coincides with the numerical scheme for introduced in @xcite if the graph @xmath95 is given by the discretization points of an interval @xmath116 $ ] and @xmath100 is consistent with @xmath108 ( see also @xcite ) .",
    "in the case of a network , it corresponds to discretize the conservation law inside the edges and to impose the conservation of the flux at the vertices .",
    "we also refer to @xcite,@xcite for different numerical discretizations of conservation law on networks in the framework of vehicular traffic motion . concerning the eikonal equation , we recall that approximations of hamilton - jacobi equations on networks",
    "are discussed in @xcite for finite differences and in @xcite for semi - lagrangian schemes .",
    "the system has been introduced as a discretization of the continuous problem - , but nevertheless it inherits some dynamical properties of the original model and it can be interpreted as a discrete - time finite state model for the flow of pedestrians on a graph in the following way . at the initial time , there is a continuum of indistinguishable players distributed on the vertices of the graph @xmath95 according to a density function @xmath117 , where @xmath118 represents the crowd at the vertex @xmath75 . as in the original hughes model @xcite , we assume that people have a complete knowledge of the environment and they choose the minimum distance path to their destination @xmath119 , but they have difficult to move against the flow which is proportional to the local crowd density .",
    "each vertex @xmath120 represents a point at which people can choose which route @xmath70 to take and the subset @xmath83 represents the goal , e.g. the exit of the environment . + the term @xmath121 ( with @xmath122 ) , where @xmath123 is the solution of the graph eikonal equation in at the time @xmath124 , gives the direction of the flow .",
    "the function @xmath107 , see for more details , is given by the distance function from the boundary integrated along the cost @xmath125 which penalizes the vertices with high density @xmath126 .",
    "+ the pedestrians having reached a vertex @xmath120 at a given time @xmath124 are stirred to the arc which minimizes the distance @xmath107 from the boundary . moreover , if @xmath127 then @xmath128 and @xmath129 for each @xmath130 such that @xmath70 .",
    "hence , the flow is always in the direction of the boundary , i.e. the individuals having already reached the destination can not reenter in the environment .",
    "if we consider the flow @xmath100 e.g. given by , the first of the two terms says that the velocity of the pedestrians along the arc @xmath74 is given by the average of the velocity at @xmath75 and @xmath76 ; the second term is a small viscosity term given by the graph laplacian @xmath131 which can be interpreted as a a stochastic perturbation of the flux at @xmath75 .",
    "in this section we prove existence and uniqueness of the solution of the discrete hughes model .",
    "we study separately the discrete eikonal equation and the discrete conservation law present in the system and then we will arrive to the well - posedness of the discrete system .",
    "we study the graph eikonal equation ( see @xcite , @xcite for related results ) @xmath132      u^n(x)=0,&x\\in v_b , \\",
    ", n\\in{{\\mathbb n}}. \\end{array } \\right.\\ ] ] we assume that , for any @xmath133 , @xmath134 for some @xmath135 , hence there exists a constant @xmath62 such that @xmath136    let us assume that the condition holds . then , for any @xmath133 , there exists a unique solution of , given by the formula @xmath137 @xmath138with the convention @xmath139 .    _",
    "_ the function @xmath107 in is well defined ( i.e. , the minimum is achieved ) since , for each fixed @xmath75 , the set of admissible paths connecting @xmath75 to the boundary @xmath119 is finite . we first show that for @xmath140 @xmath141 given @xmath78 , let @xmath142 and @xmath143 be such that @xmath144 then , @xmath145 is a path connecting @xmath75 to @xmath142 and therefore @xmath146 from which we can conclude that holds .",
    "+ let us show now that for @xmath140 @xmath147 let @xmath142 and @xmath148 be such that @xmath149 since @xmath150 and @xmath151 , we get @xmath152 and , therefore , @xmath153 combining and , we get .",
    "note that the positivity of the cost @xmath125 implies @xmath154 for any @xmath140 .",
    "if @xmath127 , considering the stationary path @xmath155 which gives a null cost , we have @xmath156 and therefore @xmath128 .    _ uniqueness",
    "_ let @xmath107 , @xmath157 be two solutions of and in addition we assume that @xmath158 , for a strictly positive @xmath159 .",
    "we define also @xmath160 and @xmath161 .",
    "let @xmath162 be such that @xmath163 .",
    "since @xmath164 for @xmath127 , then @xmath75 belongs to @xmath165 .",
    "let @xmath166 be such that @xmath167 hence , @xmath168 from which @xmath169 .",
    "it follows that @xmath170 and , by @xmath171 , we get @xmath172 , which is in contradiction with the definition of @xmath173 .    in the next proposition , we give some regularity properties of @xmath107 .",
    "let @xmath107 be the solution of .",
    "then @xmath174      & |u^n(y)-u^n(x)|\\le m d(x , y)&&\\quad \\forall x , y\\in v , x\\sim y , \\label{regd2}\\end{aligned}\\ ] ] where @xmath175 and @xmath62 are defined in and , respectively .",
    "let @xmath120 be .",
    "then , for any @xmath176 and for any @xmath177 , by the inequalities in we have @xmath178 therefore the bounds follow immediately .",
    "let @xmath179 and @xmath143 be , where @xmath142 is an optimal path for @xmath180 .",
    "then , @xmath145 is a path connecting @xmath75 to @xmath142 and , therefore , @xmath181 which proves the property .",
    "let us define the following function on the graph @xmath182 : @xmath183 then , the solution of can be written as @xmath184 ( cf . with the formula in the continuous case ) .",
    "therefore , @xmath107 is the distance from the boundary taking into account the distribution of the population on the graph : the term @xmath185 , which is the cost of passing from @xmath75 to @xmath76 , penalizes the vertices adjacent to @xmath75 with high population density .",
    "the term @xmath121 in , which can be seen as the normalized discrete gradient of @xmath107 , gives the direction of the minimizing path to the boundary .",
    "moreover , if @xmath186 , then @xmath187 coincides with the path distance @xmath175 defined in .      in this section",
    "we study the problem @xmath188 where @xmath98 satisfies - , @xmath99 is a positive constant and @xmath189 is equal to 1 if the flux is directed from @xmath76 to @xmath75 and to @xmath190 viceversa ( for , @xmath191 ) . + we rewrite equation as @xmath192 for a map @xmath193 .    [",
    "prop : flux1 ] let us assume @xmath194 where @xmath195 is defined in and @xmath173 in . then",
    ", the map @xmath196 is monotone in @xmath197 $ ] , i.e. if @xmath198 $ ] for all @xmath120 , @xmath133 , then @xmath199    observe that @xmath200 we first prove that @xmath201 for @xmath202 . this follows immediately by and by the identity @xmath203",
    "\\l h_u(\\r^n(x),\\r^n(y ) ) ,   & \\hbox{if $ \\d^n_{yx}=-1$. }                               \\end{array }                             \\right.\\ ] ] moreover , by we have @xmath204 and therefore @xmath196 is increasing in @xmath205 .",
    "[ prop : flux2 ] let us assume that holds and that @xmath206 @xmath207 . then ,    * @xmath208 @xmath209 , @xmath0 . * if @xmath210 and the inequality in is strict , then @xmath211 @xmath207 , @xmath0 . *",
    "@xmath212 , @xmath213 .",
    "* @xmath214 , @xmath213 .    by using , the monotonicity of the map @xmath196 and the following @xmath215 it follows that @xmath216 hence , _ ( i ) _ holds .",
    "+ if @xmath217 , by the map @xmath196 is strictly increasing in @xmath205 .",
    "moreover , by , @xmath218 is the sum of terms non decreasing in @xmath219 . hence , if @xmath210 , then @xmath220 and iterating on @xmath133 we get _ ( ii)_. + to prove the equality in _ ( iii ) _ , we observe that @xmath221 in fact , if @xmath222 , then @xmath223 and by we have @xmath224 we proceed similarly if @xmath225 . since for each @xmath120 there is a corresponding node @xmath226 for which holds , we immediately get @xmath227 iterating the previous argument on @xmath133 we get _ ( iii)_. + to prove _ ( iv ) _ , we consider the case @xmath228 and we observe that @xmath229 moreover , by the monotonicity of @xmath196 , see _",
    "( i ) _ , and the mass conservation in , we can write @xmath230 and similarly @xmath231 by substituting the previous inequality in we obtain @xmath232 and , iterating , we get _ ( iv)_.    the term @xmath233 represents the cumulative distribution of the population which has already reached the exit at the time @xmath124 . since if @xmath127 then @xmath234 @xmath235 with @xmath78 , there is no flow inside the boundary .",
    "the assumption , which gives a bound on the maximal admissible velocity of the flux , is exploited in conjunction with the assumption in order to get the monotonicity of the map @xmath196 introduced in .",
    "this property guarantees that pedestrians can move only of one vertex for unit time .",
    "hence , people on not adjacent vertices of the graph can not interact in a single time interval .",
    "[ dirichlet ] for the numerical simulation , we also consider a homogeneous dirichlet boundary condition in place of the no - flux boundary condition .",
    "the corresponding conservation law on the graph is @xmath236   \\r^0(x)=\\bar\\r(x ) ,   & \\quad x\\in v , n=0 .",
    "\\end{array } \\right .\\end{aligned}\\ ] ] if we denote with @xmath237 the solution of the previous problem and by @xmath238 the solution of , by the monotonicity of the scheme @xmath196 it is immediate to see that @xmath239 for any @xmath133 .",
    "hence , also @xmath237 satisfies properties ( i ) and ( ii ) in prop .",
    "[ prop : flux2 ] .    as an immediate consequence of the proposition [ prop : flux2 ] and the assumption , we have the well - posedness of the hughes model on a graph .",
    "assume that @xmath240 and @xmath210 @xmath207 .",
    "then the problem is well defined @xmath241 .    by proposition [ prop : flux2]_(ii ) _ and the condition , the eikonal equation is well defined @xmath242 .",
    "it follows that also the conservation law is well defined @xmath242 .",
    "in this section we discuss the numerical implementation of the discrete hughes system , which is considered as a discretization of the continuous hughes system on a network @xmath59 .",
    "we introduce a time step @xmath243 and a spatial step @xmath244 .",
    "the discretization of the edges of the network @xmath59 is done uniformly with respect to @xmath244 with the points of the discretization giving the vertices of the graph @xmath95 .",
    "the stability condition in is verified if @xmath245 being @xmath246 in .",
    "the choice of the flux function @xmath100 is an important point .",
    "it is well known that a low order scheme gives poor accuracy on smooth regions of the solutions , conversely a high order scheme could develop spurious oscillations bringing to a high local error in non smooth regions of the solutions .",
    "we experimentally observed that a good compromise is represented by the engquist - osher flux .",
    "for this reason , from now on we will consider this form of the numerical flux @xmath100 . in the resolution of the system ,",
    "the conservation law is explicit in time , hence its computation does not present any difficulty .",
    "the resolution of the eikonal equation is more delicate and we consider a _ value iteration _ technique . taken an initial guess @xmath247 , we iterate the explicit system @xmath248 under some non restrictive hypotheses ( see @xcite ) , such iteration is a contraction and converges monotonically for @xmath249 to the solution @xmath107 of . it has been shown the relevance of a good initial guess @xmath247 to have a fast convergence ( cf .",
    "a perfect candidate to play this role is the function @xmath250 that is the solution of the discrete eikonal equation at the previous time step .      in this section",
    "we consider a simple network composed of five nodes and four edges ( see figure [ fig1 ] , left ) .",
    "the initial density @xmath251 ( see figure [ fig1 ] , right ) is defined by the restriction on the network of the function @xmath252 the set of the boundary points @xmath119 , i.e. the _ target points _ , is given by the vertexes in @xmath253 and @xmath254 , where @xmath107 is imposed equal to zero .",
    "we will consider two possible cases for the boundary conditions ( bcs ) for the conservation law : the case with a no - flux condition ( in such case the mass is conserved inside the network ) and the case with a homogeneous dirichlet condition on the target points ( see remark [ dirichlet ] ) .",
    "those bcs are relative to a different choice of the model : the no - flux condition corresponds to target points where the crowd tends to concentrate , for example the stage of a concert , the various points of interest during the annual hajj , see @xcite , etc .",
    "the homogeneous dirichlet condition , instead , corresponds to target points which can be seen as _ exits _ of large dimensions : any mass touching them exits instantaneously from the network .",
    "+ first objective of this section is to show the stability of the discrete system : with this aim we consider a first order numerical flux as in .",
    "the case with a second order correction ( stochastic perturbation adding diffusion ) is more regular and it will be take into account in the next test 3 .",
    "we perform the simulation fixing the discretization parameter @xmath255 and the time step @xmath256 , hence the stability condition is verified since we observe @xmath257 and @xmath258 .    [ [ test-1 ] ] * test 1 * + + + + + + + +    we start considering the case of homogeneous dirichlet boundary conditions . at the beginning of the simulation , the two initial masses start to move in the direction of the two target points acting as exits .",
    "the mass coming from the edge connecting @xmath259 to @xmath260 has a shorter path so it arrives on the junction node and it turns in direction of the closer exit @xmath254 ( figure [ fig1 ] ) . in figure [ fig2 ]",
    "it is possible to observe the first interaction time between the two masses : the arrival of the mass coming from the edge connecting @xmath261 to @xmath260 produces a congestion near the exit @xmath254 , therefore the other exit @xmath253 becomes convenient as it is possible to observe in the graph of the drift potential @xmath29 , see figure [ fig3 ] ( below ) and compare with figure [ fig2 ] ( below ) .",
    "therefore , the exit @xmath253 attracts a part of the mass ( figure [ fig3 ] above ) .",
    "this phenomena is peculiar of the hughes model and it has been observed also in other works ( see e.g. @xcite or @xcite ) . once reached the target , the mass exits from the network ( figure [ fig3 ] above , on the exit @xmath254 ) .",
    ".,height=226 ]    [ [ test-2 ] ] * test 2 * + + + + + + + +    in a second simulation we compute the same solution with the no - flux boundary condition . in this case",
    ", the mass is conserved .",
    "the first part of the test shows the same results as above : the masses are attracted by the target point @xmath254 , but differently the mass starts to concentrate , reducing its speed until the exit @xmath253 becomes convenient .",
    "when also this second target point reaches its maximal value of the density getting congested , the mass reaches a stable configuration ( figure [ fig32 ] ) . in the case of a coarse time step @xmath243",
    ", some oscillatory phenomena are observed in the second part of the test ( chattering ) , where essentially the mass changes alternatively objective between the two target points . with a finer time discretization ,",
    "those effects are reduced till disappearing .",
    "this test confirms even more than the previous case the stability of the discrete system and the fact that the density is always strictly lower than the maximal value 1 , even in the extreme case , when we force the mass to concentrate .",
    ".,height=132 ]    [ [ test-3 ] ] * test 3 * + + + + + + + +    as last simulation on this network , we add to the conservation law a term of the type , which can be interpreted , from a model point of view , as a stochastic perturbation in the motion of the mass and , from an analytic point of view , as a second order regularizing term in the equation . in figure [ fig33 ]",
    "it is possible to see the effects of the diffusive term : the solution is more regular and congestion is not present .",
    "this is a phenomenon observed also in @xcite : the presence of a stochastic noise prevents the mass to concentrate over a certain ratio .",
    "this has the indirect effect to help the overall _ evacuation time _",
    "( i.e. the first time step where the density on the domain is null everywhere ) for certain configurations of the system ( we can observe this comparing figure [ fig3 ] with figure [ fig33 ] ) .",
    "avoiding congestion brings also some other macroscopic effects : in this case all the mass is exiting by the more convenient `` exit '' located in @xmath254 .",
    "since this arc is not getting congested , the agents do not change strategy using the other `` exit '' in @xmath253 .    ):",
    "density at two different time steps ( @xmath262 and @xmath263).,height=257 ]      the stadium at the wuhan sports centre ( fig .",
    "[ stad ] , left ) is a multi - use stadium located in wuhan , china . completed in 2002 , it was used as test benchmark for mass - evacuation in @xcite .",
    "the stadium has 42 bleachers ( tiers of seats ) distributed on all 3 floors and has 9 exits ( fig .",
    "[ stad ] , right ) for evacuation ; the capacity declared of the structure is of 54,357 spectators . transforming a bit the structure ( we consider a planar network ) the evacuation network in this stadium ( fig .",
    "[ stad ] , right ) has 108 arcs and 63 nodes .",
    "after an uniform discretization of the arcs , the number of nodes of the network is around @xmath264 with a similar number of connections .        the choice of the initial configuration of density can be variable with respect to the aspect that we want to underline ( by choosing a high initial uniform density distribution , we can test the network in an extremely crowded scenario ; a random density choice can simulate some not standard cases of anomalous local concentration of crowd , etc ) . in this test",
    ", we chose the following initial datum @xmath265 ( we always mean the restriction of such function on the network ) , this distribution in our intention should render the higher concentration of spectators in the areas closer to the court .",
    "we approximate uniformly the arcs using the discretization step @xmath255 and we sample the time with @xmath256 . also in this case the condition is guaranteed ( the maximum number of connections per node @xmath195 is @xmath266 ) and the scheme is stable . in figure [ stad1 ]",
    "we can see the initial distribution of the density and the potential driving the individuals toward one of the exits .",
    "in figure [ stad3 ] it is shown the evolution of the system in various moments .",
    "we can notice that , despite the general symmetry of the structure , the behavior is highly conditioned by the position and the number of the exits .",
    "of particular interest is the difference between the evacuation of sectors a / b and c / d ( refer to fig .",
    "[ stad ] ) . as it can be seen from the scheme , the sector a is served by only one exit , differently from c , where two exits are present .",
    "analogously , the sector d has 4 exits conversely to sector b which has just two .",
    "this brings to an orderly and efficient evacuation in the sectors c / d , with a well balanced use of the exits available . in the other case",
    "( sector a / b ) , the observed dynamics are different : on the paths toward the only three exits , in proximity to some nodes with multiple access , there are the appearance of high density congested regions .",
    "we can observe also some of the phenomena discussed previously : reduction of the speed in the congested regions , changes of strategy , doubtful choice between two strategies ( chattering ) .",
    "this has the macroscopic effect to rise up the final time necessary to evacuate the regions involved as we can observe in the last samples of figure [ stad3 ] : the sectors c / d are already empty , the sectors a / b , instead , show congestion and a laborious flow through them .",
    "it is interesting to observe that a more efficient ( for evacuation purposes ) network is not trivially a network with more exits but a structure that avoids to drive big masses of agents to pass at the same time in the same nodes .",
    "this is a consequence to the incapacity of the agents represented in the model to forecast the future configuration of the system in order to choose the best strategy to adopt . for those reasons ,",
    "the model is particularly appropriate to simulate the behavior of a crowd in a known network in presence of unpredicted events ( an evacuation order , unusual high concentration in common transport facilities , etc . ) .        , @xmath267 , @xmath268 , @xmath269.,title=\"fig:\",height=272 ] , @xmath267 , @xmath268 , @xmath269.,title=\"fig:\",height=272 ] , @xmath267 , @xmath268 , @xmath269.,title=\"fig:\",height=272 ] , @xmath267 , @xmath268 , @xmath269.,title=\"fig:\",height=272 ]",
    "in this paper we have presented a discrete hughes model for pedestrian flow on a graph .",
    "we have shown that , differently from the analogous continuous model , this discrete model is well - posed for any time @xmath0 under some natural assumptions on the flux , continuing to share some qualitative properties with the corresponding continuous model , as the interpretation of the solution of the graph eikonal equation as a distance from the boundary , change of strategies , congestion , etc .",
    "+ several tests have been shown , analyzing and comparing the results and the behaviors obtained with different conditions ( no bcs , homogeneous dirichlet bcs or adding a diffusive term ) .",
    "the experimental examples have confirmed the validity of the proposed model , showing that the discrete system is always stable , even in the extreme case , when we force the mass to concentrate .",
    "z. fang , q. li , q. li , l. d. han and d. wang , _ a proposed pedestrian waiting - time model for improving space - time use efficiency in stadium evacuation scenarios _ , build .",
    "environ . , * 46 * ( 2011 ) , 17741784 .",
    "l. huang , s.c .",
    "wong , m. zhang , c.w .",
    "shu , and w.h.k .",
    "lam , _ revisiting hughes dynamic continuum model for pedestrian flow and the development of an efficient solution algorithm _ , transportat .",
    "b - meth . ,",
    "* 43 * ( 2009 ) , 127141"
  ],
  "abstract_text": [
    "<S> in this paper , we introduce a discrete time - finite state model for pedestrian flow on a graph in the spirit of the hughes dynamic continuum model . </S>",
    "<S> the pedestrians , represented by a density function , move on the graph choosing a route to minimize the instantaneous travel cost to the destination . </S>",
    "<S> the density is governed by a conservation law while the minimization principle is described by a graph eikonal equation . </S>",
    "<S> we show that the model is well posed and we implement some numerical examples to demonstrate the validity of the proposed model .    </S>",
    "<S> * keywords * : : :    pedestrian flow , hughes model , conservation law , graph eikonal    equation . </S>"
  ]
}