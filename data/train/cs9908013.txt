{
  "article_text": [
    "in many distributed dynamical systems there is little centralized communication and control among the individual nodal elements . despite this handicap ,",
    "typically we wish to design the system so that its dynamical behavior has some desired form .",
    "often the quality of that behavior can be expressed as a ( potentially path - dependent ) global energy function , @xmath0 .",
    "the associated design problem is particularly interesting when we can also express the individual nodal elements @xmath1 as minimizers of `` local '' energy functions @xmath2 .",
    "given @xmath0 , this reduces the problem to determining the optimal associated \\{@xmath2}.    because the argument lists of the @xmath2 may overlap , what action @xmath1 should take at time @xmath3 to minimize @xmath2 may depend on what actions the other nodes take at @xmath3 .",
    "since without binding contracts @xmath1 can not know those other actions ahead of time , it can not assuredly minimize @xmath2 in general .",
    "we are particularly interested in cases where each @xmath1 addresses this problem by using machine - learning ( ml ) techniques to determine its actions .",
    "( in its use of such techniques that trade off exploration and exploitation , such an @xmath1 often approximates a stochastic node following the distribution that minimizes @xmath1 s free energy  see below . ) in such cases the challenge is to choose the \\{@xmath2 } so that the associated system of good ( but suboptimal ) ml - based nodes induces behavior that best minimizes the provided function @xmath0 .",
    "we refer to a system designed this way , or more generally to a system investigated from this perspective , as a collective intelligence ( coin )  @xcite . to agree with bar problem and game - theory terminology",
    ", we refer to the nodes as @xmath4 , @xmath0 as ( minus ) _ world utility _ , and the \\{@xmath2 } as ( minus ) _",
    "private utilities_. as an example of this terminology , a spin glass in which each spin @xmath1 is at an energy minimum given the states of the other spins is a `` nash equilibrium '' of an associated `` game ''  @xcite , a game formed by identifying each agent with a spin @xmath1 and its associated private utility function with @xmath1 s energy function .",
    "arthur s bar problem  @xcite can be viewed as a problem in designing coins .",
    "loosely speaking , in this problem at each time @xmath3 each agent @xmath1 decides whether to attend a bar by predicting , based on its previous experience , whether the bar will be too crowded to be `` rewarding '' at that time , as quantified by a reward function @xmath5 .",
    "the greedy nature of the agents frustrates the global goal of maximizing @xmath6 at @xmath3 .",
    "this is because if most agents think the attendance will be low ( and therefore choose to attend ) , the attendance will actually be high , and vice - versa .",
    "this frustration effect makes the bar problem particularly relevant to the study of the physics of emergent behavior in distributed systems  @xcite .    in coin design",
    "we try to avoid such effects by determining new utilities \\{@xmath2 } so that all agents trying to minimize those new utilities means that @xmath0 is also minimized .",
    "( of course , we wish to determine the \\{@xmath2 } without first explicitly solving for the minimum of @xmath0 . ) as an analogy , economic systems sometimes have a `` tragedy of the commons '' ( toc )  @xcite , where each agent s trying maximize its utility results in collective behavior that @xmath7 each agent s utility , and therefore minimizes @xmath7 @xmath6 .",
    "one way the toc is avoided in real - world economies is by reconfiguring the agents utility functions from \\{@xmath5 } to a set of \\{@xmath2 } that results in better @xmath0 , for example via punitive legislation like anti - trust regulations .",
    "such utility modification is exactly the approach used in coin design .",
    "we recently applied such coin design to network packet routing  @xcite . in conventional packet routing each router uses a myopic shortest path algorithm ( spa ) , with no concern for side - effects of its decisions on an external world utility like global throughput ( e.g. , for whether those decisions induce bottlenecks ) .",
    "we found that a coin - based system has significantly better throughput than does a conventional spa  @xcite , even when the agents in that system had to predict quantities ( e.g. , delays on links ) that were directly provided to the spa .    in this paper",
    "we confront frustration effects more directly , in the context of the bar problem . in the next section we present ( a small portion of ) the theory of coins",
    ". then we present experiments applying that theory to the distributed control of the agents in the bar problem .",
    "those experiments indicate that by using coin theory we can avoid the frustration in the bar problem and thereby achieve almost perfect minimization of the global energy .",
    "we consider the state of the system across a set of consecutive time steps , @xmath8 . without loss of generality , all relevant characteristics of agent @xmath1 at time @xmath3  including its internal parameters at that time as well as its externally visible actions  are encapsulated by a euclidean vector @xmath9 , the @xmath10 of agent @xmath1 at time @xmath3 .",
    "@xmath11 is the set of the states of all agents at @xmath3 , and @xmath12 is the state of all agents across all time .",
    "so * world utility * is @xmath13 , and when @xmath1 is an ml algorithm `` striving to increase '' its * private utility * , we write that utility as @xmath14 .",
    "the mathematics is generalized beyond such ml - based agents through an artificial construct : the * personal utilities * \\{@xmath15}. we restrict attention to utilities of the form @xmath16 for * reward functions * @xmath17 .",
    "we are interested in systems whose dynamics is deterministic .",
    "( this covers in particular any system run on a digital computer . )",
    "we indicate that dynamics by writing @xmath18 .",
    "so all characteristics of an agent @xmath1 at @xmath19 that affects the ensuing dynamics of the system , including in particular its private utility if it has one , must be included in @xmath20 .    *",
    "definition : * a system is * factored * if for each agent @xmath1 individually , @xmath21 for all pairs @xmath22 and @xmath23 that differ only for node @xmath1 .    for a factored system ,",
    "the side effects of a change to @xmath1 s @xmath24 state that increases its personal utility can not decrease world utility .",
    "if the separate agents have high personal utilities , by luck or by design , then they have not frustrated each other , as far as @xmath0 is concerned .",
    "the definition of factored is carefully crafted .",
    "in particular , it does _ not _ concern changes in the value of the utility of agents other than the one whose state is varied . nor does it concern changes to the states of more than one agent at once . indeed , consider the following alternative desideratum to having the system be factored : any change to @xmath22 that simultaneously improves all agents ensuing utilities must also improve world utility .",
    "although it seems quite reasonable , there are systems that obey this desideratum and yet quickly evolve to a _",
    "minimum _ of world utility .",
    "for example , any system that has @xmath25 obeys this desideratum , and yet as shown below , such systems entail a toc in the the bar problem .    for a factored system ,",
    "when every agents personal utility is optimizal , given the other agents behavior , world utility is at a critical point  @xcite . in game - theoretic terms",
    ", optimal global behavior corresponds to the agents reaching a personal utility nash equilibrium for such systems  @xcite .",
    "accordingly , there can be no toc for a factored system .    as a trivial example , if @xmath26 , then the system is factored , regardless of @xmath27 .",
    "however there exist other , often preferable sets of \\{@xmath28 } , as illustrated in the following development .",
    "* definition : * the ( @xmath29 ) * effect set * of node @xmath1 at @xmath12 , @xmath30 , is the set of all components @xmath31 for which @xmath32 .",
    "@xmath33 with no specification of @xmath12 is defined as @xmath34 .    *",
    "definition : * let @xmath35 be a set of agent - time pairs . @xmath36 is @xmath12 modified by `` clamping '' the states corresponding to all elements of @xmath35 to some arbitrary pre - fixed value , here taken to be @xmath37 .",
    "the * wonderful life utility * ( wlu ) for @xmath35 at @xmath12 is defined as : @xmath38 in particular , the wlu for the effect set of node @xmath1 is @xmath39 .",
    "@xmath1 s effect set wlu is analogous to the change world utility would undergo had node @xmath1 `` never existed '' .",
    "( hence the name of this utility - cf . the frank capra movie . )",
    "however @xmath40 is a purely `` fictional '' , counter - factual mapping , in that it produces a new @xmath12 without taking into account the system s dynamics .",
    "the sequence of states produced by the clamping operation in the definition of the wlu need not be consistent with the dynamical laws embodied in @xmath27 .",
    "this is a crucial strength of effect set wlu .",
    "it means that to evaluate that wlu we do _ not _ try to infer how the system would have evolved if node @xmath1 s state were set to @xmath37 at time 0 and the system re - evolved .",
    "so long as we know @xmath0 and the full @xmath12 , and can accurately estimate what agent - time pairs comprise @xmath33 , we know the value of @xmath1 s effect set wlu  even if we know nothing of the details of the dynamics of the system .    *",
    "theorem 1 : * a coin is factored if @xmath41 ( proof in @xcite ) .",
    "if our system is factored with respect to personal utilities \\{@xmath28 } , then we want each @xmath20 to be a state with as high a value of @xmath42 as possible . assuming @xmath1 is ml - based and able to achieve close to the largest possible value of any private utility specified in @xmath20",
    ", we would likely be in such a state of high personal utility if @xmath1 s private utility were set to the associated personal utility : @xmath43 . enforcing this equality",
    ", our problem becomes determining what \\{@xmath2 } the agents will best be able to maximize while also causing dynamics that is factored with respect to the \\{@xmath2}.    now regardless of @xmath44 , both @xmath45 and @xmath46 are factored systems ( for @xmath47 ) .",
    "however since each agent is operating in a large system , it may experience difficulty discerning the effects of its actions on @xmath0 when @xmath0 sensitively depends on all components of the system .",
    "therefore each @xmath1 may have difficulty learning how to achieve high @xmath2 when @xmath48 .",
    "this problem can be obviated using effect set wlu as the private utility , since the subtraction of the clamped term removes some of the `` noise '' of the activity of other agents , leaving only the underlying `` signal '' of how the agent in question affects the utility .",
    "we can quantify this signal / noise effect by comparing the ramifications on the private utilities arising from changes to @xmath20 with the ramifications arising from changes to @xmath49 , where @xmath50 represents all nodes _ other _ than @xmath1 .",
    "we call this quantification the * learnability * @xmath51 : @xmath52    * theorem 2 : * let @xmath35 be a set containing @xmath53",
    ". then @xmath54 this ratio of gradients should be large whenever @xmath35 is a small part of the system , so that the clamping wo nt affect @xmath0 s dependence on @xmath49 much , and therefore that dependence will approximately cancel in the denominator term . in such cases ,",
    "wlu will be factored just as @xmath0 is , but far more learnable .",
    "the experiments presented below illustrate the power of this fact in the context of the bar problem , where one can readily approximate effect set wlu and therefore use a utility for which the conditions in thm.s 1 and 2 should approximately hold .",
    "we modified arthur s original problem to be more general , and since we are not interested here in directly comparing our results to those in  @xcite , we use a more conventional ml algorithm than the ones investigated in  @xcite , an algorithm that approximately minimizes free energy .",
    "these modifications are similar to those in  @xcite .",
    "there are @xmath55 agents , each picking one of seven nights to attend a bar the following week , a process that is then repeated . in each week",
    ", each agent s pick is determined by its predictions of the associated rewards it would receive .",
    "each such prediction in turn is based solely upon the rewards received by the agent in those preceding weeks in which it made that pick .",
    "the world utility is @xmath56 , where @xmath57 , @xmath58 is the total attendance on night @xmath59 at week @xmath3 , @xmath60 ; and @xmath61 and the \\{@xmath62 } are real - valued parameters . intuitively , this @xmath0 is the sum of the `` world rewards '' for each night in each week .",
    "our choice of @xmath63 means that when too few agents attend some night in some week , the bar suffers from lack of activity and therefore the world reward is low .",
    "conversely , when there are too many agents the bar is overcrowded and the reward is again low .",
    "two different @xmath64 s are investigated .",
    "one treats all nights equally ; @xmath65 $ ] .",
    "the other is only concerned with one night ; @xmath66 $ ] .",
    "@xmath67 and @xmath55 is 4 times the number of agents needed to allow @xmath61 agents to attend the bar on each of the seven nights , i.e. , there are @xmath68 agents . for the purposes of the cl operation , an agent s action at time @xmath3 is represented as a unary seven - dimensional vector , so the `` clamped pick '' is ( 0,0,0,0,0,0,0 ) .",
    "each @xmath1 has a 7-dimensional vector representing its estimate of the reward it would receive for attending each night of the week . at the end of each week , the component of this vector corresponding to the night just attended is proportionally adjusted towards the actual reward just received . at the beginning of the succeeding week , to trade off exploration and exploitation , @xmath1 picks the night to attend randomly using a boltzmann distribution with 7 energies @xmath69 given by the components of @xmath1 s estimated rewards vector , and with a temperature decaying in time .",
    "this distribution of course minimizes the expected free energy of @xmath1 , @xmath70 , or equivalanetly maximizes entropy @xmath71 subject to having expected energy given by @xmath72 .",
    "this learning algorithm is similar to claus and boutilier s independent learner algorithm  @xcite .",
    "we considered three agent reward functions , using the same learning parameters ( learning rate , boltzmann temperature , decay rates , etc . ) for each .",
    "the first reward function had @xmath73 , i.e. , agent @xmath1 s reward function equals @xmath74 .",
    "the other two reward functions are : @xmath75     \\mbox{wonderful life ( wl ) : } \\ ; \\ ; \\ ;   &      r_{wl;\\eta}(\\underline{\\zeta}_{,t } ) & \\equiv       r_g(\\underline{\\zeta}_{,t } ) -      r_g(cl_\\eta(\\underline{\\zeta}_{,t } ) ) \\ ; , \\end{aligned}\\ ] ]    where @xmath76 is the night picked by @xmath1 .",
    "the original version of the bar problem in the physics literature  @xcite is a special case where there are two `` nights '' in the week ( one of which corresponds to `` staying at home '' ) ; @xmath64 is uniform ; @xmath77 ; and @xmath78 is used .",
    "the conventional @xmath79 reward is a `` natural '' reward function to use ; each night s total reward is uniformly divided among the agents attending that night . in particular ,",
    "if @xmath80 , @xmath81 , so the `` alternative desideratum '' discussed above is met .",
    "in contrast , @xmath74 results in the system meeting the desideratum of factoredness .",
    "@xmath74 suffers from poor learnability , at least in comparison to that of @xmath82 ; by eq .",
    "[ eq : learn ] the ratio of learnabilities is approximately 11 ( see @xcite for details ) . as another point of comparison , to evaluate @xmath82 each agent only needs to know the total attendance on the night it attended , unlike with @xmath74 , which requires centralized communication concerning all 7 nights .",
    "finally , in the bar problem the only interaction between any pair of agents is indirect , via small effects on each others rewards ; each @xmath1 s action at time @xmath3 has its primary effect on @xmath1 s own future actions .",
    "so the effect set of @xmath1 s entire sequence of actions is well - approximated by @xmath83 . in turn , since that sequence is all that is directly affected by the choice of @xmath1 s private utility , the effect set of @xmath84 can be approximated by @xmath83 , and therefore so can the effect set of the full @xmath20 .",
    "therefore we can approximate the effect set wlu for @xmath1 as @xmath85 .",
    "so we expect that use of @xmath86 should result in ( close to ) factored dynamics .",
    "figure  [ fig : barfig ] graphs world reward value as a function of time , averaged over 50 runs , for all three reward functions , for both @xmath65 $ ] and @xmath66 $ ] .",
    "performance with @xmath74 eventually converges to the global optimum .",
    "this agrees with the results obtained by crites  @xcite for the bank of elevators control problem .",
    "systems using @xmath82 also converged to optimal performance .",
    "this indicates that in the bar problem @xmath2 s effect set is sufficiently well - approximated by @xmath1 s future actions so that the conclusions of theorems 1 and 2 hold .",
    "however since the @xmath82 reward has better `` signal to noise '' than than the @xmath74 reward ( see above ) , convergence with @xmath82 is far quicker than with @xmath74 . indeed , when @xmath66 $ ] , systems using @xmath74 converge in 1250 weeks , which is 5 times worse than the systems using @xmath82 . when @xmath65 $ ] systems take 6500 weeks to converge with @xmath74 , which is more than _ 30 times _ worse than the time with @xmath82 .",
    "this slow convergence of systems using @xmath74 is a result of the reward signal being `` diluted '' by the large number of agents in the system .",
    "in contrast to the behavior for coin theory - based reward functions , use of conventional @xmath79 reward results in very poor world reward values that deteriorated with time .",
    "this is an instance of the toc .",
    "for example , when @xmath66 $ ] , it is in every agent s interest to attend the same night  but their doing so shrinks the world reward `` pie '' that must be divided among all agents .",
    "a similar toc occurs when @xmath64 is uniform .",
    "this is illustrated in fig .",
    "[ fig : attend ] which shows a typical example of \\{@xmath58 } for each of the three reward functions for @xmath87 . in this example",
    "using @xmath82 results in optimal performance , with 6 agents each on 6 separate nights , and the remaining 132 agents on one night ( average world reward of 13.05 ) .",
    "in contrast , @xmath79 results in a uniform distribution of agents and has the lowest average world reward ( 3.25 ) .",
    "use pf @xmath74 results in an intermediate average world reward ( 6.01 ) .",
    "figure  [ fig : numagents ] shows how performance at @xmath88 scales with @xmath55 for each reward function for @xmath66 $ ] .",
    "systems using @xmath79 perform poorly regardless of @xmath55 .",
    "systems using @xmath74 perform well when @xmath55 is low . as @xmath55 increases however , it becomes increasingly difficult for the agents to extract the information they need from @xmath74 .",
    "( this problem is significantly worse for uniform @xmath64 . )",
    "systems using @xmath82 overcome this learnability problem because @xmath89 is based on clamping of all agents but one , and therefore is not appreciably affected by @xmath55 .",
    "the theory of coins is concerned with distributed systems of controllers in which each controller strives to minimize an associated local energy function .",
    "that theory suggest how to initialize and then update those local energy functions so that the resultant global dynamics will achieve a global goal . in this paper",
    "we present a summary of the part of that theory dealing with how to initialize the local energy functions .",
    "we present experiments applying that theory to the control of individual agents in difficult variants of arthur s el farol bar problem . in those experiments ,",
    "the coins quickly achieve nearly optimal performance , in contrast to the other systems we investigated .",
    "this demonstrates that even when the conditions required by the initialization theorems of coin theory do not hold exactly , they often hold well enough so that they can be applied with confidence .",
    "in particular the coins automatically avoid the tragedy of the commons inherent in the bar problem .                c.  claus and c.  boutilier .",
    "the dynamics of reinforcement learning cooperative multiagent systems . in _ proceedings of the fifteenth national conference on artificial intelligence _ , pages 746752 , june 1998 .",
    "r.  h. crites and a.  g. barto . improving elevator performance using reinforcement learning . in d.",
    "s. touretzky , m.  c. mozer , and m.  e. hasselmo , editors , _ advances in neural information processing systems - 8 _ , pages 10171023 . mit press , 1996 .",
    "m.  a.  r. de  cara , o.  pla , and f.  guinea . competition , efficiency and collective behavior in the `` el farol '' bar model .",
    "preprint cond - mat/9811162 ( to appear in european physics journal b ) , november 1998 .",
    "w.  a. sethares and a.  m. bell .",
    "an adaptive solution to the el farol problem . in _ proceedings . of the thirty - sixth annual allerton conference on communication , control , and computing _ , allerton , il , 1998 .",
    "( invited ) ."
  ],
  "abstract_text": [
    "<S> we consider the el farol bar problem , also known as the minority game ( w. b. arthur , _ the american economic review _ , 84(2 ) : 406411 ( 1994 ) , d. challet and y.c . </S>",
    "<S> zhang , _ physica a _ , 256:514 ( 1998 ) ) . </S>",
    "<S> we view it as an instance of the general problem of how to configure the nodal elements of a distributed dynamical system so that they do not `` work at cross purposes '' , in that their collective dynamics avoids frustration and thereby achieves a provided global goal . </S>",
    "<S> we summarize a mathematical theory for such configuration applicable when ( as in the bar problem ) the global goal can be expressed as minimizing a global energy function and the nodes can be expressed as minimizers of local free energy functions . </S>",
    "<S> we show that a system designed with that theory performs nearly optimally for the bar problem .    0.2 in 5.8 in -0.5 in 9.0 in 0.2 in </S>"
  ]
}