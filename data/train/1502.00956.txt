{
  "article_text": [
    "( ba ) is known to provide accurate estimates of camera localizations as well as a sparse geometrical reconstruction @xcite , given that a strong network of matches and good initial guesses are provided . for long time",
    "this approach was considered unaffordable for real time applications such as visual simultaneous localisation and mapping ( visual slam ) .",
    "visual slam has the goal of estimating the camera trajectory while reconstructing the environment .",
    "nowadays we know that to achieve accurate results at non - prohibitive computational cost , a real time slam algorithm has to provide ba with :    * corresponding observations of scene features ( map points ) among a subset of selected frames ( keyframes ) . *",
    "as complexity grows with the number of keyframes , their selection should avoid unnecessary redundancy . * a strong network configuration of keyframes and points to produce accurate results , that is , a well spread set of keyframes observing points with significant parallax and with plenty of loop closure matches . * an initial estimation of the keyframe poses and point locations for the non - linear optimization . * a local map in exploration where optimization is focused to achieve scalability . * the ability to perform fast global optimizations ( e.g. pose graph ) to close loops in real - time .",
    "the first real time application of ba was the visual odometry work of mouragon et .",
    "@xcite , followed by the ground breaking slam work of klein and murray @xcite , known as parallel tracking and mapping ( ptam ) .",
    "this algorithm , while limited to small scale operation , provides simple but effective methods for keyframe selection , feature matching , point triangulation , camera localization for every frame , and relocalization after tracking failure .",
    "unfortunately several factors severely limit its application : lack of loop closing and adequate handling of occlusions , low invariance to viewpoint of the relocalization and the need of human intervention for map bootstrapping .    in this work we build on the main ideas of ptam , the place recognition work of glvez - lpez and tards @xcite , the scale - aware loop closing of strasdat et .",
    "al @xcite and the use of covisibility information for large scale operation @xcite , to design from scratch orb - slam , a novel monocular slam system whose main contributions are :    * use of the same features for all tasks : tracking , mapping , relocalization and loop closing .",
    "this makes our system more efficient , simple and reliable .",
    "we use orb features @xcite which allow real - time performance without gpus , providing good invariance to changes in viewpoint and illumination . * real time operation in large environments .",
    "thanks to the use of a covisibility graph , tracking and mapping is focused in a local covisible area , independent of global map size . *",
    "real time loop closing based on the optimization of a pose graph that we call the _",
    "essential graph_. it is built from a spanning tree maintained by the system , loop closure links and strong edges from the covisibility graph .",
    "* real time camera relocalization with significant invariance to viewpoint and illumination .",
    "this allows recovery from tracking failure and also enhances map reuse .",
    "* a new automatic and robust initialization procedure based on model selection that permits to create an initial map of planar and non - planar scenes . * a _ survival of the fittest _",
    "approach to map point and keyframe selection that is generous in the spawning but very restrictive in the culling .",
    "this policy improves tracking robustness , and enhances lifelong operation because redundant keyframes are discarded .",
    "we present an extensive evaluation in popular public datasets from indoor and outdoor environments , including hand - held , car and robot sequences .",
    "notably , we achieve better camera localization accuracy than the state of the art in direct methods @xcite , which optimize directly over pixel intensities instead of feature reprojection errors .",
    "we include a discussion in section [ sec : concl : vs ] on the possible causes that can make feature - based methods more accurate than direct methods .",
    "the loop closing and relocalization methods here presented are based on our previous work @xcite .",
    "a preliminary version of the system was presented in @xcite . in the current paper",
    "we add the initialization method , the _ essential graph _ , and perfect all methods involved .",
    "we also describe in detail all building blocks and perform an exhaustive experimental validation .    to the best of our knowledge ,",
    "this is the most complete and reliable solution to monocular slam , and for the benefit of the community we make the source code public .",
    "demonstration videos and the code can be found in our project webpage .",
    "the survey by williams et al .",
    "@xcite compared several approaches for place recognition and concluded that techniques based on appearance , that is image to image matching , scale better in large environments than map to map or image to map methods . within appearance based methods , bags of words techniques @xcite , such as the probabilistic approach fab - map @xcite ,",
    "are to the fore because of their high efficiency .",
    "dbow2 @xcite used for the first time bags of binary words obtained from brief descriptors @xcite along with the very efficient fast feature detector @xcite .",
    "this reduced in more than one order of magnitude the time needed for feature extraction , compared to surf @xcite and sift @xcite features that were used in bags of words approaches so far . although the system demonstrated to be very efficient and robust , the use of brief , neither rotation nor scale invariant , limited the system to in - plane trajectories and loop detection from similar viewpoints . in our previous work @xcite",
    ", we proposed a bag of words place recognizer built on dbow2 with orb @xcite .",
    "orb are binary features invariant to rotation and scale ( in a certain range ) , resulting in a very fast recognizer with good invariance to viewpoint .",
    "we demonstrated the high recall and robustness of the recognizer in four different datasets , requiring less than 39ms ( including feature extraction ) to retrieve a loop candidate from a 10k image database . in this work",
    "we use an improved version of that place recognizer , using covisibility information and returning several hypotheses when querying the database instead of just the best match .",
    "monocular slam requires a procedure to create an initial map because depth can not be recovered from a single image .",
    "one way to solve the problem is to initially track a known structure @xcite . in the context of filtering approaches",
    ", points can be initialized with high uncertainty in depth using an inverse depth parametrization @xcite , which hopefully will later converge to their real positions .",
    "the recent semi - dense work of engel et al .",
    "@xcite , follows a similar approach initializing the depth of the pixels to a random value with high variance .",
    "initialization methods from two views either assumes locally scene planarity @xcite and recover the relative camera pose from a homography using the method of faugeras et .",
    "al @xcite , or compute an essential matrix @xcite that models planar and general scenes , using the five - point algorithm of nister @xcite , which requires to deal with multiple solutions .",
    "both reconstruction methods are not well constrained under low parallax and suffer from a twofold ambiguity solution if all points of a planar scene are closer to one of the camera centers @xcite . on the other hand",
    "if a non - planar scene is seen with parallax a unique fundamental matrix can be computed with the eight - point algorithm @xcite and the relative camera pose can be recovered without ambiguity .",
    "we present in section [ sec : ini ] a new automatic approach based on model selection between a homography for planar scenes and a fundamental matrix for non - planar scenes . a statistical approach to model selection",
    "was proposed by torr et al .",
    "@xcite . under a similar rationale",
    "we have developed a heuristic initialization algorithm that takes into account the risk of selecting a fundamental matrix in close to degenerate cases ( i.e. planar , nearly planar , and low parallax ) , favoring the selection of the homography . in the planar case , for the sake of safe operation",
    ", we refrain from initializing if the solution has a twofold ambiguity , as a corrupted solution could be selected .",
    "we delay the initialization until the method produces a unique solution with significant parallax .",
    "monocular slam was initially solved by filtering @xcite . in that approach every frame is processed by the filter to jointly estimate the map feature locations and the camera pose .",
    "it has the drawbacks of wasting computation in processing consecutive frames with little new information and the accumulation of linearization errors . on the other hand keyframe - based approaches @xcite estimate the map using only selected frames ( keyframes ) allowing to perform more costly but accurate bundle adjustment optimizations , as mapping",
    "is not tied to frame - rate .",
    "strasdat et .",
    "al @xcite demonstrated that keyframe - based techniques are more accurate than filtering for the same computational cost .",
    "the most representative keyframe - based slam system is probably ptam by klein and murray @xcite .",
    "it was the first work to introduce the idea of splitting camera tracking and mapping in parallel threads , and demonstrated to be successful for real time augmented reality applications in small environments .",
    "the original version was later improved with edge features , a rotation estimation step during tracking and a better relocalization method @xcite .",
    "the map points of ptam correspond to fast corners matched by patch correlation .",
    "this makes the points only useful for tracking but not for place recognition .",
    "in fact ptam does not detect large loops , and the relocalization is based on the correlation of low resolution thumbnails of the keyframes , yielding a low invariance to viewpoint .",
    "strasdat et .",
    "al @xcite presented a large scale monocular slam system with a front - end based on optical flow implemented on a gpu , followed by fast feature matching and _ motion - only ba _ , and a back - end based on sliding - window ba .",
    "loop closures were solved with a pose graph optimization with similarity constraints ( 7dof ) , that was able to correct the scale drift appearing in monocular slam . from this work",
    "we take the idea of loop closing with 7dof pose graph optimization and apply it to the _ essential graph _ defined in section [ sec : sys : graph ]    strasdat et .",
    "al @xcite used the front - end of ptam , but performed the tracking only in a local map retrieved from a covisibility graph .",
    "they proposed a double window optimization back - end that continuously performs ba in the inner window , and pose graph in a limited - size outer window .",
    "however , loop closing is only effective if the size of the outer window is large enough to include the whole loop . in our system",
    "we take advantage of the excellent ideas of using a local map based on covisibility , and building the pose graph from the covisibility graph , but apply them in a totally redesigned front - end and back - end .",
    "another difference is that , instead of using specific features for loop detection ( surf ) , we perform the place recognition on the same tracked and mapped features , obtaining robust frame - rate relocalization and loop detection .",
    "pirker et .",
    "al @xcite proposed cd - slam , a very complete system including loop closing , relocalization , large scale operation and efforts to work on dynamic environments",
    ". however map initialization is not mentioned .",
    "the lack of a public implementation does not allow us to perform a comparison of accuracy , robustness or large - scale capabilities .",
    "the visual odometry of song et al .",
    "@xcite uses orb features for tracking and a temporal sliding window ba back - end . in comparison",
    "our system is more general as they do not have global relocalization , loop closing and do not reuse the map .",
    "they are also using the known distance from the camera to the ground to limit monocular scale drift .",
    "al @xcite , work published after we submitted our preliminary version of this work @xcite , use also the same features for tracking , mapping and loop detection . however the choice of brief limits the system to in - plane trajectories .",
    "their system only tracks points from the last keyframe so the map is not reused if revisited ( similar to visual odometry ) and has the problem of growing unbounded .",
    "we compare qualitatively our results with this approach in section [ sec : exp : kitti ] .    the recent work of engel et .",
    "al @xcite , known as lsd - slam , is able to build large scale semi - dense maps , using direct methods ( i.e. optimization directly over image pixel intensities ) instead of bundle adjustment over features .",
    "their results are very impressive as the system is able to operate in real time , without gpu acceleration , building a semi - dense map , with more potential applications for robotics than the sparse output generated by feature - based slam .",
    "nevertheless they still need features for loop detection and their camera localization accuracy is significantly lower than in our system and ptam , as we show experimentally in section [ sec : exp : tum ] .",
    "this surprising result is discussed in section [ sec : concl : vs ] .    in a halfway between direct and feature - based methods",
    "is the semi - direct visual odometry svo of forster et al .",
    "@xcite . without requiring to extract features in every frame",
    "they are able to operate at high frame - rates obtaining impressive results in quadracopters .",
    "however no loop detection is performed and the current implementation is mainly thought for downward looking cameras .    finally we want to discuss about keyframe selection .",
    "all visual slam works in the literature agree that running ba with all the points and all the frames is not feasible .",
    "the work of strasdat et al .",
    "@xcite showed that the most cost - effective approach is to keep as much points as possible , while keeping only non - redundant keyframes .",
    "the ptam approach was to insert keyframes very cautiously to avoid an excessive growth of the computational complexity .",
    "this restrictive keyframe insertion policy makes the tracking fail in hard exploration conditions .",
    "our _ survival of the fittest _",
    "strategy achieves unprecedented robustness in difficult scenarios by inserting keyframes as quickly as possible , and removing later the redundant ones , to avoid the extra cost .",
    "one of the main design ideas in our system is that the same features used by the mapping and tracking are used for place recognition to perform frame - rate relocalization and loop detection .",
    "this makes our system efficient and avoids the need to interpolate the depth of the recognition features from near slam features as in previous works @xcite .",
    "we requiere features that need for extraction much less than 33ms per image , which excludes the popular sift ( @xmath0 ) @xcite , surf ( @xmath0 ) @xcite or the recent a - kaze ( @xmath1 ) @xcite . to obtain general place recognition capabilities ,",
    "we require rotation invariance , which excludes brief @xcite and ldb @xcite .",
    "we chose orb @xcite , which are oriented multi - scale fast corners with a 256 bits descriptor associated .",
    "they are extremely fast to compute and match , while they have good invariance to viewpoint .",
    "this allows to match them from wide baselines , boosting the accuracy of ba .",
    "we already shown the good performance of orb for place recognition in @xcite .",
    "while our current implementation make use of orb , the techniques proposed are not restricted to these features .      our system ,",
    "see an overview in fig .",
    "[ fig : system ] , incorporates three threads that run in parallel : tracking , local mapping and loop closing .",
    "the tracking is in charge of localizing the camera with every frame and deciding when to insert a new keyframe .",
    "we perform first an initial feature matching with the previous frame and optimize the pose using _ motion - only ba_. if the tracking is lost ( e.g. due to occlusions or abrupt movements ) , the place recognition module is used to perform a global relocalization . once there is an initial estimation of the camera pose and feature matchings ,",
    "a local visible map is retrieved using the covisibility graph of keyframes that is maintained by the system , see fig .",
    "[ fig : graphs : kfmp ] and fig .",
    "[ fig : graphs : cov ]",
    ". then matches with the local map points are searched by reprojection , and camera pose is optimized again with all matches .",
    "finally the tracking thread decides if a new keyframe is inserted .",
    "all the tracking steps are explained in detail in section [ sec : track ] .",
    "the novel procedure to create an initial map is presented in section [ sec : ini ] .",
    "the local mapping processes new keyframes and performs _ local ba _ to achieve an optimal reconstruction in the surroundings of the camera pose .",
    "new correspondences for unmatched orb in the new keyframe are searched in connected keyframes in the covisibility graph to triangulate new points . some time after creation , based on the information gathered during the tracking , an exigent point culling policy",
    "is applied in order to retain only high quality points .",
    "the local mapping is also in charge of culling redundant keyframes .",
    "we explain in detail all local mapping steps in section [ sec : mapping ] .    the loop closing searches for loops with every new keyframe .",
    "if a loop is detected , we compute a similarity transformation that informs about the drift accumulated in the loop . then both sides of the loop are aligned and duplicated points are fused .",
    "finally a pose graph optimization over similarity constraints @xcite is performed to achieve global consistency .",
    "the main novelty is that we perform the optimization over the _ essential graph _ , a sparser subgraph of the covisibility graph which is explained in section [ sec : sys : graph ] .",
    "the loop detection and correction steps are explained in detail in section [ sec : loop ] .",
    "we use the levenberg - marquardt algorithm implemented in g2o @xcite to carry out all optimizations . in the appendix",
    "we describe the error terms , cost functions , and variables involved in each optimization .",
    "each map point @xmath2 stores :    * its 3d position @xmath3 in the world coordinate system .",
    "* the viewing direction @xmath4 , which is the mean unit vector of all its viewing directions ( the rays that join the point with the optical center of the keyframes that observe it ) . * a representative orb descriptor @xmath5 , which is the associated orb descriptor whose hamming distance is minimum with respect to all other associated descriptors in the keyframes in which the point is observed .",
    "* the maximum @xmath6 and minimum @xmath7 distances at which the point can be observed , according to the scale invariance limits of the orb features .",
    "each keyframe @xmath8 stores :",
    "* the camera pose @xmath9 , which is a rigid body transformation that transforms points from the world to the camera coordinate system . * the camera intrinsics , including focal length and principal point . * all the orb features extracted in the frame , associated or not to a map point , whose coordinates are undistorted if a distortion model is provided .",
    "map points and keyframes are created with a generous policy , while a later very exigent culling mechanism is in charge of detecting redundant keyframes and wrongly matched or not trackable map points .",
    "this permits a flexible map expansion during exploration , which boost tracking robustness under hard conditions ( e.g. rotations , fast movements ) , while its size is bounded in continual revisits to the same environment , i.e. lifelong operation .",
    "additionally our maps contain very few outliers compared with ptam , at the expense of containing less points .",
    "culling procedures of map points and keyframes are explained in sections [ sec : cull : points ] and [ sec : cull : kf ] respectively .",
    "covisibility information between keyframes is very useful in several tasks of our system , and is represented as an undirected weighted graph as in @xcite .",
    "each node is a keyframe and an edge between two keyframes exists if they share observations of the same map points ( at least 15 ) , being the weight @xmath10 of the edge the number of common map points .    in order to correct a loop we perform a pose graph optimization @xcite that distributes the loop closing error along the graph . in order not to include all the edges provided by the covisibility graph , which can be very dense , we propose to build an _ essential graph _ that retains all the nodes ( keyframes ) , but less edges , still preserving a strong network that yields accurate results .",
    "the system builds incrementally a spanning tree from the initial keyframe , which provides a connected subgraph of the covisibility graph with minimal number of edges .",
    "when a new keyframe is inserted , it is included in the tree linked to the keyframe which shares most point observations , and when a keyframe is erased by the culling policy , the system updates the links affected by that keyframe .",
    "the _ essential graph _ contains the spanning tree , the subset of edges from the covisibility graph with high covisibility ( @xmath11 ) , and the loop closure edges , resulting in a strong network of cameras .",
    "[ fig : graphs ] shows an example of a covisibility graph , spanning tree and associated essential graph . as shown in the experiments of section [ sec : exp : kitti ] , when performing the pose graph optimization , the solution is so accurate that an additional full bundle adjustment optimization barely improves the solution .",
    "the efficiency of the essential graph and the influence of the @xmath12 is shown at the end of section [ sec : exp : kitti ] .",
    "the system has embedded a bags of words place recognition module , based on dbow2 @xcite , to perform loop detection and relocalization .",
    "visual words are just a discretization of the descriptor space , which is known as the visual vocabulary .",
    "the vocabulary is created offline with the orb descriptors extracted from a large set of images .",
    "if the images are general enough , the same vocabulary can be used for different environments getting a good performance , as shown in our previous work @xcite .",
    "the system builds incrementally a database that contains an invert index , which stores for each visual word in the vocabulary , in which keyframes it has been seen , so that querying the database can be done very efficiently .",
    "the database is also updated when a keyframe is deleted by the culling procedure .    because there exists visual overlap between keyframes , when querying the database there will not exist a unique keyframe with a high score .",
    "the original dbow2 took this overlapping into account , adding up the score of images that are close in time .",
    "this has the limitation of not including keyframes viewing the same place but inserted at a different time . instead we group those keyframes that are connected in the covisibility graph . in addition",
    "our database returns all keyframe matches whose scores are higher than the @xmath13 of the best score .",
    "an additional benefit of the bags of words representation for feature matching was reported in @xcite . when we want to compute the correspondences between two sets of orb features , we can constraint the brute force matching only to those features that belong to the same node in the vocabulary tree at a certain level ( we select the second out of six ) , speeding up the search .",
    "we use this _ trick _ when searching matches for triangulating new points , and at loop detection and relocalization .",
    "we also refine the correspondences with an orientation consistency test , see @xcite for details , that discards outliers ensuring a coherent rotation for all correspondences .",
    "the goal of the map initialization is to compute the relative pose between two frames to triangulate an initial set of map points .",
    "this method should be independent of the scene ( planar or general ) and should not require human intervention to select a good two - view configuration , i.e. a configuration with significant parallax .",
    "we propose to compute in parallel two geometrical models , a homography assuming a planar scene and a fundamental matrix assuming a non - planar scene .",
    "we then use a heuristic to select a model and try to recover the relative pose with a specific method for the selected model .",
    "our method only initializes when it is certain that the two - view configuration is safe , detecting low - parallax cases and the well - known twofold planar ambiguity @xcite , avoiding to initialize a corrupted map .",
    "the steps of our algorithm are :    1 .   find initial correspondences : + extract orb features ( only at the finest scale ) in the current frame @xmath14 and search for matches @xmath15 in the reference frame @xmath16 .",
    "if not enough matches are found , reset the reference frame . 2 .",
    "parallel computation of the two models : + compute in parallel threads a homography @xmath17 and a fundamental matrix @xmath18 : @xmath19 with the normalized dlt and 8-point algorithms respectively as explained in @xcite inside a ransac scheme . to make homogeneous the procedure for both models , the number of iterations is prefixed and the same for both models , along with the points to be used at each iteration , 8 for the fundamental matrix , and 4 of them for the homography . at each iteration",
    "we compute a score @xmath20 for each model @xmath21 ( @xmath22 for the homography , @xmath23 for the fundamental matrix ) : @xmath24 + where @xmath25 and @xmath26 are the symmetric transfer errors @xcite from one frame to the other .",
    "@xmath27 is the outlier rejection threshold based on the @xmath28 test at 95% ( @xmath29 , @xmath30 , assuming a standard deviation of 1 pixel in the measurement error ) .",
    "@xmath31 is defined equal to @xmath32 so that both models score equally for the same @xmath33 in their inlier region , again to make the process homogeneous . + we keep the homography and fundamental matrix with highest score .",
    "if no model could be found ( not enough inliers ) , we restart the process again from step 1 .",
    "model selection : + if the scene is planar , nearly planar or there is low parallax , it can be explained by a homography .",
    "however a fundamental matrix can also be found , but the problem is not well constrained @xcite and any attempt to recover the motion from the fundamental matrix would yield wrong results .",
    "we should select the homography as the reconstruction method will correctly initialize from a plane or it will detect the low parallax case and refuse the initialization . on the other hand a non - planar scene with enough parallax can only be explained by the fundamental matrix , but a homography can also be found explaining a subset of the matches if they lie on a plane or they have low parallax ( they are far away ) . in this case",
    "we should select the fundamental matrix .",
    "we have found that a robust heuristic is to compute : @xmath34 and select the homography if @xmath35 , which adequately captures the planar and low parallax cases . otherwise , we select the fundamental matrix .",
    "4 .   motion and structure from motion recovery : + once a model is selected we retrieve the motion hypotheses associated . in the case of the homography we retrieve 8 motion hypotheses using the method of faugeras et .",
    "al @xcite .",
    "the method proposes cheriality tests to select the valid solution .",
    "however these tests fail if there is low parallax as points easily go in front or back of the cameras , which could yield the selection of a wrong solution .",
    "we propose to directly triangulate the eight solutions , and check if there is one solution with most points seen with parallax , in front of both cameras and with low reprojection error .",
    "if there is not a clear winner solution , we do not initialize and continue from step 1 .",
    "this technique to disambiguate the solutions makes our initialization robust under low parallax and the twofold ambiguity configuration , and could be considered the key of the robustness of our method .",
    "+ in the case of the fundamental matrix , we convert it in an essential matrix using the calibration matrix @xmath36 : @xmath37 + and then retrieve 4 motion hypotheses with the singular value decomposition method explained in @xcite .",
    "we triangulate the four solutions and select the reconstruction as done for the homography . 5 .",
    "bundle adjustment : + finally we perform a _ full ba _ , see the appendix for details , to refine the initial reconstruction .",
    "an example of a challenging initialization in the outdoor newcollege robot sequence @xcite is shown in fig .",
    "[ fig : ini ] . it can be seen how ptam and lsd - slam have initialized all points in a plane , while our method has waited until there is enough parallax , initializing correctly from the fundamental matrix .",
    "in this section we describe the steps of the tracking thread that are performed with every frame from the camera .",
    "the camera pose optimizations , mentioned in several steps , consist in _ motion - only ba _ , which is described in the appendix .",
    "we extract fast corners at 8 scale levels with a scale factor of 1.2 . for image resolutions from @xmath38 to @xmath39 pixels we found suitable to extract 1000 corners , for higher resolutions , as the @xmath40 in the kitti dataset",
    "@xcite we extract 2000 corners . in order to ensure an homogeneous distribution we divide each scale level in a grid , trying to extract at least 5 corners per cell .",
    "then we detect corners in each cell , adapting the detector threshold if not enough corners are found . the amount of corners retained per cell is also adapted if some cells contains no corners ( textureless or low contrast ) . the orientation and orb descriptor are then computed on the retained fast corners .",
    "the orb descriptor is used in all feature matching , in contrast to the search by patch correlation in ptam .",
    "if tracking was successful for last frame , we use a constant velocity motion model to predict the camera pose and perform a guided search of the map points observed in the last frame .",
    "if not enough matches were found ( i.e. motion model is clearly violated ) , we use a wider search of the map points around their position in the last frame .",
    "the pose is then optimized with the found correspondences .      if the tracking is lost , we convert the frame into bag of words and query the recognition database for keyframe candidates for global relocalization .",
    "we compute correspondences with orb associated to map points in each keyframe , as explained in section [ sec : sys : bow ] .",
    "we then perform alternatively ransac iterations for each keyframe and try to find a camera pose using the pnp algorithm @xcite . if we find a camera pose with enough inliers , we optimize the pose and perform a guided search of more matches with the map points of the candidate keyframe .",
    "finally the camera pose is again optimized , and if supported with enough inliers , tracking procedure continues .",
    "[ sec : track:3 ] once we have an estimation of the camera pose and an initial set of feature matches , we can project the map into the frame and search more map point correspondences . to bound the complexity in large maps ,",
    "we only project a local map .",
    "this local map contains the set of keyframes @xmath41 , that share map points with the current frame , and a set @xmath42 with neighbors to the keyframes @xmath41 in the covisibility graph .",
    "the local map also has a reference keyframe @xmath43 which shares most map points with current frame .",
    "now each map point seen in @xmath41 and @xmath42 is searched in the current frame as follows :",
    "1 .   compute the map point projection @xmath44 in the current frame .",
    "discard if it lays out of the image bounds .",
    "compute the angle between the current viewing ray @xmath45 and the map point mean viewing direction @xmath46 .",
    "discard if @xmath47 .",
    "3 .   compute the distance @xmath33 from map point to camera center .",
    "discard if it is out of the scale invariance region of the map point @xmath48 $ ] .",
    "4 .   compute the scale in the frame by the ratio @xmath49 .",
    "5 .   compare the representative descriptor @xmath50 of the map point with the still unmatched orb features in the frame , at the predicted scale , and near @xmath44 , and associate the map point with the best match .",
    "the camera pose is finally optimized with all the map points found in the frame .      the last step is to decide if the current frame is spawned as a new keyframe .",
    "as there is a mechanism in the local mapping to cull redundant keyframes , we will try to insert keyframes as fast as possible , because that makes the tracking more robust to challenging camera movements , typically rotations . to insert a new keyframe",
    "all the following conditions must be met :    1 .",
    "more than 20 frames must have passed from the last global relocalization .",
    "local mapping is idle , or more than 20 frames have passed from last keyframe insertion .",
    "3 .   current frame tracks at least 50 points . 4 .",
    "current frame tracks less than 90% points than @xmath51 .    instead of using a distance criterion to other keyframes as ptam",
    ", we impose a minimum visual change ( condition 4 ) .",
    "condition 1 ensures a good relocalization and condition 3 a good tracking .",
    "if a keyframe is inserted when the local mapping is busy ( second part of condition 2 ) , a signal is sent to stop local bundle adjustment , so that it can process as soon as possible the new keyframe .",
    "in this section we describe the steps performed by the local mapping with every new keyframe @xmath8 .      at",
    "first we update the covisibility graph , adding a new node for @xmath8 and updating the edges resulting from the shared map points with other keyframes .",
    "we then update the spanning tree linking @xmath8 with the keyframe with most points in common .",
    "we then compute the bags of words representation of the keyframe , that will help in the data association for triangulating new points .",
    "map points , in order to be retained in the map , must pass a restrictive test during the first three keyframes after creation , that ensures that they are trackable and not wrongly triangulated , i.e due to spurious data association .",
    "a point must fulfill these two conditions :    1 .",
    "the tracking must find the point in more than the 25% of the frames in which it is predicted to be visible .",
    "if more than one keyframe has passed from map point creation , it must be observed from at least three keyframes .",
    "once a map point have passed this test , it can only be removed if at any time it is observed from less than three keyframes .",
    "this can happen when keyframes are culled and when local bundle adjustment discards outlier observations .",
    "this policy makes our map contain very few outliers .",
    "new map points are created by triangulating orb from connected keyframes @xmath52 in the covisibility graph . for each unmatched orb in @xmath8 we search a match with other unmatched point in other keyframe . this matching is done as explained in section [ sec : sys : bow ] and discard those matches that do not fulfill the epipolar constraint .",
    "orb pairs are triangulated , and to accept the new points , positive depth in both cameras , parallax , reprojection error and scale consistency are checked .",
    "initially a map point is observed from two keyframes but it could be matched in others , so it is projected in the rest of connected keyframes , and correspondences are searched as detailed in section [ sec : sub : trackmap ] .",
    "the _ local ba _ optimizes the currently processed keyframe @xmath8 , all the keyframes connected to it in the covisibility graph @xmath52 , and all the map points seen by those keyframes .",
    "all other keyframes that see those points but are not connected to the currently processed keyframe are included in the optimization but remain fixed .",
    "observations that are marked as outliers are discarded at the middle and at the end of the optimization .",
    "see the appendix for more details about this optimization .      in order to maintain a compact reconstruction",
    ", the local mapping tries to detect redundant keyframes and delete them .",
    "this is beneficial as bundle adjustment complexity grows with the number of keyframes , but also because it enables lifelong operation in the same environment as the number of keyframes will not grow unbounded , unless the visual content in the scene changes .",
    "we discard all the keyframes in @xmath52 whose 90% of the map points have been seen in at least other three keyframes in the same or finer scale .",
    "the scale condition ensures that map points maintain keyframes from which they are measured with most accuracy .",
    "this policy was inspired by the one proposed in the work of tan et .",
    "al @xcite , where keyframes were discarded after a process of change detection .",
    "the loop closing thread takes @xmath8 , the last keyframe processed by the local mapping , and tries to detect and close loops .",
    "the steps are next described .      at",
    "first we compute the similarity between the bag of words vector of @xmath8 and all its neighbors in the covisibility graph ( @xmath53 ) and retain the lowest score @xmath54 .",
    "then we query the recognition database and discard all those keyframes whose score is lower than @xmath54 .",
    "this is a similar operation to gain robustness as the normalizing score in dbow2 , which is computed from the previous image , but here we use covisibility information . in addition",
    "all those keyframes directly connected to @xmath8 are discarded from the results . to accept a loop candidate we must detect consecutively three loop candidates that are consistent ( keyframes connected in the covisibility graph ) .",
    "there can be several loop candidates if there are several places with similar appearance to @xmath8 .",
    "in monocular slam there are seven degrees of freedom in which the map can drift , three translations , three rotations and a scale factor @xcite .",
    "therefore to close a loop we need to compute a similarity transformation from the current keyframe @xmath8 to the loop keyframe @xmath55 that informs us about the error accumulated in the loop",
    ". the computation of this similarity will serve also as geometrical validation of the loop .",
    "we first compute correspondences between orb associated to map points in the current keyframe and the loop candidate keyframes , following the procedure explained in section [ sec : sys : bow ] . at this point",
    "we have 3d to 3d correspondences for each loop candidate .",
    "we alternatively perform ransac iterations with each candidate , trying to find a similarity transformation using the method of horn @xcite .",
    "if we find a similarity @xmath56 with enough inliers , we optimize it ( see the appendix ) , and perform a guided search of more correspondences .",
    "we optimize it again and , if @xmath56 is supported by enough inliers , the loop with @xmath55 is accepted .",
    "the first step in the loop correction is to fuse duplicated map points and insert new edges in the covisibility graph that will attach the loop closure . at first the current keyframe",
    "pose @xmath57 is corrected with the similarity transformation @xmath56 and this correction is propagated to all the neighbors of @xmath8 , concatenating transformations , so that both sides of the loop get aligned .",
    "all map points seen by the loop keyframe and its neighbors are projected into @xmath8 and its neighbors and matches are searched in a narrow area around the projection , as done in section [ sec : sub : trackmap ] .",
    "all those map points matched and those that were inliers in the computation of @xmath56 are fused .",
    "all keyframes involved in the fusion will update their edges in the covisibility graph effectively creating edges that attach the loop closure .      to effectively close the loop",
    ", we perform a pose graph optimization over the _ essential graph _ , described in section [ sec : sys : graph ] , that distributes the loop closing error along the graph .",
    "the optimization is performed over similarity transformations to correct the scale drift @xcite .",
    "the error terms and cost function are detailed in the appendix . after the optimization each map point",
    "is transformed according to the correction of one of the keyframes that observes it .",
    "we have performed an extensive experimental validation of our system in the large robot sequence of newcollege @xcite , evaluating the general performance of the system , in 16 hand - held indoor sequences of the tum rgb - d benchmark @xcite , evaluating the localization accuracy , relocalization and lifelong capabilities , and in 10 car outdoor sequences from the kitti dataset @xcite , evaluating real - time large scale operation , localization accuracy and efficiency of the pose graph optimization .",
    "our system runs in real time and processes the images exactly at the frame rate they were acquired .",
    "we have carried out all experiments with an intel core i7 - 4700mq ( 4 cores @ 2.40ghz ) and 8 gb ram .",
    "orb - slam has three main threads , that run in parallel with other tasks from ros and the operating system , which introduces some randomness in the results .",
    "for this reason , in some experiments , we report the median from several runs .      the newcollege dataset @xcite contains a 2.2 km sequence from a robot traversing a campus and adjacent parks .",
    "the sequence is recorded by a stereo camera at 20 fps and a resolution @xmath58 .",
    "it contains several loops and fast rotations that makes the sequence quite challenging for monocular vision . to the best of our knowledge",
    "there is no other monocular system in the literature able to process this whole sequence .",
    "for example strasdat et al .",
    "@xcite , despite being able to close loops and work in large scale environments , only showed monocular results for a small part of this sequence .",
    "[ t ]    .tracking and mapping times in newcollege [ cols=\"^,<,^,^,^ \" , ]     results for orb - slam , ptam and lsd - slam are the median over 5 executions in each sequence .",
    "the trajectories have been aligned with 7dof with the ground truth .",
    "trajectories for rgbd - slam are taken from the benchmark website , only available for fr1 and fr2 sequences , and have been aligned with 6dof and 7dof ( results between brackets ) .",
    "x means that the tracking is lost at some point and a significant portion of the sequence is not processed by the system .",
    "[ tb : tum ]      we perform two relocalization experiments in the tum rgb - d benchmark . in the first experiment",
    "we build a map with the first 30 seconds of the sequence _",
    "fr2_xyz _ and perform global relocalization with every successive frame and evaluate the accuracy of the recovered poses .",
    "we perform the same experiment with ptam for comparison .",
    "[ fig : reloc1 ] shows the keyframes used to create the initial map , the poses of the relocalized frames and the ground truth for those frames .",
    "it can be seen that ptam is only able to relocalize frames which are near to the keyframes due to the little invariance of its relocalization method .",
    "table [ tb : res : reloc1 ] shows the recall and the error with respect to the ground truth .",
    "orb - slam accurately relocalizes more than the double of frames than ptam . in the second experiment",
    "we create an initial map with sequence _",
    "fr3_sitting_xyz _ and try to relocalize all frames from _",
    "fr3_walking_xyz_. this is a challenging experiment as there are big occlusions due to people moving in the scene . here",
    "ptam finds no relocalizations while our system relocalizes 78% of the frames , as can be seen in table [ tb : res : reloc1 ]",
    "[ fig : reloc2 ] shows some examples of challenging relocalizations performed by our system in these experiments .",
    "[ t ]     & & + & & & & & + system & kfs & & & & +   +   + & & & & & + ptam & 37 & 0.19 & 34.9 & 0.26 & 1.52 + & & & & & + orb - slam & 24 & 0.19 & * 78.4 * & 0.38 & 1.67 +     +   + & & & & & + ptam & 34 & 0.83 & 0.0 & - & - + & & & & & + orb - slam & 31 & 0.82 & * 77.9 * & 1.32 & 4.95 +          previous relocalization experiments have shown that our system is able to localize in a map from very different viewpoints and robustly under moderate dynamic changes .",
    "this property in conjunction with our keyframe culling procedure allows to operate lifelong in the same environment under different viewpoints and some dynamic changes .    in the case of a completely static scenario",
    "our system is able to maintain the number of keyframes bounded even if the camera is looking at the scene from different viewpoints . we demonstrate it in a custom sequence were the camera is looking at the same desk during 93 seconds but performing a trajectory so that the viewpoint is always changing .",
    "we compare the evolution of the number of keyframes in our map and those generated by ptam in fig .",
    "[ fig : lifelong ] . it can be seen how ptam is always inserting keyframes , while our mechanism to prune redundant keyframes makes its number to saturate .    while the lifelong operation in a static scenario should be a requirement of any slam system ,",
    "more interesting is the case where dynamic changes occur .",
    "we analyze the behavior of our system in such scenario by running consecutively the dynamic sequences from _ fr3 _ : _",
    "sitting_xyz _ , _",
    "sitting_halfsphere _ , _ sitting_rpy _ , _ walking_xyz _ , _ walking_halfspehere _ and _",
    "walking_rpy_. all the sequences focus the camera to the same desk but perform different trajectories , while people are moving and change some objects like chairs .",
    "[ fig : life:1 ] shows the evolution of the total number of keyframes in the map , and fig .",
    "[ fig : life:2 ] shows for each keyframe its frame of creation and destruction , showing how long the keyframes have survived in the map .",
    "it can be seen that during the first two sequences the map size grows as all the views of the scene are being seen for the first time . in fig .",
    "[ fig : life:2 ] we can see that several keyframes created during these two first sequences are maintained in the map during the whole experiment . during the sequences _ sitting_rpy _ and _ walking_xyz _ the map does not grow , because the map created so far explains well the scene .",
    "in contrast , during the last two sequences , more keyframes are inserted showing that there are some novelties in the scene that were not yet represented , due probably to dynamic changes . finally fig .",
    "[ fig : life:3 ] shows a histogram of the keyframes according to the time they have survived with respect to the remaining time of the sequence from its moment of creation .",
    "it can be seen that most of the keyframes are destroyed by the culling procedure soon after creation , and only a small subset survive until the end of the experiment .",
    "on one hand , this shows that our system has a generous keyframe spawning policy , which is very useful when performing abrupt motions in exploration . on the other hand",
    "the system is eventually able to select a small representative subset of those keyframes .    in these lifelong experiments",
    "we have shown that our map grows with the content of the scene but not with the time , and that is able to store the dynamic changes of the scene which could be useful to perform some scene understanding by accumulating experience in an environment .",
    "the odometry benchmark from the kitti dataset @xcite contains 11 sequences from a car driven around a residential area with accurate ground truth from gps and a velodyne laser scanner .",
    "this is a very challenging dataset for monocular vision due to fast rotations , areas with lot of foliage , which make more difficult data association , and relatively high car speed , being the sequences recorded at 10 fps .",
    "we play the sequences at the real frame - rate they were recorded and orb - slam is able to process all the sequences by the exception of sequence 01 which is a highway with few trackable close objects .",
    "sequences 00 , 02 , 05 , 06 , 07 , 09 contain loops that were correctly detected and closed by our system .",
    "sequence 09 contains a loop that can be detected only in a few frames at the end of the sequence , and our system not always detects it ( the results provided are for the executions in which it was detected ) .",
    "qualitative comparisons of our trajectories and the ground truth are shown in fig .",
    "[ fig : kitti1 ] and fig .",
    "[ fig : kitti2 ] . as in the tum rgb - d benchmark",
    "we have aligned the keyframe trajectories of our system and the ground truth with a similarity transformation .",
    "we can compare qualitatively our results from fig .",
    "[ fig : kitti1 ] and fig .",
    "[ fig : kitti2 ] with the results provided for sequences 00 , 05 , 06 , 07 and 08 by the recent monocular slam approach of lim et .",
    "al @xcite in their figure 10 .",
    "orb - slam produces clearly more accurate trajectories for all those sequences by the exception of sequence 08 in which they seem to suffer less drift .",
    "table [ tb : kitti ] shows the median rmse error of the keyframe trajectory over five executions in each sequence .",
    "we also provide the dimensions of the maps to put in context the errors .",
    "the results demonstrate that our system is very accurate being the trajectory error typically around the 1% of its dimensions , sometimes less as in sequence 03 with an error of the 0.3% or higher as in sequence 08 with the 5% . in sequence 08",
    "there are no loops and drift can not be corrected , which makes clear the need of loop closures to achieve accurate reconstructions .     & & + & & + & & & & & + sequence & & kfs & & & + & & & & & + kitti 00 & @xmath59 & 1391 & 6.68 & 5.33 & 24.83 + & & & & & + kitti 01 & @xmath60 & x & x & x & x + & & & & & + kitti 02 &",
    "@xmath61 & 1801 & 21.75 & 21.28 & 30.07 + & & & & & + kitti 03 & @xmath62 & 250 & 1.59 & 1.51 & 4.88 + & & & & & + kitti 04 & @xmath63 & 108 & 1.79 & 1.62 & 1.58 + & & & & & + kitti 05 & @xmath64 & 820 & 8.23 & 4.85 & 15.20 + & & & & & + kitti 06 & @xmath65 & 373 & 14.68 & 12.34 & 7.78 + & & & & & + kitti 07 & @xmath66 & 351 & 3.36 & 2.26 & 6.28 + & & & & & + kitti 08 & @xmath67 & 1473 & 46.58 & 46.68 & 25.60 + & & & & & + kitti 09 & @xmath68 & 653 & 7.62 & 6.62 & 11.33 + & & & & & + kitti 10 & @xmath69 & 411 & 8.68 & 8.80 & 7.64 +    [ tb : kitti ]    in this experiment we have also checked how much the reconstruction can be improved by performing 20 iterations of _ full ba _ , see the appendix for details , at the end of each sequence .",
    "we have noticed that some iterations of _ full ba _ slightly improves the accuracy in the trajectories with loops but it has negligible effect in open trajectories , which means that the output of our system is already very accurate . in any case",
    "if the most accurate results are needed our algorithm provides a set of matches , which define a strong camera network , and an initial guess , so that _ full ba _ converge in few iterations .",
    "finally we wanted to show the efficacy of our loop closing approach and the influence of the @xmath70 used to include edges in the essential graph .",
    "we have selected the sequence 09 ( a very long sequence with a loop closure at the end ) , and in the same execution we have evaluated different loop closing strategies . in table",
    "[ tb : k9 ] we show the keyframe trajectory rmse and the time spent in the optimization in different cases : without loop closing , if we directly apply a _ full ba _ ( 20 or 100 iterations ) , if we apply only pose graph optimization ( 10 iterations with different number of edges ) and if we apply pose graph optimization and _ full ba _ afterwards .",
    "the results clearly show that before loop closure , the solution is so far from the optimal , that ba has convergence problems . even after 100 iterations still the error is very high . on the other hand",
    "essential graph optimization shows fast convergence and more accurate results .",
    "it can be seen that the choice of @xmath70 has not significant effect in accuracy but decreasing the number of edges the time can be significantly reduced . performing an additional ba after the pose graph",
    "optimization slightly improves the accuracy while increasing substantially the time .",
    "& & & + method & time ( s ) & pose graph edges & rmse ( m ) + & & & + - & - & - & 48.77 + & & & + ba ( 20 ) & 14.64 & - & 49.90 + & & & + ba ( 100 ) & 72.16 & - & 18.82 + & & & + eg ( 200 ) & 0.38 & 890 & 8.84 + & & & + eg ( 100 ) & 0.48 & 1979 & 8.36 + & & & + eg ( 50 ) & 0.59 & 3583 & 8.95 + & & & + eg ( 15 ) & 0.94 & 6663 & 8.88 + & & & + eg ( 100 ) + ba ( 20 ) & 13.40 & 1979 & 7.22 +    first row shows results without loop closing .",
    "number between brackets for ba ( bundle adjustment ) means number of levenberg - marquardt ( lm ) iterations , while for eg ( essential graph ) is the @xmath70 to build the essential graph .",
    "all eg optimizations perform 10 lm iterations . [",
    "in this work we have presented a new monocular slam system with a detailed description of its building blocks and an exhaustive evaluation in public datasets .",
    "our system has demonstrated that it can process sequences from indoor and outdoor scenes and from car , robot and hand - held motions .",
    "the accuracy of the system is typically below 1 cm in small indoor scenarios and of a few meters in large outdoor scenarios ( once we have aligned the scale with the ground truth ) .",
    "currently ptam by klein and murray @xcite is considered the most accurate slam method from monocular video in real time .",
    "it is not coincidence that the backend of ptam is bundle adjustment , which is well known to be the gold standard method for the offline structure from motion problem @xcite .",
    "one of the main successes of ptam , and the earlier work of mouragnon @xcite , was to bring that knowledge into the robotics slam community and demonstrate its real time performance .",
    "the main contribution of our work is to expand the versatility of ptam to environments that are intractable for that system . to achieve this ,",
    "we have designed from scratch a new monocular slam system with some new ideas and algorithms , but also incorporating excellent works developed in the past few years , such as the loop detection of glvez - lpez and tards @xcite , the loop closing procedure and covisibility graph of strasdat et.al @xcite , the optimization framework g2o by kuemmerle et .",
    "al @xcite and orb features by rubble et .",
    "al @xcite .",
    "to the best of our knowledge , no other system has demonstrated to work in as many different scenarios and with such accuracy .",
    "therefore our system is currently the most reliable and complete solution for monocular slam . our novel policy to spawn and cull keyframes , permits to create keyframes every few frames , which are eventually removed when considered redundant .",
    "this flexible map expansion is really useful in poorly conditioned exploration trajectories , i.e. close to pure rotations or fast movements .",
    "when operating repeatedly in the same environment , the map only grows if the visual content of the scene changes , storing a history of its different visual appearances .",
    "interesting results for long - term mapping could be extracted analyzing this history .",
    "finally we have also demonstrated that orb features have enough recognition power to enable place recognition from severe viewpoint change .",
    "moreover they are so fast to extract and match ( without the need of multi - threading or gpu acceleration ) that enable real time accurate tracking and mapping .",
    "recent real - time monocular slam algorithms such as dtam @xcite and lsd - slam @xcite are able to perform dense or semi dense reconstructions of the environment , while the camera is localized by optimizing directly over image pixel intensities .",
    "these direct approaches do not need feature extraction and thus avoid the corresponding artifacts .",
    "they are also more robust to blur , low - texture environments and high - frequency texture like asphalt @xcite .",
    "their denser reconstructions , as compared to the sparse point map of our system or ptam , could be more useful for other tasks than just camera localization .",
    "however , direct methods have their own limitations .",
    "firstly , these methods assume a surface reflectance model that in real scenes produces its own artifacts .",
    "the photometric consistency limits the baseline of the matches , typically narrower than those that features allow .",
    "this has a great impact in reconstruction accuracy , which requires wide baseline observations to reduce depth uncertainty .",
    "direct methods , if not correctly modeled , are quite affected by rolling - shutter , auto - gain and auto - exposure artifacts ( as in the tum rgb - d benchmark ) . finally , because direct methods are in general very computationally demanding , the map is just incrementally expanded as in dtam , or map optimization is reduced to a pose graph , discarding all sensor measurements as in lsd - slam .",
    "in contrast , feature - based methods are able to match features with a wide baseline , thanks to their good invariance to viewpoint and illumination changes .",
    "bundle adjustment jointly optimizes camera poses and points over sensor measurements . in the context of structure and motion estimation , torr and",
    "zisserman @xcite already pointed the benefits of feature - based against direct methods . in this work",
    "we provide experimental evidence ( see section [ sec : exp : tum ] ) of the superior accuracy of feature - based methods in real - time slam .",
    "we consider that the future of monocular slam should incorporate the best of both approaches .",
    "the accuracy of our system can still be improved incorporating points at infinity in the tracking .",
    "these points , which are not seen with sufficient parallax and our system does not include in the map , are very informative of the rotation of the camera @xcite .",
    "another open way is to upgrade the sparse map of our system to a denser and more useful reconstruction .",
    "thanks to our keyframe selection , keyframes comprise a compact summary of the environment with a very high pose accuracy and rich information of covisibility .",
    "therefore the orb - slam sparse map can be an excellent initial guess and skeleton , on top of which a dense and accurate map of the scene can be built . a first effort in this line is presented in @xcite .",
    "* bundle adjustment ( ba ) @xcite : + map point 3d locations @xmath71 and keyframe poses @xmath72 , where @xmath73 stands for the world reference , are optimized minimizing the reprojection error with respect to the matched keypoints @xmath74 .",
    "the error term for the observation of a map point @xmath75 in a keyframe @xmath76 is : @xmath77 where @xmath78 is the projection function : @xmath79 where @xmath80 and @xmath81 are respectively the rotation and translation parts of @xmath57 , and @xmath82 and @xmath83 are the focal length and principle point associated to camera @xmath76 .",
    "the cost function to be minimized is : @xmath84 where @xmath85 is the huber robust cost function and @xmath86 is the covariance matrix associated to the scale at which the keypoint was detected . in case of",
    "_ full ba _ ( used in the map initialization explained in section [ sec : ini ] and in the experiments in section [ sec : exp : kitti ] ) we optimize all points and keyframes , by the exception of the first keyframe which remain fixed as the origin . in _ local ba _ ( see section [ sec : sub :",
    "localba ] ) all points included in the local area are optimized , while a subset of keyframes is fixed . in pose optimization , or _",
    "motion - only ba _ , ( see section [ sec : track ] ) all points are fixed and only the camera pose is optimized . * pose graph optimization over sim(3 ) constraints @xcite : + given a pose graph of binary edges ( see section [ sec : sub : pg ] ) we define the error in an edge as : @xmath87 where @xmath88 is the relative sim(3 ) transformation between both keyframes computed from the se(3 ) poses just before the pose graph optimization and setting the scale factor to 1 . in the case of the loop closure edge this relative transformation is computed with the method of horn @xcite .",
    "the @xmath89 @xcite transforms to the tangent space , so that the error is a vector in @xmath90 .",
    "the goal is to optimize the sim(3 ) keyframe poses minimizing the cost function : @xmath91 where @xmath92 is the information matrix of the edge , which , as in @xcite , we set to the identity .",
    "we fix the loop closure keyframe to fix the 7 degrees of gauge freedom .",
    "although this method is a rough approximation of a _ full ba _ , we demonstrate experimentally in section [ sec : exp : kitti ] that it has significantly faster and better convergence than ba . *",
    "relative sim(3 ) optimization : + given a set of @xmath93 matches @xmath94 ( keypoints and their associated 3d map points ) between keyframe @xmath95 and keyframe @xmath96 , we want to optimize the relative sim(3 ) transformation @xmath97 ( see section [ sec : sub : sim3 ] ) that minimizes the reprojection error in both images : @xmath98 and the cost function to minimize is : @xmath99 where @xmath100 and @xmath101 are the covariance matrices associated to the scale in which keypoints in image 1 and image 2 were detected . in this optimization",
    "the points are fixed .",
    "ral mur artal was born in zaragoza , spain in 1989 .",
    "he received the industrial engineering degree ( mention in industrial automation and robotics ) in 2012 and the m.s . degree in systems and computer engineering in 2013 from the university of zaragoza , where he is currently working towards the phd .",
    "degree with the i3a robotics , perception and real - time group .",
    "m. montiel was born in arnedo , spain , in 1967 .",
    "he received the m.s . and ph.d .",
    "degrees in electrical engineering from the universidad de zaragoza , spain , in 1992 and 1996 , respectively .",
    "he is currently a full professor with the departamento de informtica e ingeniera de sistemas , universidad de zaragoza , where he is in charge of perception and computer vision research grants and courses .",
    "his current interests include , real - time vision localization and semantic mapping for rigid and non rigid environments , and the transference of this technology to robotic and nonrobotic application domains .",
    "martnez montiel is a member of the i3a robotics , perception , and real - time group .",
    "he has been awarded several spanish mec grants to fund research at the university of oxford , uk , and at imperial college london , uk .",
    "juan d. tards was born in huesca , spain , in 1961 .",
    "he earned the m.s . and ph.d .",
    "degrees in electrical engineering from the university of zaragoza , spain , in 1985 and 1991 , respectively .",
    "he is full professor with the departamento de informtica e ingeniera de sistemas , university of zaragoza , where he is in charge of courses in robotics , computer vision , and artificial intelligence .",
    "his research interests include slam , perception and mobile robotics .",
    "tards is a member of the i3a robotics , perception , and real - time group"
  ],
  "abstract_text": [
    "<S> this paper presents orb - slam , a feature - based monocular slam system that operates in real time , in small and large , indoor and outdoor environments . </S>",
    "<S> the system is robust to severe motion clutter , allows wide baseline loop closing and relocalization , and includes full automatic initialization . </S>",
    "<S> building on excellent algorithms of recent years , we designed from scratch a novel system that uses the same features for all slam tasks : tracking , mapping , relocalization , and loop closing . </S>",
    "<S> a survival of the fittest strategy that selects the points and keyframes of the reconstruction leads to excellent robustness and generates a compact and trackable map that only grows if the scene content changes , allowing lifelong operation . </S>",
    "<S> we present an exhaustive evaluation in 27 sequences from the most popular datasets . </S>",
    "<S> orb - slam achieves unprecedented performance with respect to other state - of - the - art monocular slam approaches . for the benefit of the community </S>",
    "<S> , we make the source code public .    </S>",
    "<S> this paper has been accepted for publication in _ ieee transactions on robotics_.    doi : http://dx.doi.org/10.1109/tro.2015.2463671[10.1109/tro.2015.2463671 ]    ieee xplore : http://ieeexplore.ieee.org/xpl/articledetails.jsp?arnumber=7219438    2015 ieee . </S>",
    "<S> personal use of this material is permitted . </S>",
    "<S> permission from ieee must be obtained for all other uses , in any current or future media , including reprinting /republishing this material for advertising or promotional purposes , creating new collective works , for resale or redistribution to servers or lists , or reuse of any copyrighted component of this work in other works .    </S>",
    "<S> mur - artal : orb - slam : a versatile and accurate monocular slam system    lifelong mapping , localization , monocular vision , recognition , slam </S>"
  ]
}