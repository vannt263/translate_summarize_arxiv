{
  "article_text": [
    "in @xcite , sloane proposed the following curious problem . take a non - negative integer , write down its decimal representation , and multiply its digits together , getting a new non - negative integer .",
    "repeat the process until a single - digit number is obtained .",
    "the problem can thus be stated : is the number of steps taken in this process uniformly bounded ?",
    "let us start with a general formulation of sloane s problem , while at the same time introducing some of the notation that we will use .",
    "given a natural number @xmath1 , and an _ integer base _ @xmath2 , consider the base-@xmath3 expansion of the number @xmath1 , say @xmath4_q \\;=\\ ; \\sum_{j=1}^k d_j q^{k - j}\\ , \\ ] ] where each digit @xmath5 ( and @xmath6 when @xmath7 ) .",
    "let @xmath8 denote the product of all such digits , _",
    "i.e. _ , @xmath9 thus @xmath10 defines a map @xmath11 , which we call the _ sloane map in base @xmath3_. clearly , such map can be iterated : write @xmath8 in base @xmath3 , multiply its digits to obtain @xmath12 , and so on . in particular ,",
    "given any @xmath13 we can consider its _ orbit _ under the sloane map , namely @xmath14 the following proposition ensures that this sequence always stabilizes after a finite number of steps .    [ trivialstart ] we have @xmath15 for all @xmath16 ( i.e. , as long as the base @xmath3 expansion of @xmath1 has at least two digits ) .",
    "write @xmath1 in base @xmath3 as in , and note that @xmath17 .",
    "since @xmath18 for all @xmath19 , it follows that @xmath20    from proposition [ trivialstart ] we deduce that @xmath1 is a fixed point of @xmath21 if and only if @xmath22 .",
    "it also follows from proposition [ trivialstart ] that every orbit of @xmath21 is finite and converges to some @xmath23 that is a fixed point .",
    "in other words , there exists a minimum number @xmath24 such that @xmath25 for all @xmath26 .",
    "hence @xmath24 _ is the smallest number @xmath27 such that @xmath28 has a single digit_. sloane asked in @xcite whether such minimum number of steps until a fixed point is uniformly bounded . the number @xmath24 is known as the _ persistence _ of @xmath1 in base @xmath3 .",
    "numerical evidence that @xmath24 is bounded has been collected for some values of @xmath3 .",
    "furthermore , the answer to sloane s question is trivially positive for @xmath29 since for any @xmath30 one has @xmath31 , and @xmath32 is the fixed - point set of @xmath33 .",
    "the problem  known as the _ persistence problem _  can be stated as follows .",
    "[ prob1 ] for a given @xmath34 , is there a positive number @xmath35 such that @xmath36 for all @xmath37 ?",
    "a related set of issues goes as follows ( considering now @xmath38 as an element of @xmath39 ) .",
    "[ prob2 ] what is the behavior of @xmath35 seen as a function of @xmath3 ?",
    "more precisely , one can ask :    1 .",
    "is the answer to problem [ prob1 ] positive for all , or all but finitely many , or most , or infinitely many , or perhaps only finitely many values of @xmath3 ?",
    "2 .   what is the asymptotic behavior of @xmath35 as @xmath40 ?    here are some known facts about the persistence problem in various bases :    1 .   in base @xmath29 ,",
    "the situation is rather trivial : every positive integer has persistence @xmath41 in base @xmath42 .",
    "2 .   in base @xmath43 , no number with persistence greater than @xmath44 has ever been found .",
    "3 .   in base @xmath45",
    ", the number @xmath46 has persistence @xmath47 , because under the sloane map @xmath48 we have @xmath49 in fact , this is the smallest number with persistence equal to @xmath47 .",
    "4 .   still in base @xmath45 , the number @xmath50 has persistence @xmath51 .",
    "it is the smallest number with persistence equal to @xmath51 .",
    "it is conjectured that @xmath52 for all @xmath1 .",
    "this has been checked for all @xmath1 up to @xmath53 .      in this paper",
    ", we have two main goals .",
    "the first goal is to examine the persistence problem in the light of some dynamical systems considerations .",
    "we will show that sloane s question ( problem [ prob1 ] ) has an affirmative answer in a certain _ probabilistic _ sense .",
    "roughly speaking , we will show that _ for any base @xmath3 , the set of natural numbers @xmath1 with persistence @xmath54 , _",
    "i.e. _ such that @xmath55 , is an extremely rarified subset of @xmath56_. the probabilistic sense in question will be made progressively clear in  [ sec : erg1 ] and  [ sec : erg2 ] .",
    "we will see in particular that problem [ prob1 ] has a positive answer for @xmath43 if a precise orbit that we will fully describe has a `` generic '' behavior under the @xmath57-action determined by a well - defined piecewise affine degree one circle map .",
    "similarly , problem [ prob1 ] has a positive answer for @xmath58 if two precise orbits that we will fully describe have a `` generic '' behavior under the @xmath57-action determined by another well - defined piecewise affine degree one circle map .",
    "the affine circle maps that we will encounter here are defined by @xmath3 and a number @xmath59 , a digit in base @xmath3 .    for bases @xmath60 , the relevant dynamical systems for the sloane map are no longer @xmath57-actions , but rather @xmath61-actions with @xmath17 .",
    "more precisely , they are given by certain free abelian groups of piecewise affine degree - one circle maps .",
    "we will exploit some simple ergodic properties of such free - abelian actions in order to derive our main probabilistic result on the sloane map , namely theorem [ rankkdensity ] .",
    "our second goal is to formulate a very general conjecture , namely conjecture [ conj : convvtoequi ] , concerning the asymptotic distribution of digits in the base @xmath3 expansion of long products whose factors are chosen from a given finite set of primes .",
    "this conjecture is conveniently formulated in terms of certain objects that we call _ multiplication automata _ , in part because their time evolution produces patterns that resemble those produced by the evolution of ( one - dimensional ) cellular automata .",
    "the most general form of the conjecture , as stated in  [ multaut ] , is too broad to allow thorough numerical tests .",
    "thus , short of a proof , we felt the need to provide an heuristic explanation lending support to this conjecture .",
    "such heuristics is given in the language of _ inhomeogeneous markov chains _ , as a form of convergence to equilibrium for the evolution of our automata .",
    "the multiplication automata and the associated convergence to fair distribution may be of interest to the physics of growth processes , and perhaps to other aspects of statistical mechanics .      in order to avoid possible misunderstandings",
    ", we warn the reader that another map has been studied , inspired by @xmath21 : let us call it the erds - sloane map , and denote it by @xmath62 . for each natural number @xmath1 , @xmath63 is the product of the non - zero digits of @xmath1 in base @xmath3 . according to guy @xcite ,",
    "this map was introduced by erds . since our approach in this paper",
    "is based on the conjectured generic property that all digits should become equally probable for ( products of ) high powers of digits , we have nothing new to say about @xmath62 ( although some results we have about @xmath64 can be interpreted in terms of @xmath65 ) .",
    "let us start by making a trivial but important remark . choose some base @xmath2 .",
    "looking back at the expansion given in , it is clear that we have the following _ trivial dichotomy _",
    ":    1 .   _",
    "either _ one of the digits @xmath66 is equal to zero , in which case @xmath67 ; 2 .   _ or else _ @xmath8 is equal to a product of digits in @xmath68 .    this trivial dichotomy , together with first observations of relevant but scarce numerical data , suggest us an obvious strategy . in order to answer sloane s question in the affirmative for base @xmath3",
    ", it suffices to establish the following .",
    "[ basebpersist ] there exists a positive integer @xmath69 such that , for all @xmath70 , the base @xmath3 expansion of any product of @xmath71 digits greater than @xmath41 for base @xmath3 has at least one digit equal to zero .",
    "as soon as a product of digits becomes divisible by @xmath3 , a zero appears as its right - most digit when written in base @xmath3 , and therefore the next iteration of the sloane map yields @xmath72 as the result .",
    "this trivial remark allows us to concentrate only on those products that are not divisible by the base @xmath3 .",
    "the effect of that will be dramatic when @xmath58 .",
    "the following two conjectures are implied by conjecture [ basebpersist ] .    in the case of base @xmath43 ,",
    "the only non - zero values assumed by the sloane map are powers of @xmath42 . in other words",
    ", we only need to investigate the orbit of @xmath41 under the doubling map @xmath73 .",
    "1a[base3persist ] there exists a positive integer @xmath74 such that , for all @xmath75 , the base-@xmath44 expansion of @xmath76 has at least one digit equal to zero .",
    "such a statement is reminiscent of a conjecture by erds to the effect that there is always a 2 among the digits in base 3 of @xmath76 for all @xmath71 sufficiently large",
    ". this question has been recently adressed by lagarias in @xcite .    in the case of base @xmath58 , in principle",
    "all products of the form @xmath77 would need to be examined .",
    "but since the basis 4 divides @xmath77 as soon as @xmath78 , we only have to consider : ( a ) powers of 3 or ( b ) products of the form @xmath79 .",
    "in other words , we only need to consider the orbits of 1 and 2 under the tripling map @xmath80 .",
    "1b[base4persist ] there exists a positive integer @xmath81 such that , for all @xmath82 , the base-@xmath83 expansions of @xmath84 and @xmath85 each have at least one digit equal to zero .",
    "there is considerable computational evidence in favor of these conjectures .",
    "proving these conjectures is certainly sufficient to solve the persistence problem for the corresponding bases .",
    "let us take the time to establish a weak estimate on @xmath86 , the minimum stability time of @xmath13 ( in base @xmath44 ) introduced in ",
    "[ intro ] .",
    "this should be compared to a similar estimate proved by erds concerning the erds - sloane map .",
    "first , a very simple lemma .",
    "[ trivlem1 ] if @xmath87 , then at least one of the digits in the base-@xmath44 expansion of @xmath88 is not equal to @xmath42 .",
    "suppose the base-@xmath44 expansion of @xmath88 has exactly @xmath71 digits , all equal to @xmath42 .",
    "then @xmath89 , and we have a solution to catalan s equation @xmath90 with @xmath91 , which is impossible .",
    "see @xcite ) .",
    "the special case needed here ( with bases @xmath42 and @xmath44 , which are _ prime _ ) can be proved by elementary means ",
    "see @xcite . ]    [ trivrem1 ] it follows from the proof that @xmath92 .",
    "let us now present our weak estimate . recall that if @xmath93 , then the number of digits in the base-@xmath3 expansion of @xmath94 is equal to @xmath95 .    for all @xmath96 , we have @xmath97 .",
    "let @xmath87 be given , and assume @xmath98 , otherwise there is nothing to prove . thus ,",
    "suppose @xmath99 are such that    1 .",
    "@xmath100 for @xmath101 ; 2 .",
    "@xmath102 ; 3 .",
    "@xmath103 for @xmath104 ; 4 .",
    "@xmath27 is _ maximal _ with the above properties .    from these properties",
    "we see that the only possible values for @xmath105 are @xmath106 or @xmath107 .",
    "this implies that @xmath108 .",
    "hence it suffices to find a suitable bound for the number @xmath27 .",
    "let @xmath109 denote the number of digits in the base-@xmath44 expansion of @xmath110 , for @xmath111 .",
    "since @xmath100 , we deduce from lemma [ trivlem1 ] and remark [ trivrem1 ] that @xmath112 .",
    "but we also know that @xmath113 .",
    "therefore we have @xmath114 where @xmath115 . from this",
    "it follows that @xmath116 but we also have @xmath117 .",
    "hence , extracting the base-@xmath44 logarithm of all terms in the above inequality , we see that @xmath118 this shows that @xmath119 , as claimed .",
    "in this section , more precisely in  [ subsec : ergoz ] below , we introduce a simple dynamical system  generated by a single piecewise affine degree - one circle map  which will turn out to be very useful in the study of the sloane map for bases @xmath120 . but first let us present some simple arithmetical facts .",
    "looking at the base-@xmath44 expansions of the successive powers of two ( see figure [ fig : powersof2base3 ] ) , it is clear that for every @xmath121 the rightmost @xmath71 digits of these powers exhibit a periodic behavior .",
    "our goal here is to calculate the minimum period .",
    "this periodicity is more general : the last @xmath71 digits of the base-@xmath3 expansion of @xmath122 form a periodic sequence , for all @xmath123 .",
    "this fact is a simple consequence of modular arithmetic , and we call it _ tail periodicity_.    first , we need the following simple lemma . recall that , if @xmath2 is an integer , then the set of all residues @xmath124 modulo @xmath3 that are relatively prime with @xmath3 form a _ multiplicative group _",
    "( under multiplication modulo @xmath3 ) , called the _ group of units modulo @xmath3 _ , denoted @xmath125 .",
    "this group @xmath125 has order @xmath126 , where @xmath127 is euler s _",
    "totient function_. an integer @xmath128 is said to be a _ primitive root modulo @xmath3 _ if the residue class of @xmath128 modulo @xmath3 has order @xmath126 in @xmath125 ( in particular , if such a primitive root exists , then the group @xmath125 must be cyclic ) .",
    "[ primroot1 ] let @xmath128 and @xmath3 be integers such that @xmath123 and @xmath128 is a primitive root modulo @xmath3 .",
    "then the residues @xmath129 , @xmath130 , form a periodic sequence with minimum period equal to @xmath126 .    by hypothesis",
    ", @xmath131 is a generator of the cyclic group @xmath125 .",
    "therefore , by euler s theorem , @xmath132 , and the elements @xmath133 exhaust the elements of @xmath125 .",
    "since @xmath134 for all @xmath1 , the sequence @xmath122 is indeed periodic , with minimum period @xmath126 .    as a consequence",
    ", we have the following . given integers @xmath121 and @xmath30 , let @xmath135 denote the residue of @xmath88 modulo @xmath84 .    [ primroot2 ] for each @xmath121 ,",
    "the sequence @xmath135 , @xmath136 , is periodic with minimum period @xmath137 .",
    "it is well - known that @xmath42 is a primitive root modulo @xmath84 for all @xmath121 ( see @xcite ) .",
    "thus , the desired result follows at once from lemma [ primroot1 ] ( with @xmath138 and @xmath139 ) and the fact that @xmath140 .",
    "note that for each @xmath71 there are exactly @xmath137 strings of length @xmath71 in the symbols @xmath141 which do not end in a zero .",
    "call these strings _ allowable_. combining this counting , the above lemma and the fact that @xmath135 also never ends in a zero ( otherwise @xmath88 would be divisible by @xmath44 ) , we see that in any full ( minimum ) period of @xmath135 each allowable string appears exactly once . moreover , since there are exactly @xmath76 allowable strings of length @xmath71 that show only the digits @xmath41 and @xmath42 , the proportion of allowable strings in which at least one zero appears ( relative to the total number of allowable sequences of length @xmath71 ) tends to @xmath41 as @xmath142 . from this",
    "we deduce that the set @xmath143 has _",
    "asymptotic density @xmath41 _ , in the sense of  [ sec : density ] below .",
    "this fact can be generalized to other bases ( but the counting argument used here becomes a bit more involved ) . rather than delve into such arithmetic methods , we shall use a completely different approach to prove a more general density result that holds true for all bases .      if , instead of looking at the final @xmath71 digits of the base-@xmath44 expansions of powers of two , we look at the first @xmath71 digits ( for @xmath121 fixed ) , the behavior of such _ heads _ is no longer periodic .",
    "it is rather _ almost periodic _ , as we will show ( see remark [ remalmost ] ) .     to      in fact ,",
    "let us present a more general result .",
    "we consider two integers @xmath123 and consider the sequence @xmath122 , @xmath130 , written in base @xmath3 , say @xmath144_q\\;=\\;\\sum_{i=1}^{k_n } d_{i , n}q^{k_n - i}\\ , \\ ] ] where @xmath145 and @xmath146 , and where the number of digits @xmath147 is given by @xmath148 .",
    "if we add a `` decimal point '' in front of the above expansion , we get the number @xmath149_q\\;\\in\\;\\delta_q \\ , \\ ] ] where @xmath150\\subset \\mathbb{r}$ ] .",
    "note that @xmath151 .",
    "now , the crucial observation is that the sequence @xmath152 just defined is precisely the orbit of @xmath153 under the piecewise - affine map @xmath154 given by @xmath155 this map is built out of two linear maps of the real line : one expanding ( multiplication by @xmath156 ) , the other contracting ( multiplication by @xmath157 ) ; see figure [ slope ] . through the identification of the endpoints of @xmath158 , the map @xmath159 becomes a ( piecewise affine ) homeomorphism of the circle .",
    "the reader can easily check that @xmath160 , for all @xmath30 .",
    "has at least one zero in its base 3 expansion for all @xmath161 , and as explained by tao in said blog for the collatz case . ]",
    "now we have the following result .    [ proptopconj ]",
    "the map @xmath154 is topologically conjugate to the rotation by @xmath162 .",
    "the conjugacy is lipschitz , in fact differentiable except at a single point .",
    "moreover , @xmath159 has an absolutely continuous invariant measure given by @xmath163    let us write @xmath164 in this proof .",
    "first note that @xmath165 where we have used that @xmath166 .",
    "hence , defining @xmath167\\to \\delta_q$ ] by @xmath168 we see that @xmath169 .",
    "in other words , @xmath170 maps the orbit of @xmath72 under the rotation @xmath171 onto the orbit of @xmath172 under @xmath173 .",
    "this suggests that @xmath170 is a conjugacy between @xmath174 and @xmath173 .    to see this ,",
    "let @xmath175 $ ] , and note that there are two possibilities .    1 .",
    "we have @xmath176 : in this case , we have @xmath177 , and therefore @xmath178 2 .",
    "we have @xmath179 : in this case , @xmath180 , and therefore @xmath181    thus , it follows that @xmath182 .",
    "the map @xmath170 is a homeomorphism , as is clear from .",
    "in fact @xmath170 is an analytic diffeomorphism in the open interval @xmath183 . upon identification of the endpoints @xmath72 and @xmath41 , @xmath170 becomes a circle homeomorphism which is differentiable at all points except one , where a break in the derivative occurs .",
    "the absolutely continuous invariant measure @xmath184 for @xmath173 in @xmath158 can be obtained very simply as the push - forward of lebesgue measure @xmath185 in @xmath186 $ ] via @xmath170 . to wit ,",
    "if @xmath187 is borel measurable , we have @xmath188 since from we have @xmath189 it follows that @xmath190 as was to be proved .",
    "[ remalmost ] note that we do _ not _ assume that @xmath162 is irrational in the above theorem .",
    "when @xmath191 is irrational , the orbit of any point under @xmath159 is almost periodic .",
    "hence we have the promised almost periodicity of tails . for a more general result concerning piecewise affine homeomorphisms of the circle , see @xcite .    [ largerp ]",
    "the above theorem also holds true when @xmath192 , provided we define @xmath159 appropriately in such cases .",
    "this can be done as follows .",
    "let @xmath121 be such that @xmath193 , and define @xmath194 then , just as before , @xmath154 is a piecewise affine degree - one circle map with rotation number @xmath195 , and this circle map preserves the same measure @xmath184 given in theorem [ proptopconj ] ( _ cf . _  [ sec : further ] ) .    in @xcite",
    ", boshernitzan gave an example of a piecewise affine homeomorphism of the unit circle @xmath196 ( seen as the interval @xmath186 $ ] with the endpoints identified ) which preserves the rationals and has only dense orbits .",
    "we remark that our @xmath159 s yield a _ plethora of such examples_. indeed , defining @xmath197\\to \\delta_q$ ] by @xmath198 , we see that each conjugated map @xmath199 is an example of the type devised by boshernitzan , provided its rotation number @xmath195 is irrational .",
    "let us now present two corollaries of theorem [ proptopconj ] .",
    "in order to state and prove the first corollary , we recall that the _ lower density _ of a subset @xmath200 , is given by @xmath201)\\ .\\ ] ] one defines the _ upper density _ @xmath202 of @xmath203 in similar fashion , replacing the @xmath204 by @xmath205 .",
    "if the upper and lower densities are equal , then we say that @xmath203 has _",
    "asymptotic density _",
    "recall also that a continuous self - map @xmath173 of a compact metric space @xmath207 is _ uniquely ergodic _ , _",
    "i.e. _ has a unique invariant borel probability measure @xmath184 , if and only if its birkhoff time averages @xmath208 converge uniformly to the space average @xmath209 , for every @xmath210 ( see for instance @xcite ) .",
    "[ rankonedensity ] if @xmath123 are such that @xmath211 is irrational , then the set @xmath212 has asymptotic density equal to @xmath41 .",
    "let @xmath164 and @xmath184 be as in theorem [ proptopconj ] , and let @xmath213 be our special orbit as before . since @xmath173 is lipschitz - conjugate to an irrational rotation , it is uniquely ergodic . for each @xmath214",
    ", let @xmath215 be the set of all points @xmath216 whose base-@xmath3 expansion has at least one digit @xmath72 among its first @xmath19 digits .",
    "then @xmath217 is a finite union of intervals , and its lebesgue measure is easily seen to be @xmath218\\ ] ] thus , @xmath219 , and therefore @xmath220 , as @xmath221 .",
    "note that if @xmath222 for some @xmath1 with @xmath223 , then @xmath224 , _",
    "i.e. _ @xmath225 . since @xmath217 is a _",
    "finite _ union of intervals and @xmath184 is a regular borel measure , we can find a continuous function @xmath226 such that @xmath227 everywhere and @xmath228 in particular , for all @xmath229 we have @xmath230 using and the fact that @xmath173 is uniquely ergodic , we deduce that @xmath231 provided @xmath94 is sufficiently large .",
    "hence , combining and , we get @xmath232 for all sufficiently large @xmath94 .",
    "writing @xmath233 , we have just proved that @xmath234 since all but finitely many elements of @xmath235 belong to @xmath203 , it follows that @xmath236 as well , for every @xmath19 .",
    "letting @xmath221 , we deduce that @xmath237 , as desired .",
    "another consequence of theorem [ proptopconj ] is the following explicit formula for the @xmath19-th digit of @xmath122 written in base @xmath3 .    if @xmath238 denotes , as in , the @xmath19-th digit from left to right in the base @xmath3 expansion of @xmath122 , then @xmath239 where , as before , @xmath162 and @xmath147 is the number of digits in that expansion .",
    "again , we let @xmath164 .",
    "since @xmath238 is also the @xmath19-th digit of @xmath213 after the decimal point , we can certainly write @xmath240 but by theorem [ proptopconj ] , we have @xmath241 this immediately implies formula .",
    "although it may seem a bit surprising that we have such an explicit formula for the digits @xmath238 , the formula is in practice rather useless for large values of @xmath1 : roughly speaking , evaluating @xmath238 depends on knowing at least the first @xmath1 digits of @xmath162 after the decimal point .    at least for bases",
    "@xmath44 , @xmath83 , @xmath242 , and @xmath243 , we have strong computational evidence suggesting the validity of the following conjecture , which ( for base @xmath44 ) is certainly stronger than conjecture [ base3persist ] .    [ equaldigits ]",
    "if @xmath3 is not a power of @xmath128 , then for each @xmath244 , we have @xmath245 ( as before , @xmath148 is the number of digits of @xmath122 in base @xmath3 . )    for computational evidence and heuristic arguments supporting this conjecture , see  [ sec : compevid ] . if @xmath246 for some @xmath121 , then for every @xmath7 the base @xmath3 expansion of @xmath247 consists of the digit @xmath41 followed by @xmath1 zeros .",
    "this shows that the hypothesis that @xmath3 is not a power of @xmath128 is indeed necessary .",
    "we wish to generalize the results presented in  [ sec : erg1 ] to the cases when the base @xmath3 is greater than @xmath83 .",
    "the relevant dynamical system here is no longer the ( semi-)group given by a single piecewise affine degree - one circle map , but rather the ( semi-)group generated by several such maps .",
    "let @xmath248 be the list of all primes smaller than @xmath3 . if @xmath13 is such that @xmath249 , then we can certainly write @xmath250 where @xmath251 .",
    "we can treat the base-@xmath3 expansion of the right - hand side of pretty much in the same way as we treated the digits of @xmath122 in base @xmath3 in  [ subsec : ergoz ] . keeping the notation introduced in ",
    "[ subsec : ergoz ] , let @xmath252\\equiv \\mathbb{s}^1 $ ] , and consider the piecewise affine homeomorphisms @xmath253 ( @xmath254 ) defined taking @xmath255 in .",
    "we denote by @xmath256 the group of all piecewise affine homeomorphisms of the interval @xmath257 .",
    "the group @xmath258 generated by @xmath259 is abelian .",
    "let @xmath167\\to \\delta_q$ ] be the homeomorphism constructed in the proof of theorem [ proptopconj ] .",
    "then for each @xmath260 we have @xmath261 , where @xmath262 and @xmath263 is the corresponding rotation .",
    "since any two circle rotations commute , we have @xmath264 , and therefore @xmath265 as well , so @xmath266 is abelian .",
    "this lemma tells us in particular that we have a well - defined surjective homomorphism @xmath267 given by @xmath268 however , this homomorphism is not necessarily one - to - one ( but see below ) . in any case , we see that @xmath269 acts on the circle in a special way as a group of piecewise - affine homeomorphisms of the circle .",
    "what is the relevance of this action to the study of the sloane map in base @xmath3 ? in order to answer this question , we proceed as in  [ subsec : ergoz ] .",
    "let @xmath270_q= \\frac{1}{q}\\in \\delta_q$ ] .",
    "then for each @xmath271 we have @xmath272 where @xmath273 is the number of digits of the base-@xmath3 expansion of the numerator , given by @xmath274 thus , we see that the entire range of values assumed by the sloane map is contained in a single orbit of the action of the semi - group @xmath275",
    ".      we shall need the following facts about _ free - abelian _ actions .",
    "let @xmath276 be a free abelian group of rank @xmath71 , with a fixed set of generators @xmath277 .",
    "each @xmath278 has a unique representation @xmath279 with @xmath280 for all @xmath281 .",
    "we write @xmath282 , the _ norm _ of @xmath283 .",
    "we denote by @xmath284 the semigroup consisting of all elements @xmath283 for which @xmath285 for all @xmath260 . for each @xmath93 , let @xmath286 , and let @xmath287 .",
    "now suppose that the group @xmath276 ( or the semigroup @xmath288 ) acts on a probability measure space @xmath289 as a group ( or semigroup ) of measure - preserving transformations ( m.p.t.s ) .",
    "in other words , if @xmath290 denotes the m.p.t .",
    "associated to @xmath278 , then @xmath291 for every @xmath283 ( where the star denotes push - forward of measures ) .",
    "we say that the @xmath276-action ( or @xmath288-action ) on @xmath289 is _ ergodic _ if the only measurable subsets @xmath292 that are invariant under @xmath276 ( or @xmath288 )  _ i.e. _ such that @xmath293 for all @xmath283  are either null - sets or full - measure sets . just as for rank - one measure - preserving actions , there is a multi - dimensional version of birkhoff s ergodic theorem , both in the case of free - abelian groups and free - abelian semigroups .",
    "we state the version for semigroups , which is the relevant one here .",
    "a[multiplebirkhoff ] if the @xmath288-action on @xmath289 is ergodic , then for every @xmath294 and for @xmath184-almost every @xmath295 we have @xmath296    a proof of this theorem can be found in ( * ? ? ?",
    "* ch .  2 ) .",
    "one can also define _ unique ergodicity _ by analogy with the rank - one case .",
    "a @xmath276-action ( or @xmath288-action ) on a compact metric space @xmath207 through continuous maps is _ uniquely ergodic _ if there exists a unique borel probability measure on @xmath207 which is @xmath276-invariant ( or @xmath288-invariant ) . as for rank - one actions",
    ", we have the following fact ( which , once again , we state only for semigroup actions ) .",
    "b[uniqueergod ] if a @xmath288-action by continuous maps on a compact metric space @xmath207 is uniquely ergodic then for every @xmath297 @xmath298 as @xmath299 , where @xmath184 is the unique @xmath288-invariant borel probability measure .",
    "the proof of the analogous statement for rank - one actions as given in , say , @xcite applies _ mutatis mutandis _ to the present case .",
    "the converse of theorem [ uniqueergod ] is also true , but will not be needed here .",
    "now we go back to our investigation of the sloane map .",
    "given a positive integer @xmath94 , let @xmath300 denote the `` cube '' @xmath301 , and let @xmath302 .",
    "the _ lower asymptotic density _ of a subset @xmath303 is defined to be @xmath304 the _ upper asymptotic density _ of @xmath203 , denoted @xmath202 , is similarly defined ( replacing @xmath204 by @xmath205 ) .",
    "we always have @xmath305 . when @xmath306 , this common value is called the _",
    "asymptotic density _ of @xmath203 and it is denoted by @xmath307 .",
    "[ trivdensity ] if the base @xmath3 is not a prime number , then the set @xmath308 has asymptotic density equal to @xmath41 .",
    "since @xmath3 is not a prime , we can certainly write @xmath309 where each @xmath310 . now , if @xmath271 is such that @xmath311 for all @xmath260 , then @xmath3 divides @xmath312 , and therefore @xmath313 .",
    "this shows that @xmath314 .",
    "hence , for every @xmath94 sufficiently large we have @xmath315 and therefore @xmath316 this proves that @xmath237 .",
    "the set @xmath203 in proposition [ trivdensity ] has asymptotic density @xmath41 for trivial reasons : most @xmath27-tuples @xmath317 are such that @xmath311 for all @xmath260",
    ". note that we did not exploit the abelian action introduced in ",
    "[ sec : abelact ] .",
    "we will prove in  [ sec : secdensity ] below a more refined version of proposition [ trivdensity ] using the ergodic properties of such abelian actions .",
    "our second density result makes use of the group @xmath266 and its action on the circle .",
    "in fact , it will make use of certain subgroups of @xmath266 , which turn out to be _",
    "free abelian_.    we will need the following lemma . given @xmath318 , let us denote the subgroup of @xmath266 generated by @xmath319 by @xmath320 .",
    "recall that @xmath262 is the rotation number of @xmath321    [ freeuniqergod ] if the numbers @xmath322 are rationally independent , then @xmath320 is a free abelian group of rank @xmath71 .",
    "moreover , its action on the circle @xmath323 is uniquely ergodic .",
    "suppose @xmath324 is such that @xmath325 from this and the fact that each @xmath321 is conjugate to @xmath326 by the same conjugating map , we have @xmath327 but then @xmath328 . in other words",
    ", there exists @xmath329 such that @xmath330 .",
    "the hypothesis of rational independence implies that @xmath331 .",
    "hence there are no non - trivial relations in @xmath320 .",
    "this shows the group is free abelian as stated .",
    "moreover , at least one of the @xmath332 s must be irrational .",
    "say @xmath333 is irrational ; then @xmath334 , being conjugate to an irrational rotation , is uniquely ergodic .",
    "therefore , _ a fortiori _ , the action of @xmath320 on the circle is uniquely ergodic .",
    "we are now in a position to state and prove our second density result .",
    "this result refines proposition [ trivdensity ] , and in particular covers the case when the base @xmath3 is prime .",
    "[ rankkdensity ] let @xmath318 be chosen so that the numbers @xmath322 are rationally independent .",
    "then for every divisor @xmath335 of @xmath3 , the set @xmath336 has asymptotic density equal to @xmath41 .",
    "things have been set up so that the same argument used in the proof of corollary [ rankonedensity ] can be applied , _",
    "mutatis mutandis_. by lemma [ freeuniqergod ] , the action of the group @xmath337 on the circle @xmath323 is uniquely ergodic ; the unique invariant measure is the measure @xmath184 constructed in theorem [ proptopconj ] .",
    "let us fix the divisor @xmath335 of the base @xmath3 .",
    "we are interested in a particular orbit of the semigroup @xmath338 , namely that of the point @xmath339 .",
    "for each @xmath340 , let us write @xmath341 .",
    "also , denote by @xmath342 the number of digits in the base-@xmath3 expansion of the number @xmath343 .",
    "then , just as in , we have @xmath344 as in the proof of corollary [ rankonedensity ] , for each @xmath214 , let @xmath215 be the set of all points @xmath216 whose base-@xmath3 expansion has at least one digit @xmath72 among its first @xmath19 digits .",
    "as we saw there , @xmath220 as @xmath221 .",
    "let @xmath345 be as in that proof also ; thus , each @xmath346 is continuous and @xmath347 , and @xmath348 the point now  as is clear from  is that @xmath349 in other words , @xmath350 if and only if @xmath351 for some @xmath352 . by analogy with what we did in the proof of corollary [ rankonedensity ] , for each @xmath214",
    "we define @xmath353 .",
    "note that all but finitely many elements of @xmath235 belong to @xmath203 .",
    "hence , in order to prove that @xmath354 , it suffices to show that @xmath355 as @xmath356 .",
    "since the action of @xmath288 on the circle is uniquely ergodic , combining theorem [ uniqueergod ] with we deduce that , for each fixed @xmath19 and all sufficiently large @xmath94 , @xmath357 since @xmath358 , it follows that @xmath359 for all sufficiently large @xmath94 . letting @xmath360",
    ", this shows that @xmath361 for all @xmath19 , and therefore @xmath355 as @xmath356 , as required .",
    "since in this paper we are primarily interested in the sloane map , in all of the above we have focused on products of prime numbers smaller than the base @xmath3 .",
    "however , most of what we have done goes through when some or all of such primes are greater than @xmath3 .",
    "recall from remark [ largerp ] that if @xmath192 we can still define the circle maps @xmath159 , and these still commute with each other because they all share a common absolutely continuous invariant measure . thus , suppose that @xmath362 is some non - empty finite set of primes , and that not all the prime divisors of @xmath3 are in @xmath362 .",
    "then the set @xmath363 is rationally independent .",
    "therefore the maps @xmath159 for @xmath364 generate a free - abelian group @xmath365 and the action of @xmath365 on the circle @xmath158 is uniquely ergodic ( as in lemma [ freeuniqergod ] , and the proof is the same ) .",
    "moreover , the density result given in theorem [ rankkdensity ] also holds true for the list of primes in @xmath362 .",
    "in particular , the vast majority of products of the form @xmath366 ( with @xmath367 ) have at least one digit zero in their base-@xmath3 expansions . in  [ sec : compevid ] we will make a much stronger assertion , in the form of a conjecture , to the effect that the digits in the base-@xmath3 expansions of such products become asymptotically equidistributed as @xmath368 .",
    "to ease many statements to be made in rest of the paper , we will call _ sloane s conjecture _ the positive answer to the question about multiplicative persistence raised by sloane in 1973 .",
    "our goal is to place sloane s conjecture as a consequence of a much more general conjecture concerning long products of primes ( chosen from a given finite set ) . as in  [ sec : further ] , let us be given a base @xmath2 and a finite set of primes @xmath362 with the property that not all prime divisors of @xmath3 belong to @xmath362 .",
    "we call such an @xmath362 an _ allowable set of primes for @xmath3_. suppose we play the following game : starting with any given positive integer @xmath369 , we randomly select a sequence @xmath370 of primes in @xmath362 and we use them to generate the sequence of products @xmath371 with @xmath13 .",
    "then it turns out that , regardless of the initial seed @xmath369 and of the sequence of primes selected , the frequency of each digit @xmath372 in @xmath373 always seems to approach @xmath374 as @xmath375 .",
    "more seems to be true , and we formulate the conjecture that was revealed by our numerical computations in the following elementary way .",
    "3[conj : convvtoequi0 ] ( elementary formulation).given an integer @xmath2 , an allowable set of primes @xmath362 for @xmath3 , and a positive integer @xmath369 , consider any of the possible sequences of products defined by setting @xmath376 and then , for each @xmath377 , @xmath378 where each @xmath379 is a element of @xmath362 .",
    "then the digits @xmath380 are asymptotically equidistributed ( their numbers tend to be in equal proportions ) when @xmath375 in the base-@xmath3 representations of these successive @xmath373 s .",
    "furthermore , the same holds true for blocks of consecutive digits of any length , _",
    "i.e. , _ the asymptotic proportion of each block of digits of length @xmath381 is given by @xmath382 , the reciprocal of the number of distinct blocs of length @xmath383 in base @xmath3 .",
    "we remark that when the restriction of allowability is removed ( but @xmath362 remains finite ) it seems that the non - zero digits remain well distributed while the zeros may be much more abundant , which is more than we need in order to get the sloane conjecture as a corollary .",
    "let us give a more precise and more general statement of the above conjecture , expressing it in the language of _",
    "the patterns arising by the multiplication game described above strongly suggest analogy with the dynamics of some simple _ cellular automata _ ( abbreviated @xmath384 ) _",
    "i.e. , _ automorphisms of a shift space that commute with the shift @xcite .",
    "successsive multiplications by any @xmath156 ( or by any sequence of such @xmath128 s ) do not yield a @xmath384 , because of the _ carryover effect _ , but give rise to a close enough object , which we define as follows .",
    "[ quasicellular ] let @xmath2 and let @xmath362 be an allowable set of primes for @xmath3 .",
    "a multiplication automaton ( or @xmath385 ) , with alphabet @xmath386 consists of a finite sequence of primes @xmath387 ( with @xmath7 ) called the multipliers , and two maps , the configuration map @xmath388 and the carryover map @xmath389 satisfying the following rules for all @xmath7 and all @xmath390 :    1 .",
    "@xmath391 ; 2 .",
    "@xmath392 .    here",
    ", we assume that the initial row @xmath393 of the configuration map is given , as well as the column @xmath394 of initial carryovers .",
    "we also assume that @xmath395 for all but finitely many values of @xmath260 , and we call the number @xmath396 the _ seed _ of the @xmath385 . note that each row of an automaton has only finitely many non - zero elements ; in other words , for each @xmath13 there exists a smallest @xmath397 such that @xmath398 for all @xmath399 .",
    "if the initial seed is non - zero , then @xmath400 as @xmath375 .    despite appearances from the above recursive formulas",
    ", it turns out that the values of the configuration map of a @xmath385 are determined _ purely locally _ , as the following proposition shows .",
    "this further reinforces the similarity of @xmath385 s with @xmath384 s .",
    "[ prop : locality ] in every @xmath385 , the configuration value @xmath401 depends only on the three values @xmath402 and on the multiplier @xmath403 .",
    "we refer to formulas ( i ) and ( ii ) in definition [ quasicellular ] . from (",
    "ii ) with @xmath404 replacing @xmath260 we see that @xmath405 but formula ( i ) with @xmath404 replacing @xmath260 gives us @xmath406 combining and with ( i ) we deduce that @xmath407 \\ , , \\ ] ] which is the desired result .",
    "the way the @xmath385 operates purely locally as told by proposition [ prop : locality ] is illustrated in part ( a ) of figure [ fig : qauto ] where in each group of positions , the one framed in black is the value of @xmath401 .",
    "it is worth pointing out that @xmath385 s can be interpreted as examples of _ error diffusion _ where the input is the previous line , the modified input is the product of the input by @xmath403 added to the carry over , and the new error is the next carry over ( see @xcite and references therein ) .",
    "incidentally , part ( b ) of the same figure gives the allowed configuration of another automaton , namely the one that describes the evolution along columns ( a simple model of discrete epitaxy ) .",
    "the configurations in part ( c ) of that figure are the forbidden ones resulting in a solid black square when nothing can be computed .",
    "the simplest example of a multiplication automaton relevant to sloane s conjecture is obtained by taking @xmath43 and @xmath408 , choosing @xmath409 as the seed , and setting @xmath410 for all @xmath1 as the initial sequence of carryovers .",
    "note that in this case @xmath411 for all @xmath1 .",
    "the configuration map for this automaton yields the list of all powers of @xmath42 written in base @xmath44 .",
    "this list corresponds to the orbit of @xmath412_3 $ ] under the map",
    "@xmath413 introduced in  [ subsec : ergoz ] . in the notation introduced above",
    ", we have @xmath414 for all @xmath1 .",
    "figure 2 exhibits the first 45 rows of this @xmath385 , _",
    "i.e. _ the first 45 powers of 2 ( out of the about 8000 that we have computed ) .",
    "some patterns seen there are reminiscent of those appearing in the simplest @xmath384 s",
    ".      another pair of examples is obtained by taking @xmath58 and @xmath415 , setting @xmath410 for all @xmath1 as before , and choosing either @xmath409 or @xmath416 as the seed .",
    "the resulting pair of @xmath385 yields the two sequences @xmath417 and @xmath418 written in base @xmath83 , which are the relevant ones for sloane s conjecture in that base .",
    "these sequences correspond to the orbits of @xmath419_4 $ ] and @xmath420_4 $ ] under successive iterations of the map @xmath421 introduced in  [ subsec : ergoz ] .",
    "the 23 first rows of these automata are presented side by side in figure 3 .",
    "a @xmath385 as given in definition [ quasicellular ] can be used as a statistical model for the discrete - time evolution of a mixture of @xmath3 species ( labeled balls , say , or distinct molecules ) with positions at time @xmath1 labeled by the integers @xmath422 .",
    "one is then interested in the asymptotic behavior of the mixture as characterized by the proportions of species populations as @xmath375 .",
    "this analogy with statistical mechanics and the observed patterns in the two examples above ( see figures 2 and 3 ) , as well as in several other examples we have investigated , suggest the following conjecture .",
    "is identically zero . ]",
    "3[conj : convvtoequi ] ( general formulation . )",
    "the configuration map of every multiplication automaton with non - zero seed converges to an equilibrium in the following sense . for each @xmath423 and each @xmath424-block @xmath425",
    ", we have @xmath426    in other words , the populations of the @xmath3 species in the mixture become asymptotically perfectly balanced as time evolves .",
    "figure 4 shows clearly that the proportion of zeros in @xmath88 ( _ i.e. _ , in row @xmath1 of the automaton of example 1 ) goes to one third of the digits when @xmath1 becomes large enough .",
    "of course there are fluctuations in the proportions but the sizes of these fluctuations go to zero , as one would expect in a model of statistical physics .",
    "similar data have been obtained with bases @xmath83 , @xmath242 , and @xmath243 and a variety of allowable sets @xmath362 of prime multipliers . in many cases",
    ", we also checked that the expected asymptotic statistics of _ blocks _ behave according to the conjecture .",
    "besides potential applications to random number generators , conjecture [ conj : convvtoequi ] , if proved true , would yield several interesting corollaries , such as sloane s conjecture for all bases ( as we have already pointed out ) , and other conjectures by erds , furstenberg , and lagarias that are reported in @xcite .    to      note that in definition [ quasicellular ] we have assumed that the allowable set of primes @xmath362 from which the multipliers are chosen is _",
    "finite_. if this condition is removed , conjecture [ conj : convvtoequi ] becomes false , as the following example shows .",
    "we work in base @xmath45 here , but similar examples can be given in other bases .",
    "recall from elementary number theory that a _ repunit _ is a positive integer whose ( base 10 ) expansion consists of a string of ones , e.g. @xmath427 , etc . if a repunit @xmath428 has @xmath1 digits , then of course @xmath429",
    "let @xmath71 be any integer greater than @xmath41 and consider the infinite sequence of repunits @xmath430 given by @xmath431 then the identity @xmath432 shows that @xmath433 divides @xmath434 , for each @xmath7 .",
    "moreover , since @xmath435 , we see that @xmath434 has at least one prime factor which does not divide @xmath433 .",
    "hence there exist a sequence of primes @xmath370 ( not necessarily distinct , but ranging over infinitely many values ) and a sequence of natural numbers @xmath436 such that @xmath437 for all @xmath1 . but",
    "this means that each @xmath433 appears as a row of the ( generalized ) @xmath385 with base @xmath45 , seed @xmath409 and with @xmath362 being the set of all primes appearing as factors of some @xmath433 , which is infinite as we have shown .",
    "in particular , the line - by - line digits for this automaton can not be asymptotically equidistributed .",
    "therefore conjecture [ conj : convvtoequi ] can fail to hold when @xmath362 is infinite .",
    "written in the decimal system , say , contains infinitely many primes . ]",
    "let us now give an chain of heuristic arguments lending further support in favor of conjecture [ conj : convvtoequi ] .",
    "the heuristics will be formulated for the most part in the context of example 1 above ( @xmath43 and @xmath408 ) .",
    "the key idea is to model the deterministic behaviour of an @xmath385 by a stochastic process .",
    "the irregularities observed in the rows of an @xmath385 are due to the carryover effect , and these will be interpreted as random",
    ". this will be our standing assumption .",
    "stated informally : _ everything is as if all would be random with appropriate distributions_.      as pointed out already , we restrict our analysis almost entirely to the @xmath385 of example 1 .",
    "we make the further restriction of looking only at the evolution of the populations of the @xmath44 species given by the single digits @xmath141 .",
    "we ignore , of course , all zeros in positions to the left of the last non - zero digit in each row .",
    "although our multiplication automaton is a _",
    "object , we will model its evolution  more precisely the row - by - row evolution ( or growth ) of the population frequencies ( or proportions ) of the digits @xmath141  by a _",
    "stochastic process_. once more , we leave to the reader to see how what we propose here can be extended to the general situation of the conjecture .    in the example at hand ,",
    "the passage from row @xmath1 to row @xmath438 of the multiplication automaton involves only multiplication by @xmath42 .",
    "the only possible values of the carryovers are @xmath72 and @xmath41 ; in the general case of multiplication of @xmath439 in base @xmath3 , finding the maximal carryover is indeed the first computation to be done .",
    "thus , for each @xmath440 and each @xmath30 we have either @xmath441 if there is no carryover at the column position @xmath260 , or @xmath442 if there is a carryover at that position .",
    "this means that in each position @xmath260 , the possible transitions of digits from one row to the next are @xmath443 , @xmath444 and @xmath445 without carryover , and @xmath446 , @xmath447 and @xmath448 with carryover .",
    "these spell out the _ incidence matrix _",
    "@xmath449 this suggests that the evolution of the proportions @xmath450 ( with @xmath451 ) of the digits @xmath141 from row to row of the automaton can be modeled by a simple ( homogeneous ) markov chain .",
    "we refer to the column vectors @xmath452 as _ population vectors_. our standing assumption in this context is that _ the allowable transitions from each given state have equal probabilities_. hence this markov chain has as its _ transition matrix _ the doubly stochastic matrix @xmath453 .",
    "the situation is not quite so simple , however , because this proposed scheme fails to take into account the fact that the _ total population _ @xmath147 occasionally increases as we go from row to row ( @xmath400 as @xmath375 ) depending on the leading digit , the multiplication factor , and the carryover inherited there.this growth of population size is our only hope to see the asymptotic equidistribution of digits stated above .",
    "indeed , we know from  [ sec : tails ] that the tails of size @xmath454 , namely the blocks @xmath455 ( with @xmath136 ) form a _",
    "periodic sequence_. the same is true of the sequence of @xmath424-blocks @xmath456 for every fixed @xmath457 . hence there is no hope to observe equidistribution of digits along blocks of fixed sizes .",
    "this compels us to change the model slightly , to accommodate the eventual increase in population size .",
    "only two things can happen when we go from row @xmath1 to row @xmath438 : either @xmath458 , _",
    "i.e. _ , the total population size stays the same , or @xmath459 , _",
    "i.e. _ , the total population size grows by @xmath41 .",
    "in the first case , the new proportions at time @xmath438 can be obtained from the old proportions at time @xmath1 by multiplication with the matrix @xmath460 . in the second case",
    ", we can think that the left - most digit at row @xmath1 , namely @xmath461 gives rise not to one , but two new digits at row @xmath438 , namely @xmath462 and @xmath463 .",
    "of these two , the last one is always equal to @xmath41 . since we",
    "either have @xmath464 or @xmath465 , we now either have a non - zero probability of a transition @xmath466 , or the probability of a transition @xmath445 is now slighty greater than @xmath467 . in other words , the new population vector @xmath468 is obtained from the old population vector @xmath469 by multiplication with one of the two stochastic matrices @xmath470 where @xmath471 accounts for the increase of the population of @xmath41 s by one .",
    "summarizing , the evolution of population proportions in each row of the multiplication automaton in example 1 can be modelled by an _",
    "inhomogeneous markov chain _",
    "( imc ) , given by a sequence of stochastic transition matrices @xmath472 and ( column ) probability vectors @xmath473 such that @xmath474 . here ,",
    "each transition matrix @xmath475 .",
    "there is a well - developed theory of imc s ; see for instance @xcite , or @xcite .",
    "as it turns out , convergence to equilibrium as expressed in conjecture [ conj : convvtoequi ] is tantamount , in the present example , to _ strong ergodicity _ of the imc .",
    "let us explain this point .",
    "for each pair of integers @xmath476 , let @xmath477 .",
    "following , @xcite , we say that the imc is _ strongly ergodic _ if there exists a row probability vector @xmath478 such that @xmath479 where the supremum is over all column probability vectors @xmath480 , and where @xmath481 is the so - called _ distance in variation _ , defined by @xmath482 whenever @xmath483 and @xmath484 are ( row ) probability vectors .",
    "recall ( see @xcite , or any standard text on markov chains ) that a _ stationary distribution _ for a stochastic matrix @xmath485 is a column probability vector @xmath486 such that @xmath487 .",
    "we have the following sufficient condition for strong ergodicity , as stated in ( * ? ? ?",
    "6.8.5 ) ( _ cf .",
    "v.4.5 , p. 170 ) ) .",
    "c if each transition matrix @xmath488 has at least one stationary distribution and if there exists a stochastic matrix @xmath489 such that @xmath490 as @xmath375 , then the imc is strongly ergodic . is the _ max - norm _ : if @xmath491 , then @xmath492 . ]    the hypotheses in this theorem are met in our example .",
    "indeed , here we clearly see from that @xmath493 and @xmath494 as @xmath495 ; hence we can take @xmath496 .",
    "moreover , an easy computation shows that the probability vectors @xmath497 are stationary distributions for @xmath498 and @xmath499 , respectively .",
    "the heuristic argument just presented supports the validity of conjecture [ conj : convvtoequi ] in the case of example 1 , as long as one accepts the standing assumption stated in the beginning of this section .",
    "the formalism of imc s can be similarly used to treat @xmath385 s with any other bases @xmath3 and allowable sets of multipliers @xmath362 .",
    "the analysis of the two @xmath385 s in example 2 is completely analogous , because in those two cases @xmath415 is still a unitary set .",
    "things become a bit different when @xmath362 has two or more elements . for example , take @xmath500 and @xmath501 . then instead of a single ( unperturbed ) stochastic matrix @xmath460",
    "we now have a pair of such matrices , one for each multiplier : @xmath502 in each of these two matrices , the number of non - zero entries in each row equals the number of possible carryovers ( upon multiplication by the corresponding prime ) .",
    "as we have seen in the previous subsection , in the context of example 1 , each digit @xmath503 in a given position on row @xmath1 of our @xmath385 gives rise to a new digit @xmath504 immediately below it on row @xmath438 , where either @xmath505 or @xmath506 , depending on whether the carryover at that position is @xmath72 or @xmath41 , respectively .",
    "we have stated that , if the carryovers in row @xmath507 are assumed to be randomly placed , then the transition probabilities for the digit transitions @xmath508 are equal to @xmath467 ( hence the stochastic matrix @xmath460 introduced earlier ) . strictly speaking ,",
    "this is not correct .",
    "but as we will see below , the statement is close to being true provided the digits on row @xmath1 are already approximately uniformly distributed in the following ( finite ) sense .",
    "we say that a @xmath71-block @xmath509 _ occurs _ in an @xmath94-block @xmath510 if there exists @xmath511 such that @xmath512 .",
    "an @xmath94-block @xmath513 is said to be @xmath71-balanced ( for a given @xmath71 with @xmath514 ) if for each @xmath71-block @xmath515 the total number of ocurrences of @xmath516 in @xmath517 divided by the total number of @xmath71-blocks occurring in @xmath517 is equal to @xmath518.-blocks is @xmath84 . ]",
    "the rough idea is that if row @xmath1 of our @xmath385 is @xmath71-balanced and we count , for a given allowable transition @xmath508 , how many times this transition occurs when we go from row @xmath1 to row @xmath438 and divide that number by the total number of observed transitions which start with the digit @xmath216 , then this ratio  which we call an _ empirical transition probability _  is approximately equal to @xmath467 , with an error which is exponentially small in @xmath71 .",
    "we call this phenomenon _ block protection_. the result can be formulated as follows",
    ".    [ protectblock ] if the @xmath1-th row @xmath519 is @xmath71-balanced for some @xmath121 , then the empirical probability @xmath520 of each transition @xmath508 ( computed from the digit transitions @xmath521 ) satisfies @xmath522 .    the proof is deferred to appendix [ appendix ] .    instead of looking at transitions @xmath508 between digits",
    ", we may consider more generally transitions @xmath523 between blocks @xmath524 of a fixed length @xmath424 . here",
    "@xmath525 lies on row @xmath1 of our @xmath385 while @xmath526 lies on row @xmath438 immediately below @xmath207 . for each given @xmath207",
    "there are two possible values for @xmath527 ( depending on the carryover @xmath528 ) .",
    "one can talk about block protection of such _ blocks _ in the same way we talked about block protection of _ digits_. an exact analogue of proposition [ protectblock ] holds true if we simply replace @xmath216 by @xmath207 and @xmath529 by @xmath527 , and the proof is similar .",
    "the end result is that _ if row @xmath1 of our @xmath385 is @xmath71-balanced _ , then the empirical transition probabilities @xmath530 differ from @xmath467 by an error smaller than @xmath531 ( where @xmath71 is the length of the protecting blocks ) . to be more specific , let @xmath532 be the stochastic matrix that gives the actual transitions of @xmath424-blocks from row @xmath1 to row @xmath438 , and _ assume _ that row @xmath1 is @xmath71-balanced . for @xmath533",
    "there are @xmath534 blocks .",
    "if all allowed transitions were equally likely , we would get the @xmath535 stochastic matrix @xmath536 the actual stochastic matrices @xmath537 differ from the above matrix only in its non - zero entries , and by less than @xmath531 , _ provided row @xmath1 is @xmath71-balanced_. more generally , for arbitrary @xmath424 , if all allowed transitions @xmath523 were equally likely , the associated stochastic matrix would be @xmath538_{1\\leq i , j\\leq 3^\\ell } \\ , \\ ] ] where @xmath539 stands for kronecker s delta . once again , the actual stochastic matrices @xmath540 differ from the matrix in only in its non - zero entries , and by less than @xmath531 _ if row @xmath1 is @xmath71-balanced_.      now we come to the last part of the heuristics .",
    "almost all of what was done in parts i and ii of the heuristics can be rigorously proved .",
    "this is not the case , so far , with the arguments in the present section .",
    "the discussion will be more informal .",
    "the imc formalism as described in  [ imcsection ] can only work if the stochastic matrices @xmath540 introduced in ",
    "[ sub : heuristic2 ] become asymptotically closer and closer to the corresponding matrices @xmath541 as @xmath495 , for any given @xmath424 .",
    "thus , we need @xmath542 for any block - length @xmath424 .",
    "this is indeed corroborated by our computational evidence .",
    "proposition [ protectblock ] gives us a much weaker , conditional result : _ if _ the @xmath1-th row @xmath373 of our @xmath385 is @xmath71-balanced , _ then _ @xmath543 .",
    "it is of course too much to expect that a row of our @xmath385 will be perfectly @xmath71-balanced .",
    "but it is not difficult to generalize proposition [ protectblock ] so that the expression `` @xmath71-balanced '' is replaced by a suitable concept of `` almost @xmath71-balanced '' ( which can be stated in an appropriate quantitative way ) , so that the estimate in the conclusion is almost the same , with @xmath531 replaced by @xmath544 , say .",
    "let us agree to say that the matrix @xmath540 is _",
    "@xmath71-reasonable _ if @xmath545 .",
    "the stability of the arguments presented so far then tell us that if row @xmath1 of our @xmath385 is almost @xmath71-balanced , then the stochastic matrices @xmath546 , @xmath547 remain @xmath71-reasonable for a certain number @xmath548 of steps .",
    "thus , in order to justify the use of the imc formalism and get a proof of conjecture [ conj : convvtoequi ] ( at least for the case of the @xmath385 of example 1 ) , we need two things :    1 .",
    "to guarantee the possibility of a _ good start _ , _",
    "i.e. , _ a row @xmath1 of our automaton which is almost @xmath71-balanced , for as large a value of @xmath71 as possible .",
    "2 .   to make sure that throughout the steps @xmath549 the longer blocks in @xmath550 ( _ i.e. , _ those whose evolutions are not protected by the distributions of even longer blocks ) are not progressively getting too unevenly distributed , with consequences that would then cascade down to shorter and shorter blocks .    at least at a rough level ,",
    "point ( 1 ) is not difficult to achieve thanks to our results in  [ sec : erg1 ] . indeed , by what we have seen in that section , adding a decimal point in front of @xmath373 ( the @xmath1-row of our @xmath385 ) , we get the orbit @xmath551 of @xmath270_3 $ ] under the circle map @xmath413 .",
    "since all orbits of @xmath413 are dense , given any @xmath71-balanced string @xmath552 ( with @xmath553 ) , there exists @xmath7 such that @xmath554 has the string @xmath527 as its @xmath27-prefix , or head , which we call _",
    "good_. for each such @xmath1 with a good head , the corresponding @xmath373 has a suffix , or tail , of a certain length @xmath457 .",
    "note that we can not choose @xmath457 _ a - priori _ : if one uses the density of orbits of @xmath413 , one is forced to accept the value of @xmath457 imposed by the choice of the good head @xmath527 .",
    "now , as we iterate further and consider the successive rows @xmath555 of the automaton , the tail of length @xmath457 generates a periodic sequence of tails lying beneath it ( all with the same length @xmath457 ) , whereas the heads increase in size .",
    "clearly , the constant character of @xmath457 as @xmath19 increases makes the tails irrelevant in the computation of asymptotic proportions of symbols or other blocks .",
    "the problem then becomes point ( 2 ) above for the heads .",
    "this point is experimentally verified but is mathematically beyond our reach at this writing , contrary to point ( 1 ) as formulated above .",
    "as promised , in this section we prove proposition [ protectblock ] .",
    "the proof will require the two lemmas presented below .",
    "let us fix @xmath121 .",
    "it is an easy consequence of proposition [ prop : locality ] that , for each @xmath556 and each @xmath7 , the element @xmath557 of our @xmath385 is completely determined by the following data :    1 .",
    "the element @xmath401 lying immediately above @xmath557 ; 2 .   the @xmath71-block @xmath558 lying to the right of @xmath401 ; 3 .",
    "the carryover @xmath559 , _",
    "i.e. _ the carryover immediately to the right of @xmath560.t    in other words , there exists a function @xmath561 such that @xmath562 in fact , the function @xmath563 can be explicitly computed .",
    "define the _ value _ of a @xmath71-block @xmath564 by @xmath565 note that every block @xmath516 is uniquely determined by its value .",
    "we now have the following lemma .    for each digit @xmath566 , each @xmath71-block @xmath567 and each carryover @xmath568",
    ", we have @xmath569    the concatenated block @xmath570 has value @xmath571 . in order to compute @xmath572",
    ", we multiply this value by @xmath42 and add the carryover @xmath573 , getting the number @xmath574 .",
    "this number is written in base @xmath44 and the resulting block is placed beneath @xmath575 .",
    "the digit @xmath529 ( immediately below @xmath216 ) is precisely the @xmath71-th digit of @xmath576 from right to left , _",
    "i.e. , _ @xmath577 .",
    "hence we have @xmath578 and this proves .",
    "note that the last term in the right - hand side of is equal to either @xmath72 or @xmath41 .",
    "now , it turns out that @xmath563 is `` almost '' independent of the variable @xmath568 . roughly speaking ,",
    "the only way the carryover @xmath573 to the right of the @xmath71-block @xmath516 can influence the value of the digit @xmath529 immediately below @xmath216 ( on the left of @xmath516 ) is if @xmath516 happens to be the block @xmath579 ( @xmath71 times ) .",
    "every other block will contain in some position a @xmath72 or a @xmath42 ; upon multiplication by @xmath42 these yield @xmath72 and @xmath41 , respectively , and any carryover effect coming from the right of that position will not go through to the left of it .",
    "this is part ( i ) of the following lemma .",
    "[ phiproperties ] the function @xmath563 has the following properties .    1 .   if @xmath566 and @xmath580 , then @xmath581 if and only if @xmath582 ; 2 .",
    "if @xmath566 and @xmath504 , then @xmath583    first , let @xmath516 be a @xmath71-block such that @xmath581 .",
    "then from we see that @xmath584 hence we must have simultaneously @xmath585 from these two inequalities we deduce that @xmath586 , and therefore @xmath587 .",
    "this means that @xmath582 .",
    "conversely , if @xmath582 then by a simple computation we see that holds true .",
    "this proves ( i ) .    to prove ( ii ) , there are two cases to consider : @xmath588 and @xmath589 . in either case , if @xmath590 then by part ( i ) we have @xmath591 if @xmath588",
    ", then both sides in are equal to @xmath72 , and we get @xmath592 .",
    "the number of blocks @xmath516 satisfying these inequalities is precisely @xmath593 .",
    "if @xmath589 , then both sides in are equal to @xmath41 , and this time we deduce that @xmath594 . the number of blocks @xmath516 satisfying these last inequalities is also @xmath593 .",
    "this finishes the proof .    to      consider an allowable transition of digits @xmath508 from row @xmath1 to row @xmath438 of our @xmath385 .",
    "we are assuming that row @xmath1 is @xmath71-balanced . in order to compute the empirical probability @xmath520 of such transition",
    ", we need to count how many times this transition happens and divide it by the total number of transitions which start with @xmath216 on row @xmath1 . for this purpose , first we count how many blocks @xmath590 are such that @xmath595 .",
    "the answer is given by lemma [ phiproperties](ii ) : there are @xmath593 such blocks .",
    "since row @xmath1 of our @xmath385 is @xmath71-balanced , the proportion of such blocks in that row is therefore the quotient @xmath596 .",
    "this already tells us that @xmath597 we still have to account for the occurences of the block @xmath582 .",
    "let @xmath598 be such that @xmath599 .",
    "each occurrence of @xmath582 on row @xmath1 for which the carryover immediately to the right of @xmath516 equals @xmath573 contributes to the desired empirical probability .",
    "since the proportion of such occurrences is at most @xmath600 , this shows that @xmath601 combining with we get the inequality in the statement .    to    to",
    "the authors are grateful to george hentchel for bringing this problem to the attention of c.t . , and for sharing insights on how asymptotic equidistribution of digits would solve sloane s problem in base @xmath44 ."
  ],
  "abstract_text": [
    "<S> we investigate the so - called persistence problem of sloane , exploiting connections with the dynamics of circle maps and the ergodic theory of @xmath0 actions . </S>",
    "<S> we also formulate a conjecture concerning the asymptotic distribution of digits in long products of finitely many primes whose truth would , in particular , solve the persistence problem . </S>",
    "<S> the heuristics that we propose to complement our numerical studies can be thought in terms of a simple model in statistical mechanics . </S>"
  ]
}