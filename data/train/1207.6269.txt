{
  "article_text": [
    "although graphs are a very intuitive representation of many datasets , retrieving information from them is far from easy .",
    "the increasingly growing datasets during the last years have made it very difficult to intuitively extract and analyze the information of the graphs generated from those data sources .",
    "large graphs have often many relationships that make their visual analysis impossible and make the understanding of the structural components of the graph difficult .",
    "communities are informally defined as sets of vertices which are densely connected but scarcely connected to the rest of the graph .",
    "the retrieval of vertex communities ( or clusters ) provides information about the sets of vertices that respond to a similar concept  @xcite . in social networks ,",
    "communities identify groups of users with similar interests , locations , friends or occupations .",
    "this information is useful to craft new ways to represent data in visual analysis applications  @xcite or to reduce the access times to this data thanks to a more coalesced data placement  @xcite .",
    "several metrics have been proposed as indicators of the quality of a community  @xcite . among them ,",
    "modularity and conductance are those which have become more popular  @xcite and precise  @xcite , respectively .",
    "modularity compares the internal edge density of the community with the average edge density of the graph . on the other hand",
    ", conductance computes the ratio between edges inside the community and the edges in the frontier ( i.e.  the cut ) of the community .",
    "both metrics take the edges as a set of objects without paying attention to the internal structure of the community .",
    "one of the consequences is that the optimization of such metrics generates communities without noticeable structure that empirically can not sometimes be considered communities  @xcite .",
    "we find that the informal definition of community stated previously is too lax for social networks , because it does not consider the internal edge layout of the community . as a first contribution",
    ", we introduce a set of basic structural properties that a good community metric for social networks must fulfill .",
    "these properties ensure that communities are cohesive , structured and well defined .",
    "an example of these properties is that communities in social networks must be dense in terms of triangles .",
    "a triangle is a transitive relation between three vertices .",
    "for example , a triangle appears when @xmath1 is a friend of @xmath2 , @xmath2 is a friend of @xmath3 , and @xmath3 is a friend of @xmath1 .",
    "social networks are known to contain more triangles than expected by chance ( erds - rnyi graph ) , which gives a community structure to the graph  @xcite .",
    "the triangle is a simple structure that depicts a strong relation among three vertices .",
    "furthermore , complex dense structures such as a clique contain a large number of triangles .",
    "another example is the absence of bridges in a community .",
    "a bridge is an edge that connects two connected components , and hence , having the two connected components as two different communities is more natural and intuitive  @xcite .",
    "surprisingly , such requirements are not met by state of the art metrics , so they do not provide satisfactory communities .    as a second contribution ,",
    "we design a community detection metric called _ weighted community clustering _ ( @xmath0 ) .",
    "@xmath0 is based on the notion that triangles are a good indicator of community structure .",
    "@xmath0 takes into account the density and the layout of the triangles to rate the quality of a community .",
    "we also prove that our triangle based approach fulfills the introduced properties .",
    "finally , we show experimentaly that there is a correlation between communities with good @xmath0 value and desirable statistical values .",
    "we show that while communities with large @xmath0 are cohesive and dense , others with good modularity and conductance values are not .",
    "we also compare the most used algorithms in the state of the art using @xmath0 .",
    "the paper is structured as follows : in section  [ section : related - work ] , we review the state of the art . in section  [ section : wcc ] , we introduce the problem of community detection , propose the new metric ( @xmath0 ) and introduce the properties . in section  [ section : comparison ] , we show that the current metrics in the state of the art do not fulfill the properties proposed",
    ". finally , in section  [ section : experiments ] , we compare several community detection methods using the @xmath0 and in section  [ section : conclusions ] we give guidelines for future work and conclusions .",
    "there are basically two types of metrics to evaluate the quality of a community .",
    "first , those that focus on the internal density of the community .",
    "the most widely used metric that falls into this category is the _ modularity _ , which was proposed by newman et al.@xcite .",
    "modularity measures the internal connectivity of the community ( omitting the external connectivity ) compared to an erds - rnyi graph model .",
    "it has become very popular in the literature , and a lot of algorithms are based on maximizing it .",
    "algorithms apply several optimization procedures : agglomerative greedy  @xcite , simulated annealing strategy  @xcite or multistep approaches  @xcite .",
    "however , it has been reported that modularity has resolution limits  @xcite .",
    "communities detected by modularity depend on the total graph size , and thus for large graphs , small well defined communities are never found .",
    "this means that maximizing the modularity leads to partitions where communities are far from intuitive .",
    "this is illustrated in figure  [ fig : modularity_resolution ] by an example .",
    "the second type of metrics consists of those that focus on reducing the number of edges connecting communities . in  @xcite ,",
    "kannan et al .",
    "introduce the conductance .",
    "conductance , is the ratio between the edges going outside the community and the total number of edges between members of the community .",
    "however , conductance suffers from the fact that for any graph , the partition with a unique community containing all the vertices of the graph obtains the best conductance , making its direct optimization not viable .",
    "a recent survey  @xcite of community metrics discusses the performance of many metrics on real networks : the cut ratio  @xcite , the normalized cut  @xcite , the maximum - odf ( out degree fraction ) , the average - odf and flake - odf  @xcite . in this survey ,",
    "leskovec et al . showed that , among all these metrics , conductance is the metric that best captures the concept of community .",
    "furthermore , their results reveal that the quality of communities decreases significantly for those of size greater than around 100 elements .",
    "[ section : wcc ]      given a graph @xmath4 , the problem is to classify the vertices of the graph into disjoint cohesive sets .",
    "the criterion to measure the cohesion of the sets is formally obtained by defining a metric , that is , a function @xmath5 that assigns to each subset @xmath6 of @xmath7 a real number such that @xmath8 .",
    "community _ is a set of vertices @xmath6 , on which we compute a degree of cohesion @xmath9 .",
    "good communities have a large @xmath9 and bad communities have a small @xmath9 .",
    "the adequate metric @xmath5 for a given context ( social networks , biology , etc . ) captures the features of the communities in that context .",
    "a _ partition _ of @xmath7 is a set @xmath10 of non - empty pairwise disjoint subsets of @xmath7 such that @xmath11 .",
    "a metric @xmath5 in @xmath12 defines in a natural way a value @xmath13 in each partition @xmath14 of @xmath7 by taking the weighted average of the value of the function on the sets of the partition : @xmath15 for a given graph and a given metric @xmath5 in @xmath12 , the goal is to obtain an _ optimal partition _ , that is , a partition @xmath14 such that @xmath13 is maximum .",
    "we call the communities in an optimal partition the _ optimal communities _ of the graph .      a natural way to define the cohesion of a community is to define first the degree of cohesion of a vertex @xmath16 with respect to a set @xmath6",
    ". that is , a function @xmath5 that assigns to the pair @xmath17 a real number @xmath18 in the range @xmath19 .",
    "then the metric on @xmath6 is defined by taking the average of @xmath18 with @xmath20 , that is , @xmath21 in this paper , we propose a definition of metric @xmath9 that we call _ weighted community clustering _ ( @xmath0 ) , which computes the level of cohesion of a set of vertices @xmath6 . in the rest of the paper , we refer to our proposal for @xmath9 as @xmath22 .    in order to define @xmath22 we start defining @xmath23 . with that objective ,",
    "we denote by @xmath24 the number of triangles that vertex @xmath16 closes with vertices in @xmath6 and by @xmath25 the number of vertices of @xmath6 that form at least one triangle with @xmath16 .",
    "@xmath23 is calculated as follows : @xmath26 note that @xmath27 implies that @xmath28 and @xmath29 .",
    "then the condition @xmath30 is included in the condition @xmath31 .",
    "the left fraction of @xmath23 is the ratio of triangles that vertex @xmath16 closes with set @xmath6 , as opposed to the number of triangles that @xmath16 closes with the whole graph . on the other hand ,",
    "the right fraction is the number of vertices that close at least one triangle with @xmath16 , with respect to the union of such set and @xmath6 .",
    "the cohesion of a partition is computed as stated in equation  ( [ equation : f_partition ] ) , by using @xmath22 .",
    "therefore , an optimal partition is such that , for all vertices of the graph , the two factors of equation  ( [ eq : ccc_normalizat2 ] ) are optimized .",
    "the left fraction is maximized for a vertex @xmath16 when set @xmath6 includes _ all _ the vertices that form triangles with @xmath16 . note that since a pair of vertices can build many triangles , the left term rewards including the vertices that build more triangles with @xmath16 .",
    "the right fraction is maximized for @xmath16 when set @xmath6 contains _ no _ vertices such that @xmath16 does not form triangles .",
    "the maximization process is a compromise between both terms : the left term is optimized by including additional vertices in the set , but the second is optimized by removing vertices from the set .",
    "this behavior implies that good communities are those with a significant number of triangles well distributed among all the vertices .",
    "proposition  [ proposition : proposicionsnode ] introduces a set of natural properties of @xmath23 ( proofs are available in appendix  [ appendix : formal_proof_init ] ) .",
    "let @xmath4 be a graph and @xmath32 .",
    "then ,    1 .",
    "@xmath33 for all @xmath34 .",
    "2 .   @xmath35 if and only if @xmath36 .",
    "3 .   @xmath37 if and only if @xmath38 , and @xmath39 .",
    "[ proposition : proposicionsnode ]    the value of @xmath23 indicates the fitness of vertex @xmath16 to become part of the set of vertices @xmath6 . this value is a real number between 0 and 1 ( proposition  [ proposition : proposicionsnode ]  ( i ) ) .",
    "these two extremes are only seen in particular situations ( proposition  [ proposition : proposicionsnode ]  ( ii - iii ) ) . for a given vertex @xmath16 , in order to have some degree of cohesion with a @xmath6 , the vertex must at least form one triangle with two other vertices in set @xmath6 .",
    "if a vertex builds no triangle with the vertices in @xmath6 , then the cohesion of the vertex with respect to the set is zero .",
    "on the other hand , the value one is reached if and only if all the vertices of @xmath6 form at least one triangle with @xmath16 .",
    "this property reflects the fact that the cohesion of a vertex @xmath16 with respect to a set @xmath6 , is maximized when @xmath6 includes exactly all the vertices that close triangles with @xmath16 .",
    "furthermore , from the point of view of the @xmath0 , only those edges in @xmath40 closing at least one triangle are relevant and influence the cohesion of a vertex .",
    "@xmath22 indicates the quality of a community .",
    "we infer several properties on @xmath22 from proposition  [ proposition : proposicionsnode ] ( see proofs in appendix  [ appendix : formal_proof_b ] ) .",
    "let @xmath4 be a graph and @xmath32 .",
    "then ,    1 .   @xmath41 .",
    "@xmath42 if and only if @xmath6 has no triangles . _ 3 .   _",
    "@xmath43 if and only if @xmath6 is a clique with @xmath44 for all @xmath45 .",
    "_    * example : *                    \\(a ) 0    \\(b ) 0.7    \\(c ) 0.9    \\(d ) * 1 *    * property 1 : internal structure : *            \\(e ) 0    \\(f ) * 0.667 *    * property 2 : linear community cohesion : *                    \\(g ) 0.833    \\(h ) * 0.860 *    \\(i ) * 0.881 *    \\(j ) 0.814    * property 3 : bridges : *            \\(k ) 0.444    \\(l ) * 1 *    * property 4 : cut vertex density : *                \\(m ) 0.556    \\(n ) * 0.722 *    \\(o ) 0.444    the clique is the subgraph structure that best resembles the perfect community , and thus , @xmath0 rates it with the largest value . on the other hand , if the community has no triangles , its quality is the minimum possible . in figure",
    "[ fig : exemple_casos_teoremes](a - d ) , we show a community of five vertices with an increasing number of internal triangles . the larger the triangles density , the larger the @xmath22 value of the community .      in this section",
    ", we introduce a set of basic properties that any community cohesion metric for social networks should fulfill .",
    "we verify them for @xmath0 , proving that @xmath0 is a good candidate to distinguish communities in social networks ( proofs are given in appendices  [ appendix : primer_teorema]-[appendix : formal_proof_end ] ) : .",
    "* property 1 : internal structure . * in several previous studies  @xcite , it has been proved that one of the main characteristics of social networks is the presence of a large clustering coefficient and communities .",
    "social networks have more triangles than expected in random graphs  @xcite and models describing the growth of social networks give triangle closing as a key factor of network evolution  @xcite .",
    "thus , we take triangles as the indicator of the presence of community structures . then , _ * the cohesion of a community given by a community metric for social networks , depends on the triangles formed by the edges inside the community . *",
    "_ we verify this property for @xmath0 : the left factor in equation  ( [ eq : ccc_normalizat2 ] ) is the ratio of the number of triangles the vertex @xmath16 forms with the vertices in @xmath6 as opposed to the number of triangles the vertex @xmath16 forms with the whole graph .",
    "hence , the factor is affected by the number of triangles inside the community . on the other hand ,",
    "the right factor depends on the number of vertices that form triangles with vertex @xmath16 .",
    "therefore , the distribution of the triangles inside the community affect the right factor .",
    "figure  [ fig : exemple_casos_teoremes](e - f ) shows an example of two partitions with the same number of edges , but distributed differently .",
    "we see that the vertices in figure  [ fig : exemple_casos_teoremes](e ) form no triangles which translates to a value of @xmath46 .",
    "on the other hand , the vertices in figure  [ fig : exemple_casos_teoremes](f ) form four triangles , obtaining a larger value of @xmath0 .",
    "we see that @xmath0 reacts to the internal structure of the communities , and in particular to the presence of triangles .",
    "* property 2 : linear community cohesion . * an interesting aspect to consider is the dynamics of community formation in social networks : what happens when there is an existent community and a new vertex appears in a graph , which is creating links with the members of the community . in order to keep high quality communities ,",
    "these must grow with cohesion .",
    "this means that a vertex can only join a community if it has a significant number of links with the members of the community .",
    "the larger the community , the more links are needed . otherwise , the cohesion of the community decreases .",
    "this simple restriction limits the community growth if there is not a significant cohesion among its members .",
    "therefore , _ * the number of connections needed between a vertex @xmath16 and a set @xmath6 , so that @xmath47 , grows linearly with respect to the size of @xmath6*_. if it grew sublinearly , it would mean that the larger a community is , the easier would be for a vertex to join the community relative to the community size .",
    "on the other hand , if it grew faster than linear , the communities would have a maximum possible size .",
    "theorem  [ theorem : vertex_contra_comunitat ] proves this requirement for @xmath0 :    let @xmath4 be a random graph of order @xmath48 in which each edge occurs independently with probability @xmath49 .",
    "let @xmath50 be a vertex adjacent to @xmath51 vertices of @xmath7 .",
    "consider the two partitions @xmath52 and @xmath53 .",
    "then ,    1",
    ".   @xmath54 .",
    "@xmath55 @xmath56 .",
    "3 .   for large enough @xmath48 , @xmath57 if and only if @xmath58 .",
    "[ theorem : vertex_contra_comunitat ]    for instance , in the particular case of the clique ( where @xmath59 ) , it is necessary to connect to roughly more than one third of the vertices to become a member of the community .",
    "let @xmath6 be a clique of order @xmath48 . given a vertex @xmath60 ,",
    "there must exist at least @xmath61 edges between @xmath60 and @xmath6 to hold @xmath62 .",
    "[ corollary : clique ]    in figure  [ fig : exemple_casos_teoremes](g - j ) we show an example of theorem  [ theorem : vertex_contra_comunitat ] , where colors indicate different communities , and dashed lines represent edges between communities . in ( g ) and ( i ) , the whole graph is a community but in ( h ) and ( j ) the graph is split into two communities .",
    "when the external vertex has only two connections with the six vertices , the metric considers better to keep the vertex outside of the community .",
    "however , when the number of connections is three , @xmath0 has a better value when the vertex is included into the community .    *",
    "property 3 : bridges . *",
    "a bridge is an edge that if it is removed from the graph , it creates two connected components .",
    "the connections in real graphs are known not to be local , but can connect distant vertices  @xcite .",
    "a bridge is a very weak relation between two sets of vertices that are unrelated , because it only affects one member of both datasets .",
    "therefore , _ * an optimal community in social networks can not contain a bridge . * _ we prove that @xmath0 is resistent to bridges in the following theorem :    let @xmath63 and @xmath64 be two communities in a partition of graph @xmath4 such that :    1 .",
    "@xmath63 and @xmath64 are the set of vertices of two different connected components",
    "@xmath65 .",
    "then , the following inequality holds:@xmath66    [ theorem : bridge_edge ]    an edge that does not close any triangle , does not affect the computation of @xmath0 because it alters no terms in equation  ( [ eq : ccc_normalizat2 ] ) .",
    "a bridge is a particular case of such an edge , and therefore , it does not affect the quality of a partition for @xmath0 .",
    "since given two connected components it is better to have them separated than merged into a single community , then an optimal community can not contain a bridge , because there exists a partition with a better cohesion formed by the two separated components . in figure",
    "[ fig : exemple_casos_teoremes](k - l ) we show an example of the application of theorem  [ theorem : bridge_edge ] .",
    "we see that having the two cliques separated is better than considering a single community with a bridge , in terms of @xmath0 .    * property 4 : cut vertex density . * a cut vertex is a vertex whose removal disconnects the graph into two or more connected components .",
    "a cut vertex is certainly a weak link in a community formed by the union of the two sets , because the vertices of the two sets have no relation among them .",
    "however , if the two sets have no other connection among them rather than the cut vertex , the two sets must be considered as independent communities on their own if they have enough cohesion internally .",
    "therefore , _ _ * an optimal community can not contain a cut vertex if the sets that it separates have a minimum density*__. in figure  [ fig : exemple_casos_teoremes](m - o ) , we show two cliques ( note that the clique is the highest density graph structure ) of size five sharing a vertex . here , @xmath0 is able to separate the communities for this particular case because the red and blue sets of vertices have enough cohesion to become separate communities .",
    "we prove this property for @xmath0 for the case where communities have the highest possible density , which is the clique :    let @xmath4 be a graph of order @xmath67 which consists of two cliques @xmath68 and @xmath69 of orders @xmath48 and @xmath70 , respectively , that intersect in a vertex t. assume @xmath71 .    1 .",
    "if @xmath72 , then @xmath73 2 .   if @xmath74 , then @xmath75 3 .   if @xmath76 , then @xmath77 4 .   @xmath78 .",
    "5 .   @xmath79 .",
    "[ theorem : cliques_no_es_junten ]    this theorem illustrates the fact @xmath0 avoids merging two very well defined communities ( such as two cliques ) because of a single vertex .",
    "the reason is that @xmath0 is a metric that not only takes into account the vertices that are connected and form triangles , but also the vertices that do not .",
    "thus , if the triangles inside the community are not distributed evenly among all the vertices , then the quality of the community is penalized .",
    "figure  [ fig : exemple_comunitats ] shows some examples of communities with different values of @xmath0 .",
    "these communities are extracted randomly from the set of communities found in the real graphs used by the algorithms in section  [ section : experiments ] .",
    "the color of the vertices represents the percentage of neighbors belonging to the community .",
    "the darker the vertex , the larger the percentage of neighbors of the vertex that belong to the community . on the other hand , the size of the vertices represents the percentage of vertices of the community that are actual neighbors of that vertex .",
    "the larger the size of the vertex , the more connected the vertex is with the other vertices of the community . in other words ,",
    "the color represents the size of the edge cut that disconnects the vertex from the rest of the graph , while the size represents the density of edges of the vertex that connects it with other vertices in the community .",
    "thus , the better the community is , the larger and darker are its vertices . in the figure",
    ", we see that the larger the @xmath0 of the community , the larger and darker are the vertices of the community , which means that they are more densely connected and better isolated from the rest of the graph .",
    "we see then , that there is a correlation between high @xmath0 values and good communities .",
    "the properties show that @xmath0 is a metric capable of favoring those communities with a large quantity of triangles involving all the vertices of the community .",
    "we are ensuring , like the informal community definition says , that all the vertices forming the community are highly connected among them .",
    "this property is not fulfilled by other proposed metrics , such as the conductance . compared to @xmath0 , which is based on triangles ,",
    "conductance is based on the edge cut .",
    "minimizing the cut is problematic because the partition consisting of a single community containing all the vertices of the graph has the best value , and thus it is the optimal community .",
    "this makes impossible to design algorithms that simply optimize conductance .",
    "properties  1 , 2 and  3 do not apply to conductance , because as soon as there is an edge connecting two communities or a single vertex connecting to a community , joining them into a single community will grant a better conductance value .    in the case of modularity",
    ", it suffers from resolution limits  @xcite .",
    "this resolution problem is exemplified in figure  [ fig : modularity_resolution ] , where the optimal communities for modularity are groups of two cliques . in this example , the communities found by optimal modularity contain a bridge , and thus they do not verify property 3 .",
    "however , the natural communities are the groups of five vertices forming cliques , which are the optimal communities for @xmath0 .",
    "the @xmath0 value of the five vertices clique is one , so having a partition with each clique as a community has the maximum @xmath0 value .",
    "furthermore , is has been shown  @xcite that trees , which can not be considered communities , can have arbitrarily large modularity .",
    "we show that @xmath0 is a metric that sees the communities in a local fashion , focusing in the internal density and the connections with their surroundings instead of the whole graph .",
    "modularity assumes that graphs are homogeneous , whereas they are not .    .",
    "]    . ]    . ]",
    "]    \\(a ) 0.09048    \\(b ) 0.14191    \\(c ) 0.25457    \\(d ) 0.31792    . ]    . ]    . ]    . ]    \\(e ) 0.52118    \\(f ) 0.65128    \\(g ) 0.78072    \\(h ) 0.92798",
    "in this section , we first select some of the most relevant community detection algorithms and analyze them . we use synthetically generated graphs from which we know the communities beforehand , to show that @xmath0 favors those community detection algorithms that best capture the actual communities .",
    "we also execute the algorithms on graphs from real world data .",
    "we prove experimentally that @xmath0 captures the nature of a community by studying the correlation of @xmath0 with statistical properties of the communities .",
    "the algorithms used to extract the communities are _ infomap _",
    "@xcite , which is based on random walks ; _ blondel _",
    "@xcite , which is based on multilevel maximization of modularity locally ; _ clauset _",
    "@xcite , which maximizes the modularity iteratively ; _ newman _",
    "@xcite , which maximizes modularity by exploiting the spectral properties of the graph and _ duch _",
    "@xcite , which uses heuristic search based on extremal optimization to optimize the modularity .",
    "we choose infomap and blondel because they are the best for detecting communities in social networks according to  @xcite .",
    "clauset , newman and duch are chosen because their popularity in the literature .",
    "the implementations of infomap , clauset and blondel are taken from their authors web . in the case of newman and duch ,",
    "we have used the radatools library  @xcite .",
    "our selection covers a wide range of community methods to test the validity of @xmath0 but does not intend to be an evaluation survey of all community methods . besides , other popular approaches in the literature , such as  @xcite among others , aim at overlapping communities which are also out of the scope of this paper .      in this section , we use synthetically generated graphs , where the communities are known beforehand .",
    "we build graphs of 10k vertices with social network topology with a generator  @xcite .",
    "we use the default parameters , which are typical of social networks ( used also in  @xcite ) .",
    "we vary the mixing factor , which is the percentage of edges that connect a vertex with other vertices outside the community , from 0.1 to 0.7 .",
    "the quality of the result for each algorithm is measured by the _ normalized mutual information _ ( nmi ) , which computes the overlap between the algorithm output and the benchmark  @xcite , and it is shown in figure  [ fig : sintetics](a ) .",
    "we see that infomap stands as the best algorithm , followed by blondel and duch at a small distance .",
    "we see that , the larger the mixing factor , the higher the difficulty to correctly find the communities by the algorithms .",
    "on the other hand , in figure  [ fig : sintetics](b ) we show the @xmath0 for each algorithm . in this case ,",
    "the best algorithm is again infomap .",
    "blondel and duch perform slightly worse than infomap , and clauset and newman stand as the worst algorithms of all in terms of @xmath0 .",
    "we observe that @xmath0 is a good model for the communities built by the benchmark .",
    "those algorithms with high nmi also have high @xmath0 .",
    "we quantify the correlation of both metrics in figure  [ fig : sintetics](c ) .",
    "we apply the kendall s rank correlation coefficient  @xcite , which compares two relations of order .",
    "a value of 1 indicates that the two metrics are fully correlated , while 0 indicates that no correlation is found .",
    "if the two metrics are inversely correlated the value is -1 .    in figure",
    "[ fig : sintetics](c ) , we observe that the agreement of both metrics is excellent . for all mixing factors , except for 0.2 and 0.6 , the kendall s tau correlation coefficient is 1 , which means that the correlation is perfect .",
    "only one pairwise comparison for 0.2 and 0.6 mixing factors is reversed , which correspond to the pair blondel - duch ( see figures  [ fig : sintetics ] ( a ) and ( b ) ) .",
    "however , in both cases the difference in nmi between both methods is tiny ( less than 1% ) , and thus , it is difficult to discern which community partition is better .",
    "moreover , for all mixing factors the kendall significance test ( significance 0.05 ) concludes that there is statistical evidence that both variables are correlated .",
    "overall , the average kendall correlation is 0.94 , which is very high . in other words ,",
    "the synthetic community generation procedure , which is not based on triangles , generates communities that match our community definition based on @xmath0 .",
    "therefore , we conclude that @xmath0 captures community structure effectively and that @xmath0 is an adequate indicator of the quality of the communities found in a graph .",
    "( a )    ( b )    ( c )      in this section , we show that there is a correllation between communities with good @xmath0 values and good statistics .",
    "we study the following measures : _ triangle density _ , which is the number of internal triangles in the community divided by the total number of possible internal triangles ; the _ average inverse edge cut _ , which is , the average number of neighbors of a vertex that belong to the same community divided by the total number of neighbors ; the _ average edge density _ , which is the average number of neighbors that a vertex has in the community divided by the total number of members of the community ; the _ modularity _ ; the _ conductance _ ; the _ normalized diameter _ , which is the diameter of the community divided by the logarithm of its size ; the _ bridge ratio _ , which is the percentage of edges in a community that are bridges ; and the vertex _ size _ of the communities .",
    "we create a pool of communities by running the community detection algorithms on four real world networks , covering different aspects of real world data .",
    "arxivcit is a citation network , arxivcol represents the collaborations between scientists , enron is derived from email communications and slashdot is extracted from a website social network .",
    "table  [ tab : real_graphs ] summarizes the graph properties .",
    "we sorted all the communities obtained by the five algorithms by their @xmath0 value decreasingly .",
    "then , we divided the communities into 20 groups in steps of five percentiles according to their @xmath0 and plotted for these 20 groups their correponding statistics in figure  [ fig : statistics_com ] .",
    "in all the charts , the x axis represents the group identifier ( e.g. the leftmost group is always the 95 percentile that contains the top 5% communities in terms of their @xmath0 ) while the y axis shows the corresponding statistical value .",
    "the communities of size one and two , are ommited since their @xmath22 value is always zero . as shown in figure  [ fig : statistics_com](a ) , the leftmost communities have high @xmath0 values , and the rightmost communities have the lowest @xmath0 values .",
    "broadly speaking , we observe two sections : from groups 1 to 12 , the trends for all statistics show that communities with higher @xmath0 have better properties ; from groups 13 to 20 this trend apparently changes in some statistics .",
    "we focus first on groups 1 - 12 and we analyze groups 13 - 20 below .",
    "\\(a ) wcc",
    "\\(b ) average inverse edge cut    \\(c ) average edge density",
    "\\(d ) triangle density    \\(e ) bridge ratio    \\(f ) diameter    \\(g ) modularity    \\(h ) conductance",
    "\\(i ) size    _ groups 1 - 12 : _ in figure  [ fig : statistics_com](b ) , we see that the larger the @xmath0 , the smaller the edge cut so , the number of external connections of the community decreases . on the other hand , in figure  [ fig : statistics_com](c ) we see that the larger the @xmath0 of a community , the larger the internal density of edges .",
    "while these two characteristics are a good starting point to identify a good community , they do not imply an internal structure which is shown in figure  [ fig : statistics_com](d ) : the larger the @xmath0 of a community , the larger its triangle density .",
    "these transitive relations between the vertices ( property 1 ) indicate a good social structure of the communities .",
    "figure  [ fig : statistics_com](e ) shows how bridges penalize @xmath0 .",
    "a large percentage of bridges is a symphtom of the presence of whiskers or treelike structures , which are inherently sparse and hence do not have the type of internal structure that one would expect from a community . we note that communities that contain bridges are not the optimal communities because of property 3 .",
    "a small diameter is another feature that any good community should have . in figure",
    "[ fig : statistics_com](f ) we see that large @xmath0 implies smaller diameters for the communities .",
    "this means that any vertex in the community is close to any other vertex , which translates to denser communities .    in figure",
    "[ fig : statistics_com](g - h ) we compare @xmath0 with the two other metrics in the state of the art : modularity and conductance .",
    "we see that there is a correlation between communities with good @xmath0 values and modularity and conductance ( for conductance , the lower , the better ) .",
    "finally , in figure  [ fig : statistics_com](j ) , we show the sizes of the communities .",
    "_ groups 13 - 20 : _ we see that there is a change on the trend for some statistics for those groups that have @xmath0 close to 0 .",
    "this behavior can be explained by figures  [ fig : statistics_com](d ) and ( e ) .",
    "these figures reveal that the communities after group 13 are treelike : almost all the edges in the community are bridges , and communities hardly contain triangles .",
    "therefore , such structures can not be accepted as good communities .",
    "although some communities in group 13 - 20 are isolated ( and thus have good conductance ) , we note that this is not a sufficient condition to be good communities . for example , most communities in groups 17 - 20 are trees with three vertices , which have a good conductance .",
    "as described in  @xcite , tree like networks can have high modularity and hence , algorithms maximizing it can lead to misleading results ( figure  [ fig : statistics_com](g ) ) .    finally , in figure  [ fig : executions ] we compare the different algorithms used in terms of @xmath0 .",
    "we see that the results obtained are similar to those obtained with synthetic graphs , with infomap outperforming the rest of the algorithms .",
    "however , we see that in this case , clauset performs at a level comparable to blondel and duch or even better .",
    "this might indicate that synthetic graphs fail at accurately represent the inhomogeneities and noise present in real graphs , so using this graphs only when evaluating the quality of community detection algorithms can derive to misleading results .     for communities from real graphs .",
    "although different metrics have been previously proposed to evaluate the quality of a graph partition into communities for social networks , these fulfill only partially the concept of community .",
    "even the most popular metrics applied in the state of the art ( modularity and conductance ) fail at meeting some minimal properties expectable for a social network communities , such as dealing with bridges , vertex cut , scalability on the community formation or imposing a minimal internal structure such as the triangle .",
    "the reason for this is that the current metrics are based on the informal definition of a community , which is unable to fully capture the community concept for social networks by its own .",
    "we conclude that the concept of community is strongly dependent on the domain of the graphs being analyzed , which is something that the current metrics do not take into account .",
    "this suggests that the definition of a minimal set of properties extending this formal definition is required , in order to exploit the inherent characteristics of the type of graph being analyzed and its semantics ( social networks in our paper ) .    in this paper",
    ", we proposed @xmath0 , which compares the quality of two graph community partitions .",
    "such a metric captures the community concept by meeting the enumerated minimal properties , enabling to distinguish a good from a bad community partition automatically .",
    "then , it is possible to compare the quality of algorithms or even design efficient community computing algorithms based on @xmath0 .",
    "we have shown experimentaly that communities with good @xmath0 values are dense , have small edge cuts , have transitive relations without bridges and small diameters .",
    "we have also shown that looking only at the internal density and small edge cuts does not guarantee well defined communities with internal structure , since it can lead to treelike communities .",
    "regarding the future work , an interesting problem related to that discussed in the paper is the location of overlapped communities in the graph .",
    "some graph patterns , such as cut vertices , can be naturally modeled as the overlap of two communities .",
    "the overlapped community problem , similarly to the non - overlapped case , has similar deficiencies in the sense that there is no formalization of a minimal set of properties that a metric should fulfill .",
    "therefore , our work will continue toward extending the community definition concepts and @xmath0 to the detection of overlapping communities .",
    "the members of dama - upc thank the ministry of science and innovation of spain and generalitat de catalunya , for grant numbers tin2009 - 14560-c03 - 03 and grc-1187 respectively , and ibm cas canada research for their strategic research grant .",
    "josep m.brunat thanks he ministry of science and innovation of spain and generalitat de catalunya for grant numbers mtm2011 - 24097 and dgr-2009sgr1040 respectively .",
    "david dominguez - sal thanks the ministry of science and innovation of spain for the grant torres quevedo ptq-11 - 04970 .",
    "\\(i ) this is a consequence of the inequalities @xmath80 and    @xmath81    \\(ii ) if @xmath35 , then at least one of the following three identities holds : @xmath31 , @xmath29 , and @xmath36 .",
    "now , each one of these conditions implies @xmath36 .",
    "reciprocally , by definition , if @xmath36 , then @xmath35 .",
    "\\(iii ) assume @xmath37 . by ( ii ) ,",
    "hence , there exists an edge @xmath83 and @xmath84 forming triangle with @xmath16 . then @xmath85 .",
    "as the two fractions defining @xmath23 are @xmath86 , the condition @xmath37 implies that both fractions are @xmath87 . the condition @xmath88 is equivalent to @xmath39 . since @xmath37 ,",
    "the inequality  ( [ dsf2 ] ) is an equality , and we have @xmath89 .",
    "reciprocally , the condition @xmath39 implies @xmath90 and @xmath91 . as @xmath92",
    ", we have that both fractions in the definition of @xmath23 have denominator @xmath93 and both fractions are @xmath87",
    ". therefore , @xmath37 .",
    "the proofs are a consequence of proposition  [ proposition : proposicionsnode ] .",
    "( i ) since @xmath94 @xmath95 , then @xmath41 .",
    "( ii ) @xmath96 implies that @xmath97 @xmath35 . since the condition for @xmath98 is that @xmath99 , then @xmath42 implies that @xmath6 has no triangles .",
    "( iii ) @xmath100 implies that for all @xmath45 @xmath37 .",
    "this implies that does not exist a vertex @xmath45 that @xmath101 and @xmath102 .",
    "thus , all the vertices @xmath20 form triangles only with and with all the other vertices in @xmath6 , which implies having an edge with all the vertices in @xmath6 , and hence forming a clique .",
    "let @xmath103 be the set of neighbors of @xmath60 .",
    "\\(i ) for @xmath34 , we have @xmath104 . now ,    @xmath105    then    @xmath106    \\(ii ) for @xmath107 ,    @xmath108    for @xmath109 , we have    @xmath110 .",
    "then ,    @xmath111    \\(iii ) we have ,    @xmath112    and the condition @xmath113 is equivalent to the condition    @xmath114    where    @xmath115    for short , let we denote by @xmath116 a polinomial expression of degree at most @xmath67 .",
    "then , the greatest solution of  ( [ segongrau ] ) is , @xmath117 and we get    @xmath118    thus , for a large enough @xmath48 , the condition    @xmath119 is equivalent to @xmath57 .",
    "note that the function @xmath120 is increasing in @xmath49",
    ". a greater value of @xmath49 means a greater cohesion in @xmath12 , and then a greater value of @xmath121 is needed for @xmath122 being greater than @xmath123 .    in the case of corollary  [ corollary : clique ] ,",
    "@xmath59 , thus @xmath124 .",
    "proof . let @xmath125 . for @xmath126",
    "we have @xmath127 , @xmath128 and @xmath129 .",
    "then ,    @xmath130    therefore ,    @xmath131    implies    @xmath132",
    "\\(i ) for the @xmath133 vertices @xmath134 , we have @xmath135 . for the vertex @xmath136",
    ", we have @xmath137 . finally , for the @xmath138 vertices @xmath139",
    ", we have @xmath140 . as @xmath141",
    ", we obtain the formula  ( [ f1 ] ) .",
    "\\(iv ) define @xmath150 , @xmath151 , and @xmath152 .",
    "the expression of these functions are those in  ( [ f1 ] ) , ( [ f2 ] ) and ( [ f3 ] ) , respectively .",
    "the goal is to show that for all integers values @xmath48 ,",
    "@xmath70 with @xmath153 the inequality @xmath154 holds .",
    "clearly , the first summand of @xmath155 is smaller than the first summand of @xmath156 , and the third summands are equal .",
    "then , to prove @xmath154 it is sufficient to compare the second summands . as the second sumand of @xmath157 , then @xmath154 .",
    "\\(v ) we shall prove @xmath158 for @xmath159 and @xmath160 .",
    "we have @xmath161 and @xmath162 the sign of @xmath163 is the sign of the polinomical function @xmath164 , which is a convex function on @xmath48 with roots :"
  ],
  "abstract_text": [
    "<S> community detection has arisen as one of the most relevant topics in the field of graph data mining due to its importance in many fields such as biology , social networks or network traffic analysis . </S>",
    "<S> the metrics proposed to shape communities are generic and follow two approaches : maximizing the internal density of such communities or reducing the connectivity of the internal vertices with those outside the community . </S>",
    "<S> however , these metrics take the edges as a set and do not consider the internal layout of the edges in the community . </S>",
    "<S> we define a set of properties oriented to social networks that ensure that communities are cohesive , structured and well defined . </S>",
    "<S> then , we propose the weighted community clustering ( @xmath0 ) , which is a community metric based on triangles . </S>",
    "<S> we proof that analyzing communities by triangles gives communities that fulfill the listed set of properties , in contrast to previous metrics . </S>",
    "<S> finally , we experimentally show that wcc correctly captures the concept of community in social networks using real and syntethic datasets , and compare statistically some of the most relevant community detection algorithms in the state of the art .    </S>",
    "<S> = 10000 = 10000 </S>"
  ]
}