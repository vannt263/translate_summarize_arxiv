{
  "article_text": [
    "providing incentives between parts in a shared economic environment is fundamental in any modern society .",
    "important examples arise for instance in wage negotiations between employer and employee , terms of insurance between insurance company and client and in contract formation between shareholder and portfolio manager . in the economics literature",
    "these problems are known as _ principal - agent problems _ , all having the common feature that a principal hires an agent to work in a certain project , possibly under moral - hazard , and wishes to find an optimal way of providing incentives . in this paper",
    "we present a general approach for characterizing such optimal contracts when the action of the agent is hidden information ( i.e. moral - hazard ) and incentives are delivered continuously in time .",
    "+ the precise structure of the principal - agent problem goes as follows : the principal employs the agent to manage a certain well - defined noisy asset over a fixed period of time . for his / her efforts the agent receives a compensation",
    "according to some agreement , set before the period starts .",
    "it could for instance involve a lump - sum payment at the end of the period , a continuously paying cash - flow during the period , or both .",
    "depending on what information the principle has at hand to form such an agreement , one distinguishes between two distinct cases ; the _ full information_- and the _ hidden action - problem_. the full information case differs from the hidden action case in that the principal can observe the actions of the agent in addition to the evolution of the asset .",
    "therefore , under full information the principal is allowed to tailor a contract based on both outcome and effort , not only outcome as for hidden actions . in both cases",
    "the contract is constrained by the agent via a so called _ participation constraint _ , clarifying the minimum requirements of the agent to engage in the project . under hidden action",
    "the contract is further constrained by the _ incentive compatibility _ condition , meaning that as soon as a contract is assigned the agent will act as to maximize his / her own utility and not necessarily that of the principal .",
    "+ the first paper in which a continuous time version of the principal - agent problem appears is @xcite by holmstrm and milgrom .",
    "they consider a model in which the agent takes action in continuous time over a finite period and gets rewarded by the principal at the end of this period .",
    "in particular , for exponential utility functions they prove the optimal contract to be linear with respect to the output . in 1993",
    "schtter and sung @xcite generalized this seminal paper by suggesting a general mathematical framework based on the dynamic programming principle and martingale methods to characterize implementable contracts for a rich class of continuous time models , still though involving lump - sum payments .    in recent years",
    "the interest in continuous time versions of the principal - agent problem has flourished , mainly because of the available mathematical machinery that offers tractable ways to resolve technical difficulties in discrete time models .",
    "the literature has therefore grown substantially , with contributions from many authors , including cvitani , wan and zhang @xcite , sannikov @xcite , westerfield @xcite and williams @xcite .",
    "a thorough presentation of the field ( with an emphasis on the mathematical aspects that arise ) can be found in the book @xcite by cvitani and zhang .",
    "+ in the present literature the paper closest to ours is @xcite .",
    "the aim of that article is to characterize optimal contracts as continuously paying cash - flows in a very general setting , both in full information and under hidden action ( with the additional possibility to involve hidden savings of the agent ) .",
    "his idea is to attack the problem by applying the stochastic maximum principle suggested in bismut @xcite .",
    "an explicit example is constructed as a fully dynamical analogue of the exponential utility model by holmstrm and milgrom , and is solved by using methods involving the dynamical programming principle and the hjb - equation .",
    "the book @xcite by cvitani and zhang has a similar approach , covering a very general class of principal - agent problems ( involving both lump - sum payments and cash - flows ) and using techniques from stochastic optimal control , including martingale methods .",
    "+ our goal is to study a general stochastic and fully dynamical principal - agent problem under hidden actions by applying generalizations of pontryagin s maximum principle .",
    "the idea is to first consider the agent s problem ( assuming a given continuously paying cash - flow as an adapted stochastic process ) and characterize the optimal effort . by incentive compatibility",
    "we then proceed to the principal s problem which becomes a state constrained optimal control problem for which we characterize cash - flow optimality . following that scheme we end up with a coupled pair of stochastic optimization problems .",
    "the key required to set up the principal - agent problem in this way is ( as also pointed out by yong in @xcite ) access to fundamental results concerning existence and uniqueness of solutions to forward - backward stochastic differential equations ( from now on fbsdes ) .",
    "the theory of fbsdes is far from complete but well established in the stochastic analysis literature ( see e.g. @xcite , @xcite , @xcite , @xcite , @xcite , @xcite ) and constrained optimal control of such equations has been studied for instance in ji and zhou @xcite and ji and wei @xcite .",
    "the reason to approach the problem by means of the stochastic maximum principle is twofold : firstly , the method is versatile and does not rely on the dynamic programming principle which opens up the possibility to study models where the hjb - equation does not apply , such as non - markovian dynamics and performance functionals of mean - field type , including risk measures such as the variance .",
    "secondly , it is possible to extend the maximum principle to include state constrained problems without adding any significant difficulty .",
    "it is therefore suitable for explicit calculation .",
    "+ comparing our approach to what is done in @xcite we are able to state a full characterization of optimality of the principal - agent problem ( i.e. characterizing optimal controls of both the agent and the principal satisfying the participation constraint ) whereas williams only solves the agent s problem .",
    "we further believe that our method is simpler to overview and more accessible .",
    "our contribution to the existing literature should be regarded as mathematical rather than economical .",
    "we present a general framework for solving a class of principal - agent problems , without claiming or investigating possible consequences in economy .",
    "the main results of our study are presented in theorem [ theproblemmainthm ] and theorem [ hiddenactionmainthm ] in which full characterizations of optimal contracts is stated for two different models .",
    "+ the paper is organized as follows : in section 2 we present mathematical results from stochastic optimal control that are required for our purposes .",
    "section 3 is devoted to formulating the classes of principal - agent problems under study and to characterize optimal contracts by means of the results in section 2 . in section 4",
    "we make the general approach of the previous sections concrete by a fully solved example in the linear - quadratic ( lq)-setting . as a numerical result we find an interesting and rather counterintuitive behavior of the optimal contract , suggesting a `` win - win '' relation between the principal and the agent .",
    "finally , in section 5 we briefly discuss what we have chosen to call _ a view towards hidden actions in the strong formulation _ , meaning that the principal proposes a cash - flow to the agent explicitly given as a markovian ( or feedback type ) function of output . by a simple example it becomes clear that this case is much more difficult to handle and it does not quite fit into the present framework .",
    "let @xmath0 be a fixed time horizon and @xmath1 be a filtered probability space satisfying the usual conditions , on which a @xmath2-dimensional brownian motion @xmath3 is defined .",
    "we let @xmath4 be the natural filtration generated by @xmath5 , augmented by all @xmath6-null sets @xmath7 , i.e. @xmath8 where @xmath9 .",
    "+ consider the following control system : @xmath10\\\\      x(0 ) = x_0      \\end{array } \\right.\\ ] ] with a cost functional of the form @xmath11 .",
    "\\label{introcostfunc1}\\ ] ] in the most general setting we assume that @xmath12 \\times { \\mathbb{r}}^n \\times u \\rightarrow { \\mathbb{r}}^n$ ] , @xmath13 \\times { \\mathbb{r}}^n \\rightarrow { \\mathbb{r}}^{n \\times d}$ ] , @xmath14 \\times { \\mathbb{r}}^n \\times u \\rightarrow { \\mathbb{r}}$ ] and @xmath15 where @xmath16 we require the following assumptions to hold :    ( s1 ) : :    @xmath17 is a separable metric space . ( s2 ) : :    the maps @xmath18 , @xmath19 , @xmath20 and    @xmath21 are measurable and there exists a constant    @xmath22 and a modulus of continuity    @xmath23 such    that for    @xmath24    it holds that @xmath25,\\hspace{0.2 cm } x , \\hat{x } \\in { \\mathbb{r}}^n , u , \\hat{u } \\in u\\\\                    |\\varphi(t,0,u)| \\leq l , \\hspace{0.2 cm } \\forall ( t , u ) \\in [ 0,t ] \\times u \\vspace{0.2 cm }                \\end{array }            \\right.\\ ] ] ( s3 ) : :    the maps @xmath18 , @xmath19 , @xmath20 and    @xmath21 are @xmath26 in @xmath27 . moreover    there exists a constant @xmath22 and a modulus of    continuity    @xmath23 such    that for    @xmath24    it holds that @xmath28,\\hspace{0.2 cm } x , \\hat{x } \\in { \\mathbb{r}}^n,\\hspace{0.2 cm } u , \\hat{u } \\in u                \\end{array }            \\right.\\ ] ]    finally we define the space of _ admissible controls _ as @xmath29 : = \\left\\ { u : [ 0,t ] \\times \\omega \\rightarrow u ; \\,\\,\\ , u \\text { is } \\ { \\mathcal{f}_t \\}_{t \\geq 0 } \\text{-adapted } \\right\\}\\ ] ] and",
    "formulate our optimal control problem :    problem ( s ) : :    minimize ( [ introcostfunc1 ] ) over @xmath30 $ ] .",
    "any @xmath31 $ ] satisfying @xmath32 } } \\mathcal{j}(u(\\cdot ) ) \\vspace{0.2cm}\\ ] ] is called an _ optimal control _ and the corresponding @xmath33 is called the _",
    "optimal state process_. we will refer to @xmath34 as an _ optimal pair_. we are now ready to state the celebrated stochastic maximum principle , providing necessary conditions for optimality in problem ( s ) .    let the regularity conditions in ( s1)-(s3 ) hold and consider an optimal pair @xmath34 of problem ( s ) .",
    "then there exists a pair of processes @xmath35 , where @xmath36 , satisfying the adjoint equation @xmath37 such that @xmath38 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ] where the hamiltonian function @xmath39 is given by @xmath40 - f(t , x , u)\\ ] ] for @xmath41 \\times { \\mathbb{r}}^n \\times u \\times { \\mathbb{r}}^n \\times { \\mathbb{r}}^{n \\times d}$ ] .",
    "[ introthmsmp1 ]    it is important to remember that theorem [ introthmsmp1 ] merely states a set of necessary conditions for optimality in ( s ) .",
    "it does not claim the existence of such .",
    "existence of stochastic optimal controls ( both in the strong and the weak sense ) has been a subject of study since the sixties ( see e.g. @xcite ) and , at least for strong solutions , the results seem to depend a lot upon the statement of the problem . in the weak sense ,",
    "an account of existence results is to be found in @xcite ( theorem 5.3 , p. 71 ) .",
    "[ intrormkexistence ]    restricting the space @xmath42 to be convex allows for a controlled diffusion coefficient @xmath43 , without changing the conclusion of theorem [ introthmsmp1 ] . in the case of a non - convex control space",
    "the stochastic maximum principle with controlled diffusion was proven in @xcite and requires a solution @xmath44 of an additional adjoint bsde .",
    "we choose to leave this most general form as reference in order to keep the presentation clear .",
    "[ introremarkthmsmp1 ]    as pointed out in remark [ intrormkexistence ] it is a non - trivial task to prove the existence of an optimal pair @xmath34 in a general stochastic control model . under the additional assumptions    ( s4 ) : :    the control domain @xmath42 is a convex body in    @xmath45 .",
    "the maps @xmath18 ,    @xmath19 and @xmath20 are locally lipschitz in    @xmath46 and their derivatives in @xmath27 are    continuous in @xmath47 ,    the following theorem provides sufficient conditions for optimality in ( s ) .    assume conditions ( s1)-(s4 ) and let @xmath48 be an admissible 4-tuple .",
    "suppose that @xmath49 is convex , @xmath50 is concave for all @xmath51 $ ] @xmath6-a.s . and @xmath38 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ]",
    "then @xmath34 is an optimal pair for problem ( s ) .    for the sake of simplicity , from now on we will only consider the case @xmath52 and assume the functions @xmath18 , @xmath19 , @xmath20 to be @xmath53-valued .",
    "we will also restrict our selves to consider the case in which @xmath54 , equipped with the usual euclidean metric . +",
    "the stochastic maximum principle has since the early days of the subject ( in pioneering papers by e.g. bismut and bensoussan in @xcite and @xcite ) developed a lot and do by now apply to a wide range of problems more general than ( s ) ( see for instance @xcite , @xcite @xcite , @xcite , to mention a few ) .",
    "for our purposes it will be necessary to have a refined version of theorem [ introthmsmp1 ] , characterizing optimal controls in a fbsde - dynamical setting under state constraints .",
    "more precisely we wish to consider a stochastically controlled system of the form @xmath55 with respect to a cost - functional @xmath56 ,      \\label{introcostfunc2}\\ ] ] but also with respect to a set of state constraints @xmath57 : = \\vspace{0.3cm}\\\\      \\left (      \\begin{array}{l }          { \\mathbb{e}}\\left [ \\int_0^t f^1(t , x(t ) , y(t ) , z(t ) , u(t ) ) dt + h^1(x(t ) ) + g^1(y(0 ) ) \\right]\\\\          \\hspace{4cm}\\vdots\\\\          { \\mathbb{e}}\\left [ \\int_0^t f^l(t , x(t ) , y(t ) , z(t ) , u(t ) ) dt + h^l(x(t ) ) + g^l(y(0 ) ) \\right ]      \\end{array }      \\right ) \\in \\lambda ,      \\end{array }      \\label{introstateconstraints}\\ ] ] for some closed and convex set @xmath58 . the optimal control problem is :    problem ( sc ) : :    minimize ( [ introcostfunc2 ] ) subject to the state constraints    ( [ introstateconstraints ] ) over the set @xmath30 $ ] .    to get a good maximum principle for ( sc )",
    "we require some further regularity conditions ensuring solvability of ( [ introfbsdesyst ] ) .",
    "these conditions , denoted by ( sc1)-(sc3 ) are stated below and can be found in @xcite . all coefficient functions , and hence all @xmath59 ,",
    "are considered to be real valued .",
    "+ let @xmath60 and introduce the following notation : @xmath61 we assume the existence of a nonzero constant @xmath62 so that : @xmath63 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})\\\\          \\hspace{0.4cm}\\text { for each } \\mathbf{v } \\in",
    "{ \\mathbb{r}}^3\\vspace{0.2cm}\\\\          \\text{(iii ) } \\varphi(x ) \\text { is uniformly lipschitz with respect to } x\\in { \\mathbb{r}}\\vspace{0.2cm}\\\\          \\text{(iv ) } \\varphi(x ) \\in l^2(\\omega , \\mathcal{f}_t , \\mathbb{p};{\\mathbb{r } } ) \\text { for } x\\in { \\mathbb{r}}\\vspace{0.2 cm }      \\end{array } \\right.\\ ] ] @xmath64 conditions ( sc1 ) and ( sc2 ) were first introduced in @xcite to study existence and uniqueness of fully coupled fbsdes . the monotonicity property ( sc2 )",
    "is sometimes called @xmath62-monotonicity of @xmath65 .",
    "we further assume that : @xmath66    for convenience , we will use the following notation throughout the paper .",
    "for @xmath67 , etc , we define , @xmath68 whenever , @xmath69 is an optimal 4-tuple of problem ( sc ) , where @xmath46 is an admissible control . + we are now ready to formulate the state constrained stochastic maximum principle for fully coupled fbsdes .",
    "let the regularity conditions in ( sc1)-(sc3 ) hold and assume @xmath58 to be a closed and convex set .",
    "if @xmath69 is an optimal 4-tuple of problem ( sc ) , then there exists a vector @xmath70 such that @xmath71 satisfying the transversality condition @xmath72 \\rangle \\geq 0 , \\hspace{0.5 cm } \\forall v \\in \\lambda          \\label{introtransversalitycond}\\ ] ] and a 3-tuple @xmath73 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})$ ] of solutions to the adjoint fbsde @xmath74 , p(t ) = -\\varphi_x({\\bar x}(t))r(t ) - \\sum_{i=0}^l \\lambda_i h_x^i({\\bar x}(t ) ) ,          \\end{array }          \\label{introfbsdeconstsmp }      \\right.\\ ] ] such that @xmath75 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ] where the hamiltonian function @xmath39 is given by @xmath76 [ introconstrainedsmpthm ]    a maximum principle of fbsdes similar to the above has been studied in @xcite and @xcite , though under so called terminal state constraints . to the best of our knowledge the proof of theorem [ introconstrainedsmpthm ] is not in the literature , but the arguments closely follow those in the proof of an analogue theorem for controlling sdes rather than fbsdes . for the sake of completeness we present the full proof , yet pointing out the close overlap with a similar theorem in @xcite ( theorem 6.1 , p. 144 ) .",
    "some necessary but technical results that are required are presented in appendix [ appendixtechthms ] .",
    "first we introduce the notation : @xmath77 by adding a proper constant to the cost functional we may without loss of generality assume that @xmath78 . for any @xmath79 define @xmath80 ^ 2 + d_{\\lambda } ( \\mathbb{e}\\mathbf{x}(t))^2 \\}^{1/2}\\ ] ] where @xmath81 is the metric measuring the distance from any point in @xmath82 to the closed and convex set @xmath83 , i.e. @xmath84 by the fact that @xmath85,\\bar{d})$ ] is a complete metric space when @xmath86 \\times \\omega : u(t,\\omega ) \\neq \\tilde{u}(t,\\omega ) \\}| , \\hspace{0.3 cm } \\forall u(\\cdot ) , \\tilde{u}(\\cdot ) \\in \\mathcal{u}[0,t],\\ ] ] ( see lemma [ appendixmetriclemma ] ) ekeland s variational principle ( corollary [ appendixekelandcor ] ) applied to @xmath87 ensures the existence of a @xmath88 $ ] being optimal to the problem of controlling ( [ introfbsdesyst ] ) with respect to the cost functional @xmath89 .",
    "furthermore it holds ( also by ekeland s principle ) that @xmath90 so the control @xmath91 is close to the state constrained optimal control @xmath92 .",
    "the idea is now to derive necessary conditions for optimality of @xmath91 and then let @xmath93 .",
    "+ fix a @xmath79 and a @xmath94 $ ] and consider the spike variation @xmath95 \\backslash e_{\\varepsilon},\\\\          u(t),\\,\\ , t \\in e_{\\varepsilon } ,      \\end{array }      \\right.\\ ] ] for any given @xmath96 and borel measurable set @xmath97 $ ] with @xmath98 .",
    "clearly @xmath99 so by the optimality of @xmath100 and a taylor expansion we get @xmath101 \\rangle = \\\\      \\hspace{0.5cm}\\vspace{0.2cm}= \\mathbb{e}\\left [ \\sum_{i = 0}^l \\lambda_{\\rho}^{i,\\varepsilon } \\left\\ { \\int_0^t f^i(t , x_{\\rho}^{\\varepsilon}(t ) , y_{\\rho}^{\\varepsilon}(t ) , z_{\\rho}^{\\varepsilon}(t ) , u_{\\rho}^{\\varepsilon}(t ) ) - f^i(t , x_{\\rho}(t ) , y_{\\rho}(t ) , z_{\\rho}(t ) , u_{\\rho}(t ) ) dt \\right . \\right.\\\\      \\hspace{1.5cm}\\vspace{0.2 cm } \\left . \\left .",
    "+ ( h^i(x_{\\rho}^{\\varepsilon}(t ) ) - h^i(x_{\\rho}(t ) ) ) + ( g^i(y_{\\rho}^{\\varepsilon}(0 ) ) - g^i(y_{\\rho}(0 ) ) ) \\right\\ } \\right ]      \\end{array }      \\label{introcsmpestimate1}\\ ] ] where the linear approximation factors are @xmath102^+}{\\mathcal{j}_{\\rho}(u_{\\rho}(\\cdot ) ) } + o(1 ) ,      \\label{introfactor1}\\ ] ] @xmath103 ) \\partial d_{\\lambda } ( \\mathbb{e}[\\mathbf{x}_{\\rho}(t ) ] ) } { \\mathcal{j}_{\\rho}(u_{\\rho}(\\cdot ) ) } + o(1 ) ,      \\label{introfactor2}\\ ] ] and @xmath104 . by the variational inequality in @xcite ( lemma 3.5 , p. 163 )",
    "we get that the inequality in ( [ introcsmpestimate1 ] ) can be estimated further so that @xmath105 + o(\\varepsilon ) ,      \\end{array}\\ ] ] where the processes @xmath106 solve the variational fbsde - system : @xmath107 consider the following adjoint equations : @xmath108 dt\\\\      \\hspace{3 cm } \\vspace{0.2cm}+ \\left [ c_z(t)r_{\\rho}^{\\varepsilon}(t ) - b_z(t)p_{\\rho}^{\\varepsilon}(t ) - \\sigma_z(t)q_{\\rho}^{\\varepsilon}(t ) - \\sum_{i=0}^l \\lambda_{\\rho}^{i,\\varepsilon } f_z^i(t ) \\right ] dw_t\\\\      \\vspace{0.2 cm } dp_{\\rho}^{\\varepsilon}(t ) = - \\left [ c_x(t)r_{\\rho}^{\\varepsilon}(t ) - b_x(t)p_{\\rho}^{\\varepsilon}(t ) - \\sigma_x(t)q_{\\rho}^{\\varepsilon}(t ) -",
    "\\sum_{i=0}^l \\lambda_{\\rho}^{i,\\varepsilon } f_x^i(t ) \\right ] dt + q_{\\rho}^{\\varepsilon}(t ) dw_t\\\\      \\vspace{0.2 cm } r_{\\rho}^{\\varepsilon}(0 ) = -\\mathbb{e } \\left [ \\sum_{i=0}^l \\lambda_{\\rho}^{i,\\varepsilon } g^i(y(0 ) ) \\right ] , \\hspace{0.2 cm } p_{\\rho}^{\\varepsilon}(t ) = -\\varphi_x(x(t))r_{\\rho}^{\\varepsilon}(t ) + \\sum_{i=0}^l \\lambda_{\\rho}^{i,\\varepsilon } h_x^i(x(t ) )      \\end{array } \\right.\\ ] ] by the duality relation in @xcite ( in the proof of theorem 4.1 , p. 168 )",
    "we then get that @xmath109 \\leq \\sqrt{\\rho } \\varepsilon + o(\\varepsilon )      \\label{introinthamest}\\ ] ] where the hamiltonian @xmath110 is @xmath111 and further , by ( [ introfactor1 ] ) and ( [ introfactor2 ] ) and a property of clarke s generalized gradient @xmath112 ( see lemma [ appendixmetric2lemma ] ) , there exists a choice of multipliers @xmath113 such that @xmath114 thus , there is a subsequence , still denoted by @xmath115 , such that @xmath116 for some @xmath117 such that @xmath118 furthermore , by @xcite , we have strong convergence in @xmath119 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})$ ] of ( adapted ) solutions to the fbsdes : @xmath120 for the limit properties of the hamiltonian , let @xmath121 $ ] for an arbitrary @xmath122 $ ] and let @xmath123 be an arbitrary set in @xmath124 and consider the control @xmath125 , for an arbitrary @xmath126 in ( [ introinthamest ] ) . dividing ( [ introinthamest ] ) by @xmath127 and then approaching the limit @xmath128 yields @xmath129 finally , let @xmath93 . by choosing a subsequence and using ( [ introlagmultrho ] )",
    "we may assume that @xmath130 for which ( [ introlagmult ] ) holds .",
    "furthermore , by the fact that @xmath131 and the theorem on continuous dependence of a parameter in fbsdes in @xcite we have strong convergence of @xmath132 to a triple @xmath133 satisfying ( [ introfbsdeconstsmp ] ) .",
    "the transversality condition ( [ introtransversalitycond ] ) follows in the limit @xmath134 from the definition of @xmath135 and @xmath136 since then we have the inequality @xmath137",
    "\\rangle \\geq - o(1 ) , \\hspace{0.2 cm } \\text { as } \\varepsilon \\rightarrow 0.$ ]    as in remark [ introremarkthmsmp1 ] , analogue principles hold in theorem [ introconstrainedsmpthm ] .",
    "the present literature of principal - agent problems in continuous time covers several different ( although related ) models .",
    "basically two of these are fundamental and of particular interest ; the _ full information _ case and the _ hidden action _ case . in this section",
    "we develop a method of characterizing optimal contracts in the hidden action regime , based solely on the framework presented in section [ preliminaries ] .",
    "+ the common setup of the principal - agent problem under hidden action is inspired by the seminal paper of holmstrm - milgrom ( see @xcite ) and is well treated , for instance , in @xcite and @xcite . because of the considerable difficulty arising in such models the usual approach is to state the problem in the _ weak form _ , which is a mathematically related ( but not equivalent ) problem .",
    "the sole reason for this mathematical difficulty lies at the heart of the problem formulation , namely the asymmetric flow of information between the principal and the agent .",
    "+ in what follows we first consider a model under hidden action deviating from classical formulation by allowing the principal to observe more information than what is usually done ( the full filtration generated by the noise ) .",
    "the advantage of this being that we get a problem which is mathematically tractable in the strong formulation , whereas the disadvantage is the immediate reduction of realism .",
    "we will refer to this model as the _ hidden contract _ model .",
    "after this we explain how the weak formulation of the classical principal - agent problem is contained in the hidden contract framework .",
    "we end the section with a discussion of the models and future prospects .",
    "+      consider a principal - agent model where output @xmath138 is modelled as a risky asset solving the sde : @xmath139 , \\\\",
    "x(0 ) = 0 ,      \\end{array } \\right.\\ ] ] here @xmath0 and @xmath140 is a 1-dimensional standard brownian motion defined on the filtered probability space @xmath1 .",
    "the functions @xmath20 and @xmath19 represent production rate and volatility respectively , and we assume both of them satisfy the regularity conditions ( s2)-(s3 ) from the previous section .",
    "the process @xmath141 represents the agent s level of effort , taking values in some predefined subset @xmath142 ( typically @xmath143 $ ] for some non - negative @xmath144 , or @xmath145 ) and is required to belong to @xmath146 $ ] , where @xmath147 : = \\ { e : [ 0,t ] \\times \\omega \\rightarrow e ; \\hspace{0.2 cm } e \\text { is } \\mathcal{f}_t \\text{-adapted } \\}\\ ] ] we consider the case of hidden actions meaning that the principal can not observe the effort @xmath141 .",
    "output , however , is always public information and observed by both the principal and the agent . in this model",
    "we relax the public information structure to include also the brownian noise , i.e. the filtration @xmath4 rather than @xmath148 .",
    "thus , apart from the effort policy , the principal and the agent have access to the same information .",
    "before the period starts the principal specifies an @xmath4-adapted cash - flow @xmath149 ( typically non - negative ) for all @xmath51 $ ] , thus compensating the agent for costly effort in managing @xmath150 and by that providing incentives .",
    "just as for the effort we assume @xmath151 for all @xmath51 $ ] and some subset @xmath152 and require @xmath153 $ ] , where @xmath154 : = \\ { s : [ 0,t ] \\times \\omega \\rightarrow s ;   \\hspace{0.2 cm } s \\text { is } \\mathcal{f}_t \\text{-adapted } \\}.\\ ] ] the principal is not constrained by any means and can , in principle , commit to any process @xmath153 $ ] .",
    "+ in this model we consider cost functionals @xmath155 and @xmath156 of the principal and the agent respectively of the following form : @xmath157      \\label{theproblemagentcost}\\ ] ] and @xmath158.\\ ] ] the agent will accept @xmath149 and start working for the principal only if it fulfills the participation constraint : @xmath159 for some , typically negative , constant @xmath160 . by assuming incentive compatibility , meaning that the agent will act as to optimize @xmath156 in response to any given @xmath149",
    ", we may think of the principal - agent problem as divided into two coupled problems ; _ the agent s problem _ and _ the principal s problem_. + * the agent s problem : * given any @xmath153 $ ] ( which we assume do satisfy the participation constraint ( [ theproblempartconst ] ) ) the agent s problem is to find a process @xmath161 $ ] such that @xmath162 } } \\mathcal{j}_a(e(\\cdot);s).\\ ] ] + * the principal s problem : * given that the agent s problem has an optimal solution @xmath163 the principal s problem is to find a process @xmath164 $ ] such that @xmath165 } } \\mathcal{j}_p(s(\\cdot))\\ ] ] and @xmath166 + in this context the following definition is natural .",
    "an _ optimal contract _ is a pair @xmath167 \\times \\mathcal{s}[0,t]$ ] obtained by sequentially solving the agents- and the principal s problem .    in the language of game theory an optimal contract",
    "can thus be thought of as a stackelberg - equilibrium in a two - player non - zero - sum game .",
    "+    in the classical formulation of the problem the principal is only allowed to write a contract based on his / her observation of output .",
    "thus , rather than being adapted to @xmath4 the process @xmath149 must be adapted to the smaller filtration @xmath168 . in that case",
    "the most general structure of a cash - flow is @xmath169 , where @xmath170 denotes the history of output in the time interval @xmath171 $ ] .",
    "the restriction of having @xmath172 adapted to @xmath168 complicates the mathematical treatment in the strong formulation and one has to consult the framework of weak solutions of sdes . in the above formulation of the model we do allow for a general cash - flow",
    "to be @xmath4-adapted .",
    "since the agent can not control the noise he / she has no use of the precise structure of @xmath149 and we may therefore regard it as hidden information , thus motivating the name _",
    "hidden contract_. the agent influence",
    "the contract through [ theproblempartconst ] and reacts to it by choosing optimal effort as the project starts .",
    "+ for applications it is of course not realistic to assume a reasonable contract to be purely @xmath4-adapted .",
    "however , as we develop the scheme of solving the hidden contract model it becomes clear that many cases allow for @xmath168-adapted optimal cash - flows @xmath149 .",
    "this is in line with present literature in full information - models ( e.g. @xcite ) and motivates our approach .",
    "it is important to note that even though the principal can not observe the agent s effort , he / she can still offer the agent a contract by suggesting a choice of effort @xmath141 and a compensation @xmath149 .",
    "however , by incentive compatibility the principal knows that the agent will only follow such a contract if the suggested effort solves the agent s problem . in order to find the optimal suggested effort , @xmath163",
    ", the principal must therefore have information of the agent s preferences , i.e. the functions @xmath46 and @xmath173 .",
    "the realism of such an assumption is indeed questionable but nevertheless necessary in our formulation due to the participation constraint . in order to make the intuition clear and to avoid any confusion",
    "we adopt the convention that the principal has full information of the agent s preferences @xmath46 and @xmath173 .",
    "of course , this does not serve any mathematical purpose , it solely gives a tractable way of thinking of how actual contracting is realized .",
    "+ thus , the principal can predict any optimal effort @xmath163 of the agent s problem and by that suggest an optimal contract @xmath174 , if it exists .",
    "+ the idea is now to apply the methods from section [ preliminaries ] to characterize optimal contracts in the general principal - agent model presented above .",
    "the agent s problem is standard in stochastic optimal control of sdes , with hamiltonian @xmath175 therefore , by theorem [ introthmsmp1 ] we have for any optimal pair @xmath176 of the agent s problem the existence of a pair of adjoint processes @xmath177 solving the bsde : @xmath178 for which @xmath179 for a.e .",
    "@xmath51 $ ] and @xmath180-a.s .",
    "in many applications relation ( [ theproblemagenthammax ] ) is sufficient in order to find a closed form expression for @xmath181 directly , but not always . before proceeding to the principal s problem we assume such a closed form expression and write @xmath182 where @xmath183 is a function having sufficient regularity to allow for existence of a unique solution to the fbsde ( [ theproblemfbsde ] ) below .    in the above formulation",
    "the agent is reacting to a cash - flow @xmath149 given solely as an @xmath184-adapted process @xmath185",
    "\\times \\omega \\rightarrow s$ ] .",
    "thus the more refined structure of @xmath186 , for instance its dependence of @xmath27 , is unknown to the agent .",
    "the case in which @xmath186 is given as a function of output is briefly discussed in section  [ paymentbyresultcontracting ] .",
    "the precise regularity theory of @xmath187 following from the general setup of the agent s problem is rather involved .",
    "in particular , consider the special case when : @xmath188 , @xmath189 , @xmath190 , @xmath191 where @xmath192 as @xmath193 , @xmath194 and @xmath195 for a suitable constant @xmath196 , @xmath197 for suitable constants @xmath198 and @xmath199 , and @xmath200 whenever @xmath201 for suitable @xmath202 . then @xmath187 is a _ markov control policy _ ,",
    "i.e. a continuous function in all variables , being lipschitz continuous on discs and of linear growth in @xmath27 ( see e.g. @xcite , theorem 11.1 p. 206 ) .    based on the information given by @xmath187 the principal wishes to minimize the cost @xmath155 by selecting a process @xmath149 respecting ( [ theproblempartconst ] ) .",
    "the dynamics of the corresponding control problem is , in contrast to the simple sde of the agent s problem , a fbsde built up by the output sde coupled to the agent s adjoint bsde . more precisely : @xmath203 since the participation constraint ( [ theproblempartconst ] ) is closed and convex ( i.e. the constraint set @xmath204 is closed and convex ) we can , under suitable regularity of the coefficients in ( [ theproblemfbsde ] ) , apply theorem [ introconstrainedsmpthm ] to characterize optimality in the principal s problem .",
    "therefore , with the hamiltonian of the principal given by @xmath205 we have for any optimal 4-tuple @xmath206 of the principal s problem the existence of lagrange multipliers @xmath207 satisfying @xmath208 and a triple of adjoint processes @xmath209 solving the fbsde : @xmath210 \\cdot r_t\\\\          \\vspace{0.2cm}\\hspace{1cm}\\left.- \\partial_p f ( t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t)))\\cdot p(t)\\right.\\\\          \\vspace{0.2cm}\\hspace{2.8cm}\\left.+ \\lambda_a \\partial_p u ( t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t)),\\bar{s}(t))\\right\\ } dt\\\\          \\vspace{0.2cm}\\hspace{0.7cm}+\\left\\ { \\left [ \\partial_q f_x(t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t ) ) ) \\bar{p}(t ) + \\sigma_x(t , \\bar{x}(t))\\right.\\right.\\\\          \\vspace{0.2cm}\\hspace{2.8cm}\\left.\\left.- \\partial_{q } u_x ( t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t)),\\bar{s}(t ) ) \\right ] \\cdot r_t \\right.\\\\          \\hspace{1cm}\\vspace{0.2cm}\\left.-",
    "\\partial_q f(t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t ) ) ) \\cdot p(t)\\right.\\\\          \\vspace{0.4cm}\\hspace{2.8cm}\\left.+ \\lambda_a \\partial_q u ( t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t)),\\bar{s}(t ) ) \\right\\ } dw_t,\\\\          \\vspace{0.2cm}dp(t ) = -\\left\\ { - \\left [ \\partial_x f_x(t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t ) ) ) \\bar{p}(t ) + \\sigma_{xx}(t , \\bar{x}(t ) ) \\bar{q}(t)\\right.\\right.\\\\          \\hspace{2.8cm}\\vspace{0.2cm}\\left.\\left.- \\partial_{x } u_x ( t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t)),\\bar{s}(t ) ) \\right ] \\cdot r_t\\right.\\\\          \\vspace{0.2cm}\\hspace{1cm}\\left.+ \\partial_x f(t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t ) ) \\cdot p(t)+ \\sigma_x ( t , \\bar{x}(t ) ) \\cdot q(t)\\right.\\\\          \\hspace{1cm}\\vspace{0.2cm}\\left . - \\lambda_a \\partial_{x } u(t , \\bar{x}(t ) , e^*(t , \\bar{x}(t ) , \\bar{p}(t ) , \\bar{q}(t ) , \\bar{s}(t)),\\bar{s}(t ) ) - \\lambda_p \\mathcal{u}_x ( t,\\bar{x}(t),s(t ) ) \\right\\ } dt\\\\          \\hspace{1cm}\\vspace{0.2cm}+ q(t ) dw_t,\\\\",
    "r(0 ) = 0,\\hspace{0.2 cm } p(t ) =   v_{xx}(\\bar{x}(t))r(t ) -",
    "\\lambda_a v_x ( \\bar{x}(t))- \\lambda_p \\mathcal{v}_x(\\bar{x}(t ) ) ,          \\end{array }          \\label{theproblemprincipalfbsde }      \\right.\\ ] ] so that @xmath211 @xmath212 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}$ ] the notation @xmath213 in ( [ theproblemprincipalfbsde ] ) means the total derivative with respect to variable @xmath214 .",
    "we are now ready to state a full characterization of optimal contracts in the hidden contract principal - agent problem . before doing",
    "so we introduce the following technical assumption :    ( pa ) : :    all functions involved in the agent s problem satisfy the conditions    ( s1)-(s3 ) from section [ preliminaries ] .",
    "the functions defining the    principal s problem ( including composition with the map    @xmath187 ) satisfy the conditions ( sc1)-(sc3 ) , also from    section [ preliminaries ] .",
    "let the regularity conditions in ( pa ) hold and consider a principal - agent problem under hidden contracts in continuous time with participation constraint defined by @xmath215 . then ,",
    "if @xmath174 is an optimal contract there exist numbers @xmath207 such that @xmath216 a pair @xmath217 solving the sde in ( [ theproblemagentbsde ] ) and a triple @xmath218 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})$ ] solving the fbsde in ( [ theproblemprincipalfbsde ] ) such that , sequentially , @xmath219 and @xmath211 with hamiltonians @xmath220 and @xmath221 as in ( [ theproblemagentham ] ) and ( [ theproblemprincipalham ] ) respectively . [ theproblemmainthm ]    the regularity conditions in ( pa ) may indeed seem too restrictive for most applications .",
    "it is , however , important to remember that the purpose of ( pa ) is to ensure unique solvability of all stochastic differential equations involved in the general setting .",
    "an alternative way of formulating theorem [ theproblemmainthm ] is therefore to exchange ( pa ) by simply assuming the existence and uniqueness of solutions to ( [ theproblemagentbsde ] ) and ( [ theproblemprincipalfbsde ] ) .",
    "turning to the classical theory of principal - agent problems under hidden action we now assume the information available to the principal to be strictly contained in the filtration generated by output @xmath168 .",
    "the set of admissible cash - flows therefore has to be redefined in comparison with section [ hiddencontract ] to the subset",
    "@xmath222 \\subset \\mathcal{s}[0,t]$ ] , where @xmath223 : = \\ { s : [ 0,t ] \\times \\omega \\rightarrow s ;   \\hspace{0.2 cm } s \\text { is } \\mathcal{f}_t^x \\text{-adapted } \\}.\\ ] ] a direct approach ( in the spirit of section [ hiddencontract ] for the hidden contract model ) is not mathematically tractable in the agent s problem , and so far no author has been able to carry this through .",
    "therefore , in line with @xcite and @xcite we make the problem tractable via weak solutions of sdes .",
    "first we model the output as @xmath224 where we assume that @xmath225 and @xmath226 < \\infty$ ] .",
    "we then consider the process @xmath227 which solves the sde @xmath228 where @xmath141 is the effort of the agent and @xmath229 is as in the previous section .",
    "note that @xmath230 where @xmath231 and @xmath232 denotes the dolean s stochastic exponential .",
    "the key idea behind the weak formulation of the hidden action model is to let the agent control the _ density of output _ @xmath227 rather than the output process itself , and to consider @xmath233 as a fixed but random realization ( actually @xmath234 as a consequence of the regularity of @xmath19 ) . indeed , assuming e.g. novikov s condition for @xmath235 we have by girsanov s theorem that the probability measure @xmath236 defined by @xmath237 makes the process @xmath238 defined by @xmath239 a @xmath240-brownian motion . in particular",
    "@xmath241 and @xmath242 = \\\\          \\hspace{0.3cm}= \\mathbb{e } \\left [ \\int_0^t \\gamma^e(t)u(t , x(t),e(t),s(t))dt + \\gamma^e(t)v(x(t ) ) \\right ] .",
    "\\end{array }      \\label{hiddenactionagentcost}\\ ] ] in the weak formulation of the hidden action model the agents- and the principal s problems are formulated as follows . +",
    "* the agent s problem ( weak formulation ) : * given any @xmath243 $ ] ( fulfilling the participation constraint ) the agent s problem is to find a process @xmath161 $ ] such that cost functional is @xmath244,\\ ] ] is minimized , subject to the dynamics in ( [ hiddenactionagentdyn ] ) . + * the principal s problem ( strong formulation ) : * given that the agent s problem has an optimal solution @xmath163 in the weak formulation the principal s problem is to find a process @xmath164 $ ] , such that the cost functional @xmath245\\ ] ] is minimized and @xmath246 \\leq w_0.\\ ] ] subject to the dynamics @xmath247 , \\\\",
    "x(0 ) = 0 .",
    "\\end{array } \\right.\\ ] ]    here we have chosen to formulate the principal s problem in the strong form rather than in the weak form , which seems to be most common in the literature . however , as pointed out in @xcite , due to adaptivity this approach can be problematic in certain models . a fact that one should be aware of .",
    "with the full principal - agent problem stated as above we can apply the same technique for solving the hidden action case as we did with the hidden contract case .",
    "however , since the control variable @xmath248 figures in the diffusion coefficient of ( [ hiddenactionagentdyn ] ) we require the following convexity assumption in order to avoid the second order adjoint processes in the maximum principle : + * assumtion 1 : * the set @xmath249 is convex . + the agent s hamiltonian in the weak formulation is @xmath250 and by theorem [ introthmsmp1 ] any optimal control @xmath181 solving the agent s problem must maximise @xmath220 where the pair @xmath177 solves the agent s adjoint bsde : @xmath251 if the functions @xmath20 and @xmath46 both are differentiable in the @xmath248 variable and we assume that @xmath252 , maximizing @xmath220 translates into the first order condition @xmath253 which is in agreement with @xcite . + just as in the hidden contract case we now proceed into the principal s problem by assuming the existence of a closed form expression for optimal effort @xmath254 ( having sufficient regularity to allow for existence and uniqueness of a solution to ( [ hiddenactionfbsde ] ) )",
    ". the principal is facing the problem of minimizing the cost functional @xmath155 by controlling the following fbsde : @xmath255 we now apply theorem [ introconstrainedsmpthm ] in order to characterize optimal cash - flows in the principal s problem .",
    "the associated hamiltonian reads @xmath256 and for any optimal 4-tuple @xmath257 we have the existence of lagrange multipliers @xmath207 satisfying ( [ hiddencontraclagrange ] ) and a triple of processes @xmath209 solving the adjoint fbsde : @xmath258 \\cdot r(t)\\\\          \\vspace{0.3cm}\\hspace{4.9cm}+ \\lambda_a \\partial_q u(t , x(t),e^*(t , x(t),q(t),s(t)),s(t ) ) \\bigg\\ } dw_t\\\\             \\vspace{0.2cm}dp(t ) = \\displaystyle-\\left\\ { \\left [ q(t ) \\cdot \\frac{\\partial_x f(t , x(t),e^*(t , x(t),q(t),s(t ) ) ) \\cdot \\sigma(t , x(t))}{\\sigma(t , x(t))^2 }   \\right . \\right.\\\\          \\vspace{0.2cm}\\hspace{1.9 cm }   \\displaystyle - q(t ) \\cdot \\frac { f(t , x(t),e^*(t , x(t),q(t),s(t ) ) ) \\cdot \\sigma_x(t , x(t))}{\\sigma(t , x(t))^2}\\\\          \\vspace{0.2cm}\\hspace{1.9cm}+ \\partial_x u(t , x(t),e^*(t , x(t),q(t),s(t)),s(t ) ) \\bigg ] \\cdot r(t ) + \\sigma_x(t , x(t ) ) \\cdot q(t)\\\\          \\vspace{0.2cm}\\hspace{1.7cm}-\\lambda_a \\partial_x u(t , x(t),e^*(t , x(t),q(t),s(t)),s(t ) ) - \\lambda_p \\mathcal{u}_x(t , x(t),s(t ) ) \\bigg\\ } dt\\\\          \\vspace{0.3cm}\\hspace{10.2cm}+q(t ) dw_t\\\\            r(0 ) = 0 , \\hspace{0.2cm}p(t ) = ( r(t ) - \\lambda_a ) \\cdot v_x(x(t ) ) - \\lambda_p v_x(x(t ) )      \\end{array }      \\right .",
    "\\label{hiddenactionadjfbsde}\\ ] ] we are now ready to state the full characterization of optimal contracts in the hidden action case in line with theorem [ theproblemmainthm ] .",
    "let the regularity conditions in ( pa ) hold and consider a principal - agent problem under hidden actions in continuous time with participation constraint defined by @xmath215 . then",
    ", if @xmath174 is an optimal contract there exist numbers @xmath207 such that @xmath216 a pair @xmath217 solving the sde in ( [ hiddenactionadjbsde ] ) and a triple @xmath218 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})$ ] solving the fbsde in ( [ hiddenactionadjfbsde ] ) such that , sequentially , @xmath259 and @xmath260 with hamiltonians @xmath220 and @xmath221 as in ( [ hiddenactionagham ] ) and ( [ hiddenactionprincham ] ) respectively . [ hiddenactionmainthm ]      in this section we have studied two different models of principal - agent type .",
    "the first model , referred to as the hidden contract model , is to the best of our knowledge new whereas the second model of hidden action in the weak formulation is by now well known .",
    "we believe that our contribution to the existing literature is of interest for two reasons :    * the hidden contract model is indeed deviating from the main stream direction of research in principal - agent problems .",
    "one of the most serious claims against our model is probably the lack of realism since the agent has to accept a hidden contract based on a cash - flow that does not necessarily depend of the observed output .",
    "since the agent can only influence the contract via the participation constraint he / she may well be exposed to undesirable high levels of risk without being aware of it .",
    "the realism in our hidden contract model would therefore increase notably if the participation constraint could be extended to include also a statement of acceptable risk , for instance by imposing that the variance of the accumulated cash - flow is bounded from above .",
    "this will be the topic of a follow - up paper as it requires extending the approach of section [ theproblem ] and the framework in section [ preliminaries ] to cost - functionals of mean - field type .",
    "* the hidden action case in the weak formulation as stated above does not add any significant contribution to the existing theory .",
    "as mentioned in the introduction our approach is closest to the one in @xcite since both use stochastic generalizations of pontryagin s maximum principle to characterize optimality .",
    "the main difference compared to @xcite is that we exploit these methods to find a full characterization covering both the agent s and the principal s problem , and not only that of the agent .",
    "+ the book @xcite presents a thorough characterization of the hidden action model , adopting the convention of keeping the weak formulation also for the principal s problem .",
    "the solution scheme is then carried through via a well known technique in stochastic optimization which is slightly different from our approach . however , since our next step is to consider principal - agent problems involving nonlinear cost functionals such as variance we believe that the method described in section [ hiddenaction ] is more suitable .",
    "to illustrate the method described in section [ theproblem ] we devote this section to solve a concrete example of the hidden contract principal - agent problem in a linear - quadratic ( lq)-setting . it turns out that closed form solutions of both the optimal effort @xmath181 and the optimal cash - flow @xmath261 can be found .",
    "consider the following dynamics of production , @xmath262,\\\\          x(0 ) = 0 , \\hspace{0.3 cm } a , b \\in { \\mathbb{r}}\\text { and } \\sigma > 0 ,      \\end{array }      \\right.\\ ] ] and let the preferences of the agent and the principal be described by quadratic utility functions as : @xmath263,\\\\      & & \\mathcal{j}_p ( s(\\cdot ) ) : = { \\mathbb{e}}\\left[\\int_0^t \\frac{s_t^2}{2 } dt - \\beta \\cdot \\frac{x(t)^2}{2 }   \\right ] .",
    "\\label{lqpayoffp}\\end{aligned}\\ ] ] note that we are following the convention of section [ theproblem ] and consider cost- rather than payoff - functionals .",
    "thus , the agent s utility function should be interpreted as a desire to maintain a level of effort close to the compensation given by the cash - flow .",
    "we think of the parameters @xmath264 and @xmath265 as bonus factors of total production at time @xmath266 .",
    "for the participation constraint we require any admissible cash - flow @xmath267 to satisfy @xmath268 where @xmath163 denotes the optimal response of the agent given @xmath267 .",
    "+ assume that the principal offers the agent @xmath267 over the period @xmath269 .",
    "the hamiltonian function of the agent s problem is @xmath270 so @xmath271 where the pair @xmath272 solves the adjoint equation @xmath273 turning now to the principal s problem we would like to control the fbsde @xmath274 optimally by @xmath186 with respect to ( [ lqpayoffp ] ) under the state constraint in ( [ lqconstr ] ) that now , given the optimal effort @xmath275 in ( [ lqopteff ] ) , reads @xmath276 .",
    "thus the hamiltonian function of this problem is given by @xmath277 where @xmath278 and @xmath279 are lagrange - multipliers such that @xmath280 and @xmath281 , according to theorem [ introconstrainedsmpthm ] in section [ preliminaries ] .",
    "again we easily find the unique candidate for optimal control : @xmath282 where the triple @xmath283 solves the adjoint fbsde : @xmath284 in order to find concrete expressions for the controls @xmath285 in the optimal contract we must solve the bsdes in ( [ lqfbsde1 ] ) and ( [ lqfbsde2 ] ) . for this we consider a general ansatz of feedback type @xmath286 and compute the stochastic differentials by utilizing it s lemma .",
    "we get @xmath287 @xmath288 by identifying coefficients in the equations we end up with the following system of semilinear parabolic pde s : @xmath289 this system is of course in general very difficult or even impossible to solve explicitly , but a numerical scheme like for instance finite differences would handle the problem well .",
    "however , in this case we may proceed analytically a bit further by considering yet another ansatz : @xmath290 by identifying coefficients , this ansatz reduces ( [ lqsemilinparsys ] ) to a terminal conditioned riccati - system : @xmath291 riccati - systems have closed form solutions only in exceptional cases and the one in ( [ lqriccatisyst ] ) is too general to admit such ( even though the coefficients are constant ) .",
    "a good theoretical treatment of riccati - systems and matrix riccati equations can be found in @xcite . +",
    "even though an explicit solution seems hopeless , it is an easy task to solve ( [ lqriccatisyst ] ) numerically , given the parameters .",
    "an example is presented in fig .",
    "[ lqriccatisystfig ] below .    ) with parameter values chosen as : @xmath292    hence , for the lq principal - agent we get the unique semi - explicit optimal contract as @xmath293 where the optimal dynamics @xmath294 solve the forward sde s in ( [ lqfbsde1 ] ) and ( [ lqfbsde2 ] ) , replacing @xmath295 and @xmath296 by @xmath297 and @xmath298 .",
    "what still remains is to find a feasible pair @xmath299 so that the optimal contract fulfills the participation constraint in ( [ lqconstr ] ) .",
    "one way of finding such a pair is for instance by stochastic simulation of @xmath294 ( e.g. a simple euler - maruyama scheme ) and then estimate the payoff in ( [ lqconstr ] ) by monte - carlo techniques for different values of @xmath279 . in fig .",
    "[ lqexpectedpayofffig ] below we have included the results of such a scheme where the negative expected payoff for the agent and the principal are plotted as functions of the multiplier @xmath279 .     and @xmath300 as functions of @xmath279 based on @xmath301 sample paths at each point .",
    "parameter values : @xmath302 .",
    "blue signifies the branch @xmath303 whereas green is the branch @xmath304 . ]    note that @xmath305 satisfies the linear ode @xmath306 so @xmath307 and is by that @xmath168-adapted .",
    "therefore , in this model the optimal contract ( [ lqoptcon ] ) is @xmath168-adapted and coincides with the corresponding strong solution to the hidden action problem , i.e. when the information set of the principal is generated by output . + an interesting observation to make from the numerical result is the monotonic nature of the agents negative payoff .",
    "apparently @xmath308 is a decreasing function of @xmath309 ranging over the entire half - axis @xmath310 , meaning that the agent increases his / her expected final utility by an increased value of @xmath278 .",
    "in contrast , the function @xmath300 is a non - monotonic function of @xmath309 but does increase on each of the branches @xmath311 and @xmath312 ( considering @xmath313 as the starting point ) .",
    "furthermore ( as suggested by the numerics ) the negative branch is strictly below the positive one .",
    "thus , for any @xmath314 $ ] where @xmath315 and corresponding multiplier @xmath316 such that @xmath317 we have that @xmath318 meaning that both parts will benefit from a contract offering the agent higher expected utility than the minimal threshold @xmath319 .",
    "this implication is somewhat counterintuitive since it would be reasonable to expect the optimal contract to fulfill the equality @xmath320 indeed , in the case of lump - sum paying contracts with separable utility functions the relation ( [ lqcounterintuitive ] ) is proven in @xcite in a continuous time setting .",
    "the effects suggested above therefore reveal an interesting additional complexity in optimal contracting with non - separable utility functions and continuously paying cash - flows . to the best of our knowledge",
    "this has not been observed in the present literature .",
    "it has in fact rather conjectured false in the setting considered in @xcite .",
    "so far in our presentation of the principal - agent problem under hidden action we have been working under the crucial assumption that the agent is facing a stochastic optimal control problem in the weak sense .",
    "however , from the point of view of applications it is probably more natural to consider the strong formulation in which the the agents controls output rather than the density of output .",
    "this problem is much more difficult and we devote this section to a case study , only to give a glimpse of the type of difficulties that may arise .",
    "we also present a possible direction for future research in this area .",
    "+ just as in section [ theproblem ] we consider a hidden action principal - agent model where the output @xmath138 is a risky asset solving the sde @xmath321,\\\\",
    "x(0 ) = 0 ,      \\end{array } \\right.\\ ] ] and the cost functionals are of the form @xmath322,\\ ] ] and @xmath158.\\ ] ] the principal wishes to find an optimal contract @xmath174 solving the principal - agent problem by tailoring a differentiable ( in @xmath27 ) map @xmath323 , i.e. a smooth cash - flow of feed - back type . compared to section [ theproblem ] essential differences now arise already in the agent s problem .",
    "for instance the agent s bsde takes the form @xmath324 and the hamiltonian is @xmath325 the extra dependence on @xmath138 appearing in these equations may seem harmless , but it actually complicates the problem substantially . having the additional information of how the cash - flow @xmath149 depends on the output",
    "makes it possible for the agent to select optimal effort more carefully by estimating future dividends of the contract . loosely speaking this yields a path dependence of @xmath149 in @xmath163 , turning the principal s problem into a non - standard stochastic optimal control problem . in order to illustrate this we consider an explicit example .",
    "consider the dynamics governing output as @xmath326 and cost functionals @xmath327\\ ] ] and @xmath328 .",
    "\\label{paymentbyresultcontractingprinccost}\\ ] ] we let the participation constraint be as in ( [ lqconstr ] ) and consider the agent s problem .",
    "clearly @xmath329 so @xmath330 where @xmath177 solves the bsde @xmath331 in order to solve ( [ paymentbyresultcontractinglqbsde ] ) we consider the ansatz @xmath332 , for a smooth function @xmath333 , and apply it s lemma so that @xmath334 thus , by identifying coefficients we get the equation @xmath335 i.e. burger s equation with force term @xmath336 .",
    "despite the non - linear nature of this pde it admits an explicit solution via the so called hopf - cole transformation @xmath337,\\ ] ] where @xmath338 solves the inhomogeneous heat equation @xmath339 by time - reversal we turn ( [ paymentbyresultcontractingtervalprob ] ) into an initial value problem and thereby find the solution to ( [ paymentbyresultcontractingburger ] ) as @xmath340 where @xmath341 is the gauss - kernel @xmath342 we use the notation @xmath343 in ( [ phi ] ) to underline the _ functional dependence _ of the function @xmath149 in the solution @xmath333 . + it is easy to check that if @xmath344 for some constant @xmath345 , then @xmath346 , which of course is to expect .",
    "another interesting example is to take @xmath347 , making the optimal effort non - trivial : @xmath348 having @xmath349 the principal s problem is to control @xmath350 optimally by minimizing the cost functional ( [ paymentbyresultcontractingprinccost ] ) , yet respecting the participation constraint @xmath351 < w_0,\\ ] ] for some given @xmath215 .",
    "the main obstacle as compared to the general theory in section [ theproblem ] is the dependence of @xmath149 in ( [ paymentbyresultcontractingprincdyn ] ) now being functional rather than point - wise . to handle this one",
    "could for instance consider the probability density function @xmath352 of @xmath138 at time @xmath353 .",
    "since ( [ paymentbyresultcontractingprincdyn ] ) is an it - process with initial condition @xmath354 we know that @xmath352 solves the fokker - planck equation ( or , the kolmogorov forward equation ) : @xmath355 + \\frac{\\sigma^2}{2}\\frac{\\partial^2}{\\partial z^2 } \\mu(t , z)\\\\          \\mu(t , z ) = \\delta_0      \\end{array }      \\label{paymentbyresultcontractingfokpla } \\right.\\ ] ] having @xmath352 at hand the principal s problem can now be formulated as a deterministic problem in optimal control of pdes .",
    "more precisely , the principal wishes to find a function @xmath356 ( lying in a suitable function space making ( [ paymentbyresultcontractingfokpla ] ) well - posed ) minimizing the functional @xmath357 subject to the constraint @xmath358 this problem , however , goes beyond the scope of our presentation and we leave it for a future study . in @xcite and",
    "recently in @xcite the authors explore the general possibility of the above approach to stochastic optimal control , thus formulating the problem in terms of optimal control of the fokker - planck equation .",
    "their setting is , however , significantly different from ours in that it does not allow for a functional dependence of the control in ( [ paymentbyresultcontractingfokpla ] ) .",
    "the main result upon which the proof of theorem [ introconstrainedsmpthm ] relies is the following well - known theorem by ekeland ( see e.g. @xcite , lemma 6.2 p. 145 ) .",
    "let @xmath359 be a complete metric space and let @xmath360 $ ] be a proper ( i.e. @xmath361 ) , lower semicontinuous function bounded from below .",
    "let @xmath362 and let @xmath363 be fixed .",
    "then there exists a @xmath364 such that :          let the assumptions of theorem [ appendixekelandthm ] hold .",
    "let @xmath79 and @xmath367 be such that @xmath368 then there exists a @xmath369 such that @xmath370 and for all @xmath371 , @xmath372 [ appendixekelandcor ]    in addition to ekeland s variational principle we also need a couple of lemmas to prove theorem [ introconstrainedsmpthm ] .",
    "one dealing with a certain metric structure on the space @xmath30 $ ] , and the other explaining some regularity properties of the canonical distance function @xmath373 to a given closed and convex set @xmath83 .",
    "both results are presented with proofs in @xcite ( lemma 6.4 p. 147 and",
    "lemma 6.5 p. 148 ) .",
    "let @xmath374 be defined by the following : @xmath86 \\times \\omega : u(t,\\omega ) \\neq \\tilde{u}(t,\\omega ) \\}| , \\hspace{0.3 cm } \\forall u(\\cdot ) , \\tilde{u}(\\cdot ) \\in \\mathcal{u}[0,t],\\ ] ] where @xmath375 denotes the product measure of the lebesgue measure and the probability @xmath6 of a set @xmath376 \\times \\omega$ ] .",
    "then @xmath374 is a metric under which @xmath30 $ ] is a complete metric space .",
    "[ appendixmetriclemma ]      here , for a region @xmath379 and a locally lipschitz continuous function @xmath380 the _ clarke s generalized gradient _",
    "@xmath381 at @xmath382 is defined as @xmath383 which is nothing but the ordinary gradient @xmath384 if @xmath385 is continuously differentiable at @xmath382 .",
    "further , if @xmath380 is a convex function and the set @xmath386 is convex it is a well - known fact that @xmath387 for @xmath382 can be written as : @xmath388 thus , for convex functions defined over convex sets the generalized clarke gradient coincides with the subgradient ."
  ],
  "abstract_text": [
    "<S> we study a general class of principal - agent problems in continuous time under hidden action . by formulating the model as a coupled stochastic optimal control problem we are able to find a set of necessary conditions characterizing optimal contracts , using the stochastic maximum principle . </S>",
    "<S> an example is carried out to illustrate the proposed approach to the principal - agent problem under linear stochastic dynamics with a quadratic performance function . </S>"
  ]
}