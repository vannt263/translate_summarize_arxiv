{
  "article_text": [
    "let @xmath10 be @xmath2-dimensional complex - valued vectors .",
    "we denote their inner product as @xmath11 now suppose we have a directed graph @xmath12 .",
    "let us associate a vector @xmath13 with each vertex @xmath4 , and consider the product over all edges @xmath6 of the inner products of the corresponding vectors : @xmath14 for instance , for the graph in figure  [ fig : example ] this product is @xmath15 the expectation of this product , where each @xmath5 is chosen independently and uniformly from the set of vectors in @xmath16 of norm @xmath8 , is a type of moment , where each @xmath5 appears with order @xmath17 .",
    "it is a function of the graph @xmath1 and the dimension @xmath2 , which we denote as follows : @xmath18    .,width=172 ]    a simple observation is that @xmath3 is zero unless @xmath1 is eulerian  that is , unless @xmath19 for each vertex @xmath4 .",
    "since @xmath5 appears in the product @xmath20 times unconjugated and @xmath21 times conjugated , multiplying @xmath5 by @xmath22 multiplies @xmath3 by @xmath23 . but",
    "multiplying by a phase preserves the uniform measure , so the expectation is zero if @xmath24 for any @xmath4 .",
    "so , let us suppose that @xmath1 is eulerian . in that case , what is @xmath3 ?",
    "does it have a combinatorial interpretation ? and",
    "how difficult is it to calculate ?",
    "our main result is this :    [ thm : main ] for any @xmath25 , computing @xmath3 , given @xmath1 as input , is @xmath0-hard under turing reductions .",
    "if we extend @xmath0 to rational functions in the natural way , then we can replace @xmath0-hardness in this theorem with @xmath0-completeness .",
    "our proof is very simple ; we show that @xmath3 is essentially identical to an existing graph polynomial , which is known to be @xmath0-hard to compute . along the way",
    ", we will meet some nice combinatorics , and glancingly employ the representation theory of the unitary and orthogonal groups .",
    "a _ circuit partition _ of @xmath1 is a partition of @xmath1 s edges into circuits",
    ". let @xmath26 denote the number of circuit partitions containing @xmath27 circuits ; for instance , @xmath28 is the number of eulerian circuits .",
    "the _ circuit partition polynomial _",
    "@xmath29 is the generating function @xmath30 for instance , for the graph in figure  [ fig : example ] we have @xmath31 .",
    "this polynomial was first studied by martin  @xcite , with a slightly different parametrization ; see also  @xcite .",
    "now consider the following theorem .",
    "[ thm : q - j ] for any eulerian directed graph @xmath12 , @xmath32 where @xmath33 denotes @xmath19 .",
    "given a vector @xmath34 and an integer @xmath35 , the outer product of @xmath36 with itself is a tensor of rank @xmath37 , or equivalently a linear operator on @xmath38 : @xmath39 in terms of indices , we can write @xmath40    then @xmath41 is a contraction of the product of these tensors , where upper and lower indices correspond to incoming and outgoing edges respectively .",
    "for instance , for the graph in figure  [ fig : example ] we can rewrite the product  [ eq : prod - example ] as @xmath42 here we use the einstein summation convention , where any index which appears once above and once below is automatically summed from @xmath8 to @xmath2 .",
    "now , since the @xmath5 are independent for different @xmath4 , we can compute @xmath3 by taking the expectation over each @xmath5 separately .",
    "this gives a contraction of the tensors @xmath43 where @xmath44 , over all @xmath4 .    in order to calculate @xmath45",
    ", we introduce some notation .",
    "let @xmath46 denote the symmetric group on @xmath35 elements .",
    "we identify a permutation @xmath47 with the linear operator on @xmath38 which permutes the @xmath35 factors in the tensor product .",
    "that is , @xmath48 or , using indices , @xmath49 where @xmath50 is the kronecker delta operator , @xmath51 if @xmath52 and @xmath53 if @xmath54 .",
    "diagrammatically , @xmath55 is a gadget with @xmath35 incoming edges and @xmath35 outgoing edges , wired to each other according to the permutation @xmath55 .",
    "we have the following lemma :    [ lem : xd ] with @xmath45 defined as in  , if @xmath56 is uniform in the set of vectors in @xmath16 of norm @xmath8 , then @xmath57    first , @xmath45 is a member of the commutant of the group @xmath58 of @xmath59 unitary matrices , since these preserve the uniform measure .",
    "that is @xmath45 commutes with @xmath60 for any @xmath61 . by schur duality ,",
    "the commutant is a quotient of the group algebra @xmath62 $ ] ; namely , the image of @xmath62 $ ] under the identification above .",
    "thus @xmath45 is a superposition of permutations , @xmath63 .",
    "we also have @xmath64 for any @xmath55 .",
    "thus @xmath45 is proportional to the uniform superposition on @xmath46 , or equivalently the projection operator @xmath65 onto the totally symmetric subspace @xmath66 of @xmath38 . since @xmath67 while @xmath68 , we have @xmath69 .",
    "finally , @xmath70 is the number of ways to label the @xmath35 factors of the tensor product with basis vectors @xmath71 in nondecreasing order  or , for aficionados , the number of semistandard tableaux with one row of length @xmath35 and content ranging from @xmath8 to @xmath2 .",
    "this gives @xmath72 .",
    "to illustrate some ideas that will recur in the next section , we give an alternate proof .",
    "first , note that @xmath73 is the number of ways to label each of @xmath55 s cycles with a basis vector ranging from @xmath8 to @xmath2 , or @xmath74 where @xmath75 denotes the number of cycles ( including fixed points ) .",
    "thus @xmath76 to compute this generating function , we use the fact that each permutation @xmath47 appears once in the following product , where @xmath8 denotes the identity permutation , and @xmath77 denotes the transposition of the @xmath78th and @xmath79th object : @xmath80 this product works by describing a permutation @xmath81 of @xmath27 objects inductively as a permutation @xmath82 of the first @xmath83 objects , composed either with the identity or with a transposition swapping the @xmath27th object with one of the previous @xmath83 .",
    "if we apply the identity , then the @xmath27th object is a fixed point , and @xmath84 , gaining a factor of @xmath2 in  ; but if we apply a transposition , then @xmath85 .",
    "thus   becomes @xmath86 comparing traces again gives  .",
    "all that remains is to interpret the operators @xmath87 , and their contraction , diagrammatically .",
    "lemma  [ lem : xd ] tells us that , for each vertex @xmath4 of @xmath1 , taking the expectation over @xmath5 converts it to a sum over all @xmath88 ways to wire the incoming edges to the outgoing edges . but doing this at each vertex gives us a sum over all cycle partitions of @xmath1 .",
    "contracting these tensors gives the number of ways to label each cycle in a each partition with a basis vector ranging from @xmath8 to @xmath2 , so each cycle contributes a factor of @xmath2 .",
    "along with the scaling factor in  , this completes the proof .",
    "next we show that the cycle partition polynomial is @xmath0-hard . to our knowledge",
    ", the following theorem first appeared in  @xcite ; we prove it here for completeness .",
    "[ thm : nump ] for any fixed @xmath89 , computing @xmath29 from @xmath1 is @xmath0-hard under turing reductions .",
    "recall that the _ tutte polynomial _ of an undirected graph @xmath12 can be written as a sum over all subsets @xmath90 of @xmath91 , @xmath92 here @xmath93 denotes the number of connected components in @xmath1 .",
    "similarly , @xmath94 denotes the number of connected components in the spanning subgraph @xmath95 , including isolated vertices .",
    "when @xmath96 , we have @xmath97 where @xmath98 is the total excess of the components of @xmath90 , i.e. , the number of edges that would have to be removed to make each one a tree .",
    "( black ) and its oriented medial graph @xmath99 ( gray).,width=288 ]    if @xmath1 is planar , then we can define a directed medial graph @xmath99 as in figure  [ fig : medial ] .",
    "each vertex of @xmath99 corresponds to an edge of @xmath1 , edges of @xmath99 correspond to shared vertices in @xmath1 , and we orient the edges of @xmath99 so that they go counterclockwise around the faces of @xmath1 .",
    "each vertex of @xmath99 has @xmath100 , so @xmath99 is eulerian .",
    "the following identity is due to martin  @xcite ; see also  @xcite , or  @xcite for a review .",
    "@xmath101 we prove this using a one - to - one correspondence between subsets @xmath102 and circuit partitions of @xmath99 .",
    "let @xmath4 be a vertex of @xmath99 , corresponding to an edge @xmath103 of @xmath1 .",
    "then the circuit partition connects each of @xmath4 s incoming edge to the outgoing edge on the same side of @xmath103 if @xmath104 , and crosses over to the other side if @xmath105 .",
    "it is easy to prove by induction that the number of circuits is then @xmath106 , in which case   yields  .",
    "the theorem then follows from the fact , proven by vertigan  @xcite , that the tutte polynomial for planar graphs is @xmath0-hard under turing reductions , except on the hyperbolas @xmath107 or when @xmath108 where @xmath109 .",
    "thus computing @xmath29 for any @xmath89 is @xmath0-hard , even in the special case where @xmath1 is planar and where every vertex has @xmath110 .",
    "we can also consider the case where the @xmath5 are real - valued , and are chosen uniformly from the set of vectors in @xmath111 of norm @xmath8 . in this case , the inner product @xmath7 becomes symmetric , so the graph @xmath1 becomes undirected .",
    "we might then expect @xmath3 to be related to the circuit partition polynomial for undirected circuits , and indeed this is the case .",
    "we again wish to compute the tensor @xmath112 .",
    "first , let @xmath113 denote the set of perfect matchings of @xmath37 objects ; note that @xmath114 we can identify each matching @xmath115 with a linear operator on @xmath116 , where the first @xmath35 objects correspond to upper indices , and the last @xmath35 correspond to lower indices .",
    "however , in addition to permutations that wire upper indices to lower ones with a bipartite matching , we now also have `` cups '' and `` caps '' that wire two upper indices , or two lower indices , to each other . for instance , if @xmath117 then @xmath113 includes three operators , corresponding to the three perfect matchings of @xmath118 objects : @xmath119{identity}}}\\ , , \\quad \\delta^{\\alpha_1}_{\\beta_2 } \\delta^{\\alpha_2}_{\\beta_1 } = { \\raisebox{-7pt}{\\includegraphics[height=18pt]{exchange}}}\\ , , \\quad \\mbox{and } \\quad \\delta^{\\alpha_1,\\alpha_2 } \\delta_{\\beta_1,\\beta_2 } = { \\raisebox{-7pt}{\\includegraphics[height=18pt]{cupcap}}}\\ , .\\ ] ] the first two of these operators correspond to the identity permutation and the transposition @xmath120 respectively , as in the previous section .",
    "the third one is a _",
    "cupcap _ ; it is the outer product of the vector @xmath121 with itself , where @xmath122 denotes the @xmath78th basis vector in @xmath111 .",
    "we denote it @xmath123 , and more generally @xmath124 .",
    "now , in the real - valued case , lemma  [ lem : xd ] becomes the following :    [ lem : xd - real ] if @xmath56 is uniform in the set of vectors in @xmath111 of norm @xmath8 , then @xmath125 where @xmath126 if @xmath127 is even , and @xmath128 if @xmath127 is odd .",
    "analogous to the complex case , @xmath45 is a member of the commutant of the group @xmath129 of @xmath59 orthogonal matrices , since these preserve the uniform measure .",
    "that is , @xmath45 commutes with @xmath130 for any @xmath131 .",
    "the commutant of @xmath129 is the _",
    "brauer algebra _ ; namely , the algebra consisting of linear combinations of the operators @xmath115 .",
    "thus @xmath45 is of the form @xmath132 .",
    "in addition to being fixed under permutations as in the complex case , @xmath45 is also fixed under partial transposes , which switch some upper indices with some lower ones .",
    "thus @xmath45 is proportional to the uniform superposition @xmath133 . to find the constant of proportionality",
    ", we again compare traces .    as in the case of permutations ,",
    "the trace of an operator @xmath115 is @xmath134 , where @xmath135 is the number of loops in the diagram resulting from joining the upper indices to the lower ones .",
    "for instance , for the operators in  , we have @xmath136 , @xmath137 , and @xmath138 .",
    "thus we wish to calculate @xmath139 we can write @xmath140 as a product , analogous to  : @xmath141 this product describes a matching @xmath142 of @xmath143 objects inductively as a matching @xmath144 of the first @xmath145 objects , composed either with the identity , or with a transposition or cupcap connecting the @xmath27th upper object with the @xmath78th lower one and the @xmath27th lower object with the @xmath78th upper one , or vice versa .",
    "if we apply the identity , then the @xmath27th upper object is matched to the @xmath27th lower one , and @xmath146 , gaining a factor of @xmath2 in  ; but if we apply a transposition or cupcap , then @xmath147 .",
    "thus   becomes @xmath148 we again have @xmath67 , and comparing traces gives  .",
    "as before , @xmath3 is a contraction of the tensors @xmath45 .",
    "however , now @xmath1 is undirected , with no distinction between incoming and outgoing edges , so at each vertex of degree @xmath33 the appropriate tensor is @xmath149 .",
    "applying lemma  [ lem : xd - real ] to each @xmath4 sums over all the ways to match @xmath4 s edges with each other , and hence sums over all possible partitions of @xmath1 s edges into undirected cycles .",
    "the trace of the resulting diagram is again the number of ways to label each cycle with a basis vector .",
    "so , if define a polynomial @xmath150 as @xmath151 , where @xmath26 is the number of partitions with @xmath27 cycles , then theorem  [ thm : q - j ] becomes    [ thm : q - j - real ] for any undirected graph @xmath12 where every vertex has even degree , if we define @xmath3 by selecting the @xmath5 independently and uniformly from the set of vectors in @xmath111 with norm @xmath8 , then @xmath152    to our knowledge , the computational complexity of @xmath150 is open , although it seems likely that it is also @xmath0-hard .",
    "our results above assume that each @xmath5 is chosen uniformly from the set of vectors in @xmath16 or @xmath111 of norm @xmath8 .",
    "another natural measure would be to choose each component of @xmath5 independently from the gaussian distribution with variance @xmath153 , so that @xmath154=1 $ ] .    for vectors in @xmath16 ,",
    "the probability density of the norm @xmath155 is then @xmath156 compared to the case where @xmath157 , each @xmath5 contributes scaling factor of @xmath158 to the product  .",
    "the even moments of   are @xmath159 = \\frac{(d+k-1)!}{k^d ( k-1 ) ! } \\",
    ", , \\ ] ] so in the gaussian distribution   becomes @xmath160 where @xmath161 denotes the number of edges .",
    "we could also have derived this directly from the gaussian analog of lemma  [ lem : xd ] .",
    "if @xmath56 is chosen according to the gaussian distribution on @xmath16 , and we again let @xmath45 denote @xmath162 , then @xmath163    similarly , in the real - valued case , if we choose each component of @xmath164 from the gaussian distribution on @xmath165 with variance @xmath153 , then   becomes @xmath166 since @xmath167 both   and   are consequences of wick s theorem  @xcite , that if @xmath168 obey a multivariate gaussian distribution with mean zero , then @xmath169 = \\sum_{\\mu \\in m_t } \\prod_{(i , j ) \\in \\mu } { \\mathop\\mathrm{exp}}[x_i x_j ] \\ , .\\ ] ]      we are grateful to piotr niady for teaching us the sum  , and to jon yard for introducing us to the brauer algebra .",
    "this work was supported by the nsf under grant ccf-0829931 , and by the dto under contract w911nf-04-r-0009 ."
  ],
  "abstract_text": [
    "<S> we present a simple , natural @xmath0-complete problem . </S>",
    "<S> let @xmath1 be a directed graph , and let @xmath2 be a positive integer . </S>",
    "<S> we define @xmath3 as follows . at each vertex @xmath4 </S>",
    "<S> , we place a @xmath2-dimensional complex vector @xmath5 . we take the product , over all edges @xmath6 , of the inner product @xmath7 . </S>",
    "<S> finally , @xmath3 is the expectation of this product , where the @xmath5 are chosen uniformly and independently from all vectors of norm @xmath8 ( or , alternately , from the gaussian distribution ) . </S>",
    "<S> we show that @xmath3 is proportional to @xmath1 s cycle partition polynomial , and therefore that it is @xmath0-complete for any @xmath9 . </S>"
  ]
}