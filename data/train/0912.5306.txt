{
  "article_text": [
    "this paper is concerned with developing a diffusion approximation for a _ limited processor sharing _ ( lps ) queue , which consists of a single server and an infinite capacity buffer .",
    "in such a system , the server can serve up to @xmath1 jobs simultaneously , equally distributing its attention to each of them .",
    "in other words , each job in the server is processed at a rate that is the reciprocal of the number of jobs in the server .",
    "an arriving job will immediately enter the server and start receiving service if there are less than @xmath0 jobs in the server when it arrives ; otherwise it will wait in the buffer .",
    "a job will leave the system immediately after the server has fulfilled its service requirement .",
    "when the number of jobs in the server drops from @xmath0 to @xmath2 , the server will immediately admit the longest waiting customer from the buffer , if there is one .",
    "we assume that jobs arrive according to a general arrival process , and the job sizes are independent of each other and identically distributed .",
    "note that letting @xmath3 makes the system a standard _",
    "processor sharing _",
    "( ps ) queue , which has been the focal point of significant recent research activity .",
    "the ps discipline can be viewed as an idealization of time - sharing protocols in computer systems , as described in @xcite and @xcite .",
    "the advantage is that a big job will not block the whole system as in a first - come - first - serve ( fcfs ) queue .",
    "however , allowing too many jobs to time - share at once can lead to significant overhead due to switching , and hence reduce overall performance .",
    "this point has already been observed in early studies of operating systems @xcite , as well as in more recent web server design papers @xcite and database implementation papers @xcite .",
    "so in the modeling of many computer and communication systems , a sharing limit is normally imposed , which results in the lps model .    despite the numerous applications ,",
    "there are only a few studies on the lps queue .",
    "avi - itzhak and halfin @xcite propose an approximation for the mean response time assuming poisson arrivals . a computational analysis based on matrix geometric methods",
    "is performed in zhang and lipsky @xcite .",
    "some stochastic ordering results are derived in nuyens and van de weij @xcite .",
    "recently , zhang , dai and zwart @xcite have developed a fluid approximation for the lps queue using the framework of measure - valued processes . as a continuation of @xcite ,",
    "the present study investigates a diffusion approximation for the lps queue in the heavy traffic regime .    in our model ,",
    "the system consists of a server for serving jobs and a buffer for holding the waiting jobs .",
    "we model the lps queue by means of a measure - valued process @xmath4 .",
    "each component of the process takes values in the space of finite , nonnegative borel measures on @xmath5 . for each @xmath6",
    ", @xmath7 puts unit mass at the residual job size of each job in the server at time @xmath6 , and @xmath8 puts unit mass at the job size of each job in the buffer at time @xmath6 .",
    "the main insight of our approach is to design the stochastic dynamic equations ( [ eq : stoc - dym - eqn - b ] ) and ( [ eq : stoc - dym - eqn - s ] ) using the measure valued process @xmath4 , which can describe the evolution of the system .",
    "our asymptotic regime is when the sharing limit @xmath0 is large and the queue is critically loaded . following the standard practice in the literature",
    ", we consider a sequence of queues indexed by @xmath9 .",
    "we assume that @xmath10 and the traffic intensity goes to the critical value @xmath11 as in ( [ eq : cond - ht ] ) , where @xmath12 is the sharing limit in the @xmath13th queue .",
    "( superscript @xmath13 indicates a quantity that is associated with the @xmath13th queue . )",
    "we are interested in the limit of the diffusion scaled process @xmath14 as @xmath13 goes to infinity . as shown in williams @xcite , a key step to obtain a diffusion limit in heavy traffic is to establish a _ state - space collapse _ ( ssc ) result . in our setting",
    ", the ssc means that the diffusion - scaled measure - valued process , which is an infinite - dimensional object , is close to a deterministic function of the diffusion - scaled , one - dimensional workload process .",
    "( see definition [ defn : lifting - map ] for the lifting map to define the function . )",
    "the workload process is invariant under any nonidling service policy , and its diffusion limit is a one - dimensional reflected brownian motion ( rbm ) .",
    "the main result of this paper ( theorem [ thm : diffusion ] ) is that our measure - valued diffusion limit is a deterministic function of the one - dimensional rbm . as a corollary",
    ", the diffusion - scaled system size process converges in distribution to a piecewise linear rbm .",
    "most of this paper is devoted to proving the ssc result for each fixed time @xmath15 ( theorem [ thm : ssc ] ) .",
    "our proof strategy is analogous to the modular approach proposed in bramson @xcite and williams @xcite . for our sequence of systems , we define a critically loaded measure - valued fluid model .",
    "the fluid model in this paper is the same lps fluid model developed in @xcite , specialized for the critically loaded case .",
    "we show that our fluid model exhibits an ssc : each fluid model solution converges to an equilibrium state in some uniform sense , and each equilibrium state has an ssc .",
    "we adopt bramson s framework in @xcite to translate the fluid model ssc result into the diffusion - scaled ssc result .",
    "the diffusion scaled process on the interval @xmath16 $ ] corresponds to unscaled process on the interval @xmath17 $ ] .",
    "fix a constant @xmath18 , the interval @xmath19 $ ] is covered by the @xmath20 overlapping intervals @xmath21,\\qquad m=0,1,\\ldots,\\lfloor{rt}\\rfloor.\\ ] ] on each of these intervals , the diffusion scaled process can be viewed as a shifted , fluid - scaled process defined by @xmath22 to carry out the translation , we need to show that ( a ) each limit from the family of shifted , fluid - scaled processes is a solution to the fluid model ( such a limit is called a fluid limit in this paper , also known as a `` cluster point '' in @xcite ) ; ( b ) the set of fluid limits is `` rich '' : with large probability , each shifted , fluid - scaled measure - valued process is close to some fluid limit .",
    "a major step to proving ( a ) and ( b ) is to show , with large probability , the precompactness of the shifted fluid scaled processes ( see theorem [ thm : precompactness ] for details ) . since @xmath23 ranges from @xmath24 to @xmath25 , this involves a substantial refinement of the arguments in @xcite , where the case @xmath26 is treated .",
    "establishing ssc for the fluid model requires a study of equilibrium states for the lps fluid model developed in @xcite . in section [ sec : fluid ] , we characterize the set of equilibrium states , and show that each fluid model solution with initial condition belonging to a compact set converges uniformly to its equilibrium state .",
    "the counterpart of this study for standard ps queues has been carried out in @xcite .",
    "standard ps queues are relatively tractable since their fluid models can be related ( by means of a time - change ) to a renewal equation .",
    "this is not the case for lps systems ( as explained in @xcite ) , so a different approach is necessary .",
    "the idea behind the proof of the uniform convergence is to carefully track the total mass of the fluid model , and determine whether it is eventually bigger , smaller or equal to the sharing limit  @xmath0 .",
    "several insights ( explained in sections [ subsec : conv - invar - manif ] and [ subsec : unif - conv - invar - manif ] ) lead us to apply a uniform version of the renewal theorem which is new to the best of our knowledge .",
    "this version is given in appendix [ lem : key - renewal - thm - unif ] .",
    "the framework of measure - valued process has been successfully applied to study models where multiple jobs are processed at the same time .",
    "the main idea is to use a sufficiently detailed state descriptor to adequately describe the system .",
    "a  sequence of papers , gromoll , puha and williams @xcite , puha and williams @xcite and gromoll @xcite , has successfully established the fluid and diffusion approximations for ps queues using measure - valued processes .",
    "more recently , the framework of measure - valued process has been further developed by gromoll and kruk @xcite and gromoll , robert and zwart @xcite in the study of queues with deadlines / impatience .",
    "doytchinov , lehoczky and shreve @xcite applied a similar framework to study the earliest deadline first discipline .",
    "this framework is also applied by kaspi and ramanan @xcite on many - server queues .",
    "the results in the present paper can be seen as an extension of the results in the papers @xcite , which carry out a similar program for the standard ps queue .",
    "this paper is organized as follows .",
    "a model description and an overview of the main results is given in section [ sec : models - main - result ] .",
    "section [ sec : fluid ] investigates the convergence of each fluid model solution to its equilibrium state .",
    "precompactness of the family of shifted fluid scaled processes is established in section [ sec : tightness ] .",
    "section [ sec : diff - appr ] uses the precompactness to show the `` richness '' of the fluid limits , and then concludes with a proof of state - space collapse .",
    "several additional useful results , such as a uniform version of the renewal theorem , and a useful bound for the prohorov metric are developed in appendices [ sec : key - renewal - theorem ] and [ sec : conv - proh - metr ] .",
    "the following notation will be used throughout .",
    "let @xmath27 , @xmath28 and @xmath29 denote the set of natural numbers , integers and real numbers , respectively .",
    "let @xmath5 .",
    "for @xmath30 , write @xmath31 for the positive part of @xmath32 , @xmath33 for the integer part , @xmath34 for @xmath35 , @xmath36 for the maximum and @xmath37 for the minimum .",
    "let @xmath38 denote the set of all nonnegative finite borel measures on @xmath39 . to simplify the notation ,",
    "let us take the convention that for any borel set @xmath40 , @xmath41 for any @xmath42 . for @xmath43 , the prohorov metric is defined to be @xmath44&=&\\inf\\{\\varepsilon>0\\dvtx \\nu_1(a)\\le\\nu_2(a^\\varepsilon)+\\varepsilon\\mbox { and } \\\\ & & \\hspace*{16.7pt}\\nu_2(a)\\le\\nu_1(a^\\varepsilon)+\\varepsilon\\mbox { for all borel set } a\\subseteq{\\mathbb{r}}\\},\\end{aligned}\\ ] ] where @xmath45 .",
    "this same metric was defined and used in gromoll and kruk @xcite ; they showed that the space @xmath38 is complete and separable under the metric .",
    "for any borel measurable function @xmath46 , the integration of this function with respect to the measure @xmath42 , @xmath47 , is denoted by @xmath48 .",
    "let @xmath49 denote the cartesian product .",
    "there are a number of ways to define the metric on the product space . for convenience ,",
    "we define the metric to be the maximum of the prohorov metric between each component . with a little abuse of notation , we still use @xmath50 to denote this metric .",
    "let @xmath51 be a general metric space .",
    "we consider the space @xmath52 of all right - continuous @xmath53-valued functions with finite left limits defined either on a finite interval @xmath16 $ ] or the infinite interval @xmath39 .",
    "we refer to the space as @xmath54,\\mathbf e)$ ] or @xmath55 depending on the function domain .",
    "the space @xmath52 is also known as the space of cdlg functions . for @xmath56,\\mathbf e)$ ] , the uniform metric is defined as @xmath57=\\sup_{0\\le t\\le t}\\mathbf{\\pi}[g(t),g'(t)].\\ ] ] however , a more useful metric we will use is the following skorohod @xmath58 metric : @xmath59=\\inf_{f\\in\\lambda_t}(\\|f\\|^\\circ_t\\vee\\upsilon _ t[g , g'\\circ f]),\\ ] ] where @xmath60 for @xmath6 and @xmath61 is the set of strictly increasing and continuous mapping of @xmath16 $ ] onto itself and @xmath62 if @xmath63 and @xmath64 are in the space @xmath65 , the skorohod @xmath58 metric is defined as @xmath66=\\int_0^\\infty e^{-t}({\\varrho}_t[g , g']\\wedge1)\\,dt.\\ ] ] by `` convergence in the space @xmath52 , '' we mean the convergence under the skorohod @xmath58 topology , which is induced by the skorohod @xmath58 metric @xcite .",
    "we use `` @xmath67 '' to denote the convergence in the metric space @xmath68 , and `` @xmath69 '' to denote the convergence in distribution of random variables taking values in the metric space @xmath68 .",
    "in this section , we first introduce the mathematical model .",
    "we then present the main results of this paper . following this ,",
    "is an outline of our proof .",
    "we consider a @xmath70 queue operated under the limited processor sharing policy , with the sharing limit equal to  @xmath0 .",
    "we use @xmath71 , @xmath72 and @xmath73 to denote the number of jobs in the buffer , the number of jobs in service , and the total number of jobs in the system at time @xmath74 , respectively .",
    "thus , @xmath75 we adopt the convention that @xmath76 and @xmath77 are right continuous .",
    "the system is allowed to be nonempty initially , that is , @xmath78 .",
    "we index jobs by @xmath79 the first @xmath80 jobs are initially in the system , with jobs @xmath81 in service and jobs @xmath82 waiting in the buffer .",
    "jobs arrived after time @xmath24 are indexed by @xmath83 according to the order of arrival .",
    "when a batch arrival occurs , an arbitrary rule is used to break the tie for the arrivals in the batch .",
    "the service policy in this model is fcfs .",
    "let @xmath84 denote the number of jobs that arrive at the buffer during time interval @xmath85 $ ] , for all @xmath6 .",
    "our arrival process @xmath86 is assumed to be general , as long as it satisfies a functional central limit theorem [ see ( [ eq : cond - a ] ) ] . according to the policy , a job may have to wait for a certain amount of time after arrival to get service .",
    "let @xmath87 denote the waiting time , and @xmath88 denote the arrival time of the @xmath89th job for all @xmath90 . by convention , @xmath91 for @xmath92 , and @xmath93 for @xmath94 .",
    "let @xmath95 the quantity @xmath96 can be viewed as the time that the @xmath89th job starts service .",
    "we use @xmath97 to denote the job size of the @xmath89th job for all @xmath98 .",
    "we assume that @xmath99 is a sequence of i.i.d .",
    "random variables with distribution @xmath100 .",
    "denote @xmath101 the probability measure associated with the distribution function @xmath100 . for jobs with index @xmath102 , that is , the first @xmath103 jobs that are initially in service , we use @xmath104 to denote the remaining job size of the job . the sequence @xmath105 is allowed to be general .",
    "we call @xmath106 the stochastic primitives of the system , and @xmath107 the initial conditions of the system .",
    "now we introduce a measure - valued state descriptor @xmath108 , which describes the evolution of the system with given initial conditions and stochastic primitives . for any borel set @xmath109 , @xmath110 denotes the total number of jobs in the buffer whose job size belongs to @xmath111 ; and for any borel set @xmath112 , @xmath113 denotes the total number of jobs in service whose residual job size belongs to @xmath111 . since no job can be in service with residual job size @xmath24 , @xmath114 for all @xmath6 .",
    "it is clear that we have the following relationship : @xmath115 define the _ cumulative service amount _ up to time @xmath74 by @xmath116 where @xmath117 if @xmath118 and @xmath119 if @xmath120 .",
    "a job will have received a cumulative amount of processing time @xmath121 during time interval @xmath122 $ ] if it is in service in this time period .",
    "let @xmath123 note that at time @xmath6 , @xmath124 is the index of the last job which has entered into service by time @xmath74 .",
    "thus , @xmath125 represents the number of jobs which have left the buffer and entered the server during time interval @xmath126 $ ] . using the notation introduced in this section ,",
    "the state descriptor can be written as @xmath127\\\\[-8pt ] & & { } + \\sum_{i=- q(0)+1}^{b(t)}\\delta_{v_i}\\bigl(a+s(\\tau_i , t)\\bigr),\\qquad a\\subset ( 0,\\infty),\\nonumber\\end{aligned}\\ ] ] with @xmath114 , where @xmath128 denotes the dirac measure of point @xmath32 on @xmath29 and @xmath129 . due to the lps policy",
    ", the sharing limit @xmath0 must be enforced at any time @xmath74 , @xmath130 we call ( [ eq : stoc - dym - eqn - b ] ) and ( [ eq : stoc - dym - eqn - s ] ) the _ stochastic dynamic equations _ and ( [ eq : policy - b ] ) and ( [ eq : policy - s ] ) the policy constraints .    for @xmath6",
    ", the workload of the system @xmath131 is defined to be the amount of time that the server remains busy _ if _ no more arrivals are allowed into the system at time  @xmath74 . using the state descriptor @xmath132",
    ", we can recover the workload @xmath131 at time @xmath6 by @xmath133 where @xmath134 denotes the identity function on @xmath29 .",
    "consider a sequence of limited processor sharing queues indexed by @xmath13 , where @xmath13 increases to @xmath135 through a sequence in @xmath136 .",
    "each queue is defined in the same way as in section [ subsec : limit - proc - shar - que ] . to distinguish models with different indices , quantities of the @xmath13th model",
    "are accompanied by superscript @xmath13 .",
    "each model may be defined on a different probability space @xmath137 .",
    "our results concern the asymptotic behavior of the descriptor under the _ diffusion _ scaling , which is defined by @xmath138 for all @xmath6 .",
    "we are also interested in other diffusion scaled quantities like the workload and queue length processes .",
    "note that @xmath139 , @xmath140 and @xmath141 are actually functions of @xmath142 , so the scaling for these quantities is defined as the functions of the corresponding scaling for @xmath142 , that is , @xmath143 for all @xmath6 .    to establish results on the convergence of the above sequence of stochastic processes , we need the following conditions , which are quite general and standard .",
    "we assume that the arrival processes satisfy @xmath144 for some sequence @xmath145 that satisfies @xmath146 and @xmath147 is a brownian motion with drift @xmath24 and variance @xmath148 . and",
    "the probability measure @xmath149 of job sizes in the @xmath13th system satisfies that as @xmath150 @xmath151&\\to&0,\\\\ \\label{eq : cond - s - u}\\lim_{n\\to\\infty}\\sup_{r } \\int_{[n , \\infty ) } x^{4 + 2p } \\nu^r(dx)&\\to&0 \\qquad\\mbox{for some } p>0,\\end{aligned}\\ ] ] where the probability measure @xmath101 satisfies @xmath152 assumption ( [ eq : cond - s - u ] ) is stronger than the `` two - plus - epsilon moment '' assumption needed for a functional central limit theorem .",
    "the stronger assumption is used in a separate part of our analysis to estimate moments of the shifted fluid scaled state descriptors ( see lemma [ lem : glivenko - cantelli ] , and its application in lemma [ lem : p - moment - bound ] ) .",
    "the extra moment assumption also appears in @xcite .",
    "since the space is scaled by @xmath13 in the diffusion scaling , the sharing limit should be scaled accordingly : @xmath153 also , the following initial condition will be assumed : @xmath154 as @xmath150 , where @xmath155 is the same as in ( [ eq : cond - s - u ] ) , @xmath156 and @xmath157 define the traffic intensity of the @xmath13th stochastic system by @xmath158 .",
    "we need the following heavy traffic condition : @xmath159    let @xmath160 be the mean and @xmath161 be the squared coefficient of variation ( scv ) of the job size distribution @xmath101 .",
    "the following proposition is a well - known heavy traffic approximation for the workload process of a single queue operated under a nonidling policy .",
    "readers are referred to @xcite for a proof .",
    "[ prop : workload ] assume ( [ eq : cond - a])([eq : cond - s - u ] ) , ( [ eq : cond - initial ] ) , ( [ eq : cond - initial - u ] ) and ( [ eq : cond - ht ] ) .",
    "the sequence of diffusion scaled workload process @xmath162 where @xmath163 is a reflected brownian motion with drift @xmath164 , variance @xmath165 and initial value @xmath166 .    since the lps is also a nonidling service policy , the above result on the workload process is still true for our model .",
    "however , it remains an open question about the job size process @xmath77 and many other performance processes as introduced in section [ subsec : limit - proc - shar - que ] .",
    "our main result establishes the diffusion limit for the measure - valued processes ( theorem [ thm : diffusion ] ) , from which the diffusion limit of queue length process follows directly ( corollary [ cor : piecewise - rbm ] )",
    ".    denote @xmath167 where @xmath168 is the _ equilibrium _ measure of @xmath101 , that is , @xmath169)=\\frac{1}{\\beta}\\int_0^x\\nu((y,\\infty))\\,dy$ ] for all @xmath170 .",
    "we have the following definition .",
    "[ defn : lifting - map ] let @xmath171 be the lifting map associated with the probability measure @xmath101 and constant @xmath0 given by @xmath172    note that @xmath173 maps the workload , which is in @xmath174 , to a measure - valued state , which is in @xmath49 .",
    "the intuition is that the remaining job sizes of those in service have the probability measure @xmath168 , which is the equilibrium distribution of the job size distribution @xmath101 .",
    "the total workload embodied in jobs that are in service is @xmath175 because at most @xmath0 jobs are allowed in service .",
    "dividing it by @xmath176 gives the number of jobs in service .",
    "the remaining workload @xmath177 resides in the buffer , where each job size follows the probability measure @xmath101 .",
    "dividing this amount by @xmath178 , the mean of @xmath101 , gives the number of jobs in buffer .",
    "our main result requires that the limit @xmath179 in ( [ eq : cond - initial ] ) satisfies @xmath180 a similar condition on the initial state is also imposed for proving a diffusion limit in queueing networks @xcite .",
    "when ( [ eq : cond - init - ssc ] ) does not hold , it is likely that some delayed versions of theorems are still true as in theorem 3 of bramson @xcite ; however , we will not pursue such generalization in this paper .",
    "[ thm : diffusion]assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "the sequence of diffusion scaled state descriptors @xmath181 where @xmath163 is the reflected brownian motion in proposition [ prop : workload ] .",
    "[ cor : piecewise - rbm ] assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "the sequence of diffusion scaled system size process @xmath182 converges in distribution as @xmath150 to @xmath183 , where @xmath184 and @xmath163 is the reflected brownian motion as in proposition [ prop : workload ] .",
    "since @xmath185 and the mapping @xmath186 defined by @xmath187 for any @xmath188 is continuous , the result follows from theorem [ thm : diffusion ] and the continuous mapping theorem .    in other words , @xmath183 is a reflected brownian motion with drift @xmath189 and variance @xmath190 when it is above @xmath191 and with drift @xmath192 and variance @xmath193 when it is below @xmath191 .      the major step to prove our main result is to establish the following _ state - space collapse _ result .",
    "[ thm : ssc ] assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "fix @xmath15 .",
    "if ( [ eq : cond - init - ssc ] ) holds , then @xmath194}{\\mathbf{d}}[({\\hat{{\\mathcal{q}}}^r}(t),{\\hat{{\\mathcal{z}}}^r}(t)),\\delta_{k,\\nu}{\\hat{w}^r}(t ) ] { \\rightarrow}0 \\qquad\\mbox{as } r\\to\\infty.\\ ] ]    the state - space collapse result is appealing , since it rigorously shows that all performance processes can be described as a simple , deterministic function of the workload process .",
    "we now use theorem [ thm : ssc ] to prove the main result .",
    "proof of theorem [ thm : diffusion ] we have the convergence of the workload processes @xmath195 in proposition [ prop : workload ] . since the mapping @xmath171 is continuous , by the continuous mapping theorem @xmath196 the result of the theorem follows immediately from the state - space collapse result in theorem [ thm : ssc ] and the `` convergence together lemma '' ( theorem 4.1 in @xcite ) .",
    "the proof of the state - space collapse is given in section [ sec : diff - appr ] , but it requires ample preparation . our proof is analogous to the framework developed in bramson @xcite for proving state - space collapse in multi - class networks with head - of - the - line service disciplines .",
    "the framework was later adopted for the ps queue in gromoll  @xcite , which the current paper closely follows . in section [ sec : fluid ] , we establish several fundamental properties for the equilibrium behavior of the lps fluid model introduced in @xcite .",
    "section [ sec : tightness ] establishes precompactness of a family of shifted fluid scaled processes , which will be defined in that section .",
    "briefly speaking , the proof of the state - space collapse is built on the `` richness '' of the set of fluid limits , which are obtained from the shifted fluid scaled processes .",
    "each fluid limit is shown to be a fluid model solution in section [ subsec : fluid - limits ] .",
    "we propose a fluid model , denoted by @xmath197 , to assist the study of the underlying stochastic processes for the lps queue .",
    "the parameters @xmath0 , @xmath198 and @xmath101 are the limiting sharing level defined in ( [ eq : cond - k ] ) , the limiting arrival rate defined in ( [ eq : cond - lambda ] ) , and the limiting job size distribution defined ( [ eq : cond - s ] ) , respectively . according to condition ( [ eq : cond - lambda ] ) , ( [ eq : cond - s ] ) , ( [ eq : cond - s - u ] ) and ( [ eq : cond - ht ] ) , we have that the traffic intensity of the fluid model @xmath199 although @xmath101 is required to satisfy ( [ eq : cond - nu - noatom ] ) in theorem [ thm : diffusion ] , in this section only , we allow the job size distribution to have atoms . the fluid analogue of the lps queue was first proposed and studied in @xcite , where general properties of the fluid model were studied for all traffic intensities @xmath200 . for the purpose of this paper",
    ", we now recall the definition and some general properties for critically loaded fluid model .    given a measure - valued process @xmath201 , for @xmath6 , let @xmath202 these quantities are the fluid analogues of @xmath203 and @xmath73 in the stochastic model .",
    "define the _ fluid cumulative service amount _ up to time @xmath74 by @xmath204 where @xmath205 when @xmath206 .",
    "it worth noting that the function @xmath207 take a slightly different form when @xmath208 , which is not the case in this paper .",
    "interested readers are referred to @xcite for detailed discussion . and",
    "for @xmath209 , denote @xmath210    an element @xmath211 is called a _",
    "valid initial condition",
    "_ if @xmath212 roughly speaking , validity of an initial state means that the initial state is consistent with the lps policy ; initial waiting jobs have the same job size distribution as arriving jobs .",
    "denote @xmath213 the set of all valid initial conditions .",
    "we now introduce the following _ fluid dynamic equations _ , which are analogous to ( [ eq : stoc - dym - eqn - b ] ) and ( [ eq : stoc - dym - eqn - s ] ) . for all @xmath214 , @xmath215 , @xmath216 where @xmath217 , @xmath218 , @xmath219 , @xmath220 and @xmath221 are defined in ( [ eq : fluid - def - q])([eq : fluid - accumulate - interval ] )",
    "they are subject to the following constraints : @xmath222 because @xmath201 , @xmath223 , @xmath219 , @xmath218 and @xmath224 are right continuous on @xmath39 and have left limits in @xmath136 . here and later",
    ", the integral @xmath225 is interpreted as the lebesgue  stieltjes integral on the interval @xmath226 $ ] , where by convention we set @xmath227 .",
    "the above dynamic equations and constraints define the fluid model @xmath228 .",
    "[ def : fluid ] @xmath201 is a solution to the fluid model @xmath228 with a valid initial condition @xmath229 if it satisfies the fluid dynamic equations ( [ eq : fluid - dym - eqn - b ] ) and ( [ eq : fluid - dym - eqn - s ] ) , subject to the constraints ( [ constr : non - decr])([constr : policy - s ] ) .    note that ( [ eq : cond - s - u ] ) and ( [ eq : cond - s - u ] ) imply that @xmath230 and ( [ eq : cond - nu - noatom ] ) implies @xmath231 it has been proved in @xcite ( cf .",
    "theorem 3.1 ) that under the conditions ( [ eq : cond - nu-1 ] ) and ( [ eq : cond - nu-11 ] ) , there exists a unique fluid model solution @xmath232 for any valid initial condition @xmath229 .",
    "moreover , by proposition 3.1 in @xcite , the fluid workload process which is defined as @xmath233 satisfies the workload conservation property , that is , @xmath234 since we restrict to the critically loaded case , that is , @xmath206 , we have @xmath235 the main objective of this section is to show the following long - term behavior of the critically loaded fluid model , which helps to establish the state - space collapse in section [ sec : diff - appr ] .",
    "[ thm : convergence - to - invariant - mani ] assume ( [ eq : critical - load - rho ] ) and ( [ eq : cond - nu-1])([eq : cond - nu - nonlattice ] ) . the unique solution @xmath236 , @xmath237 to the fluid model @xmath228 with a valid initial state @xmath229 such that",
    "@xmath238 satisfies @xmath239 moreover , for fixed constants @xmath240 the convergence is uniform for all fluid solutions with initial conditions in the set @xmath241    section [ subsec : invariantmanifold ] characterizes the equilibrium states for the fluid model .",
    "section [ subsec : conv - invar - manif ] presents the proof of convergence ( the first half of theorem [ thm : convergence - to - invariant - mani ] ) , and section [ subsec : unif - conv - invar - manif ] presents the proof of uniform convergence ( the second half of theorem [ thm : convergence - to - invariant - mani ] ) .",
    "[ def : invariant - manifold ] an element @xmath242 is called an _ equilibrium state _ for the fluid model @xmath228",
    "if the solution to the fluid model with initial condition @xmath229 satisfies @xmath243    the simple intuition here is that if the fluid model solution starts with an invariant state , it will stay at this state forever . by the restarting lemma , lemma 4.2 in  @xcite",
    ", a fluid model solution will remain in an equilibrium state once reach it .",
    "our first result is a characterization of an equilibrium state .",
    "[ thm : invariant - manifold ] an element @xmath242 is an equilibrium state if and only if @xmath244    suppose @xmath245 for some @xmath246 , we need show that @xmath247 is the fluid model solution . if @xmath248 , then by weak stability ( theorem 3.2 in @xcite ) , @xmath249 is the fluid model solution .",
    "so let us now focus on the case where @xmath250 .",
    "the fluid amount of jobs in buffer size and in service are @xmath251 if @xmath252 , then @xmath253 which implies that @xmath254 ; if @xmath255 , then @xmath256 which implies that @xmath257 .",
    "so condition ( [ constr : policy - b ] ) and ( [ constr : policy - s ] ) in definition [ def : fluid ] are satisfied . since @xmath258 and @xmath259 remain to be a constant , ( [ constr : non - decr ] )",
    "holds trivially .",
    "this also implies that the fluid dynamic equation ( [ eq : fluid - dym - eqn - b ] ) is satisfied .",
    "it remains to verify the fluid dynamic equation ( [ eq : fluid - dym - eqn - s ] ) .",
    "the fluid accumulative service amount @xmath260 since @xmath259 is a constant .",
    "the right - hand side of ( [ eq : fluid - dym - eqn - s ] ) becomes @xmath261 which equals @xmath262 , for all @xmath215 .",
    "so ( [ eq : fluid - dym - eqn - s ] ) is verified .",
    "thus , @xmath232 is the fluid model solution .",
    "suppose that @xmath229 is an equilibrium state , we need to show that @xmath229 takes the form ( [ eq : inv - mani ] ) .",
    "if @xmath263 , then trivially @xmath264 .",
    "let us now assume that @xmath265 . since @xmath266 is the fluid model solution , the fluid dynamic equation ( [ eq : fluid - dym - eqn - s ] ) must be satisfied .",
    "that is , @xmath267 for all @xmath268 .",
    "this yields @xmath269 which implies that @xmath270 due to the arbitrary of @xmath74 and @xmath271 . since @xmath229 is a valid state , @xmath272 .",
    "let @xmath273 again by validity of state @xmath229 , @xmath274 and @xmath275 .",
    "so we conclude that @xmath245 .",
    "we now identify conditions under which the fluid model solution starting at a valid initial state @xmath229 will converge to an equilibrium state .    if the initial condition @xmath276 , then by weak stability ( theorem 3.2 in @xcite ) , the fluid model solution will always be zero .",
    "so @xmath277 is an equilibrium state . from now on ,",
    "we focus on the case where the initial condition @xmath278 . by the fluid dynamic equation ( [ eq : fluid - dym - eqn - b ] ) , @xmath279 .",
    "it follows from the workload conservation property ( [ eq : prop - workload ] ) that @xmath280 for all @xmath6 .",
    "so @xmath281 since @xmath282 if and only if @xmath283 , @xmath284 so the function @xmath221 as defined in ( [ eq : fluid - accumulate ] ) has an inverse on the interval @xmath39 , which is denoted by @xmath285 .",
    "by the inverse function theorem , @xmath286 according to ( [ eq : fluid - dym - eqn - s ] ) in definition [ def : fluid ] , we have @xmath287\\,d\\bar b(s).\\ ] ] perform the change of variables @xmath288 and @xmath289 to get @xmath290\\bar z(\\bar t(v))\\,dv\\\\ & & { } -\\int_{0}^{u}[1-f(u - v)]\\,d\\bar q(\\bar t(v)).\\end{aligned}\\ ] ] note that the function @xmath291 has bounded variation since it is the difference of two nondecreasing function @xmath292 and @xmath293 . according to the integration by parts formula provided by lemma [ lem : ls - int - by - parts ] , we obtain @xmath294\\bar q(\\bar t(u))\\nonumber\\\\[-8pt]\\\\[-8pt ] & & { } + [ 1-f(u)]\\bar q(0 ) + \\int_{0}^{u}\\bar q\\bigl(\\bar t(u - v)\\bigr)\\,df(v ) , \\nonumber\\end{aligned}\\ ] ] where @xmath295 is the equilibrium distribution of @xmath296 which can be written as @xmath297\\,dy$ ] .",
    "it follows from ( [ eq : critical - load - rho ] ) and ( [ eq : cond - nu-11 ] ) that @xmath206 and @xmath298 , so we obtain the following key relationship : @xmath299\\\\[-8pt ] & & { } + \\int_0^{u}\\bar z\\bigl(\\bar t(u - v)\\bigr)\\,df_e(v ) \\nonumber\\end{aligned}\\ ] ] for all @xmath300 . to simplify notation ,",
    "denote @xmath301\\\\[-8pt ] x(u)&=&q(u)+z(u),\\nonumber\\end{aligned}\\ ] ] where @xmath302 by ( [ constr : policy - b ] ) and ( [ constr : policy - s ] ) , the above equation can be written as @xmath303\\\\[-8pt ] & & { } + \\int_0^{u}\\bigl(x(u - v)\\wedge k\\bigr)\\,df_e(v).\\nonumber\\end{aligned}\\ ] ] by lemma a.1 in @xcite , for any valid initial condition @xmath229 , the above integral equation has a unique solution which is a cdlg function .",
    "our analysis on the limiting behavior of fluid model solutions will be mainly based on ( [ eq : key - sim ] ) .    for a nonzero valid initial condition @xmath229 and an @xmath304 , define the @xmath305-perturbation of it by @xmath306 and the @xmath307-perturbation of it by @xmath308 the simple idea behind this complicated",
    "looking construction is that ( a ) the perturbed state @xmath309 is still a valid initial condition , ( b ) the workload of the perturbed state satisfies @xmath310 and ( c ) the function @xmath311 which is defined based on @xmath309 in the same as ( [ eq : def - h ] ) satisfies @xmath312 the complication in the construction on the perturbation comes from the requirement ( [ eq : perturbe - workload ] ) , which will provide convenience in the proof of lemmas [ lem : x - limit ] and [ lem : x - limit - unif ] .",
    "inequality ( [ eq : h - h_epsilon - bound ] ) will be used in the proof of the following lemma .",
    "let @xmath313 denote the solution to ( [ eq : key - sim ] ) with @xmath314 replaced by @xmath311 .",
    "we have the following comparison .",
    "[ lem : x - perturb ] assume ( [ eq : cond - nu-1 ] ) , ( [ eq : cond - nu-11 ] ) and @xmath265 . for",
    "all @xmath304 , @xmath315    let @xmath316 . to prove @xmath317 , it is enough to show that @xmath318 .",
    "note that @xmath319 . by right continuity of @xmath320 and @xmath321 , @xmath322 . now",
    ", suppose @xmath323 . by ( [ eq : key - sim ] ) and ( [ eq :",
    "h - h_epsilon - bound ] ) we have following bound estimation : @xmath324\\,d f(v)\\\\ & & \\qquad\\quad { } + \\int_0^{u^*}\\bigl[\\bigl(x^\\varepsilon(u^*-v)\\wedge k\\bigr)-\\bigl(x(u^*-v)\\wedge k\\bigr)\\bigr]\\,d f_e(v).\\nonumber\\end{aligned}\\ ] ] assumption ( [ eq : cond - nu-11 ] ) implies that @xmath325 .",
    "so there exists @xmath326 such that @xmath327 for all @xmath328 . by the definition of @xmath329",
    ", we have that @xmath330 by right continuity of @xmath320 and @xmath321 , we can choose @xmath331 small enough such that @xmath332.\\ ] ] so by ( [ eq : difference ] ) , we have @xmath333 this contradicts the definition of @xmath329 .",
    "so we must have that @xmath318 .",
    "the proof for the other inequality is completely analogous .",
    "for the solution @xmath320 to ( [ eq : key - sim ] ) with initial condition @xmath229 , define @xmath334 where @xmath335 .",
    "the quantity @xmath336 can be interpreted as the fluid system size corresponding to the equilibrium state with workload @xmath337 .",
    "we now use the above lemma and the key renewal theorem to show the following convergence . to help with the proof ,",
    "we introduce the renewal function @xmath338 associated with the distribution function @xmath296 ( see section v.2 in @xcite for detailed discussion ) .",
    "[ lem : x - limit ] assume ( [ eq : critical - load - rho ] ) and ( [ eq : cond - nu-1])([eq : cond - nu - nonlattice ] ) .",
    "the solution @xmath320 to ( [ eq : key - sim ] ) with initial condition @xmath242 and @xmath339 satisfies @xmath340    we first study the case where @xmath341 .",
    "convolve both sides of ( [ eq : key - sim ] ) with , the renewal function @xmath342 of @xmath100 , to get @xmath343 since @xmath344 , by moving all terms containing @xmath345 to the left and all terms containing @xmath346 to the right , we obtain @xmath347 this gives @xmath348\\\\[-8pt ] & & { } + [ k-(x\\wedge k)]*(1-f_e)*u(u ) .",
    "\\nonumber\\end{aligned}\\ ] ] both @xmath349 and @xmath350 are directly riemann integrable since they are nonincreasing and integrable functions . by the key renewal theorem",
    ", we have the convergence of the first two terms on the right - hand side of ( [ eq : tech - conv1 ] ) : @xmath351 note that @xmath352 in this case , and the last term in ( [ eq : tech - conv1 ] ) is always nonnegative .",
    "so there exists @xmath353 such that @xmath354 equivalently , this means that @xmath355 for all @xmath356 .",
    "so the last term in ( [ eq : tech - conv1 ] ) is nonnegative and can be bounded above by @xmath357=k[(1-f_e)*u(u)-(1-f_e)*u(u - u_1)],\\ ] ] which converges to 0 by the key renewal theorem .",
    "so in this case we have @xmath358 .    in the case",
    "where @xmath253 , we convolve both sides of ( [ eq : key - sim ] ) with @xmath359 , the renewal function of @xmath360 to get @xmath361 again , since @xmath344 , by moving all terms containing @xmath345 to the right and all terms containing @xmath346 to the left , we obtain @xmath362 by the key renewal theorem , the first term in the above converges : @xmath363 note that @xmath364 in this case , and the last term in ( [ eq : tech - conv2 ] ) is always nonpositive .",
    "so there exists @xmath365 such that @xmath366 equivalently , this means that @xmath367 for all @xmath368 .",
    "the last term in ( [ eq : tech - conv2 ] ) is nonnegative and , according to the upper bound ( [ eq : upper - bound ] ) , can be bounded above by @xmath369 = \\frac{w}{\\beta}[(1-f)*u_e(u)-(1-f)*u_e(u - u_2)],\\ ] ] which converges to 0 by the key renewal theorem .",
    "so in this case , we have @xmath370 .",
    "now it only remains to study the case where @xmath371 .",
    "for any @xmath304 , let @xmath309 denote the @xmath305-perturbation of the initial condition @xmath372 , introduced before lemma [ lem : x - perturb ] .",
    "it follows from ( [ eq : perturbe - workload ] ) that @xmath373 following from the discussion of our first case : @xmath374 by lemma [ lem : x - perturb ] , @xmath375 for all @xmath376 .",
    "so for all @xmath377 there exists @xmath378 such that when @xmath379 @xmath380 similarly , we have the @xmath307-perturbation @xmath381 for @xmath382 .",
    "it follows from ( [ eq : perturbe - workload ] ) that @xmath383 following from the discussion of our first case , @xmath384 by lemma [ lem : x - perturb ] , @xmath385 for all @xmath376 .",
    "so for all @xmath377 there exists @xmath386 such that when @xmath387 @xmath388 summarizing this case , we have @xmath389 .    [",
    "lem : ax - converges ] assume ( [ eq : critical - load - rho ] ) and ( [ eq : cond - nu-1])([eq : cond - nu - nonlattice ] ) .",
    "let @xmath232 be the solution to the fluid model @xmath228 with initial condition @xmath242 and @xmath390 .",
    "let @xmath391 .",
    "we have as @xmath392 , @xmath393&\\to&0,\\\\ \\label{eq : ax - s - conv } \\sup_{y\\in(0,\\infty)}\\biggl|\\bar{\\mathcal{z}}(t)(a_y ) - \\frac{w\\wedge k\\beta_e}{\\beta_e}\\nu_e(a_y)\\biggr|&\\to&0.\\end{aligned}\\ ] ]    if @xmath248 , the result holds trivially .",
    "now assume that @xmath394 .",
    "let @xmath395 where @xmath396 is defined in ( [ eq : x - infinity ] ) .",
    "based on the fluid dynamic equation ( [ eq : fluid - dym - eqn - b ] ) and the fact that @xmath101 is a probability measure , we have @xmath397\\nu(a)|\\le|\\bar q(t)-q(\\infty)|,\\ ] ] for all borel set @xmath111 .",
    "this implies that @xmath398 where @xmath399 denote the @xmath400-enlargement as introduced in section [ subsec : notatioin ] .",
    "similarly , we have @xmath401 by the change of variable @xmath288 [ @xmath402 and the definition of the prohorov metric , @xmath403\\le|q(u)-q(\\infty)|.\\ ] ] by lemma [ lem : x - limit ] , there exists @xmath353 such that when @xmath404 we have @xmath405 .",
    "so for all @xmath377 , there exists @xmath406 such that @xmath407 \\le\\varepsilon\\qquad\\mbox{for all } t > t_1.\\ ] ]    it remains to study the limiting behavior of @xmath408 .",
    "perform the change of variable @xmath288 ( @xmath409 ) to the fluid dynamic equation ( [ eq : fluid - dym - eqn - s ] ) , we get @xmath410.\\ ] ] due to the fact that @xmath206 , we have @xmath411 .",
    "thus , @xmath412 .",
    "since @xmath413 , we then have the following bound estimation : @xmath414\\\\[-8pt ] & & \\qquad\\quad { } + \\biggl|\\lambda\\int_{0}^{u}\\nu(a_y+u - v ) [ z(\\infty ) -z(v)]\\,dv\\biggr|\\nonumber\\\\ & & \\qquad\\quad{}+z(\\infty)\\nu_e(a_y+u).\\nonumber\\end{aligned}\\ ] ] it is clear that the first and the last terms on the right - hand side of ( [ eq : tech-3 - 2 ] ) vanishes as @xmath415 . recall that @xmath296 is the distribution function corresponding to the measure  @xmath101 . by integration by parts ( see lemma [ lem : ls - int - by - parts ] ) , the second term on the right - hand side of ( [ eq : tech-3 - 2 ] ) can be written as @xmath416q(u)-[1-f(y+u)]q(0)+\\int_{0}^{u}q(v)\\,df(y+u - v)\\biggr|,\\ ] ] which is less than or equal to @xmath417q(u)-[f(y+u)-f(y)]q(\\infty)| + |[1-f(y+u)]q(0)|\\\\ & & \\qquad { } + \\int_{0}^{u}|q(u - v)-q(\\infty)|\\,df(y+v).\\end{aligned}\\ ] ] by convergence of @xmath320 , for all @xmath377 there exists a @xmath418 such that @xmath419 if @xmath420 .",
    "for all @xmath377 , we can choose @xmath365 such that @xmath421 . when @xmath422 , the above inequality can be further bounded by @xmath423\\varepsilon + \\int_{0}^{u - u_1}|q(u - v)-q(\\infty)|\\,df(y+v)\\\\ & & \\quad { } + \\int_{u - u_1}^{u}|q(u - v)-q(\\infty)|\\,df(y+v)\\\\ & & \\qquad\\le[1+q(0)+q(\\infty)]\\varepsilon+[f(u - u_1+y)-f(y)]\\varepsilon\\\\ & & \\qquad { } + { \\sup_{v\\ge0}}|q(v)-q(\\infty)|[f(u)-f(u - u_1)]\\\\ & & \\qquad\\le\\biggl(2+\\frac{2w}{\\beta}\\biggr)\\varepsilon,\\end{aligned}\\ ] ] where the last inequality is due to ( [ eq : upper - bound ] ) .",
    "when @xmath422 , the third term in ( [ eq : tech-3 - 2 ] ) can be written as @xmath424\\,dv + \\lambda\\int_{u_1}^{u}\\nu(a_y+u - v ) [ z(\\infty)-z(v)]\\,dv\\biggr|,\\ ] ] which is bounded above by @xmath425 + \\varepsilon\\lambda\\int_{u_1}^u [ 1-f(v)]\\,dv\\\\ & & \\qquad\\le\\lambda k\\varepsilon+\\lambda\\beta\\varepsilon,\\end{aligned}\\ ] ] where the last inequality is due to the bound @xmath426 for all @xmath427 .",
    "so for all @xmath377 there exists a @xmath428 such that @xmath429    proof of theorem [ thm : convergence - to - invariant - mani ] , part i note that @xmath430 . by the workload conversing property , @xmath431 . according to lemma [ lem : conv - proh ] , ( [ eq : ax - s - conv ] ) in lemma [ lem : ax - converges ] implies that @xmath432\\to0 \\qquad\\mbox{as } t\\to\\infty.\\ ] ] this and ( [ eq : pov - b - conv ] ) implies the convergence result in theorem [ thm : invariant - manifold ] .",
    "the convergence in the previous subsection depends on the initial condition @xmath229 .",
    "we now show that the convergence is uniform for all initial conditions in the set @xmath433 defined in theorem  [ thm : convergence - to - invariant - mani ] .",
    "to emphasize the dependency on the initial condition , we use @xmath434 to denote the set of solutions to equation ( [ eq : key - sim ] ) with input function @xmath314 induced by initial condition @xmath435 , and @xmath436 to denote the set of solutions to the fluid model @xmath228 with initial condition @xmath435 .",
    "[ lem : x - limit - unif ] assume ( [ eq : critical - load - rho ] ) and ( [ eq : cond - nu-1])([eq : cond - nu - nonlattice ] ) . for each @xmath377 there",
    "exists an @xmath437 such that when @xmath438 , @xmath439    to prove this lemma , we need to adjust the proof of lemma [ lem : x - limit ] with the assistance of lemma [ lem : key - renewal - thm - unif ] .",
    "let @xmath440 . by the definition of the set @xmath433 in theorem  [ thm : convergence - to - invariant - mani ] , @xmath441 is the set of nonincreasing functions satisfying condition ( [ eq : bound - h-0 ] ) and ( [ eq : unif - int ] ) in lemma [ lem : key - renewal - thm - unif ] . for any @xmath377 ,",
    "divide the set @xmath433 into three parts , @xmath442 where @xmath443 and @xmath444 .",
    "we first focus on the set @xmath445 . by doing the same algebra as in the proof of lemma [ lem : x - limit ]",
    ", we see that ( [ eq : tech - conv1 ] ) holds for any @xmath446 . by lemma [ lem : key - renewal - thm - unif ] and the key renewal theorem , there exists a @xmath447 such that @xmath448 for all @xmath449 .",
    "so for the first two terms on the right - hand side of ( [ eq : tech - conv1 ] ) , we have @xmath450 for all @xmath446 and @xmath451 .",
    "note that the last term in ( [ eq : tech - conv1 ] ) is always nonnegative .",
    "so when @xmath449 we have @xmath452 [ or equivalently @xmath453 , for all @xmath446 .",
    "so the last term on the right - hand side of ( [ eq : tech - conv1 ] ) is nonnegative and can be bounded above by @xmath454=k[(1-f_e)*u(u)-(1-f_e)*u(u - u^*_1)],\\ ] ] which converges to 0 as @xmath415 by the key renewal theorem .",
    "so there exists a such that when @xmath455 , the absolute value of third term on the right - hand side of ( [ eq : tech - conv1 ] ) is bounded by @xmath456 .",
    "let @xmath457 . by ( [ eq : tech - conv1 ] ) and summarizing the above , we obtain @xmath458    next",
    ", we consider the set @xmath459 . by doing the same algebra as in the proof of lemma [ lem : x - limit ]",
    ", we see that ( [ eq : tech - conv2 ] ) holds for any @xmath460 . by lemma [ lem : key - renewal - thm - unif ] , there exists a @xmath461 such that @xmath462 for all @xmath463 .",
    "so we have @xmath464 for all @xmath460 and @xmath463 .",
    "note that the last term in ( [ eq : tech - conv2 ] ) is always nonpositive .",
    "so when @xmath465 we have @xmath466 [ or equivalently , @xmath367 ] for all @xmath460 .",
    "so by ( [ eq : upper - bound ] ) , the absolute value of the last term on the right - hand side of ( [ eq : tech - conv2 ] ) can be bounded by @xmath468 = \\frac{w}{\\beta}[(1-f)*u_e(u)-(1-f)*u_e(u - u^*_2)],\\ ] ] which converges to 0 as @xmath415 by the key renewal theorem .",
    "so there exists a @xmath469 such that when @xmath470 , the last term on the right - hand side of ( [ eq : tech - conv2 ] ) is bounded by @xmath471 .",
    "let @xmath472 . by ( [ eq : tech - conv2 ] ) and summarizing the above , @xmath473",
    "it only remains to deal with the set @xmath474 .",
    "we can restrict @xmath475 , since we are only interested in small ones . according to ( [ eq : perturbe - workload ] ) , for any @xmath476 , we have @xmath477 and @xmath478 . denote @xmath479 and @xmath480 the solutions to ( [ eq : key - sim ] ) corresponding to @xmath481 and @xmath482 , respectively . by lemma [",
    "lem : x - perturb ] , @xmath483 note that in this case , the workload @xmath484 . by ( [ eq : x - infinity ] )",
    ", we have that @xmath485 according to the above two cases , when @xmath486 , @xmath487 for all @xmath476 .",
    "this means that @xmath488 where @xmath489 .",
    "[ lem : ax - converges - unif ] assume ( [ eq : critical - load - rho ] ) and ( [ eq : cond - nu-1])([eq : cond - nu - nonlattice ] ) . for all @xmath377 there exists an @xmath490 such that when @xmath491 , @xmath492&<&\\varepsilon,\\\\ \\label{eq : ax - s - conv - unif } \\sup_{(\\bar{\\mathcal{q}}(\\cdot),\\bar{\\mathcal{z}}(\\cdot))\\in{\\xi}({\\mathscr i}_m^p ) } \\sup_{y\\in(0,\\infty)}\\biggl|\\bar{\\mathcal{z}}(t)(a_y ) -\\frac{w\\wedge k\\beta_e}{\\beta_e}\\nu_e(a_y)\\biggr|&<&\\varepsilon.\\end{aligned}\\ ] ]    the proof of this corollary is almost the same as the proof of lemma  [ lem : ax - converges ] .",
    "just note that by lemma [ lem : x - limit - unif ] , the @xmath493 in ( [ eq : ax - buffer - conv ] ) and the @xmath494 in ( [ eq : ax - server - conv ] ) are good for all @xmath435 . with @xmath495 , the result of this",
    "lemma immediately follows .",
    "proof of theorem [ thm : convergence - to - invariant - mani ] , part ii now we use lemma [ lem : ax - converges - unif ] to show the uniform convergence result . note that @xmath496 . by the definition of @xmath497 , for any @xmath498 , @xmath499 . according to lemma  [ lem : conv - proh ] ,",
    "( [ eq : ax - s - conv - unif ] ) in lemma [ lem : ax - converges - unif ] implies that for all @xmath377 there exists an @xmath500 such that when @xmath501 , @xmath502<\\varepsilon.\\ ] ] the uniform convergence follows from the above and ( [ eq : pov - b - conv - unif ] ) .",
    "the objective of this section is to show the precompactness property , theorem [ thm : precompactness ] at the end of this section , for the sequence of shifted fluid scaled processes , which is defined in the following section .",
    "much of our understanding of the diffusion scaled process will be derived from results about the _ shifted fluid scaled process _ , which is defined by @xmath503 for all @xmath504 and @xmath6 . to see the relationship between these two scalings ,",
    "consider the diffusion scaled process on the interval @xmath16 $ ] , which corresponds to the interval @xmath17 $ ] for the unscaled process .",
    "fix a constant @xmath18 , the interval will be covered by the @xmath20 overlapping intervals @xmath21,\\qquad m=0,1,\\ldots,\\lfloor{rt}\\rfloor.\\ ] ] for each @xmath505 $ ] , there exists an @xmath506 and @xmath507 $ ] ( which may not be unique ) such that @xmath508 .",
    "thus , @xmath509 this will serve as a key relationship between fluid and diffusion scaled processes .",
    "we are also interested in shifted fluid scaled versions of other processes , like the workload and system size processes .",
    "note that @xmath139 , @xmath140 , @xmath510 , @xmath141 and @xmath511 are actually functions of @xmath142 , so the scaling for these quantities is defined as the functions of the corresponding scaling for @xmath142 , that is , @xmath512 for all @xmath209 .",
    "we define the shifted fluid scaling for the arrival process as @xmath513 for all @xmath6 . by ( [ eq : b(t ) ] ) ,",
    "the shifted fluid scaling for @xmath514 is @xmath515 for all @xmath6 . to shorten the notation , for all @xmath209 , denote @xmath516    a shifted",
    "fluid scaled version of the stochastic dynamic equations ( [ eq : stoc - dym - eqn - b ] ) and ( [ eq : stoc - dym - eqn - s ] ) can be written as , for @xmath209 , @xmath517\\\\[-8pt ] & & { } -\\frac{1}{r}\\sum_{i = r{\\bar{b}^{r , m}}(s)+1}^{r{\\bar{b}^{r , m}}(t ) } \\delta_{v^r_i}(a),\\qquad a\\subseteq[0,\\infty),\\nonumber\\\\ \\label{eq : mechanism - s } { \\bar{{\\mathcal{z}}}^{r , m}}(t)(a)&=&{\\bar{{\\mathcal{z}}}^{r , m}}(s)\\bigl(a+s^r(rm+rs , rm+rt)\\bigr)\\nonumber\\\\ & & { } + \\frac{1}{r}\\sum_{i = r{\\bar{b}^{r , m}}(s)+1}^{r{\\bar{b}^{r , m}}(t ) } \\delta_{v^r_i}\\bigl(a+s^r(\\tau^r_i , rm+rt)\\bigr),\\\\ & & \\eqntext{a\\subseteq(0,\\infty).}\\end{aligned}\\ ] ] please note that @xmath518 for all @xmath6 according to our definition .",
    "the dynamics of the system is determined by the above equations .",
    "equation ( [ eq : mechanism - b ] ) says that the status of the buffer at time @xmath74 equals the status at time @xmath519 plus what has arrived to the buffer and minus what has left from the buffer during time interval @xmath126 $ ] .",
    "those jobs who left buffer enter service ; the service process has been taken care of by shifting the set @xmath111 by the cumulative service amount @xmath520 that the @xmath89th job receives .",
    "this corresponds to the second term on the right - hand side of ( [ eq : mechanism - s ] ) .",
    "this plus the status at time @xmath519 shifted by accumulative service amount @xmath521 is equal to the status of the server at time @xmath74 , as indicated in  ( [ eq : mechanism - s ] ) .",
    "we first establish some bounds which will be useful for later discussion .",
    "the following lemma gives some bound on the arrival processes .",
    "[ lem : arrival - process ] assume ( [ eq : cond - a ] ) and ( [ eq : cond - lambda ] ) .",
    "fix @xmath15 and @xmath18 . for all @xmath305 ,",
    ", there exists an @xmath522 such that whenever @xmath523 , @xmath524}}|e^{r , m}(s , t)-\\lambda(t - s)|>\\varepsilon ' } \\bigr)<\\varepsilon.\\ ] ]    let @xmath525 and @xmath526 .",
    "note that @xmath527}\\frac{m+t}{r}<t+1 $ ] for all large @xmath13 , and @xmath528 is the same as @xmath529 . for any @xmath530 ,",
    "there exists an @xmath531 such that @xmath532 for all @xmath523 , so the left - hand side of ( [ ineq : arrival - bound ] ) can be bounded above by @xmath533,|s'-t'|<\\delta } \\biggl|\\frac { 1}{r } e^r(r^2t')-\\lambda rt ' -\\biggl(\\frac{1}{r}e^r(r^2s')-\\lambda rs'\\biggr)\\biggr|>\\varepsilon ' } \\biggr)\\hspace*{-35pt}\\ ] ] for all @xmath534 . by the assumptions ( [ eq : cond - a ] ) and ( [ eq : cond - lambda ] ) on the arrival process , @xmath535 converges in distribution to the brownian motion @xmath147 . since a brownian motion is almost surely continuous",
    ", we conclude that ( [ eq : tech - arrival - bound ] ) converges to zero as @xmath536 .",
    "then the inequality ( [ ineq : arrival - bound ] ) follows immediately .",
    "here is a remark that will facilitate some arguments later on .",
    "the @xmath537 and @xmath305 in ( [ ineq : arrival - bound ] ) can be replaced by @xmath538 , which is a function of @xmath13 that vanishes at infinity .",
    "here is the proof . for each index @xmath13 let @xmath539 clearly , @xmath540 is not empty since @xmath541 .",
    "let @xmath542 for each @xmath543 .",
    "assume that @xmath538 does not vanish at infinity .",
    "there exists a @xmath530 and a subsequence @xmath544 which increases to infinity such that @xmath545 however , by lemma [ lem : arrival - process ] , for @xmath546 there exists an @xmath547 such that when @xmath548 , ( [ ineq : arrival - bound ] ) must hold .",
    "this contradicts ( [ eq : epsilon - r ] ) .",
    "based on this , we construct @xmath549 } }    \\bigr\\}.\\ ] ] according to lemma [ lem : arrival - process ] , we have that @xmath550    recall the glivenko ",
    "cantelli estimate in lemma [ lem : glivenko - cantelli ] . by the same argument as in the above , for fixed constant @xmath551",
    ", there exists a function @xmath552 , which vanishes at infinity , such that the probability inequality in lemma [ lem : glivenko - cantelli ] holds with @xmath305 and @xmath537 replaced by this function .",
    "in other words , if we denote @xmath553}\\sup_{f\\in{\\mathscr{v } } }    & & \\hspace*{182pt}\\le \\varepsilon_{\\mathrm{gc}}(r ) \\bigr\\},\\nonumber\\end{aligned}\\ ] ] where @xmath554 is defined in ( [ eq : def - eta ] ) and @xmath555 is defined in ( [ eq : set - of - test - fns ] ) , then for any fixed constant @xmath551 , @xmath556    now , we use the above result and proposition [ prop : workload ] to obtain a bound on the queue length processes .",
    "[ lem : q - bound ] assume ( [ eq : cond - a])([eq : cond - s - u ] ) , ( [ eq : cond - initial ] ) , ( [ eq : cond - initial - u ] ) and ( [ eq : cond - ht ] ) . fix @xmath15 and @xmath18 . for all @xmath557 ,",
    "there exists a constant @xmath558 such that @xmath559}{\\bar{q}^{r , m}}(t)\\le m } \\bigr)\\ge1-\\eta.\\ ] ]    since @xmath560 for all large enough @xmath13 , it is enough to prove the following inequality : @xmath561}{\\hat{q}^r}(t)\\le m}\\bigr)\\ge 1-\\eta.\\ ] ] suppose this is not true , then there exists an @xmath557 such that for any @xmath562 , @xmath561}{\\hat{q}^r}(t)>m}\\bigr)>\\eta.\\ ] ] denote the event in the above probability by @xmath563 . by the stochastic dynamic equation ( [ eq : stoc - dym - eqn - b ] ) , we have @xmath564",
    "since @xmath101 is a probability measure on @xmath174 , there exists an @xmath565 such that .",
    "we have the following inequality from the dynamic equation ( [ eq : mechanism - b ] ) : @xmath566 for any @xmath13 , on the event @xmath563 there exists a @xmath567 $ ] ( random and depending on  @xmath13 ) such that @xmath568 by ( [ eq : omegae - def ] ) , on the event @xmath569 , @xmath570 } e^r(r^2t)\\le2\\lambda r^2(t+1),\\ ] ] for all large enough @xmath13 .",
    "let @xmath571 and @xmath572 . by ( [ eq : omega - gc - def ] ) and ( [ eq : tech-4-workload ] ) , on the event @xmath573 , @xmath574 for all large @xmath13 . by ( [ eq : omegae ] ) and ( [ eq : omega - gc ] )",
    ", we have for each @xmath558 , @xmath561}{\\hat{w}^r}(t)>am\\nu(a,\\infty)-2 } \\bigr)>\\eta.\\ ] ] this contradicts the result in proposition [ prop : workload ] .",
    "the following lemma gives a bound on the @xmath575th moment of the measure - valued process , where @xmath155 is the same as in conditions ( [ eq : cond - s - u ] ) and ( [ eq : cond - initial - u ] ) .",
    "[ lem : p - moment - bound ] assume ( [ eq : cond - a])([eq : cond - s - u ] ) , ( [ eq : cond - k])([eq : cond - initial - u ] ) and ( [ eq : cond - ht ] ) . fix @xmath15 and @xmath18 . for each @xmath557 , there exists a constant @xmath558 such that @xmath559 } \\langle{\\chi^{1+p}},{{\\bar{{\\mathcal{q}}}^{r , m}}(t)+{\\bar{{\\mathcal{z}}}^{r , m } } ( t)}\\rangle\\le m } \\bigr)\\ge1-\\eta.\\ ] ]    by condition ( [ eq : cond - initial - u ] ) , @xmath576 denote the event in the above by @xmath577 . by lemma [ lem :",
    "q - bound ] , for any @xmath557 , there exists a constant @xmath578 such that @xmath579}\\frac{1}{r}q^r(rm+rt)\\le m ' } \\biggr)\\ge1-\\eta/2.\\ ] ] denote the event in the above by @xmath580 .",
    "fix @xmath581 and @xmath582 . by lemma [ lem : glivenko - cantelli ] , @xmath583 to prove the lemma",
    ", it suffices to show that there exists an @xmath558 such that on the event @xmath584 , @xmath585 } \\biggl\\langle{\\chi^{1+p}},{\\frac{1}{r}{\\mathcal{q}}^r(rm+rt)+\\frac{1}{r}{\\mathcal{z}}^r(rm+rt)}\\biggr\\rangle \\le m,\\ ] ] for all large @xmath13 . in the remainder of the proof , all random quantities of the @xmath13th system",
    "is evaluated at a sample path in the event @xmath586 .",
    "we first find a bound for @xmath527}\\langle{\\chi ^{1+p}},{\\frac{1}{r}{\\mathcal{q}}^r(rm+rt)}\\rangle$ ] . by the dynamic equation ( [ eq : stoc - dym - eqn - b ] ) , we have that for all @xmath587 and @xmath588 $ ] , @xmath589 by ( [ eq : omegae - def ] ) and the definition of @xmath590 , we have @xmath591 } e^r(rm+rt ) & < & \\lambda r^2(t+1)\\le r^2m_1,\\\\ \\label{eq : tech-4-q - bound } \\max_{m\\le\\lfloor{rt}\\rfloor}\\sup_{t\\in[0,l]}q^r(rm+rt ) & < & rm'\\le rl_1\\end{aligned}\\ ] ] for all large enough @xmath13 .",
    "so @xmath585}\\biggl\\langle{\\chi ^{1+p}},{\\frac{1}{r}{\\mathcal{q}}^r(rm+rt)}\\biggr\\rangle \\le\\sup_{-rm_1<n < r^2m_1}\\langle{\\chi^{1+p}},{{\\bar{\\eta}^r } ( n , l_1)}\\rangle.\\ ] ] by ( [ eq : set - of - test - fns ] ) in the remark after lemma [ lem : glivenko - cantelli ] , the function @xmath592 , which appears in the definition of @xmath593 .",
    "so by ( [ eq : omega - gc - def ] ) @xmath585}\\langle{\\chi ^{1+p}},{{\\bar{{\\mathcal{q}}}^{r , m}}(t)}\\rangle \\le l_1\\langle{\\chi^{1+p}},{\\nu^r}\\rangle+1/2.\\ ] ] it then follows from condition ( [ eq : cond - s - u ] ) and theorem 25.12 in @xcite , we have @xmath594 as @xmath150 .",
    "thus , @xmath585}\\langle{\\chi ^{1+p}},{{\\bar{{\\mathcal{q}}}^{r , m}}(t)}\\rangle \\le l_1\\langle{\\chi^{1+p}},{\\nu}\\rangle+1,\\ ] ] for all large @xmath13 .",
    "we now look for a bound for @xmath527}\\langle{\\chi ^{1+p}},{\\frac{1}{r}{\\mathcal{z}}^r(rm+rt)}\\rangle$ ] .",
    "it follows from the dynamic equation ( [ eq : mechanism - s ] ) that for any @xmath587 , @xmath588 $ ] and borel set @xmath595 , @xmath596 given @xmath597 , for those @xmath89 s with @xmath598 we have @xmath599.\\ ] ] let s first consider the case where @xmath600 for all @xmath601 $ ] . in this case , by ( [ eq : cumulative ] ) , the cumulative service amount @xmath602 for all large @xmath13 where the last inequality is due to ( [ eq : cond - k ] ) .",
    "for those @xmath89 s such that @xmath603 larger than @xmath604 , we use the trivial lower bound @xmath605 .",
    "also take the trivial lower bound that @xmath606 .",
    "then we have the following inequality on the @xmath575th moment : @xmath607\\\\[-8pt ] & & \\qquad\\quad{}+\\sum_{j=0}^{m-1 } \\biggl\\langle{\\biggl(\\biggl(\\chi-\\frac{j}{2k}\\biggr)^+\\biggr)^{1+p}},{\\frac{1}{r}\\sum _ { i= b^r(r(m - j-1))+1}^{b^r(r(m - j))}\\delta_{v^r_i}}\\biggr\\rangle\\nonumber\\\\ & & \\qquad\\quad{}+\\biggl\\langle{\\chi^{1+p}},{\\frac{1}{r}\\sum _ { i = b^r(rm)+1}^{b^r(rm+rt)}\\delta_{v^r_i}}\\biggr\\rangle.\\nonumber\\end{aligned}\\ ] ] now , we consider the case where there exists an @xmath601 $ ] such that @xmath608 . in this case , let @xmath609 \\mbox { such that } z^r(s)=0\\}$ ] . pick a point @xmath610 $ ] with @xmath611 .",
    "then we can replace time 0 in ( [ ineq:1+p - moment - bound - est-1 ] ) with @xmath612 and only consider intervals @xmath613 $ ] with @xmath614 .",
    "so we have @xmath615\\\\[-8pt ] & & \\qquad\\quad{}+\\sum_{j=0}^{m_0 - 1 } \\biggl\\langle{\\biggl(\\biggl(\\chi-\\frac{j}{2k}\\biggr)^+\\biggr)^{1+p}},{\\frac{1}{r}\\sum _ { i= b^r(r(m - j-1))+1}^{b^r(r(m - j))}\\delta_{v^r_i}}\\biggr\\rangle\\nonumber\\\\ & & \\qquad\\quad{}+\\biggl\\langle{\\chi^{1+p}},{\\frac{1}{r}\\sum _ { i = b^r(rm)+1}^{b^r(rm+rt)}\\delta_{v^r_i}}\\biggr\\rangle.\\nonumber\\end{aligned}\\ ] ] it is clear that the upper bound in ( [ ineq:1+p - moment - bound - est-2 ] ) is less than or equal to the upper bound in ( [ ineq:1+p - moment - bound - est-1 ] ) .",
    "so we only need to focus on ( [ ineq:1+p - moment - bound - est-1 ] ) to estimate an upper bound for the @xmath575th moment . by ( [ eq : tech-4-e - bound ] ) and ( [ eq : tech-4-q - bound ] ) ,",
    "for all @xmath587 , @xmath616 $ ] and all large  @xmath13 , @xmath617.\\end{aligned}\\ ] ] it then follows from ( [ ineq:1+p - moment - bound - est-1 ] ) that @xmath618\\\\[-8pt ] & & \\qquad\\quad { } + \\sup_{-rm_1<n < r^2m_1}\\sum_{j=0}^{m-1 } \\biggl\\langle{\\biggl(\\biggl(\\chi-\\frac{j}{2k}\\biggr)^+\\biggr)^{1+p}},{{\\bar{\\eta}^r } ( n , l_1)}\\biggr\\rangle\\nonumber\\\\ & & \\qquad\\quad { } + \\sup_{-rm_1<n < r^2m_1}\\langle{\\chi^{1+p}},{{\\bar{\\eta}^r } ( n , l_1)}\\rangle.\\nonumber\\end{aligned}\\ ] ] the first term on the right - hand side of the above is bounded by @xmath619 , @xmath620 by the definition of @xmath577 .",
    "again , due to ( [ eq : omega - gc - def ] ) , condition ( [ eq : cond - s - u ] ) and theorem 25.12 in @xcite , the third term on the right - hand side of the above is bounded by @xmath621 for all large @xmath13 .",
    "it now only remains to deal with the second term on the right - hand side of ( [ eq : tech-4 - 1+p - bound ] ) .",
    "let @xmath622 the summation in the second term on the right - hand side of ( [ eq : tech-4 - 1+p - bound ] ) can be upper bounded by @xmath623 applying fubini s theorem , the last bound in the above equals @xmath624 since the function @xmath625 , it again follows from ( [ eq : omega - gc - def ] ) , ( [ eq : cond - s - u ] ) and theorem  25.12 in @xcite that the second term on the right - hand side of ( [ eq : tech-4 - 1+p - bound ] ) is bounded by @xmath626 for all large @xmath13 .",
    "the proof of this lemma is completed by summing up all these upper bounds .",
    "the following proposition summarizes the bound estimates in this section .",
    "[ prop : bound ] assume ( [ eq : cond - a])([eq : cond - s - u ] ) , ( [ eq : cond - k])([eq : cond - initial - u ] ) and ( [ eq : cond - ht ] ) . for any @xmath557 , there exists a constant @xmath558 and an event @xmath627 for each index @xmath13 such that @xmath628 and on the event @xmath629 , we have @xmath630 } { \\bar{q}^{r , m}}(t)&\\le & m,\\\\ \\max_{m\\le\\lfloor{rt}\\rfloor}\\sup_{t\\in[0,l ] } { \\bar{w}^{r , m}}(t)&\\le & m,\\\\ \\max_{m\\le\\lfloor{rt}\\rfloor}\\sup_{t\\in[0,l ] } \\langle{\\chi^{1+p}},{{\\bar{{\\mathcal{q}}}^{r , m}}(t)+{\\bar{{\\mathcal{z}}}^{r , m}}(t)}\\rangle&\\le & m.\\end{aligned}\\ ] ]    the first and the third inequality follow from lemmas [ lem : q - bound ] and [ lem : p - moment - bound ] .",
    "the second inequality follows from proposition [ prop : workload ] .",
    "recall that a set @xmath631 is relatively compact if @xmath632 and there exists a sequence of nested compact sets @xmath633 such that @xmath634 and @xmath635 where @xmath636 denotes the complement of @xmath637 ; see @xcite , theorem a7.5 .",
    "we establish the following relative compactness property using the bound estimates in section [ subsec : some - bound - estimates ] .",
    "[ lem : compactness ] assume ( [ eq : cond - a])([eq : cond - s - u ] ) , ( [ eq : cond - k])([eq : cond - initial - u ] ) and ( [ eq : cond - ht ] ) .",
    "fix @xmath15 and @xmath18 . for each @xmath557 there exist a constant @xmath558 and a relatively compact set @xmath638 such that for all @xmath629 ( which is introduced in proposition [ prop : bound ] ) and @xmath9 , @xmath639 for all @xmath505\\mbox { and } m\\le\\lfloor{rt}\\rfloor$ ] .",
    "let @xmath640 clearly , @xmath641 is a relatively compact set for any constant @xmath558 .",
    "note that @xmath642 is bounded by @xmath562 for all @xmath587 , @xmath505 $ ] and @xmath643 . by the markov inequality , for any @xmath6 , @xmath587 and @xmath629 , @xmath644 which is bounded by @xmath645 by the definition of @xmath627 .",
    "note that @xmath646 is bounded by @xmath647 by the policy constraint ( [ eq : policy - s ] ) . by condition ( [ eq : cond - k ] ) ,",
    "@xmath648 for all large @xmath13 .",
    "the same argument of @xmath649 applies for @xmath650 .",
    "a similar result as in this section was proved in @xcite .",
    "however , here we consider a much longer time horizon @xmath651 $ ] instead of interval @xmath16 $ ] in @xcite .",
    "the proof of the following result use a combination of ideas in @xcite and @xcite .",
    "[ lem : asympt - regul ] assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "fix @xmath15 and @xmath18 . for each @xmath652 there",
    "exists a @xmath653 ( depending on @xmath305 and @xmath654 ) such that @xmath655}\\sup_{x\\in{\\mathbb{r}}_+ } { \\bar{{\\mathcal{z}}}^{r , m}}(t)([x , x+\\kappa])\\le \\varepsilon}\\bigr)\\ge1-\\eta.\\ ] ]    to prove ( [ ineq : asym - reg ] ) , it suffices to show @xmath656}\\sup_{x\\in{\\mathbb{r}}_+ } { \\bar{{\\mathcal{z}}}^{r,0}}(t)([x , x+\\kappa])\\le \\varepsilon } \\bigr)\\ge1-\\eta.\\ ] ] first , we have that for any @xmath657 , there exists a @xmath400 such that @xmath658)\\le\\varepsilon/2 } \\bigr)\\ge1-\\eta/2.\\ ] ] the proof of this inequality , which is based on ( [ eq : cond - initial - noatom ] ) , is exactly the same as the proof of ( 5.14 ) in @xcite , so we omit it for brevity .",
    "now , we need to extend this result to the interval @xmath651 $ ] . denote the event in ( [ ineq : initial - regular ] ) by @xmath659 .",
    "let @xmath660 by ( [ eq : omegae ] ) , ( [ eq : omega - gc ] ) and ( [ ineq : omega - b ] ) , there exists an @xmath558 such that @xmath661 in the remainder of the proof , all random objects are evaluated at a fixed sample path in @xmath662 .",
    "for any @xmath663 , @xmath664 $ ] , we define the time @xmath665 to be the last time before @xmath74 that the fluid - scaled number of jobs in service is less than @xmath666 .",
    "let @xmath667 we have the following three cases for discussion .    if @xmath668 , then by ( [ ineq : initial - regular ] ) for each @xmath669 @xmath670+s^r(rt_1,rt)\\bigr)\\le\\varepsilon/2.\\ ] ] if @xmath671 , then for each @xmath672 there exists an @xmath673 $ ] such that @xmath674 . since we are only concerned with small @xmath305 [ which should be small enough such that @xmath675 , @xmath676 by the policy constraint ( [ eq : policy - s ] ) .",
    "note that ( [ eq : b(t ) ] ) implies @xmath677 by ( [ eq : omegae - def ] ) , we have @xmath678 for all large @xmath13 . for any borel set @xmath595 , by the fluid scaled system dynamic equation ( [ eq : mechanism - s ] ) , @xmath679 which can be made smalled than @xmath680 by choosing @xmath331 suitably small .",
    "if @xmath681 , then since the sharing limit is @xmath12 , we have @xmath682 for all large @xmath13 .",
    "so @xmath670+s^r(rt_1,rt)\\bigr ) \\le{\\bar{{\\mathcal{z}}}^{r,0}}(t_1)\\biggl(\\biggl[\\frac{2m}{\\varepsilon},\\infty\\biggr)\\biggr)\\le\\varepsilon/2,\\ ] ] where the last inequality is due to the markov s inequality and the definition of @xmath627 . to summarize",
    ", we have @xmath670+s^r(rt_1,rt)\\bigr)\\le\\varepsilon/2.\\ ] ]    by the fluid scaled stochastic dynamic equation ( [ eq : mechanism - s ] ) , @xmath683 ) & = & { \\bar{{\\mathcal{z}}}^{r,0}}(t_1)\\bigl([x , x+\\kappa]+s^r(rt_1,rt)\\bigr)\\nonumber\\\\[-8pt]\\\\[-8pt ] & & { } + \\frac{1}{r}\\sum_{i = r{\\bar{b}^{r,0}}(t_1)+1}^{r{\\bar{b}^{r,0}}(t ) } \\delta_{v^r_i}\\bigl([x , x+\\kappa]+s^r(\\tau_i , rt)\\bigr ) , \\nonumber\\end{aligned}\\ ] ] for each @xmath118 .",
    "when @xmath120 , we have @xmath684)&=&{\\bar{{\\mathcal{z}}}^{r,0}}(t)((0,\\kappa])+{\\bar{{\\mathcal{z}}}^{r,0}}(t)(\\ { 0\\})\\\\ & = & { \\bar{{\\mathcal{z}}}^{r,0}}(t_1)\\bigl((0,\\kappa]+s^r(rt_1,rt)\\bigr)\\\\ & & { } + \\frac{1}{r}\\sum_{i = r{\\bar{b}^{r,0}}(t_1)+1}^{r{\\bar{b}^{r,0}}(t ) } \\delta_{v^r_i}\\bigl((0,\\kappa]+s^r(\\tau_i , rt)\\bigr),\\\\ & \\le&{\\bar{{\\mathcal{z}}}^{r,0}}(t_1)\\bigl([0,\\kappa]+s^r(rt_1,rt)\\bigr)\\\\ & & { } + \\frac{1}{r}\\sum_{i = r{\\bar{b}^{r,0}}(t_1)+1}^{r{\\bar{b}^{r,0}}(t ) } \\delta_{v^r_i}\\bigl([0,\\kappa]+s^r(\\tau_i , rt)\\bigr).\\end{aligned}\\ ] ] since all we need is an upper bound estimate , we stick with ( [ eq:3 ] ) for analysis . by the choice of @xmath493 , the first term on the right - hand side ( [ eq:3 ] ) is always upper bounded by @xmath680 .",
    "let @xmath685 denote the second term on the right - hand side of the proceeding equation .",
    "now it only remains to show that @xmath686 .",
    "let @xmath687 be a partition of the interval @xmath688 $ ] such that @xmath689 for all @xmath690 , where @xmath331 is to be chosen below .",
    "note that by the definition of @xmath493 , @xmath691 write @xmath685 as the summation @xmath692+s^r(\\tau_i , rt)\\bigr).\\ ] ] recall that @xmath603 is the time that the @xmath89th job starts service , so @xmath693 for those @xmath694 $ ] .",
    "this implies that @xmath695 by the definition of @xmath493 , we have @xmath696 for all @xmath697 $ ] .",
    "this gives @xmath698 so for any @xmath694 $ ] , we have @xmath699+s^r(\\tau_i , rt)\\subseteq c_j$ ] , where @xmath700.\\ ] ] thus , @xmath701 by ( [ eq : omegae - def ] ) , ( [ eq : arrival - e - bound ] ) and the definition of @xmath627 , we have for all @xmath702 @xmath703 where the last inequality in each of the above bound holds because we only care about small @xmath331 and large @xmath13 .",
    "choose @xmath704 . by ( [ eq : omega - gc - def ] ) ,",
    "@xmath705 for all large @xmath13 .",
    "this implies that @xmath706\\nu^r(c_j)+n\\varepsilon_1.\\ ] ] let @xmath707 .",
    "since @xmath708 is a close interval with length @xmath709 , by condition ( [ eq : cond - nu - noatom ] ) , we can choose @xmath710 small enough such that @xmath711 where @xmath712 is the @xmath713-enlargement of @xmath714 . by ( [ eq : cond - s ] ) , we also have @xmath715 for all large enough @xmath13 .",
    "thus , we conclude that @xmath716+n\\varepsilon _ 1\\\\ & \\le&2\\varepsilon_2[{\\bar{b}^{r,0}}(t)-{\\bar{b}^{r,0}}(t_1)]+n\\varepsilon_1\\\\ & \\le&2\\varepsilon_2\\biggl(\\lambda\\frac{4mk}{\\varepsilon}+1+m\\biggr)+n\\varepsilon_1,\\end{aligned}\\ ] ] where the last inequality is again due to ( [ eq : omega - reg ] ) , ( [ eq : arrival - e - bound ] ) and ( [ eq : tech-4-n - bound ] ) . finally , by the choice of @xmath717 , we have that @xmath686 .      consider a cdlg function @xmath718 on a fixed interval @xmath719 $ ] taking values in a metric space @xmath720 .",
    "the _ modulus of continuity _ is defined to be @xmath721,|s - t|<\\delta}{\\pi}[\\zeta ( s),\\zeta(t)].\\ ] ] if the metric space is @xmath29 , we just use the euclidian norm ; if the space is @xmath38 or @xmath49 , we use the prohorov metric @xmath50 defined in section [ sec : introduction ] .",
    "we have the following bound on the oscillation of the shifted fluid scaled measure - valued processes .",
    "[ lem : oscillation - bound ] assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "fix @xmath15 and @xmath18 . for each @xmath652 there exists a @xmath530 ( depending on @xmath305 and @xmath654 ) such that @xmath722    the proof of this lemma , which builds on the asymptotic regularity in lemma  [ lem : asympt - regul ] , uses the exactly same argument as in the proof of lemma 5.6 based on lemma 5.5 in @xcite .",
    "we omit this proof for brevity .",
    "fix @xmath15 and @xmath723 . for any sequence @xmath724 , consider the following set : @xmath725 denote the sequence @xmath724 by @xmath726 . to emphasize the dependency on @xmath726 and @xmath727 , denote the above event by @xmath728 . by lemmas [ lem : asympt - regul ] and [ lem : oscillation - bound ] , for any @xmath557",
    ", there exists an @xmath726 such that @xmath729",
    "this implies that for any finite number @xmath730 , we have @xmath731 let @xmath732 denote the smallest number such that @xmath733 for any @xmath734 , we have @xmath735 since @xmath736 .",
    "let @xmath737 [ by this definition , we allow @xmath738 to be infinite .",
    "for example , when the function @xmath739 has an upper bound .",
    "in fact , @xmath738 can be viewed as the `` inverse '' of @xmath739 . ]",
    "it is clear that @xmath738 is nondecreasing .",
    "note that for any @xmath740 there exists @xmath741 such that @xmath742 for all @xmath523 .",
    "thus , we have that @xmath743 now define @xmath744 note that @xmath745 is not empty for all large enough @xmath13 [ since @xmath746 for all large enough @xmath13 ] , and in this case , @xmath748 .",
    "so we conclude that @xmath749 denote @xmath750 for any @xmath13 , the @xmath13th system is defined on the probability space @xmath751 . the stochastic processes @xmath752 and @xmath753 are actually measurable functions on @xmath754 . from now on , we explicitly write these processes down in the form of @xmath755 and @xmath756 to indicate that they are evaluated on the sample path @xmath757 .",
    "we are now ready to present the precompactness result .",
    "[ thm : precompactness ] assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "fix @xmath15 and @xmath18 . for each @xmath557 ,",
    "the exists a constant @xmath558 and an @xmath726 such that such that @xmath758 suppose @xmath759 is a sequence in @xmath174 which goes to infinity .",
    "any sequence of functions @xmath760 with @xmath761 and @xmath762 for each @xmath730 has a subsequence @xmath763 such that @xmath764\\to0\\qquad \\mbox{as } i\\to\\infty,\\ ] ] for some process @xmath765 which is continuous , where @xmath766 is the uniform metric defined in ( [ eq : sup - norm ] ) .    for a fixed @xmath557 , pick an @xmath558 that satisfies ( [ ineq : omega - b ] ) and construct an @xmath726 so that it satisfies ( [ ineq : omega - reg - osc ] ) .",
    "define @xmath767 via ( [ eq : omega - m ] ) .",
    "the probability inequality ( [ ineq : omega - m ] ) follows immediately from ( [ ineq : omega - b ] ) and ( [ ineq : omegar ] ) .",
    "the space @xmath49 endowed with the metric @xmath50 ( defined in section [ subsec : notatioin ] ) is complete .",
    "lemma [ lem : compactness ] verifies condition ( @xmath32 ) in theorem 3.6.3 of @xcite . for any @xmath377 there exists a @xmath768 such that @xmath769 for all @xmath770 . by ( [ eq : omega - reg - osc ] ) and ( [ eq : omegar ] )",
    ", we have that when @xmath771 and @xmath772 , where @xmath773 is specified in @xmath726 and @xmath732 is defined in ( [ ineq : omega - s - j - r - j ] ) , @xmath774 for any @xmath775 and @xmath776 .",
    "this verifies condition ( @xmath777 ) in theorem 3.6.3 of @xcite .",
    "so the sequence @xmath778 is precompact in the space @xmath54 , { \\mathbf{m}}\\times{\\mathbf{m}})$ ] endowed with the skorohod @xmath58 topology . in other words",
    ", there is a convergent subsequence .",
    "the limit of this subsequence is continuous by the oscillation bound ( [ eq : tech-5-osc ] ) . so",
    "convergence in the skorohod @xmath58-topology is the same as convergence in the uniform metric defined in section [ subsec : notatioin ] .",
    "in this section , we establish the state - space collapse ( theorem [ thm : ssc ] ) .",
    "the task is divided into the following steps : we first show that the limits in theorem [ thm : precompactness ] , which called fluid limits , are fluid model solutions ; the set of fluid limits is `` rich '' in the sense that itself and the set of shifted fluid scaled process mutually approximates each other ( lemmas [ lem : asymp - close ] and [ lem : fluid - unif - approx ] ) ; the proof of the state - space collapse result is finally presented based on the richness of fluid limits and the properties of fluid model solution ( theorems [ thm : convergence - to - invariant - mani ] and [ thm : invariant - manifold ] ) .",
    "let @xmath779 denote the set of fluid limits of all convergent subsequences of sequences in theorem [ thm : precompactness ] .",
    "it is then quite clear that we have the following property .",
    "[ lem : asymp - close ] assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "the set of fluid limits @xmath779 is nonempty .",
    "pick an element @xmath780 , for any @xmath377 and @xmath781 , there exists an @xmath523 , @xmath587 and @xmath782 such that @xmath783\\le\\varepsilon.\\ ] ]    roughly speaking , this lemma says that any element in @xmath779 can be approximated by a shifted fluid scaled process of the @xmath13th system evaluated at some sample path in @xmath784 with arbitrarily large index @xmath13 .",
    "this helps prove the following property of the fluid limits .",
    "fix a constant @xmath785 , where @xmath155 is the same one as in ( [ eq : cond - s - u ] ) and ( [ eq : cond - initial - u ] ) . recall the subset @xmath786 of all valid initial conditions defined in ( [ eq : comp - set - init ] ) .",
    "[ lem : prop - fluid - limit ] assume ( [ eq : cond - a])([eq : cond - ht ] ) .",
    "fix @xmath723 and @xmath785 .",
    "any element @xmath780 is a critically loaded fluid model solution with initial condition belongs to @xmath786 .",
    "we first show that the initial condition @xmath787 . by the definition of the fluid limit",
    ", there exists a subsequence @xmath788 where the above convergence is in the prohorov metric . by proposition [ prop : bound ] and the lps policy , we have @xmath789 for all large @xmath790 .",
    "this implies that for any @xmath791 , @xmath792 by the corollary of theorem 25.12 in @xcite , we have that for any @xmath791 , @xmath793 since we can take @xmath562 big enough such that @xmath794 , this implies that @xmath795 and @xmath796 , which yields the result .    by lemma [ lem : asymp - close ] , any fluid limit @xmath765 can be approximated by a shifted fluid scaled process of the @xmath13th system evaluated at some sample path in @xmath784 with arbitrarily large index @xmath9 ; the state descriptor of the @xmath13th system satisfies the stochastic dynamic equations ( [ eq : stoc - dym - eqn - b ] ) and ( [ eq : stoc - dym - eqn - s ] ) .",
    "it then follows from the same argument as in lemmas 6.1 and 6.2 in @xcite that each fluid limit satisfies the fluid model equations ( [ eq : fluid - dym - eqn - b ] ) and ( [ eq : fluid - dym - eqn - s ] ) and constraints ( [ constr : non - decr])([constr : policy - s ] ) .",
    "in fact , @xcite is more general in the sense that the traffic intensity is allowed to be any positive number instead of being 1 as required in this paper .",
    "lemma [ lem : fluid - unif - approx ] in the following is analogous to lemma 4.1 in @xcite .",
    "in contrast to lemma [ lem : asymp - close ] above , this lemma says that any shifted fluid scaled process of the @xmath13th system evaluated at some sample path in @xmath784 with index @xmath13 large enough can be approximated by some element in @xmath779 , which has been proved to be a fluid model solution in lemma [ lem : prop - fluid - limit ] .",
    "this result will help prove the state - space collapse result for diffusion scaled processes .",
    "[ lem : fluid - unif - approx ] assume ( [ eq : cond - a])([eq : cond - ht ] ) . for each @xmath377",
    ", there exists an @xmath781 such that for any @xmath797 , @xmath587 and @xmath798 , we can find a @xmath780 satisfying @xmath799<\\varepsilon.\\ ] ]    assume it is not true .",
    "then there exists an @xmath377 such that for any natural number @xmath89 there exist an @xmath800 , @xmath801 and @xmath802 such that @xmath803\\ge\\varepsilon,\\ ] ] for all @xmath804 .",
    "however , by theorem [ thm : precompactness ] , the sequence @xmath805 contains a convergent subsequence , the limit of which must be in @xmath779 .",
    "this is a contradiction .      with all the preparation",
    ", we finally present the proof of state - space collapse .",
    "proof of theorem [ thm : ssc ] by ( [ ineq : omega - m ] ) , it suffices to show that for each @xmath377 , there exists an @xmath522 such that when @xmath806 , @xmath807 } { \\mathbf{d}}[({\\hat{{\\mathcal{q}}}^r}(\\omega , t),{\\hat{{\\mathcal{z}}}^r}(\\omega , t ) ) , \\delta_{k,\\lambda}{\\hat{w}^r}(\\omega , t)]<\\varepsilon.\\ ] ] in the following , we fix @xmath806 and @xmath798 . by lemma [ lem : prop - fluid - limit ] ,",
    "any @xmath808 , @xmath809 is a critically loaded fluid model solution with initial condition @xmath810 .",
    "denote @xmath811 it follows from the workload conservation property ( [ eq : prop - workload ] ) that @xmath812 . by theorem [ thm : convergence - to - invariant - mani ]",
    ", there exists an @xmath490 such that when @xmath813 , @xmath814<\\varepsilon/3,\\ ] ] for all @xmath804 .",
    "now , fix a constant @xmath815 . note that @xmath816\\subset[0,rl^*]\\cup\\bigcup_{m=0}^{\\lfloor{rt}\\rfloor } [ r(m+l^*),r(m+l)].\\ ] ] by the definition of diffusion and shifted fluid scaling , to show ( [ eq : ssc - suff-1 ] ) it suffices to show @xmath817 } { \\mathbf{d}}[({\\bar{{\\mathcal{q}}}^{r , m}}(\\omega , s),{\\bar{{\\mathcal{z}}}^{r , m}}(\\omega , s ) ) , \\delta_{k,\\lambda}{\\bar{w}^{r , m}}(\\omega , s)]&<&\\varepsilon,\\\\ \\label{eq : ssc - suff-2 - 0 } \\sup_{s\\in[0,l^ * ] } { \\mathbf{d}}[({\\bar{{\\mathcal{q}}}^{r,0}}(\\omega , s),{\\bar{{\\mathcal{z}}}^{r,0}}(\\omega , s ) ) , \\delta_{k,\\lambda}{\\bar{w}^{r,0}}(\\omega , s)]&<&\\varepsilon.\\end{aligned}\\ ] ]    we first prove ( [ eq : ssc - suff-2-m ] ) .",
    "fix an @xmath776 . by lemma [ lem : fluid - unif - approx ] , for any @xmath818",
    ", there exists a @xmath804 ( depending on @xmath819 and @xmath820 ) such that @xmath821<\\varepsilon'.\\ ] ] by the definition of @xmath784 and proposition [ prop : bound ] , following the same proof as in lemma [ lem : prop - fluid - limit ] , we have that for each fixed @xmath785 , @xmath822 for all @xmath588 $ ] .",
    "it then follows from lemma [ lem : workload - pov ] and by taking @xmath537 small enough that @xmath823}}|\\tilde w(t)-{\\bar{w}^{r , m}}(\\omega , t)| < \\frac{\\varepsilon}{3 \\max({1}/{\\beta},{1}/{\\beta_e})}.\\ ] ] note that for any real numbers @xmath824 , by the definition of the lifting map @xmath173 and the metric @xmath50 , we have @xmath825\\\\ & & \\qquad<\\max\\biggl({\\mathbf{d}}\\biggl[\\frac{(w_1-k\\beta_e)^+}{\\beta}\\nu , \\frac{(w_2-k\\beta_e)^+}{\\beta}\\nu\\biggr],\\\\ & & \\qquad\\hspace*{64.35pt}{\\mathbf{d}}\\biggl[\\frac{w_1\\wedge k\\beta_e}{\\beta_e}\\nu_e , \\frac{w_2\\wedge k\\beta_e}{\\beta_e}\\nu_e\\biggr ] \\biggr).\\end{aligned}\\ ] ] it is clear that for any @xmath826 and borel set @xmath40 , we have that @xmath827 , where @xmath828 is the @xmath829-enlargement of @xmath111 .",
    "similarly , we have @xmath830 .",
    "so @xmath831\\le    { \\mathbf{d}}\\biggl[\\frac{(w_1-k\\beta_e)^+}{\\beta}\\nu , \\frac{(w_2-k\\beta_e)^+}{\\beta}\\nu\\biggr ] & \\le&\\biggl|\\frac{(w_1-k\\beta_e)^+}{\\beta } -\\frac{(w_2-k\\beta_e)^+}{\\beta}\\biggr| \\\\ & \\le&\\frac{1}{\\beta}|w_1-w_2|.\\end{aligned}\\ ] ] following the same argument , we have @xmath832 \\le\\biggl|\\frac{w_1\\wedge k\\beta_e}{\\beta_e } -\\frac{w_2\\wedge k\\beta_e}{\\beta_e}\\biggr| \\le\\frac{1}{\\beta_e}|w_1-w_2|.\\ ] ] thus , we conclude that @xmath833 < \\max\\biggl(\\frac{1}{\\beta},\\frac{1}{\\beta_e}\\biggr)|w_1-w_2|.\\ ] ] so ( [ eq : ssc - suff-2-m ] ) follows from ( [ eq : tech-6-invar ] ) and ( [ eq : tech-6-immed-01])([eq : tech-6-immd-3 ] ) .    it now remains to show ( [ eq : ssc - suff-2 - 0 ] ) . by lemma [ lem : fluid - unif - approx ] , for any @xmath818",
    ", there exists a @xmath804 ( depending on @xmath13 and @xmath820 ) such that @xmath834<\\varepsilon'.\\ ] ] by conditions ( [ eq : cond - initial ] ) and ( [ eq : cond - init - ssc ] ) , we have that @xmath835 in other words , the initial condition @xmath836 is an equilibrium state . since @xmath765 is a fluid model solution , by theorem [ thm : invariant - manifold ] , @xmath837 so ( [ eq : ssc - suff-2 - 0 ] ) follows immediately from ( [ eq : tech-6-immd-2])([eq : tech-6-immed-1 ] ) and the above equation .",
    "the following lemma is used in the derivation of ( [ eq : key - pre ] ) and in the proof of lemma [ lem : ax - converges ] .",
    "we do not require the continuity of distribution function @xmath296 .",
    "[ lem : ls - int - by - parts ] suppose that @xmath296 is a probability distribution function with @xmath298 , and @xmath838 has bounded variation on @xmath839 $ ] for each @xmath840 . for any @xmath841 , @xmath842}[1-f(u - v)]\\,dq(v )",
    "= q(u)-[1-f(u)]q(0)-\\int_{[0,u]}q(u - v)\\,df(v).\\ ] ]    let @xmath841 be fixed and let @xmath843 $ ] . define @xmath844 .",
    "then @xmath845 is a left continuous function in on @xmath846 $ ] . clearly , both @xmath845 and @xmath847 are functions with bounded variation on the interval @xmath685 .",
    "let @xmath848 denote the set of points in @xmath685 where both @xmath845 and @xmath847 are discontinuous . according to theorem 6.2.2 in @xcite , @xmath849\\\\[-8pt ] & = & q(u)-[1-f(u)]q(0)+\\sum_{a\\in s}a(a ) , \\nonumber\\end{aligned}\\ ] ] where @xmath850\\bigl(q(a^+)-q(a^-)\\bigr)\\\\ & & { } + \\bigl[q(a)-\\tfrac{1}{2}\\bigl(q(a^+)+q(a^-)\\bigr)\\bigr]\\bigl(f(a^+)-f(a^-)\\bigr).\\end{aligned}\\ ] ] since @xmath845 is continuous on the left and @xmath847 is continuous on the right at all @xmath851 , then @xmath852[q(a)-q(a^-)]\\nonumber\\\\ & & { } + \\bigl[\\tfrac{1}{2}\\bigl(q(a)-q(a^-)\\bigr)\\bigr][f(a^+)-f(a)]\\\\ & = & 0.\\nonumber\\end{aligned}\\ ] ]",
    "now the lemma follows from ( [ eq : int - by - parts ] ) , ( [ eq : int - by - part - adj ] ) and @xmath853 } q(v ) \\,df(u - v ) = \\int_{[0 , u ] } q(u - v)\\,df(v).\\ ] ]",
    "the following result is similar as the key renewal theorem . but the convergence is shown to be uniform on a set of functions @xmath854 as specified below .",
    "[ lem : key - renewal - thm - unif ] assume that each @xmath855 is nonnegative and nonincreasing .",
    "assume that @xmath856 let @xmath857 be the renewal function associated with a nonlattice inter - renewal distribution with finite mean @xmath178",
    ". then @xmath858    conditions ( [ eq : bound - h-0 ] ) and ( [ eq : unif - int ] ) imply that @xmath859 let @xmath530 and @xmath377 be arbitrary positive numbers in @xmath860 . by ( [ eq : unif - int ] ) , there exists @xmath861 such that for each @xmath855 @xmath862 furthermore , by the blackwell theorem , there exists @xmath863 such that for each @xmath864 and each @xmath865 , @xmath866 let @xmath867 for all @xmath868 . here , we take the convention that @xmath869 for all @xmath870 .",
    "define @xmath871 clearly , @xmath872 for @xmath873 .",
    "so for @xmath864 and @xmath855 , we have @xmath874 define @xmath875 clearly , @xmath876 for @xmath873 .",
    "so for @xmath864 and @xmath855 , we have @xmath877 thus , @xmath878 because @xmath530 and @xmath377 can be arbitrarily small , we have @xmath879",
    "lemma [ lem : conv - proh ] is applied in section [ subsec : unif - conv - invar - manif ] , and lemma [ lem : workload - pov ] is applied in section [ subsec : proof - ssc ] . since we could not find these results in the literature , we include them here for completeness .",
    "[ lem : conv - proh ] let @xmath880 and @xmath881 be finite borel measures on @xmath39 .",
    "denote @xmath214 for all @xmath215 .",
    "let @xmath882 .",
    "for all @xmath883 if @xmath884 then @xmath885<(m+2)\\varepsilon^{1/3}.\\ ] ]    let @xmath886 be positive constants to be determined later . note that @xmath887 for any real number @xmath32 , denote @xmath888 $ ] .",
    "condition ( [ eq : proh - cond ] ) implies that @xmath889 for any borel set @xmath109 , there exist @xmath890 such that @xmath891\\subset\\bigcup_{i=1}^n i_{a_i},\\ ] ] and @xmath892 for all @xmath893 , and @xmath894 for all @xmath89 .",
    "these conditions imply that @xmath895 and @xmath896 where @xmath897 is the @xmath898-enlargement of the set defined in section [ subsec : notatioin ] .",
    "so we have @xmath899 ) + \\mu\\bigl(a\\cap(\\varepsilon^{-\\alpha},\\infty)\\bigr)\\\\ & \\le&\\mu\\biggl(\\bigcup_{i=1}^n i_{a_i}\\biggr)+m\\varepsilon^\\alpha\\\\ & < & \\mu_1\\biggl(\\bigcup_{i=1}^n i_{a_i}\\biggr)+n2\\varepsilon+m\\varepsilon^\\alpha\\\\ & \\le&\\mu_1(a^{\\varepsilon^\\beta})+2\\varepsilon^{1-\\alpha-\\beta } + m\\varepsilon ^\\alpha.\\end{aligned}\\ ] ] now choose @xmath900 to obtain @xmath901 exchanging the position of @xmath880 and @xmath881 in the above argument , we have @xmath902 this completes the proof .",
    "[ lem : workload - pov ] suppose @xmath881 and @xmath880 are finite borel measures on @xmath174 satisfying @xmath903 < \\varepsilon<1,\\ ] ] and @xmath904 , @xmath905 for some positive constants @xmath847 and @xmath562 , then @xmath906    by markov inequality , @xmath907 and @xmath908 for all .",
    "for any @xmath909 , we have the following inequality : @xmath910 the result follows by letting @xmath911 .",
    "for any @xmath13 , consider the sequence of i.i.d .",
    "random variables @xmath912 with law  @xmath149 . in our setting , those @xmath913 s with @xmath914 correspond to the service requirement of the arriving jobs in the @xmath13th system ; those with @xmath915 correspond to the service requirement of initial jobs waiting in the buffer . for any @xmath916 and @xmath917 , define @xmath918",
    "the objective of this section is to obtain the _ glivenko  cantelli estimate _ , lemma  [ lem : glivenko - cantelli ] below , for @xmath554 .",
    "very similar result was shown in lemma 4.7 @xcite . for completeness , the proof which follows the one in @xcite is provided here .    to present the result , we introduce some notions from empirical process theory .",
    "our primary references are @xcite and @xcite .    a collection @xmath919 of subsets of @xmath920 shatters an @xmath921-point subset @xmath922 if the collection @xmath923 has cardinality @xmath924 .",
    "in this case , we say that @xmath919 picks out all subsets of @xmath925 .",
    "the _ vapnik  ervonenkis index _ ( _ vc - index _ ) of @xmath919 is @xmath926 where the minimum of the empty set equals infinity .",
    "the collection @xmath919 is a _",
    "ervonenkis class _ ( _ vc - class _ ) if it has finite vc - index .",
    "let @xmath555 be a family of borel measurable functions @xmath927 .",
    "we call @xmath555 a vc - class if the collection of subgraphs @xmath928 is a vc - class of sets in @xmath920",
    ".    we call a family of functions @xmath555 a _ borel measurable class _ if , for each @xmath929 and @xmath930 , the map @xmath931 is borel measurable on @xmath932 .",
    "the condition requires that , for all @xmath530 and @xmath9 , the families @xmath933 and @xmath934 are borel measurable , where @xmath935 denotes the @xmath936-norm .",
    "we call a borel measurable function @xmath937 an envelope function for @xmath555 if any element in @xmath555 is bounded by @xmath938 . a vc - class with an envelop function satisfies a very useful entropy bound . let @xmath939 be the set of finitely discrete probability measures @xmath940 on @xmath174 such that @xmath941 . for any borel measurable function @xmath942 satisfying @xmath943 , let @xmath944 denote the @xmath936-ball in @xmath555 , centered at @xmath845 with radius @xmath305 . for a family of functions @xmath555",
    ", @xmath945 is the smallest number of balls @xmath946 needed to cover @xmath555",
    ". then @xmath555 satisfies @xmath947 see definition 2.1.5 , ( 2.5.1 ) and theorem 2.6.7 in @xcite .",
    "[ lem : glivenko - cantelli ] let @xmath555 be a vc - class of borel measurable functions such that @xmath948 and @xmath949 are borel measurable classes for all @xmath9 and @xmath530",
    ". assume there exists an envelop function @xmath950 of @xmath555 such that @xmath951 fix constants @xmath952 .",
    "for all @xmath953 , @xmath954}\\sup_{f\\in{\\mathscr{v } } } |\\langle{f},{{\\bar{\\eta}^r } ( n , l)}\\rangle - l\\langle{f},{\\nu^r(a_x)}\\rangle|>\\varepsilon ' } \\bigr)\\hspace*{-28pt}\\nonumber\\\\[-8pt]\\\\[-8pt ] & & \\qquad<\\varepsilon.\\nonumber\\end{aligned}\\ ] ]    to apply the lemma in this paper , we take @xmath955 where @xmath956 and @xmath155 is the same one as in condition ( [ eq : cond - s - u ] ) .",
    "it is very easy to see that @xmath555 is a vc - class .",
    "note that both @xmath957 and @xmath958 are subsets of functions of the form @xmath959 ( or @xmath960}$ ] , @xmath961 , @xmath962}$ ] ) .",
    "so the supreme over these two families will be the same as supreme over all @xmath963 in subsets of @xmath174 , which will be the same as over all @xmath963 in subsets of @xmath964 .",
    "borel measurability is preserved when take supreme over a countable set .",
    "it is also clear that @xmath965 is an envelop function .",
    "condition ( [ eq : cond - s - u ] ) implies ( [ ineq : envelop ] ) .    to better structure the proof , we present the following auxiliary lemma .    [ lem : empirical ] for @xmath916 and @xmath966 , define @xmath967",
    "then for any @xmath968 , @xmath969 and @xmath916 there exists @xmath970 and @xmath971 such that @xmath972 implies @xmath973 the constant @xmath974 does not depend on @xmath271 .",
    "let us first fix @xmath975 and look at @xmath976 which will be denoted by @xmath977 for simplicity .",
    "the property ( [ ineq : envelop ] ) of the envelop function @xmath950 and the uniform entropy bound ( [ ineq : entropybound ] ) , together with the sets @xmath957 and @xmath958 being borel measurable , imply that @xmath555 is donsker and pre - gaussian uniformly in @xmath149 , @xmath9 .",
    "( see theorem 2.8.3 in  @xcite . )",
    "let @xmath978 be the space of all probability measures on @xmath174 equipped with norm @xmath979 .",
    "@xmath555 being donsker uniformly in @xmath149 means that @xmath977 converges weakly as @xmath980 in @xmath978 to a tight , borel measurable version of the brownian bridge @xmath981 uniformly for all @xmath149 .",
    "according to chapter @xmath982 in @xcite , this is equivalent to @xmath983 uniformly for all @xmath149 , where @xmath984 is the set of functions @xmath985 which are uniformly bounded by @xmath11 and satisfy @xmath986 .",
    "pre - gaussian uniformly in @xmath149 means that @xmath987<\\infty.\\ ] ]    define @xmath988 by @xmath989 then it is clear that @xmath990 , and @xmath991.\\ ] ] by ( [ eq : bl1 ] ) and the above inequality , there exists @xmath992 such that @xmath972 implies @xmath993+y^{-q}.\\ ] ] applying the definition of @xmath994 and markov inequality to obtain @xmath995^q+1\\bigr).\\end{aligned}\\ ] ] let @xmath974 be the last term in parentheses , which does not depend on @xmath271 . for each @xmath9 ,",
    "the brownian bridge is separable and gaussian with @xmath996 finite almost surely .",
    "thus , there exist a constant @xmath562 such that for all @xmath9 , @xmath997^q \\le m\\bigl[{\\mathbb{e}}^r\\sup_{f\\in{\\mathscr{v}}}\\langle{f},{\\xi^r}\\rangle\\bigr]^q,\\ ] ] see proposition a.2.4 in @xcite .",
    "conclude from ( [ ineq : pregaussian ] ) that @xmath970 .",
    "so far , we have shown that the result ( [ ineq : boundempirical ] ) is true for @xmath975 .",
    "note that for any @xmath916 , @xmath998 is defined on the shifted sequence @xmath999 by the i.i.d .",
    "property of the sequence , if we fix @xmath1000 then @xmath998 has the same distribution for all @xmath916 .",
    "so we can conclude that ( [ ineq : boundempirical ] ) is true for all @xmath916 .",
    "proof of lemma [ lem : glivenko - cantelli ] note that @xmath1001+\\frac{1}{r}.\\ ] ] since for each @xmath818 , @xmath1002 for all large @xmath13 , so the probability in ( [ ineq : glivenko - cantelli ] ) can be bounded by @xmath1003}\\sup_{f\\in{\\mathscr{v } } } \\biggl|\\frac{1}{r}\\sum _ { i = n+1}^{n+\\lfloor{rl}\\rfloor}[\\langle{f},{\\delta_{v^r_i}}\\rangle -\\langle{f},{\\nu^r}\\rangle]\\biggr|>\\frac{\\varepsilon ' } { 2 } } \\biggr).\\hspace*{-38pt}\\ ] ] pick @xmath530 , when @xmath13 is large enough ( @xmath1004 ) the interval @xmath1005 $ ] will be covered by intervals @xmath1006 , [ 0,r^2\\delta ] , \\ldots , \\biggl[\\biggl(\\biggl\\lceil{\\frac{m_1}{\\delta}}\\biggr\\rceil-1\\biggr)r^2\\delta,\\biggl\\lceil{\\frac { m_1}{\\delta}}\\biggr\\rceil r^2\\delta\\biggr].\\ ] ] when @xmath13 is large enough ( @xmath1007 ) , ( [ eq : tech - a-1 ] ) can be further bounded by @xmath1008 since @xmath1009 has stationary increments , the previous term can be bounded above by @xmath1010 by ottaviani s inequality ( see proposition a.1.1 in @xcite ) and by stationary increments of @xmath1009 , this can be bounded above by @xmath1011 assume @xmath331 is small enough so that @xmath1012 . by lemma [ lem : empirical ]",
    ", there exists @xmath1013 and @xmath1014 such that @xmath1015 implies @xmath1016 since @xmath1017 as @xmath150 , the limit superior of the numerator in ( [ eq : ottaviani ] ) can be bounded above by @xmath1018 , which can be made arbitrarily small by choosing @xmath331 sufficiently small . by the same reason , those terms in the maximum of the denominator with index @xmath1015",
    "are bounded above by @xmath1019 . for those terms with index @xmath1020 , @xmath1021 which converges to zero as @xmath150 . by choosing @xmath331 small enough , ( [ eq : ottaviani ] )",
    "can be made arbitrarily small for all large @xmath13 .",
    "the authors thank two anonymous referees for significantly improving the paper ."
  ],
  "abstract_text": [
    "<S> we consider a processor sharing queue where the number of jobs served at any time is limited to @xmath0 , with the excess jobs waiting in a buffer . </S>",
    "<S> we use random counting measures on the positive axis to model this system . </S>",
    "<S> the limit of this measure - valued process is obtained under diffusion scaling and heavy traffic conditions . as a consequence , the limit of the system size process </S>",
    "<S> is proved to be a piece - wise reflected brownian motion .    ,    and    .    </S>"
  ]
}