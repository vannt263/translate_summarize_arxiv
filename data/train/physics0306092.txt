{
  "article_text": [
    "alice , is the experiment dedicated to the study of heavy ion collisions at the lhc .",
    "it is a multipurpose detector with excellent tracking and secondary vertex capabilities , electron and muon detection and a high resolution @xmath0-spectrometer .",
    "although smaller in size as compared to the large lhc detectors atlas and cms , alice is of similar complexity . instead of a complete description of the detector we mention here exemplarily that close to the vertex six layers of silicon trackers ( pixel- , drift- , and strip - detectors ) are used mainly for secondary vertex reconstruction .",
    "the main tracking device is a very large time projection chamber ( tpc ) covering approximatively two units of pseudo - rapidity .",
    "moreover , alice uses almost all known particle identification techniques including cerenkov and transition radiation detectors whose detailed response simulation is a demanding task .",
    "heavy ion collisions produce a very large number of particles in the final state .",
    "current predictions range from 1400 - 8000 charged particles in the central unit of rapidity .",
    "this is a challenge for the reconstruction and analysis algorithms .",
    "the development of these algorithms requires a predictive and precise simulation .",
    "particles have to be transported in the detectors and structural elements .",
    "the latter produce secondary particles which can increase significantly the detector occupancy and their correct prediction is important .",
    "for those particles passing through sensitive detector areas a detailed detector response simulation is necessary .",
    "transport and detector response simulation is only one part of the simulation task . of comparable complexity and diversity",
    "is the primary event simulation .",
    "it comprises both the heavy ion physics specific soft physics and the hard probes like heavy flavor and jet production .",
    "in addition , alice has to simulate all possible collision systems ranging from pp , p - a , intermediate mass a ",
    "a , to pb  pb as well as collision geometries ranging from central to peripheral collisions .",
    "before we describe the different components of the simulation framework we outline in the following section the alice simulation strategy as it has been developed on the basis of the above mentioned challenges and requirements .",
    "in order to cope with the challenges described in the introduction , the alice offline project has developed a coherent simulation framework as an integral part of the aliroot @xcite object oriented ( c++ ) framework for simulation , reconstruction and analysis based on root @xcite .",
    "it comprises primary event ( physics ) simulation , particle transport , detailed detector response simulation and fast simulation .",
    "its main components are the virtual mc , the detector classes containing the user code , a set of collaborating classes for primary particle simulation , and base classes for fast simulation .",
    "since the complex description of the detector geometries and of the detector responses has to be accomplished by a relatively small community of physicists it is essential to provide a stable framework which does not require rewriting of the user code in the case that one of its underlying components changes .",
    "the most important of these underlying components is the transport mc .",
    "however , in traditional simulation environments the user code for geometry description , and detector response simulation ( hit generation ) depends entirely on the transport mc .",
    "alice uses currently geant3 @xcite in production , fluka @xcite and geant4 @xcite are both options for simulations in the near future .",
    "other alternatives might come up after lhc start - up .",
    "for this reason the alice offline project has developed the concept of the virtual mc which provides an insulation layer between the user code and the underlying mc .    as already outlined in the introduction also primary event generation",
    "is a complex task .",
    "it requires the generation of uncorrelated underlying events , correlation between particles and a multitude of so called hard probes as well as any possible mixture between these components .",
    "generators come as external generators packages like pythia and hijing as well as simple user written generators based on parameterisations or so called _ afterburners _ which introduce particle correlations in existing events .",
    "the simulation framework provides a set of collaborating base classes as building blocks for this variety of generators .",
    "these will be described in section [ sec : generators ] .",
    "the size of events produced in heavy ion collisions and the variety of physics signals and collision systems which have to be studied require enormous amounts of computing time and data storage .",
    "the framework has to help to reduce the required resources as much as possible .",
    "one such tool is known as merging or embedding and will be described in the following section .",
    "another tool is fast simulation , which is needed for high statistics studies of signals and backgrounds for which the detector acceptances , reconstruction efficiencies , and resolutions have been already determined and parameterised using detailed simulations .",
    "the framework provides a set of base classes providing a uniform interface and facilitating the realisation of fast simulation applications .",
    "last not least it should be mentioned that the alice simulation framework provides a rigorous approach concerning mc truth using the class _ alistack _ developed for this purpose .",
    "the history of each particle resulting into a detector hit and all primary particles are recorded .",
    "the user has the possibility to write additional information if needed .",
    "[ fig : aliroot ] shows a component view of the aliroot simulation framework .",
    "the central module , steer , provides the interface classes for the detector description and data structures .",
    "it also provides the run steering and particle stack implementations required by the virtual mc .",
    "the run steering communicates with the event generator module via the interface class _ aligenerator _ , with the detector specific modules via _",
    "alidetector _ , and with the transport mc via the virtual mc main interface class _ tvirtualmc_. the user code is structured according to the different sub - detectors .",
    "no dependencies between these detector modules are allowed .",
    "the detector modules contain their specific implementations of _ alidetector _ and data structures like _ alihit _ and _",
    "alidigit_.    generator packages like hijing and the _ tvirtualmc _ implementations _",
    "tgeant3 _ , _",
    "tgeant4 _ and _ tfluka _ appear as external modules .",
    "they are not needed for compilation and linking .",
    "the choice for their usage can be made by the user during runtime .",
    "the aliroot simulation framework generates data at different stages of the simulation process .",
    "first , there are the so - called _ hits _ that represent the precise information about a particle passing a detector obtained from the transport mc , _ i.e. _ in most cases energy deposition and position .",
    "these _ hits _ are then transformed into the signal produced by the detector , _ summable digits _ that correspond to the raw data before addition of noise and threshold subtraction .",
    "the introduction of _ summable digits _ was necessary in order to realise the event merging strategy in which a underlying signal free event is combined with a signal event before completing the digitization process producing the _ digits _ which contain the information of raw data .",
    "the importance of this procedure for the simulation of heavy ion collisions lies in the fact that one underlying event can be used for several signal events thus reducing computation time and data storage space .",
    "the virtualmc interface has been developed by the alice offline project in order to make the user code for detector simulation independent from the underlying transport mc .",
    "a detailed description can be found in ref .",
    "@xcite .",
    "an illustration of the virtualmc concept is shown in fig .",
    "[ fig : vmc ] . a development that is ongoing ( see ref .",
    "@xcite ) is to separate the physics and transport part of the virtualmc from the geometry modeler .",
    "this has the advantage that the geometry can be used independently from transport for reconstruction and visualisation .",
    "moreover , the implementation of the geometry modeler can be optimised independently from the transport mc .",
    "currently alice uses _",
    "tgeant3 _ , the geant3 implementation of _ tvirtualmc _ in production .",
    "_ tgeant4 _ is used for simulations related to geant4 physics validations .",
    "the _ tfluka _",
    "implementation is almost completed and an intensive testing phase will follow before the first release .",
    "currently it uses flugg @xcite for geometry navigation .",
    "this is expected to be be replaced by the root geometry modeler .",
    "the simulations of physical processes are confronted with several problems :    * existing generators give different answers on parameters such as expected multiplicities , transverse momentum dependence and rapidity dependence at lhc energies .",
    "* most of the physics signals , like hyperon decays , high transverse momentum phenomena , open charm and beauty , quarkonia etc .",
    ", are not properly reproduced by the existing generators .",
    "* simulation of small cross sections would demand prohibitively long runs to simulate a number of events that is commensurable with the expected number of detected events in the experiment . *",
    "the existing generators do not provide for event topologies like momentum correlations , azimuthal flow etc .    to allow",
    "nevertheless efficient simulations alice has adopted a framework that allows for a number of options :    * the simulation framework provides an interface to external generators , like hijing and dpmjet . *",
    "a parameterised `` signal free '' underlying event with multiplicity as a parameter is provided . *",
    "rare signals can be generated using the interface to external generators like pythia or simple parameterisations of transverse momentum and rapidity spectra defined in function libraries .",
    "* the framework provides a tool to assemble events from different signal generators ( event cocktails ) .",
    "* the framework provides tools to combine underlying events and signal events on the primary particle level ( cocktail ) and on the digit level ( merging ) . * _ after - burners _",
    "are used to introduce particle correlations in a controlled way .",
    "the main parts of the implementation of this strategy are described below .          to facilitate the usage of different generators we have developed an abstract generator interface called _ aligenerator _ ,",
    "see fig .",
    "[ fig : aligen ] .",
    "the objective is to provide the user with an easy and coherent way to study a variety of physics signals as well as full set of tools for testing and background studies .",
    "this interface allows the study of full events , event - by - event analysis , single processes and a mixture of both , _ cocktail events_.    during creation of a _ aligenerator _ object it registers itself to the run steering object .",
    "the latter owns and provides access to the particle stack of type _ alistack _ , so that the method _ aligenerator::generate ( ) _ can write particles to it .",
    "alternatively a stack can be directly connected to the _ aligenerator _ object in order to use particle production stand - alone for fast simulation tasks or in order to create several events before a combination of them is written to the main stack .",
    "several event generators are available via the abstract root class that implements the generic generator interface , _",
    "tgenerator_. through implementations of this abstract base class we wrap fortran montecarlo codes like pytyia , herwig and hijing that are thus accessible from the aliroot classes . in particular the interface to pythia used with pdflib includes the use of nuclear structure functions .",
    "_ aligenerator _ derived classes like _ aligenpythia _ or _ aligenhijing _ combine the external particle production by delegation to _ tgenerator _ with their main task writing particles to the stack .",
    "in addition simplified configuration of the external generators is provided .",
    "predefined simulation configurations like minimum bias or jet - production help the user to perform easily simple simulation tasks .",
    "an interesting byproduct of this design is that in a root session the external generators can be used interactively .",
    "run time configuration , particle production and analysis can be performed from the command - line interface .              in many cases ,",
    "the expected transverse momentum and rapidity distributions of particles are known . in other cases",
    "the effect of variations in these distributions must be investigated . in both situations",
    "it is appropriate to use generators that produce primary particles and their decays sampling from parametrised spectra . to meet the different physics requirements in a modular way",
    ", the parameterisations are stored in independent function libraries wrapped into classes that can be plugged into the generator .",
    "this is schematically illustrated in fig .",
    "[ fig : evglib ] where four different generator libraries can be loaded via the abstract generator interface .",
    "it is customary in heavy ion event generation to superimpose different signals on an event to tune the reconstruction algorithms . in other cases",
    "the user needs the possibility to assemble events by combining different particle types and parameterisations .",
    "this is possible in aliroot via the so - called _ cocktail generator _",
    "[ fig : cocktail ] ) .",
    "this creates events from user - defined particle cocktails by choosing as `` ingredients '' a list of generators . through its recursive design _ aligencocktail _",
    "is at the same time a generator and a container class for generators .",
    "the generation task is performed by delegating to the registered generators .",
    "another important application of _ aligencocktail _ has been found for the simulation of p - a collisions .",
    "generators like hijing can simulate p - a collisions but they do not simulate slow nucleons .",
    "the detection of these slow nucleons is important for the determination of the centrality of the collisions ( event geometry ) .",
    "simple parameterisations exist for their production we have designed base classes _ aligenslownucleons _ and _ alislownucleonmodel _ for this purpose .",
    "they need , however , the event collision geometry as an input .",
    "an easy solution was to combine the instance of the slow nucleon generator with a generator that can provide a collision geometry using _ aligencocktail_. communication between the two is via the class _",
    "the modularity of the event generator implementation allows at the same time easy integration with the simulation steering class _ alirun _ and with the objects that are responsible for changing the output of event generators or for assembling new events making use of the input of several events .",
    "these processors are generally called _ afterburners_. they are especially needed to introduce a controlled ( parameterised ) particle correlation into an otherwise uncorrelated particle sample . in aliroot",
    "this task is further simplified by the implementation of the stack class _ alistack _ that can be connected to both _",
    "alirun _ and _ aligenerator_. currently afterburners are used for two particle correlation simulations and analysis and for the simulation of azimuthal flow .",
    "detailed detector simulation is needed together with reconstruction to evaluate the acceptance , efficiency and resolution for specific physics probes .",
    "owing to the high particle multiplicity per event this analysis can be based on a few thousand events .",
    "many types of physics analysis , such as d meson reconstruction from hadronic decay channels , and trigger studies have to make use of millions of events .",
    "computing resources are in general not available for such high statistics simulations .    to reach the required sample size , fast simulation methods based on meaningful parameterisations of the results from detailed and consequently slow simulations are applied .",
    "the systematic error introduced by the parameterisations is in general small compared to the reduction of the statistical error .",
    "this is particularly true for the studies of the invariant mass continuum below a resonance .",
    "it is hard to find a common denominator for fast simulation methods since they are very specific to the analysis task . as a minimum abstraction , we have designed base classes that allow for a representation of the detector or detector systems as a set of parameterisations of acceptance , efficiency and resolution . the muon spectrometer fast simulation has been implemented using these classes .",
    "another interesting development concerns the fast simulation of the resolution and efficiency of tracking in the central barrel . in this approach full tracking is performed for the inner tracking system ( its ) , which is needed for detailed secondary vertex reconstruction studies .",
    "after this , tpc resolution and efficiency are obtained from the track parameters at the inner radius of the tpc , using a parameterisation .",
    "the alice offline project has developed a coherent simulation framework for detector and physics performance studies in the aliroot framework based on root .",
    "the main simulation components are the virtual mc interface and event generator interfaces tailored to the needs of the heavy ion community    the framework has proven its maturity and functionality in the large mc production that has been performed for the studies related to the alice physics performance report .",
    "the framework is still confronted with new requirements from both physics studies and new detector elements under study , most recently the proposed electromagnetic calorimeter together with the ideas of studying jet physics with the alice detector .",
    "the easiness with which such new elements can be introduced are the consequence of our modular approach .",
    "a.fass , a.ferrari , p.r.sala , _ `` electron - photon transport in fluka : status '' _ , proceedings of the montecarlo 2000 conference , lisbon , october 23 - 26 2000 , a.kling , f.barao , m.nakagawa , l.tavora , p.vaz - eds . ,",
    "springer - verlag berlin , p.159 - 164 ( 2001 ) .",
    "+ a.fass , a.ferrari , j.ranft , p.r.sala ,",
    "_ `` fluka : status and prospective for hadronic applications '' _ , proceedings of the montecarlo 2000 conference , lisbon , october 23 - 26 2000 , a.kling , f.barao , m.nakagawa , l.tavora , p.vaz - eds . ,",
    "springer - verlag berlin , p.955 - 960 ( 2001 ) .",
    "m.  campanella , a.  ferrari , p.r .",
    "sala , and s. vanini ,  reusing code from fluka and geant4 geometry \" , atlas internal note atl - soft 98 - 039 ( 1998 ) + m.  campanella , a.  ferrari , p.r .",
    "sala and s.  vanini , `` first calorimeter simulation with the flugg prototype '' , atlas internal note atl - soft-99 - 004 ( 1999 )"
  ],
  "abstract_text": [
    "<S> alice , the experiment dedicated to the study of heavy ion collisions at the lhc , uses an object - oriented framework for simulation , reconstruction and analysis ( aliroot ) based on root . here </S>",
    "<S> , we describe the general alice simulation strategy and those components of the framework related to simulation . </S>",
    "<S> two main requirements have driven the development of the simulation components . </S>",
    "<S> first , the possibility to run different transport codes with the same user code for geometry and detector response has led to the development of the virtual monte carlo concept . </S>",
    "<S> second , simulation has to provide tools to efficiently study events ranging from low - multiplicity pp collisions to pb - pb collisions with up to 80000 primary particles per event . </S>",
    "<S> this has led to the development of a variety of collaborating generator classes and specific classes for event merging . </S>"
  ]
}