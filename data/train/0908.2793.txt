{
  "article_text": [
    "mathematical induction is firmly entrenched as a fundamental and ubiquitous proof principle for proving properties of inductively defined objects .",
    "mathematics and computer science abound with such objects , and mathematical induction is certainly one of the most important tools , if not the most important , at our disposal .",
    "perhaps less well entrenched is the notion of coinduction . despite recent interest , coinduction",
    "is still not fully established in our collective mathematical consciousness . a contributing factor",
    "is that coinduction is often presented in a relatively restricted form .",
    "coinduction is often considered synonymous with bisimulation and is used to establish equality or other relations on infinite data objects such as streams @xcite or recursive types @xcite .    in reality , coinduction is far more general .",
    "for example , it has been recently been observed @xcite that coinductive reasoning can be used to avoid complicated @xmath0-@xmath1 arguments involving the limiting behavior of a stochastic process , replacing them with simpler algebraic arguments that establish a _ coinduction hypothesis _ as an invariant of the process , then automatically deriving the property in the limit by application of a coinduction principle .",
    "the notion of bisimulation is a special case of this : establishing that a certain relation is a bisimulation is tantamount to showing that a certain coinduction hypothesis is an invariant of some process .",
    "coinduction , as a proof principle , can handle properties other than equality and inequality and extends to other domains .",
    "the goal of this paper is to explore some of these applications .",
    "we focus on four areas : infinite streams , markov chains , markov decision processes , and non - well - founded sets . in section [ sec : coind ] , we present the metric coinduction principle . in section [ sec : streams ] , we illustrate the use of the principle in the context of infinite streams as an alternative to traditional methods involving bisimulation . in sections [ sec : mc ] and [ sec : mdp ] , we rederive some basic results of the theories of markov chains and markov decision processes , showing how metric coinduction can simplify arguments . finally , in section [ sec : nwf ] , we use metric coinduction to derive a new characterization of the hereditarily finite non - well - founded sets .",
    "let @xmath2 be a complete metric space .",
    "a function @xmath3 is _ contractive _ if there exists @xmath4 such that for all @xmath5 , @xmath6 .",
    "the value @xmath7 is called the _ constant of contraction_. a continuous function @xmath8 is said to be _ eventually contractive _ if @xmath9 is contractive for some @xmath10 .",
    "contractive maps are uniformly continuous , and by the banach fixpoint theorem , any such map has a unique fixpoint in @xmath11 .",
    "the fixpoint of a contractive map @xmath8 can be constructed explicitly as the limit of a cauchy sequence @xmath12 starting at any point @xmath13 .",
    "the sequence is cauchy ; one can show by elementary arguments that @xmath14 since @xmath11 is complete , the sequence has a limit @xmath15 , which by continuity must be a fixpoint of @xmath8 .",
    "moreover , @xmath15 is unique : if @xmath16 and @xmath17 , then @xmath18 therefore @xmath19",
    ".    eventually contractive maps also have unique fixpoints .",
    "if @xmath9 is contractive , let @xmath15 be the unique fixpoint of @xmath9 .",
    "then @xmath20 is also a fixpoint of @xmath9 .",
    "but then @xmath21 , which implies that @xmath15 is also a fixpoint of @xmath8 .",
    "in the applications we will consider , the coinduction rule takes the following simple form : if @xmath22 is a closed nonempty subset of a complete metric space @xmath11 , and if @xmath8 is an eventually contractive map on @xmath11 that preserves @xmath22 , then the unique fixpoint @xmath15 of @xmath8 is in @xmath22 .",
    "expressed as a proof rule , this says for @xmath22 a closed property , @xmath23 in @xcite , the rule was used in the special form in which @xmath11 was a banach space ( normed linear space ) and @xmath8 was an eventually contractive linear affine map on @xmath11 .",
    "we have called a coinduction rule . to justify this terminology",
    ", we must exhibit a category of coalgebras and show that the rule is equivalent to the assertion that a certain coalgebra is final in the category .",
    "this construction was given in @xcite , but we repeat it here for completeness .",
    "say we have a contractive map @xmath8 on a metric space @xmath11 and a nonempty closed subset @xmath24 preserved by @xmath8 .",
    "define @xmath25 .",
    "consider the category @xmath26 whose objects are the nonempty closed subsets of @xmath11 and whose arrows are the reverse set inclusions ; thus there is a unique arrow @xmath27 iff @xmath28 .",
    "the map @xmath29 defined by @xmath30 , where @xmath31 denotes closure in the metric topology , is an endofunctor on @xmath26 , since @xmath32 is a nonempty closed set , and @xmath28 implies @xmath33 .",
    "an @xmath29-coalgebra is then a nonempty closed set @xmath22 such that @xmath34 ; equivalently , such that @xmath35 .",
    "the final coalgebra is @xmath36 , where @xmath15 is the unique fixpoint of @xmath8 .",
    "the coinduction rule says that @xmath37 , which is equivalent to the statement that @xmath36 is final in the category of @xmath29-coalgebras .",
    "infinite streams have been a very successful source of application of coinductive techniques .",
    "the space @xmath38 of infinite streams over @xmath39 is the final coalgebra in the category of _ simple transition systems _ over @xmath39 , whose objects are @xmath40 , where @xmath41 is a set , @xmath42 gives an _ observation _ at each state , and @xmath43 gives a _ continuation _",
    "( next state ) for each state .",
    "the unique morphism @xmath44 maps a state @xmath45 to the stream @xmath46 .",
    "we begin by illustrating the use of the metric coinduction principle in this context as an alternative to traditional methods involving bisimulation .",
    "it is well known that @xmath47 forms a complete metric space under the distance function @xmath48 , where @xmath49 is the first position at which @xmath50 and @xmath51 differ .",
    "the metric @xmath52 satisfies the property @xmath53 one can also form the product space @xmath54 with metric @xmath55 since distances are bounded , the spaces of continuous operators @xmath56 and @xmath57 are also complete metric spaces under the sup metric @xmath58    consider the operators @xmath59 and @xmath60 defined informally by @xmath61 thus @xmath62 forms a single stream from two streams by taking elements alternately , and @xmath63 separates a single stream into two streams consisting of the even and odd elements , respectively .    formally , one would define @xmath62 and @xmath63 coinductively as follows : @xmath64 these functions exist and are unique , since they are the unique fixpoints of the eventually contractive maps @xmath65 defined by @xmath66    we would like to show that @xmath62 and @xmath63 are inverses .",
    "traditionally , one would do this by exhibiting a bisimulation between @xmath67 and @xmath50 , thus concluding that @xmath68 , and another bisimulation between @xmath69 and @xmath70 , thus concluding that @xmath71 .    here",
    "is how we would prove this result using the metric coinduction rule .",
    "let @xmath72 and @xmath73 .",
    "if @xmath74 is a left inverse of @xmath75 , then @xmath76 is a left inverse of @xmath77 : @xmath78 similarly , if @xmath74 is a right inverse of @xmath75 , then @xmath76 is a right inverse of @xmath77 : @xmath79 we conclude that if @xmath74 and @xmath75 are inverses , then so are @xmath76 and @xmath77 .    the property @xmath80 is a nonempty closed property of @xmath81 which , as we have just shown , is preserved by the contractive map @xmath82 . by",
    ", @xmath22 holds of the unique fixpoint @xmath83 .    that @xmath22 is nonempty and closed requires an argument , but these conditions typically follow from general topological considerations . for example , is nonempty because the spaces @xmath47 and @xmath54 are both homeomorphic to the topological product of countably many copies of the discrete space @xmath39 .",
    "a finite markov chain is a finite state space , say @xmath84 , together with a stochastic matrix @xmath85 of transition probabilities , with @xmath86 representing the probability of a transition from state @xmath87 to state @xmath88 in one step .",
    "the value @xmath89 is the probability that the system is in state @xmath88 after @xmath90 steps , starting in state @xmath87 .",
    "a fundamental result in the theory of markov chains is that if @xmath91 is irreducible and aperiodic ( definitions given below ) , then @xmath89 tends to @xmath92 as @xmath93 , where @xmath94 is the _",
    "mean first recurrence time _ of state @xmath88 , the expected time of first reentry into state @xmath88 after leaving state @xmath88 .",
    "intuitively , if we expect to be in state @xmath88 about every @xmath94 steps , then in the long run we expect to be in state @xmath88 about @xmath92 of the time .",
    "the proof of this result as given in feller @xcite is rather lengthy , involving a complicated argument to establish the uniform convergence of a certain countable sequence of countable sequences .",
    "the complete proof runs to several pages .",
    "introductory texts devote entire chapters to it ( e.g.  @xcite ) or omit the proof entirely ( e.g.  @xcite ) . in this section",
    "we show that , assuming some basic spectral properties of stochastic matrices , the coinduction rule can be used to give a simpler alternative proof .",
    "recall that @xmath91 is _ irreducible _ if its underlying support graph is strongly connected .",
    "the _ support graph _ has vertices @xmath84 and directed edges @xmath95 .",
    "a directed graph is _ strongly connected _ if there is a directed path from any vertex to any other vertex .",
    "the matrix @xmath91 is _ aperiodic _ if in addition , the gcd of the set @xmath96 is @xmath97 for all states @xmath87 . by the perron ",
    "frobenius theorem ( see @xcite ) , if @xmath91 is irreducible and aperiodic , then @xmath91 has eigenvalue @xmath97 with multiplicity @xmath97 and all other eigenvalues have norm strictly less than @xmath97 .",
    "the matrix @xmath91 is itself not contractive , since @xmath97 is an eigenvalue .",
    "however , consider the matrix @xmath98 where @xmath99 is the column vector of all @xmath97 s and @xmath100 denotes matrix transpose .",
    "the matrix @xmath101 is the @xmath102 matrix all of whose entries are @xmath103 .",
    "the spectra of @xmath91 and @xmath104 are closely related , as shown in the following lemma .",
    "[ lem : spec ] let @xmath85 be a stochastic matrix .",
    "any ( left ) eigenvector @xmath105 of @xmath104 that lies in the hyperplane @xmath106 is also an eigenvector of @xmath91 with the same eigenvalue , and vice - versa .",
    "the only other eigenvalue of @xmath91 is @xmath97 and the only other eigenvalue of @xmath104 is @xmath107 .    for any eigenvalue @xmath108 of @xmath91 and corresponding eigenvector @xmath105 , @xmath109 since @xmath110 , so either @xmath111 or @xmath106 .",
    "similarly , for any eigenvalue @xmath108 of @xmath104 and corresponding eigenvector @xmath105 , @xmath112 so either @xmath113 or @xmath106 .",
    "but if @xmath106 , then @xmath114 so in this case @xmath105 is an eigenvector of @xmath91 iff it is an eigenvector of @xmath104 with the same eigenvalue .      if @xmath91 is irreducible and aperiodic , then is eventually contractive , since @xmath115{{{\\parallel}({p - \\frac 1n{\\mathbf{1}}{\\mathbf{1}}{^{\\mathrm{t}}}})^n{\\parallel}}}$ ] is equal to the _ spectral radius _ or norm of the largest eigenvalue of @xmath104 ( see @xcite ) , which by lemma [ lem : spec ] is less than 1 . thus the map @xmath116 is of the proper form to be used with the metric coinduction rule to establish the convergence of @xmath117 .    since @xmath104 is eventually contractive",
    ", the map has a unique fixpoint @xmath118 .",
    "the set of stochastic vectors @xmath119 is closed and preserved by the map , since @xmath120 and @xmath75 is preserved by @xmath91 . by the metric coinduction rule",
    ", the unique fixpoint @xmath118 is contained in @xmath75 . by lemma [ lem : spec ] , it is also an eigenvector of @xmath97 , and @xmath121 tends to @xmath118 for any @xmath122 . applying this to the rows of any stochastic matrix @xmath123",
    ", we have that @xmath124 converges to the matrix @xmath125 .",
    "once we have established the convergence of @xmath117 , we can give a much shorter argument than those of @xcite that the actual limit of @xmath89 is @xmath92 .",
    "we follow the notation of @xcite .    fix a state @xmath88 , and let @xmath126 .",
    "let @xmath127 be the probability that after leaving state @xmath88 , the system first returns to state @xmath88 at time @xmath90 .",
    "let @xmath128 be the probability that the system is in state @xmath88 at time @xmath90 after starting in state @xmath88 .",
    "by irreducibility , @xmath129 and @xmath130 .",
    "let @xmath131 , and consider the generating functions @xmath132 the probabilities @xmath133 obey the recurrence @xmath134 which implies that @xmath135 .",
    "elementary algebraic reasoning gives @xmath136 now we claim that both @xmath137 and @xmath138 converge .",
    "the sequence @xmath138 converges to @xmath139 , since @xmath140 and the latter sequence in converges absolutely . for @xmath137",
    ", we have @xmath141 which converges by the results of section [ sec : conv ] . by , @xmath142 , therefore @xmath143 .",
    "but the @xmath90th partial sum of @xmath137 is just @xmath144 , so the sequence @xmath145 converges to @xmath146 .",
    "in this section , we rederive some fundamental results on markov decision processes using the metric coinduction principle . a fairly general treatment of this theory is given in @xcite , and we follow the notation of that paper .",
    "however , the strategic use of metric coinduction allows a more streamlined presentation .",
    "let @xmath11 be the space of bounded real - valued functions on a set of states @xmath147 with the sup norm @xmath148 .",
    "the space @xmath11 is a complete metric space with metric @xmath149 .    for each state @xmath150 ,",
    "say we have a set @xmath151 of _",
    "actions_. a _ deterministic strategy _ is an element of @xmath152 , thus a selection of actions , one for each state @xmath150 .",
    "more generally , if @xmath151 is a measurable space , let @xmath153 denote the space of probability measures on @xmath151 .",
    "a _ probabilistic strategy _ is an element of @xmath154 , thus a selection of probability measures , one for each @xmath150 .",
    "a deterministic strategy can be viewed as a probabilistic strategy in which all the measures are point masses .",
    "now suppose we have a _ utility function _",
    "@xmath155 with the three properties listed below . instead of @xmath156 for readability . ] the function @xmath157 induces a function @xmath8 such that @xmath158 , where @xmath150 , @xmath159 , and @xmath13",
    "a.   the function @xmath8 is uniformly bounded as a function of @xmath1 and @xmath160 .",
    "that is , @xmath161 , and for any fixed @xmath13 , @xmath162 is finite . b.   the functions @xmath163 are uniformly contractive with constant of contraction @xmath164 .",
    "that is , for all @xmath159 and @xmath5 , @xmath165 .",
    "thus @xmath163 has a unique fixpoint , which we denote by @xmath166 .",
    "c.   every @xmath163 is _ monotone _ : if @xmath167 , then @xmath168 .",
    "the order @xmath169 on @xmath11 is the pointwise order .",
    "define @xmath170 by @xmath171 .",
    "the supremum exists since the @xmath163 are uniformly bounded .",
    "then @xmath172 is contractive with constant of contraction @xmath7 .",
    "let @xmath173 . for @xmath150",
    ", assuming without loss of generality that @xmath174 , @xmath175[l]{$\\displaystyle{{\\varepsilon}+ h(x , d , v ) - \\sup_{e\\in\\delta_x } h(x , e , u)}$}\\mbox{for suitably chosen $ d\\in\\delta_x$}}\\\\ & \\leq & { \\varepsilon}+ h(x , d , v ) - h(x , d , u)\\\\ & \\leq & { \\varepsilon}+ c\\cdot{{\\parallel}v - u{\\parallel}}.\\end{aligned}\\ ] ] since @xmath0 was arbitrary , @xmath176 , thus @xmath177    since @xmath172 is contractive , it has a unique fixpoint @xmath178 .    for any @xmath1 , @xmath179 .    by the coinduction principle",
    ", it suffices to show that @xmath167 implies @xmath180 . here",
    "the metric space is @xmath181 , the closed property @xmath22 is @xmath167 , and the contractive map is @xmath182 .",
    "but if @xmath167 , then by monotonicity , @xmath183    the fixpoint @xmath178 can be approximated arbitrarily closely by @xmath166 for deterministic strategies @xmath1 .",
    "let @xmath173 .",
    "let @xmath1 be such that for all @xmath160 , @xmath184 we will show that @xmath185 . by the coinduction rule",
    ", it suffices to show that @xmath186 implies @xmath187 . here",
    "the metric space is @xmath11 , the closed property @xmath188 is @xmath186 , and the contractive map is @xmath163 .",
    "but if @xmath186 , @xmath189      we use the metric coinduction rule to prove the well - known result that for markov decision processes , probabilistic strategies are no better than deterministic strategies .",
    "if @xmath190 is attainable for all @xmath160 , then the deterministic strategy @xmath191 is optimal , even allowing probabilistic strategies . however , if @xmath190 is not attainable , then it is not so obvious what to do .    for this argument , we assume that @xmath151 is a measurable space and that for all fixed @xmath160 and @xmath192 , @xmath193 is an integrable function of @xmath194 .",
    "given a probabilistic strategy @xmath195 , the one - step utility function is @xmath196 defined by the lebesgue integral @xmath197 this integral accumulates the various individual payoffs over all choices of @xmath52 weighted by the measure @xmath198 .",
    "the map @xmath199 is uniformly bounded in @xmath200 , since @xmath201 it is also a contractive map with constant of contraction @xmath7 , since @xmath202 since it is a contractive map , it has a unique fixpoint @xmath203 .",
    "now take any deterministic strategy @xmath1 such that @xmath204 for all @xmath160 .",
    "this is always possible , since if @xmath205 for all @xmath194 , then @xmath206 a contradiction .",
    "the following lemma says that the deterministic strategy @xmath1 is no worse than the probabilistic strategy @xmath200 .",
    "@xmath207 .",
    "assuming @xmath208 , we have @xmath209 the second inequality by monotonicity . as @xmath160 was arbitrary , @xmath210 .",
    "the result follows from the coinduction principle on the metric space @xmath11 with @xmath211 the closed property @xmath208 and contractive map @xmath163 .",
    "in classical zermelo  fraenkel set theory with choice ( zfc ) , the `` element of '' relation @xmath212 is well - founded , as guaranteed by the axiom of foundation .",
    "aczel @xcite developed the theory of _ non - well - founded sets _ , in which sets with infinitely descending @xmath212-chains are permitted in addition to the well - founded sets .",
    "these are precisely the sets that are explicitly ruled out of existence by the axiom of foundation .    in the theory of non - well - founded sets ,",
    "the sets are represented by _ accessible pointed graphs _ ( @xmath213s ) .",
    "an @xmath213  is a directed graph with a distinguished node such that every node is reachable by a directed path from the distinguished node .",
    "two @xmath213s represent the same set iff they are bisimilar .",
    "the @xmath213s of well - founded sets may be infinite , but may contain no infinite paths or cycles , whereas the @xmath213s of non - well - founded sets may contain infinite paths and cycles .",
    "equality as bisimulation is the natural analog of extensionality in zfc ; essentially , two @xmath213s are declared equal as sets if there is no witness among their descendants that forces them not to be .",
    "the class @xmath11 is the class of sets defined in this way .",
    "aczel @xcite ( see also @xcite ) notes the strong role that coinduction plays in this theory .",
    "since equality between @xmath213s is defined in terms of bisimulation , coinduction becomes a primary proof technique for establishing the equivalence of different @xmath213s representing the same set .    in attempting to define a metric on non - well - founded sets ,",
    "the classical hausdorff distance suggests itself as a promising candidate .",
    "this metric has been previously defined for the hereditarily finite well - founded sets and their completion , the _ finitary _ non - well - founded sets , by abramsky @xcite . for the more general case of arbitrary non - well - founded sets ,",
    "there are two complications .",
    "one is that we must apply the definition coinductively .",
    "another is that ordinarily , the hausdorff metric is only defined on compact sets , since otherwise a hausdorff distance of zero may not imply equality , and that is the case here .",
    "however , the definition still makes sense even for non - compact sets and leads to further insights into the structure of non - well - founded sets .    in this section",
    ", we define a distance function @xmath214 based on a coinductive application of the hausdorff distance function and derive some properties of @xmath52 .",
    "we show that @xmath2 forms a compact pseudometric space .",
    "being a pseudometric instead of a metric means that there are sets @xmath215 with @xmath216 .",
    "nevertheless , we identify a maximal family of sets that includes all the hereditarily finite sets on which @xmath52 acts as a metric .",
    "we will prove the following results .",
    "define @xmath217 if @xmath216 . call a set @xmath87 _ singular _ if the only @xmath88 such that @xmath217 is @xmath87 itself .    1 .",
    "a set is singular if and only if it is hereditarily finite .",
    "all singular sets are closed in the pseudometric topology . in particular , all hereditarily finite sets are hereditarily closed ( but not vice - versa ) .",
    "a set is hereditarily closed if and only if it is closed and all elements are singular .",
    "4 .   all hereditarily closed sets are canonical ( but not vice - versa ) , where a set is _ canonical _ if it is a member of a certain coinductively - defined class of canonical representatives of the @xmath218-classes .",
    "5 .   the map @xmath52 is a metric on the canonical sets ; moreover , the canonical sets are a maximal class for which this is true .      just as classical zfc allows the definition of functions by induction over ordinary well - founded sets , there is a corresponding principle for non - well - founded sets known as the _ solution lemma _ @xcite .",
    "in particular , the solution lemma implies that for any function @xmath3 , the equation @xmath219 determines @xmath220 uniquely .",
    "this is because if @xmath221 and @xmath222 both satisfy , then the relation @xmath223 is a bisimulation , therefore @xmath224 for all @xmath87 . in coalgebraic terms as a coalgebra , the notation @xmath225 is a slight but convenient abuse . formally , these structures are coalgebras with respect to the powerset functor @xmath226 . to be precise , we should write @xmath227 , where @xmath228 and write @xmath229 instead of @xmath230 . ] , the map @xmath221 is the unique morphism from the coalgebra @xmath231 to the final coalgebra @xmath225 ; see ( * ? ? ?",
    "* chp .  7 ) or ( * ? ? ?",
    "* part  v ) .",
    "let @xmath232 be the banach space of bounded real - valued functions @xmath233 with norm @xmath234 define the map @xmath235 by @xmath236 1 & \\mbox{if $ s={\\varnothing}{\\leftrightarrow}t\\neq{\\varnothing}$}\\\\ \\frac 12\\max\\left\\{\\begin{array}{l } \\sup_{u\\in s}\\inf_{v\\in t } g(u , v)\\\\ \\sup_{v\\in t}\\inf_{u\\in s } g(u ,",
    "v ) \\end{array}\\right . & \\mbox{if $ s , t\\neq{\\varnothing}$. } \\end{array}\\right.\\end{aligned}\\ ] ] it can be shown that @xmath237 , thus @xmath51 is contractive on @xmath232 with constant of contraction @xmath238 and has a unique fixpoint @xmath239 .",
    "one can therefore use the metric coinduction rule to prove properties of @xmath52 .    to illustrate ,",
    "let us show that the non - well - founded sets @xmath11 form a compact ( thus complete ) pseudometric space with respect to the distance function @xmath52 .",
    "at the outset , it is not immediately clear that @xmath52 is well - defined on @xmath11 .",
    "we must argue that @xmath52 is invariant on bisimulation classes ; that is , for any bisimulation @xmath240 , if @xmath241 and @xmath242 , then @xmath243 .",
    "we will use the metric coinduction rule to prove this .    consider the following closed property on @xmath232 , defined with respect to an arbitrary but fixed bisimulation @xmath240 on the class of @xmath213s : @xmath244 this property",
    "is closed in the metric topology on @xmath232 , since it is an infinite conjunction of closed properties @xmath245 , one for each selection of @xmath246 such that @xmath241 and @xmath242 .",
    "it is clearly nonempty .",
    "we wish to prove that @xmath247 . by the metric coinduction rule",
    ", it suffices to show that @xmath22 is closed under @xmath51 .",
    "suppose @xmath248 .",
    "we want to show that @xmath249 , or in other words , @xmath250 let @xmath246 be such that @xmath241 and @xmath242 .",
    "since @xmath240 is a bisimulation , we have @xmath251 it follows that @xmath252 iff @xmath253 and @xmath254 iff @xmath255 . if @xmath256 , then @xmath257 1 & \\mbox{if $ t , t'\\neq{\\varnothing}$ } \\end{array}\\right\\}\\ \\ = \\ \\ \\tau(g)(s',t').\\end{aligned}\\ ] ] a symmetric argument holds if @xmath258 .",
    "otherwise , all four sets @xmath246 are nonempty . in this case",
    ", @xmath259 so it suffices to show that @xmath260 we show only ; the argument for is symmetric . also by symmetry , we need only show the inequality in one direction : @xmath261 this inequality follows from the property @xmath262 which in turn follows from @xmath263 in fact , we have @xmath264 by choosing @xmath265 such that @xmath266 and @xmath267 such that @xmath268 , as guaranteed by the coinduction hypothesis and the fact that @xmath240 is a bisimulation .",
    "we conclude by the metric coinduction principle that @xmath247 holds , thus @xmath52 is invariant on the equivalence classes of any bisimulation @xmath240 on @xmath213s , therefore well - defined on @xmath11 .    to show that @xmath52 is a pseudometric",
    ", we must also show @xmath269 $ ) } & d(s , t ) & = d(t , s)\\\\ d(s , u ) & \\leq d(s , t ) + d(t , u ) & d(s , s ) & = 0.\\end{aligned}\\ ] ] all these properties can be shown in the same way , by metric coinduction .",
    "one need only argue that they are all nonempty closed properties closed under @xmath51 .",
    "we will establish compactness ( hence completeness ) later in section [ sec : compactness ] , but first we introduce the canonical sets .      the map @xmath52 is only a pseudometric and not a metric , since it is possible that @xmath216 even though @xmath215 .",
    "for example , define @xmath270 , @xmath271 .",
    "let @xmath147 be the unique non - well - founded set such that @xmath272 .",
    "the sets @xmath273 and @xmath274 are distinct , but distance @xmath107 apart ( fig .",
    "[ fig : notsing ] ) .",
    "this follows from the observation that @xmath275 , so @xmath276    ( 0,110)(-60,-100 ) ( 0,0 ) ( 0,0)(-3,-1)60 ( 0,0)(-2,-1)40 ( 0,0)(-1,-1)20 ( 0,0)(0,-1)20 ( 0,0)(1,-1)20 ( 0,0)(2,-1)40 ( 0,0)(3,-1)60 ( 0,0)(5,-1)100 ( -60,-20)(20,0)7 ( -40,-20)(20,0)6(0,-1)10 ( -40,-30)(20,0)6 ( -20,-30)(20,0)5(0,-1)10 ( -20,-40)(20,0)5 ( 0,-40)(20,0)4(0,-1)10 ( 0,-50)(20,0)4 ( 20,-50)(20,0)3(0,-1)10 ( 20,-60)(20,0)3 ( 40,-60)(20,0)2(0,-1)10 ( 40,-70)(20,0)2 ( 60,-70)(20,0)1(0,-1)10 ( 60,-80)(20,0)1 ( 100,-20 ) ( 100,-30 ) ( 70,-20)(0,0)[l]@xmath277 ( 70,-85)(0,0)[l]@xmath278 ( 20,-100)(0,0)@xmath274    ( 0,110)(110,-100 ) ( 0,0 ) ( 0,0)(-3,-1)60 ( 0,0)(-2,-1)40 ( 0,0)(-1,-1)20 ( 0,0)(0,-1)20 ( 0,0)(1,-1)20 ( 0,0)(2,-1)40 ( 0,0)(3,-1)60 ( -60,-20)(20,0)7 ( -40,-20)(20,0)6(0,-1)10 ( -40,-30)(20,0)6 ( -20,-30)(20,0)5(0,-1)10 ( -20,-40)(20,0)5 ( 0,-40)(20,0)4(0,-1)10 ( 0,-50)(20,0)4 ( 20,-50)(20,0)3(0,-1)10 ( 20,-60)(20,0)3 ( 40,-60)(20,0)2(0,-1)10 ( 40,-70)(20,0)2 ( 60,-70)(20,0)1(0,-1)10 ( 60,-80)(20,0)1 ( 70,-20)(0,0)[l]@xmath277 ( 70,-85)(0,0)[l]@xmath278 ( 0,-100)(0,0)@xmath273    [ fig : omegatree ]    nevertheless , it is possible to relate this map to the coalgebraic structure of @xmath11 .",
    "the map @xmath52 defines a pseudometric topology with basic open neighborhoods @xmath279 for each set @xmath87 and @xmath280 , but because @xmath52 is only a pseudometric , the topology does not have nice separation properties . however , if we define @xmath281 , then @xmath52 is well - defined on @xmath218-equivalence classes and is a metric on the quotient space .",
    "more interestingly , we can identify a natural class of canonical elements , one in each @xmath218-class , such that @xmath52 , restricted to canonical elements , is a metric ; moreover , the canonical elements are a maximal class for which this is true .",
    "thus the quotient space is isometric to the subspace of canonical elements .",
    "the canonical elements include all the hereditarily finite sets .",
    "the canonical elements are defined as the images of the function @xmath282 , defined coinductively as follows : @xmath283 where @xmath31 denotes closure in the pseudometric topology .",
    "the equation determines @xmath284 uniquely , as with .",
    "a set @xmath87 is called _ canonical _ if @xmath285 for some @xmath88 ; equivalently , by corollary [ cor : f](ii ) below , if @xmath87 is a fixpoint of @xmath284 .",
    "for example , the right - hand side of fig .",
    "[ fig : notsing ] is @xmath284 applied to the left - hand side , and the set on the right - hand side is canonical .",
    "[ lem : cl0 ] @xmath216 iff @xmath286 .",
    "if @xmath287 , then both sides are true .",
    "if exactly one of @xmath288 is @xmath289 , then both sides are false . finally , if both @xmath290 , then @xmath291    1 .   if @xmath216 , then @xmath292 .",
    "2 .   for all @xmath87 , @xmath293 ; that is , @xmath294 .    a.   by lemma [ lem : cl0 ] , if @xmath216 , then @xmath286 , and the conclusion @xmath292 is immediate from",
    ". b.   we proceed by coinduction on the definition of @xmath52 .",
    "we strengthen the coinduction hypothesis @xmath295 with the two extra assertions that @xmath296 and that @xmath297 satisfies the triangle inequality .",
    "we wish to show that this combined property holds of @xmath298 under the assumption that it holds of @xmath297 . + that @xmath299 is clear from the coinduction hypothesis and the monotonicity of the operators in the definition of @xmath51 .",
    "the argument that @xmath298 satisfies the triangle inequality is equally straightforward .",
    "thus it remains to show that @xmath300 .",
    "+ by definition of @xmath284 , @xmath252 iff @xmath301 , and in this case @xmath300 by definition of @xmath51 .",
    "otherwise @xmath302 and @xmath303 .",
    "to show @xmath300 in this case , we need to show that @xmath304 it suffices to show @xmath305 for the former , we can take @xmath306 ; then the result follows from the coinduction hypothesis @xmath307 . for the latter , let @xmath308 .",
    "here we use all three clauses of the coinduction hypothesis : @xmath309 the last equation from the fact that @xmath308 .",
    "[ cor : f ]    1 .",
    "@xmath216 iff @xmath292 .",
    "2 .   for all @xmath87 , @xmath310 .",
    "every @xmath218-equivalence class contains exactly one canonical set , and @xmath52 restricted to canonical sets is a metric .",
    "moreover , the canonical sets are a maximal class for which this is true .      for the results of section [ sec : nwfmain ] ,",
    "we need to show that the space of non - well - founded sets is compact under @xmath52 , thus complete .",
    "we will show that every infinite set has a limit point .",
    "define the equivalence relations @xmath311 inductively by : @xmath312{4cm}{$\\forall u\\in s\\ \\exists v\\in t\\ u\\approx_n v\\\\ \\wedge\\ \\forall v\\in t\\ \\exists u\\in s\\ u\\approx_n v$.}\\end{aligned}\\ ] ] also define inductively @xmath313 where @xmath314 denotes the powerset of @xmath172 . each @xmath315 is a well - founded hereditarily finite set .",
    "for @xmath316 , define the map @xmath317 inductively by @xmath318    the following properties of @xmath315 , @xmath311 , and @xmath319 are easily established by induction on @xmath49 .",
    "[ lem : flem1 ] for all @xmath320 and @xmath321 ,    1 .",
    "@xmath322 ; 2 .   if @xmath323 then @xmath324 ; 3 .   @xmath325 ; 4 .   @xmath326 ; 5 .   if @xmath327 and @xmath328 , then @xmath329 .",
    "[ lem : flem2 ] for all @xmath320 and @xmath316 , the following are equivalent :    1 .",
    "@xmath328 ; 2 .",
    "@xmath330 ; 3 .",
    "@xmath331 .    for each @xmath332 ,",
    "let @xmath333 denote the sequence @xmath334 .",
    "it follows from lemma [ lem : flem1](iv ) that @xmath335 .",
    "moreover , we have the following representation theorem as converse :    [ lem : rep ] any sequence @xmath336 such that @xmath337 for all @xmath316 is @xmath333 for some @xmath87 .",
    "let @xmath338 be the set of all sequences @xmath339 such that @xmath340 , @xmath316 .",
    "this is a set , since the defining condition implies @xmath341 .",
    "consider the system with nodes @xmath338 and edges @xmath342 defined by @xmath343 we claim that @xmath344 .",
    "the proof is by induction on @xmath49 .",
    "certainly @xmath345 , since @xmath346 and @xmath289 is the only element of @xmath347 .",
    "now suppose the claim is true for @xmath49 .",
    "then @xmath348 the last equation requires that for all @xmath349 , there exists @xmath350 such that @xmath351 .",
    "the sequence @xmath352 does it .",
    "[ lem : compactness ] the space @xmath11 is compact under the pseudometric @xmath52 , therefore complete .",
    "we wish to show that every infinite set @xmath87 has a limit point @xmath353 ( not necessarily contained in @xmath87 ) .",
    "let @xmath338 be the tree of all sequences @xmath354 such that @xmath355 for all @xmath316 as defined in the proof of lemma [ lem : rep ] .",
    "this is a finitely branching , infinite tree with root @xmath289 . by knig",
    "s lemma , there is an infinite path @xmath353 in @xmath338 such that for every node @xmath356 on the path , there are infinitely many @xmath357 such that @xmath358 .",
    "the set represented by the path @xmath353 as given by lemma [ lem : rep ] is the desired limit point , since for all @xmath359 , there exist infinitely many @xmath357 such that @xmath360 , therefore @xmath361 .",
    "let @xmath22 be a property of sets .",
    "we define a set to be _",
    "hereditarily @xmath22 _ ( @xmath362 )",
    "if it has an @xmath213  representation in which every node represents a set satisfying @xmath22 .",
    "equivalently , @xmath362  is the largest solution of @xmath363    the _ hereditarily finite _ ( @xmath364 )",
    "sets are those possessing an @xmath213  representation in which every node has finite out - degree ( not necessarily bounded ) .",
    "( 102,64)(-22,-64 ) ( 0,0)(20,-20)3 ( 0,0)(20,-20)3(1,-1)20 ( 0,0)(20,-20)3(-1,-1)20 ( -22,-22)(0,0)[tr]@xmath365 ( -2,-42)(0,0)[tr]@xmath366 ( 18,-62)(0,0)[tr]@xmath367 ( 65,-65)(5,-5)3(0,0)[tl]@xmath368    note that this differs from aczel s definition @xcite .",
    "aczel defines a set to be hereditarily finite if it has a finite @xmath213 , which is a much stronger condition .",
    "aczel s definition and ours coincide for well - founded sets by knig s lemma , but not for non - well - founded sets in general . for example , the set @xmath369 , where @xmath370 is defined coinductively by @xmath371 ( fig .",
    "[ fig : aczel ] ) , is hereditarily finite in our sense but not aczel s .",
    "we would prefer the term _ regular _ or _ rational _ for sets that are hereditarily finite in aczel s sense , since they are exactly the sets that have a regular or rational tree representation @xcite .",
    "a set is _ hereditarily closed _ ( @xmath372 ) if it has an @xmath213  representation in which every node represents a closed set in the pseudometric topology .",
    "recall that a set is _ singular _ if it forms a singleton @xmath218-class .",
    "[ lem : sing ] if @xmath87 is singular , then all elements of @xmath87 are singular .",
    "thus all singular sets are hereditarily singular .",
    "suppose @xmath357 , @xmath373 , and @xmath374 .",
    "we claim that ( i ) if @xmath375 , then @xmath376 , and ( ii ) if @xmath377 , then @xmath378 , thus in either case , @xmath87 is not singular .    in case ( i ) , we must show @xmath379 it suffices to show @xmath380 the former is immediate by picking @xmath381 . for the latter , pick @xmath382",
    "if @xmath383 , otherwise pick @xmath384 .    case ( ii ) is really the same case as ( i ) , with @xmath385 in ( ii ) playing the role of @xmath87 in ( i ) .",
    "[ lem : cl ]    1 .",
    "if @xmath87 is closed and all elements of @xmath87 are closed , then all elements of @xmath87 are singular .",
    "2 .   every singular set is closed .",
    "a.   suppose @xmath357 and @xmath374",
    ". then @xmath377 , since @xmath87 is closed . by lemma [ lem : cl0 ] , @xmath386 . but @xmath192 and @xmath387 are both closed , so @xmath19 . b.   by lemma [ lem : cl0 ] , @xmath388 , so if @xmath192 singular then @xmath389 .",
    "[ thm : cl ] a set is hereditarily closed if and only if it is closed and all its elements are singular .",
    "this follows directly from lemmas [ lem : sing ] and [ lem : cl ] .",
    "[ thm : finsing ] a set is singular if and only if it is hereditarily finite .",
    "suppose first that @xmath87 is hereditarily finite ( @xmath364 ) .",
    "consider the binary relation on sets @xmath288 defined by @xmath390 we have @xmath391 since @xmath192 is finite .",
    "it follows that @xmath392 so the binary relation @xmath393 is a bisimulation ; thus @xmath394 thus if @xmath395 , then there is a positive lower bound @xmath396 on @xmath397 for @xmath398 , @xmath399 .",
    "but then @xmath400 and using , this gives @xmath401 this combined with says that the relation itself is a bisimulation .",
    "thus @xmath402 implies @xmath329 ; in other words , @xmath395 implies that @xmath87 is singular .",
    "now suppose that @xmath87 is singular . by lemma [ lem :",
    "sing ] , @xmath87 is hereditarily singular .",
    "we argue that @xmath87 must be finite .",
    "if @xmath87 is infinite , then by lemma [ lem : compactness ] , @xmath87 has a limit point @xmath353 ( not necessarily contained in @xmath87 ) .",
    "we claim that ( i ) if @xmath403 , then @xmath404 , and ( ii ) if @xmath405 , then @xmath406 , thus in either case @xmath87 is not singular . for ( i ) , @xmath407 the first clause is true by taking @xmath408 . for the second clause , we can take @xmath19 unless @xmath409 .",
    "but if @xmath409 , the condition reduces to @xmath410 which is true by lemma [ lem : flem2 ] .    case ( ii ) is really the same as case ( i ) , with @xmath411 in ( ii ) playing the role of @xmath87 in ( i ) .    every hereditarily finite set",
    "is heretarily closed , and every hereditarily closed set is canonical .",
    "both implications are strict .",
    "the first implication @xmath412 follows directly from lemma [ lem : cl](ii ) and theorem [ thm : finsing ] .    for the implication @xmath413",
    ", one approach would be to show that the binary relation on sets @xmath288 defined by @xmath414 is a bisimulation .",
    "alternatively , we can observe that on hereditarily closed sets @xmath87 , the coinductive definition @xmath415 is equivalent to the coinductive definition @xmath416 which uniquely defines the identity function , thus @xmath417 on all such sets .",
    "both implications are strict .",
    "an hereditarily closed set that is not finite is @xmath274 , and a canonical set that is not closed is @xmath418 .",
    "we have illustrated the use of the metric coinduction principle in four areas : infinite streams , markov chains , markov decision processes , and non - well - founded sets .",
    "in all these areas , metric coinduction can be used to simplify proofs or derive new insights .",
    "other areas are likely to be amenable to such techniques . in particular ,",
    "iterated function systems seem to be a promising candidate .",
    "thanks to lars backstrom , radha jagadeesan , prakash panangaden , and jan rutten for valuable comments .",
    "this work was supported in part by onr grant n00014 - 01 - 1 - 0968 and by nsf grant ccf-0635028 .",
    "samson abramsky . a cook s tour of the finitary non - well - founded sets . in sergei artemov , howard barringer , artur davila garcez , luis  c. lamb , and john woods , editors ,",
    "_ we will show them : essays in honour of dov gabbay _ , volume  1 , pages 118 .",
    "college publications , 2005 .",
    "dexter kozen and nicholas ruozzi .",
    "applications of metric coinduction . in t.  mossakowski et  al . , editor , _ proc .",
    "algebra and coalgebra in computer science ( calco 2007 ) _ , volume 4624 of _ lecture notes in computer science _ , pages 327341 .",
    "springer , august 2007 ."
  ],
  "abstract_text": [
    "<S> metric coinduction is a form of coinduction that can be used to establish properties of objects constructed as a limit of finite approximations . </S>",
    "<S> one can prove a coinduction step showing that some property is preserved by one step of the approximation process , then automatically infer by the coinduction principle that the property holds of the limit object . </S>",
    "<S> this can often be used to avoid complicated analytic arguments involving limits and convergence , replacing them with simpler algebraic arguments . </S>",
    "<S> this paper examines the application of this principle in a variety of areas , including infinite streams , markov chains , markov decision processes , and non - well - founded sets . </S>",
    "<S> these results point to the usefulness of coinduction as a general proof technique . </S>"
  ]
}