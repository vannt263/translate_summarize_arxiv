{
  "article_text": [
    "content images refer to images appearing on the display screens of electronic devices such as computers and smart phones @xcite , @xcite .",
    "these images have similar characteristics as mixed content documents ( such as a magazine page ) .",
    "they often contain two layers , a pictorial smooth background and a foreground consisting of text and line graphics .",
    "the usual image compression algorithms such as jpeg2000 @xcite and hevc intra frame coding @xcite may not result in a good compression rate for this kind of images because the foreground consists of sharp discontinuities . in these cases ,",
    "segmenting the image into two layers and coding them separately may be more efficient .",
    "the idea of segmenting an image for better compression was proposed for check image compression @xcite , in djvu algorithm for scanned document compression @xcite and the mixed raster content representation @xcite .",
    "foreground segmentation in such images is also a necessary preprocessing step for text extraction @xcite , which is essential for automatic character recognition and image understanding @xcite .",
    "screen content and mixed document images are hard to segment , because the foreground may be overlaid over a smoothly varying background that has a color range that overlaps with the color of the foreground .",
    "also because of the use of sub - pixel rendering , the same text / line often has different colors . even in the absence of sub - pixel rendering , pixels belonging to the same text / line often have somewhat different colors .",
    "different algorithms have been proposed in the past for foreground - background segmentation in mixed content document images and screen - content video frames such as hierarchical k - means clustering in djvu @xcite and shape primitive extraction and coding ( spec ) @xcite .",
    "there is also some recent work for text extraction in screen content images called scale and orientation invariant text segmentation @xcite .",
    "the hierarchical k - means clustering method proposed in djvu applies the k - means clustering algorithm with k=2 on blocks in multi - resolution .",
    "it first applies the k - means clustering algorithm on large blocks to obtain foreground and background colors and then uses them as the initial foreground and background colors for the smaller blocks in the next stage .",
    "it also applies some post - processing at the end to refine the results .",
    "this algorithm has difficulty in segmenting regions where background and foreground color intensities overlap and it is hard to determine whether a pixel belongs to the background or foreground just based on its intensity value .    in the shape primitive extraction and coding ( spec ) method , which was developed for segmentation of screen content @xcite ,",
    "a two - step segmentation algorithm is proposed . in the first step the algorithm classifies each block of size @xmath0 into either pictorial block or text / graphics based on the number of colors . if the number of colors is more than a threshold , 32 , the block will be classified into pictorial block , otherwise to text / graphics . in the second step ,",
    "the algorithm refines the segmentation result of pictorial blocks , by extracting shape primitives ( horizontal line , vertical line or a rectangle with the same color ) and then comparing the size and color of the shape primitives with some threshold . because blocks containing smoothly varying background over a narrow range can also have a small color number ,",
    "it is hard to find a fixed color number threshold that can robustly separate pictorial blocks and text / graphics blocks .",
    "furthermore , text and graphics in screen content images typically have some variation in their colors , even in the absence of sub - pixel rendering .",
    "these challenges limit the effectiveness of spec .    in the scale and orientation invariant text segmentation ,",
    "the authors proposed a two stage procedure where in the first step , a coarse segmentation layer for textural regions is extracted based on the intensity variation distribution of text characters .",
    "there could be a few pictorial regions in the segmentation output of the first stage . in the second stage , a textual connected component ( tcc ) based refinement",
    "is proposed to eliminate the survived pictorial regions .",
    "this approach is primarily based on morphological operations , and since it is designed based on a lot of assumption on the underlying text in the foreground , it can not be used for segmentation of other foreground ( such as line graphics patterns ) in screen content .",
    "the above problems with prior approaches motivate us to design a segmentation algorithm that does not rely solely on the pixel intensity but rather exploits the smoothness of the background region .",
    "in other words , instead of looking at the intensities of individual pixels and deciding whether each pixel should belong to background or foreground , we first look at the smoothness of a group of pixels and then decide whether each pixel should belong to background or foreground . towards this goal , in a preliminary work @xcite , we have developed a least absolute deviation ( lad ) method , which fits a smooth model to an image block and classifies the pixels to either background or foreground based on the fitting error .",
    "it uses the @xmath1 norm on the fitting error to enforce the sparsity of the error term .",
    "although this algorithm achieved significantly better segmentation than both the djvu and spec , it suffers from several problems .",
    "one is the difficulty of determining the number of bases to be used in the smooth model .",
    "if we use very few bases we will not be able to represent a complicated background , and if we use too many bases we may end up with representing the foreground pixels with the smooth model and considering them as background .",
    "the second problem is that this prior method does not explicitly exploit the fact that foreground pixels are typically connected .",
    "finally , minimizing the @xmath1 norm of the fitting error does not always give the sparsest fitting error .",
    "in this work , we propose two segmentation algorithms , one relying on the robust regression technique @xcite and the other one using sparse decomposition .",
    "these algorithms overcome some of the above problems , and to the best of our knowledge they have not been investigated previously . in the robust regression",
    "based approach , we try to find a smooth model that can fit the background pixels accurately .",
    "one important point is that , when the smooth model is fitted to the image , it should not be affected by the foreground pixels .",
    "this is accomplished through the ransac ( random sample consensus ) method , which minimizes the number of pixels whose fitting error exceeds a certain threshold .    in the other approach , which uses sparse decomposition ( sd ) , the background and foreground part of the image are modeled with a smooth component and a sparse component , respectively .",
    "since we do not know in advance how many basis functions to include for the background part , the method chooses from a large set of bases that we think are sufficient to represent the most `` complex '' background , while minimizing coefficient @xmath1 norm to avoid overfitting of the smooth model on the foreground pixels .",
    "the total variation @xcite of the foreground component is also added in the cost function to promote the connectivity of the foreground pixels . both ransac and sd algorithms",
    "treat the smooth part of the image as background , and fit a smooth model to the image and treat outliers as foreground .",
    "but there are some differences between these two algorithms . in ransac , the model",
    "is fitted by directly minimizing the number of outliers ( @xmath2 norm of outliers ) , whereas in the sparse decomposition case , the @xmath1 norm of foreground pixels are minimized . on the other hand ,",
    "the sd algorithm specifically promotes the sparsity of the background coefficients and the connectivity of foreground pixels , whereas the ransac method does not enforce these properties .",
    "we note that none of the prior approaches for background / foreground segmentation explicitly make use of the fact that the background is typically smoothly varying , even though it may have a large dynamic range ( e.g. a linear change from black to white ) .",
    "in fact any clustering - based segmentation method would fail for the case where the background color is smoothly changing over a relatively large intensity range , and the background color could be similar to the foreground color in some regions . but using the proposed method we can easily segment this kind of images .",
    "an example of this case is shown in figure 1 where we compare the segmentation result by our algorithm with the result of hierarchical k - means clustering used in djvu @xcite .",
    "as it can be seen , in the clustering based result the background pixels are split into separate clusters .",
    "we would also like to note the difference between the segmentation problem considered in this paper from the `` background - foreground separation '' in video surveillance systems , where the background refers to the stationary part of a captured scene , and the foreground refers to the moving objects .",
    "recently , efficient algorithms have been proposed to solve such a problem with low - rank decomposition @xcite-@xcite .",
    "in those works , consecutive video frames are stacked as columns in a matrix .",
    "the stationary background that repeats in successive frames ( with possible luminance change ) leads to a low - rank matrix , whereas the moving object in the scene appears as sparse outliers . by decomposing the original matrix into a low - rank matrix and a sparse matrix , the",
    "background and foreground are separated . for the separation of background and foreground problem considered here for a screen content image",
    ", the foreground refers to the text and graphics , which is typically overlaid on a smoothly varying background , and we are limited to examine this image only for their separation .",
    "there are two ways to apply low - rank decomposition to still image segmentation .",
    "the first one is to treat a single image as a matrix and perform low - rank decomposition on it .",
    "but such a matrix may not always be decomposed into a low rank matrix and a sparse matrix .",
    "even if this is possible for some image or block , the low - rank component may not correspond to the smooth background .",
    "the other way is to extract the blocks of size nxn in an image and convert each block into a column vector and then put the columns from all blocks into a matrix and applied rpca to decompose the matrix into a low - rank matrix and a sparse matrix , and then treated the sparse component as foreground .",
    "we tried both of these approaches on some of the images in our dataset , and it turns out the doing low - rank decomposition on the whole image works better than the other approach .",
    "figure 2 shows the result of sparse and low - rank decomposition for two sample images in our dataset .",
    "note that each component could have negative values , so to better display the results we show each image on its effective range . for sparse component",
    "we show its absolute value , otherwise some of the detected texts in that layer will not be visible .",
    "as it can be seen , there are some clear artifacts in the low - rank component of the first image .",
    "also for the second image , many of the background regions are still active in the sparse component .",
    "we believe by adding some extra regularization terms to the cost function , the low - rank decomposition based approach could be much improved , and it is worth investigation for future research .    both of our proposed schemes assume the smooth background can be represented well by a few low frequency basis and the foreground is sparse .",
    "this is different from the prior image segmentation works @xcite-@xcite that assume an image ( directly or after some geometric transformation ) consists of a low rank component and a sparse component @xcite , and use the method of low - rank decomposition @xcite to separate the low rank component and the sparse component . because the smooth backgrounds in screen content images may not always have low rank and",
    "the foreground may happen to have low rank patterns ( e.g. horizontal and vertical lines ) , applying such decomposition and assuming the low rank component is the background and the sparse component is the foreground may not always yield satisfactory results .",
    "figure 2 shows the result of sparse and low - rank decomposition for three sample images in our dataset .",
    "note that each component could have negative values , so to better display the results we show each image on its effective range . for sparse component",
    "we show its absolute value , otherwise some of the detected texts in that layer will not be visible .",
    "the foreground map for each case is derived by thresholding the corresponding sparse component . as can be seen ,",
    "there are some horizontal and/or vertical structures in the low rank components that do not belong to the background for the first two images .",
    "also for the second image , some of the foreground patterns are not segmented in the sparse component . only for the third image , where the background actually has low rank and",
    "the foreground is very sparse and disconnected ( hence lacks low - rank components ) , the low - rank decomposition method yields very good result .",
    "therefore , the low - rank decomposition framework is not always appropriate for the background - foreground segmentation problem .",
    "as shown in section iv , the proposed approach that uses low frequency smooth bases to represent the background is valid for a variety of background patterns and works well for all the screen content images we have examined .",
    "+   +     the structure of this paper is as follows : section ii presents the core idea of the proposed segmentation methods .",
    "the procedure of basis selection for background representation is explained in section ii.a .",
    "section ii.b briefly describes the first proposed scheme based on the ransac algorithm . the second proposed algorithm based on sparse decomposition",
    "is described in section ii.c .",
    "the final segmentation algorithm that includes both the core robust regression / sparse decomposition algorithm as well as preprocessing steps and quadtree decomposition is discussed in section iii .",
    "section iv provides the experimental results for these algorithms . and",
    "finally the paper is concluded in section v.",
    "the main idea of this work lies in the fact that if an image only consists of background , it should be well represented with a few smooth basis functions . by well representation we mean that the approximated value at a pixel with the smooth functions should have an error less than a desired threshold at every pixel . whereas if the image has some foreground pixels overlaid on top of a smooth background , those foreground pixels can not be well represented using the smooth representation .",
    "since the foreground pixels can not be modeled with this smooth representation they would usually have a large distortion by using this model .",
    "therefore the background segmentation task simplifies into finding the set of inlier pixels , which can be approximated well using this smooth model .",
    "now some questions arise here :    1 .   what is a good class of smooth models that can represent the background layer accurately and compactly ? 2 .   how can we derive the model parameters , @xmath3 s , such that they are not affected by foreground pixels , especially if we have many foreground pixels ?",
    "for the first question , we divide each image into non - overlapping blocks of size @xmath4 , and represent each image block , denoted by @xmath5 , with a smooth model as a linear combination of a set of two dimensional smooth functions as @xmath6 . here",
    "low frequency two - dimensional dct basis functions are used as @xmath7 , and the reason why dct basis are used and how the number @xmath8 is chosen is explained in section ii.a .",
    "the 2-d dct function is defined as : @xmath9 where @xmath10 and @xmath11 denote the frequency indices of the basis and @xmath12 and @xmath13 are normalization factors and @xmath14 and @xmath15 denote spatial coordinate of the image pixel .",
    "we order all the possible basis functions in the conventional zig - zag order in the ( u , v ) plane , and choose the first @xmath8 basis functions .",
    "the second question is kind of a chicken and egg problem : to find the model parameters we need to know which pixel belongs to the background and to know which pixel belongs to background we need to know what the model parameters are .",
    "one simple way is to define some cost function , which measures the goodness of fit between the original pixel intensities and the ones predicted by the smooth model , and then minimize the cost function .",
    "if we use the @xmath16-norm of the fitting error ( @xmath17 can be 0 , 1 , or 2 ) , the problem can be written as : @xmath18    we can also look at the 1d version of the above optimization problem by converting the 2d blocks of size @xmath4 into a vector of length @xmath19 , denoted by @xmath20 , by concatenating the columns and denoting @xmath6 as @xmath21 where @xmath22 is a matrix of size @xmath23 in which the k - th column corresponds to the vectorized version of @xmath7 and , @xmath24^\\text{t}$ ] . then the problem can be formulated as : @xmath25    if we use the @xmath26-norm ( i.e. @xmath27 ) for the cost function , the problem is simply the least squares fitting problem and is very easy to solve .",
    "in fact it has a closed - form solution as below : @xmath28 but this formulation has a problem that the model parameters , @xmath29 , can be adversely affected by foreground pixels .",
    "especially in least - square fitting , by squaring the residuals , the larger residues will get larger weights in determining the model parameters .",
    "we propose two approaches for deriving the model parameters , one based on robust regression and the other one based on sparse decomposition .",
    "the proposed schemes are more robust to outliers compared to least - square fitting .",
    "these algorithms are described in sections ii.b and ii.c respectively .    for color images , in general we need to check all color components to see whether each can be modeled by a smooth function .",
    "but we found through simulation results that typically if the luminance is smooth , the other two chrominance components are also smooth .",
    "therefore , we first find the set of pixels whose luminance component can be modeled by a smooth function by using the luminance component for @xmath5 . once we find these pixels , we check whether their chrominance components can also be modeled by a smooth function .      to find a good set of bases for background ,",
    "we applied karhunen - loeve transform @xcite to a training set of smooth background images , and the derived bases turn out to be very similar to 2d dct and 2d orthonormal polynomials .",
    "therefore we compared these two sets of basis functions , the dct basis and the orthonormal polynomials which are known to be efficient for smooth image representation .",
    "the two dimensional dct basis are outer - products of 1d dct basis , and are well known to be very efficient for representing natural images @xcite . to derive 2d orthonormal polynomials over an image block of size @xmath4 , we start with the @xmath30 1d vectors obtained by evaluating the simple polynomials @xmath31 , at @xmath32 , for @xmath33 and orthonormalize them using gram - schmidt process to get @xmath30 orthonormal bases . after deriving the 1d polynomial bases , we construct 2d orthonormal polynomial bases using the outer - product of 1d bases .",
    "to compare dct and orthonormal polynomial bases , we collected many smooth background blocks of size @xmath34 from several images and tried to represent those blocks with the first @xmath8 polynomials and dct basis functions in zigzag order . because each block contains only smooth background pixels , we can simply apply least squares fitting to derive the model coefficients using eq ( 2 ) .",
    "then we use the resulting model to predict pixels intensities and find the mean squared error ( mse ) for each block .",
    "the reconstruction rmses ( root mse ) as a function of the number of used bases , @xmath8 , for both dct and polynomials are shown in figure 3 .",
    "as we can see dct has slightly smaller rmse , so it is preferred over orthonormal polynomials .",
    "we would like to note that for more complicated background patterns , one could use the hybrid linear models @xcite , @xcite to represent the background using a union of subspaces .",
    "but for screen content images , the background can usually be well - represented by a few low frequency dct bases .",
    "robust regression is a form of regression analysis , which is developed to overcome some limitations of traditional algorithms @xcite .",
    "the performance of most of the traditional regression algorithms can be significantly affected if the assumptions about underlying data - generation process are violated and they are highly sensitive to the presence of outliers .",
    "the outlier can be thought as any data - point or observation which does not follow the same pattern as the rest of observations .",
    "the robust regression algorithms are designed to find the right model for a dataset even in the presence of outliers .",
    "they basically try to remove the outliers from dataset and use the inliers for model prediction .",
    "ransac @xcite is a popular robust regression algorithm .",
    "it is an iterative approach that performs the parameter estimation by minimizing the number of outliers ( which can be thought as minimizing the @xmath2-norm ) .",
    "ransac repeats two iterative procedures to find a model for a set of data . in the first step ,",
    "it takes a subset of the data and derives the parameters of the model only using that subset .",
    "the cardinality of this subset is the smallest sufficient number to determine the model parameters . in the second step ,",
    "it tests the model derived from the first step against the entire dataset to see how many samples can be modeled consistently . a sample will be considered as an outlier if it has a fitting error larger than a threshold that defines the maximum allowed deviation .",
    "ransac repeats the procedure a fixed number of times and at the end , it chooses the model with the largest consensus set ( the set of inliers ) as the optimum model .",
    "there is an analogy between our segmentation framework and model fitting in ransac .",
    "we can think of foreground pixels as outliers for the smooth model representing the background . therefore ransac can be used to perform foreground segmentation task .    the proposed ransac algorithm for foreground /",
    "background segmentation of a block of size @xmath4 is as follows :",
    "1 .   select a subset of @xmath8 randomly chosen pixels .",
    "let us denote this subset by @xmath35 .",
    "2 .   fit the model @xmath36 to the pixels @xmath37 and find the @xmath3 s .",
    "this is done by solving the set of @xmath8 linear equations @xmath38 .",
    "3 .   test all @xmath19 pixels @xmath5 in the block against the fitted model . those pixels that can be predicted with an error less than @xmath39 will be considered as the inliers .",
    "4 .   save the consensus set of the current iteration if it has a larger size than the largest consensus set identified so far .",
    "if the inlier ratio , which is the ratio of inlier pixels to the total number of pixels , is more than 95% , stop the algorithm .",
    "repeat this procedure up to @xmath40 times .",
    "after this procedure is finished , the pixels in the largest consensus set will be considered as inliers or equivalently background .",
    "the final result of ransac can be refined by refitting over all inliers once more and finding all pixels with error less than @xmath39 . to boost the speed of the ransac algorithm",
    ", we stop once we found a consensus set which has an inlier ratio more than @xmath41 .",
    "the segmentation results by ransac is usually very good , but it is computationally demanding . for blocks that can be easily segmented with other methods , ransac may be an overkill .",
    "therefore , we propose a segmentation algorithm that has different modes in section iii .      sparse representation has been used for various applications in recent years , including face recognition , super - resolution , morphological component analysis , denosing , image restoration and sparse coding @xcite-@xcite . in this work",
    ", we explored the application of sparse decomposition for image segmentation . as we mentioned earlier",
    ", the smooth background regions can be well represented with a few smooth basis functions , whereas the high - frequency component of the image belonging to the foreground , can not be represented with this smooth model . but using the fact that foreground pixels occupy a relatively small percentage of the images we can model the foreground with a sparse component overlaid on background .",
    "therefore it is fairly natural to think of mixed content image as a superposition of two components , one smooth and the other one sparse , as shown below : @xmath42 where @xmath43 and @xmath44 correspond to the smooth background region and foreground pixels respectively .",
    "therefore we can use sparse decomposition techniques to separate these two components .",
    "after decomposition , those pixels with large value in the @xmath45 component will be considered as foreground .",
    "we will denote this algorithm as `` sd '' , for notation brevity .    to have a more compact notation",
    ", we will look at the 1d version of this problem . denoting the 1d version of @xmath44 by @xmath46 , eq .",
    "( 3 ) can be written as : @xmath47    now to perform image segmentation , we need to impose some prior knowledge about background and foreground to our optimization problem .",
    "since we do not know in advance how many basis functions to include for the background part , we allow the model to choose from a large set of bases that we think are sufficient to represent the most `` complex '' background , while minimizing coefficient @xmath2 norm to avoid overfitting of the smooth model on the foreground pixels . because if we do not restrict the parameters , we may end up with a situation that even some of the foreground pixels are represented with this model ( imagine the case that we use a complete set of bases for background representation ) . therefore the number of nonzero components of @xmath48 should be small ( i.e. @xmath49 should be small ) .",
    "on the other hand we expect the majority of the pixels in each block to belong to the background component , therefore the number of nonzero components of @xmath46 should be small . and the last but not the least one is that foreground pixels typically form connected components in an image , therefore we can add a regularization term which promotes the connectivity of foreground pixels .",
    "here we used total variation of the foreground component to penalize isolated points in foreground . putting all of these priors together",
    "we will get the following optimization problem : @xmath50 where @xmath51 and @xmath52 are some constants which need to be tuned .",
    "for the first two terms since @xmath2 is not convex , we use its approximated @xmath1 version to have a convex problem . for the total variation we can use either the isotropic or the anisotropic version of 2d total variation @xcite . to make our optimization problem simpler ,",
    "we have used the anisotropic version in this algorithm , which is defined as : @xmath53 after converting the 2d blocks into 1d vector , we can denote the total variation as below : @xmath54 where @xmath55'$ ]",
    ". then we will get the following problem : @xmath56 from the constraint in the above problem , we get @xmath57 and then we derive the following unconstrained problem : @xmath58 this problem can be solved with different approaches , such as alternating direction method of multipliers ( admm ) @xcite , majorization minimization @xcite , proximal algorithm @xcite and iteratively reweighted least squares minimization @xcite .",
    "here we present the formulation using admm algorithm .",
    "+   + * admm for solving l1 optimization : * + admm is a variant of the augmented lagrangian method that uses the partial update for dual variable . to solve ( 9 ) with admm",
    ", we introduce the auxiliary variable @xmath59 and @xmath14 and convert the original problem into the following form : @xmath60 then the augmented lagrangian for the above problem can be formed as : @xmath61 where @xmath62 , @xmath63 and @xmath64 denote the dual variables .",
    "then , we can find the update rule of each variable by setting the gradient of the objective function w.r.t . to the primal variables to zero and using dual descent for dual variables",
    "as shown in algorithm 1 ,    @xmath65 @xmath66 @xmath67",
    "$ ] @xmath68 @xmath69 @xmath70 @xmath71 @xmath72 @xmath73 @xmath74 @xmath75 @xmath76     + here @xmath77 , and @xmath78 denotes the soft - thresholding operator applied elementwise and is defined as : @xmath79 the setting for the parameters @xmath80 and the regularization weights @xmath81 are explained in section iv .",
    "after finding the values of @xmath48 , we can find the sparse component as @xmath82 .",
    "then those pixels with values less than an inlier threshold @xmath39 in @xmath46 will be considered as foreground .    to show the advantage of minimizing @xmath1 over @xmath26 , and also sparse decomposition over both @xmath1 and @xmath26 minimization approaches , we provide the segmentation result using least square fitting ( lsf ) , least absolute deviation fitting ( lad ) and also sparse decomposition ( sd ) framework for a sample image consists of foreground texts overlaid on a constant background . the original image and",
    "the segmentation results using lsf , lad and sd are shown in figure 4 .                    the reconstructed smooth model by these algorithms",
    "are shown in figure 5 .",
    "all methods used 10 dct basis for representing the background and the same inlier threshold of 10 is used here .",
    "as we can see , the smooth model derived by lsf is largely affected by the foreground pixels .",
    "the ideal smooth model should have the same color as actual background ( here gray ) , but because of the existence of many text pixels with white color the lsf solution tries to find a trade - off between fitting the texts and fitting the actual background , which results in inaccurate representation of either background or foreground in the regions around text .",
    "therefore the regions around texts will have error larger than the inlier threshold and be falsely considered as the foreground pixels .",
    "the smooth model produced by the lad approach was less affected by the foreground pixels than the lsf solution , because it minimizes the @xmath1 norm of the fitting error @xmath46 .",
    "however , in blocks where there is a larger percentage of foreground pixels ( bottom middle and right regions ) , lad solution is still adversely affected by the foreground pixels .",
    "the sd approach yielded accurate solution in this example , because it considers the @xmath1 norm of the fitting coefficient , @xmath48 , and the tv norm of @xmath46 , in addition to the @xmath1 norm of @xmath46 .",
    "although the lad solution leads to smaller @xmath1 norm of the fitting error , it also leads to a much larger @xmath1 norm of @xmath48 as well . by minimizing all three terms ,",
    "the sd solution obtains a background model that uses predominantly only the dc basis , which represented the background accurately .    to confirm that the sd solution indeed has a smaller @xmath1 norm of @xmath48 , we show below the derived @xmath48 values using each scheme .",
    "as we can see the derived @xmath48 by sd has much smaller @xmath2 and @xmath1 norm than the other two .",
    "we propose a segmentation algorithm that mainly depends on ransac / sd but it first checks if a block can be segmented using some simpler approaches and it goes to ransac / sd only if the block can not be segmented using those approaches .",
    "these simple cases belong to one of these groups : pure background block , smoothly varying background only and text / graphic overlaid on constant background .",
    "pure background blocks are those in which all pixels have similar intensities",
    ". these kind of blocks are common in screen content images .",
    "these blocks can be detected by looking at the standard deviation or maximum absolute deviation of pixels intensities .",
    "if the standard deviation is less than some threshold we declare that block as pure background . smoothly varying background",
    "only is a block in which the intensity variation over all pixels can be modeled well by a smooth function .",
    "therefore we try to fit @xmath8 dct basis to all pixels using least square fitting .",
    "if all pixels of that block can be represented with an error less than a predefined threshold , @xmath39 , we declare it as smooth background .",
    "the last group of simple cases is text / graphic overlaid on constant background .",
    "the images of this category usually have zero variance ( or very small variances ) inside each connected component .",
    "these images usually have a limited number of different colors in each block ( usually less than 10 ) and the intensities in different parts are very different .",
    "we calculate the percentage of each different color in that block and the one with the highest percentage will be chosen as background and the other ones as foreground .",
    "when a block does not satisfy any of the above conditions , ransac / sd will be applied to separate the background and the foreground .",
    "if the segmentation is correct , the ratio of background pixels over the total number of pixels should be fairly large ( greater than at least half ) . when the ratio is small , the background of the block may be too complex to be presented by the adopted smooth function model .",
    "this may also happen when the block sits at the intersection of two smooth backgrounds . to overcome these problems , we apply the proposed method recursively using a quadtree structure . when the inlier ratio of the current block is less than @xmath84 , we divide it into 4 smaller blocks and apply the proposed algorithm on each smaller block , until the smallest block size is reached .",
    "+ the overall segmentation algorithm is summarized as follows :    1 .   starting with block size @xmath85 ,",
    "if the standard deviation of pixels intensities is less than @xmath86 ( i.e. pixels in the block have very similar color intensity ) , then declare the entire block as background . if not , go to the next step",
    "perform least square fitting using all pixels .",
    "if all pixels can be predicted with an error less than @xmath39 , declare the entire block as background . if not , go to the next step ; 3 .",
    "if the number of different colors ( in terms of the luminance value ) is less than @xmath87 and the intensity range is above @xmath88 , declare the block as text / graphics over a constant background and find the background as the color in that block with the highest percentage of pixels . if not , go to the next step ; 4 .",
    "use ransac / sd to separate background and foreground using the luminance component only .",
    "verify that the corresponding chrominance components of background pixels can also be fitted using @xmath8 basis functions with an error less than @xmath39 .",
    "if some of them can not be fitted with this error , remove them from inliers set .",
    "if the percentage of inliers is more than a threshold @xmath84 or @xmath30 is equal to 8 , the inlier pixels are selected as background . if not go to the next step ; 5 .   decompose the current block of size @xmath4 into 4 smaller blocks of size @xmath89 and run the segmentation algorithm for all of them . repeat until @xmath90 .    to show the advantage of quad - tree decomposition , we provide an example of the segmentation map without and with quad - tree decomposition in figure 6 . as we can see , using quadtree decomposition we get much better result compared to the case with no decomposition .",
    "when we do not allow a @xmath34 block to be further divided , only a small percentage of pixels can be represented well by a smooth function , leaving many pixels as foreground .",
    "it is worth mentioning that the gray region on the top of the image is considered as foreground in the segmentation result without using quadtree decomposition .",
    "this is because the first row of @xmath34 blocks contain two smooth background regions with relatively equal size .",
    "to enable rigorous evaluation of different algorithms , we have generated an annotated dataset consisting of 328 image blocks of size @xmath91 , extracted from sample frames from hevc test sequences for screen content coding @xcite .",
    "the ground truth foregrounds for these images are extracted manually by the author and then refined independently by another expert .",
    "this dataset is publicly available at @xcite .",
    "table 1 summarizes the parameter choices in the proposed algorithms .",
    "the largest block size is chosen to be @xmath30=64 , which is the same as the largest cu size in hevc standard .",
    "the thresholds used for preprocessing ( steps 1 - 3 ) should be chosen conservatively to avoid segmentation errors . in our simulations , we have chosen them as @xmath92 , @xmath93 and @xmath94 , which achieved a good trade off between computation speed and segmentation accuracy .",
    "for the ransac algorithm , the maximum number of iteration is chosen to be 200 .",
    "for the sparse decomposition algorithm , the weight parameters in the objective function are tuned by testing on a validation set and are set to be @xmath95 and @xmath96 . the admm algorithm described in algorithm 1",
    "is implemented in matlab , which the code available in @xcite .",
    "the number of iteration for admm is chosen to be 50 and the parameter @xmath97 , @xmath98 and @xmath99 are all set to 1 as suggested in @xcite",
    ".     maximum block size &  @xmath30 &   64 + inlier distortion threshold &  @xmath39 &  10 + background standard deviation threshold &  @xmath100 &  3 + qaud - tree decomposition threshold &  @xmath101 &  0.5 + max number of colors for text over constant background &  @xmath87 &  10 + min intensity range for text over constant background &  @xmath88 &  50 + sparsity weight in sd algorithm &  @xmath51 &   10 + total variation weight in sd algorithm &  @xmath52 &  4 +    [ tblcomp ]    to find the number of dct basis functions , @xmath8 , and inlier threshold , @xmath39 , for ransac and sparse decomposition , we did a grid search over pairs of these parameters , in the range of 6 to 10 for @xmath8 and 5 to 15 for @xmath39 , on some training images , and then chose the one which achieved the best result in terms of average f1-score ( defined in eq .",
    "the parameter values that resulted in the best f1-score on our training images are shown in table ii .     &",
    "sd + inlier threshold &  10 &  10 &   10 + number of bases &  6 &  10 &  10 +    [ tblcomp ]    before showing the segmentation result of the proposed algorithms on the test images , we illustrate how the segmentation result varies by changing different parameters in ransac algorithm .",
    "the sparse decomposition algorithm would also have the same behavior .",
    "to evaluate the effect of the distortion threshold , @xmath39 , for inlier pixels in the final segmentation result , we show the foreground map derived by several different thresholds in figure 7 . as we can see by increasing the threshold more and more pixels are considered as background .",
    "the foreground maps from left to right and top to bottom are obtained with @xmath39 setting to 5 , 10 , 25 , 35 , and 45 , respectively.,title=\"fig : \" ]       0.24 .",
    "the foreground maps from left to right and top to bottom are obtained with @xmath39 setting to 5 , 10 , 25 , 35 , and 45 , respectively.,title=\"fig : \" ]     +    0.24 . the foreground maps from left to right and top to bottom are obtained with @xmath39 setting to 5 , 10 , 25 , 35 , and 45 , respectively.,title=\"fig : \" ]       0.24 .",
    "the foreground maps from left to right and top to bottom are obtained with @xmath39 setting to 5 , 10 , 25 , 35 , and 45 , respectively.,title=\"fig : \" ]     +    0.24 . the foreground maps from left to right and top to bottom are obtained with @xmath39 setting to 5 , 10 , 25 , 35 , and 45 , respectively.,title=\"fig : \" ]       0.24 . the foreground maps from left to right and top to bottom are obtained with @xmath39 setting to 5 , 10 , 25 , 35 , and 45 , respectively.,title=\"fig : \" ]    to assess the effect of the number of basis , @xmath8 , in the final segmentation result , we show the foreground map derived by several different number of basis functions using the ransac method in figure 8 .    0.24        0.24      +    0.24        0.24      +    0.24        0.24     to illustrate the smoothness of the background layer and its suitability for being coded with transform - based coding , the filled background layer of a sample image is presented in figure 9 .",
    "the background holes ( those pixels that belong to foreground layers ) are filled by the predicted value using the smooth model , which is obtained using the least squares fitting to the detected background pixels . as we can see",
    "the background layer is very smooth and does not have any sharp edges .",
    "we compare the proposed algorithms with hierarchical k - means clustering used in djvu , spec , least square fitting , and lad algorithms . for spec ,",
    "we have adapted the color number threshold and the shape primitive size threshold from the default value given in @xcite when necessary to give more satisfactory result .",
    "furthermore , for blocks classified as text / graphics based on the color number , we segment the most frequent color and any similar color to it ( i.e. colors whose distance from most frequent color is less than 10 in luminance ) in the current block as background and the rest as foreground .",
    "we have also provided a comparison with least square fitting algorithm result , so that the reader can see the benefit of minimizing the @xmath2 and @xmath1 norm over minimizing the @xmath26 norm .    to provide a numerical comparison between the proposed scheme and previous approaches ,",
    "we have calculated the average precision and recall and f1 score ( also known as f - measure ) @xcite achieved by different segmentation algorithms over this dataset . the precision and recall",
    "are defined as : @xmath102 where @xmath103 and @xmath104 denote true positive , false positive and false negative respectively . in our evaluation",
    ", we treat a foreground pixel as positive .",
    "a pixel that is correctly identified as foreground ( compared to the manual segmentation ) is considered true positive .",
    "the same holds for false negative and false positive .",
    "the balanced f1 score is defined as the harmonic mean of precision and recall , i.e. @xmath105 the average precision , recall and f1 scores by different algorithms are given in table iii .",
    "as can be seen , the two proposed schemes achieve much higher precision and recall than the djvu and spec algorithms , and also provide noticeable gain over our prior lad approach . among the two proposed methods ,",
    "sparse decomposition based algorithm achieved high precision , but lower recall than the ransac algorithm .",
    "recall &   f1 score + spec @xcite &  50% &   64% &  56% + djvu @xcite &  64% &  69% &  66% + least square fitting &  79% &  60% &   68% + least absolute deviation @xcite &   90.5% &   87% &   88.7% + ransac based segmentation &  91% &  90% &   90.4% + sparse decomposition alg . &",
    "94% &  87.2% &   90.5% +    [ tblcomp ]    the results for 5 test images ( each consisting of multiple 64x64 blocks ) are shown in figure 10 .",
    "each test image is a small part of a frame from a hevc scc test sequence .",
    "0.18        0.18        0.18     0.18      0.18      +    0.18        0.18        0.18     0.18      0.18      +    0.18        0.18        0.18     0.18      0.18      +    0.18        0.18        0.18     0.18      0.18      +    0.18        0.18        0.18     0.18      0.18      +    0.18        0.18        0.18     0.18      0.18      +    0.18        0.18        0.18     0.18      0.18      +    0.18        0.18        0.18     0.18      0.18     it can be seen that in all cases the proposed algorithms give superior performance over djvu and spec , and slightly better than our prior lad approach in some images .",
    "note that our dataset mainly consists of challenging images where the background and foreground have overlapping color ranges . for simpler cases where the background has a narrow color range that is quite different from the foreground , both djvu and",
    "the proposed methods will work well . on the other hand",
    ", spec does not work well when the background is fairly homogeneous within a block and the foreground text / lines have varying colors . in terms of complexity",
    ", it took 20 , 506 and 962 ms on average for a block of @xmath34 to be segmented using ransac , lad and sparse decomposition based segmentation algorithms ( with the pre - processing steps ) using matlab 2015 on a laptop with windows 10 and core i5 cpu running at 2.6ghz .",
    "because the ransac method is much faster than sd and yielded very similar segmentation accuracy , the ransac method is preferred for practical applications .",
    "the percentages of blocks processed by different steps of the proposed segmentation algorithm are listed in table iv ( for the images in our dataset ) .",
    "note that the parameters used to identify the first three types of blocks can be chosen to achieve the desired trade - off between the segmentation accuracy and computation time .",
    "had we chosen looser thresholds than those given in table i , fewer blocks will need to go through the ransac or sd algorithm , which will reduce the overall computation time .",
    "pure background &  15% + smoothly varying background &  14% + text / graphics on constant background &  11% + ransac / sd based segmentation &   60% +    [ tblcomp ]",
    "this paper proposed two new algorithms for segmentation of background and foreground in screen content images .",
    "the background is defined as the smooth component of the image that can be well modeled by a set of low frequency dct basis functions and the foreground refers to those pixels that can not be modeled with this smooth representation .",
    "one of the proposed algorithms uses robust regression technique to fit a smooth function to an image block and detect the outliers .",
    "the outliers are considered as the foreground pixels .",
    "here ransac algorithm is used to solve this problem .",
    "the second algorithm uses sparse decomposition techniques to separate the smooth background from the sparse foreground layer .",
    "total variation of the foreground component is also added to the cost function to enforce the foreground pixels to be connected . instead of applying the proposed algorithms to every block , which are computationally demanding , we first check whether the block satisfies several conditions and can be segmented using simple methods .",
    "we further propose to apply the algorithm recursively using quad - tree decomposition , starting with larger block sizes .",
    "a block is split only if ransac or sparse decomposition can not find sufficient inliers in this block .",
    "these algorithms are tested on several test images and compared with three other well - known algorithms for background / foreground separation and the proposed algorithms show significantly better performance for blocks where the background and foreground pixels have overlapping intensities .",
    "the authors would like to thank ivan selesnick and patrick combettes for their useful comments regarding sparse decomposition based segmentation .",
    "we would like to thank huawei technologies for supporting this research , and the jct - vc group for providing the hevc test sequences .    1 w. zhu , w. ding , j. xu , y. shi and b. yin , `` screen content coding based on hevc framework '' , ieee transactions on multimedia , 16 , no . 5 : 1316 - 1326 , 2014 .",
    "m. zhan , x. feng and m. xu , `` advanced screen content coding using color table and index map '' , icme workshops , 2014 .",
    "a. skodras , c. christopoulos and t. ebrahimi , `` the jpeg 2000 still image compression standard '' , ieee signal processing magazine , 36 - 58 , 2001 .",
    "sullivan , j. ohm , w.j .",
    "han and t. wiegand , `` overview of the high efficiency video coding ( hevc ) standard '' , ieee transactions on circuits and systems for video technology , 22 : 1649 - 1668 , 2012 .",
    "j. huang , ek .",
    "wong and y. wang , `` check image compression using a layered coding method '' , journal of electronic imaging 7.3 : 426 - 442 , 1998 .",
    "p. haffner , p.g .",
    "howard , p. simard , y. bengio and y. lecun , `` high quality document image compression with djvu '' , journal of electronic imaging , 7(3 ) , 410 - 425 , 1998 .",
    "dequeiroz , r.r . buckley and m. xu , `` mixed raster content ( mrc ) model for compound image compression '' , electronic imaging99 . international society for optics and photonics , 1998 .",
    "j. zhang and r. kasturi , `` extraction of text objects in video documents : recent progress '' , document analysis systems .",
    "a. coates , b. carpenter , c. case , s. satheesh , b. suresh , t. wang , dj .",
    "wu and ay .",
    "ng , `` text detection and character recognition in scene images with unsupervised feature learning '' , ieee international conference on document analysis and recognition ( icdar ) , pp .",
    "440 - 445 , 2011 .",
    "t. lin and p. hao , `` compound image compression for real - time computer screen image transmission '' , ieee transactions on image processing , 993 - 1005 , 2005 .",
    "h yang , s wu , c deng , w lin , `` scale and orientation invariant text segmentation for born - digital compound images '' , ieee transactions on cybernetics , 45.3 : 519 - 533 , 2015 .",
    "s. minaee and y. wang , `` screen content image segmentation using least absolute deviation fitting '' , international conference on image processing ( icip ) , ieee , pp .",
    "3295 - 3299 , sept .",
    "p.j rousseeuw , am .",
    "leroy , `` robust regression and outlier detection '' , vol . 589 .",
    "john wiley and sons , 2005 .",
    "s osher , m burger , d goldfarb , j xu , w yin , `` an iterative regularization method for total variation - based image restoration '' , multiscale modeling and simulation , 460 - 89 , 2005 .",
    "t bouwmans , eh zahzah , `` robust pca via principal component pursuit : a review for a comparative evaluation in video surveillance , '' computer vision and image understanding , 2014 .",
    "e. candes , x. li , y. ma , and j. wright , `` robust principal component analysis ? '' , international journal of acm , 58(3 ) , 2011 .",
    "a sobral , a vacavant , `` a comprehensive review of background subtraction algorithms evaluated with synthetic and real videos '' , computer vision and image understanding , 122 , pp.4 - 21 , 2014 .",
    "t bouwmans , f porikli , b hoferlin , a vacavant , `` background modeling and foreground detection for video surveillance '' , crc press , 2014 .",
    "p sprechmann , am bronstein , and g sapiro , `` learning efficient sparse and low rank models '' , ieee transactions on pattern analysis and machine intelligence , 1821 - 1833 , 2015 .",
    "levey , a. , and michael lindenbaum .",
    "`` sequential karhunen - loeve basis extraction and its application to images '' , image processing , ieee transactions on 9.8 : 1371 - 1374 , 2000 .",
    "y wang , j ostermann , yq zhang , `` video processing and communications '' , upper saddle river : prentice hall , 2002 .",
    "h , kun , ay yang , and y ma , `` sparse representation of images with hybrid linear models '' , international conference on image processing , ieee , 2004 .",
    "w hong , j wright , k huang , y ma ,  multi scale hybrid linear models for lossy image representation  , ieee transactions on image processing , 3655 - 3671 , 2006 .",
    "r. raguram , jm . frahm and m.",
    "pollefeys , `` a comparative analysis of ransac techniques leading to adaptive real - time random sample consensus '' , computer vision - eccv , springer , 500 - 513 , 2008 . j. wright , ay .",
    "yang , a. ganesh , ss .",
    "sastry , and y. ma , `` robust face recognition via sparse representation '' , ieee transactions on pattern analysis and machine intelligence , 31(2 ) , 210 - 227 , 2009 .",
    "j. yang , j. wright , ts . huang and y.",
    "ma , `` image super - resolution via sparse representation '' , image processing , ieee transactions on 19 , no . 11 : 2861 - 2873 , 2010 .",
    "jl starck , m elad , d donoho , `` redundant multiscale transforms and their application for morphological component separation '' , advances in imaging and electron physics 132 : 287 - 348 , 2004 .",
    "j. mairal , m. elad , and g. sapiro , `` sparse representation for color image restoration '' , image processing , ieee transactions on 17.1 : 53 - 69 , 2008 .",
    "z zhang , a ganesh , x liang , y ma , `` tilt : transform invariant low - rank textures '' , international journal of computer vision , 2012 .",
    "r xia , y pan , l du , j yin , `` robust multi - view spectral clustering via low - rank and sparse decomposition '' , association for the advancement of artificial intelligence , pp .",
    "2149 - 2155 , 2014 .",
    "y li , p wang , `` robust image hashing based on low - rank and sparse decomposition '' , international conference on acoustics , speech and signal processing , ieee , 2016 .",
    "j yang , k yu , t huang , `` supervised translation - invariant sparse coding , '' ieee conference on computer vision and pattern recognition ( cvpr ) , 2010 .",
    "d needell , r ward , `` stable image reconstruction using total variation minimization '' , siam journal on imaging sciences . 4;6(2):1035 - 58 , 2013 .",
    "s. boyd , n. parikh , e. chu , b. peleato and j. eckstein , `` distributed optimization and statistical learning via the alternating direction method of multipliers '' , foundations and trends in machine learning , 3(1 ) , 1 - 122 , 2011 .",
    "iw selesnick , hl graber , y ding , t. zhang , rl .",
    "barbour , `` transient artifact reduction algorithm ( tara ) based on sparse optimization '' , ieee transactions on signal processing , 6596 - 611 , 2014 .",
    "l. combettes and v. r. wajs , `` signal recovery by proximal forward - backward splitting , '' multiscale modeling and simulation , vol .",
    "4 , pp . 1168 - 1200 , november 2005 . i. daubechies , r. devore , m. fornasier and c.s .",
    "gunturk , `` iteratively reweighted least squares minimization for sparse recovery '' , communications on pure and applied mathematics , 63(1 ) , 1 - 38 , 2010 .",
    "dm powers , `` evaluation : from precision , recall and f - measure to roc , informedness , markedness and correlation '' , journal of machine learning technologies 2 ( 1 ) : 37 - 63 , 2011 . iso / iec jtc 1/sc 29/wg 11 requirements subgroup , `` requirements for an extension of hevc for coding of screen content '' , in mpeg 109 meeting , 2014 .",
    "https://sites.google.com/site/shervinminaee/research/image-segmentation https://web.stanford.edu/  boyd / papers / admm/"
  ],
  "abstract_text": [
    "<S> this paper considers how to separate text and/or graphics from smooth background in screen content and mixed document images and proposes two approaches to perform this segmentation task . </S>",
    "<S> the proposed methods make use of the fact that the background in each block is usually smoothly varying and can be modeled well by a linear combination of a few smoothly varying basis functions , while the foreground text and graphics create sharp discontinuity . </S>",
    "<S> the algorithms separate the background and foreground pixels by trying to fit background pixel values in the block into a smooth function using two different schemes . </S>",
    "<S> one is based on robust regression , where the inlier pixels will be considered as background , while remaining outlier pixels will be considered foreground . </S>",
    "<S> the second approach uses a sparse decomposition framework where the background and foreground layers are modeled with a smooth and sparse components respectively . </S>",
    "<S> these algorithms have been tested on images extracted from hevc standard test sequences for screen content coding , and are shown to have superior performance over previous approaches . </S>",
    "<S> the proposed methods can be used in different applications such as text extraction , separate coding of background and foreground for compression of screen content , and medical image segmentation .    </S>",
    "<S> image segmentation , robust regression , sparse decomposition , ransac , admm . </S>"
  ]
}