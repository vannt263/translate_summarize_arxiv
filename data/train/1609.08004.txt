{
  "article_text": [
    "the foliar herbivory quantification is an important source of information on crop production .",
    "that is because the foliar area of plants is directly related to the photosynthesis process , which occurs by the incidence of light energy on leaves . as a consequence ,",
    "the leaves are responsible for the plant growth and grain filling .",
    "there are several studies on the effects of foliar herbivory , ranging from forecasting production @xcite , molecular and biochemical analysis related to plant defense @xcite , artificial defoliation analysis @xcite , plant fitness in transgenic cultivars @xcite , and plant invasions on ecological studies @xcite .",
    "therefore , quantifying the damage caused by insect herbivory is important with respect to assisting experts and farmers to take better decisions , including evaluations of insecticide management .",
    "there exist four traditional methodologies to measure foliar damage area : ( i ) visual evaluation , ( ii ) manual quantification , ( iii ) determination of foliar dimensions , and ( iv ) use of automatic area - integrating meter @xcite .",
    "assessments are carried out by an expert that , in many cases , estimates wrongly the foliar area ( figure [ fig : visual ] ) .",
    "the manual quantification , type ( ii ) is based on the square - counting method @xcite .",
    "typically , an expert or an agronomist counts how many squares fulfill the foliar area over a 1 mm@xmath0-spaced grid .",
    "this method not only demands an extensive work , but it is time - consuming .",
    "figure [ fig : manual ] shows an example of how the square - counting method is employed . in turn ,",
    "method type ( iii ) , determination of foliar dimensions , aims at measuring foliar dimensions based on width and weight measures @xcite , as can be seen in figure [ fig : limbo ] .",
    "such methodology is widely used by experts , however , it can not estimate precisely the areas with foliar damages . at last , method ( iv )",
    "uses devices to automatically measure the leaf area .",
    "although they are accurate to measure leaf areas in case there is no foliage damage , they do not perform well in leaves with insect predation along the borders .",
    "another disadvantage is that they depend on high - cost devices , which demand maintenance .",
    "two examples of such devices are the li - cor 3100 c @xcite and the adc am350 @xcite .    in order to overcome the drawbacks of the traditional methodologies , there are studies that proposed automatic computational systems . initial attempts @xcite @xcite are able to measure the foliar area , but do not estimate the damage .",
    "et al . _ and neal _ et al . _",
    "@xcite proposed the use of scanners to measure the foliar area .",
    "@xcite proposed a similar system for the coffee crop .",
    "however , they do not estimate the area with lesions caused by insects , but only the area of healthy leaves so to estimate productivity .",
    "mura _ et al . _",
    "@xcite proposed an automatic system to estimate the soybean foliar area digitized with the aid of a scanner .",
    "although the automatic system is accurate , it does not estimate the foliar attacked by insects .",
    "furthermore , the system is sensitive to noise , such as sand grains and small pieces of leaves .",
    "similarly , studies of @xcite are not able to handle noise . in contrast , nazare _",
    "et al._@xcite proposed a methodology that achieves better results even when noise is observed .    in the work of easlon and bloom @xcite ,",
    "the authors proposed a mobile application , named easy leaf area , which uses image analysis to measure the plant canopy area .",
    "that is , different from our application , they do not measure the biomass loss caused by insect herbivory . not only that",
    ", their strategy to segment images is very sensitive to illumination changes .",
    "for that reason , in their experiments , they were not able to measure non - green leaves . in nature",
    ", leaves have different spots because of the effects of climate and because of insects whose attacks will not necessarily reduce the area of the leaves , rather they just create non - green colors of several shades on the leaves surfaces .    in this article",
    ", we propose an approach to automatically quantify the foliar damage of insect herbivory by using image processing techniques .",
    "in contrast to the other computational proposals aforementioned , we do not use scanners for image acquisition . here",
    "we propose a portable application for smartphones to estimate the damage percentage based on foliar area .",
    "unlike the literature papers , our proposal is able to estimate the area with insect predation , as well as regions in which contours were lost ",
    "we use interactive reconstruction via bezier curves . with the application",
    ", the expert can estimate the damage to the crop _ in situ _",
    ", i.e. , there is no need to return to the laboratory .",
    "similar to the proposal of nazare _",
    "@xcite , our application can deal with the noises that appear in the images , eliminating them using connected components @xcite .",
    "although nazare has proposed a methodology that makes the reconstruction of contours , it is based on line segments , so that the reconstruction depends on the corners that the algorithm detects .",
    "hence , in nazare s method , instead of a curve , the contour of attacked regions is filled with a set of line segments , turning the measurement inaccurate . in the work of bradshaw _",
    "@xcite , they estimate the attacked regions , but , since the authors used polygons to estimate the area that suffered the insect herbivory , their results are not accurate . differently",
    ", here we use quadratic bezier curves with three user - defined control points , creating a smooth contour that fits the original edge of leaves .",
    "furthermore , our application can be used as a non - destructive method because it does not require leaf removal from the plant , which allows repeated measurements of the same leaf .",
    "in this section , we introduce a methodology to estimate the foliar damage of leaves .",
    "our goal is to calculate the intensity of foliar loss in relation to the total leaf area .",
    "figure [ fig : proposta ] illustrates the method that consists of four steps based on techniques of image processing and computational geometry applied to each leaf ) , we perform the image processing using image thresholding .",
    "basically , thresholding is an image segmentation technique that considers the criterion of image partitioning .",
    "this criterion defines one or more values , called thresholds , that divide the image in objects of interest and background .",
    "this technique is used in many works @xcite and applications @xcite . typically , there are two groups of thresholding methods .",
    "global thresholding uses one single threshold for the entire image , while local thresholding uses different thresholds depending on the region that will be segmented . in this work ,",
    "we used the global thresholding of otsu s method @xcite , which has already been used to segment leaves with good performance .",
    "we show that the same principle of otsu can be applied in mobile devices .",
    "figure [ fig : propostab ] shows the image segmentation result .",
    "however , inadequate illumination is a major problem in image processing because uneven illumination has impact in the result of segmentation operations . to tackle this problem in our application",
    ", we used the otsu s method on the cie la*b * color space @xcite .",
    "we convert an image from rgb to cie la*b * and use it to reduce the impact in cases when unbalanced light reflection occurs on the leaf s surface .",
    "furthermore , the resulting image is shown on the screen , and if the user realizes it is not satisfactorily segmented , he still can fine - tune the automatic segmentation .",
    "despite the efficacy of thresholding for image processing , there might be leaves with small pieces of leaves and sand grains , or with damaged borders caused by insect herbivory .",
    "in such cases , segmentation is not enough .",
    "hence , we use connected components to automatically remove noise that can appear after the image was captured . connected components labeling works by grouping pixels of an image based on the adjacency of pixels that share the same intensity @xcite . in this paper , we assume binary input images and 8-connectivity .",
    "once groups are formed , they are filtered by their size .",
    "figure [ fig : propostac ] illustrates this step of how the application removed automatically a small group of pixels ( circle highlighted in red color ) .    in the proposed application",
    ", we also use a computational geometry technique , named parametric bezier curves , to model and reconstruct the borders of damaged leaves .",
    "the interactive reconstruction is necessary because many times insects can damage the borders of the leaves , as it can be seen in figure [ fig : propostad ] . in this step ,",
    "the expert is supposed to create the control points by touching the screen ( squares highlighted in blue color ) in order to adjust the curve to the leaf s curve .",
    "it is worth noting that , in some cases , the insects can attack more than one border and the expert should create more than one curve . finally , in figure [",
    "fig : propostae ] , we calculate the percentage of herbivory by counting the pixels which stand for insect predation in relation to the total leaf area .     +",
    "in the experiments , we collected leaves of soybean ( _ glycine max ( l. ) merrill _ ) from natural and transgenic plants .",
    "we considered both groups because , through breeding , soybean can be genetically engineered , therefore , observing their resistance to herbivory is an interesting analytical task .",
    "we divided the collected leaves into three groups : ( 1 ) leaves with existent attacks from caterpillars ; ( 2 ) leaves with artificial defoliation , i.e. , defoliation - mimicking herbivory to simulate insect attack ; and ( 3 ) control group , that is , leaves collected with no injury in the greenhouse , and then , exposed for the first time to caterpillars .",
    "then , each group was separated into transgenic and non - transgenic , resulting in six groups of leaves .    in order to build the groups damaged by caterpillars",
    ", we collected caterpillars of species _ spodoptera frugiperda _ ) from a soybean crop .",
    "such caterpillars were left fasting for 24 hours , after that they were exposed to group 1 leaves , both transgenic and non - transgenic for another 24 hours .",
    "lastly , we captured images of six leaves from each group , three images per leaf , resulting in 36 images .",
    "we used a sony alpha dslr - a350 14.2 mp camera without flash , positioned 30 cm from the leaves , and having a white portable background to be used in the crop , preventing the removal of leaves .",
    "the images were captured with @xmath1 pixels and stored according to the tiff format .",
    "the method of otsu is a cluster - based image segmentation that converts a gray - level image into a binary image .",
    "that is , it assumes that the image contains two classes of pixels , calculating the optimum threshold @xmath2 that separates the two classes so that their intra - class variance is minimal ( or , that their inter - class variance is maximal ) @xcite .",
    "the method computes the probability density function of the gray - level image , assuming bi - modal gaussian distributions represented as discrete histograms .",
    "the histograms are represented as uni - dimensional vectors whose bins refer to the intensity levels of the pixels ; as so , given the intensity @xmath3 of a pixel in a @xmath4 image , the probability density function @xmath5 is given by :    @xmath6    where @xmath7 is the number of pixels with intensity @xmath3 , @xmath8 , and @xmath9 is the maximum of gray - level .    formally , the technique assumes a threshold @xmath2 , @xmath8 , which separates the pixels into two classes according to their intensities .",
    "class @xmath10 with pixels whose intensities vary in the range @xmath11 $ ] , and class @xmath12 with pixels in the range @xmath13 $ ] . the method computes @xmath2 by varying its value and calculating the inter - class variance @xmath14 for each value according to equation [ eq : otsu - equation ] .",
    "the highest variance indicates the optimal value of @xmath15 :    @xmath16    where 0 and 1 are indexes referring to classes @xmath10 and @xmath12 , and @xmath17 , @xmath18 , @xmath19 , and @xmath20 are given by the equations that follow :    @xmath21    @xmath22    finally , the global mean @xmath23 is given by :    @xmath24    the result of the segmentation is a binary image with black pixels for the object of interest ; in our context , the leaf becomes black over a white background .",
    "the image segmentation is necessary for our process ; however , note that , in our application , we draw the leaf with its original color .",
    "segmentation provides a manner to identify damage in leaves .",
    "however , if the border of the leaf is damaged , segmentation fails as it is not able to distinguish background from leaf . to solve this problem , we use bezier curves to interpolate the best curve able to restore the original leaf border .",
    "these curves refer to a polynomial function that , based on control points ( given by the user ) @xcite , is able to fulfill gaps around a given leaf .",
    "the curve can be represented as a binomium of newton , considering that solving the curve corresponds to setting the coefficients of the binomium for each point @xmath25 of the curve @xcite . accordingly , the corresponding @xmath26 point for a point @xmath27 $ ] , following bezier curve , is given by :    @xmath28    where each given @xmath25 represents the value of parameterization to go through the curve and @xmath29 is the degree of the binomium  the technique demands @xmath30 control points .",
    "the control points are represented as @xmath31 and @xmath32 refer to the binomial coefficients .    in our problem , we use three control points , which leads to the quadratic function :    @xmath33    where the first and last control points are the end points of the curve . in our application , @xmath34 are set by the user s touch on the borders of the leaf .",
    "the quadratic version demonstrated to be effective in reconstructing the borders of the leaves with reduced computational cost , especially if compared to the cubic version .      the use of mobile devices to perfom automatic tasks has increased fast @xcite .",
    "the main reasons for it are the recent advances in hardware , such as sensors , processors , memories , and cameras .",
    "thereby , smartphones have become new platforms for applications of image processing and computer vision @xcite .",
    "furthermore , mobile devices can perform tasks in real - time _ in situ _ far from the laboratory .    in this context , besides its methodology , the contribution of this paper is the development of a mobile application to perform automatic quantification of leaf damages caused by insect herbivory .",
    "some screens of the application proposed here , named as bioleaf - foliar analysis , are shown in figure [ fig : telas ] .",
    "the application was developed in the java programming language over the integrated development environment android studio , following the algorithms described in section [ sec : meto ] for platform android .",
    "the application can be downloaded freely from googleplay at https://play.google.com/store/apps/details?id=upvision.bioleaf .",
    "in this section , we evaluate the proposed quantification of foliar damage in comparison to the manual estimation .",
    "first , we describe the results of the internal quantification  when borders are preserved after damage ; then , we describe the results when the borders need to be reconstructed with bezier curves .",
    "experiments were conducted on different groups of leaves , as described in section [ sec : meto ] .",
    "we used six groups of leaves divided by three types of damages ( see sec .",
    "[ sec : exps ] ) and two types of plant breeding ( transgenic and non - transgenic ) , with six images per groups and a total of 36 images .    * experiment 1 - internal damages : * first , the _ internal damage _",
    "quantification of the damaged foliar area corresponds to the estimation of the herbivory that affects only the inner parts of the leaves . in these terms ,",
    "leaf lesion was defined as the ratio between the number of pixels in the damaged areas , and the number of pixels of the entire leaf . here , we manually and automatically estimated the damaged areas ( in cm@xmath0 ) for 18 leaves with internal damage .",
    "to evaluate the accuracy , we analyzed the linear correlation @xcite for the automatic and manual quantifications ( figures [ fig : internaspo ] , [ fig : internamanual ] and [ fig : internacontrol ] ) for leaves ranging in size from 11.63 cm@xmath0 to 43.81 cm@xmath0 .",
    "no significant divergence was observed at any leaf size .",
    "the larger variation was observed in the bioleaf estimates , in comparison to the square - counting method .",
    "it was of only 1.24 cm@xmath0 ( or 7.30% of the damage ) in the group with artificial defoliation and internal attacks ( figure [ fig : internamanual ] ) , as verified in the group of non - transgenic soybean ( left column of the figure ) .",
    "the concordance correlation coefficients across all groups were greater than @xmath36 with a @xmath37-@xmath38 .",
    "* experiment 2 - border reconstruction : * in the second experiment , we quantified the damaged area in leaves with _ damaged borders_. the reconstruction was carried out by a specialist who was in charge of setting three control points per border segment .",
    "figure [ fig : propostad ] illustrates the process .",
    "similar to the first experiment , in figures [ fig : curvaspo ] , [ fig : curvamanual ] and [ fig : curvacontrol ] , we see the same plot for leaves with damaged borders . again , the line is close to the linear model .",
    "image sizes ranged from 12.22 cm@xmath0 to 34.62 cm@xmath0 .",
    "effectively , the most significant difference of automatic to manual quantification was of only 1.60 cm@xmath0 for the artificial defoliation ( figure [ fig : curvamanual ] ) .",
    "the foliar damage estimation by bioleaf was highly similar with significant linear correlation coefficients ( at least greater than @xmath39 and @xmath37-@xmath38 ) correlation coefficients were slightly lower when compared to internal damage only .    * overall evaluation * : next , we show the linear correlation plots for all the groups of leaves with internal damage and border damage .",
    "linear correlations were highly similar ( @xmath37-@xmath38 ) in leaves with borders preserved ( @xmath40 ; figure [ fig : interna ] ) , while leaves with reconstructed borders had a slightly smaller correlation , with coefficient of @xmath41 and @xmath37-@xmath38 ( figure [ fig : curva ] ) .    * processing speed * : the time required to measure each leaf , as well as to calculate the damaged area caused by insect herbivory , was substantially less than the manual quantification using the square - counting method .",
    "the average image processing time was less than 1 second for internal quantification . in comparison to the square - counting method , which takes between 20 to 30 minutes for each leaf ,",
    "bioleaf was nearly 1,500 times faster .",
    "it is important to point that we did not consider the preparation time for both automatic and manual once they are the same , i.e. , aiming at a fair comparison we just calculate the time of the measurement of the attacked area by insects for both methods , manual and automatic . the average time to process images when the borders needed to be reconstructed was between 10 and 25 seconds .",
    "this times tends to reduce as the user becomes more experienced with the application .    * non - destructive measurement with bioleaf * : in this experiment , we show the steps on how our mobile application works for measurements with no leaf removal . to this end",
    ", we recommend the expert to use a background with contrast to the leaf when taking the picture .",
    "figure [ fig : nondestructive ] illustrates the process for three samples taken under different illumination conditions and different species of plants of the brazilian cerrado forestry .",
    "each row shows one species of plant and its respective defoliation estimative . in two cases the defoliation was 0% since the leaves",
    "have no damage .",
    "+   +    * narrow leaves measurement with bioleaf * : in this experiment , we show how our mobile application works on the measurement of leaves that are characteristically narrow . again , with the aid of a color - contrasting background , figure [ fig : narrowleaves ] illustrates the process under different illumination conditions .",
    "we experiment on four species of narrow - leaf plants , including _",
    "brachiara brizantha _ , sugar cane , _ brachiara marandu _ and _ panicum maximum_. we present the leaves and their respective defoliation estimative . with this experiment",
    ", we were able to determinate the leaf limit of the bioleaf application .",
    "although we can measure leaves with any size , when using regular lenses , we recommend experts to consider leaves with up to 0.5 meter .",
    "in this experiment , we directly compare equipment li - cor 3100 and our mobile application . to this end , we created three experiments : ( 1 ) artificial herbivory with regular damages , ( 2 ) artificial herbivory with irregular damages and , ( 3 ) natural herbivory made by insects .    * artificial herbivory with regular damages * : in this case we manually created damages by using a pair of scissors , initially cutting either the base or the tip of each leaf with approximately 25% of biomass removed ; that is , a single cut with a quarter removed from the leaf . after measurements with licor and bioleaf , we proceeded with a second round of measurements , now extracting approximately another 25% , totalizing 50% of each leaf .",
    "figure [ fig : artificialdefoliaton1 ] illustrates this kind of damage .",
    "+    after the two series of measures , we evaluated the accuracy by analyzing the correlation @xcite between the results of li - cor 3100 and of bioleaf ( see figures [ fig : exp1 - 25 ] and [ fig : exp1 - 50 ] ) .",
    "we verified a linear correlation with no significant divergence at any leaf size .",
    "the difference of the standard deviation of li - cor and bioleaf had a precision in the range of @xmath42 for @xmath43 and @xmath44 for @xmath45 .    * artificial herbivory with irregular damages * : in this case , we manually cut either multiple , circular holes , or a single hole of a leaf blade . additionally , in some leaves , we used scissors to produce border damages .",
    "we varied the diameters of the holes from 0.8 cm to 2.6 cm .",
    "it is important to mention that we did not choose a specific location to make the holes .",
    "the main difference to the previous experiment is the fact that we produced random internal holes together with damages in the border throughout the leaf blades .",
    "we evaluated the accuracy again using the linear correlation @xcite for li - cor 3100 versus bioleaf ( see figure [ fig : exp2 ] ) .",
    "no significant divergence was observed .",
    "the difference between the standard deviations of li - cor and bioleaf was in the range of @xmath46 .",
    "+    * natural herbivory * : in this case , the damage was done by insects only , which caused internal and , in some cases , also border attacks . the accuracy was evaluated again with the linear correlation for li - cor 3100 versus bioleaf ( see figure [ fig : exp3 ] ) .",
    "this time , the difference between the standard deviations of li - cor and bioleaf was in the range of @xmath47 .",
    "this set of experiments was able to demonstrate that bioleaf is capable of substituting expensive heavy equipment that , prior to mobile processing , was the only choice to evaluate crop herbivory .",
    "it is our contention that the future of crop management will be based on mobile technology , bioleaf , in this aspect , is in the forefront of the next technology improvements .",
    "we presented a methodology to quantify the foliar damage observed in soybean leaves answering to the large demand of such estimation in one of the most important agricultural crops in the world .",
    "we instantiated this methodology in a mobile app named bioleaf , a new tool freely distributed online for android systems .",
    "evaluation of the bioleaf of two cases of damages in the soybean crop _ glycine max ( l. ) merrill _  with borders and when borders need to be reconstructed  demonstrated that this application was highly accurate when compared with manual quantification .",
    "linear correlations were significantly higher in the leaves whose borders were preserved , with correlation coefficients @xmath40 and @xmath37-@xmath38 ( figure [ fig : interna ] ) .",
    "correlation coefficients for borders reconstructed were slightly lower , @xmath41 and @xmath37-@xmath38 ( figure [ fig : curva ] ) , among the six groups tested .",
    "the bioleaf application can be used as a non - destructive tool because it does not require leaf removal from the plant , which allows repeated measurements of the same leaf .",
    "in addition , our application can handle the presence of noise that can appear in the image acquisition , such as grains of sand and even small parts of leaves .",
    "our application is also able to reconstruct the contours of damaged leaves for multiple types of damages caused by insects .",
    "therefore , the experiments showed that our tool has successfully quantified the attacked areas , regardless of the attacks being internal - only to the leaves , or concerning the borders as well .",
    "belief can run on any android system and it is available on googleplay , to date , the biggest commercial website for android applications .",
    "the cost of our solution contrasts to that of commercial alternatives  desktop or portable area - integrating metters  which is above $ 12,000 .",
    "mobile phones , on the other hand , are ubiquitous and accessible for popular prices .    besides the statistical evaluation and accuracy of bioleaf , it is efficient in terms of processing cost , running smoothly in several mainstream mobile phones , as the samsung s4 , s6 edge and sony z2 xperia .",
    "another potential advantage is the availability of bioleaf on a mobile platform , which allows flexibility for on - site image collection for further analyses .",
    "it is worth saying that bioleaf is not limited to the analysis of soybean leaves .",
    "for instance , a user can quantify the damaged areas of several agricultural crops of similar leaf size , including cotton , bean , potato , coffee , and vegetables ; as well as for monitoring attacks of different species insects , such as _ helicoverpa armigera _ that has lately been considered a big threat to brazilian soybean crops .",
    "we introduced bioleaf , a semi - automatic , interactive , multi - language , and portable application to estimate the herbivory of leaves .",
    "we conclude that the precision of bioleaf was enough to allow the use of mobile phones as substitutes for expensive machinery in the task of estimating herbivory damage .",
    "the methodology was instantiated in a reliable tool ( available at https://play.google.com/store/apps/details?id=upvision.bioleaf ) for leaf damage measurement for use _ in situ _ and without the removal of leaves .",
    "we tested our tool with soybean leaves , but preliminary experiments demonstrated its adequacy for use with different crops .",
    "this research was supported by the dom bosco catholic university ( ucdb ) and by the fundao de apoio ao desenvolvimento do ensino , cincia e tecnologia do estado de mato grosso do sul , fundect .",
    "some authors also received grants from conselho nacional de desenvolvimento cientfico e tecnolgico , cnpq , and from coordenao de aperfeioamento de pessoal de nvel superior , capes .",
    "the authors are thankful to dr .",
    "jose valerio , at the embrapa beef cattle - brazilian agricultural research corporation for his assistance during the execution of the experiments ."
  ],
  "abstract_text": [
    "<S> soybean is one of the ten greatest crops in the world , answering for billion - dollar businesses every year . </S>",
    "<S> this crop suffers from insect herbivory that costs millions from producers . </S>",
    "<S> hence , constant monitoring of the crop foliar damage is necessary to guide the application of insecticides . </S>",
    "<S> however , current methods to measure foliar damage are expensive and dependent on laboratory facilities , in some cases , depending on complex devices . to cope with these shortcomings , </S>",
    "<S> we introduce an image processing methodology to measure the foliar damage in soybean leaves . </S>",
    "<S> we developed a non - destructive imaging method based on two techniques , otsu segmentation and bezier curves , to estimate the foliar loss in leaves with or without border damage . </S>",
    "<S> we instantiate our methodology in a mobile application named bioleaf , which is freely distributed for smartphone users . </S>",
    "<S> we experimented with real - world leaves collected from a soybean crop in brazil . </S>",
    "<S> our results demonstrated that bioleaf achieves foliar damage quantification with precision comparable to that of human specialists . with these results </S>",
    "<S> , our proposal might assist soybean producers , reducing the time to measure foliar damage , reducing analytical costs , and defining a commodity application that is applicable not only to soy , but also to different crops such as cotton , bean , potato , coffee , and vegetables .    </S>",
    "<S> foliar herbivory , leaf area measurement , plant - herbivore interactions , plant defoliation analysis , feeding injury </S>"
  ]
}