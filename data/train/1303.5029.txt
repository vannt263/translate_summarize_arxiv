{
  "article_text": [
    "the modelling and simulation of pedestrians and crowds is a consolidated and successful application of research results in the more general area of computer simulation of complex systems .",
    "it is an intrinsically interdisciplinary effort , with relevant contributions from disciplines ranging from physics and applied mathematics to computer science , often influenced by ( and sometimes in collaboration with ) anthropological , psychological , sociological studies and the humanities in general .",
    "the level of maturity of these approaches was sufficient to lead to the design and development of commercial software packages , offering useful and advanced functionalities to the end user ( e.g. cad integration , cad - like functionalities , advanced visualisation and analysis tools ) in addition to a simulation engine . nonetheless , as testified by a recent survey of the field by  @xcite and by a report commissioned by the cabinet office by  @xcite , there is still much room for innovations in models improving their performances both in terms of _ effectiveness _ in modelling pedestrians and crowd phenomena , in terms of _ expressiveness _ of the models ( i.e. simplifying the modelling activity or introducing the possibility of representing phenomena that were still not considered by existing approaches ) , and in terms of _ efficiency _ of the simulation tools .",
    "in addition to the above directions , we want to emphasise the fact that one of the sometimes overlooked aspects of a proper simulation project is related to the _ calibration _ and _ validation _ of the results of tools related to the _ synthesis _ of the pedestrians and crowd behaviour in the considered scenario .",
    "these phases are essentially related to the availability of proper empirical data about or , at least , relevant to , the considered scenario ranging from the pedestrian demand ( i.e. an origin  destination matrix ) , preferences among different alternative movement choices ( e.g. percentage of persons employing stairs , escalators and elevators in a multiple  level scenario ) , but also the average waiting times at service points ( i.e. queues ) , the average time required to cover certain paths , the spatial distribution of pedestrians in specific environmental conditions that is required to evaluate the so  called `` level of service '' associated to portions of the environment as defined by  @xcite .",
    "these data are results of activities of _ analysis _ , some of which can be fruitfully automated given , on one hand , the wide diffusion of cameras employed for video surveillance of public areas and , on the other , considering the level of maturity of video processing and analysis techniques",
    ".    an _ integrated approach _ to pedestrians and crowd studies encompasses both the application of analysis and synthesis techniques that , in a virtuous circle , can mutually benefit one from the other , to effectively ( i ) identify , ( ii ) face and ( iii ) provide innovative solutions to challenges towards the improvement of the understanding of crowding phenomena .",
    "this kind of interdisciplinary study , in addition to computer science , often employs or directly involves research results in the area of social sciences in general , can be found in the literature .",
    "for instance ,  @xcite show how computational fields guiding simulated pedestrians movement in a simulated environment can be automatically derived by video footages of actual people moving in the same space .",
    "@xcite , instead , employ an hydrodynamic model , that ( to a certain extent ) can represent the flow of pedestrians in mass movement situations , to improve the characterisation of pedestrian flows by means of automatic video analysis . from the perspective of offering a useful service to crowd managers  @xcite",
    "describe an anticipative system integrating computer vision techniques and pedestrian simulation able to suggest crowd management solutions ( e.g. guidance signals ) to avoid congestion situations in evacuation processes .",
    "finally , in  @xcite the authors propose the employment of the _ social force model _ by  @xcite , probably the most successful example of crowd synthesis model , to support the detection of abnormal crowd behaviour in video sequences .",
    "an example of identification of a still not considered phenomenology is related to a work by  @xcite in which the authors have defined an extension to the social force model by that considers the presence of groups in the simulated population : the motivations and some modelling choices ( i.e. the limited size of considered groups and their spatial arrangement ) are based on actual observations and analyses .",
    "a related effort , carried out instead by a research group trying to improve crowd analysis techniques , is described in  @xcite : in this case , the social force model acts as a sort of predictor block in an automated video analysis pipeline , improving the tracking in case of groups within the observed flow .",
    "finally ,  @xcite also focus on groups , as central element of an observation and analysis that also considers psychometric factors .",
    "it is important to emphasise that anthropological considerations about human behaviour in crowded environments , such as the analysis of spatial social interaction among people , are growingly considered as crucial both in the computerised analysis of crowds as pointed out by  @xcite and in the synthesis of believable pedestrian and crowd behaviour , such as in  @xcite and in  @xcite .",
    "in particular , _ proxemics _ has a prominent role both in the modelling and analysis of pedestrians and crowd behaviour .",
    "the term was first introduced by  @xcite with respect to the study of a type of non  verbal behaviour related to the dynamic regulation of interpersonal distance between people as they interact .    within this context the aim of this paper",
    "is to provide a comprehensive framework comprising both the synthesis and analysis of pedestrians and crowd behaviour : in this schema we suggest both ways in which the results of the analysis can provide fruitful inputs to modellers and , on the other hand , how results of the modelling and simulation activities can contribute to the ( automated ) interpretation of raw empirical data .",
    "the framework will be described in the following section , while an example of unfolding of these conceptual and experimental pathways will be described through the introduction of an adaptive model for group cohesion ( section  [ sec : model ] ) that was motivated and that will effectively be calibrated and validated by means of analyses on observed crowd behaviour ( section  [ sec : observation ] ) .",
    "conclusions and future works will end the paper .",
    "a comprehensive framework trying to put together different aspects and aims of pedestrians and crowd dynamics research has been defined in  @xcite .",
    "the central element of this schema is the mutually influencing ( and possibly motivating ) relationship between the above mentioned efforts aimed at synthesising crowd behaviour and other approaches that are instead aimed at analysing field data about pedestrians and crowds in order to characterise these phenomena in different ways .",
    "it must be noted , in fact , that some approaches have the goal of producing aggregate level quantities ( e.g. people counting , density estimation ) , while others are aimed at producing finer - grained results ( i.e. tracking people in scenes ) and some are even aimed at identifying some specific behaviour in the scene ( e.g. main directions , velocities , unusual events ) .",
    "the different approaches adopt different techniques , some performing a _ pixel  level analysis _",
    ", others considering larger patches of the image , i.e. _ texture  level analysis _ ; other techniques require instead the detection of proper objects in the scene , a real _ object ",
    "level analysis_.    from the perspective of the requirements for the synthesis of quantitatively realistic pedestrian and crowd behaviour , it must be stressed that both aggregate level quantities and granular data are of general interest : a very important way to characterise a simulated scenario is represented by the so called fundamental diagram by  @xcite , that represents the relationship in a given section of an environment between the flow of pedestrians and their density .",
    "qualitatively , a good model should be able to reproduce an empirically observed phenomenon characterised by the growth of the flow until a certain density value ( also said _",
    "critical density _ ) is reached ; then the flow should decrease .",
    "however , every specific situation is characterised by a different shape of this curve , the position of critical density point and the maximum flow level ; therefore even relatively `` basic '' counting and density estimation techniques can provide useful information in case of observations in real world scenarios .",
    "density estimation approaches can also help in evaluating qualitatively the patterns of space utilisation generated by simulation models against real data .",
    "tracking techniques instead can be adopted to support the estimation of traveling times ( and length of the followed path ) by pedestrians .",
    "crowd behaviour understanding techniques can help in determining main directions and the related velocities .        to complete the initial schema , suggesting that analysis and synthesis should mutually benefit one from the other , we propose here the extension of a different kind of diagram , that can be found in  @xcite or more recently in  @xcite , used to discuss the form of inference that can be carried out by using a model as a method of study .",
    "starting from portion of the reality that we will call _ target system _ the process of synthesis leads to the definition of a model and its implementation in the form of a simulator .",
    "the latter can then be employed ( i.e. executed with specific inputs and parameters ) to carry out a simulation campaign leading to a set of results .",
    "the processes of analysis involve , on one hand , raw data that can be acquired through direct observations and controlled experiments . on the other hand ,",
    "also simulation results require a process of interpretation in order to be comparable with observed empirical data .",
    "when this cycle produces simulation results that , once interpreted and analysed , actually match the empirical data acquired on the field , the defined model can be employed for sake of explanation and prediction .",
    "of course it is not immediate to define a model that generates simulation results matching empirical data , especially since models of complex systems are generally characterised by a number of parameters even when the modeller tries to keep the model as simple and elegant as possible .",
    "it is this need of actually _ calibrating _ model parameters for achieving a model _ validation _ , as described by  @xcite , that actually introduces the first type of synergetic collaboration between analysis and synthesis : the analysis of raw data about the simulated phenomenon leads to the possibility of identifying values or at least intervals for model parameters .",
    "this is not actually the only case of influence of the analysis on the definition of models : in fact , it is the observation of the system that leads to the identification of phenomenologies that are not currently represented and managed by a model and that can represent the motivations and goals for model innovation .",
    "the potential outcomes of the modelling and simulation phases that can have an influence on the analysis activities are related to two categories of contributions : on one hand , the need to create a mechanism for the generation of an observed phenomenon leads to its formalisation , that could be instrumental also in the creation of additional mechanisms for its automated analysis .",
    "on the other hand , even long before reaching the necessary level of maturity of the simulator , the modeller and developer of a simulation system actually needs to define and develop metrics , indicators and techniques to evaluate the outcomes of the modelling phases .",
    "these by - products of the synthesis activity can also represent a starting point for the actual development of automated analysis approaches .",
    "the following sections actually represent an unfolding of this kind of conceptual and experimental process .",
    "in particular , section  [ sec : model ] introduces a model for pedestrian and group behaviour representing the evolution of a first approach that was started to face issues raised by an unstructured and non - systematic observation of crowd patterns and movements in a real world scenario described by  @xcite . in this line of research ,",
    "a model encompassing groups as a fundamental element influencing the overall system dynamics was designed and implemented and a metric for the evaluation of group cohesion ( and , therefore , also its dispersion ) was defined .",
    "this metric led to the understanding that the first version of the model was unable to preserve the cohesion of groups and therefore it was instrumental in the realisation of a new model described in  @xcite that endows pedestrians that are also members of specific types of group with an adaptive mechanism to preserve their cohesion even in difficult situations ( e.g. presence of obstacles or high density environments ) .",
    "this research effort also led to the identification of new observations and analyses to back - up simulation results with empirical data ; the dispersion metric was also the starting point for the formal definition of measurements to be executed in the analysis of the acquired raw data .",
    "these activities will be described in section  [ sec : observation ] .",
    "this section introduces a model representing pedestrian behaviour in an environment , considering the impact of the presence of simple and structured groups .",
    "the model is characterised by a discrete representation of the environment and time evolution , and it is based on the floor - field mechanism of existing ca approaches .",
    "however , the pedestrian behaviour is so articulated , comprising an adaptive mechanism for the preservation of group cohesion , to the point that the model is more properly classified as agent - based .",
    "the different elements of the model will now be introduced , then some results of its application to sample simulation scenarios will be given to show the model capabilities and the requirements in terms of empirical data to complete the calibration of the group cohesion adaptive mechanism .",
    "a more detailed formal introduction of the model and additional simulation results can be found in  @xcite .",
    "the physical environment is represented in terms of a discrete grid of square cells : @xmath0 where @xmath1 .",
    "the size of every cell is @xmath2 according to standard measure used in the literature and derived from empirical observation and experimental procedure shown in @xcite and @xcite .",
    "every cell has a row and a column index , which indicates its position in the grid : @xmath3 .",
    "consequently , a cell is also identified by its row and column on the grid , with the following notation : @xmath4 .",
    "every cell is linked to other cells , that are considered its neighbours according to the moore neighbourhood .",
    "cells are annotated and virtual grids are superimposed on the base environmental representation to endow the environment with the capability to host pedestrian agents and support their perception and action .",
    "markers are sets of cells that play particular roles in the simulation",
    ". three kinds of marker are defined in the model : ( i ) _ start areas _ , places ( sets of cells ) were pedestrians are generated ; they are characterised by information for pedestrian generation both related to the type of pedestrians and to the frequency of generation . in particular",
    ", a start area can generate different kinds of pedestrians according to two approaches : ( a ) _ frequency - based generation _",
    ", in which pedestrians are generated during all the simulation according to a frequency distribution ; ( b ) _ en - bloc generation _ , in which a set of pedestrians is generated at once in the start area when the simulation starts ; ( ii ) _ destination areas _ , final places where pedestrians might want to go ; ( iii ) _ obstacles _ , non - walkable cells defining obstacles and non - accessible areas .      adopting the approach of the _ floor field",
    "_ model by  @xcite , the environment of the basic model is composed also of a set of superimposed virtual grids , structurally identical to the environment grid , that contains different floor fields that influence pedestrian behaviour .    the goal of these grids is to support long range interactions by representing the state of the environment ( namely , the presence of pedestrians and their capability to be perceived from nearby cells ) . in this way ,",
    "a local perception for pedestrians actually simply consists in gathering the necessary information in the relevant cells of the floor field grids .",
    "floor fields are either _ static _ ( created at the beginning and not changing during the simulation ) or _ dynamic _ ( changing during the simulation ) .",
    "three floor fields are considered in the model :    * the _ path field _ assigned to each destination area : this field indicates for every cell the distance from the destination , and it acts thus as a gradient , a sort of potential field that drives pedestrians towards it ( static floor field ) ; * the _ obstacles field _ , that indicates for every cell the fact that an obstacle or a wall is within a limited distance , being maximum in cells adjacent to an obstacle and decreasing with the distance ( static floor field ) ; * the _ density field _ that indicates for each cell the pedestrian density in the surroundings at the current time - step , analogous to the concept of _ cumulative mean density _ ( cmd ) indicating the density experienced by pedestrians in a portion of the environment , first introduced by  @xcite and elaborated for discrete environments by  @xcite ( dynamic floor field ) .",
    "simulation time is modelled in a discrete way by dividing time into steps of equal duration : we assume that a pedestrian moves ( at most , since it is possible to decide to stand still ) 1 cell per time step .",
    "the average velocity of a pedestrian , which can be estimated in real observations or experiments as performed by  @xcite in about @xmath5 @xmath6 , will thus determine the duration of the each time step : considering that the size of the cell is @xmath7 , the duration of each time step is @xmath8 .",
    "when running a ca - based pedestrian model , three update strategies are possible  @xcite :    * _ parallel _ update , in which cells are updated all together ; * _ sequential _ update , in which cells are updated one after the other , always in the same order ; * _ shuffled sequential update _ , in which cells are updated one after the other , but with a different order every time .",
    "the second and third update strategies lead to the definition of asynchronous ca models ( see  @xcite for a more thorough discussion on types of asynchronicity in ca models ) . in crowd simulation ca models , parallel update is generally preferred , as mentioned by  @xcite , even if this strategy can lead to conflicts that must be solved .",
    "nonetheless , we currently adopted a shuffled sequential update scheme for a first evaluation of the group cohesion mechanism without adding additional mechanisms and parameters to be calibrated for the management of potential conflicts between agents movements .",
    "we focus on two types of group : simple and structured .",
    "simple or informal groups are generally made up of friends or family members and they are characterised by a high cohesion level , moving all together due to shared goals and to a continuous mechanism of adaptation of the chosen paths to try to preserve the possibility to communicate , as discussed by  @xcite .",
    "structured groups , instead , are more complex entities , usually larger than simple groups ( more than 4 individuals ) and they can be considered as being composed of sub - groups that can be , in turn , either simple or structured .",
    "structured groups are often artificially defined with the goal of organising and managing a mass movement ( or some kind of other operation ) of a set of pedestrians .",
    "groups can be formally described as : @xmath9 , [ ped_1 , \\ldots , ped_n ] \\right\\rangle\\ ] ]    structured groups include at least one subgroup , while simple groups only comprise individual pedestrians .",
    "we will refer to the group an agent @xmath10 _ directly _ belongs to as @xmath11 , that is also the smallest group he belongs to ; the _ largest _ group an agent @xmath10 belongs to will instead be referred to as @xmath12 .",
    "it must be noted that @xmath13 only when the agent @xmath10 is member of a simple group that is not included in any structured group .",
    "these sets are relevant for the computation of influences among members of groups of different type ( simple or structured ) .      in this model",
    ", a pedestrian is defined as an utility - based agent with state .",
    "functions are defined for utility calculation and action choice , and rules are defined for state - change .",
    "pedestrians are characterised as :    @xmath14    where : ( i ) @xmath15 is the agent identification number and @xmath16 is the identification number of the group to which the pedestrian directly belongs to ( for pedestrians that are not member of any group this value is null ) ; ( ii ) @xmath17 is defined as : @xmath18 where @xmath19 indicates the current cell in which the agent is located , and @xmath20 is the direction followed in the last movement ; @xmath21 is the set of possible actions that the agent can perform , essentially movements in one of the eight neighbouring cells ( indicated as cardinal points ) , plus the action of remaining in the same cell ( indicated by an ` @xmath22 ' ) : @xmath23 ; @xmath24 is the goal of the agent in terms of destination area .",
    "this term identifies the current destination of the pedestrian : in particular , every destination is associated to a particular spatial marker .",
    "consequently , @xmath24 is used to identify which path field is relevant for the agent : @xmath25 where @xmath26 is the precise path field associated to @xmath24 and @xmath27 is the path field relevant for the agent .",
    "all these elements take part in the mechanism that manages the movement of pedestrians : agents associate a desirability value , a utility to every movement in the cell neighbourhood , according to a set of factors that concur in the overall decision .      in algorithm [ alg1 ]",
    "the agent life - cycle during all the simulation time is proposed : every time step , every pedestrian perceives the values of path field , obstacle field and density field for all the cells that are in its neighbourhood . on the basis of these values and according to different factors , the agent evaluates the different cells around him , associating an utility value to every cell and selects the action for moving into a specific cell .",
    "@xmath28 $ ] @xmath29 @xmath30 @xmath31 @xmath32 \\gets evaluation(pf , of , df)$ ] @xmath33)$ ] @xmath34    as previously suggested , the action selection strategy starts gathering the value of floor fields in cells included in the neighbourhood of agent s current position .",
    "the obtained values will be used in the evaluation of the movement towards the related cell .    after acquiring the perceived information from the environment",
    ", the agent elaborates a desirability value for each of the admissible actions ( movements ) , according to several factors , that will be described later on .",
    "given the list of possible actions and associated utilities , an action is chosen with a probability proportional to its utility . in particular , the probability for an agent @xmath10 of choosing an action associated to the movement towards a cell @xmath35 is given by the exponential of the utility , normalised on all the possible actions the pedestrian can take in the current turn :    @xmath36    where @xmath37 is the normalisation factor and @xmath35 is the currently considered destination cell .",
    "the utility function @xmath38 of a destination cell @xmath35 which corresponds to an action / direction for agent @xmath10 , that takes the form of a weighted sum of components associated to the behavioural specification of an agent :    @xmath39    where @xmath40 is the distance of the new cell from the current position , that is 1 for cells in the von neumann neighbourhood ( vertically and horizontally neighbour cells ) and @xmath41 for diagonal cells :",
    "the factor is introduced to penalise the diagonal movements .",
    "the different components of the utility value for a given movement consider the following factors :    * the desire to move towards a _ goal _ , a destination in the environment , represented by the @xmath42 function ; * the tendency to stay at a distance from the _ obstacles _",
    "( e.g. walls , columns ) , that are perceived as repulsive , represented by the @xmath43 function ; * the desire to stay at a distance from other individuals , especially those that are not members of the same simple group , an effect of proxemic _ separation _ , represented by the @xmath44 function ; * a _ direction inertia _ factor , increasing the desirability of performing straight forms of movement , represented by the @xmath45 function ; * the penalisation of those movements that cause an _ overlapping _ event , the temporary sharing of the same cell by two distinct pedestrians , represented by the @xmath46 function ; * two contributions related to the tendency to preserve _ group cohesion _ , respectively devoted to simple and structured groups , respectively represented by the @xmath47 and the @xmath48 functions .",
    "note that @xmath49 $ ] : the use of these parameters , in addition to allowing the calibration and the fine tuning of the model , also supports the possibility of describing and managing different types of pedestrian , or even different states of the same pedestrian in different moments of a single simulated scenario .      while the above elements are sufficient to generate a pedestrian model that considers the presence of groups , even structured ones , the introduced mechanisms are not sufficient to preserve the cohesion of simple groups , as discussed in a previous work adopting a very similar approach ( see  @xcite ) .",
    "this is mainly due to the fact that in certain situations pedestrians adapt their behaviour in a more significant way than what is supported by simple and relatively small modifications of the perceived utility of a certain movement . in certain situations",
    "pedestrians perform an adaptation that appears in a much more decisive way a _ decision _ : they can suddenly seem to temporarily loose interest in what was previously considered a destination to reach and they instead focus on moving closer to ( or at least do not move farther from ) members of their group , generally whenever they perceive that the distance from them has become excessive . in the following , we will discuss a metric of group dispersion that we adopted to quantify this perceived distance and then we will show how it can be used to adapt the weights of the different components of the movement utility computation to preserve group cohesion .",
    "* group dispersion metrics *  intuitively , the dispersion of a group can be seen as the degree of spatial distribution of their members . in the area of pedestrian modelling and simulation ,",
    "the estimation of different metrics for group dispersion has been discussed in @xcite in which different approaches are compared to evaluate the dispersion of groups through their movement in the environment . in particular ,",
    "two different approaches are compared here : ( i ) dispersion as occupied area and ( ii ) dispersion as distance from the centroid of the group .",
    "this topic was also considered in the context of computer vision algorithms such as in  @xcite , in which however essentially only _ line abreast _ patterns were analysed .",
    "therefore we will focus on the former approach .",
    "formally , the above introduced formulas of group dispersion for each approach are defined as follows :    @xmath50 @xmath51    with @xmath52 as the area occupied by the group , @xmath53 as the number of its members , @xmath54 as its centroid .",
    "the second metric appears much more straightforward when a continuous representation of the environment is possible or at least not in contrast with the adopted modelling approach : in the case of a discrete and relatively coarse discretisation its results are not particularly different from the first metric , but they are sometimes counterintuitive especially when describing particular group shapes ( e.g. river - like lanes that are often present in high density situations ) .",
    "the first metric defines the dispersion of the group as the portion of space occupied by the group with respect to the size of the group : the first step of the procedure of computation for this metric builds a convex polygon with the minimum number of edges that contain all the vertices ( representing the position of a pedestrian ) ; the second step computes the area of this polygon .",
    "the dispersion value is calculated as the relationship between the polygon area and the size of the group .",
    "* utility parameters adaptation*[sec : balance ]  the adopted approach is characterised by a trade - off process between the goal attraction value and the intra / inter cohesion value in the utility computation : in the situation in which the spatial dispersion value is low , the cohesion behaviour has to influence pedestrian s overall behaviour less than the goal attraction . on the contrary , if the level of dispersion of a group is high , the cohesion component for the members must become more important than the goal attraction .",
    "an adaptation of the two parameters in the utility computation is necessary , by means of a @xmath55 function that can be used to formalise these requirements :    @xmath56    where @xmath57 , @xmath58 and @xmath59 are the weighted parameters @xmath38 and    @xmath60    is another function that works on the value of group dispersion as the relationship between the area and the size of the group , applying on it the hyperbolic tangent .",
    "the value of @xmath61 is a constant that essentially represents a threshold above which the adaptation mechanism starts to become more influential ; after a face validation phase , we set this value to 2.5 , allowing the output of @xmath62 function in the range @xmath63 $ ] according to all elements in @xmath38 .",
    "the hyperbolic tangent approaches value @xmath64 when @xmath65 approaches @xmath66 ( values @xmath67 indicate a high level of dispersion for small - medium size groups ( 1 - 4 members ) ) .    a graphical representation of the trade - off mechanism is shown in fig .",
    "[ fig : balance ] : red and green boxes represent the progress of parameter @xmath59 and parameter @xmath58 ( @xmath57 is treated analogously ) , respectively .",
    "note that the increasing of the dispersion value produces an increment of @xmath59 value and a reduction of @xmath58 parameter .",
    ", for @xmath68 and @xmath69    it must be emphasised the fact that this adaptive balancing mechanism and the current values for its parameters were heuristically established and they actually require a validation ( and plausibly a subsequent calibration ) by comparing results achieved with this configuration and relevant empirical data about group dispersion gathered from actual observations and experiments in controlled situations .",
    "this section describes the results of a simulation campaign carried out to evaluate the performance of the above described model that had mainly two goals : ( i ) _ validate _ the model , in situations for which the adaptation mechanism was not activated ( i.e. no simple groups were present in the simulated population ) , ( ii ) _ evaluate _ the effects of the introduction of simple groups , performing a qualitative face validation of the introduced adaptation mechanism considering available video footages of the behaviour of groups in real and experimental situations .",
    "the chosen situations are relatively simple ones and they were chosen due to the availability of relevant and significant data from the literature .",
    "in particular , we describe here a linear scenario : a _ corridor _ in which we test the capability of the model to correctly reproduce a situation in which two groups of pedestrians enter from one of the ends and move towards the other .",
    "this situation is characterised by a counterflow causing local situations of high density and conflicts on the shared space .",
    "we essentially evaluate and validate this scenario by means of a fundamental diagram as defined by  @xcite : it shows how the average velocity of pedestrians in a section ( e.g. one of the ends of a corridor ) varies according to the density of the observed environment . since the flow of pedestrians is directly proportional to their velocity , this diagram is sometimes presented in an equivalent form that shows the variation of flow according to the density . in general",
    ", we expect to have a decrease in the velocity when density grows , due to the growing frequency of `` collision avoidance '' movements by the pedestrians ; the flow , instead , initially grows , since it is also directly proportional to the density , until a certain threshold value is reached ( also called _ critical density _ ) , then it decreases .",
    "despite being of great relevance , different experiments gathered different values of empirical data : while there is a general consensus on the shape of the function , the range of the possible values has even significant differences from different versions .",
    "we investigated this scenario with a significant number of simulations , varying the level of density by adjusting the number of pedestrians present in the environment , so as to analyse different crowding situations .",
    "for every scenario , in terms of environmental configuration and level of density , a minimum of 3 and a maximum of 8 simulations were executed , according to the variability of the achieved results ( more simulations were run when the variability was high , generally around levels of density close to the critical thresholds ) .",
    "every simulation considered at least 1800 simulation turns , corresponding to 10 minutes of simulated time .",
    "the rationale was to observe a good number of complete paths of pedestrians throughout the environment , that was configured to resemble a torus ( e.g. pedestrians completing a movement through it re - entered the scenario from their starting point ) , therefore simulations of situations characterised by a higher density were also set to last longer .",
    "as suggested above , we adopted two different experiment settings : in the first one , the individual pedestrians belonging to a given flow ( i.e. all the pedestrians entering the corridor ) are represented as members of a large structured group , but no simple groups are present .",
    "this first part of the experimentation was also necessary to perform a proper calibration of the model , for the parameters not involved in simple group modelling . in the second experimental setting , we included a variable number of simple groups ( based on the total number of pedestrians in the environment and according to available data on the frequency of groups of different size in a crowd as mentioned in  @xcite and @xcite ) first of all to calibrate and qualitatively validate the adequacy of the adaptation mechanism and then to explore its implications on the overall crowd dynamics .",
    "we actually simulated the linear counterflow situation in three different corridors , of growing width : their size is respectively @xmath70 m @xmath71 @xmath72 m ( a ) , @xmath73 m @xmath71 @xmath74 m ( b ) and @xmath75 m @xmath71 @xmath76 m ( c ) .",
    "note that the variation in terms of width and height were applied according to the choice of maintaining the total area at a level about @xmath77 m@xmath78 in every scenario .",
    "a screenshot of the simulation scenario in low density situations including groups of different size is shown in figure  [ fig : screenshot ] .",
    "the choice of evaluating the influence of groups in different linear scenarios was also inspired by  @xcite , in which a comparison in terms of pedestrians flow from experimental data among three corridors of width @xmath79 m , @xmath70 m and @xmath80 m is presented . in this case , authors show that , in conformance with  @xcite , above a certain minimum of about @xmath81 m , the maximum flow is directly proportional to the width of the corridors .",
    "the model was calibrated to achieve , in situations not including simple groups , results in tune with empirical data available from the literature .",
    "we will now focus on some partly counterintuitive results in presence of simple groups . to do so",
    ", data related to the different types of simulated groups were aggregated , and a comparison among the related fundamental diagrams was performed for the movement of groups in corridor a. as summary , fig .",
    "[ fig : av_gruppi ] represents on the same chart all group contributions : the depicted points represent the average flow achieved for that kind of group in the total simulated time , and generally more points are available ( representing different simulation runs ) for the same configuration .",
    "the overall flow of individuals is generally higher than that of groups in almost all situations , and in general with the growth of the size of a simple group we observe a decrease of its overall flow .",
    "moreover , differences tend to decrease and almost disappear after the critical density ( about @xmath82 pedestrians per square metre ) is reached .",
    "we also analysed the effect of the width of the corridor on the flow of groups ( and in general on the overall pedestrian flow ) : figure  [ fig : comparison_width ] shows the different fundamental diagrams associated to all simple groups ( irrespectively of their size ) in corridors a , b and c. it is apparent that the critical density moves to higher levels with the growth of the corridor width , in tune with the already mentioned results discussed in  @xcite .    finally , we analysed how the level of group dispersion , computed by means of the same function employed to manage the adaptive mechanism for group cohesion , varies with a changing density in the environment",
    ". the motivations of this analysis are twofold : first of all , we wanted to understand if the adaptive mechanism for group cohesion is effective , then we wanted to gather empirical data to understand if it produces _ plausible _ results , in line with _ observed data _ that , at the moment of the simulation campaign , were still not available . figure  [",
    "fig : dispersion_comparison ] shown the variation of the level of dispersion for groups of size @xmath66 in corridors a , b and c : we can conclude that the mechanism for preserving the cohesion of simple groups is actually effective , since the growth of density does not cause a significant growth of the dispersion . on the other hand , at that moment we could not conclude that the model produces realistic results .",
    "this section comprises several empirical studies aimed at investigating pedestrian crowd dynamics in the natural context by using on - field observation .",
    "in particular the survey was aimed at studying the impact of grouping and proxemics behaviour on the whole crowd pedestrian dynamics .",
    "data analyses were focused on : ( i ) _ level of density and service _ , ( ii ) _ presence of groups _ within the pedestrian flows , ( iii ) group proxemic _ spatial arrangement _ , ( iv ) _ trajectories and walking speed _ of both singles and group members .",
    "furthermore the _ spatial dispersion _ of group members while walking was measured in order to propose an innovative empirical contribution for a detailed description of group proxemics dynamics while walking .",
    "the survey was performed the last 24^th^ of november 2012 from about 2:50 pm to 4:10 pm .",
    "it consisted in the observation of the bidirectional pedestrian flows within the vittorio emanuele ii gallery , a popular commercial - touristic walkway situated in the milan city centre ( italy ) .",
    "the gallery was chosen as a crowded urban scenario , given the large amount of people that pass through it during the weekend for shopping , entertainment and visiting touristic - historical attractions in the centre of milan .",
    "the team performing the observation was composed of four people .",
    "several preliminary inspections were performed to check the topographical features of the walkway .",
    "the balcony of the gallery , that surrounds the inside volume of the architecture from about ten meters in height , was chosen as location thanks to possibility to ( i ) position the equipment for video footages from a quasi - zenithal point of view and ( ii ) to avoid as much as possible to influence the behaviour of observed subjects , thanks to a railing of the balcony partly hiding the observation equipment .",
    "the equipment consisted of two professional full hd video cameras with tripods .",
    "the existing legislation about privacy was consulted and complied in order to exceed ethical issues about the privacy of the people recorded within the pedestrian flows .",
    "two independent coders performed a manual data analyses , in order to reduce errors by crosschecking their results .",
    "a squared portion of the walkway was considered for data analysis : 12.8 meters wide and 12.8 meters long ( 163.84 squared meters ) . in order to perform data analyses ,",
    "the inner space of the selected area was discretised in cells by superimposing a grid on the video ( see fig .",
    "[ fig : grid ] ) ; the grid was composed of 1024 squares 0.4 meters wide and 0.4 meters long .",
    "the bidirectional pedestrian flows ( from north to south and vice versa ) were manually counted minute by minute : 7773 people passed through the selected portion of the vittorio emanuale ii gallery from 2:50 pm to 4:08 pm .",
    "the average level of density within the selected area ( defined as the quantitative relationship between a physical area and the number of people who occupy it ) was detected considering 78 snapshots of video footages , randomly selected with a time interval of one minute .",
    "the observed average level of density was low ( 0.22 people / squared meter ) .",
    "despite it was not possible to analyse continuous situations of high density , several situation of irregular and local distribution of high density were detected within the observed scenario .    according to the highway capacity manual by  @xcite ,",
    "the level of density in motion situation was more properly estimated taking into account the bidirectional walkway level of service criteria : counting the number of people walking through a certain unit of space ( meter ) in a certain unit of time ( minute ) .",
    "the average level of flow rate within the observed walkway scenario belongs to a _",
    "b _ level ( 7.78 ped / min / m ) that is associated with an irregular flow in low - medium density condition .",
    "the second stage of data analysis was focused on the detection of groups within the pedestrian flows , the number of group members and the group proxemics spatial arrangement while walking .",
    "the identification of groups in the streaming of passerby was assessed on the basis of verbal and nonverbal communication among members : visual contact , body orientation , gesticulation and spatial cohesion among members .",
    "to more thoroughly evaluate all these indicators the coder was actually encouraged to rewind the video and take the necessary time to tell situations of simple local ( in time an space ) similar movements , due to the contextual situation , by different pedestrians from actual group situations .",
    "the whole video was sampled considering one minute every five : a subset of 15 minutes was extracted and 1645 pedestrians were counted ( 21.16% of the total bidirectional flows ) . concerning the flow composition ,",
    "15.81% of the pedestrians arrived alone , while the 84.19% arrived in groups : 43.65% of groups were couples , 17.14% triples and 23.40% larger groups ( composed of four or five members ) .",
    "large structured groups , such as touristic committees , that were present in the observed situation , were analysed considering sub - groups .",
    "results about group proxemics spatial arrangement while walking showed that :    * 94.43% of couples was characterised by line - abreast pattern while 5.57% by river - like pattern ; * 31.91% of triples was characterised by line - abreast pattern , 9.57% by river - like pattern and 58.51% by v - like pattern ; * 29.61% of four - person groups is characterised by line - abreast pattern , 3.19% by river - like pattern , 10.39% by v - like pattern , 10.39% triads followed by a single person , 6.23% single individual followed by a triad , 7.79% rhombus - like pattern ( one person heading the group , followed by a dyad and a single person ) , 32.47% of the groups split into two dyads .",
    "the walking speed of both singles and group members was measured considering the path and the time to reach the ending point of their movement in the monitored area ( corresponding to the centre of the cell of the last row of the grid ) from the starting point ( corresponding to the centre cell of the first row of the grid ) .",
    "only the time distribution related to the _ b _ level of service was considered ( as mentioned , the 59% of the whole video footages ) , in order to focus on pedestrian dynamics in situation of irregular flow .",
    "a sample of 122 people was randomly extracted : 30 singles , 15 couples , 10 triples and 8 groups of four members .",
    "the estimated age of pedestrians was approximately between 15 and 70 ; groups with accompanied children were not taken into account for data analyses . about gender , the sample was composed of 63 males ( 56% of the total ) and 59 females ( 44% of the total ) .",
    "differences in age and gender were not considered in this study .",
    "the alphanumeric grid was used to track the trajectories of both single and group members within the walkway and to measure the length of their path ( considering the features of the cells : 0.4 m wide , 0.4 m long ) ( see fig .  [",
    "fig : trajectories ] ) .",
    "a first analysis was devoted to the identification of the length of the average walking path of singles ( m=13.96 m , @xmath831.11 ) , couples ( m=13.39 m , @xmath83 0.38 ) , triples ( m=13.34 m , @xmath83 0.27 ) and groups of four members ( m=13.16 m , @xmath83 0.46 ) .",
    "then , the two tailed t - test analyses were used to identify differences in path among pedestrian .",
    "results showed a significant difference in path length between : singles and couples ( p value@xmath840.05 ) , singles and triples ( p value@xmath840.05 ) , singles and groups of four members ( p value@xmath840.05 ) .",
    "no significant differences were detected between path length of couples and triples ( p value@xmath850.05 ) , triples and groups of four members ( p value@xmath850.05 ) , couples and groups of four members ( p value@xmath850.05 ) .",
    "the results showed that the path of singles is 4,48% longer than the average path of group members ( including couples , triples and groups of four members ) .",
    "the walking speed of both singles and group members was detected considering the path of each pedestrian within the flows and the time to reach the ending point from their starting point .",
    "a first analysis was devoted to the identification of the average walking speed of singles ( m=1.22 m / s , @xmath83 1.16 ) , couples ( m=0.92 m / s , @xmath83 0.18 ) , triples ( m=0.73 m / s , @xmath83 0.10 ) and groups of four members ( m=0.65 m / s , @xmath83 0.04 ) .",
    "then , the two tailed t - test analyses were used to identify differences in walking speed among pedestrian .",
    "results showed a significant difference in walking speed between : singles and couples ( p value@xmath840.01 ) , singles and triples ( p value@xmath840.01 ) , singles and groups of four members ( p value@xmath840.01 ) , couples and triples ( p value@xmath840.01 ) , triples and groups of four members ( p value@xmath84 0.05 ) . in conclusion",
    ", the results showed that the average walking speed of group members ( including couples , triples and groups of four members ) is 37.21% lower than the walking speed of singles .",
    "the correlated results about pedestrian path and speed showed that in situation of irregular flow singles tend to cross the space with more frequent changes of direction in order to maintain their velocity , avoiding perceived obstacles like slower pedestrians or groups . on the contrary ,",
    "groups tend to have a more stable overall behaviour , adjusting their spatial arrangement and speed to face the contextual conditions of irregular flow : this is probably due to ( i ) the difficulty in coordinating an overall change of direction and ( ii ) the tendency to preserve the possibility of maintaining cohesion and communication among members .      in order to improve the understanding of pedestrian proxemics behaviour the last part of the study is focused on the dynamic spatial dispersion of group members while walking .",
    "the dispersion among group members was measured as the summation of the distances between each pedestrian and the centroid ( the geometrical centre of the group ) all normalised by the cardinality of the group .",
    "the centroid was obtained as the arithmetic mean of all spatial positions of the group members , considering the alphanumeric grid . in order to find the spatial positions , the trajectories of the group members belonging to the previous described sample ( 15 couples , 10 triples and 8 groups of four members ) were further analysed . in particular , the positions of the group members were detected analysing the recorded video images every 40 frames ( the time interval between two frames corresponds to about 1.79 seconds , according to the quality and definition of the video images ) starting from the co - presence of the all members on the alphanumeric grid .",
    "this kind of sampling permitted to consider 10 snapshots for each groups .",
    "a first analysis was devoted to the identification of the average proxemics dispersion of couples ( m=0.35 m , @xmath83 0.14 ) , triples ( m=0.53 m , @xmath83 0.17 ) and groups of four members ( m=0.67 m , @xmath83 0.12 ) .",
    "then , the two tailed t - test analyses were used to identify differences in proxemics dispersion among couples , triples and groups of four members .",
    "results showed a significant difference in spatial dispersion between : couples and triples ( p value@xmath840.05 ) , couples and groups of four members ( p value@xmath840.01 ) .",
    "no significant differences between triples and groups of four members ( p value@xmath85 0.05 ) . in conclusion",
    ", the results showed that the average spatial dispersion of triples and groups of four members while walking is 40.97% higher than the dispersion of couples .    in order to be able to provide useful indications for the calibration of the adaptive simple group cohesion mechanism",
    "we also evaluated the average dispersion of the observed groups in terms of area covered by the group : due to the discretisation of the pedestrian localisation mechanism , we were able to essentially count the occupied cells by a sort of convex hull computed considering the positions of pedestrians as vertexes , analogously as for the dispersion metric defined and employed in the simulation model .",
    "the results of this operation estimated the dispersion of couples ( ma=0.6 m@xmath78 ) , triples ( ma=0.8 m@xmath78 ) and groups of four ( ma=1.3 m@xmath78 ) .",
    "these values are currently being employed to calibrate and validate the simple group cohesion mechanism in the conditions of relatively low density and irregular flow .",
    "starting from the achieved results about group proxemics dispersion , we finally focused on a quantitative and detailed description of group spatial layout while walking .",
    "the normalised positions of each pedestrian with respect to the centroid and the movement direction were detected by means of a sample of 10 snapshots for each groups ( 15 couples , 10 triple and 8 groups of four members ) and then further analysed in order to identify the most frequent group proxemics spatial configurations , taking into account the degree of alignment of each pedestrian ( see figure  [ fig : scatter - all ] ) .",
    "result showed that couple members tend to walk side by side , aligned to the each other with a distance of 0.4 m ( 36% of the sample ) or 0.8 m ( 24% of the sample ) , forming a line perpendicular to the walking direction ( line abreast pattern ) ; triples tend to walk with a line abreast layout ( 13% of the sample ) , with the members spaced of 0.60 m. regarding groups of four members it was not possible to detect a typical spatial pattern : the reciprocal positions of group members appeared much more dispersed than in the case of smaller groups , probably to due the continuous arrangements in spatial positioning while walking .",
    "the results are in line with the previously described spatial arrangements related to the total observed pedestrian flows ( see section  [ sec : flow - comp ] ) , representing an innovative contribution for the understanding of group proxemics dynamics in motion situation , once again in situations characterised by a relatively low density and irregular flow .",
    "empirical data about high density situations would be necessary to actually tune the mechanism in moderate and high density situations , but in this kind of scenario this observation and analysis framework would very likely be inappropriate and ineffective . a more sophisticated and at least partly automated ( employing computer vision techniques and maybe machine learning approaches to support the detection of groups ) controlled experiments ( given the high density situation , some help to the tracking and detection approaches would probably be necessary in terms , for instance , of markers to highlight the heads of group members ) is probably needed to actually face the challenges of acquiring empirical evidences about the behaviour of groups in high density situations .",
    "the participation of psychologists in the definition of such an experimental observation setting would also help in managing any kind of tiring and learning effect due to the experimental procedure .",
    "the paper discussed an integrated approach to the analysis and synthesis of pedestrian and crowd behaviour , in which the two aspects are actually set in an integrated framework and they mutually benefit in different ways . a general schema describing the conceptual pathways connecting modelling and analysis steps was described . a case study in which modelling and simulation approaches , specifically focused on adaptive group behaviour enabling the cohesion of simple groups , produced a research question and some usable techniques to crowd analysis approaches",
    "was also introduced . on the other hand ,",
    "a subsequent observation and analysis about the phenomenology represented in the model was also described .",
    "currently the empirical evidences resulting from this analysis activity are being used to validate and calibrate the model for group cohesion . in particular the simulation model",
    "correctly reproduces some of the observed phenomena , in particular , lower walking speeds for groups and tendency to preserve cohesion ( although this aspect is undergoing a further calibration ) .",
    "additional elements that are now being evaluated are related to the capability of the model to generate spatial patterns resulting from the analysis .    moreover , the analysis of the gathered video footage also highlighted additional phenomenologies that are now being more thoroughly analysed : in particular , patterns of `` leader  follower '' behaviour within groups were detected and the introduced simulation model presents all the necessary elements and mechanisms to represent this kind of pattern .",
    "future works are also aimed at supporting innovative automated analysis techniques based on computer vision and machine learning approaches .",
    "the authors would like to thank milano s municipality for granting the necessary authorisations to carry out the observation in the vittorio emanuele ii gallery .",
    "bandini , s. , rubagotti , f. , vizzari , g. , shimura , k. , 2011 .",
    "an agent model of pedestrian and group dynamics : experiments on group cohesion . in : pirrone , r. , sorbello , f. ( eds . ) ,",
    "ai*ia . vol .",
    "6934 of lecture notes in computer science .",
    "springer , pp .",
    "104116 .",
    "federici , m.  l. , gorrini , a. , manenti , l. , vizzari , g. , 2012 .",
    "data collection for modeling and simulation : case study at the university of milan - bicocca . in : sirakoulis ,",
    "g.  c. , bandini , s. ( eds . ) , acri .",
    "7495 of lecture notes in computer science .",
    "springer , pp .",
    "699708 .",
    "georgoudas , i.  g. , sirakoulis , g.  c. , andreadis , i. , 2011 .",
    "an anticipative crowd management system preventing clogging in exits during pedestrian evacuation processes .",
    "ieee systems journal 5  ( 1 ) , 129141 .",
    "leal - taix , l. , pons - moll , g. , rosenhahn , b. , 2011 .",
    "everybody needs somebody : modeling social and grouping behavior on a linear programming multiple people tracker . in : iccv workshops .",
    "ieee , pp .",
    "120127 .",
    "manzoni , s. , vizzari , g. , ohtsuka , k. , shimura , k. , 2011 . towards an agent - based proxemic model for pedestrian and group dynamics : motivations and first experiments . in : tumer ,",
    "yolum , sonenberg , stone ( eds . ) , proc . of 10th int .",
    "conf . on autonomous agents and multiagent systems  innovative applications track ( aamas 2011 ) .",
    "12231224 .",
    "milazzo  ii , j.  s. , rouphail , n.  m. , hummer , j.  e. , allen , d.  p. , 1999 .",
    "quality of service for interrupted - flow pedestrian facilities in highway capacity manual 2000 .",
    "transportation research record : journal of the transportation research board 1678  ( -1 ) , 2531 .",
    "moussad , m. , perozo , n. , garnier , s. , helbing , d. , theraulaz , g. , 04 2010 .",
    "the walking behaviour of pedestrian social groups and its impact on crowd dynamics .",
    "plos one 5  ( 4 ) , e10047 .",
    "http://dx.doi.org/10.1371%2fjournal.pone.0010047        raghavendra , r. , bue , a.  d. , cristani , m. , murino , v. , 2011 . abnormal crowd behavior detection by social force optimization . in : salah , a.  a. , lepri , b. ( eds . ) , hbu .",
    "7065 of lecture notes in computer science .",
    "springer , pp .",
    "134145 .",
    "schadschneider , a. , klingsch , w. , klpfel , h. , kretz , t. , rogsch , c. , seyfried , a. , 2009 .",
    "evacuation dynamics : empirical results , modeling and applications . in : meyers , r.  a. ( ed . ) , encyclopedia of complexity and systems science .",
    "springer , pp .",
    "31423176 .",
    "schultz , m. , rger , l. , fricke , h. , schlag , b. , 2012 .",
    "group dynamic behavior and psychometric profiles as substantial driver for pedestrian dynamics . in : pedestrian and evacuation dynamics",
    "2012 ( ped2012 ) .",
    "http://arxiv.org/abs/1210.5553    schultz , m. , rger , l. , fricke , h. , schlag , b. , 2012 .",
    "group dynamic behavior and psychometric profiles as substantial driver for pedestrian dynamics . in : pedestrian and evacuation conference ( ped2012 ) .",
    "http://arxiv.org/abs/1210.5553      vizzari , g. , manenti , l. , ohtsuka , k. , shimura , k. , 2012 .",
    "an agent - based approach to pedestrian and group dynamics : experimental and real world scenarios . in : proceedings of the 7th international workshop on agents in traffic and transportation .",
    "http://www.ia.urjc.es/att2012/papers/att2012_submission_1.pdf    was , j. , 2010 .",
    "crowd dynamics modeling in the light of proxemic theories . in : rutkowski , l. , scherer , r. , tadeusiewicz , r. , zadeh , l.  a. , zurada , j.  m. ( eds . ) , icaisc ( 2 ) . vol .",
    "6114 of lecture notes in computer science .",
    "springer , pp . 683688 .",
    "weidmann , u. , 1993 .",
    "transporttechnik der fussgnger - transporttechnische eigenschaftendes fussgngerverkehrs ( literaturstudie ) .",
    "literature research  90 , institut fer verkehrsplanung , transporttechnik , strassen- und eisenbahnbau ivt an der eth zrich .",
    "zhang , j. , klingsch , w. , schadschneider , a. , seyfried , a. , 2011 .",
    "transitions in pedestrian fundamental diagrams of straight corridors and t - junctions .",
    "journal of statistical mechanics : theory and experiment 2011  ( 06 ) , p06004 ."
  ],
  "abstract_text": [
    "<S> studies related to _ crowds _ of pedestrians , both those of theoretical nature and application oriented ones , have generally focused on either the _ analysis _ or the _ synthesis _ of the phenomena related to the interplay between individual pedestrians , each characterised by goals , preferences and potentially relevant relationships with others , and the environment in which they are situated . the cases in which these activities have been systematically integrated for a mutual benefit are still very few compared to the corpus of crowd related literature . </S>",
    "<S> this paper presents a case study of an integrated approach to the definition of an innovative model for pedestrian and crowd simulation ( on the side of synthesis ) that was actually motivated and supported by the analyses of empirical data acquired from both experimental settings and observations in real world scenarios . </S>",
    "<S> in particular , we will introduce a model for the adaptive behaviour of pedestrians that are also members of groups , that strive to maintain their cohesion even in difficult ( e.g. high density ) situations . </S>",
    "<S> the paper will show how the synthesis phase also provided inputs to the analysis of empirical data , in a virtuous circle .    </S>",
    "<S> crowd analysis , crowd synthesis , agent  based modelling and simulation , groups </S>"
  ]
}