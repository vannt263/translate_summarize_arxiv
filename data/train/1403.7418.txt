{
  "article_text": [
    "sunspots are the most obvious feature of solar magnetic activity . to understand the development of the solar activity , revealing the morphologic and kinematic behaviors of the sunspots on the solar surface is required .",
    "therefore , analyzing the emergence patterns , developments and decay of the sunspots on the solar surface are the most important steps to constitute the sunspot group models .",
    "evolution of the groups on the surface is observed with the evolution the both umbral and penumbral areas @xcite , @xcite .",
    "mcintosh @xcite described the classification of the sunspot groups depending on the appearance and the area covered on the surface . here , the areas of the sunspots are an important criterion and they enable the groups to be distinguished from each other .",
    "the size and distribution of the sunspots are an indication of the complexity of the activity field which the group is in @xcite .",
    "hence , the positions of the sunspots in the group also show the magnetic field distribution . because the size of both umbral and penumbral areas of the sunspots are proportional to the magnitude of the magnetic field strength @xcite , the sunspot areas which are reaching a certain size or being disintegrated or tending to merge with other sunspots are indicating the different phases of the group development @xcite .",
    "an accurate measurement of the sunspot areas , therefore , could provide important information .",
    "areas and heliographic positions of the sunspot groups were regularly calculated and archived at the royal greenwich observatory from 1874 until 1976 .",
    "the results were published in greenwich photoheliographic results .",
    "after 1976 , debrecen heliophysical observatory ( dho ) took over this mission .",
    "now , the daily data about areas and positions of the sunspot groups are published in debrecen photoheliographic data .",
    "video images of the sunspot groups are used for area measurement and an isodensity line is fitted to the edge of the spot at dho .",
    "the sunspot group areas are calculated as follows : the area is divided into small squares with a grid system , then , the number of the squares in the area are counted and added up . and",
    "then , the total area is transformed into area on the solar disk @xcite , @xcite .",
    "many researchers are using the circular marking method in which the area of a sunspot is determined with the area of a circle superimposed on it .",
    "all of the sunspot areas in the group are individually calculated and their sum will give the total area of the sunspot group @xcite , @xcite .",
    "the area of the sunspot group @xmath0 , on the solar disk is calculated by @xmath1 where @xmath2 is the measured size of a sunspot group in the image , d is the diameter of the image , @xmath3 is the angular distance of the sunspot group s center from the center of the disk .",
    "the area of the sunspot group is given in millionths of the apparent solar disk in these studies and includes the correction for foreshortening .",
    "whereas in the method explained in here , the area of the group is calculated in square degrees .",
    "nowadays , automated sunspot recognition techniques are developed and the researches are almost concentrated in this field instead of the development the old studies which have hand - made measurements . a software package called sam at dho",
    "is used for automated recognition . at the university of bredford",
    ", an automated program is used to produce solar feature catalogue . another automated program called startool",
    "is applied to digital images @xcite .",
    "the articles written by gyri @xcite and fonte & fernandes @xcite have detailed descriptions about automated recognition to determine the edge of the sunspots with the image processing techniques .",
    "but this approach brings some mistakes on the boundaries of the sunspots due to the blurring and smoothing processes and wipes out some parts of the group , especially small sunspots close to big penumbral structures and some umbral spots close to each other .",
    "therefore , it can be said that these techniques are rough estimates and can not give true areas of the sunspot groups .",
    "semi - automated approaches may solve these points by adjusting the threshold values visually .",
    "the first step to measure the sunspot areas in digital environment is to mark the sunspot areas on the solar disk image .",
    "initially , disk images are transformed to the rgb grayscale format which has an intensity range from 0 to 255 .",
    "intensity value 0 means black , 255 means white color in rgb format .",
    "this increases the accuracy of the edge detection in the next step .",
    "the edges of the sunspots are determined by using the _ contour trace _ algorithm .",
    "_ @xcite and wagenknecht @xcite gave detailed information about this technicque .",
    "in this procedure , isodensity lines are drawn around sunspots by changing the threshold intensity level .",
    "pixels which have intensity value higher than threshold value are taken into account and processed for contouring .",
    "two different intensity levels are shown in fig .",
    "1 as an example . in the figure ,",
    "the sunspots have lines on their edges , but some areas which are not sunspots have border as well .",
    "this is the hard point to decide and carry out .",
    "when higher threshold values are selected , more bordered areas are seen and the areas of the sunspots are wider . after a proper value is selected , the necessary corrections have to be made by removing the areas which are not sunspots and holes in the sunspots .",
    "when these are done , sunspot group will be seen as in fig .",
    "afterwards , the image is made ready for area calculation by filling the areas of the sunspots with black in the contour drawings ( fig .",
    "any image in the digital media consists of many picture elements , called pixels . with this approach",
    ", the size of the pixel area can be calculated easily in square degrees , when the heliographic coordinates of every pixel are known in the solar disk image . to achieve this",
    ", it will be enough to superimpose a    stonyhurst disk ( for detail see cortie @xcite ) on the disk image .",
    "solar parameters ( position angle @xmath4 , equatorial angle @xmath5 and initial longitude angle @xmath6 ) at the time of the observation need to be calculated by using the astronomical almanac to prepare this stonyhurst disk ( hereafter referred as graticule ) .    using these parameters ,",
    "the graticule can be placed over the desired image with the aid of a computer software ( for detail see @xcite ) . as an example ,",
    "a hmiif ( helioseismic and magnetic imager intensitygram - flattened ) solar disk image is processed in accordance with the steps described above ( fig .",
    "3a ) and the graticule is placed on the disk using software ( fig .",
    "the image was taken by the solar dynamics observatory ( sdo ) satellite in 15.06.2012 .",
    "+   +   +      three - dimensional coordinates system for a sphere were used in the preparation of the graticule system in the computer environment ( fig .",
    ", the cartesian coordinates of a point using it s spherical coordinates are given by @xmath7 where _ r _ is the radius of the sphere ( solar disk image ) , _ b _ is the latitude angle and _ l _ is the longitude angle @xcite .",
    "also , in order to calculate the apparent heliographic coordinates of a point on the graticule , the angle _ b _ is selected between + 90@xmath8 ( for northern emisphere ) and -90@xmath8 ( for southern hemisphere ) and angle _ l _ is selected between + 90@xmath8 ( for west hemisphere ) and -90@xmath8 ( for east hemisphere ) .",
    "then , these three - dimensional coordinates have to be converted to two - dimensional coordinates to draw on the image ( depending on _ p _ and _ @xmath9 _ parameters of the sun ) .",
    "these are done with the well known transformation and projection equations @xcite , @xcite , @xcite . as seen in fig .",
    "4 , by rotating _ x_-axis _",
    "@xmath9 _ degrees and _ y_-axis _ p _ degrees , the projection coordinates _",
    "@xmath10 _ and _ @xmath11 _ of a point are determined by @xmath12 where @xmath13 and @xmath14 are the coordinates of the disk image center .    from this point ,",
    "the heliographic coordinates of a pixel can be calculated by the inverse process .",
    "all coordinates are being given in pixels in the following process .",
    "as defined above , _",
    "@xmath10 _ and _ @xmath11 _ are the screen coordinates of a pixel taken into account and let _",
    "@xmath15 _ and _ @xmath16 _ be the cartesian coordinates of that pixel with relative to the solar disk image center . from the equations ( 3 ) and ( 4 ) , we define _ @xmath15",
    "_ and _ @xmath16 _ as follows @xmath17 where _",
    "@xmath18 _ is the transformed values of _ @xmath19 _ and @xmath20 . from the equations ( 5 ) and ( 6 )",
    ", we find the below equations by the inverse transformation .",
    "@xmath21 on the other hand , we have the _",
    "@xmath22 _ equation in cartesian coordinates , where _ @xmath23 _ and _ @xmath24 _ are the transformed values of _ @xmath25 _ , and _ @xmath26_. in these transformation process _",
    "@xmath27_. then , @xmath28 can be easily obtained .",
    "the inverse transformation for _ @xmath19 _ is given by @xmath29 substituting _",
    "@xmath18 _ and _ @xmath24 _ into ( 7 ) , we get the _ @xmath19",
    "_ value of the pixel in cartesian coordinates . finally , by using the equations ( 1 ) and ( 2 ) , the heliographic coordinates of the pixel , _",
    "@xmath30 _ and _ @xmath31 _ , are obtained in degrees by @xmath32 where _",
    "@xmath33 _ is the initial longitude in the heliographic coordinates at the time of the capture of the solar image .",
    "once a graticule is superimposed on a solar disk image as shown in fig .",
    "3b , every pixel forming the sunspot group ( fig .",
    "5b ) will have a heliographic latitude ( @xmath34 ) and longitude ( @xmath35 ) on the solar image .",
    "therefore , the area of any pixel can be calculated with the help of the coordinates of its neighboring pixels .",
    "let pixel - i be a pixel taken into account and let the pixel - a and pixel - b be the nearest two pixels as shown in fig .",
    "the area of pixel - i can be calculated using @xmath36 and @xmath37 which are the latitudinal and longitudinal differences in degrees , respectively . here",
    ", pixel - i has the same latitude with pixel - a and the same longitude with pixel - b .",
    "the surrounding pixels of the selected pixel are taking into account to find these nearest .    a computer program is used for the calculation processes . to decrease the duration of the calculations and speed up all processes , only a small part of the disk image",
    "is selected that the sunspot group is in ( fig .",
    "5a , dotted rectangle area ) .",
    "then , the heliographic coordinates of all the pixels inside the dotted area are calculated .",
    "the process is started with the leftmost pixel of the top row of the dotted area and it is continued to the right end of the row . then , other rows from second row to the last row of the dotted area are processed .",
    "because the pixels in the sunspot group area are black , when such a pixel is encountered in the procession of the area , its surrounding eight pixels are taken into account to find the nearest pixels .",
    "both latitudinal and longitudinal distances of the eight pixels to the selected pixel are calculated separately .",
    "accepting the numerically smallest absolute values as nearest , the nearest two pixels to the selected pixel are found , which one is nearest latitudinally ( pixel - b ) and other is nearest longitudinally ( pixel - a ) .",
    "then , the area calculation is performed which was defined graphically in fig . 5c .",
    "@xmath38 , the heliographic area of pixel - i is accordingly defined by @xmath39 where @xmath40 and @xmath41 are the heliographic latitude and longitude of the pixel - i , respectively .",
    "@xmath42 is the heliographic longitude of the pixel - a and , @xmath43 is the heliographic latitude of the pixel - b .",
    "@xmath44 and @xmath45 are the latitudinal and longitudinal width for the pixel - i , respectively .",
    "since the heliographic area must be a positive value , absolute values of the widths have been taken . if the @xmath46 is the total number of the pixels forming the sunspot group , the total area of the group @xmath2 will be the sum of the individual pixel areas and is defined by @xmath47 since the heliographic coordinates of the pixels were used in all calculations , the effect of the perspective on a pixel will be taken into account automatically .",
    "therefore , no correction will be needed for total area and the calculated area will be closest to the actual area covered .      a 25@xmath48 squared area which has a width of @xmath49 in longitude and latitude is marked on an empty disk at different longitude and latitude belts as shown in fig .",
    "all areas are measured individually by using the graticule that is formed according to this method ( fig .",
    "6b ) and results obtained are listed in the table 1 .",
    "as seen in the table , the pixel count of the areas close to the edge of the disk are relatively small because of the effect of the perspective , but the measured values of the areas are very satisfactory , like for the other areas .",
    "[ t - test ]    .the measured values of the test areas . [ cols=\"^,^,^\",options=\"header \" , ]",
    "the principle of the area calculation is based on the pixels of digital images in this method . when the size of every pixel is known in heliographic coordinates ,",
    "the total calculated area of the sunspot group will be close to the actual value .",
    "using high - resolution images will increase the calculation s accuracy . as a result of this , the pixel area will be small in square degrees and the pixel number in the area will increase . therefore , 4096@xmath504096 pixel sized , high - resolution images of the sdo were used .",
    "the diameter of the sun s disk is 3746 pixels in these images .",
    "this means that 1 pixel is equal to 1.8 arcminutes in the center of disk and 5.5 arcminutes around 70@xmath48 longitude on the equator of the sun .",
    "edge detection of the sunspot groups is an important stage of the method .",
    "since the contour trace algorithm is used , the selection of the threshold intensity value is one of the most critical points .",
    "also , since the border of the area is identified visually , the threshold value must be selected appropriately .",
    "intensity value of the pixels are in the 0 - 255 range , experimental measurements showed that the amount of the noticeable change can be 5 units above or below the proper value . when the threshold value is 5 units below",
    ", the areas of sunspot are becoming smaller by 2 - 3% .",
    "this means an area difference of 0.5 - 0.8 square degrees in a 25@xmath48 squared area , because the sunspot group is getting more fragmented and most of the penumbral region is getting smaller . on the other hand , when the threshold value is 5 units above , since the borders of the some sunspots of the group are merging with each other and penumbral regions are getting wider , the areas of sunspot are becoming larger by 4 - 6% and this means an area difference of 1 - 1.5 square degrees in a 25@xmath48 squared area .",
    "these are the average values and the percentage of the area variation strongly depends on the location , size and fragmentation of the sunspot group on the solar disk . especially , if the sunspot group is more fragmented , the change in the percentage will be greater .",
    "the manual re - arrangement of the group area is another critical point . when looking at fig .",
    "1 , some difficulties will be seen in which of the bordered areas are belong or not belong the sunspot group . however , it is not difficult to decide and this should be done properly , if not , area of the sunspot group will be incorrectly calculated . locating the graticule on the solar disk appropriately is the easiest part of the method .",
    "but , nevertheless , adjustment should be made carefully .",
    "the size of the graticule must be equal to the size of the solar disk , and the central point of the graticule must match exactly with the central point of the solar disk image . a common error while doing this is to shift the graticule a few pixels in any direction , which will be on the order of 2 - 3 pixels .",
    "if the graticule is shifted 3 pixels , the sunspot area will change approximately with a 0.1% in the center and 1 - 1.5% close to the edge of the disk . when the graticule is shifted to the one direction ( for example east side ) ,",
    "the sunspot groups on that side will be shifted to the center and others on the opposite side will be more close to edge of the other side .",
    "when a pixel shifts to the center , area of the pixel will decrease in square degrees , in the other case , area will increase .",
    "therefore , while the sunspot group approaches to the center , the sunspot area will quantitatively decrease , and if the group approaches to the edge , the area will increase .",
    "all of the errors mentioned above are the critical points of this method .",
    "if the selections are made appropriately , the area of the groups will be calculated correctly .",
    "more importantly , in the other methods , the areas covered by the pixel or small squares are accepted as being equal to each other on the solar disk , but they actually are different in size . in the method explained here , the areas of the pixels change in square degrees depending on their latitude and longitude . therefore , this is an effective method to calculate areas of the sunspots from digital images of the solar disk .",
    "finally , with this method , not only the areas of the sunspots , but also areas of the flares and the plages in the chromospheric solar disk images and the areas of the network in ca ii images can be calculated .",
    "the size of the sun s image changes with the focal length of the telescope used , but it does not change on the sky , which is 0.53@xmath48 or 32 arcminutes . in the solar images , only the half of the sun , which is facing us , can be seen .",
    "this means that the only 180@xmath48 of the solar sphere is observed .",
    "when a graticule system is superimposed to the solar disk image , it can be said that one is dealing with the surface of the sun and not with the apparent size of it on the sky .",
    "because the size of the graticule depends directly to the size of the solar disk image , any movement on the graticule means the movements on the surface of the sun . from this",
    ", it is clearly understood that the distances between the latitude lines and longitude lines of the graticule on the surface of the sun never change , but change on the image of the solar disk depending on the perspective .",
    "some longitude points of the graticule on the equator of the sun are shown in fig . 9 for the western hemisphere . as seen in the figure , the projections of the longitude lines depend on the perspective .",
    "the distances to the disk image center in pixels are proportional to the sine value of the longitude .",
    "this is given generally by @xmath51 where @xmath52 is the distance of the longitude @xmath53 in pixels to the image center at the latitude @xmath54 , @xmath55 is the radius of the disk image .",
    "the distance between the longitude lines decreases while approaching to the edge of the disk , therefore the number of the pixels also decreases , but increases towards the center .",
    "for example , at the equator ( @xmath54 = 0 ) , the number of the pixels ( @xmath56 ) for a width of 1@xmath48 in the center and near to the edge of the image will be given by @xmath57 the sdo images used in this work has a radius of 1873 pixels and the number of the pixels in these images in 1@xmath48 width are @xmath58 = 33px and @xmath59 = 11px .",
    "one pixel is equal to 1.8 arcminutes ( 60@xmath60/33px ) in the center and 5.5 arcminutes ( 60@xmath60/11px ) near to the edge of disk .",
    "similarly , the size of a pixel in kilometers can be calculated by using the perimeter of the sun in kilometers .",
    "since the diameter of the sun is 1 396 400 km , the perimeter of the sun will be 4 386 920 km .",
    "hence , 1@xmath48 will correspond to 12 186 km and the 1 arcminute will correspond to 203 km . as seen from this calculation , the area covered by the pixels on the sun s surface",
    "can be calculated in square - kilometers as well as the area of the sunspot groups .      as explained in section 2.1 , every pixel forming the sunspot group have heliographic coordinates according to the graticule system superimposed on it .",
    "while processing the area of the group , each pixel of the group individually checked to find the nearest two pixels to it . to do this , the surrounding the pixels of the selected pixel are taken into account . a shematic view of this situation is shown in fig .",
    "although the lines of the latitude and longitude of the graticule are curved , since they are on the surface of the sphere , these are shown as straight lines for simplicity .",
    "let the selected pixel ( no .",
    "0 ) be at the heliographic coordinates @xmath61 and @xmath62 as shown in fig .",
    "10 . two pixels ( 4 and 5 ) are the same latitude and other two ( 2 and 8) are the same longitude with the selected pixel . but",
    "this is not correct for all situations .",
    "specifically , when the sunspot group is close to the edge of the disk , the longitudinal lines of the graticule become more inclined and the corner pixels shift in longitude and become the same longitude with the selected pixel rather than the upper and lower pixels .",
    "pixels ( 3 , 5 and 9 ) on the right of the selected pixel have smaller , pixels on the left ( 1 , 4 and 7 ) have larger longitudes than the selected pixel s . also pixels ( 7 , 8 and 9 ) below the selected pixel have smaller , upper of them ( 1 , 2 and 3 ) have larger latitudes than the selected pixel s .",
    "in order to find the nearest pixels , both the latitudinal and longitudinal differences in degrees of the surrounding the pixels to the selected pixel must be calculated separately .",
    "these differences are given by @xmath63 where @xmath64 is the position number of the surrounding pixels and has values from 1 to 8 , respectively .",
    "@xmath65 is the latitudinal difference , and @xmath66 is the longitudinal difference for the number @xmath64 pixel , @xmath67 is the latitude of the number @xmath64 pixel , @xmath68 is the longitude of the @xmath64th pixel .",
    "as seen from the equations , @xmath36 and @xmath37 may accordingly have negative or positive values .",
    "since we are not dealing with their signs , the absolute values or numerical values of them must be taken into account to find the smallest for both latitudinal and longitudinal differences .",
    "after the smallest @xmath36 and the smallest @xmath37 are found , the area of the selected pixel is calculated as the product of these two values .",
    "author thanks to his colleague res .",
    "asuman gltekin from the istanbul university science faculty , astronomy and space sciences department for his contributions towards developing the method .",
    "also , thanks to res .",
    "baar cokunolu for his contributions towards improving the language of the manuscript . also ,",
    "thanks to anonymous reviewer for his / her valuable suggestions and comments improving manuscript .",
    "this work was supported by scientific research projects coordination unit of istanbul university with the project number 24242 and the project number 6021 ."
  ],
  "abstract_text": [
    "<S> the areas of sunspots are the most prominent feature of the development of sunspot groups . </S>",
    "<S> since the size of sunspot areas depend on the strength of the magnetic field , accurate measurements of these areas are important . in this study , a method which allows to measure true areas of the sunspots is introduced . </S>",
    "<S> a stonyhurst disk is created by using a computer program and is coincided with solar images . by doing this , </S>",
    "<S> an accurate heliographic coordinate system is formed . </S>",
    "<S> then , the true area of the whole sunspot group is calculated in square degrees with the aid of the heliographic coordinates of each picture element forming the image of the sunspot group .    </S>",
    "<S> this technique s use is not limited with sunspot areas only . </S>",
    "<S> the areas of the flare and filaments observed on the chromospheric disk can also be calculated with the same method . </S>",
    "<S> in addition to this , it is possible to calculate the area of any occurrence on the solar disk , whether it is related to an activity or not .    </S>",
    "<S> example.eps gsave newpath 20 20 moveto 20 220 lineto 220 220 lineto 220 20 lineto closepath 2 setlinewidth gsave .4 setgray fill grestore stroke grestore </S>"
  ]
}