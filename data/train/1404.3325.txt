{
  "article_text": [
    "in information retrieval , one is often faced with different scores for the same set of items .",
    "this includes the lists of documents returned by different search engines and their associated relevance scores , the lists of query recommendation returned by different algorithms , and also the score associated to each node of a graph by different centrality measures ( e.g. , indegree and bavelas s closeness  @xcite ) .    in most of the literature ,",
    "the scores are assumed to be without ties , thus inducing a _ ranking _ of the elements . at that point ,",
    "correlation statistics such as spearman s rank correlation coefficient  @xcite and kendall s @xmath0  @xcite can be used to evaluate the similarity of the rankings .",
    "spearman s correlation coefficient is equivalent to the traditional linear correlation coefficient computed on ranks of items .",
    "kendall s @xmath0 , instead , is proportional to the number of pairwise adjacent swaps needed to convert one ranking into the other .    for a number of reasons ,",
    "kendall s @xmath0 has become a standard statistic to compare the correlation between two ranked lists .",
    "such reasons include fast computation ( @xmath2 , where @xmath3 is the length of the list , using knight s algorithm  @xcite ) , and the existence of a variant that takes care of ties  @xcite .",
    "the explicit treatment of ties is of great importance when comparing global _ exogenous _",
    "relevance scores in large collections of web documents .",
    "the baseline of such scores is indegree  the number of documents containing hypertextual link to a given document .",
    "more sophisticated approaches include katz s index  @xcite , pagerank  @xcite , and countless variants . due to the highly skewed indegree distribution ,",
    "a very large number of documents share the same indegree , and the same happens of many other scores : it is thus of uttermost importance that the evaluation of correlation takes into account ties as first - class citizens .",
    "on the other hand , kendall s @xmath0 has some known problems that motivated the introduction of several weighted variants .",
    "in particular , a striking difference often emerges between the anecdotal evidence of the top elements by different scores being almost identical , and the @xmath0 value being quite low .",
    "this is due to a known phenomenon : the scores of important items tend to be highly correlated in all reasonable rankings , whereas most of the remaining items are ranked in slightly different ways , introducing a large amount of noise , yielding a low @xmath0 value .",
    "this problem motivates the definition of correlation statistics that consider more important correlation between highly ranked items .",
    "in particular , recently yilmaz , aslam and robertson introduced a statistics , named _ ap ( average precision ) correlation _",
    "@xcite , which aims at considering more important swaps between highly ranked items .",
    "the need for such a measure is very well motivated in the introduction of their paper , and we will not repeat here their detailed discussion .    in this paper , we aim at providing a measure of correlation in the same spirit of the definition oh yilmaz , aslam and robertson , but taking smoothly ties into account .",
    "we will actually define a general notion of weighting for kendall s @xmath0 , and develop its mathematical properties .",
    "since it is important that such a statistics is computable on very large data sets , we will provide a generalization of knight s algorithm that can be applied whenever the weighting depends additively or multiplicatively on a weight assigned to each item . the same algorithm can be used to compute ap correlation in time @xmath1 .",
    "all data and software used in this paper are available as part of the law software library under the gnu general public license .",
    "shieh  @xcite wrote the one of the first papers proposing a generic weighting of kendall s @xmath0 .",
    "she assumes from the very start that there are no ties , and assign to the exchange between @xmath4 and @xmath5 a weight @xmath6 .",
    "her motivation is the _ fidelity evaluation of software packages for structural engineering _ , in which a set of variables is ranked in two different ways , and one would like to emphasize agreement on the most important ones . in particular , she concentrates on weights given by the product of two weights associated with the elements participating in the exchange .",
    "our work can be seen as a generalization of her approach , albeit we combine weights differently .",
    "kumar and vassilvitskii  @xcite study a definition that extends shieh s taking into account _",
    "position weights _ and _ similarity between elements_. again , they assume that ties are broken arbitrarily , which is an unacceptable assumption if large sets of elements have the same score .",
    "fagin , kumar and sivakumar  @xcite use instead _",
    "penalty weights _ to apply kendall s @xmath0 just to the top @xmath7 elements of two ranked lists ( with no ties ) .",
    "exchanges partially or completely outside the top @xmath7 elements obtain different weights .    finally , the recent quoted work of yilmaz , aslam and robertson  @xcite on ap correlation is the closest to ours in motivation and methodology , albeit targeted at ranked lists with no ties .",
    "we remark that analogous research exists in association with spearman s correlation : iman and conover  @xcite , for example , study the usage of _ savage scores _",
    "@xcite instead of ranks when comparing ranked lists .",
    "savage scores for a ranked list of @xmath3 elements are given by @xmath8 , where @xmath4 is the rank ( starting at one ) of an element .",
    "spearman s correlation applied to savage scores considers more important elements at the top of a ranked list .",
    "recently , webber , moffat and zobel  @xcite have described a similarity measure for _ indefinite rankings_rankings that might have different lengths and contain different elements .",
    "their work has some superficial resemblance with the approach of  @xcite and our work , as it give preeminence to differences at the top of ranked lists , but it is not technically a correlation index , as it is based on measuring overlaps of infinite lists , rather than on exchanges .",
    "thus , the basic condition for a correlation index ( i.e. , that inverting the list one obtains the minimum possible correlation , usually standardized to @xmath9 ) , is not even expressible in their framework .",
    "moreover , their measure , being defined on infinite lists , needs the fundamental assumption that the weight function applied to overlaps must be _ summable _ ; in particular , they make importance decrease exponentially .",
    "as we will discuss in section  [ sec : choosing ] , and verify experimentally in section  [ sec : experiments ] , such a choice is a reasonable framework for very short lists , or when only very first elements are relevant ( e.g. , because one is modeling user behavior ) , but it would completely flatten the results of our correlation index on large examples , depriving it from its discriminatory power , even if the weight function would decrease just quadratically .",
    "a fascinating proposal , entirely orthogonal to the ones we discussed , is the idea of weighting kemeny s distance between permutations proposed by farnoud and milenkovic  @xcite . in this proposal ,",
    "kemeny s distance between two permutations @xmath10 and @xmath11 is characterized as the minimum number of _ adjacent transpositions _",
    "( i.e. , transpositions of the form @xmath12 ) that turn @xmath10 into @xmath11 . at this point",
    ", one can define a _ weight _ associated to each adjacent transposition , and by assigning larger weights to adjacent transpositions with smaller indices one can make differences in the top part of the permutations more important than differences in the bottom part .",
    "the right notion of weighted distance turns out to be the minimum sum of weights of a sequence of adjacent transposition that turn @xmath10 into @xmath11 .",
    "the interesting property of this approach is that avoids the need for a _ ground truth _ ( an intrinsic notion of importance of an element ) , which is necessary , implicitly or explicitly , to weigh an exchange in the approaches of  @xcite and in the one discussed in this paper .",
    "the main drawbacks , presently , are that the weight assignment is not very intuitive ( as it is related to positions , rather than to elements ) and that more work is needed to extend the distance into a proper correlation index in the case of ties .",
    "the need for weighted correlation measures in the case of ranked list has been articulated in detail in previous work . here",
    "we will focus on the case of centrality measures for graphs . consider the graph of english wikipedia , which has about four million nodes and one hundred million arcs . in this graph ,",
    "@xmath13% of the nodes have the same indegree of some other node  for example , more than a half million node has indegree one .",
    "it is clearly mandatory , when computing the correlation of other scores with indegree , that ties are taken into consideration in a systematic way ( e.g. , not broken arbitrarily ) .",
    "we will consider four other commonly used scores based on the adjacency matrix @xmath14 of the wikipedia graph .",
    "one is pagerank  @xcite , which is defined by @xmath15 where @xmath16 is a _ damping factor _ and @xmath17 is a stochasticization of @xmath14 : every row not entirely made of zeroes is divided by its sum , so to have @xmath18 norm one .",
    "the other index we consider is katz s  @xcite , which is defined by @xmath19 where @xmath20 is an attenuation factor depending on @xmath21 , the dominant eigenvalue of @xmath14  @xcite . in both cases , we take @xmath22 in the middle of the allowed interval ( using different values does not change the essence of what follows , unless they are extreme ) .",
    "a different kind of score is provided by bavelas s _ closeness_. the closeness of @xmath23 is defined by @xmath24 where @xmath25 denotes the usual graph distance .",
    "note that we have to eliminate nodes at infinite distance to avoid zeroing all scores . by definition",
    "the closeness of a node with indegree zero is zero .",
    "finally , we consider _ harmonic centrality _",
    "@xcite , a modified version of bavelas s closeness designed for directed graphs that are not strongly connected ; the harmonic centrality of @xmath23 is defined by @xmath26    these scores provide an interesting mix : indegree is an obvious baseline , and entirely local .",
    "pagerank and katz are similar in their definition , but the normalization applied to @xmath14 makes the scores quite different ( at least in theory )",
    ". finally , closeness and harmonic centrality are of a completely different nature , having no connection with dominant eigenvectors or markov chains .",
    "our first empirical observation is that , looking just at the very top pages of wikipedia ( table  [ tab : topwiki ] ; entries in boldface are unique to the list they belong to , here and in the following ) , we perceive these scores as almost identical , except for closeness , which displays almost random values . the latter behavior is a known phenomenon : nodes that are almost isolated obtain a very high closeness score ( this is why harmonic centrality was devised ) .",
    "we note also that harmonic centrality has a slightly different slant , as it is the only ranking including latin , europe , russia and the catholic church in the top @xmath27 .",
    "the problem is that these facts are not reflected in any way in the values of kendall s @xmath0 shown in table  [ tab : kendall ] . if we exclude closeness , with the exception of the correlation between indegree and katz , all other correlation value fail to surpass the @xmath28 threshold , usually considered the threshold for considering two rankings equivalent  @xcite",
    "actually , they are below the threshold @xmath29 , under which we are supposed to see considerable changes .",
    "the correlation of closeness with harmonic centrality , moreover , is even more pathological : it is the _",
    "largest _ correlation .",
    "an obvious observation is that , maybe , the score is lowered by a large discordance in the rest of the rankings .",
    "table  [ tab : topscientist ] tries to verify this intuition by listing the top pages that are associated with the wordnet category `` scientist '' in the yago2 ontology data  @xcite . these pages have considerably lower score ( their rank is below 300 ) , yet the first three rankings are almost identical .",
    "harmonic centrality is still slightly different ( linnaeus is absent , and actually ranks @xmath30 ) , which tells us that the kendall s @xmath0 is not giving completely unreasonable data .",
    "nonetheless , closeness continues to provide apparently random results .",
    "we have actually to delve deep into wikipedia , beyond rank 100000 using the category `` cocktail '' to see that , finally , things settle down ( table  [ tab : topcocktail ] ) . while closeness still displays a few quirks ,",
    "the rankings start to stabilize .    to understand what happens in the very low - rank region , in table  [ tab : kendall2 ] we provide kendall s @xmath0 as in table  [ tab : kendall ] , but _ restricting the computation to nodes of indegree 1 and 2_. as it is immediately evident , after stabilization the low - rank region is fraught with noise and all correlation values drop significantly .",
    "the very high correlation between closeness and harmonic centrality is , actually , not strange : on the nodes reachable from giant connected component of our wikipedia snapshot ( @xmath31% of the nodes ) they agree almost exactly , as closeness is the reciprocal of a denormalized _ arithmetic _ mean , whereas harmonic centrality is the reciprocal of a denormalized _ harmonic _ mean  @xcite . even if the remaining @xmath32% of the nodes is completely out of place , making closeness useless , kendall s @xmath0 tells us that it should be interchangeable with harmonic centrality .",
    "at the same time , kendall s @xmath0 tells us that indegree is very different from pagerank , which again goes completely against our empirical evidence .    in the rest of the paper",
    ", we will try to approach in a systematic manner these problems by defining a new weighted correlation index for scores with ties .",
    ".[tab : topwiki]top @xmath27 pages of the english version of wikipedia following five different centrality measures . [ cols= \" <",
    ", < , < , < , < \" , ]      it is now time to examine the mysteriously high @xmath33 between pagerank and closeness we found in all our graphs .",
    "when we first computed our correlation tables , we were puzzled by its value .",
    "the phenomenon is interesting for three reasons : first , it has never been reported  using standard , unweighted indices this correlation is simply undetectable ; second , it was known for techniques based on singular vectors  @xcite ; third , we know _ exactly _ the cause of this correlation , because the only real difference between harmonic and closeness centrality is the score assigned to nodes unreachable from the giant component .",
    "we thus expect to discover an unsuspected correlation between the way pagerank and closeness rank these nodes .",
    "ranks of components unreachable from the giant component of the wikipedia graph . ]    to have a visual understanding of what is happening , we created figure  [ fig : wikipediaunreach ] , [ fig : hollywoodunreach ] and  [ fig : ccunreach ] in the following way : first , we isolated the nodes that are unreachable from the giant component ( in the case of hollywood , which is undirected , these nodes form separate components ) , omitting nodes which have indegree zero , modulo loops ( as all measures give the lowest score to such nodes ) ; then , we sorted the nodes in order of decreasing closeness rank , and plotted for each node its rank following the other measures ( we average ranks on block of nodes so to contain the number of points in the plots ) .",
    "a point of high abscissa in the figures implies a high rank .",
    "all three pictures show clearly that _ pagerank assigns a preposterously high rank to to nodes belonging to components that are unreachable from the giant component_. this behavior is actually related to pagerank s _ insensitivity to size _ : for instance , in a graph made of two components , one of which is a 3-clique and the other a @xmath7-clique , the pagerank score of all nodes is @xmath34 , independently of @xmath7 .",
    "this explains why small dense components end up being so highly ranked .",
    "the same phenomenon is at work when the community around lloyd kaufman s production company ( very small and very dense ) is attributed such a great importance that its elements make their way to the very top ranks ( even if kaufman himself has indegree rank 219 and debbie rochon 1790 ) .",
    "we remark that the gap in rank is lower in the case of wikipedia , but this is fully in concordance with the higher baseline value of kendall s @xmath0 .",
    "in this paper , motivated by the need to understand similarity between score vectors , such as those generated by centrality measures on large graphs , we have defined a weighted version of kendall s @xmath0 starting from its 1945 definition for scores with ties .",
    "we have developed the mathematical properties of our generalization following a mathematical similarity with internal products , and showing that for a wide range of weighting schemes our new measure behaves as expected , providing a correlation index between -1 and 1 , and hitting boundaries only for opposite or equivalent scores .",
    "we have then proposed families of weighting schemes that are intuitively appealing , and showed that they can be computed in time @xmath2 using a generalization of knight s algorithm , which makes them suitable for large - scale applications .",
    "the fact that the main cost of the algorithm is a modified stable sort makes it possible to apply standard techniques to run the algorithm exploiting multicore parallelism , or in distributed environment such as mapreduce  @xcite . the algorithm can be also used to compute ap correlation  @xcite .    in search for a confirmation of our mathematical intuition",
    ", we have then applied our measure of choice @xmath33 ( which uses additive hyperbolic weights ) to diverse graph such as wikipedia , the hollywood co - starship graph and a large host graph , finding that , contrarily to kendall s @xmath0 , @xmath33 provides results that are consistent with an anecdotal examination of lists of top elements .",
    "our measure was also able to discover a previously unnoticed correlation between pagerank and closeness on small components that are unreachable from the giant component , providing a quantifiable account of the strong bias of pagerank towards small - sized dense communities .",
    "this bias might well be the cause of the repeatedly assessed better performance of indegree w.r.t .",
    "pagerank in ranking documents  @xcite , as in all our experiments the @xmath33 between pagerank and indegree is above @xmath28 .",
    "a generalization similar to the one described in this paper can be also applied to _",
    "kruskal s @xmath35 _ , which in the notation of section  [ sec : computing ] is just @xmath36 .",
    "the problem with @xmath35 is that the ranking of ties is only implicit ( they are simply not counted ) .",
    "thus , the value of @xmath37 on tied pairs does not appear at all in the above formula .",
    "this `` forgetful '' behavior can lead to unnatural results , and suggests the kendall s @xmath0 is a better candidate for this approach .",
    "we remark that an interesting application of additive hyperbolic weighting is that of measuring the correlation between top @xmath7 lists . by assuming that the rank function @xmath38 returns @xmath39 after rank @xmath7",
    ", we obtain a correlation index that weighs zero pairs outside the top @xmath7 , weights only `` by one side '' pairs with just one element outside the top @xmath7 , and weights fully pairs whose elements are within the top @xmath7 .",
    "formula  ( [ eq : symm ] ) could provide then in principle a finer assessment than , for instance , the modified kendall s @xmath0 proposed in  @xcite , as the position of each element inside the list , beside the fact that it appears in the top @xmath7 or not , would be a source of weight .",
    "we leave the analysis of such a correlation measure for future work .",
    "robert meusel , sebastiano vigna , oliver lehmberg , and christian bizer .",
    "graph structure in the web  revisited , or a trick of the heavy tail . in _ www14 companion _ , pages 427432 .",
    "international world wide web conferences steering committee , 2014 .",
    "marc najork , hugo zaragoza , and michael  j. taylor . on the web",
    ": how does it compare ?",
    "in wessel kraaij , arjen  p. de  vries , charles l.  a. clarke , norbert fuhr , and noriko kando , editors , _ sigir 2007 : proceedings of the 30th annual international acm sigir conference on research and development in information retrieval , amsterdam , the netherlands , july 23 - 27 , 2007 _ , pages 471478 .",
    "acm , 2007 .",
    "lawrence page , sergey brin , rajeev motwani , and terry winograd . the pagerank citation ranking : bringing order to the web . technical report sidl - wp-1999 - 0120 , stanford digital library technologies project , stanford university , 1998 .",
    "ellen  m. voorhees .",
    "evaluation by highly relevant documents . in _ proceedings of the 24th annual international acm sigir conference on research and development in information retrieval _",
    ", pages 7482 .",
    "acm , 2001 .",
    "emine yilmaz , javed  a. aslam , and stephen robertson .",
    "a new rank correlation coefficient for information retrieval . in _ proceedings of the 31st annual international acm sigir conference on research and development in information retrieval _ , pages 587594 .",
    "acm , 2008 ."
  ],
  "abstract_text": [
    "<S> understanding the correlation between two different scores for the same set of items is a common problem in graph analysis and information retrieval . the most commonly used statistics that quantifies this correlation is kendall s @xmath0 ; however , the standard definition fails to capture that discordances between items with high rank are more important than those between items with low rank . </S>",
    "<S> recently , a new measure of correlation based on  _ average precision _ has been proposed to solve this problem , but like many alternative proposals in the literature it assumes that there are _ no ties _ in the scores . </S>",
    "<S> this is a major deficiency in a number of contexts , and in particular while comparing centrality scores on large graphs , as the obvious baseline , indegree , has a very large number of ties in social networks and web graphs . </S>",
    "<S> we propose to extend kendall s definition in a natural way to take into account weights in the presence of ties . </S>",
    "<S> we prove a number of interesting mathematical properties of our generalization and describe an @xmath1 algorithm for its computation . </S>",
    "<S> we also validate the usefulness of our weighted measure of correlation using experimental data on social networks and web graphs .    </S>",
    "<S> = 10000 = 10000 </S>"
  ]
}