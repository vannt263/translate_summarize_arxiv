{
  "article_text": [
    "the structure of large - scale communication networks , in particular that of the internet , has carried much interest .",
    "the internet is a living example of a large , self organized , many - body complex system .",
    "understanding the processes that shape its topology would provide tools for engineering its future .",
    "the internet is composed of multiple autonomous systems ( ass ) , which are contracted by different economic agreements .",
    "these agreements dictate the routing pathways among the ass . with some simplifications",
    ", we can represent the resulting network as a graph , where two nodes ( ass ) are connected by a link if traffic is allowed to traverse through them .",
    "the statistical properties of this complex graph , such as the degree distribution , clustering properties etc . , have been extensively investigated @xcite .",
    "however , such findings per se lack the ability to either predict the future evolution of the internet nor to provide tools for shaping its development .",
    "most models , notably `` preferential attachment '' @xcite , emulate the network evolution by probabilistic rules and recover some of the statistical aspects of the network . however , they fail to account for many other features of the network @xcite , as they treat the ass as passive elements rather than economic , profit - maximizing entities .",
    "indeed , in this work we examine some findings that seem to contradict the predictions of such models but are explained by our model .",
    "game theory is by now a widely used doctrine in network theory and computer science in general .",
    "it describes the behavior of interacting rational agents and the resulting equilibria , and it is one of the main tools of the trade in estimating the performance of distributed algorithms @xcite . in the context of communication networks ,",
    "game theory has been applied extensively to fundamental control tasks such as bandwidth allocation @xcite , routing @xcite and flow control @xcite .",
    "it was also proven fruitful in other networking domains , such as network security @xcite and wireless network design @xcite .",
    "recently , there has been a surge of studies exploring networks created by rational players , where the costs and utility of each player depend on the network structure .",
    "some studies emphasized the context of wireless networks @xcite whereas other discussed the inter - as topology @xcite .",
    "these works fall within the realm of _ network formation games _ @xcite .",
    "the focus of those studies has been to detail some specific models , and then investigate the equilibria s properties , e.g. , establishing their existence and obtaining bounds on the `` price of anarchy '' and  price of stability  . the latter bound ( from above and below , correspondingly ) the social cost deterioration at an equilibrium compared with a ( socially ) optimal solution .",
    "taking a different approach,@xcite present an analytically - intractable model , hence simulations are used in order to obtain statistical characteristics of the resulting topology .",
    "nonetheless , most of these studies assume that the players are identical , whereas the internet is composed of many types of ass , such as minor isps , cdns , tier-1 ass etc .",
    "only a few studies have considered the effects of heterogeneity on the network structure . addressing social networks",
    ", @xcite describes a network formation game in which the link costs are heterogeneous and the benefit depends only on a player s nearest neighbors ( i.e. , no spillovers ) . in @xcite ,",
    "the authors discuss directed networks formation , where the information ( or utility ) flows in one direction along a link ; the equilibria s existence properties of the model s extension to heterogeneous players was discussed in @xcite .    with very few exceptions , e.g. , @xcite ,",
    "the vast majority of studies on the application of game theory to networks , and network formation games in particular , focus on static properties .",
    "however , it is not clear that the internet , nor the economic relations between ass , have reached an equilibrium . in fact , dynamic inspection of the inter - as network presents evidence that the system may in fact be far from equilibrium . indeed ,",
    "new ass emergence , other quit business or merge with other ass , and new contracts are signed , often employing new business terms .",
    "hence , a _ dynamic _ study of inter - as network formation games is called for .",
    "the aim of this study is to address the above two major challenges , namely _ heterogeneity _ and _ dynamicity_. specifically , we establish an analytically - tractable model , which explicitly accounts for the heterogeneity of players .",
    "then , we investigate both its static properties as well as its dynamic evolution .",
    "we model the inter - as connectivity as a network formation game with _ heterogeneous _ players that may share costs by monetary transfers .",
    "we account for the inherent bilateral nature of the agreements between players , by noting that the establishment of a link requires the agreement of both nodes at its ends , while removing a link can be done unilaterally .",
    "the main contributions of our study are as follows :    * we evaluate static properties of the considered game , such as the prices of anarchy and stability and characterize additional properties of the equilibrium topologies .",
    "in particular , the optimal stable topology and examples of worst stable topologies are expressed explicitly .",
    "* we discuss the dynamic evolution of the inter - as network , calculate convergence rates and basins of attractions for the different final states .",
    "our findings provide useful insight towards incentive design schemes for achieving optimal configurations .",
    "our model predicts the existence of a _ settlement - free _ clique , and that most of the other contracts between players include monetary transfers .    game theoretic analysis",
    "is dominantly employed as a `` toy model '' for contemplating about real - world phenomena .",
    "it is rarely confronted with real - world data , and to the best of our knowledge , it was never done in the context of inter - as network formation games . in this study",
    "we go a step further from traditional formal analysis , and we do consider real inter - as topology data .",
    "a preliminary data analysis , which supports our findings , appears in the appendix .",
    "the paper is organized as follows . in the next section ,",
    "we describe our model .",
    "we discuss two variants , corresponding to whether utility transfers ( e.g. , monetary transfers ) are allowed or not . we present static results in section 3 , followed by dynamic analysis in section 4 .",
    "section 5 addresses the case of permissible monetary transfers , both in the static and dynamic aspects .",
    "finally , conclusions are presented in section 6 . full proofs and some technical details",
    "are omitted from this version and can be found in the appendix .",
    "our model is inspired by the inter - as interconnection network , which is formed by drawing a link between every two ass that mutually agree to allow bidirectional communication .",
    "the utility of each as , or player , depends on the resulting graph s connectivity .",
    "we can imagine this as a game in which a player s strategy is defined by the links it would like to form , and , if permissible , the price it will be willing to pay for each . in order to introduce heterogeneity , we consider two types of players , namely _ major league _ ( or t__ype - a _ _ ) players , and _ minor league _ ( or _ type - b _ ) players .",
    "the former may represent main network hubs ( e.g. , in the context of the internet , level-3 providers ) , while the latter may represent local isps .",
    "the set of type - a ( type b ) players is denoted by @xmath0 ( @xmath1 ) . a link connecting node @xmath2 to node @xmath3 is denoted as either @xmath4 or @xmath5 .",
    "the total number of players is @xmath6 , and we always assume @xmath7 .",
    "the _ shortest distance _ between nodes @xmath2 and @xmath3 is the minimal number of hops along a path connecting them and is denoted by @xmath8 . finally , the degree of node @xmath2 is denoted by @xmath9 .",
    "the utility of every player depends on the aggregate distance from all other players .",
    "most of the previous studies assume that each player has a specific traffic requirement for every other player .",
    "this results in a huge parameter space .",
    "however , it is reasonable to assume that an as does not have exact flow perquisites to every individual as in the network , but would rather group similar ass together according to their importance .",
    "hence , a player would have a strong incentive to maintain a good , fast connection to the major information and content hubs , but would relax its requirements for minor ass .",
    "accordingly , we represent the connection quality between players as their graph distance , since many properties depend on this distance , for example delays and bandwidth usage . as the connection to major players",
    "is much more important , we add a weight factor @xmath10 to the cost function in the corresponding distance term .",
    "the last contribution to the cost is the link price , @xmath11 this term represents factors such as the links maintenance costs , bandwidth allocation costs etc .",
    "the structure of our cost function extends the work of @xcite and @xcite .",
    "this model was studied extensively , including numerous extenstions , e.g. , @xcite . here , we focus on the hetereogenous dynamic case .",
    "we allow different types of players to incur different link costs , @xmath12 .",
    "for example , major player have greater financial resources , reducing the effective link cost .",
    "they have incorporate advanced infrastructure that allows them to cope successfully with the increased traffic .",
    "alternatively , players may evaluate the relative player s importance , which is expressed by the factor @xmath10 , differently .",
    "for example , a search engine may spend significant resources in order to maintain a fast connection to a content provider , in order to be able to index its content efficiently .",
    "a domestic isp or a university hub will care less about the connection quality . as it will turn out , the relevant quantity is @xmath13 , and therefore it is sufficient to allow a variation in one parameter only , which for simplicity will assume it is the link cost @xmath11 formally , the ( dis-)utility of players is represented as follows .",
    "the cost function,@xmath14 , of node @xmath2 , is defined as:[cost - definition ] @xmath15    where @xmath16 represents the relative importance of class a nodes over class b nodes .",
    "then , the _ social cost _ is defined as @xmath17    set @xmath18 .",
    "we assume @xmath19 the optimal ( minimal ) social cost is denoted as @xmath20 .",
    "the change in cost of player @xmath2 as a result of the addition of link @xmath21 is denoted by @xmath22 .",
    "we will sometimes use the abbreviation @xmath23 .",
    "when @xmath24 , we will use the common notation @xmath25 .",
    "players may establish links between them if they consider this will reduce their costs .",
    "we take into consideration the agreement s bilateral nature , by noting that the establishment of a link requires the agreement of both nodes at its ends , while removing a link can be done unilaterally .",
    "this is known as a _ pairwise - stable _ equilibrium@xcite .",
    "the players strategies are _ pairwise - stable _ if for all @xmath26 the following hold :    \\a ) if @xmath27 , then @xmath28 ;    \\b ) if @xmath29 , then either @xmath30 or @xmath31 .",
    "the corresponding graph is referred to as a _ stabilizable _ graph .      in the above formulation",
    ", we have implicitly assumed that players may not transfer utilities",
    ". however , often players are able to do so , in particular via monetary transfers .",
    "we therefore consider also an extended model that incorporates such possibility .",
    "specifically , the extended model allows for a monetary transaction in which player @xmath2 pays player @xmath3 some amount @xmath32 iff the link @xmath33 is established .",
    "player @xmath3 sets some minimal price @xmath34 and if @xmath35 the link is formed .",
    "the corresponding change to the cost function is as follows .",
    "[ monetary cost definition]the cost function of player @xmath2 when monetary transfers are allowed is @xmath36 .",
    "note that the social cost remains the same as in def .",
    "[ monetary cost definition ] as monetary transfers are canceled by summation .",
    "monetary transfers allow the sharing of costs . without transfers ,",
    "a link will be established only if _ both _ parties , @xmath2 and @xmath3 , reduce their costs , @xmath37 and @xmath38 .",
    "consider , for example , a configuration where @xmath39 and @xmath31 .",
    "it may be beneficial for player @xmath2 to offer a lump sum @xmath32 to player @xmath3 if the latter agrees to establish @xmath4 .",
    "this will be feasible only if the cost function of both players is reduced .",
    "it immediately follows that if @xmath40 then there is a value @xmath32 such that this condition is met .",
    "hence , it is beneficial for both players to establish a link between them . in a game",
    "theoretic formalism , if the _ core _ of the two players game is non - empty , then they may pick a value out of this set as the transfer amount . likewise ,",
    "if the core is empty , or @xmath41 , then the best response of at least one of the players is to remove the link , and the other player has no incentive to offer a payment high enough to change the its decision .",
    "formally :    in the remainder of the paper , whenever monetary transfers are feasible , we will state it explicitly , otherwise the basic model ( without transfers ) is assumed .",
    "in this section we discuss the properties of stable equilibria . specifically , we first establish that , under certain conditions , the major players group together in a clique ( section [ sub : the - type - a - clique ] ) .",
    "we then describe a few topological characteristics of all equilibria ( section [ sub : pair - wise - equilibria ] ) .    as a metric for the quality of the solution",
    "we apply the commonly used measure of the social cost , which is the sum of individual costs .",
    "we evaluate the _ price of anarchy _ , which is the ratio between the social cost at the worst stable solution and its value at the optimal solution , and the _ price of stability _ , which is the ratio between the social cost at the best stable solution and its value at the optimal solution ( section [ sub : poa and pos ] ) .",
    "our goal is understanding the resulting topology when we assume strategic players and myopic dynamics .",
    "obviously , if the link s cost is extremely low , every player would establish links with all other players .",
    "the resulting graph will be a clique . as the link s cost increase , it becomes worthwhile to form direct links only with major players . in this case",
    ", only the major players subgraph is a clique .",
    "the first observation leads to the following result .",
    "if two nodes are at a distance @xmath43 of each other , then there is a path with @xmath44 nodes connecting them . by establishing a link with cost @xmath45",
    ", we are shortening the distance between the end node to @xmath46 nodes that lay on the other side of the line .",
    "the average reduction in distance is also @xmath47 , so by comparing @xmath48 we obtain a bound on @xmath44 , as follows :    [ lem : the - longest - distance]the longest distance between any node @xmath2 and node @xmath49 is bounded by @xmath50 .",
    "the longest distance between nodes @xmath51 is bounded by @xmath52 .",
    "in addition , if @xmath53 then there is a link between every two type - a nodes .",
    "lemma [ lem : the - longest - distance ] indicates that if @xmath54 then the type @xmath10 nodes will form a clique ( the `` nucleolus '' of the network ) .",
    "the type @xmath55 nodes form structures that are connected to the type @xmath10 clique ( the network nucleolus ) .",
    "these structures are not necessarily trees and will not necessarily connect to a single point of the type - a clique only .",
    "this is indeed a very realistic scenario , found in many configurations . in the appendix",
    "we compare this result to actual data on the inter - as interconnection topology .    if @xmath56 then the type - a clique is no longer stable .",
    "this setting does not correspond to the observed nature of the inter - as topology and we shall focus in all the following sections on the case @xmath54 .",
    "nevertheless , in the appendix we treat the case @xmath56 explicitly .      here",
    "we describe common properties of all pair - wise equilibria .",
    "we start by noting that , unlike the findings of several other studies @xcite , in our model , at equilibrium , the type - b nodes are not necessarily organized in trees .",
    "this is shown in the next example .",
    "non optimal networks .",
    "the type - a clique is in blue squares , the type - b players are in red circles .",
    "a ) the network described in example [ example ] .",
    "b ) [ fig : a - poor - equilibrium]a poor equilibrium , as described in the appendix . ]    [ example]assume for simplicity that @xmath57 . consider a line of length @xmath58 of type b nodes , @xmath59 such that @xmath60 or equivalently @xmath61 .",
    "in addition , the links @xmath62 and @xmath63 exist , where @xmath64 , i.e. , the line is connected at both ends to different nodes of the type - a clique , as depicted in fig [ fig : loop example ] . in @xcite we show that this is a stabilizable graph .",
    "a stable network can not have two `` heavy '' trees , `` heavy '' here means that there is a deep sub - tree with many nodes , as it would be beneficial to make a shortcut between the two sub - trees(details appear in the appendix ) .",
    "in other words , trees must be shallow and small .",
    "this means that , while there are many equilibria , in all of them nodes can not be too far apart , i.e. , a small - world property .",
    "furthermore , the trees formed are shallow and are not composed of many nodes .      as there are many possible link - stable equilibria ,",
    "a discussion of the price of anarchy is in place .",
    "first , we explicitly find the optimal configuration . although we establish a general expression for this configuration , it is worthy to also consider the limiting case of a large network , @xmath65 .",
    "moreover , typically , the number of major league players is much smaller than the other players , hence we also consider the limit @xmath66 .",
    "[ fig : the - optimal - state - monetary transfers]the optimal solution , as described in lemma [ lem : optimal solution ] . if @xmath67 the optimal solution is described by a ) , otherwise by b ) .",
    "when monetary transfers ( section [ sec : monetary - transfers ] ) are allowed , both configurations are stabilizable .",
    "otherwise , only a ) is stabilizable . ]",
    "[ lem : optimal solution]consider the network where the type @xmath55 nodes are connected to a specific node @xmath64 of the type - a clique .",
    "the social cost in this stabilizable network ( fig .",
    "[ fig : the - optimal - solution](a ) ) is @xmath68    furthermore , if @xmath65 then , omitting linear terms in @xmath69 , @xmath70 moreover , if @xmath71 then this network structure is socially optimal and the price of stability is @xmath72 , otherwise the price of stability is @xmath73      this structure is immune to removal of links as a disconnection of a @xmath74 link will disconnect the type - b node , and the type - a clique is stable ( lemma [ lem : the - longest - distance ] ) . for every player @xmath3 and @xmath75",
    ", any additional link @xmath4 will result in @xmath76 since the link only reduces the distance @xmath8 from 2 to 1 .",
    "hence , player @xmath3 has no incentive to accept this link and no additional links will be formed .",
    "this concludes the stability proof .",
    "we now turn to discuss the optimality of this network structure .",
    "first , consider a set of type - a players .",
    "every link reduce the distance of at least two nodes by at least one , hence the social cost change by introducing a link is negative , since @xmath77 . therefore , in any optimal configuration the type - a nodes form a complete graph .",
    "the other terms in the social cost are due to the inter - connectivity of type - b nodes and the type - a to type - b connections . as @xmath78 for all @xmath75",
    "the cost due to link s prices is minimal .",
    "@xmath79 and the distance cost to node @xmath3 ( of type a ) is minimal as well . for all other nodes @xmath80 , @xmath81 .",
    "assume this configuration is not optimal .",
    "then there is a _ topologically different _ configuration in which there exists an additional node @xmath82 for which @xmath83 for some @xmath75 .",
    "hence , there s an additional link @xmath4 .",
    "the social cost change is @xmath84 .",
    "therefore , if @xmath71 this link reduces the social cost .",
    "on the other hand , if @xmath85 every link connecting a type - b player to a type - a player improves the social cost , although the previous discussion show these link are unstable . in this case , the optimal configuration is where all type - b nodes are connected to all the type - a players , but there are no links linking type - b players .",
    "this concludes the optimality proof .",
    "the first expression is due to the cost of @xmath87 clique s links and the second is due to distance ( = 1 ) between each type - a node .",
    "the distance of each type b nodes to all the other nodes is exactly 2 , except to node @xmath3 , to which its distance is 1 .",
    "therefore the social cost due to type b nodes is @xmath88    the terms on the left hand side are due to ( from left to right ) the distance between nodes of type b , the cost of each type - b s single link , the cost of type - b nodes due to the distance ( = 2 ) to all member of the type - a clique bar @xmath3 and the cost of type @xmath55 nodes due to the distance ( = 1 ) to node @xmath3 . the social cost is @xmath89          next , we evaluate the price of anarchy . the social cost in the stabilizable topology presented in fig [ fig : a - poor - equilibrium ] , composed of a type - a clique and long lines of type - b players , is calculated in @xcite .",
    "the ratio between this value and the optimal social cost constitutes a lower bound on the price of anarchy .",
    "an upper bound is obtained by examining the social cost in any topology that satisfies lemma [ lem : the - longest - distance ] .",
    "the result in the large network limit is presented by the following proposition .",
    "the internet is a rapidly evolving network .",
    "in fact , it may very well be that it would never reach an equilibrium as ass emerge , merge , and draft new contracts among them .",
    "therefore , a dynamic analysis is a necessity .",
    "we first define the dynamic rules .",
    "then , we analyze the basin of attractions of different states , indicating which final configurations are possible and what their likelihood is .",
    "we shall establish that reasonable dynamics converge to _ just a few _ equilibria .",
    "lastly , we investigate the speed of convergence , and show that convergence time is _ linear _ in the number of players .      at each point in time , the network is composed of a subset @xmath95 of players that already joined the game .",
    "the cost function is calculated with respect to the set of players that are present ( including those that are joining ) at the considered time .",
    "the game takes place at specific times , or _ turns _",
    ", where at each turn only a single player is allowed to remove or initiate the formation of links .",
    "we split each turn into _ acts _ , at each of which a player either forms or removes a single link .",
    "a player s turn is over when it has no incentive to perform additional acts .",
    "dynamic rule # 1 : in player @xmath2 s turn it may choose to act @xmath96 times . in each act , it may remove a link @xmath97 or , if player @xmath3 agrees , it may establish the link @xmath4 .",
    "player @xmath3 would agree to establish @xmath4 iff @xmath98 .",
    "the last part of the definition states that , during player s @xmath2 turn , all the other players will act in a greedy , rather than strategic , manner . for example , although it may be that player @xmath3 prefers that a link @xmath99 would be established for some @xmath100 , if we adopt dynamic rule # 1 it will accept the establishment of the less favorable link @xmath101 in other words , in a player s turn , it has the advantage of initiation and the other players react to its offers . this is a reasonable setting when players can not fully predict other players moves and offers , due to incomplete information @xcite such as the unknown cost structure of other players .",
    "another scenario that complies with this setting is when the system evolves rapidly and players can not estimate the condition and actions of other players .",
    "the next two rules consider the ratio of the time scale between performing the strategic plan and evaluation of costs .",
    "for example , can a player remove some links , disconnect itself from the graph , and then pose a credible threat ? or must it stay connected ? does renegotiating take place on the same time scale as the cost evaluation or on a much shorter one ?",
    "the following rules address the two limits .",
    "dynamic rule # 2a : let the set of links at the current act @xmath102 be denoted as @xmath103 .",
    "a link @xmath4 will be added if @xmath2 asks to form this link and @xmath104 .",
    "in addition , any link @xmath4 can be removed in act @xmath105        the difference between the last two dynamic rules is that , according to dynamic rule # 2a , a player may perform a strategic plan in which the first few steps will increase its cost , as long as when the plan is completed its cost will be reduced . on the other hand , according to dynamic rule # 2b , its cost must be reduced _ at each act _ , hence such `` grand plan '' is not possible .",
    "note that we do not need to discuss explicitly disconnections of several links , as these can be done unilaterally and hence iteratively.finally , the following lemma will be useful in the next section .",
    "after mapping the possible dynamics , we are at a position to consider the different equilibria s basins of attraction .",
    "specifically , we shall establish that , in most settings , the system converges to the optimal network , and if not , then the network s social cost is asymptotically equal to the optimal social cost .",
    "the main reason behind this result is the observation that a disconnected player has an immense bargaining power , and may force its optimal choice . as the highest connected node is usually the optimal communication partner for other nodes , new arrivals may force links between them and this node , forming a star - like structure",
    ". there may be few star centers in the graphs , but as one emerges from the other , the distance between them is small , yielding an optimal ( or almost optimal ) cost .",
    "we outline the main ideas of the proof .",
    "the first few type - b players , in the absence of a type - a player , will form a star .",
    "the star center can be considered as a new type of player , with an intermediate importance , as presented in fig .",
    "[ fig : credible threat corr . ] .",
    "we monitor the network state at any turn and show that the minor players are organized in two stars , one centered about a minor player and one centered about a major player ( fig .",
    "[ fig : credible threat corr.](a ) ) . some cross links may be present ( fig.[fig : cross - tiers ] ) . by increasing its client base , the incentive of a major player to establish a direct link with the star center is increased .",
    "this , in turn , increases the attractiveness of the star s center in the eyes of minor players , creating a positive feedback loop .",
    "additional links connecting it to all the major league players will be established , ending up with the star s center transformation into a member of the type - a clique . on the other hand ,",
    "if the star center is not attractive enough , then minor players may disconnect from it and establish direct links with the type - a clique , thus reducing its importance and establishing a negative feedback loop .",
    "the star will become empty , and the star s center @xmath112 will be become a stub of a major player , like every other type - b player .",
    "the latter is the optimal configuration , according to proposition [ lem : optimal solution ] .",
    "we analyze the optimal choice of the active player , and establish that the optimal action of a minor player depends on the number of players in each structure and on the number of links between the major players and the minor players star center @xmath112 .",
    "the latter figure depends , in turn , on the number of players in the star .",
    "we map this to a two dimensional dynamical system and inspect its stable points and basins of attraction of the aforementioned configurations .",
    "\\c ) in all of the above , if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps .",
    "otherwise , if players play in a uniformly random order , the probability the system has not converged by turn @xmath116 decays exponentially with @xmath116 .",
    "assume @xmath117 .",
    "denote the first type - a player that establish a link with a type - b player as @xmath58 .",
    "first , we show that the network structure is composed of a type - a ( possibly empty ) clique , a set of type - b players @xmath118 linked to player @xmath112 , and an additional ( possibly empty ) set of type - b players @xmath44 connected to the type - a player @xmath58 .",
    "[ fig : credible threat corr.](a ) for an illustration .",
    "in addition , there is a set @xmath119 type - a nodes that are connected to node @xmath112 , the star center .",
    "after we establish this , we show that the system can be mapped to a two dimensional dynamical system .",
    "then , we evaluate the social cost at each equilibria , and calculate the convergence rate .",
    "we assume @xmath120 and discuss the case @xmath121 in the appendix .",
    "a ) the network structures described in theorem [ cor : credible threat part 3 ] .",
    "the type - a clique contains @xmath122 nodes ( squares ) , and there are @xmath123 nodes in the star ( red circles ) .",
    "there are @xmath124 nodes that are connected directly to node @xmath58 ( yellow circles ) .",
    "the number of type - a nodes that are connected to node 1 , the star center , is @xmath125 ( green squares ) .",
    "b ) the phase state of theorem [ cor : credible threat part 3 ] .",
    "the dotted green line is the @xmath126 increase / decrease nullcline .",
    "the dotted ( dashed ) red line is the nullcline for the increase / decrease in @xmath127 when monetary transfers are forbidden ( allowed ) .",
    "( proposition [ prop : monetary - dyanmics-1 ] ) .",
    "[ fig : the - phase - state ] ]      \\1 .",
    "@xmath130 : since @xmath131 all links to the other type - a nodes will be established ( lemma [ lem : optimal solution ] ) or maintained , if @xmath132 is already connected to the network . clearly , the optimal link in @xmath132 s concern is the link with star center @xmath112 . as @xmath93",
    "every minor player will accept a link with a major player even if it reduces its distance only by one .",
    "therefore , the link @xmath133 is formed if the change of cost of the major player @xmath132 , @xmath134 is negative . in this case , the number of type a players connected to the star s center , @xmath127 , will increase by one . if this expression is positive and player @xmath132 is connected to at least another major player ( as otherwise the graph is disconnected ) , the link will be dissolved and @xmath127 will be reduced by one . it is not beneficial for @xmath132 to form an additional link to any type - b player , as they only reduce the distance from a single node by one ( see the discussion in lemma [ lem : optimal solution ] in the appendix ) .",
    "@xmath135 : first , assume that @xmath132 is a newly arrived player , and hence it is disconnected . obviously , in its concern , a link to the star s center , player @xmath112 , is preferred over a link to any other type - b player .",
    "similarly , a link to a type - a player that is linked with the star s center is preferred over a link with a player that maintains no such link .",
    "is positive , and will be established as otherwise the network is disconnected . if the latter expression is negative , @xmath136 will be formed .",
    "the same reasoning as in case 1 shows that no additional links to a type - b player will be formed .",
    "otherwise , if @xmath132 is already connected to the graph , than according to dynamic rule # 2a , @xmath132 may disconnect itself , and apply its optimal policy , increasing or decreasing @xmath139 and @xmath126 .",
    "@xmath140 , the star s center : @xmath132 may not remove any edge connected to a type - b player and render the graph disconnected . on the other hand , it has no interest in removing links to major players . on the contrary , it will try to establish links with the major players , and these will be formed if eq .",
    "[ eq : term1 ] is negative .",
    "an additional link to a minor player connected to @xmath58 will only reduce the distance to it by one and since @xmath141 player @xmath112 would not consider this move worthy .",
    "the dynamical parameters that govern the system dynamics are the number of players in the different sets , @xmath126 , @xmath139 , and @xmath127 .",
    "consider the state of the system after all the players have player once .",
    "using the relations @xmath142 we note the change in @xmath126 depends on @xmath126 and @xmath139 while the change in @xmath127 depends only on @xmath143 we can map this to a 2d dynamical , discrete system with the aforementioned mapping . in fig.[fig : the - phase - state ] the state is mapped to a point in phase space @xmath144 .",
    "the possible states lie on a grid , and during the game the state move by an single unit either along the @xmath112 or @xmath145 axis .",
    "there are only two stable points , corresponding to @xmath146 , which is the optimal solution ( fig .",
    "[ fig : the - optimal - solution](a ) ) , and the state @xmath147 and @xmath148 .",
    "if at a certain time expression [ eq : term1 ] is positive and expression [ eq : term 2 ] is negative ( region 3 in fig.[fig : the - phase - state](b ) ) , the type - b players will prefer to connect to player @xmath112 .",
    "this , in turn , increases the benefit a major player gains by establishing a link with player @xmath149 the greater the set of type - a that have a direct connection with @xmath112 , having @xmath127 members , the more utility a direct link with @xmath112 carries to a minor player .",
    "hence , a positive feedback loop is established .",
    "the end result is that all the players will form a link with @xmath112 . in particular ,",
    "the type - a clique is extended to include the type - b player @xmath112 .",
    "likewise , if the reverse condition applies , a feedback loop will disconnect all links between node @xmath112 to the clique ( except node @xmath58 ) and all type - b players will prefer to establish a direct link with the clique .",
    "the end result in this case is the optimal stable state .",
    "the region that is relevant to the latter domain is region 1 .",
    "however , there is an intermediate range of states , described by region 2 and region 4 , in which the player order may dictate to which one of the previous states the system will converge . for example , starting from a point in region 4 , if the type - a players move first , changing the @xmath127 value , than the dynamics will lead to region 1 , which converge to the optimal solution .",
    "however , if the type - b players move first , then the system will converge to the other equilibrium point .",
    "we now turn to calculate the social cost at the different equilibria . if @xmath148 and @xmath150 , the network topology is composed of a @xmath87 members clique , all connected to the center @xmath112 , that , in turn , has @xmath151 stubs .",
    "the total cost in this configuration is @xmath152    where the costs are , from the left to right : the cost of the type - a clique , the cost of the type - b star s links , the distance cost @xmath153 between the clique and node @xmath112 , the distance @xmath153 cost between the star s members and node @xmath112 , the distance @xmath154 cost between the clique and the star s member , the distance @xmath154 cost between the star s members , and the cost due to major player link s to the start center @xmath112 .",
    "adding all up , we have for the total cost @xmath155    convergence is fast , and as soon as all players have acted three times the system will reach equilibrium . if every player plays at least once in @xmath156 ) turns convergence occurs after @xmath157 turns , otherwise the probability the system did not reach equilibrium by time @xmath116 decays exponentially with @xmath116 according to lemma [ lem : decay time ] ( in the appendix ) .",
    "we now relax our previous assumption @xmath117 .",
    "if @xmath158 and the active player @xmath130 then it will form a link with the star s center according to eq .",
    "[ eq : term1 ] . if @xmath159 it may establish a link @xmath160 with a type a player , which will later be replaced , in @xmath3 s turn , with the link @xmath161 according to the previous discussion . in the appendix",
    "we discuss explicitly the case where @xmath121 and show that in this case , additional links may be formed , e.g. , a link between one of @xmath162s stubs , @xmath163 , and the star s",
    "center @xmath112 , as presented in fig.[fig : cross - tiers ] .",
    "these links only reduce the social cost , and do not change the dynamics , and the system will converge to either one of the aforementioned states . taking the limit @xmath164 and @xmath165 in eq .",
    "[ eq : social cost ] , we get @xmath114 .",
    "this concludes the proof .    additional feasible cross - tiers links , as described in @xcite .",
    "the star players @xmath118 are in red , the set @xmath44 is in yellow .",
    "a ) a link between the star center and @xmath163 .",
    "b ) a cross - tier link @xmath4 where @xmath166 .",
    "c ) a minor player - major player link , @xmath4 where @xmath167 and @xmath168 ]    if the star s center has a principal role in the network , then links connecting it to all the major league players will be established , ending up with the star s center transformation into a member of the type - a clique .",
    "this dynamic process shows how an effectively new major player emerges out of former type - b members in a natural way .",
    "interestingly , theorem [ cor : credible threat part 3 ] also shows that there exists a transient state with a better social cost than the final state .",
    "in fact , in a certain scenario , the transient state is better than the optimal stable state .",
    "so far we have discussed the possibility that a player may perform a strategic plan , implemented by dynamic rule # 2a .",
    "however , if we follow dynamic rule # 2b instead , then a player may not disconnect itself from the graph .",
    "the previous results indicate that it is not worthy to add additional links to the forest of type - b nodes .",
    "therefore , no links will be added except for the initial ones , or , in other words , renegotiation will always fail .",
    "the dynamics will halt as soon as each player has acted once . formally :    [ prop : credible theat part 4]if the game obeys dynamic rules # 1 and # 2b , then the system will converge to a solution in which the total cost is at most @xmath169 furthermore , for @xmath66 , we have @xmath170 moreover , if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps .",
    "otherwise , if players play in a uniformly random order , the probability the system has not converged by turn @xmath116 decays exponentially with @xmath116 .",
    "we discuss the case @xmath171 the extension for @xmath172 appears in the appendix .",
    "the first part of the proof follows the same lines of the previous theorem ( theorem [ cor : credible threat part 3 ] ) .",
    "we claim that at any given turn , the network structure is composed of the same structures as before ( see fig .",
    "[ fig : credible threat corr.](a ) ) . here",
    ", we discuss the scenario where @xmath173 and we address the other possibility , which may give rise to the structures shown in fig . [ fig : cross - tiers ] in the appendix .",
    "we prove by induction .",
    "clearly , at turn one the induction assumption is true .",
    "note that for newly arrived players , are not affected by either dynamic rules # 2a or # 2b .",
    "hence , we only need to discuss the change in policies of existing players .",
    "the only difference from the dynamics described in the theorem [ cor : credible threat part 3 ] is that the a type - b players may not disconnect itself . in this case , as the discussion there indicates the star center @xmath112 will refuse a link with @xmath163 as it only reduce @xmath174 by two .",
    "equivalently , @xmath58 will refuse to establish additional links with @xmath175    in other words , as soon the first batch of type a player arrives , all type - b players will become stagnant , either they become leaves of either node @xmath58 , @xmath139 , or members of the star @xmath126 , according to the the sign of [ eq : term 2 ] at the time they .",
    "the maximal distance between a type - a player and a type b player is @xmath176 .",
    "the maximal value of the type b - type b term is the social cost function is when @xmath177 . in this case , this term contributes @xmath178 to the social cost .",
    "therefore , the social cost is bounded by @xmath179      theorem [ cor : credible threat part 3 ] and proposition [ prop : credible theat part 4 ] shows that the intermediate network structures of the type - b players are not necessarily trees , and additional links among the tier two players may exist , as found in reality .",
    "furthermore , our model predicts that some cross - tier links , although less likely , may be formed as well .",
    "if dynamic rule # 2a is in effect , these structures are only transient , otherwise they might remain permanent .",
    "the dynamical model can be easily generalized to accommodate various constraints .",
    "geographical constraints may limit the service providers of the minor player .",
    "the resulting type - b structures represent different geographical regions .",
    "likewise , in remote locations state legislation may regulate the internet infrastructure . if at some point regulation is relaxed , it can be modeled by new players that suddenly join the game .      in this section",
    "we discuss the properties of stable equilibria .",
    "specifically , we first establish that , under certain conditions , the major players group together in a clique ( section [ sub : the - type - a - clique-1 ] ) .",
    "we then describe a few topological characteristics of all equilibria ( section [ sub : pair - wise - equilibria-1 ] ) .    as a metric for the quality of the solution",
    "we apply the commonly used measure of the social cost , which is the sum of individual costs .",
    "we evaluate the _ price of anarchy _ , which is the ratio between the social cost at the worst stable solution and its value at the optimal solution , and the _ price of stability _ , which is the ratio between the social cost at the best stable solution and its value at the optimal solution ( section [ sub : poa and pos-1 ] )",
    ".      the next lemma will be useful in many instances .",
    "it measures the benefit of connecting the two ends of a long line of players , as presented in [ fig : long line-1 ] . if the line is too long , it is better for both parties at its end to form a link between them .",
    "our goal is understanding the resulting topology when we assume strategic players and myopic dynamics .",
    "obviously , if the link s cost is extremely low , every player would establish links with all other players .",
    "the resulting graph will be a clique . as the link s cost increase , it becomes worthwhile to form direct links only with major players . in this case",
    ", only the major players subgraph is a clique .",
    "the first observation leads to the following result .      in a clique @xmath79 for all @xmath253 .",
    "assume @xmath254 . then by establishing a link @xmath4 the cost of both parties",
    "is reduced , as each party reduces its distance to at least one player , and @xmath255 .",
    "hence we ca nt have @xmath254 .",
    "in fact , we can use the same reasoning to generalize for @xmath256 .",
    "if two nodes are at a distance @xmath43 of each other , then there is a path with @xmath44 nodes connecting them . by establishing a link with cost @xmath45",
    ", we are shortening the distance between the end node to @xmath46 nodes that lay on the other side of the line .",
    "the average reduction in distance is also @xmath47 , so by comparing @xmath48 we obtain a bound on @xmath44 , as follows :    [ lem : the - longest - distance-2]the longest distance between any node @xmath2 and node @xmath49 is bounded by @xmath50 .",
    "the longest distance between nodes @xmath51 is bounded by @xmath52 .",
    "in addition , if @xmath53 then there is a link between every two type - a nodes .",
    "we bound the maximal distance between two nodes by conisdering the cost reduction of establishing a direct link between the two nodes @xmath253 at the perimeter of a length @xmath58 line .",
    "we show that if the line length is @xmath257 then it is beneficial to establish such link .",
    "assume @xmath258 and @xmath75 .",
    "then there exist nodes @xmath259 such that @xmath260 . by adding a link @xmath4 the change in cost of node @xmath2",
    ", @xmath261 is , according to lemma [ lem : shortcut benefit ] , @xmath262 where @xmath263 is the distance after the addition of the link @xmath4 and @xmath264 iff @xmath265 .",
    "therefore , it is of the interest of player @xmath2 to add the link .",
    "in particular , if we do not omit the @xmath269 term and set @xmath237 we get that if @xmath270 the distance between two type - a nodes is smaller than 2 , in other words , they connected by a link .",
    "the latter expression can be recast to the simple form @xmath271 .    recall that if the cost of both parties is reduced ( the change of cost of node @xmath3 is obtained by the change of summation to @xmath272 ) a link connecting them will be formed .",
    "therefore , if @xmath273 then maximal distance between then is @xmath274 as otherwise it would be beneficial for both @xmath253 to establish a link that will reduce their mutual distance to @xmath275 likewise , if @xmath51 then @xmath276 using an analogous reasoning .",
    "if @xmath167 and @xmath49 then it ll be worthy for player @xmath2 to establish the link only if @xmath277 . in this case",
    "it ll be also worthy for player @xmath3 to establish the link since @xmath278 and the link will be established .",
    "notice however that if @xmath279 then although it is worthy for player @xmath3 to establish the link , it is is nt worthy for player @xmath2 to do so and the link wo nt be established .",
    "this concludes our proof .",
    "lemma [ lem : the - longest - distance-2 ] indicates that if @xmath54 then the type @xmath10 nodes will form a clique ( the `` nucleolus '' of the network ) .",
    "the type @xmath55 nodes form structures that are connected to the type @xmath10 clique ( the network nucleolus ) .",
    "these structures are not necessarily trees and will not necessarily connect to a single point of the type - a clique only .",
    "this is indeed a very realistic scenario , found in many configurations .    if @xmath56 then the type - a clique is no longer stable .",
    "this setting does not correspond to the observed nature of the inter - as topology and we shall focus in all the following sections on the case @xmath54 . nevertheless , as a flavor of the results for @xmath56 we present the following proposition , which is stated for general heterogeneity of players , rather than a dichotomy of types . here , we denote that the relative importance of player @xmath3 in player @xmath2 s concern is as @xmath280 .      where either @xmath282 or @xmath283",
    ". then a star is a stable formation .",
    "furthermore , if @xmath284 define @xmath217 as the node for which @xmath285is maximal . then a star with node @xmath217 at its center is the optimal stable structure in terms of social utility .",
    "regarding the optimality of the network structure , a player must have be connected to at least one node in order to be connected to the network . with no additional links ,",
    "the minimal distance to all other nodes is 2 and the discussion before indicates it is not beneficial to add extra links to reduce the distance to only one node .",
    "the social cost of a star with @xmath288 at its center is @xmath289        assume the optimal stable structure is not a star .",
    "then , there is at least three nodes @xmath295 such that @xmath296 as in the star configuration the link s term is minimal and @xmath290 for all @xmath291 and @xmath292 .",
    "however , the above discussion shows the annihilation of at least one of the links of the clique @xmath297 ) is beneficial for at least one of the players and this structure would not be stable .",
    "here we describe common properties of all pair - wise equilibria .",
    "we start by noting that , unlike the findings of several other studies @xcite , in our model , at equilibrium , the type - b nodes are not necessarily organized in trees .",
    "this is shown in the next example .",
    "non optimal networks .",
    "the type - a clique is in blue squares , the type - b players are in red circles .",
    "a ) the network described in example [ example-1 ] .",
    "b ) [ fig : a - poor - equilibrium-2]a poor equilibrium , as described in the appendix . ]    [ example-1]assume for simplicity that @xmath57 . consider a line of length @xmath58 of type b nodes , @xmath59 such that @xmath60 or equivalently @xmath61 .",
    "in addition , the links @xmath62 and @xmath63 exist , where @xmath64 , i.e. , the line is connected at both ends to different nodes of the type - a clique , as depicted in fig [ fig : loop example-2 ] . we show in the appendix that this is a stabilizable graph .      a line of @xmath300 nodes . by removing the link",
    "@xmath301 only the distances from player 1 to the yellow players are affected . by establishing the link",
    "@xmath302 only the distances from player @xmath80 to the players encircled by the purple dashed ellipse are affected . ]",
    "any link removal @xmath303 in the circle @xmath304 will result in a line with nodes @xmath305 and @xmath306 at its ends ( fig .",
    "[ fig : example-1 ] ) .",
    "the type - b players that have the most incentive to disconnect a link are either node @xmath72 or node @xmath58 , as the type - a nodes will be closest to either one of them after the link removal ( at distances one and two hops , fig .",
    "[ fig : example-1 ] ) . therefore ,",
    "if players @xmath72 or @xmath58 would not deviate , no type - b player will deviate as well .",
    "w.l.o.g , we discuss node 1 .",
    "since @xmath93 , it is not beneficial for it to disconnect the link @xmath62 .",
    "assume the link @xmath301 is removed .",
    "a simple geometric observation shows that the distance to nodes @xmath307 is affected , while the distance to all the other nodes remains intact ( fig .",
    "[ fig : example-1 ] ) .",
    "the mean increase in distance is @xmath308 and the number of affected nodes is @xmath308 .",
    "however , @xmath309 and player @xmath72 would prefer the link to remain .",
    "the same calculation shows that it is not beneficial for player @xmath310 to disconnect @xmath62 .    clearly , if it not beneficial for @xmath311 to establish an additional link to a type - b player then it is not beneficial to do so for @xmath310 or @xmath312 as well . the optimal additional link connecting @xmath3 and a type - b player is @xmath313 , that is , a link to the middle of the ring ( fig .",
    "[ fig : example-1 ] ) .",
    "a similar geometric observation shows that by establishing this link , only the distances to nodes @xmath314 are affected ( fig .",
    "[ fig : example-1 ] ) .",
    "the reduction in cost is @xmath315      in order to complete the proof , we need to show that no additional type - b to type - b links will be formed . by establishing such link ,",
    "the distance of at least one of the parties to the type - a clique is unaffected .",
    "the previous calculation shows that by adding such link the maximal reduction of cost due to shortening the distance to type - b players is bounded from above by @xmath316 .",
    "therefore , as before , no additional type - b to type - b links will be formed .",
    "next , we bound from below the number of equilibria . for simplicity , we discuss the case where @xmath57 .",
    "we accomplish that by considering the number of equilibria where the type - b players are organized in a forest ( multiple trees ) and the allowed forest topologies .",
    "the following lemma restricts the possible sets of trees in an equilibrium .",
    "intuitively , this lemma states that we can not have two `` heavy '' trees , `` heavy '' meaning that there is a deep sub - tree with many nodes , as it would be beneficial to make a shortcut between the two sub - trees .",
    "node @xmath3 is on the third level of the tree of formed by starting a bfs from node @xmath2 , as discussed in lemma [ lem : subtree-1 ] .",
    "the forest of type - b nodes is composed of two trees , in yellow and red ( lemma [ lem : forest sub - graph-1 ] ) .",
    "their roots are @xmath2 and @xmath192 correspondingly .",
    "the maximal depth in this forest is three . ]",
    "[ lem : subtree-1]assume @xmath57 .",
    "consider the bfs tree formed starting from node @xmath317 assume that node @xmath3 is @xmath58 levels deep in this tree .",
    "denote the sub - tree of node @xmath3 in this tree by @xmath318 ( fig .",
    "[ fig : forest-1 ] ) in a link stable equilibrium , the number of nodes in sub - trees satisfy either        therefore , it is beneficial for player @xmath2 to establish the link . likewise ,",
    "if @xmath321 then it would be beneficial for player @xmath3 to establish the link and the link will be established .",
    "hence , one of the conditions must be violated .",
    "the following lemma considers the structure of the type - b players sub - graph .",
    "it builds on the results of lemma [ lem : subtree-1 ] to reinforce the restrictions on trees , showing that trees must be shallow and small .",
    "[ lem : forest sub - graph-1]assume @xmath57 . if the sub - graph of type - b nodes is a forest ( fig .",
    "[ fig : forest-1 ] ) , then there is at most one tree with depth greater than @xmath322 and there is at most one tree with more than @xmath323 nodes .",
    "the maximal depth of a tree in the forest is @xmath324 .",
    "every type - b forest in which every tree has a maximal depth of @xmath325 and at most @xmath326 nodes is stabilizable .",
    "assume there are two trees @xmath327 that have depth greater than @xmath322 .",
    "the distance between the nodes at the lowest level is greater than @xmath328 as the trees are connected by at least one node in the type - a clique , @xmath329 ( fig .",
    "[ fig : forest-1 ] ) .",
    "this contradicts with lemma [ lem : the - longest - distance-2 ] .",
    "assume there are two trees @xmath327 with roots @xmath253 that have more than @xmath323 nodes .",
    "in the bfs tree that is started from node @xmath2 node @xmath3 is at least in the second level ( as they are connected by at least one node in the type - a clique ) .",
    "this contradicts with lemma [ lem : subtree-1 ] .",
    "finally , following the footsteps of lemma [ lem : subtree-1 ] proof , consider two trees @xmath330 and @xmath331 , with corresponding roots @xmath2 and @xmath3 ( i.e. , nodes @xmath2 and @xmath3 have a direct link with the type - a clique ) .",
    "consider a link @xmath332 , where @xmath333 and @xmath334 .",
    "at least one of them does not reduce its distance to the type - a clique by establishing this link .",
    "w.l.o.g , we ll assume this is true for player @xmath112 .",
    "therefore , @xmath335    as the maximal reduction in distance is @xmath336 and the maximal number of nodes in @xmath331 is also @xmath336 .",
    "therefore , it is not beneficial for player @xmath112 to establish this link , and the proof is completed .",
    "assume @xmath57 .",
    "the number of link - stable equilibria in which the sub - graph of @xmath1 is a forest is at least @xmath339 , where @xmath340 is a function of @xmath45 only .",
    "therefore , the number of link - stable equilibria is at least    for simplicity , we consider the case where @xmath341 and count the number of different forests that are composed of trees up to depth @xmath322 and exactly @xmath336 nodes .",
    "let s define the number of different trees by @xmath342 .",
    "note that @xmath342 is independent of @xmath343 the number of different forests of this type is bound from below by the expression @xmath344 . using striling s approximation @xmath345 .",
    "the number @xmath346 can be bounded in a similar fashion by @xmath347 , which is the number of trees with @xmath336 elements , depth @xmath322 and only one non - leaf node at each level of tree .",
    "as there are many possible link - stable equilibria , a discussion of the price of anarchy is in place .",
    "first , we explicitly find the optimal configuration . although we establish a general expression for this configuration , it is worthy to also consider the limiting case of a large network , @xmath65 .",
    "moreover , typically , the number of major league players is much smaller than the other players , hence we also consider the limit @xmath66 .",
    "[ fig : the - optimal - state - monetary transfers-1]the optimal solution , as described in lemma [ lem : optimal solution-1 ] . if @xmath67 the optimal solution is described by a ) , otherwise by b ) .",
    "when monetary transfers ( section [ sec : monetary - transfers ] ) are allowed , both configurations are stabilizable .",
    "otherwise , only a ) is stabilizable . ]",
    "[ lem : optimal solution-1]consider the network where the type @xmath55 nodes are connected to a specific node @xmath64 of the type - a clique .",
    "the social cost in this stabilizable network ( fig .",
    "[ fig : the - optimal - solution-1](a ) ) is @xmath68    furthermore , if @xmath65 then , omitting linear terms in @xmath69 , @xmath70 moreover , if @xmath71 then this network structure is socially optimal and the price of stability is @xmath72 , otherwise the price of stability is @xmath73      this structure is immune to removal of links as a disconnection of a @xmath74 link will disconnect the type - b node , and the type - a clique is stable ( lemma [ lem : the - longest - distance-2 ] ) . for every player @xmath3 and @xmath75",
    ", any additional link @xmath4 will result in @xmath76 since the link only reduces the distance @xmath8 from 2 to 1 .",
    "hence , player @xmath3 has no incentive to accept this link and no additional links will be formed .",
    "this concludes the stability proof .",
    "we now turn to discuss the optimality of this network structure .",
    "first , consider a set of type - a players .",
    "every link reduce the distance of at least two nodes by at least one , hence the social cost change by introducing a link is negative , since @xmath77 .",
    "therefore , in any optimal configuration the type - a nodes form a complete graph .",
    "the other terms in the social cost are due to the inter - connectivity of type - b nodes and the type - a to type - b connections . as @xmath78 for all @xmath75",
    "the cost due to link s prices is minimal .",
    "@xmath79 and the distance cost to node @xmath3 ( of type a ) is minimal as well . for all other nodes @xmath80 , @xmath81 .",
    "assume this configuration is not optimal .",
    "then there is a _ topologically different _ configuration in which there exists an additional node @xmath82 for which @xmath83 for some @xmath75 .",
    "hence , there s an additional link @xmath4 .",
    "the social cost change is @xmath348 .",
    "therefore , if @xmath71 this link reduces the social cost .",
    "on the other hand , if @xmath85 every link connecting a type - b player to a type - a player improves the social cost , although the previous discussion show these link are unstable . in this case , the optimal configuration is where all type - b nodes are connected to all the type - a players , but there are no links linking type - b players .",
    "this concludes the optimality proof .",
    "the first expression is due to the cost of @xmath87 clique s links and the second is due to distance ( = 1 ) between each type - a node .",
    "the distance of each type b nodes to all the other nodes is exactly 2 , except to node @xmath3 , to which its distance is 1 .",
    "therefore the social cost due to type b nodes is @xmath88    the terms on the left hand side are due to ( from left to right ) the distance between nodes of type b , the cost of each type - b s single link , the cost of type - b nodes due to the distance ( = 2 ) to all member of the type - a clique bar @xmath3 and the cost of type @xmath55 nodes due to the distance ( = 1 ) to node @xmath3 .",
    "the social cost is @xmath89          next , we evaluate the price of anarchy . the social cost in the stabilizable topology presented in fig [ fig : a - poor - equilibrium-2 ] , composed of a type - a clique and long lines of type - b players ,",
    "is calculated in the appendix .",
    "the ratio between this value and the optimal social cost constitutes a lower bound on the price of anarchy .",
    "an upper bound is obtained by examining the social cost in any topology that satisfies lemma [ lem : the - longest - distance-2 ] .",
    "the result in the large network limit is presented by the following proposition .",
    "next , we evaluate the price of anarchy . in order to do that",
    ", we use the following two lemmas .",
    "the first lemma evaluates a lower bound by considering the social cost in the stabilizable topology presented in fig [ fig : a - poor - equilibrium-2](b ) , composed of a type - a clique and long lines of type - b players .",
    "later on , an upper bound is obtained by examining the social cost in any topology that satisfies lemma [ lem : the - longest - distance-2 ] .",
    "[ lem : poor eq]consider the network where the type b nodes are composed of @xmath102 long lines of length @xmath350 , and all the lines are connected at @xmath64 .",
    "the total cost in this stabilizable network is @xmath351      for simplicity , we assume @xmath353 . first , for the same reason as in prop .",
    "[ lem : optimal solution-1 ] , this network structure is immune to removal of links .",
    "consider @xmath354 .",
    "let us observe the chain @xmath355 where @xmath356 .",
    "and we have , @xmath363 by lemma [ lem : shortcut benefit ] and noting the distance to player @xmath3 is unaffected .",
    "therefore there is no incentive for player @xmath80 to add the link @xmath364 .",
    "the same calculation indicates that no additional link @xmath365 will be formed between two nodes on the same line .",
    "consider two lines of length @xmath58 , @xmath366 and @xmath367 .",
    "consider the addition of the link @xmath368 .",
    "that is , the addition of a link from an end of one line to the middle player on another line .",
    "this link is optimal in @xmath369s concern , as it minimizes the sum of distances from it to players on the other line .",
    "the change in cost is ( see appendix ) @xmath370    note that @xmath371 for any other @xmath372 , since a player gains the most from establishing a link to the another line is the player that is furthest the most from that line , i.e. , the player at the end of the line .",
    "this concludes the stability proof .",
    "the total cost due to type - b nodes is @xmath373 the terms represent ( from left to right ) the links cost , the cost due to the type - b players distances to the type - a clique s nodes ( except @xmath3 ) , the cost due to the type - b players distances from node @xmath3 , the cost due to intra - line distances and the cost due inter - lines distances . by using the relation",
    "@xmath374 we have @xmath375              the total cost due to the inter - connectivity of the type - a clique is identical for all link stable equilibria and is @xmath380 . the maximal distance between nodes @xmath253 according to lemma [ lem : the - longest - distance-2 ] is @xmath381 and therefore the maximal cost due to the distances between type - b nodes is @xmath382 .",
    "likewise , the maximal cost due to the distance between type - b nodes and the type - a clique is @xmath383 . finally , the maximal number of links between type - b nodes is @xmath384 and the total cost due to this part is @xmath385 .",
    "the internet is a rapidly evolving network .",
    "in fact , it may very well be that it would never reach an equilibrium as ass emerge , merge , and draft new contracts among them .",
    "therefore , a dynamic analysis is a necessity .",
    "we first define the dynamic rules .",
    "then , we analyze the basin of attractions of different states , indicating which final configurations are possible and what their likelihood is .",
    "we shall establish that reasonable dynamics converge to _ just a few _ equilibria .",
    "lastly , we investigate the speed of convergence , and show that convergence time is _ linear _ in the number of players .      at each point in time , the network is composed of a subset @xmath95 of players that already joined the game .",
    "the cost function is calculated with respect to the set of players that are present ( including those that are joining ) at the considered time .",
    "the game takes place at specific times , or _ turns _",
    ", where at each turn only a single player is allowed to remove or initiate the formation of links .",
    "we split each turn into _ acts _ , at each of which a player either forms or removes a single link .",
    "a player s turn is over when it has no incentive to perform additional acts .",
    "dynamic rule # 1 : in player @xmath2 s turn it may choose to act @xmath96 times . in each act , it may remove a link @xmath97 or , if player @xmath3 agrees , it may establish the link @xmath4 .",
    "player @xmath3 would agree to establish @xmath4 iff @xmath98 .",
    "the last part of the definition states that , during player s @xmath2 turn , all the other players will act in a greedy , rather than strategic , manner . for example , although it may be that player @xmath3 prefers that a link @xmath99 would be established for some @xmath100 , if we adopt dynamic rule # 1 it will accept the establishment of the less favorable link @xmath101 in other words , in a player s turn , it has the advantage of initiation and the other players react to its offers .",
    "this is a reasonable setting when players can not fully predict other players moves and offers , due to incomplete information @xcite such as the unknown cost structure of other players .",
    "another scenario that complies with this setting is when the system evolves rapidly and players can not estimate the condition and actions of other players .",
    "the next two rules consider the ratio of the time scale between performing the strategic plan and evaluation of costs .",
    "for example , can a player remove some links , disconnect itself from the graph , and then pose a credible threat ? or must it stay connected ? does renegotiating take place on the same time scale as the cost evaluation or on a much shorter one ?",
    "the following rules address the two limits .",
    "dynamic rule # 2a : let the set of links at the current act @xmath102 be denoted as @xmath103 .",
    "a link @xmath4 will be added if @xmath2 asks to form this link and @xmath104 .",
    "in addition , any link @xmath4 can be removed in act @xmath105        the difference between the last two dynamic rules is that , according to dynamic rule # 2a , a player may perform a strategic plan in which the first few steps will increase its cost , as long as when the plan is completed its cost will be reduced . on the other hand , according to dynamic rule # 2b , its cost must be reduced _ at each act _ , hence such `` grand plan '' is not possible .",
    "note that we do not need to discuss explicitly disconnections of several links , as these can be done unilaterally and hence iteratively.finally , the following lemma will be useful in the next section .",
    "[ lem : decay time-1]assume @xmath108 players act consecutively in a ( uniformly ) random order the probability @xmath109 that a specific player did not act @xmath110 times by @xmath111 decays exponentially .",
    "w.l.o.g , we ll discuss player 1 . set @xmath386 the probability that a player did not act @xmath58 times is given by the cdf poisson distribution @xmath387 as @xmath388 and taking the limit @xmath111 concludes the proof .      after mapping the possible dynamics , we are at a position to consider the different equilibria s basins of attraction .",
    "specifically , we shall establish that , in most settings , the system converges to the optimal network , and if not , then the network s social cost is asymptotically equal to the optimal social cost .",
    "the main reason behind this result is the observation that a disconnected player has an immense bargaining power , and may force its optimal choice . as the highest connected node is usually the optimal communication partner for other nodes , new arrivals may force links between them and this node , forming a star - like structure",
    ". there may be few star centers in the graphs , but as one emerges from the other , the distance between them is small , yielding an optimal ( or almost optimal ) cost .",
    "we outline the main ideas of the proof .",
    "the first few type - b players , in the absence of a type - a player , will form a star .",
    "the star center can be considered as a new type of player , with an intermediate importance , as presented in fig .",
    "[ fig : credible threat corr.-2 ] .",
    "we monitor the network state at any turn and show that the minor players are organized in two stars , one centered about a minor player and one centered about a major player ( fig .",
    "[ fig : credible threat corr.-2](a ) ) . some cross links may be present ( fig.[fig : credible threat corr.-2 ] ) . by increasing its client base , the incentive of a major player to establish a direct link with the star center is increased .",
    "this , in turn , increases the attractiveness of the star s center in the eyes of minor players , creating a positive feedback loop .",
    "additional links connecting it to all the major league players will be established , ending up with the star s center transformation into a member of the type - a clique . on the other hand ,",
    "if the star center is not attractive enough , then minor players may disconnect from it and establish direct links with the type - a clique , thus reducing its importance and establishing a negative feedback loop .",
    "the star will become empty , and the star s center @xmath112 will be become a stub of a major player , like every other type - b player .",
    "the latter is the optimal configuration , according to proposition [ lem : optimal solution ] .",
    "we analyze the optimal choice of the active player , and establish that the optimal action of a minor player depends on the number of players in each structure and on the number of links between the major players and the minor players star center @xmath112 .",
    "the latter figure depends , in turn , on the number of players in the star .",
    "we map this to a two dimensional dynamical system and inspect its stable points and basins of attraction of the aforementioned configurations .",
    "\\c ) in all of the above , if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps .",
    "otherwise , if players play in a uniformly random order , the probability the system has not converged by turn @xmath116 decays exponentially with @xmath116 .",
    "assume @xmath117 .",
    "denote the first type - a player that establish a link with a type - b player as @xmath58 .",
    "first , we show that the network structure is composed of a type - a ( possibly empty ) clique , a set of type - b players @xmath118 linked to player @xmath112 , and an additional ( possibly empty ) set of type - b players @xmath44 connected to the type - a player @xmath58 .",
    "[ fig : credible threat corr.-2](a ) for an illustration .",
    "in addition , there is a set @xmath119 type - a nodes that are connected to node @xmath112 , the star center .",
    "after we establish this , we show that the system can be mapped to a two dimensional dynamical system .",
    "then , we evaluate the social cost at each equilibria , and calculate the convergence rate .",
    "we first assume @xmath120 and discuss the case @xmath121 later .",
    ".a ) the network structures described in theorem [ cor : credible threat part 3 ] .",
    "the type - a clique contains @xmath122 nodes ( squares ) , and there are @xmath123 nodes in the star ( red circles ) .",
    "there are @xmath124 nodes that are connected directly to node @xmath58 ( yellow circles ) .",
    "the number of type - a nodes that are connected to node 1 , the star center , is @xmath125 ( green squares ) .",
    "b ) the phase state of theorem [ cor : credible threat part 3 ] .",
    "the dotted green nullcline seperates the region in which @xmath126 increase or decrease .",
    "similiary , the dotted red line is the nullcline for the regions in which @xmath127 increase or decrease . when monetary transfers are forbidden allowed this nullcline is shifted , and is presented by the dashed red line .",
    "( proposition [ prop : monetary - dyanmics-1 ] ) .",
    "[ fig : the - phase - state-2],title=\"fig : \" ]      \\1 .",
    "@xmath130 : since @xmath131 all links to the other type - a nodes will be established ( lemma [ lem : optimal solution ] ) or maintained , if @xmath132 is already connected to the network . clearly , the optimal link in @xmath132 s concern is the link with star center @xmath112 . as @xmath93",
    "every minor player will accept a link with a major player even if it reduces its distance only by one .",
    "therefore , the link @xmath133 is formed if the change of cost of the major player @xmath132 , @xmath391 is negative . in this case , the number of type a players connected to the star s center , @xmath127 , will increase by one . if this expression is positive and player @xmath132 is connected to at least another major player ( as otherwise the graph is disconnected ) , the link will be dissolved and @xmath127 will be reduced by one . it is not beneficial for @xmath132 to form an additional link to any type - b player , as they only reduce the distance from a single node by one ( see the discussion in lemma [ lem : optimal solution ] in the appendix ) .",
    "@xmath135 : first , assume that @xmath132 is a newly arrived player , and hence it is disconnected . obviously , in its concern , a link to the star s center , player @xmath112 , is preferred over a link to any other type - b player .",
    "similarly , a link to a type - a player that is linked with the star s center is preferred over a link with a player that maintains no such link .",
    "is positive , and will be established as otherwise the network is disconnected . if the latter expression is negative , @xmath136 will be formed .",
    "the same reasoning as in case 1 shows that no additional links to a type - b player will be formed .",
    "otherwise , if @xmath132 is already connected to the graph , than according to dynamic rule # 2a , @xmath132 may disconnect itself , and apply its optimal policy , increasing or decreasing @xmath139 and @xmath126 .",
    "@xmath140 , the star s center : @xmath132 may not remove any edge connected to a type - b player and render the graph disconnected . on the other hand , it has no interest in removing links to major players . on the contrary , it will try to establish links with the major players , and these will be formed if eq .",
    "[ eq : term1 - 3 ] is negative .",
    "an additional link to a minor player connected to @xmath58 will only reduce the distance to it by one and since @xmath141 player @xmath112 would not consider this move worthy .",
    "the dynamical parameters that govern the system dynamics are the number of players in the different sets , @xmath126 , @xmath139 , and @xmath127 .",
    "consider the state of the system after all the players have player once .",
    "using the relations @xmath142 we note the change in @xmath126 depends on @xmath126 and @xmath139 while the change in @xmath127 depends only on @xmath143 we can map this to a 2d dynamical , discrete system with the aforementioned mapping . in fig.[fig :",
    "the - phase - state-2 ] the state is mapped to a point in phase space @xmath144 .",
    "the possible states lie on a grid , and during the game the state move by an single unit either along the @xmath112 or @xmath145 axis .",
    "there are only two stable points , corresponding to @xmath393 , which is the optimal solution ( fig .",
    "[ fig : the - optimal - solution](a ) ) , and the state @xmath147 and @xmath394 .",
    "if at a certain time expression [ eq : term1 - 3 ] is positive and expression [ eq : term 2 - 2 ] is negative ( region 3 in fig.[fig : the - phase - state-2](b ) ) , the type - b players will prefer to connect to player @xmath112 .",
    "this , in turn , increases the benefit a major player gains by establishing a link with player @xmath149 the greater the set of type - a that have a direct connection with @xmath112 , having @xmath127 members , the more utility a direct link with @xmath112 carries to a minor player .",
    "hence , a positive feedback loop is established .",
    "the end result is that all the players will form a link with @xmath112 . in particular ,",
    "the type - a clique is extended to include the type - b player @xmath112 .",
    "likewise , if the reverse condition applies , a feedback loop will disconnect all links between node @xmath112 to the clique ( except node @xmath58 ) and all type - b players will prefer to establish a direct link with the clique .",
    "the end result in this case is the optimal stable state .",
    "the region that is relevant to the latter domain is region 1 .",
    "however , there is an intermediate range of states , described by region 2 and region 4 , in which the player order may dictate to which one of the previous states the system will converge . for example , starting from a point in region 4 , if the type - a players move first , changing the @xmath127 value , than the dynamics will lead to region 1 , which converge to the optimal solution .",
    "however , if the type - b players move first , then the system will converge to the other equilibrium point .",
    "we now turn to calculate the social cost at the different equilibria . if @xmath148 and @xmath150 , the network topology is composed of a @xmath87 members clique , all connected to the center @xmath112 , that , in turn , has @xmath151 stubs .",
    "the total cost in this configuration is @xmath395    where the costs are , from the left to right : the cost of the type - a clique , the cost of the type - b star s links , the distance cost @xmath153 between the clique and node @xmath112 , the distance @xmath153 cost between the star s members and node @xmath112 , the distance @xmath154 cost between the clique and the star s member , the distance @xmath154 cost between the star s members , and the cost due to major player link s to the start center @xmath112 . adding all up",
    ", we have for the total cost @xmath396    convergence is fast , and as soon as all players have acted three times the system will reach equilibrium . if every player plays at least once in @xmath156 ) turns convergence occurs after @xmath157 turns , otherwise the probability the system did not reach equilibrium by time @xmath116 decays exponentially with @xmath116 according to lemma [ lem : decay time ] ( in the appendix ) .",
    "we now relax our previous assumption @xmath117 .",
    "if @xmath158 and the active player @xmath130 then it will form a link with the star s center according to eq .",
    "[ eq : term1 - 3 ] . if @xmath159 it may establish a link @xmath160 with a type a player , which will later be replaced , in @xmath3 s turn , with the link @xmath161 according to the previous discussion . in the appendix",
    "we discuss explicitly the case where @xmath121 and show that in this case , additional links may be formed , e.g. , a link between one of @xmath162s stubs , @xmath163 , and the star s center @xmath112 , as presented in fig.[fig : cross - tiers-2 ] .",
    "these links only reduce the social cost , and do not change the dynamics , and the system will converge to either one of the aforementioned states . taking the limit @xmath164 and @xmath165 in eq .",
    "[ eq : social cost-1 ] , we get that @xmath114 , and this concludes the proof .    additional feasible cross - tiers links , as described in the appendix .",
    "the star players @xmath118 are in red , the set @xmath44 is in yellow .",
    "a ) a link between the star center and @xmath163 .",
    "b ) a cross - tier link @xmath4 where @xmath166 .",
    "c ) a minor player - major player link , @xmath4 where @xmath167 and @xmath168 ]    we now discuss explicitly the case where , at some point , the link @xmath204 is removed and assume that @xmath397 , @xmath398 . in this case , the nullcline described by eq .",
    "[ eq : term 2 - 2 ] is replaced by @xmath399    this changes the regions according to fig .",
    "[ fig : the - dynamical - regions-1 ] .",
    "region 1 , which is the basin of attraction for the optimal configuration , increases its area , on the expense of region 4 .",
    "the dynamical discussion as described for the case @xmath120 is still applicable , and if the player play in a specific order , than the state vector @xmath400 will be in either region 1 or region 3 after @xmath401 turns .",
    "if the players play in random order , then the system might not converge only if player @xmath58 will play in every @xmath401 turns .",
    "this probability decays exponentially , according to lemma [ lem : decay time-1 ] .    the dynamical regions with or without the link @xmath204 .",
    "the dashed green represents the new type - b player preference nullcline when @xmath120 , according to eq .",
    "[ eq : term 2 - 2 ] . according to eq .",
    "[ eq : term 2 -kx removed-1 ] , the nullcline when @xmath121 is the solid green line . ]    in order to complete the proof , we now address the case @xmath158 .",
    "if @xmath159 , then @xmath132 will establish a link with @xmath402 , as the distance @xmath403 is reduced by two . in this case",
    ", @xmath132 is a member of both @xmath118 and @xmath44 , and we address this by the transformation @xmath210 , @xmath211 and @xmath212 similarly , if @xmath213 then it will establish links with the star center @xmath112 if and only if @xmath404 . the analogous transformation is , @xmath215 , @xmath216 and @xmath212 if @xmath130 then it will act according to eq .",
    "[ eq : term1 - 3 ] . finally , if @xmath140 than it may both establish link with players in @xmath44 and with major players according to the aforementioned discussion .",
    "if @xmath405 than a link between player @xmath58 leaves , @xmath163 and a star s leaf , @xmath406 is feasible and will be formed when either parties are selected as the active player .",
    "every player @xmath2 may participate in only a single link of this type , as after its establishment the maximal distance between player @xmath2 to every other player is three , and an additioanl link will result in a reduction of the sum of distances by at most two . as before , additional links between the star center s and the major players may be formed according to eq . [",
    "eq : term1 - 3 ] .",
    "consider a link @xmath4 between @xmath163 and a star s leaf , @xmath406 .",
    "neither @xmath112 nor @xmath58 has an incentive to disconnet either @xmath407 or @xmath408 as the distance is increased by at least three .",
    "similarly , all the aforementioned links @xmath4 will not create an incentive for a link removal @xmath99 or @xmath409 by any former partner @xmath80 of the involved partied @xmath253 .",
    "if the star s center has a principal role in the network , then links connecting it to all the major league players will be established , ending up with the star s center transformation into a member of the type - a clique .",
    "this dynamic process shows how an effectively new major player emerges out of former type - b members in a natural way .",
    "interestingly , theorem [ cor : credible threat part 3 - 1 ] also shows that there exists a transient state with a better social cost than the final state .",
    "in fact , in a certain scenario , the transient state is better than the optimal stable state .",
    "so far we have discussed the possibility that a player may perform a strategic plan , implemented by dynamic rule # 2a . however ,",
    "if we follow dynamic rule # 2b instead , then a player may not disconnect itself from the graph .",
    "the previous results indicate that it is not worthy to add additional links to the forest of type - b nodes .",
    "therefore , no links will be added except for the initial ones , or , in other words , renegotiation will always fail .",
    "the dynamics will halt as soon as each player has acted once . formally :    [ prop : credible theat part 4 - 2]if the game obeys dynamic rules # 1 and # 2b , then the system will converge to a solution in which the total cost is at most @xmath410 furthermore , for @xmath66 , we have @xmath170 moreover , if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps",
    ". otherwise , e.g. , if players play in a random order , convergence occurs exponentially fast .",
    "we discuss the case @xmath117 and @xmath398 .",
    "the extension for @xmath411 appears in the appendix .",
    "the first part of the proof follows the same lines of the previous theorem ( theorem [ cor : credible threat part 3 - 1 ] ) .",
    "we claim that at any given turn , the network structure is composed of the same structures as before . here",
    ", we discuss the scenario where @xmath173 and we address the other possibility in the appendix .",
    "we prove by induction .",
    "clearly , at turn one the induction assumption is true .",
    "note that for newly arrived players , are not affected by either dynamic rules # 2a or # 2b .",
    "hence , we only need to discuss the change in policies of existing players .",
    "the only difference from the dynamics described in the theorem [ cor : credible threat part 3 - 1 ] is that the a type - b players may not disconnect itself . in this case , as the discussion there indicates the star center @xmath112 will refuse a link with @xmath163 as it only reduce @xmath174 by two .",
    "equivalently , @xmath58 will refuse to establish additional links with @xmath175    in other words , as soon the first batch of type a player arrives , all type - b players will become stagnant , either they become leaves of either node @xmath58 , @xmath139 , or members of the star @xmath126 , according to the the sign of [ eq : term 2 -kx removed-1 ] at the time they .",
    "the maximal distance between a type - a player and a type b player is @xmath176 .",
    "the maximal value of the type b - type b term is the social cost function is when @xmath177 . in this case",
    ", this term contributes @xmath178 to the social cost .",
    "therefore , the social cost is bounded by @xmath412      assume that at some point the link @xmath204 was removed .",
    "in this case , the new type - b arrival preference is changed according to eq .",
    "[ eq : term 2 -kx removed-1 ] .",
    "nevertheless , this change does not create an incentive for new type - b to type - b links , and the previous conclusion holds : as soon as all the type - b players have joined the game , they become stagnant , and the game holds .",
    "consider now the case @xmath413 and assume that the link @xmath204 exists .",
    "as in theorem [ cor : credible threat part 3 - 1 ] , if the active player is @xmath159 it may establish a _",
    "link @xmath160 with a type a player @xmath64 .",
    "as long as there is one player @xmath414 that is not connected to player @xmath64 , i.e. , @xmath415 , then at player @xmath3 s turn , a link to the star s center @xmath112 will reduced the costs of both parties .",
    "following that , player @xmath3 will remove the links to players in @xmath118 .",
    "if , for every @xmath414 the link @xmath97 , then @xmath3 is a new star center , and every @xmath414 will disconnect its link with @xmath112 at its turn .",
    "the end result is that either for every @xmath64 the link @xmath161 exists , or that @xmath416 and the type - b nodes are leaves of various type - a nodes .",
    "a direct calculation shows that the previous bound for the social cost is still effective .",
    "the discussion in theorem [ cor : credible threat part 3 - 1 ] shows that if @xmath404 , then player @xmath112 will not disconnect any link to @xmath417 as it increases its cost by at least two .",
    "if there exists a link @xmath4 with @xmath49 and @xmath418 than player @xmath112 may disconnect the link @xmath220 , which will only accelerate the convergece to the aforementioned state , where @xmath416 . for every player @xmath402 denote the set of type - b players that have a direct link with it as @xmath419 .",
    "if if @xmath404 , there will be additional links between @xmath420 and @xmath421 for @xmath422 as before , any of the aforementioned link does not affect the connection preference of a new type - b , which is set by [ eq : term 2 - 2 ] where @xmath423 is the largest set of a type - b player that is connected to @xmath402 .    if @xmath424 and @xmath120 , then only links between @xmath414 and @xmath425 are feasible .",
    "we have shown that such links only reduce the social cost , do not incite link removals , and do not effect the considerations of new type - b player .",
    "theorem [ cor : credible threat part 3 - 1 ] and proposition [ prop : credible theat part 4 - 2 ] shows that the intermediate network structures of the type - b players are not necessarily trees , and additional links among the tier two players may exist , as found in reality .",
    "furthermore , our model predicts that some cross - tier links , although less likely , may be formed as well . if dynamic rule # 2a is in effect , these structures are only transient , otherwise they might remain permanent .",
    "the dynamical model can be easily generalized to accommodate various constraints .",
    "geographical constraints may limit the service providers of the minor player .",
    "the resulting type - b structures represent different geographical regions .",
    "likewise , in remote locations state legislation may regulate the internet infrastructure . if at some point regulation is relaxed , it can be modeled by new players that suddenly join the game .",
    "so far we assumed that a player can not compensate other players for an increase in their costs .",
    "however , contracts between different ass often do involve monetary transfers .",
    "accordingly , we turn to consider the effects of introducing such an option on the findings presented in the previous sections . as before ,",
    "we first consider the static perspective and then turn to the dynamic perspective .",
    "monetary transfers allow for a redistribution of costs .",
    "it is well known in the game theoretic literature that , in general , this process increases the social welfare.indeed , the next lemma , shows that in this setting , the maximal distance between players is smaller , compared to lemma [ lem : the - longest - distance ] .    [ lem : the - longest - distance-1 - 1]allowing monetary transfers , the longest distance between nodes i,@xmath49 is @xmath426 .",
    "the longest distance between nodes @xmath51 is bounded by @xmath427 the longest distance between node @xmath167 and node @xmath49 is bounded by @xmath428                      indeed , the next proposition indicates an improvement on proposition [ lem : optimal solution ] .",
    "specifically , it shows that the optimal network is always stabilizable , even when @xmath85 . without monetary transfers , the additional links in the optimal state ( fig .",
    "[ fig : the - optimal - state - monetary transfers ] ) , connecting a major league player with a minor league player , are unstable as the type - a players lack any incentive to form them . by allowing monetary transfers",
    ", the minor players can compensate the major players for the increase in their costs .",
    "it is worthwhile to do so only if the social optimum of the two - player game implies it .",
    "the existence or removal of an additional link does not inflict on any other player , as the distance between every two players is at most two .",
    "[ prop : optimality under monetary-1 ] if @xmath186 then proposition [ lem : optimal solution ] holds .",
    "furthermore , if @xmath85 , then the optimal stable state is such that all the type @xmath55 nodes are connected to all nodes of the type - a clique . in the latter case , the social cost of this stabilizable network is @xmath187furthermore , if @xmath65 then , omitting linear terms in @xmath69 , @xmath188    for the case @xmath197 , it was shown in prop .",
    "[ lem : optimal solution ] that the optimal network is a network where all the type @xmath55 nodes are connected to a specific node @xmath64 of the type - a clique ( fig .",
    "[ fig : the - optimal - state - monetary transfers](a ) ) and that this network is stabilizable .",
    "therefore , we only need to address its stability under monetary transfers .",
    "we apply the criteria described in corollary [ lem : edges with monetary transfers . ] and show that for every two players @xmath439 such that @xmath440 we have @xmath441        then , for @xmath75 and either @xmath82 or @xmath444 we have @xmath445 and the link would not be established . for every edge @xmath97",
    "we have that both @xmath39 and @xmath446 ( prop .",
    "[ lem : optimal solution ] ) and therefore @xmath447    assume @xmath85 .",
    "it was shown in proposition [ lem : optimal solution ] that the optimal network is a network where every type @xmath55 player is connected to all the members of the type - a clique ( fig .",
    "[ fig : the - optimal - state - monetary transfers](b ) ) . under monetary transfers , this network is stabilizable , since for for @xmath75 , @xmath64 @xmath448        in the network described by fig . [",
    "fig : the - optimal - state - monetary transfers ] , the minor players are connected to multiple type - a players .",
    "this emergent behavior , where ass have multiple uplink - downlink but very few ( if at all ) cross - tier links , is found in many intermediate tiers .",
    "next , we show that , under mild conditions on the number of type - a nodes , the price of anarchy is @xmath189 , i.e. , _ a fixed number _ that does not depend on any parameter value . as the number of major players increases , the motivation to establish a direct connection to a clique member increases , since such a link reduces the distance to all clique members . as the incentive increases , players are willing to pay more for this link , thus increasing , in turn , the utility of the link in a major player s perspective",
    ". with enough major players , all the minor players will establish direct links .",
    "therefore , any stable equilibrium will result in a very compact network with a diameter of at most three .",
    "this is the main idea behind the following theorem .",
    "assume @xmath449 , where @xmath75 and @xmath64 but node @xmath3 is not the nearest type - a node to _ i_. therefore , there exists a series of nodes @xmath450 such that @xmath451 is a member of the type - a clique .",
    "the first term is the link cost , the second and third terms are due to change of distance from players @xmath454 and the last term express the change of distance form the rest of the type - a clique . as @xmath455        note that as the number of member in the type - a clique , @xmath458 , increases , the right expression goes to 0 , in contradiction to our initial assumption .",
    "therefore , in the large network limit the maximal distance of a type - b node from a node in the type - a clique is 2 . in this case",
    ", the maximal distance between two type - a nodes is 1 ( as before ) , between type - a and type - b nodes is 2 and between two type - b nodes is 3 .",
    "the maximal social cost in an equilibrium is @xmath459          this theorem shows that by allowing monetary transfers , the maximal distance of a type - b player to the type - a clique depends inversely on the number of nodes in the clique and the number of players in general .",
    "the number of ass increases in time , and we may assume the number of type - a players follows .",
    "therefore , we expect a decrease of the mean `` node - core distance '' in time .",
    "our data analysis , which appears in the appendix , indicates that this real - world distance indeed decreases in time .",
    "we now consider the dynamic process of network formation under the presence of monetary transfers .",
    "for every node @xmath2 there may be several nodes , indexed by _",
    "j , _ such that @xmath191 and player _ i _ needs to decide on the order of players with which it will ask to form links .",
    "we point out that the order of establishing links is potentially important .",
    "the order by which player player @xmath2 will establish links depends on the pricing mechanism .",
    "there are several alternatives and , correspondingly , several possible ways to specify player _",
    "i s _ preferences _ _ , _ _ each leading to a different dynamic rule .",
    "perhaps the most naive assumption is that if for player @xmath192 @xmath193 , then the price it will ask player @xmath2 to pay is @xmath194 in other words , if it is beneficial for player @xmath3 to establish a link , it will not ask for a payment in order to do so .",
    "otherwise , it will demand the minimal price that compensates for the increase in its costs .",
    "this dynamic rule represents an efficient market .",
    "this suggests the following preference order rule .",
    "as established by the next theorem , preference order # 1 leads to the optimal equilibrium fast .",
    "in essence , if the clique is large enough , then it is worthy for type - b players to establish a direct link to the clique , compensating a type - a player , and follow this move by disconnecting from the star .",
    "therefore , monetary transfers increase the fluidity of the system , enabling players to escape from an unfortunate position .",
    "hence , we obtain an improved version of theorem [ cor : credible threat part 3 - 1 ] .",
    "assume the players follow preference order # 1 and dynamic rule # 1 , and either dynamic rule # 2a or # 2b .",
    "if @xmath85 , then the system converges to the optimal solution .",
    "if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps .",
    "otherwise , e.g. , if players play in a random order , convergence occurs exponentially fast .",
    "this expression is negative if either @xmath167 or @xmath64 , as @xmath463 therefore , if player @xmath167 it will form links all other players , whereas if @xmath75 it will form links with all the type - a players . finally , after every player has played twice",
    ", every type - b player has established links to all members of the type - b clique . therefore , the distance between every two type - b players is at most two .",
    "consider two type - b players , @xmath273 for which the link @xmath4 exists .",
    "if the link is removed , the distance will grow from one to two , per the previous discussion .",
    "but ,      hence , this link will be dissolved .",
    "this process will be completed as soon as every type - b player has played at least three times .",
    "if every player plays at least once in @xmath156 ) turns convergence occurs after @xmath157 turns , otherwise the probability the system did not reach equilibrium by time @xmath116 decays exponentially with @xmath116 according to lemma [ lem : decay time-1 ] .",
    "the resulting network structure is composed of a type - a clique , and every type - b player is connected to all members of the type - a clique ( fig.[fig : the - optimal - solution](b ) ) . as discussed in prop .",
    "[ prop : optimality under monetary-1 ] , this structure is optimal and stable .",
    "yet , the common wisdom that monetary transfers , or utility transfers in general , should increase the social welfare , is contradicted in our setting by the following proposition .",
    "specifically , there are certain instances , where allowing monetary transfers yields a decrease in the social utility . in other words ,",
    "if monetary transfers are allowed , then the system may converge to a sub - optimal state .",
    "\\a ) the system will either converge to the optimal solution or to a solution in which the social cost is @xmath198 for @xmath199 , @xmath200 we have @xmath201 . in addition",
    ", if one of the first @xmath202 nodes to attach to the network is of type - a then the system converges to the optimal solution .",
    "\\b ) for some parameters and playing orders , the system converges to the optimal state if monetary transfers are forbidden , but when transfers are allowed it fails to do so .",
    "this is the case , for example , when the first @xmath58 players are of type - b , and @xmath203 .",
    "\\a ) we claim that , at any given turn @xmath116 , the network is composed of the same structures as in theorem [ cor : credible threat part 3 - 1 ] .",
    "we use the notation described there .",
    "[ fig : credible threat corr.-2 ] for an illustration .",
    "first , assume that the link @xmath204 exists .",
    "@xmath130 : as before , all links to the other type - a nodes will be established or maintained , if @xmath132 is already connected to the network .",
    "the link @xmath133 will be formed if the change of cost of player @xmath132 , @xmath465 is negative . in this case @xmath126",
    "will increase by one .",
    "if this expression is positive and @xmath207 the link will be dissolved and @xmath127 will be reduced .",
    "it is not beneficial for @xmath132 to form an additional link to any type - b player , as they only reduce the distance from a single node by 1 and @xmath197 .",
    "@xmath208 : the discussion in theorem [ cor : credible threat part 3 - 1 ] shows that a newly arrived may choose to establish its optimal link , which would be either @xmath136 or @xmath133 according to the sign of expression [ eq : term 2 - 2 ] . as otherwise the graph is disconnected , such link will cost nothing .",
    "similarly , if @xmath132 is already connected , it may disconnect itself as an intermediate state and use its improved bargaining point to impose its optimal choice .",
    "hence , the formation of either @xmath136 or @xmath133 is not affected by the inclusion of monetary transfers to the basic model .",
    "assume the optimal move for @xmath132 is to be a member of the star , @xmath159 . if @xmath466 is negative , than this link will be formed .",
    "in this case , @xmath132 is a member of both @xmath118 and @xmath44 , and we address this by the transformation @xmath210 , @xmath211 and @xmath212 similarly , if @xmath213 than it will establish links with the star center @xmath112 if and only if @xmath467 the analogous transformation is , @xmath215 , @xmath216 and @xmath212 the is also true if @xmath140 and the latter condition is satisfied .",
    "we have shown in theorem [ cor : credible threat part 3 - 1 ] , that such links only reduce the social cost , do not incite link removals , and do not effect the considerations of new type - b player .",
    "consider the case that at some point the link @xmath204 was removed .",
    "the new player preference nullcline is described by eq .",
    "[ eq : term 2 -kx removed-1 ] .",
    "now , if @xmath159 , it has an increased incentive to establish a link with @xmath58 , as the nodes in @xmath44 are farther away from it . in this case , the condition to establish the link @xmath468 is @xmath469 ( compared to eq .",
    "[ eq : monetary , s-1 ] ) .",
    "similarly , if @xmath213 the criteria for establishing the link @xmath133 is @xmath470 ( compared to eq .",
    "[ eq : monetary , l-1 ] ) .",
    "the transformation described above should be applied in either case .",
    "\\b ) if dynamic rule # 2a is in effect , the nullcline represented by eq .",
    "[ eq : term1 - 1 - 1 - 1 ] is shifted to the left compared to the nullcline of eq .",
    "[ eq : term1 - 3 ] , increasing region 3 and region 2 on the expanse of region 1 and region 4 .",
    "therefore , there are cases where the system would have converge to the optimal state , but allowing monetary transfers it would converge to the other stable state .",
    "intuitively , the star center may pay type - a players to establish links with her , reducing the motivation for one of her leafs to defect and in turn , increasing the incentive of the other players to directly connect to it .",
    "hence , monetary transfers reduce the threshold for the positive feedback loop discussing in theorem [ cor : credible threat part 3 - 1 ] .",
    "a more elaborate choice of a price mechanism is that of `` strategic '' pricing . specifically , consider a player @xmath217 that knows that the link @xmath218 carries the least utility for player @xmath2 .",
    "it is reasonable to assume that player @xmath3 will ask the minimal price for it , as long as it is greater than its implied costs .",
    "we will denote this price as @xmath219 .",
    "every other player @xmath112 will use this value and demand an additional payment from player @xmath2 , as the link @xmath220 is more beneficial for player @xmath2 .",
    "formally ,        as far as player @xmath2 is concerned , all the links @xmath4 with @xmath225 carry the same utility , and this utility is greater than the utility of links for which the former condition is not valid",
    ". some of these links have a better connection value , but they come at a higher price . since all the links carry the same utility , we need to decide on some preference mechanism for player @xmath2 .",
    "the simplest one is the `` cheap '' choice , by which we mean that , if there are a few equivalent links , then the player will choose the cheapest one .",
    "this can be reasoned by the assumption that a new player can not spend too much resources , and therefore it will choose the `` cheapest '' option that belongs to the set of links with maximal utility .",
    "if there are several players that minimize @xmath228 , then player @xmath2 will establish a link with a player that minimizes @xmath32 .",
    "if there are several players that satisfy the previous condition , then one out of them is chosen randomly .",
    "if node @xmath217 satisfies @xmath474 then the link @xmath218 will be formed . if there are few nodes that satisfy this criterion , a link connecting @xmath2 and one of this node will be picked at random .",
    "the resulting equilibria following this preference order are very diverse and depend heavily on the order of acting players . the only general statement that can are of the form of lemma [ lem : the - longest - distance-1 - 1 ] .",
    "before we elaborate , let us provide another useful lemma .",
    "the first two inequalities state that after establishing the link @xmath218 the link @xmath220 will be formed as well .",
    "however , the last inequality indicates that after the former step , it is worthy for player @xmath2 to disconnect the link @xmath218 .",
    "then , if the players play in a non - random order , the system converges to a state where all the type - b nodes are connected directly to the type - a clique , except perhaps lines of nodes with summed maximal length of @xmath102 . in the large network limit , @xmath231 .",
    "we prove by induction .",
    "assume that the first type - b player is player @xmath478 and the first type - a player is @xmath479 .",
    "we first prove that the structure up - to the first move of @xmath480 is a type - a clique , and an additional line of maximal length @xmath481 of type - b players connected to a single type - a player .",
    "if @xmath482 , there is a set of type - b players that play before the first type - a joins the game , we claim they form a line .",
    "for the first player it is true .",
    "consider player @xmath112 .",
    "the least utility it may obtain is by establishing a link to a node at the end of the line , and therefore it will connect first to one of the ends , as this would be the cheapest link .",
    "w.l.o.g , assume that it connects to @xmath483 .",
    "the most beneficial additional link it may establish is @xmath484 but according to corollary [ lem : shortcut benefit ] @xmath485        if @xmath488 then the first @xmath489 type - a player will form a clique ( same reasoning as in lemma [ prop : optimality under monetary-1 ] ) , and player @xmath479 ( of type - b ) will form a link to one of the type - a players randomly .",
    "this completes the induction proof .    for every new player ,",
    "the link with the least utility is the link connecting the new arrival and the end of the type - b strand . for a type - a player , using lemma [ lem : shortcut-1 ] , immediately after establishing this link it will be dissolved and the new player will join the clique .",
    "type b players will attach to the end of the line and the line s length will grow .",
    "assume that when player @xmath112 turn to play there are @xmath490 type - a players in the clique . by",
    "establishing the link @xmath220 we have ( fig .",
    "[ fig : suggested shortcut-1 ] ) , @xmath491      and therefore according to lemma [ lem : shortcut-1 ] player @xmath112 will connect directly to one of the nodes in the clique instead of lines end .",
    "after all the players have played once , the structure formed is a type - a clique , a line of maximum length @xmath102 , and type - b nodes that are connected directly to at least one of the members of the clique . in a large network ,",
    "the line s maximal length is @xmath494 and is negligible in comparison to terms that are @xmath495 .",
    "the only possible deviation in this sub - graph is establishing additional links between a type - b player and clique members ( other than the one it is currently linked to ) .",
    "this will only reduce the overall distance . hence we can asymptotically bound the social cost by @xmath498    where the first term expresses the ( maximal ) distance between type - b nodes , the second the distance cost between the type - a clique and the type - b nodes , the third is the cost of links between type - a players and type - b players and the third is the cost of the type - a clique . comparing this to the optimal solution ( proposition [ prop : maximal distance from clique with money-1 ] ) under the assumption that @xmath499 , we have @xmath500      \\d ) we can improve on the former bound by noting that according to preference order # 2 , when disconnecting from the long line a player will reconnect to the type - a player that has the least utility in his concern ( and hence requires the lowest price ) .",
    "in other words , it will connect to one of the nodes that carry the least amount of type - b nodes at that moment .",
    "therefore , to each type - a node roughly @xmath501 type - b nodes will be connected .",
    "this allows us to provide the following corollary .              in order to obtain the result in proposition [ prop :",
    "maximal distance from clique with money-1 ] , we had to assume a large limit for the number of type - a players . here , on the other hand , we were able to obtain a similar result yet without that assumption , i.e. , solely by dynamic considerations .    it is important to note that , although our model allows for monetary transfers , in _ every _ resulting agreement between major players no monetary transaction is performed . in other words ,",
    "our model predicts that the major players clique will form a _ settlement - free _",
    "interconnection subgraph , while in major player - minor player contracts transactions will occur , and they will be of a transit contract type . indeed , this observation is well founded in reality .        for the network presented in fig .",
    "[ fig : the - optimal - solution](a ) , the number of links in the type - a clique is the same as the number of pairs , which is @xmath506 .",
    "each edge is counted twice at the social cost summation ( as part of its members cost ) and therefore the social cost due to the number of edges in the type - a clique is @xmath507        there are @xmath338 type - b players and their distance to @xmath511 clique members is 2 , and their distance to a single clique member is one .",
    "the distance is multiplied by @xmath10 when the sum is over a type - b player , and it is multiplied by @xmath72 when the sum is over a type - a player . therefore , the social cost contribution of the type - a to type - b distance term is @xmath512        if , however , one observes the network presented in fig .",
    "[ fig : the - optimal - solution](b ) , then every type - b players is connected by @xmath87 edges to the type - a clique . therefore , the last two expressions are replaced ,",
    "so far we assumed that a player can not compensate other players for an increase in their costs .",
    "however , contracts between different ass often do involve monetary transfers .",
    "accordingly , we turn to consider the effects of introducing such an option on the findings presented in the previous sections . as before ,",
    "we first consider the static perspective and then turn to the dynamic perspective .",
    "monetary transfers allow for a redistribution of costs .",
    "it is well known in the game theoretic literature that , in general , this process increases the social welfare.indeed , the next proposition indicates an improvement on proposition [ lem : optimal solution ] .",
    "specifically , it shows that the optimal network is always stabilizable , even when @xmath85 . without monetary transfers , the additional links in the optimal state ( fig .",
    "[ fig : the - optimal - state - monetary transfers ] ) , connecting a major league player with a minor league player , are unstable as the type - a players lack any incentive to form them . by allowing monetary transfers",
    ", the minor players can compensate the major players for the increase in their costs .",
    "it is worthwhile to do so only if the social optimum of the two - player game implies it .",
    "the existence or removal of an additional link does not inflict on any other player , as the distance between every two players is at most two .",
    "[ prop : optimality under monetary ] if @xmath186 then proposition [ lem : optimal solution ] holds .",
    "furthermore , if @xmath85 , then the optimal stable state is such that all the type @xmath55 nodes are connected to all nodes of the type - a clique . in the latter case ,",
    "the social cost of this stabilizable network is @xmath187 furthermore , if @xmath65 then , omitting linear terms in @xmath69 , @xmath188    in the network described by fig .",
    "[ fig : the - optimal - state - monetary transfers ] , the minor players are connected to multiple type - a players .",
    "this emergent behavior , where ass have multiple uplink - downlink but very few ( if at all ) cross - tier links , is found in many intermediate tiers .",
    "next , we show that , under mild conditions on the number of type - a nodes , the price of anarchy is @xmath189 , i.e. , _ a fixed number _ that does not depend on any parameter value . as the number of major players increases , the motivation to establish a direct connection to a clique member increases , since such a link reduces the distance to all clique members . as the incentive increases , players are willing to pay more for this link , thus increasing , in turn , the utility of the link in a major player s perspective",
    ". with enough major players , all the minor players will establish direct links .",
    "therefore , any stable equilibrium will result in a very compact network with a diameter of at most three .",
    "this is the main idea behind the following theorem .",
    "this theorem shows that by allowing monetary transfers , the maximal distance of a type - b player to the type - a clique depends inversely on the number of nodes in the clique and the number of players in general .",
    "the number of ass increases in time , and we may assume the number of type - a players follows .",
    "therefore , we expect a decrease of the mean `` node - core distance '' in time . our data analysis , which appears in the appendix , indicates that this real - world distance indeed decreases in time .",
    "we now consider the dynamic process of network formation under the presence of monetary transfers .",
    "for every node @xmath2 there may be several nodes , indexed by _",
    "j , _ such that @xmath191 and player _ i _ needs to decide on the order of players with which it will ask to form links .",
    "we point out that the order of establishing links is potentially important .",
    "the order by which player player @xmath2 will establish links depends on the pricing mechanism .",
    "there are several alternatives and , correspondingly , several possible ways to specify player _",
    "i s _ preferences _ _ , _ _ each leading to a different dynamic rule .",
    "perhaps the most naive assumption is that if for player @xmath192 @xmath193 , then the price it will ask player @xmath2 to pay is @xmath194 in other words , if it is beneficial for player @xmath3 to establish a link , it will not ask for a payment in order to do so .",
    "otherwise , it will demand the minimal price that compensates for the increase in its costs .",
    "this dynamic rule represents an efficient market .",
    "this suggests the following preference order rule .",
    "as established by the next theorem , preference order # 1 leads to the optimal equilibrium fast .",
    "in essence , if the clique is large enough , then it is worthy for type - b players to establish a direct link to the clique , compensating a type - a player , and follow this move by disconnecting from the star .",
    "therefore , monetary transfers increase the fluidity of the system , enabling players to escape from an unfortunate position .",
    "hence , we obtain an improved version of theorem [ cor : credible threat part 3 ] .",
    "assume the players follow preference order # 1 and dynamic rule # 1 , and either dynamic rule # 2a or # 2b .",
    "if @xmath85 , then the system converges to the optimal solution . if every player plays at least once in o(n )",
    "turns , convergence occurs after o(n ) steps .",
    "otherwise , e.g. , if players play in a random order , convergence occurs exponentially fast .",
    "yet , the common wisdom that monetary transfers , or utility transfers in general , should increase the social welfare , is contradicted in our setting by the following proposition .",
    "specifically , there are certain instances , where allowing monetary transfers yields a decrease in the social utility .",
    "in other words , if monetary transfers are allowed , then the system may converge to a sub - optimal state .",
    "\\a ) the system will either converge to the optimal solution or to a solution in which the social cost is @xmath198 for @xmath199 , @xmath200 we have @xmath201 . in addition",
    ", if one of the first @xmath202 nodes to attach to the network is of type - a then the system converges to the optimal solution .",
    "\\b ) for some parameters and playing orders , the system converges to the optimal state if monetary transfers are forbidden , but when transfers are allowed it fails to do so .",
    "this is the case , for example , when the first @xmath58 players are of type - b , and @xmath203 .",
    "\\a ) we claim that , at any given turn @xmath116 , the network is composed of the same structures as in theorem [ cor : credible threat part 3 ] .",
    "we use the notation described there .",
    "[ fig : credible threat corr . ] for an illustration .",
    "we assume that the link @xmath204 exists and elaborate in the appendix on the scenario that , at some point , the link @xmath204 is removed .",
    "@xmath130 : as before , all links to the other type - a nodes will be established or maintained , if @xmath132 is already connected to the network .",
    "the link @xmath133 will be formed if the change of cost of player @xmath132 , @xmath206 is negative . in this case @xmath126",
    "will increase by one .",
    "if this expression is positive and @xmath207 the link will be dissolved and @xmath127 will be reduced .",
    "it is not beneficial for @xmath132 to form an additional link to any type - b player , as they only reduce the distance from a single node by 1 and @xmath197 .",
    "@xmath208 : the discussion in theorem [ cor : credible threat part 3 ] shows that a newly arrived may choose to establish its optimal link , which would be either @xmath136 or @xmath133 according to the sign of expression [ eq : term 2 ] . as otherwise the graph is disconnected , such link will cost nothing .",
    "similarly , if @xmath132 is already connected , it may disconnect itself as an intermediate state and use its improved bargaining point to impose its optimal choice .",
    "hence , the formation of either @xmath136 or @xmath133 is not affected by the inclusion of monetary transfers to the basic model . assume the optimal move for @xmath132 is to be a member of the star , @xmath159 . if @xmath209 is negative , than this link will be formed .",
    "in this case , @xmath132 is a member of both @xmath118 and @xmath44 , and we address this by the transformation @xmath210 , @xmath211 and @xmath212 similarly , if @xmath213 than it will establish links with the star center @xmath112 if and only if @xmath214 . the analogous transformation is , @xmath215 , @xmath216 and @xmath212 the rest of the proof follows along the lines of theorem [ cor : credible threat part 3 ] and is detailed in the appendix .",
    "\\b ) if dynamic rule # 2a is in effect , the nullcline represented by eq .",
    "[ eq : term1 - 1 ] is shifted to the left compared to the nullcline of eq .",
    "[ eq : term1 ] , increasing region 3 and region 2 on the expanse of region 1 and region 4 .",
    "therefore , there are cases where the system would have converge to the optimal state , but allowing monetary transfers it would converge to the other stable state .",
    "intuitively , the star center may pay type - a players to establish links with her , reducing the motivation for one of her leafs to defect and in turn , increasing the incentive of the other players to directly connect to it .",
    "hence , monetary transfers reduce the threshold for the positive feedback loop discussing in theorem [ cor : credible threat part 3 ] .",
    "a more elaborate choice of a price mechanism is that of `` strategic '' pricing . specifically , consider a player @xmath217 that knows that the link @xmath218 carries the least utility for player @xmath2 .",
    "it is reasonable to assume that player @xmath3 will ask the minimal price for it , as long as it is greater than its implied costs",
    ". we will denote this price as @xmath219 . every other player",
    "@xmath112 will use this value and demand an additional payment from player @xmath2 , as the link @xmath220 is more beneficial for player @xmath2 .",
    "formally ,      as far as player @xmath2 is concerned , all the links @xmath4 with @xmath225 carry the same utility , and this utility is greater than the utility of links for which the former condition is not valid",
    ". some of these links have a better connection value , but they come at a higher price . since all the links carry the same utility , we need to decide on some preference mechanism for player @xmath2 .",
    "the simplest one is the `` cheap '' choice , by which we mean that , if there are a few equivalent links , then the player will choose the cheapest one .",
    "this can be reasoned by the assumption that a new player can not spend too much resources , and therefore it will choose the `` cheapest '' option that belongs to the set of links with maximal utility .",
    "if there are several players that minimize @xmath228 , then player @xmath2 will establish a link with a player that minimizes @xmath32 .",
    "if there are several players that satisfy the previous condition , then one out of them is chosen randomly .",
    "then , if the players play in a non - random order , the system converges to a state where all the type - b nodes are connected directly to the type - a clique , except perhaps lines of nodes with summed maximal length of @xmath102 . in the large network limit , @xmath231 .      in order to obtain the result in proposition [ prop : maximal distance from clique with money ] , we had to assume a large limit for the number of type - a players . here , on the other hand , we were able to obtain a similar result yet without that assumption , i.e. , solely by dynamic considerations .",
    "it is important to note that , although our model allows for monetary transfers , in _ every _ resulting agreement between major players no monetary transaction is performed . in other words ,",
    "our model predicts that the major players clique will form a _ settlement - free _",
    "interconnection subgraph , while in major player - minor player contracts transactions will occur , and they will be of a transit contract type . indeed , this observation is well founded in reality .",
    "does the internet resembles a clique or a tree ? is it contracting or expanding ? can one statement be true on one segment of the network while the opposite is correct on a different segment ?",
    "the game theoretic model presented in this work , while abstracting many details away , focuses on the essence of the strategical decision - making that ass perform .",
    "it provides answers to such questions by addressing the different roles ass play .",
    "the static analysis has indicated that in all equilibria , the major players form a clique .",
    "our model predicts that the major players clique will form a _ settlement - free _",
    "interconnection subgraph , while in major player - minor player contracts transactions will occur , and they will be of a transit contract type .",
    "this observation is supported by the empirical evidence , showing the tight tier-1 subgraph , and the fact these ass provide transit service to the other ass .",
    "we discussed multiple dynamics , which represent different scenarios and playing orders .",
    "the dynamic analysis showed that , when the individual players act selfishly and rationally , the system will converge to either the optimal configuration or to a state in which the social cost differs by a negligible amount from the optimal social cost .",
    "this is important as a prospective mechanism design .",
    "furthermore , although a multitude of equilibria exist , the dynamics restrict the convergence to a limited set . in this set , the minor players dominating structures are lines and stars .",
    "we also learned that , as the number of major players increase , the distance of the minor players to the core should decrease .",
    "this theoretical finding was also confirmed empirically ( see the appendix ) .    in our model ,",
    "ass are lumped into two categories .",
    "the extrapolation of our model to a general ( multi - tier ) distribution of player importance is an interesting and relevant future research question , the buds of which are discussed in the appendix . in addition , there are numerous contract types ( e.g. , p2p , customer - to - provider , s2s ) ass may form .",
    "while we discussed a network formed by the main type ( c2p ) , the effect of including various contract types is yet to be explored .",
    ") and removing any links from the shell to the core .",
    "the subgraph contains 16,442 nodes , which are @xmath234 of the ass in the networks .",
    "left : the full network map .",
    "singleton are displayed in the exterior and complex objects in the center .",
    "right : a zoom - in on a sample ( red box ) of the subgraph .",
    "the complex structure are mainly short lines and stars ( or star - like objects).,scaledwidth=100.0% ]    as discussed in the introduction , the internet is composed of autonomous subsystems , each we consider to be a player .",
    "it is one particular case to which our model can be applied , and in fact it has served as the main motivation for our study .",
    "accordingly , in this appendix we compare our theoretical findings with actual monthly snapshots of the inter - as connectivity , reconstructed from bgp update messages .",
    "our model predicts that , for @xmath235 , the type - a ( `` major league '' ) players will form a highly connected subset , specifically a clique ( section [ sub : the - type - a - clique ] ) .",
    "the type - b players , in turn , form structures that are connected to the clique .",
    "figure [ fig : clique subgraph ] presents the graph of a subset of the top 100 ass per january 2006 , according to caida ranking .",
    "it is visually clear that the inter - connectivity of this subset is high . indeed , the top 100 ass graph density , which is the ratio between the number of links present and the number of possible links , is 0.23 , compared to a mean @xmath236 for a random connected set of 100 .",
    "it is important to note that we were able to obtain similar results by ranking the top ass using topological measures , such as betweeness , closeness and k - core analysis .",
    "although , in principle , there are many structures the type - b players ( `` minor players '' ) may form , the dynamics we considered indicates the presence of stars and lines mainly ( sections [ sub : dynamical results ] and [ sub : monetary dynamics ] ) .",
    "while the partition of ass to just two types is a simplification , we still expect our model to predict fairly accurately the structures at the limits of high - importance ass and marginal ass .",
    "a _ @xmath58-core _ of a graph is the maximal connected subgraph in which all nodes have degree of at least @xmath58 .",
    "@xmath58-shell _ is obtained after the removal of all the @xmath58-core nodes . in fig .",
    "[ fig : clique subgraph ] , a snapshot of the sub - graph of the marginal ass is presented , using a @xmath58-core separation ( @xmath237 ) , where all the nodes in the higher cores are removed .",
    "the abundance of lines and stars is visually clear .",
    "in addition , the spanning tree of this subset , which consists of 75% of the ass in the internet , is formed by removing just 0.02% of the links in this sub - graph , a strong indication for a forest - like structure .    in the dynamic aspect",
    ", we expect the type - a players sub - graph to converge to a complete graph .",
    "we evaluate the mean node - to - node distance in this subset as a function of time by using quarterly snapshots of the as graph from january , 2006 to october , 2008 . indeed , the mean distance decreases approximately linearly .",
    "the result is presented in fig .",
    "[ fig : shell - core distance graph ] . also , the distance value tends to @xmath72 , indicating the almost - completeness of this sub - graph .        for a choice of core @xmath238 , the _ node - core distance _ of a node @xmath239",
    "is defined as the shortest path from node @xmath2 to any node in the core . in section",
    "[ sec : monetary - transfers ] , we showed that , by allowing monetary transfers , the maximal distance of a type - b player to the type - a clique ( the maximal `` node - core distance '' in our model ) depends inversely on the number of nodes in the clique and the number of players in general .",
    "likewise , we expect the mean `` node - core '' distance to depend inversely on the number of nodes in the clique .",
    "the number of ass increases in time , and we may assume the number of type - a players follows .",
    "therefore , we expect a decrease of the aforementioned mean `` node - core distance '' in time .",
    "fig [ fig : shell - core distance graph ] shows the mean distance of the secondary leading 2000 ass , ranked 101 - 2100 in caida ranking , from the set of the top 100 nodes .",
    "the distance decreases in time , in agreement with our model .",
    "furthermore , our dynamics indicate that the type - b nodes would be organized in stars , for which the mean `` node - core '' distance is close to two , and in singleton trees , for which the `` node - core '' distance is one .",
    "indeed , as predicted , the mean `` node - core '' distance proves to be between one and two .",
    "it is widely assumed that the evolvement of the internet follows a `` preferential attachment '' process . according to this process , the probability that a new node will attach to an existing node is proportional ( in some models , up to some power ) to the existing node s degree .",
    "an immediate corollary is that the probability that a new node will connect to any node in a set of nodes is proportional to the set s sum of degrees .",
    "the sum of degrees of the secondary ass set is ~1.9 greater than the sum of degrees in the core , according to the examined data .",
    "therefore , a `` preferential attachment '' class model predicts that a new node is likely to attach to the shell rather than to the core .",
    "as all the nodes in the shell have a distance of at least one from the core , the new node s distance from the core will be at least two . since the initial mean `` shell - core '' distance is ~1.26 , a model belonging to the `` preferential attachment '' class predicts that the mean distance will be pushed to two , and in general increase over time .",
    "however , this is contradicted by the data that shows ( fig [ fig : shell - core distance graph ] ) a decrease of the aforementioned distance .",
    "the slope of the latter has the 95% confidence bound of @xmath240 ) hops / month , a strong indication of a negative trend , in disagreement with the `` preferential attachment '' model class . in contrast , this trend is predicted by our model , per the discussion in section [ sec : monetary - transfers ] .",
    "in fact , if the internet is described by a random , power law ( `` scale free '' ) network , then the mean distance should grow as @xmath241 or @xmath242 ( ) .",
    "however , experimental observations shows that the mean distance grows slower than that ( ) , and it fact it may even be reduced with the network size , as predicted by our model ."
  ],
  "abstract_text": [
    "<S> we study the structure and evolution of the internet s autonomous system ( as ) interconnection topology as a game with heterogeneous players . in this network formation game , </S>",
    "<S> the utility of a player depends on the network structure , e.g. , the distances between nodes and the cost of links . </S>",
    "<S> we analyze static properties of the game , such as the prices of anarchy and stability and provide explicit results concerning the generated topologies . </S>",
    "<S> furthermore , we discuss dynamic aspects , demonstrating linear convergence rate and showing that only a restricted subset of equilibria is feasible under realistic dynamics . </S>",
    "<S> we also consider the case where utility ( or monetary ) transfers are allowed between the players .    </S>",
    "<S> this research was supported in part by the european union through the congas project ( http://www.congas-project.eu/ ) in the 7th framework programme . </S>"
  ]
}