{
  "article_text": [
    "stock chart values are an observable quantity and , as such , it is relevant to obtain market properties based solely on their characteristics .",
    "results obtained in that way , will be valid independently of the probability distribution imposed on the trajectory set modelling the stock charts .",
    "notice that financial market models based on stochastic processes implicitly incorporate a set of trajectories ; namely , the support of the process .",
    "the latter is a by - product of probabilistic assumptions while our proposed approach considers trajectory sets as a primary modelling object .",
    "theoretical developments in @xcite ( following @xcite ) show that , in a general discrete setting , there are natural conditions on the trajectory set which provide a worst case price interval for general european options .",
    "the results are probability free and the framework allows for a weakening of the no - arbitrage requirement .",
    "the basic results follow from trajectory assumptions guaranteeing that the option with zero payoff has zero price . natural connections with the well established stochastic approach",
    "are also described in @xcite .",
    "the present paper provides results that allow to evaluate the worst case price interval , originally given by a global minmax optimization , in terms of an iterative , dynamic programming , based optimization .",
    "we also show by example , how one can construct trajectory spaces by means of observable functionals defined on stock charts as well as other observable sources of uncertainty .",
    "in particular , we put forward specific trajectory based models of a single tradable financial underlying ( a zero interest rate bank account is also assumed . )",
    "the general class of models included in the formalism allow for certain arbitrage opportunities while , at the same time , providing a coherent price interval for options without introducing logical or practical inconsistencies .",
    "several important properties of the proposed models are proven and practical computational approaches are also described with some detail .",
    "relevant numerical examples illustrate the viability of the approach and some of the characteristics of the models studied .",
    "the general framework is a discrete market model @xmath0 where @xmath1 are the trajectories consisting of a sequence of pairs @xmath2 .",
    "the real numbers @xmath3 represent possible stock chart values and @xmath4 encodes other , observable , sources of uncertainty linked to the unfolding of the stock .",
    "the framework allows @xmath4 to take values in an arbitrary set .",
    "investment portfolios @xmath5 are given by functions @xmath6 that are non - anticipative and self - financing when considered together with the bank account .",
    "notice that we work in a discrete setting in the sense that portfolio rebalances are indexed by integers but the data @xmath7 ( stock charts ) can be considered to flow in a continuous time manner .",
    "on the other hand , financial transactions are naturally discrete and hence we obtain samples @xmath8 .    given an european option , with an appropriate payoff function @xmath9 and under basic conditions on @xmath10 , there exists a price interval @xmath11 $ ] ( @xmath12 is the initial stock value , common to all trajectories )",
    ". these bounds are trajectory based and , as such , need to be evaluated by a minmax optimization .",
    "this framework has been fully developed in @xcite which , in turn , built on the specific model introduced in @xcite ( see also the book exposition in @xcite ) .",
    "the approach can be considered a non - probabilistic financial model which uses a trajectory space as a central object for modelling .",
    "the approach in continuous time is discussed in @xcite and @xcite .",
    "there is a somewhat disjointed literature that approaches financial modelling in a similar way to what we do in our paper , we mention , as an example , @xcite .",
    "we present general and rigorous computational results that allow to evaluate the global minmax optimization , defining the price interval , by means of an iterative algorithm . to efficiently deal with the local optimization , a geometric algorithm , the so called _ convex hull _ , was introduced informally in @xcite and used to reduce the local minmax to a single maximization .",
    "this last step is achieved by parametrizing the hedging parameter by a geometric ratio and represents the essence of the convex hull algorithm .",
    "the hedging ratio is a discretized version of the delta hedging term appearing in the stochastic setting . we provide a formal analysis of the procedure while extending it to a general setting .",
    "if the payoff function is convex the maximization coincides with the result in @xcite .",
    "a general example of a trajectory set was introduced and explained with some detail in @xcite , specific instances of that model allow for trajectory dependent values of quadratic variation .",
    "the paper develops further this class of examples , in particular , values of @xmath4 are proposed and related to observable characteristics of an observable chart @xmath7 up to time @xmath13 .",
    "examples for @xmath4 could be quadratic variation , time , business time , etc . ,",
    "the latter interpreted as the volume of transactions along @xmath7 up to time @xmath13 . a particular case , dealing with sampled quadratic variation , is developed with some detail in section [ quadraticvariationcase ] .",
    "necessary conditions satisfied by chart samples are obtained based on how investors interact with chart data in an operational way .",
    "the trajectory examples @xmath14 presented in the paper substantially generalize the basic example introduced in @xcite . in particular , our trajectory sets allow the presence of @xmath15-neutral nodes which are arbitrage nodes .",
    "the paper is organized as follows , section [ sec : generalframework ] provides the general framework of the paper and describes notation and relevant results from @xcite to be used in the remaining of the paper .",
    "that section introduces the notion of @xmath15-neutral and its relationship with no - arbitrage .",
    "section [ othersourcseofuncertainty ] indicates how to generalize all previous results to the case when trajectories are augmented to allow for another source of uncertainty senoted by @xmath16 .",
    "this is a crucial extension for the remaining of the paper .",
    "section [ sec : pricingin0neutralmarkets ] describes a main result from @xcite establishing the existence of a pricing interval under @xmath15-neutrality hypothesis .",
    "we also present conditions on the option s payoffs guaranteeing the existence of the price bounds .",
    "section [ dynamicminimaxbounds ] establishes , under appropriate conditions , how to recover the global minmax optimization defining the bound prices by means of an iterative dynamic programming procedure .",
    "section [ sec : convexenvelope ] describes how the iterative procedure described in section [ dynamicminimaxbounds ] can actually be implemented by an efficient , geometrically based , algorithm named _",
    "convex hull_. this algorithm was introduced in @xcite for a specific model , we have formalized the result and extended it to our general setting .",
    "section [ chartsandtrajectories ] describes a general class of models and a particular case given by an operational setup involving sampled quadratic variation .",
    "section [ gridrepresentationofmodel ] describes a data structure supporting the implementation of the models introduced .",
    "section [ numerical ] presents numerical experiments and discuss their financial meaning .",
    "section [ sec : conclusions ] concludes by providing a perspective of the paper as well as some speculation on possible extensions .",
    "appendix [ minmaxfunctionsproofs ] provides most of the technical details , as well as some main statements , for the material presented in section [ sec : pricingin0neutralmarkets ] related to conditions on option payoffs .",
    "appendix [ sec : technicalresults ] contain technical results related to section [ dynamicminimaxbounds ] .",
    "appendix [ proofofchtheorem ] presents the convex hull algorithm for nodes which are strictly @xmath15-neutral .",
    "finally appendix [ sec : auxiliary ] gives some auxiliary results .",
    "we present briefly some of the basic notions we will need from @xcite and refer to that reference for details .",
    "[ trajectories ] given a real number @xmath17 a set of ( discrete ) trajectories @xmath18 is a subset of the following set @xmath19 where @xmath20 is a family of fixed subsets of @xmath21 .",
    "a portfolio @xmath22 is a sequence of ( pairs of ) functions @xmath23 with @xmath24 . a portfolio @xmath22 is said to be self - financing at @xmath25 if for all @xmath26 , @xmath27 a portfolio @xmath22 is called non - anticipative if for all @xmath28",
    ", satisfying @xmath29 for all @xmath30 , it then follows that @xmath31 .    a trajectory based discrete market ( or trajectory market for short )",
    "is defined by @xmath32 where elements @xmath33 are non - anticipative and self - financing at each @xmath34 . moreover , for each @xmath35 there exist an integer @xmath36 satisfying @xmath37 for all @xmath38 ( this fact will be referred to as @xmath22 being liquidated at @xmath39 ) . the zero portfolio is assumed to belong to @xmath40 .",
    "we introduce a more general setting that allows for other sources of uncertainty in section [ othersourcseofuncertainty ] .",
    "the following notion will be needed in several instances later in the paper .",
    "[ generaldiscretemodeldefinition ] the market @xmath41 will be called _ bounded _ , if for each @xmath42 there exists @xmath43 such that @xmath44 , for all @xmath45 .",
    "given @xmath46 , the self - financing property ( [ selffinancing ] ) implies that the portfolio value , defined by @xmath47 equals : @xmath48 of course , @xmath49 .    clearly , to specify self - financing portfolios , it is enough to provide sequences @xmath50 of non - anticipative functions and an associated real number @xmath51 .    for some results we will need the following definition .",
    "given a trajectory space @xmath52 a _ trajectory based stopping time _ ( or _ stopping time _ for short ) is a function @xmath53 such that if @xmath28 and @xmath54 for @xmath55 then @xmath56 .",
    "for @xmath57 we will use the notation @xmath58 for @xmath59 . whenever convenient , the tuple @xmath60 or the triple @xmath61 will be referred generically as _ a node_.    the following conditional spaces will play a key role .",
    "given @xmath62 , for @xmath63 and @xmath64 set : @xmath65 notice @xmath66 and that if @xmath67 , then @xmath68 .",
    "consequently , the family @xmath69 is a partition of @xmath52 , which will be useful for some results as in theorems [ fulldynamicprogramming ] and [ u - completedynamicprogramming ] .",
    "the framework introduced can be used to model continuous time market variables which are observed in a discrete fashion .",
    "so , the numbers @xmath3 can be considered as event driven samples from continuous data @xmath7 .",
    "a more detailed discussion is presented in @xcite .",
    "we use the following definition of no - arbitrage market .",
    "[ arbitragedefinition ] given a discrete market @xmath70 , we will call @xmath42 an arbitrage strategy if :    * @xmath71 , @xmath72 .",
    "* @xmath73 satisfying @xmath74 .",
    "we will say @xmath70 is arbitrage - free if @xmath40 contains no arbitrage strategies .",
    "the next conditional minmax bounds contemplate the possibility of conditioning on given values of @xmath75 and trading instance @xmath76 .    given a discrete market @xmath77 , a node @xmath78 and a function @xmath9 defined on @xmath79 , define @xmath80.\\ ] ] also define @xmath81 .",
    "we use the notation @xmath82 and @xmath83 .",
    "these quantities are called _ price bounds_.    [ conditionally0neutral ] we say that a discrete market @xmath62 is _ conditionally @xmath15-neutral _ at node @xmath60 , if @xmath84 for @xmath85 , we will just say that @xmath62 is @xmath15-neutral .",
    "the notion of @xmath15-neutral market , taken from @xcite , was originally introduced in @xcite and considered equivalent to arbitrage - free in their context . in our general setting , it is only a necessary condition for a discrete market to be arbitrage - free ( * ? ? ?",
    "* corollary 1 ) while simultaneously allowing for arbitrage opportunities and a well defined theory of option pricing .",
    "the next definition introduces two basic concepts : a local , and portfolio independent , analogue on @xmath79 of the @xmath15-neutral property of @xmath70 and a strengthening of this notion representing the local analogue of the arbitrage free property .",
    "[ @xmath15-neutral & arbitrage - free nodes ] [ localdefinitions ] given a trajectory space @xmath52 and a node @xmath86 :    * @xmath86 is called a _ @xmath15-neutral node _ if @xmath87 * @xmath86 is called an _ arbitrage - free node _",
    "if @xmath88 or @xmath89    @xmath52 is called _ locally @xmath15-neutral _ if ( [ cone ] ) holds at each node @xmath90 .",
    "@xmath52 is said to be _ locally arbitrage - free _ if either ( [ updownproperty ] ) or ( [ flatnode ] ) hold at each node @xmath90 .",
    "if just ( [ updownproperty ] ) holds at each node , it is said that @xmath52 satisfies the up - down property .",
    "a node that satisfies ( [ updownproperty ] ) will be called an up - down node , and a node satisfying ( [ flatnode ] ) will be called a _",
    "flat node_. a node that is @xmath15-neutral but that is not an arbitrage - free node , will be called an _ arbitrage node_.    observe that the local arbitrage - free property clearly implies the local @xmath15-neutral one .",
    "reference ( * ? ? ?",
    "* theorem 2 ) shows that local @xmath15-neutrality implies @xmath15-neutrality ( as per definition [ conditionally0neutral ] ) for bounded markets . by (",
    "* corollary 3 ) if @xmath91 is a bounded market where @xmath52 satisfies the local arbitrage - free property , and @xmath39 are stopping times for any @xmath92 , then @xmath70 is arbitrage free .",
    "the formalism just introduced as well as all the developments that follow in the paper can be extended by incorporating another source of uncertainty besides the stock . in order to alleviate the notation in earlier sections",
    ", we will only incorporate explicitly this extra variable starting in section [ chartsandtrajectories ] .",
    "this extra source of uncertainty will be denoted by @xmath93 which , in financial terms , will be considered to be an observable quantity .",
    "the sequence elements @xmath4 are assumed to belong to abstract sets @xmath94 from which we only require to have defined an equality relationship .",
    "we provide next the simple changes to the previous definitions to accommodate for the new source of uncertainty .",
    "the arrow notation @xmath95 indicates how the objects change ( @xmath96 are fixed ) .",
    "@xmath97 besides the above changes , that concern mostly trajectory sets and the functional dependency @xmath98 in terms of both variables @xmath99 , all statements and properties appearing in the paper , only involve the first coordinate @xmath3 ( in the tuples @xmath100 ) in all algebraic manipulations and are valid in the extended setting .",
    "clearly , @xmath22 is required to be non - anticipative with respect two both variables @xmath101 and @xmath102 .",
    "the new formalism allows @xmath16 to be used for modeling the unfolding of stock trajectories and so , quantities involved in hedging and intermediate computations will have a dependency on @xmath16 .",
    "we refer to @xcite for more precision on this extended / augmented formalism .",
    "we will make explicit use of other sources of uncertainty in a good portion of the paper .",
    "this section resumes results from @xcite providing conditions on the market @xmath103 that guarantee the existence of a price interval for a given function @xmath9 defined on @xmath52 .",
    "the notion of integrability of such functions is replaced by the , so called , minmax functions .",
    "also conditions for the boundedness of @xmath104 and @xmath105 are given .",
    "[ havinganintervaltheorem ] consider a bounded market @xmath32 and a function @xmath9 defined on @xmath52 ; fix @xmath45 and @xmath64 .",
    "if any node @xmath106 , with @xmath107 and @xmath108 , is @xmath15-neutral , then @xmath109    the result is a special case of corollary 2 in @xcite by noticing that a bounded @xmath39 is also initially bounded ( a further condition needed to apply the quoted corollary ) .",
    "notice that we are assuming portfolios are liquidated at @xmath39 ( i.e. @xmath110 for @xmath111 ) .    under the assumption that @xmath112 , we will call @xmath113 $ ] the price interval of @xmath9 relative to @xmath70 .",
    "the next theorem gives local conditions ensuring that a discrete market is conditionally @xmath15-neutral .",
    "the result is used in the next section to show boundedness of the price bounds as well as in section [ dynamicminimaxbounds ] .",
    "[ 0-neutral ] ( * ? ? ?",
    "* theorem 2 ) given a bounded market @xmath103 , @xmath64 , @xmath114 . if any node @xmath86 , @xmath115 and @xmath116 is @xmath15-neutral then , @xmath70 is conditionally @xmath15-neutral at @xmath117 .",
    "the above theorem holds in more general settings as the bounded assumption on @xmath70 can be relaxed in several ways ( @xcite ) .",
    "the integrability conditions , required for payoffs in a probabilistic setting , are replaced in the proposed framework by the , so called , minmax functions ( introduced in ( * ? ? ?",
    "* definition 14 ) ) . in what follows consider a discrete market @xmath32 , and a function @xmath9 defined on @xmath52 .",
    "( upper and lower minmax functions ) [ minmaxfunctions ] given a finite sequence of stopping times @xmath120 with @xmath121 for @xmath122 , a real sequence @xmath123 , and @xmath124 , we call @xmath9 an _ upper minmax function _ if @xmath125 similarly , @xmath9 is called a _",
    "lower minmax function _",
    "if @xmath126    ( * ? ? ?",
    "* section 5 ) provides several examples of options belonging to the class of minmax functions .",
    "proposition [ finiteboundsfromminmaxfunctions ] , in appendix [ minmaxfunctionsproofs ] , provides conditions for the boundedness of @xmath127 and @xmath128 .",
    "arguably , attempting a direct evaluation of the minmax optimization required in ( [ conditionalbounds ] ) and in related expressions , is a daunting task .",
    "moreover , the minmax formulation of the problem gives no clues on how to construct the hedging values @xmath129",
    ", for a given payoff @xmath9 , by means of the unfolding path values @xmath130    consider next another pair of numbers , first proposed in @xcite , namely @xmath131 and @xmath132 .",
    "these numbers are obtained through a dynamic , or iterative , definition each instance involving a local minmax optimization . using these definitions we provide conditions under which the global and the iterated definitions coincide .",
    "a special case of the iterative construction was introduced informally in @xcite ( see also @xcite and @xcite ) and for specific discrete market models . here",
    "we formalize the validity of the approach in such a way that becomes available in a more general class of models and at the same time indicating the differences with the global minmax approach .",
    "the references @xcite and @xcite provide a dynamic programming version of a global minmax optimization .",
    "our approach differs as we make use of specific hypothesis present in our setting .    for simplicity",
    ", we introduce the dynamic programming bounds by restricting further the notion of bounded market .",
    "we will deal with @xmath133-bounded discrete markets :    [ nboundeddefinition ] a market @xmath41 is called @xmath133-bounded if there exists a constant @xmath133 so that : @xmath134    we will later introduce further restrictions on the set of portfolios @xmath40 . if @xmath39 are stopping times for any @xmath135 , then so",
    "is also @xmath136 . to see this ,",
    "let @xmath137 , and @xmath138 ; since @xmath139 , for any @xmath135 , and @xmath140 for @xmath141 then @xmath142 so @xmath143    the following inductive definition gives the basic dynamic programming formulation to compute @xmath144 .    [ dynamicbounds ]",
    "consider an @xmath133-bounded , discrete market @xmath70 ; for a given function @xmath9 defined on @xmath52 , any @xmath57 , and @xmath145 set @xmath146 @xmath147    and for @xmath148 , @xmath149\\}.\\ ] ] also define @xmath150 .",
    "@xmath151    1 .   since @xmath152 and @xmath153",
    "just depend on @xmath12 , we adopt the notation @xmath131 and @xmath132 , respectively .",
    "2 .   note that in the previous definition @xmath154 3 .   from lemma [ movingsupinside ] in appendix [ sec : technicalresults ] , @xmath155\\}\\cdots ] \\}]\\}. \\label{expandingtheiteration}\\end{aligned}\\ ] ]    [ stoppingtimeequalityofdynamicbounds ] assume @xmath39 is stopping time for any @xmath135 and fix @xmath156 and @xmath145 :    if @xmath157 then @xmath158 .    since we already have noted that @xmath136 is a stopping time then @xmath159 if @xmath160 and where @xmath161 . moreover , for @xmath157 , @xmath162 if and only if @xmath163 .",
    "if @xmath165 . reasoning inductively , assume @xmath166 and that the statement to be proven is valid for @xmath167 , consequently @xmath168 .",
    "then @xmath169\\ } = \\\\ & = & \\inf_{h\\in{\\mathcal{h}}}~\\{\\sup_{\\tilde{s}\\in\\mathcal { s}_{(s , i ) } } [ \\overline{u}_{i+1}(\\tilde{s } , z,{\\mathcal{m } } ) - h_i(s ) \\delta_i\\tilde{s}]\\ } = { \\overline{u}}_i(s , z,{\\mathcal{m } } ) .",
    "\\nonumber\\end{aligned}\\ ] ]    for any @xmath57 and @xmath170 , define @xmath171 in the sequel , we will make use of the following rewrite of the expression in ( [ dynamicbound ] ) .    for @xmath172 , @xmath173\\}.\\ ] ]",
    "observe that if @xmath174 , then @xmath68 and @xmath175 .",
    "we have the following general relationship between the global and dynamic bounds .    [ useful ] for any function @xmath9 defined on a discrete @xmath133-bounded market @xmath32 ,",
    "the following inequality holds : @xmath176 and hence @xmath177 is also valid .",
    "fix @xmath42 , using @xmath178 in ( [ expandingtheiteration ] ) it follows that @xmath179 @xmath180\\}\\ldots ] \\}].\\ ] ] recursively , setting @xmath181 , @xmath182 , we obtain the following inequality : @xmath183 @xmath184 \\ldots ] ] .\\ ] ]    the result then follows by using ( [ simpleupperestimate ] ) in combination with ( [ movingsupinsideindentity ] ) from appendix [ sec : technicalresults ] .",
    "the next corollary , being a consequence of theorem [ 0-neutral ] and proposition [ useful ] , represents the dynamic analogous of the @xmath15-neutral condition ,    [ necessarydynamiccondition ] let @xmath32 a discrete @xmath133-bounded market model and @xmath185 a function defined on @xmath52 . if @xmath52 satisfies the local @xmath15-neutral property , then :    1 .   for any @xmath57 , and @xmath145 , @xmath186 .",
    "2 .   @xmath187 .",
    "for @xmath188 we proceed by induction backwards , since @xmath189 this is so by definition as for any @xmath57 , @xmath190 .",
    "assume @xmath191 , for some @xmath192 and any @xmath57 .",
    "for fixed @xmath75 , if @xmath165 then @xmath193 or @xmath194 . on the other hand , if @xmath195 , since @xmath52 satisfies the local @xmath15-neutral property at @xmath196 , for any @xmath92 @xmath197\\ge 0.\\ ] ] indeed , if @xmath198 then , @xmath199=0 $ ] . if @xmath200 , by ( [ cone ] ) , @xmath201\\ge 0,\\]]and this is also true if @xmath202 .",
    "thus @xmath203 \\ge 0 $ ] and then @xmath204 statement @xmath205 follows from proposition [ useful ] and item @xmath188 above since @xmath206 where the last equality follows from theorem [ 0-neutral ] .",
    "we are interested in obtaining the reverse of inequality ( [ firstinequality ] ) .",
    "to achieve that goal , it will be necessary to introduce some conditions on the set of portfolios , as well as other conditions , that imply equality in the inequality ( [ firstinequality ] ) and also lead to an efficient method to compute the dynamic bounds .",
    "results in @xcite suggest that having all possible portfolios may lead to establishing the desired equality ; this motivates the following definition .    [",
    "full ] given a discrete market @xmath32 , consider @xmath207 , @xmath208 , @xmath115 and range set , @xmath209 we will say that @xmath40 is _ full _ , if the set of functions with domain @xmath210 and range @xmath211 , which are non - anticipative with respect to the first @xmath212 coordinates of its argument , coincides , for any such @xmath213 and @xmath212 , with the set of functions @xmath214 where @xmath33 .",
    "observe that @xmath215 for @xmath216 , then the notation @xmath211 is justified .",
    "a useful , particular possibility is that @xmath217 , for any @xmath207 , and @xmath57 .",
    "the following theorem shows that the condition _ full _ on the set of portfolios assures the equality in ( [ firstinequality ] ) .",
    "observe that that condition is natural , in the sense that any of the values @xmath218 , taken by a portfolio @xmath135 , at a rebalancing instance @xmath212 , for some @xmath156 , should also be taken at any @xmath219 if @xmath220 .",
    "it means that there exists @xmath221 such that @xmath222 .",
    "so , any set of portfolios @xmath40 can be extended to a set @xmath223 which is _ full _ as we explain next .    for @xmath115 and @xmath224 , non - anticipative with respect to the first @xmath212 coordinates of its argument ,",
    "define @xmath225 this is a well defined function by non - anticipativity and because @xmath210 is a partition of @xmath52 . defining @xmath226 for @xmath227 , the collection of functions @xmath228 are non - anticipative .",
    "moreover for any @xmath75 and @xmath212 there exist @xmath229 ( actually the same for all @xmath230 ) such that @xmath231 ; we can then set @xmath232 which is well defined if @xmath70 is @xmath133-bounded .    [ fulldynamicprogramming ] for a general @xmath133-bounded market @xmath233 , where @xmath40 is full , and for a given function @xmath9 defined on @xmath52 , we have @xmath234    we proceed by induction on @xmath133 . for @xmath235 , we have from ( [ conditionalbounds ] ) and definition [ dynamicbounds ] that @xmath236 = { \\overline{u}}_0(s_0 , z , { \\mathcal{m}}).\\ ] ] let us now assume that the theorem holds for every @xmath133-bounded discrete market model for which @xmath40 is full , and consider an @xmath237-bounded one , @xmath233 . by lemma [ inductionmodelproof ] , item @xmath205 , it follows that @xmath238 where @xmath239 , @xmath240 , @xmath241 , are introduced by definition [ inductionmodel ] ( this definition and quoted lemmas are located in appendix [ sec : technicalresults ] ) . by lemma [ inductionmodelproof ] , item @xmath188 , and lemma [ fullinductionmodelproof ] ,",
    "@xmath239 is a @xmath133-bouded discrete market model , and @xmath242 is full , then , by inductive hypothesis we have , @xmath243 recall that @xmath244 , in the last expression , depends on each selection of @xmath245 ; it can be written as , @xmath246\\}=\\ ] ] @xmath247\\}.\\ ] ] becasuse proposition [ useful ] we only need to prove the inequality , @xmath248 thus , we can assume that @xmath249 , and consequently for @xmath250 , @xmath251 .",
    "fix @xmath252 , then for each conditional space of trajectories : @xmath253 there exists @xmath254 , such that    @xmath255 < \\varepsilon + { \\overline{v}}_0(\\hat{s}_0 , \\hat{z},\\mathcal{\\widehat{m}}_1).\\ ] ] then for @xmath256 @xmath257 < \\varepsilon",
    "-h^0_0(s^1)\\delta_0s^1 + \\overline{v}_0(\\hat{s}_0 , \\hat{z},\\mathcal{\\widehat{m}}_1).\\ ] ] since @xmath40 is full , there exist @xmath258 such that , @xmath259 and for any @xmath250 @xmath260 the functions @xmath261 are well defined , since the family @xmath262 is a partition of @xmath52 .",
    "now , from ( [ firstnontrivialinequality ] ) , we have @xmath263 < \\varepsilon + \\sup_{s^1\\in { \\mathcal{s } } } \\{-h^0_0(s^1)\\delta_0s^1 + \\overline{v}_0(\\hat{s}_0 , \\hat{z},\\mathcal{\\widehat{m}}_1)\\},\\ ] ] and from ( [ fullinductionequality ] ) , @xmath264 \\\\ &",
    "\\le & \\varepsilon + \\inf_{h^0\\in { \\mathcal{h}}}\\sup_{s^1\\in { \\mathcal{s } } } \\{-h^0_0(s^1)\\delta_0s^1 + \\overline{v}_0(\\hat{s}_0 , \\hat{z},\\mathcal{\\widehat{m}}_1)\\ } \\\\ & = & \\varepsilon + \\overline{u}_0(s_0 , z,{\\mathcal{m}}).\\end{aligned}\\ ] ]    there are other conditions on the set of portfolios which lead to the equality ( [ fulldynamicprogramingequality ] ) , we present an example next .",
    "we introduce another condition that allows to have the equality @xmath265 .",
    "most of the proofs and some new notation that is required for this subsection , is included in appendix [ sec : u - completeproofs ] .",
    "we will say that an n - bounded discrete market @xmath70 is _ u - complete _ with respect to a real function @xmath9 defined on @xmath52 , if for any @xmath156 , and @xmath266 , there exists @xmath267 verifying @xmath268.\\ ] ]    recalling remark [ stoppingtimeequalityofdynamicbounds ] , if @xmath39 is a stopping time , equation ( [ u - complete ] ) is valid for any @xmath269 , in the sense that @xmath270 can be the left member of the equality .",
    "[ u - completedynamicprogramming ] if @xmath32 is an @xmath133-bounded discrete market _ u - complete _ with respect to a given function @xmath9 defined on @xmath52 , then @xmath271    taking together , lemma [ u - completionofmarkets ] and theorem [ usefulthforucomplete ] below provide practical and useful hypothesis for an application of theorem [ u - completedynamicprogramming ] above .",
    "[ u - completionofmarkets ] consider an @xmath133-bounded discrete market @xmath32 and node @xmath272 with @xmath273 .",
    "if @xmath274 given by ( [ portfoliosrange ] ) is a compact subset of @xmath275 or @xmath52 satisfies the up - down property ( as per definition [ localdefinitions ] ) at @xmath276 and @xmath277 , then there exists @xmath278 , verifying for any @xmath279 that @xmath280 = \\sup_{s'\\in { \\mathcal{s}}_{(s , k ) } } ~~[{\\overline{u}}_{k+1}(s ' , z , { \\mathcal{m } } ) - u^ * \\delta_ks'].\\ ] ] moreover , in the case @xmath277 , there exists @xmath281 such that @xmath282 .",
    "if all @xmath39 are stopping times ( and so is @xmath136 as well ) , @xmath279 and @xmath283 then , the left side of ( [ u - completionequation ] ) is @xmath284 .",
    "[ usefulthforucomplete ] assume @xmath41 is an @xmath133-bounded discrete market , such that @xmath39 is a stopping time for any @xmath135 .",
    "also assume that for any @xmath57 and @xmath285 , the sets @xmath286 introduced by ( [ portfoliosrange ] ) and @xmath79 verify the hypothesis of lemma [ u - completionofmarkets ] .",
    "define @xmath287 where @xmath288 is given by lemma [ u - completionofmarkets ] with @xmath289 and @xmath76 and verifies ( [ u - completionequation ] ) . also define @xmath290 then , with @xmath291 , @xmath292 is an _ u - complete _ discrete market .",
    "first it is necessary to show that @xmath293 defined by ( [ u - completionportfolio ] ) is non - anticipative .",
    "let @xmath294 with @xmath295 for @xmath296 , then @xmath297 and @xmath298 , so @xmath299 .    for the u - completion of @xmath300 , we first prove by backward induction that @xmath301 for any @xmath145 .    since for any @xmath156",
    ", @xmath302 , it is clear that @xmath303 .",
    "assume by inductive hypothesis that @xmath301 for any @xmath304 and observe that @xmath305 .",
    "notice that the fact that @xmath39 is a stopping time for any @xmath135 implies @xmath306 is also a stopping time .",
    "therefore , using ( [ rangedynamicbound ] ) we obtain , @xmath307\\ } = \\\\ \\\\ & = & \\inf_{u \\in i^{j}_{s}}~\\{~\\sup_{s'\\in{\\mathcal{s}}_{(s , j)}}[{\\overline{u}}_{j+1}(s',z,{\\mathcal{m}})-u~\\delta_js]=   { \\overline{u}}_{j}(s , z , { \\mathcal{m } } ) .",
    "\\end{array}\\ ] ] finally for ( [ u - completionequation ] ) , for any @xmath207 , @xmath308,\\ ] ] with @xmath309 .",
    "this section describes how to calculate the dynamic bounds @xmath310 introduced in the previous section . in what follows",
    ", we will assume that the dynamic bounds are finite , this , for example , follows by an application of proposition [ useful ] or under the assumptions of proposition [ finitenesscondition ] .",
    "we will consider an @xmath133-bounded discrete market @xmath311 ( as per definition [ nboundeddefinition ] ) , with @xmath40 full . then , under these conditions , @xmath312 .    for @xmath45 , and",
    "@xmath313 we are going to indicate a geometric procedure , originally introduced in @xcite for a specific example , in order to compute ( [ rangedynamicbound ] ) : @xmath314 for an arbitrary , but momentarily fixed , @xmath157 , set @xmath315 i.e. the line in the plane , through the point @xmath316 with slope @xmath317 .",
    "thus , @xmath318 is the intersection of @xmath319 with the vertical straight line @xmath320 .",
    "therefore , for each fixed @xmath321 , with some abuse of language @xmath322 is the largest of the ordinates of the points of intersection between the straight lines @xmath319 and @xmath323 . then @xmath310 becomes the lowest value of these largest intersections .    to complete the geometric procedure to compute @xmath310 ,",
    "assume that both of the following sets are nonempty , @xmath324 the sets can also be defined interchanging the strict inequality . for @xmath325 and @xmath326",
    "lets call @xmath327 the slope of the straight line in the plane through the points @xmath328 and @xmath329 .",
    "next we are going to show that @xmath330 that is , @xmath310 , is the largest intersection of the referred lines with the line @xmath323 .",
    "[ obs:2 ] for any @xmath331 and @xmath332 @xmath333    [ prop:2 ] let @xmath32 an @xmath133-bounded discrete market .",
    "then , for all @xmath45 , @xmath334    we consider first the case @xmath335 .",
    "let @xmath336 , then there is @xmath337 and @xmath338 such that @xmath339 for @xmath321 such that @xmath340 , @xmath341 on the other hand , if @xmath342 , observing that by remark [ obs:2 ] , @xmath343 @xmath344 then @xmath345 for all @xmath346 and for all @xmath347 .",
    "therefore @xmath348 = { \\overline{u}}_i(s , z,{\\mathcal{m}}).\\ ] ]    assume now @xmath349 .",
    "then , for all @xmath350 there exist @xmath325 , @xmath351 such that @xmath352 with a similar reasoning than before it follows that @xmath353 for all @xmath350 and @xmath346 , therefore @xmath354    the next theorem , which requires extra assumptions , will give us an easier way to solve the optimization problem for @xmath355 .",
    "this will allow us to present more efficient algorithms .",
    "the assumption @xmath355 is a convenient way of guaranteeing @xmath356 .",
    "[ convexhullthm ] let @xmath32 a @xmath133-bounded discrete market . if for any @xmath57 , @xmath355 , and either one the two following conditions for @xmath45 below hold ,    1 .",
    "@xmath357 for some @xmath358 , @xmath359 .",
    "2 .   for any @xmath360 ,",
    "latexmath:[$0<a\\le    @xmath75 ) .    then , @xmath362    as a special case of theorem [ convexhullthm ] we can obtain a result from @xcite for european convex payoffs . an european option defined in a market @xmath103 will be called convex , if its payoff function @xmath9 is given by a convex real variable function @xmath363 , as @xmath364 for any @xmath45 .",
    "notice that the parameters @xmath365 and @xmath366 appearing in the next corollary could depend on @xmath367 .",
    "[ convexpayoffcorollary ] let @xmath368 .",
    "consider a @xmath133-bounded market @xmath41 in which the stock trajectories satisfy the constraints : @xmath369.\\ ] ] let @xmath370 be the payoff function of an european derivative , and assume that @xmath363 is convex and @xmath371 a stopping time .",
    "then , for all @xmath45 and @xmath372 the dynamic bounds are convex and generated by @xmath373 where @xmath374 such that @xmath375 and @xmath376 .",
    "let @xmath45 such that @xmath377 .",
    "then , by theorem [ convexhullthm ] , @xmath378 since @xmath70 is an @xmath133-bounded market and @xmath136 is a stopping time , @xmath379 for all @xmath380 . then @xmath381 . on the other hand , since @xmath382 for any @xmath383 and @xmath9 is convex , @xmath384 similarly , since @xmath385 for any @xmath386 and @xmath9 is convex , it follows @xmath387 then by lemma [ lem:1 ] in appendix [ sec : auxiliary ] , @xmath388 for all @xmath383 and @xmath389 .",
    "therefore @xmath390 @xmath391 since the property of convexity is preserved under scaling and under taking positive linear combienations , it is seen from the above that @xmath392 is convex and only depends on the value of @xmath393 .",
    "+ we proceed now by backward induction ; let @xmath394 and suppose that @xmath395 is convex and generated by for all @xmath396 .",
    "so @xmath397 is a convex function with respect to @xmath398 $ ] .",
    "then , with the same calculations that we use for the case @xmath399 , we can prove that @xmath400 is convex and generated by for all @xmath45 such that @xmath377 .",
    "reasoning by induction over @xmath401 , is generalized for all @xmath45 .",
    "we now obtain some simplifications that apply to arbitrage @xmath15-neutral nodes , towards this end , we refine definition [ localdefinitions ] .",
    "consider a discrete market @xmath103 , and a node @xmath196 .    1 .",
    "we call @xmath402 a _ positive _ arbitrage node if @xmath403 2 .",
    "we call @xmath402 a _ negative _ arbitrage node if @xmath404    observe that in a negative arbitrage node @xmath405 , while in a positive arbitrage node @xmath406    [ convexityofdynamicbounds ] let @xmath32 be an @xmath133-bounded discrete market , and consider the hypothesis of theorem [ convexhullthm ] item ( 1 ) . for any node @xmath402 , @xmath407 , which is either a negative arbitrage node , or a positive arbitrage node , and @xmath408 is nonempty , it holds that @xmath409    assume @xmath402 is a positive arbitrage node and @xmath410 .",
    "it follows that for any @xmath411 @xmath412 thus @xmath413 and the result follows from theorem [ convexhullthm ] .    for a negative arbitrage node ,",
    "the proof is similar and making use of theorem [ convexhullthm ] with the alternative definitions for @xmath414 .",
    "this section provides examples of trajectory sets defined by means of an additional source of uncertainty ( denoted by @xmath16 ) besides the stock .",
    "section [ othersourcseofuncertainty ] explained how the formalism accommodates such an augmented setting . a general class of models and a discretized version of them",
    "are developed as well as a concrete example based on sampled quadratic variation .",
    "the models to be described here were partially introduced in @xcite .",
    "we refer to that paper for an extended discussion on how to interpret the models , for this reason , explanations below are kept brief .",
    "one should not get the wrong impression that these are the only possible models supported by the formalism , on the contrary , the approach allows for trajectory sets that could be constructed from historical data , random samples from large collection of trajectories , etc .",
    "we refer to section 10 from @xcite where trajectory sets are constructed by sampling paths of continuous time martingales .",
    "the general principle guiding the construction is to isolate an observable quantity ( representing a variable of interest ) and proceed to define a trajectory space by imposing constraints relating the trajectories and a free variable representing this observable . in some cases , this process allows to impose natural constraints that follow from the discrete nature of the financial transactions . for simplicity @xmath16",
    "is chosen to be one dimensional and in applications is meant to be associated to the values taken by an observable quantity which unfolds along the stock _ chart _ @xmath7 .",
    "this latter quantity could unfold in continuous time and its future values be influenced by a source of uncertainty encoded in @xmath16 .",
    "thus , we use the augmented formalism introduced in section [ othersourcseofuncertainty ] and so , trajectories are sequences of tuples @xmath415 .",
    "there is no essential result in our paper that requires @xmath416 , so there is no need to use the exponential function in the definition @xmath417 but , doing so makes it easier to connect with the usual geometric stochastic models as well as with @xcite .",
    "notice that when using @xmath417 one should use the word _",
    "charts _ for the data @xmath418 , instead of @xmath7 as we do , but we allow ourselves some abuse of language at this point .",
    "the definition below assumes given : @xmath419 , @xmath17 and @xmath420 real numbers , @xmath421 and sets @xmath422 .",
    "[ implicitdefinitionthroughconstraints ] @xmath423 will denote a subset of @xmath424 ( this last set as in ( [ generalset ] ) ) so that @xmath425 satisfies @xmath426 , @xmath427 and :    1 .",
    "@xmath428 for all @xmath26 , 2 .",
    "@xmath429 for all @xmath26 .",
    "+ moreover , there exists at least one @xmath430 such that 3 .",
    "@xmath431 .",
    "associated discrete markets @xmath432 are required to satisfy : @xmath33 then @xmath433 .",
    "[ directlymodelingthestock ] as already mentioned , the condition @xmath428 could equally be replaced by @xmath434 ( of course with an appropriately chosen value for @xmath366 ) .",
    "we emphasize that @xmath423 , as characterized above , does not need to be , in general , the set of _ all _ trajectories @xmath435 satisfying the listed constraints in definition ( [ generalconstraints ] ) . for @xmath425 there could be multiple indexes @xmath430",
    "satisfying @xmath436 above .    sets of type @xmath437 can be used for modeling the unfolding of a data chart @xmath438 by mapping @xmath439 , one index @xmath440 at a time ( i.e. as the chart unfolds ) , to its closest path @xmath441 . here",
    "@xmath442 is an observable quantity that changes as the path unfolds , say the volume of transactions , quadratic variation , etc . in the context of an option contract expiring at time @xmath443",
    ", @xmath444 will be a possible value being taken by @xmath445 . in the case when @xmath4 represents the quadratic variation of the chart @xmath7 up to time @xmath13 ,",
    "the constraints defining @xmath446 can be interpreted as imposing constraints on the consumed quadratic variation and on the absolute value of the change on chart values , both in between consecutive trading instances .",
    "the condition @xmath447 means we deal with trajectories whose total quadratic variation in the interval @xmath448 $ ] belongs to the a - priori given subset @xmath449 .",
    "it should be clear that one can use other algebraic combinations , such as @xmath450 and impose constraints on such expressions .",
    "the trajectory set introduced in @xcite can be recovered as a special case of definition [ implicitdefinitionthroughconstraints ] by taking @xmath451 and defining the set of _ all _ trajectories @xmath452 such that item @xmath188 from definition [ implicitdefinitionthroughconstraints ] holds and defining @xmath453 moreover one requires that there exists @xmath454 satisfying @xmath455 therefore @xmath456 and , by taking @xmath457 , the constraint @xmath458 in definition [ implicitdefinitionthroughconstraints ] holds .",
    "moreover , as @xmath4 depends on @xmath459 there is no need to work with tuples @xmath100 in this case .",
    "the introduction of @xmath4 as an independent variable , in particular not defined by ( [ bjnqv ] ) , allows to widen the scope of applicability of the model given by definition [ implicitdefinitionthroughconstraints ] , in particular , now @xmath4 can represent any variable of interest such as number or volume of transactions , time , quadratic variation , etc . moreover , not imposing ( [ bjnqv ] ) allows to incorporate arbitrage @xmath15-neutral nodes ( see definition [ localdefinitions ] ) .",
    "this is so as we can have @xmath460 while having @xmath461 .",
    "the following section describes an instance of the above introduced class of trajectory sets .",
    "a specific trajectory set of the type @xmath437 is introduced here ; it presents a concrete example of how one may map chart values @xmath7 , on an interval @xmath448 $ ] , to a set of trajectories @xmath462 , the latter to be defined .",
    "market charts belong to a subset of all functions @xmath463 where @xmath464 is the minimum possible change of a chart value and @xmath465 for all @xmath466 .",
    "we do not model the admissible charts @xmath466 directly but obtain necessary conditions satisfied by their samples in an operational setting involving sampled quadratic variation defined by : @xmath467 and the assumption that , for each @xmath466 , the dynamic sampling times @xmath468 , obey @xmath469 where @xmath470 is a given constant .",
    "we call the right hand side of the above inequality a _ jump _ constraint . in practice one",
    "may construct the samples @xmath471 recursively by , given @xmath471 , letting @xmath472 to be the smallest real number satisfying ( [ finestsamplesbounds ] ) .",
    "therefore , we work in a setting where sampled quadratic variation for an unfolding chart @xmath466 is measured along times @xmath473 , a set that will be @xmath466-dependent . for convenience each change @xmath474 will be referred as a _ time - tick_.    portfolio rebalances take place along times @xmath475 , with @xmath476 .",
    "we do not necessarily assume consecutive rebalancing , i.e. if @xmath477 , in general @xmath478 ; notice that @xmath479 and @xmath480 .",
    "the basic operational and modeling hypothesis are given by the definition ( [ sampledqv ] ) and the assumption ( [ finestsamplesbounds ] ) .",
    "we will associate @xmath438 to @xmath3 and may write @xmath481 .",
    "the charts @xmath7 take discrete values @xmath482 with @xmath483 so , we will set @xmath484 .",
    "we define the augmented trajectory coordinates @xmath485 and associate @xmath486 .    regarding the set @xmath449",
    ", one can proceed in two alternative ways ; first by setting @xmath449 to be a set containing all possible values taken by @xmath487 secondly , by prescribing a smaller set @xmath449 and explicitly assuming the values attained by ( [ possiblequadraticvariations ] ) belong to such a set @xmath449 for all charts @xmath466 . in either case @xmath488 .",
    "assume also the existence of an option @xmath9 in the interval @xmath448 $ ] .",
    "we will be making assumptions on investors who re - balance their portfolios along such @xmath466 and at times @xmath489 and that are involved in trading to approximate the option s payoff maturing at @xmath443 .",
    "@xmath33 could also trade to take advantage of any perceived miss - price in the option , in particular , investors will consider the expiration time @xmath443 while setting up their portfolios , this will be reflected by a constraint on the quadratic variation of the form @xmath433 .",
    "that is , we associate @xmath490 .",
    "given a node @xmath100 we define possible values @xmath491 by providing a set of possible pair of integers @xmath492 .",
    "this set of possible ( pairs ) of integers is motivated by chart changes under which investors may decide to re - balance their portfolios . in this way",
    ", the model will show the impact on minmax prices due to the operational setup .    assuming a trajectory has moved an arbitrary amount @xmath493 we will obtain a relationship with a corresponding change in @xmath494 .",
    "the stock having moved from @xmath8 to @xmath495 , it follows that there exist @xmath496 such that @xmath497 and @xmath498 with @xmath499 , @xmath500 .",
    "therefore @xmath501 since @xmath502 are consecutive elements in our fine sampling , we also have @xmath503 we can write @xmath504 with @xmath505 ; this fact and ( [ selectingonlywhenitmovesup ] ) imply @xmath506 using the association @xmath507 \\rightarrow \\delta_i w$ ] we set the following constraint for our trajectory model : @xmath508 and @xmath509 .    at first sight",
    "a trajectory model given by ( [ modelm0equiv ] ) seems miss - specified as there is no upper bound for @xmath510 for a given @xmath511 .",
    "this issue can be remedied by assuming @xmath449 to be bounded and noticing that this implies @xmath512 where @xmath513 is the smallest integer such that @xmath514 .",
    "therefore , considering @xmath515 will be irrelevant because necessarily @xmath516 for any possible @xmath517 .",
    "next , we add a further operational assumption implying an upper bound for @xmath509 and a tighter lower bound for @xmath509 as well . specifically , we consider those investors that will contemplate rebalancing their portfolios at , or prior than , @xmath518 time - ticks .",
    "@xmath518 is an integer satisfying @xmath519 .",
    "another way to say this , is that these investors do not want to face the risk originating from contemplating no portfolio rebalance during the next @xmath518 time - ticks following their last portfolio rebalancing .",
    "it follows that @xmath520 notice that from ( [ finestsamplesbounds ] ) we also obtain @xmath521 .",
    "we can also repeat the previous analysis leading to ( [ modelm0 ] ) ; specifically , we modify ( [ basicrelationship ] ) as follows : @xmath522    making use of the above obtained relationships , we define @xmath14 to be the set of _ all _ @xmath523",
    "so that @xmath524 or , equivalently , @xmath525 moreover , @xmath488 is assumed to be such that for each @xmath435 as above there exists al least @xmath430 with @xmath526 .",
    "one should also specify the range sets @xmath527 and @xmath94 ( something not essential for the example at this point and so we will skip it ) .",
    "we will specify these quantities in section [ numerical ] along with an explicit @xmath449 .",
    "taking into consideration remark [ directlymodelingthestock ] , @xmath14 then satisfies definition [ implicitdefinitionthroughconstraints ] , and could then be denoted by @xmath528 .",
    "given @xmath466 and @xmath529 , it follows that the chart assignations @xmath530 , @xmath531 gives @xmath532 as long as ( [ finestsamplesbounds ] ) holds . for each such @xmath435 , an investor @xmath33 , rebalances along times @xmath533 with liquidation index @xmath534",
    "a natural discretization leading to an implementation of sets of type @xmath535 is obtained by introducing real numbers @xmath536 .",
    "the coordinates @xmath3 are restricted to belong to the sets @xmath537 and the coordinates @xmath4 to @xmath538 we will also take @xmath539 .    the fact that the variable @xmath4 is not directly related to the samples @xmath3 , in particular , we are not assuming ( [ bjnqv ] ) , makes natural to have two distinct discretization parameters , namely @xmath540 and @xmath541 .",
    "the parameter @xmath540 clearly provides a natural discretization of the chart exponentials .    for implementation purposes we need a finite version of the above discrete space .",
    "towards this end we will take , for convenience , @xmath542 and @xmath543 two fixed integers . for given @xmath544 define @xmath545 and for a finite @xmath546 of positive integers @xmath547 , define @xmath548    given the above definitions we let @xmath549 to denote a set @xmath550 as in definition [ implicitdefinitionthroughconstraints ] .",
    "notice that , necessarily , any possible value of @xmath430 satisfies @xmath551 , so , by definition [ nboundeddefinition ] , the corresponding markets will be @xmath552-bounded . in any case , it is clear that sets of type @xmath549 will have finite cardinality .",
    "figure 1 from @xcite displays random trajectories for the case when @xmath549 is defined as the set of _ all _ trajectories satifying the requirements in definition [ implicitdefinitionthroughconstraints ] .",
    "section [ gridcharacterization ] gives more details on how to build these sets as well as their properties .",
    "* local behavior .",
    "* specific instances of the sets @xmath553 or their finite versions + @xmath549 will in fact impose further constraints on admissible trajectories . once these further specifications are established , the resulting trajectory sets are defined in a combinatorial way ( i.e. by allowing all possible @xmath452 satisfying the constraints ) .",
    "one such example was described in section [ quadraticvariationcase ] and further examples are in section [ numerical ] .",
    "this way of defining trajectory sets will make it easy to check if the local properties of @xmath15-neutral or up - down are satisfied .",
    "this is so because our constraints are given locally ( i.e. at each node ) and the combinatorial definitions will allow trajectories to move up or down .",
    "next , as examples , we provide some general arguments on how to argue for the validity of these local properties .",
    "assume that the the sets @xmath554 in the trajectory space @xmath553 of definition [ implicitdefinitionthroughconstraints ] do not attain minimum nor maximum and fix a node @xmath555 of a trajectory @xmath435 .",
    "clearly , there exists the possibility of choosing trajectories @xmath556 such that @xmath557 , and @xmath558 respectively , so any node is up - down , and in that case the market results locally arbitrage - free , see definition [ localdefinitions ] .",
    "consider now @xmath549 , in this case we can assume that @xmath559 . first note , as previously indicated , that for any trajectory @xmath560 , since @xmath561 , then @xmath562 .",
    "taking into account the constraint @xmath563 , the largest value that @xmath3 can attain corresponds to the value @xmath564 and , in that case , @xmath565 , which shows @xmath566 .    in the case",
    "that @xmath567 , could exist trajectories containing the node @xmath568 with @xmath569 ( for example , by choosing @xmath570 for @xmath571 , when @xmath572 and at most @xmath573 ) .",
    "such trajectory satisfies @xmath574 and so , one more step is available .",
    "moreover , given that for any trajectory @xmath575 it follows that @xmath576 , @xmath577 is an arbitrage node .",
    "these nodes present arbitrage opportunities .",
    ", @xmath419 , @xmath578 , @xmath579 , @xmath580 , p=3 , and @xmath581.,scaledwidth=80.0% ]    figure [ fig:25 ] shows @xmath582 random trajectories , in each display .",
    "the sets are shown in different displays for convenience but they belong to the same trajectory set , with @xmath583 .",
    "the case of @xmath584 correspond to trajectories with @xmath585 , while the value @xmath586 corresponds to trajectories with @xmath587 .      here",
    "we are going to introduce a grid of pairs of integer numbers @xmath588 , which will be used to represent the trajectories of a discrete finite market @xmath589 with @xmath590 a trajectory set of the type @xmath591 described in the previous section .",
    "the purpose of the grid @xmath588 is to implement the algorithm given by theorem [ convexhullthm ] in order to evaluate the dynamic bounds @xmath592 with @xmath593 .",
    "consequently , under appropriate conditions , we will obtain also the global bound @xmath594 . in the rest of the section",
    "@xmath435 will stand for a trajectory @xmath595 .    given the discretization parameters @xmath596 positive real numbers ,",
    "@xmath597 , @xmath598 ( it gives @xmath599 ) and @xmath600 , call _ trajectory grid _ to @xmath601 for integers @xmath602 , let @xmath603 be the set to get the required restriction on @xmath604 , observe that is natural that @xmath605 .    for any @xmath59 , each node @xmath555",
    "can be represented by a vertex @xmath606 , such that @xmath607 in section [ discretization ] it has shown that it is enough that @xmath608 . also observe that the restriction @xmath609 obey to the one on @xmath590 given by the constraint @xmath610 , which implies @xmath611 .    on the other hand , any sequence @xmath612 , with @xmath613 , @xmath614 for @xmath59 and @xmath615 for some @xmath616 , corresponds by the same association ( [ gridcorrespondence ] ) , to a trajectory @xmath617 .",
    "the trajectory grid @xmath588 presented above will be used to compute the dynamic bounds @xmath618 for a discrete @xmath133-bounded finite market @xmath589 , using the convex hull theorem ( theorem [ convexhullthm ] ) .",
    "this can be done for an european option given by a function @xmath9 defined on @xmath590 . for simplicity",
    "this option is assumed independent of the trajectory history , namely @xmath619 for a real variable function @xmath363 ( notation introduced in corollary [ convexpayoffcorollary ] ) .",
    "this condition on @xmath9 allows to compute the dynamic bounds on the vertices of @xmath588 as follows . for simplicity we will use the notation @xmath620 .",
    "also assume that the set of portfolios @xmath40 is composed for sequences @xmath621 including any function from @xmath590 to @xmath21 , non anticipative with respect to @xmath440 , could be one of the @xmath622 , thus @xmath40 is full .",
    "first , we consider @xmath623 ; the dynamic bounds @xmath624 for @xmath625 , can be associated to the vertices of @xmath588 .",
    "indeed since @xmath626 the node @xmath627 corresponds by ( [ gridcorrespondence ] ) to some @xmath628 ( @xmath629 ) , then @xmath630 .",
    "moreover whenever the trajectory @xmath631 has a node @xmath632 , will have @xmath633 .",
    "now observe that if @xmath634 correspond to a node @xmath635 , @xmath636 depends , by definition [ dynamicbounds ] and theorem [ convexhullthm ] , only on @xmath637 , @xmath638 and @xmath639 , where @xmath640 .",
    "then , those quantities are associated to the vertices @xmath641 with @xmath642 thus @xmath636 can be associated with the vertex @xmath634 , via a function @xmath643 with domain @xmath588 .",
    "actually , we are going to define @xmath643 so that @xmath644 .",
    "vertices @xmath641 verifying ( [ reachablevertex ] ) are called _ reachable _ from @xmath634 .    for each vertex @xmath645 we define @xmath643 by the following procedure .",
    "since any vertex @xmath646 corresponds to a @xmath647 node of a trajectory in @xmath590 , with @xmath648 , define @xmath649    now assume , for fixed @xmath650 , @xmath651 was defined for any @xmath652 , and any @xmath653 . for fixed @xmath641 and any pairs @xmath654 , @xmath655 verifying @xmath656 set @xmath657 being @xmath593 a trajectory such that @xmath658 corresponds by ( [ gridcorrespondence ] ) to @xmath659 , it is important to notice the following : since the pairs @xmath654 , @xmath655 verifying ( [ + -reachable ] ) are reachable from @xmath659 , if @xmath660 verify that @xmath661 and @xmath662 corresponds respectively to @xmath654 , @xmath655 , then @xmath663 and @xmath664 . consequently ( [ chdynamicbound ] ) is applicable and @xmath665 is defined according to it , by @xmath666 @xmath667    therefore , the above recursive procedure allows to obtain @xmath668 , since the hypothesis of theorem [ fulldynamicprogramming ] are satisfied .",
    "we now extend the procedure to a set @xmath449 given by an strictly increasing @xmath669-tuple @xmath670 with @xmath671 .",
    "we start from column @xmath672 .",
    "again , if a trajectory contains the value represented by the node @xmath673 , then define @xmath674 .    for a vertex @xmath641 with @xmath675 , and",
    "@xmath676 $ ] , @xmath677 is given by ( [ udefinition ] ) .",
    "the vertices on the column @xmath678 in @xmath588 , correspond by ( [ gridcorrespondence ] ) to trajectories @xmath679 that could have @xmath680 at that node , it is @xmath681 , or continue to get @xmath682 .",
    "thus for @xmath683 $ ] , @xmath684 should take the value @xmath685 in the first case , while in the second case its value at that vertex , should be given by ( [ udefinition ] ) .",
    "both situations must be contemplated to compute @xmath677 for @xmath686 , by mean of ( [ udefinition ] ) , when any of the vertices @xmath687 is reachable from @xmath659 .",
    "then , observing that the maximum of these two values is the one which contributes to ( [ chdynamicbound ] ) , in the referred computation , and theorem [ convexhullthm ] , we have @xmath688    following the same considerations , @xmath665 is defined by for all @xmath689 with @xmath690and @xmath676 $ ] . for @xmath691 with @xmath690 and @xmath692 $ ] @xmath693 where @xmath694 is given by .    to summarize , @xmath677 for @xmath695 and @xmath696 $ ] is given by @xmath697 where @xmath698 is given by ( [ udefinition ] ) .",
    "with this recursive procedure we can calculate the value of @xmath699 . in section",
    "[ numerical ] we present a numerical analysis of the behavior of @xmath700 calculated using the above algorithm .",
    "figure [ fig:2 ] shows @xmath700 for different jump size and different @xmath552 , figure [ fig:5 ] displays the bounds price as a function of @xmath17 for the same values of @xmath701 , and figure [ fig:19 ] displays the arbitrage @xmath15-neutral effect on the bounds for @xmath702 . recalling that @xmath703 , the lower dynamic bounds @xmath704 are computed by a similar procedure .",
    "this section provides numerical output illustrating some characteristics of two specific trajectory sets that belong to the general class of models described in section [ discretization ] .",
    "the output shows the behavior of the upper and lower bound prices for call and put options , both as a function of @xmath552 and the parameter @xmath701 .",
    "comparisons with the model introduced in @xcite and the black - scholes model ( b&s ) are also provided as well as contrasts with the merton bounds @xcite .",
    "the effect of the presence of @xmath15-neutral arbitrage nodes is also displayed .",
    "finally , some superhedging and underhedging approximations and the effect of variable volatility are presented .",
    "we leave to another opportunity to provide numerical results based on market data , some older , very preliminary , results of this nature can be found in @xcite .",
    "as already indicated , a particular trajectory set , member of the general class introduced in definition [ implicitdefinitionthroughconstraints ] , satisfying condition ( [ bjnqv ] ) was introduced in @xcite and the associated model was compared against black & scholes .",
    "the book @xcite contains an extended discussion of that model , which we will refer as the bj&n model .",
    "we compute the minmax option bound prices using the dynamic programming approach combined with the convex hull result presented in previous sections ( theorem [ convexhullthm ] ) . for reasons of space we do not provide details related to the software implementation .",
    "this subsection presents numerical output for the general models with trajectory sets @xmath549 that were described in section [ discretization ] . in this and the following subsection",
    "we include the additional restriction that @xmath705 for all @xmath59 and all trajectories @xmath560 .",
    "the purpose of this restriction is twofold , first it provides a fair comparison with bj&n , as ( [ sampledqv ] ) excludes this possibility as well , second , it provides an ( ad hock ) way to exclude a globally constant trajectory which makes the lower bound @xmath118 to collapse to merton s bound ( as proven in ( * ? ? ?",
    "* proposition 5 ) ) .",
    "two example models , labeled @xmath706 and @xmath707 , are put forward which are of the type + @xmath549 and also obey some further constraints .",
    "specific constraints , to each of @xmath706 and @xmath707 , are listed below ; recall that @xmath708 and @xmath709 .",
    "* market model @xmath706 : * uses @xmath710 and the restrictions latexmath:[\\[\\label{lowerw1 }    in the case of @xmath702 , it coincides with the bj&n model ( this is so as we are requesting @xmath712 ) .",
    "* model @xmath707 : * this model was introduced in section [ quadraticvariationcase ] and we refer to that section for notation .",
    "the original model was decribed for @xmath75 but we will now apply it to @xmath713 , in particular @xmath464 then refers to the minimum change in @xmath713 , as this will allow us a reasonable comparison to the other models being implemented .",
    "we will take @xmath714 , @xmath715 , @xmath716 , @xmath717 and @xmath718 .",
    "notice that then @xmath719 and by enforcing @xmath720 it follows that @xmath721 .",
    "the defining constraints are @xmath722 @xmath723    in general we allow all possible values for @xmath724 such that @xmath725 . for simplicity , we consider first the case of a single quadratic variation value and take @xmath726 in both models .",
    "this implies that @xmath623 and so @xmath727 for all @xmath22 and @xmath435 .    using the notation from ( [ gridcorrespondence ] ) we recall that @xmath728 and @xmath729 , moreover , the above imposed constraints imply",
    "@xmath730    it then follows that @xmath731 for any @xmath59 , and then @xmath732 , where as usual @xmath733 .",
    "therefore , it is enough to consider @xmath734 . observe ( as in section [ discretization ] ) that if @xmath735 nodes @xmath736 are arbitrage nodes , for this reason we will take @xmath737 . in that case , and recalling the extra restriction @xmath738 , all nodes became of up - down type as per definition [ localdefinitions ] .    with the aim to compare with the prices given by the black & scholes formula ,",
    "consider a two - month european call option with strike of @xmath739 on a stock that pays no dividends , with current price @xmath740 and the volatility of the stock is taken to be equal to @xmath741 in a year .",
    "define @xmath742 we recover the trajectory set constructed in @xcite by taking @xmath451 and defining @xmath4 by .",
    "the black & scholes price of a call ( or put ) option is $ 0.0326 when @xmath743 with @xmath744 .",
    "the parameters used in the figures that follows are given as a function of @xmath552 and @xmath701 with @xmath745    figure [ fig:2 ] shows the behavior of the option price when @xmath746 with @xmath552 ranging from @xmath747 to @xmath748 for an european call option for the models bj&n , @xmath706 and @xmath707 with @xmath749 . while figure [ fig:9 ] displays the behavior of an european put option price in the model @xmath707 for @xmath750 and different values of @xmath751 .",
    "when @xmath752 , it seems that we have convergence if @xmath552 increases but the value of the option does not converge to black & scholes price due to jumps .     and @xmath753 for a european call option as a function of @xmath552 for @xmath746 with respect to the b&s price.,scaledwidth=110.0% ]",
    "we can see that the value of the option increases when @xmath701 increase .",
    "this fact is due to , if @xmath754 are two jump size then @xmath755 ( where it is used the short notation @xmath756 for the set of trajectories corresponding to the parameter @xmath701 ) .",
    "therefore , the maximum over the set @xmath757 is higher than the maximum over @xmath756 when computing the upper bound .",
    "if no jumps are allowed , i.e. @xmath702 , then figure [ fig:1 ] displays the upper bound price of the option as a function of @xmath552 under the model @xmath706 for @xmath749 . the upper minmax bound and the lower minmax bounds are the same .",
    "the results for bj&n , for this case of @xmath702 , are the same as for @xmath706 .",
    "the equality of lower and upper bounds follows immediately from the arguments @xmath758 and @xmath702 .     with jump unit @xmath702 ,",
    "coincide with the bj&n bounds and approaches the black - scholes price as the number of steps @xmath552 increases.,scaledwidth=60.0% ]      here we plot the minmax bounds as a function of @xmath17 and in the same set up as above i.e. @xmath759 , @xmath760 per year and the parameters ( [ parameters ] ) .",
    "we calculate the option values for different starting levels of the stock price @xmath17 , with @xmath761 steps in the grid .",
    "figure [ fig:5 ] displays the minmax bounds for different jump units @xmath762 for bj&n and @xmath706 models , and for @xmath763 for the @xmath707 model . in the model @xmath707",
    ", @xmath702 is only possible with @xmath764 , and in this case it equals model @xmath706 .",
    "we can see that the price increases when @xmath17 increases .",
    "the minmax bounds are very narrow for larger values of @xmath17 .",
    "therefore , it seems that the jumps have less of an effect on the bound of the option s prices for the higher stock values .     for different values of @xmath701.,scaledwidth=110.0% ]      we calculate the option values for an european call for different starting levels of the stock price @xmath17 , with @xmath761 steps in the grid . some of the nodes of the bj&n model",
    "are changed to be arbitrage @xmath15-neutral ( recall that originally all nodes are up - down ) . those arbitrage @xmath15-neutral nodes",
    "are selected randomly as follows . for any of those selected nodes @xmath659 from the bj&n grid , its reachable vertexes @xmath765 ( in the bj&n grid )",
    "are changed to :    * if @xmath207 , the reachable nodes are @xmath765 where @xmath766 * if @xmath767 , the reachable nodes are @xmath765 where @xmath768    observe that the modified model has trajectories with @xmath769 passing through an arbitrage node .",
    "figure [ fig:19 ] displays the upper and lower bound as a function of @xmath17 for the bj&n model with @xmath702 and the modification obtained by adding different percentages of arbitrage nodes .     for @xmath702 for the bj&n model in the presence of arbitrage nodes in relation to",
    "the lower merton bound ( red line),scaledwidth=90.0% ]    figure [ fig:7 ] displays the upper and lower bound as a function of @xmath17 for the bj&n model with @xmath770 and the modification obtained by adding different percentages of arbitrage nodes .",
    "for @xmath770 for the bj&n model in the presence of arbitrage nodes in relation to the lower merton bound ( red line).,scaledwidth=90.0% ]      the algorithm presented in section [ chartsandtrajectories ] allow us to calculate not only the value of @xmath771 but also the optimal portfolio @xmath22 providing the investments along each possible trajectory in @xmath590 .    on each vertex @xmath659 of the data grid @xmath588 given in section [ sec :",
    "computationgrid ] , the dynamic upper bound @xmath677 is available and correspond to an optimal value @xmath772 given by equation ( [ + -reachable ] ) .",
    "recall that @xmath677 and so @xmath773 , are the same for any trajectory passing trough that vertex .",
    "then , we can define an optimal strategy @xmath774 on @xmath775 defined by : @xmath776 this optimal strategy is non - anticipative .",
    "it is interesting to study how @xmath777 actually approximates @xmath9 , as function of a trajectory @xmath775 , for an initial portfolio value @xmath778 . in a short position the hedging values",
    "are given by @xmath779 with @xmath780 the initial portfolio value .",
    "figure [ fig:11 ] shows the hedging values with @xmath781 and @xmath782 , for random trajectories with @xmath750 and @xmath770 with respect to an european call @xmath9 for the general finite model obtained from definition [ implicitdefinitionthroughconstraints ] for @xmath783 as in ( [ parameters ] ) for model @xmath706 .",
    "we can see that the values from superhedge the payoff value in the first case . for the case @xmath784 ,",
    "the values tightly approximate the payoff values .     and",
    "@xmath782 and the payoff values.,scaledwidth=100.0% ]    in a long position , the hedging values are given by @xmath785 with @xmath780 the initial portfolio value .",
    "the underhedging portfolio @xmath786 is computed in a similar way than the upperhedging one @xmath777 , but using the values which gives the lower bounds @xmath787 instead of the upper bounds .",
    "figure [ fig:12 ] displays the values from equation with @xmath788 and @xmath789 , for random trajectories with respect an european call @xmath9 . in this case",
    ", we can see that the values from underhedge the payoff value for @xmath790 . for @xmath789 ,",
    "the values better approximate the payoff values .     and @xmath789 and the payoff values.,scaledwidth=100.0% ]    finally , it is of interest to superimpose the upperhedging and lower hedging using @xmath791 and @xmath792 respectively .",
    "figure [ fig : hedginga ] does this for @xmath793 and figure [ fig : hedgingb ] does it for @xmath794 . in both instances @xmath795 and @xmath770 were chosen and @xmath796 for the @xmath794 model .     and @xmath797 and the payoff values.,scaledwidth=70.0% ]     and @xmath798 and the payoff values.,scaledwidth=70.0% ]      this section is devoted to compare the behavior of the minmax bounds for different realizations of the market @xmath707 concerning to the selection of the set @xmath449 . recall that @xmath449 represents the possible values of quadratic variation of the trajectories in the market .",
    "first we consider markets where @xmath449 is a singleton set @xmath799 with @xmath800 and @xmath801 for @xmath802 , so the corresponding markets are denoted by @xmath803 , @xmath800 .",
    "figures [ fig:8 ] and [ fig:13 ] shows the lower and upper bound as function of increasing values of the quadratic variation for two different options and two different values of @xmath17 . in both figures , the bounds are computed for a call option with strike @xmath739 and a butterfly call with strikes @xmath804 defined by    @xmath805    the general parameters used for the models @xmath803 involved in those figures are given as function of @xmath806 for @xmath807 , as follows : @xmath808 ; @xmath809 ; @xmath810 , @xmath811 and @xmath770 ,    which , in turn , determine the values of the remaining parameters .",
    "for @xmath770 in the @xmath803 models with @xmath750.,scaledwidth=90.0% ]     for @xmath770 in the @xmath803 models with @xmath812.,scaledwidth=90.0% ]    it is observed that the bounds increases or decreases monotonically with the quadratic variation .",
    "notice also that the payoff of the butterfly call is neither convex nor concave , we have taken @xmath813 in figures [ fig:8 ] and [ fig:10 ] and @xmath814 in figures [ fig:13 ] and [ fig:15 ] .",
    "the payoff of the ordinary call is convex .",
    "next we consider market models @xmath815 consisting of trajectories that have different quadratic variations belonging to @xmath816 , @xmath807 .",
    "figure [ fig:10 ] shows the lower and upper minmax bounds for the same european call and a butterfly call , as before , in the markets @xmath815 with @xmath750 , as function of @xmath212 .",
    "figure [ fig:15 ] is similar but with @xmath812 . comparing with figures [ fig:8 ] and [ fig:13 ]",
    ", it can be seen that the bounds for the models @xmath815 with multiple quadratic variations @xmath817 coincide with the ones in the models with a single quadratic variation @xmath806 corresponding to the largest value in @xmath817 .     for @xmath770 in the @xmath815 models with @xmath750.,scaledwidth=90.0% ]     for @xmath770 in the @xmath815 models with @xmath812.,scaledwidth=90.0% ]",
    "general results are obtained to evaluate minmax bounds in an effective way and for general classes of trajectory markets .",
    "the setting covers the case of trajectories with different volatilities .",
    "the numerical experiments indicate some of the phenomena that may occur in a trajectory based approach for the examples introduced . the design of trajectory sets can be tailored to different needs in particular by taking stopping times samples of continuous time martingale",
    "processes one can see that the risk neutral price for attainable options is a special case of trajectory based minmax price ( see @xcite )",
    ". designing suitable trajectory sets for different setups seem to be a relevant task ; we have provided an example dealing with quadratic variation which could be expanded in several ways , we expect to do so in a future publication .",
    "this appendix provides the main results on minmax function and the relation with the boundedness of @xmath818 and @xmath819 .",
    "given a finite sequence of stopping times @xmath820 with @xmath121 for @xmath821 , and a real sequence @xmath822 , set ( set @xmath823 for convenience ) , @xmath824 also , for @xmath42 , define the functions @xmath825 , for @xmath826 , by @xmath827 [ def:1 ]    the fact that @xmath828 , in the above definition , is a portfolio on @xmath52 , for any @xmath42 , is proven in lemma [ lem:2 ] , appendix [ minmaxfunctionsproofs ] .",
    "[ finiteboundsfromminmaxfunctions ] let @xmath32 be a discrete market and @xmath9 a function defined on @xmath52 . consider a finite sequence of stopping times @xmath820 with @xmath829 for @xmath122 , a real sequence @xmath822 , and @xmath124 . fix @xmath830 and an integer @xmath64",
    ". then the following statements are valid :    1 .",
    "if @xmath9 is an upper minmax function and @xmath831 , then : @xmath832 2 .   if @xmath9 is a lower minmax function and @xmath833 , then : @xmath834 + furthermore : 3 .   if @xmath9 is a lower minmax function and either of the two statements below hold : 1 .",
    "@xmath70 is conditionally @xmath15-neutral at @xmath835 and @xmath76 and for any @xmath42 , @xmath836 .",
    "@xmath70 is @xmath133-bounded such that @xmath52 satisfies the local @xmath15-neutral property and @xmath837 is bounded .",
    "+ then : @xmath838 4 .   if @xmath9 is an upper minmax function and either of the two statements below hold : 1 .",
    "@xmath70 is conditionally @xmath15-neutral at @xmath835 and @xmath76 and for any @xmath42 , @xmath839 2 .",
    "@xmath70 is @xmath133-bounded such that @xmath52 satisfies the local @xmath15-neutral property and @xmath837 is bounded .",
    "+ then : @xmath840    where for @xmath841 the sequences @xmath842 are given by ( [ coefficientdefinition ] ) , and @xmath843 respectively , for each item .",
    "observe first that , for any finite sequence of stopping times @xmath820 with @xmath121 for @xmath821 , and a real sequence @xmath822 and @xmath57 : @xmath844 .",
    "then @xmath845    the next lemma prove that the sequence defined on definition [ def:1 ] is a portfolio on @xmath52 .    for @xmath42 ,",
    "the sequence @xmath828 is non - anticipative .",
    "consequently defining @xmath846 @xmath847 can be consider as a portfolio on @xmath52 .",
    "[ lem:2 ]    it is enough to prove that the functions @xmath848 , defined by ( [ coefficientdefinition ] ) for @xmath849 , are non anticipative .",
    "hence , assume for @xmath850 , that @xmath851 for @xmath852 .",
    "it follows from ( [ coefficientdefinition ] ) that there exists @xmath853 such that @xmath854 by hypothesis @xmath851 for @xmath855 , then @xmath856 .",
    "also it must be @xmath857 , if not @xmath858 in contradiction with ( [ coefficientindex ] ) .",
    "thus @xmath859 .",
    "[ firstcoordinates ] fix @xmath208 , then for any @xmath216 @xmath860    next natural proposition gives the key statements for the boudness of @xmath127 and @xmath128 .",
    "[ finitenesscondition ] let @xmath861 be fixed , and @xmath64 , then    1 .",
    "@xmath862 if and only if there exists @xmath124 and @xmath863 such that @xmath864 in any case @xmath865 .",
    "2 .   if there exists @xmath124 and @xmath866 such that @xmath867 and either of the two statements below hold : 1 .",
    "@xmath70 is conditionally @xmath15-neutral at @xmath835 and @xmath76 and for any @xmath42 , @xmath868 defined by @xmath869 if @xmath870 and @xmath871 if @xmath872 , with @xmath873 and @xmath874 , belongs to @xmath40 .",
    "@xmath70 is @xmath133-bounded such that @xmath52 satisfies the local @xmath15-neutral property .",
    "+ then @xmath875 .",
    "proof of part ( 1 ) . since @xmath876 , there exist @xmath877 and @xmath878 such that @xmath879 \\le b.\\ ] ] from where ( [ superhedgingtrategy ] ) holds .",
    "conversely , if ( [ superhedgingtrategy ] ) is valid , it is clear that @xmath880 \\le b.\\ ] ]    proof of part ( 2 ) : by the general hypothesis @xmath881 \\}+b = \\\\ & = & \\inf_{h \\in { \\mathcal{h}}}\\ { \\sup_{s \\in { \\mathcal{s}}_{(s^*,k)}}[- \\sum_{i = k}^{n_{\\tilde{h}}(s)-1}\\tilde{h}_i(s)\\,\\delta_is ] \\}+b\\end{aligned}\\ ] ] using now the condidtions in @xmath882 , it follows that @xmath883 \\}+b = b.\\end{aligned}\\ ] ] for the hypothesis @xmath884 , consider the set of portfolios @xmath885 consisting of all @xmath868 with @xmath886 defined in @xmath882 , then the market @xmath887 is @xmath133-bounded and local @xmath15-neutral , and then , by proposition [ 0-neutral ] , conditionally 0-neutral .",
    "thus the right hand side of is equal to @xmath888 .",
    "proposition [ finitenesscondition ] holds in a more general scenario . the @xmath133-bounded condition in the second part",
    "can be replaced by the initially bounded condition defined in @xcite , as follows .",
    "[ initiallyboundeddef ] given a discrete market @xmath103 and @xmath33 ; we will call @xmath39 _ initially bounded _",
    "if there exists a bounded function @xmath889 ( which may depend on @xmath22 ) such that for all @xmath57 : @xmath890    under this hypothesis , theorem [ 0-neutral ] keep holding and then , we can reformulate proposition [ finiteboundsfromminmaxfunctions ] .",
    "observe that if @xmath39 is bounded , it is initially bounded , @xmath891 satisfies the definition .    as the present work focus in @xmath133-bounded markets , we present the proof of proposition [ finiteboundsfromminmaxfunctions ] for this kind of markets .    * of proposition",
    "[ finiteboundsfromminmaxfunctions]*. fix @xmath216 . proof of item ( 1 ) . by ( [ minmaxfunctionbound ] ) and corollary [ firstcoordinates]@xmath892 since @xmath893 , proposition [ finitenesscondition ] , 1 .",
    "gives @xmath894    proof of item ( 2 ) .",
    "from hypothesis @xmath895 , and @xmath896 , it follows from ( 1 ) that @xmath897    proof of item ( 3 ) .",
    "for any @xmath42 it follows from , and similar computation as in the proof of part ( 1 ) , that @xmath898 under assumption ( a ) in item ( 3 ) , we know that @xmath899 , therefore by @xmath15-conditional property , @xmath900 \\ge a_0s_0 + b + \\sup_{s \\in { \\mathcal{s}}_{(s^ * , k ) } } [ - \\sum_{i = k}^{n_{h^{(-a)}}(s)-1}h_i^{(-a)}(s)\\,\\delta_is ] \\ge\\ ] ] @xmath901 = a_0s_0 + b,\\ ] ] assume now @xmath884 in item ( 3 ) and @xmath902 such that @xmath903 for all @xmath45 .",
    "let @xmath904 be any set containing the portfolios @xmath22 and @xmath905 for each @xmath886 .",
    "then , the market @xmath906 is @xmath907-bounded , where @xmath908 .",
    "thus proposition [ 0-neutral ] shows that @xmath909 is conditionally @xmath15-neutral at all nodes , in particular at @xmath910 and @xmath76 ; therefore , taking the supremum over @xmath911 in both sides of , evaluating the infimum over @xmath42 in the right hand side , and using the conditional @xmath15-neutral property of @xmath909 we obtain ( [ boundfrombelow ] ) .",
    "the proof of item ( 4 ) follows from ( 3 ) in a similar way than ( 2 ) from ( 1 ) .",
    "here are located some definitions and auxiliary lemmas required for results in subsections [ sec : fullportfolios ] and [ sec : u - completeportfolios ]      [ inductionmodel ] consider a discrete market model @xmath311 , and a function @xmath9 defined on @xmath52 .",
    "fix @xmath207 , and @xmath912 .",
    "set @xmath913 . for @xmath914 define @xmath915 also define @xmath916 and for any @xmath917 , @xmath918    [ inductionmodelproof ]    under the conditions of definition [ inductionmodel ] , for any @xmath207 and @xmath912 ,    1 .",
    "@xmath919 is a discrete market model , with initial value @xmath920 .",
    "moreover it is @xmath133-bounded if @xmath70 is @xmath921-bounded .",
    "2 .   assuming @xmath70 is @xmath921-bounded , for any @xmath922 , @xmath923    by definition , @xmath924 consist of sequences in @xmath925 , with @xmath926 for any @xmath917 .",
    "@xmath242 is a family of sequences of functions @xmath927 with @xmath928 non - anticipative , since if @xmath929 , for @xmath930 then @xmath931 , for @xmath932 , thus @xmath933 .",
    "moreover if @xmath934 , then @xmath935 , and therefore @xmath242 is a set of portfolios on @xmath924 .",
    "this proves @xmath188 . + for @xmath205 , we proceed by induction backwards . for each @xmath936 and @xmath135 , if @xmath937 then @xmath938 and @xmath939 .",
    "but if @xmath940 , then @xmath941 and @xmath942 .",
    "now assume @xmath205 is valid for some @xmath943 .",
    "fix any @xmath936 , if @xmath944 , we have that @xmath945 and @xmath946    on the other hand when @xmath947 , it follows @xmath948\\}\\\\ & = & \\inf_{h\\in { \\mathcal{h}}}~\\{\\sup_{s ' \\in { \\mathcal{s}}_{(s , i ) } } ~~[\\overline{u}_{i+k}(s ' , z , { \\mathcal{m } } ) - h_{i+k-1}(s ) \\delta_{i+k-1}s']\\ } = \\\\ & = & \\overline{u}_{i+k-1}(s , z , { \\mathcal{m } } ) .",
    "\\end{array}\\ ] ]    to prove theorem [ fulldynamicprogramming ] , we need the following results for induction procedures .",
    "[ movingsupinside ] given a @xmath133-bounded discrete market model @xmath41 and a function @xmath9 on @xmath70 .    1 .",
    "fix @xmath42 , then @xmath949 & = & \\sup_{s^1 \\in { \\mathcal{s } } } [ - h_0(s_0 ) \\delta_0s^1 + \\sup_{s^2 \\in { \\mathcal{s}}_{(s^1,1 ) } } [ - h_1(s^2)\\delta_1s^2 + \\ldots \\\\ \\nonumber & & \\hspace{0.3 in } \\ldots + \\sup_{s^n \\in { \\mathcal{s}}_{(s^{n-1},n-1)}}[z(s^n ) - h_{n-1}(s^{n-1})\\delta_{n-1}s^{n}]\\ldots]].\\end{aligned}\\ ] ] 2 .",
    "furthermore , @xmath950\\ldots\\}\\}.\\end{aligned}\\ ] ]    since @xmath188 holds for @xmath235 , we proceed by induction .",
    "assume then that the equality holds for @xmath951-bounded market models , and consider @xmath41 an @xmath237-bounded market .",
    "fixed @xmath952 by inductive hypothesis and lemma [ inductionmodelproof ] , applied for @xmath953 , we obtain @xmath954 = \\sup_{\\widehat{s } \\in \\mathcal{\\widehat{s } } } [ z(\\widehat{s } ) - \\sum_{i=0}^{n_{\\widehat{h}}(\\widehat{s})-1 } \\widehat{h}_i(\\widehat{s})\\delta_i\\hat{s } ] = \\\\ & & = \\sup_{\\widehat{s}^2 \\in \\widehat{{\\mathcal{s } } } } [ - \\widehat{h}_0(\\widehat{s}^2_0 ) \\delta_0\\widehat{s}^2 + \\ldots + \\sup_{\\widehat{s}^n \\in \\widehat{{\\mathcal{s}}}_{(\\hat{s}^{n-1},n-1)}}[z(\\hat{s}^n ) - \\widehat{h}_{n-1}(\\widehat{s}^{n-1})\\delta_{n-1}\\widehat{s}^{n}]\\ldots]=\\\\ & & = \\sup_{{s}^2 \\in \\mathcal{{s}}_{(s^1,1 ) } } [ - h_1(s^1 ) \\delta_1s^2 + \\ldots + \\sup_{{s}^{n+1 } \\in \\mathcal{{s}}_{({s}^{n},n)}}[z({s}^{n+1 } ) - h_{n}(s^n)\\delta_n{s}^{n+1}]\\ldots].\\end{aligned}\\ ] ] it follows that @xmath955 = \\\\ & & = - h_0(s^1)\\delta_0s^1 + \\sup_{{s}^2 \\in \\mathcal{{s}}_{(s^1,1 ) } } [ - h_1(s^1 ) \\delta_1s^2 + \\ldots + \\sup_{{s}^{n+1 } \\in \\mathcal{{s}}_{({s}^{n},n)}}[z({s}^{n+1 } ) - h_{n}(s^n)\\delta_n{s}^{n+1}]\\ldots],\\end{aligned}\\ ] ] consequently @xmath956 & \\le & \\sup_{s^1 \\in { \\mathcal{s } } } [ - h_0(s_0 ) \\delta_0s^1 + \\sup_{s^2 \\in { \\mathcal{s}}_{(s^1,1 ) } } [ - h_1(s^2)\\delta_1s^2 + \\ldots \\\\ & & \\hspace{0.3 in } \\ldots + \\sup_{s^n \\in { \\mathcal{s}}_{(s^{n},n)}}[z(s^{n+1 } ) - h_{n}(s^{n})\\delta_{n}s^{n+1}]\\ldots]].\\end{aligned}\\ ] ] to obtain the reverse inequality , it is enough to assume that @xmath957<\\infty$ ] , consequently @xmath958<\\infty,\\ ] ] if this were not so we would have that for any @xmath959 there exists @xmath960 such that @xmath961 let @xmath962 , then there exists @xmath963 such that @xmath964 & < & \\\\",
    "< \\frac 1 m - h_0(s^1)\\delta_0s^1 + z(s^m ) - \\sum_{i=1}^{n_h(s^m)-1 } h_{i}(s^m)\\delta_{i}s & = & \\frac 1 m + z(s^m ) - \\sum_{i=0}^{n_h(s^m)-1 } h_{i}(s^m)\\delta_{i}s.\\end{aligned}\\ ] ] thus @xmath956 & \\le & \\sup_{s\\in{\\mathcal{s } } } [ - h_0(s^1)\\delta_0s^1 + \\sup_{s \\in { \\mathcal{s}}_{(s^1,1 ) } } [ z(s ) - \\sum_{i=1}^{n_h(s)-1 } h_{i}(s)\\delta_{i}s]]\\\\ & \\le & \\frac 1 m + \\sup_{s\\in{\\mathcal{s}}}[z(s ) -\\sum_{i=0}^{n_h(s)-1 } h_{i}(s)\\delta_{i}s ] .\\end{aligned}\\ ] ] since @xmath669 is arbitrary , the equality ( [ movingsupinsideindentity ] ) follows .",
    "@xmath205 will be proven by induction too , since for @xmath235 , @xmath965.\\ ] ] assume now that the equality holds for @xmath133-bounded markets , and consider @xmath32 to be @xmath237-bounded . for a fixed @xmath250 , from the inductive hypothesis and lemma [ inductionmodelproof ] , it follows that @xmath966\\ } = \\\\ & & = \\inf_{h^1\\in { \\mathcal{h}}}\\sup_{{s}^2 \\in \\mathcal{{s}}_{(s^1,1 ) } } [ - h^1_1({s}^1 ) \\delta_1{s}^2 + \\ldots + \\inf_{h^n\\in { \\mathcal{h}}}\\sup_{{s}^{n+1 } \\in \\mathcal{{s}}_{({s}^{n},n)}}[z({s}^{n+1 } ) - h^{n}_{n}(s^n)\\delta_n{s}^{n+1}]].\\end{aligned}\\ ] ] from which the desired result is clear .",
    "[ fullinductionmodelproof ] consider the @xmath133-bounded market @xmath967 , given in definition [ inductionmodel ] , for @xmath953 and some @xmath968 in an @xmath237-bounded market @xmath32 .",
    "then @xmath242 is full if so is also @xmath40 .",
    "assume @xmath40 is full .",
    "let @xmath969 , @xmath970 , and @xmath971 .",
    "we are going to prove that for @xmath972 , any function @xmath973 non - anticipative with respect to @xmath212 , is the @xmath212-coordinate of a portfolio @xmath974 .",
    "for it , we will find @xmath92 such that @xmath975 on @xmath976 .",
    "we need to show that @xmath977 if and only if @xmath978 .",
    "let @xmath979 , and @xmath977 , then    @xmath980 on the other hand @xmath981",
    "if @xmath982 , and @xmath983 , @xmath984 , it means that @xmath985 .",
    "since @xmath40 is _ full _ it then follows that exists @xmath92 such that @xmath986 is given by @xmath987 .",
    "consider a discrete @xmath237-bounded market @xmath32 .",
    "for any @xmath92 define @xmath988 @xmath989    for @xmath57 and @xmath990 set @xmath991    @xmath992 results an @xmath133-bounded discrete market .",
    "if @xmath9 is a derivative function defined on @xmath52 , then @xmath993 is defined , for any @xmath156 , by @xmath994 moreover    [ u - completeinductionlemma ] let @xmath32 an @xmath237-bounded discrete market",
    ". then    @xmath882 for any @xmath995 , and @xmath156 , @xmath996    @xmath884 if @xmath70 is _ u - complete _ for @xmath9 , so is @xmath997 for @xmath993 .",
    "set @xmath998 .",
    "reasoning by induction backwards , for @xmath999 , and @xmath156 , @xmath1000 @xmath1001 since if @xmath1002 , @xmath1003 , and if @xmath377 , @xmath1004 .",
    "assume @xmath882 is valid for some @xmath1005 .",
    "if @xmath1006 , then @xmath1007 and , @xmath1008 , since its common value is @xmath15 or @xmath1009 .",
    "if @xmath1010 , then @xmath1011 + ( @xmath1012 implies @xmath1013 , then @xmath1014 ! ) , and by inductive hypothesis and definition of @xmath1015 , @xmath1016\\\\ & = & \\inf_{h \\in { \\mathcal{h}}}~~\\sup_{s ' \\in { \\mathcal{s}}_{(s , k-1 ) } } ~~[\\overline{u}_{k}(s ' , z , { \\mathcal{m } } ) - h_{k-1}(s ' ) \\delta_{k-1}s ' ] = \\overline{u}_{k-1}(s , z , { \\mathcal{m}}).\\nonumber\\end{aligned}\\ ] ] for @xmath884 , let @xmath1017 , @xmath969 and a derivative function @xmath9 .",
    "since @xmath70 is _ u - complete _ there exists @xmath1018 , such that @xmath1019=\\sup_{s\\in\\mathcal { s}_{s^*,k)}}[u_{k+1}(s , z , { \\mathcal{m}})-h^*_k(s)\\delta_ks]= \\overline{u}_k(s^ * , z , { \\mathcal{m}})= \\overline{u}_k(s^ * , \\tilde{z } , \\mathcal{\\widetilde{m}}).\\ ] ] last equalities hold for @xmath882 .    of * theorem [ u - completedynamicprogramming ] . * as in the proof of theorem [ fulldynamicprogramming ] the required equality for @xmath235 is clear .",
    "lets complete the proof by induction on @xmath133 .",
    "assume @xmath32 is an @xmath237-bounded discrete market , which is u - complete , then by lemma [ u - completeinductionlemma ] @xmath884 below , @xmath992 is @xmath133-bounded and u - complete .",
    "thus by lemma [ u - completeinductionlemma ] @xmath882 and inductive hypothesis , @xmath1020 by _ u - completeness _ , for any @xmath57 there",
    "exists @xmath1021 such that @xmath1022 if @xmath1002 , @xmath1023 and if @xmath1024 , @xmath1025 , since @xmath1026 . in any case",
    "@xmath1027 \\ge \\\\ \\\\ & \\ge & \\inf_{h \\in { \\mathcal{h}}}~~\\sup_{s \\in { \\mathcal{s}}}~~[~z(s)- h^*_n(s)\\delta_is - \\sum_{i=0}^{n-1}h_i(s ) \\delta_is ] \\ge \\\\ \\\\ & \\ge & \\inf_{h \\in { \\mathcal{h}}}~~\\sup_{s \\in { \\mathcal{s}}}~~[z(s)- \\sum_{i=0}^{n}h_i(s ) \\delta_is ] = \\overline{v}(s_0 , z , { \\mathcal{m } } ) .",
    "\\end{array}\\ ] ] the other inequality follows from proposition [ useful ] .    of * lemma [ u - completionofmarkets ] .",
    "* define @xmath1028 , by @xmath1029 assuming that @xmath1030 . since for any @xmath1031",
    ", the functions given by @xmath1032 are affine , then its supremum @xmath1033 is lower semicontinuous , and convex .",
    "if @xmath1034 is compact , by lower semicontinuity , there exists @xmath278 verifying @xmath1035    if @xmath1036 and @xmath52 satisfies the local up - down property at @xmath835 and @xmath76 , @xmath1033 is also coercive .",
    "indeed , there exist @xmath1037 such that @xmath1038 and @xmath1039 .",
    "let @xmath1040 and @xmath1041 if @xmath1042 , @xmath1043 , then @xmath1044 . on the other hand , if @xmath1045 , since @xmath1046 , then @xmath1047 .",
    "thus , by corollary 4.3 in @xcite , from ( * ? ? ?",
    "* thm 7.3.1 ) @xmath1033 attains a minimizer .",
    "finally , by coercivity , there exists @xmath281 such that , @xmath1048 if @xmath1049",
    ". then @xmath1050",
    "* of theorem [ convexhullthm ] .",
    "* it is enough to consider that @xmath1051 .",
    "we just prove @xmath1052 because the other inequality follows immediately from proposition [ prop:2 ] .",
    "let @xmath336 there exist @xmath1053 and @xmath359 such that @xmath1054 observe that , in case @xmath188 it holds for @xmath1055 and @xmath1056 in the hypothesis .",
    "also , since @xmath1057 there exists @xmath1058 such that @xmath1059    consider case @xmath188 first .",
    "if @xmath1060 , it must be @xmath1061 if not @xmath1062 which leads to the contradiction @xmath1063 whence , @xmath1064    while if @xmath1065 , in a similar way results @xmath1066    thus @xmath1067 @xmath1068 then the proof for case @xmath188 is done .    for case @xmath205 , assume first that @xmath1060 and define @xmath1069 .",
    "we are going to show , by contradiction , that @xmath1070    assume @xmath1071 then @xmath1072 so @xmath1073 which leads to @xmath1074 a contradiction to the definition of @xmath1075 .",
    "then since ( [ convexhull ] ) holds , @xmath1076 now , since @xmath1077 , it follows @xmath1078 while if @xmath1065 , in a similar way results @xmath1079 for @xmath1080 . since @xmath1081",
    ", it follows from @xmath1082 then the proof for case @xmath205 is complete .",
    "the next geometric lemma is used in section [ sec : convexenvelope ] .        99 afo2011 a. alvarez , s. ferrando and p. olivares , arbitrage and hedging in a non probabilistic framework . published online may 1",
    ", 2012 in _ mathematics and financial economics_. digital object identifier 10.1007/s11579 - 012 - 0074 - 5 .",
    "vol 7 , issue 1 , pp 1 - 28 , january 2013 .",
    "bernhard p. bernhard , j. engwerda , b. ronda , j. schumacher , v. kolokoltsov , p. saint - pierre and j - p aubin ( 2013 ) , _ the interval market model in mathematical finance .",
    "game - theoretic methods_. birkhauser ."
  ],
  "abstract_text": [
    "<S> the paper studies market models based on trajectory spaces , properties of such models are obtained without recourse to probabilistic assumptions . for a given european option </S>",
    "<S> , an interval of rational prices exists under a more general condition than the usual no - arbitrage requirement . </S>",
    "<S> the paper develops computational results in order to evaluate the option bounds ; the global minmax optimization , defining the price interval , is reduced to a local minmax optimization via dynamic programming . </S>",
    "<S> a general class of trajectory sets is described for which the market model introduced by britten jones and neuberger @xcite is nested as a particular case . </S>",
    "<S> we also develop a market model based on an operational setting constraining market movements and investor s portfolio rebalances . </S>",
    "<S> numerical examples are presented , the effect of the presence of arbitrage on the price bounds is illustrated . </S>"
  ]
}