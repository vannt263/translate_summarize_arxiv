{
  "article_text": [
    "the results of this paper are motivated by the relationship between the permutohedron , the associahedron and the cube , and the corresponding relationship between the malvenuto - reutenauer hopf algebra  @xcite of permutations , the hopf algebra of planar binary trees  @xcite and the hopf algebra of non - commutative symmetric functions  @xcite .",
    "the permutohedron is an @xmath0-dimensional polytope with vertices indexed by the permutations @xmath1 .",
    "the associahedron is an @xmath0-dimensional polytope whose vertices correspond to triangulations of a convex @xmath2-gon , counted by the catalan numbers .",
    "the malvenuto - reutenauer algebra is a graded infinite - dimensional hopf algebra whose @xmath0th graded piece has a basis indexed by @xmath3 .",
    "the algebra of planar binary trees is a hopf algebra whose @xmath0th graded piece has a basis indexed by planar binary trees with @xmath4 leaves , which are also counted by the catalan numbers .",
    "the @xmath0th graded piece of the hopf algebra of non - commutative symmetric functions has a basis indexed by subsets of @xmath5 $ ] .",
    "there is a well - known  @xcite map @xmath6 from permutations to catalan - objects , which has interesting properties with respect to these polytopes and algebras .",
    "more precisely , several maps have been studied , related by natural bijections on permutations such as the inverse map , but for the purposes of this introduction , we call all of these maps `` the map @xmath6 . '' in  @xcite , billera and sturmfels give a realization of the associahedron and the permutohedron such that the normal fan of the permutohedron refines that of the associahedron , and @xmath6 is the inclusion map from maximal normal cones of the permutohedron to maximal normal cones of the associahedron . the descent map , mapping a permutation to its descent set , can be realized as the inclusion map from the maximal normal cones of the permutohedron to the maximal normal cones of a combinatorial cube .",
    "this map factors through @xmath6 , giving a triangle of maps relating the permutohedron to the cube , via the associahedron . on the algebraic side ,",
    "the dual maps to this triangle of maps give an embedding of the hopf algebra of non - commutative symmetric functions as a sub hopf algebra of the hopf algebra of planar binary trees , and an embedding of the hopf algebra of planar binary trees as a sub hopf algebra of the malvenuto - reutenauer hopf algebra  @xcite .",
    "the fact that these maps have such nice properties with respect both to polytopes and to algebras demands a unified explanation .",
    "we provide a unified explanation using lattice congruences .",
    "a lattice congruence @xmath7 is an equivalence relation on a lattice @xmath8 such that the equivalence classes are the fibers of some lattice homomorphism .",
    "the quotient lattice of @xmath8 with respect to @xmath7 is denoted @xmath9 .",
    "the key to the unified explanation is the observation that @xmath6 is a lattice homomorphism from the weak order on @xmath3 to the tamari lattice , a natural partial order on triangulations , and that the descent map is a lattice homomorphism from @xmath3 to a boolean algebra .",
    "a generalization of this observation about the tamari lattice is proven in  @xcite , although essentially all the ingredients for proving it for the tamari lattice were previously obtained in  @xcite .",
    "the fact that the descent map is a lattice homomorphism is due to le conte de poly - barbut  @xcite .",
    "we now summarize our main results , leaving precise definitions for later sections as much as possible .",
    "a _ hyperplane arrangement _ @xmath10 in @xmath11 is a collection of _ hyperplanes _ , that is , @xmath12-dimensional subspaces .",
    "the closures of the connected components of @xmath13 are called _ regions_. a _ coxeter arrangement _",
    "@xmath10 is the set of reflecting hyperplanes of a finite coxeter group , that is , a finite group @xmath14 generated by euclidean reflections .",
    "the group elements correspond naturally to the regions of @xmath10 .",
    "the regions of @xmath10 together with their faces define a complete fan @xmath15 of convex cones .",
    "the symmetric group @xmath3 is in particular a coxeter group .",
    "the symbol @xmath14 will stand for the coxeter group equipped with the _ weak order _ , which has a purely combinatorial definition , or which can be defined geometrically in terms of the coxeter arrangement @xmath10 .",
    "this partial order is a lattice  @xcite .",
    "the combinatorics of the weak order is closely connected to the geometry of  @xmath15 . to generalize this close connection ,",
    "we introduce fan posets and establish their basic properties .",
    "a _ fan poset _",
    "@xmath16 is a partial order @xmath17 on the maximal cones of a complete fan @xmath15 in @xmath11 , with some conditions relating the partial order to the structure of the fan .",
    "a complete fan @xmath15 defines a cellular sphere @xmath18 .",
    "not every fan is the normal fan of a polytope , but every complete fan has a dual cellular sphere  @xmath19 which plays the role of the polytope . if @xmath16 is a fan poset , then the hasse diagram of @xmath17 is isomorphic as a graph to the 1-skeleton of @xmath19 .",
    "_ facial _ intervals of @xmath16 are intervals @xmath20 in @xmath17 such that , for some cone @xmath21 of @xmath15 , the interval @xmath20 consists of all of the maximal cones of @xmath15 containing @xmath21 .",
    "the fan poset @xmath16 is _ homotopy facial _ if all non - facial intervals are contractible and if , for every cone @xmath21 , the facial interval corresponding to @xmath21 is homotopy equivalent to a sphere of dimension @xmath22 .",
    "if @xmath16 is homotopy facial then in particular the mbius function of a non - facial interval is zero and the mbius function of a facial interval corresponding to a face  @xmath21 is @xmath23 .",
    "the fan poset @xmath16 is _ atomic - facial _ if the facial intervals are exactly the atomic intervals .",
    "the definition of _ bisimplicial _ fan posets will be given in section  [ fan posets ] .",
    "the main geometric result of this paper is a more general version of the following theorem .",
    "[ main ] if @xmath14 is a coxeter group with associated fan @xmath15 then for any lattice congruence @xmath7 on the weak order on @xmath14 there is a fan @xmath24 , refined by @xmath15 , such that @xmath25 is a fan lattice .",
    "furthermore , @xmath25 is homotopy facial , atomic - facial and bisimplicial with respect to any linear functional @xmath26 whose minimum on the unit sphere occurs in the interior of the cone representing the identity of @xmath14 .",
    "any linear extension of @xmath27 is a shelling order on the facets of the associated sphere  @xmath18 .",
    "the maximal cones of @xmath24 are the unions over @xmath7-classes of the maximal cones of  @xmath15 . if @xmath7 and @xmath28 are congruences such that @xmath7 refines @xmath28 then the lattice homomorphism associated to @xmath28 factors through the homomorphism associated to @xmath7 . in this case",
    "@xmath29 is refined by @xmath24 .",
    "the main shortcoming of theorem  [ main ] is that it gives no means of knowing when @xmath24 is the normal fan of a polytope",
    ". it would be helpful to have a criterion for determining which of these fans are normal fans , particularly if the criterion were decisive for the examples given later in the introduction .",
    "the fan @xmath24 is not necessarily simplicial , but we give necessary and sufficient conditions on  @xmath7 for @xmath24 to be simplicial ( proposition  [ simp cond ] ) .",
    "the malvenuto - reutenauer algebra is @xmath30:=\\bigoplus_{n\\ge 0}{\\mathbb k\\,}[s_n]$ ] for a field @xmath31 , with a product which takes permutations @xmath32 and @xmath33 to the sum of all shuffles of @xmath34 and @xmath35 in @xmath36 .",
    "loday and ronco  @xcite pointed out that this product can be expressed as the sum of the elements in a certain interval in weak order .",
    "furthermore they showed that the products on the algebra of planar binary trees and the algebra of non - commutative symmetric functions can be expressed as sums over intervals in tamari lattices and boolean algebras respectively .",
    "the maps in  @xcite relating these partial orders are @xmath6 and the descent map .",
    "these facts are explained and generalized using lattice congruences .",
    "a family of lattice congruences @xmath37 on the weak order on the symmetric groups @xmath3 is called _ translational _ and/or _ insertional _ under certain conditions defined in sections  [ trans sec ] and  [ ins ] . given any family @xmath38 of congruences ,",
    "let @xmath39 be the family of lattice quotients @xmath40 , and define a graded vector space @xmath41:=\\bigoplus_{n\\ge 0}{\\mathbb k\\,}[z^\\theta_n]$ ] .",
    "define a map @xmath42\\to { \\mathbb k\\,}[s_\\infty]$ ] by sending each element @xmath43 to the sum of the elements of the corresponding congruence class in @xmath3 .",
    "we define a product on @xmath41 $ ] using each partial order @xmath44 in a manner analogous to loday and ronco s order - theoretic characterization of the shuffle product .",
    "we also define a coproduct on @xmath41 $ ] .",
    "the main algebraic results of this paper are the following theorems",
    ".    [ subalgebra ] if @xmath38 is a translational family then the map @xmath45 embeds @xmath41 $ ] as a subalgebra of @xmath30 $ ] .",
    "[ subcoalgebra ] if @xmath38 is an insertional family then the map @xmath45 embeds @xmath41 $ ] as a subcoalgebra of @xmath30 $ ] .",
    "a translational and insertional family of congruences is called an _",
    "@xmath46-family _ , where the `` @xmath46 '' indicates `` hopf , '' in accordance with the following immediate corollary of theorems  [ subalgebra ] and  [ subcoalgebra ] .",
    "[ subhopf ] if @xmath38 is an @xmath46-family then the map @xmath45 embeds @xmath41 $ ] as a sub hopf algebra of @xmath30 $ ] .",
    "the antipode of @xmath41 $ ] is easily written in terms of the antipode in @xmath30 $ ] ( see remark  [ anti remark ] ) .",
    "given two @xmath46-families @xmath47 and @xmath48 such that @xmath37 refines @xmath49 for each @xmath0 , @xmath50 $ ] is a sub hopf algebra of @xmath41 $ ] .",
    "we now discuss the application of theorem  [ main ] and corollary  [ subhopf ] to some examples , including the descent map and the map @xmath6 .",
    "the congruences of @xmath3 associated to the descent map and the tamari lattice are both nicely described in terms of _ pattern avoidance_. given permutations @xmath51 and @xmath52 , say that the _ pattern _ @xmath53 _ occurs _ in @xmath54 if there are integers @xmath55 such that for all @xmath56 we have @xmath57 if and only if @xmath58 .",
    "otherwise , say that @xmath54 _ avoids _ @xmath53 . for more information on patterns in permutations ,",
    "see @xcite .",
    "we extend the definition of pattern avoidance in order to describe @xmath46-families .",
    "say a permutation @xmath59 has a _ cliff _ at @xmath60 if @xmath61 and @xmath62 .",
    "if @xmath53 has a cliff at @xmath60 , say @xmath53 occurs in @xmath54 _ with adjacent cliff _ if there is some occurrence @xmath63 of @xmath53 in @xmath54 such that @xmath64 .",
    "otherwise say @xmath54 _ avoids cliff - adjacent instances _ of @xmath53 .",
    "if @xmath7 is a lattice congruence on a finite lattice @xmath8 , then every congruence class of @xmath7 is an interval of @xmath8 , and the quotient @xmath9 is isomorphic to the subposet of @xmath8 consisting of the bottom elements of the congruence classes .",
    "the homomorphism associated to a congruence @xmath28 factors through the homomorphism associated to a congruence @xmath7 if and only if the subposet @xmath65 is a subset of @xmath9 .",
    "we show that , for an @xmath46-family , the set of bottom elements of congruence classes in each @xmath3 is characterized by cliff - adjacent pattern avoidance ( theorem  [ c - a avoid ] ) .",
    "the tamari lattice ( the image of @xmath6 ) is the subposet of @xmath3 consisting of 312-avoiding permutations ( or alternately 231-avoiding permutations ) .",
    "this was noted by bjrner and wachs  @xcite , who showed that these permutations in fact form a sublattice of @xmath3 . the ( left ) descent map on @xmath3 is a projection down to permutations avoiding both 231 and 312 , and it follows that the descent map factors through @xmath6 . it is easily checked that a permutation avoids 312 if and only if it avoids cliff - adjacent instances of 312 , and similarly for 231 .",
    "applying theorem  [ main ] recovers the refinement relationships on the associated fans .",
    "applying theorem  [ subhopf ] and theorem  [ c - a avoid ] to these maps recovers the sub hopf algebra relationship of the corresponding algebras .",
    "the geometric results of this paper also apply to a broad generalization of the tamari lattices , defined in  @xcite . for any finite coxeter group @xmath14 a family of _ cambrian congruences _",
    "is defined on the weak order on @xmath14 .",
    "the quotient of @xmath14 by a cambrian congruence is called a _",
    "cambrian lattice_. the fans associated , via theorem  [ main ] , to the cambrian congruences are conjectured to be combinatorially equivalent to the normal fans of the generalized associahedra  @xcite and this conjecture is proven in types a and b.    in the present paper , we exhibit several additional examples .",
    "one of these examples builds @xmath30 $ ] as the limit of a sequence of smaller hopf algebras @xmath66 $ ] where the first hopf algebra in the sequence is the graded hopf algebra with one - dimensional graded pieces and the second is the hopf algebra of non - commutative symmetric functions .",
    "another example builds the hopf algebra of planar binary trees as the limit of a similar sequence .",
    "a third example concerns the _ twisted baxter permutations _ , a set of permutations defined similarly to , and apparently equinumerous with , the baxter permutations of  @xcite . by theorem  [ c - a avoid ]",
    ", the subposet of weak order on @xmath3 consisting of the twisted baxter permutations is in fact the quotient of the weak order by a certain lattice congruence .",
    "this congruence is identified as the meet of two congruences , one of which defines the tamari lattice as the 231-avoiding permutations , while the other defines the tamari lattice as the 312-avoiding permutations .",
    "the family of congruences defining the twisted baxter permutations is an @xmath46-family , so theorem  [ subhopf ] shows that there is a sub hopf algebra of @xmath30 $ ] such that a basis for the @xmath0th graded piece is indexed by the twisted baxter permutations in @xmath3 .",
    "theorem  [ main ] , besides proving several nice properties of the subposet of @xmath3 consisting of twisted baxter permutations , also constructs a ( non - simplicial ) complete fan in @xmath67 whose maximal cones are indexed by the twisted baxter permutations .",
    "it would be interesting to know if this fan is the normal fan of some polytope .",
    "this paper is the second in a series of papers beginning with  @xcite and continuing in  @xcite .",
    "each paper relies on the results of the preceding papers and cites later papers only for motivation or in the context of examples .",
    "the organization of the remainder of this paper is as follows : in section  [ lat cong ] , we provide background information on lattice congruences .",
    "section  [ fan posets ] defines fan posets and exhibits their basic properties .",
    "section  [ po ] defines the poset of regions of a central hyperplane arrangement , and quotes results which show that this poset is a fan poset with particularly nice properties . in section  [ quo ]",
    "we prove a generalization of theorem  [ main ] .",
    "section  [ symmetric ] provides background on the weak order on @xmath3 which is necessary for the exposition and proof of theorem  [ subalgebra ] in section  [ trans sec ] and theorem  [ subcoalgebra ] in section  [ ins ] .",
    "section  [ h ] presents the characterization of @xmath46-families by pattern - avoidance , remarks on computing the product , coproduct and antipode in @xmath41 $ ] , then concludes with examples .",
    "in this section we give background information on lattice congruences . a more detailed exposition of lattice congruences",
    "can be found for example in  @xcite .",
    "the poset notation used here is standard , and we assume basic poset and lattice terminology as for example in  @xcite . if @xmath68 in @xmath17 and there is no @xmath69 with @xmath70 , say @xmath53 _ covers _ @xmath54 and write @xmath71 . if @xmath17 is a poset with a unique minimal element and a unique maximal element ( for example if @xmath17 is a finite lattice ) , then the minimal element is denoted @xmath72 and the maximal element is @xmath73 .",
    "the elements covering @xmath72 are called the _ atoms _ of @xmath17 , and the elements covered by @xmath73 are _",
    "let @xmath17 be a finite poset with an equivalence relation @xmath7 defined on the elements of @xmath17 .",
    "given @xmath74 , let @xmath75_\\theta$ ] denote the equivalence class of @xmath76 .",
    "the equivalence relation is an _ order congruence _ if :    1 .",
    "every equivalence class is an interval .",
    "2 .   the projection @xmath77 , mapping each element @xmath76 of @xmath17 to the minimal element in @xmath75_\\theta$ ] , is order - preserving .",
    "the projection @xmath78 , mapping each element @xmath76 of @xmath17 to the maximal element in @xmath75_\\theta$ ] , is order - preserving .",
    "define a partial order on the congruence classes by @xmath75_\\theta\\le[b]_\\theta$ ] if and only if there exists @xmath79_\\theta$ ] and @xmath80_\\theta$ ] such that @xmath81 .",
    "the set of equivalence classes under this partial order is @xmath82 , the _ quotient _ of @xmath17 with respect to @xmath7 .",
    "the quotient @xmath82 is isomorphic to the induced subposet @xmath83 .",
    "the map @xmath84 maps @xmath83 isomorphically onto @xmath85 . the inverse is @xmath86 . for more information on order congruences and quotients ,",
    "see  @xcite .",
    "the _ join _ @xmath87 of a subset @xmath88 is the unique minimal element , if it exists , of the set @xmath89 .",
    "dually the _ meet _ @xmath90 is the unique maximal lower bound of @xmath91 .",
    "a finite poset @xmath8 is called a _ lattice _ if every subset of @xmath8 has both a meet and a join .",
    "an element @xmath92 in a finite lattice @xmath8 is join - irreducible if and only if it covers exactly one element , which we denote @xmath93 .",
    "the subposet of @xmath8 consisting of join - irreducible elements is denoted @xmath94 . a _ lattice congruence _",
    "is an equivalence relation on a lattice which respects joins and meets . specifically ,",
    "if @xmath95 and @xmath96 then @xmath97 and similarly for meets .",
    "when @xmath8 is a finite lattice , order congruences are exactly lattice congruences , and the quotient construction described above corresponds to the algebraic notion of the quotient of a lattice with respect to a congruence .",
    "the following properties of lattice congruences do not hold in the generality of poset congruences .",
    "let @xmath7 be a congruence on a lattice @xmath8 .",
    "for @xmath98 , let @xmath99_\\theta$ ] denote the congruence class of @xmath54 mod @xmath7 .",
    "[ int ] if @xmath100 $ ] is an interval in @xmath8 , then @xmath101_\\theta : z\\in[x , y ] \\right\\rbrace}}$ ] is the interval @xmath102_\\theta,[y]_\\theta]$ ] in @xmath9 , and this interval is isomorphic to @xmath100/\\theta$ ] , where @xmath7 also denotes the restriction of @xmath7 to @xmath100 $ ] .",
    "if @xmath103 $ ] then by definition @xmath104_\\theta\\in[[x]_\\theta,[y]_\\theta]$ ] .",
    "if @xmath104_\\theta\\in[[x]_\\theta,[y]_\\theta]$ ] then in particular @xmath105 and @xmath106 .",
    "so @xmath53 and @xmath107 are both upper bounds on @xmath54 and @xmath108 and thus @xmath109 is below both @xmath53 and @xmath107 .",
    "thus we have @xmath110 $ ] and @xmath111=[z]_\\theta$ ] , so @xmath104_\\theta=[x{\\vee}{\\pi_\\downarrow}z]_\\theta\\in{{\\left\\lbrace [ w]_\\theta : w\\in[x , y ] \\right\\rbrace}}$ ] .",
    "since the interval @xmath100 $ ] is in particular a sublattice of @xmath8 , the restriction of @xmath7 to @xmath100 $ ] is a lattice congruence and the join and meet operations in @xmath100 $ ] are inherited from @xmath8 . therefore the join and meet operations in @xmath8 on congruence classes intersecting @xmath100 $ ] are the same as the join and meet of the restrictions of those congruence classes to @xmath100 $ ] .",
    "thus @xmath102_\\theta,[y]_\\theta]$ ] and @xmath100/\\theta$ ] are isomorphic as lattices .    [ quotient covers ] let @xmath8 be a finite lattice , @xmath7 a congruence on @xmath8 and @xmath98 . then the map @xmath112_\\theta$ ] restricts to a one - to - one correspondence between elements of @xmath8 covered by @xmath113 and elements of @xmath9 covered by @xmath99_\\theta$ ] .",
    "first , we show that the restriction of the map @xmath112_\\theta$ ] to elements covered by @xmath113 is one - to - one .",
    "suppose that @xmath53 and @xmath114 are both covered by @xmath113 and @xmath115 .",
    "if @xmath116 then @xmath113 is a minimal upper bound for @xmath53 and @xmath114 , so it is in fact their join , and in particular @xmath117 .",
    "this contradicts the fact that @xmath113 is the minimal element of its congruence class , thus proving that @xmath118 .",
    "we now show that @xmath119_\\theta{{\\,\\,<\\!\\!\\!\\!\\cdot\\,\\,\\,}}[x]_\\theta$ ] if and only if there is some @xmath120 such that @xmath121 in @xmath8 .",
    "suppose that @xmath119_\\theta{{\\,\\,<\\!\\!\\!\\!\\cdot\\,\\,\\,}}[x]_\\theta$ ] .",
    "thus in particular @xmath122 , so let @xmath114 be any element of @xmath8 such that @xmath123 . if @xmath124 then @xmath119_\\theta<[y']_\\theta<[x]_\\theta$ ] , which is a contradiction .",
    "thus the element @xmath114 covered by @xmath113 has @xmath125_\\theta=[y]_\\theta$ ] .",
    "suppose that @xmath126 in @xmath8 .",
    "we want to show that @xmath119_\\theta{{\\,\\,<\\!\\!\\!\\!\\cdot\\,\\,\\,}}[x]_\\theta$ ] in @xmath9 . since @xmath113 is minimal in @xmath127_\\theta$ ]",
    "we have @xmath128 , so @xmath119_\\theta<[x]_\\theta$ ] .",
    "suppose that @xmath119_\\theta{{\\,\\,<\\!\\!\\!\\!\\cdot\\,\\,\\,}}[z]_\\theta\\le [ x]_\\theta$ ] for some @xmath129 and let @xmath114 be the unique element of @xmath119_\\theta$ ] covered by @xmath108 whose existence was proved in the previous paragraphs .",
    "if @xmath130 , then @xmath131 , thus contradicting our supposition . since @xmath113 is an upper bound for @xmath53 and @xmath108 , we have @xmath132 , and since @xmath133 and @xmath134 , we have @xmath135 . now , since @xmath115 , we have @xmath136 , or in other words @xmath137 , so that in particular @xmath104_\\theta=[x]_\\theta$ ] .",
    "congruences on @xmath8 are , in particular , partitions of the elements of @xmath8 , and @xmath138 is the set of congruences of @xmath8 partially ordered by refinement .",
    "the partial order @xmath138 is a distributive lattice  @xcite , and thus is uniquely determined by the subposet @xmath139 .",
    "the meet in @xmath138 is intersection of the congruences as relations . if @xmath140 and @xmath141 are congruences on @xmath8 , with associated downward projections @xmath142 and @xmath143 , let @xmath144 have associated downward projection @xmath86 .",
    "it follows immediately from  ( * ? ? ?",
    "* theorem i.3.9 ) that @xmath98 has @xmath145 if and only if both @xmath146 and @xmath147 .",
    "thus the quotient of @xmath8 mod @xmath144 is isomorphic to the induced subposet @xmath148 of @xmath8 .",
    "if @xmath71 and @xmath149 , we say @xmath7 _ contracts _ the edge @xmath71 . for an element  @xmath53 ,",
    "if there exists an edge @xmath71 contracted by @xmath7 , we say @xmath7 contracts @xmath53 .",
    "thus @xmath7 contracts a join - irreducible @xmath92 if and only if @xmath150 . a lattice congruence is determined by the set of join - irreducibles it contracts ( see for example ( * ? ? ?",
    "* ; * ? ? ?",
    "* section ii.3 ) ) . given a covering pair @xmath71 in @xmath8 , let @xmath151 be the smallest lattice congruence contracting that edge .",
    "then @xmath151 is a join - irreducible congruence . given a join - irreducible @xmath92 of @xmath8 ,",
    "write @xmath152 for @xmath153 .",
    "the map @xmath154 is onto , but need not be one - to - one .",
    "a lattice @xmath8 is _ congruence uniform _ if @xmath155 is a bijection and if a dual statement about meet - irreducibles holds as well  @xcite .",
    "when @xmath8 is a congruence uniform lattice , @xmath139 can be thought of as a partial order on the join - irreducibles .",
    "if @xmath7 is a congruence on @xmath8 , then @xmath156 is the order filter in @xmath139 consisting of join - irreducibles of @xmath8 not contracted by @xmath7 .    given a congruence @xmath140 on a lattice @xmath157 and a congruence @xmath141 on a lattice @xmath158 ,",
    "define an equivalence @xmath159 on @xmath160 by setting @xmath161 mod @xmath159 if and only if @xmath162 mod @xmath140 and @xmath163 mod @xmath141 .",
    "it is an easy exercise to show that @xmath159 is a congruence , and furthermore that any congruence on @xmath160 has the form @xmath159 for some congruence @xmath140 on @xmath157 and some congruence @xmath141 on @xmath158 .",
    "the join - irreducibles of @xmath160 are exactly the pairs @xmath164 where @xmath165 is a join - irreducible of @xmath157 , and the pairs @xmath166 where @xmath167 is a join - irreducible of @xmath158 .",
    "given lattices @xmath157 and @xmath158 a _ homomorphism _ from @xmath157 to @xmath158 is a map @xmath168 such that for all @xmath54 and @xmath53 in @xmath157 we have @xmath169 and similarly for meets .",
    "given a lattice homomorphism @xmath6 , the equivalence relation whose classes are the fibers of @xmath6 is a congruence , and conversely , given a congruence @xmath7 on @xmath8 , the map from an element to its equivalence class is a homomorphism @xmath170 .",
    "alternately , the map @xmath86 is a homomorphism from @xmath8 to @xmath171 .",
    "if @xmath172 and @xmath173 are lattice homomorphisms , we say @xmath174 _ factors through _",
    "@xmath175 if there is a lattice homomorphism @xmath168 such that @xmath176 .",
    "if @xmath140 and @xmath141 are the lattice congruences associated to @xmath175 and @xmath174 and @xmath177 in @xmath138 then @xmath174 factors through @xmath175 .",
    "given a partially ordered set @xmath17 , topological statements about @xmath17 refer to its _ order complex _",
    ", the abstract simplicial complex whose faces are the _ chains _ ( totally ordered subposets ) of @xmath17",
    ". the _ proper part _ of a finite lattice @xmath8 is @xmath178 .",
    "the following is a special case of the crosscut theorem ( see the explanation surrounding ( 10.8 ) of  @xcite ) .",
    "[ crosscut ] if @xmath8 is a finite lattice with atoms @xmath179 , then the proper part of @xmath8 is homotopy equivalent to the abstract simplicial complex consisting of subsets of @xmath179 whose join is not @xmath73 .    for convenience here",
    ", we call this abstract simplicial complex the _ crosscut complex _ of @xmath8 , although the usual definition of a crosscut complex is much more general .",
    "[ cross cor ] if @xmath8 is a lattice and @xmath7 is a congruence on @xmath8 such that no atom of @xmath8 is congruent to @xmath72 and no coatom is congruent to @xmath73 , then the proper part of @xmath8 is homotopy equivalent to the proper part of @xmath9 .",
    "since no atom of @xmath8 is congruent to @xmath72 , there is a one - to - one correspondence between atoms of @xmath8 and atoms of @xmath9 .",
    "we use @xmath179 to denote both sets of atoms .",
    "since no coatom is congruent to @xmath73 , the top element of @xmath9 is the equivalence class @xmath180 . for @xmath181 the join of @xmath179 in @xmath9",
    "is the equivalence class of the join of @xmath179 in @xmath8 , so @xmath182 joins to @xmath73 in @xmath8 if and only if it joins to @xmath180 in @xmath9 .",
    "thus the crosscut complex of @xmath9 is isomorphic to the crosscut complex of @xmath8 .",
    "in this section we define fan posets and prove some of their basic properties .",
    "we assume the definitions of polytopes , cones , simplicial complexes , regular cw complexes , combinatorial isomorphism and homotopy equivalence . for more information on regular cw complexes , particularly as they relate to combinatorics , see  @xcite and section 4.7 of  @xcite .",
    "we call the closed cells of a cw complex _ faces_. the",
    "_ 1-skeleton _ of a cw complex @xmath19 is the subcomplex consisting of the 0- and 1-dimensional faces of @xmath19 .",
    "given a regular cw complex @xmath19 with face poset @xmath17 , the poset @xmath183 is topologically equivalent to @xmath19 , because the order complex of @xmath183 is combinatorially isomorphic to the _ barycentric subdivision _ of @xmath19 .",
    "the following theorem is due to bjrner  @xcite .",
    "[ cw thm ] a non - trivial poset @xmath17 with a unique minimal element @xmath72 is the face poset of a regular cw complex if and only if every interval @xmath184 is a sphere .",
    "a _ fan _ in @xmath11 is a family @xmath15 of nonempty closed polyhedral cones with the following properties :    1 .",
    "every nonempty face of a cone in @xmath15 is also a cone in @xmath15 .",
    "the intersection of two cones in @xmath15 is a face of both .",
    "a _ complete fan _ has the additional property that @xmath185 .",
    "since @xmath15 is closed under intersections and has a minimal element @xmath186 , if one partially orders @xmath15 by inclusion and adjoins a maximal element @xmath73 , one obtains a lattice , called the _ face lattice _ of @xmath15 .",
    "the intersection @xmath186 of all cones in @xmath15 is a subspace , because otherwise it must have at least one proper nonempty face .",
    "if for every maximal cone @xmath187 of @xmath15 , the normals to the facets of @xmath187 are linearly independent , then @xmath15 is a _",
    "simplicial fan_. we need the following lemma .",
    "[ fan lemma ] let @xmath188 be a finite set of @xmath189-dimensional closed cones in @xmath11 with non - intersecting interiors such that @xmath190 , with the property that the intersection of any two cones in @xmath188 is a face of each .",
    "then the collection @xmath15 of cones , consisting of arbitrary intersections of cones in @xmath188 , is a fan .",
    "we first show that @xmath15 is exactly the set of faces of cones in @xmath188 .",
    "let @xmath21 be the intersection of some subset @xmath191 .",
    "we prove by induction on @xmath192 that @xmath21 is a face of some @xmath193 .",
    "the base of the induction is the case @xmath194 , or in other words @xmath195 , which is trivial .",
    "let @xmath196 for some @xmath197 .",
    "then by induction , @xmath198 is a face of some @xmath199 .",
    "since @xmath200 is a face of @xmath187 as well , the intersection @xmath201 is the intersection of two faces of @xmath187 , and thus is a face of @xmath187 .",
    "conversely , let @xmath202 be a face of some cone @xmath187 in @xmath188",
    ". then @xmath202 can be written as the intersection of some set @xmath203 of facets of @xmath187 . since @xmath190 , and the members of @xmath188 intersect in faces , each facet @xmath21 of @xmath187 is the intersection of @xmath187 with some @xmath204 .",
    "then @xmath202 is the intersection of @xmath187 with all of the @xmath205 for @xmath21 in @xmath203 .",
    "we have thus established condition ( i ) in the definition of a fan .",
    "furthermore , since each cone in @xmath15 is the intersection of some set of cones in @xmath188 , the intersection of two cones @xmath21 and @xmath202 in @xmath15 is also the intersection of some set of cones in @xmath188 , and thus @xmath206 is the face of some cone in @xmath188 .",
    "since @xmath21 and @xmath202 are each faces of cones in @xmath188 , the intersection @xmath206 is a face of each .    given a cone @xmath187 of @xmath15 , we define the restriction @xmath207 of @xmath15 to @xmath187 as follows .",
    "let @xmath208 be an open @xmath189-ball centered at a point @xmath209 in the relative interior of @xmath187 , such that @xmath208 does not intersect any cone not containing @xmath187 .",
    "then the intersection of @xmath15 with @xmath208 gives a cellular decomposition of @xmath208 .",
    "we center a @xmath189-dimensional vector space at @xmath209 and extend this cellular decomposition of @xmath208 linearly to a cellular decomposition of the vector space .",
    "the resulting decomposition is the fan @xmath207 .",
    "a complete fan @xmath15 is _ essential _ if @xmath186 is the origin .",
    "if @xmath15 is essential then the intersection of @xmath15 with the unit sphere defines a cellular decomposition of the sphere . given a non - essential fan @xmath15 , a combinatorially isomorphic essential fan @xmath210 is obtained by intersecting @xmath15 with the orthogonal complement @xmath211 of @xmath186 .",
    "we define the _ associated sphere _ @xmath18 of @xmath15 to be the cw sphere whose cellular structure is the decomposition of the unit sphere in @xmath211 induced by @xmath210 .",
    "the upper interval @xmath212 $ ] in the face lattice of @xmath15 is isomorphic to the face lattice of @xmath207 .",
    "in particular , @xmath212 $ ] is spherical , and by theorem  [ cw thm ] there is a regular cw sphere @xmath19 whose face poset , upon adjoining a maximal element @xmath73 , is dual to the face lattice of @xmath15 .",
    "we call @xmath19 the _ dual sphere _ to @xmath15 .",
    "if @xmath213 is a polytope and @xmath21 is a face of @xmath213 , the _ normal cone _ to @xmath21 is the set of linear functionals which are maximized at every point on @xmath21 .",
    "the _ normal fan _ of @xmath213 is the collection of normal cones to the faces of @xmath213 .",
    "a fan is called _ polytopal _ if it is the normal fan of some polytope .",
    "a _ fan poset _ is a pair @xmath16 where @xmath15 is a complete fan in @xmath11 and @xmath17 is a finite poset whose elements are the maximal cones of @xmath15 , subject to the following conditions :    1 .   for every interval @xmath20 of @xmath17 , the union of the maximal cones in @xmath20",
    "is a polyhedral cone .",
    "2 .   for every cone",
    "@xmath187 of @xmath15 , the set of maximal cones containing @xmath187 is an interval in @xmath17 .",
    "the intervals arising as in ( ii ) are called _ facial _ intervals .",
    "say @xmath16 is _ homotopy facial _ if the homotopy types of intervals are described as follows : if @xmath100 $ ] is a facial interval associated to a cone of dimension @xmath214 , then the open interval @xmath215 is homotopy equivalent to a @xmath216-sphere . if @xmath100 $ ] is not a facial interval , then @xmath215 is contractible . by convention",
    "the complex containing only the empty set is a @xmath217-dimensional sphere , and the empty complex is a @xmath218-dimensional sphere .",
    "if @xmath16 is homotopy facial then in particular the face lattice of @xmath15 can be determined from the abstract partial order @xmath17 . specifically , the face lattice is dual to the set of non - contractible intervals , partially ordered by containment .",
    "the non - contractible intervals in @xmath17 are exactly the intervals with non - zero mbius functions .",
    "an interval @xmath20 in a poset is called _ atomic _ if the maximal element of @xmath20 is the join of the set of atoms of @xmath20 .",
    "call @xmath16 _ atomic - facial _ if the facial intervals are exactly the atomic intervals .",
    "if @xmath16 is atomic facial , then the face lattice of @xmath15 is dual to the set of atomic intervals , partially ordered by containment .",
    "let @xmath16 be a fan poset and let @xmath26 be a linear functional on @xmath11 .",
    "for any covering relation @xmath219 in @xmath17 , let @xmath220 be the unit normal vector to the hyperplane separating @xmath221 from @xmath222 , oriented to point from @xmath221 to @xmath222 .",
    "say that @xmath16 is _ induced by _",
    "@xmath26 if for any such @xmath219 and @xmath220 we have @xmath223 . for any maximal cone @xmath187 of @xmath15 ,",
    "let @xmath224 be the set of outward - facing unit normals @xmath220 of @xmath187 such that @xmath223 and let @xmath225 be the set of outward - facing unit normals for which @xmath226 .",
    "say a maximal cone @xmath187 is _ bisimplicial _ with respect to @xmath26 if both @xmath224 and @xmath225 are linearly independent sets .",
    "say @xmath16 is _ bisimplicial _ with respect to @xmath26 if it induced by @xmath26 and if each maximal cone of @xmath15 is bisimplicial with respect to @xmath26 .",
    "a facial interval of a fan poset is itself a fan poset .",
    "that is , if @xmath187 is a cone of @xmath15 and @xmath20 is the corresponding interval of @xmath17 , then @xmath227 is a fan poset .",
    "if @xmath16 enjoys some subset of the properties of being polytopal , homotopy facial , atomic - facial , induced , bisimplicial and/or simplicial , then @xmath227 enjoys those properties as well .",
    "the fan poset @xmath16 is defined to be _ polytopal _ and/or _ simplicial _ if @xmath15 is . if @xmath16 is polytopal , then the polytope is combinatorially isomorphic to @xmath19 , so we refer to the polytope as @xmath19 . if @xmath16 is a polytopal fan poset induced by a linear functional  @xmath26 , then @xmath17 is the partial order induced by @xmath26 on the vertices of @xmath19 .",
    "suppose @xmath17 is a partial order on the vertices of some cw sphere @xmath19 .",
    "say @xmath17 _ orients the 1-skeleton _ of @xmath19 if the 1-skeleton of @xmath19 is isomorphic as a graph to the hasse diagram of @xmath17 via the identification of elements of @xmath17 with vertices of @xmath19 .",
    "[ 1skel ] if @xmath16 is a fan poset then @xmath17 orients the 1-skeleton of the dual sphere @xmath19 .",
    "edges in @xmath19 correspond to pairs of maximal cones of @xmath15 intersecting in dimension @xmath228 .",
    "condition ( ii ) in the definition of a fan means in particular that the 1-skeleton of @xmath19 has no multiple edges . thus showing graph isomorphism is equivalent to showing that two maximal cones form a cover in @xmath17 if and only if the maximal cones intersect in dimension @xmath228 .",
    "suppose @xmath221 and @xmath222 are maximal cones of @xmath15 such that @xmath229 is a cone @xmath21 of dimension @xmath228 in @xmath15 .",
    "then @xmath230 is the complete set of maximal cones containing @xmath21 . by the definition of a fan poset",
    ", @xmath230 is an interval in @xmath17 , necessarily a cover relation .",
    "suppose @xmath219 in @xmath17 , so that in particular @xmath230 is an interval in @xmath17 . by the definition of fan poset , @xmath231 is a polyhedral cone , so in particular @xmath221 and @xmath222 must intersect in dimension @xmath228 .",
    "let @xmath18 be a cw complex all of whose facets have dimension @xmath189 .",
    "given any face ( closed cell ) @xmath21 of @xmath18 , let @xmath232 be the boundary of @xmath21 .",
    "a linear order @xmath233 on the facets of @xmath18 is a _ shelling _ of @xmath18 if @xmath234 or if @xmath235 and the following conditions hold :    1 .",
    "@xmath236 has a shelling , 2 .   for @xmath237 ,",
    "the intersection @xmath238 is a pure cw complex of dimension @xmath228 , and 3 .   for @xmath237 , the boundary",
    "@xmath239 has a shelling in which the @xmath12-dimensional faces of @xmath240 appear first .",
    "the _ boundary complex _ of a convex polytope is the boundary of the polytope with a cellular decomposition consisting of the relative interiors of the faces of the polytope .",
    "bruggesser and mani  @xcite defined , for any linear functional @xmath26 not parallel to any facet hyperplane of the polytope , a shelling of the boundary complex .",
    "their shelling has the following property : every facet whose outward - facing normal @xmath220 has @xmath226 precedes every facet whose outward - facing normal @xmath220 has @xmath223 .",
    "[ induced shelling ] if @xmath16 is a fan poset induced by a linear functional then any linear extension of @xmath17 is a shelling order on the associated sphere @xmath18 .",
    "let @xmath18 be the @xmath241-dimensional sphere associated to @xmath15 and let @xmath233 be a linear order on the facets of @xmath18 induced by some linear extension of @xmath17 .",
    "for each  @xmath242 let @xmath243 be the maximal cone of @xmath15 containing @xmath244 .",
    "we first establish condition ( ii ) in the definition of shelling , independent of the hypothesis that @xmath16 is induced by a linear functional .",
    "suppose @xmath245 .",
    "the maximal cones of @xmath15 containing @xmath246 form an interval in @xmath17 . since @xmath247 ,",
    "in particular @xmath248 is not the bottom element of the interval , so we can find a maximal cone @xmath249 which is in the interval and is covered by @xmath248 . since @xmath249 is covered by @xmath248 , by the proof of proposition  [ 1skel ] the intersection @xmath250 is a facet of @xmath248 , and since @xmath249 is in the interval , we have @xmath251 . finally ,",
    "since @xmath249 is below @xmath248 in @xmath17 , we have @xmath252 .",
    "intersecting with the unit sphere in @xmath211 , we have the following statement about @xmath18 : for every @xmath245 there exists @xmath253 such that @xmath254 and @xmath255 is a facet of @xmath256 .",
    "this means that every face of @xmath257 is contained in a @xmath258-dimensional face of @xmath259 , implying condition ( ii ) in the definition of shelling .",
    "we can assume @xmath15 is essential because if not , we replace @xmath15 by @xmath210 .",
    "since @xmath260 is a linear extension of @xmath17 , the set @xmath261 is exactly the union of the facets of @xmath248 which separate @xmath248 from maximal cones covered by @xmath248 in @xmath17 .",
    "if @xmath16 is induced by @xmath26 then this set of facets is exactly the set of facets whose outward - facing normals @xmath220 have @xmath226 .",
    "intersecting @xmath248 with an affine hyperplane @xmath262 parallel to @xmath26 so as to produce a convex polytope of dimension @xmath228 , the bruggesser - mani shelling with respect to @xmath26 is a shelling of @xmath263 in which the @xmath264-dimensional faces of @xmath265 appear first . since @xmath263 is combinatorially isomorphic to @xmath256 , this satisfies ( iii ) .",
    "we can shell @xmath266 in a similar manner , using any linear functional not parallel to a facet of @xmath266 .",
    "our proof is patterned after the proof , due to bjrner and ziegler , of a similar statement  ( * ? ? ?",
    "* ; * ? ? ?",
    "* proposition 4.3.2 ) due to lawrence about the `` big '' face poset of an oriented matroid .",
    "any linear ordering of the facets of a simplex is a shelling order .",
    "thus if @xmath18 is a pure simplicial complex , a total order on the facets of @xmath18 is a shelling if and only if it satisfies condition ( ii ) in the definition of shelling given above . in the proof of proposition  [ induced shelling ] , condition ( ii )",
    "was established independent of the condition that @xmath16 is induced .",
    "thus we have the following :    [ shelling ] if @xmath16 is a simplicial fan poset , then any linear extension of @xmath17 is a shelling order on @xmath15 .",
    "one application of a shelling order on a simplicial complex is in determining the face numbers of the simplicial sphere @xmath18 associated to a simplicial fan @xmath15 .",
    "the _ @xmath267-vector _ of a simplicial complex @xmath268 of dimension @xmath228 is @xmath269 , where @xmath270 is the number of simplices of @xmath268 of dimension @xmath242 and the empty simplex is by convention @xmath217-dimensional .",
    "the _ @xmath271-vector _ of @xmath268 is @xmath272 , defined by the polynomial identity @xmath273 for example @xmath274 and @xmath275 is @xmath276 times the reduced euler characteristic of @xmath268 .",
    "when @xmath268 is shellable , for each maximal simplex @xmath256 in the shelling order there is a unique minimal face @xmath277 of @xmath256 among faces of @xmath256 not contained in @xmath278 .",
    "furthermore @xmath279 , where @xmath280 is the number of vertices of @xmath281 .",
    "equivalently , @xmath280 is the number of facets of @xmath244 contained in @xmath278 . for @xmath16 a simplicial fan poset , @xmath187 a maximal cone of @xmath15 and any linear extension of @xmath17 , the quantity @xmath282 is the number of elements covered by @xmath187 in @xmath17 .",
    "thus for @xmath283 the number of elements of @xmath17 covering exactly @xmath242 elements is @xmath284 in the @xmath271-vector of @xmath18 .",
    "this is in keeping with the fact that @xmath17 is a _ good orientation _ of @xmath19 in the sense of kalai  @xcite .",
    "the dehn - sommerville equations @xmath285 for @xmath283 are satisfied by the boundary complexes of simplicial polytopes .",
    "if @xmath16 is a simplicial fan poset and if @xmath286 is the dual partial order to @xmath17 , then @xmath287 is a simplicial fan poset with the same associated sphere .",
    "an element covering @xmath242 elements in @xmath17 covers @xmath288 elements in @xmath286 .",
    "since the @xmath271-vector is a combinatorial invariant of @xmath18 we have the following .    [ ds ] if @xmath16 is a simplicial fan poset then the associated simplicial sphere satisfies the dehn - sommerville equations .    for a cone @xmath187 of @xmath15 ,",
    "the _ star _ of @xmath187 is the fan whose maximal cones are the maximal cones of @xmath15 which contain @xmath187 .",
    "say the star of @xmath187 is convex if the union of the maximal cones of the star is a convex set .",
    "a fan @xmath15 is _ locally convex _ if for every cone @xmath187 of @xmath15 , the star of @xmath187 is convex .",
    "the following is immediate from the definition of a fan poset .",
    "[ local convex ] if @xmath16 is a fan poset then @xmath15 is locally convex .",
    "a simplicial complex @xmath18 is called _ flag _ if every minimal set of vertices not spanning a face of @xmath18 has cardinality 2 . in",
    "@xcite it is shown that , given a simplicial locally convex fan @xmath15 , the simplicial sphere @xmath18 is flag .",
    "thus proposition  [ local convex ] implies the following .",
    "[ flag ] if @xmath16 is a simplicial fan poset then the corresponding simplicial sphere is flag .",
    "in this section we give background information on the poset of regions of a hyperplane arrangement , prove or quote basic results , and restate some known results in the language of fan posets .    a _ hyperplane arrangement _",
    "@xmath10 is a finite collection of codimension  1 linear subspaces in @xmath11 called _",
    "the complement of the union of the hyperplanes is disconnected , and the closures of its connected components are called _",
    "regions_. in general , one might consider an arrangement of affine hyperplanes .",
    "hyperplane arrangements consisting entirely of linear subspaces are called _ central _ , and all hyperplane arrangements considered in this paper are central .",
    "the _ rank _ of an arrangement is the dimension of the linear span of the normals to the hyperplanes .",
    "a region @xmath289 of @xmath10 is called _ simplicial _ if the normals to the facets of @xmath289 are linearly independent .",
    "a central hyperplane arrangement is called _ simplicial _ if every region is simplicial .",
    "we fix once and for all a central hyperplane arrangement @xmath10 and a region @xmath290 of @xmath10 . for any region @xmath289 , define the _ separating set _ @xmath291 of @xmath289 to be the set of hyperplanes separating @xmath289 from @xmath290 .",
    "the _ poset of regions _",
    "@xmath292 is a partial order on the regions with @xmath293 if and only if @xmath294 .",
    "the region @xmath290 , called the _ base region _ , is the unique minimal element of @xmath292 .",
    "the map sending each region @xmath289 to its antipodal region @xmath295 is an anti - automorphism and corresponds to complementation of separating sets . in particular",
    ", @xmath292 has a unique maximal element @xmath296 . given a region @xmath289 , call those facets of @xmath289 by which one moves up in @xmath292 _ upper facets _ of @xmath289 , and call the other facets of @xmath289 _ lower facets_. the poset of regions has been studied in  @xcite .",
    "associated to @xmath10 there is a complete fan which we call @xmath15 , consisting of the regions of @xmath10 together with all of their faces . given a cone @xmath187 of @xmath15 , the set of regions containing @xmath187 is an interval in @xmath292 , isomorphic to the poset of regions @xmath297 , where @xmath298 is the set of hyperplanes of @xmath10 containing @xmath187 and @xmath299 is the region of @xmath298 containing @xmath290 . given an interval @xmath300 $ ] in @xmath292 , the union of the corresponding regions is the set of points weakly separated from @xmath290 by every hyperplane in @xmath301 and weakly separated from @xmath296 by every hyperplane in @xmath302 .",
    "this set is a polyhedral cone , and thus @xmath303 is a fan poset .",
    "the definition of @xmath292 by separating sets can be rephrased as the statement that @xmath292 is the partial order induced on the maximal cones of @xmath15 by any linear functional @xmath26 whose minimum on the unit sphere lies in the interior of @xmath290 .",
    "the fan @xmath15 is the normal fan to a zonotope which is the minkowski sum of the normal vectors to the hyperplanes .",
    "the dimension of the zonotope is the rank of the arrangement . in particular , @xmath303 is polytopal . edelman and walker  ( * ? ? ?",
    "* theorem 2.2 ) determined the homotopy type of open intervals in @xmath292 . in the terminology of fan posets ,",
    "their theorem is exactly the statement that @xmath303 is homotopy facial .",
    "[ joins ] if @xmath304 is the set of regions covering @xmath290 in @xmath292 then @xmath305 and any proper subset @xmath306 has an upper bound strictly below @xmath296 .",
    "for any @xmath307 , there is some @xmath308 such that @xmath309 and @xmath310 .",
    "any element covered by @xmath296 is @xmath295 for some @xmath307 , and in particular , no element covered by @xmath296 is above every element of @xmath304 , so @xmath305 .",
    "for any subset @xmath311 , take @xmath312 , and let @xmath262 have @xmath309 .",
    "then @xmath310 contains in particular the separating set of every @xmath313 , so @xmath295 is an upper bound for @xmath208 .",
    "if @xmath20 is a facial interval of @xmath303 , then since @xmath20 is isomorphic to some other poset of regions , by lemma  [ joins ] it is an atomic interval of @xmath292 .",
    "if @xmath10 is simplicial and @xmath20 is an atomic interval , let @xmath289 be the minimal element of @xmath20 , and let @xmath179 be the set of atoms of @xmath20 .",
    "then @xmath314 is a face of @xmath289 and thus a cone @xmath15 .",
    "let @xmath298 be the set of hyperplanes of @xmath10 containing @xmath187 .",
    "the join of @xmath179 is the region containing @xmath187 whose separating set is @xmath315 , and thus @xmath20 is the complete set of regions containing @xmath187 .",
    "we summarize these facts in the following theorem :    [ poset ] if @xmath10 is a central hyperplane arrangement , @xmath290 is a region of @xmath10 and @xmath15 is the corresponding fan , then    1 .",
    "@xmath303 is a fan poset , 2 .",
    "@xmath303 is polytopal , homotopy facial , and induced by any linear functional @xmath26 whose minimum on the unit sphere lies in the interior of @xmath290 .",
    "facial intervals are atomic , and if @xmath10 is simplicial then @xmath303 is atomic - facial",
    ".    the following easy lemma will be useful in a later section .",
    "[ face ] for any two regions @xmath316 and @xmath289 of @xmath10 , there is a sequence of regions @xmath317 such that for every @xmath242 the intersection @xmath318 is @xmath12-dimensional and @xmath319 for every @xmath242",
    ".    we may as well take @xmath320 . then because @xmath15 is a fan poset , the set of regions containing @xmath321 is an interval in @xmath322 , and the desired sequence is any unrefinable chain from @xmath316 to @xmath289 in the interval .",
    "bjrner , edelman and ziegler  @xcite showed that if @xmath10 is simplicial , then @xmath292 is a lattice for any choice of @xmath290 . in  @xcite it",
    "is shown that when @xmath10 is simplicial then @xmath292 admits special congruences called _ parabolic congruences _ , which we now define .",
    "let @xmath10 be simplicial and let @xmath323 be the set of facet hyperplanes of @xmath290 , and for each @xmath324 let @xmath325 be the atom of @xmath292 separated from @xmath290 by @xmath262 . for any @xmath326 the intersection of the hyperplanes of @xmath327 is a subspace @xmath328 .",
    "let @xmath329 be the set of hyperplanes containing @xmath328 and let @xmath330 be the @xmath329-region containing @xmath290 .",
    "the arrangement @xmath329 is simplicial .",
    "let @xmath331 be the equivalence relation on @xmath292 setting @xmath332 if and only if @xmath333 and @xmath334 are contained in the same @xmath329-region .",
    "in other words , the @xmath329 regions are the unions over @xmath331-classes of the @xmath10-regions .",
    "the equivalence @xmath331 is a lattice congruence  ( * ? ? ?",
    "* proposition 6.3 ) , and furthermore :    ( * ? ? ?",
    "* theorem 6.9 ) [ parabolic ] let @xmath10 be simplicial and let @xmath335 . then @xmath331 is the unique minimal lattice congruence with @xmath336 for every @xmath337 .",
    "when @xmath10 is a coxeter arrangement , the homomorphism associated to @xmath331 is projection to a parabolic subgroup .    in the next section , for any congruence @xmath7 on a lattice @xmath292",
    "we construct a fan @xmath24 whose maximal cones are the unions over @xmath7-classes of the maximal cones of @xmath15 .",
    "suppose @xmath10 is simplicial , @xmath326 and @xmath7 is any congruence contracting atoms @xmath325 for @xmath338 . by theorem  [ parabolic ] , @xmath7 is refined by @xmath331 , so that @xmath7 can be thought of as a congruence on @xmath339 .",
    "thus we can first pass to the fan associated to @xmath339 and form the fan @xmath24 by taking unions of @xmath329-regions . in particular , when @xmath10 is simplicial we can always reduce to the case where @xmath7 contracts no atoms of @xmath292 .",
    "furthermore , we have the following :    [ may as well ] let @xmath10 be simplicial and let @xmath7 be a congruence on @xmath292 . if @xmath340_\\theta\\neq{{\\left\\lbrace b \\right\\rbrace}}$ ] then @xmath341 .",
    "we have @xmath342 . if @xmath340_\\theta\\neq{{\\left\\lbrace b \\right\\rbrace}}$ ] then for some nonempty @xmath326 we have @xmath343 for every @xmath338 . thus @xmath344 .",
    "it follows easily from the definition of a lattice congruence that @xmath340_\\theta={{\\left\\lbrace b \\right\\rbrace}}$ ] if and only if @xmath345_\\theta={{\\left\\lbrace -b \\right\\rbrace}}$ ] .",
    "this section is devoted to proving a generalization of theorem  [ main ] and other facts about the fans @xmath24 .",
    "[ main gen ] if @xmath10 is a central hyperplane arrangement and @xmath290 is a region of @xmath10 such that @xmath292 is a lattice , then for any lattice congruence @xmath7 on @xmath292 there is a complete fan @xmath24 , refined by @xmath15 , with the following properties :    1 .",
    "@xmath346 is a fan lattice .",
    "@xmath346 is induced by any linear functional whose minimum on the unit sphere lies in the interior of @xmath290 .",
    "any linear extension of @xmath347 is a shelling of @xmath24 .",
    "if @xmath10 is simplicial then @xmath346 is homotopy facial , atomic - facial and bisimplicial with respect to any linear functional whose minimum on the unit sphere lies in the interior of @xmath290    if @xmath10 is a coxeter arrangement then @xmath10 is simplicial and @xmath292 is a lattice isomorphic to the weak order on the associated coxeter group .",
    "thus theorem  [ main ] is a special case of theorem  [ main gen ] .",
    "as mentioned in the introduction , when @xmath346 is homotopy facial , the mbious function of a non - facial interval in @xmath347 is zero , and a facial interval for a face @xmath21 has mbius function @xmath23 .    to construct the fan @xmath24 for @xmath347 ,",
    "recall that each congruence class of  @xmath7 is an interval in @xmath292 , so the union of the corresponding maximal cones of  @xmath15 is a convex cone .",
    "let @xmath188 be the set of cones thus obtained from the congruence classes and let @xmath24 be the collection of cones consisting of arbitrary intersections of the cones @xmath188 . if is convenient to blur the distinction between cones of @xmath24 and @xmath7-equivalence classes .",
    "we now proceed to prove theorem  [ main gen ] by a series of propositions .",
    "specifically , proposition  [ fan ] verifies that @xmath24 is a complete fan refined by  @xmath15 .",
    "propositions  [ fan lat ] and  [ induced ] establish ( i ) and ( ii ) respectively . assertion ( iii )",
    "follows from ( ii ) by proposition  [ induced shelling ] .",
    "proposition  [ bisimplicial ] proves the claim of the bisimplicial property when @xmath10 is simplicial .",
    "proposition  [ homotopy nonfacial ] shows that non - facial intervals are contractible and non - atomic , and proposition  [ homotopy facial ] completes the proof of ( iv ) by showing that when @xmath10 is simplicial , facial intervals are atomic and homotopy equivalent to spheres of the correct dimensions .",
    "[ fan ] @xmath24 is a complete fan which is refined by @xmath15 .",
    "we check the conditions of lemma  [ fan lemma ] . first",
    ", suppose that @xmath348 intersect in dimension @xmath228 .",
    "then since each is a finite union of regions of @xmath10 , there are regions @xmath333 and @xmath334 , intersecting in dimension @xmath228 with @xmath349 and @xmath350 .",
    "the intersection of @xmath333 and @xmath334 is contained in some hyperplane @xmath262 of @xmath10 , and without loss of generality @xmath351 .",
    "also , @xmath352 and @xmath353 are @xmath12-dimensional faces of @xmath221 and @xmath222 respectively .",
    "we claim that in fact @xmath354 . to prove this , consider the set @xmath304 of @xmath10-regions contained in @xmath221 which intersect @xmath262 in dimension @xmath228 .",
    "call two regions @xmath316 and @xmath289 in @xmath304 _ adjacent _ if @xmath355 has dimension @xmath356 . since @xmath352 is in particular a topological ball ,",
    "any two regions in @xmath304 are connected via a sequence of adjacent elements of @xmath304 .",
    "let @xmath357 be adjacent to @xmath333 in @xmath304 and let @xmath358 be the @xmath10-region whose intersection with @xmath357 is @xmath359 , so that in particular @xmath360 .",
    "let @xmath298 be the set of hyperplanes containing @xmath361 .",
    "then @xmath298 is an arrangement of rank two .",
    "let @xmath299 be the @xmath298-region containing @xmath290 .",
    "if @xmath357 and @xmath333 are unrelated in @xmath292 then @xmath362 is some @xmath10-region contained in @xmath299 , and in particular , @xmath362 is across @xmath262 from both @xmath357 and @xmath333 .",
    "but @xmath362 is congruent to @xmath333 , contradicting the fact that @xmath262 defines a facet of the union over the congruence class of @xmath333 .",
    "if @xmath363 then since @xmath364 and @xmath365 , we have @xmath366 .",
    "thus the fact that @xmath367 means that @xmath368 , or in other words , @xmath369 . if @xmath370 we argue similarly that @xmath369 .",
    "thus for every region in @xmath304 , the @xmath10-region whose intersection with @xmath289 is @xmath371 is in @xmath222 , so @xmath372 . by symmetry",
    ", we have @xmath354 .",
    "now let @xmath373 intersect in dimension @xmath374 .",
    "then there are @xmath10-regions @xmath316 and @xmath289 with @xmath375 and @xmath376 such that @xmath321 has dimension @xmath214 . by lemma",
    "[ face ] , there is a sequence of @xmath377 of regions such that for every @xmath242 the intersection @xmath318 is @xmath12-dimensional and @xmath319 for every @xmath242 . for each @xmath378 , let @xmath243 be the cone in @xmath188 containing @xmath378 .",
    "then , @xmath379 is a sequence of cones in @xmath188 such that each cone contains @xmath321 and for each @xmath242 we have either @xmath380 or @xmath381 is @xmath12-dimensional .",
    "now we show by induction that @xmath382 is a face of @xmath243 for each @xmath242 .",
    "the base case is trivial , and when @xmath383 , the intersection @xmath384 is a @xmath12-dimensional face of @xmath385 and of @xmath243 , so @xmath382 is a face of @xmath384 , and in particular a face of @xmath243 .",
    "thus @xmath386 is a face of @xmath387 , and since @xmath200 has dimension @xmath214 and each @xmath243 contains the @xmath214-dimensional set @xmath388 , we have that @xmath389 is a @xmath214-dimensional face of @xmath390 . because @xmath187 and @xmath390 are both convex sets , the intersection @xmath200 , being @xmath214-dimensional , can not be any larger than the @xmath214 dimensional face of @xmath390 it contains , so @xmath200 is a face of @xmath390 , and by symmetry , @xmath200 is a face of @xmath187 .",
    "we have shown that the intersection of two cones in @xmath188 is a face of each . by lemma  [ fan lemma ]",
    ", @xmath24 is a fan . by construction , @xmath24 is refined by @xmath15 .",
    "since the union of the maximal cones of @xmath24 is equal to the union of the maximal cones of the complete fan @xmath15 , the fan @xmath24 is also complete .",
    "if @xmath7 and @xmath28 are congruences such that @xmath391 in @xmath392 , then @xmath29 is refined by @xmath24 .",
    "[ fan lat ] @xmath346 is a fan lattice .",
    "if @xmath102_\\theta,[y]_\\theta]$ ] is an interval in @xmath347 , then the union of the corresponding maximal cones of @xmath24 is equal to the union of the maximal cones of @xmath15 in @xmath393 $ ] , which is a polytopal cone by the fact that @xmath303 is a fan lattice .",
    "each @xmath394 is the union over an equivalence class of regions in @xmath292 , and @xmath21 is the intersection @xmath395 .",
    "since this is an intersection of finite unions , there is some set of representatives @xmath396 whose intersection is full - dimensional in @xmath21 .",
    "since @xmath303 is a fan lattice , we can let @xmath300 $ ] be the interval in @xmath292 consisting of all regions containing @xmath397 .",
    "any @xmath398 $ ] is in some congruence class @xmath187 containing the full - dimensional subset @xmath397 of @xmath21 , and thus containing @xmath21 .",
    "thus the set @xmath399 is the set @xmath400_\\theta : q\\in[r_1,r_2 ] \\right\\rbrace}}$ ] , which by lemma  [ int ] is the interval @xmath401_\\theta,[r_2]_\\theta]$ ] in @xmath347 .    [ induced ] @xmath346 is induced by any linear functional @xmath26 whose minimum on the unit sphere lies in the interior of @xmath290 .",
    "suppose @xmath219 in @xmath347 , and let @xmath349 and @xmath350 be regions of @xmath10 such that @xmath402 is @xmath12-dimensional . then in particular @xmath403 , and since normal vectors to @xmath229 are exactly normal vectors to @xmath402 , the result follows from the fact that @xmath292 is induced by @xmath26 .",
    "[ bisimplicial ] if @xmath10 is simplicial , then @xmath346 is bisimplicial with respect to any linear functional @xmath26 whose minimum on the unit sphere lies in the interior of @xmath290 .",
    "let @xmath187 be a maximal cone of @xmath24 , and @xmath404 be the set of outward - facing unit normals @xmath220 to facets of @xmath187 for which @xmath226 .",
    "then since @xmath346 is induced by @xmath26 , the facets of @xmath187 corresponding to normals in @xmath404 are the facets separating @xmath187 from maximal cones covered by @xmath187 in @xmath347 .",
    "let @xmath289 be the region of @xmath10 contained in @xmath187 such that @xmath405 .",
    "proposition  [ quotient covers ] implies that the normals @xmath404 are in one - to - one correspondence with the normals in @xmath406 .",
    "since @xmath289 is minimal among regions contained in @xmath187 , each facet corresponding to a normal in @xmath406 is contained in a facet corresponding to a normal in @xmath404 , so that @xmath407 . since @xmath10 is simplicial , the set @xmath404 is linearly independent .",
    "the dual argument proves that @xmath408 is linearly independent as well .",
    "this proof of proposition  [ bisimplicial ] goes through under the weaker hypotheses that @xmath303 is bisimplicial with respect to any linear functional @xmath26 whose minimum on the unit sphere lies in the interior of @xmath290 .",
    "[ homotopy nonfacial ] if @xmath100 $ ] is a non - facial interval in @xmath409 , then @xmath100 $ ] is a non - atomic interval and @xmath215 is contractible .",
    "let @xmath100=[[r_1]_\\theta,[r_2]_\\theta]$ ] be a non - facial interval in @xmath347 .",
    "let @xmath289 be maximal among regions in @xmath410_\\theta$ ] which are below @xmath411 .",
    "thus @xmath401_\\theta,[r_2]_\\theta]=[[r]_\\theta,[{\\pi_\\downarrow}r_2]_\\theta]$ ] , so by lemma  [ int ] , the interval @xmath401_\\theta,[r_2]_\\theta]$ ] is equal to the set @xmath400_\\theta : q\\in[r,{\\pi_\\downarrow}r_2 ] \\right\\rbrace}}$ ] .",
    "we first show that @xmath412 $ ] is not a facial interval in @xmath303 .",
    "suppose for the sake of contradiction that there is a cone @xmath187 of @xmath15 such that @xmath412 $ ] is exactly the set of maximal cones of @xmath15 containing @xmath187 .",
    "let @xmath390 be minimal among cones of @xmath24 containing @xmath187 , so that in particular @xmath187 intersects the relative interior of @xmath390 .",
    "thus a maximal cone of @xmath24 contains @xmath390 if and only if it contains @xmath187 .",
    "if @xmath413 $ ] then @xmath414_\\theta$ ] contains @xmath187 and therefore also @xmath390 .",
    "conversely if @xmath414_\\theta$ ] contains @xmath390 , then @xmath414_\\theta$ ] contains @xmath187 and therefore some region @xmath415_\\theta$ ] contains @xmath187 , so that @xmath416 $ ] .",
    "thus @xmath400_\\theta : q\\in[r,{\\pi_\\downarrow}r_2 ] \\right\\rbrace}}$ ] is exactly the set of maximal cones of @xmath24 containing  @xmath390 , contradicting the fact that @xmath401_\\theta,[r_2]_\\theta]$ ] is a non - facial interval .",
    "this contradiction shows that @xmath412 $ ] is not a facial interval in @xmath292 , so that the proper part of @xmath412 $ ] is contractible .",
    "now since @xmath411 is minimal in its congruence class and @xmath289 is maximal in its congruence class among elements @xmath417 , the restriction of @xmath7 to @xmath412 $ ] does not contract any atoms , nor does it set any coatoms equivalent to @xmath411 . by lemma",
    "[ int ] , @xmath401_\\theta,[r_2]_\\theta]$ ] is isomorphic to @xmath412/\\theta$ ] , and by corollary  [ cross cor ] the proper part of @xmath412/\\theta$ ] is contractible as well . since @xmath412 $ ] is not a facial interval in @xmath292 ,",
    "it is not atomic , and since the restriction of @xmath7 to @xmath412 $ ] neither contracts atoms , nor sets coatoms equivalent to @xmath411 , the interval @xmath412/\\theta$ ] is also not atomic .",
    "[ homotopy facial ] if @xmath10 is simplicial and @xmath100\\subseteq({{\\mathcal f}}_\\theta,{{\\mathcal p}}({{\\mathcal a}},b)/\\theta)$ ] is a facial interval associated to a cone @xmath187 of dimension @xmath214 , then @xmath100 $ ] is an atomic interval with @xmath418 atoms and @xmath215 is homotopy equivalent to a @xmath216-sphere .    as in the proof of proposition  [ fan lat ] , we let @xmath100 $ ] be @xmath401_\\theta,[r_2]_\\theta]$ ] , where @xmath300 $ ] is a facial interval in @xmath292 corresponding to a cone @xmath390 of @xmath15 , such that @xmath390 is a full - dimensional subset of @xmath187 . since @xmath300 $ ] is a facial interval in @xmath292 , @xmath419)$ ]",
    "is a simplicial homotopy facial and atomic - facial lattice fan , where @xmath207 is the fan obtained from @xmath15 by restriction . to obtain the restriction",
    ", we have a choice of @xmath209 in the relative interior of @xmath187 and a ball @xmath208 at @xmath209 intersecting only cones which contain @xmath187 .",
    "we can choose @xmath209 in the relative interior of @xmath390 , so we have @xmath207 refining @xmath420 .",
    "thus we might as well assume that @xmath300={{\\mathcal p}}({{\\mathcal a}},b)$ ] and thus that @xmath421 is a full - dimensional subset of @xmath422 .",
    "but since these are both subspaces , we have @xmath423 .",
    "we apply proposition  [ may as well ] to show that @xmath340_\\theta={{\\left\\lbrace b \\right\\rbrace}}$ ] and equivalently that @xmath345_\\theta={{\\left\\lbrace -b \\right\\rbrace}}$ ] .",
    "the atoms of @xmath347 number @xmath424 and are in one - to - one correspondence with the atoms of @xmath292 . since the join of the atoms of @xmath292 is @xmath296 , the join of the atoms of @xmath347 is @xmath425 , so @xmath100 $ ] is atomic and has @xmath424 atoms . also , by corollary",
    "[ cross cor ] , the proper part of @xmath347 is homotopy equivalent to the proper part of @xmath292 , which is homotopy equivalent to a sphere of the desired dimension .",
    "[ int f ] if @xmath340_\\theta={{\\left\\lbrace b \\right\\rbrace}}$ ] then @xmath426 .    for any @xmath7",
    "the inclusion @xmath427 follows immediately from the fact that each maximal cone of @xmath24 is a union of maximal cones of @xmath15 .",
    "let @xmath187 be the maximal cone of @xmath24 containing @xmath290 .",
    "if @xmath290 contains @xmath428 then since @xmath428 is a subspace , it is contained in every face of @xmath290 , including @xmath186 , so that @xmath429 . but",
    "@xmath187 contains @xmath428 . thus if @xmath341 we have @xmath430 and thus @xmath340_\\theta\\neq{{\\left\\lbrace b \\right\\rbrace}}$ ] .",
    "the proof of proposition  [ bisimplicial ] established , independent of the hypothesis that @xmath10 is simplicial , that the facets of the cone corresponding to @xmath431_\\theta$ ] in @xmath346 are in one - to - one correspondence with the elements either covered by @xmath432 or covering @xmath433 in @xmath292 .",
    "thus we have the following proposition .",
    "recall that @xmath189 is the dimension of the vector space in which @xmath15 is defined .",
    "[ simp cond ] @xmath24 is simplicial if and only if for every @xmath431_\\theta$ ] the number of elements covered by @xmath432 plus the number of elements covering @xmath433 is @xmath434 .",
    "when @xmath10 is simplicial , this condition is equivalent to requiring that the number of elements covered by @xmath432 minus the number of elements covered by @xmath433 is @xmath435 , which is equal to the number of atoms contracted by @xmath7 .    in the case where @xmath24 is simplicial",
    ", proposition  [ shelling ] allows the @xmath271-vector of the corresponding simplicial sphere to be determined directly from @xmath9 .",
    "in particular , the quantity @xmath436 is the number of join - irreducible elements of @xmath347 .",
    "these are exactly the join - irreducible elements of @xmath292 not contracted by @xmath7 .",
    "when @xmath7 is a congruence which does not contract any atoms , @xmath437 is the number of atoms plus the number of uncontracted join - irreducibles . by a slight abuse of terminology we call a cone in a complete fan @xmath15 a _ ray _ if its dimension is one more than the dimension of the minimal cone in @xmath15 .",
    "if the minimal cone of @xmath15 is the origin then this is the usual definition of a ray , and if not then we mod out by the minimal cone @xmath186 to obtain a fan whose minimal cone is the origin . for a simplicial fan @xmath15 , the quantity @xmath437 is the number of vertices of the associated simplicial sphere , that is , the number of rays of @xmath24 .",
    "thus the number of rays of @xmath24 is the number of atoms plus the number of uncontracted join - irreducibles . by the previous paragraph , the join - irreducibles not contracted by @xmath7 are in bijection with join - irreducibles @xmath92 with @xmath438 .    if we lift the requirement that @xmath24 be simplicial , when @xmath7 does not contract any atoms the number of rays of @xmath24 is still the number of atoms of @xmath292 plus the number of join - irreducibles @xmath92 with @xmath438 .",
    "we identify these rays explicitly .",
    "[ rays ] suppose that @xmath10 is simplicial and that @xmath340_\\theta={{\\left\\lbrace b \\right\\rbrace}}$ ]",
    ". then the rays of @xmath24 are exactly the cones arising in one of the following two ways :    1 .   for a facet hyperplane @xmath262 of @xmath290 , let @xmath8 be the subspace which is the intersection of the other facet hyperplanes of @xmath290 .",
    "then the cone consisting of points in @xmath8 weakly separated from @xmath296 by @xmath262 is a ray of @xmath24 .",
    "2 .   given a join - irreducible @xmath92 of @xmath292 such that @xmath439 , let @xmath8 be the intersection of the upper facet hyperplanes of @xmath92 .",
    "the cone consisting of points in @xmath8 weakly separated from @xmath290 by the unique lower facet hyperplane of @xmath92 is a ray of @xmath440 .    since @xmath340_\\theta={{\\left\\lbrace b \\right\\rbrace}}$ ]",
    ", by proposition  [ int f ] we have @xmath441 . by proposition",
    "[ homotopy facial ] , if @xmath100 $ ] is a facial interval in @xmath346 associated to a ray @xmath187 , then @xmath100 $ ] has @xmath442 atoms and is the quotient modulo @xmath7 of a facial interval @xmath443 $ ] with @xmath442 atoms , associated to a ray @xmath390 in @xmath303 .",
    "furthermore no atoms of @xmath443 $ ] are contracted to @xmath444 by @xmath7 .",
    "each @xmath390 is a half - subspace , that is , the product of @xmath186 with a ray ( in the usual geometric sense ) in @xmath211 .",
    "similarly each @xmath187 is the product of @xmath428 with a ray in @xmath445 .",
    "since @xmath446 and @xmath441 , we have @xmath447 .",
    "thus every interval @xmath443 $ ] of @xmath292 with @xmath448 atoms , none of which are contracted to @xmath444 , gives rise to a distinct ray of @xmath24 .",
    "since @xmath10 is simplicial , the atomic intervals of @xmath292 with @xmath448 atoms are of two types .",
    "first , @xmath449 $ ] where @xmath289 is the join of a set containing all but one of the atoms of @xmath292 , and second , for each join - irreducible @xmath92 , the interval @xmath450 $ ] , where @xmath316 is the join of the elements covering @xmath92 . since no atoms of @xmath292 are contracted by @xmath7 , no atoms of @xmath449 $ ] are contracted .",
    "requiring that no atoms of @xmath450 $ ] are contracted to @xmath92 is exactly the requirement that @xmath438 .",
    "it is now easily checked that these rays match the descriptions in ( i ) and  ( ii ) .",
    "for the remainder of this paper we will be concerned with a particular poset of regions , which appears in the guise of the weak order on the symmetric group . in this section",
    "we give a brief description of the weak order on the symmetric group , and quote some results concerning its lattice congruences .",
    "let @xmath3 be the symmetric group of permutations of @xmath451:={{\\left\\lbrace 1,2,\\ldots , n \\right\\rbrace}}$ ] and write an element @xmath452 in _ one - line notation _ @xmath453 , meaning that @xmath454 .",
    "inversion set _",
    "@xmath455 of @xmath54 is @xmath456 the length of a permutation @xmath54 is @xmath457 .",
    "one definition of the right weak order is that @xmath458 if and only if @xmath459 .",
    "equivalently , moving up by a cover relation in the right weak order on @xmath3 corresponds to switching adjacent entries in a permutation so as to create an inversion . for the rest of the paper ,",
    "the phrase `` weak order '' means right weak order , and the symbol `` @xmath3 '' denotes the symmetric group as a poset under the weak order .",
    "this partial order is the poset of regions of a coxeter arrangement of type  a , with the inversion set @xmath20 corresponding to the separating set @xmath182 .",
    "the arrangement is most easily constructed in @xmath460 , as the set of hyperplanes normal to the vectors @xmath461 for @xmath462 .",
    "the base region @xmath290 is most conveniently chosen to be the region consisting of points @xmath463 with @xmath464 . the weak order on @xmath3",
    "has a maximal element @xmath465 .",
    "we denote the identity permutation @xmath466 by @xmath467 .    given a permutation @xmath54 , say @xmath54 has a _",
    "right descent _ at @xmath242 if @xmath468 , and say the _",
    "right descent set _ of @xmath54 is the subset of @xmath5 $ ] consisting of right descents of @xmath54 .",
    "left descent set _ of @xmath54 is the set consisting of indices @xmath469 $ ] such that @xmath470 occurs before @xmath242 in @xmath54 .",
    "join - irreducible elements of @xmath3 are permutations with only one right descent . for any nonempty subset",
    "@xmath471 $ ] , let @xmath472-a$ ] and set @xmath473 and @xmath474",
    ". if @xmath92 is a join - irreducible element of @xmath3 with unique right descent @xmath242 , then @xmath92 has @xmath475 but @xmath476 for every other @xmath477 $ ] .",
    "let @xmath478 .",
    "this is a bijection between join - irreducibles of @xmath3 and nonempty subsets of @xmath451 $ ] with @xmath479 .",
    "the inverse map takes @xmath179 to the permutation whose one - line notation consists of the elements of @xmath480 in increasing order followed by the elements of @xmath179 in increasing order .",
    "the weak order on the symmetric group ( or more generally on any finite coxeter group ) is a congruence uniform lattice  @xcite . in  @xcite , the poset of irreducibles of @xmath481",
    "is determined explicitly as a partial order on the join - irreducibles of @xmath3 .",
    "* theorem 8.1 ) [ a shard ] the poset @xmath482 is the transitive closure of the directed graph in which @xmath483 if and only if the corresponding subsets @xmath484 and @xmath485 satisfy one of the following :    1 .",
    "@xmath486 and @xmath487 , or 2 .",
    "@xmath488=a_2\\cap(m_1,n]$ ] and @xmath489 .",
    "* theorem 8.2 ) [ a covers ] let @xmath92 and @xmath490 be join - irreducibles with corresponding subsets @xmath179 and @xmath491 and let @xmath492 and @xmath203 be associated to @xmath179 as described above .",
    "then @xmath92 covers @xmath490 in @xmath482 if and only if @xmath491 is one of the following : @xmath493    given a set @xmath494 $ ] , the _ parabolic subgroup _ @xmath495 of @xmath3 is the subgroup generated by the transpositions @xmath496 .",
    "any @xmath452 has a unique factorization @xmath497 which maximizes @xmath498 subject to the constraints that @xmath499 and that @xmath500 .",
    "the set @xmath501 , called the _ left quotient _ of @xmath3 with respect to @xmath495 , is a lower interval in weak order , with maximal element @xmath502 .",
    "there is an analogous factorization @xmath503 , and @xmath504 is the _",
    "right quotient_. a parabolic subgroup @xmath495 is also a lower interval in the weak order on @xmath3 , and the projection @xmath505 is a lattice homomorphism .",
    "the corresponding congruence is a parabolic congruence in the sense of section  [ po ] .",
    "the parabolic subgroup @xmath506 for @xmath507-{{\\left\\lbrace p \\right\\rbrace}}$ ] is isomorphic to the direct product @xmath508 , and the map from @xmath508 is @xmath509 , where @xmath510 the upper interval @xmath511 is also isomorphic to @xmath508 , and isomorphism is @xmath512 , where @xmath513 we have @xmath514 in weak order , and the congruence classes of the parabolic congruence associated to @xmath515 are the intervals @xmath516 $ ] .",
    "the join - irreducibles of @xmath506 are the elements of the form @xmath517 for @xmath92 a join - irreducible of @xmath518 and @xmath519 for @xmath92 a join - irreducible of @xmath520 .",
    "the upward projection associated to the parabolic congruence is @xmath521 , which restricts to an isomorphism from @xmath506 to @xmath511 .",
    "the following is a specialization of  ( * ? ? ?",
    "* lemma 6.4 ) .",
    "[ upper ] for a congruence @xmath7 on @xmath36 , the restriction of @xmath7 to @xmath506 corresponds , by the map @xmath522 , to the restriction of @xmath7 to .    define the _ support _ @xmath523 of a permutation @xmath54 to be the minimal @xmath524 such that @xmath54 is in @xmath495 , and let the degree of @xmath54 be @xmath525 .",
    "the degree of a join - irreducible @xmath92 in @xmath3 is the size of its unique descent .",
    "that is , if @xmath475 , then the degree of @xmath92 is @xmath526 .",
    "the poset @xmath482 is dually ranked by the degree . in a more general context in  @xcite , it is shown that if @xmath527 in @xmath482 , then @xmath528 .",
    "a congruence @xmath7 on @xmath292 is _ homogeneous of degree @xmath214 _ if it is generated by contracting join - irreducibles of degree @xmath214 .",
    "we conclude the section with an observation that allows us to reconstruct a congruence on @xmath3 explicitly from the set of join - irreducibles contracted . given a permutation @xmath529 with @xmath468",
    "define @xmath530 then @xmath531 has @xmath532 and @xmath533 , so @xmath531 is associated to a join - irreducible which we denote @xmath534 .",
    "the permutation @xmath534 consists of all elements of @xmath535 in increasing order followed by all elements of @xmath531 in increasing order .",
    "[ associated ji ] if @xmath536 in the weak order and this covering relation corresponds to transposing @xmath537 and @xmath538 , then a congruence @xmath7 contracts the edge @xmath536 if and only if it contracts the join - irreducible @xmath534 .    if two entries @xmath539 are inverted in @xmath534",
    ", then @xmath540 and @xmath541 .",
    "if @xmath542 then so is @xmath26 , contradicting the fact that @xmath540 . therefore , @xmath543 for some @xmath544 .",
    "since @xmath545 , we have @xmath546 as well , so the fact that @xmath540 implies that @xmath547 for some @xmath548 . in particular , @xmath76 and @xmath26",
    "are inverted in @xmath54 as well and we have shown that @xmath549 in weak order . the unique element @xmath550 covered by @xmath534 is obtained by undoing the inversion @xmath551 , so @xmath552 .",
    "we have @xmath553 , @xmath554 , @xmath555 and @xmath556 . applying",
    "the definition of lattice congruence to these four equations shows that @xmath7 contracts the edge @xmath536 if and only if it contracts the edge @xmath557 .",
    "in this section , we define translational families of congruences and prove theorem  [ subalgebra ] , which relates translational families to subalgebras of the malvenuto - reutenauer algebra .",
    "we also give a combinatorial characterization of translational families in terms of sets of contracted join - irreducibles .",
    "let @xmath31 be a fixed field .",
    "for @xmath558 , let @xmath559 $ ] be the vector space over @xmath31 spanned by the elements of @xmath3 and let @xmath30:=\\bigoplus_{n\\ge 0}{\\mathbb k\\,}[s_n]$ ] . for @xmath32 and @xmath33 , malvenuto and",
    "reutenauer @xcite defined the _ shuffle product _ @xmath560 to be the sum of all shuffles of @xmath34 and @xmath35 .",
    "this is a graded associative product on @xmath30 $ ] .",
    "loday and ronco  @xcite pointed out that the shuffle product can be expressed as @xmath561}w.\\ ] ] and readers not familiar with shuffles may take this as a definition .",
    "the partial order here is the weak order .",
    "in fact , loday and ronco used the left weak order , so our product is in fact the dual product used for example in  @xcite .",
    "the product `` @xmath562 '' can be rewritten in terms of parabolic subgroups . @xmath563 where @xmath564 refers to the factorization @xmath565 .",
    "note that @xmath566 if and only if @xmath567}=u$ ] and @xmath568}=v$ ] .    for each @xmath558 ,",
    "let @xmath37 be a lattice congruence on @xmath3 and let @xmath569 and @xmath570 be the associated downward and upward projections respectively . as the subscript @xmath0 is typically given by the context , we refer to all of these projections simply as @xmath86 and @xmath84 .",
    "let @xmath571 .",
    "since @xmath572 we will think of @xmath44 as the subposet @xmath573 .",
    "define a graded vector space @xmath41:=\\bigoplus_{n\\ge 0}{\\mathbb k\\,}[z^\\theta_n]$ ] .",
    "we often suppress the superscript @xmath7 and write @xmath574 $ ] .",
    "define a product on @xmath574 $ ] by setting , for @xmath575 and @xmath576 , @xmath577 that is , we sum over all shuffles of @xmath34 and @xmath35 which are the minimal elements of congruence classes of @xmath578 .",
    "define a map @xmath579\\to { \\mathbb k\\,}[s_\\infty]$ ] by sending each element @xmath580 to the sum of the elements of the congruence class of @xmath54 in @xmath3 .",
    "the map @xmath45 is one - to - one and the inverse map @xmath581 , defined on @xmath582)$ ] , is the map which fixes  @xmath54 if @xmath145 and maps @xmath54 to zero otherwise . the names @xmath45 and",
    "@xmath581 for these maps indicate `` class '' and `` representative '' respectively .",
    "we can write the definition of  @xmath583 concisely as @xmath584 for @xmath585 $ ] .    for every @xmath586 , the congruence @xmath587 on @xmath508 induces a congruence on @xmath506 via the map @xmath509 .",
    "call the family @xmath38 of congruences _ translational _ if for every @xmath586 , this induced congruence on @xmath506 is equal to the restriction of @xmath578 to @xmath506 .",
    "* theorem   [ subalgebra ] .",
    "* _ if @xmath38 is a translational family then the map @xmath45 embeds @xmath41 $ ] as a subalgebra of @xmath30 $ ] .",
    "_    suppose that @xmath38 is a translational family of congruences .",
    "the map @xmath45 respects the vector - space structure and the grading and is one - to - one .",
    "we check that it respects the products of @xmath574 $ ] and @xmath30 $ ] .",
    "let @xmath588 and @xmath589 .",
    "then @xmath590 on the other hand , @xmath591 define @xmath592 . define @xmath593 to be the set of elements @xmath594 such that , writing @xmath595 for some @xmath596 and @xmath597 we have @xmath598 and @xmath599 . then @xmath600 is the sum of the elements of @xmath20 and @xmath601 is the sum of the elements of @xmath593 , and we complete the proof by showing that @xmath602 .",
    "suppose @xmath603 and write @xmath595 for some @xmath596 and @xmath597 .",
    "we have @xmath604 and therefore @xmath605 . by the order - preserving projection to @xmath506",
    "this implies @xmath606 , but since @xmath607 , which is a lower interval in @xmath36 , @xmath608 , so @xmath609 .",
    "thus @xmath610 . on the other hand , @xmath611",
    ", so by the order - preserving projection to @xmath506 we have @xmath612 and therefore @xmath613 .",
    "since @xmath47 is a translational family we have @xmath614 so @xmath615 and @xmath616 .",
    "thus @xmath617 and we have shown that @xmath618 .",
    "suppose @xmath617 .",
    "since @xmath619 we have @xmath620 .",
    "we now apply @xmath86 to the inequality . because @xmath47 is a translational family , @xmath621 .",
    "let @xmath622 be the downward projection associated to the restriction of @xmath578 to @xmath623 .",
    "by lemma  [ upper ] , @xmath624={\\pi_\\downarrow}(y\\times z)\\cdot\\!\\!\\phantom{.}^{{\\langle p \\rangle}}\\ !",
    "w_0=(u\\times v)\\cdot\\!\\!\\phantom{.}^{{\\langle p \\rangle}}\\ !",
    "w_0.\\ ] ] we have @xmath625\\le({\\pi_\\downarrow}')[(y\\times z)\\cdot\\!\\!\\phantom{.}^{{\\langle p \\rangle}}\\ ! w_0]$ ] , so @xmath626\\le(u\\times v)\\cdot\\!\\!\\phantom{.}^{{\\langle p \\rangle}}\\ ! w_0.\\ ] ] to this inequality we apply the order - preserving projection down to @xmath506 , thus obtaining @xmath627 , so @xmath603 . we have shown that @xmath602 .    there is a more constructive definition of a translational family . for @xmath628 , @xmath59 and @xmath452 , say @xmath54 is a _ translate _ of @xmath53 if @xmath54 is @xmath629 for some @xmath630 and @xmath631 . in this case",
    "@xmath54 is join - irreducible in @xmath3 if and only if @xmath53 is join - irreducible in @xmath632 .",
    "also , since `` @xmath633 '' is associative and @xmath634 , an arbitrary translation can be obtained as a sequence of translations , each of which increases length by  1 . call @xmath54 _ untranslated _ if there is no permutation @xmath53 such that @xmath54 is a translate of @xmath53 , or equivalently if @xmath635 and @xmath636 . for any permutation @xmath54",
    "there is a unique untranslated permutation @xmath53 such that @xmath54 is a translate of @xmath53 .",
    "recall from the introduction that a permutation @xmath452 has a cliff if and only if @xmath0 immediately precedes @xmath637 in the one - line notation for @xmath54 .",
    "a join - irreducible @xmath92 in @xmath3 is untranslated if and only if it has a cliff .",
    "this is equivalent to saying the degree of @xmath92 is @xmath638 , which , since @xmath482 is dually ranked by degree , is equivalent to saying that  @xmath92 is minimal in @xmath482 . let @xmath187 be a set of join - irreducible permutations of various sizes , each of which is untranslated",
    ". for each @xmath558 , denote by @xmath639 the smallest congruence on @xmath3 contracting every join - irreducible of @xmath3 which is a translate of some element of @xmath187 .",
    "the family of congruences each of which has a single congruence class is @xmath640 , and the family of congruences for which each congruence class is a singleton is @xmath641 .",
    "[ trans ] a family of congruences is translational if and only if it has the form @xmath642 , where @xmath187 is a set of join - irreducible permutations of various sizes , each of which is untranslated .",
    "let @xmath92 be a join - irreducible in @xmath3 .",
    "then @xmath92 is contained in some parabolic subgroup @xmath643 with @xmath644 if and only if either @xmath645 for some join - irreducible @xmath490 in @xmath518 or @xmath646 for some join - irreducible @xmath647 .",
    "if @xmath92 is not in any parabolic subgroup , then in particular it is untranslated . since congruences are determined by the set of join - irreducibles they contract , the requirement that @xmath47 is a translational family is equivalent to the requirement that a join - irreducible is contracted if and only if all of its translates are .",
    "therefore a translational family is @xmath648 , where @xmath187 is the set of untranslated join - irreducibles of various sizes contracted by the family .",
    "the proof of proposition  [ trans ] constructs @xmath187 as the set of all contracted untranslated join - irreducibles .",
    "however , in many examples we take @xmath187 to be a finite generating set .",
    "the following lemmas are easily checked by reducing to the case @xmath649 and applying theorem  [ a shard ] .",
    "[ lift ] let @xmath165 and @xmath167 be join - irreducibles in @xmath632 .",
    "then @xmath650 in @xmath651 if and only if @xmath652 in @xmath653 .",
    "[ lift 2 ] if @xmath654 in @xmath482 then @xmath655 for some @xmath656 .",
    "refinements of congruences give rise to further subalgebra relationships .",
    "specifically , let @xmath47 and @xmath48 be two translational families such that @xmath49 refines @xmath37 for each @xmath0 .",
    "alternately , we can think of @xmath37 as a congruence on the lattice @xmath657 .",
    "then @xmath41 $ ] is a sub algebra of @xmath50 $ ] .",
    "this restriction of the refinement order on families to translational families is a distributive lattice .",
    "specifically , the join of two translational families @xmath658 and @xmath659 is @xmath660 .",
    "if @xmath221 is the complete set of untranslated join - irreducibles contracted by @xmath658 and similarly for @xmath222 then @xmath661 is the meet of @xmath658 and @xmath659 .",
    "we wish to define a partial order @xmath662 on untranslated join - irreducibles such that the possible sets @xmath187 of all contracted untranslated join - irreducibles for a translational family are exactly the order ideals in @xmath662 . a priori",
    ", this means defining @xmath662 as the transitive closure of the relation setting @xmath663 whenever some translate of @xmath165 is above some translate of @xmath167 in @xmath482 for some @xmath0 .",
    "however , this definition can be simplified .",
    "[ simp def ] let @xmath165 and @xmath167 be untranslated join - irreducibles , such that @xmath664 . then @xmath665 in @xmath662 if and only if some translate @xmath656 of @xmath165 covers @xmath167 in @xmath651 .",
    "furthermore , @xmath656 is either @xmath666 or @xmath667 .",
    "suppose @xmath665 in @xmath662 , so that in particular some translate @xmath656 of @xmath165 is above @xmath668 in @xmath669 . then by lemma  [ lift 2 ] , @xmath670 for some @xmath671 . by lemma  [ lift ]",
    "we have @xmath672 in @xmath651 .",
    "but @xmath165 is untranslated , and @xmath673 is not minimal in @xmath651 , so it is a translate .",
    "thus @xmath674 , so @xmath671 is a translate of @xmath165 . if there is some @xmath675 such that @xmath676 in @xmath651",
    ", then there is some untranslated join - irreducible @xmath677 such that @xmath675 is a translate of @xmath677 , and @xmath678 in @xmath662 , contradicting the hypothesis that @xmath665 .",
    "thus @xmath679 in @xmath651 .",
    "suppose conversely that some translate @xmath680 covers @xmath167 in @xmath482 .",
    "recall that @xmath482 is dually ranked by degree , and that the degree of a join - irreducible is the size of its unique descent .",
    "since @xmath167 has degree @xmath681 , the translate @xmath656 has degree @xmath682 .",
    "thus the unique descent of @xmath656 consists either of the entry @xmath214 followed by @xmath683 or @xmath681 followed by @xmath637 , so that @xmath656 is either @xmath666 or @xmath667 .",
    "we have @xmath684 in @xmath662 .",
    "if there is some @xmath675 such that @xmath685 in @xmath662 , then by the previous paragraph there would have to be a translate of @xmath165 covering @xmath675 and a translate of @xmath675 greater than @xmath167 .",
    "but this is impossible since @xmath686 and @xmath664 .    to explicitly describe the cover relations in @xmath662 we introduce an operation called _",
    "insertion_. let @xmath92 be a join - irreducible in @xmath3 with associated subset @xmath179 and let @xmath687 $ ] . then the _ left insertion _ of @xmath242 in @xmath92 is a join - irreducible @xmath688 in @xmath1 whose associated subset is @xmath689)\\cup{{\\left\\lbrace j+1:j\\in a\\cap[i , n ] \\right\\rbrace}}$ ] .",
    "right insertion _ of @xmath242 in @xmath92 is a join - irreducible @xmath690 in @xmath1 whose associated subset is @xmath689)\\cup{{\\left\\lbrace i \\right\\rbrace}}\\cup{{\\left\\lbrace j+1:j\\in a\\cap[i , n ] \\right\\rbrace}}$ ] .",
    "when @xmath92 is written @xmath691 , it consists of the elements of @xmath480 in increasing order on the left , followed by the elements of @xmath179 in increasing order on the right .",
    "the effect of these insertions is to increase each entry @xmath692 by 1 and then insert @xmath242 into either the left increasing sequence or the right increasing sequence .",
    "note that @xmath693 and @xmath694 .",
    "[ tr ] let @xmath92 be an untranslated join - irreducible in @xmath3 .",
    "then the set of elements covered by @xmath92 in @xmath662 is @xmath695 .",
    "these elements are not necessarily distinct .",
    "we apply proposition  [ simp def ] .",
    "using theorem  [ a covers ] , it is easily checked that the two elements covered by @xmath696 are @xmath697 and @xmath698 , and that the two elements covered by @xmath699 are @xmath700 and @xmath701 .",
    "the poset @xmath662 is dually ranked by size , that is , by the @xmath0 such that @xmath92 is in @xmath3 .",
    "the top four ranks of @xmath662 are pictured in figure  [ tr inf ] . reflecting this picture through a vertical line",
    "is the symmetry of @xmath662 which corresponds to applying to each @xmath482 the antipodal symmetry defined in  ( * ? ? ?",
    "* section 6 ) .",
    "in this section we define insertional families of congruences and prove theorem  [ subcoalgebra ] , which relates insertional families to subcoalgebras of the malvenuto - reutenauer hopf algebra .",
    "we also give a combinatorial characterization of insertional families in terms of sets of contracted join - irreducibles .    a _ ( graded )",
    "coproduct _ on a graded vector space @xmath702 $ ] is a map @xmath703\\to { \\mathbb k\\,}[v_\\infty]\\otimes { \\mathbb k\\,}[v_\\infty]$ ] such that the image of the restriction of @xmath18 to @xmath704 is contained in @xmath705 . under certain conditions which are dual to the definition of a graded algebra , @xmath702",
    "$ ] is called a graded coalgebra .",
    "@xmath706 $ ] of @xmath702 $ ] is a graded subspace such that the image of the restriction @xmath707 of @xmath18 to @xmath706 $ ] is contained in @xmath706\\otimes { \\mathbb k\\,}[w_\\infty]$ ] .",
    "if @xmath708 $ ] has a product `` @xmath709 '' as well , then under certain compatibility conditions , @xmath710,{\\,\\substack{\\bullet}\\,},\\delta)$ ] is called a _ graded hopf algebra_. suppose @xmath710,{\\,\\substack{\\bullet}\\,},\\delta)$ ] is a graded hopf algebra and @xmath706 $ ] is both a subcoalgebra and a subalgebra of @xmath702 $ ] , with @xmath711 then @xmath712,{\\,{\\substack{\\bullet}}_{\\substack{w}}\\,},\\delta_w)$ ] is a hopf algebra , and in particular a sub hopf algebra of @xmath710,{\\,\\substack{\\bullet}\\,},\\delta)$ ] , where `` @xmath713 '' is the restriction of `` @xmath709 '' to @xmath706 $ ]",
    ". for more information on hopf algebras , see  @xcite .",
    "malvenuto and reutenauer @xcite defined a coproduct @xmath714 on @xmath30 $ ] such that @xmath715,\\!{\\,\\,{\\substack{\\bullet}}_{\\substack{s}}\\,\\,}\\!,\\delta_s)$ ] is a hopf algebra . to any sequence @xmath716 of distinct integers",
    ", we associate a _",
    "standard permutation _",
    "this is the permutation @xmath32 such that for each @xmath718 $ ] we have @xmath719 if and only if @xmath720 .",
    "so for example @xmath721 .",
    "the standard permutation of the empty sequence is the empty permutation in @xmath722 .",
    "the coproduct of an element @xmath452 is @xmath723 for convenience , let @xmath724 and @xmath725 both denote @xmath3 which is , in a trivial sense , a parabolic subgroup of itself .",
    "we should think of @xmath724 as @xmath726 and @xmath725 as @xmath727 . as discussed in section  [ symmetric ] , for @xmath728 $ ]",
    ", the product @xmath729 is isomorphic to the parabolic subgroup @xmath643 by the map @xmath509 .",
    "the following formula for @xmath714 is useful in the proof of theorem  [ subcoalgebra ] despite the fact that the second and third sums are each sums of a single term .",
    "@xmath730 to avoid confusion , we stress the fact that @xmath731 is the right quotient of @xmath3 with respect to @xmath643 rather than the left quotient which was used to define the product  @xmath562 .    for @xmath38 with @xmath86 and @xmath84",
    "be as before , we define a coproduct @xmath732 on @xmath41 $ ] .",
    "given a sequence @xmath733 of distinct positive integers , let @xmath734 $ ] if @xmath735 , and otherwise let @xmath736 .",
    "for @xmath580 , let @xmath737 , where @xmath45 and  @xmath581 are the maps defined in section  [ trans sec ] .",
    "that is : @xmath738 we can rearrange the sum to read @xmath739    each left coset of a parabolic subgroup in @xmath3 is an interval in the weak order isomorphic to the weak order on the parabolic subgroup .",
    "for any @xmath586 and any @xmath740 , the product @xmath508 is isomorphic to @xmath741 by the map @xmath742 .",
    "the congruence @xmath587 on @xmath508 induces a congruence on @xmath741 via the map @xmath742 .",
    "call the family @xmath38 of congruences _ insertional _ if for every @xmath586 and every @xmath740 , the congruence induced on @xmath741 by @xmath587 is a refinement of the restriction of @xmath578 to @xmath741 .",
    "the term `` insertional '' will be justified later by proposition  [ insert def ] .",
    "* theorem   [ subcoalgebra ] . *",
    "_ if @xmath38 is an insertional family then the map @xmath45 embeds @xmath41 $ ] as a subcoalgebra of @xmath30 $ ] .",
    "_    we check that @xmath45 respects the coproducts .",
    "let @xmath580 and think of @xmath54 as usual as an element of @xmath3 with @xmath145",
    ". then @xmath743 } } c(u)\\otimes c(v).\\ ] ] on the other hand , @xmath744 } } u\\otimes v.\\ ] ] for each @xmath745 , the map @xmath742 maps each @xmath746-class in @xmath508 to an interval in .",
    "if @xmath47 is an insertional family , then for each @xmath747 this interval is either entirely contained in @xmath748 $ ] or disjoint from @xmath748 $ ] .",
    "thus these two sums are equal .",
    "[ insert def ] a family of congruences is insertional if and only if for every join - irreducible @xmath92 contracted by @xmath37 with associated subset @xmath179 and @xmath473 , @xmath474 , the following two conditions hold :    1 .",
    "@xmath749 contracts the right insertion @xmath690 for every @xmath750 $ ] .",
    "@xmath749 contracts the left insertion @xmath688 for every @xmath751 $ ] .",
    "let @xmath92 be a join - irreducible in @xmath3 .",
    "let @xmath179 be the subset corresponding to @xmath92 and let the unique descent of @xmath92 be between the entries @xmath752 and @xmath753 .",
    "the choice of @xmath754 amounts to choosing an element @xmath687 $ ] so that the one - line notation for @xmath747 consists of the entries of @xmath755-{{\\left\\lbrace i \\right\\rbrace}}$ ] in increasing order followed by the entry  @xmath242 .",
    "choose @xmath750 $ ] and let @xmath54 be the permutation @xmath756 , so that @xmath757 .",
    "let @xmath758 , so that @xmath53 agrees with @xmath54 except that the entries in positions @xmath214 and @xmath759 are transposed .",
    "we have @xmath760 consider the join - irreducible @xmath761 defined in connection with proposition  [ associated ji ] .",
    "since @xmath762 , @xmath761 is constructed from @xmath54 by moving the entry @xmath242 into a position to the right of position @xmath214 such that the entries in positions @xmath759 to @xmath4 are increasing . in other words , @xmath761 is @xmath690 . by proposition  [ associated ji ] ,",
    "the edge is contracted by @xmath749 if and only if the join - irreducible @xmath763 is contracted by  @xmath749 .",
    "choosing @xmath764 amounts to choosing an @xmath687 $ ] so that the one - line notation for @xmath747 consists of the entry @xmath242 followed by the entries in @xmath755-{{\\left\\lbrace i \\right\\rbrace}}$ ] in increasing order .",
    "choose some @xmath751 $ ] , let @xmath765 and let @xmath766 .",
    "we have @xmath767 since @xmath768 , we have @xmath769 which , by proposition  [ associated ji ] is contracted if and only if the edge @xmath770 is contracted .",
    "if @xmath47 is insertional then for any join - irreducible @xmath771 contracted by @xmath37 , the edges @xmath772 and @xmath770 are contracted by @xmath749 . by the previous two paragraphs this implies ( i ) and ( ii ) .",
    "since congruences are determined by the set of join - irreducibles they contract , the definition of an insertional family can be rewritten as the following requirements for each @xmath586 and @xmath740 .    1 .",
    "if a join - irreducible @xmath773 is contracted by @xmath774 , then @xmath578 contracts the edge , and 2 .",
    "if a join - irreducible @xmath775 is contracted by @xmath776 then @xmath578 contracts the edge .",
    "now suppose conditions ( i ) and ( ii ) in the statement of the proposition hold and let @xmath92 be a join - irreducible in @xmath518 contracted by @xmath774 with @xmath179 , @xmath492 , @xmath203 and @xmath214 as above . for fixed",
    "@xmath209 and @xmath777 , the choice of @xmath740 corresponds to choosing some subset @xmath316 of @xmath778 $ ] with @xmath777 elements .",
    "let @xmath779 be the unique permutation of the set @xmath778-q$ ] whose standard permutation is @xmath92 .",
    "let @xmath780 , so that @xmath54 consists of the entries @xmath781 followed by the elements of @xmath316 in increasing order .",
    "let @xmath782 be the elements of @xmath783 $ ] in increasing order , let @xmath784 be the elements of @xmath785 $ ] in increasing order , and let @xmath786 be the elements of @xmath787 $ ] in increasing order .",
    "then @xmath788 for any join - irreducible @xmath92 with corresponding @xmath492 and @xmath203 , if @xmath789 we have @xmath790 so that , by condition ( ii ) , @xmath791 is contracted . by condition ( i ) ,",
    "@xmath792 is contracted . for any join - irreducible @xmath92 with corresponding @xmath492 and @xmath203 ,",
    "if @xmath793 we have @xmath794 , so by condition ( ii ) , @xmath761 is contracted .",
    "thus by proposition  [ associated ji ] , @xmath795 is contracted .",
    "we have verified that conditions ( i ) and ( ii ) imply condition ( i ) .",
    "the proof for ( ii ) is similar .",
    "recall that an _ @xmath46-family _ is a translational and insertional family of congruences , and that corollary  [ subhopf ] states that if @xmath38 is an @xmath46-family then the map @xmath45 embeds @xmath41 $ ] as a sub hopf algebra of @xmath30 $ ] . in this section",
    "we study @xmath46-families .",
    "[ trins ] let @xmath187 be a set of untranslated join - irreducibles of various sizes .",
    "then @xmath187 is the complete set of untranslated join - irreducibles contracted by an @xmath46-family if and only @xmath187 is closed under insertions which are not translations .    in other words , for every @xmath796 , the requirement is that @xmath797 \\right\\rbrace}}\\subset c$ ] and @xmath798 \\right\\rbrace}}\\subset c$ ] .    by proposition  [ tr ] ,",
    "@xmath187 is the complete set of untranslated join - irreducibles contracted by a translational family if and only if for every @xmath796 we have @xmath799 .",
    "if the family is insertional as well , by proposition  [ insert def ] , the join - irreducibles @xmath690 for @xmath800 $ ] and @xmath688 for @xmath801 $ ] are contracted as well .",
    "note that @xmath802 and @xmath693 , but that all of these other insertions yield untranslated join - irreducibles .",
    "thus @xmath797 \\right\\rbrace}}\\subseteq c$ ] and @xmath798 \\right\\rbrace}}\\subseteq c$ ] .",
    "conversely , let @xmath187 have @xmath797 \\right\\rbrace}}\\subseteq c$ ] and @xmath798 \\right\\rbrace}}\\subseteq c$ ] for every @xmath0 and every @xmath796 .",
    "let @xmath92 be a join - irreducible contracted by @xmath37 with associated subset @xmath179 , let @xmath473 and let @xmath474 .",
    "then @xmath803 for some untranslated join - irreducible @xmath490 .",
    "if @xmath804 $ ] , then @xmath805 , and @xmath806 , so these conditions on untranslated join - irreducibles imply conditions ( i ) and ( ii ) of proposition  [ insert def ] .    we define a partial order @xmath807 , in analogy to @xmath662 , such that the possible sets @xmath187 of contracted untranslated join - irreducibles for an @xmath46-family are exactly the order ideals in @xmath807 . in particular , the set of @xmath46-families is a distributive lattice .",
    "proposition  [ trins ] can be interpreted as a description of the cover relations in @xmath807 , keeping in mind that the set @xmath797 \\right\\rbrace}}\\cup{{\\left\\lbrace { \\mathrm{l}}_i(\\gamma):i\\in[2,n+1 ] \\right\\rbrace}}$ ] does not necessarily contain @xmath808 distinct elements .",
    "the poset @xmath807 is an extension of @xmath662 , in the sense that the underlying sets coincide and every order relation in @xmath662 is an order relation in @xmath807 . like @xmath662 , the poset @xmath807 is dually ranked by size . in figure  [ tr inf ]",
    ", one adds in the cover relations @xmath809 and @xmath810 to obtain a diagram of the top four ranks of @xmath807 .",
    "we recall several definitions from the introduction and make an additional definition .",
    "the permutation @xmath59 occurs as a pattern in @xmath54 if there are integers @xmath55 such that for all @xmath56 we have @xmath57 if and only if @xmath58 .",
    "otherwise , @xmath54 avoids @xmath53 .",
    "a permutation @xmath59 has a cliff at @xmath60 if @xmath61 and @xmath62 . in this case",
    ", @xmath53 occurs in @xmath54 with adjacent cliff if there is some occurrence @xmath63 of @xmath53 in @xmath54 such that @xmath64 .",
    "otherwise @xmath54 avoids cliff - adjacent instances of @xmath53 . for an untranslated join - irreducible @xmath811 with a cliff at @xmath60 , that is @xmath812 and @xmath813 , a _",
    "scramble _ of @xmath92 is any permutation @xmath814 with @xmath815 , @xmath816 and @xmath817 \\right\\rbrace}}={{\\left\\lbrace \\gamma_i : i\\in[j-1 ] \\right\\rbrace}}$ ] .",
    "notice that every scramble of @xmath92 has a cliff at  @xmath60 .",
    "let @xmath187 be a set of join - irreducible permutations of various sizes , each of which is untranslated , and define @xmath818 to be the smallest @xmath46-family of congruences contracting each element of @xmath187 .",
    "thus the complete set of untranslated join - irreducibles contracted by @xmath818 is the smallest order ideal of @xmath807 containing @xmath187 .",
    "[ avoid ] a join - irreducible @xmath819 is contracted by @xmath820 if and only if there is some @xmath821 which occurs as a pattern in @xmath490 .",
    "since @xmath46-families correspond to order ideals in @xmath807 , we may as well take @xmath822 for some untranslated join - irreducible @xmath811 .",
    "other order ideals are obtained as unions of these principal order ideals .",
    "also , we can reduce to the case where @xmath490 is untranslated . otherwise , write @xmath823 for some @xmath209 and @xmath777 and some untranslated join - irreducible @xmath824 . because @xmath818 is in particular a translational family ,",
    "@xmath490 is contracted if and only if @xmath824 is contracted .",
    "furthermore , @xmath490 contains the untranslated join - irreducible @xmath92 if and only if @xmath824 contains @xmath92 .",
    "now it is easily proven by induction on @xmath0 that @xmath490 is contracted by @xmath825 if and only if @xmath92 occurs in @xmath490 .",
    "[ c - a avoid ] a permutation @xmath452 is contracted by @xmath820 if and only for some @xmath821 there is a scramble @xmath814 of @xmath92 which occurs in @xmath54 with adjacent cliff .",
    "again we reduce to the case where @xmath822 for some @xmath811 , because when @xmath826 , the permutation @xmath54 is contracted by @xmath820 if and only if it is contracted by @xmath825 for some @xmath821 . recall that @xmath54 is contracted if and only if some edge @xmath536 is contracted .",
    "let @xmath468 , and let @xmath53 be obtained from @xmath54 by transposing @xmath537 and @xmath538 .",
    "proposition [ associated ji ] says that @xmath825 contracts the edge @xmath536 if and only if it contracts the join - irreducible @xmath534 . by proposition",
    "[ avoid ] , @xmath534 is contracted if and only if it contains the pattern @xmath92 .",
    "since the unique descent in @xmath534 consists of the element @xmath537 followed by the element @xmath538 and since @xmath92 is untranslated , @xmath534 contains @xmath92 if and only if there is an occurrence of @xmath92 in @xmath534 which includes the entries @xmath537 and @xmath538 . also , in the definition of @xmath534 , note that all entries of @xmath534 with values weakly between @xmath538 and @xmath537 are on the same side of the pair @xmath551 in @xmath54 as in @xmath534 .",
    "thus @xmath92 occurs in @xmath534 if and only if there is some scramble @xmath814 of @xmath827 which occurs in @xmath54 such that the cliff of @xmath814 occurs in positions @xmath242 and @xmath470 of @xmath54 .",
    "letting @xmath242 vary over all descents of @xmath54 , we have that @xmath54 is contracted if and only if there is some scramble @xmath814 of @xmath827 which occurs in @xmath54 with adjacent cliff .    [",
    "compute ] computing products in @xmath828 $ ] via equation  ( [ prod ] ) involves only identifying permutations with @xmath145 , where @xmath86 is the downward projection associated to the congruence @xmath820 .",
    "this means checking the pattern avoidance condition imposed by theorem  [ c - a avoid ] .",
    "however , to compute coproducts by equation  ( [ coprod ] ) one needs to know @xmath113 for every @xmath452 .",
    "the proof of theorem  [ c - a avoid ] indicates how to compute @xmath113 inductively .",
    "suppose for some @xmath821 with cliff at @xmath60 that there is a scramble of @xmath92 occurring as the subsequence @xmath63 of @xmath54 , with @xmath64",
    ". then @xmath536 and @xmath829 , where @xmath53 is obtained from @xmath54 by transposing the entries @xmath830 and @xmath831 .",
    "since @xmath832 we continue inductively until we reach an uncontracted permutation .",
    "[ anti remark ] in general , the definition of a hopf algebra requires the existence of a map @xmath182 called the _",
    "antipode_. in the graded case , the existence of the antipode follows from the other axioms . let @xmath702 $ ] and @xmath706 $ ] be hopf algebras with @xmath711 with antipodes @xmath833 and @xmath834 .",
    "suppose @xmath45 is a graded one - to - one map which restricts to a vector - space isomorphism @xmath835 and embeds @xmath706 $ ] as a sub hopf algebra of @xmath702 $ ] .",
    "if @xmath581 is the inverse map , defined on the image of @xmath45 , then @xmath836 . in the case of @xmath30 $ ] and @xmath41 $ ] , the maps @xmath45 and @xmath581 were defined in section  [ trans sec ] and we have @xmath837 in  ( * ? ? ?",
    "* theorem 5.4 ) , aguiar and sottile give a formula for @xmath838 .",
    "this formula and equation  ( [ antipode ] ) , along with remark  [ compute ] , allows computation of @xmath839 for any @xmath7 .",
    "[ combinatorial ] if @xmath30 $ ] is given the structure of a _ combinatorial _ hopf algebra in the sense of  @xcite , then this structure can be pulled back to @xmath41 $ ] .",
    "one defines a multiplicative character @xmath840 , where @xmath841 is the chosen multiplicative character of @xmath30 $ ] , so that by definition @xmath45 is a morphism of combinatorial hopf algebras . since in particular @xmath45 is injective ,",
    "the even and odd subalgebras of @xmath41 $ ] and @xmath30 $ ] are related by ( * ? ? ?",
    "* proposition 5.8(f ) ) .",
    "we conclude the section by discussing some examples , which by no means exhaust the possibilities .",
    "the examples given in the introduction define @xmath46-families of congruences .",
    "specifically , the tamari lattice is known  @xcite to be the sublattice of @xmath3 consisting of @xmath842-avoiding permutations .",
    "the permutation 312 is an untranslated join - irreducible and the only scramble of 312 is 312 itself .",
    "it is easy to check that the pattern @xmath842 occurs in a permutation @xmath54 if and only if it occurs in @xmath54 with adjacent cliff .",
    "one can specialize  ( * ? ? ?",
    "* theorems 6.2 and 6.4 ) to state that the tamari lattice is @xmath3 mod the congruence @xmath843 , or alternately @xmath844 .",
    "the fibers of the ( left ) descent map , in the case of @xmath3 , are the congruence classes of @xmath845 .",
    "thus we recover the setup described in the introduction .    for a second example",
    ", we construct an infinite sequence @xmath846 \\right\\rbrace}}_{k\\ge 1}$ ] of graded hopf algebras , each included in its successor , limiting to @xmath30 $ ] , such that the first hopf algebra consists of one - dimensional graded pieces , and the second hopf algebra is the hopf algebra of non - commutative symmetric functions .",
    "since @xmath807 is graded by size , for each @xmath847 we define an @xmath46-family @xmath848 by letting @xmath249 be the set of untranslated join - irreducibles of size @xmath759 .",
    "the congruence @xmath849 is homogeneous of degree @xmath214 , and by theorem  [ c - a avoid ] , @xmath849 contracts every permutation @xmath54 containing adjacent elements @xmath537 and @xmath538 with @xmath850 . notice that @xmath851 is the congruence on @xmath3 with a single equivalence class , and @xmath852 is the congruence associated to the descent map . when @xmath853 , the congruence @xmath849 consists of congruence classes which are all singletons .",
    "let @xmath854 be the quotient of @xmath3 with respect to @xmath849 , and as usual identify @xmath854 as the induced subposet @xmath855 , where @xmath86 is the downward projection corresponding to @xmath849 .",
    "specifically , @xmath854 is the subposet of @xmath3 consisting of permutations with no right descents of size @xmath214 or larger . applying theorem  [ subalgebra ] ,",
    "we obtain an infinite sequence @xmath66 $ ] of graded hopf algebras , each included as a sub hopf algebra of its successor , limiting to the malvenuto - reutenauer hopf algebra @xmath30 $ ] .",
    "elementary counting arguments ( for example , induction on @xmath0 ) show that @xmath856 thinking of @xmath3 as a poset of regions as explained in section  [ symmetric ] we see that @xmath849 contracts every cover @xmath403 such that @xmath333 and @xmath334 are separated by a hyperplane normal to @xmath857 for @xmath858 .",
    "thus each @xmath854 is obtained from @xmath3 by deleting hyperplanes , so @xmath854 is a lattice of regions , or in other words , @xmath854 is obtained by directing the @xmath637-skeleton of a zonotope .    a related construction yields a sequence of graded hopf algebras limiting to the hopf algebra of planar binary trees . for each @xmath847 ,",
    "let @xmath859 be the set containing the two permutations @xmath860 and @xmath861 and define an @xmath46-family @xmath862 .",
    "for each @xmath214 the family @xmath863 is the meet , in the distributive lattice of order ideals of @xmath807 , of @xmath864 and @xmath865 .",
    "construct @xmath866 and @xmath867 $ ] from @xmath868 exactly as @xmath854 and @xmath66 $ ] were constructed from @xmath869 .",
    "we obtain an infinite sequence of hopf algebras , each included as a sub hopf algebra of its successor , limiting to the hopf algebra of planar binary trees . also , @xmath867 $ ]",
    "is a sub hopf algebra of @xmath66 $ ] for each @xmath214 .",
    "for @xmath870 we have @xmath867={\\mathbb k\\,}[s_{\\infty , k}]$ ] and a simple argument shows that the dimensions of the graded pieces of @xmath871 $ ] satisfy the defining recurrence of the pell numbers , sequence a000129 in  @xcite .",
    "our final example is an @xmath46-family such that the congruence classes appear to be equinumerous with the baxter permutations .",
    "say a permutation @xmath54 is a _ twisted baxter permutation _ if and only if the following two conditions hold :    1 .   for any 2413-pattern in @xmath54 ,",
    "the `` 4 '' and the `` 1 '' are not adjacent in @xmath54 , and 2 .   for any 3412-pattern in @xmath54 ,",
    "the `` 4 '' and the `` 1 '' are not adjacent in @xmath54 .",
    "for the definition of the usual baxter permutations , see for example  @xcite .",
    "west  @xcite showed that the baxter permutations are the permutations @xmath54 such that if 2413 occurs in @xmath54 then it occurs as a subpattern of some 25314 pattern in @xmath54 , and if 3142 occurs , then it occurs as a subpattern of some 41352 .",
    "this is easily checked to the set of permutations satisfying ( i ) above and ( ii ) below .    1 .   for any 3142-pattern in @xmath54 ,",
    "the `` 1 '' and the `` 4 '' are not adjacent in @xmath54 .",
    "computer calculations show that for @xmath872 the twisted baxter permutations in @xmath3 are equinumerous with the baxter permutations in @xmath3 .",
    "the congruences associated to the tamari lattice and the descent map are both homogeneous of degree two , and these are the only @xmath46-families of homogeneous degree - two congruences .",
    "specifying an @xmath46-family of homogeneous degree - three congruences amounts to choosing a non - empty subset of @xmath873 .",
    "the following theorem is an immediate corollary of theorem  [ c - a avoid ] .",
    "[ 2413 3412 ] the quotient of @xmath3 mod @xmath874 is isomorphic to the subposet of @xmath3 induced by the twisted baxter permutations .",
    "thus by theorem  [ subhopf ] , the twisted baxter permutations are the basis of a hopf algebra which can be embedded as a sub hopf algebra of the malvenuto - reutenauer hopf algebra .",
    "[ meet ] the congruence @xmath874 is the meet @xmath875 of the two congruences defining the tamari lattices .    the weaker statement , that @xmath876 is the meet , among @xmath46-families , of @xmath877 and @xmath878 is immediate by inspection of @xmath879 .    by theorem  [ c - a avoid ] , a join - irreducible is contracted by @xmath844 if and only if it contains a 231-pattern , and similarly for @xmath843 .",
    "thus the join - irreducibles contracted by @xmath875 are exactly the join - irreducibles containing both a 231- and a 312-pattern .",
    "since 2413 and 3412 each contain a 231- and a 312-pattern , by theorem  [ c - a avoid ] , every join - irreducible contracted by @xmath874 is also contracted by @xmath875 .",
    "conversely , if @xmath92 is a join - irreducible contracted by @xmath875 , let @xmath179 be the associated subset .",
    "since @xmath92 contains 231 , there is an element @xmath880 with @xmath881 , and since @xmath92 contains 312 , there is an element @xmath882 with @xmath883 . if @xmath884 then @xmath885 is a 3412-pattern in @xmath92 , and if @xmath886 then @xmath885 is a 2413-pattern in @xmath92 .",
    "thus @xmath92 is also contracted by @xmath887 .",
    "the author wishes to thank alexander barvinok , patricia hersh , sam hsiao , vic reiner and john stembridge for helpful conversations ."
  ],
  "abstract_text": [
    "<S> we give a unified explanation of the geometric and algebraic properties of two well - known maps , one from permutations to triangulations , and another from permutations to subsets . </S>",
    "<S> furthermore we give a broad generalization of the maps . </S>",
    "<S> specifically , for any lattice congruence of the weak order on a coxeter group we construct a complete fan of convex cones with strong properties relative to the corresponding lattice quotient of the weak order . </S>",
    "<S> we show that if a family of lattice congruences on the symmetric groups satisfies certain compatibility conditions then the family defines a sub hopf algebra of the malvenuto - reutenauer hopf algebra of permutations . </S>",
    "<S> such a sub hopf algebra has a basis which is described by a type of pattern - avoidance . applying these results </S>",
    "<S> , we build the malvenuto - reutenauer algebra as the limit of an infinite sequence of smaller algebras , where the second algebra in the sequence is the hopf algebra of non - commutative symmetric functions . </S>",
    "<S> we also associate both a fan and a hopf algebra to a set of permutations which appears to be equinumerous with the baxter permutations . </S>"
  ]
}