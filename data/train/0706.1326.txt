{
  "article_text": [
    "the purpose of this note is to present several partial results related to the _ oscillation stability problem for the urysohn sphere _",
    ", a problem about to the geometry of the urysohn space @xmath1 which can , in some sense , be seen as an analog for @xmath1 of the well - known _ distortion problem for @xmath0_. this latter problem appeared after the following central result in geometric functional analysis established by milman : for @xmath2 strictly positive , let @xmath3 denote the unit sphere of the @xmath4-dimensional euclidean space and let @xmath5 denote the unit sphere of the hilbert space @xmath0 .",
    "if @xmath6 is a metric space , @xmath7 and @xmath8 , let also @xmath9 then :    [ thm : milman ] let @xmath10 be a finite partition of @xmath5 .",
    "then for every @xmath8 and every @xmath2 , there is @xmath11 and an isometric copy @xmath12 of @xmath3 in @xmath5 such that @xmath13 .",
    "whether milman s theorem still holds when @xmath14 is replaced by @xmath15 is the content of the distortion problem for @xmath0 .",
    "equivalently , if @xmath8 and @xmath16 is bounded and uniformly continuous , is there a closed infinite - dimensional subspace @xmath17 of @xmath18 such that @xmath19 ? this question remained unanswered for about 30 years , until the solution of odell and schlumprecht in @xcite :    [ thm : odell - schlumprecht ]    there is a finite partition @xmath10 of @xmath5 and @xmath8 such that no @xmath20 for @xmath11 includes an isometric copy of @xmath5 .    this result",
    "is traditionally stated in terms of _ oscillation stability _ , a concept coming from banach space theory . however , it turns out that it can also be stated thanks to a new concept of oscillation stability due to kechris , pestov and todorcevic introduced in @xcite and more fully developed in @xcite .",
    "the global formulation of this notion takes place at a very general level and allows to capture various phenomena coming from combinatorics and functional analysis .",
    "nevertheless , it can be presented quite simply in the realm of complete separable ultrahomogeneous metric spaces , where it coincides with the ramsey - theoretic concept of approximate indivisibility .",
    "recall that a metric space @xmath21 is _ ultrahomogeneous _ when every isometry between finite metric subspaces of @xmath21 can be extended to an isometry of @xmath21 onto itself .",
    "now , for @xmath22 , call a metric space @xmath21 _",
    "when for every strictly positive @xmath24 and every @xmath25 , there is @xmath26 and @xmath27 isometric to @xmath21 such that @xmath28 then @xmath21 is _ approximately indivisible _ when @xmath21 is @xmath23-indivisible for every @xmath8 , and @xmath21 is _ indivisible _ when @xmath21 is @xmath29-indivisible .",
    "for example , in this terminology , the aforementioned theorem of odell and schlumprecht asserts that @xmath30 is not approximately indivisible .",
    "however , in spite of this solution , it is sometimes felt that something essential is still to be discovered about the metric structure of @xmath5 .",
    "indeed , quite surprisingly , the proof leading to the solution is not based on an analysis of the intrinsic geometry of @xmath0 .",
    "this fact is one of the motivations for the present note : in this article , hoping that a better understanding of @xmath5 might be hidden behind a general approach of approximate indivisibility , we study the approximate indivisibility problem for another complete , separable ultrahomogeneous metric space , the _ urysohn sphere _ @xmath31 , defined as follows : up to isometry , it is the unique metric space to which every sphere of radius @xmath32 in the urysohn space @xmath1 is isometric .",
    "equivalently , it is , up to isometry , the unique complete separable ultrahomogeneous metric space with diameter @xmath33 into which every separable metric space with diameter less or equal to @xmath33 embeds isometrically . in this note",
    ", we try to answer the following question implicitly present in @xcite and explicitly stated in @xcite and @xcite :    * question .",
    "* is the urysohn sphere @xmath31 oscillation stable ?",
    "that is , given a finite partition @xmath10 of @xmath31 and @xmath8 , is there @xmath11 such that @xmath20 includes an isometric copy of @xmath31 ?",
    "our approach here is combinatorial and follows the general intuition according to which the structure of complete separable ultrahomogeneous metric spaces can be approached via combinatorial means .",
    "this intuition is based on two ideas .",
    "the first one is that the combinatorial point of view is relevant for the study of countable ultrahomogeneous metric spaces in general .",
    "this idea is already central in the work of frass completed in the fifties , even though frass theory takes place at the level of relational structures and includes much more than metric spaces ( for a reference on frass theory , see @xcite ) .",
    "more recently , it was also rediscovered by bogatyi in a purely metric context , see @xcite and @xcite .",
    "the second idea is that the complete separable ultrahomogeneous metric spaces are closely linked to the countable ultrahomogeneous metric spaces .",
    "this connection also appears in bogatyi s work but is on the other hand supported by the following result ( which answers a question posed in @xcite ) :    [ thm : countable dense ultrahomogeneous ]    every complete separable ultrahomogeneous metric space @xmath34 includes a countable ultrahomogeneous dense metric subspace .    for example , consider the _ rational urysohn space _ @xmath35 which can be defined up to isometry as the unique countable ultrahomogeneous metric space with rational distances for which every countable metric space with rational distances embeds isometrically .",
    "the urysohn space @xmath1 arises then as the completion of @xmath35 , a fact which is actually essential as it is at the heart of several important contributions about @xmath1 . in particular , in the original article @xcite of urysohn , the space @xmath1 is precisely constructed as the completion of @xmath35 which is in turn constructed by hand .",
    "similarly , the urysohn sphere @xmath31 arises as the completion of the so - called _ rational urysohn sphere _",
    "@xmath36 , defined up to isometry as the unique countable ultrahomogeneous metric space with distances in @xmath37 $ ] into which every at most countable metric space with distances in @xmath37 $ ] embeds isometrically .    at first glance ,",
    "such a representation is relevant with respect to the oscillation stability problem for complete separable ultrahomogeneous metric spaces because it provides a direct way to transfer an approximate indivisibility problem to an exact indivisibility problem .",
    "for example , in the present case , it naturally leads to the question ( explicitly stated in @xcite and in @xcite ) of knowing whether @xmath36 is indivisible , a question which was answered recently by to delhomm , laflamme , pouzet and sauer in @xcite , where a detailed analysis of metric indivisibility is provided and several obstructions to indivisibility are isolated .",
    "cardinality is such an obstruction : a classical result in topology asserts that as soon as a metric space @xmath21 is uncountable , there is a partition of @xmath21 into two pieces such that none of the pieces includes a copy of the space via a continuous @xmath38 map .",
    "unboundedness is another example : if a metric space @xmath21 is indivisible , then its distance set is bounded .",
    "now , it turns out that @xmath36 avoids these obstacles but encounters a third one : for a metric space @xmath21 , @xmath39 , and @xmath8 , let @xmath40 be the supremum of all reals @xmath41 such that there is an @xmath23-chain @xmath42 containing @xmath43 and such that @xmath44 .",
    "then , define @xmath45    [ thm : lambda divisible ] let @xmath21 be a countable metric space .",
    "assume that there is @xmath46 such that @xmath47 .",
    "then @xmath21 is not indivisible .",
    "now , for @xmath36 , it is easy to see that ultrahomogeneity together with the fact that the distance set contains @xmath29 as an accumulation point imply that every point @xmath43 in @xmath36 is such that @xmath48 .",
    "it follows that :    [ thm : s_q divisible ]    @xmath36 is divisible .",
    "this result put an end to the first attempt to solve the oscillation stability problem for @xmath31 .",
    "indeed , had @xmath36 been indivisible , @xmath31 would have been oscillation stable .",
    "but in the present case , the coloring which is used to divide @xmath36 does not lead to any conclusion and the oscillation stability problem for @xmath31 has to be attacked from another direction .    here , following with the intuition that approximate indivisibility for @xmath31",
    "can be attacked via the study of the exact indivisibility of simpler spaces , we can show :    [ thm : s 1/6 os ]    @xmath31 is @xmath49-indivisible .",
    "this result is obtained after having shown that the problem of approximate indivisibility for @xmath31 can be reduced to a purely combinatorial problem involving a family @xmath50 of countable metric spaces which in some sense approximate the space @xmath31 . for @xmath51 strictly positive ,",
    "set @xmath52 _ m : = \\ { \\frac{k}m : k \\in \\ { 0 , \\ldots , m \\ } \\}.\\ ] ] then @xmath53 is defined as follows : up to isometry it is the unique countable ultrahomogeneous metric space with distances in @xmath54 _",
    "m$ ] into which every countable metric space with distances in @xmath54 _ m$ ] embeds isometrically .",
    "then :    [ thm : tfae s mos1 ]    the following are equivalent :    1 .",
    "@xmath31 is oscillation stable ( equivalently , approximately indivisible ) .",
    "2 .   for every strictly positive @xmath51",
    ", @xmath53 is @xmath55-indivisible .",
    "3 .   for every strictly positive @xmath51",
    ", @xmath53 is indivisible .",
    "the paper is organized as follows : in section [ section : discretization ] , we introduce the spaces @xmath53 and study their relationship with @xmath31 .",
    "in particular , this leads us to a stronger version of theorem [ thm : tfae s mos1 ] . in section [ section : randb ] , we follow the different directions suggested by theorem [ thm : tfae s mos1 ] and study the indivisibility as well as the @xmath55-indivisibility properties of the spaces @xmath53 .",
    "we then show how these results can be used to derive theorem [ thm : s 1/6 os ] . finally , we close with a short section including some remarks about possible further studies while an appendix provides a proof of theorem [ thm : countable dense ultrahomogeneous ] .",
    "_ note _ : item ( iii ) of theorem [ thm : tfae s mos1 ] was recently proved by the n. w. sauer and the second author . the urysohn sphere is therefore oscillation stable .",
    "the purpose of this section is to prove theorem [ thm : tfae s mos1 ] and therefore to show that despite the unsuccessful attempt realized with @xmath36 , the oscillation stability problem for @xmath31 can indeed be understood via the study of the exact indivisibility of simpler spaces .",
    "the starting point of our construction consists in the observation that @xmath36 is the first natural candidate because it is a very good countable approximation of @xmath31 , but this good approximation is paradoxically responsible for the divisibility of @xmath36 . in particular , the distance set of @xmath36 is too rich and allows to create a dividing coloring .",
    "a natural attempt at that point is consequently to replace @xmath36 by another space with a simpler distance set but still allowing to approximate @xmath31 in a reasonable sense . in this perspective",
    ", general frass theory provides a whole family of candidates . indeed ,",
    "recall that for a strictly positive @xmath56 , @xmath54 _ m$ ] denotes the set @xmath57 .",
    "then one can prove that there is a countable ultrahomogeneous metric space @xmath53 with distances in @xmath54_m$ ] into which every countable metric space with distances in @xmath54 _ m$ ] embeds isometrically and that those properties actually characterize @xmath53 up to isometry . in other words , the spaces @xmath53 are really the analogs of @xmath36 after having discretized the distance set @xmath37 $ ] with @xmath54_m$ ] .",
    "the intuition is then that in some sense , this should allow them to approximate @xmath31 .",
    "this intuition turns out to be right , as shown by the following proposition whose proof is postponed to subsection [ subsection : proof of proposition s_m 1/m dense in s ] :    [ thm : s_m 1/m dense in s ]    for every strictly positive @xmath51 , there is an isometric copy @xmath58 of @xmath53 inside @xmath31 such that @xmath59 .",
    "the spaces @xmath53 consequently appear as good candidates towards a discretization of the oscillation stability problem for @xmath31 .",
    "however , it turns out that proposition [ thm : s_m 1/m dense in s ] is not of any help towards a proof of theorem [ thm : tfae s mos1 ] .",
    "for example , proposition [ thm : s_m 1/m dense in s ] does not imply alone that if for some strictly positive @xmath60 , @xmath53 is indivisible , then @xmath31 is @xmath55-indivisible : assume that @xmath61 .",
    "@xmath62 induces a coloring of @xmath53 so by indivisibility of @xmath53 there is @xmath63 isometric to @xmath53 on which @xmath62 is constant . but how does that allow to obtain a copy of @xmath31 ?",
    "for example , are we sure that @xmath64 includes a copy of @xmath31 ?",
    "we are not able to answer this question , but recent results of j. melleray in @xcite strongly suggest that @xmath65 really depends on the copy @xmath66 and can be extremely small .",
    "in particular , it may not include a copy of @xmath31 .",
    "thus , to our knowledge , proposition [ thm : s_m 1/m dense in s ] does not say anything about the oscillation stability of @xmath31 , except maybe that the spaces @xmath53 s are not totally irrelevant for our purposes .    fortunately , the spaces @xmath53 do allow to go much further than proposition [ thm : s_m 1/m dense in s ] and are indeed relevant objects .",
    "in particular , they allow to reach the following equivalence , extending theorem [ thm : tfae s mos1 ] :    [ thm : tfae s mos ]    the following are equivalent :    1 .",
    "@xmath31 is oscillation stable .",
    "2 .   @xmath36 is approximately indivisible .",
    "3 .   for every strictly positive @xmath51",
    ", @xmath53 is @xmath55-indivisible .",
    "4 .   for every strictly positive @xmath51",
    ", @xmath53 is indivisible .",
    "subsections [ subsubsection : from oscillation stability of s to approximate indivisibility of s_q . ] to [ subsubsection : from indivisibility of s_m to oscillation stability of s. ] are devoted to the proof of this result . but before going deeper into the technical details , let us mention here that part of our hope towards the discretization strategy comes from the proof of a famous result in banach space theory , namely gowers stabilization theorem for @xmath67 @xcite , where combinatorial ramsey - type theorems for the spaces @xmath68 and @xmath69 imply that the unit sphere @xmath70 of @xmath67 and its positive part @xmath71 are approximately indivisible .",
    "we start with a definition : given a metric space @xmath6 , a map @xmath720,+\\infty[}$ ] is _ kattov over @xmath21 _ when : @xmath73 equivalently , one can extend the metric @xmath74 on @xmath75 by defining , for every @xmath76 in x , @xmath77 and @xmath78 .",
    "the corresponding metric space is then written @xmath79 . here",
    ", the concept of kattov map is relevant because of the following standard reformulation of the notion of ultrahomogeneity :    [ prop : extension ] let @xmath21 be a countable metric space",
    ". then @xmath21 is ultrahomogeneous iff for every finite subspace @xmath80 and every kattov map @xmath81 over @xmath82 , if @xmath83 embeds into @xmath21 , then there is @xmath84 such that for every @xmath85 , @xmath86 .",
    "this result will be used constantly throughout the proof .",
    "now , some notation : for @xmath51 strictly positive , recall that @xmath54 _ m = \\ { k / m : k \\in \\ { 0 , \\ldots , m \\ } \\}.$ ] for @xmath87 $ ] , set also @xmath88 \\cap [ 0,1 ] _ m)=\\frac{\\lceil m\\alpha \\rceil } { m } , \\ ] ] where @xmath89 is the ceiling function . since",
    "@xmath31 is the metric completion of @xmath36 , it is enough to show that for every strictly positive @xmath51 , there is an isometric copy @xmath90 of @xmath53 inside @xmath36 such that @xmath91 .",
    "this is achieved thanks to a back and forth argument .",
    "the following is the main idea .",
    "suppose that @xmath92 is finite and embeddable in @xmath53 , and let @xmath93 .",
    "then the mapping @xmath940,\\infty[$ ] defined by @xmath95 if @xmath96 and @xmath97 is kattov .",
    "assume this claim is true .",
    "fix @xmath98 an enumeration of @xmath53 and @xmath99 an enumeration of @xmath36 .",
    "we are going to construct @xmath100 together with a set @xmath101 so that :    1 .",
    "@xmath102 is a bijection .",
    "@xmath103 defines an isometry .",
    "3 .   for every @xmath104 , @xmath105 .    observe that , since @xmath102 is a permutation , ( i ) and ( ii ) guarantee that @xmath106 defines a surjective isometry between @xmath107 and @xmath53 . on the other hand , ( iii )",
    "guarantees that @xmath108 .",
    "let @xmath109 , @xmath110 .",
    "suppose now all data up to @xmath111 already defined in the appropriate way , i.e. fulfilling the obvious partial versions of ( i ) , ( ii ) and ( iii ) .",
    "let @xmath112 set also @xmath113 such that : @xmath114 next , if @xmath115 , then we define @xmath116 and @xmath117 as we did for @xmath118 .",
    "otherwise , let @xmath81 be the kattov map given by the previous claim when applied to @xmath119 and @xmath120 .",
    "let @xmath121 realizing @xmath81 . now observe that the map @xmath122 defined on @xmath123 by @xmath124 is kattov with values in @xmath54_m$ ] , so @xmath125 is well defined and we set @xmath126 .",
    "we now turn to the proof of the claim .",
    "fix @xmath127 .",
    "we have to prove : @xmath128 for : the right inequality is not a problem : @xmath129 for the left inequality , we use the following simple fact : @xmath130 indeed , assume that @xmath131 .",
    "we want @xmath132 . without loss of generality , @xmath133 .",
    "then @xmath134 , so @xmath135 and we are done . in our case , that property is useful because then the left inequality directly follows from @xmath136 _ m,\\ ] ] because @xmath137 is embeddable in @xmath53 . for : @xmath138",
    "this is because @xmath139 and @xmath140 .",
    "furthermore , by definition of @xmath81 , @xmath141 so the left inequality is satisfied . for the right inequality",
    ", simply observe that    @xmath142 .",
    "the purpose of what follows is to prove the implication @xmath143 of theorem [ thm : tfae s mos ] stating that if @xmath31 is oscillation stable , then @xmath36 is approximately indivisible .",
    "this is done thanks to the following result :    [ thm : s_q in s ] suppose that @xmath144 and @xmath145 are two copies of @xmath146 in @xmath31 such that @xmath144 is dense in @xmath31 .",
    "then for every @xmath147 the subspace @xmath148 includes a copy of @xmath146 .",
    "we construct the required copy of @xmath36 inductively .",
    "let @xmath149 enumerate @xmath150 . for @xmath24 , set @xmath151 set also @xmath152 @xmath153 being dense in @xmath31 , choose @xmath154 such that @xmath155 .",
    "assume now that @xmath156 were constructed such that for every @xmath157 @xmath158 again by denseness of @xmath153 in @xmath31 , fix @xmath159 such that    @xmath160 .",
    "then for every @xmath161 , @xmath162 it follows that there is @xmath163 such that @xmath164 indeed , consider the map @xmath81 defined on @xmath165 by : @xmath166 then @xmath81 is kattov over the subspace of @xmath153 supported by @xmath167 , so simply take @xmath163 realizing it .",
    "observe then that @xmath168 after @xmath169 steps , we are left with @xmath170 isometric to @xmath36 .",
    "we now show how to deduce @xmath143 of theorem [ thm : tfae s mos ] from proposition [ thm : s_q in s ] : let @xmath8 , @xmath24 strictly positive and @xmath171 .",
    "then in @xmath31 , seeing @xmath36 as a dense subspace : @xmath172 by oscillation stability of @xmath31 , there is @xmath26 and a copy @xmath173 of @xmath31 included in @xmath31 such that    @xmath174 .",
    "since @xmath175 includes copies of @xmath146 , and since @xmath146 is dense in @xmath31 , it follows by proposition [ thm : s_q in s ] that there is a copy @xmath176 of @xmath36 in @xmath177 .",
    "then in @xmath36    @xmath178 .      here , we provide a proof for the implication @xmath179 of theorem [ thm : tfae s mos ] according to which if @xmath36 is approximately indivisible , then @xmath53 is @xmath55-indivisible for every strictly positive @xmath51 .",
    "this is obtained as the consequence of the following proposition :    [ thm : approx indiv s_q - s_m ]    let @xmath8 and assume that @xmath36 is @xmath23-indivisible .",
    "then @xmath53 is @xmath55-indivisible whenever @xmath180 .",
    "let @xmath181 , assume that @xmath36 is @xmath23-indivisible and fix @xmath51 strictly positive such that @xmath182 .",
    "define @xmath183 by @xmath184    @xmath185 is a metric on @xmath36 .",
    "since the function @xmath186 is subadditive and increasing , it easily follows that the composition @xmath187 is a metric .",
    "let @xmath188 be the metric space @xmath189 and let @xmath190 denote the identity map from @xmath36 to @xmath188 . observe that @xmath188 and @xmath53 embed into each other , and that consequently , @xmath55-indivisibility of @xmath53 is equivalent to @xmath55-indivisibility of @xmath188 .",
    "so let @xmath191 be strictly positive and @xmath192 .",
    "then @xmath62 induces a coloring @xmath193 . since @xmath36 is @xmath23-indivisible ,",
    "there is @xmath26 and a copy @xmath176 of @xmath36 inside @xmath36 such that    @xmath194 now , observe that @xmath195 is a copy of @xmath196 inside @xmath196 .",
    "furthermore , note that @xmath197 since @xmath182 , it follows that @xmath198 and so @xmath199      we now turn to the proof of the implication @xmath202 of theorem [ thm : tfae s mos ] stating that if for every strictly positive @xmath51 , @xmath53 is @xmath55-indivisible , then for every strictly positive @xmath51 , @xmath53 is indivisible .",
    "this is done via the following proposition :    suppose that for some strictly positive integer @xmath203 , @xmath201 is @xmath204-indivisible .",
    "then @xmath53 is indivisible .",
    "let @xmath51 be strictly positive and such that @xmath201 is @xmath205-indivisible .",
    "we are going to create a metric space @xmath206 with distances in @xmath54_m$ ] and a bijection @xmath207 such that for every subspace @xmath34 of @xmath201 , if @xmath208 includes a copy of @xmath53 , then so does @xmath209 .",
    "assuming that such a space @xmath206 is constructed , the result is proved as follows : observe first that @xmath206 and @xmath53 embed into each other .",
    "indivisibility of @xmath206 is consequently equivalent to indivisibility of @xmath53 and it is enough to show that @xmath206 is indivisible .",
    "let @xmath24 be strictly positive and @xmath210 .",
    "then @xmath211 and by @xmath212-indivisibility of @xmath201 , there is @xmath26 such that @xmath213 includes a copy of @xmath201 . since @xmath53 embeds into @xmath201 , @xmath213 also includes a copy of @xmath53 .",
    "thus , @xmath214 includes a copy of @xmath53 , and therefore a copy of @xmath206 .",
    "we now turn to the construction of @xmath206 .",
    "this space is obtained by modifying the metric on @xmath201 to a metric @xmath215 , so that @xmath216 and @xmath217 is simply the identity map from @xmath201 to @xmath206 .",
    "the metric @xmath215 is defined as follows : consider the map @xmath218_{2(m^2+m ) } \\longrightarrow [ 0,1]_{m}}$ ] defined by @xmath219 where @xmath220 is the least integer such that @xmath221 observe that @xmath81 is increasing , that @xmath222 , and that @xmath223_m \\ \\",
    "\\forall \\varepsilon \\in \\",
    "{ -2 , -1 , 0 , 1 , 2\\ } \\",
    "\\ f\\left ( \\alpha + \\frac{\\varepsilon}{2(m^2+m ) } \\right ) = \\alpha .\\ ] ] note also that @xmath81 is subadditive : let @xmath224_{2(m^2+m)}$ ] .",
    "assume that @xmath225 .",
    "then there is @xmath226 such that @xmath227 similarly , there are @xmath228 and @xmath229 such that @xmath230",
    "so @xmath231 therefore , @xmath232 it follows that the map @xmath233 is a metric taking values in @xmath54_m$ ] . now to show that @xmath215 is as required , it suffices to prove that for every subspace @xmath34 of @xmath201 , if @xmath208 includes a copy of @xmath53 , then @xmath234 includes a copy of @xmath53 .",
    "so let @xmath34 be a subspace of @xmath201 such that @xmath208 includes a copy @xmath66 of @xmath53 .",
    "then for every @xmath235 , there is an element @xmath236 such that @xmath237 .",
    "thus , @xmath238 since @xmath239_m$ ] , @xmath240 that is @xmath241 thus , @xmath242 is isometric to @xmath53 .",
    "we are now ready to close the loop of implications of theorem [ thm : tfae s mos ] . in what follows ,",
    "we show that if @xmath53 is indivisible for every strictly positive @xmath51 , then @xmath31 is oscillation stable .",
    "this is achieved thanks to the following result :    [ cor : if s_m indiv then s 1/2m - indiv ] assume that for some strictly positive @xmath51 , @xmath53 is indivisible .",
    "then @xmath31 is @xmath55-indivisible .",
    "this is obtained by showing that for every strictly positive @xmath51 , there is an isometric copy @xmath243 of @xmath53 inside @xmath31 such that for every @xmath244 isometric to @xmath53 , @xmath65 includes an isometric copy of @xmath31 .",
    "this property indeed suffices to prove proposition [ cor : if s_m indiv then s 1/2m - indiv ] : let @xmath245 for some strictly positive @xmath24 .",
    "@xmath62 induces a @xmath246-coloring of the copy @xmath243 . by indivisibility of @xmath53 ,",
    "find @xmath26 and @xmath247 such that @xmath62 is constant on @xmath66 with value @xmath248 .",
    "but then , in @xmath31 , @xmath65 includes a copy of @xmath31 .",
    "so @xmath249 includes a copy of @xmath31 .",
    "we now turn to the construction of @xmath243 .",
    "the core of the proof is contained in lemma [ lem : hedgehog ] which we present now .",
    "fix an enumeration @xmath250 of @xmath36 . also , keeping the notation introduced in the proof of proposition [ thm : approx indiv s_q - s_m ] , let @xmath188 be the metric space @xmath251 .",
    "the underlying set of @xmath188 is really @xmath250 but to avoid confusion , we write it @xmath252 , being understood that for every @xmath104 , @xmath253 . on the other hand",
    ", remember that @xmath53 and @xmath188 embed isometrically into each other .",
    "[ lem : hedgehog ] there is a countable metric space @xmath254 with distances in @xmath54 $ ] and including @xmath188 such that for every strictly increasing @xmath255 such that @xmath256 is an isometry , @xmath257 includes an isometric copy of @xmath36 .",
    "assuming lemma [ lem : hedgehog ] , we now show how we can construct @xmath258 .",
    "@xmath254 is countable with distances in @xmath54 $ ] so we may assume that it is a subspace of @xmath31 . now , take @xmath243 a subspace of @xmath196 and isometric to @xmath53 .",
    "we claim that @xmath259 works : let @xmath244 be isometric to @xmath53 . we first show that @xmath260 includes a copy of @xmath36 .",
    "the enumeration @xmath252 induces a linear ordering @xmath261 of @xmath66 in type @xmath169 . according to lemma [ lem : hedgehog ]",
    ", it suffices to show that @xmath262 includes a copy of @xmath263 seen as an ordered metric space . to do that ,",
    "observe that since @xmath188 embeds isometrically into @xmath53 , there is a linear ordering @xmath264 of @xmath53 in type @xmath169 such that @xmath263 embeds into @xmath265 as ordered metric space .",
    "therefore , it is enough to show :    @xmath262 includes a copy of @xmath265 .",
    "write @xmath266 let @xmath267 .",
    "if @xmath268 are chosen such that @xmath269 is a finite isometry , observe that the following set is infinite @xmath270 therefore , simply take @xmath271 in that set and larger than @xmath272 .",
    "observe that since the metric completion of @xmath36 is @xmath31 , the closure of @xmath65 in @xmath31 includes a copy of @xmath31 .",
    "hence we are done since @xmath65 is closed in @xmath31 .",
    "we now turn to the proof of lemma [ lem : hedgehog ] .",
    "the strategy is first to provide the set @xmath273 where the required metric space @xmath254 is supposed to be based on , and then to argue that the distance @xmath274 can be obtained ( lemmas [ lem:3 ] to [ lem:6 ] ) . to construct @xmath273 ,",
    "proceed as follows : for @xmath275 , write @xmath276 as the strictly increasing enumeration of its elements :    @xmath277 .",
    "now , let @xmath278 be the set of all finite nonempty subsets @xmath276 of @xmath169 such that @xmath279 is an isometry between @xmath280 and @xmath281 .",
    "this set @xmath278 is a tree when ordered by end - extension .",
    "let    @xmath282 .    for @xmath283 ,",
    "define @xmath284 now , consider an edge - labelled graph structure on @xmath273 by defining @xmath285 with domain @xmath286 and range @xmath287 $ ] as follows :    * if @xmath288 , then @xmath289 iff @xmath290 and @xmath276 are @xmath291 comparable . in this case , @xmath292 * if @xmath293 , then @xmath294 is always in @xmath295 and @xmath296 * if @xmath297 and @xmath298 , then @xmath299 and @xmath300 are in @xmath295 iff @xmath301 . in this case @xmath302    for a branch @xmath303 of @xmath278 and @xmath304 , let @xmath305 be the unique element of @xmath303 with height @xmath248 in @xmath278 . observe that @xmath305 is a @xmath306-element subset of @xmath169 .",
    "observe also that for every @xmath307 , @xmath305 is connected to @xmath308 and @xmath309 , and    1 .",
    "@xmath310 , 2 .",
    "@xmath311 , 3 .",
    "@xmath312 is equal to any of the following quantities : + @xmath313 .",
    "in particular , if @xmath303 is a branch of @xmath278 , then @xmath285 induces a metric on @xmath303 and the map from @xmath36 to @xmath303 mapping @xmath314 to @xmath305 is a surjective isometry .",
    "we claim that if we can show that @xmath285 can be extended to a metric @xmath274 on @xmath273 with distances in @xmath54 $ ] , then lemma [ lem : hedgehog ] will be proved .",
    "indeed , let @xmath315 with @xmath255 strictly increasing and @xmath256 distance preserving .",
    "see @xmath316 as a branch @xmath303 of @xmath278 .",
    "then @xmath317 is isometric to @xmath36 and @xmath318 our goal now is consequently to show that @xmath285 can be extended to a metric on @xmath273 with values in @xmath54 $ ] . recall that for @xmath319 , and @xmath104 strictly positive , a path from @xmath43 to @xmath320 of size @xmath321 as is a finite sequence @xmath322 such that @xmath323 , @xmath324 and for every @xmath325 , @xmath326 for @xmath76 in @xmath273 , @xmath327 is the set of all paths from @xmath43 to @xmath320 .",
    "if @xmath322 is in @xmath327 , @xmath328 is defined as : @xmath329 on the other hand , @xmath330 is defined as : @xmath331 we are going to see that the required metric can be obtained with @xmath274 defined by @xmath332 equivalently , we are going to show that for every @xmath333 , every path @xmath10 from @xmath43 to @xmath320 is metric , that is : @xmath334 let @xmath319 . call a path @xmath10 from @xmath43 to @xmath320 _ trivial _ when @xmath335 and _ irreducible _ when no proper subsequence of @xmath10 is a non - trivial path from @xmath43 to @xmath320 .",
    "finally , say that @xmath10 is a _ cycle _ when @xmath333 .",
    "it should be clear that to prove that @xmath274 works , it is enough to show that the previous inequality is true for every irreducible cycle .",
    "note that even though @xmath285 takes only rational values , it might not be the case for @xmath274 .",
    "we now turn to the study of the irreducible cycles in @xmath273 .",
    "[ lem:3 ]    let @xmath336 .",
    "assume that @xmath43 and @xmath320 are not @xmath291-comparable .",
    "let @xmath10 be an irreducible path from @xmath43 to @xmath320 in @xmath278 . then there is @xmath337 such that @xmath338 , @xmath339 and @xmath340 .",
    "write @xmath341 .",
    "@xmath342 is connected to @xmath43 so @xmath342 is @xmath291-comparable with @xmath43 .",
    "we claim that @xmath343 : otherwise , @xmath344 and every element of @xmath278 which is @xmath291-comparable with @xmath342 is also @xmath291-comparable with @xmath43 . in particular",
    ", @xmath345 is @xmath291-comparable with @xmath43 , a contradiction since @xmath345 and @xmath43 are not connected .",
    "we now claim that @xmath346 .",
    "indeed , observe that @xmath347 : otherwise , @xmath348 so @xmath349 contradicting irreducibility .",
    "now , every element of @xmath278 which is @xmath291-comparable with @xmath345 is also @xmath291-comparable with @xmath342 , so no further element can be added to the path . hence @xmath350 and we can take @xmath351 .",
    "[ lem:4 ]    every non - trivial irreducible cycle in @xmath352 has size @xmath353 .",
    "obvious since @xmath354 induces the metric @xmath355 on @xmath352 .",
    "[ lem:4 ]    every non - trivial irreducible cycle in @xmath278 has size @xmath353 and is included in a branch .",
    "let @xmath356 be a non - trivial irreducible cycle in @xmath278 .",
    "we may assume that @xmath357 .",
    "now , observe that every element of @xmath278 comparable with @xmath358 is also comparable with @xmath359 . in particular , @xmath342 is such an element .",
    "it follows that @xmath360 and that @xmath361 are in a same branch .",
    "[ lem:5 ]    every irreducible cycle in @xmath273 intersecting both @xmath352 and @xmath278 is supported by a set whose form is one of the following ones .",
    "let @xmath362 be a set supporting an irreducible cycle @xmath363 intersecting both @xmath352 and @xmath278 .",
    "it should be clear that @xmath364 : otherwise since any two points in @xmath352 are connected , @xmath363 would admit a strict subcycle , contradicting irreducibility .",
    "if @xmath365 has size @xmath33 , let @xmath358 be its unique element . in @xmath363",
    ", @xmath358 is connected to two elements which we denote @xmath342 and @xmath366 .",
    "note that @xmath367 so @xmath368 .",
    "since elements in @xmath278 which are connected never project on a same point , it follows that @xmath369 are @xmath291-incomparable .",
    "now , @xmath363 induces an irreducible path from @xmath342 to @xmath366 in @xmath278 so from lemma [ lem:3 ] , there is @xmath370 such that @xmath371 , @xmath372 , and we are in case 2 .",
    "assume now that @xmath373 .",
    "then there are @xmath374 such that @xmath375 and @xmath376 .",
    "note that since @xmath377 , we must have @xmath378 .",
    "now , @xmath379 induces an irreducible path from @xmath342 to @xmath366 in @xmath278 . by lemma [ lem:3 ] , either @xmath342 and @xmath366 are compatible and in this case , we are in case 1 , or @xmath342 and @xmath366 are @xmath291-incomparable and there is @xmath345 in @xmath380 such that @xmath371 , @xmath372 and we are in case 3 .",
    "[ lem:6 ]    every non - trivial irreducible cycle in @xmath273 is metric .",
    "let @xmath363 be an irreducible cycle in @xmath273 .",
    "if @xmath363 is supported by @xmath352 , then by lemma [ lem:4 ] @xmath363 has size @xmath353 and is metric since @xmath285 induces a metric on @xmath352 . if @xmath363 is supported by @xmath278 , then by lemma [ lem:4 ] @xmath363 also has size @xmath353 and is included in a branch @xmath303 of @xmath278 . since @xmath285 induces a metric on @xmath303",
    ", @xmath363 is metric .",
    "we consequently assume that @xmath363 intersects both @xmath352 and @xmath278 . according to lemma [ lem:5 ] ,",
    "@xmath363 is supported by a set @xmath362 whose form is covered by one of the cases 1 , 2 or 3 .",
    "so to prove the present lemma , it is enough to show every cycle obtained from a re - indexing of the cycles described in those cases is metric .",
    "case 1 : the required inequalities are obvious after having observed that @xmath381    case 2 : notice that @xmath382 .",
    "so the inequalities we need to prove are @xmath383    by symmetry , it suffices to verify that holds .",
    "observe that since @xmath384 , we must have @xmath385 .",
    "so :    @xmath386    case 3 : observe that @xmath387 , so the inequalities we need to prove are @xmath388 for : @xmath389 for : write @xmath390 , @xmath391 , @xmath392",
    ". then @xmath393 and @xmath394 .",
    "observe also that @xmath395 and that @xmath396 .",
    "so : @xmath397",
    "ideally , the title of this section would have been `` the urysohn sphere is oscillation stable '' and we would have ended this article with the proof of one of the different formulations of oscillation stability for @xmath31 presented in theorem [ thm : tfae s mos ] .",
    "unfortunately , so far , our numerous attempts to reach this goal did not succeed .",
    "this is why this part is entitled `` bounds '' .",
    "instead , what we will be presenting now will show how far we were able to push in the different directions suggested by theorem [ thm : tfae s mos ] .",
    "we start with a summary about the indivisibility properties of the spaces @xmath53 .      of course , when @xmath398 , the space @xmath53 is indivisible in virtue of the most elementary pigeonhole principle on @xmath169 .",
    "the first non - trivial case is consequently for @xmath399 .",
    "however , this case is also easy to solve after having noticed that @xmath400 is really the rado graph @xmath401 where the distance is @xmath32 between connected points and @xmath33 between non - connected distinct points .",
    "therefore , indivisibility for @xmath400 is equivalent to indivisibility of @xmath401 , a problem whose solution is well - known :    [ prop : r indivisible ]    the rado graph @xmath401 is indivisible .    the following case to consider is @xmath402 , which turns out to be another particular case thanks to an observation made in @xcite .",
    "indeed , @xmath402 can be encoded by the countable ultrahomogeneous edge - labelled graph with edges in @xmath403 and forbidding the complete triangle with labels @xmath404 .",
    "the distance between two points connected by an edge is the label of the edge while the distance between two points which are not connected is @xmath405 .",
    "this fact allows to show :    [ thm : u_3 indivisible ]    @xmath402 is indivisible .    indeed , the proof of this theorem can be deduced from the proof of the indivisibility of the @xmath406-free ultrahomogeneous graph by el - zahar and sauer in @xcite .",
    "we do not write more here but the interested reader is referred to @xcite , section on the indivisibility of urysohn spaces , for more details .",
    "the very first substantial case consequently shows up for @xmath407 .",
    "unfortunately , it appears to be so substantial that so far , we still do not know whether this space is indivisible or not . nevertheless , we are able to establish that if this space is not indivisible , then @xmath408 is quite exceptional , in a sense that we precise now .",
    "we already mentioned that @xcite contains an analysis of indivisibility in the realm of countable metric spaces .",
    "it turns out that this study also led its authors to examine the conditions under which a set of strictly positive reals can be interpreted as the distance set of a countable universal and ultrahomogeneous metric space :    [ defn:4values ]    let @xmath4090 , + \\infty[$ ] .",
    "@xmath410 satisfies the @xmath411-_values condition _ when for every @xmath412 , if there is @xmath413 such that : @xmath414 then there is @xmath415 such that : @xmath416    [ thm:4values ]    let @xmath4090 , + \\infty[$ ] .",
    "tfae :    1 .",
    "there is a countable ultrahomogeneous metric space @xmath417 with distances in @xmath410 into which every countable metric space with distances in @xmath410 embeds isometrically .",
    "2 .   @xmath410 satisfies the @xmath411-values condition .",
    "as detailed in @xcite , the @xmath411-values condition covers a wide variety of examples . for our purposes ,",
    "the @xmath411-values condition is relevant because it allows to establish a list of spaces such that any space @xmath417 with @xmath410 finite is in some sense isomorphic to some space in the list .",
    "in particular , it allows to set up a finite list of spaces exhausting all the spaces @xmath417 with @xmath418 .",
    "more precisely , for finite subsets @xmath419 , @xmath420 of @xmath4210 , + \\infty[$ ] , define @xmath422 when @xmath423 and : @xmath424 observe that when @xmath422 , @xmath410 satisfies the @xmath411-value condition iff @xmath278 does and in this case , @xmath410 and @xmath278 essentially provide the same metric spaces as it is possible to have @xmath417 and @xmath425 supported by @xmath169 with the metrics @xmath426 and @xmath427 being defined such that :    @xmath428 now , clearly , for a given cardinality @xmath203 there are only finitely many @xmath429-classes , so we can find a finite collection @xmath430 of finite subsets of @xmath4210 , \\infty[$ ] of size @xmath203 such that for every @xmath278 of size @xmath203 satisfying the @xmath411-value condition , there is @xmath431 such that @xmath432 . for @xmath433 , examples of such lists can be easily provided .",
    "for instance , one may take : @xmath434 notice that in those lists , the set @xmath54_m$ ] is represented by the set @xmath435 .",
    "for @xmath436 , a long and tedious checking procedure of the @xmath411-values condition allows to find @xmath430 but it then contains more than 20 elements so there is no point writing them all here .",
    "still , it turns out that in most of the cases , we are able to solve the indivisibility problem for the space @xmath417 .",
    "our result can be stated as follows :    [ thm : u_s indiv ]    let @xmath410 be finite subset of @xmath4210 , + \\infty [ $ ] of size @xmath437 and satisfying the @xmath411-values condition .",
    "assume that @xmath438 .",
    "then @xmath417 is indivisible .    due to the number of cases to consider",
    ", we do not prove this theorem here but simply mention that when the proofs are not elementary , three essential ingredients come into play .",
    "the first one is the usual infinite ramsey theorem , due to ramsey .",
    "the second one is due to el - zahar and sauer and was already mentioned when dealing with @xmath402 . as for the last one , it is due to milliken ( for more on this theorem and its applications , see @xcite ) .",
    "the case @xmath439 is consequently the only case with @xmath440 for which the indivisibility problem remains unsolved . in the present case ,",
    "it is a bit ironical as @xmath441 is precisely the distance set in which we were interested .",
    "so far , the reason for which @xmath408 stands apart is still unclear .",
    "however , it might be that it is actually the very first case were metricity comes into play .",
    "indeed , for all the other sets @xmath410 with @xmath437 , the space @xmath417 can be coded as an object where the metric aspect does not appear and this is what makes ramsey , milliken and el - zahar - sauer theorems helpful .",
    "our feeling is consequently that solving the indivisibility problem for @xmath408 requires a new approach .",
    "still , we have to admit that what we are hoping for is a positive answer and that theorem [ thm : u_s indiv ] is undoubtedly responsible for that .",
    "we now turn to @xmath55-indivisibility of the spaces @xmath53 . in theorem",
    "[ cor : if s_m indiv then s 1/2m - indiv ] , we showed how an exact indivisibility result transfers to an approximate one .",
    "it turns out that a slight modification of the proof allows to show :    [ thm : if s_m indiv , then s_3 m 1/3 m indiv ]    assume that for some strictly positive @xmath51 , @xmath53 is indivisible",
    ". then @xmath443 is @xmath444-indivisible .    to prove this theorem",
    ", it suffices to show that there is an isometric copy @xmath445 of @xmath53 inside @xmath443 such that for every @xmath446 isometric to @xmath53 , @xmath447 includes an isometric copy of @xmath443 .",
    "the proof is essentially the same as the proof of proposition [ cor : if s_m indiv then s 1/2m - indiv ] where @xmath448 is constructed except that instead of the metric space @xmath449 , one works with @xmath450 .",
    "the fact that the approximation can be made up to @xmath444 and not @xmath55 comes from the fact that for @xmath451_{3m}$ ] , @xmath452 whereas if @xmath451 \\cap { \\mathbb{q}}$ ] , one only has @xmath453 .",
    "thus :    [ thm : s_m , m<10 ]    for every @xmath454 , @xmath53 is @xmath455-indivisible .",
    "we now turn to the computation of values @xmath23 with respect to which @xmath31 is @xmath23-indivisible .",
    "@xmath31 is @xmath49-indivisible .",
    "note also that if at some point an approximate indivisibility result for @xmath53 showed up independently of an exact one , we would still be able to compute a bound for @xmath31 :    [ thm : if s _",
    "m 1/m - indiv , then s 3/2 m indiv ] suppose that for some strictly positive integer @xmath203 , @xmath53 is @xmath55-indivisible .",
    "then @xmath31 is @xmath23-indivisible for every @xmath456 .",
    "let @xmath457 .",
    "consider @xmath243 constructed in proposition [ cor : if s_m indiv then s 1/2m - indiv ] .",
    "now , let @xmath24 be strictly positive and @xmath245 .",
    "@xmath62 induces a coloring of @xmath243 and @xmath53 being @xmath55-indivisible , there are @xmath26 and @xmath244 isometric to @xmath53 such that @xmath458 . by construction , @xmath459 includes an isometric copy of @xmath31 .",
    "now ,    @xmath460 it follows that @xmath461 includes an isometric copy of @xmath31 .",
    "the equivalence provided by theorem [ thm : tfae s mos ] suggests several lines of future investigation .",
    "apparently , here is the first and most reasonable question to consider :    * question .",
    "* is @xmath408 indivisible ?",
    "more generally , is @xmath53 indivisible for every strictly positive integer @xmath203 ?",
    "we finish with two results which might be useful for that purpose .",
    "the first one makes a reference to the space @xmath36 :    [ thm : s_q for s_m ]    let @xmath51 be strictly positive .",
    "assume that for every strictly positive @xmath24 and @xmath171 , there is a copy @xmath66 of @xmath53 in @xmath36 on which @xmath62 is constant .",
    "then @xmath53 is indivisible .",
    "once again , we work with @xmath462 and the identity map @xmath463",
    ". think of @xmath188 as a subspace of @xmath53 .",
    "now , let @xmath24 be strictly positive and @xmath464",
    ". then @xmath62 induces a coloring of @xmath188 , and therefore a coloring @xmath465 of @xmath36 . by hypothesis",
    ", there is a copy @xmath66 of @xmath53 in @xmath36 on which @xmath465 is constant with value @xmath26 . then @xmath466 .",
    "the result follows since @xmath467 is isometric to @xmath53 .",
    "the second result provides a space whose indivisibility is equivalent to the indivisibility of @xmath53 .",
    "let @xmath468 denote the cantor space , that is the topological product space @xmath469 .",
    "let @xmath470 denote the set of all continuous maps from @xmath468 to @xmath471 equipped with the @xmath472 norm . since the work of banach and mazur , it is known that @xmath470 is a universal separable metric space",
    "actually , sierpinski s proof of that fact allows to show the following result . for @xmath51 strictly positive ,",
    "let @xmath473 denote the space of all continuous maps from @xmath468 to @xmath54_m$ ] equipped with the distance induced by @xmath474 .",
    "@xmath473 is a countable metric space and is universal for the class of all countable metric spaces with distances in @xmath54_m$ ] .",
    "it follows that @xmath53 is indivisible iff @xmath473 is .",
    "@xmath473 being a much more concrete object than @xmath53 , studying its indivisibility might be a alternative to solve the indivisibility problem for @xmath53 .",
    "unlike the rest of this paper , this section does not specifically deal with the oscillation stability for @xmath31 and is simply included here for the sake of completeness .",
    "our purpose is to prove theorem [ thm : countable dense ultrahomogeneous ] by constructing the required subspace of @xmath34 .",
    "let @xmath475 be countable and dense . then , assuming that @xmath476 countable has been constructed , get @xmath477 as follows : consider @xmath478 the set of all finite subspaces of @xmath479 . for @xmath480",
    ", consider the set @xmath481 of all kattov maps @xmath81 over @xmath82 with values in the set @xmath482 and such that @xmath483 embeds into @xmath34 . observe that @xmath479 being countable , so are @xmath484 and @xmath485 .",
    "then , for @xmath486 , fix @xmath487 realizing @xmath81 over @xmath82 .",
    "finally , let @xmath488 be the subspace of @xmath34 with underlying set @xmath489 .",
    "after @xmath169 steps , set @xmath490 .",
    "@xmath21 is clearly a countable dense subspace of @xmath34 , and it is ultrahomogeneous thanks to the equivalent formulation of ultrahomogeneity provided in lemma [ prop : extension ] .",
    "a second proof involves logical methods .",
    "fix a countable elementary submodel @xmath491 for some large enough @xmath492 and such that @xmath493 .",
    "let @xmath494 .",
    "we claim that @xmath21 has the required property .",
    "first , observe that @xmath21 is dense inside @xmath34 since by the elementarity of @xmath495 , there is a countable @xmath496 ( and therefore @xmath497 ) which is a dense subset of @xmath34 .",
    "for ultrahomogeneity , let @xmath80 be finite and let @xmath81 be a kattov map over @xmath82 such that @xmath483 embeds into @xmath21 .",
    "observe that @xmath498 .",
    "indeed , @xmath499 . on the other hand , let @xmath500 be isometric to @xmath483 via an isometry @xmath501 .",
    "then for every @xmath502 . but @xmath503 .",
    "thus , @xmath504 .",
    "it follows that @xmath81 is an element of @xmath495 .",
    "now , by ultrahomogeneity of @xmath34 , there is @xmath320 in @xmath34 realizing @xmath81 over @xmath82 .",
    "so by elementarity , there is @xmath43 in @xmath21 realizing @xmath81 over @xmath82 ."
  ],
  "abstract_text": [
    "<S> we study the oscillation stability problem for the urysohn sphere , an analog of the distortion problem for @xmath0 in the context of the urysohn space @xmath1 . in particular , we show that this problem reduces to a purely combinatorial problem involving a family of countable ultrahomogeneous metric spaces with finitely many distances . </S>"
  ]
}