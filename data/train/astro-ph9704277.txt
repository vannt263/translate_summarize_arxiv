{
  "article_text": [
    "computational physics has emerged as a third branch of physics , grafted onto the traditional pair of theoretical and experimental physics . at first , computer use seemed to be a straightforward off - shoot of theoretical physics , providing solutions to sets of differential equations too complicated to solve by hand .",
    "but soon the enormous quantitative improvement in speed yielded a qualitative shift in the nature of these computations .",
    "rather than asking particular detailed questions about a model system , we now use computers more often to model the whole system directly . answers to relevant questions are then extracted only after a full simulation has been completed .",
    "the data analysis following such a virtual lab experiment is carried out by the computational physicist in much the same way as it would be done by an experimenter of observer analyzing data from a real experiment or observation .    with this shift from theory to experimentation",
    ", computers have become important laboratory tools in all branches of science .",
    "there is one striking difference , though , between the use of a computer and that of other types of lab equipment . whereas laboratory tools are typically designed for a particular purpose , computers are usually bought off the shelf , and used as is , without any attempt to customize them to the particular usage at hand . in contrast , it would be unthinkable for a astronomy consortium to build a new observatory around a huge pair of binoculars , as a simple scaled - up version of commercial bird - watching equipment",
    ".    the reason for this difference in buying pattern has nothing to do with an inherent difference between the activities of computing , experimenting , or observing . building a special - purpose computer is not more difficult than building a telescope , or any other major type of customized laboratory equipment .",
    "rather , the difference in attitude has everything to do with the fact that our computational ability has gone through an extraordinary period of sustained rapid exponential growth in speed .",
    "imagine that binoculars would grow twice as powerful every one or two years .",
    "if that were the case , astronomers might as well simply buy the latest model binoculars , and use those for their observations .",
    "planning to build a big telescope would be self - defeating : in the ten or so years it would take to design and build the thing , technology would have progressed so much that commercial binoculars would out - perform the special - purpose telescope .    over the last forty years , computer speed has exponentially increased . as a result",
    ", there has never been a particularly great need for physicists to design and build their own computer . as with all cases of exponential growth ,",
    "this tendency will necessarily flatten off .",
    "how and when this flattening will occur is difficult to predict .",
    "this will depend on technological and economic factors that are as yet uncertain .",
    "but it is already the case that increase in computer speed is significantly more modest than what could be expected purely from the ongoing miniaturization of computer chips .",
    "this trend , in the case of general purpose computers , will be discussed briefly in   [ gpc ]  various alternatives , in the form of special - purpose computing equipment , are mentioned in   [ spc ]  one such alternative , the grape family of special - purpose computer hardware , is reviewed in   [ gr ]  some astrophysical applications of these grape machines are discussed in   [ aa ]  a preview of coming grape attractions is presented in   [ fut ]",
    "after mainframes and minicomputers turned out to be no longer cost - effective , some time around the early - to - mid eighties , the only general - purpose computers used in physics were workstations and supercomputers .",
    "at first , there was an enormous gap in performance between the two types of machines , but over the last fifteen years this gap has narrowed steadily .",
    "for example , during the eighties , supercomputers increased in speed by about a factor of @xmath0 , while microprocessors saw an increase of a factor of @xmath1 .",
    "the main reason was that workstations at first were rather inefficient , requiring many machine cycles for a single floating point operation . with increased chip size",
    ", this situation improved rapidly .",
    "in contrast , the first supercomputers , built in the mid seventies , were designed specifically to deliver at least one new floating point result for each clock cycle , through the use of pipelines .",
    "although the speed of the floating point components for supercomputers has continued to increase over the years , most of the increase in their peak speed has been realized through increasing the number of processing units .",
    "this increase in parallelism has made the sharing of memory by different processors increasingly cumbersome , involving significant hardware overhead : a full interconnect between @xmath2 processors and a central memory bank requires an amount of additional hardware that scales as @xmath3 .",
    "in contrast , the much faster speed - up of microprocessor - based workstations has been possible exactly because there was ( as yet ) no need for parallelism . throughout the eighties",
    ", chips did not contain enough transistors to allow floating point operations to be performed on a single chip in one cycle .",
    "therefore , personal computers used to have a special floating point accelerator chip , in addition to the central processor chip , and even this accelerator typically needed several cycles even for the simplest operations of addition and multiplication . as a result ,",
    "increase in the number of transistors per chip translated linearly into an increase in speed .",
    "however , this situation changed as soon as it became possible to put a complete computer on a single chip , including a floating point unit with the capability of producing a new output every cycle . while in itself a great achievement",
    ", this capability also creates new trouble . from this point on",
    ", the scaling of general - purpose computers , based on microprocessors , will become less favorable , for the following reasons .    with further miniaturization",
    ", a single chip will soon contain several floating point units , with an extremely fast on - chip interconnect .",
    "these interconnections , however , require a significant ` real estate ' overhead on the chip : many extra components have to be added to the chip in order to implement the administrative side of this fast communication efficiently .",
    "in addition , the off - chip communication with the main memory is far slower , and tends to form a bottleneck .    as a result of both factors ,",
    "a shrinking in feature size by a factor two no longer guarantees a speed - up of a factor @xmath4 , but rather @xmath5 . in the eighties , when the feature width would become a factor two smaller , four times as many transistors would fit on one chip , and in addition the shrinking of the size of the transistors by a factor two would allow a clock speed nearly twice as high as before .",
    "however , this gain of a factor of eight from now on will be offset by a communication penalty of a factor @xmath5 .",
    "the conclusion is that microprocessors are now facing the same problem of increasing ` internal administrative bureaucracy ' that supercomputer processors have had to deal with for the last twenty years .",
    "until the late seventies , almost all scientific calculations were carried out on general - purpose computers . around that time , microprocessors began to offer a better price - performance ratio than supercomputers . by itself , this was not very helpful to a physicist , given the fact that a single microprocessor could only offer a speed of 10 kflops or so , peanuts compared to the supercomputers of those days , with peak speeds above 100 mflops .",
    "the key to success was to find a way to combine the speed of a large number of those cheap microprocessors .",
    "this was exactly what several groups of physicists did , in the eighties .",
    "they took large numbers of off - the - shelf microprocessors , and hooked them up together . building these machines was not too hard , and indeed raw speeds at low prices were reached relatively easily .",
    "the main problem was that of software development . to get a special - purpose machine to do a relevant physics calculation , and to report the results in understandable form , provided formidable challenges .",
    "for example , writing a reasonably efficient compiler for such a machine was a tedious and error - prone job .",
    "in addition , developing application programs was no simple task either .",
    "an interesting and somewhat unexpected development has been the commercialization of these machines , originally built by and for physicists .",
    "the design of most of the current highly - parallel general - purpose computers has been directly or indirectly influenced by the early special - purpose computers .",
    "this blurring of the distinction between special - purpose and general - purpose computers may continue in the future , when demand for higher peak speeds will force increasing parallelization to occur .",
    "this development reflects the fact that the so - called special - purpose machines in physics actually attacked a general type of problem : how to let many individual processors cooperate on a single computational task .",
    "the fact that the applications have been rather specialized in many cases ( to particle physics , astrophysics , or hydrodynamics ) is less important than the fact that each application required a carefully balanced strategy at dynamic inter - processor communication . as a result ,",
    "the experience gained from the development of both hardware and software for special - purpose computers has turned out to be very helpful for the development of their general - purpose counterparts as well .      in the late eighties ,",
    "an alternative model was developed .",
    "following the example of some special - purpose components designed as back - end processors in radio telescopes , the idea was advanced to design special hardware components to speed up critical stages within large - scale simulations , most of which would still be delegated to general - purpose workstations .",
    "a similar idea had already been employed for general - purpose computers as well . in the early eighties",
    ", personal computers would come with a central processor that could handle floating - point calculations only in software , at rather low efficiency .",
    "significant speed - up , of an order of magnitude , could be obtained by including a so - called floating - point accelerator , at only a fraction of the cost of the original computer .",
    "another example is the use of graphics accelerators in most modern personal computers .",
    "building a special hardware accelerator for a critical segment of a physics simulation is another example of this general approach . in this way",
    ", the good cost - performance ratio of special - purpose hardware can be combined with the flexibility of existing workstations , without much of a need for special software development .",
    "this approach can be compared to using hand - coded assembly - language or machine - code for an inner loop in an algorithm that otherwise is programmed in a higher - level language  the difference being that this inner loop is now realized directly in silicon .",
    "in 1984 a group of astrophysicists and computer scientists built the digital orrery , a 10 mflops special - purpose computer designed to follow the long - term evolution of the orbits of the planets ( applegate 1985 ) .",
    "for that purpose , ten processors were connected in a ring , one for each planet ( or test particle ) .",
    "the processors were designed around an experimental 64-bit floating - point chip set developed by hp .",
    "each chip could perform one floating point operation in 1.25 @xmath6s .",
    "a central controller send instructions to all processors at each machine cycle .",
    "a few years later , results from the orrery lead to the important discovery of the existence of a positive lyapunov coefficient for the evolution of the orbit of pluto , which was interpreted as a sign of chaos ( sussman & wisdom 1988 ) .",
    "besides the question of the long - term evolution of planetary orbits , there were many other problems in gravitational dynamics that required far more than the typical speed available to astrophysicists in the mid - eighties .",
    "while significant speed - up was obtained with the introduction of more efficient algorithms (  barnes & hut 1986 , 1989 ) , many problems in stellar dynamics could not be effectively tackled with the hardware available at that time .    among those problems ,",
    "the most compute - intensive was the long - term simulation of star clusters past core collapse .",
    "the record in that area in the late eighties was held by makino & sugimoto ( 1987 ) and makino ( 1989 ) , for @xmath2-body calculations with @xmath7 and @xmath8 , respectively .",
    "unfortunately , the computational costs for these types of calculations scales roughly with @xmath9 , which meant that realistic simulations of globular clusters , with @xmath2 in the range @xmath10 , were still a long way off .",
    "the only hope to make significant progress in this area was to make use of the fastest supercomputers available , in the most efficient way possible .",
    "therefore , the next step we took was a detailed analysis of the algorithms available for the study of dense stellar systems ( makino & hut 1988 , 1990 ) , following the earlier analysis given by makino ( 1986 ) .",
    "our analysis showed that the best integration schemes available , in the form of aarseth s individual - timestep predictor - corrector codes ( aarseth 1985 ) , were close to the theoretical performance limit .",
    "based on these results , we predicted that a speed of order 1 teraflops would be required to model globular star clusters , and to verify the occurrence of gravothermal oscillations in such models ( hut 1988 ) .",
    "unfortunately , such speeds were not commercially available in those days , and it was clear that they would not be available for another ten years or so .",
    "the fastest machine that we could lay our hands on was the connection machine cm-2 , which was first being shipped by thinking machines in 1987 . in the fall of that year ,",
    "jun makino and i spent a few months at thinking machines , to perform an in - depth analysis of the efficiency of various algorithms for stellar dynamics simulations on the cm-2 .",
    "the results were somewhat disappointing ( makino and hut 1989 ) , in that most large - scale simulations could utilize only @xmath11% of the peak - speed of the cm-2 .",
    "as a result , even with a formidable peak speed of tens of gigaflops , most of our simulations only obtained a speed of a few hundred megaflops , when scaled up to a full cm-2 configuration .",
    "the main reason for its poor performance was the slowness of the communication speed compared to the speed of the floating point calculations .",
    "since we needed a teraflops in order to study gravothermal oscillations and other phenomena in dense stellar systems , it was rather disheartening that we could not even reach an effective gigaflops . and given the typical increase in speed of supercomputers , by a factor of @xmath12 every five years , it seemed clear that we would have to wait till well after the year 2000 , before being able to compute at an effective teraflops speed .    in reaction to our experiences ,",
    "sugimoto took up the challenge and formed a small team at tokyo university to explore the feasibility of building special - purpose hardware for stellar dynamics simulations .",
    "this group started their project in the spring of 1989 , resulting in the completion of their first machine in the fall of that same year ( ito 1990 ) .",
    "the name grape stands for gravity pipe , and indicates a family of pipeline processors that contain chips specially designed to calculate the newtonian gravitational force between particles .",
    "a grape processor operates in cooperation with a general - purpose host computer , typically a normal workstation . the force integration and particle pushing",
    "are all done on the host computer , and only the inter - particle force calculations are done on the grape . since the latter require a computer processing power that scales with @xmath3 , while the former only require @xmath13 computer power , load balance can always be achieved by choosing @xmath2 values large enough .",
    "the development history of the grape series of special - purpose architectures shows a record of rapid performance improvements ( see table 1 ) .",
    "the limited - precision grape-1 achieved 240 mflops in 1989 ; its successor , the grape-3 , reached 15 gflops in 1991 .",
    "over 30 grape-3 systems are currently in use worldwide in applications ( such as tree codes and sph applications ) where high numerical precision is not a critical factor .",
    "a prototype board of the full - precision grape-2 achieved 40 mflops in 1990 .",
    "the full grape-4 system reached 1.1 teraflops ( peak ) in 1995 .",
    "individual grape-4 boards , delivering from 3 to 30 gflops depending on configuration , are currently in use at 5 institutions around the world .",
    "a third development track is represented by the grape-2a and md - grape machines , which include a user - loadable force look - up table that can be used for arbitrary central force laws ( targeted at molecular dynamics applications ) .",
    "overall , the pace of development has been impressive : 10 special - purpose machines with a broadening range of applications and a factor of 4000 speed increase in just over 6 years .",
    "the grape-4 developers have won the gordon bell prize for high - performance computing in each of the past two years . in 1995 ,",
    "the prize was awarded to junichiro makino and makoto taiji for a sustained speed of 112 gflops , achieved using one - sixth of the full machine on a 128k particle simulation of the evolution of a double black - hole system in the core of a galaxy .",
    "the 1996 prize was awarded to toshiyuki fukushige and junichiro makino for a 332 gflops simulation of the formation of a cold dark matter halo around a galaxy , modeled using 768k particles on three - quarters of the full machine .",
    "modifying an existing program to use the grape hardware is straightforward , and entails minimal changes .",
    "subroutine and function calls ( written in c or fortran ) to the grape hardware replace the force - evaluation functions already found in existing @xmath2-body codes .",
    "communication between host and grape is accomplished through a collection of about a dozen interface routines .",
    "the force evaluation code which is replaced typically consists of only a few dozen lines at the lowest level of an algorithm .",
    "thus , using the grape calls only for small , localized changes which in no way inhibit future large - scale algorithm development .",
    "the grape interface has been successfully incorporated into the barnes - hut tree algorithm ( barnes & hut 1986 ; makino 1991 ) and the p@xmath14 m scheme ( hockney & eastwood 1988 ; brieu , summers , & ostriker 1995 ) .    here is a typical code fragment for the newtonian force calculation on a workstation :     subroutine  accel_workstation  do  10  k  = 1,ndim  do  20  i=1,nbody  accnew(i , k)=0.0  20  continue  10  continue  do  30  i=1,nbody-1  do  40  j = i+1,nbody  do  50  k  =  1,3  dx(k)=pos(k , j)-pos(k , i )  50  continue  r2inv=1.0/(dx(1)**2+dx(2)**2+dx(3)**2+eps2 )  r3inv = r2inv*sqrt(r2inv )  do  60  k=1,3  accnew(k , i)=accnew(k , i)+r3inv*mass(j)*dx(k )  accnew(k , j)=accnew(k , j)-r3inv*mass(i)*dx(k )  60  continue  40  continue  30  continue  end    to use the grape , all that has to be done is to replace the inner loop of the force calculations by a few special function calls in order to offload the bulk of the computation onto the grape hardware :     subroutine  accel_grape  call  g3init ( )  xscale  =  1.0d0/1024  call  g3setscales(xscale ,  mass(1 ) )  call  g3seteps2(eps2 )  call  g3setn(nbody )  do  20  i=1,nbody  call  g3setxj(i-1,pos(1,i ) )  call  g3setmj(i-1,mass(i ) )  20  continue  nchips = g3nchips ( )  do  30  i=1,nbody , nchips  ii  =  min(nchips ,",
    "nbody  -  i  +  1 )  call  g3frc(pos(1,i),accnew(1,i),pot(i),ii )  30  continue  call  g3free  end",
    "in this brief review , there is no room for an exhaustive review of the scientific results that have been obtained with the few dozen grape machines that have been installed in a number of different research institutes around the world .",
    "in addition to the four fields listed below , the grapes have been used in a variety of other areas , for example to study the role of exponential divergence of neighboring light trajectories on gravitational lensing , the formation of large - scale structure in the universe , the role of violent relaxation in galaxy formation , and the effectiveness of hierarchical merging in galaxy clusters .",
    "ida & makino ( 1992a , b ) used the grape-2 to investigate the evolution of the velocity distribution of a swarm of planetesimals , with an embedded protoplanet .",
    "they confirmed that equipartition is achieved and that therefore runaway growth should take place , along the lines suggested by stewart & wetherill ( 1988 ) .",
    "kokubo & ida ( 1995 ) used the harp-2 ( a smaller prototype of the grape-4 ) to simulate a system of two protoplanets and many planetesimals .",
    "they found that the separation between two planets tends to grow to roughly 5 @xmath15 ( the hill radius ) .",
    "they coined the term ` orbital repulsion ' for this phenomenon , and provided a qualitative explanation for its occurrence .",
    "kokubo & ida ( 1996a ) used the grape-4 to simulate planetary growth assuming perfect accretion , where any physical collision leads to coalescence .",
    "they started with 3000 equal - mass planetesimals .",
    "after 20,000 orbits , they found that the most massive particle had become 300 times heavier , while the average mass of the particles increased by only a factor of two .",
    "kokubo & ida ( 1996b ) extended these calculations .",
    "they showed that several protoplanets are formed and grow while keeping their mutual separations within the range 5 - 10 @xmath15 .",
    "their results strongly suggests that orbital repulsion has determined the present separation between the outer planets .      the first scientific result obtained with the grape-4 was the demonstration of the existence of gravothermal oscillations in @xmath2-body simulations . predicted more than ten years earlier by sugimoto & bettwieser ( 1983 ) , they were found by makino ( 1996a ) , and presented by him at the i.a.u .",
    "symposium 174 in tokyo , in august 1995 ( makino 1996b ) . using more than 32,000 particles",
    ", he was also able to confirm the semi - analytical predictions made by goodman ( 1987 ) .",
    "the calculation took about two months , using only one quarter of a full grape-4 , running at a speed of 50 gflops .",
    "we are currently exploring ways to couple stellar dynamics and stellar evolution in one code , in order to perform more realistic simulations of star cluster evolution .",
    "based on steller evolution recipes implemented by portegies zwart & verbunt ( 1996 ) , we have carried out a series of increasingly realistic approximations ( portegies zwart 1997a , b , c ) ; see our web site with a movie that shows a star cluster , as an evolving @xmath2-body system side - to - side with its correspondingly evolving h - r diagram , at http://casc.physics.drexel.edu      ebisuzaki ( 1991 ) used the grape-2 to simulate the merging of two galaxies , each with a central black hole , using up to @xmath16 particles .",
    "they found an increase in core radius , as a result of the heating of the central regions caused by the spiral - in of the two black holes .",
    "makino and ebisuzaki ( 1996 ) used the grape-4 to study hierarchical merging , in which the merger product of one pair of galaxies was used as a template for constructing progenitors for the next simulation of merging galaxies .",
    "they used more than 32,000 particles .",
    "they found the ratio between the core radius and the effective radius to converge to a value depending on the mass of the black holes .",
    "however , it turned out that 32k particles were not enough .",
    "makino ( 1997 ) performed a similar type of calculation with 256k particles , and found a core structure which was rather different from that obtained in the previous 32k runs .",
    "in particular , he found the volume density of stars to decrease in the vicinity of the black hole binary in the 256k runs , and ascribed this to the ` loss cone ' effect predicted by begelman ( 1980 ) .",
    "fukushige & makino ( 1997 ) used the grape-4 to simulate hierarchical clustering , using an order of magnitude more particles than in previous studies .",
    "they found that the central density profiles are always steeper than @xmath17 .",
    "they interpreted the observed shallower cusps as the result of the spiral - in of the central black holes from the progenitor galaxies , involved in the merging process .",
    "okumura ( 1991 ) used the grape-1 to investigate the structure of merger remnants formed from encounters between two plummer models on parabolic orbits , using 16,000 particles .",
    "they determined the non - dimensional rotation velocity @xmath18 , where @xmath19 denotes the maximum rotation velocity and @xmath20 is the velocity dispersion at the center .",
    "they found typical values of @xmath21 for merging at large initial periastron separations .",
    "their result is in good agreement with the observation of large ellipticals , which show a rather sharp cutoff in the distribution of @xmath18 around 0.6 .",
    "makino & hut ( 1997 ) used the grape-3a to simulate more than 500 galaxy encounters , in order to determine their merger rate as a function of incoming velocity , for a variety of galaxy models .",
    "they characterized the overall merger rate in a galaxy cluster by a single number , derived from their cross sections by an integration over encounter velocities in the limit of a constant density in velocity space .",
    "in addition , they provided detailed information concerning the reduction of the overall encounter rate through tidal effects from the cluster potential as well as from neighboring galaxies .",
    "in the grape-4 , once all pipelines are filled , each chip produces one new inter - particle interaction ( corresponding to @xmath22 floating - point operations ) every three clock cycles . for a clock speed of 30 mhz ,",
    "a peak chip speed of @xmath23 gflops is achieved .",
    "the grape-4 chips represent 1992 technology ( 1 @xmath6 m fabrication line width ) .",
    "even if no changes were made in the basic design , advances in fabrication technology would permit more transistors per chip and increased clock speed , enabling a 50100 mhz , 1030 gflops chip with 1996 ( 0.35 @xmath6 m line width ) technology , and a 100200 mhz , 50200 gflops chip with 1998 ( 0.25 @xmath6 m ) technology . based on these projected performance improvements , a total of @xmath24 grape-6 chips of 100 gflops each could be combined to achieve petaflops speeds by the year 2000 , for a total budget of 10 million dollars .",
    "we have recently completed an initial ` point design study ' of the feasibility of constructing such a system ( mcmillan 1996 ) .",
    "this study was funded by the nsf , in conjunction with nasa and darpa , as part of a program aimed at paving the way towards petaflops computing .",
    "while planning to build a hardwired petaflops - class computational engine , we are also investigating complementary avenues , based on the use of reconfigurable logic , in the form of field - programmable gate array ( fpga ) chips .",
    "the merging of custom lsi and reconfigurable logic will result in a unique capability in performance and generality , combining the extremely high throughput of special - purpose devices with the flexibility of reconfigurable systems .",
    "in many applications , gravity requires less than 99% of the computing power .",
    "although the remainder of the cpu time is typically dominated by just one secondary bottleneck , its nature varies greatly from problem to problem .",
    "it is not cost - effective to attempt to design custom chips for each new problem that arises . in these circumstances ,",
    "a fpga - based system can restore the balance , and guarantee scalability from the teraflops to the petaflops domain , while still retaining significant flexibility .",
    "astrophysical applications could include , for example , various forms of smooth particle hydrodynamics ( sph ) , for applications ranging from colliding stars to the formation of large - scale structure in the universe",
    ".    an additional benefit of the construction of petaflops - class machines will be the availability of individual chips at reasonable prices , once the main machine has been designed and constructed .",
    "a typical grape-6 chip will run at @xmath25 gflops . a single board with 10 or more chips will already deliver a speed of 1 teraflops or more , for a total price that is likely to lie in the range of 10,000  20,000 dollars . hooking such a board up to a workstation will instantly change it into a top - of - the - line supercomputer ."
  ],
  "abstract_text": [
    "<S> recently , special - purpose computers have surpassed general - purpose computers in the speed with which large - scale stellar dynamics simulations can be performed . speeds up to a teraflops are now available , for simulations in a variety of fields , such as planetary formation , star cluster dynamics , galactic nuclei , galaxy interactions , galaxy formation , large scale structure , and gravitational lensing . </S>",
    "<S> future speed increases for special - purpose computers will be even more dramatic : a petaflops version , tentatively named the grape-6 , could be built within a few years , whereas general - purpose computers are expected to reach this speed somewhere in the 2010 - 2015 time frame . </S>",
    "<S> boards with a handful of chips from such a machine could be made available to individual astronomers . </S>",
    "<S> such a board , attached to a fast workstation , will then deliver teraflops speeds on a desktop , around the year 2000 .    </S>",
    "<S> # 1*[#1  piet ] * </S>"
  ]
}